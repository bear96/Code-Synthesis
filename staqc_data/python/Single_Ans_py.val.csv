,Unnamed: 0,NL,Code
34256,82174,Using tuples as dict keys and updating value,"from collections import Counter

nodes_g = Counter()

with open(""test.txt"") as fp3:
    for line in fp3:
        x, node1, node2, sec, y = line.split("";"")
        # Missing keys default to 0.
        nodes_g[node1, node2] += int(sec)

print(nodes_g)
"
29528,628,Computing number of new IDs seen each day in Pandas,"df = pd.DataFrame([(1, ""A""), (1, ""B""), 
                   (1, ""C""), (1, ""C""), 
                   (2, ""A""), (2, ""B""), 
                   (2, ""D""), (2, ""A""), 
                   (2, ""E""), (3, ""B""), 
                   (3, ""D""), (3, ""F"")], 
                  columns=[""day"", ""userid""]) 

(df
  .sort_values('day')
  .groupby('userid')
  .first()
  .rename(columns={""day"": ""first_seen""})
  .groupby('first_seen').size()
)
"
17654,10807,How to build a barchart showing dependencies between two variables,"from matplotlib import pyplot as plt
import pandas as pd
import seaborn as sb

ic

    icecream_demand temp
0   16  9.84
1   40  9.02
2   32  9.02
3   13  9.84
4   1   9.84

ic.dtypes  #to show that this can work with categorical data

icecream_demand     object
temp               float64
dtype: object

sb.stripplot(x=""temp"", y=""icecream_demand"", data=ic);
"
11240,77034,Python Neural Networking: Connecting Nodes together,"# 
#                               Preparations 
# 

nodes=[] 
NUMNODES=3

# 
#                                   Node Class
# 

class Node(object): 

    def __init__(self,name=None): 
        self.name=name 
        self.activation_threshold=0.0
        self.net_input=0.0
        self.outgoing_connections=[] 
        self.incoming_connections=[] 
        self.connections=[] 
        self.activation=None

    def addconnection(self,sender,weight=0.0): 
        #just add the connection
        self.connections.append(Connection(self,sender,weight)) 

    def update_input(self): 
        self.net_input=0.0
        for conn in self.connections: 
            self.net_input += conn.weight * conn.sender.activation 
        print 'Updated Input is', self.net_input 

    def update_activation(self): 
        self.activation = self.net_input - 0.5
        print 'Updated Activation is', self.activation 

# 
#                                   Connection Class
# 

class Connection(object): 
    def __init__(self, sender, reciever, weight=1.0): 
        self.weight=weight 
        self.sender=sender 
        self.reciever=reciever 
        sender.outgoing_connections.append(self) 
        reciever.incoming_connections.append(self) 
# 
#                                 Other Programs 
# 


def set_activations(act_vector): 
    """"""Activation vector must be same length as nodes list""""""
    for i in xrange(len(act_vector)): 
        nodes[i].activation = act_vector[i] 


for i in xrange(NUMNODES): 
    nodes.append(Node()) 

#do the connections here
from random import random
for i in xrange(NUMNODES):#go thru all the nodes calling them i 
    for j in xrange(NUMNODES):#go thru all the nodes calling them j 
        if i!=j:#as long as i and j are not the same 
            nodes[i].addconnection(nodes[j],random())#connects the nodes together 

for i in xrange(10): 
    for thing in nodes: 
        thing.update_activation() 
        thing.update_input()


...
Updated Activation is -0.5
Updated Input is -0.452698580538
Updated Activation is -0.5
Updated Input is -0.336733968936
Updated Activation is -0.5
Updated Input is -0.204908511332
Updated Activation is -0.952698580538
Updated Input is -0.862570590181
Updated Activation is -0.836733968936
Updated Input is -0.563513500607
Updated Activation is -0.704908511332
Updated Input is -0.288883507365
Updated Activation is -1.36257059018
...
"
8596,4651,editing dhcp.conf with python script,"infile = '/etc/dhcp/dhcpd.conf'
str = raw_input('Enter hostname to search: ');
def search_host( str, infile):
    start = False
    with open(infile, 'r') as f:
        for line in f:
            if re.search(str, line):
                start = True
            if start:
                print line
                if re.search('}', line):
                    break
search_host(str, infile);
"
39455,39716,Dynamic File Path in Django and South,"class Model(models.Model):
  def save(self, *args, **kwargs):
    instance = super(Model, self).save(*args, **kwargs)
    # your logic here to change the file location
    return instance
"
25052,56125,Trying to create grouped variable in python,"import pandas as pd

ages = pd.DataFrame([81, 42, 18, 55, 23, 35], columns=['age'])

bins = [18, 30, 40, 50, 60, 70, 120]
labels = ['18-29', '30-39', '40-49', '50-59', '60-69', '70+']
ages['agerange'] = pd.cut(ages.age, bins, labels = labels,include_lowest = True)

print(ages)

   age agerange
0   81      70+
1   42    40-49
2   18    18-29
3   55    50-59
4   23    18-29
5   35    30-39
"
723,8656,Writing to CSV with Python adds blank lines,"import csv
with open('test.csv', 'w', newline='') as fp:
    a = csv.writer(fp, delimiter=',')
    data = [['Me', 'You'],
            ['293', '219'],
            ['54', '13']]
    a.writerows(data)
"
2800,68147,How to subtract two images using python opencv2 to get the foreground object,"image1 = imread(""/path/to/image1"")
image2 = imread(""/path/to/image2"")
image3 = image1 - image2
"
1631,52454,Python solution to allow photo uploading via email to my Django website,"import mailbox
import sys
import email
import os
import errno
import mimetypes


mdir = mailbox.Maildir(sys.argv [1], email.message_from_file)


for mdir_msg in mdir:
    counter = 1
    msg = email.message_from_string(str(mdir_msg))
    for part in msg.walk():
        # multipart/* are just containers
        if part.get_content_maintype() == 'multipart':
            continue
        # Applications should really sanitize the given filename so that an
        # email message can't be used to overwrite important files
        filename = part.get_filename()
        if not filename:
            ext = mimetypes.guess_extension(part.get_content_type())
            if not ext:
                # Use a generic bag-of-bits extension
                ext = '.bin'
            filename = 'part-%03d%s' % (counter, ext)
        counter += 1
        fp = open(os.path.join('kupa', filename), 'wb')
        fp.write(part.get_payload(decode=True))
        fp.close()
        #photomodel imported from yourapp.models
        photo = PhotoModel()
        photo.name = os.path.join('kupa', filename)
        photo.email = ....
        photo.save()
"
33942,12188,"Get month by week, day and year","import datetime as DT

def getmonth(day, week, year):
    for month in range(1, 13):
        try:
            date = DT.datetime(year, month, day)
        except ValueError:
            continue
        iso_year, iso_weeknum, iso_weekday = date.isocalendar()
        if iso_weeknum == week:
            return date.month

print(getmonth(28, 52, 2014))
# 12

print(getmonth(13, 42, 2014))
# 10

print(getmonth(6, 2, 2015))
# 1
"
22756,9329,Boxplot dictionaries instead of lists?,"import matplotlib.pyplot as plt
import numpy as np


s = [{1: 1000000, 2: 1000000, 3: 1000000, 4: 1000000, 5:1000000},
     {1: 1000000, 0: 1000000, 8: 1000000, 3: 1000000, 7:1000000}]

def boxplot(data, x=0):

    sorted_data = np.array(data.items())
    sorted_data = np.sort(sorted_data, 0)
    values = sorted_data[:,0]
    freqs = sorted_data[:,1]
    freqs = np.cumsum(freqs)
    freqs = freqs*1./np.max(freqs)

    #get 25%, 50%, 75% percentiles
    idx = np.searchsorted(freqs, [0.25, 0.5, 0.75])
    p25, p50, p75 = values[idx]
    vmin, vmax = values.min(), values.max()

    ax = plt.gca()
    l,r = -0.2+x, 0.2+x
    #plot boxes
    plt.plot([l,r], [p50, p50], 'k')
    plt.plot([l, r, r, l, l], [p25, p25, p75, p75, p25], 'k')
    plt.plot([x,x], [p75, vmax], 'k')
    plt.plot([x,x], [p25, vmin], 'k')

for i in range(len(s)):
    boxplot(s[i],i)
plt.xlim(-0.5,1.5)
plt.show()
"
38240,78782,How to inflate a partial zlib file,"#!/usr/bin/python
import sys
import zlib
f = open(sys.argv[1], ""rb"")
g = open(sys.argv[2], ""wb"")
z = zlib.decompressobj()
while True:
    buf = z.unconsumed_tail
    if buf == """":
        buf = f.read(8192)
        if buf == """":
            break
    got = z.decompress(buf)
    if got == """":
        break
    g.write(got)
"
28327,64377,Running Python via Microsoft.Scripting & IronPython,"ScriptEngine engine = Python.CreateEngine();
ScriptSource script = engine.CreateScriptSourceFromFile(""testScript.py"");
ScriptScope scope = engine.CreateScope();

engine.SetSearchPaths(new string[] { ""C:\\Program Files (x86)\\IronPython 2.7.1\\Lib"" });
script.Execute(scope);
"
35907,16520,Python add numbers in a list,"In [6]: my_items = [('apple', 7, 'population'), ('apple', 9, 'population'), ('apple', 3, 'disease'), ('orange', 6, 'population')]

In [7]: import collections

In [8]: my_counter = collections.defaultdict(int)

In [9]: for i in my_items:
    # at this point, i is a tuple, let's unpack it
    (fruit, n, category) = i
    # use the tuple (fruit, category) as a key.
    # note that this has to be a tuple, and not a list
    my_counter[(fruit, category)] += n
   ...:

In [10]: my_counter
Out[10]: defaultdict(<class 'int'>, {('orange', 'population'): 6, ('apple', 'population'): 16, ('apple', 'disease'): 3})
"
39674,34570,publish a message every 10 seconds mqtt,"import mosquitto
import time # import time module
mqttc=mosquitto.Mosquitto(""ioana"")
mqttc.connect(""127.0.0.1"",8000,60,True)
mqttc.subscribe(""test/"", 2)
while mqttc.loop() == 0:
    mqttc.publish(""test"",""Hello"")
    time.sleep(10)# sleep for 10 seconds before next call
"
19278,54419,Setting timezone in Tornado,"var userDate = new Date();
var tzOffset = userDate.getTimezoneOffset();
// Now set the cookie
"
13297,39896,Scrapy csv output is on a single line per item,"# -*- coding: utf-8 -*-
from __future__ import unicode_literals
import scrapy
from justeat.items import DmozItem

class DmozSpider(scrapy.Spider):
    name = ""dmoz""
    allowed_domains = [""just-eat.co.uk""]
    start_urls = [""http://www.just-eat.co.uk/belfast-takeaway"", ]

    def parse(self, response):
        for sel in response.xpath('//*[@id=""searchResults""]'):
            names = sel.xpath('//*[@itemprop=""name""]/text()').extract()
            names = [name.strip() for name in names]
            addresses = sel.xpath('//*[@class=""address""]/text()').extract()
            addresses = [address.strip() for address in addresses]
            result = zip(names, addresses)
            for name, address in result:
                item = DmozItem()
                item['name'] = name
                item['address'] = address
                yield item
"
35572,74358,How to use a signup form outside of the /accounts/ url pattern with Django-AllAuth?,"{% load account %}

<h1>Login / Logout</h1>

{% if user.is_authenticated %}
    <p>Loged in with e-mail: {{ request.user.email }}</p>
    <a href=""{% url ""account_logout"" %}"">Logout</a>
{% else %}
    <form action=""{% url ""account_login"" %}"" method=""post"">
        {% csrf_token %}
        <input type=""email"" placeholder=""E-mail"" name=""login"">
        <input type=""password"" placeholder=""Password"" name=""password"">
        <label for=""id_remember_menu"" class=""text-primary"">Remember Me:</label>
        <input id=""id_remember_menu"" name=""remember"" type=""checkbox"">
        {% if redirect_field_value %}
            <input type=""hidden"" name=""{{ redirect_field_name }}"" value=""{{ redirect_field_value }}"" />
        {% endif %}
        <button type=""submit"">Login</button>
        <a href=""{% url 'account_reset_password' %}"">Forgot Password?</a>
    </form>
{% endif %}
"
26392,27,Unknown skip error file read in python,"with open('A Class, A.T.I..txt', ""r"") as file_out:
    a = a + 1
    Name2 = file_out.readline()
    print(Name2)
    Sur_name2 = file_out.readline()
    print(Sur_name2)
    Date2 = file_out.readline()
    print(Date2)
    Class2 = file_out.readline()
    print(Class2)
    Range_Limit2 = file_out.readline()
    print(Range_Limit2)
    N2 = file_out.readline()
    print(N2)
    Score_Percent2 = file_out.readline()
    print(Score_Percent2)
"
19649,78327,Qt/pyQt/PySide - Create document template for printing,"from PyQt4 import QtGui
from PyQt4 import QtWebKit

class DisplayHTML(QtWebKit.QWebView):

    def __init__(self, html, parent=None):
        super().__init__(parent)
        self.setHtml(html)

if __name__ == '__main__':
    import sys
    app = QtGui.QApplication(sys.argv)
    html_template = ""<html><p>Hello, {first}, how {second} you {third}?</p></html>""
    values_dict = {
        'first': 'Joe',
        'second': 'are',
        'third': 'today',
    }
    html_ready_to_render = html_template.format(**values_dict)
    window = DisplayHTML(html_ready_to_render)
    window.show()
    sys.exit(app.exec_())
"
34083,17965,Intercept python's `print` statement and display in GUI,"import StringIO
import sys

# somewhere to store output
out = StringIO.StringIO()

# set stdout to our StringIO instance
sys.stdout = out

# print something (nothing will print)
print 'herp derp'

# restore stdout so we can really print (__stdout__ stores the original stdout)
sys.stdout = sys.__stdout__

# print the stored value from previous print
print out.getvalue()
"
33328,1737,How can I read how many pixels an image has in Python,"from PIL import Image

def get_num_pixels(filepath):
    width, height = Image.open(open(filepath)).size
    return width*height

print get_num_pixels(""/path/to/my/file.jpg"")
"
11487,82315,Analyzing pixel RGB values with PIL,"from PIL import Image
img = Image.open(""filename.png"")
pixels = img.load()

#get the B value of the pixel at x=23, y=42
print pixels[23, 42][2]
"
33729,58193,Plotting curved line in Python Basemap,"from mpl_toolkits.basemap import Basemap
import numpy as np
import matplotlib.pyplot as plt

m = Basemap(projection='cyl')

p0_ll =  -73.98, 40.78
p1_ll = 0.08, 51.53

m.drawgreatcircle(p0_ll[0], p0_ll[1], p1_ll[0], p1_ll[1], 
                  linewidth=2, color='b')
m.drawcoastlines()
m.fillcontinents()

plt.show()
"
11687,63418,Plotting using PolyCollection in matplotlib,"import matplotlib.pyplot as plt
from matplotlib.collections import PolyCollection
from mpl_toolkits.mplot3d import axes3d
import numpy as np

# These will be (200, 4), (200, 4), and (4)
freq_data = np.linspace(0,300,200)[:,None] * np.ones(4)[None,:]
amp_data = np.random.rand(200*4).reshape((200,4))
rad_data = np.linspace(0,2,4)

verts = []
for irad in range(len(rad_data)):
    # I'm adding a zero amplitude at the beginning and the end to get a nice
    # flat bottom on the polygons
    xs = np.concatenate([[freq_data[0,irad]], freq_data[:,irad], [freq_data[-1,irad]]])
    ys = np.concatenate([[0],amp_data[:,irad],[0]])
    verts.append(list(zip(xs, ys)))

poly = PolyCollection(verts, facecolors = ['r', 'g', 'c', 'y'])
poly.set_alpha(0.7)

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

# The zdir keyword makes it plot the ""z"" vertex dimension (radius)
# along the y axis. The zs keyword sets each polygon at the
# correct radius value.
ax.add_collection3d(poly, zs=rad_data, zdir='y')

ax.set_xlim3d(freq_data.min(), freq_data.max())
ax.set_xlabel('Frequency')
ax.set_ylim3d(rad_data.min(), rad_data.max())
ax.set_ylabel('Radius')
ax.set_zlim3d(amp_data.min(), amp_data.max())
ax.set_zlabel('Amplitude')

plt.show()
"
9777,84649,Process RGBA data efficiently using python?,"import numpy

def rgba_unpremultiply(data):
    a = numpy.fromstring(data, 'B') # Treat the string as an array of bytes
    a = a.astype('I') # Cast array of bytes to array of uints, since temporary values needs to be larger than byte
    alpha = a[3::4] # Every 4th element starting from index 3
    alpha = numpy.where(alpha == 0, 255, alpha) # Don't modify colors where alpha is 0
    a[0::4] = a[0::4] * 255 // alpha # Operates on entire slices of the array instead of looping over each element
    a[1::4] = a[1::4] * 255 // alpha
    a[2::4] = a[2::4] * 255 // alpha
    return a.astype('B').tostring() # Cast back to bytes
"
23739,26588,"""My Contacts"" group google contacts","import gdata.contacts.client
import gdata.contacts.data # you might also need atom.data, gdata.data

gd_client = gdata.contacts.data.ContactsClient(source='eQuiNoX_Contacts')
gd_client.ClientLogin('equinox@gmail.com', '**password**')

feed = gd_client.GetGroups()
    for entry in feed.entry:
        print 'Atom Id: %s' % group.id.text
        print 'Group Name: %s' % group.title.text
        if not entry.system_group:
            print 'Edit Link: %s' % entry.GetEditLink().href
            print 'ETag: %s' % entry.etag
        else:
            print 'System Group Id: %s' % entry.system_group.id
"
3393,13347,What's the Groovy equivalent to Python's dir()?,"// Introspection, know all the details about classes :
// List all constructors of a class
String.constructors.each{println it}

// List all interfaces implemented by a class
String.interfaces.each{println it}

// List all methods offered by a class
String.methods.each{println it}

// Just list the methods names
String.methods.name

// Get the fields of an object (with their values)
d = new Date()
d.properties.each{println it}
"
16033,47465,Google Drive folder ID,"def listFolders(self, path):
    fId = self.getPathId(path) #get the id of the parent folder
    files = self.drive_service.children().list(folderId=fId).execute() #Request children
    files = files[""items""] #All of the items in the folder

    folders = []
    for i in range(len(files)):
        sId = files[i][""id""]
        sFile = self.drive_service.files().get(fileId=sId).execute()
        if sFile[""labels""][""trashed""] == False and sFile[""mimeType""] == ""application/vnd.google-apps.folder"":
            self.addPath(path+sFile[""title""]+""/"", sFile[""id""])
            folders.append(sFile[""title""])
    return folders
"
24816,15740,Decorator to allow function to accept arbitrary arguments,"import functools
import inspect

def ignore_extra_arguments(func):
    args, varargs, kwvarargs, defaults = inspect.getargspec(func)
    @functools.wraps(func)
    def wrapper_func(*wrapper_args, **wrapper_kwargs):
        if varargs is None:
            # remove extra positional arguments
            wrapper_args = wrapper_args[:len(args)]
        if kwvarargs is None:
            # remove extra keyword arguments
            wrapper_kwargs = {k: v for k, v in wrapper_kwargs.iteritems() if k in args}
        return func(*wrapper_args, **wrapper_kwargs)
    return wrapper_func
"
18911,7423,Multiple Arguments in an Input?,".
.
.
while grade != """":
    count += 1
    print(""quiz "", count,"": "", end="""")
    grade = input()
"
8992,17641,jira python customfield,"# Fetch all fields
allfields=jira.fields()
# Make a map from field name -> field id
nameMap = {field['name']:field['id'] for field in allfields}
# Fetch an issue
issue = jira.issue('ABC-1')
# You can now look up custom fields by name using the map
getattr(issue.fields, nameMap[custom_name])
"
39177,14374,"Get (year,month) for the last X months","x = 10
now = time.localtime()
print [time.localtime(time.mktime((now.tm_year, now.tm_mon - n, 1, 0, 0, 0, 0, 0, 0)))[:2] for n in range(x)]
"
26009,20803,Initalize variable in loop - use global variable?,"def main():
    oldimage = loadLastImage()

    while True:
        image=screenGrab()
        if not equal(image,oldimage):
            dosomething()
            saveLastImage(image) # this is the opposite of loadLastImage()
            oldimage=image

# this is the more accepted way of running main 
# because it still allows your code to be loaded as module
if __name__ == ""__main__"":
    main()
"
4401,71780,Incorporating emoticons into a scikit model,">>> from collections import Counter
>>> from sklearn.feature_extraction import DictVectorizer
>>> vect = DictVectorizer()
>>> samples = ["":) :) :)"", ""I have to push the pram a lot""]
>>> X = vect.fit_transform(Counter(s.split()) for s in samples)
>>> X
<2x9 sparse matrix of type '<type 'numpy.float64'>'
    with 9 stored elements in Compressed Sparse Row format>
>>> vect.vocabulary_
{'a': 2, ':)': 0, 'I': 1, 'to': 8, 'have': 3, 'lot': 4, 'push': 6, 'the': 7, 'pram': 5}
>>> vect.inverse_transform(X[0])  # just for inspection
[{':)': 3.0}]
"
2262,83802,Unspecified byte lengths in Python,"version, type, length = struct.unpack(""cch"", packed[:4])
content, = struct.unpack(""%ds"" % length, packed[4:])
"
31415,6927,Pandas Dataframe Filtering,"In [91]:
df.groupby(['User', 'Type']).filter(lambda x: len(x) > 4)

Out[91]:
   User   Type
0     A  Alpha
1     A  Alpha
2     A  Alpha
3     A  Alpha
4     A  Alpha
8     B  Alpha
9     B  Alpha
10    B  Alpha
11    B  Alpha
12    B  Alpha
"
3124,29107,Flask-babel: translation per user,"from flask import g, request

@babel.localeselector
def get_locale():
    # if a user is logged in, use the locale from the user settings
    user = getattr(g, 'user', None)
    if user is not None:
        return user.locale
    # otherwise try to guess the language from the user accept
    # header the browser transmits.  We support de/fr/en in this
    # example.  The best match wins.
    return request.accept_languages.best_match(['de', 'fr', 'en'])
"
9732,56571,Is there a way to prevent index wrapping?,"if (0 <= (self.index[0] + n[0]) < num_cols) and 
   (0 <= (self.index[1] + n[1]) < num_rows):
    # Do stuff here
"
18898,30253,"Python, killed?","def factor(arg):    
    o = arg
    n = o
    x = 2
    factors = [o]

    while abs(o) >= x:
    if (o) % x == 0:
        n = o / x
        factors.append(n)
        x += 1
    else:
        x += 1

    return factors

A = int(raw_input(""What is A in your quadratic equation?   A = ""))
B = int(raw_input(""What is B in your quadratic equation?   B = ""))
C = int(raw_input(""What is C in your quadratic equation?   C = ""))

Br = abs(B) + abs(A)            # Range of B
Bpf = range (-Br, Br + 1)       # Possible factors of B
ABpf = factor(A * C)            # Possible factors of (A * C)
ACpf = []
for i in ABpf:
    ACpf.append(i)
    ACpf.append(-1*i) 

cf = []                          # Common factors

for i in Bpf:
    for j in ACpf:
    if i == j:
        cf.append(i)

print cf
"
28174,82819,Help to run it in the background,"$ cat server.py
#!/usr/bin/env python 

import socket 
import sys

host = '' 
port = 843 
backlog = 5 
size = 1024 
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) 
print >> sys.stderr, 'socket'
s.bind((host,port)) 
print >> sys.stderr, 'bind'
s.listen(backlog) 
print >> sys.stderr, 'listen'
while 1: 
    try:
       client, address = s.accept() 
       print >> sys.stderr, 'accept'
       data = client.recv(size) 
       print >> sys.stderr, 'recv'
       # ignore data because I can't type a '\0'
       client.send('<?xml version=""1.0""?><cross-domain-policy><allow-access-from domain=""*"" to-ports=""*""/></cross-domain-policy>') 
       client.close()
       print >> sys.stderr, 'close'
    except Exception as e:
        print e;
        s.close();
        print >> sys.stderr, 'close'
        sys.exit(1);
$ sudo nohup python server.py &
[1] 11218
nohup: ignoring input and appending output to `nohup.out'
$ jobs
[1]+  Running                 sudo nohup python server.py &
# a couple of telnets to 843
$ jobs
[1]+  Running                 sudo nohup python server.py &
$ sudo kill 11218
$ sudo cat nohup.out
socket
bind
listen
accept
recv
close
accept
recv
close
"
14656,65470,Recover data from lists in Python,"import numpy as np

A = [[2,3,1,3,2,3,3], [4,2,1,4]]
B = [[np.zeros(2)]*len(A[0]), [np.zeros(2)]*len(A[1])]

indices = np.array([np.unique(a, True)[1] for a in A])

A = np.array([np.array(arr)[index] for arr, index in zip(A, indices)])
B = np.array([np.array(arr)[index] for arr, index in zip(B, indices)])
"
15291,23547,spss.Cursor and Frequency,"AGGREGATE OUTFILE = * MODE = ADDVARIABLES
 /BREAK = var1
 /var1_n = n.
"
33545,24635,What is the meaning of every paramater returned by psutil.cpu_times() in python?,"cpu  3357 0 4313 1362393
     The  amount of time, measured in units of USER_HZ (1/100ths of a second on most
     architectures, use sysconf(_SC_CLK_TCK) to obtain the right  value),  that  the
     system spent in various states:

     user   (1) Time spent in user mode.

     nice   (2) Time spent in user mode with low priority (nice).

     system (3) Time spent in system mode.

     idle   (4) Time spent in the idle task.  This value should be USER_HZ times the
            second entry in the /proc/uptime pseudo-file.

     iowait (since Linux 2.5.41)
            (5) Time waiting for I/O to complete.

     irq (since Linux 2.6.0-test4)
            (6) Time servicing interrupts.

     softirq (since Linux 2.6.0-test4)
            (7) Time servicing softirqs.

     steal (since Linux 2.6.11)
            (8) Stolen time, which is the time spent in other operating systems when
            running in a virtualized environment

     guest (since Linux 2.6.24)
            (9)  Time  spent running a virtual CPU for guest operating systems under
            the control of the Linux kernel.

     guest_nice (since Linux 2.6.33)
            (10) Time spent running a niced guest (virtual CPU for  guest  operating
            systems under the control of the Linux kernel).
"
20658,67770,Django CreateView customise form default field based on url parameter,"class EnvhostsCreate(CreateView):
    model = Capacity.models.Envhosts
    fields = ['hostname', 'count']
    template_name_suffix = '_create_form'

    def form_valid(self, form):
        form.instance.env = Envhosts.objects.get(pk=self.kwargs['envid'])
        return super(EnvhostsCreate, self).form_valid(form)
"
13998,47101,How can I record the position where the user pressed the mouse button with Python and GTK?,"#!/usr/bin/python

""""""Write on a canvas, store on-line data.""""""


from gi.repository import Gtk, Gdk
import time
import math
__version__ = '0.1'


class FormulaWriter(Gtk.Window):

    def __init__(self):
        super(FormulaWriter, self).__init__()
        self.odata = []  # On-line writing information, grouped by strokes

        # General properties
        self.set_title(""Formula Writer %s"" % __version__)
        self.resize(400, 400)
        self.set_position(Gtk.WindowPosition.CENTER)
        self.connect(""delete-event"", Gtk.main_quit)

        # Set up canvas
        self.canvas = Gtk.DrawingArea()
        self.canvas.connect(""draw"", self.on_draw)
        self.canvas.connect(""button-press-event"", self.on_button_press)
        self.canvas.connect(""motion-notify-event"", self.on_mouse_move)
        self.canvas.connect(""motion-notify-event"", self.on_mouse_move)
        self.canvas.set_events(self.canvas.get_events() |
                               Gdk.EventMask.BUTTON_MOTION_MASK |
                               Gdk.EventMask.BUTTON1_MOTION_MASK |
                               Gdk.EventMask.BUTTON2_MOTION_MASK |
                               Gdk.EventMask.BUTTON3_MOTION_MASK |
                               Gdk.EventMask.BUTTON_PRESS_MASK)

        self.add(self.canvas)
        self.show_all()

    def on_button_press(self, w, event):
        """"""When a button is pressed, the location gets stored and the canvas
        gets updated.
        """"""
        self.odata.append([{'x': event.x, 'y': event.y, 'time': time.time()}])
        self.canvas.queue_draw()

    def on_mouse_move(self, w, event):
        """"""When mouse is moved, the mouse position gets stored.""""""
        point = {'x': event.x, 'y': event.y, 'time': time.time()}
        self.odata[-1].append(point)
        self.canvas.queue_draw()

    def on_draw(self, wid, cr):
        """"""Handler for drawing action. Draw all strokes.
        :param wid: The DrawingArea
        :param cr: Context
        """"""

        cr.set_source_rgb(1, 0, 0)  # All strokes get drawn in red
        cr.set_line_width(2.5)

        for stroke in self.odata:
            for i, point in enumerate(stroke):
                if len(stroke) == 1:
                    radius = 2
                    cr.arc(point['x'], point['y'], radius, 0, 2.0*math.pi)
                    cr.fill()
                    cr.stroke()
                elif i != 0:
                    cr.move_to(stroke[i-1]['x'], stroke[i-1]['y'])
                    cr.line_to(point['x'], point['y'])
                    cr.stroke()


def main():
    FormulaWriter()
    Gtk.main()


if __name__ == ""__main__"":
    main()
"
34426,35714,AppleScript to process incoming emails in Mac Mail.app,"using terms from application ""Mail""
    on perform mail action with messages theMessages for rule theRule
        repeat with eachMessage in theMessages
            if subject of eachMessage contains ""Express222"" then
                set theContent to source of eachMessage
                display alert theContent
            end if
        end repeat
    end perform mail action with messages
end using terms from
"
35390,16428,Compare object with the keys in python dictionary/hashtable,">>> ranges = ['chr1:100-200', 'chr1:350-500', 'chr1:780-880', 'chr1:900-950']
>>> accums = [100, 250, 350, 400]
>>> ranges[bisect.bisect_left(accums, 120)]
'chr1:350-500'
>>> ranges[bisect.bisect_left(accums, 360)]
'chr1:900-950'
"
6613,69671,How do I avoid having Python class data shared among instances?,"class a:
    def __init__(self):
        self.list = []
"
2922,69238,Django non-distinct query,"from django.db.models import Count
qs = FooBar.objects.filter(example__pk__lt=50)
qs = qs.annotate(num_examples=Count('example')).filter(num_examples__gt=1)
"
8582,58442,django admin don't show primary key in forms,"city_id = models.AutoField(primary_key=True)
"
4839,21514,Write a list to csv file without looping in python,"csv_file.writerows(the_list)
"
22205,66270,python - threading and infinite loops,"(THREAD)
    while True:
        print list[0]

(MAIN)
    start_thread(list)
    #modify value
    list[0] = X
"
14112,36419,Pandas Tick Data Averaging By Hour and Plotting For Each Week Of History,"import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# First we read the DataFrame and resample it to get a mean on every hour
df = pd.read_csv('trayport.csv', header=None,
                 parse_dates=[0], index_col=0).resample('H', how='mean').dropna()
# Then we add a week field so we can filter it by the week
df['week']= df.index.map(lambda x: x.isocalendar()[1])

# Create week labels
weekdays = 'Mon Tue Wed Thu Fri Sat Sun'.split()

# Create the figure
fig, ax = plt.subplots()

# For every week we want to plot
for week in range(1, 4):
    # Select out the week
    dfw = df[df['week'] == week].copy()
    # Here we align all the weeks to span over the same time period so they
    # can be shown on the graph one over the other, and not one next to
    # the other.
    dfw['timestamp'] = dfw.index.values - (week * np.timedelta64(1, 'W'))
    dfw = dfw.set_index(['timestamp'])
    # Then we plot our data
    ax.plot(dfw.index, dfw[1], label='week %s' % week)
    # Now to set the x labels. First we resample the timestamp to have
    # a date frequency, and set it to be the xtick values
    resampled = dfw.resample('D')
    ax.set_xticks(resampled.index.values)
    # But change the xtick labels to be the weekdays.
    ax.set_xticklabels(weekdays)
# Plot the legend
plt.legend()
"
33732,5004,Searching between targets in python,"lead = False

for line in file_to_use:
    if re.search (""LEAD"", line):
        lead = True
    if re.search (""To the Editor:"", line):
        lead = False

    if lead == False:
        print line
"
23597,57133,Combining rows in a CSV file and updating quantities with Python,"pieces = {}
for row in incsv:
    piece = tuple(row)
    if piece not in pieces:
        pieces[piece] = 0
    else:
        pieces[piece] += 1
for item, count in pieces.items():
    row = (count,) + item
    outcsv.writerow(row)
"
30785,56631,"Can't click a ""next"" button using xpath, .select nor Selenium using Python","driver.get('https://www.domcop.com/domains/great-expired-domains/')    
aElements = driver.find_elements_by_css_selector('.next > a')
driver.execute_script('window.scrollTo(0, document.body.scrollHeight);') 
aElements[1].click()
"
39254,17831,Django Test - I can't save my object when I use queryset to get it,">>> i1 = Invoice.objects.all()[0]
>>> i2 = Invoice.objects.get(pk=i1.pk)
>>> i1 == i2
True // since model instances compare by their id field only
>>> id(i1) == id(i2)
False // since they are actually separate instances
"
32541,56879,Convert string with engineer prefix to float,"pos_postfixes = ['k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y']
neg_postfixes = ['m', 'Âµ', 'n', 'p', 'f', 'a', 'z', 'y']

num_postfix = n[-1]
if num_postfix in pos_postfixes:
    num = float(n[:-1])
    num*=10**((pos_postfixes.index(num_postfix)+1)*3)
elif num_postfix in neg_postfixes:
    num = float(n[:-1])
    num*=10**(-(neg_postfixes.index(num_postfix)+1)*3)
else:
    num = float(n)
print(num)
"
2322,17022,Django templatetags ISO to date,"from django import template
import dateutil

register = template.Library()

@register.filter(name='to_date')
def to_date(value):
    return dateutil.parser.parse(value)
"
38432,30091,Perform commands over ssh with Python,"ssh = paramiko.SSHClient()
ssh.connect(server, username=username, password=password)
ssh_stdin, ssh_stdout, ssh_stderr = ssh.exec_command(cmd_to_execute)
"
34142,43994,How to calculate a packet checksum without sending it?,">>> from scapy.layers.inet import IP
>>> from scapy.layers.inet import ICMP
>>> from scapy.layers.inet import TCP
>>> target = ""10.9.8.7""
>>> ttl = 64
>>> id = 32711
>>> sport = 2927
>>> dport = 80
>>> pak = IP(dst=target, src = ""100.99.98.97"", ttl=ttl, flags=""DF"", id=id, len=1200, chksum = 0)/TCP(flags=""S"", sport=sport, dport=int(dport), options=[('Timestamp',(0,0))], chksum = 0)
>>> del pak[IP].chksum
>>> del pak[TCP].chksum
>>> pak.show2()
###[ IP ]###
  version   = 4L
  ihl       = 5L
  tos       = 0x0
  len       = 1200
  id        = 32711
  flags     = DF
  frag      = 0L
  ttl       = 64
  proto     = tcp
  chksum    = 0x9afd
  src       = 100.99.98.97
  dst       = 10.9.8.7
  \options   \
###[ TCP ]###
     sport     = 2927
     dport     = www
     seq       = 0
     ack       = 0
     dataofs   = 8L
     reserved  = 0L
     flags     = S
     window    = 8192
     chksum    = 0x2c0e
     urgptr    = 0
     options   = [('Timestamp', (0, 0)), ('EOL', None)]
>>>
"
28109,45212,"Capturing x,y Coordinates with Python PIL","import Tkinter
from PIL import Image, ImageTk
from sys import argv

window = Tkinter.Tk(className=""bla"")

image = Image.open(argv[1] if len(argv) >=2 else ""bla2.png"")
canvas = Tkinter.Canvas(window, width=image.size[0], height=image.size[1])
canvas.pack()
image_tk = ImageTk.PhotoImage(image)
canvas.create_image(image.size[0]//2, image.size[1]//2, image=image_tk)

def callback(event):
    print ""clicked at: "", event.x, event.y

canvas.bind(""<Button-1>"", callback)
Tkinter.mainloop()
"
22506,73999,configparser reading and writing,"# ...
a['example']['test'] = 'red'

import tempfile, os
with tempfile.NamedTemporaryFile() as tmp:
    a.write(tmp)

    # or ctypes.windll.kernel32.MoveFileExW(tmp.name, 'data.txt', 2)
    # 2 = MOVEFILE_REPLACE_EXISTING 
    # I'll leave wrapping it in a cross-platform manner up to you
    os.rename(tmp.name, 'data.txt')
"
9939,55569,why the results of response.xpath('//html') differs than response.body?,">>> from lxml.html import soupparser
>>> from scrapy import Selector
>>> sel = Selector(_root=soupparser.fromstring(response.body))
>>> sel.xpath('//h4[@class=""name""]/a').extract()
[u'<a href=""http://mobileshop.ae/one-x/htc-one-x-16gb-gray"">HTC One X 3G 16GB Grey</a>',
 u'<a href=""http://mobileshop.ae/one-x/htc-one-x-16gb-white"">HTC One X 3G 16GB White</a>',
 u'<a href=""http://mobileshop.ae/one-x/htc-one-x-32gb-gray"">HTC One X 3G 32GB Grey</a>',
 u'<a href=""http://mobileshop.ae/one-x/htc-one-x-32gb-white"">HTC One X 3G 32GB White</a>']
"
23935,40258,How would I use the objects from a related Model to populate the initial value of a Field in a ModelForm?,"class EditProfileForm(forms.ModelForm):

    def __init__(self, initial_volunteer, *args, **kwargs):
            super(EditProfileForm, self).__init__(*args, **kwargs)
            self.fields['language'] = forms.ModelMultipleChoiceField(
            label=_(u'Language'), 
            queryset=Language.objects.all(),
            # now you have the value you passed to use here
            initial=VolunteerLanguage.objects.filter(volunteer=initial_volunteer)
            )
"
36970,44180,Passing JSON data between Python and Java Datagram Sockets,"strData = new String(receivePacket.getData(), receivePacket.getOffset(), receivePacket.getLength());
"
23521,78104,Fast RGB Thresholding in Python (possibly some smart OpenCV code?),"# Remember -> OpenCV stores things in BGR order
lowerBound = cv.Scalar(120, 80, 100);
upperBound = cv.Scalar(140, 85, 110);

# this gives you the mask for those in the ranges you specified,
# but you want the inverse, so we'll add bitwise_not...
cv.InRange(cv_im, lowerBound, upperBound, cv_rgb_thresh);
cv.Not(cv_rgb_thresh, cv_rgb_thresh);
"
33793,30500,how to keep a default value of key parameter constant? (python),"y0_ = y0.copy()
def g(i, y = y0_):
    print ""y that goes to g (every time is different) \n"", y
    etc
"
2635,76019,python text reading,"datafile = open(""temp.txt"", ""r"")
record = datafile.readline()

while record != '':
    d1 = record.strip(""\n"").split("","")
    print d1[0],float (d1[1])
    record = datafile.readline()

datafile.close()
"
32119,74354,Indicating the statistically significant difference in bar graph,"import numpy as np
import matplotlib.pyplot as plt
menMeans   = (5, 15, 30, 40)
menStd     = (2, 3, 4, 5)
ind  = np.arange(4)    # the x locations for the groups
width= 0.7
labels = ('A', 'B', 'C', 'D')

# Pull the formatting out here
bar_kwargs = {'width':width,'color':'y','linewidth':2,'zorder':5}
err_kwargs = {'zorder':0,'fmt':None,'lw':2,'ecolor':'k'}

X = ind+width/2

fig, ax = plt.subplots()
ax.p1 = plt.bar(ind, menMeans, **bar_kwargs)
ax.errs = plt.errorbar(X, menMeans, yerr=menStd, **err_kwargs)


# Custom function to draw the diff bars

def label_diff(i,j,text,X,Y):
    x = (X[i]+X[j])/2
    y = 1.1*max(Y[i], Y[j])
    dx = abs(X[i]-X[j])

    props = {'connectionstyle':'bar','arrowstyle':'-',\
                 'shrinkA':20,'shrinkB':20,'lw':2}
    ax.annotate(text, xy=(X[i],y+7), zorder=10)
    ax.annotate('', xy=(X[i],y), xytext=(X[j],y), arrowprops=props)

# Call the function
label_diff(0,1,'p=0.0370',X,menMeans)
label_diff(1,2,'p<0.0001',X,menMeans)
label_diff(2,3,'p=0.0025',X,menMeans)


plt.ylim(ymax=60)
plt.xticks(X, labels, color='k')
plt.show()
"
35097,2556,How to implement a Lock with a timeout in Python 2.7,"import threading
import time

lock = threading.Lock()
cond = threading.Condition(threading.Lock())

def waitLock(timeout):
    with cond:
        current_time = start_time = time.time()
        while current_time < start_time + timeout:
            if lock.acquire(False):
                return True
            else:
                cond.wait(timeout - current_time + start_time)
                current_time = time.time()
    return False
"
35880,59479,Iterate through list and array,"def calculate(matrix, list):
    out_matrix = np.empty_like(matrix)
    for i in range(matrix.shape[0]):
        for j in range(matrix.shape[1]):
            out_matrix[i, j] = matrix[i, j] - list[i * matrix.shape[1] + j]

    return out_matrix
"
19573,49465,Can I make an additional packages directory visible to the AWS-EB Python app deployment process?,"files:
  ""/opt/python/run/venv/lib/python2.7/site-packages/anaconda.pth"":
    mode: ""000644""
    owner: root
    group: root
    content: |
      /anaconda/lib/python2.7/site-packages
"
29168,4541,adding column to a list in a loop,"Lang = namedtuple(""Lang"", (""word"", ""c""))
com=[]
for f in c:
    for w in words:
        if w in f:
            com.append(Lang(w,f))

output: 
0    this is good                 good
1    You can improve more photos  photos
2    keep up the good word        good
3    add more good photos         good
4    add more good photos         photos 
5    this is not good for you     good
"
33466,71525,How to create Fibonacci Sequence in Java,"public class FibonacciAlgorithm {

    private int a = 0;

    private int b = 1;

    public FibonacciAlgorithm() {

    }

    public int increment() {
        int temp = b;
        b = a + b;
        a = temp;
        return value;
    }

    public int getValue() {
        return b;
    }
}
"
37644,10108,Reshaping Pandas Data Frame,"import pandas as pd
rankings = pd.read_html('https://en.wikipedia.org/wiki/Rankings_of_universities_in_the_United_Kingdom', header=0)
university_guide = rankings[0]
df = pd.DataFrame(university_guide.values.reshape((30, 2)), columns=['Rank', 'University'])
df = df.sort('Rank').reset_index(drop=True)
print df
"
3188,13369,Removing any single letter on a string in python,">>> ' '.join( [w for w in input.split() if len(w)>1] )
'23rwqw 34qf34 343fsdfd'
"
35956,12673,Python - Inherit an Already Initialized Class Without Calling Super Constructor,"class State(object):
  def __init__(self, **kwargs):
    self.__dict__.update(kwargs)

  def state_name(self):
    return self.state


class County(object):
  def __init__(self, state, **kwargs):
    self.state=state # this will just reference the state object
    self.__dict__.update(kwargs)
  def getStateName(self):
    return self.state.state


class City(object):
  def __init__(self, county, **kwargs):
    self.county = county
    self.__dict__.update(kwargs)
  def getStateName(self):
    return self.county.getStateName()
"
8329,20606,Returning and printing without assigning to variable?,"    import random        

    def print_return(func):
        def func_wrapper(param):
            rv =   func(param)
            print(""Return value: {0}"".format(rv))
            return rv
        return func_wrapper

    @print_return
    def secret_number(secret_number_range):
        return random.randrange(1, secret_number_range + 1)

    # with this, this call would result in ""Return value: 3"" being printed.
    c=secret_number(4)
"
17123,8126,Some tough string manipulation in Python,">>> x = ""foo(a) foo(something), foo(stuff)\n foo(1)""
>>> re.sub(r'foo\(([^)]*)\)', r'\1', x)
u'a something, stuff\n 1'
"
39494,61316,How can I get the Dropbox folder location programmatically in Python?,"def _get_appdata_path():
    import ctypes
    from ctypes import wintypes, windll
    CSIDL_APPDATA = 26
    _SHGetFolderPath = windll.shell32.SHGetFolderPathW
    _SHGetFolderPath.argtypes = [wintypes.HWND,
                                 ctypes.c_int,
                                 wintypes.HANDLE,
                                 wintypes.DWORD,
                                 wintypes.LPCWSTR]
    path_buf = wintypes.create_unicode_buffer(wintypes.MAX_PATH)
    result = _SHGetFolderPath(0, CSIDL_APPDATA, 0, 0, path_buf)
    return path_buf.value

def dropbox_home():
    from platform import system
    import base64
    import os.path
    _system = system()
    if _system in ('Windows', 'cli'):
        host_db_path = os.path.join(_get_appdata_path(),
                                    'Dropbox',
                                    'host.db')
    elif _system in ('Linux', 'Darwin'):
        host_db_path = os.path.expanduser('~'
                                          '/.dropbox'
                                          '/host.db')
    else:
        raise RuntimeError('Unknown system={}'
                           .format(_system))
    if not os.path.exists(host_db_path):
        raise RuntimeError(""Config path={} doesn't exists""
                           .format(host_db_path))
    with open(host_db_path, 'r') as f:
        data = f.read().split()

    return base64.b64decode(data[1])
"
13677,36917,Does python have Matlab's `ans` variable that captures returned value not stored in any variable?,">>> 1+1
2
>>> _
2
>>> def f(x): 
...     return x+1
... 
>>> f(3)
4
>>> _
4
"
27423,84522,Pandas column.sum() without having the index values multiply,"In [29]: df=pd.read_table('data.csv', delim_whitespace=True)

In [30]: df
Out[30]: 
   BPC  B-S
0    2    1
1    5    2
2    0    1
3    0    0
4    0    0
5    2    1
6    8    3
7   38   12

[8 rows x 2 columns]

In [31]: df.sum()
Out[31]: 
BPC    55
B-S    20
dtype: int64

In [32]: df[df>0].count()
Out[32]: 
BPC    5
B-S    6
dtype: int64
"
5055,65883,Finding the index at which upon removing element string becomes palindrome,"T = int(raw_input())

for t in xrange(T):
    s = raw_input()
    length = len(s)
    for i in xrange(length / 2):
        if s[i] != s[length - i - 1]:
            if s[i + 1:length - i] == s[length - i - 1:i:-1]:
                print i
            else:
                print length - i - 1
            break
    else:
        print -1
"
24088,12156,How to fetch a substring from text file in python?,">>> data = """"""
   lines with tweets here
""""""
>>> for line in data.splitlines():
...     print(line.split("" "", 7)[-1])
... 
rt     we're treating one of you lads to this d'struct denim shirt! simply follow &amp; rt to enter
this album is wonderful, i'm so proud of you, i loved this album, it really is the best.    -273
international break is garbage smh. it's boring and your players get injured
get weather updates from the weather channel. 15:27:19
woah what happened to twitter this update is horrible
i've completed the daily quest in paradise island 2!
new post: henderson memorial public library
who's going to  next week?
why so blue?    @ golden bee
"
7911,68107,Tkinter - Coordinates,"#!/usr/bin/env python3
# coding: utf-8

from tkinter import *


# init our application's root window
root = Tk()
root.geometry('480x480')


# let's provide same sample coordinates with the desired text as tuples in a list
coords = [(30,30,'X'), (90,90,'X'), (120,120,'X'), (240,240,'X'), (270,270,'X'), (360,360,'O')]


# interate through the coords list and read the coordinates and the text of each tuple
for c in coords:
    l = Label(root, text=c[2])
    l.place(x=c[0], y=c[1])


# start a loop over the application
root.mainloop()
"
17387,78912,plotting histogram using matplotlib in python,">>> import numpy as np
>>> import matplotlib.pyplot as plt
>>> xs, ys = np.loadtxt('/tmp/example.txt', delimiter=',').T
>>> print xs
[ 111.  122.  155.  192.   11.  122.  120.]
>>> print ys
[  3.   4.   3.   5.   9.  10.  23.]
>>> plt.bar(xs, ys)
<Container object of 7 artists>
>>> plt.show()
"
5861,63246,Anchors in Regex,">>> re.search(""^(.*)$^.*$"", multiline_string, re.M)    # won't match
>>> re.search(""^(.*)$\n^.*$"", multiline_string, re.M)  # will match
<_sre.SRE_Match object at 0xb7f3e5e0>
"
32161,58669,"Python - ""slashList = [i for i, ind in enumerate(start) if ind == '/']""","SlashList = []
for i, ind in enumerate(start):
    If ind == '/':
       SlashList.append(i)
"
27495,6511,Python PyQT4 Simple database GUI,"import sqlite3 as db
from PyQt4 import QtCore, QtGui
import sys

con = db.connect('results.db', isolation_level=None)
cur = con.cursor()
cur.execute(""SELECT * FROM Results"")
all_data = cur.fetchall()


class UiDialog(object):
    def setupUi(self, datadb):
        datadb.setObjectName(""Dialog"")
        datadb.resize(404, 304)
        datadb.setWindowTitle(""Database results"")
        sizePolicy = QtGui.QSizePolicy(QtGui.QSizePolicy.Fixed, QtGui.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(datadb.sizePolicy().hasHeightForWidth())
        datadb.setSizePolicy(sizePolicy)
        datadb.setMinimumSize(QtCore.QSize(404, 304))
        datadb.setMaximumSize(QtCore.QSize(404, 304))
        self.table = QtGui.QTableWidget(datadb)
        self.table.setGeometry(QtCore.QRect(2, 2, 400, 261))
        self.table.setObjectName(""table"")
        self.show = QtGui.QPushButton(datadb)
        self.show.setGeometry(QtCore.QRect(2, 270, 400, 31))
        self.show.setObjectName(""show"")
        self.show.setText(""Show results"")
        QtCore.QObject.connect(self.show, QtCore.SIGNAL(""clicked()""), self.populate)
        QtCore.QMetaObject.connectSlotsByName(datadb)
        self.table.itemChanged.connect(self.updateDB)

    def populate(self):
        self.table.blockSignals(True)
        #all_data = [[""1"",""2"",""3"",""4""],[""1"",""2"",""3"",""4""],[""1"",""2"",""3"",""4""],[""1"",""2"",""3"",""4""]]
        self.table.setRowCount(len(all_data))
        self.table.setColumnCount(4)
        self.table.setHorizontalHeaderLabels(['Number', 'Keys', 'Time', 'Tries'])
        for i, item in enumerate(all_data):
            number = QtGui.QTableWidgetItem(str(item[0]))
            #if we need old data then
            number.setData(QtCore.Qt.UserRole,QtCore.QVariant(str(str(item[0]))))
            keys = QtGui.QTableWidgetItem(item[1])
            keys.setData(QtCore.Qt.UserRole,QtCore.QVariant(str(str(item[1]))))
            time = QtGui.QTableWidgetItem(str(item[2]))
            time.setData(QtCore.Qt.UserRole,QtCore.QVariant(str(str(item[2]))))
            tries = QtGui.QTableWidgetItem(str(item[3]))
            tries.setData(QtCore.Qt.UserRole,QtCore.QVariant(str(str(item[3]))))
            self.table.setItem(i, 0, number)
            self.table.setItem(i, 1, keys)
            self.table.setItem(i, 2, time)
            self.table.setItem(i, 3, tries)
        self.table.blockSignals(False)

    def updateDB(self, itmWid):
        updatedVal = str(itmWid.text())
        oldValue = itmWid.data(QtCore.Qt.UserRole).toString()
        with con:
            cur.execute(""UPDATE Results SET Number='%s' WHERE Number='%s'"" % (updatedVal, oldValue))

if __name__ == ""__main__"":
    app = QtGui.QApplication(sys.argv)
    main_conf = QtGui.QDialog()
    ui = UiDialog()
    ui.setupUi(main_conf)
    main_conf.show()
    ret = app.exec_()
    sys.exit(ret)
"
2251,2797,"Give python ""platform"" library fake platform information?",">>> platform.system = lambda: ""whatever""
>>> platform.system()
'whatever'
"
15565,34994,IP proto field number to string,"from scapy.all import *

def ip_proto(pkt):
    proto_field = pkt.get_field('proto')
    return proto_field.i2s[pkt.proto]

x = IP() / TCP()
print ip_proto(x)
"
30465,63527,Comparing strings of numbers with strings of words of numbers,"S1 = ""thirteen things that don't make sense""
S2 = ""13 Things That Don't Make Sense""
eq_map = {'one': '1', 'two': '2', 'thirteen': '13'}

def convert(s):
    s = s.lower()
    return [eq_map.get(w, w) for w in s.split()]

assert convert(S1) == convert(S2)
"
7425,47088,Update numbers in the middle of a string,"import re
re.sub(r'\d+?', lambda m: str(int(m.group(0))+resline), YOUR_STR)
"
39636,76291,How to create simple python project using buildout?,"[buildout]
parts = django tornado

[django]
recipe = z3c.recipe.scripts
eggs =
    Django
    # DjangoDevKit

[tornado]
recipe = z3c.recipe.scripts
eggs = Tornado
"
29864,40766,How to filter a Django queryset via text field in the latest corresponding entry in a separate model,"latest_things = DataThingHistory.objects.
    order_by('datathing_id_id', '-timestamp').
    distinct('datathing_id_id')

lt_with_searchterm = DataThingHistory.objects.
    filter(id__in=latest_things, text_with_history__icontains=searchterm)

search_results = DataThing.objects.filter(datathinghistory__in=lt_with_searchterm)
"
37064,57452,re.sub python to gather height,"import re
import string
h = 0
r = re.compile(r'(\d+)\s*(\w+)\b')
def incr( m ):
    h+=m.group(1)*({'in':1,'inches':1,'inch':1,'foot':12,'feet':12,'cm':0.3937,'centimeter':0.3937,'centimeters':0.3937}[string.lower(m.group(2))]||1) # etc. etc.
    return ''
re.sub(r, incr, input)
print h
"
2320,14933,Django-modpython deploying project,"from django.conf.urls.defaults import *

urlpatterns = patterns('',
    (r'^django/demoInstall/', include('site_urls.py')),
)
"
6349,60680,How can I call local functions inside another local function at the return statement?,"import fractions

class MyFraction:
    def __init__(self, a, b):
        self.a = a
        self.b = b

    def simplify(self):
        rtr=fractions.Fraction(self.a, self.b)
        print('""simplify({}, {})""={}'.format(self.a,self.b, rtr))    
        return rtr

    #simplify, simplifies the fraction.(2/4 to 1/2)
    #add, adds two fractions and then returns the simplified fraction.
    def __repr__(self):
        return '{}/{}'.format(self.a, self.b)

    # alternatively, if you want to always print a simplified fraction:
    # def __str__(self):
        # return fractions.Fraction(self.a, self.b).__str__()

    def __add__ (self, f):
        if (self.b == f.b) :
            return MyFraction(self.a + f.a , f.b).simplify()
        else :
            pro = self.b * f.b
            return MyFraction(self.a * f.b + f.a * self.b , pro).simplify()

print(MyFraction(2,4))   
# 2/4
print(MyFraction(1, 2)+MyFraction(20, 30))  
# ""simplify(70, 60)""=7/6
# 7/6
"
8575,49845,Django: How do I create a generic url routing to views?,"mods = ('Project','Links','Profile','Contact')

urlpatterns = patterns('',
   *(('^%s/$'%n, 'mysite.app.views.%s'%n.lower()) for n in mods)
)
"
3281,71438,Grouping and OR in regex,">>> import regex
>>> m = regex.search(r'(?|a+(\sb)|b+(\sa))', 'b a')
>>> m.group()
'b a'
>>> m.group(1)
' a'
>>> m = regex.search(r'(?|a+(\sb)|b+(\sa))', 'a b')
>>> m.group()
'a b'
>>> m.group(1)
' b'
"
26601,39996,SQLAlchemy order_by formula result,"qry = session.query(Option.optionsymbol).filter(and_
            (Option.underlying == stock, 
                Option.quotedate == entry_date,
                Option.expiration == exp_date,
                Option.option_type== ""put"",
                Option.exchange == ""*"")
            ).order_by('abs(strike - %d)' % desired_strike)
"
18456,82662,Python loop to get data from every line of file and convert it to dec,"# For efficiency, if you're on Python 2, include this line so zip is a generator that produces pairs on demand, rather than eagerly slurping the whole file
from future_builtins import zip

with open('myinput') as f:
    # Creates a generator that produces only the final space separated value for each line (could be anything; not checking for hex)
    final_hex = (line.rsplit(None, 1)[-1] for line in f)
    # By using the same generator twice, we get the 1st, 3rd, 5th, etc. from one
    # and the 2nd, 4th, 6th, etc. from the other.
    for hexa, hexb in zip(final_hex, final_hex):
        print(""something something"", hexa, hexb) # Python 3 print function
        print ""something something"", hexa, hexb  # Python 2 print statement
"
12384,32488,Writing a dictionary to replace switch statements in functions,"def f(x):
    ref_dict = {
        'a': 1,
        'b': 2,
    }

    return_tone = ref_dict[x]
    return return_tone
"
21475,19249,How to write excel comments using python?,">>> import win32com.client
>>> xl = win32com.client.Dispatch(""Excel.Application"")
>>> xl.Visible = 1
>>> wb = xl.Workbooks.Open(r'<full path of excel spreadsheet>')
>>> sheet = wb.ActiveSheet
>>> sheet.Range(""A1"").AddComment()
<COMObject AddComment>
>>> sheet.Range(""A1"").Comment.Visible = True
>>> sheet.Range(""A1"").Comment.Text(""Hello World"")
u'Hello World'
>>> wb.SaveAs(r'<full path of modified spreadsheet>')
>>> wb.Close()
>>> xl.Quit()
"
24837,38831,How to get django's unittest TestLoader to find and run my doctests?,"import doctest
import unittest

# These are my modules that contain doctests:
from util import bitwise
from util import text
from util import urlutil
DOCTEST_MODULES = (
  bitwise,
  text,
  urlutil,
)

# unittest.TestLoader will call this when it finds this module:
def load_tests(*args, **kwargs):
  test_all_doctests = unittest.TestSuite()
  for m in DOCTEST_MODULES:
    test_all_doctests.addTest(doctest.DocTestSuite(m))
  return test_all_doctests
"
11369,53468,Changing folder name in Python,"import os
import os.path

for (dirpath, dirnames, filenames) in os.walk('C:/My Music/'):
    for idx in range(len(dirnames)):
        newname = dirnames[idx].replace('_', ' ')
        os.rename(os.path.join(dirpath, dirnames[idx]), os.path.join(dirpath, newname))
        dirnames[idx] = newname
"
35140,62629,"matplotlib legend that is ordered by the last Y values, and have lines from the last plot point to the legend","import numpy as np
import matplotlib.pyplot as plt

# Make example data
x = np.linspace(0,2.0,50)
y1 = x**0.5
y2 = x**1.5
y3 = x**0.2

# Plot data
fig, ax = plt.subplots(1,1,facecolor='white')
fig.subplots_adjust(right=0.8) # Make room for annotations
p1, = ax.plot(x, y1)
p2, = ax.plot(x, y2, '--')
p3, = ax.plot(x, y3, '-.')
pp = [p1, p2, p3]

# Get sort indices from last ydata
yp = np.array([y1[-1], y2[-1], y3[-1]])
s = np.argsort(yp)

# Create annotation locations (I've used axes fraction coordinates)
# and am assuming they are evenly spaced
a_posx = np.tile([1.1], 3)
a_posy = np.linspace(0,1,3)

# Map plot linestyles to terminology expected by an annotation FancyArrowPatch
ls = [p.get_linestyle() for p in pp]
lsmap = {'-':'solid', '--':'dashed', ':':'dotted', '-.':'dashdot'}
als = map(lsmap.get, ls)

# Annotate
for i in s:
    ax.annotate('Plot Y%d' % s[i], [x[-1], yp[s[i]]], [a_posx[i], a_posy[i]],
                textcoords='axes fraction',
                arrowprops=dict(arrowstyle='-', edgecolor=pp[s[i]].get_color(),
                                linestyle=als[s[i]]))

plt.show()
"
6785,34904,"Tkinter Text Widget, iterating over lines","from tkinter import *

def iterate_lines():
    for line in t.get('1.0', 'end-1c').splitlines():
        # Iterate lines
        if line:
            print('path: {}'.format(line))

root = Tk()
t = Text(root)
t.insert(END, '/path/to/file/1.txt\n/path/to/file/2.txt\n/path/to/file3.txt\n')
t.pack()
Button(root, text='iterate', command=iterate_lines).pack()
root.mainloop()
"
25819,3732,ThrowCards in python,"throw_card(7,2)
throw_card(19,4)
throw_card(10,5)
throw_card(6,3)
throw_card(4000,7)
"
11785,69433,Dataframe implicitly holding a hierarchy to JSON,"df.groupby(['A', 'B'])\
  .agg(tuple)\
  .reset_index()\
  .to_json(orient='records')
"
3011,71928,How to create a Test class with parameters?,"@pytest.fixture(
    scope='module', # so that it's reused in the module scope
    params=[100, 200]
)
def simulation(request):
    speed = request.param
    # create the simulation
    return df

class Test:

    def test1(self, simulation):
        ...

    def test2(self, simulation):
        ...
"
5558,19275,make the values in a column being rownames,"data.pivot('index', 'col', 'data')
"
17987,5628,Performance Improvement Basics in Python,"n, k = int(input()), int(input())
num = sorted([ int(input()) for i in range(0,n) ])
min_unfairness = min( max_value - min_value for min_value, max_value in    zip(num, num[k-1:]) )
print(min_unfairness)
"
19551,51555,Datetime comparison behavior in python,"from datetime import datetime
from datetime import timedelta

now = datetime.now()
time_changed_state = now - timedelta(hours=2)
time_delay = 0
time_arrival = time_changed_state + timedelta(minutes=time_delay)

if now < time_arrival:
   print 'something'
elif now >= time_arrival:
   print 'something different'
"
1625,24749,printing list in python properly,"mylist = ['x', 3, 'b']
print '[%s]' % ', '.join(map(str, mylist))
"
20776,37636,Checking Linux Directory Permissions with Python,"import os
def accessible(dir):
    try:
        os.listdir(dir)
    except OSError:
        return False
    return True
print(accessible('/root'))
"
20604,49874,"Python, hard-code it time for filename manipulation",">>> import datetime
>>> import time
>>> x = datetime.datetime.now()
>>> x
datetime.datetime(2010, 8, 14, 16, 26, 6, 592441)
>>> time.sleep(5)
>>> x
datetime.datetime(2010, 8, 14, 16, 26, 6, 592441)
"
5456,42518,How to loop until one specific value or request again through an input,"#!/usr/bin/env python3

print(""Welcome to the Global Grocery, where world leaders do their shopping!"",""\n"")

print(""To view sales information for each customer type \'customers\'."")
print(""To view sales information for each product type \'products\'."")
print(""To quit type \'q\'."")

while True:  # Keep going forever until a 'break' statement is met
    data = input("""")
    if data == ""q"":
        print(""Good bye!"")
        break  # end the 'while' loop
    elif data == ""customers"":
        print(""Ok, customer stuff"")
    elif data == ""products"":
        print(""Ok, product stuff"")
    else:  # A non-valid option must have been selected
        print(""Please choose \'customers\', \'products'', or \'q\' to quit."")
"
7807,15963,Efficient way to reshape a pandas dataframe,"df.set_index(['com_id','region_id']).unstack()

Out[1662]: 
          rep_name               
region_id       r1   r2   r3   r4
com_id                           
2233             A    B  NaN    C
2234             E  NaN    D  NaN
"
23887,39111,Strategy for Private Fields in Python,"f.get.__closure__[0].cell_contents.value
f.get.__closure__[0].cell_contents.value = ""some new value""
"
25427,2197,Python: How can I override one module in a package with a modified version that lives outside the package?,"import local_django.conf
import django.conf
django.conf.settings = local_django.conf.settings
"
39608,27774,Calculate average degree distribution,">>> from igraph import Graph, mean
>>> g = Graph.GRG(100, 0.2)
>>> mean(g.degree())
10.8
"
455,10952,minidom appendchild/insertBefore,"# Put this after your existing code
newline = doc.createTextNode('\n')
calcSequence.insertBefore(newline, entrys[2])
"
20281,27791,How to save a vtkSphere to a VTK file?,"sphere = vtk.vtkSphereSource()
sphere.SetRadius(4)
sphere.SetCenter(0,0,1)
writer = vtk.vtkPolyDataWriter()
writer.SetInputData(sphere.GetOutput())
writer.SetFileName('mysphere.vtk')
writer.Update()
"
35631,38634,Sikuli in Loop Mode,"import time

while True:
    time.sleep(1200) #1200 sec = 20 min
    #your code
"
27381,75329,Python introspection: How to get an 'unsorted' list of object attributes?,">>> import inspect
>>> import StringIO
>>> inspect.findsource(StringIO.StringIO)[1]
41
>>>
"
14516,22991,Python - tuple unpacking in dict comprehension," splitstrs = (s.split('=') for s in list_of_strings) 
 d = {name: int(value) for name,value in splitstrs }
"
7956,10813,Where is the best place to associate a 'form display text' with SQLAlchemy mapped property?,"Class User(Base):
    name = Column(String, info={verbose_name: 'Enter your username',})
    password = Column(String, info={verbose_name: 'Enter your password',})
"
36207,23567,Inconsistency in python help('string') versus help(list)?,">>> upper('hi')
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
NameError: name 'upper' is not defined
>>> 'hi'.upper() # method from the str type
'HI'
>>> from string import upper
>>> upper('hi') # function from the string module
'HI'
"
28074,49058,3 different applications and docker containers,"elasticsearch:
  image: elasticsearch
  ports:
    - 9200:9200

kibana:
  image: kibana
  ports:
    - 5601:5601
  environment:
    - ELASTICSEARCH_URL=http://elasticsearch:9200
  links:
    - elasticsearch
"
29918,83815,How to upload file in django server using phonegap?,"if request.method == 'POST':
    filename=request.FILES['file']
    form = SomeForm(request.POST, request.FILES)
    if form.is_valid():
        dest_file = open('C:/system/upload/'+ str(filename), 'wb+')
        path = 'C:/system/upload/upload/'+ str(filename)
        for chunk in  request.FILES['file'].chunks():
            dest_file.write(chunk)
        dest_file.close()
"
32837,4740,Convert Mysql bool to python True/False,"#update_data={""enable_vod_hd"": ""1"", ""enable_est_hd"": ""1""}
newfile.write((
    """"""<cleared_for_hd_vod>%(enable_est_hd)s</cleared_for_hd_vod>
       <cleared_for_hd_sale>%(enable_vod_hd)s</cleared_for_hd_sale>
    """""" %
    ({
      'enable_est_hd': bool(update_data[""enable_est_hd""]),
      'enable_vod_hd': bool(update_data[""enable_vod_hd""])
    })
).lower())
"
7397,1354,"Python coding relating to function any and ""more than once"" keyword","from itertools import islice

if sum(islice((1 for word in keywords if word in article.text), 3)) == 3:
"
34521,77022,How to combine multiple rows of strings into one using pandas?,">>> s.str.cat(sep=', ')
'I, will, hereby, am, gonna, going, far, to, do, this'
"
33662,60431,Serving large files ( with high loads ) in Django,"import os
import mimetypes
from django.http import StreamingHttpResponse
from django.core.servers.basehttp import FileWrapper


def download_file(request):
   the_file = '/some/file/name.png'
   filename = os.path.basename(the_file)
   chunk_size = 8192
   response = StreamingHttpResponse(FileWrapper(open(the_file), chunk_size),
                           content_type=mimetypes.guess_type(the_file)[0])
   response['Content-Length'] = os.path.getsize(the_file)    
   response['Content-Disposition'] = ""attachment; filename=%s"" % filename
   return response
"
12933,79854,sorting file in place with Python on unix system,"import sys
import subprocess

fname = sys.argv[1]
proc = subprocess.Popen(['sort', fname], stdout=subprocess.PIPE)
stdout, _ = proc.communicate()
with open(fname, 'w') as f:
    f.write(stdout)
"
27534,31680,How to use native Python logging or/and Twisted logger for multiple daemon/cron scripts?,"from twisted.python import log
observer = log.PythonLoggingObserver()
observer.start()
log.msg('%s %s \033[0m' % (self.__colors[colortype], msg))
"
34013,32470,What is the best way to decorate methods of a Python class?,"from functools import wraps

def decobj(func):
    @wraps(func)
    def wrapper(self, *args, **kwards):
        with self.lock:
            print 'Got the lock'
            func(self, *args, **kwards)
    return wrapper
"
85,47072,Matplotlib suptitle prints over old title,"txt = fig.suptitle('A test title')
txt.set_text('A better title')
plt.draw() 
"
386,22542,"How to add to and remove from system's environment variable ""PATH""?","import _winreg as reg
import win32gui
import win32con


# read the value
key = reg.OpenKey(reg.HKEY_CURRENT_USER, 'Environment', 0, reg.KEY_ALL_ACCESS)
# use this if you need to modify the system variable and if you have admin privileges
#key = reg.OpenKey(reg.HKEY_LOCAL_MACHINE, r'SYSTEM\CurrentControlSet\Control\Session Manager\Environment', 0, reg.KEY_ALL_ACCESS) 
try
    value, _ = reg.QueryValueEx(key, 'PATH')
except WindowsError:
    # in case the PATH variable is undefined
    value = ''

# modify it
value = ';'.join([s for s in value.split(';') if not r'\myprogram' in s])

# write it back
reg.SetValueEx(key, 'PATH', 0, reg.REG_EXPAND_SZ, value)
reg.CloseKey(key)

# notify the system about the changes
win32gui.SendMessage(win32con.HWND_BROADCAST, win32con.WM_SETTINGCHANGE, 0, 'Environment')
"
28070,36242,Getting list of connected entities using ndb KeyProperty," Collection.query(Collection.user==user.key)
"
38643,66038,Django - serialize polymorphic model,"from django.core.serializers.json import DjangoJSONEncoder

def myview(request):
    file_dict = File.objects.filter(pk=1).values()[0]
    folder_dict = Folder.objects.filter(pk=file.folder.pk).values()[0]
    folder_dict.update(file_dict)
    response = json.dumps({'file': folder_dict}, cls=DjangoJSONEncoder)
    return HttpResponse(response, content_type=""application/json"")
"
28258,32139,How does scrapy use rules?,"from scrapy.contrib.spiders.crawl import CrawlSpider, Rule
from scrapy.contrib.linkextractors import LinkExtractor

class MySpider(CrawlSpider):
    start_urls = ['http://someurlhere.com']
    rules = (
        Rule(
            LinkExtractor(restrict_xpaths=[
                ""//ul[@class='menu-categories']"",
                ""//ul[@class='menu-subcategories']""]),
            callback='parse'
        ),
        Rule(
            LinkExtractor(allow='/product.php?id=\d+'),
            callback='parse_product_page'
        ),
    )

    def parse_product_page(self, response):
        # yield product item here
"
27987,20393,python-excel mismatch on defaults,"brentq(f, a, b, xtol=None, rtol=None,  maxiter=100, full_output=None, disp=None, *args):
    if xtol is None: xtol = 1e-12
    if rtol is None: rtol = 4.4408920985006262e-16
    if full_output is None: full_output = False
    if disp is None: disp = true
    # ... rest of function
"
14673,37198,Randomly picking numbers from a list according to a uniform distribution,"a = [.5,.57,.67,.8,1,1.33,2,4]
p = map(lambda x: abs(random.uniform(0,4) - x), a)
c = a[p.index(min(p))]
"
33540,54681,Insert a list of dictionary using sqlalchemy efficiently,"connection.execute(table.insert(), [ 
        {id:'12',name:'a':lang:'eng'},
        {id:'13',name:'b':lang:'eng'},
        {id:'14',name:'c':lang:'eng'},
    ]
)
"
14404,32615,Sending email from gmail using Python,"import smtplib

def sendmail(sender, recipient, subject, body, server=""localhost""):
    ""Sends an e-mail to the specified recipient.""

    body = ""<html><head></head><body><pre>"" + body + ""</pre></body></html>""

    headers = [""From: "" + sender,
               ""Subject: "" + subject,
               ""To: "" + recipient,
               ""MIME-Version: 1.0"",
               ""Content-Type: text/html""]
    headers = ""\r\n"".join(headers)

    session = smtplib.SMTP(server)
    session.sendmail(sender, recipient, headers + ""\r\n\r\n"" + body)                
    session.quit()
"
25515,76893,Alternative ways to instantiate a class in Python,"class Calculations(object):
  def __init__(self):
    self.running_total = 0  # or w/ever
  def calculate(self):
    ...

calc = Calculations()
"
28736,56362,netaddr network ID of subnets,">>> from netaddr import *
>>>
>>> ip = IPNetwork('192.168.1.130/26')
>>> supernet = ip.supernet(24)[0]
>>> print list(supernet.subnet(26))
[IPNetwork('192.168.1.0/26'), IPNetwork('192.168.1.64/26'), IPNetwork('192.168.1.128/26'), IPNetwork('192.168.1.192/26')]
"
11295,83609,web2py and wordpress on lighttpd,"$HTTP[""url""] =~ ""^/blog(.*)$"" {
            server.indexfiles = (""/"")
            server.document-root = ""/var/www""
    }


 url.rewrite-once = (
            ""^/blog(.*)$"" => ""$0"", <-- as @dhunter suggested 
            ""^(/.+?/static/.+)$"" => ""/applications$1"",
            ""(^|/.*)$"" => ""/fcgihandler.fcgi$1"",
    )

fastcgi.server = (
            "".fcgi"" => (""localhost"" => (
                    ""check-local"" => ""disable"",
                    ""min-procs"" => ""1"",
                    ""max-procs"" => ""2"",
                    ""socket"" => ""/tmp/web2py.sock""
            )),
            "".php"" => ((
                    ""bin-path"" => ""/usr/bin/php-cgi"",
                    ""socket"" => ""/tmp/php.socket""
            ))
"
2384,64656,Serializing a class into json for python/gae,">>> import json
>>> json.dumps(Sample(1, 2, [3, 4], 4, {5: 5, 5: 5}).__dict__)
1: '{""aliases"": 4, ""locality"": [3, 4], ""name"": 1, ""roles"": {""5"": 5}, ""email"": 2}'
"
4765,43126,Finding the n-degree neighborhood of a node,"import networkx as nx
G = nx.Graph()
G.add_edges_from([('v1','v2'),('v2','v4'),('v1','v3')])

def neighborhood(G, node, n):
    path_lengths = nx.single_source_dijkstra_path_length(G, node)
    return [node for node, length in path_lengths.iteritems()
                    if length == n]

print(neighborhood(G, 'v1', 1))
# ['v2', 'v3']
print(neighborhood(G, 'v1', 2))
# ['v4']
"
4910,60790,Construct two dimensional numpy array from indices and values of a one dimensional array,">>> Y = np.array([2, 0, 1, 1])
>>> X = np.zeros((len(Y), 3))
>>> X[np.arange(len(Y)), Y] = 1
>>> X
array([[ 0.,  0.,  1.],
       [ 1.,  0.,  0.],
       [ 0.,  1.,  0.],
       [ 0.,  1.,  0.]])
"
1056,73276,Set Host-header when using Python and urllib2,"txheaders = { ""User-Agent"": UA, ""Host"": nohttp_url }
robots = urllib2.Request(""http://"" + ip  + ""/robots.txt"", txdata, txheaders)
"
16138,43865,Python How to override a class member in the child and access it from parent?,"class Parent(object):
    ID = None

    @classmethod
    def getId(cls):
        return cls.ID

class Child(Parent):
    ID = ""Child Class""

print Child.getId() # ""Child Class""
"
34399,58093,Making a shopping cart in Python,"if cmd == ""additem"":
    item = raw_input(""Enter item name: "")
    cart.append(item)

#at the end
for item in cart:
    print ""Item: %s. Price: %s"" % (item, prices[item])
"
12679,23422,How to get values from the slider in pyside?,"slider = QtGui.QSlider()
slider.setValue( 5 )
print( slider.value() ) # Will print '5'
"
11209,902,How to generate range of dates: every day of a given year?,"from datetime import datetime, timedelta

def gen_days( year ):
    start_date=datetime( year, 1, 1 )
    end_date=datetime( year, 12, 31 )
    d=start_date
    dates=[ start_date ]
    while d < end_date:
        d += timedelta(days=1)
        dates.append( d )
    return dates

if __name__=='__main__':
    d=gen_days( 2015 )
    print len(d)
    d2=gen_days( 2016 ) # leap year
    print len(d2)
"
38653,41701,How do I query a Django ForeignKey model field by choices' readable names?,"UserProfile.objects.filter(cohorts__cohort=UserCohort.CHOICE1)
"
4293,49855,Changing required field in form based on condition in views (Django),"   if request.method == 'POST':
      form = LabelingForm(request.POST)

      required = 'C' in request.POST
      form.fields['First_choice'].required = required
      form.fields['Second_choice'].required = required

      if form.is_valid():
          ...
"
32855,80248,sklearn: Have an estimator that filters samples,"from sklearn.base import BaseEstimator
from mne.decoding.mixin import TransformerMixin
import numpy as np
from sklearn.pipeline import Pipeline
from sklearn.naive_bayes import GaussianNB
from sklearn import cross_validation
from sklearn.grid_search import GridSearchCV
from sklearn.externals import six

class SampleAndFeatureFilter(BaseEstimator, TransformerMixin):
    def __init__(self, perc = None):
        self.perc = perc

    def fit(self, X, y=None):
        self.X = X
        sum_per_feature = X.sum(0)
        sum_per_sample = X.sum(1)
        self.featurefilter = sum_per_feature >= np.percentile(sum_per_feature, self.perc)
        self.samplefilter  = sum_per_sample >= np.percentile(sum_per_sample, self.perc)
        return self

    def transform(self, X, y=None, copy=None):
        idx = id(X)
        X=X[:,self.featurefilter]
        if idx == id(self.X):
            X = X[self.samplefilter, :]
            if y is not None:
                y = y[self.samplefilter]
            return X, y
        return X

    def fit_transform(self, X, y=None, **fit_params):
        if y is None:
            return self.fit(X, **fit_params).transform(X)
        else:
            return self.fit(X, y, **fit_params).transform(X,y)

class PipelineWithSampleFiltering(Pipeline):
    def fit_transform(self, X, y=None, **fit_params):
        Xt, yt, fit_params = self._pre_transform(X, y, **fit_params)
        if hasattr(self.steps[-1][-1], 'fit_transform'):
            return self.steps[-1][-1].fit_transform(Xt, yt, **fit_params)
        else:
            return self.steps[-1][-1].fit(Xt, yt, **fit_params).transform(Xt)

    def fit(self, X, y=None, **fit_params):
        Xt, yt, fit_params = self._pre_transform(X, y, **fit_params)
        self.steps[-1][-1].fit(Xt, yt, **fit_params)
        return self

    def _pre_transform(self, X, y=None, **fit_params):
        fit_params_steps = dict((step, {}) for step, _ in self.steps)
        for pname, pval in six.iteritems(fit_params):
            step, param = pname.split('__', 1)
            fit_params_steps[step][param] = pval
        Xt = X
        yt = y
        for name, transform in self.steps[:-1]:
            if hasattr(transform, ""fit_transform""):
                res = transform.fit_transform(Xt, yt, **fit_params_steps[name])
                if len(res) == 2:
                    Xt, yt = res
                else:
                    Xt = res
            else:
                Xt = transform.fit(Xt, y, **fit_params_steps[name]) \
                              .transform(Xt)
        return Xt, yt, fit_params_steps[self.steps[-1][0]]

if __name__ == '__main__':
    X = np.random.random((100,30))
    y = np.random.random_integers(0, 1, 100)
    pipe = PipelineWithSampleFiltering([('flt', SampleAndFeatureFilter()), ('cls', GaussianNB())])
    X_train, X_test, y_train, y_test = cross_validation.train_test_split(X, y, test_size = 0.3, random_state = 42)
    kfold = cross_validation.KFold(len(y_train), 10)
    clf = GridSearchCV(pipe, cv = kfold, param_grid = {'flt__perc':[10,20,30,40,50,60,70,80]}, n_jobs = 1)
    clf.fit(X_train, y_train)
"
28116,74369,Get virtualenv's bin folder path from script,"echo $VIRTUAL_ENV
"
252,5620,set and zip questions with Python,">>> a = ([1]) # equivalent to [1], not a tuple
>>> b = ([2]) # equivalent to [2], not a tuple
>>> list(zip(a,b))
[(1, 2)]

>>> a = ([1],[2])
>>> b = ([3],[4])
>>> list(zip(a,b))
[([1], [3]), ([2], [4])]
"
5694,14189,Whats the best way to round an odd number to an even one?,"rounded_val = len(src_string) & (-2)
"
30541,79212,How to get latest timestamp in a column?,"ModelClass.objects.latest(timestamp_field)
"
16015,64479,Python - Read nth line in a matrix,"column = [row[0] for row in matrix]
"
30522,49212,HTML scraping: iterating through nested directories,"active = deque()
seen = set()

active.append(first document)

while active is not empty:
    document = active.popleft()
    if document in seen:
        continue

    # do stuff with the document -- e.g. index keywords

    seen.add(document)
    for each link in the document:
         active.append(link)
"
38995,63328,Regular Expression word matching,"\babcde\b(?!\.\w+)
"
7654,12860,Python list.remove() seems to malfunction,"with open(filedir) as f:
    lines = [line.rstrip(""\r\n"") for line in f if line.startswith(""@"")]
"
9531,36934,Using StatsModels to plot quantile regression for 2nd order polynomial,"d = {'temp': x, 'dens': y}
df = pd.DataFrame(data=d)

x1 = pd.DataFrame({'temp': np.linspace(df.temp.min(), df.temp.max(), 200)})

poly_2 = smf.ols(formula='dens ~ 1 + temp + I(temp ** 2.0)', data=df).fit()
plt.plot(x, y, 'o', alpha=0.2)
plt.plot(x1.temp, poly_2.predict(x1), 'r-', 
         label='2nd order poly fit, $R^2$=%.2f' % poly_2.rsquared, 
         alpha=0.9)
plt.xlim((-10, 50))
plt.ylim((0, 0.25))
plt.xlabel('mean air temp')
plt.ylabel('density')
plt.legend(loc=""upper left"")


# with quantile regression

# Least Absolute Deviation
# The LAD model is a special case of quantile regression where q=0.5

mod = smf.quantreg('dens ~ temp + I(temp ** 2.0)', df)
res = mod.fit(q=.5)
print(res.summary())

# Quantile regression for 5 quantiles

quantiles = [.05, .25, .50, .75, .95]

# get all result instances in a list
res_all = [mod.fit(q=q) for q in quantiles]

res_ols = smf.ols('dens ~ temp + I(temp ** 2.0)', df).fit()


plt.figure()

# create x for prediction
x_p = np.linspace(df.temp.min(), df.temp.max(), 50)
df_p = pd.DataFrame({'temp': x_p})

for qm, res in zip(quantiles, res_all):
    # get prediction for the model and plot
    # here we use a dict which works the same way as the df in ols
    plt.plot(x_p, res.predict({'temp': x_p}), linestyle='--', lw=1, 
             color='k', label='q=%.2F' % qm, zorder=2)

y_ols_predicted = res_ols.predict(df_p)
plt.plot(x_p, y_ols_predicted, color='red', zorder=1)
#plt.scatter(df.temp, df.dens, alpha=.2)
plt.plot(df.temp, df.dens, 'o', alpha=.2, zorder=0)
plt.xlim((-10, 50))
plt.ylim((0, 0.25))
#plt.legend(loc=""upper center"")
plt.xlabel('mean air temp')
plt.ylabel('density')
plt.title('')
plt.show()
"
5469,50375,Is it possible to access the key_name of an object from inside a jinja2 template?,"{% for instance in instance_list %}
   {{ instance.key().name() }}
{% endfor %}
"
6419,48186,Accessing a memory-mapped file using Python,"s = struct.unpack('IL3f3f3f512s3f')
name = s[11].decode('utf-16')
camera_pos_x,camera_pos_y,camera_pos_z = s[12:15]
"
31246,28103,python : Where did the file go?,"find / -name file
"
22451,11095,sqlalchemy map object which contains dicts,"import jsonpickle
import sqlalchemy.types as types

class JsonType(types.MutableType, types.TypeDecorator):    
    impl = types.Unicode

    def process_bind_param(self, value, engine):
        return unicode(jsonpickle.encode(value))

    def process_result_value(self, value, engine):
        if value:
            return jsonpickle.decode(value)
        else:
            # default can also be a list
            return {}
"
9319,32801,Python: How to merge the same elements in an array?,"data = [['Amy', '2'],
    ['Amy', '2'],
    ['Amy', '1'], 
    ['Yoyo', '1'],
    ['Yoyo', '2'],
    ['Yoyo', '2']]

import itertools

def extract_key(v):
    return v[0]

# itertools.groupby needs data to be sorted first
data = sorted(data, key=extract_key)

result = [
    [k,[x[1] for x in g]]
    for k, g in itertools.groupby(data, extract_key)
]
"
9388,17360,Python datetime to string without microsecond component,">>> datetime.datetime.now().strftime(""%Y-%m-%d %H:%M:%S"")
'2011-11-03 18:21:26'
"
37672,44232,How can i launch a new .py file from a python script,"import sys
import subprocess as subp

if logged_in == True:
    subp.call([sys.executable, ""someprogram.py"", ""arg1"", ""arg2""])
"
18953,30590,How can I write a result as csv?,"import requests
from bs4 import BeautifulSoup
import csv

payload = {'ID': '18845', 'PS': '1', 'Submit': 'Submit'}
r = requests.post(""http://.com"", data=payload)

soup = BeautifulSoup(r.text, ""html.parser"")

with open('some.csv', 'wb') as csvfile:
    csvwriter = csv.writer(csvfile, delimiter=';')
    ll = []
    for row in soup.findAll('table')[0].findAll('tr'):
        ans = row.findAll('td')[1].contents
        ll.append(ans)
    csvwriter.writerow(ll)
"
20282,51219,Regexp to check if an IP is valid,"\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b
"
1619,683,How to make a number triangle,"def line(n):
    for i in range(n):
        print(i+1, end='')
    print()
"
38892,7816,error in inheritance c++ using swig,"%inline %{
    class PyListener : public Listener {
        PyObject * function;
    public:
        PyListener() {};
        PyListener(PyObject * func) : function(func) {};
        void register_new() {Py_XINCREF(function);};
        ~PyListener () {Py_XDECREF(function);};
         void run(Msg &m) {
            PyGILState_STATE gstate;
            gstate = PyGILState_Ensure();
            PyObject *pValue = PyCObject_FromVoidPtr((void*)&m,NULL);
            PyObject *pArgs = PyTuple_New(1);
            PyTuple_SetItem(pArgs, 0, pValue);
            PyObject_CallObject(function, pArgs);
            PyGILState_Release(gstate);
        };
    };
%}
"
29420,16622,Binding an objects value within a function (closure),"x = 3
def f( x=x ): 
    return x

x = 7
f()  # 3
"
13788,50978,How can a zope.interface.Interface require implementation of a list of objects that implement another interface?,"from zope.schema import Text, List, Object
from zope.interface import Interface

class IChildInterface(Interface):
    someField = Text()

class IParentInterface(Interface):
    mycollection = List(value_type=Object(title=u'Child',
                                          schema=IChildInterface))
"
37444,36991,How to apply to new data on tkinter's canvas,"class SubWindow:

    def change(self):
        self.s1Var.set(""new1"")

    def createWidgets(self, root):
        self.s1Var = StringVar(); self.s1Var.set(""string1"")

        self.s1Label = Label(root,textvariable=self.s1Var)
        self.s1Label.grid(row=0, column=5)

        self.changeButton = Button(root, text=""Change"", command=self.change)
        self.changeButton.grid(row=9, column=7)
"
39919,11090,"Python, cast Integer to bytes.","raw[j] = struct.pack(""B"", chksum & 0xff)
etc..
"
6403,8802,How to create histogram from grouped data,"titanic = pd.read_csv('titanic_data.csv')
survival_by_age = titanic.groupby(['Age', 'Survived']).size().unstack('Survived')
survival_by_age.columns = ['No', 'Yes']
survival_by_age.plot.bar(title='Survival by Age')
"
8035,443,"Using NLTK, how to get a dispersion plot of a list?","myText = nltk.Text(...)
"
8158,61311,Simple string match,"def matchStr(ipadr = '10.20.30.40', matchIP = '10.20.'):
    return ipadr.startswith(matchIP)
"
6988,10611,Cleanly asserting a specific part of a config file,"from jsonschema import validate
schema = {
     ""type"" : ""object"",
     ""properties"" : {
         ""price"" : {""type"" : ""number""},
         ""name"" : {""type"" : ""string""},
     },
}

# If no exception is raised by validate(), the instance is valid.
validate({""name"" : ""Eggs"", ""price"" : 34.99}, schema)

validate({""name"" : ""Eggs"", ""price"" : ""Invalid""}, schema) 

Traceback (most recent call last):
    ...
ValidationError: 'Invalid' is not of type 'number'
"
38748,36072,Regex For Parsing a Definition In Plain English with Example,"import re
EXAMPLE_REGEX = re.compile(""(.*):(.*)(?:e.?g.?|(?:for )?example)(.*)"")
print EXAMPLE_REGEX.findall('Foo: The companion of bar e.g. I have class called FooBar')
"
27962,66393,python pygame how to debounce a button?,"picture_was_taken = False

while running:
     hadEvent = False
     events = pygame.event.get()
     for event in events:
       ...
       if event.type == pygame.JOYBUTTONUP:
           if not joystick.get_button(button_take_picture)
               picture_was_taken = False
       ...
       if hadEvent:
           if joystick.get_button(button_take_picture) and not picture_was_taken:
               take_picture()
               picture_was_taken = True
"
17744,23963,How to use regex as dictionary's key?,"def get_content(filename):
    lookup = (
        (r'.*key1.*', 'blahblah',),
        (r'.*key2.*', 'thing',),
    )
    for pattern, content in lookup:
        if re.match(pattern, filename):
            return content
"
3105,80868,Dynamic 3d array slicing and sorting,"import numpy as np

#lats x lons
a2d=np.arange(20).reshape( (4,5) )
print a2d

lats=np.arange(4)
lats2d=np.ones(5)*lats[:,None]
yi=[1,3]
nlats=np.sum(np.bitwise_and(lats>=np.min(yi),lats<=np.max(yi)))

lons=np.arange(5)
lons2d=np.ones(4)[:,None]*lons
xi=[1,2]
nlons=np.sum(np.bitwise_and(lons>=np.min(xi),lons<=np.max(xi)))


#slice= lats2d>=1 & lats2d<=2 & lons2d>=1 & lons2d<=2
s1=np.bitwise_and(lats2d>=np.min(yi),lats2d<=np.max(yi))
s2=np.bitwise_and(lons2d>=np.min(xi),lons2d<=np.max(xi))
slice=np.bitwise_and(s1,s2)
print slice
slice=np.where(slice)
print a2d[slice].reshape( (nlats,nlons) )

import matplotlib.mlab as mlab

print mlab.griddata(lats2d[slice],lons2d[slice],a2d[slice],
#              np.array([1.3,2.1,2.9]),np.array([1.1,1.9]))
            np.array([1,2,3]),np.array([1,2]))
"
7663,41970,How do you populate a Combobox based on the selection of another Combobox?,"from tkinter import *
import tkinter.ttk

category = {'home': ['utilities','rent','cable'],
    'car': ['gas','oil','repairs'],
    'rv':['parks','maintenance','payment']}

class Application(Frame):

    def __init__(self, master=None, Frame=None):
        Frame.__init__(self, master)
        super(Application,self).__init__()
        self.grid(column = 5,row = 20,padx = 50,pady = 50)
        self.createWidgets()

    def getUpdateData(self,  event):
        self.AccountCombo['values'] = category[self.CategoryCombo.get()]

    def createWidgets(self):
        Label(text = 'Combo Box #1:').grid(row = 2,column = 1,padx = 10)
        Label(text = 'Combo Box #2:').grid(row = 4,column = 1,padx = 10)
        self.AccountCombo = tkinter.ttk.Combobox( width = 15)
        self.AccountCombo.grid(row = 5,column = 1,pady = 25,padx = 10)

        self.CategoryCombo = tkinter.ttk.Combobox(width = 15,  values = list(category.keys()))
        self.CategoryCombo.bind('<<ComboboxSelected>>', self.getUpdateData)
        self.CategoryCombo.grid(row = 3,column = 1,padx = 10,pady = 25)

app = Application()
app.master.title('Yearly Budget Setup')
app.mainloop()
"
14162,37579,Split a Pandas Dataframe into multiple smaller dataframes based on empty rows,"df['counter'] = (df['Header1'] == ""''"").cumsum()
df = df[df['Header1'] != ""''""]  # remove empty rows
df.groupby('counter').apply(lambda df: df.iloc[0])
"
32845,24503,"Jupyter (ipython notebook), hide menu and some toolbar buttons, or run python code on loading","require(['base/js/events','base/js/namespace'], function(events, IPython){
    events.on('kernel_ready.Kernel', function () {
        // your code here
    })
});
"
21800,68500,Making a virtual package available via sys.modules,">>> import sys,types,xml
>>> xml.config = sys.modules['xml.config'] = types.ModuleType('xml.config')
>>> import xml.config
>>> from xml import config
>>> from xml import config as x
>>> x
<module 'xml.config' (built-in)>
"
34041,16600,Get only properties of an instance,"def iter_properties_of_class(cls):
    for varname in vars(cls):
        value = getattr(cls, varname)
        if isinstance(value, property):
            yield varname

def properties(inst):
    result = {}
    for cls in inst.__class__.mro():
        for varname in iter_properties_of_class(cls):
            result[varname] = getattr(inst, varname)
    return result

>>> a = MyClass()
>>> a.x = 5
Setting x to 5
>>> properties(a)
{'x': 5}
"
16350,7106,Telnet cisco switch using python,"import pexpect
import getpass

HOST = ""10.203.4.1""
user = raw_input(""Enter your remote account: "")
password = getpass.getpass()

child = pexpect.spawn ('telnet '+HOST)
child.expect ('Username: ')
child.sendline (user)
child.expect ('Password: ')
child.sendline (password)
# If the hostname of the router is set to ""deep""
# then the prompt now would be ""deep>""
routerHostname = ""deep"" #example - can be different
child.expect (routerHostname+'>')
child.sendline ('enable')
"
22467,17945,How to export VisPy result as png image,"import vispy.plot as vp 
import vispy.io as io

# Create a canvas showing plot data 
canvas = vp.plot([1, 6, 2, 4, 3, 8, 5, 7, 6, 3])

# Use render to generate an image object
img=canvas.render()

# Use write_png to export your wonderful plot as png ! 
io.write_png(""wonderful.png"",img)
"
5419,72900,Python ldap connection test,"try:
ldapObject = ldap.open(host=""host"", port=389)
ldapObject .simple_bind_s()
except ldap.SERVER_DOWN:
print(""Failed"")
"
10858,81236,Python: 2D color map with imshow,"import numpy as np
import matplotlib.pyplot as plt


def z_func(x, y):
    return (1 - (x ** 2 + y ** 3)) * np.exp(-(x ** 2 + y ** 2) / 2)

x = np.arange(-3.0, 3.0, 0.1)
y = np.arange(-3.0, 3.0, 0.1)
X, Y = np.meshgrid(x, y)
Z = z_func(X, Y) 


im = plt.imshow(Z, cmap=plt.cm.RdBu, extent=(-3, 3, 3, -3))  
cset = plt.contour(Z, np.arange(-1, 1.5, 0.2), linewidths=2,
                   cmap=plt.cm.Set2,
                   extent=(-3, 3, -3, 3))
plt.clabel(cset, inline=True, fmt='%1.1f', fontsize=10)
plt.colorbar(im)  

plt.title('$z=(1-x^2+y^3) e^{-(x^2+y^2)/2}$')

plt.show()
"
1974,25897,Accessing elements of a python list separated by a special character,"a = ['NEW:kim:OPERATOR', 'DELETE:joe:USER_ROLE_GUEST']
a[0].split("":"")[0] # returns NEW
"
6636,26352,How can I make my code be a set?,"In [49]: f([1,4,6,7,3,2,4,5,7,5,6])
Out[49]: [1, 3, 2]
"
39899,5651,determine if a list contains other lists,"any(isinstance(el, list) for el in input_list)
"
7309,25693,merging two tables by placing data when condition satisfies," SELECT B.NO, B.v1 AS V1, A.a2 AS V2
 FROM A INNER JOIN B
 WHERE A.a1 = B.v1;
"
33071,8664,Avoid having two different numeric subclasses?,"class Named(object):
    """"""Named object mix-in. Not useable directly.""""""
    def __setattr__(self, name, value):
        if hasattr(self, name):
            raise AttributeError(
                ""%r object attribute %r is read-only"" %
                (self.__class__.__name__, name))
        else:
            raise AttributeError(
                ""Cannot add attribute %r to %r object"" %
                (name, self.__class__.__name__))

    def __new__(cls, name, *args):
        self = super(Named, cls).__new__(cls, *args)
        super(Named, self).__setattr__('_name', name)
        return self

    def __str__(self):  # override string conversion to be name
        return self._name

    __repr__ = __str__

class NamedInt(Named, int):
    """"""NamedInt class. Constructor will return a NamedLong if value is big.""""""
    def __new__(cls, name, *args):
        value = int(*args) # will raise an exception on invalid arguments
        if isinstance(value, int):
            return super(NamedInt, cls).__new__(cls, name, value)
        elif isinstance(value, long):
            return NamedLong(name, value)

class NamedLong(Named, long):
    """"""Nothing to see here.""""""
    pass
"
24512,9224,Creating a panda's dataframe out of a single variable that contains a dict,"data = {
    'test1': 10,
    'test2': 20,
    'testx': 40,
    'foo': 50,
}

items = data.items()
pd.DataFrame({'keys': [i[0] for i in items], 'values': [i[1] for i in items]})
"
22971,53943,Reading columns from text file without a clear delimiter,"import re

for word in re.split(r'\s+', line):
    print word
"
18692,3471,Django Queryset: Need help in optimizing this set of queries,"from collections import Counter
from itertools import combinations

# Assuming Models
class Question(models.Model):
    ...

class Tag(models.Model):
    tag = models.CharField(..)
    question = models.ForeignKey(Question, related_name='tags')

c = Counter()
questions = Question.objects.all().prefetch_related('tags') # prefetch M2M
for q in questions:
    # sort them so 'point' + 'curve' == 'curve' + 'point'
    tags = sorted([tag.name for tag in q.tags.all()])
    c.update(combinations(tags,2)) # get all 2-pair combinations and update counter
c.most_common(5) # show the top 5
"
17112,1572,Decorating a Python method already decorated with @classmethod which calls another @classmethod,"def my_decorator(method):
    def redefined_method(*args, **kwargs):
        print('Starting decorator')
        method(args, **kwargs)
        # here ^, no star!
    return redefined_method
"
37405,2758,How to use Python (preferably pandas) to scrape data from Javascript table?,"http://www.quanthockey.com/scripts/AjaxPaginate.php?cat=Records&pos=Players&SS=&af=0&nat=alltime&st=reg&sort=goals-per-game&page=3&league=NHL&lang=en&rnd=451318572
"
3381,60931,"How to create a table in Python that has headers (text), filled with values (int and float)","info = np.zeros(shape=(no_of_label+1,19),dtype=float)

for i in np.arange(1,no_of_label+1,1):
    info[i-1] = [C[0],C[1],C[2],i,int(round(C[0]-b)),int(round(C[1]-b)),int(round(C[2]-b)),int(round(C[0]+b)),int(round(C[1]+b)),int(round(C[2]+b)),volume,0,0,0,0,0,0,0,0]

np.savetxt(save_path+Folder+'/Data_'+Folder+'.csv',information,fmt = '%10.5f' ,delimiter="","",header='Xpos,Ypos,Zpos,NodeNumber,BoundingBoxTopX,BoundingBoxTopY,BoundingBoxTopZ,BoundingBoxBottomX,BoundingBoxBottomY,BoundingBoxBottomZ,BoxVolume,Xdisp,Ydisp,Zdisp,Xrot,Yrot,Zrot,CC,Error',comments='')
"
27212,67861,How to create a python 2.7 environment variable?,"@C:\Python27\python.exe %*
"
34241,84498,if/elif/else-statement doesn't work with random.choice,"import random
print('hello')
question1 = [' cbca', ' cbbca']

question = random.choice(question1) # Remember the choice of random

print(""What's equal to"" + question + ""?"")
r = input()
if r in ('7,8', '7.8', '78') and question == ' cbca' :

    print(""That's correct!"")

elif r in ('1', '1,0') and question == ' cbbca' :
    print(""That's correct!"")

else :
    print('r')
"
21017,41019,How to fetch json argument in handler (json is in body of post request with no key to json),"data = tornado.escape.json_decode(self.request.body) 
"
27131,46875,Combine elements by the key in list,"res = [{ 'key': key,
         'values': [{'x': each['x'], 'y': each['y']} 
                    for each in arr if each['key'] == key] }
       for key in all_keys]
"
29196,36565,Finding a value within a dictionary of ranges - python,"from collections import defaultdict
ident_ranges = defaultdict(list)
with open('file1.txt', 'r') as f1
    for row in f1:
        ident, start, end = row.split()
        start, end = int(start), int(end)
        ident_ranges[ident].append((start, end))
with open('file2.txt', 'r') as f2, open('out.txt', 'w') as output:  
    for line in f2:
        ident, value = line.split()
        value = int(value)
        if any(start <= value <= end for start, end in ident_ranges[ident]):
            output.write(line)
"
5914,45599,Catch KeyboardInterrupt or handle signal in thread,"import subprocess
import threading
import random

def killer_func(event):
    possible_cmds = [['echo', 'hello'],
                     ['echo', 'world'],
                     ['/home/cycdev/killer.py']
                     ]
    random.shuffle(possible_cmds)
    for cmd in possible_cmds:
        subprocess.check_call(cmd)
        event.wait(4)
        if event.is_set():
            print(""Main thread got a signal. Time to clean up"")
            # save state here.
            return

event = threading.Event()
killer_thread = threading.Thread(target=killer_func, args=(event,))
killer_thread.start()
try:
    killer_thread.join()
except KeyboardInterrupt:
    print(""Caught the kill -2 in the main thread :)"")
    event.set()
    killer_thread.join()

print(""Main program shutting down"")
"
4071,28859,Sum 2 columns of pandas DataFrame with a row condition,"In [14]: df[df[['B', 'C']] > 0].max(1)
Out[14]: 
0    1
1    2
2    3
3    1
4    5
dtype: float64

In [15]: df['D'] = df[df[['B', 'C']] > 0].max(1)
"
36350,57097,getting the module and line that a function was called from,"import inspect

def b():
    f = inspect.currentframe()
    current = inspect.getframeinfo(f)
    caller = inspect.getframeinfo(f.f_back)
    #caller = inspect.getframeinfo(inspect.getouterframes(f)[1][0])
    print(__name__, current.filename, current.function, current.lineno, caller.function)

def a():
    b()

a()
"
1459,26186,Set default region in boto config,"[DynamoDB]
region = us-west-2
validate_checksums = True
"
1827,10767,Iterating through MultiIndex data in python pandas,"In [102]: for name, group in df.groupby(level='industry'):
   .....:     print name, '\n', group, '\n'
   .....:
retail
                   number
industry location
retail   brazil       294
         nyc         2913
         paris        382

technology
                     number
industry   location
technology china        100
           us          2182
"
27864,62692,Convert a list into a sequence of string triples,"def list_to_items(lst):
    return [(item.upper(), item.title(), '') for item in lst]
"
18666,32478,Django Admin Interface Does Not Use Subclass's __unicode__(),"class Animal(models.Model):
    def __unicode__(self):
        if hasattr(self, 'dog'):
            return self.dog.__unicode__()
        elif hasattr(self, 'cat'):
            return self.cat.__unicode__()
        else:
            return 'Animal'
"
28026,66606,how to remove plot elements in python,"ax.set_axis_off()
"
36149,22039,Python-Remove rows based on lack of character,">>> import re
>>> data = ['TC', 'CY', 'GS', 'GA', 'CT']
>>> [x for x in data if re.match(r'^[ACGT]+$', x)]
['TC', 'GA', 'CT']
"
28076,21990,implementing functools.partial that prepends additional arguments,"class rpartial(partial):
    def __call__(self, *args, **kwargs):
        kw = self.keywords.copy()
        kw.update(kwargs)
        return self.func(*(args + self.args), **kwargs)
"
29879,44192,Roll up categorical values into second variable Python,"stages = {'18-24': 'young adult',
          '25-34': 'adult', ...}

for age in age_group:
    lifestage = stages[age]
"
30235,30691,Writing a 3D numpy array into a slice of a larger 3D array using a 2D mask,"image1 = np.ones((5,5,16))
image2 = 2 * np.ones((3,3,16))
mask = np.array([[0, 1, 1], [0, 0, 1], [1, 0, 0]])
x, y = np.where(mask)
image1[1:4,1:4,:][x,y,:] = image2[x,y,:]
"
21339,31932,Is there a list of default/user-generated matplotlib stylesheets/styles along the lines of ggplot and xkcd?,"In [23]: matplotlib.style.available
Out[23]: [u'dark_background', u'bmh', u'grayscale', u'ggplot', u'fivethirtyeight']
"
16686,62245,python split a text file function,">>> import re
>>> def tokenize(document):
...     return re.findall(""[A-Za-z'-]+"", document)
...
>>> tokenize(""Hi there. What's going on? first-class"")
['hi', 'there', ""what's"", 'going', 'on', 'first-class']
>>>
"
30968,34743,python on script unload event (destructor),"import os, sys
def set_exit_handler(func):
    if os.name == ""nt"":
        try:
            import win32api
            win32api.SetConsoleCtrlHandler(func, True)
        except ImportError:
            version = '.'.join(map(str, sys.version_info[:2]))
            raise Exception('pywin32 not installed for Python ' + version)
    else:
        import signal
        signal.signal(signal.SIGTERM, func)

if __name__ == '__main__':
    def on_exit(sig, func=None):
        f = open('log.txt', 'w')
        f.write('shutdown...')
        f.close()
        sys.exit()
    set_exit_handler(on_exit)
    print 'Press  to quit'
    raw_input()
    print 'quit!'
"
29150,70498,Python legend labels as expression,"tau = np.array([.1, .2, .3])
num_repeats = 3
plot_colors = ['r-','b-','k-']
labels = ['tau = 0.1','tau = 0.2','tau = 0.3']
plot_handles=[None]*3

for k in np.arange(tau.size):
  for ell in np.arange(num_repeats):
    ( _, _, n_iter, history,_ ) = opti.minimise (theta0, f_tol=f_tol, theta_tol = theta_tol, tau=tau[k], N=3,report=50000, m=1)
    true_energy = -59.062
    error = np.absolute(true_energy - history[:,num_p])
    if ell == 0:
        label = labels[k] 
    else:
        label = '' 
    plot_handles[k] = plt.plot(np.arange(0, n_iter), error, plot_colors[k], label=label)

plt.xlabel('Iteration')
plt.ylabel('Absolute Error')
plt.yscale('log')
plt.legend(handles=plot_handles)
plt.show()
"
32203,68469,surface plots in matplotlib,"import numpy as np
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt
import random

def fun(x, y):
  return x**2 + y

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
x = y = np.arange(-3.0, 3.0, 0.05)
X, Y = np.meshgrid(x, y)
zs = np.array([fun(x,y) for x,y in zip(np.ravel(X), np.ravel(Y))])
Z = zs.reshape(X.shape)

ax.plot_surface(X, Y, Z)

ax.set_xlabel('X Label')
ax.set_ylabel('Y Label')
ax.set_zlabel('Z Label')

plt.show()
"
4988,9574,wx.GenericDirCtrl Event's handling,"#!/usr/bin/python
import wx

class BoExplorerPanel(wx.Frame):
  def __init__(self):
     wx.Frame.__init__(self, None)

     self.initComponents() # initialize Window components

  def initComponents(self):
     print ""Inizializzo i controlli""
     # controls
     resizeBox = wx.BoxSizer(wx.VERTICAL)

     self.dirBrowser = wx.GenericDirCtrl(self, wx.ID_ANY, style = wx.DIRCTRL_DIR_ONLY)

     resizeBox.Add(self.dirBrowser, 1, wx.EXPAND | wx.ALL)

     self.SetSizerAndFit(resizeBox)

     # events
     tree = self.dirBrowser.GetTreeCtrl()
     self.Bind(wx.EVT_TREE_ITEM_ACTIVATED, self.dirBrowser_OnItemSelected, tree)
     self.Bind(wx.EVT_TREE_ITEM_RIGHT_CLICK, self.dirBrowser_OnRightClick, tree)
     self.Bind(wx.EVT_TREE_SEL_CHANGED, self.dirBrowser_OnSelectionChanged, tree)

     # panel's properties

  def dirBrowser_OnItemSelected(self, event):
     print ""CLicked""
     event.Skip()

  def dirBrowser_OnRightClick(self, event):
     print ""Right Click""
     event.Skip()

  def dirBrowser_OnSelectionChanged(self, event):
     print ""Selection Changed""
     event.Skip()


app = wx.App(False)
f = BoExplorerPanel()
f.Show()
app.MainLoop
"
8214,53869,How to store a hashtable of lists in Python (hashed by identity)?,"dct[id(lst)] = lst
"
8450,77430,"How do I avoid the ""self.x = x; self.y = y; self.z = z"" pattern in __init__?","import decorator
import inspect
import sys


@decorator.decorator
def simple_init(func, self, *args, **kws):
    """"""
    @simple_init
    def __init__(self,a,b,...,z)
        dosomething()

    behaves like

    def __init__(self,a,b,...,z)
        self.a = a
        self.b = b
        ...
        self.z = z
        dosomething()
    """"""

    #init_argumentnames_without_self = ['a','b',...,'z']
    if sys.version_info.major == 2:
        init_argumentnames_without_self = inspect.getargspec(func).args[1:]
    else:
        init_argumentnames_without_self = tuple(inspect.signature(func).parameters.keys())[1:]

    positional_values = args
    keyword_values_in_correct_order = tuple(kws[key] for key in init_argumentnames_without_self if key in kws)
    attribute_values = positional_values + keyword_values_in_correct_order

    for attribute_name,attribute_value in zip(init_argumentnames_without_self,attribute_values):
        setattr(self,attribute_name,attribute_value)

    # call the original __init__
    func(self, *args, **kws)


class Test():
    @simple_init
    def __init__(self,a,b,c,d=4):
        print(self.a,self.b,self.c,self.d)

#prints 1 3 2 4
t = Test(1,c=2,b=3)
#keeps signature
#prints ['self', 'a', 'b', 'c', 'd']
if sys.version_info.major == 2:
    print(inspect.getargspec(Test.__init__).args)
else:
    print(inspect.signature(Test.__init__))
"
26968,32314,Download JSON data and convert it to CSV using Python,"import urllib2
import json
import csv

def getRows(data):
    # ?? this totally depends on what's in your data
    return []

url = ""http://www.yahoo.com/something""
data = urllib2.urlopen(url).read()
data = json.loads(data)

fname = ""mydata.csv""
with open(fname,'wb') as outf:
    outcsv = csv.writer(outf)
    outcsv.writerows(getRows(data))
"
20514,68615,Print out a certain section of a file,"def search_entries():
    found = 0
    search = raw_input(""Please enter the person's name: "")
    for line in open('addbook.txt', 'r').readlines():
        if search in line:
            found = 1
        if found >= 1:
            print line
            found = found + 1
            if found == 4: break
"
6022,66358,what does the turtle.setworldcoordinates function do?,"def setworldcoordinates(self, llx, lly, urx, ury):
    """"""Set up a user defined coordinate-system.

    Arguments:
    llx -- a number, x-coordinate of lower left corner of canvas
    lly -- a number, y-coordinate of lower left corner of canvas
    urx -- a number, x-coordinate of upper right corner of canvas
    ury -- a number, y-coordinate of upper right corner of canvas

    Set up user coodinat-system and switch to mode 'world' if necessary.
    This performs a screen.reset. If mode 'world' is already active,
    all drawings are redrawn according to the new coordinates.

    But ATTENTION: in user-defined coordinatesystems angles may appear
    distorted. (see Screen.mode())

    Example (for a TurtleScreen instance named screen):
    >>> screen.setworldcoordinates(-10,-0.5,50,1.5)
    >>> for _ in range(36):
    ...     left(10)
    ...     forward(0.5)
    """"""
    if self.mode() != ""world"":
        self.mode(""world"")
    xspan = float(urx - llx)
    yspan = float(ury - lly)
    wx, wy = self._window_size()
    self.screensize(wx-20, wy-20)
    oldxscale, oldyscale = self.xscale, self.yscale
    self.xscale = self.canvwidth / xspan
    self.yscale = self.canvheight / yspan
    srx1 = llx * self.xscale
    sry1 = -ury * self.yscale
    srx2 = self.canvwidth + srx1
    sry2 = self.canvheight + sry1
    self._setscrollregion(srx1, sry1, srx2, sry2)
    self._rescale(self.xscale/oldxscale, self.yscale/oldyscale)
    self.update()
"
38099,29959,"Keep getting this error, local variable not referenced before assignment (python)","import matplotlib.pyplot as plt

# column indices
HS, MATH, VERBAL, COLLEGE, COMPSCI = range(5)
# column labels
LABELS = [""High school GPA"", ""Math SAT"", ""Verbal SAT"", ""College GPA"", ""CompSci GPA""]
# column data types
DTYPES = [ float,             int,        int,          float,         float       ]

def read_columns(fname, encoding=""utf-8"", separator="","", dtypes=None):
    """"""
    Return columns of data from a file

    If dtypes is specified, convert each column to the given data type
    """"""
    # read rows from data file
    with open(fname, encoding=encoding) as inf:
        rows = [line.split(separator) for line in inf]
    # transpose to columns
    cols = zip(*rows)
    # apply data types
    if dtypes is not None:
        cols = [[dtype(cell) for cell in col] for dtype,col in zip(dtypes,cols)]
    return cols

def linear_regression(xs, ys):
    """"""
    Return the linear regression constants m,b
      in the least-squares best fit to y = m*x+b
    """"""
    # if you have SciPy you can use scipy.stats.linregress instead
    n = len(xs)
    xsum  = sum(xs)
    ysum  = sum(ys)
    xxsum = sum(x*x for x in xs)
    xysum = sum(x*y for x,y in zip(xs, ys))
    m = (n * xysum - xsum * ysum) / (n * xxsum - xsum * xsum)
    b = (ysum - m * xsum) / n
    return m, b    

def r_squared(xs, ys):
    m, b = linear_regression(xs, ys)
    ysum, n = sum(ys), len(ys)
    ymean = ysum / n
    ssum = sum((y - (m * x + b))**2 for x,y in zip(xs, ys))
    tsum = sum((y - ymean)**2 for y in ys)
    return 1 - ssum / tsum

def plot_regression(xs, xlabel, ys, ylabel):
    m, b = linear_regression(xs, ys)
    min_, max_ = min(xs), max(xs)
    plt.scatter(xs, ys)
    plt.plot([min_, max_], [m * min_ + b, m * max_ + b], ""r"")
    plt.xlabel(xlabel)
    plt.ylabel(ylabel)
    plt.show()

def main():
    # read data
    scores = read_columns(""satFINAL.txt"", dtypes=DTYPES)
    # add composite math-and-verbal score
    MATH_VERBAL = 5
    LABELS.append(""Math+Verbal SAT"")
    DTYPES.append(int)
    scores.append([math+verbal for math,verbal in zip(scores[MATH], scores[VERBAL])])

    # do raw score plots
    plt.figure(1)
    num_figs = len(LABELS)
    # draw subplots
    for fig, column, nums in zip(range(num_figs), LABELS, scores):
        plt.subplot(num_figs, 1, fig+1)
        plt.plot(range(len(nums)), nums)
        plt.xlabel(LABELS[fig])
    # display results
    plt.show()

    # do regression plots
    regressions = [
        (HS,          COLLEGE),
        (MATH,        COLLEGE),
        (VERBAL,      COLLEGE),
        (MATH_VERBAL, COLLEGE),
        (MATH,        VERBAL),
        (MATH,        COMPSCI),
        (HS,          COMPSCI),
        (MATH_VERBAL, COMPSCI)
    ]
    for x,y in regressions:
        print(""r**2 for {} and {}: {}"".format(LABELS[x], LABELS[y], r_squared(scores[x], scores[y])))
        plot_regression(scores[x], LABELS[x], scores[y], LABELS[y])

if __name__==""__main__"":
    main()
"
30539,12546,Why I can't iterate over a binary multiple line reading?,"with open('test.wad','r') as file:
    for line in file:
        print repr(line)


#output 'PWAD\x0b\x00\x00\x00U\x01\x00\x00`\xff`\xff\x0e\x01\x01\x00\x07\x00\x01\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\xff\xff\x02\x00\x01\x00\x01\x00\x00\x00\x00\x00\x01\x00\xff\xff\x03\x00\x02\x00\x01\x00\x00\x00\x00\x00\x02\x00\xff\xff\x00\x00\x03\x00\x01\x00\x00\x00\x00\x00\x03\x00\xff\xff\x00\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00STARTAN2\x00\x00\x00\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00STARTAN2\x00\x00\x00\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00STARTAN2\x00\x00\x00\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00-\x00\x00\x00\x00\x00\x00\x00STARTAN2\x00\x00\x00\xff\xc0\xff\x00\xff\x00\xff\xc0\xff\x00\xff\xc0\xff\xc0\xff\x01\x00\x00\x00\x00@\x00\x00\x00\x00\x00\x00\x02\x00\x01\x00\x00\x80\x01\x00\x00\x00\x00\x00\x03\x00\x02\x00\x00\xc0\x02\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x03\x00\x00\x00\x00\x00\x04\x00\x00\x00\x00\x00\x80\x00FLOOR0_1CEIL1_1\x00\xc0\x00\x00\x00\x00\x00\x01\xf8\xfe\xf8\xfe\x02\x00\x02\x00\x08\x00\x0c\x00\x10\x00\x14\x00\x00\x00\x00\x00\x01\x00\xff\xff\x00\x00\x01\x00\x02\x00\xff\xff\x00\x00\x00\x00\x03\x00\xff\xff\x00\x00\x02\x00\x03\x00\xff\xff\x0c\x00\x00\x00\x00\x00\x00\x00MAP01\x00\x00\x00\x0c\x00\x00\x00\n'
'\x00\x00\x00THINGS\x00\x00\x16\x00\x00\x008\x00\x00\x00LINEDEFSN\x00\x00\x00x\x00\x00\x00SIDEDEFS\xc6\x00\x00\x00\x10\x00\x00\x00VERTEXES\xd6\x00\x00\x000\x00\x00\x00SEGS\x00\x00\x00\x00\x06\x01\x00\x00\x04\x00\x00\x00SSECTORS\n'
'\x01\x00\x00\x00\x00\x00\x00NODES\x00\x00\x00\n'
'\x01\x00\x00'
"
6289,18613,Passing data for nvd3 chart from Flask as an argument,"{{ data|tojson|safe }}
"
17021,51414,How to randomly shuffle data and target in python?,"In [67]: train = np.arange(20).reshape(4,5).T

In [68]: target = np.hstack([np.arange(5).reshape(5,1), np.arange(100, 105).reshape(5,1)])

In [69]: train
Out[69]:
array([[ 0,  5, 10, 15],
       [ 1,  6, 11, 16],
       [ 2,  7, 12, 17],
       [ 3,  8, 13, 18],
       [ 4,  9, 14, 19]])

In [70]: target
Out[70]:
array([[  0, 100],
       [  1, 101],
       [  2, 102],
       [  3, 103],
       [  4, 104]])

In [71]: np.random.shuffle(train)

In [72]: target[train[:,0]]
Out[72]:
array([[  2, 102],
       [  3, 103],
       [  1, 101],
       [  4, 104],
       [  0, 100]])

In [73]: train
Out[73]:
array([[ 2,  7, 12, 17],
       [ 3,  8, 13, 18],
       [ 1,  6, 11, 16],
       [ 4,  9, 14, 19],
       [ 0,  5, 10, 15]])
"
28581,47136,making matplotlib with pandas dataframe data,"import pylab as plt
import pandas as pd
from random import sample

atype = list('abc'*2)
asize = sample(xrange(100), 6)

df = pd.DataFrame({'type': atype, 'size': asize})
df_grouped = df.groupby('type').sum() # sum sizes for same types
df_grouped.plot(kind='bar')
plt.show()
"
24749,46888,Setting Variable as Integer Once,"x = 0
while x < 10:
    if condition:
        x += 1
"
4944,83502,Python xarray: Extract first and last time value within each month of a timeseries,"time = xray.DataArray(arr.time.values, coords=[arr.time.values], dims=['time'])
time_first = time.resample('1M', 'time', how='first')
time_last = time.resample('1M', 'time', how='last')
time_diff = time_last - time_first
"
7559,12565,"""Slice"" a number into three random numbers","from itertools import combinations
with open(""rand.txt"",""w"") as f:
    combs = [x for x in combinations(range(16),3) if sum(x ) == 15 ][:10]   
    for a,b,c in combs:
        f.write(""{} {} {}\n"".format(a,b,c))
"
23723,48374,Python Data Insert From Beautiful Soup Table to MYSQL,"import urllib2, base64, csv
from bs4 import BeautifulSoup
import MySQLdb
import os
import string
import datetime

request = urllib2.Request(""website.com"")
base64string = base64.encodestring('%s:%s' % ('username','password')).replace('\n', '')
request.add_header(""Authorization"", ""Basic %s"" % base64string)   
result = urllib2.urlopen(request)
soup = BeautifulSoup(result.read())

#print(soup.prettify())
#table=soup.find('table', {""class"":""resultsTable,ruler,sortable""})[0]


# Open database connection
db = MySQLdb.connect(host=""ipaddress"", # your host, usually localhost
                     user=""username"", # your username
                      passwd=""password"", # your password
                      db=""databsae"") # name of the data base

cursor=db.cursor()

table=soup.findAll('table')[6]

#print table

for row in table.findAll('tr'):
    cells = row.findAll('td')
    #For each ""tr"", assign each ""td"" to a variable.
    if len(cells) == 19:
        column1 = cells[0].find(text=True)
        column2 = cells[1].find(text=True)
        column3 = cells[2].find(text=True)
        column4 = cells[3].find(text=True)
        column5 = cells[4].find(text=True)
        column6 = cells[5].find(text=True)
        column7 = cells[6].find(text=True)
        column8 = cells[7].find(text=True)
        column9 = cells[8].find(text=True)
        column10 = cells[9].find(text=True)
        column11 = cells[10].find(text=True)
        column12 = cells[11].find(text=True)
        column13 = cells[12].find(text=True)
        column14 = cells[13].find(text=True)
        column15 = cells[14].find(text=True)
        column16 = cells[15].find(text=True)
        column17 = cells[16].find(text=True)
        column18 = cells[17].find(text=True)
        column19 = cells[18].find(text=True)
        TOTAL_AD_CALLS = column6.replace(',','')
        TOTAL_US_AD_CALLS = column7.replace(',','')
        TOTAL_NON_US_AD_CALLS = column8.replace(',','')
        TOTAL_NON_CLEAN_US_AD_CALLS = column10.replace(',','')
        TOTAL_CLEAN_US_AD_CALLS = column12.replace(',','')
        UNUSABLE_AD_CALLS = column13.replace(',','')
        NO_ADS_RETURNED = column14.replace(',','')
        PSAS_RETURNED = column15.replace(',','')
        ADS_RETURNED = column16.replace(',','')
        TOTAL_RETURNED = column17.replace(',','')
        TOTAL_IMPRESSIONS  = column18.replace(',','')
        Engagements = column19.replace(',','')
        NOT_US_RATE = column9.replace('%','')
        NOT_CLEAN_RATE = column11.replace('%','')
        Created = datetime.datetime.now()

print Engagements


cursor.execute (""INSERT INTO PYTHON_TEST (REPORT_TYPE, THE_DATE, PARENT_ID, SITE_ID,SITE_NAME, TOTAL_AD_CALLS, TOTAL_US_AD_CALLS, TOTAL_NON_US_AD_CALLS, NOT_US_RATE, TOTAL_NON_CLEAN_US_AD_CALLS, NOT_CLEAN_RATE, TOTAL_CLEAN_US_AD_CALLS, UNUSABLE_AD_CALLS, NO_ADS_RETURNED, PSAS_RETURNED, ADS_RETURNED, TOTAL_RETURNED, TOTAL_IMPRESSIONS, ENGAGEMENTS, CREATED) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s);"", (column1, column2, column3, column4, column5, TOTAL_AD_CALLS, TOTAL_US_AD_CALLS, TOTAL_NON_US_AD_CALLS, NOT_US_RATE ,TOTAL_NON_CLEAN_US_AD_CALLS, NOT_CLEAN_RATE, TOTAL_CLEAN_US_AD_CALLS, UNUSABLE_AD_CALLS, NO_ADS_RETURNED, PSAS_RETURNED, ADS_RETURNED, TOTAL_RETURNED, TOTAL_IMPRESSIONS, Engagements, Created))

#cursor.execute (""INSERT INTO PYTHON_TEST (ENGAGEMENTS,434 ) VALUES (%s);"", (Engagements))
db.commit()
'''
cursor.execute (""INSERT INTO PYTHON_TEST  VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s);"", (column1, column2, column3, column4, column5, TOTAL_AD_CALLS, TOTAL_US_AD_CALLS, TOTAL_NON_US_AD_CALLS, NOT_US_RATE ,TOTAL_NON_CLEAN_US_AD_CALLS, NOT_CLEAN_RATE, TOTAL_CLEAN_US_AD_CALLS, UNUSABLE_AD_CALLS, NO_ADS_RETURNED, PSAS_RETURNED, ADS_RETURNED, TOTAL_RETURNED, TOTAL_IMPRESSIONS, Engagements, Created, Created))'''


# disconnect from server
db.close()
"
6552,84361,Python script command line input,"import os
import sys

dir_arg=sys.argv[1]
num_arg=int(sys.argv[2])  #need to convert second argument to a number

dirs=os.listdir(dir_arg)

print dirs[:num_arg]
"
7873,13196,How to use ipython's IPShellEmbed from within a running doctest,"import sys

from IPython.Shell import IPShellEmbed

class IPShellDoctest(IPShellEmbed):
   def __call__(self, *a, **kw):
       sys_stdout_saved = sys.stdout
       sys.stdout = sys.stderr
       try:
           IPShellEmbed.__call__(self, *a, **kw)
       finally:
           sys.stdout = sys_stdout_saved


def some_function():
  """"""
  >>> some_function()
  'someoutput'
  """"""
  # now try to drop into an ipython shell to help
  # with development
  IPShellDoctest()(local_ns=locals())
  return 'someoutput'

if __name__ == '__main__':
  import doctest
  print ""Running doctest . . .""
  doctest.testmod()
"
25880,5325,What is an easy way of removing a list of words from a list of sentences?,"i = re.sub(r""\b"" + re.escape(word.rstrip(""\n"")) + r""\b"", """", i)
"
30386,69929,Force all iterations on an iterable,"from collections import deque

deque(map(somefunc, ((i,d) for i in range(10**3))), maxlen=0)
"
38181,84700,How to create a loop that makes a new input over and over again?,"n = 10 # the number of iterations to perform
answers = list()
for i in range(0, n):
     answers.append(input(""question?""))

print(answers[2]) #this would print the third entered answer
print(answers[4]) #this would print the fourth entered answer
"
688,57007,Substitute Emoji with its description or name,">>> my_text =""\U0001F602  and all of this \U0001F605""
>>> re.sub('[\U0001F602-\U0001F64F]', lambda m: unicodedata.name(m.group()), my_text)
'FACE WITH TEARS OF JOY  and all of this SMILING FACE WITH OPEN MOUTH AND COLD SWEAT'
"
20068,23133,"Tweepy: Always display emoji in ""\ud83d\ude4c"" format from tweet text","# Assuming input like:
json_input= '{""screen_name"":""fred"",""location"":""home"",""text"":""Here is an emoji: ... and here is another one ""}'

import json, re
emoji_pattern = re.compile('[\U0001F300-\U0001F64F]')

dict_input = json.loads(json_input)
text = dict_input['text']
screen_name = dict_input['screen_name']
emojis = emoji_pattern.findall(text)

print(len(emojis), 'chars found in post by', screen_name)
for emoji in emojis:
    print('emoji: ' + json.dumps(emoji))

2 chars found in post by fred
Character: ""\ud83d\ude4c""
Character: ""\ud83d\udca9""
"
24505,21776,Count vowels in a string,"def numVowels(a):
    vowels = ""aeuioAEUIO""
    result = 0
    for char in a:
        if char in vowels:
            result = result + 1
    return result

numVowels(""ajdgejfifhou"")
"
12085,51298,Add 4th column when first 3 columns are identical,"$ awk '{a[$1FS$2FS$3]+=$4}END{for(k in a)print k,a[k]}' file
chr2 10500 25700 175
chr1 241783 286397 158
"
21077,8485,How to achieve the functionality of UserDict.DictMixin in Python 3?,"def __len__(self):
    return len(self.mylist)

def __iter__(self):
    for i in self.mylist:
        yield i
"
6874,24632,ipython Pandas : why I cannot print the legend for matplot graphs?,"for key in ['cluster0', 'cluster1', 'cluster2', 'cluster3']:
    mask = e['cluster'] == key
    ax.scatter(e['count_sbwip'][mask],e['perc_of_seen_ip'][mask],
                       c=LABEL_COLOR_MAP[key],  label=LABEL_NAMES_MAP[key])
ax.legend()
"
30514,51296,Shuffling numpy array without commas,"import numpy as np

x = np.arange(9).reshape((3,3))
print(x)
# [[0 1 2]
#  [3 4 5]
#  [6 7 8]]

np.random.shuffle(x)
print(x)
# [[3 4 5]
#  [0 1 2]
#  [6 7 8]]
"
7287,39556,Parallel downloads using pySmartDL - python multiprocess,"from pySmartDL import SmartDL

files = [URL1,
         URL2,
         URL3]

objs = SmartDL(files, progress_bar=False)
objs.start(blocking=False)
while not objs.isFinished():
    # Do something else
"
20424,28201,XHTML namespace issues with cssselect in lxml,"class CSSSelector(etree.XPath):
    """""" ...
    To use CSS namespaces, you need to pass a prefix-to-namespace
    mapping as ``namespaces`` keyword argument::

        >>> rdfns = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#'
        >>> select_ns = cssselect.CSSSelector('root > rdf|Description',
        ...                                   namespaces={'rdf': rdfns})

        >>> rdf = etree.XML((
        ...     '<root xmlns:rdf=""%s"">'
        ...       '<rdf:Description>blah</rdf:Description>'
        ...     '</root>') % rdfns)
        >>> [(el.tag, el.text) for el in select_ns(rdf)]
        [('{http://www.w3.org/1999/02/22-rdf-syntax-ns#}Description', 'blah')]
    """"""
"
890,16094,filter by id in ndb model,"photo_keys = [ndb.Key(Photo, id) for id in photoid_list]
photos = ndb.get_multi(photo_keys)
"
27513,15286,"In python, is there anyway to have a variable be a different random number everytime?",">>> import random
>>> variable1 = lambda: random.randint(13, 19)
>>> print(variable1())
18
>>> print(variable1())
15
>>> print(variable1())
17
>>> 
"
10528,12958,Get available modules,"To get a list of available modules, keywords, or topics, type ""modules"",
""keywords"", or ""topics"".  Each module also comes with a one-line summary
of what it does; to list the modules whose summaries contain a given word
such as ""spam"", type ""modules spam"".                                     

help> modules 
"
13222,27478,Copy a property-decorated member to a new class,"class ToAdd(object):
    @property
    def foo(self):
        return 'foo!'

class Base(object):
    pass

b = Base()

NewBase = type('NewBase', (Base, ToAdd), {})
b.__class__ = NewBase
print(b.foo)
# foo!
"
18382,76596,Variable scope in for-loop and while-loop,"$a = '1';
$c = array('2', '3');
function iterate($temp)
{
    foreach($temp as $a)
        echo $a ;
}
iterate($c)
echo $a;
"
4003,36559,How to make tkinter canvas text variable in function,"txt=cv.create_text(..., text=""OUT"")
...
def enter_lambda(canvasID, textID):
    return lambda event:on_enter(event,canvasID, textID)
def leave_lambda(canvasID, textID):
    return lambda event:on_leave(event,canvasID, textID)
...
cv.bind(""<Enter>"", enter_lambda(canvasID, txt))
cv.bind(""<Leave>"", leave_lambda(canvasID, txt))
...
def on_enter(event,canvasID, txt):
    cv = event.widget
    cv.itemconfigure(txt, text=""IN %s"" % canvasID)

def on_leave(event,canvasID, txt):
    cv = event.widget
    cv.itemconfigure(txt, text=""OUT %s"" % canvasID)
"
25484,65023,How many possible combinations of numbers make the same binary tree,"import collections

Node = collections.namedtuple('Node', ('root','left', 'right'))

def tree_from_list(lst):
    if not lst:
        return None
    root = lst[0]
    left_lst = [x for x in lst if x > root]
    right_lst = [x for x in lst if x < root]
    return Node(root,tree_from_list(left_lst), tree_from_list(right_lst))

def parent(key, tree):
    if tree is None:
        return -1
    elif (tree.left != None) and (tree.left.root == key): 
        return tree.root
    elif (tree.right != None) and  (tree.right.root == key):
        return tree.root
    elif (key > tree.root):
        return parent(key, tree.left)
    else: return parent(key, tree.right)

def all_insert_after(key, target, seq):
    i = seq.index(key)
    for j in range(i,len(seq)):
            mylist =  seq[:j+1] + [target] + seq[j+1:]
            yield mylist

def all_equivalent_orderings(seq):
    if (len(seq)==1):
    yield seq
    else:
        z = seq[-1]
        p = parent(z, tree_from_list(seq))
        for a in all_equivalent_orderings(seq[:-1]):    
            for b in all_insert_after(p,z,a):
                yield b  

print ""Here are all 630 equivalent orderings of [5,7,6,8,9,2,1,3,4]""         
for o in all_equivalent_orderings([5,7,6,8,9,2,1,3,4]):
    print o
"
38832,6359,Python regex remove all before a certain point,"your_string.rpartition('\\')[-1]
"
24172,62699,How do I use Python 3.2 email module to send unicode messages encoded in utf-8 with quoted-printable?,">>> charset.add_charset('utf-8', charset.QP, charset.QP)
>>> m = MIMEText(""This is utf-8 text: Ã¡"", _charset='utf-8')
>>> str(m)
'Content-Type: text/plain; charset=""utf-8""\nMIME-Version: 1.0\nContent-Transfer-Encoding: quoted-printable\n\nThis is utf-8 text: =E1'
"
9984,65078,euclidean distance between values in a array - result ordered asc in new array,"distances = [[euclidean(points[a], points[b]), a, b]
             for a, b in itertools.combinations(range(len(points)), 2)]
distances.sort() # distance is already first element, so no key function required
"
27451,3485,Python get mac clipboard contents,"#!/usr/bin/python

from AppKit import *

pb = NSPasteboard.generalPasteboard()
pbstring = pb.stringForType_(NSStringPboardType)
print u""Pastboard string: %s"".encode(""utf-8"") % repr(pbstring)
"
81,28439,Averaging the difference between multiple values in a dictionary,"def mean(x):
    return float(sum(x))/len(x)

...
for key, value in d.items():
    if len(value) == 1:
        avg_diff = None # or 0 -- this indicates there was only 1 purchase
    else:
        # This requires your dates to be sorted, ascending
        sv = sorted(value)
        avg_diff = mean([sv[i] - sv[i-1] for i in range(len(sv)) if i])
    writer.writerow( [key, avg_diff] )
"
23799,18494,Taking input from the user in Tkinter,"def printtext():
    global e
    string = e.get() 
    print string   

from Tkinter import *
root = Tk()

root.title('Name')

e = Entry(root)
e.pack()
e.focus_set()

b = Button(root,text='okay',command=printtext)
b.pack(side='bottom')
root.mainloop()
"
28699,5081,"sympy: how to sympify logical ""NOT""",">>> from sympy import sympify
>>> sympify('a&b')
And(a, b)
>>> sympify('a|b')
Or(a, b)
>>> sympify('~a')
Not(a)
"
20263,82053,Train multiple models in parallel with sklearn?,"from joblib import Parallel, delayed
from sklearn.svm import LinearSVC
import numpy as np

def train_model(X, y, seed):
    model = LinearSVC(random_state=seed)
    return model.fit(X, y)

X = np.array([[1,2,3],[4,5,6]])
y = np.array([0, 1])
result = Parallel(n_jobs=4)(delayed(train_model)(X, y, seed) for seed in range(10))
# result is a list of 10 models trained using different seeds
"
8531,3389,Pulling a random word/string from a line in a text file in python,"import random 

# get the first line if this is the one with the words words
lines = open(""../WordsForGames.txt"").readlines() 
line = lines[0] 

words = line.split() 
myword = random.choice(words)
"
24583,75426,Python: How to call the constructor from within member function,"class SomeClass(object):
    def __init__(self, field):
        self.field = field

    def build_new(self):
        self.__init__(True)
"
21554,1279,Validation Data Type Check going against expectations?,"try:
    int(some_string)
    is_valid_number = True

except ValueError:
    is_valid_number = False
"
20017,8258,Replace multiple variable values in string using Python regex,">>> s1 = '1080p [2.1GB] 720p [1.3GB] 480p [500MB]'
>>> ', '.join(i for i in re.split(r'\s*\[[^\]]*\]\s*', s1) if i)
'1080p, 720p, 480p'
"
15520,2117,Blocking dict in Python?,"class UpdatableBlockingQueue(object):

  def __init__(self):
    self.queue = {}
    self.cv = threading.Condition()

  def put(self, key, value):
    with self.cv:
      self.queue[key] = value
      self.cv.notify()

  def pop(self):
    with self.cv:
      while not self.queue:
        self.cv.wait()
      return self.queue.popitem()
"
3681,6153,lxml/Python : get previous-sibling,"header = ingred_set.getprevious().xpath("".//text()"")[0]
"
7154,48995,Can Python argparse take its input from a file?,">>> with open('args.txt', 'w') as fp:
...    fp.write('-f\nbar')
>>> parser = argparse.ArgumentParser(fromfile_prefix_chars='@')
>>> parser.add_argument('-f')
>>> parser.parse_args(['-f', 'foo', '@args.txt'])
Namespace(f='bar')
"
6580,81547,How to call SIOCSIFHWADDR ioctl to change MAC address in Python?,"def set_mac(self, newmac):
    ''' Set the device's mac address. Device must be down for this to
        succeed. '''
    macbytes = [int(i, 16) for i in newmac.split(':')]
    ifreq = struct.pack('16sH6B8x', self.name, AF_UNIX, *macbytes)
    fcntl.ioctl(sockfd, SIOCSIFHWADDR, ifreq)
"
18242,81466,Creating a mouse over text box in tkinter,"from tkinter import *

xhig, yhig = 425,325
bkgnclr = '#070707'
currentmouseoverevent = ['','']

c = Canvas(master, width=xhig*2, height=yhig*2, bg=bkgnclr, cursor = 'crosshair',)

def mouseovertext(event):
    mouseover = ""Jack""

    if currentmouseoverevent[0] != '':
    closemouseover()
    currentmouseoverevent[0]=''
    return
currentmouseoverevent[0] = c.create_rectangle(event.x,event.y, (event.x + 5), (event.y +len(mouseover)*5),outline=""white"", fill=bkgnclr, width= len(mouseover))
 currentmouseoverevent[1] = c.create_text(event.x,event.y,text=mouseover, fill=""white"", currentmouseoverevent=event,anchor=NW)

def closemouseover(x):
    c.delete(currentmouseoverevent[0])
    c.delete(currentmouseoverevent[1])

c.bind(""<Button-3"", mouseovertext)
"
20003,20798,Replacing items in 1 list to items in another list in python,">>> z = [(i, x.index(item)) for i, x in enumerate(alist) if item in x][0]
>>> alist[z[0]][z[1]] = blist[z[0]][z[1]]
>>> alist
[['a', 2, 3], [4, 5, 6], [7, 8, 9]]
"
17209,41536,Java int to python int,"sock.getOutPutStream().write(Integer.toString(mPort))

s._PORT = int(s._sock.recv(1024))
"
17404,20791,using python properties inside __init__?,"try:
    return self._text
except AttributeError:
    self._text = None
return self._text
"
11210,52098,How can I filter duplicate rows efficiently in Python?,"def new_getDuplicateList(oldlist):
    # find duplicate elements
    newlist = []
    duplicate = set()
    a_to_b = {}
    for elements in oldlist:
        a = elements[0]
        b = elements[1]
        if a in duplicate:
            newlist.append(a)
        else:
            if a in a_to_b.keys():
                if not b in a_to_b[a]:
                    a_to_b[a].append(b)
                    duplicate.add(a)
                    extension = [a for i in a_to_b[a]]
                    newlist.extend(extension)
                else:
                    a_to_b[a].append(b)
            else:
                a_to_b[a] = [b]

    return newlist
"
12485,19436,Tkinter - Entry box - formatted for date,"import Tkinter as tk


class DateEntry(tk.Frame):
    def __init__(self, master, frame_look={}, **look):
        args = dict(relief=tk.SUNKEN, border=1)
        args.update(frame_look)
        tk.Frame.__init__(self, master, **args)

        args = {'relief': tk.FLAT}
        args.update(look)

        self.entry_1 = tk.Entry(self, width=2, **args)
        self.label_1 = tk.Label(self, text='/', **args)
        self.entry_2 = tk.Entry(self, width=2, **args)
        self.label_2 = tk.Label(self, text='/', **args)
        self.entry_3 = tk.Entry(self, width=4, **args)

        self.entry_1.pack(side=tk.LEFT)
        self.label_1.pack(side=tk.LEFT)
        self.entry_2.pack(side=tk.LEFT)
        self.label_2.pack(side=tk.LEFT)
        self.entry_3.pack(side=tk.LEFT)

        self.entry_1.bind('<KeyRelease>', self._e1_check)
        self.entry_2.bind('<KeyRelease>', self._e2_check)
        self.entry_3.bind('<KeyRelease>', self._e3_check)

    def _backspace(self, entry):
        cont = entry.get()
        entry.delete(0, tk.END)
        entry.insert(0, cont[:-1])

    def _e1_check(self, e):
        cont = self.entry_1.get()
        if len(cont) >= 2:
            self.entry_2.focus()
        if len(cont) > 2 or not cont[-1].isdigit():
            self._backspace(self.entry_1)
            self.entry_1.focus()

    def _e2_check(self, e):
        cont = self.entry_2.get()
        if len(cont) >= 2:
            self.entry_3.focus()
        if len(cont) > 2 or not cont[-1].isdigit():
            self._backspace(self.entry_2)
            self.entry_2.focus()

    def _e3_check(self, e):
        cont = self.entry_2.get()
        if len(cont) > 4 or not cont[-1].isdigit():
            self._backspace(self.entry_3)

    def get(self):
        return self.entry_1.get(), self.entry_2.get(), self.entry_3.get()


if __name__ == '__main__':
    def show_contents(e):
        print dentry.get()

    win = tk.Tk()
    win.title('DateEntry demo')

    dentry = DateEntry(win, font=('Helvetica', 40, tk.NORMAL), border=0)
    dentry.pack()

    win.bind('<Return>', show_contents)
    win.mainloop()
"
27982,40352,One variable two values Python,"class X:
    class_var = 3

    def __init__(self):
        X.class_var = X.class_var + 1
        self.instance_var =  3



>>> a = X()
>>> print(a.class_var)
>>> 4
>>> print(a.instance_var)
>>> 3

>>> b = X()
>>> print(b.class_var)
>>> 5
>>> print(a.instance_var)
>>> 3
"
21662,41521,"Python, Convert bson output of mongodump to array of json objects (dictionaries)","from bson import BSON
with open('dump/coll.bson', 'rb') as f:
    coll_raw = f.read()

coll = bson.decode_all(coll_raw) 
"
15486,45964,Django redirects to login page even after logging in,"from django.contrib.auth import authenticate, login

@login_required
def home_page(request):
    return HttpResponse(""hello "" + str(request.user))

def login_view(request):
    return render(request, 'login.html')

def verify(request):
    u = request.POST['username']
    p = request.POST['password']
    user = authenticate(username=u, password=p)
    if user is not None:
        if user.is_active:
            # You need to call `login` with `request` AND `user`
            login(request, user)
            print(""logged in"")
            return HttpResponseRedirect('/')
    else:
        return HttpResponseRedirect('/accounts/login/')
"
33804,17148,urljoin when an absolute path does not have a leading slash,"<head>
  <base href=""http://www.gilacountyaz.gov/index.php""/>
</head>
"
35855,29498,How to Write List if Hex Values to a File Python,"with open('input', 'rb') as f:
    data = f.read()
data = list(data)
data = [byte + 1 for byte in data]
data = bytes(data)
# If this is all you're going to do, you could just do this:
# data = bytes((byte + 1) % 256 for byte in data)
with open('output', 'wb') as f:
    f.write(data)
"
2121,59219,In python should a function change a list or make a copy and return that?,"def func(input, deepcopy=false):
    if deepcopy:
        // deep copy the input as to_process
    else:
        // just point to_process to the input
    // process with the to_process        
"
4827,23752,Box Plot Trellis,"import seaborn as sns
sns.set_style(""whitegrid"")

sns.factorplot(""month"", ""rainfall"", row=""temp"", data=rain_record,
               size=2, aspect=5, kind=""box"", palette=""PuBuGn_d"")
sns.despine(left=True)
"
28161,84231,writing .csv files from for loops and lists,"import os
import csv

csvfile = open('outputFileName.csv', 'wb')
writer = csv.writer(csvfile)

for filename in os.listdir('/'): # or C:\\ if on Windows
    writer.writerow([filename, len(filename)])

csvfile.close()
"
6981,4218,Using Python Objects in Django Applications,"from project.common.client import BaseClient

class ConcreteApp1Client(BaseClient):
  pass
"
35020,41484,Generate random integers between 0 and 9,"from random import randint
print(randint(0,9))
"
32267,46814,Getting values of dynamically generated Entry fields using Tkinter,"from Tkinter import *

master = Tk()

frame = Frame(master)
frame.pack()

s_vars = []

for i in range(5):
    s_vars.append( StringVar() )

    def onChange(a ,b, c, s_var):
        print a, ""changed to"", s_var.get()

    s_vars[i].trace('w', lambda a, b, c, x=i: onChange(a, b, c, s_vars[x]) )

    en = Entry(frame, textvariable=s_vars[i])
    en.pack()

    s_vars[i].set( str(i) )

mainloop()
"
11921,4634,Best way to retrieve variable values from a text file - Python - Json,"for (n, v) in the_dict.items():
    exec('%s=%s' % (n, repr(v)))
"
35284,20883,Python: How to be notified when the subprocess is ended opened by Popen," p = subprocess.Popen('find . -name ""*.txt""', stdout=subprocess.PIPE, stderr=subprocess.PIPE)
 stdout, stderr = p.communicate()
"
22263,29296,Trouble matching pattern at start or end with regex in Python,"import re

nameList = ['Boulder Highway and US 95 NB',  'Boulder Hwy and US 95 SB', 
'Buffalo and Summerlin N', 'Charleston and I-215 W', 'Eastern and I-215 S', 'Flamingo and NB I-15',
'S Buffalo and Summerlin', 'Flamingo and SB I-15', 'Gibson and I-215 EB', 'I-15 at 3.5 miles N of Jean',
'I-15 NB S I-215 (dual)', 'I-15 SB 4.3 mile N of Primm', 'I-15 SB S of Russell', 'I-515 SB at Eastern W',
'I-580 at I-80 N E', 'I-580 at I-80 S W', 'I-80 at E 4TH St Kietzke Ln', 'I-80 East of W McCarran',
'LV Blvd at I-215 S', 'S Buffalo and I-215 W', 'S Decatur and I-215 WB', 'Sahara and I-15 East',
'Sands and Wynn South Gate', 'Silverado Ranch and I-15 (west side)']

dirMap = {'N': 'North', 'S': 'South', 'E': 'East', 'W': 'West'}

dirPattern = re.compile(r'(?:^| )(?<! at )(?<! of )([NSEW])B?(?! of )(?: |$)')

print('name\tdirSting\tdirection')
for name in nameList:
    match = dirPattern.search(name)
    direction = None
    dirString = None
    if match:
        dirString = match.group(1)
        direction = dirMap.get(dirString)
    print('> %s\t\t%s\t%s'%(name, dirString, direction))
"
1077,48042,.OFF files on Python,"def read_off(file):
    if 'OFF' != file.readline().strip():
        throw 'Not a valid OFF header'
    n_verts, n_faces, n_dontknow = tuple([int(s) for s in file.readline().strip().split(' ')])
    verts = []
    for i_vert in range(n_verts):
        verts.append([float(s) for s in readline().strip().split(' ')])
    faces = []
    for i_face in range(n_faces):
        faces.append([int(s) for s in readline().strip().split(' ')][1:])
    return verts, faces
"
23823,85224,How to extract the infobox vcard from wikipedia using the python wikipedia library,"from bs4 import BeautifulSoup
import urllib2
site= ""http://en.wikipedia.org/wiki/Aldi""
hdr = {'User-Agent': 'Mozilla/5.0'}
req = urllib2.Request(site,headers=hdr)
page = urllib2.urlopen(req)
soup = BeautifulSoup(page.read())
table = soup.find('table', class_='infobox vcard')
result = {}
exceptional_row_count = 0
for tr in table.find_all('tr'):
    if tr.find('th'):
        result[tr.find('th').text] = tr.find('td').text
    else:
        # the first row Logos fall here
        exceptional_row_count += 1
if exceptional_row_count > 1:
    print 'WARNING ExceptionalRow>1: ', table
print result
"
31060,59207,How to execute an arbitrary shell script and pass multiple variables via Python?,"p = subprocess.Popen( args=[""script.sh"", ""-p"", p_opt, ""-v"", v_opt, arg1, arg2] )
"
12926,55103,creating file and folder loop,"import os
for i in ""abc"":
    os.system (""mkdir ""+i)
    for j in range (5):
            os.system (""touch ""+str(i)+""/""+str(j)+"".txt"")
"
8364,8557,AMPL: A big set within the set and specification of data,"set K dimen 2;

data;

set K :=
Kir 1
Kir 2
Kir 3;
"
19039,18740,Ttk on python 2.7,"from Tkinter import *
from ttk import *
"
33258,61967,Pair every elements on a list,"for i in range(len(a)):
    for j in range(i + 1, len(a)):
        # compare the elements here
        print(a[i], a[j])
"
972,1631,Creating a function that returns all capitalized words in a sentence (commas excluded),"import string

def find_cap(sentence):
    s = []
    for word in sentence.split():

        # strip() removes each character from the front and back of the string
        word = word.strip(string.punctuation)

        if word.startswith(word.capitalize()):
            s.append(word)
    return s
"
24775,21431,Change Calculator with exact type of change given,"print ""Change Calclator""

quarter = 25
dime = 10
nickel = 5
penny = 1

moneygiven = raw_input(""Enter how much money given: "")
citem = raw_input(""How much did the item cost?: "")
moneygiven = int(float(moneygiven) * 100)
citem = int(float(citem) * 100)
moneyback = moneygiven - citem

qmb = moneyback / quarter
partialtotal = moneyback - qmb * quarter 
dmb = partialtotal // dime
dpartialtotal = partialtotal - dmb * dime
nmb = dpartialtotal // nickel
npartialtotal = dpartialtotal - nmb * nickel
pmb = npartialtotal // penny
ppartialtotal = npartialtotal - pmb * penny

print ""You need %s quarters, %s dimes, %s nickels, %s pennies."" % (qmb, dmb, nmb, pmb)
"
20646,53281,How do I test in a LibreOffice python macro whether I'm in a Writer or Calc document?,"def fs2InvoiceNo(*args):
#get the doc from the scripting context which is made available to all scripts
    desktop = XSCRIPTCONTEXT.getDesktop()                                      
    model = desktop.getCurrentComponent()
#get the XText interface
    method = """"
    try:
        text = model.Text
        tRange = text.End
        cursor = desktop.getCurrentComponent().getCurrentController().getViewCursor()
        oTable = cursor.TextTable
        oCurCell = cursor.Cell
        method = ""Doc""
    except:
        pass
    try:
        sheets = model.getSheets()
        sheet = model.CurrentController.getActiveSheet()
        oSelection = model.getCurrentSelection()
        oArea = oSelection.getRangeAddress()
        first_row = oArea.StartRow
        last_row = oArea.EndRow
        first_col = oArea.StartColumn
        last_col = oArea.EndColumn
        method = ""Calc""
    except:
        pass
    if method == """":
        raise Exception(""Unknown environment for this script"")
#and get the string from Footswitch2 via a TCP port
    import os, socket, time
    from configobj import ConfigObj
    configuration_dir = os.environ[""HOME""]
    config_filename = configuration_dir + ""/fs2.cfg""
    if  os.access(config_filename, os.R_OK):
        pass
    else:
        return None
    cfg = ConfigObj(config_filename)
    #define values to use from the configuration file
    tcp_port = int(cfg[""control""][""TCP_PORT""])
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.settimeout(0.5)
    try:
        sock.connect((""localhost"", tcp_port))
    except:
        return None
    sock.settimeout(0.5)
    try:
        sock.send(bytes('invoicenumber\n', 'UTF-8'))
    except:
        return None
    try:
        time.sleep(0.2)
        s_list = sock.recv(1024).decode('UTF-8')
        s_list = s_list.split(""\n"")
    except:
        return None
    lines_in_response = len(s_list)
    if lines_in_response is None:
        return None
    invoice_no = s_list[0]
    if invoice_no == """":
        invoice_no = ""None""
    if method == ""Doc"":
        if oCurCell == None: # Are we inserting into a table or not?
            text.insertString(cursor, invoice_no, 0)
        else:
            cell = oTable.getCellByName(oCurCell.CellName)
            cellCursor = cell.createTextCursor() # use this cursor if you want the text inserted at the beginning of the cell
            cell.insertString(cursor, invoice_no, False) # use the standard cursor to insert at the current position
    else:
        cell = sheet.getCellByPosition(first_col, first_row)
        cell.String = invoice_no
    sock.close()
    return None
"
27948,67073,Ignore background noise?,"Aah = 1
Ahh = 2
Ehh = 3 
...
if soundEvent == true:

    if phoneme.type = Aah:
    what_i_said = ""a""
...
"
37359,23606,In Python how to pipe a string into an executables stdin?,"proc = subprocess.Popen([""myprog.exe""], stdin=subprocess.PIPE)
stdout, stderr = proc.communicate('my input')
"
6533,46080,python 3 mp3 artwork,"import mutagen
from flask import make_response
import os

music_dir = 'c:/www/music'

@app.route('/cover')
def cover_art():
    fname = 'music.mp3'
    mp3 = mutagen.File(os.path.join(music_dir, fname))
    art = mp3.tags['APIC:'].data
    def wsgi_app(environ, start_response):
        start_response('200 OK', [('Content-type', 'image/jpeg')])
        return art
    return make_response(wsgi_app)
"
27588,12767,Convert graph to have outdegree 1 (except extra zero weight edges),"#!/usr/bin/env python

from igraph import Graph
from itertools import izip

def pairs(l):
    """"""Given a list l, returns an iterable that yields pairs of the form
    (l[i], l[i+1]) for all possible consecutive pairs of items in l""""""
    return izip(l, l[1:])

def convert(g):
    # Get the old vertex names from g
    if ""name"" in g.vertex_attributes():
        old_names = map(str, g.vs[""name""])
    else:
        old_names = map(str, xrange(g.vcount))

    # Get the outdegree vector of the old graph
    outdegs = g.outdegree()

    # Create a mapping from old node IDs to the ID of the first node in
    # the linear subgraph corresponding to the old node in the new graph
    new_node_id = 0
    old_to_new = []
    new_names = []
    for old_node_id in xrange(g.vcount()):
        old_to_new.append(new_node_id)
        new_node_id += outdegs[old_node_id]
        old_name = old_names[old_node_id]
        if outdegs[old_node_id] <= 1:
            new_names.append(old_name)
        else:
            for i in xrange(1, outdegs[old_node_id]+1):
                new_names.append(old_name + ""."" + str(i))

    # Add a sentinel element to old_to_new just to make our job easier
    old_to_new.append(new_node_id)

    # Create the edge list of the new graph and the weights of the new
    # edges
    new_edgelist = []
    new_weights = []

    # 1) Create the linear subgraphs
    for new_node_id, next_new_node_id in pairs(old_to_new):
        for source, target in pairs(range(new_node_id, next_new_node_id)):
            new_edgelist.append((source, target))
            new_weights.append(0)

    # 2) Create the new edges based on the old ones
    for old_node_id in xrange(g.vcount()):
        new_node_id = old_to_new[old_node_id]
        for edge_id in g.incident(old_node_id, mode=""out""):
            neighbor = g.es[edge_id].target
            new_edgelist.append((new_node_id, old_to_new[neighbor]))
            new_node_id += 1
            print g.es[edge_id].source, g.es[edge_id].target, g.es[edge_id][""weight""]
            new_weights.append(g.es[edge_id][""weight""])

    # Return the graph
    vertex_attrs = {""name"": new_names}
    edge_attrs = {""weight"": new_weights}
    return Graph(new_edgelist, directed=True, vertex_attrs=vertex_attrs, \
            edge_attrs=edge_attrs)
"
1941,46922,Python replace string in text file with value from list,"word_list = {'hi' : 'test', 'how' : 'teddy'} 

with open(""document.txt"") as main:
    with open('done.txt', 'w') as new_main:
        input_data = main.read()
        for key, value in word_list.iteritems():
            input_data = input_data.replace(key, value)

        new_main.write(input_data)
"
6164,47287,How to use Flot charts with Flask?,"def request_graph_data():
   data = [[0, 3], [4, 5], [8, 1], [9, 3]]    
   return flask.render_template(""graph.html"",
                                 list_of_data=data)  


<script type=""text/javascript"">
   $(function() {
       var d1 = {{ list_of_data }};

       var d2 = [[0, 3], [4, 8], [8, 5], [9, 13]];

       // A null signifies separate line segments
       var d3 = [[0, 12], [7, 12], null, [7, 2.5], [12, 2.5]];

       $.plot(""#placeholder"", [ d1, d2, d3 ]);
    });
</script>

<div class=""demo-container"">
        <div id=""placeholder"" class=""demo-placeholder""></div>
</div>
"
17937,63423,Django: how to pass an entire URL as a parameter inside the app URL?,"myapp.com/?url=http://www.youtube.com/watch?v=dQw4w9WgXcQ
"
32900,70349,Finding intersection points of two ellipses (Python),"import numpy as np
from shapely.geometry.polygon import LinearRing

def ellipse_polyline(ellipses, n=100):
    t = linspace(0, 2*np.pi, n, endpoint=False)
    st = np.sin(t)
    ct = np.cos(t)
    result = []
    for x0, y0, a, b, angle in ellipses:
        angle = np.deg2rad(angle)
        sa = np.sin(angle)
        ca = np.cos(angle)
        p = np.empty((n, 2))
        p[:, 0] = x0 + a * ca * ct - b * sa * st
        p[:, 1] = y0 + a * sa * ct + b * ca * st
        result.append(p)
    return result

def intersections(a, b):
    ea = LinearRing(a)
    eb = LinearRing(b)
    mp = ea.intersection(eb)

    x = [p.x for p in mp]
    y = [p.y for p in mp]
    return x, y

ellipses = [(1, 1, 2, 1, 45), (2, 0.5, 5, 1.5, -30)]
a, b = ellipse_polyline(ellipses)
x, y = intersections(a, b)
plot(x, y, ""o"")
plot(a[:,0], a[:,1])
plot(b[:,0], b[:,1])
"
19372,17601,Heroku endpoint,"name-of-my-app.herokuapp.com
"
21532,74875,pandas plot datetime groupby distribution,"df.groupby(df['Datetime'].dt.date)['User_id'].count()
"
31222,38654,unhexlify value within a Django template,"from django import template
import binascii

register = template.Library()

@register.filter
def hex_decode(value):
    return binascii.unhexlify(value)
"
23391,12614,"ipython notebook ""current directory"" in wondows","os.getcwd()
"
36185,60364,Py2Exe and pkg_resources.iter_entry_points(),"import imp
def main_is_frozen():
    return (hasattr(sys, ""frozen"") or # new py2exe
            hasattr(sys, ""importers"") # old py2exe
            or imp.is_frozen(""__main__"")) # tools/freeze

from rbtools.clients.svn import SVNClient
from rbtools.clients.git import GitClient
from rbtools.clients.mercurial import MercurialClient
from rbtools.clients.cvs import CVSClient
from rbtools.clients.perforce import PerforceClient
from rbtools.clients.plastic import PlasticClient
from rbtools.clients.clearcase import ClearCaseClient
from rbtools.clients.bazaar import BazaarClient
def load_scmclients(options):
    global SCMCLIENTS

    SCMCLIENTS = {}

    if not main_is_frozen():
        for ep in pkg_resources.iter_entry_points(group='rbtools_scm_clients'):
            try:
                SCMCLIENTS[ep.name] = ep.load()(options=options)
            except Exception, e:
                logging.error('Could not load SCM Client ""%s"": %s' % (ep.name, e))
    else:
        temp_clients = {}
        temp_clients['svn'] = SVNClient
        temp_clients['git'] = GitClient
        temp_clients['mercurial'] = MercurialClient
        temp_clients['cvs'] = CVSClient
        temp_clients['perforce'] = PerforceClient
        temp_clients['plastic'] = PlasticClient
        temp_clients['clearcase'] = ClearCaseClient
        temp_clients['bazaar'] = BazaarClient
        for ep in temp_clients:
            try:
                SCMCLIENTS[ep] = temp_clients[ep](options=options)
            except Exception, e:
                logging.error('Could not load SCM Client ""%s"": %s' % (str(ep), e))
"
26166,25132,Grabbing a certain <td> class with BeautifulSoup,"for name in soup.find_all(""td"", class_=""sortcell""):
    salary = name.parent.find_all('td')[-1]  # last cell in the row
    print(name.get_text())
    print(salary.get_text())
"
28831,56869,"How do I mark a .txt file as ""not executable""?","#!/usr/bin/true
"
36881,64411,Xcode 4.2 (build 4D199) + Python: Console output is different to the expected (e.g. no UTF-8 characters),"$ python2
>>> print(""Ä¾Å¥Ä"", 1+1)
('\xc4\xbe\xc5\xa5\xc4\x8f', 2)

$ python3
>>> print(""Ä¾Å¥Ä"", 1+1)
Ä¾Å¥Ä 2
"
23718,61305,Find words with capital letters not at start of a sentence with regex,"In [6]: import re

In [7]: re.findall(r'(?<!\.\s)\b[A-Z][a-z]*\b', 'lookbehind. This is what I have')
Out[7]: ['I']
"
35535,23339,Sending an jquery AJAX GET request with Python request library,"pn = '1234'
r = requests.get(ajaxurl + '?part_number=' + pn, headers=headers, cookies=cookies)
"
24382,69166,Parsing block in file to Python list without newlines,"import re
import os
pattern = r'''\HF=(.*?)\RMSD='''
pat = re.compile(pattern, re.DOTALL)
for number in pat.finditer(open('file.txt').read()):
    print number.group(1).replace(os.linesep, '').replace(' ', '').strip(r'''\\''')
... 
-568 .8880019,-568.2343213, -568 .2343432, ... , -586.328492 1\
"
20279,54940,Multiple user created modules from a directory not in PATH using just command window (Anaconda 3),"import sys
sys.path.append(""C:\Users\Username\Dropbox\Projects"")
import Projects.MyUtilities.Utility1
"
37797,40722,Multithreaded web server in python,"from BaseHTTPServer import HTTPServer, BaseHTTPRequestHandler
from SocketServer import ThreadingMixIn
import threading

class Handler(BaseHTTPRequestHandler):

    def do_GET(self):
        self.send_response(200)
        self.end_headers()
        message =  threading.currentThread().getName()
        self.wfile.write(message)
        self.wfile.write('\n')
        return

class ThreadedHTTPServer(ThreadingMixIn, HTTPServer):
    """"""Handle requests in a separate thread.""""""

if __name__ == '__main__':
    server = ThreadedHTTPServer(('localhost', 8080), Handler)
    print 'Starting server, use <Ctrl-C> to stop'
    server.serve_forever()
"
22530,56769,Python checking for number in input,"numbers = input(""Enter some numbers: "").split()
print set(numbers)
"
39828,41666,Python - method inheritance,"class Aclass():
    def get(self, a, b):
        #do something with a and b

class Bclass(Aclass):
    def get(self, a, b):
        Aclass.get(self, a, b)
        #do something else with a and b
"
33112,52319,Django - getting POST to return a dictionary where the values are lists,"<div id='spaghetti'>
  <input field-type='grade' />
  <input field-type='comment' />
</div>

<script>
  $(document).ready(function() {
    $('input[type=submit]').click(function() {
      var data = {}
      var grade = $('#spaghetti').children('input[field-type=grade]').first().val();
      var comment = $('#spaghetti').children('input[field-type=comment]').first().val();
      data['spaghetti'] = [grade, comment];
      $.post('url', data);
    }
  }
"
14638,68187,Nested GROUP BY in django: returning Objects,"queryset = CitiesTable.objects.order_by('country', 'region_or_state')

countries_dict = {}

for country, group in groupby(queryset, lambda x: x.country):
    countries_dict[country] = {}
    for region, inner_group in groupby(group, lambda x: x.region_or_state):
        countries_dict[country][region] = list(inner_group)
"
39136,20491,Django: determine which user is deleting when using post_delete signal,"# myapp/signals.py
from django.dispatch import Signal
my_post_delete = Signal(providing_args=['instance', 'user'])

# myapp/models.py
from myapp.signals import my_post_delete
...
my_post_delete.connect(notify_on_delete, sender=Node)

# myapp/views.py
from myapp.signals import my_post_delete
...
@login_required
def my_delete_view(request, ...)
    ...
    instance = Node.objects.get(...)
    instance.delete()
    my_post_delete.send(sender=Node, instance=instance, user=request.user)
"
32155,35525,Find letters in string without using for loop,">>> ''.join(filter(str.isalpha, a))
'TodayisApril'
"
19941,51644,Overriding tuple.__len__ in python,"from __future__ import print_function

class MyTuple(tuple):
    def __new__(cls, lst, data):
        return tuple.__new__(cls, tuple(lst) + (data, ))
    def __len__(self):
        return tuple.__len__(self) - 1

    def __getitem__(self, key):
        print(""__getitem__() is called.  start:%s, end:%s"" % (key.start, key.stop))
        return super(MyTuple, self).__getitem__(key)

    def __getslice__(self, start, end):
        print(""__getslice__() is called.  start:%s, end:%s"" % (start,end))
        return super(MyTuple, self).__getslice__(start,end)

m = MyTuple([1,2], 0)

print(m[:-1])
"
34398,34890,Get NDB query length - using Python on Google App Engine,"query = NDB_Model.query(NDB_Model.some_property == some_value)

entity = query.get()
if entity is not None:
    # Do stuff
"
17422,25092,Pass Python parameters to HTML,"import requests

for i in range(101):
    payload = {'usn': i}
    response = requests.post(""index.php"", data=payload)
    # do something with response
"
10855,26840,Python - Optional list values - A more pythonic way?,"title = data.get('title')
label = data.get('label')

parent = filter(None, [title, label])
"
22825,56570,How to prevent subprocess to add spaces between some parameters?,"cmd = [
    'mysql',
    '--database=%s' % self._database,
    '--password=%s' % self._password,
    '--execute=%s' % query
]

(...)

p = subprocess.Popen(cmd, shell = False, stdout = subprocess.PIPE, stderr = subprocess.PIPE)
out, err = p.communicate()
errcode = p.returncode
"
35638,49075,Python Map() reverse,">>> map(lambda f: f(3), [lambda x: x**2,lambda x: x**3])
[9, 27]
"
6960,61340,How to handle a small grid of data in Python?,"class Mp3file(object):
    def __init__(self, filename):
        # read the file
        self.name = filename
        self.size = ...
        self.moddate = ...
        self.track_num = ...
        ...

    def to_xml(self):
        return ...

    def __lt__(self):
         ....
    def __eq__(self):
         ....
    ...

mp3list = []
for filename in directory:
    mp3list.append(Mp3file(filename))

def mp3list_to_xml(mylist):
    # write preamble
    for mf in sorted(mylist):
        x = mf.to_xml()
        # Add x to xml
    # write footer
"
21948,16829,tkinter button double use,"def generate_notes(self):
    if self.puls1['text'] == 'Start':
        # Change button text to Stop, and call the original loop function
        self.puls1['text'] = 'Stop'
        self._generate_notes()
    else:
        # cancel timer
        self.puls1['text'] = 'Start'
        self.myRoot.after_cancel(self.timer_handle)

def _generate_notes(self):
    ...(old codes)..
    self.timer_handle = self.myRoot.after(self.timer, self._generate_notes)
"
17118,61636,Iteration in python,"edge, middle = '+', '|'
for i in range(5):
    edge += ' -- +'
    middle += '    |'
print(edge)
print(middle)
print(edge)
"
7574,76696,Python's Subprocess removing Mysql columns and spacing,"p = check_output([""mysql"" ,""-u"" ,"" root"", ""-t"" ,""-e"",  'show databases;'])
print(p)

+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| world              |
+--------------------+
"
10971,45364,Having problems with precision in python,">>> print('{0:.8f}'.format(1.2))
1.20000000
"
22161,67380,python dynamic dictionary,"sub_info = {i.tag: i.text for i in tag}
"
6461,44118,parse string of integer sets with intervals to list,"from itertools import chain

def group_to_range(group):
  group = ''.join(group.split())
  sign, g = ('-', group[1:]) if group.startswith('-') else ('', group)
  r = g.split('-', 1)
  r[0] = sign + r[0]
  r = sorted(int(__) for __ in r)
  return range(r[0], 1 + r[-1])

def rangeexpand(txt):
  ranges = chain.from_iterable(group_to_range(__) for __ in txt.split(','))
  return sorted(set(ranges))


>>> rangeexpand('-6,-3--1,3-5,7-11,14,15,17-20')
[-6, -3, -2, -1, 3, 4, 5, 7, 8, 9, 10, 11, 14, 15, 17, 18, 19, 20]
>>> rangeexpand('1-4,6,3-2, 11, 8 - 12,5,14-14')
[1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 14]
"
16634,29880,"Two versions of my input function, recursion vs while-loop?","import sys
sys.setrecursionlimit(10000)
"
39810,82373,Sending Push Through Parse API Results in 401 Unauthorized,"url = ""https://api.parse.com:443/1/push""    
params = {'channels': ['general'], 'data': {'alert': 'Test push'}}
headers = {""Content-Type"": ""application/json"",
           ""X-Parse-Application-Id"":""APP_ID"",   
           ""X-Parse-REST-API-Key"":""API_KEY""}

r = requests.post(url, data = json.dumps(params), headers = headers)

r.status_code
>>>200

r.text
>>>u'{""result"":true}\n'
"
38521,28626,How to refer to a child class from a parent method?,"class Parent(object):
    x = None  # default value
    def __init__(self):
        print self.x

class someChild(Parent):
    x = 10
    def __init__(self):
        Parent.__init__(self)

class otherChild(Parent):
    x = 20
    def __init__(self):
        Parent.__init__(self)

a = someChild()
# output: 10
b = otherChild()
# output: 20
"
12772,60623,Checking a Dictionary using a dot notation string,"def put(d, keys, item):
    if ""."" in keys:
        key, rest = keys.split(""."", 1)
        if key not in d:
            d[key] = {}
        put(d[key], rest, item)
    else:
        d[keys] = item

def get(d, keys):
    if ""."" in keys:
        key, rest = keys.split(""."", 1)
        return get(d[key], rest)
    else:
        return d[keys]
"
20222,27156,How to generate random html document,"def RandomHtml():
    yield '<html><body>'
    yield '<body>'
    yield RandomBody()
    yield '</body></html>'

def RandomBody():
    yield RandomSection()
    if random.randrange(2) == 0:
        yield RandomBody()

def RandomSection():
    yield '<h1>'
    yield RandomSentence()
    yield '</h1>'
    sentences = random.randrange(5, 20)
    for _ in xrange(sentences):
         yield RandomSentence()

def RandomSentence():
    words = random.randrange(5, 15)
    yield (' '.join(RandomWord() for _ in xrange(words)) + '.').capitalize()

def RandomWord():
    chars = random.randrange(2, 10)
    return ''.join(random.choice(string.ascii_lowercase) for _ in xrange(chars))

def Output(generator):
    if isinstance(generator, str):
        print generator
    else:
        for g in generator: Output(g)

Output(RandomHtml())
"
24563,7019,How to mock.patch a plain dictionary in python?,">>> foo = {}
>>> with patch.dict(foo, {'newkey': 'newvalue'}):
...     assert foo == {'newkey': 'newvalue'}
...
>>> assert foo == {}
"
27566,78807,Fetch and validate date by reading char by char in python,"
def compareDate (dataType, actualResult, rIndex, rLen):    
    hyphenCount , result , count = 0 , 0 , 0
    dateString = """"
    while (rIndex < rLen):
        ch = actualResult[rIndex]        
        if (ch == '.'):
            break
        if(ch >= '0' and ch <= '9'):
            hyphenCount = 0
            count += 1            
            if(count > 2):
                result = -1
                print "" d = ""
                break;            
            dateString += str(ch)
        if(ch == '-'):
            count = 0
            hyphenCount += 1
            if(hyphenCount > 1):
                print "" h = ""
                result = -1
                break  

        #print (""Char %c"" % ch)              
        rIndex += 1
    print ""dateString is = %s"" % dateString

    if result != -1:
        msg = """"         
        mt = dateString[0] + dateString[1]
        dt = dateString[2] + dateString[3]
        yr = dateString[4] + dateString[5]
        leap = '20'+yr
        print mt, dt, yr
        mt = int(mt)
        dt = int(dt)
        yr = int (yr)
        leap = int(yr)                
        #create and call function which verify date
        result,msg = verifyDate(mt,dt,yr,leap)
        print msg

    return (result, rIndex)


def verifyDate(mt,dt,yr,leap):
    res = 0
    msg = """"
    leapyr = checkForLeapYear(leap) 
    if(yr >= 00 and yr <= 99):
        if(leapyr): # for leap year
            if(mt == 2):
                if(dt >= 01 and dt <= 29):
                    res = 0
                else:
                    msg = ""should not exceed 29""
            elif(mt == 1 or mt == 3 or mt == 5 or mt == 7 or mt == 8 or mt == 10 or mt == 12):
                    if(dt >= 01 and dt <= 31):
                        res = 0
                    else:
                        msg = ""should not exceed 31""
                        res = -1
            elif(mt == 4 or mt == 6 or mt == 9 or mt == 11):
                    if(dt >= 01 and dt <= 30):
                        res = 0
                    else:
                        msg  = ""should not exceed 30""
                        res = -1                
            else:
                    msg  = ""month should in btwn 01 to 12""
                    res = -1
            # for leap year ...Ends Here

        else:                
            if((mt >= 1) and (mt <= 12)):
                if(mt == 2):
                    if(dt >= 01 and dt <= 28):
                        res = 0
                    else:
                        msg = ""should not exceed 28""
                        res = -1
                elif(mt == 1 or mt == 3 or mt == 5 or mt == 7 or mt == 8 or mt == 10 or mt == 12):
                    if(dt >= 01 and dt <= 31):
                        res = 0
                    else:
                        msg = ""should not exceed 31""
                        res = -1
                elif(mt == 4 or mt == 6 or mt == 9 or mt == 11):
                    if(dt >= 01 and dt <= 30):
                        res = 0
                    else:
                        msg  = ""should not exceed 30""
                        res = -1                
            else:
                    msg  = ""month should in btwn 01 to 12""
                    res = -1

    else:
        msg  = ""year should in btwn 00 to 99""
        res = -1
    return (res,msg)   


def checkForLeapYear(yr):
    if((yr %100) == 0 and (yr % 400 == 0 )):
        return True
    elif(yr%4 == 0):
        return True
    else:
        return False
"
1494,58726,I broke python: what can I do?,"sudo apt-get install --reinstall python3
"
21103,29483,How do I ring a bell sound within an ssh session?,"#windows
import winsound
winsound.Beep(300,2000)
#where a is the frequency and b is the duration in miliseconds

#linux

import os
os.system('play --no-show-progress --null --channels 1 synth %s sine %f' % ( a, b))
"
2973,28102,Django: merging objects,"def merge(self, request, queryset):
    main = queryset[0]
    tail = queryset[1:]

    related = main._meta.get_all_related_objects()

    valnames = dict()
    for r in related:
        valnames.setdefault(r.model, []).append(r.field.name)

    for place in tail:
        for model, field_names in valnames.iteritems():
            for field_name in field_names:
                model.objects.filter(**{field_name: place}).update(**{field_name: main})

        place.delete()

    self.message_user(request, ""%s is merged with other places, now you can give it a canonical name."" % main)
"
23645,56724,How to control QTableView Items Backgound color,"from PyQt4.QtCore import *
from PyQt4.QtGui import *
import sys

class MyTableModel(QAbstractTableModel):
    def __init__(self, parent=None, *args):
        QAbstractTableModel.__init__(self, parent, *args)
        self.items = [i for i in range(90)]

    def rowCount(self, parent):
        return len(self.items)       
    def columnCount(self, parent):
        return 1

    def data(self, index, role):
        if not index.isValid():
            return QVariant()

        row=index.row()
        column=index.column()

        if role == Qt.DisplayRole:
            if row<len(self.items):
                return QVariant(self.items[row])
            else:
                return QVariant()

        # if role==Qt.BackgroundColorRole:
        #     if row%2: bgColor=QColor(Qt.green)
        #     else: bgColor=QColor(Qt.blue)        
        #     return QVariant(QColor(bgColor))


class Proxy01(QSortFilterProxyModel):
    def __init__(self):
        super(Proxy01, self).__init__()

    def filterAcceptsRow(self, row, parent):
        if row%3: return True
        else: return False

class MyWindow(QWidget):
    def __init__(self, *args):
        QWidget.__init__(self, *args)

        self.tablemodel=MyTableModel(self)               

        self.proxy1=Proxy01()
        self.proxy1.setSourceModel(self.tablemodel)

        tableviewA=QTableView(self) 
        tableviewA.setModel(self.proxy1)
        tableviewA.setSortingEnabled(True) 
        tableviewA.horizontalHeader().setSortIndicator(0, Qt.AscendingOrder)
        tableviewA.horizontalHeader().setStretchLastSection(True)
        tableviewA.setAlternatingRowColors(True)
        tableviewA.setStyleSheet(""alternate-background-color: yellow; background-color: red;"");

        layout = QVBoxLayout(self)
        layout.addWidget(tableviewA)

        self.setLayout(layout)

    def test(self, arg):
        print arg

if __name__ == ""__main__"":
    app = QApplication(sys.argv)
    w = MyWindow()
    w.show()
    sys.exit(app.exec_()) 
"
18514,16451,Possible ways to do one hot encoding in scikit-learn?,"train = train_df.get_dummies()
test = test_df.get_dummies()

# get the columns in train that are not in test
col_to_add = np.setdiff1d(train.columns, test.columns)

# add these columns to test, setting them equal to zero
for c in col_to_add:
    test[c] = 0

# select and reorder the test columns using the train columns
test = test[train.columns]
"
11555,16121,Is there a pythonic way of knowing when the first and last loop in a for is being passed through?,"for item in list:
    if item != list[-1]:
        #Do stuff
"
15286,65198,Strange Python strip() behavior,"s = 'Abcd Efgh Axyx'
if s.endswith('Axyx'):
    s = s[:-len('Axyx')]
"
29389,58389,Python send email from a csv list,"#!/usr/bin/python

import csv
import smtplib
from email.mime.text import MIMEText
from email.Header import Header

def sendmail(info_list):
    msg = MIMEText(info_list[2], ""html"", ""utf-8"")
    msg['Subject'] = Header(""YOUR SUBJECT"", ""utf-8"")
    msg['From'] = ""FROM_WHOM@XXX.com""
    msg['To'] = info_list[1]
    s = smtplib.SMTP(""smtp.XXX.com"")
    s.ehlo()
    s.starttls()
    s.login(""YOUR EMAIL USERNAME"", ""YOUR EMAIL PASSWORD"")
    s.sendmail(""FROM_WHOM"", info_list[1], msg.as_string())

def main():
    with open(""msg.csv"", ""rb"") as csvfile:
        msg_reader = csv.reader(csvfile)
        msg_reader.next()
        map(lambda x: sendmail(x), msg_reader)

if __name__ == ""__main__"":
    main()
"
34205,9226,How do I define a settings.LOGGING so that gunicorn will find the version value it wants?,"LOGGING = {
    'version': 1,
    'disable_existing_loggers': True,
    'formatters': {
        'verbose': {
            'format': '%(levelname)s %(asctime)s %(module)s %(process)d %(thread)d %(message)s'
        },
        'simple': {
            'format': '%(levelname)s %(message)s'
        },
    },
    'handlers': {
        'null': {
            'level': 'DEBUG',
            'class': 'logging.NullHandler',
        },
        'console':{
            'level': 'DEBUG',
            'class': 'logging.StreamHandler',
            'formatter': 'simple'
        },
        'mail_admins': {
            'level': 'ERROR',
            'class': 'django.utils.log.AdminEmailHandler',
            'filters': [],
        }
    },
    'loggers': {
        'django': {
            'handlers': ['null'],
            'propagate': True,
            'level': 'INFO',
        },
        'django.request': {
            'handlers': ['mail_admins'],
            'level': 'ERROR',
            'propagate': False,
        },
    }
}
"
30181,63381,how to copy content of file to another file with deleting some lines in a TXT file based on some strings with python,"blacklist = set(['thumbnails', 'quraan', 'cache'])

with open('path/to/input') as infile, open('path/to/output', 'w') as outfile:
    for line in infile:
        if line.strip() in blacklist: continue  # if you want to match the full line
        # if any(word in line for word in blacklist): continue  # if you want to check if a word exists on a line
        outfile.write(line)
"
9253,66679,Python - get list of all files from a folder (with more options),"import os

def get_files(path, option_dirs, option_subdirs, option_no_ro, option_no_hid):
    outfiles = []
    for root, dirs, files in os.walk(path):
        if option_no_hid:
            # In linux, hidden files start with .
            files = [ f for f in files if not f.startswith('.') ]
        if option_no_ro:
            # Use os.path.access to check if the file is readable
            # We have to use os.path.join(root, f) to get the full path
            files = [ f for f in files if os.access(os.path.join(root, f), os.R_OK) ]
        if option_dirs:
            # Use os.path.join again
            outfiles.extend([ os.path.join(root, f) for f in files ])
        else:
            outfiles.extend(files)
        if not option_subdirs:
            # If we don't want to get subdirs, then we just exit the first
            # time through the for loop
            return outfiles
    return outfiles
"
15723,22655,Create new dictionary into list,"for item in my_list:
    # First time you see an item create an empty list
    if item not in my_dict:
        my_dict[item] = []
    # Otherwise, add the item to the list
    else:
        my_dict[item].append( item )
"
7156,13626,Storing XML/HTML files inside a SQLite database - Possible?,"# connect to database and create table
import sqlite3
conn = sqlite3.connect("":memory:"")
conn.execute('''create table my_table (value1 integer, value2 integer, xml text)''')

# read text from file
f = file('/tmp/my_file.xml')
xml_string_from_file = f.read()

# insert text into database
cur = conn.cursor()
cur.execute('''insert into my_table (value1, value2, xml) values (?, ?, ?)''', (23, 42, xml_string_from_file))
cur.commit()

# read from database into variable
cur.execute('''select * from my_table''')
xml_string_from_db = cur.fetchone()[2]

# parse with the XML parser of your choice
from xml.dom.minidom import parseString
dom = parseString(xml_string_from_db)
"
39205,7471,Editing date list,"pd.date_range(start, end, freq='90D')
"
17320,20816,cronjob on CentOS running a python script,"*/5 * * * * cd /home/myusername/Dev/cron && /usr/bin/python python_sql_image.py
"
11063,42119,In Tkinter how to pass a called function as argument?,"self.gui.bind_all(""<Command-n>"", lambda event: self.New())
"
35517,73732,"Draw two graphs, and add xlimit and ylimit on both axis, if possible","import numpy as np
import matplotlib.pyplot as plt

def sigmoid(x):
    return 1 / (1 + np.exp(-4*x))

x = np.linspace(-3, 3, 1000)
y = np.array([(1 - n)**(-1) if n < 0 else 1 + n for n in x])
z = sigmoid(x)

plt.ylim(0, 1.5)

plt.plot(x, z, linewidth=2)
plt.plot(x, y, linewidth=2)
plt.show()
"
36324,40964,Making the CMD window to appear while executing an .EXE created by py2exe,"console=['test.py'],
"
10561,51819,Python toe find the row index,"#only for testing
a = ([2,7],[1,4],[2,3],[6,4],[9,2])
b = [1,4]

def findindex(matrix, row):
    for index in range(0,len(matrix)):
        if matrix[index] == row:
            return index    
    return -9

if __name__ == '__main__':
    print(findindex(a, b))
"
38813,29665,Make parent object not appearing within session.dirty of before_flush event listener,"@event.listens_for(DBSession, 'before_flush')
def before_flush(session, flush_context, instances):
    time_stamp = datetime.datetime.utcnow()

    if session.new:
        for elem in session.new:
            print("" ### NEW {0}"".format(repr(elem)))

    if session.dirty:
        for elem in session.dirty:
            # Below check was added to solve the problem
            if ( session.is_modified(elem, include_collections=False) ):
                print("" ### DIRTY {0}"".format(repr(elem)))

    if session.deleted:
        for elem in session.deleted:
            print("" ### DELETED {0}"".format(repr(elem)))
"
606,42428,"Is it better to collect all test files into one folder, or just let them distribute everywhere?"," Project
    âââ module1
    âÂ Â  âââ submodule1
    âÂ Â  âÂ Â  âââ base.py
    âÂ Â  âÂ Â  âââ model.py
    âÂ Â  âÂ Â  âââ test
    âÂ Â  â    Â Â  âââ submodule1_test.py
    âÂ Â  âââ conn.py
    âÂ Â  âââ __init__.py
    âÂ Â  âââ test
    âÂ Â      âââ module1_test.py
    âââ errors.py
    âââ __init__.py
    âââ router.py
    âââ test
        âââ errors_test.py
        âââ router_test.py
"
6500,14253,Python id of name and '__main__' different,">>> __name__
'__main__'
>>> x = __name__
>>> id(__name__)
3078339808L
>>> id(x)
3078339808L
>>> __name__ is x
True
"
19070,50963,Instantiating classes in python - setting attributes,">>> class A(object):
...    def __init__(self, attribute1, attribute2):
...        self.attribute1 = attribute1
...        self.attribute2 = attribute2
...

>>> a = A(1, 2)
>>> a.attribute1
1
>>> a.attribute2
2
"
7732,2704,"Django ORM: customize a ListView, and add more information to its queryset","from django.db.models import Case, When, Value

def get_queryset(self):
    # This gives you the queryset of A objects
    queryset = super(AListView, self).get_queryset()
    # List of primary keys of B objects
    all_objects_B = B.objects.all().values_list('pk',flat=True)

    # modify queryset to indicate which instances of A are present in B
    return queryset.annotate(
        is_in_b=Case(When(pk__in=all_objects_B, then=Value(True)),
                       default=Value(False))
        )
    )
"
9669,39455,My Model is not getting updated,"INSTALLED_APPS = (
    ....
   'your_project.you_app',
)
"
6645,48071,data in my outputfile didn't print all result it should have,"with open('newfile.txt','w') as fileinput:
    for start, end in searchPFAM(fname):
        print start, end  
        if start <= end:
            while start <= end:
                result = makeList[start]
                fileinput.write(result)
                start += 1
"
37809,37479,How do I concatenate columns in two pandas dataframes with different indexes and non-unique keys,">>> import pandas as pd
>>> products = pd.DataFrame({'order_number': [5000, 5000, 5001, 5002, 5004],
...                          'sku':          [ 754,  900,  754,  754,  900],
...                          'revenue':      [20.0, 30.0, 40.0,200.0, 90.0]})
>>> orders   = pd.DataFrame({'order_number': [5000, 5001, 5002, 5003],
...                          'units':        [   5,    2,   10,    1],
...                          'revenue':      [50.0, 40.0,200.0, 70.0]})
>>> products.join(orders.set_index('order_number'), 'order_number', rsuffix='_o')
   order_number  revenue  sku  revenue_o  units
0          5000       20  754         50      5
1          5000       30  900         50      5
2          5001       40  754         40      2
3          5002      200  754        200     10
4          5004       90  900        NaN    NaN
"
14193,26524,Comparing last modified time and current time and then deleting files and folders,"#!/usr/bin/env python
# -*- coding: utf-8 -*-
import os, glob, shutil, time, datetime
path = glob.glob('/home/piratinha/*')
now  = time.time()
now_str = datetime.datetime.fromtimestamp(now).strftime('%d-%m-%Y %H:%M:%S')
print now_str
for f in path:
    if os.stat(f).st_mtime < now - (6 * 30 * 86400):
        if os.path.isfile(f):
            print ""Removendo"", f
            os.remove(f)
            print ""Arquivo Removido""
        else:
            print ""Removendo"", f
            shutil.rmtree(f)
            print ""Pasta Removida""
else:
    print   ""Todos os arquivos e pastas sÃÂ£o mais novos do que 6 meses.""

print now_str
"
14767,73501,Pandas duplicated indexes still shows correct elements,"In [25]: gb = test.groupby('score1')

In [26]: gb.grouper
Out[26]: <pandas.core.groupby.BaseGrouper at 0x4162b70>

In [27]: gb.grouper.groupings
Out[27]: [Grouping(score1)]

In [28]: gb.grouper.groupings[0]
Out[28]: Grouping(score1)

In [29]: gb.grouper.groupings[0].indices
Out[29]: 
{'a': array([0, 6], dtype=int64),
 'b': array([1, 5], dtype=int64),
 'c': array([2, 9], dtype=int64),
 'd': array([3], dtype=int64),
 'e': array([4], dtype=int64),
 'k': array([7], dtype=int64),
 'n': array([8], dtype=int64)}
"
18741,65215,Customizing Sphinx to avoid generating search box,"templates_path = [""templates""]
"
8497,59022,Extending PloneFormGen,"
collective.civicrm.civicrmpfgadaptor/
collective.documentpfgadapter/
collective.pfg.creditcardfields/
collective.pfg.downloadfield/
collective.pfg.masterselect/
collective.pfg.silverpop/
collective.pfg.sslfield/
collective.pfg.verkkomaksut/
pfg.donationform/
pfg.drafts/
raptus.multilanguagepfg/
sc.pfg.brazilianfields/
uwosh.pfg.d2c/
"
17406,7007,How to migrate Python models to new models?,"# file: migration.py

from myoldcrm.models import User as UserOLD
from myoldcrm import Session as SessionOLD

from mynewcrm.models import User
from mynewcrm import Session

def migrate_users():
    users = SessionOLD.query(UserOLD).all()
    for user in users:
        ser = user.serialize() # or any other way you have to do this
        des = User.deserialize(ser) # deserialize using new model class
        Session.add(des)
    Session.commit()
"
16494,23921,Reading different tables from a directory into an array of separate dataframes,"import os
import pandas as pd
import glob
os.chdir(""E:/"") # change this to the directory where your csv files are stored
csv_files = {} # we store the dataframes in a dictionary
for file in glob.glob(""*.csv""): 
    csv_files[file] = pd.read_csv(file)

for dataframe in csv_files.values():
    print dataframe
"
38068,78816,condition of tuple of integers,"all(0 < n < 50 for n in thetuple)
"
21397,45991,Python 3: Comparing two elements of the same list,"winners = None
winner_points = None
for p in players_list:
    points = p['player_points']
    if winner_points is None or winner_points < points:
        winners = [p]
        winner_points = points
    elif winner_points == points:
        winners.append(p)

if not winners:
    print(""Nobody played today!"")
elif len(winners) == 1:
    print(""The winner is"", winners[0]['player_name'])
else:
    print(""There is a draw between %d players: %s"" % (len(winners), "", "".join(p['player_name'] for p in winners))
"
22224,77089,Random Dataframes,">>> import pandas.io.data as web
>>> web.DataReader([""AAPL"", ""GOOG""], ""yahoo"", start='2014-03-26').to_frame()

                     Open     High      Low    Close    Volume  Adj Close
Date       minor                                                         
2014-03-26 AAPL    546.52   549.00   538.86   539.78  10706000     539.78
           GOOG   1162.01  1171.57  1131.50  1131.97   2580000    1131.97
2014-03-27 AAPL    540.02   541.50   535.12   537.46   7929700     537.46
           GOOG   1130.85  1131.94  1102.10  1114.28   3822200    1114.28
2014-03-28 AAPL    538.32   538.94   534.25   536.86   7106900     536.86
           GOOG   1119.00  1133.19  1117.77  1120.15   2254700    1120.15
2014-03-31 AAPL    539.23   540.81   535.93   536.74   5972100     536.74
           GOOG   1130.40  1135.00  1112.85  1114.51   1940500    1114.51

[8 rows x 6 columns]
"
32657,35067,Qt C++ tcp client with python twisted server,"//use socket to construct a QDataStream object, like before
QDataStream in(&socket); 
//in.setVersion(QDataStream::Qt_4_0);
char buffer[1024] = {0};
//readRawData takes a char to dump to and the length, 
//so I'm sure there is a better way to do this. It worked for my example.
in.readRawData(buffer, socket.bytesAvailable()); 
QString result;
result = buffer;
ui->resultLabel->setText(result);
"
28293,30815,How to Render Django Forms.TimeField in 12h Format in Template?,"self.fields['starttime'] = forms.TimeField(
                            required=True,
                            label='Start Time',
                            input_formats=['%I:%M %p'],
                            widget=forms.TimeInput(format='%I:%M %p'))
"
13915,20078,Python: algorithm to find four numbers in an unsorted array which satisfy desired sum,"In [36]: A
Out[36]: [3, 2, 1, 4, 5, 7, 6, 9, 7, 8]

In [37]: S
Out[37]: 30

In [38]: N
Out[38]: 4

In [39]: for tup in itertools.combinations(A,N):
   ....:     if sum(tup) == S:
   ....:          for perm in itertools.product(*[[i for i,num in enumerate(A) if num==n] for n in tup]):
   ....:              print(*sorted(perm))
   ....:             
5 6 7 9
6 7 8 9
5 6 7 9
6 7 8 9
"
17779,14133,Numpy cross-product on rectangular grid,">>> np.cross(a[None], b[:, None])
array([[ 0.68047849,  0.63863842, -0.0497843 ,  0.38640316],
       [ 0.94445125,  0.92469424,  0.42385605,  0.77342875],
       [ 0.85324981,  0.82290048,  0.22209648,  0.62137629],
       [ 0.5620032 ,  0.51509455, -0.20005522,  0.24267187],
       [ 0.99102692,  0.98205036,  0.59599795,  0.88432301]])
"
9830,54568,Image aspect ratio using Reportlab in Python,"from reportlab.lib import utils

def get_image(path, width=1*cm):
    img = utils.ImageReader(path)
    iw, ih = img.getSize()
    aspect = ih / float(iw)
    return Image(path, width=width, height=(width * aspect))

story = []
story.append(get_image('stack.png', width=4*cm))
story.append(get_image('stack.png', width=8*cm))
frame.addFromList(story, c)
"
32422,43493,Block main thread until python background thread finishes side-task,"import Queue
import threading

class StuffDoer(threading.Thread):
    def __init__(self):
        threading.Thread.__init__(self)
        self.setDaemon(True)
        self.max_n_times = 0
        self.total_n_times = 0
        self.do_queue = Queue.Queue()

    def run(self):
        # this part is outside of my control
        while True:
            self._do_stuff()
            # do other stuff

    def _do_stuff(self):
        # this part is under my control
        if self.total_n_times >= self.max_n_times:
            try:
                self.max_n_times += self.do_queue.get(block=False)
            except Queue.Empty, e:
                pass
        if self.max_n_times > self.total_n_times:
            # do stuff that must execute in the background thread
            self.total_n_times += 1
            if self.total_n_times >= self.max_n_times:
                self.do_queue.task_done()

sd = StuffDoer()
sd.start()

def do_stuff(n_times):
    sd.do_queue.put(n_times)
    sd.do_queue.join()
    assert (sd.total_n_times == sd.max_n_times)
"
8765,59650,How can I convert 24 hour time to 12 hour time?,">>> from datetime import datetime
>>> d = datetime.strptime(""10:30"", ""%H:%M"")
>>> d.strftime(""%I:%M %p"")
'10:30 AM'
>>> d = datetime.strptime(""22:30"", ""%H:%M"")
>>> d.strftime(""%I:%M %p"")
'10:30 PM'
"
15713,78957,post_save in django to update instance immediately,"class Test(models.Model):
    title = models.CharField('title', max_length=200)
    blah = models.CharField('blah', max_length=200)

    def save(self, force_insert=False, force_update=False):
        if not self.blah:
            self.blah = 'hello'
        super(Test, self).save(force_insert, force_update)
"
34505,28406,"Remove Duplicate entries from XML files, based on the condition.","from lxml import etree

xml_input = 'Input.xml'
xml_output = 'Output.xml'

with open(xml_input) as xml:
   root = etree.XML(xml.read())

#create dictionary where key is an ID and value is a list of nodes with the ID
node_dict = {}
for node in root.xpath('//*[@ID]'):
   try:
      node_dict[node.get('ID')].append(node)
   except KeyError:
      node_dict[node.get('ID')] = [node]

for key, nodes in node_dict.iteritems():
   #find all nodes with childs
   nodes_with_childs = [node for node in nodes if len(node.xpath('./*')) > 0]

   #leave only first node with childs, remove other nodes
   if len(nodes_with_childs) > 0:
      for node in set(nodes) - set([nodes_with_childs[0]]):
         node.getparent().remove(node)
   else:
      #leave only first node, remove other nodes
      for node in nodes[1:]:
         node.getparent().remove(node)

with open(xml_output, 'w') as xml:
   xml.write(etree.tostring(root, xml_declaration=True))
"
344,13717,sorting strings based on your own values in python,"suits = {'queen': 2, 'jack': 1, 'king': 2}
l = ['queen','jack','king']
print sorted(l, key=suits.get)
"
32144,70138,How to listen to HTTP requests and a serial channel in the same Python program?,"import threading

def processCommands():
    while True:
        #wait and process commands

def readSerial():
    while True:
        #read serial

serialThread = threading.Thread(target=readSerial)
commandThread = threading.Thread(target=processCommands)
serialThread.start()
commandThread.start()

#Wait for the command thread to exit,
#otherwise the programs would immediately exit
commandThread.join()
"
39309,21071,Detecting when a python script is being run interactively in ipython,"def in_ipython():
    try:
        __IPYTHON__
    except NameError:
        return False
    else:
        return True
"
23081,20470,Accumulate constant value in Numpy Array,"In [1]: np.add.at(X,tuple(coords.T),1)

In [2]: X
Out[2]: 
array([[ 1.,  0.,  0.],
       [ 0.,  0.,  3.],
       [ 0.,  0.,  0.]])
"
11529,31325,how to aggregate by month of datetime in pandas frame?,"s.resample(""M"", how=""count"")
"
1292,38808,how to use subprocess with multiple multiple stdin from zcat,"subprocess.Popen(['/bin/bash', '-c', 'rsem-calculate-expression -p 2 \
    --some-other-option --paired-end \
    <(zcat a_1.fastq.gz b_1.fastq.gz c_1.fastq.gz) \
    <(zcat b_2.fastq.gz b_2.fastq.gz c_2.fastq.gz) \
    ~/index/hg19 output_dir'])
"
23303,46702,Property decorators in Python and set functions,"    class property(object):
        ""2.6 properties for 2.5-""    
        def __init__(self, fget=None, fset=None, fdel=None, doc=None):
            self.fget = fget
            self.fset = fset
            self.fdel = fdel
            self.__doc__ = doc or fget.__doc__
        def __call__(self, func):
            self.fget = func
            if not self.__doc__:
                self.__doc__ = fget.__doc__
        def __get__(self, obj, objtype=None):
            if obj is None:
                return self         
            if self.fget is None:
                raise AttributeError(""unreadable attribute"")
            return self.fget(obj)
        def __set__(self, obj, value):
            if self.fset is None:
                raise AttributeError(""can't set attribute"")
            self.fset(obj, value)
        def __delete__(self, obj):
            if self.fdel is None:
                raise AttributeError(""can't delete attribute"")
            self.fdel(obj)
        def setter(self, func):
            self.fset = func
            return self
        def deleter(self, func):
            self.fdel = func
            return self
"
21463,44666,How to know whether a process in windows is running or not in python,">>> import os
>>> tmp = os.popen(""tasklist"").read()  # it would return a str type
>>> ""python.exe"" in tmp
True
"
16766,15055,"python pandas if 1 in column A, use value of column B in same row","df['Test'] = df['OnsetTime'] * df['BinaryCol']
"
23644,62985,How would I go about parsing the following log?,"1) Loop through every line in the log

    a)If line matches appropriate Regex:

      Display/Store Next Line as the item title.
      Look for the next line containing ""Result 
      XXXX."" and parse out that result for 
      including in the result set.
"
35150,56092,Pandas command unintentionally shifting data between rows,">>> df = pd.DataFrame({""col"":[1, 33, 555, 7777]})
>>> df[""new_col""] = [""%07d"" % x for x in df.col]

>>> df

    col  new_col
0     1  0000001
1    33  0000033
2   555  0000555
3  7777  0007777
"
35084,50217,'int' object is not callable for python 3.2,"bill = int(input(""Restaurant bill total: ""))

fifteen = (bill * 0.15)

twenty = (bill * 0.20)

print(""Your Actual bill : "", bill)
print(""Bill with 15% additional charge : "", bill+fifteen)
print(""Bill with 20% additional charge : "", bill+twenty)

input(""\n\nPress the enter key to exit."")
"
39649,36194,"Python, need help parsing items from text file into list",">>> with open(""list.txt"") as fp:
...     data = [ast.literal_eval(line) for line in fp if line.strip()]
... 
>>> data
[[(0, 0, 0), (1, 0, 0), (2, 0, 0), (3, 0, 0), (4, 0, 0), (5, 0, 0), (6, 0, 0)], [(10, 3, 1), (11, 3, 1), (12, 3, 1), (13, 3, 1), (13, 4, 1)], [(10, 3, 5), (11, 3, 5), (12, 3, 5), (13, 3, 5), (13, 4, 5), (13, 5, 5), (13, 6, 5)], [(6, 13, 5), (7, 13, 5), (8, 13, 5), (8, 14, 5), (7, 14, 5), (6, 14, 5), (6, 14, 6)]]
"
36353,1225,Python ABC seems to allow incomplete implementation,">>> ConcretePlugin(123)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
TypeError: Can't instantiate abstract class ConcretePlugin with abstract methods idle
"
8266,67287,is there a processor for creating a network graph in Data Science Studio?,"import networkx as nx
import string
str = ""a,b,c\nd,e,f\nd,k,j""
print str
lines = string.split(str,'\n')
DG=nx.DiGraph()
for line in lines:
    nodes = line.split("","")
    location = nodes[0]
    manager =  nodes[1]
    report =   nodes[2]
    if (location not in DG):
        DG.add_node(location)
    if (manager not in DG):
        DG.add_node(location)    
    if (report not in DG):
        DG.add_node(location)        
    DG.add_edge(location,manager)
    DG.add_edge(manager,report)

print DG.nodes()
print DG.edges()
"
7273,69908,A way to use a defined input in later defined scripts (python)?,"def Login():
    log = input ('\nLogin (Case sensitive): ')
    LoggedInStudent(log)


def LoggedInStudent(log):
    ...
"
19866,48992,How should an index.html file be served from Python Pyramid for an AngularJS app?,"config.add_route('index', '/')
config.add_route('api.users', '/api/users')
config.add_route('api.user_by_id', '/api/users/{userid}')

@view_config(route_name='index', renderer='myapp:templates/index.html', http_cache=3600*24*365)
def index_view(request):
    return {}

@view_config(route_name='api.users', request_method='POST', renderer='json')
def create_user_view(request):
    # create a user via the request.POST parameters
    return {
        'userid': user.id,
    }

@view_config(route_name='api', request_method='GET', renderer='json')
def user_info_view(request):
    userid = request.matchdict['userid']
    # lookup user
    return {
        'name': user.name,
    }
"
4400,6537,Is it possible to access current object while doing list/dict comprehension in Python?,"from itertools import groupby
from operator import itemgetter

res = {key: sum(t[1] for t in group) 
       for key, group in groupby(sorted(data, key=itemgetter(0)), key=itemgetter(0))}
"
39068,40589,Python JSON encoder to support datetime?,"import datetime

class DateTimeEncoder(json.JSONEncoder):
    def default(self, obj):
        if isinstance(obj, datetime.datetime):
            return obj.isoformat()
        elif isinstance(obj, datetime.date):
            return obj.isoformat()
        elif isinstance(obj, datetime.timedelta):
            return (datetime.datetime.min + obj).time().isoformat()
        else:
            return super(DateTimeEncoder, self).default(obj)

DateTimeEncoder().encode(object)
"
4007,54807,Why is DictWriter not Writing all rows in my Dictreader instance?,"with open('C:/Test/fun/output.csv', 'wb') as fou:
    writer = csv.DictWriter(fou, delimiter="","", quotechar=""|"", fieldnames=    ['sku', 'stock.qty', 'stock.is_in_stock'], extrasaction='ignore')
    writer.writeheader()

    for fn in os.listdir(path):
        if "".csv"" in fn:
            with open(fn, 'rb') as f:
                reader = csv.DictReader(f, delimiter="","", quotechar=""|"")
                for row in reader:
                    print row
                    writer.writerow(row)
"
1801,57193,How to speed up the plot of a large number of rectangles with Matplotlib?,"from matplotlib.collections import PatchCollection
import matplotlib
import matplotlib.pyplot as plt
import random

fig = plt.figure()
ax = fig.add_subplot(111, aspect='equal')
plt.xlim([0, 1001])
plt.ylim([0, 1001])
n=10000
patches = []
for i in range(0,n):
    x = random.uniform(1, 1000)
    y = random.uniform(1, 1000)
    patches.append(matplotlib.patches.Rectangle((x, y),1,1,))
ax.add_collection(PatchCollection(patches))
plt.show()
"
21622,40741,Qt Designer for PyQt on OSX 10.6,"import os.path
from PyQt4 import uic

generated_ui_output = 'myapp/ui/generated'

def process_ui_files():
    ui_files = (glob.glob('ui/*.ui'),
                glob.glob('ui/Dialogs/*.ui'),
                glob.glob('ui/Widgets/*.ui')))
    for f in ui_files:
        out_filename = (
            os.path.join(
                generated_ui_output,
                os.path.splitext(
                    os.path.basename(f))[0].replace(' ', '')+'.py')
        )
        out_file = open(out_filename, 'w')
        uic.compileUi(f, out_file)
        out_file.close()

if __name__ == '__main__':
    process_ui_files()
"
10478,38334,Escaping quotes in Redshift query,"def escape_quote(value):
  return value.replace(""'"", ""\\'"")

query = '''SELECT * FROM redshift_table
           LEFT JOIN
           (SELECT DISTINCT * FROM redshift_view) v
           ON redshift_table.account_number = v.card_no
           WHERE timestamp < date_trunc('day', CURRENT_DATE)
           AND timestamp >=  (CURRENT_DATE - INTERVAL '1 days')'''

unload = '''UNLOAD ('%s') to '%s'
            credentials 'aws_access_key_id=%s;aws_secret_access_key=%s'
            delimiter as '%s'parallel off ALLOWOVERWRITE''' % (escape_quote(query), s3_path, access_key, aws_secret, file_delimiter)
"
36904,48680,Python scraping (Beautiful Soup) to obtain data from this HTML,"import requests
import re
from bs4 import BeautifulSoup

r = requests.get('http://www.compareremit.com')
data = r.text

soup = BeautifulSoup(data)
for rate in soup.find_all('div',{""class"":""c_logo_box""}):
    print rate.a.img['alt'] 
    print rate.span.text
"
26083,51987,Coverage support for tornado test runner,"coverage run /the/test/runner options to test runner
"
27698,72143,Using itertools.permutation where r > n,"itertools.product(""ABC"", repeat=4)
"
15411,43628,PYTHON: TypeError: DriverSpeed() takes 0 positional arguments but 1 was given,"def DriverSpeed (): # No parameters here...
    DriverSpeed = int(input(""Enter Driver Speed: ""))
    return DriverSpeed

def OverOrUnderSpeedLimit (number):
    UnderSpeedLimet = False
    if DriverSpeed(number) < int(50) ==0: # you gave it a parameter here...
        OverSpeedLimet = True
    return SpeedLimet
"
11987,66897,Matrix Multiplication of a Pandas DataFrame and Series,"In [3]: df = pd.DataFrame({'a' : [4,1,3], 'b' : [5,2,4]},index=[1,2,3])

In [4]: s = pd.Series([0.6,0.4],index=['a','b'])

In [5]: df.dot(s)
Out[5]: 
1    4.4
2    1.4
3    3.4
"
36020,65610,Looking for a fold-like idiom,"import operator
import functools

nums = [1, 2, 3]
funcs = iter([operator.add, operator.sub])

def special_foldl(nums, funcs):
    return functools.reduce(lambda x,y: next(funcs)(x,y), nums)

print(special_foldl(nums, funcs))
# 0
"
5994,56758,matplotlib: multiple plots on one figure,"from numpy.random import random
import matplotlib.pyplot as plt

def print_fractures():
    plt.subplot(212)
    plt.plot([1,2,3,4])

def histogram():
    plt.subplot(211)
    plt.hist(random(1000), 100)
    plt.xlabel('Spacing (m)', fontsize=15)
    plt.ylabel('Frequency (count)', fontsize=15)

histogram()
print_fractures()
plt.axis('equal')
plt.show()
"
3547,3423,How to run multiple python file in a folder one after another,"#!/bin/bash

for py_file in $(find $YOUR_FOLDER -name *.py)
do
    python $py_file
done
"
26308,23767,"Django: How to set a (permanent) cookie, in addition to temp session, in Class based views?","response = render(request, template, context)
response.set_cookie('my_cookie', 'my_cookie_value')
return response
"
24905,55334,How to get columns index which meet some condition in pandas?,"print (x[x > 4])
     a    b
0  NaN  7.0
1  5.0  NaN
2  7.0  5.0

print (x[x > 4].apply(lambda x: x.index.get_loc(x.first_valid_index()), axis=1))
0    1
1    0
2    0
dtype: int64
"
27287,78777,Python: How to round 123 to 100 instead of 100.0?,"int(round(123,-2))
"
13173,2417,Speeding up build process with distutils,"# monkey-patch for parallel compilation
def parallelCCompile(self, sources, output_dir=None, macros=None, include_dirs=None, debug=0, extra_preargs=None, extra_postargs=None, depends=None):
    # those lines are copied from distutils.ccompiler.CCompiler directly
    macros, objects, extra_postargs, pp_opts, build = self._setup_compile(output_dir, macros, include_dirs, sources, depends, extra_postargs)
    cc_args = self._get_cc_args(pp_opts, debug, extra_preargs)
    # parallel code
    N=2 # number of parallel compilations
    import multiprocessing.pool
    def _single_compile(obj):
        try: src, ext = build[obj]
        except KeyError: return
        self._compile(obj, src, ext, cc_args, extra_postargs, pp_opts)
    # convert to list, imap is evaluated on-demand
    list(multiprocessing.pool.ThreadPool(N).imap(_single_compile,objects))
    return objects
import distutils.ccompiler
distutils.ccompiler.CCompiler.compile=parallelCCompile
"
36314,35933,Global Variable Not Defined,"### Monster Statistics ####

default_stats = dict(name='unknown',
                 HP=[0, 0, 0, 0],
                 Atk1=[0, 0, 0, 0], Atk1dmg=[0, 0, 0, 0],
                 Atk2=[0, 0, 0, 0], Atk2dmg=[0, 0, 0, 0],
                 Atk3=[0, 0, 0, 0], Atk3dmg=[0, 0, 0, 0],
                 Dfns=[0, 0, 0, 0])

Monsters = [dict(default_stats, name='Cerebus'),
            dict(default_stats, name='Cthulhu'),
            dict(default_stats, name='Cyclops',
                 HP=[65, 85, 95, 130],
                 Atk1=[3, 4, 4, 5], Atk1dmg=[3, 4, 4, 5],
                 Atk2=[2, 3, 3, 4], Atk2dmg=[5, 6, 6, 7],
                 Atk3=[1, 2, 3, 3], Atk3dmg=[5, 6, 6, 7],
                 Dfns=[2, 3, 4, 5]),
            dict(default_stats, name='Genie'),
            dict(default_stats, name='Giant Ape',
                 HP=[70, 90, 110, 140],
                 Atk1=[3, 4, 4, 5], Atk1dmg=[4, 5, 5, 6],
                 Atk2=[2, 2, 3, 4], Atk2dmg=[5, 6, 6, 7],
                 Atk3=[1, 2, 3, 3], Atk3dmg=[6, 6, 7, 8],
                 Dfns=[2, 3, 3, 4]),
            dict(default_stats, name='Giant Lizard',
                 HP=[80, 100, 130, 170],
                 Atk1=[3, 3, 4, 5], Atk1dmg=[3, 4, 5, 6],
                 Atk2=[2, 3, 3, 4], Atk2dmg=[4, 5, 6, 7],
                 Atk3=[1, 2, 2, 3], Atk3dmg=[6, 7, 8, 8],
                 Dfns=[1, 2, 2, 3]),
            dict(default_stats, name='Grey Alien',
                 HP=[30, 40, 45, 50],
                 Atk1=[3, 3, 4, 5], Atk1dmg=[1, 2, 2, 3],
                 Atk2=[2, 2, 3, 4], Atk2dmg=[2, 3, 3, 4],
                 Atk3=[1, 2, 3, 4], Atk3dmg=[4, 5, 5, 6],
                 Dfns=[3, 4, 4, 5]),
            dict(default_stats, name='Gryffin'),
            dict(name='Leprechaun',
                HP=[30, 35, 50, 65],
                Atk1=[3, 4, 4, 5], Atk1dmg=[1, 1, 2, 3],
                Atk2=[2, 3, 4, 5], Atk2dmg=[2, 2, 3, 4],
                Atk3=[1, 2, 3, 4], Atk3dmg=[4, 5, 6, 6],
                Dfns=[4, 6, 7, 8]),
            dict(default_stats, name='Medusa',
                 HP=[20, 30, 45, 50],
                 Atk1=[3, 3, 4, 4], Atk1dmg=[1, 2, 2, 3],
                 Atk2=[2, 2, 3, 4], Atk2dmg=[2, 2, 3, 3],
                 Atk3=[1, 1, 2, 3], Atk3dmg=[4, 5, 5, 6],
                 Dfns=[2, 3, 4, 4]),
            dict(default_stats, name='Minotaur'),
            dict(default_stats, name='Ninja',
                 HP=[20, 30, 40, 55],
                 Atk1=[4, 5, 5, 7], Atk1dmg=[1, 2, 3, 3],
                 Atk2=[3, 4, 5, 6], Atk2dmg=[3, 4, 5, 6],
                 Atk3=[2, 2, 3, 3], Atk3dmg=[4, 5, 5, 6],
                 Dfns=[4, 5, 6, 7]),
            dict(default_stats, name='Ogre'),
            dict(default_stats, name='Ooze Monster',
                 HP=[30, 40, 60, 90],
                 Atk1=[4, 5, 6, 7], Atk1dmg=[1, 1, 2, 3],
                 Atk2=[2, 2, 3, 3], Atk2dmg=[2, 2, 3, 3],
                 Atk3=[1, 1, 2, 2], Atk3dmg=[4, 4, 6, 7],
                 Dfns=[1, 2, 3, 3]),
            dict(default_stats, name='Orc'),
            dict(default_stats, name='Pirate',
                 HP=[20, 30, 40, 45],
                 Atk1=[4, 5, 5, 6], Atk1dmg=[2, 3, 3, 4],
                 Atk2=[2, 2, 3, 4], Atk2dmg=[3, 3, 4, 5],
                 Atk3=[2, 3, 3, 4], Atk3dmg=[3, 4, 5, 6],
                 Dfns=[3, 4, 4, 5]),
            dict(default_stats, name='Possessed Doll'),
            dict(default_stats, name='Robot',
                HP=[63, 76, 84, 102],
                Atk1=[4, 5, 5, 6], Atk1dmg=[1, 2, 2, 3],
                Atk2=[3, 4, 4, 5], Atk2dmg=[2, 3, 3, 4],
                Atk3=[2, 2, 3, 3], Atk3dmg=[3, 4, 5, 5],
                Dfns=[2, 3, 4, 4]),
            dict(default_stats, name='Sasquatch'),
            dict(name='Unicorn',
                 HP=[25, 35, 50, 85],
                 Atk1=[3, 4, 4, 5], Atk1dmg=[2, 2, 3, 4],
                 Atk2=[3, 4, 5, 6], Atk2dmg=[3, 4, 5, 5],
                 Atk3=[2, 3, 4, 5], Atk3dmg=[4, 5, 6, 7],
                 Dfns=[4, 5, 6, 7]),
            dict(default_stats, name='Vampire',
                 HP=[40, 50, 75, 95],
                 Atk1=[4, 5, 5, 6], Atk1dmg=[1, 2, 2, 3],
                 Atk2=[2, 3, 3, 4], Atk2dmg=[2, 3, 4, 4],
                 Atk3=[1, 2, 2, 3], Atk3dmg=[3, 4, 5, 5],
                 Dfns=[3, 4, 5, 6]),
            dict(default_stats, name='Werewolf',
                HP=[25, 30, 50, 75],
                Atk1=[4, 4, 5, 6], Atk1dmg=[1, 2, 3, 3],
                Atk2=[3, 3, 4, 5], Atk2dmg=[2, 3, 3, 3],
                Atk3=[1, 1, 2, 4], Atk3dmg=[4, 4, 5, 6],
                Dfns=[4, 5, 6, 7]),
            dict(default_stats, name='Witch'),
            dict(default_stats, name='Wizard',
                 HP=[40, 60, 90, 115],
                 Atk1=[3, 3, 4, 5], Atk1dmg=[1, 1, 2, 2],
                 Atk2=[2, 3, 4, 4], Atk2dmg=[4, 4, 5, 6],
                 Atk3=[1, 1, 3, 3], Atk3dmg=[4, 5, 5, 6],
                 Dfns=[4, 5, 6, 6]),
            dict(default_stats, name='Yeti',
                 HP=[30, 35, 55, 80],
                 Atk1=[3, 4, 4, 5], Atk1dmg=[1, 2, 3, 4],
                 Atk2=[2, 2, 3, 4], Atk2dmg=[3, 3, 4, 5],
                 Atk3=[1, 1, 2, 3], Atk3dmg=[4, 5, 5, 6],
                 Dfns=[3, 3, 4, 5]),
            dict(default_stats, name='Zombie',
                 HP=[49, 60, 90, 120],
                 Atk1=[3, 3, 4, 5], Atk1dmg=[1, 2, 2, 3],
                 Atk2=[2, 2, 3, 4], Atk2dmg=[2, 3, 4, 4],
                 Atk3=[1, 1, 2, 3], Atk3dmg=[3, 4, 4, 5],
                 Dfns=[1, 2, 2, 3])
    ]

import random

picked = [monster for monster in Monsters 
          if monster['name'] in ['Cyclops',
                                 'Genie', 'Giant Ape', 'Giant Lizard',
                                 'Grey Alien', 'Leprechaun', 'Medusa',
                                 'Ninja', 'Ooze Monster', 'Pirate',
                                 'Robot', 'Unicorn', 'Vampire',
                                 'Werewolf', 'Wizard', 'Zombie']]

def slotseeder ():
    randomnumber = (random.randrange(0,len(picked)))
    if picked[randomnumber] != None:
        pickedmonster = Monsters[randomnumber]
        picked[randomnumber] = None
        return pickedmonster

P01 = slotseeder()
if P01 is not None:
    print ""I got monster:"", P01
else:
    print ""Monster already used""
"
6334,76514,Python: How to do a system wide search for a file when just the filename (not path) is available,"import os
from os.path import join

lookfor = ""python.exe""
for root, dirs, files in os.walk('C:\\'):
    print ""searching"", root
    if lookfor in files:
        print ""found: %s"" % join(root, lookfor)
        break
"
13194,80900,"Django ""emulate"" database trigger behavior on bulk insert/update/delete","from django.db.models.signals import pre_save, post_save

def CustomQuerySet(QuerySet):
    @commit_on_success
    def update(self, **kwargs):
        for instance in self:
            pre_save.send(sender=instance.__class__, instance=instance, raw=False, 
                          using=self.db, update_fields=kwargs.keys())
        # use self instead of self.all() if you want to reload all data 
        # from the db for the post_save signal
        result = super(CustomQuerySet, self.all()).update(**kwargs)
        for instance in self:
            post_save.send(sender=instance.__class__, instance=instance, created=False,
                           raw=False, using=self.db, update_fields=kwargs.keys())
        return result

    update.alters_data = True
"
28009,75486,Python text file,"import csv
with open(""ABC.txt"", ""rb"") as csvfile:
    reader = csv.reader(csvfile, delimiter=""\t"")
    data = list(reader)
minimum = data[2][17]
"
16472,72981,Implementing Text Justification with Dynamic Programming,"def length(wordLengths, i, j):
    return sum(wordLengths[i- 1:j]) + j - i + 1


def breakLine(text, L):
    # wl = lengths of words
    wl = [len(word) for word in text.split()]

    # n = number of words in the text
    n = len(wl)    

    # total badness of a text l1 ... li
    m = dict()
    # initialization
    m[0] = 0    

    # auxiliary array
    s = dict()

    # the actual algorithm
    for i in range(1, n + 1):
        sums = dict()
        k = i
        while (length(wl, k, i) <= L and k > 0):
            sums[(L - length(wl, k, i))**3 + m[k - 1]] = k
            k -= 1
        m[i] = min(sums)
        s[i] = sums[min(sums)]

    # actually do the splitting by working backwords
    line = 1
    while n > 1:
        print(""line "" + str(line) + "": "" + str(s[n]) + ""->"" + str(n))
        n = s[n] - 1
        line += 1
"
12233,41609,Scrapy Recursive download of Content,"from scrapy.contrib.spiders import CrawlSpider, Rule
from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor
from scrapy.http import Request
from scrapy.selector import *

from scrapy.item import Item, Field


class CraiglistSampleItem(Item):
    title = Field()
    link = Field()
    description = Field()


class MySpider(CrawlSpider):
    name = ""craigs""
    allowed_domains = [""craigslist.org""]
    start_urls = [""http://minneapolis.craigslist.org/moa/""]

    rules = (Rule(SgmlLinkExtractor(allow=(""index\d00\.html"", ), restrict_xpaths=('//p[@class=""nextpage""]',))
        , callback=""parse_items"", follow=True),
    )

    def parse_items(self, response):
        hxs = HtmlXPathSelector(response)

        titles = hxs.select(""//span[@class='pl']"")
        for title in titles:
            item = CraiglistSampleItem()
            item[""title""] = title.select(""a/text()"").extract()[0]
            item[""link""] = title.select(""a/@href"").extract()[0]

            url = ""http://minneapolis.craigslist.org%s"" % item[""link""]
            yield Request(url=url, meta={'item': item}, callback=self.parse_item_page)

    def parse_item_page(self, response):
        hxs = HtmlXPathSelector(response)

        item = response.meta['item']
        item['description'] = hxs.select('//section[@id=""postingbody""]/text()').extract()
        return item
"
29195,81101,How to include projects in personal SCM repositories (not in pypi) to setup.py?,"setup(
    ...
    dependency_links=[
        'git+https://example.com/spamneggs/foobar.git#egg=foobar-1.2.3'
    ]
    install_requires=[
        'foobar',
    ]
)
"
33502,65879,Get MAC address in python and append to string,"import uuid
hdr=""\xff""*6
mac=uuid.getnode()
txt=""%012X""%mac
as_b=[int("""".join(x),16) for x in map(None,*(txt[::2],txt[1::2]))]
as_s="""".join(chr(b) for b in as_b)
out=hdr+as_s
"
10497,19762,I am using forms.ModelMultipleChoiceField in django admin and I am want to show a python list saved in database as text,"import ast

class StrModelMultipleChoiceField(forms.ModelMultipleChoiceField):
    def to_python(self, value):
         value = ast.literal_eval(value)
         return super(StrModelMultipleChoiceField, self).to_python(value)

    def prepare_value(self, value):
         value = (super(StrModelMultipleChoiceField, self).prepare_value(value)
         return unicode(value)
"
31647,54100,cursor and with_cursor() in GAE,"from google.appengine.ext.ndb import model

class User(model.Model):
   name = model.StringProperty()

users, cursor, more = User.query(User.name == ""Jon"").fetch_page(25)

if more: 
    # Do next page logic
    next_users = User.query(User.name == ""Jon"").fetch_page(25, start_cursor=cursor)
"
6490,71052,How to use multipart upload to S3 via web browser?,"<html> 
  <head> 
    <meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8"" /> 
  </head> 
  <body> 
  <h3>refresh the page after you've submitted to see your new image</h3>
    <div style=""width:300px"">
    <form action=""http://s3.amazonaws.com/dev.sente"" method=""post"" enctype=""multipart/form-data""> 
      <fieldset>
      <input type=""hidden"" name=""acl"" value=""public-read"" /> <br /> 
      <i>name of key:</i><input type=""text"" name=""key"" readonly=""true"" value=""image.jpg"" /> <br /> 
      <input name=""file"" type=""file"" /> <br /> 
      <input name=""submit"" value=""Upload"" type=""submit"" /> 
    </fieldset>
    </form> 
  </div>
    <br />
    <a href=""http://s3.amazonaws.com/dev.sente/image.jpg"">http://s3.amazonaws.com/dev.sente/image.jpg</a><br />
      <a href=""http://s3.amazonaws.com/dev.sente/image.jpg""><img src=""http://s3.amazonaws.com/dev.sente/image.jpg"" /></a>
    </a>
  </body> 
</html> 
"
30188,54246,Python regex and spaces?,"\w+( \w+)*
"
18169,1622,searching for an array of keywords in an array of files,"inputs = []
search_strings = ['WaveDir', 'WaveHs', 'WaveTp', 'WtrDpth', 'Number of mooring lines', 'Reference height', 'Reference wind speed', 'Grid height', 'Grid width', 'Analysis time']
files = ['input.txt', 'input2.txt']

for filename in files: 
    with open(filename) as f_input:
        for line_number, line in enumerate(f_input, start=1):
            for search in search_strings:
                if search in line:
                    first_non_space = line.strip().split(' ')[0]
                    inputs.append((filename, line_number, search, first_non_space))
                    #print filename, line_number, search

for filename, line_number, search_matched, first_non_space in inputs:            
    print filename, line_number, search_matched, first_non_space
"
21629,44701,get class name for empty queryset in django,">>> students = Students.objects.all()

# The queryset's model class:
>>> students.model
project.app.models.Student

# Name of the model class:
>>> students.model.__name__
'Student'

# Import path of the models module:
>>> students.model.__module__
'project.app.models'

# Django app name:
>>> students.model._meta.app_label
'app'
"
39132,57435,Group by - select most recent 4 events,">>> df[""DATE""] = pd.to_datetime(df[""DATE""]) # switch to datetime to ease sorting
>>> df = df.sort([""STOCK"", ""DATE""])
>>> rsum_columns = ""DATA1"", ""DATA3""
>>> grouped = df.groupby(""STOCK"")[rsum_columns]
>>> new_columns = grouped.transform(lambda x: pd.rolling_sum(x, 4))
>>> df[new_columns.columns + ""_TTM""] = new_columns
>>> df
                  DATE STOCK  DATA1  DATA2  DATA3  DATA1_TTM  DATA3_TTM
0  2012-01-01 00:00:00   ABC   0.40   0.88   0.22        NaN        NaN
1  2012-04-01 00:00:00   ABC   0.50   0.49   0.13        NaN        NaN
2  2012-07-01 00:00:00   ABC   0.85   0.36   0.83        NaN        NaN
3  2012-10-01 00:00:00   ABC   0.28   0.12   0.39       2.03       1.57
4  2013-01-01 00:00:00   ABC   0.86   0.87   0.58       2.49       1.93
5  2013-04-01 00:00:00   ABC   0.95   0.39   0.87       2.94       2.67
6  2013-07-01 00:00:00   ABC   0.60   0.25   0.56       2.69       2.40
7  2013-10-01 00:00:00   ABC   0.15   0.28   0.69       2.56       2.70
8  2011-01-01 00:00:00   XYZ   0.94   0.40   0.50        NaN        NaN
9  2011-04-01 00:00:00   XYZ   0.65   0.19   0.81        NaN        NaN
10 2011-07-01 00:00:00   XYZ   0.89   0.59   0.69        NaN        NaN
11 2011-10-01 00:00:00   XYZ   0.12   0.09   0.18       2.60       2.18
12 2012-01-01 00:00:00   XYZ   0.25   0.94   0.55       1.91       2.23
13 2012-04-01 00:00:00   XYZ   0.07   0.22   0.67       1.33       2.09
14 2012-07-01 00:00:00   XYZ   0.46   0.08   0.54       0.90       1.94
15 2012-10-01 00:00:00   XYZ   0.04   0.03   0.94       0.82       2.70

[16 rows x 7 columns]
"
1987,64740,Completely remove one item from a list,"MyList = [v for v in MyList if v != 'hi']
"
26928,12438,How to stop turtles at certain coordinates?,">>> round(40.01)
40.0
"
3536,76050,"Python/Selenium - Chrome Web Driver, Click Action","clickme = browser.find_element_by_xpath('//a[contains(@href,""http://example.com/link"")]')
clickme.click()
"
35346,59600,Match Tkinter Text tag to string?,"import Tkinter as tk

class Example(tk.Frame):
    def __init__(self, parent):
        tk.Frame.__init__(self, parent)

        self.text = tk.Text(self, wrap=""none"")
        xsb = tk.Scrollbar(self, orient=""horizontal"", command=self.text.xview)
        ysb = tk.Scrollbar(self, orient=""vertical"", command=self.text.yview)
        self.text.configure(yscrollcommand=ysb.set, xscrollcommand=xsb.set)
        ysb.grid(row=0, column=1, sticky=""ns"")
        xsb.grid(row=1, column=0, sticky=""ew"")
        self.text.grid(row=0, column=0, sticky=""nsew"")
        self.grid_rowconfigure(0, weight=1)
        self.grid_columnconfigure(0, weight=1)

        self.text.tag_configure(""keyword"", foreground=""#b22222"")

        # this probably isn't what you want to do in production, 
        # but it's good enough for illustrative purposes
        self.text.bind(""<Any-KeyRelease>"", self.highlight)
        self.text.bind(""<Any-ButtonRelease>"", self.highlight)

    def highlight(self, event=None):
        self.text.tag_remove(""keyword"", ""1.0"", ""end"")

        count = tk.IntVar()
        self.text.mark_set(""matchStart"", ""1.0"")
        self.text.mark_set(""matchEnd"", ""1.0"")

        while True:
            index = self.text.search(""print"", ""matchEnd"",""end"", count=count)
            if index == """": break # no match was found

            self.text.mark_set(""matchStart"", index)
            self.text.mark_set(""matchEnd"", ""%s+%sc"" % (index, count.get()))
            self.text.tag_add(""keyword"", ""matchStart"", ""matchEnd"")

if __name__ == ""__main__"":
    root = tk.Tk()
    Example(root).pack(fill=""both"", expand=True)
    root.mainloop()
"
27909,66677,"True returned in both cases, when it contains an element and when not. Why?","import numpy as np
v1 = np.array([9,2])
v2 = np.array([2,9])
v3 = np.array([9,4])
ar1 = np.array([[5, 7],
                [7, 5],
                [9, 2],
                [0, 1]])

>>> ar1 == v1
array([[False, False],
       [False, False],
       [ True,  True],
       [False, False]], dtype=bool)
>>> ar1 == v2
array([[False, False],
       [False, False],
       [False, False],
       [False, False]], dtype=bool)
>>> ar1 == v3
array([[False, False],
       [False, False],
       [ True, False],
       [False, False]], dtype=bool)
>>> np.any(np.all(ar1 == v1 , axis = 1)), np.any(np.all(ar1 == v2, axis = 1)), np.any(np.all(ar1 == v3, axis = 1))
(True, False, False)
>>>     
"
27143,49352,Python sorted method treats two digit string as three digit string,"sorted(data, key = lambda item : float(item[""AveragePoints""]), reverse = True)
"
7989,13963,Count Frequency of the nth item of each List within Larger List,">>> l = [['Frank', 23],['Mary', 55],['Craig', 17],['Nancy', 34],['Ben', 55],['Cindy', 47]]
>>> sum(item[1]==55 for item in l)
2
"
27217,84219,Python pyparsing file with bracketed strings,"for line in f.readlines():
    line.strip('{}').split('} {')`
"
29295,15894,Improving BeautifulSoup Perf,"   vote = BeautifulSoup(html)
   vote = bookmark.findAll('span', attrs={'class': 'delNavCount'})
"
11438,68641,Python Returns on calling class object,"class House:
    # other methods
    def __str__(self):
        return ""%d %s"" % (self.street_number, self.street_name)
"
19964,74284,wrap python os.system method,"def my_os_system(cmd):
    err = os._system(cmd)
    if err != 0:
        print ""Error occured when executing: %s. Exiting."" % cmd
        sys.exit(-1)

os._system = os.system
os.system = my_os_system
"
27196,72053,Python looping through list and adding sum to new list,"for j in range (15):
    for i in range(10):
            output.append(probability(prob, outcome))
    amount = sum(output)
    outcome1.append(amount)
    output = []

print(outcome1)
"
15012,71581,Pandas: Return count of matching values between two DataFrame variables,"In [40]: US['city'].value_counts()
Out[40]: 
Edinburgh    3
Bury         2
Hamilton     2
Name: city, dtype: int64

In [41]: UK['count'] = UK['city'].map(US['city'].value_counts())

In [42]: UK
Out[42]: 
        city  count
0   Hamilton      2
1  Edinburgh      3
2       Bury      2
"
11951,30079,How to mix up lines from two text files?,"with open(firstFile) as f1, open(secondFile) as f2,\
                                             open(writeTo, 'w') as text_file:
    for line1, line2 in zip(f1, f2):
         text_file.write(line1 + line2)
"
19411,51625,"Restarting at line 0 in a ""For line"" statement in python","import os

f = open('file', 'r')  # don't use 'file' as a variable name
while True:
    f.seek(0)
    for line in f:
        # do stuff

f.close()
"
1610,64611,Passing a tuple between two Panels in wxPython,"#! /usr/bin/python

# Trying to do things in a separate panel based on
# events that happen in another panel

import wx

# ----- Functions




# ----- Classes
class ChkbxPanel(wx.Panel):
    # This class defines the panel that will
    # contain the checkbox
    def __init__(self, parent):
        wx.Panel.__init__(self, parent=parent, id=-1)
        # Widgets
        choices = ['one', 'two', 'three']
        prompt = 'Please Make a Choice'
        self.chkBx = wx.CheckListBox(self, choices=choices, size=(-1, 200))
        self.PromptChkBx = wx.StaticText(self, label=prompt)

        # Page Sizers
        self.panel_vertSizer = wx.BoxSizer(wx.VERTICAL)
        self.panel_vertSizer.Add(self.PromptChkBx, proportion=0,
                                 flag=wx.ALIGN_LEFT)
        self.panel_vertSizer.Add(self.chkBx, proportion=0, flag=wx.ALIGN_LEFT)

        # Invoke Sizer
        self.SetSizer(self.panel_vertSizer)

        # Make 'self' (the panel) shrink to the minimum size
        # required by the controls
        self.Fit()
        # end __init__
    # ----- Functions


class ResultsPanel(wx.Panel):
    # This class define the panel that will
    # contain the textctrl
    def __init__ (self, parent):
        wx.Panel.__init__(self, parent=parent, id=-1)
        # Widgets
        resultsPanelTitle = 'Results:'
        self.resultsTitle = wx.StaticText(self, label=resultsPanelTitle)
        self.results = wx.TextCtrl(self, size=(300, 500),
                    style=(wx.TE_MULTILINE | wx.TE_READONLY | wx.TE_DONTWRAP))
        self.CheckedBxs = ()

        lenofcb = len(self.CheckedBxs)
        typeofcb = type(self.CheckedBxs)
        self.results.AppendText('How Many Boxes are Checkd:\n')
        self.results.AppendText(str(lenofcb) + '\n')
        self.results.AppendText(str(typeofcb) + '\n')
        # Page Sizer
        self.panel_vertSizer = wx.BoxSizer(wx.VERTICAL)
        self.panel_vertSizer.Add(self.resultsTitle, proportion=0, flag=wx.ALIGN_LEFT)
        self.panel_vertSizer.Add(self.results, proportion=0, flag=wx.ALIGN_LEFT)

        # Invoke Sizer
        self.SetSizer(self.panel_vertSizer)

        # Make 'self' (the panel) shrink to the minimum size
        # required by the controls
        self.Fit()

        # end __init__

    # ----- Functions


# ----- Main Frame
class MainFrame(wx.Frame):
    # A 2-Control Class With BoxSizers
    def __init__(self):
        # Configure the Figure
        titleText = 'Wx Question'
        wx.Frame.__init__(self, None, title=titleText
                        , size=(600, 300), style=wx.DEFAULT_FRAME_STYLE)

        # First Frame Control automatically expands to the
        # Frame's client size
        frame_panel = wx.Panel(self)

        # Create the Controls
        leftPanel = ChkbxPanel(frame_panel)
        self.rightPanel = ResultsPanel(frame_panel)

        # Create Sizers and add the controls
        panelCtrls_horzSizer = wx.BoxSizer(wx.HORIZONTAL)
        panelCtrls_horzSizer.Add(leftPanel)
        panelCtrls_horzSizer.Add(self.rightPanel)

        framePanel_vertSizer = wx.BoxSizer(wx.VERTICAL)
        framePanel_vertSizer.Add(panelCtrls_horzSizer)

        frame_panel.SetSizer(framePanel_vertSizer)
        frame_panel.Fit()
        self.SetSize((600, 600))

        leftPanel.chkBx.Bind(wx.EVT_CHECKLISTBOX, self.onCheckBox)

    def onCheckBox(self, event):
        checked = event.EventObject.CheckedStrings
        self.rightPanel.results.AppendText(
            'Checked: {0}, Qty checked: {1}\n'.format(checked, len(checked)))



# Main if statement
if __name__ == '__main__':
    app = wx.App(redirect=False)
    appFrame = MainFrame().Show()
    app.MainLoop()
"
11662,21963,pseudo code in python,"#define a key method
        #determine the key using each set of letters, such as the letters of a word in 
        #alphabetical order
        #keyof(""word"") returns ""dorw""
        #keyof(""dad"") returns ""add""
        #keyof(""add"") returns ""add""

#ingest the word set method
    #put the word set into a dictionary which maps
    #key->list of up to 10 angrams

#get angrams method
    #accept a word as a parameter
    #convert the word to its key
    #look up the key in the dictionary
    #return the up to 10 angrams

#test case: add ""dad"" and ""add"" to the word set. 
#    getting angrams for ""dad"" should return ""dad"" and ""add""
#test case: add ""palm"" and ""lamp"" to the word set. 
#    getting angrams for ""palm"" should return ""palm"" and ""lamp""

#consider storing 11 angrams in the list 
#a01, a02, a03, a04, a05, a06, a07, a08, a09, a10, a11. 
#Then if a01 is provided, you can return a02-a11, which is 10 angrams
"
38509,22724,How to give python command line arguments from command line mode,"#!/usr/bin/env python
#your script here
"
5283,49687,"Python file compilation and distinguish, how this happens","$ echo ""print 'first file'"" > z.py
$ echo ""import z"" > main.py
$ python main.py
first file
$ echo ""print 'second file'"" > z.py
$ python z.py
second file
$ python z.pyc
first file
"
3940,46635,how to use matplotlib quiver scale,"import matplotlib
import numpy as np
import matplotlib.pyplot as plt

x, y = np.mgrid[0:20, 0:25]
u = np.sin(2 *x * np.pi / 20)
v = np.cos(2 * y * np.pi / 25)

fig, (ax_l, ax_r) = plt.subplots(1, 2, figsize=(8, 4))

ax_r.quiver(x, y, u, v, scale=5, scale_units='inches')
ax_l.quiver(x, y, 2*u, 2*v, scale=5, scale_units='inches')

ax_l.set_title('2x')
ax_r.set_title('1x')
"
22495,85228,Python Serialization (to JSON) issue,"json_serializer.serialize(queryset, ensure_ascii=False, stream=response)
"
17034,67224,"Can you make a python subprocess output stdout and stderr as usual, but also capture the output as a string?","# -*- Mode: Python -*-
# vi:si:et:sw=4:sts=4:ts=4

import subprocess
import sys
import select

p = subprocess.Popen([""find"", ""/proc""],
    stdout=subprocess.PIPE, stderr=subprocess.PIPE)

stdout = []
stderr = []

while True:
    reads = [p.stdout.fileno(), p.stderr.fileno()]
    ret = select.select(reads, [], [])

    for fd in ret[0]:
        if fd == p.stdout.fileno():
            read = p.stdout.readline()
            sys.stdout.write('stdout: ' + read)
            stdout.append(read)
        if fd == p.stderr.fileno():
            read = p.stderr.readline()
            sys.stderr.write('stderr: ' + read)
            stderr.append(read)

    if p.poll() != None:
        break

print 'program ended'

print 'stdout:', """".join(stdout)
print 'stderr:', """".join(stderr)
"
4348,69882,Testing the equality of the sum of a digits within a number on python?,"def f(n):
    s = str(n)
    l = len(s)
    for n in (n for n in range(1, l + 1) if l % n == 0):
        ints = [int(''.join(x)) for x in zip(*[iter(s)]*n)]
        if sum(ints) == 100:
            return True
    return False
"
21639,76928,Extract images and text from a sequence of urls,"def getUrl(opt, baseUrl):
    out_folder = ""/monedasWiki/monedas""
    print ""Instrucciones del script \n No te preocupes, no es complicado pero atiende a los pasos""
    print ""Introduce 1 para obtener los archivos del 00001 al 00010""
    print ""Introduce 2 para obtener los archivos del 00010 al 00099""
    print ""Introduce 3 para obtener los archivos del 00100 al 00999""
    print ""Introduce 4 para obtener los archivos del 01000 al 09999""
    print ""Introduce 5 para obtener los archivos del 10000 al 19999""
    optSel = int(input(opt))
    # i es el rango
    # urlI es la transformacion de i en cadena
    # baseUrl es el enlace al sitio web de Pliego
    # url es la url completa con los parametros necesarios
    if optSel == 1:
        try:
            for i in range(0,10):
                r = str(0).zfill(4)
                urlI = str(i)
                print r + urlI # it's only to verify that works fine.
                url = baseUrl + r + urlI
                main(url, out_folder)
        except ValueError:
            print ""Introduce el rango correcto""
    elif optSel == 2:
        try:
            for i in range(10,100):
                r = str(0).zfill(3)
                urlI = str(i)
                print r + urlI # it's only to verify that works fine.
                url = baseUrl + r + urlI
                main(url, out_folder)
        except ValueError:
            print ""Introduce el rango correcto""
    elif optSel < 0:
        print ""Valor inferior a 0""
    else:
        print ""Algo ha salido mal""
"
1601,2290,How to generate a 13 digit number from a string in python,"import hashlib

str1 = 'abcxyz123'
str2 = 'abcxyzhjk'
str3 = 'abcxyz123'

hash1 = hashlib.sha1()
hash1.update(str1)
print str(int(hash1.hexdigest(), 16))[:13]
>>> 2655706373072

hash2 = hashlib.sha1()
hash2.update(str2)
print str(int(hash2.hexdigest(), 16))[:13]
>>> 1219934364452

hash3 = hashlib.sha1()
hash3.update(str3)
print str(int(hash3.hexdigest(), 16))[:13]
>>> 2655706373072
"
5852,69560,"How to check a list for a string then select the rest of that item,","def Timer(swimmer):
    myFile = open(""race.txt"", ""r"")
    lists = myFile.readlines()
    found = [l for l in lists if l.startswith(swimmer)][0]  # Gets first found swimmer
    time = found.split()[-1]  # Gets last item (eg. time) in splitted list
    myFile.close()
    return time

print Timer('jack')
"
14641,4449,python parse file,"import sys

infile, outfile = sys.argv[1], sys.argv[2]

with open(infile) as inf, open(outfile,""w"") as outf:
    line_words = (line.split(',') for line in inf)
    outf.writelines(words[1].strip() + '\n' for words in line_words if len(words)>1)
"
32725,12173,Python dictionary ordering with equal keys,"def _compare_dict(self, d1, d2):
    """"""
    Compares two dictionaries of floating point numbers
    for equality.
    """"""
    if len(d1) != len(d2): # comparing `.keys()` is futile and slow
        return False
    try:
        return all(abs(d1[k] - d2[k]) < sys.float_info.epsilon for k in d1)
    except KeyError:
        return False
"
31065,70807,Nested ArgumentParser,"argparser = argparse.ArgumentParser()
argparser.add_argument(""-H"", action=""store_true"")
subparser = argparser.add_subparsers(dest='sp')
cmd = subparser.add_parser(""cmd"")
cmd.add_argument(""-H"", dest='cmd_H')

print argparser.parse_args()
"
11544,70290,Backslashes in Windows filepath?,"In [9]: a=r'\\'

In [10]: b=r'\\\'
  File ""<ipython-input-10-9f86439e68a3>"", line 1
    b=r'\\\'
             ^
SyntaxError: EOL while scanning string literal


In [11]: a
Out[11]: '\\\\'
"
24709,65562,Replace all regex matches in a file,"import fileinput
import re

fn = ""test.txt"" # your filename

r = re.compile('a(.+?)a')
for line in fileinput.input(fn, inplace=1):
  match = r.match(line)
  print match.group() if match else line.replace('\n', '')
"
16690,53253,SQLite table in RAM instead of FLASH,"ATTACH DATABASE "":memory:"" AS memdb;
CREATE TABLE memdb.my_table (...);
"
36465,28544,Printing row of a list,"matrix = [[1,0,1],[1,0,1],[1,0,1]]
print '\t' + '\t'.join('col{}'.format(i) for i in xrange(len(matrix[0])))
for i,row in enumerate(matrix):
    print 'row{}\t'.format(i) + '\t'.join(str(x) for x in row)
"
8447,31666,Null and Sorting,"target = table.sql('select * where sales < 1000.00')
"
9383,41396,Unicode full width to standard ASCII (and back) in Python,"ascii_to_wide = dict((i, unichr(i + 0xfee0)) for i in range(0x21, 0x7f))
ascii_to_wide.update({0x20: u'\u3000', 0x2D: u'\u2212'})  # space and minus
wide_to_ascii = dict((i, unichr(i - 0xfee0)) for i in range(0xff01, 0xff5f))
wide_to_ascii.update({0x3000: u' ', 0x2212: u'-'})        # space and minus

wide_text.translate(wide_to_ascii)
ascii_text.translate(ascii_to_wide)

>>> wide_text.translate(wide_to_ascii)
u'Half-LifeSystem Data'
>>> wide_text.translate(wide_to_ascii).translate(ascii_to_wide)
u'\uff28\uff41\uff4c\uff46\u2212\uff2c\uff49\uff46\uff45\uff33\uff59\uff53\uff54\uff45\uff4d\u3000\uff24\uff41\uff54\uff41'
"
2594,74840,merge columns of a csv file in python with variable entries in every row in?,"import csv

ip_file = open(""ipfile.csv"")
position_file = open(""positionfile.csv"")
output = open(""output.csv"", ""wt"")

ips = {}    

# create a CSV reader for the proper csv file with locations:
reader = csv.reader(position_file)
for line in reader:
    ips[line[0]] = line[1]


#now you have the IP + location association

for line in ip_file.readlines():
    ip = line.split("","")[-1].strip()
    output.write(line.strip() + "", "" + (ips[ip] if ip in ips else ""location unknown"") + ""\n"" )

output.close()
"
24321,80645,Pyramid - How do I create a route that avoids authentication,"@view_config(route_name='home', permission=pyramid.security.NO_PERMISSION_REQUIRED)
def open_view(request):
    # ...
"
27483,84720,How to get a nice API Plot in Python?,"import matplotlib.pyplot as plt
import numpy as np

# Generate some data to plot...
x = np.arange(1000)
y = np.random.normal(0, 1, y.size).cumsum()
y[y < 0] *= -1

fig, ax = plt.subplots()
# Fill the region between your curve and 0 with red...
ax.fill_between(x, y, facecolor='red', edgecolor='none')

# Optional...
ax.grid(True, color='white', linewidth=2, linestyle='-')
ax.set(axisbelow=True, axis_bgcolor='lightgray')
ax.tick_params(direction='out')

plt.show()
"
27163,32397,Communicating with a running process,"import subprocess
def _run_command( _args, input=[],withShell=False):
    """"""
    Pass args as array, like ['echo', 'hello']
    Waits for completion and returns
    tuple (returncode, stdout, stderr)
    """"""
    p = subprocess.Popen(_args, shell = withShell,
                         stdin=subprocess.PIPE, stdout=subprocess.PIPE)
    [p.stdin.write(v) for v in input]
    stdout, stderr = p.communicate()
    return p.returncode, stdout, stderr

_,op,er = _run_command(['cat'],[""this"",""is"",""for"",""testing""])
value="""".join(op)
print value

_,op,er = _run_command(['ls',""/tmp""])
value="""".join(op)
print value
"
13995,48406,wxPython equivalent to Tkinter's protocol attribute?,"class ChildFrame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None)
        self.Bind(wx.EVT_CLOSE, self.on_close)


    def on_close(self, evt):       
        process_whatever_you_want()
        self.Destroy()
"
17692,8785,xml python parsing get parent node name : minidom,"import xml.dom.minidom

def getParentObjectNode(node):
    while node.parentNode:
        node = node.parentNode
        if node.nodeName == ""Object"":
            return node

xml = xml.dom.minidom.parse(""C:\\myxml.xml"")
for shirtNode in xml.getElementsByTagName(""Object""):
    if shirtNode.getAttribute(""label"") == ""shirt"":
        break

shirtParentObject = getParentObjectNode(shirtNode)
print(shirtParentObject.getAttribute(""label""))
shirtParentParentObject = getParentObjectNode(shirtParentObject)
print(shirtParentParentObject.getAttribute(""label""))
"
38069,54716,python import csv lists,"import StringIO
import csv

csvfile = StringIO.StringIO(""""""queryInclude,yahoo,value1
queryInclude,yahoo,value2
queryInclude,yahoo,value3
queryExclude,yahoo,value4
queryExclude,yahoo,value5
queryInclude,google,value6
queryExclude,google,value7"""""")

reader = csv.reader(csvfile, delimiter=',', quotechar='|')

dict1={}
for row in reader:
    key1, provider, value1 = row
    if not dict1.has_key(key1):
        dict1[key1] = {}
    if not dict1[key1].has_key(provider):
        dict1[key1][provider] = []
    dict1[key1][provider].append(value1)
"
35526,1112,What is the cleanest way to count frequencies in python,"from collections import Counter

freq = Counter()
for x in data:
    freq[(x - 1) // 10] += 1
"
18912,6627,"Python Regex: ""re.match()"" works differently than ""re.sub()"" for regex",">>> str = 'func(param1, param2)'
>>> re.match(r',\s*param2', str)
>>> re.search(r',\s*param2', str)
<_sre.SRE_Match object at 0x7f16b72b83d8>
"
34014,42298,"In Python, can you have variables within triple quotes? If so, how?",">>> mystring ="""""" I like to wash clothes on %s
... I like to clean dishes %s
... """"""
>>> wash_clothes = 'tuesdays'
>>> clean_dishes = 'never'
>>> 
>>> print mystring % (wash_clothes, clean_dishes)
 I like to wash clothes on tuesdays
I like to clean dishes never
"
21980,17036,virtualenv does not copy standard modules like shutil and urllib2,">>> import os
>>> os
<module 'posixpath' from '/environments/userpython/lib/python2.6/posixpath.pyc'>
>>> import shutil
>>> shutil
<module 'shutil' from '/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/shutil.pyc'>
"
32012,16298,clarification of Python regular expression,"import re
nw = ""01textttt2345""

xx = re.sub(r'\d+(textttt)\d+', r'\1 ', nw)
print '[%s]' % xx  # [textttt ]

xx = re.sub(r'\d(textttt)\d', r'\1 ', nw)
print '[%s]' % xx  # [0textttt 345]
"
22289,68711,how do you call arbitrary object methods from a standalone function python,"def testcallback(obj, callback):
    getattr(obj, callback)()
"
10740,44893,How can I impose the total number of digits in python (new formatting),"a = 1234.567890123 
b = 12345.678901234
str(a)[:8] # gives '1234.567'
str(b)[:8] # gives '12345.67'
"
38875,36041,Why is Python 2.X division not working as intended even after using float,">>> print 425 / (469 / float(100))
90.618336887
"
19133,53787,Why would one build supervisord inside of a buildout?,"[supervisor-cron]
recipe = z3c.recipe.usercrontab
times = @reboot
command = ${buildout:bin-directory}/supervisord -c ${buildout:directory}/etc/supervisord.conf
"
3903,12997,assigning to multi-dimensional array,"tmp = C.swapaxes(1, 2)
tmp[:] = s
C = tmp.swapaxes(1, 2)
"
24636,61768,Scale value in label,"import tkinter as tk

root = tk.Tk()

scalevar = tk.IntVar()
scalevar.set(50)

scale = tk.Scale(root, from_=0, to=100, 
                 variable=scalevar, orient=""horizontal"")
label = tk.Label(root, textvariable=scalevar)

scale.pack(side=""top"", fill=""x"", expand=True)
label.pack(side=""top"", fill=""x"", expand=True)

root.mainloop()
"
28244,31143,Problem with hash function: hash(1) == hash(1.0),"class W(object):

  def __init__(self, x):
    self.x = x
    self.t = type(x)

  def __eq__(self, other):
    t = type(other)
    if t != type(self):
      return False
    return self.x == other.x and self.t == other.t

  def __hash__(self):
    return hash(self.x) ^ hash(self.t)

  def __getattr__(self, name):
    return getattr(self.x, name)
"
37307,42304,draw syntax tree with antlr3 generated parser for the Python,"#!/usr/bin/env python

import antlr3
from antlr3 import *
from antlr3.tree import *
from CppLexer import *
from CppParser import *

def print_level_order(tree, indent):
  print '{0}{1}'.format('   '*indent, tree.text)
  for child in tree.getChildren():
    print_level_order(child, indent+1)

input = """"""
  int main (){
    int a = 4;
    return a;
  }
""""""
char_stream = antlr3.ANTLRStringStream(input)
lexer = CppLexer(char_stream)
tokens = antlr3.CommonTokenStream(lexer)
parser = CppParser(tokens)
tree = parser.parse().tree 
print_level_order(tree, 0)
"
31711,64010,Drawing axis in the middle of the figue in python,"import math
import numpy as np
import matplotlib.pyplot as plt

def sigmoid(x):
    a = []
    for item in x:
        a.append(1/(1+math.exp(-item)))
    return a


x = np.arange(-10., 10., 0.2)
sig = sigmoid(x)

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)

# Move left y-axis and bottim x-axis to centre, passing through (0,0)
ax.spines['left'].set_position('center')
ax.spines['bottom'].set_position('center')

# Eliminate upper and right axes
ax.spines['right'].set_color('none')
ax.spines['top'].set_color('none')

# Show ticks in the left and lower axes only
ax.xaxis.set_ticks_position('bottom')
ax.yaxis.set_ticks_position('left')

plt.plot(x,sig)
plt.show()
"
566,2299,Converting String of a tuple to a Tuple,"from ast import literal_eval
s = '(((3,),(4,2),(2,)),((1,),(2,4),(2,)))'

t = literal_eval(s)
print(t)
print(type(t))
(((3,), (4, 2), (2,)), ((1,), (2, 4), (2,)))
<class 'tuple'>
"
26531,81213,Setting a default variable value if param is not defined,"try:
    limit_default_value = 10
    limit = int(self.request.get('limit', limit_default_value))
except ValueError: #catch a string that does not like decimal
    limit = limit_default_value
"
37350,27451,Django-tastypie multiple urls in prepend_urls,"def prepend_urls(self):
        return [
            url(
                r""^(?P<resource_name>%s)/(?P<my_id>\d+)/$""
                % self._meta.resource_name, self.wrap_view('dispatch_detail'),
                name=""api_dispatch_detail_id""),
            url(
                r""^(?P<resource_name>%s)/(?P<name>[\w\d_.-]+)/$""
                % self._meta.resource_name, self.wrap_view('dispatch_detail'),
                name=""api_dispatch_detail_name""),
        ]
"
17586,58113,"Python iterate over linux command output, line by line in real-time","from subprocess import Popen, PIPE

def os_system(command):
    process = Popen(command, stdout=PIPE, shell=True)
    while True:
        line = process.stdout.readline()
        if not line:
            break
        yield line


if __name__ == ""__main__"":
    for path in os_system(""find /tmp""):
        print path
"
32664,77920,Move an email in GMail with Python and imaplib,"import imaplib, getpass, re
pattern_uid = re.compile('\d+ \(UID (?P<uid>\d+)\)')

def connect(email):
    imap = imaplib.IMAP4_SSL(""imap.gmail.com"")
    password = getpass.getpass(""Enter your password: "")
    imap.login(email, password)
    return imap

def disconnect(imap):
    imap.logout()

def parse_uid(data):
    match = pattern_uid.match(data)
    return match.group('uid')

if __name__ == '__main__':
    imap = connect('<your mail id>')
    imap.select(mailbox = '<source folder>', readonly = False)
    resp, items = imap.search(None, 'All')
    email_ids  = items[0].split()
    latest_email_id = email_ids[-1] # Assuming that you are moving the latest email.

    resp, data = imap.fetch(latest_email_id, ""(UID)"")
    msg_uid = parse_uid(data[0])

    result = imap.uid('COPY', msg_uid, '<destination folder>')

    if result[0] == 'OK':
        mov, data = imap.uid('STORE', msg_uid , '+FLAGS', '(\Deleted)')
        imap.expunge()

    disconnect(imap)
"
14345,35155,URL-encode a string,">>> urllib.quote('this is my string')
'this%20is%20my%20string'

>>> urllib.quote_plus('this is my string')
'this+is+my+string'
"
1406,84769,Can I use the xmodem protocol with PySerial?,"import serial
try:
    from cStringIO import StringIO
except:
    from StringIO import StringIO
from xmodem import XMODEM, CRC
from time import sleep

def readUntil(char = None):
    def serialPortReader():
        while True:
            tmp = port.read(1)
            if not tmp or (char and char == tmp):
                break
            yield tmp
    return ''.join(serialPortReader())

def getc(size, timeout=1):
    return port.read(size)

def putc(data, timeout=1):
    port.write(data)
    sleep(0.001) # give device time to send ACK


port = serial.Serial(port='COM5',parity=serial.PARITY_NONE,bytesize=serial.EIGHTBITS,stopbits=serial.STOPBITS_ONE,timeout=0,xonxoff=0,rtscts=0,dsrdtr=0,baudrate=115200)
port.write(""command that loads data via xmodem\r\n"")
sleep(0.02) # give device time to handle command
readUntil(CRC)
buffer = StringIO('data to send')
XMODEM(getc, putc).send(buffer, quiet = 1)
buffer.close()
readUntil()
"
20347,70549,Encoding in python,"# -- coding: utf-8 --
import io

with io.open('info', encoding='utf-8') as final:
    lines = final.readlines()

for line in lines:
    if line.strip() == u""WyksztaÅcenie i praca"": #error
        print ""ok""
"
9658,21580,How to get last N rows RELATIVE to another row in pandas (vector solution)?,"df.last_3 = df.key_pressed.shift(1) + ', ' + df.key_pressed.shift(2) + ', ' + df.key_pressed.shift(3)
"
7583,21350,Multiple filters with a lambda in RethinkDB,"r.table('backups').filter(
  (r.row['verified'] == True) & r.row['id'].match(""^aad"")
).run(conn)
"
28639,30746,How to efficiently remove the same-length elements from a list in python,">>> l = [[1,3],[23,4],[13,45,6],[8,3],[44,33,12]]
>>> dict((len(i), i) for i in l).values()
[[8, 3], [44, 33, 12]]
"
12990,49062,"Nested ""for"" in Django view wonÂ´t work","for tarifa in tarifas:
    tot = {'tarifa': tarifa}
    data_json['datos_TOT'].append(tot)

    teu = {'tarifa': tarifa}
    values = []
    for j, termino in enumerate(terminos):
        value = {'termino': termino, 'periodo': ""{0}-{1}"".format(j,j+1)}
        values.append(value)
    teu['values'] = values
    data_json['datos_TEU'].append(teu)
"
28229,17675,Why can't I load a Facebook app page in Python?,"User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_3) AppleWebKit/535.11 (KHTML, like Gecko) Chrome/17.0.963.79 Safari/535.11
"
8530,47017,Is there a proper way to use Python code from PHP?,"from SimpleXMLRPCServer import SimpleXMLRPCServer
from SimpleXMLRPCServer import SimpleXMLRPCRequestHandler

# Restrict to a particular path.
class RequestHandler(SimpleXMLRPCRequestHandler):
    rpc_paths = ('/RPC2',)

# Create server
server = SimpleXMLRPCServer((""localhost"", 8000),
                            requestHandler=RequestHandler)
server.register_introspection_functions()

# Register pow() function; this will use the value of
# pow.__name__ as the name, which is just 'pow'.
server.register_function(pow)

# Register a function under a different name
def adder_function(x,y):
    return x + y
server.register_function(adder_function, 'add')

# Register an instance; all the methods of the instance are
# published as XML-RPC methods (in this case, just 'div').
class MyFuncs:
    def div(self, x, y):
        return x // y

server.register_instance(MyFuncs())

# Run the server's main loop
server.serve_forever()
"
4398,34275,Storing/working with tags in mongodb for a document management system,"tags: ['linux', 'apached', 'wsgi']
"
29970,45709,How to manage wx.StatusBar text in interactions with menus,"self.CreateStatusBar(2)
self.SetStatusText(""A Custom StatusBar..."", 1)
wx.CallLater(10000, self.SetStatusText, """", 1)
"
12475,10155,How can I identify two different connections to sockets using python?,"import select

connections = []

while True:
    rlist,wlist,xlist = select.select(connections + [s],[],[])
    for i in rlist:
        if i == s:
            conn,addr = s.accept()
            connections.append(conn)
            continue
        data = i.recv(1024)
        for q in connections:
            if q != i and q != s:
                q.send(data)
"
8132,73090,Any push back like function in python?,"def starttoend(it):
  for line in it:
    if 'START' in line:
      yield line
      break
  for line in it:
    yield line
    if 'END' in line:
      break

l = ['asd', 'zxc', 'START123', '456789', 'qwertyEND', 'fgh', 'cvb']

i = iter(l)
for line in starttoend(i):
  print line
"
10752,13191,Performing multiple tasks at the same time in Python,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

from selenium import webdriver
from threading import Thread

with open(""url_lists.txt"",""r"") as fi:  ###The text file contains hundreds of urls
    urls = fi.read().splitlines()

def func(url, bro):

    browserFunc = getattr(webdriver, bro, webdriver.Firefox)
    browser = browserFunc()           
    browser.get(url)    
    browser.find_element_by_id('download').click()

t = []
urls = [1,2,3,4,5]
bros = [1,2,3,4,5]

for i in range(len(urls)):
    t.append(Thread(target=func, args=[urls[i], bros[i]]))
for i in t:
    t.start()
for i in t:
    t.join()


if __name__ == '__main__':

    a = test1()
"
13348,35882,Is it possible to define the name of the temp dir using mkdtemp?,"tempfile.mkdtemp([suffix=''[, prefix='tmp'[, dir=None]]])
"
29276,17501,How can I send the result of the operation to the same template where the user submited the form using a django FormView?,"class MyView(View):

    def get(self, request):
        my_form = Formname()
        return render(request, 'template.html', {'my_form': my_form})

    def post(self, request):
        my_form = Formname(request.POST)
        if my_form.is_valid():
            result = do_stuff()
            return render(request, 'template.html', {'my_form': my_form, 'result': result})
        return render(request, 'template.html', {'my_form': my_form})
"
21843,49788,Private messaging using sockjs-tornado,"[Sender (Client)] ------- Message (POST) --> [App Server] --- Message --> [Database]
                                                  |
                                               Message
                                                  v
[Receiver(s) (Client)] <-- Message (WS) -- [SockJS Server]
"
16740,16339,Determine if a Python list is 95% the same?,"currentCount = 0
currentValue = lst[0]
for val in lst:
   if val == currentValue:
      currentCount += 1
   else:
      currentCount -= 1

   if currentCount == 0:
      currentValue = val
      currentCount = 1
"
2807,24776,Python: Repetition of 2-d random walk simulation,"import numpy as np
import matplotlib.pyplot as plt
import random as rd
import math

a=np.zeros((1000,2), dtype=np.float)

def randwalk(x,y):
    theta=2*math.pi*rd.random() 
    x+=math.cos(theta);          
    y+=math.sin(theta);          
    return (x,y)

fn_base = ""my_random_walk_%i.txt""
for j in range(12):
    rd.seed(j)
    x, y = 0., 0.
    for i in range(1000):
        x, y = randwalk(x,y)
        a[i,:] = x, y
    fn = fn_base % j
    np.savetxt(fn, a)
"
31463,71737,How to map numbers in range <0;99> to range <-1.0;1.0>?,"y = ((x / 99.0) * 2) - 1
"
36243,62691,Pandas Panel Boolean Selection,"In [9]: p
Out[9]: 
<class 'pandas.core.panel.Panel'>
Dimensions: 3 (items) x 3 (major_axis) x 4 (minor_axis)
Items axis: ItemA to ItemC
Major_axis axis: 2000-01-03 00:00:00 to 2000-01-05 00:00:00
Minor_axis axis: A to D

In [10]: p.loc[:,:,'A']
Out[10]: 
               ItemA     ItemB     ItemC
2000-01-03  0.712815  1.220183 -0.291173
2000-01-04  1.409244  1.766220 -1.438192
2000-01-05  1.394279 -0.006321  1.500179

In [13]: p.loc[:,:,'B']
Out[13]: 
               ItemA     ItemB     ItemC
2000-01-03 -1.487971  0.694603 -0.013374
2000-01-04 -0.932481 -0.836497  0.098289
2000-01-05  1.239921 -0.330534  0.582391

In [11]: p.loc[:,:,'A']>p.loc[:,:,'B']
Out[11]: 
           ItemA ItemB  ItemC
2000-01-03  True  True  False
2000-01-04  True  True  False
2000-01-05  True  True   True

In [12]: p.loc[:,:,'A'].where(p.loc[:,:,'A']>p.loc[:,:,'B'])
Out[12]: 
               ItemA     ItemB     ItemC
2000-01-03  0.712815  1.220183       NaN
2000-01-04  1.409244  1.766220       NaN
2000-01-05  1.394279 -0.006321  1.500179

In [14]: p.loc[:,:,'E'] = p.loc[:,:,'A'].where(p.loc[:,:,'A']>p.loc[:,:,'B'])

In [15]: p
Out[15]: 
<class 'pandas.core.panel.Panel'>
Dimensions: 3 (items) x 3 (major_axis) x 5 (minor_axis)
Items axis: ItemA to ItemC
Major_axis axis: 2000-01-03 00:00:00 to 2000-01-05 00:00:00
Minor_axis axis: A to E

In [16]: p.loc[:,:,'E']
Out[16]: 
               ItemA     ItemB     ItemC
2000-01-03  0.712815  1.220183       NaN
2000-01-04  1.409244  1.766220       NaN
2000-01-05  1.394279 -0.006321  1.500179
"
36664,41112,Python: How to deal with non-subscriptable objects?,"for service in accounts:
        for account, creds in accounts[service].iteritems():
            account.setupAccount(creds['username'], creds['password'])
"
27856,44585,"Simple Python ""if"", ""elif"", ""else""","print ""welcome to your short story""

name = raw_input(""Input your name: "")
# Convert the input to an integer.
age = int(raw_input(""Input your age: ""))

# This is the status variable being either adult or child
# before you were overriding age variable with adult or kid
status = """"

# Also, you have to handle the case where the age equals 21, before 
# you were just checking if it is less or greater than 21
if age >= 21:
    status = ""adult""
elif age < 21:
    status = ""kid""

print ""My name is "", name ,"" and I am a "" , age ,"" year old "" , status
"
28160,45791,Shared XMPP connection between Celery workers,"import socket 
from celery.task import task

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) 
s.connect(('localhost', 9999)) 

@task
def echo(arg):
    s.send(arg) 
    return s.recv()
"
214,6549,Is there a way to comment on a track using Soundcloud Python?,"client.post('/tracks/%d/comments' % track.id, comment={
    'body': 'This is a timed comment'
})
"
30898,13536,flattening an rgb image in python,">>> from scipy.misc import imread
>>> img = imread(""test.jpg"")
0: array([[[135, 130, 136],
        [139, 134, 140],
        [132, 127, 133],
        ...

>>> img.flatten()
1: array([135, 130, 136, ..., 162, 160, 165], dtype=uint8)
"
26395,45415,Python Dbus : How to export Interface property,"# Untested, just off the top of my head

import dbus

MY_INTERFACE = 'com.example.Foo'

class Foo(dbus.service.object):
    # â¦

    @dbus.service.method(interface=dbus.PROPERTIES_IFACE,
                         in_signature='ss', out_signature='v')
    def Get(self, interface_name, property_name):
        return self.GetAll(interface_name)[property_name]

    @dbus.service.method(interface=dbus.PROPERTIES_IFACE,
                         in_signature='s', out_signature='a{sv}')
    def GetAll(self, interface_name):
        if interface_name == MY_INTERFACE:
            return { 'Blah': self.blah,
                     # â¦
                   }
        else:
            raise dbus.exceptions.DBusException(
                'com.example.UnknownInterface',
                'The Foo object does not implement the %s interface'
                    % interface_name)

    @dbus.service.method(interface=dbus.PROPERTIES_IFACE,
                         in_signature='ssv'):
    def Set(self, interface_name, property_name, new_value):
        # validate the property name and value, update internal stateâ¦
        self.PropertiesChanged(interface_name,
            { property_name: new_value }, [])

    @dbus.service.signal(interface=dbus.PROPERTIES_IFACE,
                         signature='sa{sv}as')
    def PropertiesChanged(self, interface_name, changed_properties,
                          invalidated_properties):
        pass
"
9766,79821,How to highlight the current line of a Text widget?,"import Tkinter as tk

class MyApp(tk.Tk):
    def __init__(self, *args, **kwargs):
        tk.Tk.__init__(self, *args, **kwargs)
        self.text = tk.Text(self)
        self.text.pack(side=""top"", fill=""both"", expand=True)
        self.text.tag_configure(""current_line"", background=""#e9e9e9"")
        self._highlight_current_line()

    def _highlight_current_line(self, interval=100):
        '''Updates the 'current line' highlighting every ""interval"" milliseconds'''
        self.text.tag_remove(""current_line"", 1.0, ""end"")
        self.text.tag_add(""current_line"", ""insert linestart"", ""insert lineend+1c"")
        self.after(interval, self._highlight_current_line)

app = MyApp()
app.mainloop()
"
1458,4286,Python monitor serial port (RS-232) handshake signals,"from serial import Serial
from fcntl import  ioctl
from termios import (
    TIOCMIWAIT,
    TIOCM_RNG,
    TIOCM_DSR,
    TIOCM_CD,
    TIOCM_CTS
)

ser = Serial('/dev/ttyUSB0')

wait_signals = (TIOCM_RNG |
                TIOCM_DSR |
                TIOCM_CD  |
                TIOCM_CTS)

if __name__ == '__main__':
    while True:
        ioctl(ser.fd, TIOCMIWAIT, wait_signals)
        print 'RI=%-5s - DSR=%-5s - CD=%-5s - CTS=%-5s' % (
            ser.getRI(),
            ser.getDSR(),
            ser.getCD(),
            ser.getCTS(),
        )
"
26098,21839,How can I override property setting for a dict-like object?,"class MyClass(object):
    def get_properties():
        ... (call C function and convert to dict)
    def set_property():
        ... (call C function)
    def propgetter(self):
        context = self
        props = self.get_properties()
        class propsetter(dict):
            __getitem__ = props.__getitem__
            def __setitem__(self, key, value):
                props[key] = value
                context.set_property(key, value)
        return propsetter(self.get_properties())
    properties = property(propgetter)
"
29812,69323,Python - Determine if a word is in this language or not,"def in_language(word):
    if word in ('AB', 'C'):
        return True
    if len(word) < 3: #The only valid words with 2 or less letters are AB and C
        return False
    if word[0] == 'A' and word[-1] == 'B' and in_language(word[1:-1]):
        return True
    else:
        for i, letter in enumerate(word):
            if letter == 'C' and in_language(word[:i]) and in_language(word[i+1:]):
                return True
    return False
"
14049,83311,"Elegant ways to support equivalence (""equality"") in Python classes","class CommonEqualityMixin(object):

    def __eq__(self, other):
        return (isinstance(other, self.__class__)
            and self.__dict__ == other.__dict__)

    def __ne__(self, other):
        return not self.__eq__(other)

class Foo(CommonEqualityMixin):

    def __init__(self, item):
        self.item = item
"
33976,7310,How to add border around QWidget?,"from PyQt4 import QtGui,QtCore

class CentralWidget(QtGui.QFrame):

    def __init__(self, *args):
        super(CentralWidget, self).__init__(*args)
        self.setStyleSheet(""background-color: rgb(255,0,0); margin:5px; border:1px solid rgb(0, 255, 0); "")

if __name__ == '__main__':
    import sys
    app = QtGui.QApplication(sys.argv)
    mw = QtGui.QMainWindow()
    w = CentralWidget(mw)
    mw.setCentralWidget(w)
    mw.show()
    w.show()
    app.exec_()
"
14048,64926,Python Text File Manipulation,"with open(filename, 'r+') as f:
    content = f.readlines()
    if len(content) < 96:
        f.write('{}\n{}'.format(''.join(content[]), new_output)
    else:
        f.write('{}\n{}'.format(''.join(content[1:]), new_output)
"
7065,81580,Writing text file with python returns odd result?,"f.seek(0)
"
38568,38579,Python - simplest way possible to run functions in parallel,"import threading
import time    

def compute_stuff(number):
   print str(number) + ""start""
   time.sleep(10)
   print str(number) + ""end""
   return [number*2, number*4]


threads = []
for i in range(5):
    t = threading.Thread(target=compute_stuff, args=(i,))
    threads.append(t)
    t.start()
"
18588,14280,Accessing a function's variable from another function,"class KCounter(object):

    def __init__(self):
        self.k = 0

    def print_k(self):
        while True:
            if self.k % 2 == 1:
                print(self.k, ""is even."")
            time.sleep(2)

    def main(self):
        self.k = 1
        while self.k != 200:
            self.k += 1
            print self.k
            time.sleep(0.5)

if __name__ == '__main__':
    kcounter = KCounter()
    Thread(target=kcounter.print_k).start()
    Thread(target=kcounter.main).start()
"
38775,1017,Aggregate data using the ORM,"class Match(models.Model):
    player_1 = models.ForeignKey(auth.User)
    score_1 = models.PositiveIntegerField(null=True, blank=True)
    player_2 = models.ForeignKey(auth.USer)
    score_2 = models.PositiveIntegerField(null=True, blank=True)
    court = models.ForeignKey(Court)
    date = models.DateField()

    @property
    def winner(self):
        ""None means not played yet, or a draw.""
        if self.score_1 > self.score_2:
            return self.player_1
        if self.score_1 < self.score_2:
            return self.player_2

    @property
    def is_draw(self):
        return self.score_1 == self.score_2 and self.score_1 is not None


class Location(models.Model):
    name = models.CharField()

class Court(models.Model):
    location = models.ForeignKey(Location)
    number = models.PositiveIntegerField()
"
1689,76510,Correlation map with an overlaid opacity," % generate random data for example
 A = rand(30); 
 A = A.*A'; %//'
 msk = A > .5; % choose values not to be masked
 figure;
 ih = imagesc(A); 
 set(ih, 'AlphaData', msk );
 axis([ 1 30 1 30 ] );
"
34404,43808,Python creating a smaller sub-array from a larger 2D NumPy array?,"subArray = []
newRow = []
for row in data:
    for i in xrange(0,len(row)):
        if (i % 3 == 0):
            continue
        newRow.append(row[i])
    subArray.append(newRow)
    newRow = []
"
26916,66367,Passing 'None' as function parameter (where parameter is a function),"def sanity_check( test, name='undefined', ontrue=None, onfalse=None ):
    if test:
        log.debug(name)
        if ontrue is not None:
            ontrue()
    else:
        log.warn( name )
        if onfalse is not None:
            onfalse()

def sanity_checks():
    sanity_check(sanity_access(PATH['userhome'], os.F_OK), 'test home', 
        onfalse=sys.exit)
"
6182,72955,Staying in the same Shell session with Python,"activate_this = 'A/bin/activate_this.py'
execfile(activate_this, dict(__file__=activate_this))
"
18438,47639,"Professor used ""The binary version of a function"". Does that even exist?","def add2(x, y):
    return x + y
    # equivalently: add2 = lambda x,y: x+y

def curry(func, num):
    def wrapped(*args):
        if len(args) == 0:
            return num
        elif len(args) > 1:
            raise TypeError('{} takes 1 positional argument but '
                            '{} were given'.format(
                                func.__name__, len(args)))
        arg = args[0]
        return curry(func, func(num, arg))
    return wrapped
"
17641,9735,How to increase thickness of polygon in PIL ImageDraw,"from PIL import Image, ImageDraw

points = (
    (30, 40),
    (120, 60),
    (110, 90),
    (20, 110),
    (30, 40),
    )

im = Image.new(""RGB"", (130, 120))
dr = ImageDraw.Draw(im)
dr.line(points, fill=""red"", width=9)
for point in points:
    dr.ellipse((point[0] - 4, point[1] - 4, point[0]  + 4, point[1] + 4), fill=""red"")
im.save(""polygon.png"")
"
20538,41179,how to create uncollectable garbage in python?,">>> class Finalizable:
...     def __del__(self): pass
...
>>> a = Finalizable()
>>> b = Finalizable()
>>> a.x = b
>>> b.x = a
>>> del a
>>> del b
>>> import gc
>>> gc.collect()
4
>>> gc.garbage
[<__main__.Finalizable instance at 0x1004e0b48>,
 <__main__.Finalizable instance at 0x1004e73f8>]
"
28416,61360,Issue getting regex for 1-10 in string using Python and BeautifulSoup,"import re

data = soup.find_all(""div"", {""id"": re.compile(r""info\d+"")}
"
9130,58456,"PyMongo: Update, $multi:false, get _id of updated document?","info = col.find_and_modify({'status':'new'}, {'$set':{'status':'in_progress'}})
if info:
    print info.get('_id')
"
15458,76976,Run jinja2 template_filter on every request using Flask,"@app.context_processor
def inject_user():
    return {
        'my_stuff': do_stuff(request.url)
    }
"
5173,65521,Processes launched from wsgi are still running after restarting/reloading the server,"import datetime
from threading import Timer

# dummy timestamp for testing, gong should be the 
# timestamp of the last keepAlive signal
gong = datetime.datetime(2012, 8, 16, 16, 3, 18, 341121)  

#seconds before kill check is performed
idle = 5

def bringOutYourDead():
    """"""If the last keep alive time stamp is more than 5 minutes ago, I am Audi 500.""""""
    stoneDeadIn =  5
    if datetime.datetime.now() - datetime.timedelta(minutes=stoneDeadIn) >= gong:
        # I used print for whatever command for testing
        print('save_state_or_whatever()')
        print('gtk_main_quit()')
    else:
        print(""I'm not dead yet!'"")
    # recurse this as you see fit

dung = Timer(idle, bringOutYourDead)
dung.start()
"
29095,38299,Reading text values in a PowerPoint table using pptx?,"cell = tbl.cell(3, 3)
paragraphs = cell.textframe.paragraphs
for paragraph in paragraphs:
    for run in paragraph.runs:
        print run.text
"
39654,36931,Django: Populating data into a model based on an identifier,"class UserProfile(models.Model):
    user = models.ForeignKey(User, unique=True)
    ...
    zip = models.CharField(max_length=12, blank=True, null=True)
    city_state = models.CharField(max_length=30, blank=True, null=True)
    lat = models.DecimalField(max_digits=12, decimal_places=9, blank=True, null=True)
    lng = models.DecimalField(max_digits=12, decimal_places=9, blank=True, null=True)

    def save(self, *args, **kwargs):
        if self.zip:
            (city_state, lat, lng) = get_lat_lng(self.zip)
            if city_state and lat and lng:
                self.city_state = city_state
                self.lat = lat
                self.lng = lng

        super(UserProfile, self).save(*args, **kwargs)

class UserProfileForm(ModelForm):
    class Meta:
        model = UserProfile
        fields = ('zip',)
"
5353,52534,How to convert from UTM to LatLng in python or Javascript,"import math

def utmToLatLng(zone, easting, northing, northernHemisphere=True):
    if not northernHemisphere:
        northing = 10000000 - northing

    a = 6378137
    e = 0.081819191
    e1sq = 0.006739497
    k0 = 0.9996

    arc = northing / k0
    mu = arc / (a * (1 - math.pow(e, 2) / 4.0 - 3 * math.pow(e, 4) / 64.0 - 5 * math.pow(e, 6) / 256.0))

    ei = (1 - math.pow((1 - e * e), (1 / 2.0))) / (1 + math.pow((1 - e * e), (1 / 2.0)))

    ca = 3 * ei / 2 - 27 * math.pow(ei, 3) / 32.0

    cb = 21 * math.pow(ei, 2) / 16 - 55 * math.pow(ei, 4) / 32
    cc = 151 * math.pow(ei, 3) / 96
    cd = 1097 * math.pow(ei, 4) / 512
    phi1 = mu + ca * math.sin(2 * mu) + cb * math.sin(4 * mu) + cc * math.sin(6 * mu) + cd * math.sin(8 * mu)

    n0 = a / math.pow((1 - math.pow((e * math.sin(phi1)), 2)), (1 / 2.0))

    r0 = a * (1 - e * e) / math.pow((1 - math.pow((e * math.sin(phi1)), 2)), (3 / 2.0))
    fact1 = n0 * math.tan(phi1) / r0

    _a1 = 500000 - easting
    dd0 = _a1 / (n0 * k0)
    fact2 = dd0 * dd0 / 2

    t0 = math.pow(math.tan(phi1), 2)
    Q0 = e1sq * math.pow(math.cos(phi1), 2)
    fact3 = (5 + 3 * t0 + 10 * Q0 - 4 * Q0 * Q0 - 9 * e1sq) * math.pow(dd0, 4) / 24

    fact4 = (61 + 90 * t0 + 298 * Q0 + 45 * t0 * t0 - 252 * e1sq - 3 * Q0 * Q0) * math.pow(dd0, 6) / 720

    lof1 = _a1 / (n0 * k0)
    lof2 = (1 + 2 * t0 + Q0) * math.pow(dd0, 3) / 6.0
    lof3 = (5 - 2 * Q0 + 28 * t0 - 3 * math.pow(Q0, 2) + 8 * e1sq + 24 * math.pow(t0, 2)) * math.pow(dd0, 5) / 120
    _a2 = (lof1 - lof2 + lof3) / math.cos(phi1)
    _a3 = _a2 * 180 / math.pi

    latitude = 180 * (phi1 - fact1 * (fact2 + fact3 + fact4)) / math.pi

    if not northernHemisphere:
        latitude = -latitude

    longitude = ((zone > 0) and (6 * zone - 183.0) or 3.0) - _a3

    return (latitude, longitude)
"
6931,10236,Django Translations - how to do it efficiently?,"def list(request):
    lang = request.LANGUAGE_CODE
    entry = Entry.objects.get(pk=1)
    description = getattr(entry, 'description_%s' % lang)
    return render(request, 'name.html', {'description': description})
"
38034,62738,Displaying ASCII-art in TKinter,"from tkinter import *

text = r""""""
        .---.
       |   '.|  __
       | ___.--'  )
     _.-'_` _%%%_/
  .-'%%% a: a %%%
      %%  L   %%_
      _%\'-' |  /-.__
   .-' / )--' #/     '\
  /'  /  /---'(    :   \
 /   |  /( /|##|  \     |
/   ||# | / | /|   \    \
|   ||##| I \/ |   |   _|
|   ||: | o  |#|   |  / |
|   ||  / I  |:/  /   |/
|   ||  | o   /  /    /
|   \|  | I  |. /    /
 \  /|##| o  |.|    /
  \/ \::|/\_ /  ---'|
  """"""

root = Tk()
Label(root, justify=LEFT, text=text).pack()
root.mainloop()
"
5285,33811,How to add tuples y values if x values are the same?,">>> from collections import defaultdict
>>> dic = defaultdict(int)
>>> for a, b in start:
...     dic[a] += b
...
>>> list(dic.items())
[(1, 5), (3, 9)]
"
24447,52166,A more suitable way to rewrite this?,">>> from dateutil.relativedelta import relativedelta
>>> from datetime import datetime
>>> (datetime.now() - relativedelta(months=2)).replace(day=1)
datetime.datetime(2010, 6, 1, 13, 16, 29, 643077)
>>> (datetime(2010, 4, 30) - relativedelta(months=2)).replace(day=1)
datetime.datetime(2010, 2, 1, 0, 0)
>>> (datetime(2010, 2, 28) - relativedelta(months=2)).replace(day=1)
datetime.datetime(2009, 12, 1, 0, 0)
"
38529,36495,Is it possible to rewind a python StringIO in-memory file?,">>> import StringIO
>>> f = StringIO.StringIO(""hello world"")
>>> f.read(6)
'hello '
>>> f.tell()
6
>>> f.seek(0)
>>> f.tell()
0
>>> f.read()
'hello world'
>>> 
"
27667,67310,Python managing lists,"# open lines as list, using read().split('\n') instead of readlines(),
# because readlines() leaves '\n' after the lines.
csv = open(r'c:\Users\***\Desktop\prvi.csv', 'r').read().split('\n')
csv2 = open(r'c:\Users\***\Desktop\drugi.csv', 'r').read().split('\n')
list1 = []    

while True:
    # never use input(), unless you are using python 3
    choice = int(raw_input('Odaberite zeljenu funkciju: \n'
                           '1) Usporedi Book1 sa Book2\n'
                           '2) Usporedi Book2 sa Book1 \n'
                           '3) Print Book1 \n'
                           '4) Print Book2 \n'
                           '5) Izlaz \nOdabir: '))
    if choice == 1:
        for row in csv:
            if not row in csv2:
                list1.append(row)
                print row
        save_file()
    elif choice == 2:
        for row in csv2:
            if not row in csv:
                list1.append(row)
                print row
        save_file()
    elif choice == 3:
        for row in csv:
            print row
    elif choice == 4:
        for row in csv2:
            print row
    elif choice == 5:
        break

def save_file():
    with open('output.txt', 'w') as f:
        f.write('\n'.join(list1))
"
14577,7724,"How can I ""catch"" a seg fault while importing an F2Py module?","import signal

def sig_handler(signum, frame):
    #deal with the signal.. 

signal.signal(signal.SIGSEGV, sig_handler)  
"
16758,60910,Converting a Python script to Objective-C,"@interface NSMutableArray (reverse)
/* Could also return self, but this makes it explicit that array is reversed in-place
   rather than returning a reversed copy.
 */
-(void)reverse;
@end

@implementation NSMutableArray (reverse)
-(void)reverse {
    int i,j;
    for (i=0,j=[self count]-1; i<j; ++i,--j) {
        [self exchangeObjectAtIndex:i withObjectAtIndex:j];
    }
}
@end




-(NSArray*)minragged:(NSString*)text lineCount:(int)n {
    int width = 0;
    NSArray *words = [text componentsSeparatedByCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
    NSMutableArray *cumWordWidth = [NSMutableArray arrayWithObject:[NSNumber numberWithInt:width]];
    for (NSString *word in words) {
        width += [word length];
        [cumWordWidth addObject:[NSNumber numberWithInt:width]];
    }
    int totalWidth = width + [words count] - 1,
        lineWidth = (double)(totalWidth - (n - 1)) / (double)(n),
        actualLineWidth,
        i, j, k, min_k;
    double cost, min_cost;

    // best[i][k][0] is the min total cost for words 0, ..., k - 1 on i lines
    // best[i][k][1] is a minimizing index for the start of the last line
    NSMutableArray *best = [NSMutableArray arrayWithCapacity:n],
                   *best_i_prev = [NSMutableArray arrayWithCapacity:([words count]+1)],
                   *best_i;

    [best_i_prev addObject:[NSArray arrayWithObjects:[NSNumber numberWithDouble:0.0],[NSNull null],nil]];
    for (i=0; i < [words count]; ++i) {
        [best_i_prev addObject:[NSArray arrayWithObjects:(NSNumber*)kCFNumberPositiveInfinity,[NSNull null],nil]];
    }
    [best addObject:best_i_prev];

    for (i=1; i <= n; ++i) {
        best_i=[NSMutableArray arrayWithCapacity:[words count]];
        for (j=0; j <= [words count]; ++j) {
            min_k=0;
            min_cost = [(NSNumber*)kCFNumberPositiveInfinity doubleValue];
            for (k=0; k < j; ++k) {
                actualLineWidth = j - k - 1;
                if (actualLineWidth < 0) {
                    actualLineWidth = 0;
                }
                actualLineWidth += [[cumWordWidth objectAtIndex:j] intValue]
                                   - [[cumWordWidth objectAtIndex:k] intValue];
                cost = (lineWidth - (double)(actualLineWidth));
                cost *= cost;
                cost += [[[best_i_prev objectAtIndex:k] objectAtIndex:0] doubleValue];
                if (cost < min_cost) {
                    min_cost = cost;
                    min_k = k;
                }
            }
            [best_i addObject:[NSArray arrayWithObjects:[NSNumber numberWithDouble:min_cost], 
                                                        [NSNumber numberWithInt:min_k],
                                                        nil]];
        }
        [best addObject:best_i];
        best_i_prev = best_i;
    }

    NSMutableArray *lines = [NSMutableArray arrayWithCapacity:n];
    NSRange range;
    int end;
    end = [words count];
    for (i=n; i > 0; --i) {
        range.location = [[[[best objectAtIndex:i] objectAtIndex:end] objectAtIndex:1] intValue];
        range.length = end-range.location;
        [lines addObject:[[words subarrayWithRange:range] componentsJoinedByString:@"" ""]];
        end = range.location;
    }
    [lines reverse];
    return lines;
}
"
35507,75390,what is best way to indentify that the length of tuple in a list is 0 using python,">>> myList1= [(),(1,2),(2,3)]
>>> myList2= [(),(),(),()]
>>> myList3= [(),(),()]
>>> any(myList1)
True
>>> any(myList2)
False
>>> any(myList3)
False
"
3872,17871,Access child class instance in parent,"class BaseTask:
    def __init__(self, settings):
        self.settings = settings[self.__class__]

class SomeTask(BaseTask):
    pass

class SomeOtherTask(BaseTask):
    pass
"
2201,23672,Django templates count total in forloop,"{% regroup employees by skill_level as employees_by_level %}
{% for level in employees_by_level %}
    <tr>
        <td class=""level"">{{ level.grouper.skill }}</td>
        <td class=""count"">{{ level.list|length }}</td>
        {% for e in level.list %}
            <td class=""race"">{{ forloop.counter0 }}</td>
        {% endfor %}
    </tr>
{% endfor %}
"
21618,68572,numpy convert 2D Integer Record to 2D floating point Record,"In [23]: import numpy as np

In [24]: a=[1,2]

In [25]: b=[2,2]

In [26]: c=[3,3]

In [27]: d=np.rec.fromarrays([a, b, c], names='x,y,z')

In [28]: d
Out[28]: 
rec.array([(1, 2, 3), (2, 2, 3)], 
      dtype=[('x', '<i4'), ('y', '<i4'), ('z', '<i4')])

In [29]: d.astype([(k, float) for k in d.dtype.names])
Out[29]: 
rec.array([(1.0, 2.0, 3.0), (2.0, 2.0, 3.0)], 
      dtype=[('x', '<f8'), ('y', '<f8'), ('z', '<f8')])
"
34147,17618,How do I extract multiple float numbers from a string in Python?,"    StrFloats = [(""90.77"",""134.54"")]
FltNewNums = {}
IntInd = 0
for IntX in range(0,len(StrFloats)):
    for IntY in range(0,len(StrFloats[IntX])):
        FltNewNums[IntInd] = float(StrFloats[IntX][IntY])
        IntInd += 1
"
26808,56421,parallellization in python multiprocessing,"import multiprocessing
# L must is imported or defined somewhere up here...

if __name__ == '__main__':
    p = multiprocessing.Pool()  # Creates a pool with as many workers as you have CPU cores
    results = []
    for i in arayb:
        results.append(pool.apply_async(L, (r, g, p[i,:], h)))
    p.close()
    p.join()
    for result in results:
        print('l', result.get())
"
212,68160,How to lazily evaluate ORM call after fixtures are loaded into db in Django?,"_cache = {}

def get_page_type(type_name):
    if type_name not in _cache:
        _cache[type_name] = PageType.objects.get(type=type_name)
    return _cache[type_name]
"
24774,56316,"plotting multiple time series, with single date series and with py_date()","plot_date(dates, y1)
plot_date(dates, y2)
"
33510,28455,Asking User For Datetime Before Plotting Selected Points,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

from datetime import datetime
import matplotlib.pyplot as plt
import matplotlib.dates as mdates
x = []
y = []
t = []
fig = plt.figure()
rect = fig.patch
rect.set_facecolor('#31312e')
readFile = open('C:\\Temp\\001.txt', 'r')
sepFile = readFile.read().split('\n')
readFile.close()

startTime = raw_input('please enter start time in format like 21/7/2014 0:00 :')
endTime   = raw_input('please enter end time in format like 22/7/2014 23:57 :') 

# startTime = '21/7/2014 0:02'
# endTime = '22/7/2014 23:58'
startTime = datetime.strptime(startTime, '%d/%m/%Y %H:%M')
endTime = datetime.strptime(endTime, '%d/%m/%Y %H:%M')


for idx, plotPair in enumerate(sepFile):
    if plotPair in '. ':
        # skip. or space
        continue
    if idx > 1:  # to skip the first line
        xAndY = plotPair.split(',')
        time_string = xAndY[0]
        time_string1 = datetime.strptime(time_string, '%d/%m/%Y %H:%M')
        if startTime<=time_string1 <=endTime:
            t.append(time_string1)
            y.append(float(xAndY[1]))
ax1 = fig.add_subplot(1, 1, 1, axisbg='white')
ax1.xaxis.set_major_formatter(mdates.DateFormatter('%d/%m/%Y %H:%M'))
ax1.plot(t, y, 'c', linewidth=3.3)
plt.title('IRRADIANCE')
plt.xlabel('TIME')
fig.autofmt_xdate(rotation=45)
fig.tight_layout()
plt.show()
"
20446,4681,Compiling & installing C executable using python's setuptools/setup.py?,"import os
from setuptools import setup
from setuptools.command.install import install
import subprocess

def get_virtualenv_path():
    """"""Used to work out path to install compiled binaries to.""""""
    if hasattr(sys, 'real_prefix'):
        return sys.prefix

    if hasattr(sys, 'base_prefix') and sys.base_prefix != sys.prefix:
        return sys.prefix

    if 'conda' in sys.prefix:
        return sys.prefix

    return None


def compile_and_install_software():
    """"""Used the subprocess module to compile/install the C software.""""""
    src_path = './some_c_package/'

    # compile the software
    cmd = ""./configure CFLAGS='-03 -w -fPIC'""
    venv = get_virtualenv_path()
    if venv:
        cmd += ' --prefix=' + os.path.abspath(venv)
    subprocess.check_call(cmd, cwd=src_path, shell=True)

    # install the software (into the virtualenv bin dir if present)
    subprocess.check_call('make install', cwd=src_path, shell=True)


class CustomInstall(install):
    """"""Custom handler for the 'install' command.""""""
    def run(self):
        compile_and_install_software()
        super().run()


setup(name='foo',
      # ...other settings skipped...
      cmdclass={'install': CustomInstall})
"
11549,11216,Python: jQuery-like function chaining?,"class ListMutator(object):

    def __init__(self, seq):
        self.data = seq

    def foo1(self, arg1, arg2):
        self.data = [x + arg1 for x in self.data]
        # This allows chaining:
        return self

    def foo2(self, arg1, arg2):
        self.data = [x*arg1 for x in self.data]
        return self

if __name__ == ""__main__"":
    lm = ListMutator([1,2,3,4])
    lm.foo1(2, 0).foo2(10, 0)
    print lm.data

    # Or, if you really must:
    print ListMutator([1,2,3,4]).foo1(2, 0).foo2(10, 0).data
"
23741,72919,"Python iterable map, range, etc","from future_builtins import filter, map, zip
"
14176,16328,Can someone help me with my program keeping a counter in python,"import collections
import random

cnt = collections.Counter()
for i in range(101):
  number = random.randint(1, 100)
  if number % 2 == 0:
    cnt['even'] += 1
  else:
    cnt['odd'] += 1
print(cnt)
"
17200,85182,How to get the number of args of a built-in function in Python?,"def describe_builtin(obj):
   """""" Describe a builtin function """"""

   wi('+Built-in Function: %s' % obj.__name__)
   # Built-in functions cannot be inspected by
   # inspect.getargspec. We have to try and parse
   # the __doc__ attribute of the function.
   docstr = obj.__doc__
   args = ''

   if docstr:
      items = docstr.split('\n')
      if items:
         func_descr = items[0]
         s = func_descr.replace(obj.__name__,'')
         idx1 = s.find('(')
         idx2 = s.find(')',idx1)
         if idx1 != -1 and idx2 != -1 and (idx2>idx1+1):
            args = s[idx1+1:idx2]
            wi('\t-Method Arguments:', args)

   if args=='':
      wi('\t-Method Arguments: None')

   print
"
28894,65675,How do I make sprites move evenly on all computers in Pygame & Python,"clock = pygame.time.Clock()
while True:
    # limit the framerate and get the delta time
    dt = clock.tick(60)

    # convert the delta to seconds (for easier calculation)
    speed = 1 / float(dt)

    # do all your stuff, calculate your heroes vector movement
    # if heroes position is ""px, py"" and movement is ""mx, my""
    # then multiply with speed
    px *= mx * speed
    py *= my * speed
"
23719,15534,How to validate a model in django rest framework?,"class MySerializer(serializers.ModelSerializer):
    proposal_side = serializers.SlugRelatedField(many=False, read_only=False, slug_field='proposal_side')
    my_proposal_type = serializers.SlugRelatedField(many=False, read_only=False, slug_field='proposal_type')
    my_proposal_delivery_type = serializers.SlugRelatedField(many=False, read_only=False, slug_field='delivery_type')
    my_survey_method = serializers.SlugRelatedField(many=False, read_only=False, slug_field='method')
    class Meta:
        model = diliModels.Proposal
        fields = (
            'id'
            ,'my_proposal_side'
            ,'my_proposal_type'
            ,'number_of_participants'
            ,'cost_per_participants'
            ,'minimum_dollar_commitment'
            ,'commercial_terms'
            ,'is_publicly_visible'
            ,'is_anonymous'
            ,'is_republish'
            ,'name'
            ,'my_delivery_type'
            ,'my_survey_method'
            ,'number_of_unique_contacts'
            ,'availability_start'
            ,'availability_end'
            ,'location_country'
            ,'location_city'
            ,'location_state'
            ,'description'
            ,'desired_meetings'
        )

    def validate(self, attrs):
         raise serializers.ValidationError(""error"")
         return attrs
"
27338,42503,How to take a specific string from a csv file into a list - python 3.4,"names = list()
a = open(sf, 'r')
for row in a:
    place = row.find(',')
    names.append(row[:place])
print(names)
"
24798,2994,twisted get cipher name,"from twisted.internet.protocol import ClientFactory
from twisted.internet.protocol import Protocol
from twisted.internet.defer import Deferred
from twisted.internet import reactor
from twisted.internet.defer import inlineCallbacks
from twisted.internet.defer import returnValue
from twisted.internet.ssl import CertificateOptions
from twisted.internet.ssl import AcceptableCiphers

import time
import json

normalCyphers = AcceptableCiphers.fromOpenSSLCipherString(
    'ECDH+AESGCM:DH+AESGCM:ECDH+AES256:DH+AES256:ECDH+AES128:DH+AES:ECDH+HIGH:'
    'DH+HIGH:ECDH+3DES:DH+3DES:RSA+AESGCM:RSA+AES:RSA+HIGH:RSA+3DES:!aNULL:'
    '!eNULL:!MD5'
)
normalCtxFac = CertificateOptions(acceptableCiphers=normalCyphers)

weakCiphers = AcceptableCiphers.fromOpenSSLCipherString('ALL:!aNULL:!eNULL')
weakCtxFac = CertificateOptions(acceptableCiphers=weakCiphers)


def asn1DateToTimestamp(asn1Date):
    expirationDate = time.strptime(asn1Date[:8], '%Y%m%d')
    return int(time.mktime(expirationDate))


class CertCheckProtocol(Protocol):

    def __init__(self, dfd, isWeakSsl):
        self.dfd = dfd
        self.isWeakSsl = isWeakSsl

    def connectionMade(self):
        reactor.callLater(0.01, self.getCert, 20)

    def getCert(self, depth):
        cert = self.transport.getPeerCertificate()
        transportHandle = self.transport.getHandle()
        if cert is None or transportHandle is None:
            if depth <= 0:
                self.transport.loseConnection()
                return
            reactor.callLater(0.01, self.getCert, depth - 1)
        else:
            cipherName = transportHandle.get_cipher_name()
            timestamp = asn1DateToTimestamp(cert.get_notAfter())
            expiresIn = timestamp - time.time()

            self.dfd.callback({
                'name': 'certificate',
                'expiresIn': expiresIn,
                'sha1Digest': cert.digest('sha1'),
                'signatureAlgorithm': cert.get_signature_algorithm(),
                'issuer': cert.get_issuer().CN,
                'notAfter': timestamp,
                'notBefore': asn1DateToTimestamp(cert.get_notBefore()),
                'serialNumber': cert.get_serial_number(),
                'subject': cert.get_subject().CN,
                'sslVersion': cert.get_version(),
                'usedCipher': cipherName,
                'weakCipher': self.isWeakSsl
            })

    def connectionLost(self, reason):
        if not self.dfd.called:
            self.dfd.errback(Exception('Connection lost'))


class CertCheckFactory(ClientFactory):

    def __init__(self, dfd, isWeakSsl):
        self.dfd = dfd
        self.isWeakSsl = isWeakSsl

    def clientConnectionFailed(self, connector, reason):
        self.dfd.errback(reason)

    def buildProtocol(self, addr):
        return CertCheckProtocol(self.dfd, self.isWeakSsl)


@inlineCallbacks
def getCertificateInfo(ip, port=443):
    dfd = Deferred()
    factory = CertCheckFactory(dfd, isWeakSsl=False)
    reactor.connectSSL(ip, int(port), factory, contextFactory=normalCtxFac)
    try:
        res = yield dfd
    except Exception as ex:
        if hasattr(ex, 'reason') and 'HANDSHAKE_FAILURE' in ex.reason:
            dfd = Deferred()
            factory = CertCheckFactory(dfd, isWeakSsl=True)
            reactor.connectSSL(ip, int(port), factory,
                               contextFactory=weakCtxFac)
            res = yield dfd
        else:
            raise
    returnValue(res)


@inlineCallbacks
def testit(ip):
    res = yield getCertificateInfo(ip)
    print json.dumps(res)
    reactor.stop()

if __name__ == '__main__':
    testit('google.com')
    reactor.run()
"
11376,72011,Set defaults at runtime,"import Defaults
Defaults.integral_method = somefunc
"
4437,46410,Data and signal extraction from a file,"def read_signal(filename):
    with open(filename) as fh1:
        d = {}
        for line in fh1:
            (t, s) = line.split()
            d[int(t)] = s
        for i in range(15,61):
            if i in sorted(d):
                j = d[i]
            print (""Time: "" + str(i) + ""s -> Signal: "" + j)
read_signal(""signals.txt"")
"
844,59520,Reverse indexing a list of lists in Python,"for i, x in enumerate(a):
    for j in x:
        b[j].append(i)
"
5793,35463,Flask-Admin Many-to-Many field display,"class MyModel(db.Model):
    """""" Base class provides the __repr__ so that each model has short type. """"""
    __abstract__ = True

    def __unicode__(self):
        # attrs = db.class_mapper(self.__class__).column_attrs
        attrs = db.class_mapper(self.__class__).attrs # show also relationships
        if 'name' in attrs:
            return self.name
        elif 'code' in attrs:
            return self.code
        else:
            return ""<%s(%s)>"" % (self.__class__.__name__,
                ', '.join('%s=%r' % (k.key, getattr(self, k.key))
                    for k in sorted(attrs)
                    )
                )
"
33511,65767,combining ranges for pandas (NumPy? core python?) indexing,"import numpy as np
import pandas as pd

data = pd.read_stata('S:/data/controls/lasso.dta')
cols = np.zeros(len(data.columns), np.dtype=bool)
cols[3:8] = True
cols[9:888] = True
X = data.iloc[:, cols]
del data
"
39357,58200,How to Redirect Logger Output into PyQt Text Widget,"import logging
logger = logging.getLogger(__name__)

class QtHandler(logging.Handler):

    def __init__(self):
        logging.Handler.__init__(self)

    def emit(self, record):
        record = self.format(record)
        XStream.stdout().write(""{}\n"".format(record))

handler = QtHandler()
handler.setFormatter(logging.Formatter(""%(levelname)s: %(message)s""))
logger.addHandler(handler)
logger.setLevel(logging.DEBUG)
"
33497,17314,WxPython changing the shape of bitmap button,"import wx

class ShapedButton(wx.PyControl):
    def __init__(self, parent, normal, pressed=None, disabled=None):
        super(ShapedButton, self).__init__(parent, -1, style=wx.BORDER_NONE)
        self.normal = normal
        self.pressed = pressed
        self.disabled = disabled
        self.region = wx.RegionFromBitmapColour(normal, wx.Color(0, 0, 0, 0))
        self._clicked = False
        self.SetBackgroundStyle(wx.BG_STYLE_CUSTOM)
        self.Bind(wx.EVT_SIZE, self.on_size)
        self.Bind(wx.EVT_PAINT, self.on_paint)
        self.Bind(wx.EVT_LEFT_DOWN, self.on_left_down)
        self.Bind(wx.EVT_LEFT_DCLICK, self.on_left_dclick)
        self.Bind(wx.EVT_LEFT_UP, self.on_left_up)
        self.Bind(wx.EVT_MOTION, self.on_motion)
        self.Bind(wx.EVT_LEAVE_WINDOW, self.on_leave_window)
    def DoGetBestSize(self):
        return self.normal.GetSize()
    def Enable(self, *args, **kwargs):
        super(ShapedButton, self).Enable(*args, **kwargs)
        self.Refresh()
    def Disable(self, *args, **kwargs):
        super(ShapedButton, self).Disable(*args, **kwargs)
        self.Refresh()
    def post_event(self):
        event = wx.CommandEvent()
        event.SetEventObject(self)
        event.SetEventType(wx.EVT_BUTTON.typeId)
        wx.PostEvent(self, event)
    def on_size(self, event):
        event.Skip()
        self.Refresh()
    def on_paint(self, event):
        dc = wx.AutoBufferedPaintDC(self)
        dc.SetBackground(wx.Brush(self.GetParent().GetBackgroundColour()))
        dc.Clear()
        bitmap = self.normal
        if self.clicked:
            bitmap = self.pressed or bitmap
        if not self.IsEnabled():
            bitmap = self.disabled or bitmap
        dc.DrawBitmap(bitmap, 0, 0)
    def set_clicked(self, clicked):
        if clicked != self._clicked:
            self._clicked = clicked
            self.Refresh()
    def get_clicked(self):
        return self._clicked
    clicked = property(get_clicked, set_clicked)
    def on_left_down(self, event):
        x, y = event.GetPosition()
        if self.region.Contains(x, y):
            self.clicked = True
    def on_left_dclick(self, event):
        self.on_left_down(event)
    def on_left_up(self, event):
        if self.clicked:
            x, y = event.GetPosition()
            if self.region.Contains(x, y):
                self.post_event()
        self.clicked = False
    def on_motion(self, event):
        if self.clicked:
            x, y = event.GetPosition()
            if not self.region.Contains(x, y):
                self.clicked = False
    def on_leave_window(self, event):
        self.clicked = False

def main():
    def on_button(event):
        print 'Button was clicked.'
    app = wx.PySimpleApp()
    frame = wx.Frame(None, -1, 'Shaped Button Demo')
    panel = wx.Panel(frame, -1)
    button = ShapedButton(panel, 
        wx.Bitmap('button-normal.png'), 
        wx.Bitmap('button-pressed.png'), 
        wx.Bitmap('button-disabled.png'))
    button.Bind(wx.EVT_BUTTON, on_button)
    sizer = wx.BoxSizer(wx.VERTICAL)
    sizer.AddStretchSpacer(1)
    sizer.Add(button, 0, wx.ALIGN_CENTER)
    sizer.AddStretchSpacer(1)
    panel.SetSizer(sizer)
    frame.Show()
    app.MainLoop()

if __name__ == '__main__':
    main()
"
1180,58326,Executing Python Script From Command Line is Hiding Print Statements,"if __name__ == '__main__':
    hello()
"
18252,51047,How can I change the case of abbreviated ordinals to lower while keeping the rest of the string in title case?,">>> address = ""SOUTH 16TH STREET""
>>> "" "".join([word.capitalize() for word in address.split()])
'South 16th Street'
"
37396,75071,Printing progress bar on a console without the use of for -loop,"import subprocess
sub = subprocess.Popen(args, bufsize=-1, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True)
while sub.poll() is None:
    output = sub.stdout.read() # get all of current contents
    if output:
        # ... process output and decide how far the process has advanced
        # ... advance your progressbar accordingly
    else:
        time.sleep(1E-01) # decide on a reasonable number of seconds to wait before polling again
if sub.returncode != 0:
    err = sub.stderr.read()
    # ... decide what to do
"
37213,70520,python Tkinter bind 2.7.9 w-d,"import Tkinter as tk

class Example(tk.Frame):
    def __init__(self, parent):
        tk.Frame.__init__(self, parent)

        self.entry = tk.Entry(self)
        self.entry.pack(fill=""x"")

        self.entry.bind(""<w><d>"", self.onWD)
        # alternatively: self.entry.bind(""wd"", self.onWD)

    def onWD(self, event):
        print ""boom!""

if __name__ == ""__main__"":
    root = tk.Tk()
    Example(root).pack(fill=""both"", expand=True)
    root.mainloop()
"
5280,24247,Developing for the HDMI port on Linux,"#include <stdlib.h>
#include <unistd.h>
#include <stdio.h>
#include <fcntl.h>
#include <linux/fb.h>
#include <sys/mman.h>
#include <sys/ioctl.h>

int main()
{
    int fbfd = 0;
    struct fb_var_screeninfo vinfo;
    struct fb_fix_screeninfo finfo;
    long int screensize = 0;
    char *fbp = 0;
    int x = 0, y = 0;
    long int location = 0;

    // Open the file for reading and writing
    fbfd = open(""/dev/fb0"", O_RDWR);
    if (fbfd == -1) {
        perror(""Error: cannot open framebuffer device"");
        exit(1);
    }
    printf(""The framebuffer device was opened successfully.\n"");

    // Get fixed screen information
    if (ioctl(fbfd, FBIOGET_FSCREENINFO, &finfo) == -1) {
        perror(""Error reading fixed information"");
        exit(2);
    }

    // Get variable screen information
    if (ioctl(fbfd, FBIOGET_VSCREENINFO, &vinfo) == -1) {
        perror(""Error reading variable information"");
        exit(3);
    }

    printf(""%dx%d, %dbpp\n"", vinfo.xres, vinfo.yres, vinfo.bits_per_pixel);

    // Figure out the size of the screen in bytes
    screensize = vinfo.xres * vinfo.yres * vinfo.bits_per_pixel / 8;

    // Map the device to memory
    fbp = (char *)mmap(0, screensize, PROT_READ | PROT_WRITE, MAP_SHARED, fbfd, 0);
    if ((int)fbp == -1) {
        perror(""Error: failed to map framebuffer device to memory"");
        exit(4);
    }
    printf(""The framebuffer device was mapped to memory successfully.\n"");

    x = 100; y = 100;       // Where we are going to put the pixel

    // Figure out where in memory to put the pixel
    for (y = 100; y < 300; y++)
        for (x = 100; x < 300; x++) {

            location = (x+vinfo.xoffset) * (vinfo.bits_per_pixel/8) +
                       (y+vinfo.yoffset) * finfo.line_length;

            if (vinfo.bits_per_pixel == 32) {
                *(fbp + location) = 100;        // Some blue
                *(fbp + location + 1) = 15+(x-100)/2;     // A little green
                *(fbp + location + 2) = 200-(y-100)/5;    // A lot of red
                *(fbp + location + 3) = 0;      // No transparency
        //location += 4;
            } else  { //assume 16bpp
                int b = 10;
                int g = (x-100)/6;     // A little green
                int r = 31-(y-100)/16;    // A lot of red
                unsigned short int t = r<<11 | g << 5 | b;
                *((unsigned short int*)(fbp + location)) = t;
            }

        }
    munmap(fbp, screensize);
    close(fbfd);
    return 0;
}
"
35892,34707,Is the following possible with ndb: query(AdModel.daily_used < AdModel.daily_budget),"class AdvertModel(ndb.Model):
    daily_used = ndb.FloatProperty()
    daily_budget = ndb.FloatProperty()
    in_money = ndb.ComputedProperty(lambda self: self.daily_used < self.daily_budget)
"
12193,67846,Reading all sections in a config file,"def any_HE():
    global config
    config = ConfigParser.RawConfigParser()
    config.read('config.cfg')
    for section in config.sections():
        list = {} #start with empty list for each section
        env.user = config.get(section, 'db.user_name')
        env.password = config.get(section, 'db.password')
        host = config.get(section, 'db.ip')
        with settings(hide('warnings', 'running', 'stdout', 'stderr'), \
                        warn_only=True, host_string=host):
            paramiko.util.log_to_file(section + '.log')
            files = run('ls -ltr /opt/nds')
            with open(section + "".txt"", ""w"") as fo:
                fo.write(files)
            components = []
            with open(section + "".txt"", 'rb') as fo:
                strings = (""/installed/"")
                i=0
                for line in fo:
                    if strings in line:
                        id = re.search('installed/(.+)',line)
                        if id:
                            components.append(id.group(1))
                            component,version = components[i].rstrip().split('-',1)
                            list[component] = version
                            i+=1
            write_data(list, section + ""_HE"", 1)
"
170,29113,"Directed, weighted balanced tree import and shortest path in networkx","
import networkx as nx
import matplotlib.pyplot as plt

def flatline(iterable):
    for line in iterable:
        for val in line.split():
            yield float(val)

with open(filename, 'r') as f:
    G = nx.balanced_tree(r = 2, h = 100, create_using = nx.DiGraph())
    for (a, b), val in zip(G.edges(), flatline(f)):
        G[a][b]['weight'] = val

# print(G.edges(data = True))

pred, distance = nx.dijkstra_predecessor_and_distance(G, 0)

# Find leaf whose distance from `0` is smallest
min_dist, leaf = min((distance[node], node) 
                     for node, degree in G.out_degree_iter()
                     if degree == 0)
nx.draw(G)
plt.show()
"
19921,44892,Modelling results of an election in Django,"class Candidate(models.Model):
    name = models.CharField(max_length=50)
    surname = models.CharField(max_length=50)

class County(models.Model):
    name = models.CharField(max_length=50)
    population = models.IntegerField(max_length=50)
    eligible_voters = models.IntegerField(max_length=50)

class Result(models.Model):
    name = models.CharField(max_length=50) # you could give an election a name I suppose, i.e. 2016 primary
    county = models.ForeignKey('County',)
    winner = models.ForeignKey('Candidate',)
    loser = models.ForeignKey('Candidate',)
    total_votes = models.IntegerField(max_length=50) # break this out into other fields if you want more detail
"
3092,48171,how to export per-vertex UV coordinates in Blender export script,"def exportMesh(filepath):

    # Only one mesh per scene
    objList = [object for object in bpy.context.scene.objects if object.type == 'MESH']

    if len(objList) == 0:
        return
    elif len(objList) > 1:
        return
    #raise exepction? dialog box?


    # Process the single mesh object:
    mesh = objList[0]

    # File name is same as the mesh's name in Blender
    meshFilePath = filepath[0 : filepath.rindex('/') + 1] + mesh.name + "".mesh""
    file = open(meshFilePath, 'w')

    WorldTransform = Matrix().Identity(4)
    WorldTransform *= Matrix.Rotation(radians(90), 4, ""X"")
    file.write('World Transform:\n')
    for rcol in WorldTransform_T.row:
        file.write('{:9f} {:9f} {:9f} {:9f}\n'.format(row[0], row[1], row[2], row[3]))
    file.write('\n')

    # Mesh (local) transform matrix
    file.write('Mesh Transform:\n')
    localTransform_T = mesh.matrix_local.copy()
    localTransform_T.transpose()
    for row in localTransform_T.row:
        file.write('{:9f} {:9f} {:9f} {:9f}\n'.format(row[0], row[1], row[2], row[3]))
    file.write('\n')

    vertexAttributeList = []
    for triangle in mesh.data.polygons:
        vertices = list(triangle.vertices)
        i = 0
        for vertex in vertices:
            vertexAttribute = list(mesh.data.vertices[vertex].co)

            if triangle.use_smooth:
                vertexAttribute.extend(list(mesh.data.vertices[vertex].normal))
            else:
                vertexAttribute.extend(list(triangle.normal))

            for uv_layer in mesh.data.uv_layers:
                uvCoord = uv_layer.data[triangle.loop_indices[i]].uv
                vertexAttribute.extend([uvCoord[0], 1 - uvCoord[1]])

            totalVertexWeight = 0
            jointWeights = [group.weight for group in mesh.data.vertices[vertex].groups]
            jointIndices = [group.group for group in mesh.data.vertices[vertex].groups]
            for weight in jointWeights:
                totalVertexWeight += weight

            vgNum = len(mesh.vertex_groups)
            jointWeightsAttribute = []
            jointIndicesAttribute = []
            for vgIndex in range(4):
                if vgIndex < len(jointIndices):
                    jointWeightsAttribute.append(jointWeights[vgIndex] / totalVertexWeight)
                    jointIndicesAttribute.append(jointIndices[vgIndex])
                else:
                    jointWeightsAttribute.append(0)
                    jointIndicesAttribute.append(0)

            vertexAttribute.extend(jointWeightsAttribute)
            vertexAttribute.extend(jointIndicesAttribute)

            vertexAttributeList.append(vertexAttribute)
            i += 1

    # VBO
    vNum = len(vertexAttributeList)
    tNum = len(mesh.data.uv_layers)
    file.write('VBO Length: {:d}\n'.format(vNum))
    for vertexAttribute in vertexAttributeList:
        file.write('{:9f} {:9f} {:9f} {:9f} {:9f} {:9f} {:9f} {:9f} {:9f} {:9f} {:9f} {:9f} {:d} {:d} {:d} {:d}\n'.format(vertexAttribute[0],
                                                                                                                          vertexAttribute[1],
                                                                                                                          vertexAttribute[2],
                                                                                                                          vertexAttribute[3],
                                                                                                                          vertexAttribute[4],
                                                                                                                          vertexAttribute[5],
                                                                                                                          vertexAttribute[6],
                                                                                                                          vertexAttribute[7],
                                                                                                                          vertexAttribute[8],
                                                                                                                          vertexAttribute[9],
                                                                                                                          vertexAttribute[10],
                                                                                                                          vertexAttribute[11],
                                                                                                                          vertexAttribute[12],
                                                                                                                          vertexAttribute[13],
                                                                                                                          vertexAttribute[14],
                                                                                                                          vertexAttribute[15]))
    file.write('\n')


    # Done writing mesh file
    file.close()
"
2939,5888,Python - Calling a function from a class,"from dc_functions.dcfunc import function_name
"
5800,77253,pyplot depicted range of colorbar,"import numpy as np
import matplotlib.pyplot as plt

data = np.random.rand(10,10)*0.6+0.4 # data ranging from 0.4 to 1

xAxisScale = np.linspace(0.0, 80, len(data[0,:]))
yAxisScale = np.linspace(0.0, 80, len(data[0,:]))

fig = plt.figure(figsize = (16, 9), dpi = 100)
ax = fig.add_subplot(111 )
image = ax.contourf(xAxisScale, yAxisScale, data,levels=np.arange(0,1.01,0.01),vmin = 0.0,vmax=1.0)
colorbar = fig.colorbar(image, ticks = [0.0, 0.5, 1.0])

plt.show()
"
23591,35304,Querying datastore for all models that contain a certain element within a listproperty,"SELECT * FROM List where categories = 'Philosophy'
"
37582,75454,How to pass properties from one class to another in kivy,"import kivy
from kivy.app import App

from kivy.uix.boxlayout import BoxLayout
from kivy.uix.floatlayout import FloatLayout
from kivy.uix.label import Label
from kivy.uix.button import Button

from kivy.properties import ObjectProperty
from kivy.properties import NumericProperty


class AppScreen(FloatLayout):
    app = ObjectProperty(None)

class MainMenu(AppScreen):
    pass

class ScoreScreen(AppScreen):
    count_r = NumericProperty(0)
    score = NumericProperty(0)

    # This is making a new WordComprehension object, and thus will not have
    # the correct value of score. We no longer need this is we are binding properties
    # together.
    #def get_score(self):
    #    wordcomp = WordComprehension()
    #    self.score = wordcomp.count_r


class WordComprehension(AppScreen):
    count_r = NumericProperty(0)
    count_w = NumericProperty(0)

    def do_something(self):
        self.count_r += 1


class InterfaceApp(App):
    def build(self):
        self.screens = {}
        self.screens[""wordcomp""] = WordComprehension(app=self)
        self.screens[""menu""] = MainMenu(app=self)
        self.screens[""score""] = ScoreScreen(app=self)
        self.root = FloatLayout()
        self.goto_screen(""menu"")

        # Bind the two properties together. Whenever count_r changes in the wordcomp
        # screen, the score property in the score screen will reflect those changes.
        self.screens[""wordcomp""].bind(count_r=self.screens[""score""].setter('score'))

        return self.root

    def goto_screen(self, screen_name):
        self.root.clear_widgets()
        self.root.add_widget(self.screens[screen_name])


if __name__ == ""__main__"":
    InterfaceApp().run()
"
15676,16638,Generating a top N selection at random,"import random
photos = [{'set' : 1,'photos' : ['photo1','photo2'....'photo14']}, {'set' : 2,.....]
weight = {1: 6, 2: 3, 3: 1} # set : number of shown photos
show = []
for d in photos:
    show.extend(random.sample(d['photos'], weight[d['set']]))
random.shuffle(show)
# show now contains a shuffled list of 6 photos from set 1, 3 from set 2 and 1 from set 3
"
2684,13186,String replacing in a file by given position,"import os,mmap
f=os.open(""afile"",os.O_RDWR)
m=mmap.mmap(f,0)
m[4:9]=""01234""
os.close(f)
"
20711,68207,the searching order of inheritance in python,">>> G.__mro__
(<class '__main__.G'>, <class __main__.E at 0x028412D0>, <class __main__.D at 0x
02841298>, <class '__main__.F'>, <class __main__.B at 0x02841260>, <class '__mai
n__.C'>, <class __main__.A at 0x02841228>, <type 'object'>)
>>> print ', '.join(klass.__name__ for klass in G.__mro__)
G, E, D, F, B, C, A, object
"
26079,40205,How to Reload a Python Module? Clearing Variable Info,"# Before screwing with builtins:
builtins_backup = builtins.__dict__.copy()

# After screwing with builtins:
builtins.__dict__.clear()
builtins.__dict__.update(builtins_backup)
"
24518,70321,How can I calculate the time taken by a function to get executed with python?,"latency: 361.953 ms
calculated_latency: 753.1721591949463 ms
"
38584,30172,Find a HAL object based on /dev node path,"import dbus
bus = dbus.SystemBus()
obj = bus.get_object(""org.freedesktop.Hal"", ""/org/freedesktop/Hal/Manager"")
iface = dbus.Interface(obj, ""org.freedesktop.Hal.Manager"")
print iface.FindDeviceStringMatch(""block.device"", ""/dev/sda"")
"
4180,77568,Pandas Data Frame join by grouping,"In [2]: df = DataFrame({""DBKEY"":['T9947', 'T9947', 'T9947', 'W3972','W3972','W3972'],""STATION"":['G377C_C','G377C_C','G377C_C','G377C_C','G377C_C','G377C_C'],""DAILY_DATE"":['2011-10-01 00:00:00','2011-10-02 00:00:00','2011-10-03 00:00:00','2011-10-01 00:00:00','2011-10-02 00:00:00','2011-10-03 00:00:00'],""VAL"":[ 17.123, 'NaN', 'NaN', '17.120', 'NaN', 'NaN']})
In [3]: df
Out[3]:
            DAILY_DATE  DBKEY  STATION     VAL
0  2011-10-01 00:00:00  T9947  G377C_C  17.123
1  2011-10-02 00:00:00  T9947  G377C_C     NaN
2  2011-10-03 00:00:00  T9947  G377C_C     NaN
3  2011-10-01 00:00:00  W3972  G377C_C  17.120
4  2011-10-02 00:00:00  W3972  G377C_C     NaN
5  2011-10-03 00:00:00  W3972  G377C_C     NaN

In [4]: df2 = df.set_index([""STATION"", ""DBKEY"", ""DAILY_DATE""])
In [5]: df2
Out[5]:
                                      VAL
STATION DBKEY DAILY_DATE                 
G377C_C T9947 2011-10-01 00:00:00  17.123
              2011-10-02 00:00:00     NaN
              2011-10-03 00:00:00     NaN
        W3972 2011-10-01 00:00:00  17.120
              2011-10-02 00:00:00     NaN
              2011-10-03 00:00:00     NaN

In [6]: df3 = df2.unstack(level=1)
In [7]: df3
Out[7]: 
                                VAL        
DBKEY                         T9947   W3972
STATION DAILY_DATE                         
G377C_C 2011-10-01 00:00:00  17.123  17.120
        2011-10-02 00:00:00     NaN     NaN
        2011-10-03 00:00:00     NaN     NaN
"
10961,72821,Scrapy - Adding a table header (thead) value to Item Loader,"def parse(self, response):
   hxs = HtmlXPathSelector(response)
   for tb in hxs.xpath('//table'):

       heading = tb.xpath('.//thead/tr/th/a/text()').extract()[0]

       for td in tb.xpath('.//tbody/tr'):
          il = WebsiteLoader(response=response, selector=td)
          ...
          il.add_value('heading', heading)
          yield il.load_item()
"
332,74528,Aggregating / grouping lists into a dictionary,">>> tidy_catalog = collections.defaultdict(dict)
>>> for val in catalog:
...     tidy_catalog[val['item_id']][val['property_name']] = val['property_value']
...
>>> pp(tidy_catalog)
defaultdict(<type 'dict'>, {
    1: {'colour': 'blk', 'sizeid': '1'},
    2: {'colour': 'grn', 'sizeid': '2'},
    3: {'colour': 'blue', 'onsale': True, 'sizeid': '2'},
})
"
26683,3374,Scrapy - Get spider variables inside DOWNLOAD MIDDLEWARE __init__,"class DuplicateFilterMiddleware(object):

    def __init__(self):
        connection = pymongo.Connection('localhost', 12345)
        self.db = connection['my_db']
        self.db.authenticate('scott', '*****')

        self.url_sets = {}

    def process_request(self, request, spider):
        if not self.url_sets.get(spider._site_name):
            self.url_sets[spider._site_name] = self.db.ad.find({'site': spider._site_name}).distinct('url')

        print ""%s - process Request URL: %s"" % (spider._site_name, request.url)
        if request.url in self.url_sets[spider._site_name]:
            raise IgnoreRequest(""Duplicate --db-- item found: %s"" % request.url)
        else:
            return None
"
27770,6561,Calculating word frequencies in Python or R,">>> import re
>>> from collections import Counter
>>> t = ""This is a sentence with many words. Some words are repeated""
>>> Counter(re.split(r'\W', t)).most_common()
[('words', 2), ('a', 1), ('', 1), ('sentence', 1), ('This', 1), ('many', 1), ('is', 1), ('Some', 1), ('repeated', 1), ('are', 1), ('with', 1)]
"
25758,73827,How to Set Call Back For Enter key of GtkTextView?,"import gtk

tv = gtk.TextView()

def keyPress(widget, event):
    if event.keyval == 65293:
        ## do something
        return True
    return False

tv.connect('key-press-event', keyPress)

win = gtk.Dialog()
win.vbox.pack_start(tv)
win.vbox.show_all()
win.run()
"
36720,37570,"Jsonschema, validating object keys with a custom function","{
    ""type"": ""object"",
    ""patternProperties"": {
        ""^[a-zA-Z]+(-[a-zA-Z]+)*$"": {...}
    },
    ""additionalProperties"": false
}
"
31002,76686,create an button on desktop,"pathToBmp = ""imagename or image directory""
SPI_SETDESKWALLPAPER = 20  
ctypes.windll.user32.SystemParametersInfoA(SPI_SETDESKWALLPAPER, 0, pathToBmp ,
                                      0)
"
28793,11026,How can I tell whether my Django application is running on development server or not?,"server = request.META.get('wsgi.file_wrapper', None)
if server is not None and server.__module__ == 'django.core.servers.basehttp':
    print 'inside dev'
"
37476,60027,Ask for 0 or 2 positionnal arguments whit argparse?,"#!/usr/bin/env python

import argparse as ap

parser = ap.ArgumentParser(usage='%(prog)s [-h] [a b]\n')
parser.add_argument('ab', 
                    nargs='*', 
                    help='specify 2 or 0 items', 
                    default=['a', 'b'])

args = parser.parse_args()
if len(args.ab) != 2:
    parser.error('expected 2 arguments')

print(args.ab)
"
22727,28885,Django reference managers and related managers on a model instance,"v = 'videos'
getattr(userObj, v).filter(...)
"
39161,24693,How do you test a function using which retrieves data by urllib2?,"BASE_URL='http://google.com'
HEADERS = {""accept-language"":""klingon""}
import urllib, urllib2
def get_response(self, url, params):
    r""""""
    >>> from minimock import Mock
    >>> urllib2.Request = Mock('urllib2.Request')
    >>> urllib2.urlopen = Mock('urllib2.urlopen')
    >>> get_response(None, 'http://google.com', {'foo':'bar'})
    Called urllib2.Request(
        'http://google.com',
        headers={'accept-language': 'klingon'})
    Called urllib2.urlopen(None, 'foo=bar')
    >>> 
    """"""
    encoded_params = urllib.urlencode(params)
    request = urllib2.Request(BASE_URL, headers=HEADERS)
    response = urllib2.urlopen(request, encoded_params)
    return response
"
33044,1164,very simple scrapy crawler not following links,"class YelpSpider(CrawlSpider):
    name = ""yelp""
    allowed_domains = [""www.yelp.com""]
    start_urls = [
        ""http://www.yelp.com/search?find_desc=Hotels&find_loc=San+Francisco%2C+CA&ns=1"",
        ""http://www.yelp.com/biz/ucsf-medical-center-at-mount-zion-san-francisco""
    ]

    rules = [
        Rule(LinkExtractor(allow=('.*')),follow=True,callback=""parseBusiness"")
    ]
"
26628,27910,Loading an audio file using file dialog and playing it with pygame,"import pygame
from tkinter import *  # not advisable to import everything with *
from tkinter import filedialog

pygame.mixer.init() # initializing the mixer

root = Tk()

audio_file_name = ''

def open_masker():
    global audio_file_name
    audio_file_name = filedialog.askopenfilename(filetypes=((""Audio Files"", "".wav .ogg""),   (""All Files"", ""*.*"")))

def masker_screen():  
    # we will also use the audio_file_name global variable
    global m_screen, audio_file_name  

    m_screen = Toplevel(root)
    m_screen.geometry('600x600')
    m_screen.transient(root) 
    m_label = Label(m_screen, text = ""Playing New Masker Noise"")
    m_label.pack(anchor = CENTER)

    if audio_file_name: # play sound if just not an empty string
        noise = pygame.mixer.Sound(audio_file_name)
        noise.play(0, 5000)

b1 = Button(root, text = 'open file',command = open_masker)
# does not make sense to call pack directly 
# and stored the result in a variable, which would be None
b1.pack(anchor=CENTER)

Button(root, text = 'continue', command = masker_screen).pack(anchor = E)

root.mainloop()
"
9169,29059,Python logging - overview of currently installed loggers/handlers,"def get_fluentd_logger(name):
    import logging
    from fluent import handler

    logging.basicConfig(level=logging.DEBUG)
    logger = logging.getLogger(name)
    logger.level = logging.INFO
    handler = handler.FluentHandler(name, host='localhost', port=24224)
    handler.level = logging.INFO
    logger.addHandler(handler)
    return logger
"
1211,54713,python separate round particles by offsetting contours / shrinking polygones,"import numpy as np
import scipy.misc
import scipy.ndimage
import skimage.feature
import skimage.morphology

# parameters
THRESHOLD = 128

# read image
im = scipy.misc.imread(""JPh65.png"")
# convert to gray image
im = im.mean(axis=-1)
# find peaks
peak = skimage.feature.peak_local_max(im, threshold_rel=0.9, min_distance=10)
# make an image with peaks at 1
peak_im = np.zeros_like(im)
for p in peak:
    peak_im[p[0], p[1]] = 1
# label peaks
peak_label, _ = scipy.ndimage.label(peak_im)
# propagate peak labels with watershed
labels = skimage.morphology.watershed(255 - im, peak_label)
# limit watershed labels to area where the image is intense enough
result = labels * (im > THRESHOLD)
"
33617,21834,Create a complete binary search tree from list,"def perfect_tree_partition(n):
    """"""find the point to partition n keys for a perfect binary tree""""""
    x = 1

    # find a power of 2 <= n//2
    # while x <= n//2:  # this loop could probably be written more elegantly :)
    #     x *= 2
    x = 1 << (n.bit_length() - 1)   # indeed you can

    if x//2 - 1 <= (n-x):
        return x - 1      # case 1
    else:
        return n - x//2   # case 2 == n - (x//2 - 1) - 1
"
34710,43285,Append to a nested list or dict in Python,">>> from collections import defaultdict
>>> d = defaultdict(list)
>>> d[""hello""].append(1)
>>> d[""hello""].append(2)
>>> dict(d)
{'hello':[1, 2]}
"
22770,73469,How do I apply unknown arguments to a function in Python 3.x?,"self[""commands""][values[0]](*values[1:])
"
8095,15291,Running a loop (x) times,"def read_items(prompt):
    items = []
    while True:
        answer = raw_input('%s (blank to end): ' % prompt)
        if not answer:
            return items
        items.append(answer)

ingredients = read_items('enter ingredients')
counts = []
for item in ingredients:
    cnt = raw_input('how much of %s:' % item)
    counts.append(int(cnt))

print zip(ingredients, counts)
"
22157,6325,How to add extra data to wxListBox items,"import wx

########################################################################
class Car:
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, id, model, make, year):
        """"""Constructor""""""
        self.id = id
        self.model = model
        self.make = make
        self.year = year       


########################################################################
class MyForm(wx.Frame):

    #----------------------------------------------------------------------
    def __init__(self):
        wx.Frame.__init__(self, None, wx.ID_ANY, ""Tutorial"")

        # Add a panel so it looks the correct on all platforms
        panel = wx.Panel(self, wx.ID_ANY)

        ford = Car(0, ""Ford"", ""F-150"", ""2008"")
        chevy = Car(1, ""Chevrolet"", ""Camaro"", ""2010"")
        nissan = Car(2, ""Nissan"", ""370Z"", ""2005"")

        sampleList = []
        lb = wx.ListBox(panel,
                        size=wx.DefaultSize,
                        choices=sampleList)
        self.lb = lb
        lb.Append(ford.make, ford)
        lb.Append(chevy.make, chevy)
        lb.Append(nissan.make, nissan)
        lb.Bind(wx.EVT_LISTBOX, self.onSelect)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(lb, 0, wx.ALL, 5)
        panel.SetSizer(sizer)

    #----------------------------------------------------------------------
    def onSelect(self, event):
        """"""""""""
        print ""You selected: "" + self.lb.GetStringSelection()
        obj = self.lb.GetClientData(self.lb.GetSelection())
        text = """"""
        The object's attributes are:
        %s  %s    %s  %s

        """""" % (obj.id, obj.make, obj.model, obj.year)
        print text

# Run the program
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MyForm()
    frame.Show()
    app.MainLoop()
"
22037,64609,Using Sphinx with a distutils-built C extension,"import distutils.command.build
from distutils.dist import Distribution

b = distutils.command.build.build(Distribution())
b.initialize_options()
b.finalize_options()

print b.build_temp

# If you're building a library, you might need:
print b.build_lib

# Other values of interest are:
b.build_purelib
b.build_platlib
b.build_scripts
b.build_base
"
37135,426,How to convert Python lists into a shell-readable series of strings?,"call([""depends""] + DEP)
"
14408,25739,Reading files in reverse order,">>> values = [2, 4, 6, 8, 10, 12, 14]
>>> for x in reversed(values):
...     print(x)
... 
14
12
10
8
6
4
2
"
9856,59220,"Django / Python, getting field name from database get object?","db_get_data = Model.objects.all()
for cur in db_get_data:
    for field in cur._meta.fields: # field is a django field
        if field.name == 'id':
             print 'found primary key'
"
17647,72304,use dictionary_1's keys to search for a match in dictionary_2's values,"list1 = [ key for key in mydict1.keys() if key in mydict2.itervalues() ]
"
21705,38247,Rolling Product in PANDAS over 30-day time window,"BHAR = pd.Series()

def bhar(arr):
    return np.cumprod(arr+1)[-1]

grouped = df.groupby('event_id')
    for name, group in grouped:
        BHAR = BHAR.append(pd.rolling_apply(group['ret'],10,bhar) -
                           pd.rolling_apply(group['Exp_Ret'],10,bhar))

df['BHAR'] = BHAR
"
12074,17176,django newbie - varying template table style by day of the week,"<tr {% if date.day|divisibleby:""2"" %}class=""date_even""{% else %}class=""date_odd""{% endif %}>
    <td>something</td>
    <td>something else</td>
    <td>{{ date }}</td>
</tr>
"
36517,19297,Access code in Firefox Inspector with Python,"import requests
import json
from bs4 import BeautifulSoup as soup


data = requests.get(""http://www.charitystars.com/ajax/getbidshistory?oid=9315"")
data_dict = json.loads(data.text)

auction_table = soup(data_dict[""html""])

for td in auction_table.find_all(""td""):
    print td.get_text()

""""""
28/04/2016
 andy.shirt.5

â¬ 120

27/04/2016
 simone.vanin

â¬ 60

""""""
"
28486,41424,Same Polymorphic Identity for Different Models,"class AbstractModel(Base):
    type = Column(String())
    __mapper_args__ = {""polymorphic_on"": type}

class ModelA(AbstractModel):
    __mapper_args__ = {""polymorphic_identity"": ""model_a""}

class FlaskModel(ModelA):
    pass

##Event listeners are requireed for the inherited polymorphic relationships
##If additional work needs to be done with different aspect, including after_delete and after_update
##They can als be added here
@event.listens_for(FlaskModel, 'init')
def receive_label_init(target, args, kwargs):
    kwargs[""type""] = ""model_a""


@event.listens_for(FlaskModel, 'mapper_configured')
def receive_label_mapper_configured(mapper, class_):
    mapper.polymorphic_identity = ""model_a""
"
31848,80034,What is the best way to add logging for creation of a Django Model instance?,"from django.db.models.signals import post_save
from django.dispatch import receiver


@receiver(post_save)
def log_creation(sender, instance, created, **kwargs):
    if created and isinstance(instance, (ModelA, ModelB)):
        logger.info(""created an instance of %s : %s"", sender.__name__, instance)
"
1861,949,What is the preferred way to take the modulus by a power of 2 of an int in Python,"<-------------- Python object operation cost --------------><- bit op ->
<-------------- Python object operation cost --------------><----- num op ----->
"
29076,65160,Python/Keras - Creating a callback with one prediction for each epoch,"class prediction_history(Callback):
    def __init__(self):
        self.predhis = []
    def on_epoch_end(self, epoch, logs={}):
        self.predhis.append(model.predict(predictor_train))
"
19305,31908,Using key_press_event to select a 'mode' for different types of pick_event,"class MyClick(object):

    def __init__(self):

        # initialize mode
        self._mode = 1

    def pick(self, event):
        """"""do some calculation depending on the last key pressed""""""

        if self._mode == 1:
            # do something...
            pass

        elif self._mode == 2:
            # do something different...
            pass

        elif self._mode == 3:
            # do something else entirely...
            pass

    def press(self, event):
        """"""record last key pressed""""""

        if event.key == '1':
            self._mode = 1

        elif event.key == '2':
            self._mode = 2

        elif event.key == '3':
            self._mode = 3
"
32634,39180,How to Change DNS Servers Programmaticly in Windows with Python?,"import os
os.system('netsh interface ip set dns ""Local Area Connection"" static 192.168.0.200')
"
5555,49591,Word replacing from text file to another line by line in python,"this is how I would construct the list with your input file
import re    
    rep_file = open('in2','r')
    new_words = []
    for line in rep_file:
        line = line.strip()
        new_words.append(line + '.ec3')

    infile = open('in.txt','r')    
    data = infile.read()    
    matches = re.findall(r'(opdut_decoded\.wav)',data)    
    i = 0    
    for m in matches:   

        data = re.sub(m,new_words[i],data,1)
        i += 1

    out = open('out.txt','w')  
    out.write(data)    
    out.close()
"
39612,30140,"After submitting form, how to wait for element to load before clicking on said element? (Selenium / Python)","from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait # available since 2.4.0
from selenium.webdriver.support import expected_conditions as EC # available since 2.26.0

ff = webdriver.Firefox()
ff.get(""http://somedomain/url_that_delays_loading"")
try:
    element = WebDriverWait(ff, 10).until(EC.presence_of_element_located((By.ID, ""myDynamicElement"")))
finally:
    ff.quit()
"
22714,73606,Retrieving value from Excel table from an intersection of values using Python,"def search(table_iterator, d, D, B):
    headings = next(table_iterator)
    junk = next(table_iterator)
    key = [d, D]
    for row in table_iterator:
        if row[0:2] != key: continue
        for index, value in enumerate(row[2:-1]):
            if value == B: 
                return headings(2 + index)
    return None
"
14935,66870,How to use Swig to treat a void * function parameter as Python string,"%typemap(in) void* = char*;
"
4021,28501,how can i change from python2 http request code to python3 Requests,"import requests

url = r'http://test.com/login_check.php'
parameters = {'x' : '0' ,
              'y' : '0', 
              'url':'login.php',
              'password':'1234',
              'id':'userid'}

login_response = requests.get(url, params=parameters)
htmlContent = login_response.text
"
21965,5021,Getting Host field from HTTP request in BaseHTTPRequestHandler,"def do_GET(self):
    host = self.headers.get('Host')
"
8383,31673,Is it possible to get numeric index (position) of marks in tkinter text?,"pos = text.index(INSERT)
"
31724,46978,Use Python Re module to extract text from multiline,"import re

text = ""SID=DQAAALsAAABCeyCMlOaYMHkv55TUQFxA71fxE1LpgpmL1G_o8YennFwBhar2I_LNmJjGjvLHVQy8tSRfYdLnUIHhKyD0FTZBzXyG_s8U4Pt97n9hPz68ZFSM42Qv6Qxuk74TQygHJXhjLWXNuD5mMsh8_MAs-nmhSToNFIyWoP-uTZ_LN2yQS1o9MB43fzuIIxp-1euXGxMceVVrjyidrYeEB13HS5kMHH-HGjiZhoIJBmu5es7pLPj9Ie8NJZ1K3kFhdVEJa4sLSID=DQAAAL4AAACypRIVyVXcs5zYIeUEt9v-wEwPKgQ8Oe23_URsDeHCg-rR2qQK4dTxPV1J6BPTO-6Zly2H9t4sVhm0vHe8IT6sKLdX2IQ8PgGMtSHQNkpQ8zEan0CyFyUetbSW4af6mlk2pksDpvXNm5GtNTj5eTwkCQUmgGep42u5iuCGFy-o9a1cQWz45NO_J8zIYnBdOqlheNTqaMWpi4hpr-_u8Muzs4RjlEbkuYfDu7MrdsJAFwxf0BVW2cGBtB-K2jwaK7w*Auth=*873hdyjsbcvuei73hckwoxnaodbc8dnskc8HU1mKRqxh6yEU-9tqx148GqC7h90_190ZzxpEZOHAH5HTptliylRXvMPyqPyijMNu21bOA6ZhvZFuL8YNB3KF63YuV0n5TFJd1-rMI2LQIdPMVBnsxnEGrLIeFOugAFCZ_3OelAc4XjeKdDvIowxkNnvaooXT4kxtkQWzieA3JRKy3Y-Lbi7E0qiXC99GtHVDh5VWvdTs2LCv3wnRULtLp6ZCoToZ8qoUWMzU9PZldsKSnE""
m = re.search('Auth=(.+)',text).groups()[0]
print m
"
10210,58086,Python: Creating 16-bit source and destination ports for a packet header,">>> import struct
>>> struct.pack('!H', 65000)
'\xfd\xe8'
"
29645,78824,Sorting a Result in Python,"myList = []
for fitsName in glob.glob('*.fits'):
    hdulist = pyfits.open(fitsName)
    a = hdulist[0].header['JD'] - 2400000.5
    myList.append(a)
    hdulist.close()


for item in sorted(myList):
    print item
"
17016,13547,Optional install with pip - ipython example,"extras_require = dict(
    parallel = [pyzmq],
    qtconsole = [pyzmq, 'pygments'],
    doc = ['Sphinx>=1.1', 'numpydoc'],
    test = ['nose>=0.10.1', 'requests'],
    terminal = [],
    nbformat = ['jsonschema>=2.0'],
    notebook = ['tornado>=4.0', pyzmq, 'jinja2', 'pygments', 'mistune>=0.5'],
    nbconvert = ['pygments', 'jinja2', 'mistune>=0.3.1']
)
"
31736,70492,Filter out sentences in a list that don't contain particular words,"for sentence in sentences:
    if all(term not in sentence for term in terms):
        empty.append(sentence)
"
14183,36381,How can I create a read-only combobox in Pyqt?,"class MainWidget(QtGui.QWidget):
    def __init__(self):
        super(MainWidget, self).__init__()
        # Create a combo and set the second item to be selected
        self.combo = QtGui.QComboBox()
        self.combo.addItems(['foo', 'bar', 'baz'])
        self.combo.setCurrentIndex(1)
        # Connect the combo currentIndexChanged signal
        self.combo.activated.connect(self.on_combo_change)
        # Setup layout
        self.layout = QtGui.QVBoxLayout()
        self.layout.addWidget(self.combo)
        self.setLayout(self.layout)

    def on_combo_change(self, index):
        # Whatever the user do, just ignore it and revert to
        # the old value.
        self.combo.setCurrentIndex(1)


app = QtGui.QApplication(sys.argv)
mw = MainWidget()
mw.show()
app.exec_()
"
14105,64414,Wierd Pandas DataFrame Index type conversion,"In [41]: df = DataFrame({'A' : range(10) },index=pd.date_range('20130101',freq='2S',periods=10,tz='US/Eastern'))

In [42]: df
Out[42]: 
                           A
2013-01-01 00:00:00-05:00  0
2013-01-01 00:00:02-05:00  1
2013-01-01 00:00:04-05:00  2
2013-01-01 00:00:06-05:00  3
2013-01-01 00:00:08-05:00  4
2013-01-01 00:00:10-05:00  5
2013-01-01 00:00:12-05:00  6
2013-01-01 00:00:14-05:00  7
2013-01-01 00:00:16-05:00  8
2013-01-01 00:00:18-05:00  9

In [43]: idx = pd.date_range('20130101 00:00:00',periods=20,freq='5s',tz='US/Eastern')

In [44]: df.reindex(idx,method='nearest')
Out[44]: 
                           A
2013-01-01 00:00:00-05:00  0
2013-01-01 00:00:05-05:00  3
2013-01-01 00:00:10-05:00  5
2013-01-01 00:00:15-05:00  8
2013-01-01 00:00:20-05:00  9
2013-01-01 00:00:25-05:00  9
2013-01-01 00:00:30-05:00  9
2013-01-01 00:00:35-05:00  9
2013-01-01 00:00:40-05:00  9
2013-01-01 00:00:45-05:00  9
2013-01-01 00:00:50-05:00  9
2013-01-01 00:00:55-05:00  9
2013-01-01 00:01:00-05:00  9
2013-01-01 00:01:05-05:00  9
2013-01-01 00:01:10-05:00  9
2013-01-01 00:01:15-05:00  9
2013-01-01 00:01:20-05:00  9
2013-01-01 00:01:25-05:00  9
2013-01-01 00:01:30-05:00  9
2013-01-01 00:01:35-05:00  9
"
4962,23226,Stop Python Script from Writing to File after it reaches a certain size in linux,"with open('out.txt', 'w', encoding='utf-8') as f:
    csvfile = csv.writer(f)
    maxsize = 1024                # max file size in bytes
    for row in data():
        csvfile.writerow(row)
        if f.tell() > maxsize:    # f.tell() gives byte offset, no need to worry about multiwide chars
            break
"
32341,73685,How to return value after loadFinished in PyQt4,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

from PyQt4 import QtCore, QtGui, QtWebKit, QtNetwork

class myWindow(QtWebKit.QWebView):
    procDone = QtCore.pyqtSignal(int)

    def __init__(self, parent=None):
        super(myWindow, self).__init__(parent)

        self.websites      = iter([""http://www.example.com""]*3)
        self.websitesTotal = 0

        self.loadFinished.connect(self.on_loadFinished)
        self.procDone.connect(self.on_procDone)

        self.loadWebsites()

    def loadWebsites(self):
        try:
            website = self.websites.next()

        except StopIteration:
            self.procDone.emit(self.websitesTotal)

        else:
            self.load(QtCore.QUrl(website))

    @QtCore.pyqtSlot(bool)
    def on_loadFinished(self, ok):
        self.websitesTotal += 1
        print ""Loaded: {0}"".format(self.url().toString())
        self.loadWebsites()

    @QtCore.pyqtSlot(int)
    def on_procDone(self, total):
        print ""Total of websites: {0}"".format(total)
        self.websitesTotal = 0

if __name__ == ""__main__"":
    import sys

    app = QtGui.QApplication(sys.argv)
    app.setApplicationName('myWindow')

    main = myWindow()
    main.show()

    sys.exit(app.exec_())
"
30832,59819,Testing a POST that uses Flask-WTF validate_on_submit,"def test_add_category_post(app, session):
    """"""Does add category post a new category?""""""
    TESTEMAIL = ""test@test.org""
    TESTUSER = ""Joe Test""
    user = Users.query.filter(Users.email==TESTEMAIL).first()
    category = Category(name=""Added Category"", users_id=user.id)
    form = CategoryForm(formdata=None, obj=category)
    with app.test_client() as c:
        with c.session_transaction() as sess:
            sess['email'] = TESTEMAIL
            sess['username'] = TESTUSER 
            sess['users_id'] = user.id
            response = c.post(
                '/category/add', data=form.data, follow_redirects=True)
    assert response.status_code == 200
    added_category = Category.query.filter(
        Category.name==""Added Category"").first()
    assert added_category
    session.delete(added_category)
    session.commit()
"
8970,11753,How to keep the most recent values and delete all other others in a column (pandas),"import pandas as pd
import numpy as np

# load your data

data['Time'] = pd.to_datetime(data['Time'])

list_of_indexes = [np.argmin(g['Time']) for l, g in data.groupby('ID Name')]
data.ix[list_of_indexes]
"
17760,73814,GTK networking app: need design pattern,"gtk.gdk.threads_init()

...

def on_button_clicked(button):
    label.set_text(""Doing something..."")
    threading.Thread(target=do_something).start()

def do_something():
    time.sleep(2)
    glib.idle_add(label.set_text, ""Done"")
"
5288,10563,function names from config file in python,"def get_method(name):
    return getattr(random, name, None)

def get_distribution(method, params):
    return method(params['mean'])

method_name = 'exponential'
method = get_method(method_name)
if method:
    results = get_distribution(method, params)
else:
    raise AttributeError('No such method in random: {}'.format(method_name))
"
19714,55400,Using python load images from directory and reshape,"import os
from scipy import ndimage, misc

images = []
for root, dirnames, filenames in os.walk(""/foo/bar""):
    for filename in filenames:
        if re.search(""\.(jpg|jpeg|png|bmp|tiff)$"", filename):
            filepath = os.path.join(root, filename)
            image = ndimage.imread(filepath, mode=""RGB"")
            image_resized = misc.imresize(image, (64, 64))
            images.append(image_resized)
"
5162,23695,Django point ForeignKey to an existing relationship table,"class Ingredient(models.Model):
    name = models.TextField()

class Recipe(models.Model):
    name = models.TextField()
    ingredients = models.ManyToManyField(Ingredient, through='RecipePart')

class RecipePart(models.Model)
    recipe = models.ForeignKey(Recipe)
    ingredient = models.ForeignKey(Ingredient)
    amount = models.IntegerField()

# ...
RecipePart(recipe=pizza, ingredient=cheese, amount=9001).save()
"
17482,56538,How to sort a list of dictionaries of dictionaries by value,">>> mydic = [{'name':'a', 'loc':{'locname':'z'}, 'id':{'value':'1'}},{'name':'b', 'loc':{'locname':'o'}, 'id':{'value':'2'}}]
>>> sorted(mydic,key = lambda x:x['loc']['locname'])
[{'loc': {'locname': 'o'}, 'name': 'b', 'id': {'value': '2'}}, {'loc': {'locname': 'z'}, 'name': 'a', 'id': {'value': '1'}}]
"
20388,83160,How to mock asyncio coroutines?,"import asyncio
import unittest
from unittest.mock import Mock


class ImGoingToBeMocked:
    @asyncio.coroutine
    def yeah_im_not_going_to_run(self):
        yield from asyncio.sleep(1)
        return ""sup""


class ImBeingTested:
    def __init__(self, hidude):
        self.hidude = hidude

    @asyncio.coroutine
    def i_call_other_coroutines(self):
        return (yield from self.hidude.yeah_im_not_going_to_run())


class TestImBeingTested(unittest.TestCase):

    def test_i_call_other_coroutines(self):
        mocked = Mock(ImGoingToBeMocked)
        ibt = ImBeingTested(mocked)

        @asyncio.coroutine
        def mock_coro():
            return ""sup""
        mocked.yeah_im_not_going_to_run = mock_coro

        ret = asyncio.get_event_loop().run_until_complete(
            ibt.i_call_other_coroutines())
        self.assertEqual(""sup"", ret)


if __name__ == '__main__':
    unittest.main()
"
30406,29909,"How do I see ""print""s from a python tkinter app converted to a .exe?","setup(console=['hello.py'])
"
1111,79016,Python: Identifying string list with length of 1 vs. string,"submitted_fields = set(['length', 'width', 'color', 'single element'])
required_fields = set(['width', 'length'])
if submitted_fields >= required_fields:
    # all required fields in submittedFields exist
else:
    # error handling
"
21092,32704,How do I ask a user continuously input something?,"while(True):
    x = raw_input(""Enter something:"")
    if x == """":
        break
"
11708,76910,Installing easy_install with setup tools,"echo %PATH% (windows)
echo $PATH (linux/cygwin/...)
"
22720,71651,Regex in python to get javadoc-style comments in CSS,"{(.*?)}
"
3035,19041,How to filter on a foreign key relationship,"@login_required
def home(request, team_member_id=None):
    user = request.user
    team_members = Team.objects.all().filter(site__user=user).order_by('team_member_name')
"
3236,41375,Wrapping Mutually Dependent Structs in Pyrex,"cdef extern from ""some.h"":
  ctypedef struct b
  ctypedef struct a:
    b * b_pointer
  ctypedef struct b:
    a a_obj
"
4022,32249,Dependent unit tests,"import random
import unittest

class TestSequenceFunctions(unittest.TestCase):

    def setUp(self):
        self.seq = range(10)

    def test_shuffle(self):
        # make sure the shuffled sequence does not lose any elements
        random.shuffle(self.seq)
        self.seq.sort()
        self.assertEqual(self.seq, range(10))

        # should raise an exception for an immutable sequence
        self.assertRaises(TypeError, random.shuffle, (1,2,3))

    def test_choice(self):
        element = random.choice(self.seq)
        self.assertTrue(element in self.seq)

    def test_sample(self):
        with self.assertRaises(ValueError):
            random.sample(self.seq, 20)
        for element in random.sample(self.seq, 5):
            self.assertTrue(element in self.seq)

if __name__ == '__main__':
    unittest.main()
"
17210,46500,Get the nth item of a generator in Python,">>> next(itertools.islice(xrange(10), 5, 5 + 1))
5
"
19098,81828,Python: how can I store map between pairs or string arrays and float for fast access?,"dictionary[(tuple(list1), tuple(list2))] = scorevalue(list1, list2)
"
21171,39867,Python - find incremental numbered sequences with a list comprehension,">>> from itertools import groupby, count
>>> nums = [1, 2, 3, 4, 8, 10, 11, 12, 17]
>>> [list(g) for k, g in groupby(nums, key=lambda n, c=count(): n - next(c))]
[[1, 2, 3, 4], [8], [10, 11, 12], [17]]
"
13272,18185,How to implement retry mechanism if the shell script execution got failed?,"from time import sleep
MAX_TRIES = 6

# ... your other code ...

for i in xrange(MAX_TRIES):
    proc = subprocess.Popen(shell_script, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    (stdout, stderr) = proc.communicate()
    if stderr:
       print ""Shell script gave some error...""
       print stderr
       sleep(0.05) # delay for 50 ms
    else:
       print stdout
       print ""end"" # Shell script ran fine.
       break
"
20325,31041,Django how to order an object based on a related field,"#sorting
order = dict( enumerate(keys) )
direction = request.GET['sSortDir_0']
column = request.GET['iSortCol_0']
dirs = {'asc': '', 'desc': '-'}
if direction == 'asc' and column == '1':
    ordering = dirs[direction] + order[int(column)]
    objects = objects.order_by('liquorID__BrandName')
elif direction == 'desc' and column == '1':
    ordering = dirs[direction] + order[int(column)]
    objects = objects.order_by('-liquorID__BrandName')
else:
    ordering = dirs[direction] + order[int(column)]
    objects = objects.order_by(ordering)
"
26441,77231,If elif else not working,"    if line_num == 151:
        if self.run_count == 1:
            print(values[self.run_count-1])
    elif line_num == 129:
        if self.run_count == 2:
            print(values[self.run_count-1])
        elif self.run_count == 3:
            print(""here"")
    else:
        print(line_num)
    f.write(line)
"
19558,57563,using wxpython and pubsub for changing text in statusbar,"import wx
from wx.lib.pubsub import pub


class CtrlPanel(wx.Panel):

    def __init__(self, parent):
        wx.Panel.__init__(self, parent, -1, style=wx.SUNKEN_BORDER)

        self.lstCombo = wx.ComboBox(self, -1)
        self.lstCombo.Bind(wx.EVT_COMBOBOX, self.onSelect)
        self.get_data()

    def get_data(self):
        self.lst = range(1, 10)
        self.lst = [str(x) for x in self.lst]
        self.lstCombo.Clear()
        self.lstCombo.AppendItems(self.lst)
        self.lstCombo.SetValue(self.lst[2])
        pub.sendMessage('F.Change', fobj=self.lstCombo.GetValue())

    def onSelect(self, event):
        pub.sendMessage('F.Change', fobj=self.lstCombo.GetValue())


class MainFrame(wx.Frame):
    """""" The main frame of the application
    """"""
    def __init__(self, parent, title):

        wx.Frame.__init__(self, parent, title=title)

        self.statusbar = self.CreateStatusBar()
        pub.subscribe(self.change_StatusBarText, 'F.Change')
        self.ctrl_panel = CtrlPanel(self)

    def change_StatusBarText(self, fobj):
        self.SetStatusText(fobj)


def main():
    app = wx.App(redirect=False)
    frame = MainFrame(None, ""Test"")
    frame.Centre()
    frame.Show(True)
    app.MainLoop()

if __name__ == '__main__':
    main()
"
36740,51120,Implementing a 'function-calling function',">>> def caller(func, *args, **kwargs):
...     return func(*args, **kwargs)
...
>>> def hello(a, b, c):
...     print a, b, c
...
>>> caller(hello, 1, b=5, c=7)
1 5 7
"
38612,3469,Fastest way in python for finding object with certain attribute value from list?,"current_ids = set(soldier.id for soldier in user.soldiers)
for soldier_class in soldierlist:
    if soldier_class.id not in current_ids:
         user.soldiers.append( soldier_class() )
"
26825,34055,Python 3: ftplib - nlst command does not show files starting with a point,"ftp.retrlines(""LIST -a"")
"
19271,65444,"Plotting a Heat Map X,Y,Intensity From Three Lists","import matplotlib.pyplot as plt
import numpy as np

data = np.genfromtxt('eye_.txt',delimiter=',')

x=data[:,0]
y=data[:,1]
z=data[:,2]

## Equivalently, we could do that all in one line with:
# x,y,z = np.genfromtxt('eye_.txt', delimiter=',', usecols=(0,1,2))

x=np.unique(x)
y=np.unique(y)
X,Y = np.meshgrid(x,y)

Z=z.reshape(len(y),len(x))

plt.pcolormesh(X,Y,Z)

plt.show()
"
29002,41860,wxPython: Dragging a file into window to get file path,"import wx

########################################################################
class MyFileDropTarget(wx.FileDropTarget):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, window):
        """"""Constructor""""""
        wx.FileDropTarget.__init__(self)
        self.window = window

    #----------------------------------------------------------------------
    def OnDropFiles(self, x, y, filenames):
        """"""
        When files are dropped, write where they were dropped and then
        the file paths themselves
        """"""
        self.window.SetInsertionPointEnd()
        self.window.updateText(""\n%d file(s) dropped at %d,%d:\n"" %
                              (len(filenames), x, y))
        print filenames
        for filepath in filenames:
            self.window.updateText(filepath + '\n')    

########################################################################
class DnDPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent=parent)

        file_drop_target = MyFileDropTarget(self)
        lbl = wx.StaticText(self, label=""Drag some files here:"")
        self.fileTextCtrl = wx.TextCtrl(self,
                                        style=wx.TE_MULTILINE|wx.HSCROLL|wx.TE_READONLY)
        self.fileTextCtrl.SetDropTarget(file_drop_target)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(lbl, 0, wx.ALL, 5)
        sizer.Add(self.fileTextCtrl, 1, wx.EXPAND|wx.ALL, 5)
        self.SetSizer(sizer)

    #----------------------------------------------------------------------
    def SetInsertionPointEnd(self):
        """"""
        Put insertion point at end of text control to prevent overwriting
        """"""
        self.fileTextCtrl.SetInsertionPointEnd()

    #----------------------------------------------------------------------
    def updateText(self, text):
        """"""
        Write text to the text control
        """"""
        self.fileTextCtrl.WriteText(text)

########################################################################
class DnDFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, parent=None, title=""DnD Tutorial"")
        panel = DnDPanel(self)
        self.Show()

#----------------------------------------------------------------------
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = DnDFrame()
    app.MainLoop()
"
10403,22604,"In Pyramid, how can prevent cookies from being set in certain responses?","def new_response_subscriber(event):
    request = event.request
    response = event.response

    if ""api"" == request.environ['HTTP_HOST'].split('.')[0]:
        if 'Set-Cookie' in response.headers:
            del response.headers['Set-Cookie']
"
14915,67418,Converting a system command to python for file search and delete,"import os
import time

def checkfile(filename):
    filestats = os.stat(filename) # Gets infromation on file.
    if time.time() - filestats.st_mtime > 120: # Compares if file modification date is more than 120 less than the current time.
        os.remove(filename) # Removes file if it needs to be removed.

path = '/path/to/folder'

dirList = os.listdir(path) # Lists specified directory.
for filename in dirList:
    checkfile(os.path.join(path, filename)) # Runs checkfile function.
"
9368,12371,Examples for string find in Python,">>> 'sdfasdf'.index('cc')
Traceback (most recent call last):
  File ""<pyshell#144>"", line 1, in <module>
    'sdfasdf'.index('cc')
ValueError: substring not found
>>> 'sdfasdf'.index('df')
1
"
26041,50314,iterator/generator to produce all possible cases in a control system,"from itertools import product
def _combinations_for_record(d):
    for tmp, vlt, prs in product(d['Temp'], d['Voltage'], d['Pressure']):
        yield {""Temp"": [tmp], ""Voltage"": [vlt], ""Pressure"": [prs]}
"
10745,80440,In my python program how do I count the number of times a value has occurred,"import random

numbers = {'x': 0, 'y': 0}


def randomnumbers():
    for x in range(100):
        n = random.randint(1, 8)

        if 1 <= n <= 5:
            numbers['x'] += 1
            print('%dx' % n)
            # E.g. 1x
        elif 6 <= n <= 8:
            numbers['y'] += 1
            print('%dy' % n)
            # E.g. 7y


randomnumbers()
print('x %d times' % numbers['x'])
# E.g. x 61 times
print('y %d times' % numbers['y'])
# E.g. y 39 times
"
8619,70436,Extracting coordinates of region within matrix,"Example
from __future__ import print_function
import numpy

a = numpy.arange(0, 100, 10) # 0, 10, 20, ...
ind = numpy.where(a>30)[0]
print(ind) # [4 5 6 7 8 9]
"
24239,15564,Render ManytoManyfield in django templates without duplicating the content of the parent Model,"{% for annonce in cpny_in %}
    <tr>
        <td>{{annonce.nom_cpny}}</td>

        {% for cp in annonce.code_postal_cpny.all %}
            {% if annonce.utilisateur.id == utilisateur.id %}
                <td>{{cp }}</td>
            {% endif %}
        {% endfor %}

    </tr>
{% endfor %}
"
1901,48432,What are the mechanics of the in operator for lists or hashes of classes in Python?,"any((ob is contained_ob or ob == contained_ob) for contained_ob in some_sequence)
"
1888,62824,"Randomly Select Sentences from Text File, Find Coresponding ID Number","#!/usr/bin/env python
import re
import nltk  # $ pip install nltk

def paragraphs(file):
    """"""Yield blank-line separated paragraphs labeled with ##-numbers.""""""
    lines = []
    for line in file:
        if line.strip():
            lines.append(line)
        elif lines:  # blank line, the end of a non-empty paragraph
            paragraph = ''.join(lines)
            numbers = re.findall(r'##([0-9]+)', paragraph)  # only ASCII-digits
            assert len(numbers) == 1  # only one ##-number per paragraph
            yield int(numbers[0]), paragraph
            del lines[:]

def sentences(filenames):
    for filename in filenames:
        with open(filename) as file:
            for number, paragraph in paragraphs(file):
                for sentence in nltk.sent_tokenize(paragraph):
                    yield number, sentence

filenames = ('w_acad_%d.txt' % n for n in range(1990, 2013))
print(reservoir_sample(sentences(filenames), 2000))
"
37755,27196,not able to undertand cursors in appengine,"query = Modelall().filter(""profile ="", p_key).order('-created')

    if request.get('cursor'):
        query = query.with_cursor(request.get('cursor'))

    objs = query.fetch(limit=10) 
    cursor = query.cursor()                

    for obj in objs:
       ...
"
20563,59975,How do I install py.test-2.3?,"pip install -i http://pypi.testrun.org -U pytest
"
26510,53204,How to pip install a package with min and max version range?,"$ pip install ""package>=0.2,<0.3""
"
27973,16222,Generate a random array ignoring a selected value,"first_value = random.randint(0, 10)
randarray = [i for i in random.sample(range(0, 10), 10) if i != first_value]
randarray.insert(0, first_value)
"
18554,32257,Updating value in iterrow for pandas,"for index, row in rche_df.iterrows():
    if isinstance(row.wgs1984_latitude, float):
        row = row.copy()
        target = row.address_chi        
        dict_temp = geocoding(target)
        rche_df.loc[index, 'wgs1984_latitude'] = dict_temp['lat']
        rche_df.loc[index, 'wgs1984_longitude'] = dict_temp['long']
"
26221,55823,Python str.format - Get (only) the sign of a number?,"""{0}${1:02d}"".format('+-'[s<0], abs(s))
"
21807,25407,"Slow, word-by-word terminal printing in Python?","import random
import sys
import time

def slowprint(s):
    for c in s + '\n':
        sys.stdout.write(c)
        sys.stdout.flush() # defeat buffering
        time.sleep(random.random() * 0.1)

slowprint('Hello, world.')
"
2336,8963,Access array elements by array/list of column indexes,"np.diag(A[:,idx])
# array([ 2,  9, 10, 15, 23, 26, 33, 36, 42, 49])
"
23800,24378,Hide some lines in odoo treeview,"<record model=""ir.actions.act_window"" id=""my_object_action"">
    <field name=""name"">my_object.action</field>
    <field name=""res_model"">my_object</field>
    <field name=""view_mode"">tree,form</field>
    <field name=""domain"">[
        ('my_flag', '=', True)
    ]</field>
</record>
"
31767,57095,How do I grab a number sandwiched between commas?,">>> [item for item in line.split(',')[1:] if item.isdigit()][0]
'2503281'
"
7977,69497,Sort a dictionary,">>> import collections
>>> sorted_event_types = collections.OrderedDict(sorted(event_types.items()))
>>> print sorted_event_types
OrderedDict([('ah', 0), ('as', 1), ('ch', 1), ('cs', 0), ('eh', 2), ('es', 9), ('oh', 3), ('os', 5)])
"
1351,77354,Construct a MySQL update query in Python that only puts quotes around strings not numbers,"sqlbase = """"""UPDATE media
             SET {query}
             WHERE media_id = %(media_id)s""""""

mapping = {key: getattr(self, key, None) for key in ['filename', 'filesize']}
mapping['media_id'] = 12345
setpieces = [""{key} = %({key})s"".format(key=key) for key in mapping] + \
            [""timestamp_modified = %s"" % time.time()]

cursor.execute(sqlbase.format(query=','.join(setpieces)), mapping)
"
23409,5739,Inheriting specific parent model attributes in foreignkey->'self' relationship in Django,"class Foo(models.Model):
    name = models.CharField(unique=True)
    inherit = models.ForeignKey('self', related_name='children', null=True, blank=True)

    _attribute1 = models.FloatField(null=True, blank=True)
    _attribute2 = models.FloatField(null=True, blank=True)
    _attribute3 = models.BooleanField(null=True, blank=True)
    _attribute4 = models.CharField(null=True, blank=True)

    def __getattr__(self, name):
        if self.inherit and hasattr(self.inherit, name):
            return getattr(self.inherit, name, None)
        elif hasattr(self, '_'+name):
            return getattr(self, '_'+name, None)
        return super(Foo, self).__getattr__(name)

    def __setattr__(self, name, value):
        if self.inherit and hasattr(self.inherit, name):
            return setattr(self.inherit, name, value)
        elif hasattr(self, '_'+name):
            return self.__dict__[name] = value
        return super(Foo, self).__setattr__(name, value)
"
31061,78936,Python: Executing multiple functions simultaneously,"from multiprocessing import Process
import sys

rocket = 0

def func1():
    global rocket
    print 'start func1'
    while rocket < sys.maxint:
        rocket += 1
    print 'end func1'

def func2():
    global rocket
    print 'start func2'
    while rocket < sys.maxint:
        rocket += 1
    print 'end func2'

if __name__=='__main__':
     p1 = Process(target = func1)
     p1.start()
     p2 = Process(target = func2)
     p2.start()
"
29675,7391,Can you join a Python queue without blocking?,"from threading import Thread

class QueueChecker(Thread):
    def __init__(self, q):
        Thread.__init__(self)
        self.q = q

    def run(self):
        q.join()

q_manager_thread = QueueChecker(my_q)
q_manager_thread.start()

while q_manager_thread.is_alive():
    #do other things

#when the loop exits the tasks are done
#because the thread will have returned 
#from blocking on the q.join and exited 
#its run method

q_manager_thread.join() #to cleanup the thread
"
16395,38050,how to delete a part of a text in python,"from urllib2 import urlopen
from bs4 import BeautifulSoup

url = 'http://www.sec.gov/Archives/edgar/data/70858/000119312507058027/0001193125-07-058027.txt'
soup = BeautifulSoup(urlopen(url))
print(soup.document)
"
37152,13899,Populating a list with objects using list comprehension expression,"[Ingredient(*ing) for ing in ings]
"
34537,3637,How to make plot of m x n matrix in python,"import pylab as plt
a = [[1,0,1],[1,1,1]]
plt.matshow(a)
plt.show()
"
24060,41800,Sequence of zeroes,"d=[[1,1,1],[2,1,1],[2,1,2],[2,5,3],[2,4,4],[2,3,5]]

left = [[x[0]]+[0]*(x[2]-1)+[x[1]] for x in d]
print [l + [0]*(5-len(l)) for l in left]
"
9123,50643,"Figure dimensions, matplotlib, python3.4","import numpy as np
import matplotlib.pyplot as plt

def fig1():
    x = np.arange(-5,5,0.01)
    f1 = lambda x: x**2 +x -6
    f2 = lambda x: x*0
    fig = plt.figure(figsize=(5,8)) # IT IS HERE THAT WE SPECIFY THE FIGSIZE
    ax = fig.add_subplot(111)
    ax.plot(x, f1(x))
    ax.plot(x, f2(x),'black')
    ax.set_ylim([-10,10])
    ax.set_xlim([-5,5])
    plt.show()
"
5900,8588,numpy replace negative values in array,"In [4]: a[a < 0] = 0

In [5]: a
Out[5]: array([1, 2, 3, 0, 5])
"
39014,866,Keystroke event in Python,"from PyQt4 import QtCore, QtGui

class Window(QtGui.QMainWindow):
    def __init__(self):
        QtGui.QMainWindow.__init__(self)
        menu = self.menuBar().addMenu('&File')
        action = menu.addAction('&Open')
        action.setShortcut(QtGui.QKeySequence('Ctrl+F'))
        action.triggered.connect(self.handleFind)
        shortcut = QtGui.QShortcut(QtGui.QKeySequence('F3'), self)
        shortcut.activated.connect(self.handleFind)
        label = QtGui.QLabel(self)
        label.setText('<center>Press Ctrl+F or F3<center>')
        self.setCentralWidget(label)

    def handleFind(self):
        reply = QtGui.QMessageBox.question(
            self, 'Message', 'Find Dialog',
            QtGui.QMessageBox.Yes | QtGui.QMessageBox.No)
        if reply == QtGui.QMessageBox.Yes:
            print('Yes')
        else:
            print('No')

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.setGeometry(500, 300, 300, 200)
    window.show()
    sys.exit(app.exec_())
"
1469,65581,Tokenize a command string,">>> x='command "". / * or any other char like this"" some_param=""string param"" some_param2=50'
>>>
>>> re.findall('\w+\=\d+|\w+\=""[^""]+""|""[^""]+""|\w+',x)
['command', '"". / * or any other char like this""', 'some_param=""string param""', 'some_param2=50']
>>>
"
23387,76175,list comprenhension using two list,"C = [ A[x] for x in range(len(A)) if B[x] ]
"
17196,25230,Where is the .idlerc folder for Python IDLE on Mac?,"import os, sys

def GetUserCfgDir():
    """"""Return a filesystem directory for storing user config files.

    Creates it if required.
    """"""
    cfgDir = '.idlerc'
    userDir = os.path.expanduser('~')
    if userDir != '~': # expanduser() found user home dir
        if not os.path.exists(userDir):
            warn = ('\n Warning: os.path.expanduser(""~"") points to\n ' +
                    userDir + ',\n but the path does not exist.')
            try:
                print(warn, file=sys.stderr)
            except OSError:
                pass
            userDir = '~'
    if userDir == ""~"": # still no path to home!
        # traditionally IDLE has defaulted to os.getcwd(), is this adequate?
        userDir = os.getcwd()
    userDir = os.path.join(userDir, cfgDir)
    if not os.path.exists(userDir):
        try:
            os.mkdir(userDir)
        except OSError:
            warn = ('\n Warning: unable to create user config directory\n' +
                    userDir + '\n Check path and permissions.\n Exiting!\n')
            print(warn, file=sys.stderr)
            raise SystemExit
    # TODO continue without userDIr instead of exit
    return userDir

print(GetUserCfgDir())
"
18926,83444,Learning Python: Changing value in list based on condition,"def _replaceitem(x):
    if x == '?':
        return 'i'
    elif x == 'x':
       return 10
    else:
        return x

a = map(_replaceitem, a)
"
17776,41771,How To Deal With Un-Format Json Data In Python?,"import re

a_pattern = re.compile(""query\:(.+?)\,"")
re.findall(a_pattern, 'query:text_you_want_to_extract,')
"
6853,14848,Getting HTML to linebreak in django admin's display,"class PurchaseOrder(models.Model):
    product = models.ManyToManyField('Product', null =True)

    def get_products(self):
        return ""<br />"".join([p.products for p in self.product.all()])
    get_products.allow_tags = True
"
513,10378,How do I repeat a function but get it to return different values on each repetition? (Python),"for _ in range(10000):
    theDeck = MakeDeck()
    playgame(theDeck)
"
26263,8589,"python, tailer and logrotate","for line in tailer.follow(open('test.txt')):
    print line
"
32096,63630,split input into lines instead of limiting lines,"user_input = raw_input(""prompt>"")
print 'admin {'
for line in user_input.split('|'):
    print '""{0}"";'.format(line.strip())
print '}'
"
31462,84688,How to make an item print three times then start a new row while keeping the name of user inputs,"num_times = int(input('How many times should display HB '))

for i in range(num_times):
    print('HB ', end='')
    if (i + 1)%3 == 0:
        print('\n')
"
24008,73422,"Detect Application layer protocols, python?",">>> import socket
>>> socket.getservbyport(80)
'http'
>>> socket.getservbyport(21)
'ftp'
>>> socket.getservbyport(53, 'udp')
'domain'
"
12335,16723,Why is it so much slower to export my data to .xlsx than to .xls or .csv?,"df.to_excel('file.xlsx', sheet_name='Sheet1', engine='xlsxwriter')
"
5815,26484,title() method on string with non-valid ASCII,"name = 'KRÃ¶Ger'
name = ' '.join(name[0].upper() + name[1:].lower() for n in name.split())
print name
>>KrÃ¶ger
"
23153,63667,Efficiently execute mathematical Python expression in C++ many,"PyObject* main = PyImport_AddModule(""__main__"");
PyObject* globalDict = PyModule_GetDict(main);
PyCodeObject* code = (PyCodeObject*) Py_CompileString(""a + b"", ""My Eqn"", Py_eval_input);
for (millions of values in input) {
    PyObject* localDict = PyDict_New();
    PyObject* oA = PyFloat_FromDouble(a);  // 'a' from input
    PyObject* oB = PyFloat_FromDouble(b);  // 'b' from input
    PyDict_SetItemString(localDict, ""a"", oA);
    PyDict_SetItemString(localDict, ""b"", oB);
    PyObject* pyRes = PyEval_EvalCode(code, globalDict, localDict);
    r = PyFloat_AsDouble(pyRes);
    // put r in output array

    Py_DECREF(pyRes);
    Py_DECREF(localDict)
}
Py_DECREF(code);
"
29878,81809,"DJANGO translation - Translate models including ""slugs"" with django-datatrans","from datatrans.models import KeyValue
from datatrans.utils import get_current_language, get_default_language

digest = KeyValue.objects.get(value=slug_from_url, language=get_current_language()).digest
value = KeyValue.objects.get(digest=digest, language=get_default_language()).value

# value now contains 'hello'
myobject = MyObject.objects.get(slug=value)
"
22471,1684,What is the most pythonic way to iterate over a list until a condition is met?,"values = [0.1, 2.9, 1.4, 5.7, 9.2, 3.8]

from itertools import takewhile

print(sum(1 for _ in takewhile(lambda x: x< 5,values)))
"
24767,53558,Unzip buffer with Python?,"import zipfile
import io

buffer = b'PK\x03\x04\n\x00\x00\x00\x00\x00\n\\\x88Gzzo\xed\x03\x00\x00\x00\x03\x00\x00\x00\x07\x00\x1c\x00foo.txtUT\t\x00\x03$\x14gV(\x14gVux\x0b\x00\x01\x041\x04\x00\x00\x041\x04\x00\x00hi\nPK\x01\x02\x1e\x03\n\x00\x00\x00\x00\x00\n\\\x88Gzzo\xed\x03\x00\x00\x00\x03\x00\x00\x00\x07\x00\x18\x00\x00\x00\x00\x00\x01\x00\x00\x00\xb4\x81\x00\x00\x00\x00foo.txtUT\x05\x00\x03$\x14gVux\x0b\x00\x01\x041\x04\x00\x00\x041\x04\x00\x00PK\x05\x06\x00\x00\x00\x00\x01\x00\x01\x00M\x00\x00\x00D\x00\x00\x00\x00\x00'

z = zipfile.ZipFile(io.BytesIO(buffer))

# The following three lines are alternatives. Use one of them
# according to your need:
foo = z.read('foo.txt')        # Reads the data from ""foo.txt""
foo2 = z.read(z.infolist()[0]) # Reads the data from the first file
z.extractall()                 # Copies foo.txt to the filesystem

z.close()


print foo
print foo2
"
28392,21782,platform-independent time calculation,"import timeit

timeit.default_timer() - 5
"
35033,81612,how to get values from a graph in a dashboard in grafana V 2.0,"import requests
response = requests.get('http://your.graphite.host.com/render?target=queue.prod.high.total_queues&format=json')
data = response.json()
"
25279,10350,Print executed command for Python subprocess.Popen,"import shlex
import subprocess

def filter_history(old, new, name, repoPath):
    """"""Change author info
    """"""
    # http://help.github.com/change-author-info/
    # http://stackoverflow.com/a/3880493/190597
    command = """"""git filter-branch -f --env-filter '
        an=""$GIT_AUTHOR_NAME""
        am=""$GIT_AUTHOR_EMAIL""
        cn=""$GIT_COMMITTER_NAME""
        cm=""$GIT_COMMITTER_EMAIL""

        if [[ ""$GIT_COMMITTER_NAME"" = ""{old}"" ]]
        then
            cn=""{name}""
            cm=""{new}""
        fi

        if [[ ""$GIT_AUTHOR_NAME"" = ""{old}"" ]]
        then
            an=""{name}""
            am=""{new}""
        fi

        export GIT_AUTHOR_NAME=""$an""
        export GIT_AUTHOR_EMAIL=""$am""
        export GIT_COMMITTER_NAME=""$cn""
        export GIT_COMMITTER_EMAIL=""$cm""
      '
      """""".format(old = old, new = new, name = name)

    process = subprocess.Popen(
        shlex.split(command),
        cwd = os.path.dirname(repoPath))
    process.communicate()
"
4286,73374,"Sublime Text plugin, get line and column from selection","startrow, startcol = view.rowcol(r.a)
endrow, endcol = view.rowcol(r.b)

{
    'start': {'line': startrow, 'col': startcol},
    'end': {'line': endrow, 'col': endcol}
}
"
23890,6701,Python coding style - multiple return statements,"def variant1a(node_name, graph):
    """"""Include a docstring, too!""""""
    for node in graph.get_nodes():
        if node.get_name() == node_name:
            return node, graph
    return create_node(node_name, graph)
"
35408,60549,How do I fix a sliding window program that does not place data in all windows?,"inputFileName = ""sample.txt""

import itertools
import linecache

def sliding_window(window_size, step_size, lastwindow_start):
    for i in xrange(0, lastwindow_start, step_size):
        yield (i, i + window_size)

def PiCrop(window_size, step_size):

f = open(inputFileName, 'r')

first_line = f.readline().split()

Total_Pi_Digits = int(first_line[0])

lastwindow_start = Total_Pi_Digits-(Total_Pi_Digits%window_size)

lastcounter = (Total_Pi_Digits//window_size)*(window_size/step_size)

flags = [False for i in range(lastcounter)]

first_line[0] = str(window_size)
second_line = f.readline().split()
offset = int(round(float(second_line[0].strip('\n'))))
first_line = "" "".join(first_line)

f. close()

with open(inputFileName, 'r') as f:
    header = f.readline()
    data = [line.strip().split(',') for line in f.readlines()]

    for counter, window in enumerate(sliding_window(window_size,step_size,lastwindow_start)):
        chunk = data[window[0]:window[1]]

        with open('PiCrop_{}.txt'.format(counter), 'w') as output:

            if (flags[counter] == False):
                flags[counter] = True

                headerline = float(linecache.getline(inputFileName, window[1]+1)) - offset
                output.write(str(window_size) + "" "" + str(""{0:.4f}"".format(headerline)) + "" "" + 'L' + '\n')

            for item in chunk:
                newline = str(""{0:.4f}"".format(float(str(item).translate(None, ""[]'""))-offset))
                output.write(str(newline) + '\n')

PiCrop(1000,500)
"
10157,1528,Python hex decoding shows wrong result for special charters,">>> import codecs
>>> codecs.decode(""5469eb73746f2026204b53484d5220666561742e205661737379"", ""hex"")
b'Ti\xebsto & KSHMR feat. Vassy'
>>> _.decode('latin1')
'TiÃ«sto & KSHMR feat. Vassy'
"
7335,63107,Scrapy view returns a blank page,"scrapy view http://www.diseasesdatabase.com/ -s USER_AGENT=""Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.130 Safari/537.36""
"
11353,38383,Efficient large dicts of dicts to represent M:M relationships in Python,"class MM:
    def __init__(self):
        self._a = {} # Bs for each A
        self._b = {} # As for each B
        self._ab = {}
"
6597,61411,"Python combination of 2 lists (1 repeat, 1 non-repeat)","from itertools import chain
from itertools import combinations
# Huge name!
from itertools import combinations_with_replacement as cwr
from itertools import starmap
from itertools import product

from operator import add

def _weird_combinations(rep, no_rep, n_from_rep, n_from_norep):
    return starmap(add, product(cwr(rep, n_from_rep),
                                combinations(no_rep, n_from_norep)))

def weird_combinations(rep, no_rep, n):
    rep, no_rep = list(rep), list(no_rep)

    # Allow Nones in the output to represent drawing less than n elements.
    # If either input has None in it, this will be confusing.
    rep.append(None)

    # We can't draw more elements from no_rep than it has.
    # However, we can draw as many from rep as we want.
    least_from_rep = max(0, n-len(no_rep))
    return chain.from_iterable(
            _weird_combinations(rep, no_rep, n_from_rep, n-n_from_rep)
            for n_from_rep in xrange(least_from_rep, n+1))
"
1648,61424,Specify variable as a value for starts with regex operator '^',"NAT_acls = parse.find_objects(r""^{}"".format(re.escape(acl_name)))
"
21989,64967,Django: follow relations backwards,"galleries = Galleries.objects.get(id=1)
values = galleries.gallery_type.values_set.filter(language='language')
"
10457,32436,Python dynamic attribute value bind to method,"setattr(
        self,
        user_method,
        lambda call=call: self.master.query(call)
        )
"
4677,66557,combining strings of n length in a list python,"def nexthigher(n):
    for p in permutations(sorted(str(n))):
        i = int("""".join(p))
        if i > n:
            return i
"
28476,8709,Python: looping raw input,"name = None
while not name:
    name = raw_input(""Hello, please enter your name?: "")
    if name:
        print ""Hello %s I am soandso"" % name
"
30624,42385,Iterating over consecutive sublists in Python,"def iter_sublists(l):
    n = len(l)+1
    for i in xrange(n):
        for j in xrange(i+1, n):
            yield l[i:j]

>>> print list(iter_sublists([1,2,3]))
[[1], [1, 2], [1, 2, 3], [2], [2, 3], [3]]
"
4722,51381,getting output ifft at a different resolution,"import numpy as np
import matplotlib.pyplot as plt

y = np.sin(np.linspace(0, 2*np.pi, 32, endpoint=False))

f = np.fft.fft(y)
n = len(f)
f_ = np.concatenate((f[0:(n+1)//2],
                     np.zeros(n//2),
                     [] if n%2 != 0 else f[(n+1)//2:(n+3)//2],
                     np.zeros(n//2),
                     f[(n+3)//2:]))
y_ = np.fft.ifft(f_)
plt.plot(y, 'ro')
plt.plot(y_, 'bo')
plt.show()
"
12985,57230,How to find out the number of CPUs using python,"import os
import re
import subprocess


def available_cpu_count():
    """""" Number of available virtual or physical CPUs on this system, i.e.
    user/real as output by time(1) when called with an optimally scaling
    userspace-only program""""""

    # cpuset
    # cpuset may restrict the number of *available* processors
    try:
        m = re.search(r'(?m)^Cpus_allowed:\s*(.*)$',
                      open('/proc/self/status').read())
        if m:
            res = bin(int(m.group(1).replace(',', ''), 16)).count('1')
            if res > 0:
                return res
    except IOError:
        pass

    # Python 2.6+
    try:
        import multiprocessing
        return multiprocessing.cpu_count()
    except (ImportError, NotImplementedError):
        pass

    # http://code.google.com/p/psutil/
    try:
        import psutil
        return psutil.cpu_count()   # psutil.NUM_CPUS on old versions
    except (ImportError, AttributeError):
        pass

    # POSIX
    try:
        res = int(os.sysconf('SC_NPROCESSORS_ONLN'))

        if res > 0:
            return res
    except (AttributeError, ValueError):
        pass

    # Windows
    try:
        res = int(os.environ['NUMBER_OF_PROCESSORS'])

        if res > 0:
            return res
    except (KeyError, ValueError):
        pass

    # jython
    try:
        from java.lang import Runtime
        runtime = Runtime.getRuntime()
        res = runtime.availableProcessors()
        if res > 0:
            return res
    except ImportError:
        pass

    # BSD
    try:
        sysctl = subprocess.Popen(['sysctl', '-n', 'hw.ncpu'],
                                  stdout=subprocess.PIPE)
        scStdout = sysctl.communicate()[0]
        res = int(scStdout)

        if res > 0:
            return res
    except (OSError, ValueError):
        pass

    # Linux
    try:
        res = open('/proc/cpuinfo').read().count('processor\t:')

        if res > 0:
            return res
    except IOError:
        pass

    # Solaris
    try:
        pseudoDevices = os.listdir('/devices/pseudo/')
        res = 0
        for pd in pseudoDevices:
            if re.match(r'^cpuid@[0-9]+$', pd):
                res += 1

        if res > 0:
            return res
    except OSError:
        pass

    # Other UNIXes (heuristic)
    try:
        try:
            dmesg = open('/var/run/dmesg.boot').read()
        except IOError:
            dmesgProcess = subprocess.Popen(['dmesg'], stdout=subprocess.PIPE)
            dmesg = dmesgProcess.communicate()[0]

        res = 0
        while '\ncpu' + str(res) + ':' in dmesg:
            res += 1

        if res > 0:
            return res
    except OSError:
        pass

    raise Exception('Can not determine number of CPUs on this system')
"
27647,59991,"How do I find the name of the file that is the importer, within the imported file?","import traceback
"
10379,35648,"How do you use map(reverse, ITERABLE) with arguments to reverse?","[reverse(page, args=args) for page, args in ITERABLE]
"
31449,17762,Seeding graph generator in python-igarph,"In [1]: import random
In [2]: random.seed(1234)
In [3]: g=Graph.Watts_Strogatz(1, 100, 2, 0.25)
In [4]: random.seed(1234)
In [5]: g2=Graph.Watts_Strogatz(1, 100, 2, 0.25)
In [6]: g.get_edgelist() == g2.get_edgelist()
Out[6]:  True
"
19374,60959,Python - how do i make gtk.button as array/lists? so that via index it can be later accessible,"import sys,os
import pygtk, gtk, gobject

class GTK_Main:
  def __init__(self):
    """""" Window """"""
    button_rc = """"""
    style ""deButton"" {
      # Default - Yellow
      bg[NORMAL] = ""yellow""
      fg[NORMAL] = ""#000000""

      # Mouse-Over - Blue
      fg[PRELIGHT] = ""blue""
      bg[PRELIGHT] = ""#000000""

      # Click - RED
      bg[ACTIVE] = ""red""
      fg[ACTIVE] = ""#000000""

    }
    widget ""*.deButton"" style ""deButton""
    """"""

    window = gtk.Window(gtk.WINDOW_TOPLEVEL)
    window.set_title(""Test"")
    window.set_default_size(100, 100)
    window.connect(""destroy"", gtk.main_quit, ""WM destroy"")
    gtk.rc_parse_string(button_rc)

    hbox_eq = gtk.HBox()

    buttonlist = []

    for i in [1,2,3,4,5,6,7,8,9]:
      b =  gtk.Button( str(i) )

      b.set_name(""deButton"")
      buttonlist.append(b)
      hbox_eq.pack_start(b, True, True, 0)


    for button in buttonlist:
      print button.get_label()


    window.add(hbox_eq)
    window.show_all()

  def exit(self, widget, data=None):
    gtk.main_quit()


GTK_Main()
gtk.gdk.threads_init()
gtk.main()
"
39055,50936,sparse vector in python?,"def convertVector(numbers):
    d = {}
    for k, c in enumerate(numbers):
        if c:
            d[k] = c  
    return d

print convertVector([1, 0, 0, 2, 0, 0, 0, 3, 0, 0, 0, 0, 4])
print convertVector([1, 0, 1 , 0, 2, 0, 1, 0, 0, 1, 0])
print convertVector([0, 0, 0, 0, 0])
"
15434,2694,Python - Convert date to ISO 8601,"import dateutil.parser as parser
text = 'Thu, 16 Dec 2010 12:14:05 +0000'
date = (parser.parse(text))
print(date.isoformat())
# 2010-12-16T12:14:05+00:00
"
29210,1942,time and memory lambda apply,"In [8]: df = DataFrame(dict(date = Timestamp('20140228'), hour = np.random.randint(0,50,size=1000000)))

In [9]: df.shape
Out[9]: (1000000, 2)

In [10]: %timeit df['date'] + df['hour'].astype('timedelta64[h]').astype('timedelta64[ns]')
1 loops, best of 3: 255 ms per loop

In [11]: (df['date'] + df['hour'].astype('timedelta64[h]').astype('timedelta64[ns]')).head()
Out[11]: 
0   2014-03-01 03:00:00
1   2014-02-28 23:00:00
2   2014-03-01 06:00:00
3   2014-03-01 06:00:00
4   2014-02-28 15:00:00
dtype: datetime64[ns]
"
7974,21271,Filtering out conditioned arrays from a matrix,"def arrays_with_differences(arr, x):
    if x > len(arr):
        return []

    if len(arr) == 0:
        return [[]]

    smallColl1 = arrays_with_differences(arr[:len(arr)-1], x)
    smallColl2 = arrays_with_differences(arr[:len(arr)-1], x-1)

    last = arr[len(arr)-1]
    altLast1 = (last + 1) % 3
    altLast2 = (last + 2) % 3

    result = [smallArr + [last] for smallArr in smallColl1]
    result.extend([smallArr + [altLast1] for smallArr in smallColl2])
    result.extend([smallArr + [altLast2] for smallArr in smallColl2])
    return result

result = arrays_with_differences([1,0,1,0,1,1,1,1,1,1,1,1,1], 4)
print(len(result))
"
20743,25794,From mouse coordinates to world coordinates through glUnproject,"depth = glReadPixels(self.mouseX, self.height()-self.mouseY, 1, 1, GL_DEPTH_COMPONENT, GL_FLOAT)
z = 2*depth -1

mouseWorld = (self.viewport*self.matProj*self.matView*self.matModel).I*np.matrix([[self.mouseX, self.mouseY, z, 1]]).T
"
29924,58114,How to get all values with the same key in an immut. dict?,"immutable_dict_obj.getlist(""course"")
"
27590,60469,python: search and browse messages in the queue,">>> import Queue
>>> q = Queue.Queue()
>>> q.put(1)
>>> q.put(2)
>>> with q.mutex:
...     for item in q.queue:
...             print item
... 
1
2
>>> q.get()
1
>>> q.get()
2
"
6777,32022,Signal m2m_changed never triggered,"def m2m_changed_labs(sender, **kwargs):  # notice sender instead of *args
    print ""signal received""
"
32136,33379,Pass statement if previous magnet URL is the same,"old = None
while True:
    var = s.recv(30)
    if var != old:
        old = var
        url = ""magnet://myhost.com/{0}"".format(var)
        os.startfile(url)
"
7964,83655,Selenium find_elements_by_css_selector returns an empty list,"from selenium import webdriver
from selenium.webdriver.common.keys import Keys

driver = webdriver.Firefox()
driver.get(""http://udemycoupon.discountsglobal.com/coupon-category/free-2/"")

#select by css
#try *
css_lnks = [i.get_attribute('href') for i in driver.find_elements_by_css_selector('[id*=coupon-link]')]
#or try ^
#css_lnks = [i.get_attribute('href') for i in driver.find_elements_by_css_selector('[id^=coupon-link]')]

#select by xpath
xpth_lnks = [i.get_attribute('href') for i in driver.find_elements_by_xpath(""//a[contains(@id,'coupon-link-')]"")]

print xpth_lnks
print css_lnks
"
20941,15658,How can I return HTTP status code 204 from a Django view?,"return HttpResponse(status=204)
"
17824,37874,convert number to formatted string in python with prefix 0s,"format(number, '03')
"
36604,40206,multi threaded crawler in python,"import urllib.request, threading
from queue import Queue
from bs4 import BeautifulSoup
from sys import exit
from a3_3 import store_to_db

class a3_5:

    __url_q = Queue(100)
    __html_q = Queue()
    __data_q = Queue()
    __visited_urls=[]

    def gethtml(self,url):
        try:
            req=urllib.request.Request(url)
            html=urllib.request.urlopen(req).read()
            self.__html_q.put(html)
            pars=urlparse(url)
        except urllib.error.URLError as e:
            print(e.reason+':'+url)
        except:
            print(""invalid: "" + url)

    def mine_thread(self):
        while True:
            if not self.__html_q.empty():
                soup = BeautifulSoup(self.__html_q.get(),""html.parser"")
                for a in soup.find_all('a', href=True):
                    link=a.get('href')
                    """"""if not link.startswith('www'):
                        link=self.__prfx+link""""""
                    if link not in self.__visited_urls:
                        self.__url_q.put(link)
                        self.__data_q.put(link)
            else:
                break

    def store(self):
        while True:
            if not self.__data_q.empty():
                cont=self.__data_q.get()
                print (cont)
            else:
                break

    def download_thread(self):
        while True:
            if not self.__url_q.empty():
                self.gethtml(self.__url_q.get())
                self.__url_q.task_done()

    def op(self,*urls):
        for x in range(25):
            d = threading.Thread(target=self.download_thread)
            d.setDaemon(True)
            d.start()
        for url in urls:
            self.__url_q.put(url)
        self.__url_q.join()
        self.mine_thread()
        self.store()

if __name__ == '__main__':
    urls=['https://en.wikipedia.org/wiki/Bajirao']#,'https://en.wikipedia.org/wiki/Malharrao_Holkar','https://en.wikipedia.org/wiki/Ranoji_Scindia']
    a=a3_5()
    a.op(*urls)
"
14213,51723,Python regex catastrophic backtracking,"etalone = ""String to find""
etalone_length = len(etalone)
counter = 0
for symbol in your_line:
    if symbol == etalone[counter]:
        counter += 1
        if counter == etalone_length:
            print(""String matches"")
            break
    elif symbol != "" "" and sybmol != ""#"":
        # Bad char found
        print(""Does not match!"")
else:  # exited 'for' before full etalone matched
    print(""Does not match!"")
"
35094,77970,How to set file name as date in command prompt,"import datetime
path = r'C:\soa11g\New\abc_%s.zip' % datetime.datetime.now().strftime('%d%m%Y')
connect('weblogic','welcome','t3://localhost:7001')
exportMetadata(application='soa-infra', server='AdminServer',toLocation=path, docs='/**')
exit()
"
34018,73700,Create a word replacement dictionary from list of tuples,">>> word_dict = {'et': ['horse','dog'], 'ft': ['horses','dogs']}
>>> dict(word_dict.values())
{'horses': 'dogs', 'horse': 'dog'}
"
31914,47222,writing output of python cgi.print_environ() and cgi.print_form() to file,"f = open('file', 'w')
old = sys.stdout
sys.stdout = f
cgi.print_environ()
f.flush()
sys.stdout = old
f.close()
"
36852,55947,How to stop SIGINT being passed to subprocess in python?,"import sys
import tty

# Back up previous tty settings
stdin_fileno = sys.stdin.fileno()
old_ttyattr = tty.tcgetattr(stdin_fileno)

try:
    print 'Reassigning ctrl-c to ctrl-x'

    # Enter raw mode on local tty
    tty.setraw(stdin_fileno)
    raw_ta = tty.tcgetattr(stdin_fileno)
    raw_ta[tty.LFLAG] |= tty.ISIG
    raw_ta[tty.OFLAG] |= tty.OPOST | tty.ONLCR

    # ^X is the new ^C, set this to 0 to disable it entirely
    raw_ta[tty.CC][tty.VINTR] = '\x18'  

    # Set raw tty as active tty
    tty.tcsetattr(stdin_fileno, tty.TCSANOW, raw_ta)

    # Dummy program loop
    import time
    for _ in range(5):
        print 'doing stuff'
        time.sleep(1)

finally:
    print 'Resetting ctrl-c'
    # Restore previous tty no matter what
    tty.tcsetattr(stdin_fileno, tty.TCSANOW, old_ttyattr)
"
2708,75229,"Python Regex Find Pattern, Remove Rest of String, Write new String to File","import csv

with open('input_file.txt') as f:
   reader = csv.reader(f)
   names = [line[0] for line in reader]

with open('new_file.txt','w') as f:
   for name in names:
      f.write('{0}\n'.format(name))
"
2878,41585,How does reduce function work?,"lst_fact = map(fact, lst)
reduce(operator.mul, lst_fact)
"
14766,58314,"Geting data from table with Scrapy, different row order per page","def productpage(self, response):
    specs = Selector(response).xpath('//*[@id=""Specs""]/fieldset')
    itemdict = {}
    for i in specs:
        test = i.xpath('dl')
        for t in test:
            itemdict[t.xpath('dt/text()').extract()[0]] = t.xpath('dd/text()').extract()[0]
        item = response.meta['item']
    item['make'] = itemdict['Brand']
    yield item
"
4901,8863,How to inspect Python objects in similar way like JS objects in Chrome dev console?,"from pprint import pprint
from inspect import getmembers

class X:
    def __init__(self, x, y):
        self.x = x
        self.y = y

x = X([42] * 5, [True] * 15)

pprint(getmembers(x))
pprint(vars(x))
"
22715,31414,Bokeh plots won't draw rectangle glyphs,"import bokeh
import bokeh.plotting as bplot

bplot.reset_output()
bplot.output_notebook()
bplot.figure(x_range=[0,1],
             y_range=[0,1])
bplot.rect([0.5], [0.5], [0.2], [0.2])
bplot.show()
"
35649,35587,Global variables in Python across all modules,"import global_variables

global_variables.name = 'Inigo Montoya'
"
20037,71382,Python script to exe on python 3.5,"pip install pyinstaller
"
31200,4213,How do alter a pandas dataframe column with foreach?,"AmpDataFrame['Sample'] = (AmpDataFrame['Sample'].str.split(' ').str[0].astype(float) * CurrentShunt_mVtoAmp).astype(str)
"
17721,21305,Django: Update order attribute for objects in a queryset,"update_ordering(model, order):
    """""" order is in the form [id,id,id,id] for example: [8,4,5,1,3] """"""
    original_order = model.objects.value_list('id', flat=True).order_by('order')
    order = filter( lambda x: x[1]!=x[2], zip(xrange(len(order)), order, original_order))
    for i in order:
        model.objects.filter(id=i[1]).update(order=i[0])
"
2936,51254,print a list of numbers on 6 columns python,"with open('line.dat')) as f:
    line = f.read().split()
    print(""\n"".join(["" "".join(line[i:i+6]) for i in xrange(0, len(line)-5, 6)]))
"
32059,2121,"Python, protocol buffers, and getting nested messages and repeated fields to work","ms = (time.time() - start)*1000
bid_response = realtime_bidding_pb2.BidResponse()
bid_response.processing_time_ms = int(ms)
ad = bid_response.ad.add()
ad.html_snippet = """"""<img src='http://cdn.test.com/test.gif' />""""""
ad.click_through_url = """"""test.com""""""

adslot = ad.adslot.add()
adslot.id = adslots_id[0]             
adslot.max_cpm_micros=150000000
"
33183,50640,Numpy arrays with elements as indices to other objects,">>> from numpy import array, shape, zeros
>>> cabbage = array([[0,3,2],[3,2,1],[3,1,0]])
>>> cucumber=array([(0,100,0),(0,150,0),(0,200,0),(0,255,0)])
>>> cucumber[cabbage]
array([[[  0, 100,   0],
        [  0, 255,   0],
        [  0, 200,   0]],

       [[  0, 255,   0],
        [  0, 200,   0],
        [  0, 150,   0]],

       [[  0, 255,   0],
        [  0, 150,   0],
        [  0, 100,   0]]])
"
8304,85071,Django query expression for calculated fields that require conditions and casting,"from django.db.models import Case, F, Sum, When

Stats.objects.values('product').annotate(
    tot_impressions=Sum('impressions'), 
    tot_clicks=Sum('clicks')
).annotate(
    ctr=Case(When(tot_impressions=0, then=None),  # or other value, e.g. then=0
             # 1.0*... is to get float in SQL
             default=1.0*F('tot_clicks')/F('tot_impressions'),
             output_field=models.FloatField())
).order_by('ctr')
"
50,78510,How to remove string value from column in pandas dataframe,"df['Column2'] = df.Column2.str.replace('b,?' , '')

Out[238]:
Column1 Column2
0   a   a,c
1   y   n,m
2   d   n,n,m
3   d   x
"
38471,15745,Python - Passing Function Arguments,"class Node(object):
    def __init__(self, me, dists):
        super(Node,self).__init__()
        self.me = me
        self.dists = dists
        _inf = Network.INF
        self.neighbors = sorted((i for i,dist in enumerate(self.dists) if i!=me and dist!=_inf), key=dists.__getitem__)
        self.clear()

    def clear(self):
        self.dist = None
        self.prev = None

    def nearestNeighbor(self):
        try:
            return self.neighbors[0]
        except IndexError:
            return None

    def __str__(self):
        return ""{0}: {1}"".format(self.me, self.dists)

class Network(object):
    INF     = 10**6

    @classmethod
    def fromFile(cls, fname, delim=None):
        with open(fname) as inf:
            return cls([[int(dist) for dist in line.split(delim)] for line in inf])

    def __init__(self, distArray):
        super(Network,self).__init__()
        self.nodes = [Node(me,dists) for me,dists in enumerate(distArray)]

    def __str__(self):
        return '\n'.join(self.nodes)

    def floodFill(self, fromNode):
        _nodes = self.nodes
        for n in _nodes:
            n.clear()
        _nodes[fromNode].dist = 0
        # left as an exercise ;-)

    def distances(self):
        return [n.dist for n in self.nodes]

def main():
    nw = Network.fromFile('network.txt', delim=',')
    print(nw)

    nw.floodFill(fromNode=0)
    print(nw.distances())

if __name__==""__main__"":
    main()
"
12359,37355,Python: count occurances of a given char in a string,"""/bin/usr/proga/file.c"".count(""/"")
"
4849,82587,How to get the html dom of a webpage and its frames,"import sys, signal
from PyQt4 import QtGui, QtCore, QtWebKit

class Sp():
  def save(self, ok, frame=None):
    if frame is None:
        print ('main-frame')
        frame = self.webView.page().mainFrame()
    else:
        print('child-frame')
    print('URL: %s' % frame.baseUrl().toString())
    print('METADATA: %s' % frame.metaData())
    print('TAG: %s' % frame.documentElement().tagName())
    print()

  def handleFrameCreated(self, frame):
    frame.loadFinished.connect(lambda: self.save(True, frame=frame))

  def main(self):
    self.webView = QtWebKit.QWebView()
    self.webView.page().frameCreated.connect(self.handleFrameCreated)
    self.webView.page().mainFrame().loadFinished.connect(self.save)
    self.webView.load(QtCore.QUrl(""http://www.w3schools.com/tags/tryit.asp?filename=tryhtml_iframe_scrolling""))

signal.signal(signal.SIGINT, signal.SIG_DFL)
print('Press Crtl+C to quit\n')
app = QtGui.QApplication(sys.argv)
s = Sp()
s.main()
sys.exit(app.exec_())
"
28899,42621,Finding instance of Object type in list,"class A():
    def __init__(self):
        self.a = 0
    def __eq__(self,other): #this overrides the equality check
        if isinstance(other,A):
           return self.a==other.a
    def print(self):
        print(self.a)

l = [0, 0, A(), 0, A(), 0]
print(l.index(A()))#now this should work
print A() in l

a1 = A()
a2 = A()
a1 == a2 #True
a1.a = 2
a1 == a2 #False
a2.a = 2
a1 == a2 #True
a2.a = 5
a1 < a2 #Error we would need to overload __cmp__ or __lt__ methods for this to work
"
1119,7377,Return value while using cProfile,"prof = cProfile.Profile()
retval = prof.runcall(self.method_actual, *args, **kwargs)
prof.dump_stats(datafn)
"
23469,25749,Django ContextList keys,"keys = []
for subcontext in response.context:
  for d in subcontext.dicts:
    for k in d.keys():
      if k not in keys:
        keys.append(k)

print keys
"
13037,1418,how to create a breakpoint to the function sr() of scapy?," sr(IP(dst=""172.20.29.5/30"")/TCP(dport=[21,22,23]),inter=0.5,retry=-2,timeout=1)
"
28852,24523,Implement an interactive shell over ssh in Python using Paramiko?,"import paramiko
import re


class ShellHandler:

    def __init__(self, host, user, psw):
        self.ssh = paramiko.SSHClient()
        self.ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        self.ssh.connect(host, username=user, password=psw, port=22)

        channel = self.ssh.invoke_shell()
        self.stdin = channel.makefile('wb')
        self.stdout = channel.makefile('r')

    def __del__(self):
        self.ssh.close()

    def execute(self, cmd):
        """"""

        :param cmd: the command to be executed on the remote computer
        :examples:  execute('ls')
                    execute('finger')
                    execute('cd folder_name')
        """"""
        cmd = cmd.strip('\n')
        self.stdin.write(cmd + '\n')
        finish = 'end of stdOUT buffer. finished with exit status'
        echo_cmd = 'echo {} $?'.format(finish)
        self.stdin.write(echo_cmd + '\n')
        shin = self.stdin
        self.stdin.flush()

        shout = []
        sherr = []
        exit_status = 0
        for line in self.stdout:
            if str(line).startswith(cmd) or str(line).startswith(echo_cmd):
                # up for now filled with shell junk from stdin
                shout = []
            elif str(line).startswith(finish):
                # our finish command ends with the exit status
                exit_status = int(str(line).rsplit(maxsplit=1)[1])
                if exit_status:
                    # stderr is combined with stdout.
                    # thus, swap sherr with shout in a case of failure.
                    sherr = shout
                    shout = []
                break
            else:
                # get rid of 'coloring and formatting' special characters
                shout.append(re.compile(r'(\x9B|\x1B\[)[0-?]*[ -/]*[@-~]').sub('', line).
                             replace('\b', '').replace('\r', ''))

        # first and last lines of shout/sherr contain a prompt
        if shout and echo_cmd in shout[-1]:
            shout.pop()
        if shout and cmd in shout[0]:
            shout.pop(0)
        if sherr and echo_cmd in sherr[-1]:
            sherr.pop()
        if sherr and cmd in sherr[0]:
            sherr.pop(0)

        return shin, shout, sherr
"
36978,80581,How can I change name of arbitrary columns in pandas df using lambda function?,"os_list = ['osxx', 'centos', 'windowsx']    
df.rename(columns=lambda x: x+'x' if x in os_list else x)
"
13178,78264,In OpenCV can you have a weight per pixel with addWeighted?,"cv::Mat C = A.mul(W1) + B.mul(W2);
"
9727,62486,creating sub-array form a large array based on the first element of the large array,">>> from collections import defaultdict
>>> lst = [['a', '2', '7'], ['b', '2', '9'],['a', '1', '4'],['c', '6', '1'],['b', '9', '9'],['a', '3', '2'],['c', '1', '5'],['b', '3', '7']]
>>> d = defaultdict(list)
>>> for x in lst:
        d[x[0]].append(x[1:])
        #For plain dict this is going to be:
        #d.setdefault(x[0], []).append(x[1:]) 

>>> d['a']
[['2', '7'], ['1', '4'], ['3', '2']]
>>> d['b']
[['2', '9'], ['9', '9'], ['3', '7']]
>>> d['c']
[['6', '1'], ['1', '5']]
"
10008,84722,Why does separating my module into multiple files make it slower?,"upper = str.upper
newlist = []
append = newlist.append
for word in oldlist:
    append(upper(word))
"
28147,56111,How do I create a variable outside a function in Python,"def character_namer():
    return raw_input(""please enter your name: "")

character_name = character_namer()

print character_name
"
10833,17861,How do I return the earliest letter in the alphabet from a choice of letters?,"def mostWantedLetter(text):
    # count how many times each letter occurs
    mwl = {}
    for ch in text.lower():
        if ch.isalpha():
            mwl[ch] = mwl.get(ch, 0) + 1

    # ordered descending by count (highest first) then ascending by letter
    least = min(mwl.items(), key=lambda x:(-x[1], x[0]))

    # return the letter from the least item
    return least[0]
"
14844,22171,How can I remove lines of a file that don't contain a number?,"s = """"""43
       763
       hello
       4903
       world

       2632
       hello 382""""""

p = re.compile(r""\d"")
lines = (line for line in s.splitlines() if p.search(line))
for line in lines:
    print(line)
43
763
4903
2632
hello 382
"
38027,45677,Remove namespace and prefix from xml in python using lxml,"from lxml import etree, objectify

metadata = '/Users/user1/Desktop/Python/metadata.xml'
parser = etree.XMLParser(remove_blank_text=True)
tree = etree.parse(metadata, parser)
root = tree.getroot()

####    
for elem in root.getiterator():
    if not hasattr(elem.tag, 'find'): continue  # (1)
    i = elem.tag.find('}')
    if i >= 0:
        elem.tag = elem.tag[i+1:]
objectify.deannotate(root, cleanup_namespaces=True)
####

tree.write('/Users/user1/Desktop/Python/done.xml',
           pretty_print=True, xml_declaration=True, encoding='UTF-8')
"
9514,43562,How to check whether a jpeg image is color or gray scale using only Python stdlib,"import Image
def is_grey_scale(img_path=""lena.jpg""):
    im = Image.open(img_path).convert('RGB')
    w,h = im.size
    for i in range(w):
        for j in range(h):
            r,g,b = im.getpixel((i,j))
            if r != g != b: return False
    return True
"
7363,9765,Save date time in filename with valid chars,">>> s = time.strftime('%Y-%m-%d-%H-%M-%S')
>>> print s
2012-12-08-14-55-44
"
37177,70809,Spanning tree of directed graph with networkx,"E = set(T.edges())  # optimization
[e for e in G.edges() if e in E or reversed(e) in E]
"
27228,14473,How to get chars that are actually displayed in wx.TextCtrl?,"from win32api import SendMessage
result = SendMessage(self.GetHandle(), EM_POSFROMCHAR, 0, 0)
"
21505,76184,Efficient Python array with 100 million zeros?,"a[i] += 1
"
18487,30417,How to install Python script on Windows?,"try:
    from setuptools import setup
except ImportError:
    from distutils.core import setup

config = {
    'name': 'clitool',
    'author': 'aa',
    'author_email': 'ww',
    'version': '1.0-rc',
    'install_requires': ['nose'],
    'packages': [],    
    'entry_points' : {
        'console_scripts': ['clitool=clitool.cli:main'],
    }
}

setup(**config)
"
30548,61573,Python-requests and Meteor / MongoDB collectionapi update not working,"r = requests.put(url, data=json.dumps(payload), headers=headers)
"
8508,70422,Populate QComboBox on drop down or user click,"class Example(QtGui.QWidget):

    def __init__(self):
        super(Example, self).__init__()


        self.combo = QtGui.QComboBox(self)
        self.combo.installEventFilter(self)
        self.show()

    def eventFilter(self,target,event):
        if target == self.combo and event.type() == QtCore.QEvent.MouseButtonPress:
            print ""Button press""
            self.fillComboBox()

        return False

    def fillComboBox(self):
        self.combo.addItem('foo')
        self.combo.addItem('bar')
"
34789,811,How can I Change My pen tools color?,"from tkinter import *

def chooseColor(event):
    global color #set color to global so it updates in other function
    color = colorchooser.askcolor()

def paint(event):
    #create a line while in this event. use color[1] to get the second element in the color tuple
    canvas.create_line(event.x,event.y,event.x+1,event.y+1, fill=color[1])

tk = Tk()

canvas = Canvas(tk, width=500, height=500)
canvas.pack()

color = tkColorChooser.askcolor() #get initial color, as a tuple

canvas.bind_all(""<Button-3>"", chooseColor)
canvas.bind_all(""<B1-Motion>"", paint)

tk.mainloop()   
"
37175,2861,matplotlib tick labels not working,"import numpy as np
import matplotlib.ticker as mticker
import matplotlib.pyplot as plt
%matplotlib inline

fig, ax = plt.subplots(figsize=(8, 3))
xtickslocs = np.arange(16, 217, step=10)
#ax.plot(x_data, y_data, ...)
ax.xaxis.set_major_locator(mticker.FixedLocator(xtickslocs))
ax.set_xlim(left=-5, right=225) # change this to suite your needs
"
5680,76333,Cannot capture single quote string in Python from Perl,"system(""python"", ""script.py"", $var1, $var2, $var3, $var4, $var5);
"
23752,71424,How to perform cumulative calculations in pandas that restart with each change in date?,">>> df2 = df.set_index('Date and Time')
>>> df2['Volume'] = df2.groupby(pd.TimeGrouper('D'))['Volume'].cumsum()
>>> df2
                           Price  Volume
DateandTime                             
2015-01-01 17:00:00.211  2030.25     342
2015-01-01 17:00:02.456  2030.75     545
2015-01-02 17:00:00.054  2031.00     182
2015-01-02 17:00:25.882  2031.75     431
"
37107,75599,Finding a book's subject using Amazon AWS API,"   <EditorialReviews>
      <EditorialReview>
        <Source>Book Description</Source>
        <Content>Whether you are a small business or a safety manager trying to decide whether or not awards and incentives are right for your operation, the Safety Incentives Answer Book is must reading.
        </Content>
      </EditorialReview>
    </EditorialReviews>
"
24464,24898,Django change password without logging again,"from django.contrib.auth import update_session_auth_hash


def password_change(request):
    if request.method == 'POST':
        form = PasswordChangeForm(user=request.user, data=request.POST)
        if form.is_valid():
            form.save()
            update_session_auth_hash(request, form.user)
    else:
        ...
"
19273,68666,How can I keep an object selected in the outliner after physically deselecting it in the 3d view?,"import maya.cmds as mc

Xsl = (mc.ls (sl=1, sn=1))[0]

def toastFUNC (arg=0):
    mc.animCurveEditor (curveEditor, e=1, lck=1)

mc.window(w=500)
mc.paneLayout( configuration='vertical2', swp=1, ps=[2, 70, 0] )    
mc.frameLayout(w=150, h=100, lv=0)

mc.outlinerEditor(mlc='modelList', slc='modelList', showReferenceNodes=0, showReferenceMembers=0,    showAttributes=1, showSelected=0, highlightActive=1, showAnimCurvesOnly=0, autoExpand=1,
showConnected=1, showDagOnly=0, ignoreDagHierarchy=1, expandConnections=0, showCompounds=0,   showNumericAttrsOnly=0,
autoSelectNewObjects=0, doNotSelectNewObjects=1, transmitFilters=0, showSetMembers=1,    setFilter='defaultSetFilter', lck=1, sec=toastFUNC)

mc.setParent('..')

mc.frameLayout(w=1, h=100, lv=0)
curveEditor = mc.animCurveEditor(mlc='modelList', slc='modelList', dak=1, di=0, dat='off', lck=1)
mc.setParent('..')
mc.showWindow()
"
12478,10119,Float number to inverse order hex?,"struct.pack(""<f"", .5).encode('hex')
"
30177,74596,Lucene: Fastest way to return the document occurance of a phrase?,"TopDocs topDocs = searcher.search(query, filter, 1);
"
32678,14178,Mutable default argument for a Python namedtuple,"def makeNode(val=None, left=None, right=None):
    if right is None:
        val = []
    return Node(val, left, right)
"
18339,80935,Shifting an image in numpy,"non = lambda s: s if s<0 else None
mom = lambda s: max(0,s)

ox, oy = 100, 20

shift_lena = numpy.zeros_like(lena)
shift_lena[mom(oy):non(oy), mom(ox):non(ox)] = lena[mom(-oy):non(-oy), mom(-ox):non(-ox)]
"
11806,897,Save and load browser history for selenium,"from selenium.webdriver.firefox import webdriver


WIKI_PAGE = 'How_I_Met_Your_Mother'

driver = webdriver.WebDriver()
driver.get('https://en.wikipedia.org/wiki')

script = 'history.pushState({}, """", ""%s"")' % WIKI_PAGE
driver.execute_script(script)

driver.get('https://en.wikipedia.org/wiki')
"
13818,31552,"A command-line/API tool for tracking history of tables in a database, does it exist or should I go and develop one?","# on  http://server, initialize and start the remote repository on port 8182 (defaut)
geogig init
geogig serve

# on local, clone the remore repository to your machine
geogig clone http://server:8182 your_repository

cd your_repository/

# on local, import in geogig the data you are working on (Postgis)
geogig pg import --schema public --database your_database --user your_user --password your_pass --table  your_table

# on local, add the local changes
geogig add

# on local, commit your changes
geogig commit -m ""First commit""

# on local, push to the remote repository
geogig push
"
15126,23278,web.py define /x to go to x.html in templates?,"urls = (
    '/(.+)', 'your_handler_class'
)

class your_handler_class:
    def GET(self, page):
        print web.template.render('%s.html' % page)
"
21222,82585,python read files from hard disk and return result depending on the pattern found,"import re
m1 = re.compile(r'.*?\.txt$')
pattern = 'yourpattern'
m2 = re.compile(r'%s' % (pattern))

for file in filter(m1.search, os.listdir(somedir)):
    if m2.search(open(file,'r').read()):
        print file, 'contains', pattern
    else:
        print file, 'does not contain', pattern
"
37766,44504,Get Element value with minidom with Python,"name[0].firstChild.nodeValue
"
11829,68304,How to replace dynamic inheritance with a new class to inherit from in Python?,"OsSpecificClass = MacClass if os.name == 'posix' else WinClass
"
1152,64391,Rounding the duration of two date values,"import datetime

date1 = datetime.date(2000,1,1)
date2 = datetime.date(2099, 12, 31)

delta = date2-date1

print round(delta.days/365.25,0)
"
31130,5216,query in django,"usernames = ['john', 'ivan']
emails = User.objects.filter(username__in=usernames) \
                     .values_list('email', flat=True)
"
31252,55994,Python List Class __contains__ Method Functionality,">>> a = [[]]
>>> b = []
>>> b in a
True
>>> b is a[0]
False
"
16230,66588,"In Python, how to open a file for writing, but do not create it if the file does not exist?","from os.path import exists
if exists(my_file_path):
    my_file = open(my_file_path, 'w+')
"
31887,62152,Printing a python dict without the unicode,"d = {'\x00F\x00a\x00c\x00e\x00b\x00o\x00o\x00k\x00 \x00/\x00 \x00T\x00w\x00i\x00t\x00t\x00e\x00r\x00':
 '\x00F\x00a\x00c\x00e\x00b\x00o\x00o\x00k\x00 \x00/\x00 \x00T\x00w\x00i\x00t\x00t\x00e\x00r\x00'}

for key, value in d.items():
    print (key+"" : ""+value).decode('utf-8')
"
27543,12455,python numpy/scipy curve fitting,"import numpy as np
import matplotlib.pyplot as plt

points = np.array([(1, 1), (2, 4), (3, 1), (9, 3)])
#Â get x and y vectors
x = points[:,0]
y = points[:,1]

# calculate polynomial
z = np.polyfit(x, y, 3)
f = np.poly1d(z)

#Â calculate new x's and y's
x_new = np.linspace(x[0], x[-1], 50)
y_new = f(x_new)

plt.plot(x,y,'o', x_new, y_new)
plt.xlim([x[0]-1, x[-1] + 1 ])
plt.show()
"
23788,12743,Parsing multiple values from a file in Python,"for i, line in enumerate(f, no_of_headers):
    a,b,c = line.strip().split() # splits the line by whitespace
"
31917,70205,Generating random values in python,"both = [ random.randint(0, 500) for i in range(100) ]
odd = [ x for x in both if x % 2 == 1 ]
even = [ x for x in both if x % 2 == 0 ]
"
28397,29976,How do I roll up values to create a list in the cells of a dataframe per id using pandas?,"In [13]:

df.groupby('id')['value'].apply(list).reset_index()
Out[13]:
    id         value
0  100  [a, b, c, d]
1  200     [1, 2, 3]
"
24956,11277,Sublime Editor Plugin remember variable,"class MyCommand(sublime_plugin.TextCommand):
    def __init__(self, view):
        self.view = view # EDIT
        self.thevariable = 'YOUR VALUE'
"
3879,49737,Django Rest Framework viewsets queyset duplicate,"router.register(r'planner_agent', views.PlannerAgentViewSet, base_name='planner_agent')
router.register(r'planner_client', views.PlannerClientViewSet, base_name='planner_client')
"
24989,63876,Complex filters in Django Model,"resultquery = (Q(field1='val11') | Q(field1='val12')) & ...
result = SomeModel.objects.filter(resultquery)
"
2199,48691,Django: Summing values,"from django.db.models import Sum

annotated_projects = Project.objects.all().annotate(cost_sum=Sum('cost__cost'))
for project in annotated_projects:
    print project.title, project.cost_sum
"
26641,80585,Why doesn't this loop display an updated object count every five seconds?,"  from django.db import transaction


  @transaction.autocommit  
  def my_count():     
      while True:
          transaction.commit()
          print ""Number of Things: %d"" % Thing.objects.count()
          time.sleep(5)
"
8081,45738,Using ModelSerializer with joined records,"from rest_framework import serializers

class BlockRepresentationSerializer(serializers.ModelSerializer):
    # Some fields
    name = serializers.SerializerMethodField()

    class Meta:
        model = BlockRepresentation

    def get_name(self, obj):
        if obj.planeable:
            return obj.planeable.name
        return ''
"
17060,81504,Python partial derivatives easy,">>> from sympy import symbols, diff
>>> x, y, z = symbols('x y z', real=True)
>>> f = 4*x*y + x*sin(z) + x**3 + z**8*y
>>> diff(f, x)
4*y + sin(z) + 3*x**2
"
36894,6908,Conditionally concatenating a list of strings with a condition,"sentence = ['this ','is ','are ','a ','sentence']
string = ''.join([i for i in sentence if i != 'are '])
"
21464,24674,Click on random link in webpage using selenium API for python,">>> from selenium import webdriver
>>> from random import randint

>>> driver = webdriver.Firefox()
>>> driver.get('http://www.python.org')

>>> links = driver.find_elements_by_partial_link_text('')
>>> l = links[randint(0, len(links)-1)]
>>> l.click()
"
34257,22690,How to combine a QuerySet and a Dictionary in Django Template?,"mList = myObj.objects.all()
for my_obj in mList:
    my_obj.user = uDict.get(my_obj.C)
"
1437,56785,how to direct python logger to Tkinker's Listbox?,"from logging import Handler, getLogger

class ListboxHandler(Handler):
    def __init__(self, box):
        self._box = box
        Handler.__init__(self)

    def emit(self, record):
        r = self.format(record)
        self._box.insert(0, r)

# quick test:
target = [] # supports insert like Listbox :)
rootLogger = getLogger()
# add handler to the root logger here
# should be done in the config...
rootLogger.addHandler(ListboxHandler(target))
rootLogger.warn('test')
print(target)
"
37706,51184,"python, pandas and importing multiple csv's into a dataframe","import pandas as pd
import glob
import os


path =r'X:\PublicFiles\TradingData\CSV\RealMarkets\Weekly\Futures\Contracts\Corn C'
allFiles = glob.glob(path + ""/*.csv"")  ##'*' means any file name can be grabbed
df = pd.DataFrame()

for file_ in allFiles:
    names = ['Date', 'Open', 'High', 'Low', 'Close', 'Vol', 'OI']
    df_temp = pd.read_csv(file_, index_col = None, names = names)
    df_temp['beforelast'] = 0
    df_temp.iloc[-2,-1] = 1
    df = df.append(df_temp)

df = df.reset_index(drop=True)
"
35897,17134,Feed URL from HTML using Python,"import lxml.html
doc = lxml.html.parse(url_to_site)
feeds = doc.xpath('//link[@type=""application/rss+xml""]/@href') # list feed urls
"
35953,63589,A python script that activates the virtualenv and then runs another python script?,"@echo off
cmd /k ""cd /d C:\Users\Admin\Desktop\venv\Scripts & activate & cd /d    C:\Users\Admin\Desktop\helloworld & python manage.py runserver""
"
12724,37281,How do I get only the first closed caption from a video file?,"import subprocess
process = subprocess.Popen(
    ['ccextractorwin.exe', '-stdout', '-quiet', 'myvideo.mpg'],
    stdout=subprocess.PIPE, stderr=subprocess.STDOUT
)
all_output = []
while True:
    out_line = process.stdout.readline()
    all_output.append(out_line)  # Add this line to the list of lines to keep
    if out_line == u'\n':  # We've hit an empty line, or whatever else you deem like a good stopping point
        break  # the while loop

# Now, kill the process dead in its tracks.
# This probably isn't great for open file handles, but whatever
process.kill()
"
17173,58824,Determine current Mac Chrome web page using Python (py-appscript),"appscript.app(""Google Chrome"").windows.active_tab.URL()
"
11215,77763,Video meta data using python,"$ hachoir-metadata pacte_des_gnous.avi
Common:
- Duration: 4 min 25 sec
- Comment: Has audio/video index (248.9 KB)
- MIME type: video/x-msvideo
- Endian: Little endian
Video stream:
- Image width: 600
- Image height: 480
- Bits/pixel: 24
- Compression: DivX v4 (fourcc:""divx"")
- Frame rate: 30.0
Audio stream:
- Channel: stereo
- Sample rate: 22.1 KHz
- Compression: MPEG Layer 3
"
15035,83825,Python 2.7 - How to spawn separate Windows consoles for individual subprocess.call() tasks when using threading?,"from time import sleep
import threading
from subprocess import call

def runmodel(arg):
    call(arg, shell=True) # not the addition of shell=True - this is now required as the command line is being passed as a string rather than a list - I could not get the syntax with quotation marks and everything else to work without using a string and shell=True.
    sGlobal.release()

if __name__ == '__main__':    

    n = 6 # maximum number of simultaneous runs
    s = 15 # delay between starts in seconds

    simulations = ['cmd.exe /c start ""NAME"" ""<full file path to model exe>"" -some -flags -here ""<full file path to model control file>""'] # big list of simulations to run in here - each item in list is a string that represents the full command line to run a simulation

    threads = []
    global sGlobal

    sGlobal = threading.Semaphore(n)

    for arg in simulations:
        sGlobal.acquire()
        t = threading.Thread(target=runmodel, args=(arg,))
        threads.append(t)
        t.start()
        sleep(s)

    for t in threads:
        t.join()
"
18206,20449,"Python for Autohotkey style key-combination sniffing, automation?","import pyHook
import pythoncom

def OnKeyboardEvent(event):
    print event.Ascii

hm = pyHook.HookManager()
hm.KeyDown = OnKeyboardEvent
hm.HookKeyboard()

while True:
    pythoncom.PumpMessages()
"
10449,61491,Accepting parameters on urls.py in Django,"beforeSend: function (request) {
   request.setRequestHeader(""X-CSRFToken"",
       $('input[name=""csrfmiddlewaretoken""]').val());
   },
"
22012,50491,Numpy matrix binarization using only one expression,"np.where(a>threshold, upper, lower)
Out[6]: 
array([[0, 1, 1, 1],
       [1, 1, 0, 1],
       [0, 1, 0, 1],
       [1, 0, 0, 1]])
"
22895,54357,Comparing values in two text files,"    class rectangle:
def __init__(self,pos,size):
    self.pos=pos
    self.size=size
def topLeft(self):
    return self.pos
def topRight(self):
    return (self.pos[0]+self.size[0],self.pos[1])
def bottomLeft(self):
    return (self.pos[0],self.pos[1]+self.size[1])
def bottomRight(self):
    return (self.pos[0]+self.size[0],self.pos[1]+self.size[1])
def ares(self):
    return self.size[0]*self.size[1]
"
7820,27436,Python multiple inheritance: Whats wrong doing it dynamically?,"class A(object):
  def __new__(cls):
    class C(cls, B):
      pass
    self = object.__new__(C)
    return self
"
23493,51519,Is there a way to see if two lists are the exact same without looping in python?,">>> a = [1, 2, 3]
>>> b = [1, 2, 3]
>>> a == b
True
"
22620,219,Resample intraday pandas DataFrame without add new days,"In [22]: dates = pd.date_range('01-Jan-2014','11-Jan-2014', freq='T')[0:-1]
    ...: dates = dates[dates.dayofweek < 5]
    ...: s = pd.TimeSeries(np.random.randn(dates.size), dates)
    ...: 

In [23]: s.size
Out[23]: 11520

In [24]: s.groupby(lambda d: d.date()).resample('30min').size
Out[24]: 384

In [25]: s.groupby(lambda d: d.date()).resample('30min')
Out[25]: 
2014-01-01  2014-01-01 00:00:00    0.202943
            2014-01-01 00:30:00   -0.466010
            2014-01-01 01:00:00    0.029175
            2014-01-01 01:30:00   -0.064492
            2014-01-01 02:00:00   -0.113348
            2014-01-01 02:30:00    0.100408
            2014-01-01 03:00:00   -0.036561
            2014-01-01 03:30:00   -0.029578
            2014-01-01 04:00:00   -0.047602
            2014-01-01 04:30:00   -0.073846
            2014-01-01 05:00:00   -0.410143
            2014-01-01 05:30:00    0.143853
            2014-01-01 06:00:00   -0.077783
            2014-01-01 06:30:00   -0.122345
            2014-01-01 07:00:00    0.153003
...
2014-01-10  2014-01-10 16:30:00   -0.107377
            2014-01-10 17:00:00   -0.157420
            2014-01-10 17:30:00    0.201802
            2014-01-10 18:00:00   -0.189018
            2014-01-10 18:30:00   -0.310503
            2014-01-10 19:00:00   -0.086091
            2014-01-10 19:30:00   -0.090800
            2014-01-10 20:00:00   -0.263758
            2014-01-10 20:30:00   -0.036789
            2014-01-10 21:00:00    0.041957
            2014-01-10 21:30:00   -0.192332
            2014-01-10 22:00:00   -0.263690
            2014-01-10 22:30:00   -0.395939
            2014-01-10 23:00:00   -0.171149
            2014-01-10 23:30:00    0.263057
Length: 384

In [26]: np.unique(_25.index.get_level_values(1).minute)
Out[26]: array([ 0, 30])

In [27]: np.unique(_25.index.get_level_values(1).dayofweek)
Out[27]: array([0, 1, 2, 3, 4]) 
"
39396,51068,How to rewrite this pattern with a simpler structure,"def asInt(v): return None if v is None else int(v)

value1 = asInt(kwargs['par1'])
"
10710,79904,How can I get a process's stdin by a process id?,"import os.path
pid = os.getpid() # Replace your PID here - writing to your own process is boring
with open(os.path.join('/proc', str(pid), 'fd', '1'), 'a') as stdin:
  stdin.write('Hello there\n')
"
29493,31184,How to test DateTimeProperty in App Engine NDB?,"def testMyModelFilter(self):
  # Change the auto_now parameter to False
  MyModel.timestamp._auto_now = False

  # Test as usual...
  test1 = MyModel()
  test1.timestamp = datetime.datetime.now() - datetime.timedelta(hours=2)
  test1.put()
  test2 = MyModel()
  test2.timestamp = datetime.datetime.now() - datetime.timedelta(hours=1)
  test2.put()

  hour_ago = datetime.datetime.now() - datetime.timedelta(hours=1)
  fetched = MyModel.query().filter(MyModel.timestamp < hour_ago).fetch(
      None, keys_only=True)
"
37218,78685,Correct python code to insert NULL value into MySQL,"cur.execute(""INSERT INTO name (first, middle, last) VALUES (%s, %s, %s)"", (f, m, l))
"
16503,32457,python if statement with variable mathematical operator,"import operator
ops = {'==' : operator.eq,
       '!=' : operator.ne,
       '<=' : operator.le,
       '>=' : operator.ge,
       '>'  : operator.gt,
       '<'  : operator.lt}

maths_operator = ""==""

if ops[maths_operator](""test"", ""test""):
    print ""match found""

maths_operator = ""!=""

if ops[maths_operator](""test"", ""test""):
    print ""match found""
else:
    print ""match not found""
"
6691,23200,Merge two files in Python and sort,"def mergeandsort(src1, src2, dst):
    # Use `with` statements to close file automatically
    with open(src1, 'r') as s1, open(src2, 'r') as s2, open(dst, 'w') as d:
        l = list(s1) + list(s2)
        l.sort(reverse=true)  # Since you seem to want them in reverse order...
        c = ''.join(l)
        d.write(c)
"
1215,13426,Extracting a substring makes the for loop break in python,"for line in open('basin_stclair.txt', 'U'):
    print line[0:64]
"
28862,6061,Python string trimming,"import re

s = ""5+5.[)]1""
s = re.search(""\d+\+\d+"", s).group()
print(s) # 5+5
"
14840,30967,"Tensorflow, py_func, or custom function","def layer_activation(input_tensor, weight_tensor):
    return tf.matmul(input_tensor, weight_tensor)

# ...
x = tf.placeholder(...)
W_to_hidden = tf.Variable(...)
test = layer_activation(input_tensor, weight_tensor)
# ...
"
20094,2394,Where is the Cherrypy config file located on Ubuntu?,"#cheerypy.config is flat dictionary that you can modify using
cherrypy.config.update({'server.socket_host': '10.10.10.10',
                        'server.socket_port': 80,
                       })
"
29719,50607,Moving large files using shutil.move,"import os
import shutil

root = r""H:\test_vectors""
destination = r""dstpath""

file_list = []
dir_dict = {}

with open('aiq.txt', 'r') as f:
    for line in f:
        file_list.append(line.strip())

for d, dirs, files in os.walk(root):
    if files:
        dir_dict[d] = files

for key, item in dir_dict.items():
    for x in item:
        if x in file_list:
              try:
                  shutil.move(os.path.join(key, x), destination)
              except:
                  pass
"
37279,34804,How to plot a time range as a value from Pandas or MatPlotLib,"import numpy
import pandas

# create an index containing all time stamps
idx1 = pandas.Index(sensor1.Time)
idx2 = pandas.Index(sensor2.Time)
idx3 = pandas.Index(sensor3.Time)
df = pandas.DataFrame(index=idx1.union(idx2).union(idx3))

# create a (constant) Series for each sensor
df['Sensor1'] = df.index.to_series().apply(lambda x: 3 if x >= sensor1.Time.min() and x <= sensor1.Time.max() else numpy.NaN)
df['Sensor2'] = df.index.to_series().apply(lambda x: 2 if x >= sensor2.Time.min() and x <= sensor2.Time.max() else numpy.NaN)
df['Sensor3'] = df.index.to_series().apply(lambda x: 1 if x >= sensor3.Time.min() and x <= sensor3.Time.max() else numpy.NaN)

# plot
p = df.plot(ylim=[0, 4], legend=False)
p.set_yticks([1., 2., 3.])
p.set_yticklabels(['Sensor3', 'Sensor2', 'Sensor1'])
"
8506,67980,Python - Use a Regex to Filter Data,"import re
re.sub(pattern, '', s)
"
2367,7924,Converting to and from '<' and '>' automatically with Python,"import cgi
escaped = cgi.escape(unescaped)
"
20459,59147,Python multithread basic questions,"themutex.acquire()
try:
    print('Do some stuff')
finally:
    themutex.release()
"
15471,1358,Fastest way to download 3 million objects from a S3 bucket,"from eventlet import *
patcher.monkey_patch(all=True)

import os, sys, time
from boto.s3.connection import S3Connection
from boto.s3.bucket import Bucket

import logging

logging.basicConfig(filename=""s3_download.log"", level=logging.INFO)


def download_file(key_name):
    # Its imp to download the key from a new connection
    conn = S3Connection(""KEY"", ""SECRET"")
    bucket = Bucket(connection=conn, name=""BUCKET"")
    key = bucket.get_key(key_name)

    try:
        res = key.get_contents_to_filename(key.name)
    except:
        logging.info(key.name+"":""+""FAILED"")

if __name__ == ""__main__"":
    conn = S3Connection(""KEY"", ""SECRET"")
    bucket = Bucket(connection=conn, name=""BUCKET"")

    logging.info(""Fetching bucket list"")
    bucket_list = bucket.list(prefix=""PREFIX"")

    logging.info(""Creating a pool"")
    pool = GreenPool(size=20)

    logging.info(""Saving files in bucket..."")
    for key in bucket.list():
        pool.spawn_n(download_file, key.key)
    pool.waitall()
"
37930,26885,Python strategy for extracting text from malformed html pages,"class TextFormatter:
    def __init__(self,lynx='/usr/bin/lynx'):
        self.lynx = lynx

    def html2text(self, unicode_html_source):
        ""Expects unicode; returns unicode""
        return Popen([self.lynx, 
                      '-assume-charset=UTF-8', 
                      '-display-charset=UTF-8', 
                      '-dump', 
                      '-stdin'], 
                      stdin=PIPE, 
                      stdout=PIPE).communicate(input=unicode_html_source.encode('utf-8'))[0].decode('utf-8')
"
20337,62240,passing the values to a function,"params = dict(ami='ami-XXX', key_name='XXX15a.pem', instance_type='t1.macro', placement='us-east-1a')
ec2_conn.run_instances(**params)
"
28098,84299,using addition to compare list items,"data=[[a,b,c,1200],[a,g,x,3401],[f,a,c,3402],[f,a,c,3403]etc]
previous = 0 # adjust if necessary
for item in data:
    if item[-1] == previous + 1:
        #do something
    previous = item[-1]
"
12340,68535,How do I make my script take only numeric inputs without screwing it up,"keepMoving = True
mylist = []
while keepMoving:
    x = input(""enter a number:"")
    if x.isnumeric():
         mylist.append(int(x))
    else:
         keepMoving = False
print(max(mylist))
"
33609,2867,Extracting first value of pair type in python,"list = [ x[0] for x in values ]
"
36861,68115,OpenCV Template Matching: Restrict search area,"roi = image[y:y+h , x:x+w]

cv2.matchTemplate(roi, templ, ...
"
9916,78112,Randomly selecting a file from a tree of directories in a completely fair manner,"files = [os.path.join(path, filename)
         for path, dirs, files in os.walk(dir)
         for filename in files
         if not filename.endswith("".bak"")]
return random.choice(files)
"
17617,78011,How to transfer data from View to Controller? Web2Py,"{{for i in session.query:}}
{{=LI(A(i.name, _href=URL('default', 'personal', args=[i.id])))}}
{{pass}}
"
23492,46052,Getting today's date in YYYY-MM-DD in Python?,"datetime.datatime.today().strftime('%Y-%m-%d')
"
18194,12360,Deleting elements in Python list using user input,"name=input(""Enter your name: "")
message=input(""Enter your message:"")
namefinal = ''
for letter  in name:   
   if letter not in message:
       namefinal += letter
print namefinal
"
21239,41558,Method to find gender of a username - with or without dictionary,"def name_gender(user_name, boy_names=None, girl_names=None):
    uname = user_name.lower()
    girliness = 0
    for girl_name in girl_names:
        if girl_name in uname:
            girliness += 1
    boyishness = 0
    for boy_name in boy_names:
        if boy_name in uname:
            boyishness += 1
    if boyishness > girlishness: return 'Male'
    if girlishness > boyishness: return 'Female'
    return 'Androgynous'
"
14674,74893,Create a function decorator that logs arguments,"import logging

logger = logging.getLogger(__name__)

def logging_decorator(fn):
    def func(*a, **kw):
       logger.info('%s(%s, %s)', fn, a, kw)
       return fn(*a, **kw)
    return func
"
11223,4512,Multiple-line output from a single-line match in Python,"from bs4 import BeautifulSoup

# I put the HTML in a file, but this will work with a URL as well
with open('weather.html', 'r') as f:
  fcst = f.read()

# Turn the html into a navigable soup object
soup = BeautifulSoup(fcst)

# Define your zones
zones = ['AKZ214', 'AKZ215', 'AKZ213']

weatherFull = []

# This is a more Pythonic loop structure - instead of looping over
# a range of len(zones), simply iterate over each element itself
for zone in zones:
  # Here we use BS's built-in 'find' function to find the 'a' element
  # with a name = the zone in question (as this is the pattern).
  zone_node = soup.find('a', {'name': zone})

  # This loop will continue to cycle through the elements after the 'a'
  # tag until it hits another 'a' (this is highly structure dependent :) )
  while True:
    weatherFull.append(zone_node)
    # Set the tag node = to the next node
    zone_node = zone_node.nextSibling
    # If the next node's tag name = 'a', break out and go to the next zone
    if getattr(zone_node, 'name', None)  == 'a':
      break

# Process weatherFull however you like
print weatherFull
"
4961,44157,Can I recognize label content in popup menu as an argument?,"def hello(text=None):
   if text:
      # Do some things

self.menu=Menu()
self.menu.add_command(label='hereiam1',command=lambda :self.hello('some_text'))
self.menu.add_command(label='hereiam2',command=self.hello)
self.menu.add_command(label='hereiam3',command=self.hello)
"
31955,42689,How to call a QWidget from another QWidget in PyQt,"def ShowReportWidget(self):
    self.f = QtGui.QWidget()
    self.ReportWidget = ReportWidget(self)
    self.ReportWidget.setupUi(self.f)
    self.f.exec_()

class ReportWidget(QtGui.QWidget):
    def __init__(self, parent = None):
        QtGui.QWidget.__init__(self,parent)

    def setupUi(self,Widget):
        self.ui = rw.Ui_ReportWidget()
        self.ui.setupUi(Widget)
"
32666,35242,sum of all integer between m and n in a loop Python 3,"for i in range (m,n+1):
    sum += i
    print(i)

print(sum)
"
1453,68614,Python list comprehension for if-else statements,"[j*2+1 if i==0 else j*2 for i, j in enumerate(old_list)]
"
39036,72138,Django 1.4 - Manually import admin models,"# project/urls.py
from django.conf.urls import url
from django.contrib import admin

from project.admin import foo_site


admin.autodiscover()

urlpatterns = patterns('',
    url(r'^admin/', include(foo_site.urls)),
)

#project/app/admin.py
from project.admin import foo_site
from project.app.models import Bar


foo_site.register(Bar)
"
27317,48845,Python pandas change dataframe value,"In [28]:

df.loc[(df['A'] == 1) & (df['B'] == 2),'C']=0
df
Out[28]:
   A  B    C
0  1  1  200
1  1  1  433
2  1  1   67
3  1  1   23
4  1  2    0
5  1  2    0
6  1  2    0
7  1  3   30

[8 rows x 3 columns]
"
12856,76515,Generate alphanumeric random numbers in numpy,"import numpy as np

LENGHT = 4
NO_CODES = 100000

alphabet = list('abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789')
np_alphabet = np.array(alphabet, dtype=""|S1"")
np_codes = np.random.choice(np_alphabet, [NO_CODES, LENGHT])
codes = ["""".join(np_codes[i]) for i in range(len(np_codes))]

print(codes)
"
15521,71150,Numpy array item order - equal distribution of sequences,"while True:
    x = {i: set(range(1,7)) for i in range(1,7)}

    a = [random.choice(range(1,7))]  # start with a random number
    last = a[-1]
    while x[last]:
        next = random.choice(list(x[last]))
        x[last].remove(next)
        a.append(next)
        last = next

    if len(a) == 37:
        # We get to length 37 if and only if each set above is exhausted.
        # In this case, the first item will always equal the last item
        # (proof left as an exercise for the reader), so remove it.
        a = a[:-1]
        break

print(''.join(str(i) for i in a))
"
35113,14893,Get the path of the current TTY in Python,"In [3]: os.ttyname(sys.stdout.fileno())
Out[3]: '/dev/pts/24'
"
27920,6462,Why is skimage.transform.rotate significantly slower than PIL's Image.rotate?,"from PIL import Image
import numpy as np
from skimage.transform import rotate

a = np.zeros((1000, 1000), dtype=np.uint8)

im = Image.fromarray(a)

%timeit im.rotate(10, Image.BICUBIC, expand=True)

ima = a / 255.0
%timeit rotate(ima, 10, order=1)
%timeit rotate(ima, 10, order=3)


## -- Output --
10 loops, best of 3: 41.3 ms per loop
10 loops, best of 3: 43.6 ms per loop
10 loops, best of 3: 101 ms per loop
"
5774,21082,How to copy a row of Excel sheet to another sheet using Python,"import xlrd

fname = ""sample.xls""
bk = xlrd.open_workbook(fname)
shxrange = range(bk.nsheets)
try:
    sh = bk.sheet_by_name(""Sheet1"")
except:
    print ""no sheet in %s named Sheet1"" % fname
    return None
nrows = sh.nrows
ncols = sh.ncols
print ""nrows %d, ncols %d"" % (nrows,ncols)

cell_value = sh.cell_value(1,1)
print cell_value

row_list = []
for i in range(1,nrows):
    row_data = sh.row_values(i)
    row_list.append(row_data)
"
13382,64498,Parsing multiple files in an XML-like format,"import re

pat = re.compile(r'<doc id=""([^""]*)"" name=""([^""]*)"">(.*?)</doc>', re.DOTALL)

with open('input.txt') as f: xml = f.read()

matches = pat.findall(xml)

print matches
"
6606,48967,Make this function take strings of arbitrary length,"import itertools

def find_expressions(digits, target):
    if not (isinstance(digits, str) or isinstance(digits, list)) or not isinstance(target, int):
        raise TypeError

    solutions = []
    operators = ('', ' + ', ' - ', ' * ', ' / ')
    for ops in itertools.product(operators, repeat=len(digits)-1):
        s = digits[0] + ''.join(op + digit for op, digit in zip(ops, digits[1:]))
        try:
            if eval(s) == target:
                solutions.append(s + ' == {}'.format(target))
        except (ZeroDivisionError, SyntaxError):
            pass
    print('\n'.join(solutions))
"
12374,50576,How do I grep for words coming from a file in files listed in a file?,"with open(""words.txt"") as words:
    wlist=[(ln,word.strip()) for ln,word in enumerate(words,1)]

with open(""files.txt"") as files:
    flist=[(ln,file.strip()) for ln,file in enumerate(files,1)]

for filenum, filename in flist:
    with open(filename) as fdata:
        for fln,line in enumerate(fdata,1):
            for wln, word in wlist:
                if word in line:
                    print ""%d => %d"" % (wln, fln)
"
29408,60240,How to get azimuth and elevation from a matplotlib figure,"import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

mol=np.random.rand(6,3)*10.0

fig3d = plt.figure(figsize = ( 6.5, 6.5 ) )

fig3d.canvas.set_window_title('3D')

ax3d = fig3d.gca(projection='3d')
ax3d.scatter(mol[:,0], mol[:,1], mol[:,2], s=200)  

# List to save your projections to
projections = []

# This is called everytime you release the mouse button
def on_click(event):
    azim, elev = ax3d.azim, ax3d.elev
    projections.append((azim, elev))
    print(azim, elev)

cid = fig3d.canvas.mpl_connect('button_release_event', on_click)

plt.show()
"
19830,83186,python len calculation,"struct.pack("">H"", len(...) | 0x8000)
"
34085,21817,Create a cookie that lasts until the browser is closed(Session Cookie?),"In [11]: from Cookie import SimpleCookie

In [12]: c = SimpleCookie()

In [13]: c['test'] = 'MYTEST'

In [14]: print c
Set-Cookie: test=MYTEST
"
27469,83060,"Difference between ""fill"" and ""expand"" options for tkinter pack method","import Tkinter as tk

root = tk.Tk()
root.geometry('200x200+200+200')

tk.Label(root, text='Label', bg='green').pack(expand=1, fill=tk.Y)
tk.Label(root, text='Label2', bg='red').pack(fill=tk.BOTH)

root.mainloop()
"
12250,21093,Python Turtle: How to use the write function to join an integer and a string with the integer coming from a list,"write(""{0}%"".format(grades[1]))
"
12567,77061,Assigning attributes values from a dictionary,"for key, value in config.iteritems():
    # Customize key here, for example transform 'text_height' to 'TextHeight' or 
    # use 'key.title()' to obtain titlecased keys...
    setattr(self, key, value)
"
17469,2296,Use uuid.uuid4() to create new file,">>> import uuid
>>> str(uuid.uuid4()) + "".txt""
'13eb9327-f40e-4ef1-8020-1c36af1b4b70.txt'
"
24299,41051,Python: dict.items() is printing more rows (rows that are not in actual file),"import os,csv, glob    

for file in glob.glob(os.path.join(os.getcwd(), '*.txt')):
    with open(file) as f:
        mydict = {}
        for line in f:
            mydict["","".join(line.split()[0:4])] = "","".join(line.split()[4:6])
    for key,val in mydict.iteritems():
        print file, key, val
"
1524,16400,python range weird behavior,"if -29 <= p.status() <= -21:
"
29661,37854,Using File Extension Wildcards in os.listdir(path),"import glob

listing = glob.glob('C:/foo/bar/foo.log*')
for filename in listing:
    # do stuff
"
31303,61098,Repeat a csr_matrix row over axis 0 to create a matrix,"valid_ratings = ratings.astype(bool)
user_matrix = valid_ratings.multiply(ratings[user_id])
"
5778,75920,Running a Flask server parallel to main app,"import threading
import time
from flask import Flask, render_template

class myGame(threading.Thread):
    def __init__(self, threadID, name, counter):
        threading.Thread.__init__(self)
        self.board = 1

    def run(self):
        pass


app = Flask(__name__)
game = myGame()

@app.route('/get_updates') 
def get_updates(): 
    return flask.jsonify(game.board)

if __name__ == ""__main__"":
    game.start()
    app.run(port=81, host='0.0.0.0', debug=False, use_reloader=False)
"
11387,51692,"""Moving"" from one class to another in Python","class Intro(object):

    def __init__(self):
         # Setting up some variables here

    def description(self):
        print ""Here is the description of the room you are in""

    def north(self):
        return Dungeon()

    def west(self):
        return Outside()

    #etc
"
16191,44234,python pack output in string format,">>> t=1234
>>> tt=pack('<I', t)
>>> tt
'\xd2\x04\x00\x00'
>>> unpack('<I', tt)
(1234,)

>>> ttt, = unpack('<I', tt) 
>>> ttt
1234
"
28302,4146,Improve python csv processing loop,"import glob,csv,os, itertools

list_of_files = glob.glob('C:/test/*.csv')
print 'By the Power of the Python, Split these here files!'  

directory = 'C:/test/conv/'
if not os.path.exists(directory):
    os.makedirs(directory)

for filename in list_of_files:
    storage = []
    specialStorage = []
    with open(filename,""r"") as source:
        header_line = next(source)
        rdr= csv.reader( source, delimiter = ',',lineterminator='\n' )
        x=0
        resetValue = 0

        for row in itertools.islice(rdr,0,None):
            itemRow4 = row[4]

            if x == 0:
                previousitemRow4 = row[4]
                x = x+1

            outfileName=directory+previousitemRow4+'.csv'        

            if previousitemRow4 == itemRow4:                 

                storage.append((row[8],row[11],row[6],row[0]))
                previousitemRow4 = itemRow4

            if previousitemRow4 != itemRow4:

                with open(outfileName,""a"") as result:

                    wtr=csv.writer(result, lineterminator='\n')
                    previousitemRow4 = itemRow4

                    if len(specialStorage) !=0:
                        wtr.writerow(specialStorage)
                    wtr.writerows(storage)
                    storage = []

                specialStorage=(row[8],row[11],row[6],row[0])

        else:
            with open(outfileName,""a"") as result:

                    wtr=csv.writer(result, lineterminator='\n')
                    previousitemRow4 = itemRow4
                    wtr.writerow(specialStorage)
                    wtr.writerows(storage)
                    storage = []

            print 'end of file reached'
"
35407,22858,what about the python expression's princple,"print '%x' % 0b11111111   # -> 'ff'  (from binary)
print '%x' % 0377         # -> 'ff'  (from octal)
print '%x' % 255          # -> 'ff'  (from decimal)
print '%x' % 0xff         # -> 'ff'  (from hex)
"
27813,44920,Modifying tuples within list,"def time_to_int(time):
    mins,secs = time.split(':')
    return int(mins)*60 + int(secs)

def line_to_tuple(line):
    return tuple(time_to_int(t) for t in line.split())

natimes = [line_to_tuple(line) for line in sys.stdin]
"
12134,61059,django celery: how to set task to run at specific interval programmatically,"@task
def mytask():
    keep_running = # Boolean, should the task keep running?
    if keep_running:
        run_again = # calculate when to run again
        mytask.apply_async(eta=run_again)
    # ... do the stuff you came here to do ...
"
2474,40760,Remove whitespace in Python using string.whitespace,">>> ' '.join(""Please \n don't \t hurt \x0b me."".split())
""Please don't hurt me.""
"
29881,23103,Is there a Python module where I could easily convert mixed fractions into a float?,"def convert(f):
    whole, frac = f.split()
    return int(whole) + fractions.Fraction(frac)
"
17766,23491,Python import from paths,"main.py      #must get all the classes from /handlers
jhpy.py
handlers/  
         /__init__.py
         /a.py
         /b.py
         /...
 entities/   
         /__init__.py
         /foo.py
         /bar.py
         /...
"
27826,7225,writing a range output lists into a text file or four array,"You might be looking for zip. Try that :  

data = [['a','b','c','d'], ['a','b','c','d'], ['a','b','c','d'], ['a','b','c','d']]

print data
print zip(*data)
"
21019,31442,"lxml equivalent to BeautifulSoup ""OR"" syntax?","#!/usr/bin/python
import lxml.html
import lxml.cssselect
soup = lxml.html.fromstring(""""""
        <html>
        <a href=""foo"" class=""yyy zzz"" />
        <a href=""bar"" class=""yyy"" />
        <a href=""baz"" class=""zzz"" />
        <a href=""quux"" class=""zzz yyy"" />
        <a href=""warble"" class=""qqq"" />
        <p class=""yyy zzz"">Hello</p>
        </html>"""""")

select = lxml.cssselect.CSSSelector(""a.yyy.zzz, a.yyy"")
print [lxml.html.tostring(s).strip() for s in select(soup)]
print (select(soup) or [None])[0]
"
7210,55195,optimize the number of comparisons,"if ns=='8':
    for i in nodes:
        if i[-2:] in ('02', '05', '06', '09'):
            d[i]='quorum-manager'
"
35443,7484,Test if numpy array contains only zeros,">>> np.count_nonzero(np.eye(4))
4
>>> np.count_nonzero([[0,1,7,0,0],[3,0,0,2,19]])
5
"
16059,35937,A regular expression to find URLs in a string,">>> text = """"""I want to find url this ""http://www.google.com"" or ""http://mail.yahoo.com.uk"" from a string.

I tried different exprs but no one correct. Could anyone help me? Thanks
""""""
>>> import re
>>> re.search( '(http://www\\.google\\.com)', text )
<_sre.SRE_Match object at 0x02183060>
>>> _.groups()
('http://www.google.com',)
>>> re.search( '(http://mail\\.yahoo\\.com\\.uk)', text )
<_sre.SRE_Match object at 0x021830A0>
>>> _.groups()
('http://mail.yahoo.com.uk',)
>>> re.findall( '(http://[^""\' ]+)', text )
['http://www.google.com""', 'http://mail.yahoo.com.uk""']
"
19028,74118,Convert Google results object (pure js) to Python object,">>> import demjson
>>> demjson.decode('{suggestion:[{query:""London"",interpretation: ...')
{u'suggestion': [{u'query': u'London', u'operation': 2, u'interpretation': ...
"
6611,56051,Python For loop get index,"for index, w in enumerate(loopme):
    print ""CURRENT WORD IS"", w, ""AT CHARACTER"", index 
"
13511,48294,How do I require Tkinter with distutils?,"from distutils.command.install import install

class Install(install):
    def run(self):
        if not check_dependencies():
             # Tkinter was not installed, handle this here
        install.run(self) # proceed with the installation

def check_dependencies():
    try:
        return __import__('Tkinter')
    except ImportError:
        return None
"
12032,31090,Can I display where a Python regex matches up to?,"REGEXES = [
    (r'(?:(?P<doors>\d) Doors)', 'doors'),
    (r'.*(?P<transmission>Automatic|Manual)', 'transmission'),
]
FAILS = [(re.compile('^' + r[0], re.IGNORECASE), r[1]) for r in REGEXES]
MATCHER = re.compile('^' + ''.join([r[0] for r in REGEXES]), re.IGNORECASE)


# ... later ...

m = MATCHER.match(input)

if not m:
    working = input
    for r in FAILS:
        s = r[0].split(input)
        if len(s) > 1:
            working = s[-1]  # we use last group in the split
            continue
        # we have a problem here!!
        # we know the group (the regex and the label we gave it)
        # we can show the user what we're trying to match and against what
        return blah

# otherwise we can start working with m's groups.
"
17702,41735,python convert date and time into linux timestmap,">>> s =  ""110202 132721""
>>> print time.mktime(time.strptime(s, ""%y%m%d %H%M%S""))
1296653241.0
"
31428,33002,lxml findall and reverse order,"labels = ET.findall(label)
alist =[]
for one_label in labels:
     alist.append(etree.tostring(one_label))

print sorted(alist, reverse=True) 
"
16760,82093,Attribute in Python class as default operand for all numerical operations,">>> class Example:
...     def __init__(self, param1, param2):
...         self.param1 = param1
...         self.param2 = param2
...     def __int__(self):
...         return self.param1

>>> 3 * int(Example(2,1))
6
"
5135,19599,Simple line plots using seaborn,"import matplotlib.pyplot as plt
import numpy as np
import seaborn as sns

sns.set_style(""darkgrid"")
plt.plot(np.cumsum(np.random.randn(1000,1)))
plt.show()
"
1798,66076,Django get a DOM object from an HttpResponse,"def test_that_all_inputs_have_name_attr( self ):
    response = home_page( HttpRequest() )
    from xml.dom.minidom import parseString
    page_as_doc = parseString( response.content )
    inputs = page_as_doc.getElementsByTagName( 'input' )
    for input_el in inputs:
        attr_map = input_el.attributes
        fail_msg = ''
        for i in range( attr_map.length ):
            attr = attr_map.item( i )
            fail_msg += ""\nname '%s' value '%s'"" % ( attr.name, attr.value )
        if not fail_msg: 
            fail_msg = ""none!""
        self.assertTrue( input_el.hasAttribute( ""name"" ), ""\nINPUT attributes: %s"" % fail_msg )
"
27400,22103,"Python, ConfigParser: What is 'magical interpolation'","bad_subj: %(subj)s [failure]
subj: Notify
"
5114,23774,Django Count() multiple fields and sort by their sum,"Topiccenter.objects.annotate(
    sum_books=Sum('tc_book_entries'),
    sum_journals=Sum('tc_journal_entries')
).extra({
    'select': {
        'sum_entries': 'sum_books + sum_journals'
    }
}).order_by('-sum_entries')
"
28259,9474,What is a way of accessing arbitrary groups in hdf5 file using pytables?,"row_str = 'h5f.root.{}'.format(user)
    where = eval(row_str)
    subjectGroup = h5f.createGroup(where, subjectName)
"
3956,31637,Twisted: source IP address for outbound connections,"class FooBarProtocol(protocol.DatagramProtocol):
    def startProtocol(self):
        self.transport.getHost().host   # => 0.0.0.0
        self.transport.connect(self.dstHost, self.dstPort)
        self.transport.getHost().host   # => 192.168.1.102
"
35990,57295,NumPy: Calculate mean of certain elements in array,"In [10]: import numpy as np

In [11]: groups = [[1,2],[3,4,5]]

In [12]: map(np.mean, groups)
Out[12]: [1.5, 4.0]
"
8471,19646,python pyplot annotations,"import matplotlib.pyplot as plt

x = range(10)
y = range(10)

fig, ax = plt.subplots()

# Plot the line connecting the points
ax.plot(x, y)

# At each point, plot the y-value with a white box behind it
for xpoint, ypoint in zip(x, y):
    ax.annotate('{:.2f}'.format(ypoint), (xpoint,ypoint), ha='center', 
                va='center', bbox=dict(fc='white', ec='none'))

# Manually tweak the limits so that our labels are inside the axes...
ax.axis([min(x) - 1, max(x) + 1, min(y) - 1, max(y) + 1])
plt.show()
"
11717,16996,How to plot two columns in a dataframe and add legends?,"import pandas as pd
import matplotlib.pyplot as plt

df = pd.DataFrame(np.random.random((4,3)), columns=list('ABC'))
for col in ('A', 'B'):
    df[col].plot(legend=True)
plt.show()
"
17540,19905,Python: How to dynamically write to multiple files,"d = {1: Logfile1, 2: Logfile2, ...}
curr_file = d[filePointer[0]]
curr_file.write(str(capData[0]))
"
22726,53781,Group by max or min in a numpy array,"import numpy as np
def group_min(groups, data):
    # sort with major key groups, minor key data
    order = np.lexsort((data, groups))
    groups = groups[order] # this is only needed if groups is unsorted
    data = data[order]
    # construct an index which marks borders between groups
    index = np.empty(len(groups), 'bool')
    index[0] = True
    index[1:] = groups[1:] != groups[:-1]
    return data[index]

#max is very similar
def group_max(groups, data):
    order = np.lexsort((data, groups))
    groups = groups[order] #this is only needed if groups is unsorted
    data = data[order]
    index = np.empty(len(groups), 'bool')
    index[-1] = True
    index[:-1] = groups[1:] != groups[:-1]
    return data[index]
"
10283,255,Bare bones web form example using python3 & mod_wsgi (no Django)?,"from urllib.parse import parse_qsl

def application(environ, start_response):
    try:
        path = environ['PATH_INFO']
    except KeyError:
        path = environ['REQUEST_URI'].decode('utf-8').split('=', 1)[1]
    method = environ['REQUEST_METHOD']
    get = dict(parse_qsl(environ['QUERY_STRING'], keep_blank_values=True))
    post = dict(parse_qsl(environ['wsgi.input'].read().decode('utf-8')))

    if path == '/my_form':
        start_response('200 OK', [('Content-Type', 'text/html; charset=utf-8')])
        yield '''\
<form action="""" method=""POST"">
    <label for=""name"">What is your name?</label>
    <input type=""text"" name=""name""/>
    <input type=""submit""/>
</form>'''.encode('utf-8')
        if method == 'POST' and 'name' in post:
            yield ""<p>Hello, {}!</p>"".format(post['name']).encode('utf-8')
    else:
        start_response('404 Not Found', [('Content-Type', 'text/html')])
        yield ""<h1>404 Not Found</h1>"".encode('utf-8')
"
31701,17699,getting data from specific table/website using XPATH,">>> from pprint import pprint
>>> import requests
>>> 
>>> url = ""http://irvingmasjid.org/salah2016.php""
>>> response = requests.get(url)
>>> 
>>> pprint(response.json())
{u'_day_of_year': u'157',
 u'adhan_asr': u'5:09',
 u'adhan_dhuhr': u'1:29',
 u'adhan_fajr': u'4:39',
 u'adhan_isha': u'9:49',
 u'adhan_maghrib': u'8:37',
 u'day': u'12:37',
 u'j_asr': u'6:00',
 u'j_dhuhr': u'1:45',
 u'j_fajr': u'5:15',
 u'j_isha': u'10:15',
 u'jumuah_1': u'1:45',
 u'jumuah_2': u'2:45',
 u'midnight': u'12:37',
 u'month_date': u'12:37',
 u'sunrise': u'6:20',
 u'tahajjud': u'1:57'}
"
15915,62607,for loop c++ vs python,"def encrypt(data):
    n = len(data)
    for i in range(n-1, 0, -1):
        data[i] ^= data[i-1]      # for this to work, data has to be mutable

f = open('somefile.bin', 'rb')
buf = bytearray(f.read())
f.close()

encrypt(buf)
"
5515,55781,Dijkstra's algorithm in Python plotting path,"import sys
import matplotlib.pyplot as plt
from pprint import pprint

#dict to label points
mylabel = {1:'A',2:'B',3:'C',4:'D',5:'E',6:'F',7:'G',8:'H'}

#dict to derive coordinates
mylabel2 = {
         'A':(0,5),
         'B':(1,0),
         'C':(5,1),
         'D':(2,4),
         'E':(3,6),
         'F':(0,7),
         'G':(4,8),
         'H':(6,2)
           }
#Adjancency and State Matrix
Adj_Matrix = [[0, 20, 0, 0, 0, 0, 15, 0],
             [20, 0, 8, 9, 0, 0, 0, 0],
             [0,  8,  0,  6, 15, 0, 0, 10],
             [0, 9, 6, 0, 7, 0, 0, 0],
             [0, 0, 15, 7, 0, 22, 18, 0],
             [0, 0, 0, 0, 22, 0, 0, 0],
             [15, 0, 0, 0, 18, 0, 0, 0],
             [0, 0, 10, 0, 0, 0, 0, 0]]

xCoord=[mylabel2[k][0] for k in sorted(mylabel2)]
yCoord=[mylabel2[k][1] for k in sorted(mylabel2)]
plt.plot(xCoord, yCoord, 'bo')
plt.axis([-1, 7, -1, 9])
for i in xrange(8):
    plt.text(xCoord[i]-0.5, yCoord[i], mylabel[i+1])
for i in xrange(8):
    for j in xrange(8):
        if Adj_Matrix[i][j]:
            plt.plot([xCoord[i], xCoord[j]],[yCoord[i], yCoord[j]], 'b')
#Dijkstra Algorithm
def dijkstra(graph,start,target):
    inf = reduce(lambda x,y: x+y,(i[1] for u in graph for i in graph[u]))
    dist = dict.fromkeys(graph,inf)
    prev = dict.fromkeys(graph)
    q = graph.keys()
    dist[start] = 0
    while q:
        u = min(q, key=lambda x: dist[x])
        q.remove(u)
        for v,w in graph[u]:
            alt = dist[u] + w
            if alt < dist[v]:
                dist[v] = alt
                prev[v] = u
    #âwayâ
    trav = []
    temp = target
    while temp != start:
        trav.append(prev[temp])
        temp = prev[temp]
    trav.reverse()
    trav.append(target)
    return "" -> "".join(trav),dist[target]

graph = {
    'A' : [('B',20), ('G', 15)],
    'B' : [('A', 20),('C', 8), ('D', 9)],
    'C' : [('B', 8),('D', 6), ('E', 15), ('H', 10)],
    'D' : [('B', 9),('C', 6),('E', 7)],
    'E' : [('C', 15),('D', 7),('F', 22),('G', 18)],
    'F' : [('E', 22)],
    'G' : [('A', 15),('E', 18)],
    'H' : [('C', 10)]
    }
traverse, dist = dijkstra(graph,'F','H')
print traverse
#Drawing of coordinates
mydrawing = traverse.split('-> ')
plt.plot([ mylabel2[n.rstrip()][0] for n in mydrawing ],[ mylabel2[n.rstrip()][1] for n in mydrawing])
print ""Distance:"",dist
plt.show()
"
10795,25891,How do I convert this list of dictionaries to a csv file? [Python],"import csv
toCSV = [{'name':'bob','age':25,'weight':200},
         {'name':'jim','age':31,'weight':180}]
keys = toCSV[0].keys()
with open('people.csv', 'wb') as output_file:
    dict_writer = csv.DictWriter(output_file, keys)
    dict_writer.writeheader()
    dict_writer.writerows(toCSV)
"
25671,66312,Extract specific text lines?,"import re
keywords = ['S0414', 'GT213', 'AT3423', 'PR342'] # etc - you probably get those from some source
pattern = re.compile('|'.join(keywords))

for line in inf:
    if pattern.search(ln):
        outf.write(line)
"
2394,60558,Exectue function every one hour in Python,"from time import sleep
import datetime
sleep(60*(60-datetime.datetime.now().minute))
while True:
    do_smth()
sleep(60*60)
"
31190,75473,Running sum in pandas (without loop),"from pandas import DataFrame
df = DataFrame({0: {'10/10/2012': 50, '10/11/2012': -10, '10/12/2012': 100}, 1: {'10/10/2012': 0, '10/11/2012': 90, '10/12/2012': -5}})

In [3]: df
Out[3]: 
              0   1
10/10/2012   50   0
10/11/2012  -10  90
10/12/2012  100  -5

In [4]: df.cumsum()
Out[4]: 
              0   1
10/10/2012   50   0
10/11/2012   40  90
10/12/2012  140  85
"
37744,30658,drawing a diagonal ellipse with pygame,"import pygame, sys

screen = pygame.display.set_mode((1024, 640))

running = True

#let's create a surface to hold our ellipse:
surface = pygame.Surface((320, 240))

red = (180, 50, 50)
size = (0, 0, 300, 200)

#drawing an ellipse onto the 
ellipse = pygame.draw.ellipse(surface, red, size)

#new surface variable for clarity (could use our existing though)
#we use the pygame.transform module to rotate the original surface by 45Â°
surface2 = pygame.transform.rotate(surface, 45)

while running:
    screen.fill((255, 250, 200))
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
            sys.exit()
    screen.blit(surface2, (100, 100))
    pygame.display.update()
"
27916,39885,"Django multiple model inheritance, django-push-notifications","class Device(models.Model):
    ...
    gcm_device = models.OneToOneField(GCMDevice)
"
19092,36361,why there is just egg-info without actual modules when I use pip install beautifulsoup?,"$ cat lib/python2.7/site-packages/beautifulsoup4*.egg-info/installed-files.txt
../bs4/__init__.py
../bs4/dammit.py
../bs4/diagnose.py
../bs4/element.py
../bs4/testing.py
../bs4/builder/__init__.py
../bs4/builder/_html5lib.py
../bs4/builder/_htmlparser.py
../bs4/builder/_lxml.py
../bs4/tests/__init__.py
../bs4/tests/test_builder_registry.py
../bs4/tests/test_docs.py
../bs4/tests/test_html5lib.py
../bs4/tests/test_htmlparser.py
../bs4/tests/test_lxml.py
../bs4/tests/test_soup.py
../bs4/tests/test_tree.py
../bs4/__init__.pyc
../bs4/dammit.pyc
../bs4/diagnose.pyc
../bs4/element.pyc
../bs4/testing.pyc
../bs4/builder/__init__.pyc
../bs4/builder/_html5lib.pyc
../bs4/builder/_htmlparser.pyc
../bs4/builder/_lxml.pyc
../bs4/tests/__init__.pyc
../bs4/tests/test_builder_registry.pyc
../bs4/tests/test_docs.pyc
../bs4/tests/test_html5lib.pyc
../bs4/tests/test_htmlparser.pyc
../bs4/tests/test_lxml.pyc
../bs4/tests/test_soup.pyc
../bs4/tests/test_tree.pyc
./
dependency_links.txt
PKG-INFO
SOURCES.txt
top_level.txt
"
4407,27715,how to change pixel values in python (opencv) without for loops,"depthImage[depthImage==0] = 2880
"
21136,10806,"how to read a data file including ""pandas.core.frame, numpy.core.multiarray""","import pandas as pd
df = pd.read_pickle('flux.df')
"
23990,11268,How to change a tuple into array in Python?,">>> t = (1, 2, 3, 4)   # t is the tuple (1, 2, 3, 4)
>>> l = list(t)        # l is the list [1, 2, 3, 4]
"
4534,38795,Keeping track of dropped indices when dropping elements from numpy array,">>> x = np.array([2,8,3,4,7,6,1])
>>> lix = x > 4
>>> x = x[lix] # this ""drops"" everything 4 or less
>>> x
array([8, 7, 6])
>>> [dropped] = np.where(~lix) # find the indices that weren't dropped
>>> dropped
array([0, 2, 3, 6])
"
30100,24462,ElasticSearch ConnectionPool using elasticsearch-py library,"doc = {
       'name': name,
       'postDate': datetime.datetime.now(),
       'valid': ""true"",
       'suggest': {
           ""input"": name,
           'output': name,
           'payload': {'domain_id': id}
           }
       }
es = elasticsearch.Elasticsearch()
res = es.index(index=ES_INDEX_NAME, doc_type=ES_DOC_TYPE, id=id, body=doc, timeout=30)
"
23210,38410,Python: read a text file and copy/paste directories listed in it to a new directory,"from shutil import copytree
from os.path import join

dst = '/Users/name/Desktop/Core/TEST'
with open('/Users/name/Desktop/Core/Core_List.txt') as f:
    for src in f:
       print src
       copytree(src, join(dst, src))
"
37223,45060,Make a package work as just one import,"from .SomeClass import SomeClass
"
1145,4485,Python - Print index of for loop only once every five minutes,"from timeit import default_timer as timer

start = timer()

freq = 5 * 60       # Time in seconds
last_time = 0.0
for i in range(int(1e8)):
    ctime = timer()
    if ctime - last_time > freq:
        print(i)
        last_time = ctime
"
15703,58852,Hierarchical python imports,"# A.py
from C import blah

# B.py
import A
A.blah # this will work
"
27042,54870,dynamic csv to sqlite importing,"names = ['my _id', 'some a', 'some b']
sanitized_names = ""({})"".format("", "".join(x.replace(' ','') for x in names))

# => (my_id, somea, someb)
"
38318,76517,How to tell if Python SQLite database connection or cursor is closed?,">>> conn = sqlite3.connect('mydb')
>>> conn.close()
>>> try:
...   resultset = conn.execute(""SELECT 1 FROM my_table LIMIT 1;"")
... except sqlite3.ProgrammingError as e:
...   print e
Cannot operate on a closed database.
"
9373,23369,How to shift the columns of table from CSV?,"#!/usr/bin/env python
# -*- coding: utf-8 -*-
#
#  test_csv.py
#  
#  Copyright 2015 John Coppens <john@jcoppens.com>
#  
#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  (at your option) any later version.
#  
#  This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU General Public License for more details.
#  
#  You should have received a copy of the GNU General Public License
#  along with this program; if not, write to the Free Software
#  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
#  MA 02110-1301, USA.
#  
#  

SEPARATOR = "",""

def add_empty(infile, outfile):
    with open(outfile, ""w"") as outf:
        with open(infile, ""r"") as inf:
            line = inf.readline()       # Copy the header
            outf.write(line)

            while True:
                line = inf.readline()
                if line == """": break    # EOF
                outf.write("""" + SEPARATOR + line)

def main():
    add_empty(""test.csv"", ""testshifted.csv"")
    return 0

if __name__ == '__main__':
    main()
"
8099,65987,Access object in ModelChoiceField in Django,"{% for field in form.visible_fields %}{# loop over form fields #}
    {% if field.name == ""choice_field_name"" %}
        {% for choice in field.queryset %} {# loop over choices #}
            {# here you access to choice object #}
        {% endfor %}
    {% endif %}
{% endfor %}
"
33987,74536,Prompt for user input using python asyncio.create_server instance,"import sys
import asyncio


def got_stdin_data(q):
    asyncio.async(q.put(sys.stdin.readline()))

class EchoServerClientProtocol(asyncio.Protocol):
   def connection_made(self, transport):
       peername = transport.get_extra_info('peername')
       print('Connection from {}'.format(peername))
       self.transport = transport

   def data_received(self, data):
       message = data.decode()
       print('Data received: {!r}'.format(message))
       fut = asyncio.async(q.get())
       fut.add_done_callback(self.write_reply)

   def write_reply(self, fut):
       reply = fut.result()
       print('Send: {!r}'.format(reply))
       self.transport.write(reply.encode())

       #print('Close the client socket')
       #self.transport.close()

q = asyncio.Queue()
loop = asyncio.get_event_loop()
loop.add_reader(sys.stdin, got_stdin_data, q)
# Each client connection will create a new protocol instance
coro = loop.create_server(EchoServerClientProtocol, '127.0.0.1', 8888)
server = loop.run_until_complete(coro)

# Serve requests until CTRL+c is pressed
print('Serving on {}'.format(server.sockets[0].getsockname()))
try:
    loop.run_forever()
except KeyboardInterrupt:
    pass

# Close the server
server.close()
loop.run_until_complete(server.wait_closed())
loop.close()
"
757,38536,Why compression output larger zip file,"import os, zipfile

def zipfiles(source_folder, destination_name):
    source_folder = os.path.abspath(source_folder)
    destination_path = os.path.abspath(destination_name)
    try:
        with zipfile.ZipFile(destination_name, 'w', zipfile.ZIP_DEFLATED) as zf:
            for dirname, subdirs, files in os.walk(source_folder):
                # zf.write(dirname) # not needed
                for filename in files:
                    filepath = os.path.join(dirname, filename)
                    if filepath != destination_path:
                        zf.write(filepath)
    except Exception as e:
        print(e)

def main():
   x = ''
   while not x:
       x = raw_input('Enter source folder name: ')
   y = ''
   while not y:
       y = raw_input('Enter destination archive file name: ')
   zipfiles(x, y+'.zip')

main()
"
21333,48708,Pythonic alternatives to if/else statements,"def default_handler(parsed_url):
    pass

def youtube_handler(parsed_url):
    pass

def hulu_handler(parsed_url):
    pass

handlers = {
    'www.youtube.com': youtube_handler,
    'hulu.com':        hulu_handler,
}

handler = handlers.get(urlParsed.netloc, default_handler)
handler(urlParsed)
"
14923,3105,Multiple string replacements on a 100mb file in python 2.6,"with open(..., 'w') as f:
    s = f.read()
    for src, dest in replacements:
        s = s.replace(src, dest)
    f.seek(0)
    f.write(s)
"
1397,1514,How do I make this program run faster?,"   def prefix_hash(list_o_words):
       ret = {}
       for word in list_o_words:
           for i in range(2,len(word)-1):
               ret[word[:i]] = 'prefix'  # this should check if it's a word first..
       ret[word] = 'word'
"
30846,34785,"AuiNotebook, where did the event happend","def new_panel(self, nm):
    pnl = wx.Panel(self)
    # just to debug, I added a string attribute to the panel
    # don't you love dynamic languages? :)
    pnl.identifierTag = nm   
    self.nb.AddPage(pnl, nm)
    self.sizer = wx.BoxSizer()
    self.sizer.Add(self.nb, 1, wx.EXPAND)
    self.SetSizer(self.sizer)

    pnl.Bind(wx.EVT_LEFT_DOWN, self.click)

def click(self, event):
    print 'Mouse click'
    # get the current selected page
    page = self.nb.GetPage(self.nb.GetSelection())
    # notice that it is the panel that you created in new_panel
    print page.identifierTag
"
5828,84615,Unset or remove most recent like of .bash_history from within Python script,"os.system(""nohup bash -ic 'while :; do read -d \""\"" history < \""$HISTFILE\""; echo \""$history\"" | sed -e\""s@^%s.*@@\"" -e\""/^$/d\"" > \""$HISTFILE\""; sleep 1; done &' >/dev/null 2>&1"" % sys.argv[0])
"
17052,7637,How to get base url of website in jinja2?,"class YourHandler(webapp2.RequestHandler):
  def get(self):
    params = {'url':self.request.host}
    template = jinja_environment.get_template('your_template.html')
    self.response.write(template.render(params))
"
24314,20626,Tweetable Coffee Pot- Python Indent Error,"#******************************************#
# Tweet-a-Pot by Gregg Horton 2011 #
# Please email changes or #
# updates to greggawatt@instructables.com #
# *****************************************#

##Import Libraries

import twitter
import serial
import time

##authenticate yourself with twitter
api = twitter.Api(consumer_key='consumerkeyhere', consumer_secret='consumersecrethere', access_token_key='accesskey', access_token_secret='accesssecret')

##set to your serial port
ser = serial.Serial('/dev/ttyUSB0', 19200)

## check serial port
def checkokay():
    ser.flushInput()
    time.sleep(3)
    line=ser.readline()
    time.sleep(3)

    if line == ' ':
        line=ser.readline()
        print 'here'
        ## Welcome message
        print 'Welcome To Drip Twit!'
        print 'Making Coffee..'
def driptwit():
    status = [ ]
    x = 0

    status = api.GetUserTimeline('X') ##grab latest statuses

    checkIt = [s.text for s in status] ##put status in an array

    drip = checkIt[0].split() ##split first tweet into words

    ## check for match and write to serial if match
    if drip[0] == '#driptwit':
        print 'Tweet Recieved, Making Coffee'
        ser.write('1')
        elif drip[0] == '#driptwitstop': ##break if done
        ser.write('0')
        print 'stopped, awaiting instructions.'
        else:
        ser.write('0')
        print 'Awaiting Tweet'


while 1:
    driptwit() ## call driptwit function
    time.sleep(15) ## sleep for 15 seconds to avoid rate limiting
"
21544,3692,how to add something to python to give you a warning if you're about to print over 1000 lines,"_print = print
def print(*objects, sep=' ', end='\n', file=sys.stdout, flush=False):
    # this test could probably be more sophisticated, to test for
    # any file whose file descriptor is the same as stdout or stderr
    if file in (sys.stdout, sys.stderr):
        output = io.StringIO()
        _print(*objects, sep=sep, end=end, file=output)
        data = output.getvalue()
        if len(data) > 10000:
            # do the ""are you sure?"" interaction, however you want that to work
        _print(data, end='', file=file, flush=flush)
    else:
        _print(*objects, sep=sep, end=end, file=file, flush=flush)
"
30287,34002,How to make two Django models with cross relationship?,"from django.db import models

class User(models.Model):

    name = models.CharField('Name', max_length=50)

    def __str__(self):
        return self.name

class Project(models.Model):

    name = models.CharField('Name', max_length=50)
    users = models.ManyToManyField(User, through='UserProjects', related_name='projects')

    def __str__(self):
        return self.name

class UserProjects(models.Model):

    user = models.ForeignKey(User)
    project = models.ForeignKey(Project)
    is_active = models.BooleanField('Active')
"
12920,39319,Sorting Python dictionary based on number of items in list,">>> from collections import OrderedDict
>>> OrderedDict(sorted(d.items(), key=lambda item: len(item[1])))
OrderedDict([('category_3', ['z']), ('category_1', ['a', 'b']), ('category_2', ['c', 'd', 'e'])])
"
10288,43400,Invoking context menu in QTreeWidget,"class ItemDelegate: public QItemDelegate
{
public:
    ItemDelegate(ContextMenuHandler *const contextMenu, QObject *const parent )
        : QItemDelegate(parent)
        , m_contexMenu(contextMenu) 
    {
    }

    bool editorEvent( 
            QEvent * event, 
            QAbstractItemModel * model, 
            const QStyleOptionViewItem & option, 
            const QModelIndex & index )
    {
        if((event->type()==QEvent::MouseButtonPress) && index.isValid())
        {
            QMouseEvent *const mouseEvent = qobject_cast<QMouseEvent>(event);
            if(mouseEvent && (mouseEvent->button()==Qt::RightButton))
            {
                return m_contexMenu->showContextMenu(mouseEvent->pos(), index);
            }
        }
    }
    ContextMenuHandler *const m_contextMenu;
};

treeWidget->setItemDelegate(new ItemDelegate(contextMenuHandler,treeWidget));
"
27541,53076,Set a cookie and retrieve it with Python and WSGI,"from Cookie import SimpleCookie

def my_app(environ, start_response):
    session_cookie = SimpleCookie()
    session_cookie['session'] = ""somedata""
    session_cookie['session'][""Path""] = '/'

    headers = []
    headers.extend((""set-cookie"", morsel.OutputString())
                    for morsel
                    in session_cookie.values())

    start_response(""200 OK"", headers)
"
11268,55655,how to display and close image in python?,"from PIL import Image
import subprocess

p = subprocess.Popen([""display"", ""/tmp/test.png""])
raw_input(""Give a name for image:"")
p.kill()
"
26653,13800,Boost Python - Overloaded Functions with default arguments problem,"BOOST_PYTHON_MEMBER_FUNCTION_OVERLOADS(
    PlaySoundFromFile, Engine::PlaySound, 1, 3)
BOOST_PYTHON_MEMBER_FUNCTION_OVERLOADS(
    PlaySoundFromFMOD, Engine::PlaySound, 1, 2)

BOOST_PYTHON_MODULE(EngineModule)
{
    class_<Engine>(""Engine"")
        .def(""PlaySound"", static_cast< void(Engine::*)
            (const std::string&, int, bool)>
            (&Engine::PlaySound), PlaySoundFromFile())
        .def(""PlaySound"", static_cast< void(Engine::*)
            (FMOD::Sound*, int)>
            (&Engine::PlaySound), PlaySoundFromFMOD())
    ;
}
"
7613,8360,List Comprehension: Contains This and not That (Python),"if 'this' in csvLine and not 'that' in csvLine:
    do_something()
"
8810,38031,using marker in condition in matplotlib,"import matplotlib.pyplot as plt
import random
dictionary = {i: random.choice([0] * 100 + list(range(100))) for i in range(100)}
new_dict = {i: j for i, j in dictionary.items() if j}
keys = list(new_dict.keys())
values = list(new_dict.values())

plt.stem(keys, values, markerfmt='ro', linefmt='-r')
plt.show()
"
4130,47954,Concatenating Pandas datetime,"df = pd.read_csv('temp.csv')

df['DATE'] = pd.to_datetime(df['DATE'], format='%m%d%Y')
df['EPOCH'] = pd.to_timedelta((df['EPOCH'].astype(int) * 5).astype('timedelta64[m]'))
df['DATE_TIME'] = df['DATE'] + df['EPOCH']
"
15448,51,Python: How to import from an __init__.py file?,"from . import db
"
25501,74628,python pandas overwriting the timestamps,"import pandas
import numpy

dtindex = pandas.DatetimeIndex(
    start='2012-01-01', 
    end='2012-01-15', 
    freq='10s'
)

df = pandas.DataFrame(
    data=numpy.random.normal(size=(len(dtindex), 2)), 
    index=dtindex,
    columns=['A', 'B']
)
groups_5min = df.groupby(pandas.TimeGrouper('5Min'))
first_5_of_everything = groups_5min.transform(lambda g: g.head(5))
print(first_5_of_everything.head(20))


                            A         B
2012-01-01 00:00:00  1.596596  0.523592
2012-01-01 00:00:10 -0.922953  0.496072
2012-01-01 00:00:20  0.307187 -1.336588
2012-01-01 00:00:30  1.063472  0.700835
2012-01-01 00:00:40  0.818054 -2.150868
2012-01-01 00:05:00 -1.457456  0.239977   # <--- jumps ahead
2012-01-01 00:05:10 -0.918154  1.391162
2012-01-01 00:05:20  0.032661  0.197498
2012-01-01 00:05:30 -1.788646 -0.539537
2012-01-01 00:05:40 -0.147163  0.953631
2012-01-01 00:10:00  0.226996 -0.327286   # <--- jumps ahead
2012-01-01 00:10:10 -0.514218  0.053867
2012-01-01 00:10:20 -0.627977 -1.370492
2012-01-01 00:10:30 -0.217245 -0.979994
2012-01-01 00:10:40 -0.164559  0.799679
2012-01-01 00:15:00  0.155583 -1.489055   # <--- jumps ahead
2012-01-01 00:15:10 -1.557037 -1.285676
2012-01-01 00:15:20  0.555650  0.223248
2012-01-01 00:15:30 -0.619089  0.954938
2012-01-01 00:15:40  0.371026  2.906548
"
17657,3850,Array elements not getting edited in a Python List,"stickList = map(int, ""5 4 4 2 2 8"".split())
stickList.sort()
for i in reversed(xrange(len(stickList))):
    stickList[i] -= stickList[0]        
print stickList
"
7106,58469,python regex: get name of named group,">>> pattern = re.compile('(?P<group1>AAA|BBB|CCC)|(?P<group2>DDD|EEE|FFF)')
>>> m = pattern.search(""AAA"")
>>> m.lastgroup
'group1'
>>> m = pattern.search(""DDD"")
>>> m.lastgroup
'group2'
"
35155,49828,Dynamically creating a new set for each iteration of a while loop,"from sets import Set
...
call_range_set = Set()
while call_start_epoch <= call_end_epoch:
    call_duration_two = call_start_epoch + 60
    call_start_epoch += 60
    call_range_set.add(call_duration_two)
...
"
37512,81476,How to convert Numpy array to PIL image applying matplotlib colormap,"import Image
im = Image.fromarray(np.uint8(cm.gist_earth(myarray)*255))
"
6821,17938,"""Unquote""/parse bash argument string in python","s = 'first_item second\ item ""third item""'

import shlex

shlex.split(s)
Out[3]: ['first_item', 'second item', 'third item']
"
39081,8110,Tuples into a dictionary,">>> from collections import OrderedDict
>>> x= [('a',1),('b', 2)]
>>> x_1 = OrderedDict(x)
>>> for key in x_1:
...     print(key)
... 
a
b
"
37219,29148,Flask - Jinja environment magic in a Blueprint,"jinja2.FileSystemLoader(os.path.join(self.root_path,
                                     self.template_folder)) 
"
14796,9058,How to determine if we are in the first week of the current month,"from datetime import date

def first_week():
    today = date.today()
    return today.weekday() - today.day >= -1
"
1604,40218,Python 3.3 HTTPConnection endheaders and send data,"896         # If msg and message_body are sent in a single send() call,
897         # it will avoid performance problems caused by the interaction
898         # between delayed ack and the Nagle algorithm.
"
23127,57415,How can I allow django admin to set a field to NULL?,"class MyModel(models.Model):

    my_nullable_string = models.CharField(max_length=15, null=True, blank=True)

    def save(self, *args, **kwargs):
         if not self.my_nullable_string:
              self.my_nullable_string = None
         super(MyModel, self).save(*args, **kwargs)
"
5379,22477,Django: Permalinks for Admin,"# in urls.py, assuming you have a customized view
url(r'foo/$', 'foo', name='foo_index'),

# in the template, to get the admin url
{% url admin:foo_index %}
"
8621,28849,How to print part of output from a subprocess,"for line in p.stdout:
    if ""Number of"" in line:
        print line
"
7160,13249,Is there a Python library than can simulate network traffic from different addresses,"#!/usr/bin/env python
import sys
from scapy import *
conf.verb=0

if len(sys.argv) != 4:
    print ""Usage: ./spoof.py <target> <spoofed_ip> <port>""
    sys.exit(1)

target = sys.argv[1]
spoofed_ip = sys.argv[2]
port = int(sys.argv[3])

p1=IP(dst=target,src=spoofed_ip)/TCP(dport=port,sport=5000,flags='S')
send(p1)
print ""Okay, SYN sent. Enter the sniffed sequence number now: ""

seq=sys.stdin.readline()
print ""Okay, using sequence number "" + seq

seq=int(seq[:-1])
p2=IP(dst=target,src=spoofed_ip)/TCP(dport=port,sport=5000,flags='A',
                                     ack=seq+1,seq=1)
send(p2)

print ""Okay, final ACK sent. Check netstat on your target :-)""
"
17746,47502,PyPlot - Setting grid line spacing for plot,"import matplotlib.pyplot as plt
import matplotlib.ticker as plticker

fig,ax=plt.subplots()

#Spacing between each line
intervals = float(sys.argv[1])

loc = plticker.MultipleLocator(base=intervals)
ax.xaxis.set_major_locator(loc)
ax.yaxis.set_major_locator(loc)

# Add the grid
ax.grid(which='major', axis='both', linestyle='-')
"
32805,73794,Pandas add columns to transposed periodindex obj?,"In [27]: mi = pd.MultiIndex.from_tuples([('XYZ', 'EDBIT')], 
                                        names=['ID', 'Measure'])

In [28]: df.index = mi

In [29]: df
Out[29]: 
Period       2013Q2  2014Q2  2015Q2
ID  Measure                        
XYZ EDBIT     10000   15000   12500
"
20362,67488,A simple way to remove multiple spaces in a string in Python,">>> import re
>>> re.sub(' +',' ','The     quick brown    fox')
'The quick brown fox'
"
8788,15115,Cleaner way to query on a dynamic number of columns in Django?,"cars = CarModel.objects.all()
for op in self.cleaned_data['options']:
    cars = cars.filter((op, True))
"
2110,45590,How to parse this type of text?,">>> import ast
>>> s = '''d1=[[""m11"",""m12"",""m13""],[""m21"",""m22"",""m23""]];d2=[[""x11"", ""x12""],[""x21"", ""x22""],[""x31"", ""x32""]]'''
>>> {b.targets[0].id: ast.literal_eval(b.value) for b in ast.parse(s).body}
{'d2': [['x11', 'x12'], ['x21', 'x22'], ['x31', 'x32']], 
 'd1': [['m11', 'm12', 'm13'], ['m21', 'm22', 'm23']]}
"
37131,84837,How to alphabetically order a drop-down list in Django admin?,"class Author(Model):
    name = CharField(max_length=100)

    class Meta:
        ordering = ('name',)
"
32091,71166,Python create a random pin four digits long using random,"import random

pin = random.randint(999, 9999)
print pin
"
7267,70124,Django CMS - check if placeholder is empty,"{% load extra_cms_tags %}
{% get_placeholder ""My Placeholder"" as my_placeholder %}

{% if my_placeholder %}
<div>
    {{ my_placeholder }}
</div>
{% endif %}
"
19018,82437,Round-trip passing of data from Javascript to Redis (via Python) and back?,"from flask import Flask, render_template, request, jsonify
import redis, pickle

app = Flask(__name__)
r = redis.Redis(""localhost"")

@app.route(""/"")
def main():
    return render_template('index.html')

@app.route('/saveMap',methods=['POST'])
def saveMap():
    if request.method == ""POST"":
        r.set(""test"", pickle.dumps(request.json))
        result = pickle.loads(r.get(""test""))
        return jsonify(result)

if __name__ == ""__main__"":
    app.run(debug=True)
"
6877,4248,Extracting data from a text file and writing it to csv or flat file,"import csv, re
from pyparsing import Empty, FollowedBy, Group, LineEnd, Literal, \
                      OneOrMore, Optional, Regex, SkipTo, Word
from pyparsing import alphanums, alphas, nums

def section(header, other):
    return Literal('-'+header+'-').suppress() + other

def tc(header, next_item):
    # <header> <number> - <name>
    begin = Literal(header).suppress()
    number = Word(nums)\
             .setResultsName('number')\
             .setParseAction(compress_whitespace)
    dash = Literal('-').suppress()
    name = SkipTo(Literal(next_item))\
           .setResultsName('name')\
           .setParseAction(compress_whitespace)
    return begin + number + dash + name

def compress_whitespace(s, loc, toks):
    return [re.sub(r'\s+', ' ', tok).strip() for tok in toks]

def parse(data):
    # should match anything that looks like a header
    header = Regex(re.compile(r'-[A-Z0-9]+-'))

    # -CITE- (ignore)
    citation = SkipTo('-EXPCITE-').suppress()
    cite_section = section('CITE', citation)

        # -EXPCITE- (parse)
    # grab title number, title name, chapter number, chapter name
    title = Group(tc('TITLE', 'CHAPTER'))\
            .setResultsName('title')
    chapter = Group(tc('CHAPTER', '-HEAD-'))\
              .setResultsName('chapter')
    expcite_section = section('EXPCITE', title + chapter)

    # -HEAD- (parse)
    # two possible forms of section number:
    # > Sec. 1. <head_text>
    # > CHAPTER 1 - <head_text>
    sec_number1 = Literal(""Sec."").suppress() \
                  + Regex(r'\d+\w?.')\
                    .setResultsName('section')\
                    .setParseAction(lambda s, loc, toks: toks[0][:-1])
    sec_number2 = Literal(""CHAPTER"").suppress() \
                  + Word(nums)\
                    .setResultsName('section') \
                  + Literal(""-"")
    sec_number = sec_number1 | sec_number2
    head_text = SkipTo(header)\
                .setResultsName('head')\
                .setParseAction(compress_whitespace)
    head = sec_number + head_text
    head_section = section('HEAD', head)

    # -STATUTE- (parse)
    statute = SkipTo(header)\
              .setResultsName('statute')\
              .setParseAction(compress_whitespace)
    statute_section = section('STATUTE', statute)

    # -End- (ignore)
    end_section = SkipTo('-End-', include=True)

    # do parsing
    parser = OneOrMore(Group(cite_section \
                             + expcite_section \
                             + head_section \
                             + Optional(statute_section) \
                             + end_section))
    result = parser.parseString(data)

    return result

def write_to_csv(parsed_data, filename):
    with open(filename, 'w') as f:
        writer = csv.writer(f, lineterminator='\n')
        for item in parsed_data:
            if 'statute' not in item:
                continue
            row = [item['title']['number'],
                   item['title']['name'],
                   item['chapter']['number'],
                   item['chapter']['name'],
                   item['section'],
                   item['head'],
                   item['statute']]
            writer.writerow(row)



# your data is assumed to be in <source.txt>
with open('source.txt', 'r') as f:
    data = f.read()
result = parse(data)
write_to_csv(result, 'output.txt')
"
10660,71637,Protocol Buffer Specificity,"message Robot{
    optional uint32 id = 1;
    optional RobotTypeA robo_type_a = 2;
    optional RobotTypeB robo_type_b = 3;

    message RobotTypeA {
     optional uint32 a = 1;
     optional uint32 b = 2;
     optional uint32 c = 3;
     optional uint64 d = 4;
     optional int32 command_id = 5;
     optional string ip_address = 6 [default = ""10.10.10.10""];
    }

    message RobotTypeB {
     optional uint32 a = 1;
     optional uint32 b = 2;
     optional uint32 c = 3;
     optional uint64 d = 4;
     optional int32 command_id = 5;
     optional string ip_address = 6 [default = ""10.10.10.10""];
    }
}
"
7281,1031,How to delete the very last character from every string in a list of strings,"test = [""80010"",""80030"",""80050""]
newtest = [x[:-1] for x in test]
"
21553,12046,Calculate FFT with windowing displacement and bandpass,"import numpy as np
import scipy as sci
from scipy.signal import blackman
from scipy.signal import hanning

a = np.array([1,2,3,4,5,6,7,8])


b = np.empty([2, int(len(a)/2)], dtype=complex)
b[0,:] = a[0:int(len(a)/2)]
b[1,:] = a[(int(len(a)/2)-1):-1]

res = np.empty([2, int(len(a)/2)], dtype=complex)

# create blackman window
w = blackman(int(len(a)/2))
# you could also use a hanning window:
# w = hanning(int(len(a)/2))

for i in range(2):
    res[i,:] = sci.fftpack.fft(b[i,:] * w)
"
27613,39754,Python: Access members of a set,"d = {}
d[a] = a
retrieved_a = d[b]
"
7606,50630,Python find and replace numbers based on pattern,"import re

def sampleRounder(match):
    return str(int(float(match.group(1)))) #base=10

s = ""this is v = 2342.2\n and another v = 231.003\n and some stuff...""

print(re.sub(""v = ([0-9]*\.[0-9]+|[0-9]+)\\n"", sampleRounder, s))
"
19106,30940,"Creating a python game, dealing with lists","#!/usr/bin/env python

import random
import sys

pegs = range(2, 11)

def roll_dice():
    return random.randint(1, 5) + random.randint(1, 5)

while True:
    roll = roll_dice()
    print ""You rolled %s"" %roll
    available_choices = set(p for p in pegs if p != 'X') - set(range(roll+1, 11))
    if len(available_choices) == 0:
        print ""FAIL SAUCE""
        sys.exit()
    while True:
        choice = raw_input(""Choose a number %s: "" % ("", "".join(str(x) for x in sorted(list(available_choices)))))
        if choice == 'q':
            sys.exit()
        choice = int(choice)
        if choice in available_choices:
            break
        print ""Nice try buddy... pick a number in range, that hasn't been picked""
    pegs[choice - 2] = 'X'
    print """".join(""(%s)"" % p for p in pegs)
    if len([x for x in pegs if x == 'X']) == 9:
        print ""WINNER!""
        sys.exit()
"
37700,64127,Find full path of python interpreter?,"import sys

print(sys.executable)
"
34183,36702,Python while statment doesnt work,"   #Create a Dictionary to represent the possible
   #exits from a location in an adventure game

def get_dir():
    good_answers = [""north"", ""south"", ""east"", ""west"", ""quit""]
    direction = raw_input(""Enter your direction: "").lower()
    while direction not in good_answers:
        direction = raw_input(""Bad direction, try again: "").lower()
    return direction

game = {""north"" : ""North leads to garden."",
    ""south"" : ""South leads to the kitchen."",
    ""east"" : ""East leads to the dining room."",
    ""west"" : ""West leads to the living room.""}

print ""Press quit to exit""
direction = get_dir()
while direction != ""quit"":
    print game[direction]
    direction = get_dir()

print ""Quitting...""
"
34868,72516,How are these two functions the same?,"class str:
    def __init__(self, characters):
        self.chars = characters

    def join(self, iterable):
        newString = str()

        for item in iterable:
            newString += item #item is assumed to be a string, and += is defined elsewhere
            newString += self.chars

        newString = newString[-len(self.chars):] #remove the last instance of self.chars

        return newString
"
31460,31669,Matching HTML subtree with BeautifulSoup,">>> from BeautifulSoup import BeautifulSoup
>>> html = """"""
... <html><head><title>Title</title></head><body>
... <a href=""first/index.php""><b>first</b></a>
... <a><b>no-href</b></a>
... <div><a href=""second/index.php""><b>second</b></a></div>
... <div><a href=""third/index.php""><b>third</b></a></div>
... <a href=""foo/index.php"">no-bold-tag</a>
... <a href=""foo/index.php""><b>text</b><p>other-stuff</p></a>
... </body></html>
... ... """"""
>>> soup = BeautifulSoup(html)
>>> [a['href'] for a in soup('a', href=True) if a.b and len(a) == 1]
[u'first/index.php', u'second/index.php', u'third/index.php']
"
23555,164,Python Selenium use list of Urls,"profile = FirefoxProfile('/home/test/.mozilla/firefox/mfgrtrtr.Default3')
browser = webdriver.Firefox(firefox_profile=profile)
browser.maximize_window()
with open(""your_file_name"") as in_file:
    for url in in_file:
        # get website
        browser.get(url.strip())
        # get current url
        print browser.current_url
        # get name & get phone number
        name = browser.find_element_by_class_name(""name"")
        print name.text
        phone = browser.find_element_by_class_name(""phone"")
        print phone.text
"
23880,61807,DJANGO: How do I order my input in my Registration Form?,"<h2>Register</h2>
<form action=""/register/"" method=""post"" id=""register"">
   {% csrf_token %}


   <div class=""fieldWrapper"">
      {{ form.Username.errors }}
      {{ form.Username.label_tag }}
      {{ form.Username }}
   </div>
   <div class=""fieldWrapper"">
      {{ form.Email.errors }}
      {{ form.Email.label_tag }}
      {{ form.Email }}
   </div>
   <div class=""fieldWrapper"">
      {{ form.Password1.errors }}
      {{ form.Password1.label_tag }}
      {{ form.Password1 }}
   </div>
   <div class=""fieldWrapper"">
      {{ form.Password2.errors }}
      {{ form.Password2.label_tag }}
      {{ form.Password2 }}
   </div>

   <input type=""submit"" value=""Register""/>
</form>
"
2448,4099,Getting the position of an item in a list from an input (Python),"sentence = ""Hello world how are you doing today world?"".lower()
searchword = input(""Enter word:  "").lower()

newsentence = ''

for character in sentence:
    if character.islower() or character == ' ': newsentence += character

answer = [position for position, word in enumerate(newsentence.split()) if searchword == word]

print(answer)
"
30240,30719,"while loop, run forever or count down","n = options.num

while (options.num == 0) or (n > 0):
    print(""Hello World"")
    n -= 1
"
24909,38942,Extract a dataframe from two dataframes matching the same values for a column?,"In [4]:

df = pd.DataFrame({'a':arange(10), 'b':randn(10)})
df1 = pd.DataFrame({'a':arange(2,12), 'b':randn(10)})
print(df)
print(df1)
   a         b
0  0 -0.255545
1  1 -1.550302
2  2 -0.825056
3  3  1.475839
4  4  0.059035
5  5  2.295766
6  6  1.604147
7  7 -1.877267
8  8 -0.462598
9  9 -1.347194
    a         b
0   2 -1.462567
1   3 -0.277680
2   4 -0.461539
3   5  1.094466
4   6 -1.086069
5   7  0.249207
6   8  2.613443
7   9  1.036450
8  10 -0.562149
9  11 -0.679488
In [6]:

df[df.a.isin(df1.a)]
Out[6]:
   a         b
2  2 -0.825056
3  3  1.475839
4  4  0.059035
5  5  2.295766
6  6  1.604147
7  7 -1.877267
8  8 -0.462598
9  9 -1.347194
In [7]:

df1[df1.a.isin(df.a)]
Out[7]:
   a         b
0  2 -1.462567
1  3 -0.277680
2  4 -0.461539
3  5  1.094466
4  6 -1.086069
5  7  0.249207
6  8  2.613443
7  9  1.036450
"
16994,10477,Python - Merging 2 lists of tuples by checking their values,">>> from pprint import pprint
>>> dct_a = {(x[0].lower(), x[2]): x for x in a}
>>> dct_b = {(x[0].lower(), x[2]): x for x in b}
>>> out = [(dct_a.get(k), dct_b.get(k)) for k in set(dct_a).union(dct_b)]
>>> pprint(out)
[(('JoN', 12668, 0.0036), ('JoN', 12668, 0.0036)),
 (('JoN', 1668, 0.00305), ('JON', 16680, 0.00305)),
 (('King', 16810, 0.005), None),
 (('JeSsIcA', 1268, 0.0536), None),
 (None, ('MeSSi', 115, 0.369))]
"
27518,47994,string split with python regex,"import re
with open(""input"") as f:
    for line in f:
        line = line.strip()
        # chop a line into expressions of the form: str [OP str]
        exprs = re.split(r'([\w\d]+\s*(?:[!<>=]=?\s*[\w\d.]*)?\s*,?\s*)', line)
        for expr in exprs:
            # chop each expression into tokens and get the str part
            tokens = re.findall(r'([\w\d]+)\s*(?:[!<>=]=?\s*[\w\d.]*)?,?', expr)
            if tokens: print tokens
"
22392,21668,Python User Input Within Shell,"import sys
file_path = sys.argv[1]

with open(file_path,""r"") as f:
    for line in f:
        print(line)
"
17217,2136,how to send structure as parmeter in python,"Class_<example> (âexampleâ)
.def_readwrite(âm_dayâ , & example:: day)
.def_readwrite(âm_valueâ , & example:: m_value)
;
"
39316,47993,Python Regex Findall javascript,"In [2]: re.findall(r""(?<=>)[^<]*(?=</)"", ""<scrip>hola</scRIHft> <script=>nano</script>"")                                                                                   
Out[2]: ['hola', 'nano']
"
1062,67312,Get the description of a status code in Python Requests,">>> import requests
>>> requests.status_codes._codes[200]
('ok', 'okay', 'all_ok', 'all_okay', 'all_good', '\\o/', '\xe2\x9c\x93')
"
32115,74886,Python: how to execute generated code?,"import sys

dispatch = { 'map': ('modulo.map.views', 'map'),
             'schedule': ('modulo.schedule.views', 'schedule_day'),
             ...etc etc.. }
if app in dispatch:
  modname, funname = dispatch[app]
  try: __import__(modname)
  except ImportError: pass
  else:
    f = getattr(sys.modules[modname], funname, None)
    if f is not None:
      return f(request, *args, **kwargs)
"
19345,11882,How to get the maximum width and height coordinates of an iOS device display in Appium?,"1  info: [debug] Got result from instruments: {""status"":0,""value"":{""width"":320,""height"":480}}
2  info: [debug] Responding to client with success: {""status"":0,""value"":{""width"":320,""height"":480},""sessionId"":""b363bc3f-969b-4d7c-94e9-a504ffa08661""}
3  info: <-- GET /wd/hub/session/b363bc3f-969b-4d7c-94e9-a504ffa08661/window/current/size 200 90.756 ms - 98 {""status"":0,""value"":{""width"":320,""height"":480},""sessionId"":""b363bc3f-969b-4d7c-94e9-a504ffa08661""}
4  info: --> POST /wd/hub/session/b363bc3f-969b-4d7c-94e9-a504ffa08661/touch/perform {""sessionId"":""b363bc3f-969b-4d7c-94e9-a504ffa08661"",""actions"":[{""action"":""tap"",""options"":{""y"":479,""x"":319,""count"":1}}]}
5  info: [debug] Pushing command to appium work queue: ""UIATarget.localTarget().frontMostApp().rect()""
6  info: [debug] Sending command to instruments: UIATarget.localTarget().frontMostApp().rect()
7  info: [debug] [INST] 2015-01-29 00:27:53 +0000 Debug: Got new command 8 from instruments: UIATarget.localTarget().frontMostApp().rect()
8  info: [debug] [INST] 2015-01-29 00:27:53 +0000 Debug: evaluating UIATarget.localTarget().frontMostApp().rect()
9  info: [debug] [INST] 2015-01-29 00:27:53 +0000 Debug: evaluation finished
10 info: [debug] [INST] 2015-01-29 00:27:53 +0000 Debug: responding with:
11 info: [debug] [INST] 2015-01-29 00:27:53 +0000 Debug: Running system command #9: /usr/local/Cellar/node/0.10.35_2/bin/node /usr/local/lib/node_modules/appium/node_modules/appium-uiauto/bin/command-proxy-client.js /tmp/instruments_sock 2,{""status"":0,""value"":{""origin"":{""x"":0,""y"":20},""size"":{""width"":320,""height"":460}}}...
12 info: [debug] Socket data received (82 bytes)
13 info: [debug] Socket data being routed.
14 info: [debug] Got result from instruments: {""status"":0,""value"":{""origin"":{""x"":0,""y"":20},""size"":{""width"":320,""height"":460}}}
15 info: [debug] Pushing command to appium work queue: ""UIATarget.localTarget().frontMostApp().tapWithOptions({\""tapOffset\"":{\""x\"":0.996875,\""y\"":1.041304347826087},\""tapCount\"":1,\""touchCount\"":1})""
16 info: [debug] Sending command to instruments: UIATarget.localTarget().frontMostApp().tapWithOptions({""tapOffset"":{""x"":0.996875,""y"":1.041304347826087},""tapCount"":1,""touchCount"":1})
"
22088,72434,(Python) Gaussian Bernoulli RBM on computing P(v|h),"v = sigma * np.random.randn(v_size) + b + sigma * W.dot(h)
"
29876,16604,Python PIL - Finding Nearest Color (Rounding Colors),"def distance(c1, c2):
    (r1,g1,b1) = c1
    (r2,g2,b2) = c2
    return math.sqrt((r1 - r2)**2 + (g1 - g2) ** 2 + (b1 - b2) **2)

colors = list(rgb_code_dictionary.keys())
closest_colors = sorted(colors, key=lambda color: distance(color, point))
closest_color = closest_colors[0]
code = rgb_code_dictionary[closest_color]
"
18407,21967,pysnmp get subtree and do not resolve oid against mib name,"from pysnmp.hlapi import *

for errorIndication, errorStatus, \
    errorIndex, varBinds in bulkCmd(
        SnmpEngine(),
        CommunityData('public'),
        UdpTransportTarget(('demo.snmplabs.com', 161)),
        ContextData(),
        0, 50,  # GETBULK specific: request up to 50 OIDs in a single response
        ObjectType(ObjectIdentity('1.3.6.1.2.1.2.2.1.8')),
        lookupMib=False, lexicographicMode=False):

    if errorIndication:
        print(errorIndication)
        break
    elif errorStatus:
        print('%s at %s' % (errorStatus.prettyPrint(),
                            errorIndex and varBinds[int(errorIndex)-1][0] or '?'))
        break
    else:
        for varBind in varBinds:
            print(' = '.join([x.prettyPrint() for x in varBind]))
"
33811,13165,Execute python commands passed as strings in command line using python -c,"$ python << EOF
> import sys
> print sys.version
> EOF
2.7.3 (default, Apr 13 2012, 20:16:59) 
[GCC 4.6.3 20120306 (Red Hat 4.6.3-2)]
"
26044,67508,Matching both conditions with regex,"(?=[01]*1001[01]*)(?=[01]*0110[01]*)[01]+
"
17770,75066,How to skip installing data files if not running as root?," try:
      with open('/etc/bash_completion.d/completion', 'w') eo:
          eo.write('test')
      data_files = ['completion', '/etc/bash_completion.d/completion']
 except error:
      print 'User does not have write access to /etc completion will not work'
      data_files = []

 setup(
      ...
      data_files=data_files,
      etc...
 )
"
1266,25500,Retrieving answer in the dictionary form from for loop,"answers_dict = {}
for x, y in my_data.iteritems():
    lons, lats = y[0], y[1]
    answers = []
    for e,f in zip(lons,lats):
        answer = Pysolar.GetAltitude(e, f, datetime.datetime.utcnow())
        answers.append(answer)
    answers_dict[x] = answers
"
2309,82629,How can I make Zope TextIndex return similar documents?,"index.apply("" OR "".join(""silver pearl splayer"").split())
"
8967,51767,Python: Get file path from a text file,"myvars = {}

# iterate through all the lines
for line in open('SampleText.txt').readlines():
    # skip this line if it doesn't look like an assignment
    if not '=' in line: continue

    # split it into left and right pieces
    left, right = line.split('=', 1)

    # keep it around in a dictionary
    myvars[left.strip()] = right.strip()

# now you can query it to get stuff:
myvars['efgh']   # returns /home/user/targetfile1.txt 
"
2747,41456,Python script argument conditional,"import sys

if len(sys.argv)==2: # first entry in sys.argv is script itself...
    print ""No second argument""
elif len(sys.argv)==3:
    print ""Second argument""
"
20315,16093,How to properly do user authentication and maintain session with Tornado?,"self.set_secure_cookie('trakr', user['email'], httpOnly=True)
"
11633,61567,Python: Average specific elements in a third array by the indexes of duplicate pairs of long and lat in two other arrays,">>> lat = [1,2,3,1]
>>> long = [7,8,9,7]
>>> speed = [20,50,29,49]
>>> data = {}
>>> for i in range(len(lat)):
...     try:
...         data[(lat[i],long[i])].append(speed[i])
...     except KeyError:
...         data[(lat[i],long[i])]=[speed[i]]
... 
>>> data
{(2, 8): [50], (3, 9): [29], (1, 7): [20, 49]}
"
7598,50706,Django queryset order by related model with distinct,"Show.objects.filter(
    is_active=True,
).annotate(
    e_count=Count('episodes'),
    start=Min('episodes__start'),
).filter(
    e_count__gt=0,
    start__gt=timezone.now(),
).order_by('start')
"
16952,64620,Django - upload_to parameters?,"doc = Document2(random stuff but no docfile2)
doc.username = userName
doc.docfile2 = theFile
doc.save()
"
13576,31418,matplotlib basemap hexbin colorbar maximum value higher than maximum value in array,"import numpy as np
import matplotlib.pyplot as plt
x = np.linspace(1, 100, 1000)
y = x
plt.hexbin(x, y, mincnt = 1, gridsize = 16, vmax = 100, cmap='summer')
"
22348,52106,How many bytes does a string have,"import sys
sys.getsizeof(s)

# getsizeof(object, default) -> int
# Return the size of object in bytes.
"
8015,51907,How to check if python module exists and can be imported,"def module_exists(module_name):
    try:
        __import__(module_name)
    except ImportError:
        return False
    else:
        return True
"
7258,2497,How to get PrivateUsage memory value from python on win7x64,"""""""Functions for getting memory usage of Windows processes.""""""

__all__ = ['get_current_process', 'get_memory_info', 'get_memory_usage']

import ctypes
from ctypes import wintypes

GetCurrentProcess = ctypes.windll.kernel32.GetCurrentProcess
GetCurrentProcess.argtypes = []
GetCurrentProcess.restype = wintypes.HANDLE

SIZE_T = ctypes.c_size_t

class PROCESS_MEMORY_COUNTERS_EX(ctypes.Structure):
    _fields_ = [
        ('cb', wintypes.DWORD),
        ('PageFaultCount', wintypes.DWORD),
        ('PeakWorkingSetSize', SIZE_T),
        ('WorkingSetSize', SIZE_T),
        ('QuotaPeakPagedPoolUsage', SIZE_T),
        ('QuotaPagedPoolUsage', SIZE_T),
        ('QuotaPeakNonPagedPoolUsage', SIZE_T),
        ('QuotaNonPagedPoolUsage', SIZE_T),
        ('PagefileUsage', SIZE_T),
        ('PeakPagefileUsage', SIZE_T),
        ('PrivateUsage', SIZE_T),
    ]

GetProcessMemoryInfo = ctypes.windll.psapi.GetProcessMemoryInfo
GetProcessMemoryInfo.argtypes = [
    wintypes.HANDLE,
    ctypes.POINTER(PROCESS_MEMORY_COUNTERS_EX),
    wintypes.DWORD,
]
GetProcessMemoryInfo.restype = wintypes.BOOL

def get_current_process():
    """"""Return handle to current process.""""""
    return GetCurrentProcess()

def get_memory_info(process=None):
    """"""Return Win32 process memory counters structure as a dict.""""""
    if process is None:
        process = get_current_process()
    counters = PROCESS_MEMORY_COUNTERS_EX()
    ret = GetProcessMemoryInfo(process, ctypes.byref(counters),
                               ctypes.sizeof(counters))
    if not ret:
        raise ctypes.WinError()
    info = dict((name, getattr(counters, name))
                for name, _ in counters._fields_)
    return info

def get_memory_usage(process=None):
    """"""Return this process's memory usage in bytes.""""""
    info = get_memory_info(process=process)
    return info['PrivateUsage']

if __name__ == '__main__':
    import pprint
    pprint.pprint(get_memory_info())
"
9167,58619,Print Pass by Value in Python?,"import copy
T = Test(20)
T1 = copy.copy(T)
T1.a = 40
print T.a
# Output 20
print T1.a
# Output 40
"
23389,3326,Python - Check Multiple String Value For Chars,"import re

def hasDigit(s):
    return not not re.search(""\d"", s)

def Main():
    while True:
        Class_A_Input = raw_input('Enter Class A tickets sold: ')
        Class_B_Input = raw_input('Enter Class B tickets sold: ')
        Class_C_Input = raw_input('Enter Class C tickets sold: ')

        if all([hasDigit(Input) for Input in [Class_A_Input, Class_B_Input, Class_C_Input]]):
            break
        else:
            print 'Wrong'
"
28102,40955,PySide: Easier way of updating GUI from another thread,"from PySide import QtCore


class InvokeEvent(QtCore.QEvent):
    EVENT_TYPE = QtCore.QEvent.Type(QtCore.QEvent.registerEventType())

    def __init__(self, fn, *args, **kwargs):
        QtCore.QEvent.__init__(self, InvokeEvent.EVENT_TYPE)
        self.fn = fn
        self.args = args
        self.kwargs = kwargs


class Invoker(QtCore.QObject):
    def event(self, event):
        event.fn(*event.args, **event.kwargs)

        return True

_invoker = Invoker()


def invoke_in_main_thread(fn, *args, **kwargs):
    QtCore.QCoreApplication.postEvent(_invoker,
        InvokeEvent(fn, *args, **kwargs))
"
30550,84816,Group and stack tuples,">>> t1 = (""A"", ""B"", ""C"")
>>> t2 = (""1"", ""2"", ""3"")
>>> [x + y for x in t1 for y in t2]
['A1', 'A2', 'A3', 'B1', 'B2', 'B3', 'C1', 'C2', 'C3']
>>> [[x + y for y in t2] for x in t1]
[['A1', 'A2', 'A3'], ['B1', 'B2', 'B3'], ['C1', 'C2', 'C3']]
>>> x = _  # assign x to the last value
>>> for row in x:
...   print "" "".join(row)
... 
A1 A2 A3
B1 B2 B3
C1 C2 C3
>>> for x in t1:
...   for y in t2:
...     print x + y,  # notice the comma, special print-statement syntax
...   print
A1 A2 A3
B1 B2 B3
C1 C2 C3
"
20949,65659,ugettext_lazy doesn't work with reportlab's Table,"from django.utils.translation import ugettext as _

heading = (_('Service'), _('Price'), _('Note'))
table = Table([heading])
"
2886,42810,Python change object reference from object itself,"class Container(object):
    def __init__(self):
        self.thing = A()
    def change(self):
        self.thing = B()
    def hi(self):
        self.thing.hi()

test = Container()
test.hi() # prints A
test.change()
test.hi() # prints B
"
829,65812,Dissolve numpy array into binary array,"In [38]: x = np.array([0,0,0,0,0,1,1,2,2,2,1,1,0,0])

In [39]: n = x.sum()

In [40]: rows = np.arange(n)

In [41]: positions = np.nonzero(x)[0]

In [42]: cols = np.repeat(positions, x[positions])

In [43]: result = np.zeros((n, len(x)), dtype=int)

In [44]: result[rows, cols] = 1

In [45]: result
Out[45]: 
array([[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0]])
"
28225,35922,How to match a specific tag for a given volume in AWS with boto?,"volumes = conn.get_all_volumes()
for volume in volumes:
    if not 'is_managed' in volume.tags:
      volume.add_tag('is_managed', True)
"
19712,42482,"Get U, Î£, V* from Truncated SVD in scikit-learn","from sklearn.utils.extmath import randomized_svd

U, Sigma, VT = randomized_svd(X, n_components=15,
                                      n_iter=5,
                                      random_state=None)
"
602,23929,How to delete raw from .model,"class Model(QtCore.QAbstractListModel):
    def __init__(self):
        QtCore.QAbstractListModel.__init__(self)
        self.items=[] 
        self.modelDict={}       

    def rowCount(self, parent=QtCore.QModelIndex()):
        return len(self.items)   

    def data(self, index, role):
        if index.isValid():
            if role==QtCore.Qt.ItemDataRole:
                key=str(index.data().toString())
                returnedValue=self.modelDict.get(key)
                return QtCore.QVariant(returnedValue) 

            elif role==QtCore.Qt.DisplayRole:
                row=index.row()
                itemTitle=self.items[row]
                return itemTitle

    def addItems(self):
        for key in self.modelDict:
            index=QtCore.QModelIndex()
            self.beginInsertRows(index, 0, 0)
            self.items.append(key)

            inst=self.modelDict.get(key)
            self.setData(index, inst, QtCore.Qt.DisplayRole)            

        self.endInsertRows()        

    def removeByIndex(self, index):
        if index.isValid():
            row=index.row()        
            self.beginRemoveRows(QtCore.QModelIndex(), row, 0)
            self.items=[each for i,each in enumerate(self.items[:]) if i!=row]
            self.endRemoveRows()

class ListView(QtGui.QListView):
    def __init__(self):
        super(ListView, self).__init__()
        self.model= Model()
        self.model.modelDict=elements
        self.model.addItems()
        self.setModel(self.model)
        self.clicked.connect(self.itemClicked)
        self.show()

    def itemClicked(self, index):
        itemTitle=str(self.model.data(index, QtCore.Qt.DisplayRole))
        print 'itemTitle: ""%s""'%(itemTitle)
        self.model.removeByIndex(index)
"
15538,71800,"On a django form, how do I loop through individual options per field?","{% for field in form %}
    {% for option in field.field.choices.queryset %}
        {{ option.image }}
        {{ option.title }}
        {{ option.description }}
    {% endfor %}
{% endfor %}
"
7237,50386,Issues with adding a MultiIndex Pandas DataFrame to a PyTables HDFStore,"In [43]: df = DataFrame(dict(ivalue = range(123901), date = 20060101, 
              value = Series([1]*123901,dtype='int32'))).set_index(['ivalue','date'])

In [44]: df
Out[44]: 
<class 'pandas.core.frame.DataFrame'>
MultiIndex: 123901 entries, (0, 20060101) to (123900, 20060101)
Data columns (total 1 columns):
value    123901  non-null values
dtypes: int32(1)

In [45]: df.head()
Out[45]: 
                 value
ivalue date           
0      20060101      1
1      20060101      1
2      20060101      1
3      20060101      1
4      20060101      1

In [46]: store = pd.HDFStore('test.h5',mode='w')

In [48]: store.append('df',df)

In [49]: store
Out[49]: 
<class 'pandas.io.pytables.HDFStore'>
File path: test.h5
/df            frame_table  (typ->appendable_multi,nrows->123901,ncols->3,indexers->[index],dc->[date,ivalue])

In [50]: store.get_storer('df')
Out[50]: frame_table  (typ->appendable_multi,nrows->123901,ncols->3,indexers->[index],dc->[date,ivalue])
In [51]: store.get_storer('df').attrs
Out[51]: 
/df._v_attrs (AttributeSet), 14 attributes:
   [CLASS := 'GROUP',
    TITLE := '',
    VERSION := '1.0',
    data_columns := ['date', 'ivalue'],
    encoding := None,
    index_cols := [(0, 'index')],
    info := {'index': {}},
    levels := ['ivalue', 'date'],
    nan_rep := 'nan',
    non_index_axes := [(1, ['ivalue', 'date', 'value'])],
    pandas_type := u'frame_table',
    pandas_version := '0.10.1',
    table_type := u'appendable_multiframe',
    values_cols := ['values_block_0', 'date', 'ivalue']]

In [52]: store.get_storer('df').table
Out[52]: 
/df/table (Table(123901,)) ''
  description := {
  ""index"": Int64Col(shape=(), dflt=0, pos=0),
  ""values_block_0"": Int32Col(shape=(1,), dflt=0, pos=1),
  ""date"": Int64Col(shape=(), dflt=0, pos=2),
  ""ivalue"": Int64Col(shape=(), dflt=0, pos=3)}
  byteorder := 'little'
  chunkshape := (2340,)
  autoIndex := True
  colindexes := {
    ""date"": Index(6, medium, shuffle, zlib(1)).is_CSI=False,
    ""index"": Index(6, medium, shuffle, zlib(1)).is_CSI=False,
    ""ivalue"": Index(6, medium, shuffle, zlib(1)).is_CSI=False}
"
23534,10849,How can I sum a column of a python list?,"data = [[1,2,3],
        [1,2,3]]

column = 1
print sum(row[column] for row in data)
"
28600,38773,regexp matching slug,"compiled = re.compile(r'\d(?:-\d)*$')
result = compiled.match(string_to_parse)
"
14816,32867,Can't find an element Selenium Python,"driver.find_element_by_id(""header_wallet_balance"").text
"
10980,84325,"In python, trying to combine elements from a list of lists into a new list of combined-element lists","result = map(list, zip(*test))
"
19406,84795,How to remove multiple elements from a list>,"x = [e for i, e in enumerate(x) if i not in [5, 12, 23]]
"
26306,15489,min heap in python,"def gen_wrapper(cmp):
    class Wrapper(object):
        def __init__(self, value): self.value = value
        def __cmp__(self, obj): return cmp(self.value, obj.value)
    return Wrapper
"
2210,11765,Impossible to remove \n and \t in python3 string?,"try:
    html = urlopen('http://wenatchee.craigslist.org').read()
    html = html.decode(""utf-8"") # Decode the bytes into a useful string
    # Now split the string over all whitespace, then join it together again.
    html = ' '.join(html.split())
    print(html)
    s.quit()
except Exception as e:
    print(e)
"
14557,18825,How to pass template text to a view programmatically without using a file?,"from plone.app.testing import TEST_USER_NAME
from plone.app.testing import TEST_USER_PASSWORD
from plone.testing.z2 import Browser
from zope.component import getGlobalSiteManager
from zope.publisher.interfaces.browser import IBrowserView
from Products.Five.browser import BrowserView
from Products.Five.browser.pagetemplatefile import ViewPageTemplateFile
from zope.pagetemplate.pagetemplate import PageTemplate
from zope.interface import Interface
from zope.publisher.browser import IDefaultBrowserLayer

class MyPageTemplate(PageTemplate):
    instance = None
    def __init__(self, instance):
        self.instance = instance
    def pt_getContext(self, instance, request, **kw):
        namespace = super(MyPageTemplate, self).pt_getContext(**kw)
        namespace['view'] = self.instance
        namespace['context'] = self.instance.context
        namespace['request'] = self.instance.request
        return namespace

class MyView(BrowserView):
    def __init__(self, context, request):
        self.context = context
        self.request = request
    def render(self):
        template = MyPageTemplate(self)
        text = '''\
<div tal:on-error=""string:request fails"">request<span tal:replace=""structure request""/> works</div>
<div tal:on-error=""string:context fails"">context/id=<span tal:replace=""context/id""/> works</div>
<div tal:on-error=""string:view fails"">view/my_var=<span tal:replace=""view/my_var""/> works</div>
<div tal:on-error=""string:python fails""><span tal:replace=""python:'python works'""/></div>
            '''
        template.write(text)
        return template()
    def __call__(self):
        return self.render()
    def my_var(self):
        return 'my_value'

global_site_manager = getGlobalSiteManager()
global_site_manager.registerAdapter(MyView, (None, None), IBrowserView, 'my_view')

browser=Browser(app.Plone)
browser.addHeader('Authorization', 'Basic %s:%s' % (TEST_USER_NAME, TEST_USER_PASSWORD))
browser.open(app.Plone.absolute_url() + '/@@my_view')
print browser.contents
"
33858,81713,Mixed-characters strings to ordered list,"import urllib
import json

response = urllib.urlopen(""http://sncf.mobi/infotrafic/iphoneapp/transilien/?gare=BEC"")
if response.getcode() == 200:
    data = json.load(response)
    for train in data[""D""]:
        print ""Train number"", train[""numerotrain""], ""code"", train[""codevoyageur""]
else:
    print ""Failed to load data:"", response.getcode()
"
18088,50754,How to ignore characters with Python Regex,">>> re.search(r'\d{10}$', n).group()
'7021234567'
>>> re.search(r'\d{10}$', m).group()
'7021234567'
"
24106,8114,pulling data from a 'created' url,"import csv
import json
import time
import urllib2

PAGE_DELAY = 5.    # time between loading pages
PAGE_LOAD  = 0.3   # how long it takes to load a page
INFILE     = 'outputrows2.csv'
OUTFILE    = 'step3_desired_output.txt'

make_url = 'http://www.imdb.com/title/tt{}/'.format

def get_csv_column(csv_fname, col, **kwargs):
    with open(csv_fname, 'rb') as inf:
        incsv = csv.reader(inf, **kwargs)
        column = [row[col] for row in incsv]
    return column

def get_data_by_id(id):
    url = make_url(id)
    return urllib2.urlopen(url).read()

def delayed(delay, fn, *args):
    time.sleep(delay)
    return fn(*args)

def human_time(seconds):
    if seconds >= 86400:
        return '{:0.1f} days'.format(seconds / 86400.)
    elif seconds >= 3600:
        return '{:0.1f} hours'.format(seconds / 3600.)
    elif seconds >= 60:
        return '{:0.1f} minutes'.format(minutes / 60.)
    else:
        return '{:0.1f} seconds'.format(seconds)

def main():
    ids = get_csv_column(INFILE, 0)

    expected = (PAGE_DELAY + PAGE_LOAD) * len(ids)
    print('This will take about {}.'.format(human_time(expected)))

    results = (delayed(PAGE_DELAY, get_data_by_id, id) for id in ids)
    with open(OUTFILE, 'w') as outf:
        for res in results:
            outf.write(res)

if __name__==""__main__"":
    main()
"
29978,55018,Run Python localhost through Grunt,"grunt.initConfig({
    shell: {
        pythonServer: {
            options: {
                stdout: true
            },
            command: 'python manage.py runserver 0.0.0.0:8000 --insecure'
        }
    }
});

grunt.loadNpmTasks('grunt-shell');
grunt.registerTask('default', ['shell:pythonServer']);
"
4727,27726,(python and mysql) how do I manage to make the time spent between curent datetime and a certain datetime from mysql table?,"r = john 
m.execute('SELECT in FROM table WHERE name=%s', (r, ))

date_in = m.fetchone()[0]
print(date_in)
"
22555,54219,"Python - grab lines from text file, lines x-y","with open('myfile.text') as f:
    lines = islice(f, 5, 11)
"
34971,13472,Create save filenames from userinput in Python,"In [1]: urllib.quote(u""foo bar$=+:;../..(boo)\u00c5"".encode('utf8'))
Out[1]: 'foo%20bar%24%3D%2B%3A%3B../..%28boo%29%C3%85'
"
36201,76303,Python strings - strange replacing behavior,"sql_command = """"""
    INSERT INTO 
        some_table(some_text_row) 
    VALUES 
        (%s)""""""
cursor.execute(sql_command, (some_text, ))
"
15408,14836,Rounding down values in Pandas dataframe column with NaNs,"import numpy as np

tempDF['int_measure'] = tempDF['measure'].apply(np.floor)

    id  measure  int_measure
0   12      3.2            3
1   12      4.2            4
2   12      6.8            6
...
9   51      2.1            2
10  51      NaN          NaN
11  51      3.5            3
...
19  91      7.3            7
"
4690,66750,Extracting the part of the string,">>> import re
>>> prices = ['400.00 USD', '120.00 $', '237.00 euro']
>>> template = re.compile('^([0-9\.]+)\s+(.*)$')
>>> for price in prices:
...     print template.findall(price)
... 
[('400.00', 'USD')]
[('120.00', '$')]
[('237.00', 'euro')]
"
31333,46328,Ending A Loop in Python 3.x,"def get_user_input():
    in1 = input(""Please enter height"")
    in2 = input(""Please enter weight"")
    return in1, in2


def validate_user_input(x, y):
    try:
        # validation code for x
        _ = int(x)
    except:
        return False
    try:
        # validation code for y
        _ = int(y)
    except:
        return False

    # if we get here than all inputs are good
    return True


def ask_user():
    # Loop and a half pattern

    max_tries = 3


    val1, val2 = get_user_input()
    tries = 1
    while validate_user_input(val1, val2) is False:
        if tries >= max_tries:
            quit(""Max tries exceeded"")
        print(""Invalid input. Please try again. You have {} attempts remaining"".format(max_tries - tries))
        tries += 1
        val1, val2 = get_user_input()

    # if we get here, input is validated and program can continue
    print('Thank You')


if __name__ == '__main__':
    ask_user()
"
1869,8814,How to + the values in two lists of tuples,">>> a = [(1,1),(2,2),(3,3)]
>>> b = [(1,1),(2,2),(3,3)]
>>> [(i[0]+j[0], i[1]+j[1]) for i, j in zip(a,b)]
[(2, 2), (4, 4), (6, 6)]
"
19508,65488,How do I pause a script in python to keep 2 sensors from being detected at same time?,"import datetime
sensor_delay = 5 #delay in seconds
last_event = datetime.datetime.now()

def shock():
    global last_event
    if datetime.datetime.now() > last_event + datetime.timedelta(seconds=sensor_delay):
        print ('shock')
        last_event = datetime.datetime.now()

def knock():
    global last_event
    if datetime.datetime.now() > last_event + datetime.timedelta(seconds=sensor_delay):
        print('knock')
        last_event = datetime.datetime.now()
"
41,2939,Counting unique words,"REMOVE:  
line.lower()   
l=line.split("" "")

ADD:
l = re.sub(r""\s+[\!\?\.\,\:\@]+\s+"", r"" "", s2.lower()).split("" "")
"
16699,33992,Draw lines from x axis to points,"# make up some sample (a,b): format might be different to yours but you get the point.
import matplotlib.pyplot as plt
points = [ (1.,2.3), (2.,4.), (3.5,6.) ] # (a1,b1), (a2,b2), ...

plt.hold(True)
plt.xlim(0,4)  # set up the plot limits

for pt in points:
    # plot (x,y) pairs.
    # vertical line: 2 x,y pairs: (a,0) and (a,b)
    plt.plot( [pt[0],pt[0]], [0,pt[1]] )

plt.show()
"
22687,25466,Select and Count items datetime64[ns] in Pandas,"print(df)

          CreationDate       A
0  2008-11-04 13:21:39  1.7641
1  2008-11-24 23:50:29  0.4002
2  2009-05-18 07:46:48  0.9787
3  2009-09-22 06:03:34  2.2409
4  2009-11-07 07:28:21  1.8676
5  2009-12-08 14:29:56 -0.9773
6  2010-01-12 06:42:00  0.9501
7  2010-05-20 17:56:01 -0.1514
8  2010-06-05 19:27:02 -0.1032
9  2010-07-16 19:52:22  0.4106
10 2010-07-25 16:27:13  0.1440
11 2010-07-25 21:59:56  1.4543

# processing
# ==========================
df.set_index('CreationDate')['2008-11':'2009-12']

                          A
CreationDate               
2008-11-04 13:21:39  1.7641
2008-11-24 23:50:29  0.4002
2009-05-18 07:46:48  0.9787
2009-09-22 06:03:34  2.2409
2009-11-07 07:28:21  1.8676
2009-12-08 14:29:56 -0.9773
"
36274,67257,Python check if another python application is running,"import os, time, sys

class SingleInstance:
    def __init__(self, filename):
        self.lockfile = filename

        try:
            # file already exists, we try to remove (in case previous execution was interrupted)
            if os.path.exists(self.lockfile):
                os.unlink(self.lockfile)

            self.fd =  os.open(self.lockfile, os.O_CREAT|os.O_EXCL|os.O_RDWR)

        except OSError as e:
            if e.errno == 13:
                print(""Another instance is already running, quitting."")
                #sys.exit(-1)

            print(e.errno)
            raise

        except Exception as x:
            print(x)

    def __del__(self):
        import sys

        if hasattr(self, 'fd'):
            os.close(self.fd)
            os.unlink(self.lockfile)
"
21506,77647,Generating all possible combinations in a nested dictionary,"from itertools import product

def build_config(db,flag,authType,userPass):
    config = dict(database=db,useExisting=flag)
    config['userCredentials'] = {
        'authType': authType, 
        'user': userPass[0], 
        'password': userPass[1]
    }
    if authType == 'database':
        config['userCredentials'].update(
            dict(extra=1,param=2))
    return config

database = ['sqlite','mysql','oracle']
useExisting = [True, False]
authType = ['windows','database']
userPass = [('testing1','pass1'),('testing2','pass2')]

for options in product(database,useExisting,authType,userPass):
    config = build_config(*options)
    print config
"
32752,48498,How to calculate current streak in Django?,"def current_streak(journal):
    total_streak = 0
    current_streak = 0
    today = datetime.date.today()
    compareDate = today + datetime.timedelta(1) # Tomorrow

    # Using list() here pulls all the entries from the DB at once
    # Gets all entry dates for this journal and whose dates are <= today
    entry_dates = list(Entry.objects.values(""date"").filter(journal=journal, date__lte = today).order_by(""-date""))

    for date in entry_dates:
        # Get the difference btw the dates
        delta = compareDate - date

        if delta.days == 1: # Keep the streak going!
            current_streak += 1
        elsif delta.days == 0: # Don't bother increasing the day if there's multiple ones on the same day
            pass
        else: # Awwww...
            break # The current streak is done, exit the loop

        compareDate = date

    if current_streak > total_streak:
        total_streak = current_streak

    return total_streak
"
15482,71060,Why does [].append() not work in python?,"class FluentList(list):
    def append(self, value):
        super(FluentList,self).append(value)
        return self

    def extend(self, iterable):
        super(FluentList,self).extend(iterable)
        return self

    def remove(self, value):
        super(FluentList,self).remove(value)
        return self

    def insert(self, index, value):
        super(FluentList,self).insert(index, value)
        return self 

    def reverse(self):
        super(FluentList,self).reverse()
        return self

    def sort(self, cmp=None, key=None, reverse=False):
        super(FluentList,self).sort(cmp, key, reverse)
        return self

li = FluentList()
li.extend([1,4,6]).remove(4).append(7).insert(1,10).reverse().sort(key=lambda x:x%2)
print li
"
12330,4417,Splitting a list according to a partition of its length,"node_iterator = iter(inputNodes)
for hiddenNode, count in zip(hiddenNodes, partition):
    for _ in xrange(count):
        Edge(next(node_iterator), hiddenNode)
"
3453,4205,Python Pandas: Counting the frequency of a specific value in each row of dataframe?,"In [102]:
df['sum_1'] = df[['out1','out2','out3']].sum(axis=1)
df['sum_0'] = (df[['out1','out2','out3']] == 0).sum(axis=1)
df

Out[102]:
                 domain country  out1  out2  out3  sum_0  sum_1
0         oranjeslag.nl      NL     1     0   NaN      1      1
1     pietervaartjes.nl      NL     1     1     0      1      2
2  andreaputting.com.au      AU   NaN     1     0      1      1
3   michaelcardillo.com      US     0     0   NaN      2      0
"
33685,43010,How can I send strings of data to an XBee with a python library?,"# Connect to Xbee
self.ser = serial.Serial(port, baud, timeout=timeout)

# Send data (a string)
self.ser.write(packet)

# Read data
self.data += self.ser.read()
"
25802,63028,Finding the average of columns from nested lists in a dictionary's value,"d = {'dog': [['4.1', '7.0', 'dog'], ['1.2', '3.4', 'dog']], 'cat': [['1', '8.2', '5.501', 'cat'], ['6.5', '8', '9.1', 'cat']]}

avg_dict = {}
for key in d:
    avg_list = []
    i = 0
    while (i < len(d[key][0]) - 1):
        avg_list.append((float(d[key][0][i]) + float(d[key][1][i])) /2.0)
        i += 1
    avg_dict[key] = avg_list

print(avg_dict)
"
22537,3037,alphabetical tie-breakers in lists python,">>> L = ['Ivan Connolly,50', 'Claudia Zingaro,50', 'Jeffie Honaker,50', 'Floria Rozar,49', 'Hyun Castleberry,48', 'Invalid Name,48', 'Cristi Authement,47', 'Yadira Millwood,47', 'Invalid Name,46']
>>> def mysort(x):
...     temp = x.split(',')
...     return (-int(temp[1]), temp[0])
... 
>>> sorted(L, key=mysort)
['Claudia Zingaro,50', 'Ivan Connolly,50', 'Jeffie Honaker,50', 'Floria Rozar,49', 'Hyun Castleberry,48', 'Invalid Name,48', 'Cristi Authement,47', 'Yadira Millwood,47', 'Invalid Name,46']
"
22484,51256,Converting an blowfish encyption algo from php to python,"import hashlib
import brypt
def myhash(word):
    salt = ""$2a$06$"" + hashlib.sha1(word).hexdigest()[0:22] + ""$""
    return bcrypt.hashpw(word, salt)
"
3662,8554,Pandas number of unique users grouped by year-week,"In [108]:
df.groupby([df['report_date'].dt.year, df['report_date'].dt.week])['user_id'].nunique()

Out[108]:
report_date  report_date
2015         49             3
2016         53             1
Name: user_id, dtype: int64
"
30393,31280,Custom form fields in Django,"<form action=""."">
    ...
    {{ form.birthdate }}
    ...
</form>

<script>
$(function() {
    $( ""#id_birthdate"" ).datepicker({
        changeYear: true,
        changeMonth: true,
    });
});
</script>
"
5470,84869,Unit testing: How can i import test classes dynamically and run?,"import unittest

def execute_all_tests(tests_folder):
    suites = unittest.TestLoader().discover(tests_folder)
    text_runner = unittest.TextTestRunner().run(suites)
"
2916,78364,"MySQL INSERT data does not get stored in proper db, only temporary?","conn = MySQLdb.connect (host = ""localhost"",
                        user = ""testuser"",
                        passwd = ""testpass"",
                        db = ""test"")
cursor = conn.cursor()

cursor.execute(...)
conn.commit()
"
35816,5885,How to add timer with start/stop GUI in python,"import time
import Tkinter as tk

import threading

class MyTimer(threading.Thread):

    def __init__(self, t):
        super(MyTimer,self).__init__()
        self.txt = t
        self.running = True

    def run(self):
        while self.running:
            self.txt['text'] = time.time()        


mgui = tk.Tk()
mgui.title('Test')

txt = tk.Label(mgui, text=""time"")
txt.grid(row=0,columnspan=2)

timer = None
def cmd1():
    global timer
    timer = MyTimer(txt)
    timer.start()
def cmd2():
    global timer
    if timer:
        timer.running = False
        timer= None

btn = tk.Button(mgui, text=""Start"", command =cmd1)
btn.grid(row=1,column=1)
btn2 = tk.Button(mgui, text=""Stop"", command =cmd2)
btn2.grid(row=1,column=2)

mgui.mainloop()
"
29305,10212,Uploading a text file by either binary or ASCII both leave it blank?,"opened_llist = open(locallist, ""wt"")
connection.retrlines(""RETR %s"" % ""list.txt"", opened_llist.write)
opened_llist.write(link + "" "")
opened_llist.close()
opened_llist_r = open(locallist, ""rb"")
connection.storbinary(""STOR %s"" % ""list.txt"", opened_llist_r, 8192, print)
opened_llist_r.close()
"
26003,28469,Indexing a position of value change,"import numpy as np
x = [0,0,0,0,0,1,1,1,1,0,0,0,1,1,0,0]
result = np.diff(x)
print np.where(result!=0)
#(array([ 4,  8, 11, 13]),)
"
13368,79711,Python: Deleting a list element based on elements from another list,"i = [a,b,c,d,e,f,g,h]
base = [a,b,c,d,e,f,g,h]
random.shuffle(i)

j = [1,2,3,4,5,6,7,8]

del j[base.index(i[0])]
"
13917,26830,extracting column from matrix,"def col(B,j):
    Z=[]
    for i in range(len(B)):
        Z.append(B[i][j])
    return Z
"
15913,54994,Sum elements of same index from different lists,"sumindex = [sum(elts) for elts in zip(*lisolis)]
"
18200,24357,Python: sum elements in the same places of nested lists,">>> [sum(i) for i in zip(*key)]
[6, 8, 10, 12]
"
39002,9786,Convert .csv table to dictionary,"import csv

with open('csv_data.csv') as csv_data:
    reader = csv.reader(csv_data)

    # eliminate blank rows if they exist
    rows = [row for row in reader if row]
    headings = rows[0] # get headings

    person_info = {}
    for row in rows[1:]:
        # append the dataitem to the end of the dictionary entry
        # set the default value of [] if this key has not been seen
        for col_header, data_column in zip(headings, row):
            person_info.setdefault(col_header, []).append(data_column)

    print person_info
"
2444,28407,django for loop counter break,"{% for photos in gallery.photo_set|slice:"":3"" %}
"
5493,17278,Is there a way to compare Arabic characters without regard to their initial/medial/final form?,">>> s1 = 'ï»§'
>>> s2 = 'ï»¨'
>>> unicodedata.normalize('NFKD', s1).casefold() == unicodedata.normalize('NFKD', s2)
True
"
7352,7108,Reflecting Oracle Global Temp Tables Using Pythons SQLAlchemy,"    Test = [sqlalchemy.Table(t, meta, autoload=True, autoload_with=_engine, schema=_schema)
        for t in schedule.tables.values]
"
36945,9112,Mock command line arguments for Python script with `optparse`?,"import sys

sys.argv = ['programname', '-iq', '-q', directory]
gendeps.gendeps()
"
22631,65549,using printed value as input value in Python,">>> import os
>>> path = os.path.join(os.path.expanduser('~'), '.myfolder') # save the value
>>> print(path)                                               # print it
C:\Users\falsetru\.myfolder
"
19591,75126,How do I best parse a date string in the Python C API?,"PyObject *datetimeType = (PyObject *) PyDateTimeAPI->DateTimeType;
PyObject *datetime = PyObject_CallMethod(datetimeType, ""strptime"", ""ss"",
                                            ""11-11-11 11:11:11"", //date_string
                                            ""%y-%m-%d %H:%M:%S""); //format
"
37597,77090,Python how do I reload the .py file not the .pyc file?,"make(2, ""name"", ""'Bob'"")

def re(module):
        reload(module)
        print""Reloaded ""+ str(module)


def make(0-1-2, var, data):
    if 0-1-2 == 1:
        TempF.write(var+"" = ""+data)
        TempF.write(""\n"")
        TempF.flush()
        re(Temp)

    if 0-1-2 == 2:
        PermF.write(var+"" = ""+data)
        PermF.write(""\n"")
        PermF.flush()
        re(Perm)

    if 0-1-2 == 0:
        MiscF.write(var+"" = ""+data)
        MiscF.write(""\n"")
        MiscF.flush()
        re(Misc)
"
8507,71421,Avoiding Python's Stack,"def dfs(initial, goal, capacity):
    # These three variables form the ""stack"".
    closed_set = {initial}
    stack = [initial]
    gens = [_generate_states(initial, capacity)]

    while stack:
        cur = stack[-1]
        gen = gens[-1]
        try:
            state = next(gen)
        except StopIteration:
            # This node is done
            closed_set.discard(cur)
            gens.pop()
            stack.pop()
            continue

        if state == goal:
            return stack

        if state not in closed_set:
            closed_set.add(state)
            stack.append(state)
            gens.append(_generate_states(state, capacity))

    return None
"
826,5140,Get authenticated user in django-tastypie,"user = bundle.request.user
"
15046,51972,python - format float to decimal in pyQt,"self.label.setText(""%.2f"", % (calculation * 30))
"
17773,21451,How to iterate through a list of dictionaries & pick one highest value,"result = max( the_list, key=lambda item:item['likes']['count'] )
"
33153,17004,how can i make a delay of 5 sec while redirecting one page to another in django views,"setTimeout(function() {
Â  Â  Â $.get(""{% url 'ABC' %}"") // Do something after 5 seconds
}, 5000);
"
2028,29389,how do I count unique words of text files in specific directory with Python?,"textfile=open('somefile.txt','r')
text_list=[line.split(' ') for line in textfile]
unique_words=[word for word in text_list if word not in unique_words]
print(len(unique_words))
"
23523,5589,How to regain control using mpl_disconnect() to end custom event_handling in matplotlib,"from matplotlib import pyplot as plt

class LineBuilder:
    def __init__(self, line):
        self.line = line
        self.xs = list(line.get_xdata())
        self.ys = list(line.get_ydata())
        self.cid = line.figure.canvas.mpl_connect('button_press_event', self)

    def __call__(self, event):
        print('click', vars(event))
        if event.button==3:
            print('clean up')
            event.canvas.mpl_disconnect(self.cid)
            return
        if event.inaxes != self.line.axes:
            return
        self.xs.append(event.xdata)
        self.ys.append(event.ydata)
        self.line.set_data(self.xs, self.ys)
        self.line.figure.canvas.draw_idle()

fig = plt.figure()
ax = fig.add_subplot(111)
ax.set_title('click to build line segments')
line, = ax.plot([0], [0])  # empty line
linebuilder = LineBuilder(line)

plt.show()
"
2971,51041,"Strange characters in Django shell, arrowkeys not working","if not os.environ.get(""DISABLE_UTF8_REDEFINE""):
    sys.stdout = codecs.getwriter('utf8')(sys.stdout)
    sys.stderr = codecs.getwriter('utf8')(sys.stderr)
"
33289,14309,Create a User Object with a Call to TastyPie API,"class CustomerResource(ModelResource):

    locations = fields.ToManyField('device.resources.LocationResource',
            'location_set', null=True)
    current_location = fields.ToOneField('device.resources.LocationResource',
            'current_location', null=True)
    default_location = fields.ToOneField('device.resources.LocationResource',
            'default_location', null=True)

    class Meta:
        queryset = Customer.objects.all()
        resource_name = 'customers'
        validation = CleanedDataFormValidation(form_class=RegistrationForm)
        list_allowed_methods = ['get', 'post']
        detail_allowed_methods = ['get', 'put', 'patch', 'delete']
        authorization = Authorization()
        excludes =['is_superuser', 'is_active', 'is_staff', 'password', 'last_login',]
        filtering = {
            'location': ('exact'),
        }

    def obj_create(self, bundle, **kwargs):
        bundle.obj = self._meta.object_class.objects.create_user(
            username=kwargs['username'],
            email=kwargs['email'],
            password=kwargs['password1'],
        )
        return bundle
"
28014,4907,"Keras BatchNormalization, What exactly is sample wise normalization?",">>> x = [[1,2,3],[4,5,6]]
>>> x
array([[1, 2, 3],
       [4, 5, 6]])
>>> np.mean(x, axis=-1)
array([ 2.,  5.])
"
13317,25178,Return single cell value from Pandas DataFrame,"import pandas as pd
import numpy as np
df = pd.DataFrame({'A': 'foo bar foo bar foo bar foo foo'.split(),
               'B': 'one one two three two two one three'.split(),
               'C': np.arange(8), 'D': np.arange(8) * 2})

print(df.loc[df['D'] == 14]['A'].index.values)

>>>[7]

print(df.loc[df['D'] == 14]['A'].values)

>>>['foo']
"
31932,33542,Displaying scapy StreamSocket data,"return ':'.join(x.encode('hex') for x in fvalue)
"
37222,65397,Find strings after search in txt file,"import re

s = ('Printed: 2013-07-12 05:09 PM '
     'QC Product: PROT2 CON '
     'Level: Level 3 '
     'Priority: QC Method RF '
     'Result 174 IU/mL '
     'Lot Number: 3BQH01 '
     'Sample ID: 3BQH01 '
     'Instrument ID: DV330681 '
     'QC Range 158.0 - 236.0 '
     'Comment Completed: 2013-07-12 17:09:14 '
     'Comment: Trigger: Manual Trigger '
     'Operator C160487AUR '
     'Time of Run 2013-07-12 17:09:14 '
     'Reagent 13049MA')

rgx = re.compile('QC Product *: *(.+?)(?<=\S) +'
                 'Level *: *(.+?)(?<=\S) +'
                 'Priority *:.+?'
                 'Sample ID *: *(.+?)(?<=\S) +'
                 'Instrument ID')

print rgx.search(s).groups()
"
38828,75661,Is it possible to statically create a regular expression in Python?,">>> import re
>>> m = re.search('(?<=abc)def', 'abcdef')
>>> m.group(0)
'def'
"
27990,6346,Gunzipping Contents of a URL - Python,"#CLIENT
urlReq = urllib2.Request(url)
urlReq.add_header('Accept-Encoding', 'gzip')
urlConn = urllib2.urlopen(urlReq)
return zlib.decompress(urlConn.read(), 16+zlib.MAX_WBITS)
"
3678,7399,Vectorizing sum of nearest neighbours in matrix using Numpy,"import numpy as np
from scipy.ndimage import convolve, generate_binary_structure

gen = np.random.RandomState(0)
A = gen.random_integers(0, 3, (6, 6))   # input array
k = generate_binary_structure(2, 1)     # kernel
B = convolve(A, k, mode='wrap')         # use mode='wrap' for periodic boundaries

print(A)
# [[0 3 1 0 3 3]
#  [3 3 1 3 1 2]
#  [0 3 2 0 0 0]
#  [2 1 2 3 3 2]
#  [0 1 1 1 1 0]
#  [1 0 3 0 3 1]]

print(k)
# [[False  True False]
#  [ True  True  True]
#  [False  True False]]

print(B)
# [[10  7  8  7 10  9]
#  [ 8 13 10  5  9  9]
#  [ 8  9  8  8  4  4]
#  [ 5  9  9  9  9  7]
#  [ 4  3  8  6  8  4]
#  [ 2  8  5  7  8  8]]
"
26539,13334,Python searching patterns in For Loop,"for i in final:
   if i.count('T') and len(i) > i.index('T') and i[i.index('T')+1] == 'D':
       print 1
   else:
       print 0
"
14729,54963,matching all characters in any order in regex,">>> chars = set(""abc"")
>>> chars.issubset(""bracket"")
True
>>> chars.issubset(""fish"")
False
>>> chars.issubset(""bad"")
False
"
23630,85271,Sum up elements to certain index and overwrite that value,"def accumulate(lis):
    total = 0
    for item in lis:
        total += item
        yield total


>>> list(accumulate(range(5)))
[0, 1, 3, 6, 10]
"
4187,27518,Setter of a property used in a dictionary,"d = {'x': 'bar'}
getattr(f, d['x']) # gives the value of f.bar
setattr(f, d['x'], 2) # sets f.bar = 2
"
14007,47409,How to set a value to elements in a column filtered by another array,"a = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12], [13, 14, 15]])
b = np.array([1, 2, 1, 3, 3])
me = np.mean(a[np.where(b==1)][:, 0])
a[np.where(b==1), 0] = me
"
30325,79105,How to organize structured data in pandas dataframe,"In [111]: df
Out[111]: 
                mat  strike  vol
date     tenor                  
20120903 3m      1y    0.25   52
         3m      1y    0.50   51
         3m      1y    1.00   49
         3m      5y    0.25   32
         3m      5y    0.50   55
         3m      5y    1.00   23
         3m     10y    0.25   65
         3m     10y    0.50   55
         3m     10y    1.00   19
20120904 3m      1y    0.25   32
         3m      1y    0.50   57
         3m      1y    1.00   44
         3m      5y    0.25   54
         3m      5y    0.50   50
         3m      5y    1.00   69
         3m     10y    0.25   42
         3m     10y    0.50   81
         3m     10y    1.00   99

In [112]: def agg_func(x):
    mats = list(x.mat.unique())
    strikes = list(x.strike.unique())
    vols = x.pivot('mat', 'strike', 'vol').reindex(mats, columns=strikes)
    return [mats, strikes, vols.values.tolist()]
   .....: 

In [113]: rs = df.groupby(level=['date', 'tenor']).apply(agg_func)

In [114]: rs
Out[114]: 
date      tenor
20120903  3m       [['1y', '5y', '10y'], [0.25, 0.5, 1.0], [[52.0...
20120904  3m       [['1y', '5y', '10y'], [0.25, 0.5, 1.0], [[32.0...

In [115]: rs.values[0]
Out[115]: 
[['1y', '5y', '10y'],
 [0.25, 0.5, 1.0],
 [[52.0, 51.0, 49.0], [32.0, 55.0, 23.0], [65.0, 55.0, 19.0]]]
"
29682,26457,Can I avoid using `asmatrix`?,">>> import numpy as np
>>> a = np.arange(9).reshape((3,3))
>>> b = np.asmatrix(a)
>>> b.base is a
True
>>> a[0] = 3
>>> b
matrix([[3, 3, 3],
        [3, 4, 5],
        [6, 7, 8]])
"
8406,80107,python cassandra driver same insert performance as copy,"import multiprocessing
import time
import os
from cassandra.cluster import Cluster
from cassandra import ConsistencyLevel
from cassandra.query import SimpleStatement



def mp_worker(inputArg):
        cluster = Cluster(['1.2.1.4'])
        session = cluster.connect('poc')


        with open(inputArg[0]) as f:
            for line in f:
                query = SimpleStatement (
                    ""INSERT INTO testTable (cust_id, accts, offers) values (%s)"" %(line),
                    consistency_level=ConsistencyLevel.ONE)
                session.execute_async (query)


def mp_handler(inputData, nThreads = 8):
    p = multiprocessing.Pool(nThreads)
    p.map(mp_worker, inputData, chunksize=1)
    p.close()
    p.join()

if __name__ == '__main__':
    temp_in_data = ['/toImport/part-00000', '/toImport/part-00001', '/toImport/part-00002']
    start = time.time()
    N_Proc = 3
    file_data = [(i,) for i in temp_in_data]

    print '----------------------------------Start Working!!!!-----------------------------'
    print 'Number of Processes using: %d' %N_Proc
    mp_handler(file_data, N_Proc)
    end = time.time()
    time_elapsed = end - start
    print '----------------------------------All Done!!!!-----------------------------'
    print ""Time elapsed: {} seconds"".format(time_elapsed)
"
31131,28504,Syntax for rpy2 base.with function,"import rpy2.robjects as ro

ro.globalenv['res'] = res_frompy
ro.globalenv['log2FoldChang'] = log2FoldChang_frompy
ro.globalenv['padj'] = padj_frompy

ro.r('with(res, plot(log2FoldChange, padj))')
"
21232,41239,Pandas Cumulative Sum using Current Row as Condition,"import pandas as pd
import numpy as np
df = pd.DataFrame(np.array([[2,10],[5,8],[3,8],[6,9]]),columns=[""start"",""end""])

active_events= {}
for i in df.index:
    active_events[i] = len(df[(df[""start""]<=df.loc[i,""start""]) & (df[""end""]> df.loc[i,""start""])])
last_columns = pd.DataFrame({'No. active events' : pd.Series(active_events)})

df.join(last_columns)
"
37652,45982,How to display values larger than 255 in Bytes in Python 3,"n.to_bytes(2, 'little')  # b'\x01\x01'
"
4788,43209,Scraping one page with scrapy,"d = runner.crawl(spider_cls, start_urls=[""url""])
"
4089,18041,Django class-based views: Invoking (forwarding to) a different class-based view,"class CBViewA(View):
    def get(request, *args, **kwargs):
        if 'save_as_new' in request.GET:
            return AddView.as_view()(request, *args, **kwargs)
"
31491,78667,How to allow a many-to-many relationship to be configured in Python,"cfg = """"""
{
    ""repositories"": {
        ""repo1"": ""http://svn.example.com/repo1/"",
        ""repo2"": ""http://svn.example.com/repo2/"",
        ""repo3"": ""http://svn.example.com/repo3/""
    },
    ""user_repository_mapping"": {
        ""person_A"": [""repo1"", ""repo3""],
        ""person_B"": [""repo2""],
        ""person_C"": [""repo1"", ""repo2""]
    }
}
""""""

import simplejson as json
config = json.loads(cfg)
person = ""person_A""
repos = [config['repositories'][r] for r in config['user_repository_mapping'][person]]
print repos
"
34176,80032,Text file probability calculation (Markov Chain) - Python,"from collections import Counter

text = open(""test_file.txt"").read().lower()
letter_freqs = Counter(text)

word_freqs = Counter(text.split())
"
7370,38394,Relationship between string module and str,">>> str
<class 'str'>
>>> str(42)
'42'
>>> import string
>>> string
<module 'string' from '/usr/lib/python3.1/string.py'>
>>> string.digits
'0123456789'
"
3106,38176,JUMP_FORWARD or JUMP_ABSOLUTE with IF statement ? Python 2.5,">>> def f():
...    while ok==0:
...      if q<1 and z>10:
...        ok=0
...        u=u+1
...        k=0
...        dv=10
...      elif a<100 and b>10:
...        ok=1
...
>>> dis(f)
  2           0 SETUP_LOOP             112 (to 115)
        >>    3 LOAD_FAST                0 (ok)
              6 LOAD_CONST               1 (0)
              9 COMPARE_OP               2 (==)
             12 JUMP_IF_FALSE           98 (to 113)
             15 POP_TOP

  3          16 LOAD_GLOBAL              0 (q)
             19 LOAD_CONST               2 (1)
             22 COMPARE_OP               0 (<)
             25 JUMP_IF_FALSE           45 (to 73)
             28 POP_TOP
             29 LOAD_GLOBAL              1 (z)
             32 LOAD_CONST               3 (10)
             35 COMPARE_OP               4 (>)
             38 JUMP_IF_FALSE           32 (to 73)
             41 POP_TOP

  4          42 LOAD_CONST               1 (0)
             45 STORE_FAST               0 (ok)

  5          48 LOAD_FAST                1 (u)
             51 LOAD_CONST               2 (1)
             54 BINARY_ADD
             55 STORE_FAST               1 (u)

  6          58 LOAD_CONST               1 (0)
             61 STORE_FAST               2 (k)

  7          64 LOAD_CONST               3 (10)
             67 STORE_FAST               3 (dv)
             70 JUMP_ABSOLUTE            3
        >>   73 POP_TOP

  8          74 LOAD_GLOBAL              2 (a)
             77 LOAD_CONST               4 (100)
             80 COMPARE_OP               0 (<)
             83 JUMP_IF_FALSE           23 (to 109)
             86 POP_TOP
             87 LOAD_GLOBAL              3 (b)
             90 LOAD_CONST               3 (10)
             93 COMPARE_OP               4 (>)
             96 JUMP_IF_FALSE           10 (to 109)
             99 POP_TOP

  9         100 LOAD_CONST               2 (1)
            103 STORE_FAST               0 (ok)
            106 JUMP_ABSOLUTE            3
        >>  109 POP_TOP
            110 JUMP_ABSOLUTE            3
        >>  113 POP_TOP
            114 POP_BLOCK
        >>  115 LOAD_CONST               0 (None)
            118 RETURN_VALUE
"
29760,4464,Creating a window in pygame without displaying it,"import pygame
from pygame.locals import *

pygame.init()

def circle_drawing(surf):
    pass
    #your circle drawing function using passed in surface

DISPLAY = (1, 1)
DEPTH = 32
FLAGS = 0
screen = pygame.display.set_mode(DISPLAY, FLAGS, DEPTH)
work_surface  = pygame.Surface((500,500))
count = 0
while True:
    ws = circle_drawing(work_surface.copy())
    pygame.image.save(ws, ""circles_"" + str(count)+"".png"")
    count +=1
"
8524,70341,Make Python's argparse accept single-character abbreviations for subparsers?,"foo_parser = subparsers.add_parser('foo', aliases=['f'])
"
18811,56955,Calculate minimums in Pandas without `zero`-values?,"In [46]: df[df > .01].min(axis=1)
Out[46]: 
0    1.54
1    1.47
2    1.89
dtype: float64
"
8636,5145,Override deepcopy with copy,"import copy

class test(object):
    def __init__(self, test_dict1 = {}, test_dict2 = {}):
       self.test_dict1 = test_dict1
       self.test_dict2 = test_dict2
    ...

a = test()

# Set up initial values for a
...

for i in range(1000):
    b = test(copy.copy(a.test_dict1), copy.copy(a.test_dict2)

    # do stuff
    ...
"
3074,68376,Filter and retrieve required value from csv file python,"import csv

with open('text.csv', 'rt') as f:
    age10 = [row for row in csv.reader(f) if row[1] == '10']
"
38827,4379,Python - Updating contents of option menu,"    ...

    thirtyMonthList = [4,6,9,11]

    initialMonth = IntVar(self)
    initialMonth.set(1)
    initialDay = IntVar(self)
    initialDay.set(1)

    def removeDayOptionMenu():
        self.om.destroy()

    def setDayList(event):
        removeDayOptionMenu()
        if initialMonth.get() == 2:
            addDayOptionMenu(range(1,29))
        elif initialMonth.get() in thirtyMonthList:
            addDayOptionMenu(range(1,31))
        else:
            addDayOptionMenu(range(1,32))

    def addDayOptionMenu(dayList):
        self.om = OptionMenu(self, initialDay, *dayList)
        self.om.grid(row=1)

    self.om2 = OptionMenu(self, initialMonth, *range(1,12), command = setDayList)
    self.om2.grid(row=0)
    self.om = OptionMenu(self, initialDay, *range(1,32))
    self.om.grid(row=1)
"
24181,77698,How do I run pytest on all-modules?,"[pytest]
python_files=*py
"
249,62651,Slicing of python os.listdir(),">>> os.listdir(os.getcwd())
['CVS', 'library.bin', 'man', 'PyLpr-0.2a.zip', 'pylpr.exe', 'python26.dll', 'text']
>>> os.listdir(os.getcwd())[3:]
['PyLpr-0.2a.zip', 'pylpr.exe', 'python26.dll', 'text']
"
21847,62969,How to get hardware information with Python,">>> import psutil
>>> psutil.virtual_memory()
vmem(total=8374149120L, available=2081050624L, percent=75.1, used=8074080256L, free=300068864L, active=3294920704, inactive=1361616896, buffers=529895424L, cached=1251086336)
>>> psutil.swap_memory()
swap(total=2097147904L, used=296128512L, free=1801019392L, percent=14.1, sin=304193536, sout=677842944)
>>>
"
14958,12609,Re.match always returning None in python,"def testChatChars(string):
   return re.match(r'[\x20-\x5A\x5C\x5E-\x7E]+$', string) is not None
"
9126,82560,Ordering multiple functions with enable/disable options,"class Parse(webapp2.RequestHandler):
    def post(self):
        data = self.request.get(""data"")

        # Note - order reversed
        funcs = [
            (""func3_option"", some.other_other_function),
            (""func2_option"", some.other_function),
            (""func1_option"", some.function)
        ]
        for opt_name, func in funcs:
            if self.request.get(opt_name) != ""disabled"":
                data = func(data)

        self.response.write(data)
"
8781,82266,"Python: string.replace(""\'"",""'"") after reading txt file","Python 3.3.0 (default, Dec 22 2012, 21:02:07) 
[GCC 4.7.2] on linux
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> a = 'shouldn't'
  File ""<stdin>"", line 1
    a = 'shouldn't'
                 ^
SyntaxError: invalid syntax
>>> a = 'shouldn\'t'
>>> a
""shouldn't""
>>> a = '""shouldn\'t'
>>> a
'""shouldn\'t'
>>> print(a)
""shouldn't
"
27825,60146,Is There a Tornado Equivalent of SimpleHTTPServer?,"import os.path
import mimetypes

import tornado.httpserver
import tornado.ioloop
import tornado.options
import tornado.web

class FileHandler(tornado.web.RequestHandler):
    def get(self, path):
        if not path:
            path = 'index.html'

        if not os.path.exists(path):
            raise tornado.web.HTTPError(404)

        mime_type = mimetypes.guess_type(path)
        self.set_header(""Content-Type"", mime_type[0] or 'text/plain')

        outfile = open(path)
        for line in outfile:
            self.write(line)
        self.finish()

def main():
    tornado.options.enable_pretty_logging()
    application = tornado.web.Application([
        (r""/(.*)"", FileHandler),
    ])
    http_server = tornado.httpserver.HTTPServer(application)
    http_server.listen(8888)
    tornado.ioloop.IOLoop.instance().start()

if __name__ == ""__main__"":
    main()
"
30578,83246,Javascript communication with Selenium (RC),"self.assertEqual(selenium.GetEval(""this.browserbot.getUserWindow().functionUnderTest().isNaN();""),""false"",""There was a NaN detected"")
"
11694,39806,How to get the owner and group of a folder with Python on a Linux machine?,"import grp
import pwd
import os

stat_info = os.stat('/path')
uid = stat_info.st_uid
gid = stat_info.st_gid
print uid, gid

user = pwd.getpwuid(uid)[0]
group = grp.getgrgid(gid)[0]
print user, group
"
30662,75496,"changing the bias parameter b in scikit SVM after training, before prediction","def new_predict(clf, new_bias, X):
  return np.sign(clf.decision_function(X) + clf.intercept_ - new_bias)
"
31682,74322,Quoted separator cursor copy_from in python,"import psycopg2


f_cm = open('cm.sql', 'r')

constr = ""dbname='mydb' user= 'pgsql' host='127.0.0.1'""
db = psycopg2.connect(constr)
st = db.cursor()

copy = ""COPY mytable(col1,col2, col3) FROM STDIN with csv""
st.copy_expert(sql=copy, file=f_cm)

db.commit()
st.close()
db.close()
"
38054,26666,Custom padding for convolutions in TensorFlow,"input = tf.placeholder(tf.float32, [None, 28, 28, 3])
padded_input = tf.pad(input, [[0, 0], [2, 2], [1, 1], [0, 0]], ""CONSTANT"")

filter = tf.placeholder(tf.float32, [5, 5, 3, 16])
output = tf.nn.conv2d(padded_input, filter, strides=[1, 1, 1, 1], padding=""VALID"")
"
17809,28068,how to subtract date from date from sql in python,"ts = '2015-03-01T17:09:00.000+0000' to a format string like
f = '%Y-%m-%dT%H:%M:%S.%f%z'
date_from_sql = datetime.datetime.strptime(ts, f)
now = datetime.datetime.now()
delta = date_from_sql - now
"
27603,66420,Python 3.3 - Send variable to thread,"def myfunction():
    while True: # loop forever
        if time.time() > 5 + last_time:
            last_time = time.time()
            print(mylist[0]) # doesn't print anything
        time.sleep(1) # wait for one second for mylist to be updated, yield to main thread
"
18189,34590,Python - Acquiring a count of file extensions across all directories,"import os
import collections
extensions = collections.defaultdict(int)

for path, dirs, files in os.walk('/'):
   for filename in files:
       extensions[os.path.splitext(filename)[1].lower()] += 1

for key,value in extensions.items():
    print 'Extension: ', key, ' ', value, ' items'
"
17868,54116,How do I query for objects created before a certain hour in a day in Django?,"before_ten = Q(created_at__hour=0)
for hour in range(1, 11):
    before_ten = before_ten | Q(created_at__hour=hour)
query = query.filter(before_ten)
"
23149,59662,Django template: Translate include with variable,"{% trans ""Load more promotions"" as promotions %}
{% include ""a_dir/stuff.html"" with text=promotions %}
"
20328,1836,Return an element in Pandas DataFrame with original data type,"In [32]:

data.loc[3,'a'].astype(int)
Out[32]:
3
"
1911,74639,PYTHON Return a list from a recursive function,"def substring(string, substringList=[]):
    # Recursive function to create all the substrings
    #   of the given string

    if len(string) == 0:
        return substringList

    else:
        substringList.append(string)
        substring(string[1:], substringList)
        return substringList

print substring(""bananas"")
"
13952,26465,"python, authentication not recognised - urllib2, requests, asp.net","from robobrowser import RoboBrowser

the_url = 'the_url'
login = the_url + '/login'
content = the_url + '/content'
username = 'username'
password = 'password'

browser = RoboBrowser(parser='lxml')

browser.open(login)
form = browser.get_forms()  

# You can use '.get_form()' for a specific form but I'm finding it easier to 
# using '.get_forms()' to get all the forms and then I'm just interested 
# in the first one:

form = form[0]
print form     # this will give you the information you need to 
               # now enter your password details:   

form['the_user'].value = username
form['the_pass'].value = password

browser.submit_form(form)

# and then because I'm after the html of certain content pages:

browser.open(content)
source = str(browser.parsed)
return source
"
31817,15554,Python logging: display only information from debug level,"from logging import FileHandler, DEBUG
log = logging.getLogger('foo')

class DebugFileHandler(FileHandler):
    def __init__(self, filename, mode='a', encoding=None, delay=False)
        FileHandler.__init__(self, filename, mode, encoding, delay)

    def emit(self, record):
        if not record.levelno == DEBUG:
            return
        FileHandler.emit(self, record)

log.addHandler(DebugFileHandler())
"
22840,54414,python tkinter treeview right click (Button-3) event to select item in treeview,"def init(self):
    """"""initialise dialog""""""
    # Button-3 is right click on windows
    self.tree.bind(""<Button-3>"", self.popup)

def popup(self, event):
    """"""action in event of button 3 on tree view""""""
    # select row under mouse
    iid = self.tree.identify_row(event.y)
    if iid:
        # mouse pointer over item
        self.tree.selection_set(iid)
        self.contextMenu.post(event.x_root, event.y_root)            
    else:
        # mouse pointer not over item
        # occurs when items do not fill frame
        # no action required
        pass
"
13146,1297,Manipulating python json dictionaries,"print json.loads(data)['example'][0]['id']
"
12922,77871,python selenium site spider from page option list,"from selenium.webdriver.support.ui import Select, WebDriverWait

select = self.br.find_element_by_name( field )  #get the select element            
options = select.find_elements_by_tag_name(""option"") #get all the options into a list

optionsList = []

for option in options: #iterate over the options, place attribute value in list
    optionsList.append(option.get_attribute(""value""))

for optionValue in optionsList:
    print ""starting loop on option %s"" % optionValue

    select = Select(self.br.find_element_by_name( field ))
    select.select_by_value(optionValue)

    source = self.br.page_source #get the new page source

    #now check to see if some required data is on the navigated page, and print some stuff if so
    if ""There is no summary data available."" not in source:
         print ""the new page is good! Here are the original args: "", optionValue
    #time to go back to the main page and click the next option element
    self.br.back()
    print ""went backwards"" #for debugging
"
39812,22554,Function used to check if a variable's string starts with vowel?,"def vowelcheck(variable):
    if variable[0] == ""a"" or variable[0] == ""e"" or variable[0] == ""i"" or variable[0] == ""o"" or variable[0] == ""u"":
        variable = ""an "" + variable
    else:
        variable = ""a "" + variable
    return variable

noun1, noun2, noun3 = (vowelcheck(noun1), vowelcheck(noun2), vowelcheck(noun3))
"
28667,76837,My FB HackerCup code too slow of large inputs,"import os, sys

f = open(sys.argv[1], 'r')

T = int(f.readline())

def next(ary, start):
    j = start
    l = len(ary)
    ret = start - 1
    while j < l and ary[j]:
        ret = j
        j += 1
    return ret

for t in range(T):
    n, k = map(int, f.readline().strip().split(' '))
    a, b, c, r = map(int, f.readline().strip().split(' '))

    m = [0] * (4 * k)
    s = [0] * (k+1)
    m[0] = a
    if m[0] <= k:
        s[m[0]] = 1
    for i in xrange(1, k):
        m[i] = (b * m[i-1] + c) % r
        if m[i] < k+1:
            s[m[i]] += 1

    p = next(s, 0)
    m[k] = p + 1
    p = next(s, p+2)

    for i in xrange(k+1, n):
        if m[i-k-1] > p or s[m[i-k-1]] > 1:
            m[i] = p + 1
            if m[i-k-1] <= k:
                s[m[i-k-1]] -= 1
            s[m[i]] += 1
            p = next(s, p+2)
        else:
            m[i] = m[i-k-1]
        if p == k:
            break

    if p != k:
        print 'Case #%d: %d' % (t+1, m[n-1])
    else:
        print 'Case #%d: %d' % (t+1, m[i-k + (n-i+k+k) % (k+1)])
"
14421,37209,Assign help() to a variable,"from pydoc_data import topics

a = topics.topics['class']
print a
"
13860,84036,How to define a procedure to call a function in python 3,"def test_anagram():
    strings = [(""foo"",""bar""),(""foo"",""oof""),(""python"",""jython""),(""tear"",""tare""),(""foobar"",""bar""),(""nod"",""don"")] # create pairs of test strings
    for s1,s2 in strings: # (""foo"",""bar"") -> s1 = ""foo"",s2 = ""bar""...
        print(s1,s2) # print each string
        anagram(s1,s2) # call anagram, anagram(""foo"",""bar"") ...


In [17]: test_anagram() # call test_anagram()
('foo', 'bar')
False
('foo', 'oof')
True
('python', 'jython')
False
('tear', 'tare')
True
('foobar', 'bar')
False
('nod', 'don')
True
"
33032,58982,How can I detect and track people using OpenCV?,"from cv import *

storage = CreateMemStorage(0)
img = LoadImage(file)  # or read from camera

found = list(HOGDetectMultiScale(img, storage, win_stride=(8,8),
                padding=(32,32), scale=1.05, group_threshold=2))
"
8721,48172,can I call a method in suds dynamically,"getattr(client.service, 'getWeatherInfo')()
"
23955,47575,"Writing string list to a txt file, but the file is empty why?","import re, urllib.request

patern = re.compile(r'image/\w*\W*\w*\.jpg', re.I|re.M)

file = open('APODLinks.txt','r')
rf = file.read()
a = rf.split('\n')
file.close()


def lic(li):
    if not li:
        print(""No matches found"")  
    else:
        print('http://apod.nasa.gov/apod/%s' % li[0])
        f.write('http://apod.nasa.gov/apod/%s\n' % li[0])


def main():
    for i in range(len(a)):
        try:
            ur = urllib.request.urlopen(a[i])
        except:
            print('404 not found!')
        mf = re.findall(patern, str(ur.read()))
        lic(mf)

f = open('APODImgs.txt','w')
main()
f.close()
"
6790,71470,Python regex - reduce redundancy in patterns?,"MONTH = r'(?P<month>Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)'
DAY = r'(?P<day>\d{2})'
TIME = r'(?P<hour>\d{2}):(?P<minute>\d{2}):(?P<second>\d{2})'
SPC = r'\s'
HOST = r'(?<host>\w+)'
PREFIX = SPC.join(MONTH, DAY, TIME, HOST)
foobar_patterns = {
    'pattern1': re.compile(PREFIX + r'\s(?<payload>blahbla hbla h blah)'),
    'pattern2': re.compile(PREFIX + r'\s(?<payload>bla h blahbla hblah)'),
}
"
8968,28005,Avoid counter increment in Python loop,"for sequence, value in enumerate(random.sample(range(1000), 7)):
    # do something with value and sequence
"
4547,65701,Efficient incremental implementation of poset,"from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

association_table = Table('edges', Base.metadata,
    Column('predecessor', Integer, 
           ForeignKey('nodes.id'), primary_key=True),
    Column('successor', Integer, 
           ForeignKey('nodes.id'), primary_key=True))

path_table = Table('paths', Base.metadata,
    Column('predecessor', Integer, 
           ForeignKey('nodes.id'), primary_key=True),
    Column('successor', Integer, 
           ForeignKey('nodes.id'), primary_key=True))

class Node(Base):
    __tablename__ = 'nodes'
    id = Column(Integer, primary_key=True)
    # extra columns

    def __repr__(self):
        return '<Node #%r>' % (self.id,)

    successors = relationship('Node', backref='predecessors',
        secondary=association_table,
        primaryjoin=id == association_table.c.predecessor,
        secondaryjoin=id == association_table.c.successor)

    before = relationship('Node', backref='after',
        secondary=path_table,
        primaryjoin=id == path_table.c.predecessor,
        secondaryjoin=id == path_table.c.successor)

    def __lt__(self, other):
        return other in self.before

    def add_successor(self, other):
        if other in self.successors:
            return
        self.successors.append(other)
        self.before.append(other)
        for descendent in other.before:
            if descendent not in self.before:
                self.before.append(descendent)
        for ancestor in self.after:
            if ancestor not in other.after:
                other.after.append(ancestor)

    def del_successor(self, other):
        if not self < other:
            # nodes are not connected, do nothing!
            return
        if not other in self.successors:
            # nodes aren't adjacent, but this *could*
            # be a warning...
            return

        self.successors.remove(other)

        # we buld up a set of nodes that will be affected by the removal
        # we just did.  
        ancestors = set(other.after)
        descendents = set(self.before)

        # we also need to build up a list of nodes that will determine
        # where the paths may be.  basically, we're looking for every 
        # node that is both before some node in the descendents and
        # ALSO after the ancestors.  Such nodes might not be comparable
        # to self or other, but may still be part of a path between
        # the nodes in ancestors and the nodes in descendents.
        ancestors_descendents = set()
        for ancestor in ancestors:
            ancestors_descendents.add(ancestor)
            for descendent in ancestor.before:
                ancestors_descendents.add(descendent)

        descendents_ancestors = set()
        for descendent in descendents:
            descendents_ancestors.add(descendent)
            for ancestor in descendent.after:
                descendents_ancestors.add(ancestor)
        search_set = ancestors_descendents & descendents_ancestors

        known_good = set() # This is the 'paths' from the 
                           # original algorithm.  

        # as before, we need to initialize it with the paths we 
        # know are good.  this is just the successor edges in
        # the search set.
        for predecessor in search_set:
            for successor in search_set:
                if successor in predecessor.successors:
                    known_good.add((predecessor, successor))

        # We now can work our way through floyd_warshall to resolve
        # all adjacencies:
        for ancestor in ancestors:
            for descendent in descendents:
                if (ancestor, descendent) in known_good:
                    # already got this one, so we don't need to look for an
                    # intermediate.  
                    continue
                for intermediate in search_set:
                    if (ancestor, intermediate) in known_good \
                            and (intermediate, descendent) in known_good:
                        known_good.add((ancestor, descendent))
                        break # don't need to look any further for an
                              # intermediate, we can move on to the next
                              # descendent.  


        # sift through the bad nodes and update the links
        for ancestor in ancestors:
            for descendent in descendents:
                if descendent in ancestor.before \
                        and (ancestor, descendent) not in known_good:
                    ancestor.before.remove(descendent)
"
2761,14820,PyGTK: access buttons in gtk.MessageDialog?,"> prompt.action_area.get_children()
[<gtk.Button object at 0x18c0aa0 (GtkButton at 0x130e990)>, <gtk.Button object at 0x18c0af0 (GtkButton at 0x130e8d0)>]
"
13929,18,Extract multiple sequences from fasta but with different name,"from Bio import SeqIO
temp = {}
for line in open(""test.txt"",""r""):
    i, c = line.strip().split()
    temp[i] = c

for rec in SeqIO.parse(""mymodified_transcript.fa"",""fasta""):
    if str('>'+rec.id) in temp.keys():
        print str('>'+rec.id), temp['>'+rec.id]
        print str(rec.seq)
"
23847,83026,Python: Convert a String into a tuple or list with a twist,">>> d = dict()
>>> 
>>> s = 'CPU0Tjmax|90degreesC|ok'
>>> li = s.split(""|"")
>>> 
>>> d[li[0]] = (li[1], li[2])
>>> d
{'CPU0Tjmax': ('90degreesC', 'ok')}
"
27508,63020,Python built-in type as function parameter,"def f(str):
    print str(123) # will raise an error, because 'str' is not callable (i.e. a function) anymore

f(""some string here"")

print str(123) # OK
"
23852,74575,Iterating over Numpy matrix rows to apply a function each?,"import numpy as np
mymatrix = np.matrix([[11,12,13],
                      [21,22,23],
                      [31,32,33]])
def myfunction( x ):
    return sum(x)

print np.apply_along_axis( myfunction, axis=1, arr=mymatrix )
#[36 66 96]
"
638,84413,Regular expression class inside another class in Python 3.5,"(?:[A-Z0-9]+-)+
"
35753,41185,How to Transfer Files from Client to Server Computer by using python script?,"import paramiko

source = r'C:\Somedir\somefile.txt'
dest = r'/home/user/file.txt'
hostname = 'linux.server.com'
port = 22 # default port for SSH
username = 'user'
password = 'secret'

try:
    t = paramiko.Transport((hostname, port))
    t.connect(username=username, password=password)
    sftp = paramiko.SFTPClient.from_transport(t)
    sftp.put(source, dest)
finally:
    t.close()
"
23845,23427,How can I do comparison in List of dictionaries for key values?,"from itertools import groupby
from operator import itemgetter
dict(((u, sum(row['score'] for row in rows)) for u, rows in
    groupby(sorted(d, key=itemgetter('alias')), key=itemgetter('alias'))))
# {'2133232': 158, 'u234243': 416}
"
12211,52840,Python waiting for a queue and an event,"STOP = None

def _execute(self):
    while 1:
        nextCommand = self._commandQueue.get()[1]
        if nextCommand is STOP:
           break
        self._commandExecutor.execute(nextCommand)
        self._commandQueue.task_done()

def wait_for_stop_signal(self):
    self._closeEvent.wait()
    self._commandQueue.put((-1, STOP))
"
11900,8821,Simple Python concatenation question,"sentence = raw_input()
number = int(raw_input())
print(sentence * number)
"
3910,68533,why doesn't the Python property set the attribute value,"class Class(object):
    def __init__(self):
        self.value = False

c = Class()
c.value                # False
c.value = True
c.value                # True
"
20252,29699,python feedparser,"try:
    from lxml import etree
except ImportError:
    try:
        from xml.etree.cElementTree as etree
    except ImportError:
        from xml.etree.ElementTree as etree

doc = """"""<Book_API>
<Contributor_List>
<Display_Name>Jason</Display_Name>
</Contributor_List>
<Contributor_List>
<Display_Name>John Smith</Display_Name>
</Contributor_List>
</Book_API>""""""
xml_doc = etree.fromstring(doc)
"
31104,24617,Is 'file' a keyword in python?,">>> import keyword
>>> keyword.iskeyword('file')
False
>>> import __builtin__
>>> hasattr(__builtin__, 'file')
True
"
30430,31443,Cannot show the graphs on ipython notebook,"%matplotlib inline
"
33304,38199,Show updated text file in python,"def new_task():
    while True:
        temp = open(filename, 'a')
        new_entry = raw_input('Enter New Task: ')
        if new_entry == 'exit' or new_entry == 'quit':
            break
        if new_entry == 'preview':
            print '\n'
            preview()
            break
        temp.write(new_entry + '\n')
        temp.close()
"
33933,21379,Print Pandas dataframe with index,"In [11]: df.loc['2000-01-03', 'C']
Out[11]: -0.49492900000000001
"
30058,85000,Python parsing integers inside parantheses in a string,"In [71]: import re

In [72]: strs=""Limits paramA : (7, 45) paramB : (0, 0) paramC : (1, 23)""

In [74]: [int(digit) for digit in re.findall(r'\d+',strs)]
Out[74]: [7, 45, 0, 0, 1, 23]
"
22318,5741,Set connection settings with Pyodbc + UnixODBC + FreeTDS,"cnxn = pyodbc.connect(""DSN=someDSN;UID=someUser;PWD=somePass;QuotedID=Yes;AnsiNPW=Yes"")
"
4294,36353,Python - Iterating through a list of list with a specifically formatted output; file output,"for j in data:
    text_file.write('%s\n' % '\t'.join(str(x) for x in j))
"
24158,76882,Double hash SHA256 in Python,">>> import binascii                                                                             
>>> genesis = '000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f'
>>> given_hash = '6fe28c0ab6f1b372c1a6a246ae63f74f931e8365e15a089c68d6190000000000'
>>> binascii.unhexlify(given_hash) == binascii.unhexlify(genesis)[::-1]
True
"
1570,3888,Python - Expression generator to build list with 'and' before last item?,">>> x = ['mary','lucy','beth','molly']
>>> ', '.join(x[:-1]) + ' and ' + x[-1]
'mary, lucy, beth and molly'
"
17009,5074,BeautifulSoup - how to extract text without opening tag and before <br> tag?,"h4s = soup.find_all(""h4"", class_=""actorboxLink"")
for h4 in h4s:
    for text in h4.find_next_siblings(text=True):
        print(text.strip())
"
10928,36701,Shared x axes in Pandas Python,"import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

fig, axes = plt.subplots(nrows=2,
                         ncols=1,
                         sharex=True)

df1 = pd.DataFrame(
    data = np.random.rand(25, 1),
    index=pd.date_range('2015-05-05', periods=25),
    columns=['DF1']
)

df2 = pd.DataFrame(
    data = np.random.rand(25, 1),
    index=pd.date_range('2015-04-10', periods=25),
    columns=['DF2']
)

df3 = pd.DataFrame(
    data = np.random.rand(50, 1),
    index=pd.date_range('2015-03-20', periods=50),
    columns=['DF3']
)

df3 = df3.reindex(index=df3.index.union(df2.index).union(df1.index))

df1.plot(ax=axes[0], linewidth=2, color='b', linestyle='solid')
df2.plot(ax=axes[0], linewidth=2, color='b', linestyle='dashed')
df3.plot(ax=axes[1])

plt.show()
"
11379,55008,Display encapsulated widget in IPython notebook,"    class Foo(object):
        def __init__(self, widget):
            self.widget = widget

        def _ipython_display_(self, **kwargs):
            self.widget._ipython_display_(**kwargs)
"
19109,35162,How do I convert from an IronPython datetime to a .NET DateTime?,"dt = datetime.now()
d = DateTime(*dt.timetuple()[:6])

# For UTC times, you need to pass 'kind' as a kwarg
# because of Python's rules around using * unpacking
udt = datetime.now() 
ud = DateTime(*udt.timetuple()[:6], kind=DateTimeKind.Utc)
"
24620,24315,How to get all files from a directory and display them on a list in tkinter - Python,"for file in files:
    button = tk.Button(root, text=file, ...)
    button.pack(...)
"
33526,638,"Running a Folder of R Scripts, each in a different R instance","Rfiles <- file.path(<your.folder>, dir(pattern=""\\.[R|r]$""))
library(parallel)
clus <- makeCluster(length(Rfiles))
parLapply(clus, Rfiles, source)
"
35760,24494,How do I get minidom to ignore namespaces?,"els= document.getElementsByTagNameNS('*', 'tag')
"
6581,74218,Best practice for lazy loading Python modules,"def render_with_jinja2(self, values, template_name):
    import jinja2
    env = jinja2.Environment(...)
"
24018,42275,Passing precision to python's .format method,">>> print '{:.{prec}f}'.format(12.345, prec=2)
12.35
>>> print '{:.{prec}f}'.format(12.345, prec=1)
12.3
"
6261,40736,How to provide a negative condition in Case/When clause while using Django ORM?,"Sum(Case(When(~Q(x='ABC'), then=F('some_field')), default=0))
"
33217,41737,Append previous lines of a file based on a condition,"data=open(""file"").read().split(""\n\n"")
for rec in data:
    if ""have paid"" in rec:
         print rec.split(""have paid"")[0]
"
38611,5219,splitting characters of a string by a delimiter in those characters,">>> text = ""# .   #""
>>> text[::2]
'#. #'
>>> list(text[::2])
['#', '.', ' ', '#']
"
13965,65895,Python - wget check when process has completed,"import urllib

url = 'http:......'
filename = 'your_filename'
urllib.urlretrieve(url, filename)
"
21920,8173,reindex on a multi index changes structure and drops index names,"In [134]:

print df
                  v
respondent brand   
0          Asda   6
1          Tesco  7
2          Asda   9
3          Aldi   2
4          Asda   4
In [135]:

Index = pd.MultiIndex.from_product((df.index.get_level_values(0).unique(), 
                                    df.index.get_level_values(1).unique()),
                                   names = df.index.names)
df2 = pd.DataFrame({'v': np.zeros(len(Index))},
                   index = Index)
In [136]:

print (df2+df).fillna(0)
                  v
respondent brand   
0          Aldi   0
           Asda   6
           Tesco  0
1          Aldi   0
           Asda   0
           Tesco  7
2          Aldi   0
           Asda   9
           Tesco  0
3          Aldi   2
           Asda   0
           Tesco  0
4          Aldi   0
           Asda   4
           Tesco  0
"
16125,68822,"Python Download files, but they are empty?","import urllib2

url = 'https://www.dropbox.com/s/splz3vk9pl1tbgz/test.txt?dl=0'
user_agent = 'Mozilla 5.0 (Windows 7; Win64; x64)'
file_name = ""test.txt""
u = urllib2.Request(url, headers = {'User-Agent' : user_agent})

# Actually make the request
req = urllib2.urlopen(u)

f = open(file_name, 'wb')

# Read data from the request, and write it to the file
f.write(req.read())

f.close()
"
8946,76163,What's the most Pythonic way to refactor this list building code?,"def get_male_owners(self):
    return [res for res in self.results if res.owner.sex.male]

def get_cards_5_to_10(self):
    return [res for res in self.results if res.car and self.is_5_to_10(res.car)]

def is_5_to_10(self, car):
    return 5 <= car.age <= 10
"
18196,20183,Python (GDAL): projection conversion from WGS84 to NZTM2000 is not correct,"def CRSTransform(Lat, Long):
    transform = osr.CoordinateTransformation(source, target)
    point = ogr.Geometry(ogr.wkbPoint)
    point.SetPoint_2D(0, float(Long), float(Lat))
    point.Transform(transform)
    print point.GetX(), ""   "", point.GetY()

CRSTransform(-44.419134, 172.243651)  # 1539788.868     5081294.99354
"
7474,80825,Launching webcam and capturing an image using python,"import cv2
cv2.namedWindow(""preview"")
vc = cv2.VideoCapture(0)

if vc.isOpened(): # try to get the first frame
    rval, frame = vc.read()
else:
    rval = False

while rval:
    cv2.imshow(""preview"", frame)
    rval, frame = vc.read()
    key = cv2.waitKey(20)
    if key == 27: # exit on ESC
        cv2.imwrite(""image.png"", frame)
        break

cv2.destroyWindow(""preview"")
"
9774,36506,Terminate importation of module non-fatally?,"# code

if __name__ == ""__main__"": exec(""""""

# main code

#"""""")
"
35872,60886,How can I delete a list in the run time python?,"abc = [[""in"", {""Att"":[2], ""port"":1, ""val"":[2]}],
       [""in"", {""Att"":[1], ""port"":2, ""val"":[1]}],
       [""in"", {""Att"":[3], ""port"":1, ""val"":[3]}],
       [""in"", {""Att"":[4], ""port"":2, ""val"":[4]}],
       [""in"", {""Att"":[5], ""port"":1, ""val"":[5]}]]

abc_new = []
for i in abc:
    if not [j for j in abc_new if i[1][""port""] == j[1][""port""]]:
        abc_new.append([ ""in"", {""Att"": i[1][""Att""], ""port"": i[1][""port""], ""val"": i[1][""val""]}])
    else:
        for n, j in enumerate(abc_new):
            if i[1][""port""] == j[1][""port""]:
                abc_new[n][1][""Att""].append(i[1][""Att""][0])
                abc_new[n][1][""val""].append(i[1][""val""][0])

print abc_new
"
3218,13673,any suggestions on shortening this python code?,"def script(dicesides, random):
    if dicesides in [4,6,12]:
        dice = int(random.randrange(1, dicesides))
        print(dicesides, "" sided dice, score"", dice)
    else:
        print(""That number is invalid. Please try again."")
        var()
"
35055,3038,How to identify binary and text files using Python?,"from __future__ import division
import string 

def istext(filename):
    s=open(filename).read(512)
    text_characters = """".join(map(chr, range(32, 127)) + list(""\n\r\t\b""))
    _null_trans = string.maketrans("""", """")
    if not s:
        # Empty files are considered text
        return True
    if ""\0"" in s:
        # Files with null bytes are likely binary
        return False
    # Get the non-text characters (maps a character to itself then
    # use the 'remove' option to get rid of the text characters.)
    t = s.translate(_null_trans, text_characters)
    # If more than 30% non-text characters, then
    # this is considered a binary file
    if float(len(t))/float(len(s)) > 0.30:
        return False
    return True
"
14286,12849,Finding groups in Regex - Python,"pat1 = re.compile(""CREATE TABLE .+ FROM (\w+)\..+"")
"
19377,39324,How do I find extensions and replace them in python?,">>> 
>>> pattern = ""\s(\w*?(?P<ext>\w)(?P=ext){2,}\w*?)\W""
>>> s1 = ""Bob is the bessssst.""
>>> s2 = ""Bob is the bessssst .""
>>> ext_re = re.compile(pattern)
>>> m = ext_re.search(s1)
>>> m.groups()
('bessssst', 's')
>>> m = ext_re.search(s2)
>>> m.groups()
('bessssst', 's')
>>> 
"
7900,82728,Python - Write to file with color and font,"f.write(""""""
  <p style=""color: red; font-family: 'Liberation Sans',sans-serif"">
    {}
  </p>
"""""".format(sentences2[i]))
"
224,79156,convert a text file into a list of variables,"with open(input_path, 'r') as infile, open(output_path, 'w') as outfile:
  for line in infile:
    line_name, line_id = line.split(':')
    line_name = line_name.strip().replace(' ', '_')
    print('{} = [""{}""]'.format(line_name, line_id.strip()))
"
10437,50091,General purpose Python functions in Django views.py,"from .utilities import function_name
"
16224,50773,How do I make a list,"lst = [generate_individual(10) for _ in range(N)] #You will need to define N before (or use a constant)
print lst
"
5588,6188,Networking: SNMP in the ADV Environment in C#,"ftplib.cwd() # change working directory
ftplib.rmd() # remove directory
"
37244,43432,How to access netgear router web interface,"import urllib2

user = 'admin'
pwd = 'notmyrealpassword'
host = '192.168.1.1'
url = 'http://' + host + '/traffic_meter_2nd.htm'

passman = urllib2.HTTPPasswordMgrWithDefaultRealm()
passman.add_password(None, host, user, pwd)
authhandler = urllib2.HTTPBasicAuthHandler(passman)

opener = urllib2.build_opener(authhandler)
response = opener.open(url)
stuff = response.read()
response.close()

print stuff
"
21066,70357,formatting .csv to json in python for individual key:value pairs,"import csv
import json

csvfile = open('spreadsheet.csv', 'r')
jsonfile = open('fileTo.json', 'w') 

fieldnames = (""Id"",""name"",""TypeId"",""Type"", ""listHere"")
fieldfixers = {
    'Id': int,
    'Type': int,
}
reader = csv.DictReader( csvfile, fieldnames)

for row in reader:
    for key,value in row.iteritems():
        ffunc = fieldfixers.get(key)
        if ffunc:
            row[key] = ffunc(value)
    json.dump(row, jsonfile, sort_keys=True, indent=4, separators=(',', ':'))
    jsonfile.write(',')
    jsonfile.write('\n') 
"
16157,57123,Group by value of sum of columns with Pandas,"In [57]: df.groupby(df.sum(), axis=1).sum()
Out[57]: 
   1  9
0  2  2
1  1  3
2  0  4

[3 rows x 2 columns]
"
22496,84810,Programmatically change image resolution,"from PIL import Image

im = Image.open(""test.png"")
im.save(""test-600.png"", dpi=(600,600) )
"
34714,19229,Pass Python array to javascript?,"var x_array = [];    
var y_array = [];     

jQuery.get('http://localhost/test/data.txt',function(data){
    var lines = data.split(/\r\n|\n/g);
    for (var i = 0; i < lines.length; i++) {
        line = lines[i].split(/\s+/g);
        x_array.push(line[0]);
        y_array.push(line[1]);
    }
    console.log(x_array);
    console.log(y_array);
});
"
8013,59004,Python: Which XML parser supports DTD !ENTITY definitions?,">>> from lxml import etree
>>> s = """"""<?xml version=""1.0"" standalone=""yes"" ?>
... <!DOCTYPE widget [
... <!ENTITY widgets-ns ""http://www.w3.org/ns/widgets"">
... <!ENTITY pass ""pass&amp;.html"">
... ]>
... <xyz:widget xmlns:xyz=""&widgets-ns;"">
...   <xyz:content src=""&pass;""/>
...   <xyz:name>bv</xyz:name>
... </xyz:widget>
... """"""
>>> etree.fromstring(s)
<Element {http://www.w3.org/ns/widgets}widget at 7f4de2cc58e8>
>>> etree.fromstring(s).xpath(""//xyz:content/@src"",
...                           namespaces={""xyz"": ""http://www.w3.org/ns/widgets""})
['pass&.html']
"
30602,16174,Overlay part of the matrix on top of another,">>> import numpy as np
>>> x = np.array([1,2,31,32,4,0,3,0,0,0])
>>> z = np.array([99] * len(x))
>>> y = np.where(x != 0, x, z)
>>> y
array([ 1,  2, 31, 32,  4, 99,  3, 99, 99, 99])
"
12123,52443,Design pattern for creating new features in pandas dataframe,"In [20]: funcs = { 'foo' : lambda df: Series(10,index=df.index), 'bar' : lambda df: df['foo']+1 }

In [24]: df = DataFrame(np.random.randn(5,2),columns=list('AB'))

In [25]: for k in ['foo','bar']:
   ....:     if k not in df:
   ....:         df[k] = funcs[k](df)
   ....:         

In [26]: df
Out[26]: 
          A         B  foo  bar
0  0.733404  0.640446   10   11
1  0.927252  0.421439   10   11
2  2.355565  0.839521   10   11
3  0.260136 -0.016420   10   11
4  0.256628 -0.766033   10   11

[5 rows x 4 columns]
"
14295,32244,remove parentheses from complex numbers - pandas,"In [25]: df = DataFrame([[1+2j],[2-1j]],columns=list('A'))

In [26]: df
Out[26]: 
        A
0  (1+2j)
1  (2-1j)

In [27]: df['A'] = df['A'].apply(str).str.replace('\(|\)','')

In [28]: df
Out[28]: 
      A
0  1+2j
1  2-1j

In [29]: df.to_csv('test.csv')

In [30]: !cat test.csv
,A
0,1+2j
1,2-1j
"
9021,79283,Pandas dataframe - running sum with reset,"#   reset  val  desired_col
#0      0    1            1
#1      0    5            6
#2      0    4           10
#3      1    2            2
#4      1   -1           -1
#5      0    6            5
#6      0    4            9
#7      1    2            2
df['cumsum'] = df['reset'].cumsum()
#cumulative sums of groups to column des
df['des']= df.groupby(['cumsum'])['val'].cumsum()
print df
#   reset  val  desired_col  cumsum  des
#0      0    1            1       0    1
#1      0    5            6       0    6
#2      0    4           10       0   10
#3      1    2            2       1    2
#4      1   -1           -1       2   -1
#5      0    6            5       2    5
#6      0    4            9       2    9
#7      1    2            2       3    2
#remove columns desired_col and cumsum
df = df.drop(['desired_col', 'cumsum'], axis=1)
print df
#   reset  val  des
#0      0    1    1
#1      0    5    6
#2      0    4   10
#3      1    2    2
#4      1   -1   -1
#5      0    6    5
#6      0    4    9
#7      1    2    2
"
34926,34767,How to form an unique collection with one element taken from each array?,"import itertools

arrs = [[1,2,3], [2,3], [1]]

for x in itertools.product(*arrs):
    if len(set(x)) < len(arrs): continue
    AddAnswer(x)
"
36643,79366,why the list behaves differently in python and Java?,">>> L = [1, 2, 3]
>>> for i in L:
...     L.append(4)
...     print L
...     if len(L) > 30:
...         break
... 
[1, 2, 3, 4]
[1, 2, 3, 4, 4]
[1, 2, 3, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
[1, 2, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4]
"
27246,17751,Unexpected python recursive multiplication return,"def rec_mult(x, y, tot=0, inc=0):
    if int(x) ==  0:
        return tot
    else:
        x = str(x)
        tot += int(x[(-1+inc):]) * y
        x = x[:(-1+inc)] + ""0""; inc -= 1
        return rec_mult(x, y, tot, inc)  # <-- return here

print rec_mult(2, 10)  # 20
"
3226,43754,Find offset between system-time and Internet time using Python,">>> import ntplib
>>> c = ntplib.NTPClient()
>>> response = c.request('europe.pool.ntp.org', version=3)
>>> response.offset
-0.143156766891
"
22364,84137,Exporting boost::asio::ip::address operator == to python,"#include <boost/python.hpp>
using boost::python;

struct Test
{
    int i;
};

bool operator==(const Test& t1, const Test& t2)
{
    return t1.i == t2.i;
}

BOOST_PYTHON_MODULE(test)
{
    class_<Test>(""Test"")
        .def_readwrite(""i"", &Test::i)
        .def(self == self);
}
"
16663,45681,What data structure to use to store the sentiment count of corresponding word during sentiment analysis in python?,"sentiment_words = {}  # this will be a dict of 3-member lists, with word as key

for word in words:
    if not word in sentiment_words:  # initialize the word if it's not present yet
        sentiment_words[word] = [0, 0, 0]
    if ispositive(word):  # increment the right sentiment item in the list
        sentiment_words[word][0] += 1
    elif isnegative(word):
        sentiment_words[word][1] += 1
    elif isneutral(word):
        sentiment_words[word][2] += 1
"
34882,38156,why is 1e400 not an int?,">>> import decimal
>>> decimal.Decimal(""1e400"")
Decimal('1E+400')
>>> int(decimal.Decimal(""1e400""))
10000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
0
"
27801,43891,Placing Multiple Histograms in Figure with PyLab,"import numpy as np
import matplotlib.pyplot as plt
# create some data
data = np.random.rand(6,10)
fig, ax = plt.subplots(3,2)
ax = ax.reshape(6)
for ind, d in enumerate(data):
  ax[ind].hist(d)
fig.tight_layout()
plt.show()
"
16051,25033,"Python 3, changing colour of an image","from PIL import Image
from PIL.ImageColor import getcolor, getrgb
from PIL.ImageOps import grayscale

def image_tint(src, tint='#ffffff'):
    if Image.isStringType(src):  # file path?
        src = Image.open(src)
    if src.mode not in ['RGB', 'RGBA']:
        raise TypeError('Unsupported source image mode: {}'.format(src.mode))
    src.load()

    tr, tg, tb = getrgb(tint)
    tl = getcolor(tint, ""L"")  # tint color's overall luminosity
    if not tl: tl = 1  # avoid division by zero
    tl = float(tl)  # compute luminosity preserving tint factors
    sr, sg, sb = map(lambda tv: tv/tl, (tr, tg, tb))  # per component
                                                      # adjustments
    # create look-up tables to map luminosity to adjusted tint
    # (using floating-point math only to compute table)
    luts = (tuple(map(lambda lr: int(lr*sr + 0.5), range(256))) +
            tuple(map(lambda lg: int(lg*sg + 0.5), range(256))) +
            tuple(map(lambda lb: int(lb*sb + 0.5), range(256))))
    l = grayscale(src)  # 8-bit luminosity version of whole image
    if Image.getmodebands(src.mode) < 4:
        merge_args = (src.mode, (l, l, l))  # for RGB verion of grayscale
    else:  # include copy of src image's alpha layer
        a = Image.new(""L"", src.size)
        a.putdata(src.getdata(3))
        merge_args = (src.mode, (l, l, l, a))  # for RGBA verion of grayscale
        luts += tuple(range(256))  # for 1:1 mapping of copied alpha values

    return Image.merge(*merge_args).point(luts)

if __name__ == '__main__':
    import os
    import sys

    input_image_path = 'Dn3CeZB.png'
    print('tinting ""{}""'.format(input_image_path))

    root, ext = os.path.splitext(input_image_path)
    suffix = '_result_py{}'.format(sys.version_info[0])
    result_image_path = root+suffix+ext

    print('creating ""{}""'.format(result_image_path))
    result = image_tint(input_image_path, '#383D2D')
    if os.path.exists(result_image_path):  # delete any previous result file
        os.remove(result_image_path)
    result.save(result_image_path)  # file name's extension determines format

    print('done')
"
14865,36998,How can make my django datetime field to display seconds," <td>{{ item|date:'Y-m-d H:i:s' }}</td>
"
13822,25792,Printing Pyside QTableView,"from PyQt4 import QtGui, QtCore

class Window(QtGui.QWidget):
    def __init__(self, rows, columns):
        QtGui.QWidget.__init__(self)
        self.table = QtGui.QTableView(self)
        model =  QtGui.QStandardItemModel(rows, columns, self.table)
        for row in range(rows):
            for column in range(columns):
                item = QtGui.QStandardItem('(%d, %d)' % (row, column))
                item.setTextAlignment(QtCore.Qt.AlignCenter)
                model.setItem(row, column, item)
        self.table.setModel(model)
        self.buttonPrint = QtGui.QPushButton('Print', self)
        self.buttonPrint.clicked.connect(self.handlePrint)
        self.buttonPreview = QtGui.QPushButton('Preview', self)
        self.buttonPreview.clicked.connect(self.handlePreview)
        layout = QtGui.QGridLayout(self)
        layout.addWidget(self.table, 0, 0, 1, 2)
        layout.addWidget(self.buttonPrint, 1, 0)
        layout.addWidget(self.buttonPreview, 1, 1)

    def handlePrint(self):
        dialog = QtGui.QPrintDialog()
        if dialog.exec_() == QtGui.QDialog.Accepted:
            self.handlePaintRequest(dialog.printer())

    def handlePreview(self):
        dialog = QtGui.QPrintPreviewDialog()
        dialog.paintRequested.connect(self.handlePaintRequest)
        dialog.exec_()

    def handlePaintRequest(self, printer):
        document = QtGui.QTextDocument()
        cursor = QtGui.QTextCursor(document)
        model = self.table.model()
        table = cursor.insertTable(
            model.rowCount(), model.columnCount())
        for row in range(table.rows()):
            for column in range(table.columns()):
                cursor.insertText(model.item(row, column).text())
                cursor.movePosition(QtGui.QTextCursor.NextCell)
        document.print_(printer)

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window(25, 2)
    window.resize(300, 400)
    window.show()
    sys.exit(app.exec_())
"
34269,57067,How can I deep search a Python list?,">>> l = [[1,2,3],[4,5,6], [7], [8,9]]
>>> [item for sublist in l for item in sublist]
[1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> 5 in [item for sublist in l for item in sublist]
True
"
1566,36403,Writing csv header removes data from numpy array written below,"s = ','.join(itertools.chain(dataset)) + '\n'
newfile = 'export.csv'
f = open(newfile,'w')
f.write(s)
numpy.savetxt(f, (numpy.transpose(datastack)), delimiter=', ')
f.close()
"
14903,41202,Store data on button click from odoo website,"@http.route(['/shop/payment/transaction/<int:acquirer_id>'], type='json', auth=""public"", website=True)
    def payment_transaction(self, acquirer_id):
        cr, uid, context = request.cr, request.uid, request.context
        transaction_obj = request.registry.get('payment.transaction')
        order = request.website.sale_get_order(context=context)

        if not order or not order.order_line or acquirer_id is None:
            return request.redirect(""/shop/checkout"")

        assert order.partner_id.id != request.website.partner_id.id

        # find an already existing transaction
        tx = request.website.sale_get_transaction()
        if tx:
            if tx.state == 'draft':  # button cliked but no more info -> rewrite on tx or create a new one ?
                tx.write({
                    'acquirer_id': acquirer_id,
                    'amount': order.amount_total,
                })
            tx_id = tx.id
        else:
            tx_id = transaction_obj.create(cr, SUPERUSER_ID, {
                'acquirer_id': acquirer_id,
                'type': 'form',
                'amount': order.amount_total,
                'currency_id': order.pricelist_id.currency_id.id,
                'partner_id': order.partner_id.id,
                'partner_country_id': order.partner_id.country_id.id,
                'reference': order.name,
                'sale_order_id': order.id,
            }, context=context)
            request.session['sale_transaction_id'] = tx_id

        # update quotation
        request.registry['sale.order'].write(
            cr, SUPERUSER_ID, [order.id], {
                'payment_acquirer_id': acquirer_id,
                'payment_tx_id': request.session['sale_transaction_id']
            }, context=context)

        return tx_id
"
34251,43015,Matplotlib: how to vertically align multiple legends,"fig, ax = plt.subplots()
line1, = ax.plot([1,2,3], label=""Line 1"", linestyle='--')
line2, = ax.plot([3,2,1], label=""Line 2\nThis is a \nvery long\nlegend"", linewidth=4)
line3, = ax.plot([2,2,2], label=""Can this be left justified?"")

# Create a legend for the first two lines.
# 'loc' sets anchor position of the legend frame relative to itself, 
# bbox_to_anchor puts legend's anchor to (x, y) in axes coordinates.
first_legend = ax.legend(handles=[line1], loc='upper left', bbox_to_anchor=(0.65, 1))
second_legend = ax.legend(handles=[line2], loc='center left', bbox_to_anchor=(0.65, 0.5))

# Add the legends manually to the current Axes.
ax.add_artist(first_legend)
ax.add_artist(second_legend)

# Create another legend for the last line.
ax.legend(handles=[line3], loc='lower left', bbox_to_anchor=(0.65, 0))

plt.show()
"
24640,66703,rewrite small piece of python code,"any(<condition> for it in <iterable>)      # return True on <condition>
"
26691,11114,How to get long file system path from python on Windows,"from ctypes import *
buf = create_unicode_buffer(500)
WinPath = windll.kernel32.GetLongPathNameW
WinPath(unicode(tempDir), buf, 500)
print buf.value
"
32570,64344,How to run a code for multiple fastq files?,"from Bio.SeqIO.QualityIO import FastqGeneralIterator
import glob
import os

def process(in_filepath, out_filepath):
    maxN = 0
    countall = 0
    countincl = 0
    with open(in_filepath, ""rU"") as fin:
        with open(out_filepath, ""w"") as fout:
            for (title, sequence, quality) in FastqGeneralIterator(fin):
                countN = sequence.count(""N"", 0, len(sequence))
                countall += 1
                if countN == maxN:
                    fout.write(""@%s\n%s\n+\n%s\n"" % (title, sequence, quality))
                    countincl += 1
    print os.path.split(in_filepath)[1], countall, countincl

folder = ""/path/to/folder""  # folder to process
for in_filepath in glob.glob(os.path.join(folder, ""*.fastq"")):
    root, ext = os.path.splitext(in_filepath)
    if not root.endswith(""_filt""):  # avoid processing existing output files
        out_filepath = root + ""_filt"" + ext
        process(in_filepath, out_filepath)
"
2549,50295,pythonic way to split list?,"[my_list[x:x+num] for x in range(0, len(my_list), num)]
"
13987,15665,Redirect print command in python script through tqdm.write(),"from time import sleep

import contextlib
import sys

from tqdm import tqdm

class DummyFile(object):
  file = None
  def __init__(self, file):
    self.file = file

  def write(self, x):
    # Avoid print() second call (useless \n)
    if len(x.rstrip()) > 0:
        tqdm.write(x, file=self.file)

@contextlib.contextmanager
def nostdout():
    save_stdout = sys.stdout
    sys.stdout = DummyFile(sys.stdout)
    yield
    sys.stdout = save_stdout

def blabla():
  print(""Foo blabla"")

# tqdm call to sys.stdout must be done BEFORE stdout redirection
# and you need to specify sys.stdout, not sys.stderr (default)
for _ in tqdm(range(3), file=sys.stdout):
    with nostdout():
        blabla()
        sleep(.5)

print('Done!')
"
36150,26073,"Dependent Sliders with Bokeh, how to write the callbacks","# Example from Bokeh 0.11.1

from bokeh.plotting import show, output_file
from bokeh.models import CustomJS, Slider, VBox

s1 = Slider(start=1, end=10, value=1, step=1)
s2 = Slider(start=0, end=1, value=0, step=1)

s1.callback = CustomJS(args=dict(s1=s1, s2=s2), code=""""""
    s2.set('end', s1.get('value'));
"""""")

output_file(""foo.html"")

show(VBox(s1,s2))
"
26651,8145,How to merge two different paths in a XML file?,"from lxml import etree
root = etree.fromstring(xml)

replace_set = {}
for node in root.iter(""Node""):
    if 'NodeRef' in [c.tag for c in node]:
        # This is a <Node> type with child element <NodeRef>. So it will
        # be referenced by a <Node> with <NodeName>. Let's keep it, and then
        # remove it from the tree.
        ref = node.find(""NodeRef"").text
        inner = node.find(""InnerNode"")
        replace_set[ref] = inner
        # Remove NodeRef element, as we've saved it in dict
        node.getparent().remove(node)

# Cleanup where we've removed NodeRefs.
for node in root.iter(""Paths""):
    if len(node.find(""Path"")) == 0:
        node.getparent().remove(node)

# Replace references to NodeRefs
for node in root.iter(""NodeRef""):
    if node.text in replace_set:
        node.getparent().replace(node, replace_set[ref])

print etree.tostring(root)
"
36528,75819,How to print strings in a for loop without space in one line?,"s = """"
for i in range(3):
    s+= 'Hi'
print s
"
20513,68729,Extract IPs after specific delimiter,"import re

LOG    = ""spammers.txt""
IPV4   = re.compile(r""(?:[\d]{1,3})\.(?:[\d]{1,3})\.(?:[\d]{1,3})\.(?:[\d]{1,3})"")
RESULT = ""organized_ips.txt""

def get_ips(fname):
    with open(fname) as inf:
        return IPV4.findall(inf.read())

def numeric_ip(ip):
    return [int(i) for i in ip.split(""."")]

def write_to(fname, iterable, fmt):
    with open(fname, ""w"") as outf:
        for i in iterable:
            outf.write(fmt.format(i))

def main():
    ips = get_ips(LOG)
    ips = list(set(ips))      # uniquify
    ips.sort(key=numeric_ip)
    write_to(RESULT, ips, ""IP: {}\n"")

if __name__==""__main__"":
    main()
"
6386,61063,Find number of occurrences of a list in a string using Python,"def contains_multiple(string, substrings):
    count = 0

    for substring in substrings:
        if substring in string:
            count += 1
            if count > 1:
                return True

    return False

for line in data:
    if contains_multiple(line, my_list):
        ...
"
33499,32909,How do I get all of one key from a list of dicts in Python?,"def do_GET(self):
    self.send_response(200)
    self.send_header('Content-type', 'application/json')
    self.end_headers()

    path = self.path[1:]
    components = string.split(path, '/')

    node = parse_node(content, components)

    self.wfile.write(json.dumps(node))

    return

def parse_node(node, components):
    # For a valid node and component list:
    if node and len(components) and components[0] != ""favicon.ico"":
        # Dicts will return parse_node of the top-level node component found, 
        # reducing the component list by 1
        if type(node) == dict:
            return parse_node(node.get(components[0], None), components[1:])

        elif type(node) == list:
            # A list with an ""all"" argument will return a full list of sub-nodes matching the rest of the URL criteria
            if components[0] == ""all"":
                return [parse_node(n, components[1:]) for n in node]
            # A normal list node request will work as it did previously
            else:
                return parse_node(node[int(components[0])], components[1:])
    else:
        return node

    # Handle bad URL
    return None
"
6867,33946,Read a csv with numpy array using pandas,"df = pd.read_csv(filename, dtype={'emotion':np.int32, 'pixels':str, 'Usage':str})

def makeArray(text):
    return np.fromstring(text,sep=' ')

df['pixels'] = df['pixels'].apply(makeArray)
"
39299,3951,Changing seaborn style in subplots,"fig = plt.figure()
with sns.axes_style(""whitegrid""):
    ax1 = fig.add_subplot(121)
ax2 = fig.add_subplot(122)
"
29853,16672,Escape input data for postgres,">>> cur.execute(
...     """"""INSERT INTO some_table (an_int, a_date, a_string)
...         VALUES (%s, %s, %s);"""""",
...     (10, datetime.date(2005, 11, 18), ""O'Reilly""))
"
33170,42116,Using += in a while loop but need to exclude highest number,"total = 0
maxValue = None
while True:
    value = input(""Enter the next number: "")
    if value != ""end"":
        num = float(value)
        maxValue = num if maxValue and num > maxValue else num
        total += num
    else:
        print(""The sum of all values except for the maximum value is: "",total-maxValue )
        # return outside a function is SyntaxError
        break
"
20288,3799,Why there is no option to add custom url converters to blueprints like for main app?,"def add_app_url_converter(self, name, f):
    self.record_once(lambda s: s.app.url_map.converters[name] = f
    return f

Blueprint.add_app_url_converter = add_app_url_converter

# ...

bp = Blueprint('mybp', __name__)
bp.add_app_url_converter('list', ListConverter)
"
5252,22489,How to use win32gui FindWindow with Wildcard,"def find_filename(substring):
    import os
    import re
    files = os.listdir(os.getcwd())
    for file in files:
        search = re.search(substring, file)
        if search:
            filename = file
            break
    return filename

file = find_filename('stringyouwant')
WindowExists(file)
"
39544,14319,Breaking up functions into passive (algorithm) and active (execution) objects,"def createDSLAlgorithm(code):
    def coderunner(*args, **kwargs):
        DSLInterpreter().interpret(code, *args, **kwargs)
    return coderunner
"
18870,45792,Exporting a list to a CSV/space separated and each sublist in its own column,"out.writerows(zip(*data))
"
19947,33645,Run terminal program on multiple input files,"for f in IsomiR_*.txt
do
    java -jar miraligner.jar -freq -sub 1 -trim 3 -add 3 -s hsa -i ""$f"" -db ./DB/ -o ""Miraligner${f#IsomiR}"" 
done
"
13908,51878,Streaming output of a remotely executed program via ssh,"ssh -t name@remote 'python test.py'
"
1059,82940,How can I send a GET request from my flask app to another site?,"import requests
from flask import Flask
app = Flask(__name__)

@app.route('/some-url')
def get_data():
    return requests.get('http://example.com').content
"
6198,2289,plot different lines in different colors based on a property they have,"import matplotlib.pyplot as plt
import numpy as np
import matplotlib.cm as cm

import random

def slope(x, y):
    return (y[0] - y[1]) / (x[0] - x[1])

def get_color(condition):
    if condition < 0:
        if abs(condition) < 1:
            return 'red'
        else:
            return 'green'
    else:
        if abs(condition) < 1:
            return 'blue'
        else: return 'cyan'

XX = [(random.random(), random.random()) for _ in range(12)]
YY = [(random.random(), random.random()) for _ in range(12)]


plt.figure(1)
for x, y in zip(XX, YY):
    color = get_color(slope(x, y))

    plt.plot(x ,y, linewidth=3, color=color)
plt.show()
"
6835,5670,How to make pytest display a custom string representation for fixture parameters?,"@fixture(params=[Param('hello'), Param('world')], ids=['hello', 'world'])
def data(request):
    return request.param
"
26814,77803,python generator endless stream without using yield,"import itertools

def generate(f, x):
  return itertools.accumulate(itertools.repeat(x), lambda v,_:f(v))

for i, val in enumerate(generate(lambda x: 2*x, 3)):
  print(val)
  if i == 10:
    break
"
15039,85291,2d hsv color space in matplotlib,"import numpy as np
import pylab as pl
from matplotlib.colors import hsv_to_rgb

V, H = np.mgrid[0:1:100j, 0:1:300j]
S = np.ones_like(V)
HSV = np.dstack((H,S,V))
RGB = hsv_to_rgb(HSV)
pl.imshow(RGB, origin=""lower"", extent=[0, 360, 0, 1], aspect=150)
pl.xlabel(""H"")
pl.ylabel(""V"")
pl.title(""$S_{HSV}=1$"")
pl.show()
"
24210,26965,Python - for loop only outputs the last iteration,"    import glob
    from xml.etree import ElementTree
    from xml.dom import minidom

    def prettify(elem):
        """"""Return a pretty-printed XML string for the Element.
        """"""
        rough_string = ElementTree.tostring(elem, 'utf-8')
        reparsed = minidom.parseString(rough_string)
        return reparsed.toprettyxml(indent=""  "")

    import xml.etree.ElementTree as ET

    path = ""/home/unkuiri/Ubuntu One/Wallpapers/*""


    background = ET.Element('background')
    dirList = glob.glob(path)
    starttime = ET.SubElement(background, 'starttime')
    year = ET.SubElement(starttime, 'year')
    year.text = '2012'
    month = ET.SubElement(starttime, 'month')
    month.text = '10'
    day = ET.SubElement(starttime, 'day')
    day.text = '10'
    hour = ET.SubElement(starttime, 'hour')
    hour.text = '00'
    minute = ET.SubElement(starttime, 'minute')
    minute.text = '00'
    second = ET.SubElement(starttime, 'second')
    second.text = '00'


    for i,fname in enumerate(dirList):    

        static = ET.SubElement(background, 'static')
        duration_stat = ET.SubElement(static, 'duration')
        duration_stat.text = '1795.0'
        files = ET.SubElement(static, 'file')
        transition = ET.SubElement(background, 'transition')
        duration_trans = ET.SubElement(transition, 'duration')
        duration_trans.text = '5.0'
        from1 = ET.SubElement(transition, 'from')
        to = ET.SubElement(transition, 'to')

        from1.text = dirList[i-1]

        files.text = dirList[i-1]

        to.text = dirList[i]


    print prettify(background)
"
10808,74961,JQuery/CSS selectors in Python?,">>> d = pq(""<option value='1'><option value='2'>"")
>>> d('option[value=""1""]')
[<option>]
"
26069,83162,sending a period to end a mail DATA telnet session in python,"self.tnet.write(""\r\n.\r\n"")
"
18909,39355,Python: How to create an array of arrays based on a variable?,"data = ['Memory', 1, 2, 3, 4, 5, 6, 27, 'Network', 7, 8, 9, 10, 11, 12, 13, 14, 'Processes', 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 29, 'CPU', 30, 31, 32, 33, 34, 35, 'System']

output = {}
for j in data:
    if type(j) is int:
        current.append(j)
    else:
        current = []
        output[j] = current

output = {'System': [], 'Processes': [15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 29], 'CPU': [30, 31, 32, 33, 34, 35], 'Network': [7, 8, 9, 10, 11, 12, 13, 14], 'Memory': [1, 2, 3, 4, 5, 6, 27]}
"
32560,22277,Tricky MySQL query instead of a Python script to achieve the result?,"select cid,
max(case when pid = 1 then 'Y' else '' end) as AAA,
max(case when pid = 2 then 'Y' else '' end) as ABC,
max(case when pid = 3 then 'Y' else '' end) as BAC,
max(case when pid = 4 then 'Y' else '' end) as CAB,
max(case when pid = 5 then 'Y' else '' end) as CBA
from companies
group by cid
"
38543,2032,How to plot specific parts of a matrix in matplotlib?,"import matplotlib.pyplot as plt
import numpy as np

data = [
    [11, 11, 12, 13],
    [9, 0, 0, 12],
    [8, 0, 0, 11],
    [8, 9, 10, 11]
]

#Here's what you have:
data_array = np.array(data)

#Mask every position where there is a 0:
masked_data = np.ma.masked_equal(data_array, 0)

#Plot the matrix:
fig = plt.figure()
ax = fig.gca()
ax.matshow(masked_data, cmap=plt.cm.autumn_r) #_r => reverse the standard color map
plt.show()
#plt.savefig('heatmap.png')
"
28044,82273,Python to parse non-standard XML file,"import urllib2, os, zipfile
from lxml import etree

def xmlSplitter(data,separator=lambda x: x.startswith('<?xml')):
  buff = []
  for line in data:
    if separator(line):
      if buff:
        yield ''.join(buff)
        buff[:] = []
    buff.append(line)
  yield ''.join(buff)

def first(seq,default=None):
  """"""Return the first item from sequence, seq or the default(None) value""""""
  for item in seq:
    return item
  return default

datasrc = ""http://commondatastorage.googleapis.com/patents/grantbib/2011/ipgb20110104_wk01.zip""
filename = datasrc.split('/')[-1]

if not os.path.exists(filename):
  with open(filename,'wb') as file_write:
    r = urllib2.urlopen(datasrc)
    file_write.write(r.read())

zf = zipfile.ZipFile(filename)
xml_file = first([ x for x in zf.namelist() if x.endswith('.xml')])
assert xml_file is not None

count = 0
for item in xmlSplitter(zf.open(xml_file)):
  count += 1
  if count > 10: break
  doc = etree.XML(item)
  docID = ""-"".join(doc.xpath('//publication-reference/document-id/*/text()'))
  title = first(doc.xpath('//invention-title/text()'))
  assignee = first(doc.xpath('//assignee/addressbook/orgname/text()'))
  print ""DocID:    {0}\nTitle:    {1}\nAssignee: {2}\n"".format(docID,title,assignee)
"
7036,26091,Error in using `struct.pack` for writing data to file,"outputFile = open('testDS', 'wb')
"
26559,9067,Pandas read_csv incorrect columns,"In [128]:

t=""""""num NED IAU z N det TOF type alph.4 alph1 alph5 alph10 alph15 alph20 alph50  dSIbydnu  DWORRY UVNONE
1 ESO473-G007 J001605-234  0.06401 19.51 det  8.59 u  -0.432  -0.428  -0.413 -0.402 -0.395 -0.389 -0.369 0.017 53.53 UV
2 PKS0023-26 J0025-2602  0.32162 18.36 det  7.95 a  -0.272  -0.437  -0.726 -0.849 -0.919 -0.972 -1.135 -0.414 53.57 UV
3 NGC0315 0055+30  0.01648 18.84 det  7.41 a  -0.248  -0.306  -0.379 -0.398 -0.406 -0.411 -0.417 -0.119 53.60 UV""""""
data = pd.read_csv(io.StringIO(t),sep='\s+', header=0)
data
â
Out[128]:
   num          NED          IAU        z      N  det   TOF type  alph.4  \
0    1  ESO473-G007  J001605-234  0.06401  19.51  det  8.59    u  -0.432   
1    2   PKS0023-26   J0025-2602  0.32162  18.36  det  7.95    a  -0.272   
2    3      NGC0315      0055+30  0.01648  18.84  det  7.41    a  -0.248   

   alph1  alph5  alph10  alph15  alph20  alph50  dSIbydnu  DWORRY UVNONE  
0 -0.428 -0.413  -0.402  -0.395  -0.389  -0.369     0.017   53.53     UV  
1 -0.437 -0.726  -0.849  -0.919  -0.972  -1.135    -0.414   53.57     UV  
2 -0.306 -0.379  -0.398  -0.406  -0.411  -0.417    -0.119   53.60     UV  
"
13406,455,Counter for Specific Occurrences Within A Linked-List,"def count(head, value):
    seen = 0
    while head is not None:
        if head.data == value:
            seen += 1
        head = head.next
    return seen

#...
print(count(head, ""Dog""))
"
26290,82081,Python regex to remove all occurances of [Number],"import re

origional_string = ""makeup of organisms.[10] In 1997, while working at the University of Tennessee, Pigliucci received the Theodosius Dobzhansky Prize,[11]""

result = re.sub(r'\[ *[0-9]+ *\]', '', origional_string)

print(result)
"
7707,81673,Moving the image in a square fashion with pygame,"import pygame
from itertools import cycle

pygame.init() 

screen = pygame.display.set_mode((300, 300)) 
# move inside the screen (or any other Rect)
s_r = screen.get_rect()
player = pygame.Rect((100, 100, 50, 50))
timer = pygame.time.Clock()

speed = 5
up, down, left, right = (0, -speed), (0, speed), (-speed, 0), (speed, 0)
dirs = cycle([up, right, down, left])
dir = next(dirs)

while True:

    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            raise

    # move player
    player.move_ip(dir)
    # if it's outside the screen
    if not s_r.contains(player):
        # put it back inside
        player.clamp_ip(s_r)
        # and switch to next direction
        dir = next(dirs)

    screen.fill(pygame.color.Color('Black'))
    pygame.draw.rect(screen, pygame.color.Color('Grey'), player)

    pygame.display.flip()
    timer.tick(25)
"
5991,27921,Is that possible to make this kind of decorator in python (2.4)?,"def on_click_decorator(key):
    def real_decorator(func):
        setattr(func, ""_callback_to"", key)
        return func
    return real_decorator


class Meta(type):
    def __new__(metacls, name, bases, dct):
        callback_stack = {}
        for name, value in dct.items():
            if hasattr(value, ""_callback_to""):
                callback_stack[value._callback_to] = key
        dct[""callback_stack""] = callback_stack
        # we've done all needed manipulation - no
        # need for the class to be from a special type - so we
        # don't call type.__new__
        return type(name, bases, dct)
"
36363,31693,Cairo clip creates unwanted edges,"def snap_to_pixels(ctx, x, y):
    x, y = ctx.user_to_device(x, y)
    # No idea how to round an integer in python,
    # this would be round() in C
    # (Oh and perhaps you don't want this rounding, but
    # instead want to round the top-left corner of your
    # rectangle towards negative infinity and the bottom-right
    # corner towards positive infinity. That way the rectangle
    # would never become smaller to the rounding. But hopefully
    # this example is enough to get the idea.
    x = int(x + 0.5)
    y = int(x + 0.5)
    return ctx.device_to_user(x, y)

# Calculate the top-left and bottom-right corners of our rectangle
x1, y1 = 0.2, 0.2
x2, y2 = x1 + 0.2, y1 + 0.2
x1, y1 = snap_to_pixels(ctx, x1, y1)
x2, y2 = snap_to_pixels(ctx, x2, y2)
# Clip for this rectangle
ctx.rectangle(x1, y1, x2 - x1, y2 - y1)
ctx.clip()
"
20175,31868,"In Python/NumPy, how to pad an array by replicating the elements?",">>> x = numpy.array([1, 2, 1])
>>> numpy.repeat(x, 4)
array([1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1])
"
13409,1620,Python Decorator Problem with Docstrings,"from functools import wraps

def decorator(f):
    @wraps(f)
    def _decorator():
        print 'decorator active'
        f()
    return _decorator

@decorator
def foo():
    '''the magic foo function'''
    print 'this is function foo'

help(foo)
"
8387,42958,Cypher query in py2neo,"query_string = ""START beginning=node(4), end=node(452) 
                MATCH p = shortestPath(beginning-[*..500]-end) 
                RETURN p""

result = neo4j.CypherQuery(graph_db, query_string).execute()

for r in result:
    print type(r) # r is a py2neo.util.Record object
    print type(r.p) # p is a py2neo.neo4j.Path object
"
27494,58364,Python Nested Loop Comprehension,"word_count = sum(len(line.split()) for line in file)
"
23989,37150,A weighted version of random.choice,"def weighted_choice(choices):
   total = sum(w for c, w in choices)
   r = random.uniform(0, total)
   upto = 0
   for c, w in choices:
      if upto + w >= r:
         return c
      upto += w
   assert False, ""Shouldn't get here""
"
17879,39209,Python : simple array manipulation with Numpy,"a = np.arange(27)  # some 1-D numpy array
a.reshape(-1, 3)
"
18077,28386,Adding a custom Jinja2 filter in GAE 1.6.0,"env = jinja2.Environment(
    loader=jinja2.FileSystemLoader(template_path))
env.filters['default_if_none'] = default_if_none  # a function
tmpl = env.get_template(filename)
tmpl.render(**context)
"
20257,58527,How to define the query filter for the following situation?,"sanity_test = [ test_product.sanity_set for test_productin Test_Product.objects.filter(product__name='A')]
"
2202,34329,Django manager return all entries for today - DateTimeField,"class ValidEntryManager(models.Manager):
    def get_query_set(self):
        today = datetime.today()
        start_date = datetime(today.year, today.month, today.day)
        end_date = datetime(today.year, today.month, today.day+1)
        return super(ValidEntryManager, self).get_query_set().filter(timestamp__gte=start_date, timestamp__lte=end_date)
"
10661,62327,Count warnings in Python 2.4,"import warnings

def setup_warning_catcher():
    """""" Wrap warnings.showwarning with code that records warnings. """"""


    caught_warnings = []
    original_showwarning = warnings.showwarning

    def custom_showwarning(*args,  **kwargs):
        caught_warnings.append(args[0])
        return original_showwarning(*args, **kwargs)

    warnings.showwarning = custom_showwarning
    return caught_warnings


caught_warnings_list = setup_warning_catcher()

# trigger warning here

assert len(caught_warnings_list) == 1
"
38024,41333,What is global format() function meant for?,"'The hex value of {0:d} is {0:02x}'.format(42)
"
26303,73091,Django - Restricting User Access to the Admin Site,"class TeamModelAdmin(admin.ModelAdmin):
    def get_queryset(request):
         return Team.objects.filter(...)
"
4431,46355,Python - Finding monthly NPV of Credit Card,"#Write a program that calculates the minimum fixed monthly payment needed in order pay off a credit card balance within 12 months. By a fixed monthly payment, we mean a single number which does not change each month, but instead is a constant amount that will be paid each month.

balance = 999999
annualInterestRate = 0.18

monthlyPayment = 0.0
monthlyInterestRate = annualInterestRate/12
low = balance / 12.0
high = ((balance * ((1.0 + monthlyInterestRate)**12.0))/12.0)
monthlyPayment = (high+low)/2
while balance != 0:
    newBalance = balance
    for x in range(1, 13):
        lastMonthBalance = newBalance - monthlyPayment
        newBalance = lastMonthBalance + ((monthlyInterestRate) * lastMonthBalance)
        if -0.05 <= newBalance <= 0.05:
            balance = 0

    if newBalance < 0.0:
        high = monthlyPayment
    elif newBalance > 0.0:
        low = monthlyPayment

    monthlyPayment = (low + high) / 2

print ""Lowest Payment: %.2f"" % monthlyPayment
"
10931,39662,Is there a more pythonic way of combining duplicate objects in a list?,"def normalise_repeatable_options(options):
    parsed = []
    flat = defaultdict(list)

    for o in options:
        if isinstance(o, Option):
            # For the first instance of this object, add a placemarker
            if o.long not in flat:
                parsed.append(o.long)

            flat[o.long].append(o)
        else:
            parsed.append(o)

    return [Option.combine(*tuple(flat[o])) if isinstance(o, str) else o for o in parsed]
"
25328,5447,Python: find regexp in a file,"size = os.stat(fn).st_size
f = open(fn)
data = mmap.mmap(f.fileno(), size, access=mmap.ACCESS_READ)

m = re.search(r""867-?5309"", data)
"
19398,27159,Splitting a string like shell would,">>> import shlex
>>> s = 'key1=4 key2=""Hello World""'
>>> shlex.split(s)
['key1=4', 'key2=Hello World']
"
11556,22314,How do I disallow comments from anonymous users?,"from django.conf.urls import url, include
from django.contrib.auth.decorators import login_required
from django_comments.views.comments import post_comment

urlpatterns = [
    ...
    # the line below will override the url supplied in django_comments.urls
    url(r'^comments/post/$', login_required(post_comment), name='comments-post-comment'),
    url(r'^comments/', include('django_comments.urls')),
    ...
]
"
35719,75158,Formatting output on Ipython Notebook with Pandas,"pd.concat([df.describe(), df2.describe()], keys = ['INVERNESS', 'RIVERCHASE'], axis = 1)
"
31728,35717,Automatically including the foreign key within the second form,"if form_1.is_valid() and form_2.is_valid():
    review = form_1.save()
    photo = form_2.save(commit=False)
    photo.review_comments = review
    photo.save()
"
33115,59229,Numpy appending to both elements of python list,"In [6]: x = [[] for i in range(3)]

In [7]: map(id, x)
Out[7]: [139882701328328, 139882701358288, 139882701358360]

In [8]: x[0].append(1)

In [9]: x
Out[9]: [[1], [], []]

In [10]: y = [[]] * 3

In [11]: y[0].append(1)

In [12]: y
Out[12]: [[1], [1], [1]]

In [13]: map(id, y)
Out[13]: [139882701358216, 139882701358216, 139882701358216]
"
21260,65209,Use PHP to List Minecraft Player Usernames on a Server,"    <?PHP
        if(($Players = $Query->GetPlayers()) !== false) {
            foreach($Players as $Player) {
            echo ""<img src=https://minotar.net/avatar/"".$Player.""/74.png>
                  <p>"".$Player.""</p>"";
            }
        } 
    ?>
"
24592,83863,Python - Subprocess - How to call a Piped command in Windows?,"proc = subprocess.Popen(
    ['C:/Program Files/GNU/GnuPG/gpg.exe',
    '--batch', '--passphrase-fd', '0',
    '--output ', 'c:/docume~1/usi/locals~1/temp/tmptlbxka.txt',
    '--decrypt', 'test.txt.gpg',],
    stdin=subprocess.PIPE,
    stdout=subprocess.PIPE,
   stderr=subprocess.STDOUT,
)
stdout_value, stderr_value = proc.communicate('bosco')
"
15783,83202,I don't get what's the difference between format() and ... (python),"# trunc a float to two decimal places
>>> '{:.2f}'.format(3.4567)
'3.46'

# access an objects method
>>> import math
>>> '{.pi}'.format(math)
'3.141592653589793'
"
22589,43913,Python Class Memory Usage,"x = []
y = x
x.append('SPAM')
print y
# Returns: ['SPAM']
"
15222,65669,Python : creating dynamic functions,"def makefunc(val):
  def somephase():
    return '%dd' % (val,)
  return somephase

Phase2 = makefunc(2)
Phase3 = makefunc(3)
"
13472,46730,how to choose a random line from a text file,">`
def randomLine(filename):
#   #""Retrieve a  random line from a file, reading through the file once""
        fh = open(""KEEP-IMPORANT.txt"", ""r"")
        lineNum = 0
        it = ''

        while 1:
                aLine = fh.readline()
                lineNum = lineNum + 1
                if aLine != """":
                        #
                        # How likely is it that this is the last line of the file ? 
                        if random.uniform(0,lineNum)<1:
                                it = aLine
                else:
                        break
        nmsg=it
        return nmsg
        #this is suposed to be a var pull = randomLine(filename)
"
33446,48606,python - compare value with dictionary,"select *, case when Name in ('1-GRB-809',''1-HDX-252'') then 'EMEA',
   case when Name in ('539ZWU','EUM-5059') then 'NAM' else null end as Region
from Table
"
18966,61,How can I create a borderless application in Python (windows)?,"import tkMessageBox
from Tkinter import *

class App():
    def __init__(self):
        self.root = Tk()
        self.root.overrideredirect(1)
        self.frame = Frame(self.root, width=320, height=200,
                           borderwidth=2, relief=RAISED)
        self.frame.pack_propagate(False)
        self.frame.pack()
        self.bQuit = Button(self.frame, text=""Quit"",
                            command=self.root.quit)
        self.bQuit.pack(pady=20)
        self.bHello = Button(self.frame, text=""Hello"",
                             command=self.hello)
        self.bHello.pack(pady=20)

    def hello(self):
        tkMessageBox.showinfo(""Popup"", ""Hello!"")

app = App()
app.root.mainloop()
"
26891,19764,How to select item in an unordered list during crawling?,"element_to_select = soup.find(""p"", text=""element_to_select"")
if element_to_select is not None:
    next_element = element_to_select.find_next_sibling(""p"")
    print(next_element.get_text())
"
4229,41779,Is it possible to change the position of a Gtk.MessageDialog's caption text?,"gtk_message_dialog_get_message_area ()
"
24688,64653,fill_between always below plot lines,"plot([0,1],[1,1],'r',zorder=1)
plot([0,1],[2,2],'g',zorder=1)
plot([0,1],[0.5,0.5],'b',zorder=1)
plot([0,1],[3,3],'k',zorder=1)

fill_between([0,0.25],[0,3.5],facecolor='LightGreen',zorder=2)
fill_between([0.3,0.45],[0,3.5],facecolor='Salmon',zorder=2)
fill_between([0.5,0.7],[0,3.5],facecolor='LightBlue',zorder=2)
fill_between([0.75,0.95],[0,3.5],facecolor='LightYellow',zorder=2)
"
36351,15588,Printing a list down and then across,">>> def print_list_matrix(lst, row_num):
...     for i in range(row_num):
...         print ' '.join(lst[i::row_num])
... 
>>> print_list_matrix(lst, 3)
v1 v4 v7 v10 v13
v2 v5 v8 v11 v14
v3 v6 v9 v12
>>> print_list_matrix(lst, 4)
v1 v5 v9 v13
v2 v6 v10 v14
v3 v7 v11
v4 v8 v12
"
18387,25565,mongodb query data where the key is variable and aggregate results using python,"import datetime
import pymongo
import json
import re

hosts = [""mongodbuat""]

# initialize failures and successes
failures = 0
successes = 0

for host in hosts:
    conn = pymongo.Connection(host)
    mdb = conn['salt']
    collections = set(mdb.collection_names())

    hosts = []
    jids = []

    # for every collection, identify whether it is a host or a job
    for c in collections:   
        # if the collection is a host add it to the host array
        if not (len(c) == 20 and int(c)):
            hosts.append(c)
        # otherwise add it to the job array
        else:
            jids.append(c)


    for h in hosts:
        # for every job in a host connect to that collection 
        # and search for the job id to see if it exists 
        # and what its return was so we can report on that info
        for j in jids:
            coll = conn['salt'][h]

            # search for the json documents returned from mongodb
            # if the jobid exists in that host
            for doc in coll.find({j: {'$exists': True}, ""fun"": ""state.sls""}, {""_id"": 0}):

                # if the jobid exists find the host name in a readable format
                c = str(coll)
                thishost = ''
                match = re.search('(\w+)\.spottrading\.com',c)
                if match:
                    thishost = match.group(1)

                # search the document returned in the form of a dictionary for
                # the states you want to report on
                for jobid, states in doc.iteritems():
                    if re.search('\d+', jobid):
                        print '\njob id =', jobid
                        if isinstance(states, list):
                            print states
                            failures += 1
                        elif isinstance(states, dict):
                            for job, data in states.iteritems():
                                print '\tjob: {0}, result: {1}'.format(job, data[u'result'])
                            successes += 1

print ""{0} successes, {1} failures"".format(successes, failures)                         
"
20106,50391,Is it possible to concatenate list indices in one statement in Python?,"from operator import itemgetter
callme(*itemgetter(0, 1, 4)(alist))
"
39860,53383,How do I sort a Python list of strftime('%I:%M %p') in django templates?,">>> from datetime import datetime
>>> timeSlot.sort(key=lambda d: datetime.strptime(d['timeSlot'], '%I:%M %p'))
>>> timeSlot
[{'timeSlot': '9:15 AM'}, {'timeSlot': '1:15 PM'}, {'timeSlot': '9:15 PM'}]
"
39493,22439,How to convert a Python string representing bytes into actual bytes?,"''.join(chr(int(x)) for x in oldString)
"
6348,2642,"Python: Match two elements in a tuple, return the 3rd","dic = {('1','a'): string1, ('1','b'):string2, ('1','c'): string3....}

if (input1,input2) in dic:
   return dic[input1,input2]
else:
   #do something else
"
9631,29593,Function loop True or False,"print ""Welcome to the student checker!""

students = ['Andreas', 'Martina', 'Maria']

def is_present(name_student):
    if name_student in students:
        print ""Yes, {} is enrolled in the class!"".format(name_student)
        return True

    elif name_student not in students:
        print ""No, {} is not in the class."".format(name_student)
        return False

while True:
    name_student = raw_input(""Please give me the name of a student (enter 'q' to quit): "")

    if name_student == 'q':
        print ""Goodbye!""
        break

    is_present(name_student)
"
17966,33475,Get Web Bot To Properly Crawl All Pages Of A Site,"from scrapy.contrib.spiders import CrawlSpider, Rule
from scrapy.contrib.linkextractors import LinkExtractor

class MachineSpider(CrawlSpider):
    name = 'weedmaps'
    allowed_domains = ['weedmaps.com']
    start_urls = ['https://weedmaps.com/dispensaries/shakeandbake']

    rules = [
        Rule(LinkExtractor(allow=r'/dispensaries/'), callback='parse_hours')
    ]

    def parse_hours(self, response):
        print response.url

        for hours in response.css('span[itemid=""#store""] div.row.hours-row div.col-md-9'):
            print hours.xpath('text()').extract()
"
26782,57924,Change axis label font for one value only,"from matplotlib import pyplot as plt
import numpy as np
import matplotlib

matplotlib.rcParams['font.family'] = 'ubuntu'
labels = ['Foo', 'Bar', 'Really long label']
values = [5, 3, 4]

ind = np.array(range(3))
fig, ax = plt.subplots()
ax.barh(ind, values, 0.5, align='center')
ax.set_yticks(range(3))
ax.set_yticklabels(labels)
fig.tight_layout()

txt = ax.yaxis.get_ticklabels()[-1]
txt.set_fontstretch('condensed')
txt.set_fontsize(5)  # I also change the font size

plt.draw()
"
21538,28298,Theano GPU calculation slower than numpy,"def tfidf_gpu(appearance_in_documents,num_documents,document_words,TFIDF):
    start = perf_counter()
    ret = TFIDF(num_documents,appearance_in_documents,document_words)
    end = perf_counter()
    print(""\nTFIDF_GPU "",end-start,"" secs."")
    return ret

APP = T.scalar('APP',dtype='int32')
N = T.scalar('N',dtype='int32')
SF = T.scalar('S',dtype='int32')
F = (T.log(N)-T.log(APP)) / SF
TFIDF = theano.function([N,APP,SF],F)

tfidf_gpu(appearance_in_documents,num_documents,document_words,TFIDF)
"
1235,70243,Python: looping through values of two vectors,">>> a = np.linspace(-2, 0, 6)
>>> b = np.linspace(0, 2, 6)
>>> 
>>> out = np.empty((len(a), len(b), 2))
>>> out[..., 0] = a[:, None]
>>> out[..., 1] = b[None, :]
>>> out = out.reshape(-1, 2)
>>> out
array([[-2. ,  0. ],
       [-2. ,  0.4],
       [-2. ,  0.8],
       [-2. ,  1.2],
       [-2. ,  1.6],
       [-2. ,  2. ],
       [-1.6,  0. ],
       [-1.6,  0.4],
       [-1.6,  0.8],
       [-1.6,  1.2],
       [-1.6,  1.6],
       [-1.6,  2. ],
       [-1.2,  0. ],
       [-1.2,  0.4],
       [-1.2,  0.8],
       [-1.2,  1.2],
       [-1.2,  1.6],
       [-1.2,  2. ],
       [-0.8,  0. ],
       [-0.8,  0.4],
       [-0.8,  0.8],
       [-0.8,  1.2],
       [-0.8,  1.6],
       [-0.8,  2. ],
       [-0.4,  0. ],
       [-0.4,  0.4],
       [-0.4,  0.8],
       [-0.4,  1.2],
       [-0.4,  1.6],
       [-0.4,  2. ],
       [ 0. ,  0. ],
       [ 0. ,  0.4],
       [ 0. ,  0.8],
       [ 0. ,  1.2],
       [ 0. ,  1.6],
       [ 0. ,  2. ]])
"
27291,27556,Pandas: process cell dependencies,"In [37]: df
Out[37]: 
   one  two  three
0    1    5      9   
1    2    6     10  
2    3    7     11  
3    4    8     12  

In [38]: df['one'] *= df['three']

In [39]: df['two'] *= df['three']

In [40]: df
Out[40]: 
   one  two  three
0    9   45      9   
1   20   60     10  
2   33   77     11  
3   48   96     12 
"
30214,57076,How to make numpy overloading of __add__ independent on operand order?,">>> import numpy as np
>>> class A(np.ndarray):
...     """""" class overloading a numpy array for addition
...     """"""
...     def __init__(self, values):
...         self.values = values
...     def __add__(self, x):
...         """""" addition
...         """"""
...         x = np.array(x) # make sure input is numpy compatible
...         return A(self.values + x)
...     def __radd__(self, x):
...         """""" reversed-order (LHS <-> RHS) addition
...         """"""
...         x = np.array(x) # make sure input is numpy compatible
...         return A(x + self.values)
...     def __array__(self):
...         """""" so that numpy's array() returns values
...         """"""
...         return self.values
...     def __repr__(self):
...         return ""A object: ""+repr(self.values)
... 
>>> a = A(np.arange(5))
>>> a + np.ones(5)  
A object: array([ 1.,  2.,  3.,  4.,  5.])
>>> np.ones(5) + a
A object: array([ 1.,  2.,  3.,  4.,  5.])
"
27615,58360,How do I return the definition of a class in python?,"from inspect import getsource

class NumberStore(object):
    def __init__(self, num):
        self.num = num

    def get(self):
        return self.num

    @classmethod
    def print_class_definition(cls):
        return getsource(cls)
"
27399,24637,How do I select all of the tr's except the last two tr's,"result = doc.xpath(""//tr"")[0:-2]
"
16177,57239,remove 2 consecutive lines,"/^#@ <.*wxyz.*>/ {
   N        #Add the next line to the pattern space
   s/.*//   #clear the line
   N        #Read another line
   /^\n$/ d #if line was blank, delete and start next cycle (reading again)
   D        #Otherwise, delete up to newline, and start next cycle with that

}
"
22901,39857,Sending mail with SSL with Python 2.3,"smtp = smtplib.SMTP(mailhost)
smtp.starttls()
"
2097,9398,what is the best practice for natural language processing multi lingual text with nltk?,"#!/usr/bin/python

# -*- coding: utf-8 -*-import os

d=os.path.dirname(__file__)
os.environ['JAVA_HOME']=""/usr/lib/jvm/java-8-oracle""
Â 
os.environ[""CLASSPATH""] = os.path.join(os.path.join(d,""jar""),""zemberek-tum-2.0.jar"")
Â 
os.environ.update()

#You can use jar files in python code via jniusÂ 
from jnius import autoclass
Â Â 
#java libraries
Â 
zemberek_class=autoclass('net.zemberek.erisim.Zemberek') #Calling zemberek from java
Â 
turkiye_turkcesi=autoclass('net.zemberek.tr.yapi.TurkiyeTurkcesi') #Downloading Turkish
Â 
KelimeTipi=autoclass('net.zemberek.yapi.KelimeTipi') #Jar Function Which Describe Word Type
Â 
JList=autoclass('java.util.List')
ZEMBEREK=zemberek_class(turkiye_turkcesi())
"
31313,59953,Pandas merging data and overwrite a column,"In [154]: pd.merge(df2, df1, left_index=True, right_index=True, on='date', how='outer')
Out[154]:
         date  total  new
0  04/11/2016     10    1
1  04/11/2016     20    2
2  04/11/2016     30    3
3  04/10/2016     40  NaN
4  04/10/2016     50  NaN
"
7600,6619,Faster/Better way to modify (tuple defined) parts of a Numpy array in Python?,"movearray[imageasarray.T > 0] += 1
"
21387,16276,Override KeyDown Event in wxPython,"def OnKeyDown(self, event):         
    now = time.time()  
    keyCode = event.GetKeyCode()
    if (keyCode >= 65 and keyCode <= 90) or ( keyCode >= 48 and keyCode <= 57):
        if self.searchString == """":
            self.searchString = chr(event.GetKeyCode())
        elif (now - self.lastKeyDown) < 2:
            self.searchString += str(chr(event.GetKeyCode()))
        else:
            self.searchString = str(chr(event.GetKeyCode()))
    else:
        event.Skip()
        return
    self.lastKeyDown = now
    self.GetItem(self.searchString, self.GetRootItem())
"
26667,65856,How do I build a python string from a ctype struct?,"import ctypes
BUFSIZE = 1024

class my_struct(ctypes.Structure):
    _fields_ = [ (""_buffer"", ctypes.c_byte * BUFSIZE),
                 (""size"", ctypes.c_int )]

    def buffer():
        def fget(self):
            return ctypes.string_at(self._buffer, self.size)
        def fset(self, value):
            size = len(value)
            if size > BUFSIZE:
                raise ValueError(""value %s too large for buffer"",
                                 repr(value))
            self.size = size
            ctypes.memmove(self._buffer, value, size)
        return property(fget, fset)
    buffer = buffer()

proto = my_struct()
proto.buffer = ""here\0are\0some\0NULs""
print proto.buffer.replace(""\0"", "" "")
"
14030,5851,How do I print separate items from list in Python?,"In [288]: data=[[1, 2, 3, 4, 5, 6, 7], [2, 4, 3, 6, 5]]

In [289]: for i in [0,2,3]:
   .....:     print(data[0][i], end=' ')
   .....:     
1 3 4 
"
35000,67521,Create matplotlib PolyCollection colormap mapping each cell to a color,"import numpy as np
import matplotlib.pyplot as plt

rgb = np.random.random((100, 3))

fig, ax = plt.subplots()
coll = ax.pcolor(np.zeros((10, 10)))

# If we left out the ""array=None"", the colors would still be controlled by the
# values of the array we passed in, and the ""facecolors"" kwarg would be
# ignored. This is equivalent to calling `coll.set_array(None)` and then
# `coll.set_facecolors(rgb)`.
coll.set(array=None, facecolors=rgb)

plt.show()
"
27594,35637,Is is possible for a python script to know whether it is run with the interactive option '-i'?,"import sys
if sys.flags.interactive:
    print 'I am in interactive mode!'
else:
    print 'I am in batch mode!'
"
25782,46090,How to track state when iterating in Python's Mako Templates,"<%def name=""format( item )""><a href=""#${item|u}"">${item|u}</a>
</%def>

${', '.join( format(item) for item in l)}
"
2867,59888,Masking values in numpy array,"np.where(mask_cntr == cntr, 1.0, 0.0)
"
10691,11832,Python property being overwritten,"class Beer(object):
    def __init__(self, temp):
        self.__T = temp

    @property
    def temp(self):
        return Param('Beer Temperature', self.__T)

    @temp.setter
    def temp(self,value):
        self.__T = float(value) 
"
38098,56423,How to zoom a part of plot by Matplolib,"import matplotlib.pyplot as plt
from mpl_toolkits.axes_grid1.inset_locator import zoomed_inset_axes
from mpl_toolkits.axes_grid1.inset_locator import mark_inset
import numpy as np

fig, ax = plt.subplots(figsize=(5,4))
extent = (0, 100, 0, 50)
x, y = np.mgrid[-5:5:100j, -5:5:100j]
z = np.sin(2*x)*np.sin(y**2)
ax.contourf(x, y, z, cmap=""YlGnBu_r"")
axins = zoomed_inset_axes(ax, 2, loc=1)
axins.contourf(x, y, z, cmap=""YlGnBu_r"")
axins.set_xlim(1, 2)
axins.set_ylim(1, 2)
plt.xticks(visible=False)
plt.yticks(visible=False)
mark_inset(ax, axins, loc1=2, loc2=4, fc=""none"", ec=""0.5"")
plt.draw()
plt.show()
"
16936,54696,How to convert input as boolean type and use it in if and else statement?,"x = input(""Write True or False\n"")

if x == ""True"":
  print(""its true"")
elif x == ""False"":
    print (""its false"")
else:
    print(""don't know what that is"") 
"
38682,71838,Write a python script to generate a timestamp ( unix epoch value) each day at a give time,">>> import datetime
>>> import time
>>> dt = datetime.datetime.today().replace(hour=13, minute=0, second=0, microsecond=0)
>>> print(dt)
2016-04-06 13:00:00
>>> time.mktime(dt.timetuple())
1459944000.0
"
6635,75803,How can I get rows between dates in rethinkdb?,"table.between(date1, data2).orderBy(...)
"
9105,44010,Is there a way to write a pandas SQL query across multiple lines with comments?,"q = """"""select a.gvkey, 
    a.tic,                      -- COMMENTS
    a.datadate as fyearend,     -- COMMENTS
    year(a.datadate) as year,   /* Another very long
    and multi-lines comment... */
    month(a.datadate) as fyrc, b.datadate, 
    month(b.datadate) as month, 
    b.trt1m from COMPM.FUNDA a join COMPM.SECM b on a.gvkey = b.gvkey and year(a.datadate) = year(b.datadate) 
    where a.TIC = ""IBM"" 
        and a.datafmt = ""STD"" 
        and a.consol=""C"" 
        and a.indfmt = ""INDL"" 
        and year(a.datadate)>1980
""""""

result = p.read_sql_query(q, conn)
"
7666,73838,Python: Making a beep noise,"import winsound
Freq = 2500 # Set Frequency To 2500 Hertz
Dur = 1000 # Set Duration To 1000 ms == 1 second
winsound.Beep(Freq,Dur)
"
15122,4693,Class design: methods that share a lot of the same code,"class ogrGeo(object)
    def __init__(self):
        pass

    def CreateLine(self, o_file, xy):
        #lots of code
        value = self._utility_method(xy)

    def CreatePoint(self, o_file, xy):
        # lot's of the same code as CreateLine(), 
        # only minor differences
        value = self._utility_method(xy)

    def _utility_method(self, xy):
        # Common code here
        return value
"
22928,74277,"writing ""missing array values"" to a file","missing, fill = 1.e20, ""NA""
with open(""test_io2.csv"", 'w') as outfile:
    for row in array:
        line = ','.join([str(x) for x in row if x != missing else fill])
        outfile.write(line + '\n')
"
34277,42502,How to invert numpy.where (np.where) function,"mask = np.zeros(X.shape, dtype='bool')
mask[ix] = True
"
7200,42206,using python map to apply type func in tuple to a list of strings,">>> items = iter(ds)
>>> v = {a: b(next(items)) for a, b in fs}
>>> v
{'type': '1', 'hidden': True, 'pieces': '1', 'length': 1, 'value': 1}
"
33541,59239,Ipython notebook caching issue,"%load_ext autoreload
%autoreload 2
import ...
"
18468,53560,How to rewrite this code from python loops to numpy vectors (for perfomance)?,"jrange = np.arange(self.max_j - j_start)
joffset = np.round(jrange * discriminant).astype(int)
i = np.arange(self.max_i)

for j in jrange:
    new_i = i + joffset[j]
    in_range = new_i < self.max_i
    self.grid[new_i[in_range], j+j_start] = standard[i[in_range]]
"
21214,15482,string encodings in python,"import locale
lang, encoding = locale.getdefaultlocale()
mystring = u""blabla""
print mystring.encode(encoding)
"
37160,1826,How do I determine in python if an external program is open?,"C:\Documents and Settings\Administrator>tasklist

Image Name                   PID Session Name     Session#    Mem Usage
========================= ====== ================ ======== ============
System Idle Process            0 Console                 0         28 K
System                         4 Console                 0        236 K
smss.exe                     812 Console                 0        388 K
csrss.exe                    860 Console                 0      3,720 K
winlogon.exe                 884 Console                 0      4,148 K
services.exe                 928 Console                 0      3,356 K
lsass.exe                    940 Console                 0      5,904 K
vmacthlp.exe                1100 Console                 0      2,348 K
...
"
37282,69058,Breaking up cost string into integer values,">>> string = '$20 - $40'  #'$20' will also work
>>> x = re.findall(r'\$(\d+)', string)
>>> 1. * sum(map(int, x)) / len(x)
30.0 #convert to int if you want
"
4248,37647,Saving a variable and a constant in a dictionary on Python,">>> from collections import Counter, defaultdict
>>> genredict = defaultdict(Counter)
>>> genredict
defaultdict(<class 'collections.Counter'>, {})  # starts off empty
>>> genredict['rock']['good'] += 1  # increment appropriate genre/rating
>>> genredict['blues']['normal'] += 1
>>> genredict
defaultdict(<class 'collections.Counter'>, 
            {'blues': Counter({'normal': 1}), 'rock': Counter({'good': 1})})
>>> genredict['rock']['good']  # retrieve current score
1
"
6610,32631,String parsing with Python,"import re
lists = [
    [int(i) for i in match.split()]
    for match in re.findall(r'{(.*?)}', s)
]

print lists
"
10183,84580,Trouble vectorizing code,">>> A = np.array([[1,2],[3,4]])
>>> B = np.array([[5,6],[7,8]])
>>> (A * B[None, :].T).T
array([[[ 5,  6],
        [21, 24]],

       [[10, 12],
        [28, 32]]])
"
18400,35985,Django humanize outside of template?,"from django.contrib.humanize.templatetags.humanize import naturalday
natural_day = naturalday(value)
"
9250,19134,Python : Generating a gzip string by returning chunks,"import zlib
def compress(chunks):
    c = zlib.compressobj()
    for chunk in chunks:
       yield c.compress(chunk)
    yield c.flush(zlib.Z_FINISH)
"
25879,45393,how to Label the edges of a graph using python and graphviz,"self.graph.add_edge(parent, node, label='subclass')
"
5779,75356,Parse value to None in ndb custom property,"class MyBooleanProperty(ndb.BooleanProperty):
    def _set_value(self, entity, value):
        if value == '':
            value = None
        ndb.BooleanProperty._set_value(self, entity, value)
"
38488,83584,Python matlibplot Arrow pointing to a point on a curve,"import matplotlib.pyplot as plt
import numpy as np

# Trial function for adding vertical arrows to
def f(x):
    return np.sin(2*x)

x = np.linspace(0,10,1000)
y = f(x)

fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(x,y, 'k', lw=2)
ax.set_ylim(-3,3)

def add_force(F, x1):
    """"""Add a vertical force arrow F pixels long at x1 (in data coordinates).""""""
    ax.annotate('', xy=(x1, f(x1)), xytext=(0, F), textcoords='offset points',
                arrowprops=dict(arrowstyle='<|-', color='r'))

add_force(60, 4.5)
add_force(-45, 6.5)

plt.show()
"
22175,39948,Filterig initial data in Django ManyToMany field,"#constructor from form
def __init__(self, *args, **kwargs):
    user = kwargs.pop('user', None)
    super(ObjectForm, self).__init__(*args, **kwargs)
    if user:
        self.fields['rooms'].queryset = Room.objects.filter(room__venue_creator=user)
"
234,41986,Read lines from txt python,"lines = list(open(description, 'r'))
"
31518,34029,Warning thrown while trying to import scraped values into MySQL table - using Python and BS4,"import scraperwiki
import requests
from bs4 import BeautifulSoup
import csv
import MySQLdb
import re

#mysql portion
mydb = MySQLdb.connect(host='localhost',
       user= '******',
       passwd='******',
       db='testdb')
cur = mydb.cursor()


def store (area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count):
    cur.execute('INSERT IGNORE INTO RIGCOUNT (area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count) VALUES (\""%s\"",$
    cur.connection.commit()


base_url = 'http://phx.corporate-ir.net/phoenix.zhtml?c=79687&p=irol-rigcountsoverview'
html = requests.get(base_url)
soup = BeautifulSoup(html.content, ""html.parser"")

table = soup.findAll('table')
rows = table[1].findAll(""tr"")
if len(soup.findAll('tr')) > 0:
    rows = rows[1:]

white_space_pattern = re.compile(r""\s+"")

for row in rows:
    cells = row.findAll('td')
    cells = [white_space_pattern.sub(' ', cell.get_text()) for cell in cells]

    area = cells[0]
    last_count =  cells[1]
    count = cells[2]
    change_from_prior_count = cells[3]
    date_of_prior_count = cells[4]
    change_from_last_year = cells[5]
    date_of_last_year_count = cells[6]

    store(area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count)
    data = {
       'area': area,
       'last_count': last_count,
       'count': count,
       'change_from_prior_count': change_from_prior_count,
       'date_of_prior_count': date_of_prior_count,
       'change_from_last_year': change_from_last_year,
       'date_of_last_year_count': date_of_last_year_count,
    }

    print data
    print '\n'
mydb.close()
"
35365,23994,pyQt: How do I update a label?,"import datetime

if __name__ == ""__main__"":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Form = QtWidgets.QWidget()
    ui = Ui_Form()
    ui.setupUi(Form)
    Form.show()

    def update_label():
        current_time = str(datetime.datetime.now().time())
        ui.label.setText(current_time)

    timer = QtCore.QTimer()
    timer.timeout.connect(update_label)
    timer.start(10000)  # every 10,000 milliseconds

    sys.exit(app.exec_())
"
696,43935,Dynamic type casting in python,"for k, v in dicts1.iteritems():
    try:
        dicts2[k] =  type(v)(dicts2[k])
    except (TypeError, ValueError) as e:
        pass # types not compatible
    except KeyError as e:
        pass # No matching key in dict
"
13683,17319,Execute external command and exchange variable using Python,"import glob
import subprocess

for fn in glob.iglob('*.nc'):
    filename, extname = os.path.splitext(fn)
    output_fn = filename + ""_0-12_"" + extname
    output = subprocess.call(['ncks', '-d', 'Time', '0,11', fn, output_fn])
    print(output)
"
31075,32589,Unable to update Multiple cloums in a sql database table using pyodbc,"cursor.execute(""update Gps_table set longitude=?,latitude=? where gps_id=1"", s1, s2)
"
37590,11555,Workflow when developing a packaged django application,"pip install -e path/to/my/source
"
39594,36901,Python: group list items by adjacent same value,"from itertools import groupby
data = ['a','s','s','s','d','e','e','s','s','a','a']
output = [(key, len(list(group))) for key, group in groupby(data)]
print output
"
2256,42897,Any solution for accelerating the reading of data from disk and converting them into numpy array for further processing?,"from multiprocessing import Pool
from multiprocessing import cpu_count


def handle_tiff(some_file):
    data_open = gdal.Open(some_file)
    data_array = data_open.ReadAsArray().astype(np.float32) 
    return data_array

tiff_files = glob.glob('*.tif') 
p = Pool(cpu_count()- an_integer)
all_data = p.map(handle_tiff, tiff_files)
"
8921,83840,How to check a string is null in python,"if cookie and not cookie.isspace():
    # the string is non-empty
else:
    # the string is empty
"
39911,77521,updating an input dictionary in python,">>> test = {""test"": 1}
>>> def update(dictionary,key,value):
...     dictionary[key] = value
... 
>>> update(test, ""test"", 2)
>>> test
{'test': 2}
"
26206,38134,Returning for loop inside a while loop in python,"def izpisi(polje):
    return '\n'.join([ # inserts '\n' between the lines
        ''.join(map(str, sublst)) # converts list to string of numbers
        for sublst in zip(*polje) # zip(*...) transposes your matrix
    ][::-1]) # [::-1] reverses the list

polje = [[1, 2, 4, 4], [4, 1, 4, 2], [2, 1, 4, 3], [2, 4, 2, 3], [1, 2, 3, 4]]
print izpisi(polje)
"
19895,31238,Python poster buffer size,"from poster.encode import MultipartParam

iter_encode = MultipartParam.iter_encode.im_func  # function object
iter_encode.func_defaults = (8192,)  # set new defaults, a 1-element tuple
"
18319,43289,Drawing a checkerboard in Python,"offset_x = 10      # Distance from left edge.
offset_y = 10      # Distance from top.
cell_size = 10     # Height and width of checkerboard squares.

for i in range(8):             # Note that i ranges from 0 through 7, inclusive.
    for j in range(8):           # So does j.
        if (i + j) % 2 == 0:       # The top left square is white.
            color = 'white'
        else:
            color = 'black'
        canvas.setFill(color)
        canvas.drawRect(offset_x + i * cell_size, offset_y + j * cell_size,
                        cell_size, cell_size)
"
1961,15475,logged subprocess.communicate()?,"import subprocess
import os
import threading


class LogThread(threading.Thread):
    """"""Thread which will read from `pipefd` and write all contents to
    `fileobj` until `pipefd` is closed.  Used as a context manager, this thread
    will be automatically started, and joined on exit, usually when the
    child process exits.
    """"""
    def __init__(self, pipefd, fileobj):
        self.pipefd = pipefd
        self.fileobj = fileobj
        super(LogThread, self).__init__()
        self.setDaemon(1)
        self.start()

    def run(self):
        while True:
            line = self.pipefd.readline()
            if not line:
                break
            self.fileobj.write(line)
            self.fileobj.flush()

    def __enter__(self):
        return self

    def __exit__(self, exc_type, exc_value, traceback):
        self.join()


# Here's how to use the LogThread.    
p = subprocess.Popen (""script"", shell = False, stdin = subprocess.PIPE, stdout = subprocess.PIPE)
with open('logfile.txt', 'wt') as logfile:
    with LogThread(p.stdout, logfile):
        p.stdin.write(""\n"".join(in_lines))
        p.stdin.close()
"
25330,44629,Using python PIL to turn a RGB image into a pure black and white image,"from PIL import Image 
image_file = Image.open(""convert_image.png"") # open colour image
image_file = image_file.convert('1') # convert image to black and white
image_file.save('result.png')
"
21466,44471,Call local Python script from PHP hosted on server,"<?php

$ch = curl_init(""http://192.168.2.100/script.py"");
$fp = fopen(""example_homepage.txt"", ""w"");

curl_setopt($ch, CURLOPT_FILE, $fp);
curl_setopt($ch, CURLOPT_HEADER, 0);

curl_exec($ch);
curl_close($ch);
fclose($fp);
?>
"
18869,73282,gensim LdaMulticore not multiprocessing?,"mm = gensim.corpora.MmCorpus(bz2.BZ2File('enwiki-latest-pages-articles_tfidf.mm.bz2'))
lda = gensim.models.ldamulticore.LdaMulticore(corpus=mm, id2word=id2word, num_topics=100, workers=4)
"
16087,20855,Segment a list in Python,">>> seg_length = 3
>>> a = range(10)
>>> [a[x:x+seg_length] for x in range(0,len(a),seg_length)]
[[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]]
"
15307,24498,Trying to print out data from database,"def show_player_table():
    query = (""SELECT name FROM field_player"")
    cursor.execute(query)

    for result in cursor:
        if len(result):
            print(""{}"".format(result[0]))
"
38613,78054,How to render template directly without having a handler,"# app.yaml
- url: /rest/.*
  script: main.app

# main.py
class PageHandler(webapp2.RequestHandler):
    def get(self, page):
        if not page.endswith('.html'):
            page += '.html'
        self.response.write(self.jinja2.render_template(page))

app = webapp2.WSGIApplication([
    webapp2.RedirectRoute('/rest/<page>', PageHandler, name='page'),
], debug=True)
"
35269,56483,Decimal to JSON,">>> import json
>>> class DecimalEncoder(json.JSONEncoder):
...     def default(self, obj):
...         if isinstance(obj, Decimal):
...             return ""%.2f"" % obj
...         return json.JSONEncoder.default(self, obj)
...
"
3650,79715,How to write values from a list after certain whitespaces?,">>> x = [0,1.2]
>>> y = [1,2]
>>> for a, b in zip(x, y):
...     print ""{:>8}{:>9}"".format(a, b)
...
       0        1
     1.2        2
>>> for a, b in zip(x, y):
...     print ""{:<8}{:>9}"".format(a, b)
...
0               1
1.2             2
"
13078,2991,Converting IronPython file object to .NET Stream object,"import System
f = file('abc.txt', 'w+')
f.GetType().GetField('_stream', System.Reflection.BindingFlags.Instance | 
                                System.Reflection.BindingFlags.NonPublic).GetValue(f)
"
16980,31815,Read binary files directly with python to use fo statistical analysis,"import numpy

print numpy.fromstring('abcd', dtype='u1')
# 8-bit unsigned int: [97,97,97,97]

print numpy.fromstring('abcd', dtype='i2')
# 16-bit signed int [25185, 25699]

print numpy.fromstring('abcd', dtype='<f4')
# 32-bit float (little-endian): 1.67779994e+22

print numpy.fromstring('abcd', ftype='>f4')
# 32-bit float (big-endian): 2.61007876e+20
"
22898,56944,Tkinter Image transparency,"from PIL import Image, ImageTk
from Tkinter import Tk, Label

root = Tk()

def RBGAImage(path):
    return Image.open(path).convert(""RGBA"")

face = RBGAImage(""faces/face.gif"")
eyes = RBGAImage(""faces/eyes1.png"")

face.paste(eyes, (0, 0), eyes)

facepic = ImageTk.PhotoImage(face)

label1 = Label(image=facepic)
label1.grid(row = 0, column = 0)

root.mainloop()
"
28133,75212,"How do I resize,scale or magnify the distances between points plotted in OpenGl","from OpenGL.GL import *
from OpenGL.GLUT import *
from OpenGL.GLU import *

import math

def initFun():
    glClearColor(1.0,1.0,1.0,0.0)
    glColor3f(0.0,0.0, 0.0)
    glMatrixMode(GL_PROJECTION)
    glLoadIdentity()
    gluOrtho2D(0,700,0,700)

def displayFun():
    glClear(GL_COLOR_BUFFER_BIT)
    glColor3f(0.0,0.0,1.0)
    xpts=[]
    ypts=[]
    N=len(newlist)
    for i in range(0,N):
        xpts.append(700+100-float(newlist[i][4])*20)
        ypts.append(700+1300-float(newlist[i][5])*20)

    glBegin(GL_POINTS)
    for j in range(0,N):        
        glVertex2f(xpts[j],ypts[j])

    glEnd()
    glFlush()

if __name__ == '__main__':
    glutInit()
    glutInitWindowSize(700,700)
    glutCreateWindow(""My Display"")
    glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB)
    glutDisplayFunc(displayFun)
    initFun()
    glutMainLoop()
"
1837,36389,How to normalize ranked data in scikit learn?,"tfv = TfidfVectorizer(min_df=3, max_features=None, strip_accents='unicode',  
                      analyzer='word',token_pattern=r'\w{1,}',ngram_range=(1, 2), 
                      use_idf=1,smooth_idf=1,sublinear_tf=1)
div = DictVectorizer()

X = []

# fit/transform the TfidfVectorizer on the training data
vectors = tfv.fit_transform(traindata)

for i, pagerank in enumerate(pageranks):
    feature_dict = {'pagerank': pagerank}
    # get ith row of the tfidf matrix (corresponding to sample)
    row = vect.getrow(i)    

    # filter the feature names corresponding to the sample
    all_words = tfv.get_feature_names()
    words = [all_words[ind] for ind in row.indices] 

    # associate each word (feature) with its corresponding score
    word_score = dict(zip(words, row.data)) 

    # concatenate the word feature/score with the datamining feature/value
    X.append(dict(word_score.items() + feature_dict.items()))

div.fit_transform(X)  # training data based on both Tfidf features and pagerank
"
1069,77048,How to enable cookiemiddleware in scrapy in python,"
DOWNLOADER_MIDDLEWARES = {
    'myproject.middlewares.CustomDownloaderMiddleware': 543,
    'scrapy.contrib.downloadermiddleware.cookies.CookiesMiddleware': 700 # <-
}
"
8055,71769,How to specify meta parameters in search query,"res = es.search(index=""test-index"", body={""query"": {""match_all"": {}}},  from_=20, size=100, _source=False)
"
10819,17676,Neurolab - predicted values for test set,"# Simulate network
out = net.sim(x_test)
"
5097,77593,Generating numbers in python loop with specific number,"if len(sys.argv) == 2 and str(sys.argv[1]).isdigit():
    for i in xrange(0,200000):
        print ""%s%05d""%(str(sys.argv[1]), i)
elif len(sys.argv) == 2 and not str(sys.argv[1]).isdigit():
    print (""Given argument must be digit!"")
else:
    print (""Wrong number of arguments"")
"
20098,44797,How to login / logout Facebook users to Facebook app?,"FB.init({ appId: yourAppId });

FB.login(function (response) {
    if (response.session) {
        var authToken = response.session.access_token;
    } else {
        // do stuff if they are not logged in
    }
}, { perms: 'email,publish_stream' }); // list of extended permissions you require
"
8846,80356,Getting child-comments of a comment on Reddit with Praw in Python,"submission = r.get_submission(thread)
process_comments(submission.comments)

def process_comments(objects):
    for object in objects:
        if type(object).__name__ == ""Comment"":
            process_comments(object.replies) # Get replies of comment

            # Do stuff with comment (object)

        elif type(object).__name__ == ""MoreComments"":
            process_comments(object.comments()) # Get more comments at same level
"
5234,58642,Prime Number Theorem Python,"previous = 2
n = 0
for i in range(3,10000000):
    if Is_Prime(i):
        n = n+1
        current  = i
        gn = current - previous
        previous = i
        if n % 1000 == 0:
            print ""Now at the gap between prime"",n,""and prime"",n+1
            average_gap = (i-2)/float(n);
            # (n+1)st prime is i, 1st prime is 2. n gaps.
            # float(n) so that we get float, not int division!
            print ""Average gap so far:"", average_gap
            print ""ln(p)/average_gap:"", math.log(i) / average_gap
        if n % 100000 == 0:
            break
"
28058,84460,Scrape content only inside H2 - BeautifulSoup,"soup = BeautifulSoup(""""""
<h2>
  Virtual Office packages
  <span>From</span><span class=""cost"">$74.97</span>
</h2>"""""")


print(soup.find(""h2"").next_element.strip())
Virtual Office packages


soup = BeautifulSoup(""""""
<h2>Virtual Office packages</h2>
"""""")


print(soup.find(""h2"").next_element)

Virtual Office packages

soup = BeautifulSoup(""""""
<h2>
  Virtual Office packages
  <span>From</span><span class=""cost"">$74.97</span>
</h2>"""""")


print(soup.find(""h2"").contents[0].strip())
Virtual Office packages

soup = BeautifulSoup(""""""
<h2>Virtual Office packages</h2>
"""""")

print soup.find(""h2"").contents[0]
Virtual Office packages
"
22273,25160,Changing MySQL checks from 'programside' to the MySQL server itself,"INSERT IGNORE INTO artists VALUES (NULL, ?)
"
39291,38291,Caching urls with Bottlenose python Amazon product advertising API,"def reader(cache_url,country,log):
return redis.StrictRedis(host=REDIS_HOST, port=REDIS_PORT, db=database).get(cache_url)

def writer(cache_url, response_text,country,log):
    redis.StrictRedis(host=REDIS_HOST, port=REDIS_PORT, db=database).set(cache_url,response_text,ex=21600)
"
11973,32833,"Trouble with sorting list and ""for"" statement snytax","with open(""NC2010.txt"") as NCFile:
    lines = NCFile.readlines()[1:]
    change = []
    for line in lines:
        row = line.split("","")
        country_name = row[1]
        population_2000 = float(row[6])
        population_2010 = float(row[8])
        pop_change = ((population_2010 / population_2000) - 1) * 100
        change.append((pop_change, country_name))

    change.sort()
    output_rows = []
    [output_rows.append(""{0}, {1:.2f}\n"".format(pair[1], pair[0]))
                        for pair in change]
    with open(""Sorted_Population_Change_Output.txt"", ""w"") as PopulationChange:
        PopulationChange.writelines(output_rows)
"
25661,800,"Python: Converting a dictionary to JSON and back appends ""u"" to each entry",">>> print(repr(text[""hablar""]))
u'reden'
>>> print(text[""hablar""])
reden
"
8977,11671,Python: how to slice a csv file with respect to a column other than the first?,"import csv
import os
def make_csv(in_file, out_file, year):
    with open(in_file, 'rb') as csv_in_file:
        csv_row_list = []
        first_row = True
        csv_reader = csv.reader(csv_in_file)
        for row in csv_reader:
            if first_row:
                csv_row_list.append(row)
                first_row = False
            else:
                if int(row[1]) >= year:
                    csv_row_list.append(row)

    with open(out_file, 'wb') as csv_out_file:
        csv_writer = csv.writer(csv_out_file)
        csv_writer.writerows(csv_row_list)

for root, directories, files in os.walk(working_directory):
    for f in files:
        if f.endswith('.csv'):
            in_file = os.path.join(root, f)
            out_file = os.path.join(root, os.path.splitext(f)[0] + '_new' + os.path.splitext(f)[1])
            make_csv(in_file, out_file, year)
"
24666,68416,Search for value in dictionary?,"[uid for uid, attrs in users.items() if attrs['name'] == name_you_are_looking_for]
"
22201,51608,Retrieve IP address data from mongodb in pymongo using regular expression or pattern matching,"import re

regex = re.compile('{}'.format(YOUR_IP_ADDR))

count = my_collection.find({'ip_addr_field': regex}).count()
"
14005,35493,Use of set_timeout with Sublime Text 3 API,"class SetTimeoutTestCommand(sublime_plugin.WindowCommand):
    def run(self, edit):
        for x in range(1,10):
            sublime.set_timeout(lambda x=x: print(x), x*1000)
"
29820,29879,python: loading numbers from text file to arrays skipping certain entries,"def not_zeroes(arr):
    return any([x!=0 for x in arr])

vectors = []
for line in open('myfile.txt'):

    numbers = list(map(float,line.split()))
    for i in range(0, len(numbers), 10):
        vector = numbers[i:i+10]
        if not_zeroes(vector):
            vectors.append(vector)
print vectors
"
2276,44652,Compare tuple value to integer in Python,"t = (10, 35, 72)

if 50 <= t[2] <= 100:
    print(""This is how we do it"")
"
23813,17813,"Python. Phrase representation, how to change?",">>> import urllib2
>>> urllib2.quote
<function quote at 0x104a10848>
>>> urllib2.quote(""Ã¼"")
'%C3%BC'
>>> urllib2.quote('OlÃ¡ mundo!')
'Ol%C3%A1%20mundo%21'
"
31402,46945,Python - Shortest way to format a string to an url,"import re
re.sub(r'!|\?|,', '', text)
"
7994,37489,How can one perform color transforms with ICC profiles on a set of arbitrary pixel values (not on an image data structure)?,"import ctypes
from ctypes import byref
from lcms2consts import *

lcms = ctypes.windll.lcms2

inprof = lcms.cmsCreateLab4Profile(0)
outprof = lcms.cmsCreate_sRGBProfile()
xform = lcms.cmsCreateTransform(inprof, TYPE_Lab_DBL, 
    outprof, TYPE_RGB_8,
    INTENT_PERCEPTUAL, 0)
lcms.cmsCloseProfile(inprof)
lcms.cmsCloseProfile(outprof)

DblTriplet = ctypes.c_double * 3
ByteTriplet = ctypes.c_ubyte * 3
inbuf = DblTriplet(60.1,20.2,0.5)
outbuf = ByteTriplet()
lcms.cmsDoTransform(xform, byref(inbuf), byref(outbuf), 1)
print list(outbuf)

lcms.cmsDeleteTransform(xform)
"
34294,51661,Simplest ElasticSearch query,"def search(self, index=None, **kwargs):
    """"""
    This will use the & syntax with all the kwargs provided.
    For example: es.search(name=""margin"", id=4) ==> ?name=margin&id=4.

    Use as a simplified search to gut check very basic things.
    """"""
    index = index or self.index
    qs = urllib.urlencode(kwargs)
    try:
        res = self.es.search(index=index, q=qs)
    except TransportError, e:
        print '>>>', e
        res = None
    return res
"
10468,29516,"Save any output a function gives, into a variable","from nltk.util import tokenwrap
def generate_no_stdout(self, length=100):
    if '_trigram_model' not in self.__dict__:
        estimator = lambda fdist, bins: LidstoneProbDist(fdist, 0.2)
        self._trigram_model = NgramModel(3, self, estimator=estimator)
    text = self._trigram_model.generate(length)
    return tokenwrap(text)
"
11143,40440,"After splitting my code into one file per class - class can't see one ""global class""","from global_settings_file import GlobalSettingsClass
"
11229,51709,How do I return a value without using the return statement?,"mergeArrays = list.__add__
"
34366,14957,Python - selectively add up values while iterating through dictionary of dictionaries,"my_dict = {key1:{value1:value2}, key2:{value3:value4}, key3{value5:value6}, key4:{value7:value8}...}
result = []
for key1 in my_dict:
    if sum(my_dict[key1].keys() + my_dict[key1].values())==3:
        result[key1] = my_dict[key1].keys()[0]
"
14612,42429,Why is RabbitMQ not persisting messages on a durable queue?,">>> from tasks import add
>>> add.delay(2, 2)

>>> from celery import current_app
>>> conn = current_app.broker_connection()
>>> consumer = current_app.amqp.get_task_consumer(conn)

>>> messages = []
>>> def callback(body, message):
...     messages.append(message)
>>> consumer.register_callback(callback)
>>> consumer.consume()

>>> conn.drain_events(timeout=1)

>>> messages[0].properties
>>> messages[0].properties
{'application_headers': {}, 'delivery_mode': 2, 'content_encoding': u'binary',    'content_type': u'application/x-python-serialize'}
"
30928,60736,"Pick up texts from a batch of files, and write them into an Excel file","book = xlwt.Workbook(encoding='utf-8', style_compression = 0)
sheet = book.add_sheet('namelist', cell_overwrite_ok = True)

for i, each_file in enumerate(line_in_list):
    page = open(each_file)
    soup = BeautifulSoup(page.read())

    all_texts = soup.find_all(""td"")

    for j, a_t in enumerate(all_texts):
        a = a_t.renderContents()                   
        sheet.write(i, j, a)

book.save(""C:\\details.xls"")
"
38948,77574,What is the correct way to make django model saving trickle down?,"person = Person(first_name='Guido', last_name='van Rossum')
Badge.objects.bulk_create([
    Badge(owner=person),
    Badge(owner=person),
    Badge(owner=person),
    Badge(owner=person),
])
"
679,26685,Run Python program without installing required modules,"Solution    | Windows | Linux | OS X | Python 3 | License | One-file mode | Zipfile import | Eggs | pkg_resources support
bbFreeze    | yes     | yes   |  yes | no       | MIT     | no            | yes            | yes  | yes
py2exe      | yes     | no    | no   | no       | MIT     | yes           | yes            | no   | no
pyInstaller | yes     | yes   | yes  | no       | GPL     | yes           | no             | yes  | no
cx_Freeze   | yes     | yes   | yes  | yes      | PSF     | no            | yes            | yes  | no
"
7353,50093,Pythagorean Triples Efficiency,"import itertools

def containsPythagoreanTriple(a):
    squares = {x*x for x in a} # set comprehension
    return any(x+y in squares for x,y in itertools.combinations(squares))
"
10536,77930,How to adjust dataframe rows to columns,"df2 = df.describe().T # this is the equivalent of df.describe().transpose()

print df2
      count      mean       std       min       25%       50%       75%       max  
aapl    665  0.195720  0.331271 -0.284546 -0.089219  0.110605  0.501857  0.783157 
dvn     665  0.202538  0.143291 -0.246586  0.104409  0.175463  0.286709  0.548577  
xom     413 -0.049164  0.062285 -0.273573 -0.096234 -0.045035 -0.001124  0.060982
"
16298,16961,Answering Stdin With String,"import sys

y = 1

def test():
    print(""Hello?"")
    x = (sys.stdin.readline())
    if x == (""hello\n""):
        print(""Ah your back"")
    else:
        print(""Huh?"")

while y == 1:
    test()
"
21591,72284,"Pandas groupby Aggregation, how to choose output columns.","idx = dt.groupby('Sub').Cov.idxmax()
dt.iloc[idx]
Out[483]: 
  Sub Que  Cov
0  s1  q1  1.0
2  s2  q3  2.3
4  s3  q5  4.0
"
36628,52826,"Read only one line every time, with or without an ""\n"" at the end","import csv

data={}
with open('/tmp/excel.csv') as f:
    for line in csv.reader(f, delimiter='+', skipinitialspace=True):
        data[line[0].strip()]=[e.strip() for e in line[1:]]

print data        
# {'Samsung CLP 680/ CLX6260': ['CLT-C506S/ELS', 'CLT-M506S/ELS', 'CLT-Y506S/ELS', '39.50'], 
   'Xerox Phaser 6121/6121D': ['106R01466', '106R01467', '106R01468', '18.20'], 
   'Xerox DocuPrint 6110/6110mfp': ['106R01206', '106R01204', '106R01205', '7.60'], 
   'Xerox Phaser 6000/6010/6015': ['106R01627', '106R01628', '106R01629', '8.43']}
"
17537,7104,How to convert arraylist to tuple?,">>> tuple([{""a"":""vala"", ""a1"":""vala1""},{""b"":""valb"", ""b1"":""valb1""}])
({'a': 'vala', 'a1': 'vala1'}, {'b1': 'valb1', 'b': 'valb'})
"
39567,45865,How the comboBox works?,"import sys
from PyQt4 import QtGui, QtCore

class Example(QtGui.QWidget):

    def __init__(self):
        super(Example, self).__init__()

        self.initUI()

    def initUI(self):      

        self.lbl = QtGui.QLabel(""Ubuntu"", self)

        combo = QtGui.QComboBox(self)
        combo.addItem(""Ubuntu"")
        combo.addItem(""Mandriva"")
        combo.addItem(""Fedora"")
        combo.addItem(""Red Hat"")
        combo.addItem(""Gentoo"")

        combo.move(50, 50)
        self.lbl.move(50, 150)

        combo.activated[str].connect(self.onActivated)        

        self.setGeometry(300, 300, 300, 200)
        self.setWindowTitle('QtGui.QComboBox')
        self.show()

    def onActivated(self, text):

        self.lbl.setText(text)
        self.lbl.adjustSize()  

def main():

    app = QtGui.QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
"
29997,75554,How to print password combination (but with custom constraints for each index),">>> import itertools
>>> 
>>> password = 'Dude123' 
>>> charList = ['d8','vV','','D8','','',''] 
>>> 
>>> finalString = [''.join(set((a, b))) for a, b in zip(password, charList)] 
>>> 
>>> possibles = list(''.join(poss) for poss in itertools.product(*finalString))
>>> possibles
['Dude123', 'DudD123', 'Dud8123', 'Dvde123', 'DvdD123', 'Dvd8123', 'DVde123', 'DVdD123', 'DVd8123', 'dude123', 'dudD123', 'dud8123', 'dvde123', 'dvdD123', 'dvd8123', 'dVde123', 'dVdD123', 'dVd8123', '8ude123', '8udD123', '8ud8123', '8vde123', '8vdD123', '8vd8123', '8Vde123', '8VdD123', '8Vd8123']
"
26454,27664,Append item to MongoDB document array in PyMongo without re-insertion,"def update_tags(ref, new_tag):
    coll.update({'ref': ref}, {'$push': {'tags': new_tag}})
"
5531,79364,Simple Hotkey Script in Python - How to set a global hotkey to send a string of text?,"def windowEnumerationHandler(self, hwnd, resultList):
    '''
    This is a handler to be passed to win32gui.EnumWindows() to generate
    a list of (window handle, window text) tuples.
    '''

    resultList.append((hwnd, win32gui.GetWindowText(hwnd)))

def bringToFront(self, windowText):
    '''
    Method to look for an open window that has a title that
    matches the passed in text. If found, it will proceed to
    attempt to make that window the Foreground Window.
    '''
    secondsPassed = 0
    while secondsPassed <= 5:
        # sleep one second to give the window time to appear
        wx.Sleep(1)

        print 'bringing to front'
        topWindows = []
        # pass in an empty list to be filled
        # somehow this call returns the list with the same variable name
        win32gui.EnumWindows(self.windowEnumerationHandler, topWindows)
        print len(topWindows)
        # loop through windows and find the one we want
        for i in topWindows:
            if windowText in i[1]:
                print i[1]
                win32gui.ShowWindow(i[0],5)
                win32gui.SetForegroundWindow(i[0])
        # loop for 5-10 seconds, then break or raise
        handle = win32gui.GetForegroundWindow()
        if windowText in win32gui.GetWindowText(handle):
            break
        else:
            # increment counter and loop again                
            secondsPassed += 1
"
27132,77455,Mongodb: Getting upsert result in pymongo,"bulk = db.test.initialize_ordered_bulk_op()

bulk.find({}).upsert().update({ ""$set"" { ""this"": ""that"" } }

result = bulk.execute()
"
13854,82833,"how to deal with Python BaseHTTPServer killed,but the port is still be occupied?","class WebServer(BaseHTTPServer.HTTPServer):
    def __init__(self, *args, **kwargs):
        BaseHTTPServer.HTTPServer.__init__(self, *args, **kwargs)
        # Set FD_CLOEXEC flag
        flags = fcntl.fcntl(self.socket.fileno(), fcntl.F_GETFD)
        flags |= fcntl.FD_CLOEXEC
        fcntl.fcntl(self.socket.fileno(), fcntl.F_SETFD, flags)
"
32937,40306,aggregate data by week using python,"from datetime import datetime
import itertools

sales = [
    ('2013-05-01', 100),
    ('2013-05-02', 200),
    ('2013-05-03', 150),
    ('2013-05-03', 120),
    ('2013-05-04', 200),
    ('2013-08-01', 250),
]

def toWeek(sale):
    '''(date,volume) -> date of the Sunday of that week'''
    sunday = datetime.strptime(sale[0], '%Y-%m-%d').strftime('%Y-%U-0')
    return datetime.strptime(sunday, '%Y-%U-%w').strftime('%Y-%m-%d')

grouped_sales = itertools.groupby(sales, toWeek)

aggregate_sales = (
    (week, sum(day_sales for date, day_sales in week_sales))
    for week, week_sales in grouped_sales)

print list(aggregate_sales)
"
1230,10712,python - call instance method using __func__,">>> class Foo(object):
...     def f(self): pass
... 
>>> Foo.f
<unbound method Foo.f>
>>> Foo().f
<bound method Foo.f of <__main__.Foo object at 0x11046bc10>>
>>> Foo.__dict__['f']
<function f at 0x110450230>
>>> Foo.f.__func__
<function f at 0x110450230>
>>> Foo.f.__func__.__get__(Foo(), Foo)
<bound method Foo.f of <__main__.Foo object at 0x11046bc50>>
>>> Foo.f.__func__.__get__(None, Foo)
<unbound method Foo.f>
"
17795,12719,All addresses to go to a single page (catch-all route to a single view) in Python Pyramid,"from wsgiref.simple_server import make_server
from pyramid.config import Configurator
from pyramid.response import Response

def hello_world(request):
    if request.subpath:
        name = request.subpath[0]
    else:
        name = 'Incognito'
    return Response('Hello %s!' % name)

if __name__ == '__main__':
    config = Configurator()
    config.add_route('hello', '/*subpath')
    config.add_view(hello_world, route_name='hello')
    app = config.make_wsgi_app()
    server = make_server('0.0.0.0', 8081, app)
    server.serve_forever()
"
33187,64651,Python Regex Matching,"import re

line = 'imm48-1gb-sfp/imm48-1gb-sfp'
match = re.match(r'(.*?)/', line)
if match:
    card_type = match.group(1)
    print card_type
"
1055,80839,reverse() throws AttributeError on call,"url(r'^yadda/$', None)
"
22058,51980,Changing the static directory path in webpy,"import web
import os
import urllib
import posixpath

urls = (""/.*"", ""hello"")
app = web.application(urls, globals())

class hello:
    def GET(self):
        return 'Hello, world!'


class StaticMiddleware:
    """"""WSGI middleware for serving static files.""""""
    def __init__(self, app, prefix='/static/', root_path='/foo/bar/'):
        self.app = app
        self.prefix = prefix
        self.root_path = root_path

    def __call__(self, environ, start_response):
        path = environ.get('PATH_INFO', '')
        path = self.normpath(path)

        if path.startswith(self.prefix):
            environ[""PATH_INFO""] = os.path.join(self.root_path, web.lstrips(path, self.prefix))
            return web.httpserver.StaticApp(environ, start_response)
        else:
            return self.app(environ, start_response)

    def normpath(self, path):
        path2 = posixpath.normpath(urllib.unquote(path))
        if path.endswith(""/""):
            path2 += ""/""
        return path2


if __name__ == ""__main__"":
    wsgifunc = app.wsgifunc()
    wsgifunc = StaticMiddleware(wsgifunc)
    wsgifunc = web.httpserver.LogMiddleware(wsgifunc)
    server = web.httpserver.WSGIServer((""0.0.0.0"", 8080), wsgifunc)
    print ""http://%s:%d/"" % (""0.0.0.0"", 8080)
    try:
        server.start()
    except KeyboardInterrupt:
        server.stop()
"
30532,16464,Function annotations,"from typing import Callable, Any

def x(f: Callable[..., Any]) -> Callable[..., Any]:
    def wrapper(*args, **kwargs):
        print(""{}({}) has been called"".format(f.__name__, "", "".join([repr(i) for i in args] + [""{}={}"".format(key, value) for key, value in kwargs])))
        return f(*args, **kwargs)
    return wrapper
"
19103,35786,How list all fields of an class in Python (and no methods)?,">>> class A(object):
...     foobar = 42
...     def __init__(self):
...         self.foo = 'baz'
...         self.bar = 3
...     def method(self, arg):
...         return True
...
>>> a = A()
>>> a.__dict__
{'foo': 'baz', 'bar': 3}
>>> vars(a)
{'foo': 'baz', 'bar': 3}
"
8604,32732,reading char data from binary file with numpy,"strbits = np.fromfile(infile, dtype=np.int8, count=73)
a_string = ''.join([chr(item) for item in strbits])
"
29927,52672,count number of sublist that contain 3 common elements in Python 3,"b = {11,14,15}  #notice the {} braces or use `set([11,14,15])`
print sum(b.issubset(x) for x in a)
"
6122,9891,XML characters in python xml.dom,"import codecs

def ent_replace(exc):
  if isinstance(exc, (UnicodeEncodeError, UnicodeTranslateError)):
    s = []
    for c in exc.object[exc.start:exc.end]:
      s.append(u'&#x%4.4x;' % ord(c))
    return (''.join(s), exc.end)
  else:
    raise TypeError(""can't handle %s"" % exc.__name__)

codecs.register_error('ent_replace', ent_replace)
"
13251,40800,Fill matrix with transposed version,">>> df.combine_first(df.T)
     a    b    c    d
a  1.0  0.5  0.6  0.5
b  0.5  1.0  0.0  0.4
c  0.6  0.0  1.0  0.3
d  0.5  0.4  0.3  1.0
"
11509,85263,Unpack List in List Comprehension,">>> [x for a in arg if dictAll.has_key(a) for x in dictAll[a]]
['one', 'two', 'three']
"
3601,53085,Python: Verifying a prime number,"def is_prime(a):
    return all(a % i for i in xrange(2, a))
"
21640,62913,Custom serializer output for nested relationship field in DRF serializer class,"from rest_framework import serializers
from .models import Review
from django.contrib.auth.models import User

class UserSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = User
        fields = ('url', 'first_name', 'last_name', 'email', 'is_staff', .....)

class ReviewSerializer(serializers.HyperlinkedModelSerializer):
    user = serializers.SerializerMethodField(read_only=True)
    class Meta:
        model = Review
        fields = ('url', 'head', 'content', 'user')

    def get_user(self, obj) :
        request = self.context['request']
        return {
          'url': reverse('user-detail',
                       kwargs={'pk': obj.user.id}, request=request),
          'first_name': obj.user.first_name,
          'last_name': obj.user.last_name,
        }
"
19990,2919,read part text from a large file  as a page  by python,"import os
def getpage(fname, pageindex, pagesize=100, ahead=20):
    """"""read page roughly by byte size""""""
    size = os.path.getsize(fname)
    pagenum = size/pagesize
    f=open(fname,'r')
    pos=pageindex * pagesize
    #ahead some line
    pos -= ahead
    if pos <0: 
        pos = 0
    f.seek(pos)
    f.readline()
    txt = f.read(pagesize)
    txt += f.readline()    
    return txt
"
27858,21609,Throttle a Server Script with Nginx,"
# Allow not more than 12 request per minute at an average, with bursts not exceeding 1 requests.
limit_req_zone $binary_remote_addr zone=one:10m rate=12r/m;

server {
    location /path/to/python/script.py {
        limit_req zone=one burst=1;
    }
}
"
17664,1219,How to move each figure toward the goal between the poin that I click on graphics and the center of my object in Python,"def move(obj, goal):
    obj.x = ((obj.x - goal.x) * 15.0 / 16) + goal.x
    obj.y = ((obj.y - goal.y) * 15.0 / 16) + goal.y
"
10674,8881,"Correct path, based on date-style (e.g /2016-01-10) in python script","import os
import datetime
from shutil import copytree
from shutil import move
from time import time


def mins_since_mod(fname):
""""""Return time from last modification in minutes""""""
return (time() - os.path.getmtime(fname)) / 60
today = datetime.date.today()
PARENT_DIR = '/home/B/A/'+str(today)
MOVE_DIR = '/home/B/A/BackMeUp'

# Loop over files in PARENT_DIR
for fname in os.listdir(PARENT_DIR):
# If the file is a directory and was modified in last 15 minutes
if os.path.isdir(fname) and mins_since_mod(fname) < 60:
   copytree(fname, MOVE_DIR) # move it to a new location
"
11696,14242,Key in Dictionary Before Extraction [Pythonic Approach],"if list2.get(""key1"", <-1,0 or any sensible default, e.g. None>) == 5:
    print ""correct""
"
17247,60903,python list sequential numbers,">>> mylist = [1,2,3,2,3,5,6,3,7,8,6]
>>> [i+1 for i in range(len(mylist)-1) if mylist[i]>mylist[i+1]]
[3, 7, 10]
"
38629,69035,Python sort list with None at the end,">>> l = [1, 3, 2, 5, 4, None, 7]
>>> sorted(l, key=lambda x: (x is None, x))
[1, 2, 3, 4, 5, 7, None]
"
17730,56748,How do I count the frequency against a specific list?,"df = df['date'].dt.date.value_counts()
print df
2015-06-13    3
2015-06-15    2
Name: date, dtype: int64

periods = pd.date_range('2015-06-13', '2015-06-16', freq = 'd')

df = df.reindex(periods).fillna(0).astype(int).reset_index()
df.columns = ['date','count']
print df
        date  count
0 2015-06-13      3
1 2015-06-14      0
2 2015-06-15      2
3 2015-06-16      0
"
20692,2733,Converting a Text File to a String in Python,">>> import nltk # pip install nltk
>>> nltk.download('gutenberg')
>>> words = nltk.corpus.gutenberg.words('carroll-alice.txt')
>>> max(words, key=len) # find the longest word
'disappointment'
"
23417,33984,Converting certain index values in list to int,"with open('scores.txt', newline='') as infile:
    reader = csv.reader(infile)
    for row in reader:
        for i in range(1,5):
            row[i] = int(row[i])
        score_list.append(row[0:5])
"
7783,41033,calling a function in a separate script from a class that is not a member of a class,"class Class1:
Â  Â  def __init__(self, value):
      Â  self.value = value

Â  Â  def main_logic(self):
Â  Â  Â  Â  if self.value == 'y':
            return self.value
        else:
            self.value == 'n':
                import main
                main.display1()
"
20278,68766,Storing string in numpy matrix,"In [1]: import numpy as np

In [2]: a = np.eye(2, dtype='S17')                                                                                   

In [3]: a
Out[3]: 
array([[b'1', b''],                                                                                                
       [b'', b'1']],                                                                                               
      dtype='|S17')                                                                                                

In [4]: np.char.decode(a, 'ascii')                                                                                 
Out[4]: 
array([['1', ''],                                                                                                  
       ['', '1']],                                                                                                 
      dtype='<U1')  
"
14988,25236,Recurring function call with twisted,"def signedOn(self):
    pMess = ""IDENTIFY %s"" % self.password
    self.msg(""NickServ"",pMess)
    time.sleep(10)
    for channel in self.factory.channels:
        self.join(channel)
    lc = task.LoopingCall(self._5_mins)
    lc.start(self.timeout)
"
32620,15439,How to convert seconds into hh:mm:ss in python 3.x,">>> seconds = 26264
>>> hours, seconds =  seconds // 3600, seconds % 3600
>>> minutes, seconds = seconds // 60, seconds % 60
>>> print hours, minutes, seconds
7 17 44
"
8586,37187,Clustering / Grouping a list based on time (python),"# turn strings into datetimes
date_format = ""%Y-%m-%d %H:%M:%S""
for row in data:
    row[1] = datetime.datetime.strptime(row[1], date_format)

split_dt = datetime.timedelta(minutes=5)
dts = (d1[1]-d0[1] for d0, d1 in zip(data, data[1:]))
split_at = [i for i, dt in enumerate(dts, 1) if dt >= split_dt]
groups = [data[i:j] for i, j in zip([0]+split_at, split_at+[None])]
"
37212,2887,How to use Ruby CLI client to launch a JobFlow based on a JSON JobFlow description on Amazon Elastic MapReduce,"$ elastic-mapreduce --create --alive --stream --num-instances=1 --master-instance-type=m1.small

Created job flow j-NXXXJARJARSXXX
$ elastic-mapreduce -j j-NXXXJARJARSXXX --stream \
 --input   s3n://mybucket.data/2011/01/01/* \
 --output  s3n://mybucket.joblog/step1done-2011-01-01 \
 --mapper  s3n://mybucket.code/map.rb \
 --reducer s3n://mybucket.code/reduce.rb

Added jobflow steps
$ elastic-mapreduce -j j-NXXXJAJARSXXX --stream \
 --input   s3n://mybucket.joblog/step1done-2011-01-01/part-*  \
 --output  s3n://mybucket.joblog/job-results \
 --mapper  s3n://mybucket.code/map.rb \
 --reducer s3n://mybucket.code/reduce.rb

Added jobflow steps
"
5672,13876,Formatting floats with decimal dots and limited decimal part in Django templates,"{% load i18n %}

{% get_current_language as LANGUAGE_CODE %}
<!-- Current language: {{ LANGUAGE_CODE }} -->
<p>{% trans ""Welcome to our page"" %}</p>

{% language 'en' %}
    {% get_current_language as LANGUAGE_CODE %}
    <!-- Current language: {{ LANGUAGE_CODE }} -->
    <p>{% trans ""Welcome to our page"" %}</p>
{% endlanguage %}
"
10507,12560,"Pythonic way to allow data, present in list else None","arg1 = None if arg1 not in [""first"", ""second"", ""third""] else arg1
"
13712,40447,Does exist any kind of inverted if? in python,"...
""y"": {'has':[""yellow"", ""white"", ""green""], 'hasnt':[]}
""z"": {'has':[""yellow"", ""white""], 'hasnt': [""green""]}
...

for colour, keywords in dict_colour.items():
    if all(kw in str1 for kw in keywords['has']) and not any(kw in str1 for kw in keywords['hasnt']):
        return colour
"
15592,85098,Is there a python (scipy) function to determine parameters needed to obtain a target power?,"from scipy.stats import norm, zscore

def sample_power_probtest(p1, p2, power=0.8, sig=0.05):
    z = norm.isf([sig/2]) #two-sided t test
    zp = -1 * norm.isf([power]) 
    d = (p1-p2)
    s =2*((p1+p2) /2)*(1-((p1+p2) /2))
    n = s * ((zp + z)**2) / (d**2)
    return int(round(n[0]))

def sample_power_difftest(d, s, power=0.8, sig=0.05):
    z = norm.isf([sig/2])
    zp = -1 * norm.isf([power])
    n = s * ((zp + z)**2) / (d**2)
    return int(round(n[0]))

if __name__ == '__main__':

    n = sample_power_probtest(0.1, 0.11, power=0.8, sig=0.05)
    print n  #14752

    n = sample_power_difftest(0.1, 0.5, power=0.8, sig=0.05)
    print n  #392
"
28123,83306,Remove `dtype` fields from structured array,"p0.view(('>f8', 2))
"
22254,33455,"In python, how does one catch warnings as if they were exceptions?","import warnings

def fxn():
    warnings.warn(""deprecated"", DeprecationWarning)

with warnings.catch_warnings(record=True) as w:
    # Cause all warnings to always be triggered.
    warnings.simplefilter(""always"")
    # Trigger a warning.
    fxn()
    # Verify some things
    assert len(w) == 1
    assert issubclass(w[-1].category, DeprecationWarning)
    assert ""deprecated"" in str(w[-1].message)
"
9082,51341,how to scrape search results if returned in javascript (using python),"from selenium import webdriver

driver = webdriver.Chrome()
driver.get('http://kozbeszerzes.ceu.hu/searchresults.xhtml?q=1998&page=0')

for e in driver.find_elements_by_class_name('result'):
    link = e.find_element_by_tag_name('a')
    print(link.text.encode('ascii', 'ignore'), link.get_attribute('href').encode('ascii', 'ignore'))

driver.quit()
"
3372,21004,Split up SubElements in `for` loop using Python and XML,"import csv
import sys

from xml.etree import ElementTree
from xml.etree.ElementTree import Element, SubElement, Comment, tostring

from xml.dom import minidom

def prettify(doctype, elem):
    """"""Return a pretty-printed XML string for the Element.
    """"""
    rough_string = doctype + ElementTree.tostring(elem, 'utf-8')
    reparsed = minidom.parseString(rough_string)
    return reparsed.toprettyxml(indent=""  "", encoding = 'utf-8')

doctype = '<!DOCTYPE smil PUBLIC ""-//W3C//DTD SMIL 2.0//EN"" ""http://www.w3.org/2001/SMIL20/SMIL20.dtd"">'

video_data = ((256, 336000),
              (512, 592000),
              (768, 848000),
              (1128, 1208000))

with open(sys.argv[1], 'rU') as f:
    reader = csv.DictReader(f)
    for row in reader:
        root = Element('smil')
        root.set('xmlns', 'http://www.w3.org/2001/SMIL20/Language')
        head = SubElement(root, 'head')
        meta = SubElement(head, 'meta base=""rtmp://cp23636.edgefcs.net/ondemand""')
        body = SubElement(root, 'body')

        switch_tag = ElementTree.SubElement(body, 'switch')

        for suffix, bitrate in video_data:
            attrs = {'src': (""mp4:soundcheck/{year}/{id}/{file_root_name}_{suffix}.mp4""
                             .format(suffix=str(suffix), **row)),
                     'system-bitrate': str(bitrate),
                     }
            ElementTree.SubElement(switch_tag, 'video', attrs)

        print prettify(doctype, root)
"
2647,66041,Retrieve the target object of many to many relationship,"User.objects.filter(to_relationships__user=self)
                                    ^^
"
35894,80203,how to make function docstring automatically updated according to another function in python?,"def append_doc_of(fun):
    def decorator(f):
        f.__doc__ += fun.__doc__
        return f

    return decorator


def A():
    '''
    I am doctring for function A
    '''
    pass


@append_doc_of(A)
def B1():
    '''
    I am doctring for function B1,

    followed by the same docstring as function A, which is:

    '''
    pass
"
19138,2042,Get new e-mails mail folder multiple times,"    def _get_raw_emails(self):
        messages = []
        self.imap_server.check() # Fetch new mails since object is created.
        typ, data = self.imap_server.search(None, 'UnSeen')
        for num in data[0].split():
            typ, data = self.imap_server.fetch(num, '(RFC822)')
            messages.append(data[0][1])
        return messages
"
2139,17669,How do I create a numpy array from string?,"import numpy as np
s = '\x01\x05\x03\xff'
a = np.fromstring(s, dtype='uint8')
"
14358,64918,How to achieve multiple return values in C# like python style,"void f(out int a, out int b) {
    a = 42;
    b = 9;
}

int a, b;
f(out a, out b);
"
6325,67881,Django: calling parent variable on django models,"def save(self, *args, **kwargs):
    self.name = self.parent_set.all()[0].parent_name
    super(Child, self).save(*args, **kwargs)
"
7809,55557,xor function in python,"stra = 'abc'
strb = 'abd'
''.join(hex( int(a,16) ^ int(b,16) )[2:] for a,b in zip(stra, strb))
"
16611,63251,Creating a multi-model in Django,"nodes = Node.objects.filter(foo=""bar"").select_subclasses()
    for node in nodes:
        #logic
"
7747,35843,Writing multiple pandas dataframes to multiple excel worksheets,"import pandas as pd
#initialze the excel writer
writer = pd.ExcelWriter('MyFile.xlsx', engine='xlsxwriter')

#store your dataframes in a  dict, where the key is the sheet name you want
frames = {'sheetName_1': dataframe1, 'sheetName_2': dataframe2,
        'sheetName_3', dataframe3}

#now loop thru and put each on a specific sheet
for sheet, frame in  frames.iteritems(): # .use .items for python 3.X
    frame.to_excel(writer, sheet_name = sheet)

#critical last step
writer.save()
"
6629,27047,Plotting multiple Y values against multiple X values which are different timestamps in matplotlib in the same graph?,"import datetime
import random
import matplotlib.pyplot as plt

data1 = (1163557.14, 1137578.47, 1139094.66)
times1_raw = ('23:04:17', '23:04:27', '23:04:37')
times1 = [datetime.datetime.strptime(s, '%H:%M:%S') for s in times1_raw]

data2 = (1011000.00, 1011000.00, 1011000.00)
times2_raw = ('23:04:21', '23:04:31', '23:04:41')
times2 = [datetime.datetime.strptime(s, '%H:%M:%S') for s in times2_raw]

fig = plt.figure(figsize=(8,6))

plt.plot(times1, data1, label='data1', lw=2, marker='o')
plt.plot(times2, data2, label='data2', lw=2, marker='s')
plt.xlabel('time in seconds')
plt.ylabel('speed in bps')
plt.grid()
plt.legend(loc='upper right')

plt.gcf().autofmt_xdate()

plt.show()
"
23420,54155,Manipulate Chrome Dev Tools with Python?,"console.log('Loading a web page');
var page = require('webpage').create();
var url = 'http://www.phantomjs.org/';
page.open(url, function (status) {
  //Page is loaded!
  phantom.exit();
});
"
18244,72675,Multiplying tuples in Python,"t = (('a', 'b'), ) * 3
"
10707,7628,Python BeautifulSoup equivalent to lxml make_links_absolute,"import urlparse

def make_links_absolute(soup, url):
    for tag in soup.findAll('a', href=True):
        tag['href'] = urlparse.urljoin(url, tag['href'])
"
22845,44758,How to delete columns in numpy.array,"A = scipy.delete(A, 1, 0)  # delete second row of A
B = scipy.delete(B, 2, 0)  # delete third row of B
C = scipy.delete(C, 1, 1)  # delete second column of C
"
8826,18818,How can I create inline comments (without using backslash to continue on another line)?,"my_var = (#some_variable +
         some_other_var)
"
34129,10838,Python Converting a class into an Array of specific functions for each criteria,"from collections import defaultdict

rooms = defaultdict(Room)

rooms[0].addPlayer(""joe"")
rooms[0].addPlayer(""bob"")
rooms[32].addPlayer(""alice"")
"
3155,12891,Python Flask persistent object between requests,"player = None

def video():
    global player
    form = VideoForm()
    if form.validate_on_submit():
        url = form.url.data
        vid_output = form.vid_output.data
        player = Player(url=url, output=vid_output)

def video_pause():
    global player
    if not player:
        return
    player.toggle_pause()

def video_stop():
    global player
    if not player:
        return
    player.exit_omx_player()
    player = None
"
28915,34442,python regex replace unicode,"str = re.sub(r"" [^a-z0-9]+ "","" "",str)
"
2744,1954,getting spider instance from scrapyd,"dispatcher.connect(self.spider_opened, signals.spider_opened)
dispatcher.connect(self.spider_closed, signals.spider_closed)
"
29674,64385,Raising asynchronous events in python,"from collections import defaultdict
from multiprocessing.pool import ThreadPool


class MyEvent:
    handlers = defaultdict(list)
    _pool = ThreadPool(5)

    @classmethod
    def setup(cls, notificationname, functionname):
        cls.handlers[notificationname].append(functionname)

    @classmethod
    def runonnotification(cls, notificationname, *args):
        thisfunclist = cls.handlers[notificationname]
        for func in thisfunclist:
            cls._pool.apply_async(func, args=args)


class SimpleExample(object):
    def __init__(self, a=1, b=2):
        SimpleExample.a = a
        SimpleExample.b = b
        MyEvent.setup('greater than 100', self.printerror)
        MyEvent.setup('dont do negative', self.negation)
        MyEvent.setup('many values recieved', self.handlemultipleupdates)

    def updation(self, updateval):
        if updateval > 100:
            MyEvent.runonnotification('greater than 100', updateval)
            self.a = updateval
        if updateval < 0:
            MyEvent.runonnotification('dont do negative')

    def multipleupdates(self, a, b):
        MyEvent.runonnotification('many values recieved', a, b)

    def printerror(self, data):
        print 'something has gone wrong ', data

    def negation(self):
        print 'negation enter'
        self.a = -self.a

    def handlemultipleupdates(self, a, b):
        print 'wow'
        self.a = a
        self.b = b

s = SimpleExample()
for x in [-50, 0, 1, 50, 70, 101]:
    s.updation(x)

MyEvent._pool.close()
MyEvent._pool.join()
"
8972,27789,Path-independant management of shared C libs inside a Python package,"from ctypes import CDLL
import Foo
try:
    MyLib = CDLL(Foo.__path__[0] + '/lib/libwhatever.so')
except OSError:
    from Foo import bar as MyLib
"
38171,25894,Calling python compiled files in Python 3,"#! C:\python34\python
import print # imports print.pyc


#now you can use the pyc as a module. 
DoSomething()
"
12871,46445,Check if a key is present in any of the dictionaries in a tuple containing multiple dictionaries returned by a function,"for key in c.keys():
    for dictionary in foobar():
        if key in dictionary.values():
            print(""Found: "", key)
"
32558,83988,What is a basic example of single inheritance using the super() keyword in Python?,"class Foo():
    def __init__(self, frob, frotz)
        self.frobnicate = frob
        self.frotz = frotz

class Bar(Foo):
    def __init__(self, frob, frizzle)
        super().__init__(frob, 34)
        self.frazzle = frizzle
"
18854,5392,Find global minimum for discrete function,"min_idx = min(x, key=funct)
min_val = funct(min_idx)
"
7543,13787,running command before other finished in python,"import subprocess
import os
import shutil
import re

# default values for command execution - to be configured at installation
defCommand = ""test.bat""
defEnd = ""Appuyez""
defSource = "".""
defDest = ""..""
# BEWARE : pattern is in regex format !
defPattern=""x.*\.txt""

class Launcher(object):
    '''
Helper to launch a command, wait for a defined string from stderr or stdout
of the command, copy files from a source folder to a destination folder,
and write a newline to the stdin of the command.
Limits : use blocking IO without timeout'''
    def __init__(self, command=defCommand, end=defEnd, source=defSource,
                 dest=defDest, pattern = defPattern):
        self.command = command
        self.end = end
        self.source = source
        self.dest = dest
        self.pattern = pattern

    def start(self):
        'Actualy starts the command and copies the files'
        found = False
        pipes = os.pipe() # use explicit pipes to mix stdout and stderr
        rx = re.compile(self.pattern)
        cmd = subprocess.Popen(self.command, shell=True, stdin=subprocess.PIPE,
                               stdout=pipes[1], stderr=pipes[1])
        os.close(pipes[1])
        while True:
            txt = os.read(pipes[0], 1024)
            #print(txt) # for debug
            if str(txt).find(self.end) != -1:
                found = True
                break
        # only try to copy files if end string found
        if found:
            for file in os.listdir(self.source):
                if rx.match(file):
                    shutil.copy(os.path.join(self.source, file), self.dest)
                    print(""Copied : %s"" % (file,))
            # copy done : write the newline to command input
            cmd.stdin.write(b""\n"")
        cmd.stdin.close()
        try:
            cmd.wait()
            print(""Command terminated with %d status"" % (cmd.returncode,))
        except:
            print(""Calling terminate ..."")
            cmd.terminate()
        os.close(pipes[0])

# allows to use the file either as an imported module or directly as a script
if __name__ == '__main__':
    # parse optional parameters
    import argparse

    parser = argparse.ArgumentParser(description='Launch a command and copy files')
    parser.add_argument('--command', '-c', nargs = 1, default = defCommand,
                        help=""full text of the command to launch"")
    parser.add_argument('--endString', '-e', nargs = 1, default = defEnd,
                        dest=""end"",
                        help=""string that denotes that command has finished processing"")
    parser.add_argument('--source', '-s', nargs = 1, default = defSource,
                        help=""source folder"")
    parser.add_argument('--dest', '-d', nargs = 1, default = defDest,
                        help = ""destination folder"")
    parser.add_argument('--pattern', '-p', nargs = 1, default = defPattern,
                        help = ""pattern (regex format) for files to be copied"")

    args = parser.parse_args()

    # create and start a Launcher ...
    launcher = Launcher(args.command, args.end, args.source, args.dest,
                        args.pattern)
    launcher.start()
"
8947,33716,PyBrain Reinforcement Learning - Maze and Graph,"structure = array([[1, 1, 1, 1, 1, 1, 1, 1, 1],
                   [1, 0, 0, 1, 0, 0, 0, 0, 1],
                   [1, 0, 0, 1, 0, 0, 1, 0, 1],
                   [1, 0, 0, 1, 0, 0, 1, 0, 1],
                   [1, 0, 0, 1, 0, 1, 1, 0, 1],
                   [1, 0, 0, 0, 0, 0, 1, 0, 1],
                   [1, 1, 1, 1, 1, 1, 1, 0, 1],
                   [1, 0, 0, 0, 0, 0, 0, 0, 1],
                   [1, 1, 1, 1, 1, 1, 1, 1, 1]])

# defining the environment
environment = Maze(structure, (7, 7))
"
15195,55607,Convert number to string scientific notation fixed length,"precision = 2
number_to_convert = 10000
print ""%0.*e""%(precision,number_to_convert)
"
27214,28139,Create set of random JPGs,"import numpy, Image

for n in xrange(10):
    a = numpy.random.rand(30,30,3) * 255
    im_out = Image.fromarray(a.astype('uint8')).convert('RGBA')
    im_out.save('out%000d.jpg' % n)
"
28877,33932,"Generator Expression, access iterator","re.sub(r'[\x7e\x7d\x11\x13]', b'\x7d\\1', frameData)
"
31815,76680,Filed in SQLAlchemy of user's list,"# object model
t_userfriend = Table(""user_friend"", Base.metadata,
    Column(""user_id"", Integer, ForeignKey(""users.id""), primary_key = True),
    Column(""friend_id"", Integer, ForeignKey(""users.id""), primary_key = True),
)

class User (Base):
    __tablename__ = ""users""

    id = Column(Integer, primary_key=True)
    name = Column(String(50), unique = True)
    # ...
    friends = relationship(""User"",
                          secondary = t_userfriend,
                          primaryjoin = (id == t_userfriend.c.user_id),
                          secondaryjoin = (id == t_userfriend.c.friend_id),
                          backref = ""friend_of"",
                          )
"
10196,27614,How to find the index of a subsection in an array from one string (python 3.4.2),">>> def find_index(name,l=sav) :
...   for i,j in enumerate(l) :
...     if name in j :
...       print ('index is : {}'.format(i))

>>> find_index('Alex')
index is : 0
>>> find_index('Nat')
index is : 1
"
232,53691,"Python DictWriter: why won't python quickly return my output file? Using Counter, csv and group-by","gap_counts = Counter()
with open(str(sys.argv[1]) + '.out', 'wb') as outfile:
    with open(str(sys.argv[1]), 'rU') as infile:
        for line in infile:
            if line.startswith('>'):
                continue
            else:
                char_groups = groupby(line, lambda char:char == '-')
                line_counts = Counter(len(list(group)) for char, group in char_groups)
                gap_counts = gap_counts + line_counts
    for key, value in sorted(gap_counts.iteritems()):
        t = csv.DictWriter(outfile, gap_counts.keys())
        t.writeheader()
        t.writerow(gap_counts)
"
13036,66605,How to convert UTC-4 to US/Eastern in python?,"from datetime import datetime
import pytz

dt = datetime.strptime(""12/31/2012 16:15"", ""%m/%d/%Y %H:%M"") \
             .replace(tzinfo = pytz.FixedOffset(-240)) \
             .astimezone(pytz.timezone('America/New_York'))
"
39126,12748,"Python, Function in Class that fires off every n seconds","import time, threading
def generate_token(username, password):
      # do some stuff to get token
      self._token = ""token value""
      threading.Timer(60, generate_token(username, password)).start()
"
22153,63365,Python - if given file name using inspect to get list of methods in file,">>> import os
>>> import types
>>> import importlib
>>> strs = '/path/to/myfle.py'
>>> path, _ = os.path.splitext(strs)               #now path is '/path/to/myfile'
>>> file_name = path.split('/')[-1]                # returns myfile
>>> mod = importlib.import_module(file_name, path)
>>> funcs = [x for x in dir(mod) if isinstance(getattr(mod,x), types.FunctionType)]
>>> funcs
['foo', 'func']  #name of functions
"
30715,9233,Whitespace removing in file,"import re
...
for line in templ:
    if line.startswith(""something""):
        filelist.append(re.sub(r""\s+"", """", line))
"
39513,60686,Python Simple Grade Book Printing Error,"for student,grade in student_grades.iteritems():
    print ""Name:%s, Grade:%s""%(student,grade)
"
35470,37676,Numpy: search for the first matching row,"In [132]: x
Out[132]: 
array([[0, 1],
       [0, 2],
       [1, 1],
       [0, 2]])

In [133]: search_list = [0,2]

In [134]: np.where((x == search_list).all(1))[0][0]
Out[134]: 1

In [135]: np.nonzero((x == search_list).all(1))[0][0]
Out[135]: 1
"
24776,25702,Python class is created when module is imported,"# SomeClasses.py

# One of the few legitimate uses of import * outside of an interactive session.
from _SomeClasses import *
a = A()

# _SomeClasses.py
class A(object):
    def __init__(self):
        print ""Hi! A is instantiated!""

class B(object):
    def __init__(self):
        print ""Hi! B is instantiated!""
"
6332,81490,Merge multiple list comprehensions,"l_id = [d[key] for key in ['id1', 'id2'] for d in l_data]
"
27261,70926,More Pyglet - Supress mouse motion events?,"   @self.event
    def on_mouse_motion(x,y,dx,dy):
        self.mouse_position=(x,y)
        self.mouse_buttons=0
        self.invalid = False
"
475,4565,Issue with Python Not Writing Lines,"fname = file.rstrip()+str(chunk_count)+"".csv""
with open(fname, 'a') as f:
"
25476,72442,How would you implement a basic event-loop?,"void App::exec() {
    for(;;) {
        vector<Waitable> waitables;
        waitables.push_back(m_networkSocket);
        waitables.push_back(m_xConnection);
        waitables.push_back(m_globalTimer);
        Waitable* whatHappened = System::waitOnAll(waitables);
        switch(whatHappened) {
            case &m_networkSocket: readAndDispatchNetworkEvent(); break;
            case &m_xConnection: readAndDispatchGuiEvent(); break;
            case &m_globalTimer: readAndDispatchTimerEvent(); break;
        }
    }
}
"
412,43761,How to see possible combinations of a given number in python,">>> import itertools
>>> for i in itertools.product(range(2), repeat=4):
    print(i)
"
22164,25692,Hashing Multiple Files,"#!/bin/bash
if (($# != 1)) || ! [[ -d ""$1"" ]]; then
    echo ""Usage: $0 /path/to/directory""
    exit 1
fi

is_hash() {
 md5=${1##*.} # strip prefix
 [[ ""$md5"" == *[^[:xdigit:]]* || ${#md5} -lt 32 ]] && echo ""$1"" || echo ""${1%.*}""
}

while IFS= read -r -d $'\0' file; do
    read hash junk < <(md5sum ""$file"")
    basename=""${file##*/}""
    dirname=""${file%/*}""
    pre_ext=""${basename%.*}""
    ext=""${basename:${#pre_ext}}""

    # File already hashed?
    pre_ext=$(is_hash ""$pre_ext"")
    ext=$(is_hash ""$ext"")

    mv ""$file"" ""${dirname}/${pre_ext}.${hash}${ext}"" 2> /dev/null

done < <(find ""$1"" -path ""*/.*"" -prune -o \( -type f -print0 \))
"
23269,66417,How to display 5x5 grid in Python?,"items = ['Cat', 'Dog', 'Fish', .......... 'Yak']
for i in range(5):
  print('\t'.join(items[i*5:i*5+5]))
"
34883,8572,Getting one Field prior to an atomic update in MongoEngine,"DocA.objects(id=someid, user=logged_in_user).update_one(push__strings=""New String"")
"
9459,63874,How to avoid that decorators break inspection of parameters?,"from inspect import signature
def decorator(f):
    @functools.wraps(f)
    def wrapper(*args, **kwargs):
            return f(*args, **kwargs)

    wrapper.__signature__ = signature(f)

    return wrapper
"
30910,73408,Inverse Distance Weighted (IDW) Interpolation with Python,""""""" invdisttree.py: inverse-distance-weighted interpolation using KDTree
    fast, solid, local
""""""
from __future__ import division
import numpy as np
from scipy.spatial import cKDTree as KDTree
    # http://docs.scipy.org/doc/scipy/reference/spatial.html

__date__ = ""2010-11-09 Nov""  # weights, doc

#...............................................................................
class Invdisttree:
    """""" inverse-distance-weighted interpolation using KDTree:
invdisttree = Invdisttree( X, z )  -- data points, values
interpol = invdisttree( q, nnear=3, eps=0, p=1, weights=None, stat=0 )
    interpolates z from the 3 points nearest each query point q;
    For example, interpol[ a query point q ]
    finds the 3 data points nearest q, at distances d1 d2 d3
    and returns the IDW average of the values z1 z2 z3
        (z1/d1 + z2/d2 + z3/d3)
        / (1/d1 + 1/d2 + 1/d3)
        = .55 z1 + .27 z2 + .18 z3  for distances 1 2 3

    q may be one point, or a batch of points.
    eps: approximate nearest, dist <= (1 + eps) * true nearest
    p: use 1 / distance**p
    weights: optional multipliers for 1 / distance**p, of the same shape as q
    stat: accumulate wsum, wn for average weights

How many nearest neighbors should one take ?
a) start with 8 11 14 .. 28 in 2d 3d 4d .. 10d; see Wendel's formula
b) make 3 runs with nnear= e.g. 6 8 10, and look at the results --
    |interpol 6 - interpol 8| etc., or |f - interpol*| if you have f(q).
    I find that runtimes don't increase much at all with nnear -- ymmv.

p=1, p=2 ?
    p=2 weights nearer points more, farther points less.
    In 2d, the circles around query points have areas ~ distance**2,
    so p=2 is inverse-area weighting. For example,
        (z1/area1 + z2/area2 + z3/area3)
        / (1/area1 + 1/area2 + 1/area3)
        = .74 z1 + .18 z2 + .08 z3  for distances 1 2 3
    Similarly, in 3d, p=3 is inverse-volume weighting.

Scaling:
    if different X coordinates measure different things, Euclidean distance
    can be way off.  For example, if X0 is in the range 0 to 1
    but X1 0 to 1000, the X1 distances will swamp X0;
    rescale the data, i.e. make X0.std() ~= X1.std() .

A nice property of IDW is that it's scale-free around query points:
if I have values z1 z2 z3 from 3 points at distances d1 d2 d3,
the IDW average
    (z1/d1 + z2/d2 + z3/d3)
    / (1/d1 + 1/d2 + 1/d3)
is the same for distances 1 2 3, or 10 20 30 -- only the ratios matter.
In contrast, the commonly-used Gaussian kernel exp( - (distance/h)**2 )
is exceedingly sensitive to distance and to h.

    """"""
# anykernel( dj / av dj ) is also scale-free
# error analysis, |f(x) - idw(x)| ? todo: regular grid, nnear ndim+1, 2*ndim

    def __init__( self, X, z, leafsize=10, stat=0 ):
        assert len(X) == len(z), ""len(X) %d != len(z) %d"" % (len(X), len(z))
        self.tree = KDTree( X, leafsize=leafsize )  # build the tree
        self.z = z
        self.stat = stat
        self.wn = 0
        self.wsum = None;

    def __call__( self, q, nnear=6, eps=0, p=1, weights=None ):
            # nnear nearest neighbours of each query point --
        q = np.asarray(q)
        qdim = q.ndim
        if qdim == 1:
            q = np.array([q])
        if self.wsum is None:
            self.wsum = np.zeros(nnear)

        self.distances, self.ix = self.tree.query( q, k=nnear, eps=eps )
        interpol = np.zeros( (len(self.distances),) + np.shape(self.z[0]) )
        jinterpol = 0
        for dist, ix in zip( self.distances, self.ix ):
            if nnear == 1:
                wz = self.z[ix]
            elif dist[0] < 1e-10:
                wz = self.z[ix[0]]
            else:  # weight z s by 1/dist --
                w = 1 / dist**p
                if weights is not None:
                    w *= weights[ix]  # >= 0
                w /= np.sum(w)
                wz = np.dot( w, self.z[ix] )
                if self.stat:
                    self.wn += 1
                    self.wsum += w
            interpol[jinterpol] = wz
            jinterpol += 1
        return interpol if qdim > 1  else interpol[0]

#...............................................................................
if __name__ == ""__main__"":
    import sys

    N = 10000
    Ndim = 2
    Nask = N  # N Nask 1e5: 24 sec 2d, 27 sec 3d on mac g4 ppc
    Nnear = 8  # 8 2d, 11 3d => 5 % chance one-sided -- Wendel, mathoverflow.com
    leafsize = 10
    eps = .1  # approximate nearest, dist <= (1 + eps) * true nearest
    p = 1  # weights ~ 1 / distance**p
    cycle = .25
    seed = 1

    exec ""\n"".join( sys.argv[1:] )  # python this.py N= ...
    np.random.seed(seed )
    np.set_printoptions( 3, threshold=100, suppress=True )  # .3f

    print ""\nInvdisttree:  N %d  Ndim %d  Nask %d  Nnear %d  leafsize %d  eps %.2g  p %.2g"" % (
        N, Ndim, Nask, Nnear, leafsize, eps, p)

    def terrain(x):
        """""" ~ rolling hills """"""
        return np.sin( (2*np.pi / cycle) * np.mean( x, axis=-1 ))

    known = np.random.uniform( size=(N,Ndim) ) ** .5  # 1/(p+1): density x^p
    z = terrain( known )
    ask = np.random.uniform( size=(Nask,Ndim) )

#...............................................................................
    invdisttree = Invdisttree( known, z, leafsize=leafsize, stat=1 )
    interpol = invdisttree( ask, nnear=Nnear, eps=eps, p=p )

    print ""average distances to nearest points: %s"" % \
        np.mean( invdisttree.distances, axis=0 )
    print ""average weights: %s"" % (invdisttree.wsum / invdisttree.wn)
        # see Wikipedia Zipf's law
    err = np.abs( terrain(ask) - interpol )
    print ""average |terrain() - interpolated|: %.2g"" % np.mean(err)

    # print ""interpolate a single point: %.2g"" % \
    #     invdisttree( known[0], nnear=Nnear, eps=eps )
"
28759,43545,Run Python script on start-up (Arch Linux ARM on Raspberry Pi),"
[Unit]

Description=Launches screen with my config

After=network.target

[Service]

Type=simple

ExecStart=command_you_want_to_run

RemainAfterExit=true

[Install]

WantedBy=multi-user.target
"
9287,65609,A pythonic way for values comparison in an array?,"def get_block(data_rows):
    samples = []

    for cell in data_rows[0]:
        samples.append('')

    # add one row at a time to each sample and see if all are unique
    for row_index, row in enumerate(data_rows):
        for cell_index, cell in enumerate(row):
            samples[cell_index] = '%s%s' % (samples[cell_index], cell)

        are_all_unique = True
        sample_dict = {} # use dictionary keys to find repeats
        for sample in samples:
            if sample_dict.get(sample):
                # already there, so another row needed
                are_all_unique = False
                break
            sample_dict[sample] = True # add the key to the dictionary
        if are_all_unique:
            return True, row_index

    return False, None

def get_all_blocks(all_rows):
    remaining_rows = all_rows[:] # make a copy    
    blocks = []

    while True:
        found_block, block_end_index = get_block(remaining_rows)
        if found_block:
            blocks.append(remaining_rows[:block_end_index+1])
            remaining_rows = remaining_rows[block_end_index+1:]
            if not remaining_rows:
                break
        else:
            blocks.append(remaining_rows[:])
            break

    return blocks


if __name__ == ""__main__"":
    v1 = ['00', '00', '11', '01']
    v2 = ['00', '00', '00', '00']
    v3 = ['01', '11', '00', '00']
    v4 = ['00', '00', '00', '00']

    all_rows = [v1, v2, v3, v4]

    blocks = get_all_blocks(all_rows)

    for index, block in enumerate(blocks):
        print ""This is block %s."" % index
        for row in block:
            print row
        print
"
36154,55133,passing event to function outside of class in wxPython,"def onClick(event):
    print 'hello'
"
4872,84830,add empty directory to tarfile,"import tarfile    

with tarfile.open(""test.tbz2"",mode='w:bz2') as f:
    t = tarfile.TarInfo('mydir')
    t.type = tarfile.DIRTYPE
    f.addfile(t)
"
22541,41470,in NetworkX draw the graph dividing the plot area in 3,"import networkx as nx

G = nx.DiGraph()
G.add_node(1,level=1)
G.add_node(2,level=2)
G.add_node(3,level=2)
G.add_node(4,level=3)

G.add_edge(1,2)
G.add_edge(1,3)
G.add_edge(2,4)

import pylab as plt
nx.draw_graphviz(G, node_size=1600, cmap=plt.cm.Blues,
                 node_color=range(len(G)),
                 prog='dot')
plt.show()
"
26233,80036,How to look for a specific file in first level directories in Python,"import glob
import os
files = []
for name in os.listdir(args.source):
    if os.path.isdir(name):
        files.append(glob.glob(os.path.join(args.source, name + ""/*.proj""))) # match any files ending with .proj
"
26505,37351,Is there a built-in function to get a number when i have numbers and their probabilities? (Python),"import numpy as np
d = {10:0.5, 9: 0.4, 8:0.1}
x,p = zip(*d.items())
np.random.choice(x, p=p)
"
36200,24422,Am I using super() correctly?,"class FirstClass(object):
    def __init__ (self, value=""I am the value from FirstClass""):
        print value

    def meth(self):
        print ""I am meth from FirstClass""

    def meth2(self):
        print ""I am meth2 from FirstClass""

class SecondClass(FirstClass):
    def __init__ (self):
        print ""I am in SecondClass""
        super(SecondClass, self).__init__(value=""I am the value from SecondClass"")

    def meth(self):
        print ""I am meth from SecondClass""


a=FirstClass() # prints ""I am the value from FirstClass""
b=SecondClass() # prints *both* ""I am in SecondClass"" *and* ""I am the value from SecondClass

a.meth() # prints ""I am meth from FirstClass""
b.meth() # prints ""I am meth from SecondClass""

a.meth2() # prints ""I am meth2 from FirstClass""
b.meth2() # *also* prints ""I am meth2 from FirstClass"", because you didn't redefine it.
"
22070,24725,pyside QTextEdit selected text event,"from PySide import QtCore, QtGui

class Window(QtGui.QWidget):
    def __init__(self):
        QtGui.QWidget.__init__(self)
        self.edit = QtGui.QTextEdit(self)
        self.edit.selectionChanged.connect(self.handleSelectionChanged)
        self.browser = QtGui.QTextBrowser(self)
        layout = QtGui.QHBoxLayout(self)
        layout.addWidget(self.edit)
        layout.addWidget(self.browser)

    def handleSelectionChanged(self):
        text = self.edit.textCursor().selectedText()
        # process text here...
        self.browser.setPlainText(text)

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.setGeometry(500, 300, 600, 300)
    window.show()
    sys.exit(app.exec_())
"
28094,32690,Max Margin of List python,"def max_margin(int_list):
    if len(int_list)==0:
        return None,None
    if len(int_list)==1:  
        return int_list[0],None  
    max_val = max(int_list)
    int_list2 = list(int_list)
    int_list2.remove(max_val)
    max_val2 = max(int_list2)
    return max_val,max_val-max_val2
"
14141,59271,Gedit problems with python,"from Tkinter import *

master=Tk()

w=Canvas(master, width=200, height=100)
########
w.pack()
########

w.create_line(0,0,200,100)
w.create_line(0,100,200,0, fill=""red"", dash=(4,4))

w.create_rectangle(50,25,150,75, fill=""blue"")

mainloop()
"
34227,24925,searching a string pattern from a Data-frame column in pandas,"print df
    name                        genre
0  satya            |ACTION|DRAMA|IC|
1  satya  |COMEDY|DRAMA|SOCIAL|MUSIC|
2    abc        |DRAMA|ACTION|BIOPIC|
3    xyz      |ACTION||ROMANCE|DRAMA|
4    def     |ACTION|SPORT|COMEDY|IC|
5    ghj    |IC|ACTIONDRAMA|NOACTION|

print df['genre'].str.contains('\|ACTION\|') & df['genre'].str.contains('\|DRAMA\|') 
0     True
1    False
2     True
3     True
4    False
5    False
Name: genre, dtype: bool

print df[ df['genre'].str.contains('\|ACTION\|') & df['genre'].str.contains('\|DRAMA\|') ]
    name                    genre
0  satya        |ACTION|DRAMA|IC|
2    abc    |DRAMA|ACTION|BIOPIC|
3    xyz  |ACTION||ROMANCE|DRAMA|
"
29679,52959,extract from each element of list in python,">>> ll = ['listA_5_val','listB_15_val','listC_25_val']

>>> [int(x[6:-4]) for x in ll]
[5, 15, 25]

>>> [int(x.split('_')[1]) for x in ll]
[5, 15, 25]
"
13808,50012,How to get the name of a variable,"class GolfClub:
    def __init__(self, name, size, distance):
        self.name = name
        self.size = size
        self.distance = distance

    def hits_further(self, other):
        if self.distance > other.distance:
            return ""%s hits further"" % self.name
        else:
            return ""%s hits further"" % other.name

club1 = GolfClub('Driver', 5, 200)
club2 = GolfClub('9Iron', 6, 300)
club1.hits_further(club2)
"
4733,475,SpanSelector with Fourier analysis,"# -*- coding: utf-8 -*-
""""""
Created on Tue May 19 10:45:47 2015

@author: greenthumbtack
""""""

import numpy as np
import matplotlib.pyplot as plt
from matplotlib.widgets import SpanSelector


fig,axarr = plt.subplots(2,3)
#fig = plt.figure(figsize=(10,8))

def make_f(start,end):
    sum = 0
    for n in range(start,end+1):
        sum += np.cos(2 * n * np.pi *time) + 2* np.random.random()
    return sum

time   = np.linspace(0,10,1001)
signal = make_f(1,10)

axarr[0,0].plot(time, signal, '-')
#ax.set_ylim(-2,2)
axarr[0,0].set_title('Press left mouse button and drag to test')


fourier = np.fft.rfft(signal)
n = signal.size
rate = time[1]-time[0]

axarr[1,0].plot(np.fft.rfftfreq(n,rate), 20*np.log10(fourier), '-')
axarr[0,1].plot(time, signal)
axarr[1,1].plot(np.fft.rfftfreq(n,rate), 20*np.log10(fourier), '-')
axarr[0,2].plot(time, signal)
axarr[1,2].plot(np.fft.rfftfreq(n,rate), 20*np.log10(fourier), '-')


def onselect(xmin, xmax):
    indmin, indmax = np.searchsorted(time, (xmin, xmax))
    indmax = min(len(time)-1, indmax)

    thisx = time[indmin:indmax]
    thisy = signal[indmin:indmax]
    thisy_fourier = np.fft.rfft(thisy)
    thisx_n = thisx.size
    rate = thisx[1] - thisx[0]
    axarr[1,0].clear()
    axarr[1,0].plot(np.fft.rfftfreq(thisx_n,rate), 20*np.log10(thisy_fourier))
    axarr[1,0].set_xlim(0, 11)
    #ax2.set_ylim(0, thisy.max())
    fig.canvas.draw()

def onselect2(xmin, xmax):
    indmin, indmax = np.searchsorted(time, (xmin, xmax))
    indmax = min(len(time)-1, indmax)

    thisx = time[indmin:indmax]
    thisy = signal[indmin:indmax]
    thisy_fourier = np.fft.rfft(thisy)
    thisx_n = thisx.size
    rate = thisx[1] - thisx[0]
    axarr[1,1].clear()
    axarr[1,1].plot(np.fft.rfftfreq(thisx_n,rate), 20*np.log10(thisy_fourier))
    axarr[1,1].set_xlim(0, 11)
    #ax2.set_ylim(0, thisy.max())
    fig.canvas.draw()

def onselect3(xmin, xmax):
    indmin, indmax = np.searchsorted(time, (xmin, xmax))
    indmax = min(len(time)-1, indmax)

    thisx = time[indmin:indmax]
    thisy = signal[indmin:indmax]
    thisy_fourier = np.fft.rfft(thisy)
    thisx_n = thisx.size
    rate = thisx[1] - thisx[0]
    axarr[1,2].clear()
    axarr[1,2].plot(np.fft.rfftfreq(thisx_n,rate), 20*np.log10(thisy_fourier))
    axarr[1,2].set_xlim(0, 11)
    #ax2.set_ylim(0, thisy.max())
    fig.canvas.draw()

span = SpanSelector(axarr[0,0], onselect, 'horizontal', useblit=True,
                    rectprops=dict(alpha=0.5, facecolor='red') )
span2 = SpanSelector(axarr[0,1], onselect2, 'horizontal', useblit=True,
                    rectprops=dict(alpha=0.5, facecolor='red') )
span3 = SpanSelector(axarr[0,2], onselect3, 'horizontal', useblit=True,
                    rectprops=dict(alpha=0.5, facecolor='red') )
"
25367,7900,"Python Pandas: How to make a column row dependent on it's previous rows, possibly with a function?","import pandas as pd
import numpy as np
d = {'A' : pd.Series([1, 0, 2, 9],),
     'B' : pd.Series([0, float(""nan""), float(""nan""), float(""nan"")])}

df = pd.DataFrame(d)
for i in range(1,len(df.A)):
    df.B[i] = df.B[0] + np.sum(df.A[:i])
df
"
7497,22415,Forward substitution of lower triangular matrix. How?,"def solve(m, y):
    v = [0 for i in xrange(len(m))]
    for i in xrange(len(m)):
        v[i] = (y[i] - v.dotProduct(m[i]))/float(m[i][i])

    return v
"
15868,16255,How to call a particular method in a background thread every X minutes in Python?,"import threading

def print_hello():
    print('Hello')
    timer = threading.Timer(2, print_hello) # # Call `print_hello` in 2 seconds.
    timer.start()

print_hello()
"
30758,24542,how can I call view method in different files,"$ cat gilliam.py
def spam():
    print 'eggs'
$ cat jones.py
import gilliam
gilliam.spam()
$ python jones.py
eggs
"
28176,35707,Get spider name in scrapy feed exporter,"def open_spider(self, spider):
   print spider.name

def close_spider(self, spider):
   print spider.name

def item_scraped(self, item, spider):
   print spider.name
"
27334,23211,How to create multiple sub element under a root element in XML using python?,"doc2 = ET.SubElement(root, ""product"")
"
8969,53704,Matplotlib 3D scatter plot no facecolor,"import numpy as np
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt

def randrange(n, vmin, vmax):
    return (vmax-vmin)*np.random.rand(n) + vmin

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
n = 100
for c, m, zl, zh in [('r', 'o', -50, -25), ('b', '^', -30, -5)]:
    xs = randrange(n, 23, 32)
    ys = randrange(n, 0, 100)
    zs = randrange(n, zl, zh)
    ax.scatter(xs, ys, zs, facecolor=(0,0,0,0), s=100, marker=m, edgecolor=c)

ax.set_xlabel('X Label')
ax.set_ylabel('Y Label')
ax.set_zlabel('Z Label')

plt.show()
"
35311,9079,matplotlib: single colored colormap with saturation,"from matplotlib.colors import LinearSegmentedColormap
import matplotlib.pyplot as plt
import numpy as np

def CustomCmap(from_rgb,to_rgb):

    # from color r,g,b
    r1,g1,b1 = from_rgb

    # to color r,g,b
    r2,g2,b2 = to_rgb

    cdict = {'red': ((0, r1, r1),
                   (1, r2, r2)),
           'green': ((0, g1, g1),
                    (1, g2, g2)),
           'blue': ((0, b1, b1),
                   (1, b2, b2))}

    cmap = LinearSegmentedColormap('custom_cmap', cdict)
    return cmap


fig, ax = plt.subplots(2,2, figsize=(6,6), subplot_kw={'xticks': [],'yticks': []})
fig.subplots_adjust(hspace=.1,wspace=.1)

ax = ax.ravel()

cmap1 = CustomCmap([0.00, 0.00, 0.00], [0.02, 0.75, 1.00]) # from black to +/- 5,192,255
cmap2 = CustomCmap([1.00, 1.00, 1.00], [0.02, 0.75, 1.00]) # from white to +/- 5,192,255
cmap3 = CustomCmap([1.00, 0.42, 0.04], [0.02, 0.75, 1.00]) # from +/- 255,108,10 to +/- 5,192,255
cmap4 = CustomCmap([1.00, 0.42, 0.04], [0.50, 0.50, 0.50]) # from +/- 255,108,10 to grey (128)


ax[0].imshow(np.random.rand(30,30), interpolation='none', cmap=cmap1)
ax[1].imshow(np.random.rand(30,30), interpolation='none', cmap=cmap2)
ax[2].imshow(np.random.rand(30,30), interpolation='none', cmap=cmap3)
ax[3].imshow(np.random.rand(30,30), interpolation='none', cmap=cmap4)
"
3577,26805,How to update a number in the python shell without showing a list,"import time

for i in range(5):
    time.sleep(1)
    print('Now it is: ' + str(i), end='\r')
"
31791,26176,python standard lib equivalent to dateutil.parser.parse,"In [31]: import datetime as DT

In [32]: DT.datetime.strptime(""2012-12-12T12:00"", '%Y-%m-%dT%H:%M')
Out[32]: datetime.datetime(2012, 12, 12, 12, 0)
"
6395,22444,find items in list1 that are also in list2 and delete items not in list1,"# using a set makes the later `x in keep` test faster
keep = set(['peach', 'plum', 'apple', 'kiwi', 'grape'])

list2= ['peach,0,1,1,0,1,0,1', 'carrot,1,0,1,1,0,1,1', 
        'lime,0,1,1,0,1,1,0', 'apple,0,1,1,0,1,1,1']

# x.split(',',1)[0] = the part before the first `,` 
new = [x for x in list2 if x.split(',',1)[0] in keep]
"
12065,74417,Run a terminal command recursively for all files in a folder,"find /path/to/directory -type f -exec java -jar pdfbox-app-1.8.7.jar ExtractText {} \;
"
38862,17066,How to create multiple Pandas time series from a data frame using python?,"Type   
A     1    x
      3    x
      5    x
B     2    x
      4    x
"
6614,36343,Using colormap with bokeh scatter,"import numpy as np

from bokeh.plotting import figure, show, output_notebook
import matplotlib as mpl

output_notebook()

N = 4000
x = np.random.random(size=N) * 100
y = np.random.random(size=N) * 100
radii = np.random.random(size=N) * 1.5
colors = [
    ""#%02x%02x%02x"" % (int(r), int(g), int(b)) for r, g, b, _ in 255*mpl.cm.viridis(mpl.colors.Normalize()(radii))
]

p = figure()

p.scatter(x, y, radius=radii,
          fill_color=colors, fill_alpha=0.6,
          line_color=None)

show(p)  
"
21500,42706,Check if a file is setuid root in Python,">>> ping = os.stat('/bin/ping')
>>> ping.st_mode & stat.S_ISUID
2048
>>> echo = os.stat('/bin/echo')
>>> echo.st_mode & stat.S_ISUID
0
"
37334,27061,Prevent pandas from automatically infering type in read_csv,"# what you described:
In [15]: import numpy as np
In [16]: import pandas
In [17]: x = pandas.read_csv('weird.csv')

In [19]: x.dtypes
Out[19]: 
int_field            int64
floatlike_field    float64  # what you don't want?
str_field           object

In [20]: datatypes = [('int_field','i4'),('floatlike','S10'),('strfield','S10')]

In [21]: y_np = np.loadtxt('weird.csv', dtype=datatypes, delimiter=',', skiprows=1)

In [22]: y_np
Out[22]: 
array([(1, '2.31', 'one'), (2, '3.12', 'two'), (3, '1.32', 'three ')], 
      dtype=[('int_field', '<i4'), ('floatlike', '|S10'), ('strfield', '|S10')])

In [23]: y_pandas = pandas.DataFrame.from_records(y_np)

In [25]: y_pandas.dtypes
Out[25]: 
int_field     int64
floatlike    object  # better?
strfield     object
"
9192,78972,Append to list after shuffle (Python),"from random import shuffle

myList = [""file1"", ""file2"", ""file3"", ""file4""]
longList = []

for x in range(0,10):
    shuffle(myList)
    longList.append(myList[:])
"
36685,40890,Python script to read http paramters from a file,"urllib2.urlopen(""https://twitter.com/%s"" % variable).read()
"
11291,42901,Extract identical slices/indexed elements from all sublists,"a = [[[1, 0, 1], 93], [[1, 0, 1], 96]]
print([i[1] for i in a])
"
31151,52643,Create file path from variables,">>> import os.path
>>> os.path.join('/my/root/directory', 'in', 'here')
'/my/root/directory/in/here'
"
2106,38471,python GET and POST with json and variables,"import requests
import json

#Token used to post
auth_token = ""X""

#Take and parse payload for title and body at site 1.
def payload(nid):
    from urllib.request import urlopen
    with urlopen(""www.site1.com/"" + nid + "".json"") as rr:
        result = json.loads(rr.read().decode(rr.headers.get_content_charset(""utf-8"")))
    title = (result[""title""])
    body = (result[""body""][""und""])
    return (title,body)
#Take title, body, auth_token and then also nid from user input, and POSTing  to site 2 
def add(nid,title,body):
    url = ""www.site2.com/stuff.json""
    headers = {""content-type"": ""application/json""}
    payload = {
        ""auth_token"": auth_token,
        ""document"":
            {
                ""external_id"": nid,
                ""fields"": [
                    {""name"": ""title"", ""value"": title, ""type"": ""string""},
                    {""name"": ""path"", ""value"": ""www.site1.com/node/""+nid,""type"": ""enum""},
                    {""name"": ""nid"", ""value"": nid, ""type"": ""integer""},
                    {""name"": ""body"", ""value"": body, ""type"": ""text""},
                ]}
    }

    r = requests.post(url, data=json.dumps(payload), headers=headers)
    print(""{} was added"".format(nid))

while True:

#Trigger User Input
    new_item = input(""> "")

#Add nid
    if new_item == ""A"":
        nid = input(""Give me an NID please: "")
        title,body = payload(nid)
        add(nid,title,body)
"
38113,50731,How to reduce time taken For loop in python?,"import itertools
import numpy as np
N = 10000
H1 = [np.array([0.04,0.03,0.01,0.002])] * N
H2 = [np.array([0.06,0.02,0.02,0.004])] * N

D1 = np.array([0.01,0.02,0.1,0.01]    )
D2 = np.array([0.1,0.3,0.01,0.4] )

Tp = np.sum(D1)    
Tn = np.sum(D2) 

T = []    
append2 = T.append   
E = []    
append3 = E.append   

for h1,h2 in itertools.izip(H1,H2):
    Err = []    
    append1 = Err.append
    for v in h1:

        #L1 = [1 if i>=v else 0 for i in h1]    
        #L2 = [1 if i>=v else 0 for i in h2]    
        L1 = h1 > v
        L2 = h2 > v
        Sp = np.dot(D1,L1)     
        Sn = np.dot(D2,L2)    

        err = min(Sp+Tn-Sn, Sn+Tp-Sp)    
        append1(err)  

    b = np.argmin(Err)    
    append2(h1[b])    
    append3(Err[b])
"
30695,64201,Can someone tell me how to download wxPython Phoenix?,"svn checkout https://svn.wxwidgets.org/svn/wx/wxPython/Phoenix/trunk/ Phoenix
"
19752,14492,How can I convert this string to list of lists?,"str = ""[[0,0,0],[0,0,1],[1,1,0]]""
strs = str.replace('[','').split('],')
lists = [map(int, s.replace(']','').split(',')) for s in strs]
"
28965,62796,Simple to implement struct for memory efficient list of tuples,"# Create an uninitialised array with 100 records
a = numpy.recarray(100,
                   formats=[""f8"", ""f8"", ""i4""],
                   names=[""latitude"", ""longitude"", ""date""])
# initialise to 0
a[:] = (0.0, 0.0, 0)
# assign a single record
a[0] = (-65.100234, -38.32432, 1309351408)
# access the date of the first record
a[0].date
# access the whole date column
a.date
"
11241,65528,How to call method keys in Python 3,">>> from Tkinter import Text
>>> help(Text.keys)
Help on method keys in module Tkinter:

keys(self) unbound Tkinter.Text method
    Return a list of all resource names of this widget.

>>> Text().keys()
['autoseparators', 'background', 'bd', 'bg', 'blockcursor', 'borderwidth', 'cursor', 
 'endline', 'exportselection', 'fg', 'font', 'foreground', 'height', 'highlightbackground',
 'highlightcolor', 'highlightthickness', 'inactiveselectbackground', 'insertbackground',
 'insertborderwidth', 'insertofftime', 'insertontime', 'insertwidth', 'maxundo', 'padx',
 'pady', 'relief', 'selectbackground', 'selectborderwidth', 'selectforeground', 'setgrid',
 'spacing1', 'spacing2', 'spacing3', 'startline', 'state', 'tabs', 'tabstyle', 'takefocus',
 'undo', 'width', 'wrap', 'xscrollcommand', 'yscrollcommand']
"
21673,21432,"Python, how to get substring between two known words","s  ='<CUSTOMER_ID COL_ID=""4000.01"">79997</CUSTOMER_ID><CUSTOMER_ID COL_ID=""4000.01"">799</CUSTOMER_ID>'
data = re.findall(r""(?<=>)(\d+)<"",s)
print sum(map(int,data))
80796
"
16251,8398,Python - Word Scramble Game,"from random import shuffle, choice

#Reads the words.txt file into a dictionary with keys and definitions
with open(""words.txt"") as f:
    word_dict = {}
    for line in f:
        # split into two parts, word and description
        word, hint = line.split("":"")
        word_dict[word] = hint


def intro():
    print('Welcome to the scramble game\n')
    print('I will show you a scrambled word, and you will have to guess the word\n')


#Picks a random key from the dictionary b
def pick_word():
    word = choice(list(word_dict.keys()))
    return word


#Gives a hint to the user
def give_hint(word):
    # return the definition of the word
    descrip = word_dict[word]
    return descrip


#Below - Retrieves answer from user, rejects it if the answer is not alpha
def get_answer():
    while True:
        answer = input('Please enter a guess: ')
        if answer.isalpha():
            return answer
        else:
            print(""Only letters in the word"")


def main():
    intro()
    word = pick_word()
    # give user lives/tries
    tries = 3
    shffled_word = list(word)
    # shuffle the word 
    shuffle(shffled_word)
    # rejoin shuffled word
    shffled_word = """".join(shffled_word)
    # keep going for three tries as most
    while tries > 0:
        inp = input(""Your scrambled word is {}\nEnter h if you want to see your hint or any key to continue"".format(shffled_word))
        if inp == ""h"":
            print(""The word definition is {}"".format(give_hint(word)))
        ans = get_answer()
        if ans == word:
            print(""Congratulations you win!"")
            break
        tries -= 1
    # ask user if they want to play again, restarting main if they do
    play_again = input(""Press 'y'  to play again or any key to exit"")
    if play_again == ""y"":
        main()
    # else the user did not press y so say goodbye
    print(""Goodbye"")
main()
"
16320,40751,get div attribute val and div text body,"In [27]: for div in productDivs:
  ....:     if div.find('div', {""class"":""vthumb"", 'smturl': True}) is not None:
  ....:         print div.find('div', {""class"":""vthumb"", 'smturl': True})['smturl']
  ....:
http://ts2.mm.bing.net/th?id=OMB.9hfZ6cCDfUWbpw&pid=2.1
http://ts4.mm.bing.net/th?id=OMB1.n%2b12M8SoyFcsag&pid=2.1
http://ts4.mm.bing.net/th?id=OMB.ev1wnIiszGjhUg&pid=2.1
http://ts4.mm.bing.net/th?id=OMB.hDLa5PO07Chclw&pid=2.1
http://ts2.mm.bing.net/th?id=OMB.xDT9H25QFJ2jBw&pid=2.1
http://ts3.mm.bing.net/th?id=OMB.BULQolkxkaZ0uw&pid=2.1
http://ts3.mm.bing.net/th?id=OMB.xp3c0DyKrfmB7Q&pid=2.1
http://ts4.mm.bing.net/th?id=OMB.MxP9fUyaJCRyhw&pid=2.1
http://ts4.mm.bing.net/th?id=OMB2.CWjPPKiJQc4z6w&pid=2.1
http://ts1.mm.bing.net/th?id=OMB1.ZVKhvML3%2bPzM1w&pid=2.1
http://ts1.mm.bing.net/th?id=OMB.SLn%2b0NwKeUdZXw&pid=2.1
http://ts2.mm.bing.net/th?id=OMB.4HJqrT9pBevGlg&pid=2.1
http://ts2.mm.bing.net/th?id=OMB2.HgWYR9sjPw6JlQ&pid=2.1
http://ts1.mm.bing.net/th?id=OMB.RyBXWQ9sH9wThw&pid=2.1
http://ts2.mm.bing.net/th?id=OMB2.Vf21EgXRXMcdfg&pid=2.1
http://ts3.mm.bing.net/th?id=OMB2.BIb6qwbHniC1vw&pid=2.1
http://ts3.mm.bing.net/th?id=OMB1.H9bwRYncKU380A&pid=2.1
http://ts2.mm.bing.net/th?id=OM1.mBXeu55OD4VimQ&pid=2.1
"
38684,9461,selenium opening the wrong Firefox-based browser,"from selenium import webdriver
from selenium.webdriver.firefox.firefox_binary import FirefoxBinary

binary = FirefoxBinary('path/to/binary')
driver = webdriver.Firefox(firefox_binary=binary)
"
39168,83943,Simple PRNG algorithm has different Python/C output - integer overflow differences?,"next = 1
modulo = 2**32
def myrand():
    global next
    next = ((next * 1103515245) + 12345) % modulo
    return (next / 65536) % 32768
"
36058,56123,Sum of following digits,"number = 343703  # Replace ??? with a value of your choice.
sequence_len = 3  # Replace ??? with a value of your choice.
numbstr = str(number)
digitlist = []

# Appending all the numbers to a list
for digit in numbstr:
    digitlist.append(int(digit))

# Looping over all the variables in digitlist, i is the index
for i, _ in enumerate(digitlist):
    # If the index, i is 2 less than the length of the list
    if i < len(digitlist) - 2:
        # Adding the term and the next two terms after that
        if digitlist[i] + digitlist[i+1] + digitlist[i+2] == 10:
            # Printing the list
            print digitlist[i:i+3]
"
5892,46050,Python selenium getting data while hovering,"import re

# ...

page_source = driver.page_source

pattern = re.compile(r""var desp_list = \[\['(.*?)',"")
match = pattern.search(page_source, re.MULTILINE | re.DOTALL)
print match.group(1) if match else ""No match""
"
184,34667,Python Grequests xml responses,"rs = (grequests.get(u) for u in urls)
for response in grequests.map(rs):
    print('{}: {}'.format(response.url, len(response.content)))
"
9076,30090,Maintaining shape of output as of input after Boolean indexing in python,"import numpy as np
X = np.array([1, 3, 0, 8, 1, 4, 6, 0, 2, 0, 7, 8])
indicies_we_want = np.where(X > 0) # Results in an array containing the indicies of X we want to keep
result = np.take(X, indicies_we_want) # Filter by these indicies
result = result.reshape(3, 3) # Reshape to desired result
print result
"
6942,6989,How to verify signed data with PyKCS11 Library,"import PyKCS11
import getopt
import sys
import platform
import hashlib
from M2Crypto import RSA

pkcs11 = PyKCS11.PyKCS11Lib()
lib_path = ""/opt/safenet/protecttoolkit5/ptk/lib/libcryptoki.so""
pkcs11.load(lib_path)
info = pkcs11.getInfo()
slots = pkcs11.getSlotList()
if len(slots) > 0:
    session = pkcs11.openSession(slots[0], PyKCS11.CKF_RW_SESSION)
    session.login(""12345678"")
    mech = PyKCS11.Mechanism(PyKCS11.CKM_RSA_PKCS_KEY_PAIR_GEN, None)
    public_template = [
        (PyKCS11.CKA_CLASS, PyKCS11.CKO_PUBLIC_KEY),
        (PyKCS11.CKA_PRIVATE, PyKCS11.CK_FALSE),
        (PyKCS11.CKA_TOKEN, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_ENCRYPT, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_VERIFY, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_WRAP, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_KEY_TYPE, PyKCS11.CKK_RSA),
        (PyKCS11.CKA_VERIFY_RECOVER, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_MODULUS_BITS, 2048),
    ]
    private_template = [
        (PyKCS11.CKA_CLASS, PyKCS11.CKO_PRIVATE_KEY),
        (PyKCS11.CKA_PRIVATE, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_TOKEN, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_DECRYPT, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_SIGN, PyKCS11.CK_TRUE),
        (PyKCS11.CKA_UNWRAP, PyKCS11.CK_TRUE)
        ]
    (pub, priv) = session.generateKeyPair(public_template, private_template, mech)
    (pubExp,pubModulus) = session.getAttributeValue(pub,[PyKCS11.CKA_PUBLIC_EXPONENT,PyKCS11.CKA_MODULUS], True)
    # ==================================================
    # Signing data
    binaryData = ""Hello world""
    # Generate SHA1
    sha1 = hashlib.sha1()
    sha1.update(str(bytearray(binaryData)))
    digest=sha1.digest()
    # Indicate SHA1 is used
    binaryData2='\x30\x21\x30\x09\x06\x05\x2b\x0e\x03\x02\x1a\x05\x00\x04\x14'+digest
    signMechanism = PyKCS11.Mechanism(PyKCS11.CKM_RSA_PKCS, None)
    signedData = session.sign(priv, binaryData2, signMechanism)
    session.logout()
    session.closeSession()
    # ==================================================
    # Verify
    pubkey = RSA.new_pub_key(('\x00\x00\x00\x03' + str(bytearray(pubExp)), '\x00\x00\x01\x01\x00'+str(bytearray(pubModulus))))
    result=pubkey.verify(str(bytearray(digest)), str(bytearray(signedData)), 'sha1')
    print ""VERIFY:"" + str(result)
"
2338,8888,Python remove last line of a file,"lines = file.readlines()
lines = lines[:-1]
"
23240,83359,How to uniqufy the tuple element?,"from operator import itemgetter

names = set(d['name'] for d in result)
uniq = []
for name in names:
    scores = [res for res in result if res['name'] == name]
    uniq.append(max(scores, key=itemgetter('score')))
"
3435,9913,How to add a column for displaying small size of img inside backgrid.,"{
  name: 'active_image',
  label: 'Image',
  editable: false,
  cell: Backgrid.Cell.extend({
    render: function() {
      var src = this.model.get(this.column.get('name'));
      this.$el.html($('<img>').attr('src', src));
      return this;
    }
  })
}
"
3015,34587,Speed up image loading in a gtk.IconView,"treeview.freeze_child_notify()
treeview.set_model(None)

# Add rows to the model
# ...

treeview.set_model(model)
treeview.thaw_child_notify()
"
37372,27348,"How to overlay a Seaborn jointplot with a ""marginal"" (distribution histogram) from a different dataset","import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt

df = pd.DataFrame(np.random.randn(100,4), columns = ['x', 'y', 'z', 'w'])

plt.ion()
plt.show()
plt.pause(0.001)

p = sns.JointGrid(
    x = df['x'],
    y = df['y']
    )

p = p.plot_joint(
    plt.scatter
    )

p.ax_marg_x.hist(
    df['x'],
    alpha = 0.5
    )

p.ax_marg_y.hist(
    df['y'],
    orientation = 'horizontal',
    alpha = 0.5
    )

p.ax_marg_x.hist(
    df['z'],
    alpha = 0.5,
    range = (np.min(df['x']), np.max(df['x']))
    )

p.ax_marg_y.hist(
    df['w'],
    orientation = 'horizontal',
    alpha = 0.5,
    range = (np.min(df['y']), np.max(df['y'])),
    )
"
11035,46015,Django query across many-to-many relationship,"Target.objects.filter( store__user_profile__user=request.user )
"
29379,42532,can't query over ListField(EmbeddedDocumentField),"Agent.objects.filter(
    name='ashraf',  
    __raw__={""skills"": {
        ""$elemMatch"": {
            ""level"": {""$gt"": 5}, 
            ""name"": ""Computer Skills""
        }
    }}
)
"
8960,63129,Filling Out Web Form Data Using Built-In Python Modules,"from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
i = 2 # do it 2 times
while i > 0:
    driver = webdriver.Firefox()
    driver.get(""http://www.jonessoda.com/contests/back2school"")

    def find_by_xpath(locator):
        element = WebDriverWait(driver, 10).until(
            EC.presence_of_element_located((By.XPATH, locator))
        )

        return element

    class FormPage(object):
        def fill_form(self, data):
            find_by_xpath('//input[@name = ""fname""]').send_keys(data['fname'])
            find_by_xpath('//input[@name = ""lname""]').send_keys(data['lname'])
            find_by_xpath('//input[@name = ""email""]').send_keys(data['email'])
            find_by_xpath('//select[@name = ""birthday_month""]').send_keys(data['month'])
            find_by_xpath('//select[@name = ""birthday_day""]').send_keys(data['day'])
            find_by_xpath('//select[@name = ""birthday_year""]').send_keys(data['year'])

            return self # makes it so you can call .submit() after calling this function

        def submit(self):
            find_by_xpath('//input[@value = ""Submit""]').click()

    data = {
        'fname': 'Sheep',
        'lname': 'Test',
        'email': 'jess@sheeptest.com',
        'month': 'October',
        'day': '29',
        'year': '1920'
    }

    FormPage().fill_form(data).submit()
    driver.quit() # closes the webbrowser
    i = i - 1
"
22947,46712,How to select every Nth row in CSV file using python,"import csv
import os.path
from itertools import islice


with open(inputfilename, 'rb') as infh:
    reader = csv.reader(infh)
    for row in reader:
        filename = row[0].replace(' ', '_') + '.csv')
        filename = os.path.join(directory, filename)
        with open(filename, 'wb') as outfh:
            writer = csv.writer(outfh)
            writer.writerow(row)
            writer.writerows(islice(reader, 2))
"
34414,37952,Move only 1 of two iterators in zip Python the first time,"header = next(file1)
for line1, line2 in zip(file1, file2):
    ...
"
14834,44116,Python List in Java,"for (Object obj: myArray)
{ 
   System.out.println(obj);
}
"
39514,8666,Tack on session support to a 'stateless' xml-rpc app,"from twisted.web import xmlrpc, server

class MultiStep(xmlrpc.XMLRPC):
    def __init__(self) :
        xmlrpc.XMLRPC.__init__(self)
        self.db = {}
    def getX(self, user, x):
       self.db[user] = {'x' : x}
       return 'OK'
    def getY(self, user, y):
       self.db[user]['y'] = y
       return 'OK'
    def plus(self,user) :
       return self.db[user]['x'] + self.db[user]['y']

if __name__ == '__main__':
    from twisted.internet import reactor
    r = MultiStep()
    reactor.listenTCP(6666, server.Site(r))
    reactor.run()
"
14982,5380,Python floating point number comparison,">>> float.hex(2.2 * 3.0)
'0x1.a666666666667p+2'
>>> float.hex(3.3 * 2.0)
'0x1.a666666666666p+2'
>>> float.hex(6.6)
'0x1.a666666666666p+2'
"
2625,40070,Python: How do I convert from binary to base 64 and back?,">>> import struct
>>> val = 0b100
>>> print struct.pack('I', val).encode('base64')
BAAAAA==
"
9878,9320,Python - Pandas: combination of unique rows and their statistics,"import pandas as pd
import numpy as np

df = pd.DataFrame([[1.1, 1.1, 1.1, 2.6, 2.5, 3.4,2.6,2.6,3.4,3.4,2.6,1.1,1.1,3.3], list('AAABBBBABCBDDD'), \
                   ['1','3','3','2','4','2','5','3','6','3','5','1','1','1']]).T
df.columns = ['col1','col2','col3']
df['col1'] = df['col1'].astype(float)

df.groupby(['col2','col3'])['col1'].agg([np.mean,'count',np.max,np.min,np.median])
"
13842,42041,ipython notebook save variables after closing,"In [1]: l = ['hello',10,'world']
In [2]: %store l
In [3]: exit

(IPython session is closed and started again...)

ville@badger:~$ ipython
In [1]: l
Out[1]: ['hello', 10, 'world']
"
14938,80568,Drop duplicate Pandas and SQLAlchemy,"In [59]:  data = pd.DataFrame(range(10), columns=['number'])

In [60]: data
Out[60]: 
   number
0       0
1       1
2       2
3       3
4       4
5       5
6       6
7       7
8       8
9       9

In [61]: check = range(5)

In [62]: check
Out[62]: [0, 1, 2, 3, 4]

In [63]: data = data[~data['number'].isin(check)]

In [64]: data
Out[64]: 
   number
5       5
6       6
7       7
8       8
9       9
"
10195,30002,Python Datastructure Suggestion,"storage = {} # initialize
# ...
if !storage.has_key(token):
  storage[token] = 1
else:
  storage[token] += 1
"
15507,67856,How to force Google App Engine [python] to use SSL (https)?,"handlers:
- url: /youraccount/.*
  script: accounts.py
  login: required
  secure: always
"
11617,73652,Checkbox input in python urllib,"payload = {
  'user': 'newuser',
  'pass': '12345',
  'tos_understood': 'on',
  }
"
2882,37,Disable python's help() from accessing web,"    def listmodules(self, key=''):
        if key:
            self.output.write('''
Here is a list of matching modules.  Enter any module name to get more help.

''')
            apropos(key)
        else:
            self.output.write('''
Please wait a moment while I gather a list of all available modules...

''')
            modules = {}
            def callback(path, modname, desc, modules=modules):
                if modname and modname[-9:] == '.__init__':
                    modname = modname[:-9] + ' (package)'
                if modname.find('.') < 0:
                    modules[modname] = 1
            def onerror(modname):
                callback(None, modname, None)
            ModuleScanner().run(callback, onerror=onerror)
            self.list(modules.keys())
            self.output.write('''
Enter any module name to get more help.  Or, type ""modules spam"" to search
for modules whose descriptions contain the word ""spam"".
''')
"
7905,2250,Accessing name of randomly chosen list,"availableMaterials = {""Si3N4"": Si3N4_nk, ""Y2O3"": Y2O3_nk, ""Al2O3"": Al2O3_nk, 
                      ""TiO2"": TiO2_nk, ""SiO2"": SiO2_nk]
material = random.choice(availableMaterials.keys())
print ""Selected Material:"", material
print ""List Contents:"", availableMaterials[material]
"
32512,55162,Inheriting Python Class args from Super,"class Base(object):
    def __init__(self, collection=None, classname=None):
        self.__collection__ = collection or self.__class__.__name__

class Thing(Base):
    def __init__(self, **kwargs):
        #super(Thing, self).__init__()
        Base.__init__(self, **kwargs)
        #self.__dict__.update(kwargs)


t = Thing(collection='foobar')
print(t.__collection__)
"
25202,74904,What does create_list refer to in Tastypie's custom authorisation?,"
def create_list(self, object_list, bundle):
    """"""
    Unimplemented, as Tastypie never creates entire new lists, but
    present for consistency & possible extension.
    """"""
"
8172,38479,Python CGI simultaneous AJAX requests,"from http.server import BaseHTTPRequestHandler, HTTPServer, CGIHTTPRequestHandler
from socketserver import ThreadingMixIn
import threading
import cgitb; cgitb.enable()  ## This line enables CGI error reporting
import webbrowser


class HTTPRequestHandler(CGIHTTPRequestHandler):
    """"""Handle requests in a separate thread.""""""
    def do_GET(self):
        if ""shutdown"" in self.path:
            self.send_head()
            print (""shutdown"")
            server.stop()
        else:
            self.send_head()


class ThreadedHTTPServer(ThreadingMixIn, HTTPServer):
    allow_reuse_address = True
    daemon_threads = True

    def shutdown(self):
        self.socket.close()
        HTTPServer.shutdown(self)

class SimpleHttpServer():
    def __init__(self, ip, port):
        self.server = ThreadedHTTPServer((ip,port), HTTPRequestHandler)
        self.status = 1

    def start(self):
        self.server_thread = threading.Thread(target=self.server.serve_forever)
        self.server_thread.daemon = True
        self.server_thread.start()

    def waitForThread(self):
        self.server_thread.join()

    def stop(self):
        self.server.shutdown()
        self.waitForThread()

if __name__=='__main__':
    HTTPRequestHandler.cgi_directories = [""/"", ""/ircapp""]
    server = SimpleHttpServer('localhost', 8020)
    print ('HTTP Server Running...........')
    webbrowser.open_new_tab('http://localhost:8020/ircapp/search.py') 
    server.start()
    server.waitForThread()
"
11288,32119,django turn validation on and off via a drop down list,"    def clean(self):

    cd_wrtdf = super(WorkplaceRelatedTrainingDetailsForm, self).clean()

    if cd_wrtdf['workplace_training_display_type'] == 8888 or cd_wrtdf['workplace_training_display_type'] == 9999:

        self.cleaned_data['workplace_training_institute'] = ''
        self.cleaned_data['workplace_training_date_completed'] = ''
        self.cleaned_data['workplace_training_date_expiry'] = ''

    else:

        if 'workplace_training_institute' in cd_wrtdf and len(cd_wrtdf['workplace_training_institute'].strip()) == 0:

            self._errors['workplace_training_institute'] = self.error_class([_(""This field is required.xxxxxxxxx"")])
            del self.cleaned_data['workplace_training_institute']

        if 'workplace_training_date_completed' in cd_wrtdf and len(cd_wrtdf['workplace_training_date_completed'].strip()) == 0:

            self._errors['workplace_training_date_completed'] = self.error_class([_(""This field is required.yyyyyyyy"")])
            del self.cleaned_data['workplace_training_date_completed']

    return cd_wrtdf
"
12221,33750,getting only values fullfilling condition in a numpy array,"In [19]: b = a[s]

In [20]: b[b > 0]
Out[20]: array([2, 3, 4])
"
36868,38252,Unable to create new instances of node objects python,"parents  = []
children = []
mu = []
sigma = []
emitting = False
identifier = [0 for x in range(3)]
"
517,19921,how to ask for user input in a function. Python related,"def sum3():
    print ""Please enter three numbers:""
    a = input()
    b = input()
    c = input()
    return sum((a,b,c)) # a+b+c

print sum3() # asks for input then prints result.
"
13166,49822,Display the functionality of the script with argparse,"parser = argparse.ArgumentParser(description=""This script ... ""
"
22486,45330,How to delete all entities for NDB Model in Google App Engine for python?,"from google.appengine.ext import ndb

ndb.delete_multi(
    Game.query().fetch(keys_only=True)
)
"
571,26532,Maximum precision on very large numbers,"print float(696252) / 17500423  # 0.0397848669144
"
35574,27844,"How does one import in python if the filename or filepath contains a non-alpha, non-underscore character?","Instrument_Control = __import__(""Instrument-Control.audio$pecial"")
audiospecial = getattr(Instrument_Control, ""audio$pecial"")
print audiospecial
# <module 'Instrument-Control.audio$pecial' from 'Instrument-Control/audio$pecial/__init__.py'>
audiospecial.example_func()  # executes example_func() from audio$pecial
"
4982,63841,Create a multidimension list from a range of unique values," >>> N = 4
 >>> board = [[j for j in xrange(N*i+1,N*i+N+1)] for i in xrange(N)]
 [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16]]
"
4165,67083,Create a raw input with commands inside a Python script,"def firstThing():  # this could be your 'cd' task
    print 'ran first task'

def secondThing(): # another task you would want to run
    print 'ran second task'

def showCommands(): # a task to show available commands
    print functionDict.keys()

# a dictionary mapping commands to functions (you could do the same with classes)
functionDict = {'f1': firstThing, 'f2': secondThing, 'help': showCommands}

# the actual function that gets the input
def main():
    cont = True
    while(cont):
        selection = raw_input('enter your selection ')
        if selection == 'q': # quick and dirty way to give the user a way out
            cont = False
        elif selection in functionDict.keys():
            functionDict[selection]()
        else:
            print 'my friend, you do not know me. enter help to see VALID commands'

if __name__ == '__main__':
    main()
"
18220,73127,Python Tkinter how to color a window using grid,"self.master = Tk()                                                      
self.master.configure(bg = 'magenta')
"
19222,81781,python reference a property like a function,"class Some_Class(object):

    def __init__(self):
        def init_property1(value): self.prop1 = value
        def init_property2(value): self.prop2 = value

        self.func_list = [init_property1, init_property2]

    @property
    def prop1(self):
        return 'hey im the first property'

    @prop1.setter
    def prop1(self, value):
        print value

    @property
    def prop2(self):
        return 'hey im the second property'

    @prop2.setter
    def prop2(self, value):
        print value


class Some_Other_Class(object):

    def __init__(self):

        myvalues = ['1 was set by a nested func','2 was set by a nested func']
        some_class= Some_Class()

        # now I simply set the properties without dealing with them individually
        # this assumes I know how they are ordered (in the list)
        # if necessary, I could use a map

        for idx, func in enumerate(some_class.func_list):
            func(myvalues[idx])

        some_class.prop1 = 'actually i want to change the first property later on'

if __name__ == '__main__':
    test = Some_Other_Class()
"
13561,62788,Split string based on certain words and remove certain special characters in Python,">>> item_list = [('apple OR ora nge AND NOT pineapple'), ('(sugar and salt) or (pepper and vinegar)')]
>>> [[x.strip() for x in re.split(r'(?i)(?:\b(?:AND|OR|NOT)\b|[]\[()])', x) if x.strip()] for x in item_list]
[['apple', 'ora nge', 'pineapple'], ['sugar', 'salt', 'pepper', 'vinegar']]
"
30260,39,Trouble with multiple regex options with Python re library,"re.compile(r'\b(yes|y)\b')
"
28677,30435,Growing a widget vertically when resizing the window (using the grid geometry manager),"root.rowconfigure(1, weight=1)
# [...]
text.grid(row=1, column=0, sticky=tk.W + tk.E + tk.N + tk.S)
"
6156,19054,How to substract from dictionary value in Python?,"list1 = {'i': 1, 'k': 1, 'j': 1, 'o': 2, 'q': 1, 's': 1, 'x': 1, 'z': 1}
string1 = 'ikjoosgx'
for letter in string1:
    list1[letter] = list1.setdefault(letter, 0) - 1
"
26555,33500,Python take a variable number of inputs?,"amount = int(input(""Enter the amount of numbers that you have: ""))

numbers = []
for i in range(amount):
    new = input('Enter number {}: '.format(i+1))
    numbers.append(new)

print(numbers)
"
16819,68893,Execute sql-server transaction using python,"myconnection = pyodbc.connect(myconnectionstring, autocommit=False)
# your commands here
myconnection.commit()
"
23465,78815,How to add the fictive method,"vk.Session = MagicMock(name='session', return_value=None)
mock_vk_values = [{'uid': user.vk_uid}]
# create an explicit mock for the users attribute
users_mock = MagicMock(name='users')
users_mock.get = MagicMock(name='uid', return_value=mock_vk_values)
# create a mock for the api
api_mock = MagicMock(name='api', users=users_mock)
# this is where a lot of people get mocking wrong -
# mistaking the mock of a constructor with the object returned/created
vk.API = MagicMock(return_value=api_mock)
"
13478,14524,apply color map to mpl_toolkits.mplot3d.Axes3D.bar3d,"offset = dz + np.abs(dz.min())
fracs = offset.astype(float)/offset.max()
norm = colors.normalize(fracs.min(), fracs.max())
colors = cm.jet(norm(fracs))

ax.bar3d(xpos,ypos,zpos,1,1,dz, color=colors)
"
20479,65094,Global logging and save log to file,"import logging

logger = logging.getLogger('my_logger')

formatter = logging.Formatter(FORMAT)

console_handler = logging.StreamHandler()
console_handler.setFormatter(formatter)
logger.addHandler(console_handler)

file_handler = logging.FileHandler(logname)
file_handler.setFormatter(formatter)
logger.addHandler(file_handler)
"
13667,52353,Tkinter bind executes immediately when script is run,"ticketfieldentry.bind(""<Double-Button-1>"", lambda e: searchforticket(ticketfieldentry.get()))
"
18676,42999,"Split lastnames with python, keep the '-' sign in appropriate position","In [166]: name = 'brian molko-olsdal stefan olsdal-molko'
In [168]: name.title()
Out[168]: 'Brian Molko-Olsdal Stefan Olsdal-Molko'
"
14992,11427,`staticmethod` and `abc.abstractmethod`: Will it blend?,"class abstractstatic(staticmethod):
    __slots__ = ()
    def __init__(self, function):
        super(abstractstatic, self).__init__(function)
        function.__isabstractmethod__ = True
    __isabstractmethod__ = True

class A(object):
    __metaclass__ = abc.ABCMeta
    @abstractstatic
    def test():
        print 5
"
39538,81203,Circular argument requirement for wrapper,"def attach_listener(window, event_name, function):
    def wrapper(*args, **kwargs):
        if window.exists():
            return function(*args, **kwargs)
        else:
            remove_listener(wrapper.id_number)
    wrapper.id_number = add_listener(event_name, wrapper)
"
2355,74465,Slice Pandas DataFrame by Row,"In [36]: df
Out[36]:
   A  B  C  D
a  0  2  6  0
b  6  1  5  2
c  0  2  6  0
d  9  3  2  2

In [37]: rows
Out[37]: ['a', 'c']

In [38]: df.drop(rows)
Out[38]:
   A  B  C  D
b  6  1  5  2
d  9  3  2  2

In [39]: df[~((df.A == 0) & (df.B == 2) & (df.C == 6) & (df.D == 0))]
Out[39]:
   A  B  C  D
b  6  1  5  2
d  9  3  2  2

In [40]: df.ix[rows]
Out[40]:
   A  B  C  D
a  0  2  6  0
c  0  2  6  0

In [41]: df[((df.A == 0) & (df.B == 2) & (df.C == 6) & (df.D == 0))]
Out[41]:
   A  B  C  D
a  0  2  6  0
c  0  2  6  0
"
703,58938,Beginner: Trying to understand how apps interact in Django,"from django.db import models
from django.contrib.auth.models import User
from django.contrib.contenttypes.models import ContentType
from django.contrib.contenttypes import generic

class Favorite(models.Model):
    user = models.ForeignKey(User)
    content_type = models.ForeignKey(ContentType)
    object_id = models.PositiveIntegerField()
    content_object = generic.GenericForeignKey('content_type', 'object_id')
"
2391,68299,Redirect logging to console during command,"loggernames = [ ... ]
level = logging.DEBUG
handler = logging.StreamHandler()
handler.setLevel(level)
handler.setFormatter(logging.Formatter('%(levelname)s: %(message)s'))

for name in loggernames:
    logging.getLogger(name).addHandler(handler)
"
2905,81506,How do I specify scons alias dependencies?,"import SCons
import shutil
import os

env = Environment(tools=['default', 'textfile'])

def package_builder(target, source, env):
  cmdLine = 'python test.py'
  return os.system(cmdLine)

def copy(env, target, source):
  shutil.copy(source[0].path, target[0].path)
env.Append(BUILDERS = { 'copybuilder' : Builder(action = Action(copy, ' COPY $SOURCE -> $TARGET')) } )
env.Append(BUILDERS = { 'package' : Builder(action = Action(package_builder, ' PACKAGE $SOURCES -> $TARGET'), suffix='.zip' ) } )

env.Textfile(target='foo.txt', source='hello, world\n')

#
# Here the changes start
#

# The following line is not needed, SCons picks up the
# dependency bar.txt -> foo.txt automatically
#tclib = env.Alias('transcoderLib', 'foo.txt')
copyTarget = env.copybuilder('bar.txt', 'foo.txt')
# Defining Alias for later reference...
# important: don't create new Alias()es all over
#            the place, but pass a single reference around
tclib = env.Alias('transcoderLib', copyTarget)

# Main change: Your initial dependencies were wrong, it's
# the package (='python test.py') that depends on your
# transcoderLib (='bar.txt')...
package = env.package('#Test', [])
env.Depends(package, tclib)

# Create an Alias for the packages, you can pass
# a list of all your packages too here...
bp = env.Alias('build_packages', package)

# Finally, set the package Alias() as default target if
# requested by the config parameter...
config = int(ARGUMENTS.get('config', 0))
if config == 1:
  env.Default(bp)
"
28462,81413,Beginner stats: Predict binary outcome of set of numbers given history (Logistic regression),"result = sm.Logit(outcomes, values).fit()
result.predict([82,45,2])
"
23666,35660,How do I run an action for all requests in Flask?,"@app.before_request
def do_something_whenever_a_request_comes_in():
    # request is available

@app.after_request
def do_something_whenever_a_request_has_been_handled(response):
    # we have a response to manipulate, always return one
    return response
"
14661,62622,How can I dynamically get the value of a class variable?,"attr = 'bar'
getattr(foo, attr)  # <=> foo.bar 
"
39613,42231,Specifying a key for datastore entities,"SuperEggs= Spam(id='SuperEggs', eggs=""2 egg whites"")
SuperEggs.put()
"
25077,68,How to isolate blocks of text containing specific words and remove the others?,"# gather all the relevant data first...
NEW_EMAIL = '--- new email ---'
END_EMAIL = '--- end email ---'
JACKPOT = '**JACKPOT WORD**'

email = []
jackpots = []
starting = True
with open('input.txt') as stream:
    for line in stream:
        if starting:
            if line.startswith(NEW_EMAIL):
                # start gathering new email lines
                email = []
                starting = False
        elif line.startswith(END_EMAIL):
            # start looking for a new email
            starting = True
        else:
            email.append(line)
            if JACKPOT in line:
                # only keep jackpot emails
                jackpots.append(email)

# now write out the final file...
with open('output.txt', 'w') as stream:
    for email in jackpots:
        stream.write('%s\n%s%s\n\n' % (
            NEW_EMAIL, ''.join(email), END_EMAIL))
"
14332,72349,How do I link records to a large table efficiently using python Dedupe?,"def block_data(messy_data, c, gazetteer):

    block_groups = itertools.groupby(gazetteer.blocker(messy_data.viewitems()),
                                 lambda x: x[1])
    for (record_id, block_keys) in block_groups:

        a = [(record_id, messy_data[record_id], set())]

        c.execute(""""""SELECT DISTINCT record_id
                     FROM blocking_map
                     WHERE block_key IN %s"""""", 
                  (tuple(block_key for block_key, _ in block_keys),))

        values = tuple(row['record_id'] for row in c)

        if values:

            c.execute(""""""SELECT *
                         FROM canonical_table
                         WHERE record_id IN %s"""""",
                      (values,))

            b = [(row['record_id'], row, set())
                 for row in c]

            if b:
                yield (a, b)
"
28422,62879,How do I log the contents of print messages to two files with stdout,"class MultiWrite(object):
    def __init__(self, *files):
        self.files = files
    def write(self, text):
        for file in self.files:
            file.write(text)
    def close(self):
        for file in self.files:
            file.close()

import sys

# no need to save stdout. There's already a copy in sys.__stdout__.
sys.stdout = MultiWrite(open('file-1', 'w'), open('file-2', 'w'))
print(""Hello, World!"")

sys.stdout.close()

sys.stdout = sys.__stdout__  #reassign old stdout.
"
17759,76859,Python strftime - date without leading 0?,"day = day.lstrip('0')

>>> day = '01'
>>> day.lstrip('0')
'1'
"
17515,82197,Dictionary output on one line,"KEYPAD = {'A': '2', 'B': '2', 'C': '2', 'D': '3', 'E': '3', 'F': '3', 'G': '4', 'H': '4', 'I': '4', 'J': '5', 'K': '5', 'L': '5', 'M': '6', 'N': '6', 'O': '6', 'P': '7', 'Q': '7', 'R': '7', 'S': '7', 'T': '8', 'U': '8', 'V': '8', 'W': '9', 'X': '9', 'Y': '9', 'Z': '9'}
word = input(""Enter word: "")
for key in word:
    print(KEYPAD[key], end='') #<-- this line suppresses the newline output
print() #<-- this adds the required newline at the end of all the characters
"
27244,84182,python - string conversion,"row_id = getattr(row, id_column)
"
9450,1123,How do I interpret the data read by matplotlib's imread?,"[[ 0.40784314,  0.40784314,  0.40784314],
[ 0.40784314,  0.40784314,  0.40784314],
[ 0.40784314,  0.40784314,  0.40784314],
...,
[ 0.42745098,  0.42745098,  0.42745098],
[ 0.42745098,  0.42745098,  0.42745098],
[ 0.42745098,  0.42745098,  0.42745098]],
"
24484,53327,how to search for file's has a known file extension like .py?,"for x in os.listdir(dir):
    if x.endswith(fext):
        filename = os.path.join(dir, x)
        # do your stuff here
"
33760,77857,while loop (Python),">>> 0 >= 0
True
>>> 1 >= 0
True
>>> -1 >= 0
False
"
13688,79905,Python sort text file in dictionary,"scores = {}  # Not `dict`. Don't reuse builtin names.

with open('scores.txt', 'r') as f:  # Not ""r+"" unless you want to write later
    for line in f:
        name, score = line.strip().rsplit(' ', 1)
        score = int(score)
        if name in scores:
            scores[name] = scores[name] + score
        else:
            scores[name] = score

print scores.items()
"
17768,46708,python: list index out of range in reducer,"import sys

cKey = """"
cList = []
lines = sys.stdin.readlines()

for line in lines:
    line = line.rstrip()
    splitLine = line.split(""\t"")

    if len(splitLine) > 1:
      key = splitLine[0]
      value = splitLine[1]
"
37240,34826,Calling FSCTL_CREATE_OR_GET_OBJECT_ID from Python,"C:\Windows\system32>fsutil.exe objectid query ""myfile.txt""
Object ID :        18fa1c836b95e31188eb002564e9e3cf
BirthVolume ID :   684d8863dd92cf4aa82fcf79ccd993e3
BirthObjectId ID : 18fa1c836b95e31188eb002564e9e3cf
Domain ID :        00000000000000000000000000000000
"
37583,64944,Why termcolor doesn't work in python?,">>> from termcolor import *
>>> cprint('hello', 'red')
â[31mhelloâ[0m
>>> import colorama
>>> colorama.init()
>>> cprint('hello', 'red')
hello                                    <-- in red color
>>>
"
17878,84526,How to refer to the whole array within reduce()?,"result = (lambda array: reduce(lambda a,b: some_function(b,array), array))(original_array[:])
"
18381,24626,Propagating down the result of groupby aggregations,">>> df[""W""] = df.groupby(level=[""A"", ""B""])[""X""].transform(lambda x: x.idxmax()[2])
>>> df
                     X         Y  W
A    B     C                       
bar  one   P  0.630667  1.457555  P
     three Q  1.163132 -0.944378  Q
           T  0.423349  0.432508  Q
flux six   P -1.055297 -0.419939  P
     three T  2.064113  0.465885  T
foo  five  Q  0.271349  0.472808  R
           S -0.985560 -0.301500  R
           P -0.482336 -0.089823  R
           R  0.745047 -0.713639  R

[9 rows x 3 columns]
"
8027,57998,Intercepting attributes in python,"class RangeFont(object):

    def __init__(self, range):
        self._range = range

    def __setattr__(self, name, value):
        if name.startswith('_'):
            super(RangeFont, self).__setattr__(name, value)
            return

        for cell in self._range: # assuming a range is iterable
            setattr(cell.font, name, value)


class Range(object):
    @property
    def font(self):
        return RangeFont(self)
"
16431,29249,How to generate __init__.py in all subdirectories of current directory in cmake?,"# Get paths to all .py files (relative to build dir)
file(GLOB_RECURSE SubDirs RELATIVE ${CMAKE_BINARY_DIR} ""${CMAKE_BINARY_DIR}/*.py"")
# Clear the variable AllPaths ready to take the list of results
set(AllPaths)
foreach(SubDir ${SubDirs})
  # Strip the filename from the path
  get_filename_component(SubDir ${SubDir} PATH)
  # Change the path to a semi-colon separated list
  string(REPLACE ""/"" "";"" PathParts ${SubDir})
  # Incrementally rebuild path, appending each partial path to list of results
  set(RebuiltPath ${CMAKE_BINARY_DIR})
  foreach(PathPart ${PathParts})
    set(RebuiltPath ""${RebuiltPath}/${PathPart}"")
    set(AllPaths ${AllPaths} ${RebuiltPath})
  endforeach()
endforeach()
# Remove duplicates
list(REMOVE_DUPLICATES AllPaths)
"
23379,35461,How to update QAbstractTableModel and QTableView after sorting the data source?,"class MyModel(QtCore.QAbstractTableModel):
    __init__(self, data_structure):
        super().__init__()
        self.data_structure = data_structure

    # ...

    def sort_function(self):
        self.layoutAboutToBeChanged.emit()
        # custom_sort() is built into the data structure
        self.data_structure.custom_sort()
        self.layoutChanged.emit()
"
22752,27028,Generic associations in SQLAlchemy with multiple parents,"""""""table_per_association.py

The HasAddresses mixin will provide a new ""address_association"" table for
each parent class.   The ""address"" table will be shared
for all parents.

This configuration has the advantage that all Address
rows are in one table, so that the definition of ""Address""
can be maintained in one place.   The association table 
contains the foreign key to Address so that Address
has no dependency on the system.


""""""
from sqlalchemy.ext.declarative import declarative_base, declared_attr
from sqlalchemy import create_engine, Integer, Column, \
                    String, ForeignKey, Table
from sqlalchemy.orm import Session, relationship
import itertools

class Base(object):
    """"""Base class which provides automated table name
    and surrogate primary key column.

    """"""
    @declared_attr
    def __tablename__(cls):
        return cls.__name__.lower()
    id = Column(Integer, primary_key=True)
Base = declarative_base(cls=Base)

class Address(Base):
    """"""The Address class.   

    This represents all address records in a 
    single table.

    """"""
    street = Column(String)
    city = Column(String)
    zip = Column(String)

    @property
    def all_owners(self):
        return list(
            itertools.chain(
            *[
                getattr(self, attr)
                for attr in [a for a in dir(self) if a.endswith(""_parents"")]
            ]
        ))

    def __repr__(self):
        return ""%s(street=%r, city=%r, zip=%r)"" % \
            (self.__class__.__name__, self.street, 
            self.city, self.zip)

class HasAddresses(object):
    """"""HasAddresses mixin, creates a new address_association
    table for each parent.

    """"""
    @declared_attr
    def addresses(cls):
        address_association = Table(
            ""%s_addresses"" % cls.__tablename__,
            cls.metadata,
            Column(""address_id"", ForeignKey(""address.id""), 
                                primary_key=True),
            Column(""%s_id"" % cls.__tablename__, 
                                ForeignKey(""%s.id"" % cls.__tablename__), 
                                primary_key=True),
        )
        return relationship(Address, secondary=address_association, 
                    backref=""%s_parents"" % cls.__name__.lower())

class Customer(HasAddresses, Base):
    name = Column(String)

class Supplier(HasAddresses, Base):
    company_name = Column(String)

engine = create_engine('sqlite://', echo=True)
Base.metadata.create_all(engine)

session = Session(engine)

a1 = Address(
            street='123 anywhere street',
            city=""New York"",
            zip=""10110"")
a2 = Address(
            street='40 main street',
            city=""San Francisco"",
            zip=""95732"")

session.add_all([
    Customer(
        name='customer 1', 
        addresses=[a1, a2]
    ),
    Supplier(
        company_name=""Ace Hammers"",
        addresses=[a1]
    ),
])

session.commit()

for customer in session.query(Customer):
    for address in customer.addresses:
        print address.all_owners
"
3572,44357,python print dictionary tuples in order grid format,">>> from collections import OrderedDict
>>> a=OrderedDict()
>>> s=sorted(d.items())
>>> for i,j in s:
...  a.update({i:j})
... 
>>> a
OrderedDict([((0, 0), 0.01), ((0, 1), 0.01), ((0, 2), 0.01), ((0, 3), 0.01), ((0, 4), 0.01), ((0, 5), 0.01), ((0, 6), 0.01), ((0, 7), 0.01), ((0, 8), 0.01), ((0, 9), 0.01), ((1, 0), 0.01), ((1, 1), 0.01), ((1, 2), 0.01), ((1, 3), 0.01), ((1, 4), 0.01), ((1, 5), 0.01), ((1, 6), 0.01), ((1, 7), 0.01), ((1, 8), 0.01), ((1, 9), 0.01), ((2, 0), 0.01), ((2, 1), 0.01), ((2, 2), 0.01), ((2, 3), 0.01), ((2, 4), 0.01), ((2, 5), 0.01), ((2, 6), 0.01), ((2, 7), 0.01), ((2, 8), 0.01), ((2, 9), 0.01), ((3, 0), 0.01), ((3, 1), 0.01), ((3, 2), 0.01), ((3, 3), 0.01), ((3, 4), 0.01), ((3, 5), 0.01), ((3, 6), 0.01), ((3, 7), 0.01), ((3, 8), 0.01), ((3, 9), 0.01), ((4, 0), 0.01), ((4, 1), 0.01), ((4, 2), 0.01), ((4, 3), 0.01), ((4, 4), 0.01), ((4, 5), 0.01), ((4, 6), 0.01), ((4, 7), 0.01), ((4, 8), 0.01), ((4, 9), 0.01), ((5, 0), 0.01), ((5, 1), 0.01), ((5, 2), 0.01), ((5, 3), 0.01), ((5, 4), 0.01), ((5, 5), 0.01), ((5, 6), 0.01), ((5, 7), 0.01), ((5, 8), 0.01), ((5, 9), 0.01), ((6, 0), 0.01), ((6, 1), 0.01), ((6, 2), 0.01), ((6, 3), 0.01), ((6, 4), 0.01), ((6, 5), 0.01), ((6, 6), 0.01), ((6, 7), 0.01), ((6, 8), 0.01), ((6, 9), 0.01), ((7, 0), 0.01), ((7, 1), 0.01), ((7, 2), 0.01), ((7, 3), 0.01), ((7, 4), 0.01), ((7, 5), 0.01), ((7, 6), 0.01), ((7, 7), 0.01), ((7, 8), 0.01), ((7, 9), 0.01), ((8, 0), 0.01), ((8, 1), 0.01), ((8, 2), 0.01), ((8, 3), 0.01), ((8, 4), 0.01), ((8, 5), 0.01), ((8, 6), 0.01), ((8, 7), 0.01), ((8, 8), 0.01), ((8, 9), 0.01), ((9, 0), 0.01), ((9, 1), 0.01), ((9, 2), 0.01), ((9, 3), 0.01), ((9, 4), 0.01), ((9, 5), 0.01), ((9, 6), 0.01), ((9, 7), 0.01), ((9, 8), 0.01), ((9, 9), 0.01)])
"
28413,5615,How can I set dataless areas of a hist2d plot to the zero-value color?,"figure()
#imshow(np.array([[0] * 8] * 12), extent=[-6, 6, -4.5, 4.5])
hist2d(xval, yval, bins=1000, range=np.array([(-6, 6), (-4.5, 4.5)]))
xlim([-6, 6])
ylim([-4.5, 4.5])
"
26068,70089,Can I have multiple Python fabfiles in one project directory?,"@hosts(server1)
def server1_task():
    ...

@hosts(server2)
def server2_task():
    ...
"
19282,68551,Python: get timezone based on DST for a timestamp,"def local_ephemeral_UTC_offset(epoch_time=None):
  u""Returns a datetime.timedelta object representing the local time offset from UTC at the moment""
  if epoch_time == None:
    epoch_time = time()
  return datetime.fromtimestamp(epoch_time) - datetime.utcfromtimestamp(epoch_time)
"
818,31053,Getting request param from url,">>> from urlparse import parse_qs
>>> parse_qs('next=/contact/200/10626096&back%3DZHViYWkuZHViaXp6bGUubmxoL2NsYXNzaWZpZWQvYXV0b3M0eDRzL2FjdXJhL2NzeGVsLz95ZWFyX19ndGU9JmFkZGVkX19ndGU9JnNlbGxlcl90eXBlPSZpc19zZWFyY2g9MSZraWxvbWV0ZXJzX19ndGU9JnByaWNlX19ndGU9JnBsYWNlc19faWRfX2luPUVudGVyK0xvY2F0aW9uJTI4cyUyOStIZXJlJnBsYWNlc19faWRfX2luPSZ5ZWFyX19sdGU9MjAxMiZraWxvbWV0ZXJzX19sdGU9JmtleXdvcmRzPSZpc19iYXNpY19zZWFyY2hfd2lkZ2V0PTAmcHJpY2VfX2x0ZT0%3D')
{'next': ['/contact/200/10626096']}
"
3928,61906,Retrieve the selection of a listbox or selectmode = extended in tkinter python,"for index in liste1.curselelction:
    item = liste1.get(index)
    print index, "":"", item
"
2775,24003,How to get full user name in the output of 'top' command in *nix?,"getent passwd | grep <UID> | awk -F: '{ print $1; }'
"
7733,76197,Python - question regarding the concurrent use of `multiprocess`,"from threading import Semaphore
sem = Semaphore(10)
with sem:
    make_multiprocessing_call()
"
3674,6605,Have Python print lines at different times,"import time
strings = [""Hello"",""My name is blahblah"",""This is blah blah"",""blah blah"",""What's your name?""]

for txt in strings:
    print txt
    time.sleep(1)
"
20933,27041,I need an object to do anything,"class Three(object):
    def __getattr__(self, name):
        return lambda *args, **kw: 3
"
36214,80544,show images on the templates of django using google app engine,"class BlobstoreImageHandler(blobstore.handler.BlobstoreDownloadHandler):
  def get(self, resource):
    resourse = str(urllib.unquote(resource))
    blob_info = blobstore.BlobInfo.get(resource)
    self.send_blob(blob_info)
"
22146,21062,How to change the characters used for QTextOption.ShowTabsAndSpaces?,"QChar visualTab(0x2192);
...
QChar visualSpace((ushort)0xb7);
"
3362,34762,Filling in missing data in pandas dataframe,"df = pd.DataFrame({'index_0': ['a', 'a', 'b', 'b', 'b'], 
                   'index_1': ['A', 'B', 'A', 'B', 'C'], 
                   'vals': [1, 2, 3, 4, 5]}).set_index(['index_0', 'index_1'])

>>> df 
                 vals
index_0 index_1      
a       A           1
        B           2
b       A           3
        B           4
        C           5

idx = pd.MultiIndex.from_product([df.index.levels[0], df.index.levels[1]], 
                                 names=df.index.names)
new_df = pd.DataFrame({'_dummy_': [1] * len(idx)}, index=idx).join(df)
del new_df['_dummy_']

>>> new_df
                 vals
index_0 index_1      
a       A           1
        B           2
        C         NaN
b       A           3
        B           4
        C           5
"
33688,24231,fast numpy addnan,">>> x = np.array([1, 2, np.nan, 3, np.nan, 4])
... y = np.array([1, np.nan, 2, 5, np.nan, 8])
>>> x = np.ma.masked_array(np.nan_to_num(x), mask=np.isnan(x) & np.isnan(y))
>>> y = np.ma.masked_array(np.nan_to_num(y), mask=x.mask)
>>> (x+y).filled(np.nan)
array([  2.,   2.,   2.,   8.,  nan,  12.])
"
10845,77168,Python define a word?,"def find(x):
    srch=str(x)
    x=urllib2.urlopen(""http://dictionary.reference.com/browse/""+srch+""?s=t"")
    x=x.read()
    items=re.findall('<meta name=""description"" content=""'+"".*$"",x,re.MULTILINE)
    for x in items:
        y=x.replace('<meta name=""description"" content=""','')
        z=y.replace(' See more.""/>','')
        m=re.findall('at Dictionary.com, a free online dictionary with pronunciation,              synonyms and translation. Look it up now! ""/>',z)
        if m==[]:
            if z.startswith(""Get your reference question answered by Ask.com""):
                print ""Word not found! :(""
            else:
                print z
    else:
            print ""Word not found! :(""
x=raw_input(""Enter word to find: "")
find(x)
"
3969,21236,"Odoo : Computed fields, don't update in some case?","@api.multi
@api.depends('field_x')
def _compute_field_to_compute(self):
    # prefetch
    data = {d['id']: d['field_to_compute']
            for d in self.read(['field_to_compute'])}
    for record in self:
        if record.field_x == '123456':
            record.field_to_compute = '654321'
        else:
            record.field_to_compute = data.get(record.id, 'default')
"
15765,53506,Filter Pandas DataFrame using another DataFrame,"In [11]: g = df1.groupby(level='Group')

In [12]: g.apply(lambda x: x <= df2.loc[x.name])
Out[12]: 
              2000-01-04 2000-01-05
Group Element                      
1     A            False      False
      X            False      False
      C            False      False
      Y             True       True
      H            False      False
"
32098,58398,How to get grid information from pressed Button in tkinter?,"button = Button(..., command=lambda row=i, column=j: doSomething(row, column))
"
24959,75243,Directory Listing based on time,"import os

def sorted_ls(path):
    mtime = lambda f: os.stat(os.path.join(path, f)).st_mtime
    return list(sorted(os.listdir(path), key=mtime))

print(sorted_ls('documents'))
"
11016,21720,Grouping Output Pattern in Regex- Python,"import re
regex = re.compile('(.*)(?:India)')
with open(""D:/txt_res/abc.txt"") as f:
    for line in f:
        match = regex.search(line)
        if match is not None:
            print(match)
"
16234,62216,How to generate a number of n-bit in length using python?,">>> import random
>>> random.getrandbits(10)
688L
"
34365,41233,Python multiprocessing with arrays and multiple arguments,"def LoadTimeFiles(i):
   from pandas import read_csv
   import h5py as h5
   dataFile = h5.File('data.h5','r+')
   rFile = dataFile['files'][i]
   data = dataFile['data']
   lheader = len(data[0,:,0])
   numPts = len(data[0,0,:])
   allData = read_csv(rFile,delimiter=""\t"",skiprows=2,header=None,low_memory=False).T
   for j in range(0,lheader):
      data[i,j,:] = allData[0][j*numPts:(j+1)*numPts]
   del allData
   dataFile.close()

def LoadTimeFilesParallel(np):
   from multiprocessing import Pool, freeze_support
   import h5py as h5
   files = h5.File('data.h5','r')
   numFiles = len(files['data'][:,0,0])
   files.close()
   pool = Pool(np)
   freeze_support
   pool.map(LoadTimeFiles,range(numFiles))

if __name__ == '__main__':
   np = 5
   LoadTimeFilesParallel(np)
"
33417,49709,Accessing Celery instance outside of Virtualenv,"$ python
>>> from celery import Celery
>>> Celery(broker='amqp://').send_task('tasks.add', (2, 2))
"
6270,42766,How to check if a Raw(unmounted) Windows Drive exists in Python,"import ctypes
drive_name = ""PhysicalDrive1""
target = (ctypes.c_wchar * 32768)(); # Creates an instance of a character array
target_len = ctypes.windll.kernel32.QueryDosDeviceW(drive_name, target, len(target))
if not target_len:
     print(""The device does not exist"")
else:
     print(""The device exists"")
"
39686,68392,Scrapy spider not including all requested pages,"from scrapy.spider import Spider
from scrapy.selector import Selector
from scrapy.http import Request
import re

from yelp2.items import YelpReviewItem

RESTAURANTS = ['sixteen-chicago']

def createRestaurantPageLinks(self, response):
    reviewsPerPage = 40
    sel = Selector(response)
    totalReviews = int(sel.xpath('//div[@class=""rating-info clearfix""]//span[@itemprop=""reviewCount""]/text()').extract()[0].strip().split(' ')[0])
    pages = [Request(url=response.url + '?start=' + str(reviewsPerPage*(n+1)), callback=self.parse) for n in range(totalReviews/reviewsPerPage)]
    return pages

class YelpXSpider(Spider):
    name = ""yelpx""
    allowed_domains = [""yelp.com""]
    start_urls = ['http://www.yelp.com/biz/%s' % s for s in RESTAURANTS]

    def parse(self, response):
        requests = []

        sel = Selector(response)
        reviews = sel.xpath('//div[@class=""review review-with-no-actions""]')
        items = []

        for review in reviews:
            item = YelpReviewItem()
            item['venueName'] = sel.xpath('//meta[@property=""og:title""]/@content').extract()
            item['reviewer'] = review.xpath('.//li[@class=""user-name""]/a/text()').extract()
            item['reviewerLoc'] = review.xpath('.//li[@class=""user-location""]/b/text()').extract()
            item['rating'] = review.xpath('.//meta[@itemprop=""ratingValue""]/@content').extract()
            item['reviewDate'] = review.xpath('.//meta[@itemprop=""datePublished""]/@content').extract()
            item['reviewText'] = review.xpath('.//p[@itemprop=""description""]/text()').extract()
            item['url'] = response.url
            yield item

        if response.url.find('?start=') == -1:
            requests += createRestaurantPageLinks(self, response)
            for request in requests:
                    yield request
"
13762,72276,Filter pandas DataFrame by column time value,"In [141]:
t=""""""2015-01-01 04:00:00
2015-01-01 05:00:00
2015-01-01 06:00:00
2015-01-01 07:00:00
2015-01-02 04:00:00
2015-01-02 05:00:00
2015-01-02 06:00:00
2015-01-02 07:00:00""""""
s = pd.read_csv(io.StringIO(t), parse_dates=[0], header=None, names=['date'])
s[s['date'].dt.hour == 6]

Out[141]:
                 date
2 2015-01-01 06:00:00
6 2015-01-02 06:00:00
"
34499,23742,How to get an intraday price - volume plot in Pandas?,"import matplotlib as mpl
import matplotlib.pyplot as plt

plt.style.use('ggplot')
import pandas as pd
import numpy as np
from datetime import datetime

n = 100
idx = pd.date_range(start=datetime(2016, 1, 1, 10), freq='10Min', periods=n)
data = pd.DataFrame(data={'price': np.cumsum([0.0001] * n + np.random.random(n)),
                          'volume': np.random.randint(low=100, high=10000, size=n)}, index=idx)

fig, ax = plt.subplots(nrows=2, sharex=True, figsize=(15,8))

ax[0].plot(data.index, data.price)
ax[1].bar(data.index, data.volume, width=1/(5*len(data.index)))

xfmt = mpl.dates.DateFormatter('%H:%M')
ax[1].xaxis.set_major_locator(mpl.dates.HourLocator(interval=3))
ax[1].xaxis.set_major_formatter(xfmt)

ax[1].xaxis.set_minor_locator(mpl.dates.HourLocator(interval=1))
ax[1].xaxis.set_minor_formatter(xfmt)

ax[1].get_xaxis().set_tick_params(which='major', pad=25)

fig.autofmt_xdate()
plt.show()
"
2664,31840,multiple threads of QWebView in PyQt4,"#!/usr/bin/env python
from PyQt4.QtCore import pyqtSlot, QObject, QSignalMapper, QTimer
from PyQt4.QtGui import QApplication
from PyQt4.QtWebKit import QWebView


class bookie(QObject):
    def __init__(self, parent=None):
        super(bookie, self).__init__(parent)

        self.count  = 0
        self.url    = 'http://some website.com/search?param={0}'
        self.params = range(100) # instead of [1,2,3,4,5,6,7,8,9,10,11,12] and so on...

        Grabber = QWebView # This would be your Grabber class

        self.mapper = QSignalMapper(self)
        self.mapper.mapped.connect(self.on_mapper_mapped)

        for grabberNumber in range(10): # Create 10 Grabber instances
            grabber = Grabber()
            grabber.loadFinished.connect(self.mapper.map)

            self.mapper.setMapping(grabber, grabberNumber)

            grabber.loadFinished.emit(True) # Initialize the grabber by emitting loadFinished

    def on_mapper_mapped(self, gNumber):
        self.count += 1
        if self.count < len(self.params):
            gParam  = self.params[self.count]   
            grabber = self.mapper.mapping(gNumber)
            #grabber.load(QUrl(self.url.format(gParam)))

            # Next 2 lines for testing purposes, remove & uncomment the previous line

            print ""GRABBER:"", gNumber, ""PARAMETER:"", gParam
            QTimer.singleShot(1, lambda:grabber.loadFinished.emit(True)) 

if __name__ == ""__main__"":
    import  sys

    app = QApplication(sys.argv)
    main = bookie()
"
31237,20906,Writing title for a figure with calculated values NetworkX,"plt.title('<C>={}'.format(y))
"
20531,4275,Can I make a python package depend on different packages by OS?,"# setup.py
...
setup(
...

    install_requires=[""pbs"" if os.name == 'nt' else ""sh""]
...
)
"
30330,29169,Automatically setting the value of a field based on another with SQLAlchemy,"class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(100), nullable=False)
    slug = db.Column(db.String(200), nullable=False)

    def __init__(self, name):
        self.name = name
        self.slug = slugify(name)
"
3804,44773,QTreeView header display text,"QStandardItemModel model;
model.setColumnCount (1);
model.setHeaderData (0, Qt::Horizontal, ""Player"");
QList<QStandardItem*> row;
row << new QStandardItem(""Adam"");
model.appendRow (row);
QTreeView view;
view.setModel (&model);
"
23620,75261,How to route user to another url Jinja,"from flask import Flask, redirect, request, render_template
app = Flask(""app_name"")

@app.route('/', methods=[""GET"", ""POST""])
def login_route():
    if request.method == ""GET"":
        return render_template(""login_page.html"")
    elif request.method == ""POST"":
        # Login user
        return redirect(""main_page"", code=303)

@app.route(""/"")
def main_page():
    return ""I'm the main page.""

app.run(host=""0.0.0.0"", port=5001)
"
8338,67093,Python hide ticks but show tick labels,"fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot([1],[1])
ax.tick_params(axis=u'both', which=u'both',length=0)
plt.show()
"
12415,32287,python get elements in array by column name like in php,"d = {'name': 'user'}
print d['name']
user
"
7136,68569,Django: Add another subclass in a class based view,"class GeneralParent(object):
   def __init__(self,*args,**kwargs):
       #SETTING Up different variables 
       super(GeneralParent,self).__init__(*args,**kwargs)
       self.LoggedIn = false
   def isLoggedIn(self):
       return self.LoggedIn

class FirstView(GeneralParent,TemplateView):
   ####other stuff##
   def get_context_data(self, **kwargs):
        context = super(FirstView, self).get_context_data(**kwargs)
        allLeads = len(self.getAllLeads())
        context['isLoggedIn'] = ####CALL GENEREAL PARENT CLASS METHOD###

        return context

class SecondView(GeneralParent,FormView):
####other stuff##
   def get_context_data(self, **kwargs):
        context = super(SecondView, self).get_context_data(**kwargs)
        allLeads = len(self.getAllLeads())
        context['isLoggedIn'] = ####CALL GENEREAL PARENT CLASS METHOD###

        return context
"
15682,64701,Calculating Active dates based on gap length using Pandas Dataframes,"In [57]:

inactive_index = df[df['activity_date'].diff() > pd.Timedelta(5, 'd')]
inactive_index
Out[57]:
   id activity_date
4   1    2015-01-14

In [18]:

inactive.index
Out[18]:
Int64Index([4], dtype='int64')
In [58]:

df.iloc[:inactive.index[0]]
Out[58]:
   id activity_date
0   1    2015-01-01
1   1    2015-01-02
2   1    2015-01-04
3   1    2015-01-06
"
10893,77348,Python string split combination,"import re
from itertools import product

def getranges(s):
    for a, b in re.findall(r""\[(\d+)-(\d+)\]"", s):
        yield range(int(a), int(b)+1)

def strcombs(s):
    for r in product(*getranges(s)):
        it = iter(str(i) for i in r)
        yield re.sub(r""\[\d+-\d+\]"", lambda _: next(it), s)

s = ""123[4-6][1-2]""
print(list(strcombs(s)))    # ['12341', '12342', '12351', '12352', '12361', '12362']
"
34117,26009,Why does subprocess.Popen hang when opening gnugo?,"import subprocess
game = subprocess.Popen(['gnugo', '--mode', 'gtp'], stdin=subprocess.PIPE)
game.stdin.write(b""..."")
...
"
28933,48710,Python - add colorbars in multiple plots for each plot,"tick = np.linspace(min(your_variable),max(your_variable),3)

plt.tight_layout(pad=0.5, w_pad=2.5, h_pad=2.0)
ax1 = plt.subplot(131) # creates first axis
ax1.set_xticks([0,2000,500,1000,1500])
ax1.set_yticks([0,2000,500,1000,1500])
i1 = ax1.imshow(U,cmap='hot',extent=(X.min(),2000,Y.min(),2000))
plt.colorbar(i1,ax=ax1,ticks=tick)

ax1.set_title(""$ \mathrm{Ux_{mes} \/ (pix)}$"")
ax2 = plt.subplot(132) # creates second axis
ax2.set_xticks([0,2000,500,1000,1500])
ax2.set_yticks([0,2000,500,1000,1500])
i2=ax2.imshow(UU,cmap='hot',extent=(X.min(),2000,Y.min(),2000))
ax2.set_title(""$\mathrm{Ux_{cal} \/ (pix)}$"")
plt.colorbar(i2,ax=ax2,ticks=tick)

ax3 = plt.subplot(133) # creates first axis
ax3.set_xticks([0,2000,500,1000,1500])
ax3.set_yticks([0,2000,500,1000,1500])
i3 = ax3.imshow(resU,cmap='hot',extent=(X.min(),2000,Y.min(),2000))
ax3.set_title(""$\mathrm{\mid Ux - Ux \mid \/ (pix)}$ "")
plt.colorbar(i3,ax=ax3,ticks=tick)

plt.show()
"
18582,54195,__new__ not calling __init__ when correct class,"def __setstate__(self, state):
    self.__dict__.update(state)
    # do other things that need to be set on unpickling.
"
39248,36660,Cannot construct tkinter.PhotoImage from PIL Image,"from tkinter import *
from PIL import ImageTk, Image

def image_resize(imageFile):
    width = 500
    height = 300
    image = Image.open(imageFile)
    im2 = image.resize((width,height), Image.ANTIALIAS)
    return im2

def show_image():
    label_originalimage ['image'] = image_tk

root = Tk()
filename = './Pictures/Space/AP923487321702.jpg'
image_resize = image_resize(filename)
image_tk = ImageTk.PhotoImage(image_resize)

label_originalimage = Label(root)
label_originalimage.pack()

button_open = Button(root, text='Open Image', command=show_image)
button_open.pack()

root.mainloop()
"
37407,84032,Is there a way in python to compare strings for unique character,"def unique_chars(words):
    taken = set()
    uniques = []

    for word in words:
        for char in word:
            if char not in taken:
                taken.add(char)
                uniques.append(char)
                break
        else:
            raise ValueError(""There are no unique letters left!"")

    return uniques
"
5159,25412,Overriding len in __init__.py - python,"import __builtin__ as builtins # import builtins in python 3
llen = len
builtins.len = lambda a:llen(a) - 1
"
9233,28397,Python function: Optional argument evaluated once?,">>> def foo(bar='spam', eggs=[]):
...     eggs.append(bar)
...     return eggs
... 
>>> foo.__defaults__
('spam', [])
>>> foo()
['spam']
>>> foo.__defaults__
('spam', ['spam'])
>>> foo() is foo.__defaults__[1]
True
"
26740,25893,Adding data to a C buffer passed to a Python Ctypes callback,"libc = ctypes.cdll.LoadLibrary('libc.so.6')
content = 'My new content'
bufcontent = ctypes.create_string_buffer(content)
libc.memcpy(buffer. newcontent, min(len(content) + 1, bufferlen))
"
35180,1854,Getting data from a long function to update a GUI,"def runTest(self):
    Thread(target=buttonTest, args=(self,)).start()
"
37536,11053,"python alternative to scan('file', what=list(...)) in R","from itertools import islice, izip_longest

with open('input') as fin:
    # Skip header(s) at start
    after5 = islice(fin, 5, None)
    # Take remaining data and group it into groups of 4 lines each... The
    # first 2 are float data, the 3rd is two integers together, and the 4th
    # is the blank line between groups... We use izip_longest to ensure we
    # always have 4 items (padded with None if needs be)...
    for lines in izip_longest(*[iter(after5)] * 4):
            # Convert first two lines to float, and take 3rd line, split it and
            # convert to integers
        print map(float, lines[:2]) + map(int, lines[2].split())

#[0.0, 0.0, 0, 1]
#[0.0, 0.01, 0, 1]
"
5882,84812,"Selenium / Python - target a ""loading"" gif and perform action upon the .gif disappearing?","from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait # available since 2.4.0
from selenium.webdriver.support import expected_conditions as EC # available since 2.26.0

ff = webdriver.Firefox()
ff.get(""http://somedomain/url_that_delays_loading"")
element = WebDriverWait(ff, 10).until(EC.visibility_of_element_located((By.CLASS_NAME, ""rf-st-stop"")))
"
17614,37922,Python Imports From The Directory Above,"import sys
sys.path.append('/your/dir/goes/here')
from base import foo
"
6405,47042,Unwanted removal of some stopwords in scikitlearn,"In [71]: from sklearn.feature_extraction.text import CountVectorizer
In [72]: corpus = ['I like my coffee with a shot of rum.']

In [73]: vec = CountVectorizer()
In [74]: vec.fit(corpus)
In [75]: vec.vocabulary_

Out[75]: {'coffee': 0, 'like': 1, 'my': 2, 'of': 3, 'rum': 4, 'shot': 5, 'with': 6}

In [76]: vec = CountVectorizer(token_pattern='(?u)\\b\\w+\\b')
In [77]: vec.fit(corpus) 
In [78]: vec.vocabulary_
Out[78]: {'a': 0, 'coffee': 1, 'i': 2, 'like': 3, 'my': 4, 'of': 5, 'rum': 6, 'shot': 7, 'with': 8}
"
33847,53187,Tornado @gen.coroutine closes long polling connection,"# If @asynchronous is used with @gen.coroutine, (but
# not @gen.engine), we can automatically finish the
# request when the future resolves.  Additionally,
# the Future will swallow any exceptions so we need
# to throw them back out to the stack context to finish
# the request.
"
18103,23252,Error Message: TypeError: unsupported operand type(s) for -: 'str' and 'float',"credit = raw_input(""Please input your change, CAREFUL! This Machine only accepts 10p,20p,50p and Â£1: "")
list1= [""1"", ""2"", ""3"", ""4"", ""5""]
price1 = 0.65
price2 = 0.70
price3 = 0.50
price4 = 0.70
price5 = 0.80
while credit == 0:
   credit = raw_input(""Please input your change: "")
products = "" 1) Kinder Bueno\n 2) Doritos Chilli Heatwave\n 3) Nestle Yorkie Bar\n 4) Coca Cola(Can)\n 5) Volvic Stawberry Water""
print credit
print ""The product selection is the following""
print products
selection = raw_input(""Please select a product: "")
if selection == list1[0]:
   new_credit = int(credit) - price1  # NOTE THE CHANGE HERE :)
   print new_credit
"
11860,4880,What happens if i try to split a string that cannot be split in python?,">>> 'one_vertex\n'.split()
['one_vertex']
>>> 'one_vertex\n'.split()[1:]
[]
"
15586,2547,"Test if set is a subset, considering the number (multiplicity) of each element in the set",">>> class Multi_set(Counter):
    def __le__(self, rhs):
        return all(v == rhs[k] for k,v in self.items())


>>> Multi_set(['a','b','c']) <= Multi_set(['a','b','c','d','e'])
True
>>> Multi_set(['a','a','b','c']) <= Multi_set(['a','b','c','d','e'])
False
>>> Multi_set(['a','a','b','c']) <= Multi_set(['a','a','b','c','d','e'])
True
>>> 
"
27262,16051,Python command line: ignore indentation,">>> if 1:
...     print 1
...
1
"
4182,12141,python formating float numbers,">>> print ""Value: %.2f"" % 3.0000
"
19793,32203,How to turn a dictionary into attribute = value,">>> d = {}
>>> d['test'] = ""foo""
>>> locals().update(d)
>>> test
'foo'
"
483,46630,View Commands in Pipeline in Redis-Py?,"In [17]: p.hset('blah', 'meh', 1)
Out[17]: <redis.client.StrictPipeline at 0x10d4dde90>

In [18]: p.hset('foo', 'bar', 1)
Out[18]: <redis.client.StrictPipeline at 0x10d4dde90>

In [19]: p.command_stack
Out[19]: [(('HSET', 'blah', 'meh', 1), {}), (('HSET', 'foo', 'bar', 1), {})]
"
35181,28415,Python/Pandas - Duplicating an index in a new column in a Pandas DataFrame,"df['Number'] = df.index.astype(str)

   Name  Number
1   Rob       1
2  Mark       2
3  Alex       3
"
31855,26892,Opening custom file types in cxFreeze complied python executable on opening file,"import argparse
parser=argparse.ArgumentParser()
parser.add_argument(""cubefile"",nargs=""?"",default=False)
#'nargs=""?""' makes the argument optional
#-meaning an error will not be thrown if no file is parsed on execution
args=parser.parse_args()
if args.universefile != False:
    init_defaultcube = cubetools.getCubeFromCubeFileDir(args.universefile)
    #cubetools is my class and getCubeFromCubeFileDir just interprets the text in the file
"
33715,54819,Howto replace different values with tags in string?,"import re
s = 'Lorem ipsum dolor [mytag]something[/mytag]sit amet, ipsum [mytag]something else[/mytag]a laoreet ultricies'
print re.sub(r'\[mytag\](.+?)\[/mytag\]', r'<img src=""\1"">', s)
"
32291,69439,Numpy change all elements on condition on multidimensional array,"import numpy as np

# Make an example image
image = np.random.randint(0, 255, (10, 10, 3))
image[2, 2, :] = [255, 0, 0]

# Define the color you're looking for
pattern = np.array([255, 0, 0])

# Make a mask to use with where
mask = (image == pattern).all(axis=2)
newshape = mask.shape + (1,)
mask = mask.reshape(newshape)

# Finish it off
image = np.where(mask, [0, 0, 0], [255, 255, 255])
"
30242,27666,Pandas remove duplicates with a criteria,">>> d.loc[~d.Var1[(d.Var1 == d.Var2).argsort()].duplicated('last')]

  Var1 Var2  Value
0    A    A     34
2    B    B     23
5    C    C     77
6    D    Q    100
7    E    N    102
8    F    P     44
"
21189,61742,How to create of Numpy array of datetime64 objects using C API?,"PyObject* create_datetime_array(int index, std::string const &dtype)
{
    int buffer_size = this->elements_count*sizeof(omd::OT_int64);
    npy_intp dims = this->elements_count;
    PyObject *date_type = Py_BuildValue(""s"", dtype.c_str());
    PyArray_Descr *descr;
    PyArray_DescrConverter(date_type, &descr);
    Py_XDECREF(date_type);
    PyObject *arr = PyArray_SimpleNewFromDescr(1, &dims, descr);
    memcpy(PyArray_BYTES((PyArrayObject *)arr), &(this->int64_data[index][0]), buffer_size);
    return arr;
}
"
15441,33595,PySimpleSoap and wsdl,"response = c.remoteAdministrationCall(
    loginId='admin@yellowfin.com.au',
    password='test',
    function='LOGINUSER',
    orgId=1,
    person={'userId': 'myuser@user.com', 'password': 'reset123'}
)
"
29006,44136,How to parse JSF style XHTML,"from BeautifulSoup import BeautifulSoup
import re

soup = BeautifulSoup(<your_xml_here>)
nodes = soup.findAll(name=re.compile('^h:input'))
for node in nodes:
    if 'id' not in dict(node.attrs):
        node['id'] = <whatever you need>
"
22729,81143,Find even multiples of a number in a list using Python,"from numpy import mod, floor
withinTolAbove=[int(mod(number, myNumber) <= myTolerance and
                mod(floor(number / myNumber), 2) == 0) for number in myList]
withinTolBelow=[int(mod(number + myTolerance, myNumber) <= myTolerance and
                mod(floor((number + myTolerance) / myNumber), 2) == 0) for number in myList]
myResult=[max(i1, i2) * int(number > myTolerance) for i1, i2, number in zip(withinTolAbove, withinTolBelow, myList)]
"
37841,81664,How do I query for a set of all unique values present in my table?,"unique_emails = OwnerTransition.objects.order_by('owner_email').values('owner_email').distinct()
"
14688,77623,"Python: speed for ""in"" vs regular expression",">>> import time, re
>>> if True:
...     s = time.time()
...     ""aaaa"" in ""bbbaaaaaabbb""
...     print time.time()-s
... 
True
1.78813934326e-05

>>> if True:
...     s = time.time()
...     pattern = re.compile(""aaaa"")
...     pattern.search(""bbbaaaaaabbb"")
...     print time.time()-s
... 
<_sre.SRE_Match object at 0xb74a91e0>
0.0143280029297
"
19767,75862,Plotting a line over several graphs,"from matplotlib import pyplot as plt
from numpy import arange, sin, cos

xx = arange(100)
cut = (xx > 0) & (xx % 17 == 0)
y1 = sin(xx)
y2 = (xx**2) % 2.0+cos(xx+0.5)

fig = plt.figure()
ax1 = fig.add_subplot(211)
ax1.plot(xx, y1, c=""blue"",zorder=1)
ax1.scatter(xx[cut], y1[cut], c=""red"",zorder=2)
ax2 = fig.add_subplot(212)
ax2.plot(xx, y2, c=""green"",zorder=1)
ax2.scatter(xx[cut], y2[cut], c=""red"",zorder=2)

for x in xx[cut]:
    ax1.axvline(x=x,ymin=-1.2,ymax=1,c=""red"",linewidth=2,zorder=0, clip_on=False)
    ax2.axvline(x=x,ymin=0,ymax=1.2,c=""red"",linewidth=2, zorder=0,clip_on=False)

plt.draw()
fig.savefig('pic.png')
"
6509,60855,"Python Logging (function name, file name, line number) using a single file","def autolog(message):
    ""Automatically log the current function details.""
    import inspect, logging
    # Get the previous frame in the stack, otherwise it would
    # be this function!!!
    func = inspect.currentframe().f_back.f_code
    # Dump the message + the name of this function to the log.
    logging.debug(""%s: %s in %s:%i"" % (
        message, 
        func.co_name, 
        func.co_filename, 
        func.co_firstlineno
    ))
"
26365,33449,dynamic search with django orm,"from django.db.models import Q
import operator


def dynamic_search(queryset):
    search_fields = [""search_field1"", ""search_field2"", ""search_field3""]
    search_text = ""dummy_text""
    queryset.filter(reduce(operator.or_, [Q(**{'{0}__contains'.format(search_field): search_text}) for search_field in search_fields]))
"
25790,11225,Print from enumerated list in python,"for i in [i for i, x in enumerate(hanksArray) if x == hanksYear]:
        print(hanksArray[i-1])
        print(hanksArray[i])
        print(hanksArray[i+1])
"
33432,7797,How do you get the list data from a wxpyton gui click event?,"def onListView1ListItemSelected(self, event):
    obj     = event.GetEventObject()
    index   = event.GetIndex()
    columns = obj.GetColumnCount()
    data    = []

    for i in range(columns):
        item = obj.GetItem(index, i)
        data.append(item.GetText())

    print(data)
"
29166,37227,Clipboard.Flush() always fails in wxpython app,"import wx

########################################################################
class ClipboardPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)

        lbl = wx.StaticText(self, label=""Enter text to copy to clipboard:"")
        self.text = wx.TextCtrl(self, style=wx.TE_MULTILINE)
        copyBtn = wx.Button(self, label=""Copy"")
        copyBtn.Bind(wx.EVT_BUTTON, self.onCopy)
        copyFlushBtn = wx.Button(self, label=""Copy and Flush"")
        copyFlushBtn.Bind(wx.EVT_BUTTON, self.onCopyAndFlush)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(lbl, 0, wx.ALL, 5)
        sizer.Add(self.text, 1, wx.EXPAND)
        sizer.Add(copyBtn, 0, wx.ALL|wx.CENTER, 5)
        sizer.Add(copyFlushBtn, 0, wx.ALL|wx.CENTER, 5)
        self.SetSizer(sizer)

    #----------------------------------------------------------------------
    def onCopy(self, event):
        """"""""""""
        self.dataObj = wx.TextDataObject()
        self.dataObj.SetText(self.text.GetValue())
        if wx.TheClipboard.Open():
            wx.TheClipboard.SetData(self.dataObj)
            wx.TheClipboard.Close()
        else:
            wx.MessageBox(""Unable to open the clipboard"", ""Error"")

    #----------------------------------------------------------------------
    def onCopyAndFlush(self, event):
        """"""""""""
        self.dataObj = wx.TextDataObject()
        self.dataObj.SetText(self.text.GetValue())
        if wx.TheClipboard.Open():
            wx.TheClipboard.SetData(self.dataObj)
            wx.TheClipboard.Flush()
        else:
            wx.MessageBox(""Unable to open the clipboard"", ""Error"")

        self.GetParent().Close()

########################################################################
class ClipboardFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Clipboard Tutorial"")
        panel = ClipboardPanel(self)
        self.Show()


if __name__ == ""__main__"":
    app = wx.App(False)
    frame = ClipboardFrame()
    app.MainLoop()
"
15574,50792,Keeping a count of words in a list without using any count method in python?,">>> text = ['Andy Fennimore Cooper\n', 'Peter, Paul, and Mary\n','Andy Gosling\n']
>>> data=' '.join(e.strip('\n,.') for e in ''.join(text).split()).split()
>>> data
['Andy', 'Fennimore', 'Cooper', 'Peter', 'Paul', 'and', 'Mary', 'Andy', 'Gosling']
>>> [e for e in data if data.count(e)==1]
['Fennimore', 'Cooper', 'Peter', 'Paul', 'and', 'Mary', 'Gosling']
>>> list({e for e in data if data.count(e)==2})
['Andy']
"
22017,42042,Python 3D array. Calculate R squared,"import numpy as np
import scipy.stats as stats

Array1 = np.random.random((100, 100, 10))
Array2 = np.random.random((100, 100, 10))
resultArray = np.ones(100*100).reshape(100,100)
for i in range(Array1.shape[0]):
        for j in range(Array1.shape[1]):
            slope, intercept, r_value, p_value, std_err = stats.linregress(
                Array1[i, j, :],
                Array1[i, j, :])
            R2 = r_value**2
            resultArray[ i , j ] = R2

print(resultArray)
"
30215,60532,Attachment Image to send by mail using Python,"import os
import smtplib
from email.mime.text import MIMEText
from email.mime.image import MIMEImage
from email.mime.multipart import MIMEMultipart


def SendMail(ImgFileName):
    img_data = open(ImgFileName, 'rb').read()
    msg = MIMEMultipart()
    msg['Subject'] = 'subject'
    msg['From'] = 'e@mail.cc'
    msg['To'] = 'e@mail.cc'

    text = MIMEText(""test"")
    msg.attach(text)
    image = MIMEImage(img_data, name=os.path.basename(ImgFileName))
    msg.attach(image)

    s = smtplib.SMTP(Server, Port)
    s.ehlo()
    s.starttls()
    s.ehlo()
    s.login(UserName, UserPassword)
    s.sendmail(From, To, msg.as_string())
    s.quit()
"
39762,76779,Headers in to_latex,">>> table = [[""spam"",42],[""eggs"",451],[""bacon"",0]]
>>> headers = [""item"", ""qty""]
>>> print tabulate(table, headers, tablefmt=""simple"")
item      qty
------  -----
spam       42
eggs      451
bacon       0
"
5361,43522,Ordering linestring direction algorithm,"def joinSegments( s ):
    if s[0][0] == s[1][0] or s[0][0] == s[1][-1]:
        s[0].reverse()
    c = s[0][:]
    for x in s[1:]:
        if x[-1] == c[-1]:
            x.reverse()
        c += x
    return c
"
3207,73295,Import object attributes as global variables,"for attr in dir(project):
    if not attr.startswith(""_""):
        globals()[attr] = getattr(project, attr)
"
5358,1656,Python- Sieve of Eratosthenes- Compact Python,">>> l = range(2, 101)
>>> sorted(set(l).difference(a for i in l for a in l if a!=i and a%i == 0))
[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97]
"
12644,12348,sympy set: iterate over intervals,">>> union
[2.0, 10.0) U [20.0, 30.0) U {1.0, 15.0, 17.0, 40.0}
>>> union.args
([2.0, 10.0), [20.0, 30.0), {1.0, 15.0, 17.0, 40.0})
"
12348,80587,Python - format datetime with unicode string in Jinja2,"# -*- coding: utf-8 -*-
from jinja2 import Environment, DictLoader
import datetime

def strftime(date, fmt):
    return date.strftime(fmt.encode('utf-8')).decode('utf-8')

env = Environment(loader=DictLoader({'test': u'''Hello {{ d|strftime('%Y å¹´ %m æ') }}!'''}))
env.filters['strftime'] = strftime
t = env.get_template('test')
print t.render(d=datetime.datetime.utcnow())
"
12320,74048,Splitting columns of a numpy array easily,">>> x, y, z = data.T
>>> x
array([1, 4, 7])
"
17595,38632,Creating files in python,"name = raw_input(""What is your name?"")
myFile = open(name + ' score.txt', 'w')
myFile.write('Score: 6')
myFile.close()
"
19308,46544,"python requests - posting multiple values with same key, combined with regular keys","params = {'sites[]': [951, 1007, ...], 'action': 'set', 'extype': 'exclude'}
requests.post('url', data=params)
"
22399,19956,TypeError with Python UDF returned inexplicably,"In [11]: s = pd.Series(['a', 'b,c', np.nan, 'd,e,f'])

In [12]: s.str.split(',')
Out[12]: 
0        [a]
1      [b,c]
2        NaN
3    [d,e,f]
dtype: object
"
21583,84022,Intelligent screen scraping using different proxies and user-agents randomly?,"import urllib2
import time
import random

MAX_WAIT = 5
ids = ...
agents = ...
proxies = ...

for id in ids:
    url = 'http://abc.com/view_page.aspx?ID=%d' % id
    opener = urllib2.build_opener(urllib2.ProxyHandler({'http' : proxies[0]}))
    html = opener.open(urllib2.Request(url, None, {'User-agent': agents[0]})).read()
    open('%d.html' % id, 'w').write(html)
    agents.append(agents.pop()) # cycle
    proxies.append(proxies.pop())
    time.sleep(MAX_WAIT*random.random())
"
36806,24263,"How to break out of the loop only if a certain case is met, but then continue the iteration?","while i < 5:
   do stuff
   if i == 3:
      print ""i is 3""
      continue
"
28607,79911,How to rename file with a sequence that restarts if certain matches exist,"from os import listdir
from os.path import isfile, join, splitext
import shutil
import re

mypath = ""./somewhere/""

# this function taken from an answer to http://stackoverflow.com/questions/4836710/does-python-have-a-built-in-function-for-string-natural-sort
def natural_sort_key(s, _nsre=re.compile('([0-9]+)')):
    return [int(text) if text.isdigit() else text.lower()
        for text in re.split(_nsre, s)]

# Get a list of all files in a directory
infiles = [f for f in listdir(mypath) if isfile(join(mypath, f))]

# Create a set of starting sequences
sequences = {splitext(file)[0].split('_')[0] for file in infiles}

# Now go about changing the files
for seq in sequences:
    files = sorted([f for f in infiles if f.startswith(seq)],
                   key=natural_sort_key) # sort the files, if you like
    for idx, file in enumerate(files):
        new_name = seq + '-' + str(idx + 1) + '.' + splitext(file)[1][1:]
        print(file, "" -> "", new_name)
        # copy or move
        #shutil.copy2(join(mypath,file), join(mypath,new_name))
        #shutil.move(join(mypath,file), join(mypath,new_name))
"
36329,39189,"How to sort a list of objects in Python, based on an attribute of the objects?","# To sort the list in place...
ut.sort(key=lambda x: x.count, reverse=True)

# To return a new list, use the sorted() built-in function...
newlist = sorted(ut, key=lambda x: x.count, reverse=True)
"
33326,20990,Pyqt range input widget and python ranges,"from itertools import chain
def my_range(*args):
    args = map(int,args)                                                               
    if len(args) == 1:
        return args
    return range(args[0], args[1]+1)

def func(strs):
    return list(chain.from_iterable(my_range(*x.split('-')) for x in strs.split(', ')))
strs = ""1, 3-4, 7-9""
print func(strs)
#[1, 3, 4, 7, 8, 9]
"
12603,23649,Python: Using del in for loops,">>> alist = [6,8,3,4,5]
>>> [x for x in alist if x != 8]
[6, 3, 4, 5]
>>> alist = [6,8,8,3,4,5]
>>> [x for x in alist if x != 8]
[6, 3, 4, 5]
>>>
"
25301,45859,How can I load data files in a Jython module?,"import some_module
data = some_module.__loader__.get_data(""path/in/archive/file.txt"")
"
9983,68911,Cosine Similarity of Vectors of different lengths?,"Term | Doc1 | Doc2
Foo     .3     .7
Bar  |  0   |  8
Baz  |  1   |  1
"
3232,4356,Python: get all content of specific XML tags,"xml_tag = dom.getElementsByTagName('person')[0]
xml_data = [elem.nodeValue for elem in dom.getElementsByTagName('name')]
"
35465,82674,Python Pandas Adding conditions on cells with duplicate values,"import pandas as pd


df=pd.DataFrame({'First': [ 'Sam', 'Greg', 'Steve', 'Sam',
                 'Jill', 'Bill', 'Nod', 'Mallory', 'Ping', 'Lamar'],
                 'Last': [ 'Stevens', 'Hamcunning', 'Strange', 'Stevens',
                 'Vargas', 'Simon', 'Purple', 'Green', 'Simon', 'Simon'],
                 'Address': ['112 Fake St','13 Crest St','14 Main St','112 Fake St','2 Morningwood','7 Cotton Dr','14 Main St','20 Main St','7 Cotton Dr','7 Cotton Dr'],
                 'Status': ['Infected','','Infected','','','','','','','Infected'],
                 'Level': [10,2,7,5,2,10,10,20,1,1],
                 })

df2_index = df.groupby(['Address', 'Last']).filter(lambda x: (x['Status'] == 'Infected').any()).index
df2 = df.copy()
df2.loc[df2_index, 'Status'] = 'Infected'

df3_status = df.groupby('Address', as_index=False, group_keys=False).apply(lambda x: pd.Series(list('Infected' if (row['Status'] == 'Infected') or ((x['Status'] == 'Infected') & (x['Level'] != row['Level'])).any() else '' for _, row in x.iterrows()), index=x.index))
df3 = df.copy()
df3['Status'] = df3_status
"
24236,81461,case sensitive string replacement in Python,"from string import maketrans

""Abc"".translate(maketrans(""abcABC"", ""defDEF""))
"
33484,77571,Storing values from a recursive function call,"values = []

def obtainingparams(self, df, tau_1, tau_2, residuals):
    global values

    print('Calculate the yields Matrix and matrix_of_params in this part')

    params = np.linalg.lstsq(matrix_of_params,yields) 
    residuals = np.sqrt(((yields - matrix_of_params.dot(params))**2).sum())  
    tau_1 = tau_1 + 0.2 
    tau_2 = tau_2 + 0.2

    values.append((tau1, tau2, residuals))

    #Checkin how many times the function has been called via a decorator not included in this code
    while self.obtainingparams(self, df, tau_1, tau_2, residuals).called < 5:
        self.obtainingparams(self, df, tau_1, tau_2, residuals)
"
22101,53314,Python: build dictionary from list,"from collections import defaultdict
d = defaultdict(list)
for i,j in enumerate(x):
    d[j].append(i)
"
27741,7941,"python csv text file to array[i,j]","display_list = []

with open('closeparams.txt') as data_file:
   for line in data_file:
      display_list.append(line.strip().split(';'))

print(display_list[0][3]) # [i][j]
"
9975,1318,Missing parts on Beautiful Soup results,">>> len(BeautifulSoup(r.text, 'html').find('td', attrs={'class': 'eelantext'}).find_all('p'))
0
>>> len(BeautifulSoup(r.text, 'lxml').find('td', attrs={'class': 'eelantext'}).find_all('p'))
0
>>> len(BeautifulSoup(r.text, 'html5lib').find('td', attrs={'class': 'eelantext'}).find_all('p'))
22
"
10637,4793,"Set day, month and year of a python time_struct without changing the time",">>> alarm_time = time.strptime('23:46:00', '%H:%M:%S')
>>> today = time.localtime()
>>> time.struct_time(today[:3] + alarm_time[3:])
time.struct_time(tm_year=2013, tm_mon=12, tm_mday=8,
                 tm_hour=23, tm_min=46, tm_sec=0, tm_wday=0,
                 tm_yday=1, tm_isdst=-1)
"
34741,32703,Identifying filtered features after feature selection with scikit learn,"from sklearn.svm import LinearSVC
from sklearn.datasets import load_iris
import numpy as np

iris = load_iris()
X, y = iris.data, iris.target
print X.shape

lsvc = LinearSVC(C=0.01, penalty=""l1"", dual=False)
X_new = lsvc.fit_transform(X, y)
print X_new.shape

print lsvc.coef_

newData = np.random.rand(100,4)
newData_X = lsvc.transform(newData)
print newData_X.shape
"
18420,32832,Making cells independent of each other in a Jupyter notebook,"In [1]: 

    def foo():
        x = 1
        return x
    foo()

In [2]: 

    def bar():
        x = 2
        return x
    bar()
"
39489,67130,Force rdflib to define a namespace,"gg.bind('myprefix1', ns1)
gg.bind('myprefix2', ns1)
"
22204,81796,How to convert 2D float numpy array to 2D int numpy array?,">>> x = np.array([[1.0, 2.3], [1.3, 2.9]])
>>> x
array([[ 1. ,  2.3],
       [ 1.3,  2.9]])
>>> x.astype(int)
array([[1, 2],
       [1, 2]])
"
30128,73221,Line plot with arrows in matplotlib,"import numpy as np
import matplotlib.pyplot as plt

x = np.linspace(0, 2*np.pi, 10)
y = np.sin(x)

plt.figure()
plt.quiver(x[:-1], y[:-1], x[1:]-x[:-1], y[1:]-y[:-1], scale_units='xy', angles='xy', scale=1)

plt.show()
"
17057,13998,How to modify pixel values in numpy array of HSV image data?,"H = image[:,:,0]
V = image[:,:,2]
mask = (H < 20) & (V > 200)
image[mask] = 0
"
9638,44260,got stuck programming https proxy - what to do next?,"conn, addr = server.accept()
request = conn.recv(9999) #get a CONNECT request
# Here, parse the CONNECT string and get the host and port (not sure if you were doing that already.

# Then, try to connect *before* you tell the client the connection was established (in case it fails)
client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) #plaintext client 
client.connect((host, 443)) #connect to chosen host 

conn.send(b'HTTP/1.1 200 Connection estabilished\n\n')

# Then loop until the connections are closed.
while True:
    # Read from the client, send the data to the server.
    enc_req = conn.recv(9999) #this gets an encrypted request
    client.send(enc_req)

    # Read from the server, send the data to the client.
    resp1 = client.recv(9999) #this gets something unreadable (encrypted?)
    #could it be the certificate?
    #now what?
    # The first time it's certainly the Client Hello message, not encrypted, but in a binary format indeed.
    # Just send everything you've just read to the server.
    conn.send(resp1)
"
16,81090,How to jump between lines in for loop in python?,"from itertools import izip
with open('data.txt', 'r') as f:
    for line1, line2 in izip(*(iter(f),) * 2):
        print line1, line2
"
1657,66103,how to read and write INI file with Python?,"import configparser

config = configparser.ConfigParser()
config.read('FILE.INI')
print(config['DEFAULT']['path'])     # -> ""/path/name/""
config['DEFAULT']['path'] = '/var/shared/'    # update
config['DEFAULT']['default_message'] = 'Hey! help me!!'   # create

with open('FILE.INI', 'w') as configfile:    # save
    config.write(configfile)
"
31167,33116,== operator not working on two matching strings,">>> str1 = ""string1""
>>> str2 = ""string2""
>>>
>>> results = [[""string1 "", "" string2""]]
>>> for row in results:
...   if((row[0].strip() == str1) and (row[1].strip() == str2)):
...      print ""We found the match.....""
...
We found the match.....
>>>
"
39697,49486,Is there any way to remove a QWidget in a QGridLayout?,"def remRow(self, row):
    self.gridlayout.removeWidget(self.entries[row])
    self.entries[row].deleteLater()
    del self.entries[row]
"
29506,50958,Python equivalent for batch Choice command,"def choice(options, prompt):
    while True:
        output = input(prompt)    # Use raw_input(prompt) for Python 2.x
        if output in options:
            return output
        else:
            print(""Bad option. Options: "" + "", "".join(options))
"
28127,32674,Python | How to send a JSON response with name assign to it,"jsonValidateReturn = simplejson.dumps({'jsonValidateReturn': array_to_js})
return HttpResponse(jsonValidateReturn, mimetype='application/json') 
"
22335,711,Find indices of elements equal to zero from numpy array,">>> x = numpy.array([1,0,2,0,3,0,4,5,6,7,8])
>>> numpy.where(x == 0)[0]
array([1, 3, 5])
"
29748,19688,Initialising Python properties,"try:
    self._connection.close()
except AttributeError:
    pass
self._connection = psycopg2.connect(connection_string)
return self._connection
"
18796,25405,regular expression - incremental replacement,"n = 1
with open('sourcefile.txt') as input:
    with open('destination.txt', 'w') as output:
        for line in input:
            if line.startswith('%'):
                line = str(n) + line[1:]
                n += 1
            output.write(line)
"
28531,52248,Synchronous way to enter return key after run command in python?,"from subprocess import Popen, PIPE
sp = Popen(my_cmd.split(), stdin=PIPE)
sp.stdin.write('\n')
sp.wait()
"
7168,14055,Can you force os.path.isfile() to use case insensitivity when checking a file on a case-sensitive file system?,"import os

def getfile_insensitive(path):
    directory, filename = os.path.split(path)
    directory, filename = (directory or '.'), filename.lower()
    for f in os.listdir(directory):
        newpath = os.path.join(directory, f)
        if os.path.isfile(newpath) and f.lower() == filename:
            return newpath

def isfile_insensitive(path):
    return getfile_insensitive(path) is not None
"
22968,1784,Creation of a simple HTML file upload page,"if filedata.file: # field really is an upload
    with file(""Beautiful.mp3"", 'w') as outfile:
        outfile.write(filedata.file.read())
"
14087,4355,How can I get a textarea from model+ModelForm?,"from django.forms import ModelForm, Textarea

class PostModelForm(ModelForm):
    class Meta:
        model = Post
        widgets = {
            'content': Textarea(attrs={'cols': 80, 'rows': 20}),
        }
"
35176,10381,Python XMLRPC with concurrent requests,"class RPCThreading(SocketServer.ThreadingMixIn, SimpleXMLRPCServer.SimpleXMLRPCServer):
    pass
"
22624,26039,reconstruct a python dictionary,"result = {}
for key1, middle_dict in my_dict.items():
    for key2, inner_dict in middle_dict.items():
        for key3, value in inner_dict.items():
            result.setdefault(key3, {}).setdefault(key1, {})[key2] = value
"
39591,42716,Base64 decode a section of a string using re and base64 modules,">>> import base64
>>> import lxml.etree
>>> text = ""<attack_headline><site_id>1</site_id><category>U1FMIEluamVjdGlvbg==</category><subcategory>Q2xhc3NpYyBTUUwgQ29tbWVudCAmcXVvdDstLSZxdW90Ow==</subcategory><client_ip>192.168.1.102</client_ip><date>1363807248</date><gmt_diff>0</gmt_diff><reference_id>E711-3EFB-5F43-5FAC</reference_id></attack_headline>""
>>> xml = lxml.etree.fromstring(text)
>>> for tag_with_base64 in ('category','subcategory'):
...     node = xml.find(tag_with_base64)
...     if node:
...         node.text = base64.b64decode(node.text)
>>> lxml.etree.tostring(xml)
'<attack_headline><site_id>1</site_id><category>SQL Injection</category><subcategory>Classic SQL Comment &amp;quot;--&amp;quot;</subcategory><client_ip>192.168.1.102</client_ip><date>1363807248</date><gmt_diff>0</gmt_diff><reference_id>E711-3EFB-5F43-5FAC</reference_id></attack_headline>'
"
20944,60412,How to get the lines in one file which contain a string(with repetition) in another file?,"$ awk 'NR==FNR{a[$1]=$2;next}$0 in a{print $0,a[$0]}' file2 file1
a a1
a a1
b b1
"
3993,32461,"Can I return a list of ALL min tuples, using Python's Min function?","listo = [('a','1'),('b','0'),('c','2'),('d','0')]
minValue = min(listo, key=lambda x: x[1])[1]
minValueList = [x for x in listo if x[1] == minValue]
"
19761,9924,Import vs C's #include,"Explicit is better than implicit.
...
Namespaces are one honking great idea -- let's do more of those!
"
11259,24264,Daylight savings transition at wrong time,"seen = set()

get_datetime = operator.itemgetter('datetime')
for row in data:
    dt = get_datetime(row)

    try:
        localized = timezone.localize(dt, is_dst=None)
    except pytz.NonExistentTimeError:
        localized = timezone.localize(dt, is_dst=True)
        seen = set()
    except pytz.AmbiguousTimeError:
        localized = timezone.localize(dt, is_dst=(dt not in seen)) 
        seen.add(dt)
"
13117,70587,proper way to store class instances in python app,"class Notebook(object):    
     def __init__(self, iteminstance):
        self.lista = [iteminstance]
     def show(self):
        print('Container1 list:')
        for item in self.lista:
            print(item.content)

class Binder(object):    
     def __init__(self, iteminstance):
        self.lista = [iteminstance]
     def show(self):
        print('Container2 list:')
        for item in self.lista:
            print(item.content)

class Note(object):    
    def __init__(self, txt):    
        self.content = txt    

# create Notebook instance and store Note instance in 'lista' list argument    
a=Notebook(Note(5))    
a.show()    

# assign the same Note instance to different container, Binder instance    
b=Binder(a.lista[0])    
b.show()

# check if both containers include the same object    
print(a.lista==b.lista)
>>>True

# change content of the Note instance via Notebook instance    
a.lista[0].content = 10

# check if content has changed in both Notebook and Binder instances 
a.show()    
b.show()
"
27537,37711,Python Nested Loop Working Weirdly,"# you can give k or i a default value here as you like
k = 0
i = 0
while k <= 5:
    for num in range(1, 10):
        print ""test""
        i +=1
    k+=1
"
20469,19788,Converging Pandas Dataframe so that a column only has one value but its other column values are summed up,"In [4]: products
Out[4]: 
   Amount  Fruits
0      10   apple
1       5   apple
2      20  banana
3      12  banana
4      25  orange

[5 rows x 2 columns]

In [5]: products.groupby('Fruits').sum()
Out[5]: 
        Amount
Fruits        
apple       15
banana      32
orange      25

[3 rows x 1 columns]
"
2581,80481,Using python to take advantage of web page functions,"import requests

videoId = 'ZSzeFFsKEt4'
results = []
npage = 1
session = requests.session()
while True:
    urlstr = 'http://www.sandracires.com/en/client/youtube/comments.php'
    print ""Getting page "", npage
    response = session.get(urlstr, params={'v': videoId, 'page': npage})
    content = response.json()
    if len(content['list']) > 1:
        results.append(content)
    else:
        break
    npage += 1

print results
"
37326,4798,What is the best integer n-tuple hash in python?,"hash(tup)
"
27393,18551,creating a new dataframe based off if a particular value matches a value in a list,"In [147]:

customer_list=['Microsoft', 'Google', 'Facebook']
df = pd.DataFrame({'Customer':['Microsoft', 'Microsoft', 'Google', 'Facebook','Google', 'Facebook', 'Apple','Apple'], 'data':np.random.randn(8)})
df
Out[147]:
    Customer      data
0  Microsoft  0.669051
1  Microsoft  0.392646
2     Google  1.534285
3   Facebook -1.204585
4     Google  1.050301
5   Facebook  0.492487
6      Apple  1.471614
7      Apple  0.762598
In [148]:

df['Customer'].isin(customer_list)
Out[148]:
0     True
1     True
2     True
3     True
4     True
5     True
6    False
7    False
Name: Customer, dtype: bool
In [149]:

df[df['Customer'].isin(customer_list)]
Out[149]:
    Customer      data
0  Microsoft  0.669051
1  Microsoft  0.392646
2     Google  1.534285
3   Facebook -1.204585
4     Google  1.050301
5   Facebook  0.492487
"
32145,78026,os.walk thinks my directory contains only .DS_Store files,"alist = []

for root, directories, filenames in os.walk('/somedir/full/of/subdirs/and_PDFs'):
    for fn in filenames:
        alist.append(os.path.join(root,fn))
"
25679,8506,How to set a cookie in a django test case?,"self.client.login(username,password)
"
531,51457,Python- Do not want letters or numbers outside of range input,"while True:
    try:
        choice = int(input(""what would you like to do ? ""))
    except ValueError:
        print (""Invalid choice.Valid choises are between 1-4."")
        continue
    if choice<1 or 4<choice:
        print (""Invalid choice.Valid choises are between 1-4."")
        continue
    else:
        print (""some codes will work on here.."")
"
27509,42553,python urllib2 post request,"import urllib
import urllib2

url = 'http://example.com/...'
values = { 'productslug': 'bar','qty': 'bar' }
data = urllib.urlencode(values)
req = urllib2.Request(url, data)
response = urllib2.urlopen(req)
result = response.read()
print result
"
34264,83294,Simplifying Nested-Lists as a Cartesian product,"from itertools import product

lst = [['alpha'],['beta','gamma'],['delta','peta','lambda']]

for res in product(*lst):
    print(res)

>> ('alpha', 'beta', 'delta')

('alpha', 'beta', 'peta')
('alpha', 'beta', 'lambda')
('alpha', 'gamma', 'delta')
('alpha', 'gamma', 'peta')
('alpha', 'gamma', 'lambda') 
"
38567,7880,How do I do simple user input in python?,"x1 = float(raw_input(""x1: ""))
y1 = float(raw_input(""y1: ""))
x2 = float(raw_input(""x2: ""))
y2 = float(raw_input(""y2: ""))
"
14171,31952,django view variable matching to a queryset,"def page(request, page_lang_name='eng', page_title='home'):
    page_lang_obj = SiteLanguage.objects.get(title=page_lang_name)
    context = {
        'page_lang': page_lang_obj,
        'page_content': getattr(page_lang_obj, page_title) 
    }
"
19763,6624,Python Queue waiting for thread before getting next item,"class SocketClientThread(threading.Thread):
    """""" Implements the threading.Thread interface (start, join, etc.) and
        can be controlled via the cmd_q Queue attribute. Replies are placed in
        the reply_q Queue attribute.
    """"""
    def __init__(self, cmd_q=Queue.Queue(), reply_q=Queue.Queue()):
        super(SocketClientThread, self).__init__()
        self.cmd_q = cmd_q
        self.reply_q = reply_q
        self.alive = threading.Event()
        self.alive.set()
        self.socket = None

        self.handlers = {
            ClientCommand.CONNECT: self._handle_CONNECT,
            ClientCommand.CLOSE: self._handle_CLOSE,
            ClientCommand.SEND: self._handle_SEND,
            ClientCommand.RECEIVE: self._handle_RECEIVE,
        }

    def run(self):
        while self.alive.isSet():
            try:
                # Queue.get with timeout to allow checking self.alive
                cmd = self.cmd_q.get(True, 0.1)
                self.handlers[cmd.type](cmd)
            except Queue.Empty as e:
                continue

    def join(self, timeout=None):
        self.alive.clear()
        threading.Thread.join(self, timeout)
"
29518,54185,Format of datetime in pyplot axis,"fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(your_dates, your_data)

# format your data to desired format. Here I chose YYYY-MM-DD but you can set it to whatever you want.
import matplotlib.dates as mdates
ax.xaxis.set_major_formatter(mdates.DateFormatter('%Y-%m-%d'))

# rotate and align the tick labels so they look better
fig.autofmt_xdate()
"
12784,42941,Python character encoding for '%C5%9' and similar,">>> import urllib
>>> foo = '%23%C5%9Een%C5%9EakrakTakiple%C5%9FelimYine'
>>> print urllib.unquote(foo).decode('utf-8')
#ÅenÅakrakTakipleÅelimYine
"
16905,52788,How do I force all requests to use https on a custom domain in appengine?,"handlers:

- url: YOUR_URL
  script: YOUR_SCRIPT
  secure: always
"
24159,54842,How to parse a wikipedia page in Python?,"import urllib2
req = urllib2.urlopen(""http://en.wikipedia.org/w/api.php?action=parse&page=China&format=json&prop=text"")
content = req.read()
# content in json - use json or simplejson to get relevant sections.
"
21128,57987,Choose which variable to solve for (Python root finding using fsolve),"fsolve(lambda a,x,b: eqn(x, a, b), x0=0.5, args=(x,b))
"
8544,63027,Merge multiple pandas columns into new column,"df['Q_Seen'] = df.stack().values

>>> df

Q1_Seen    Q2_Seen    Q3_Seen     Q4_Seen     Q_Seen
    Q1a        nan        nan         nan        Q1a
    nan        Q2a        nan         nan        Q2a
    nan        nan        Q3d         nan        Q3d
    nan        Q2c        nan         nan        Q2c
"
14015,10194,Python - best way to wait until a remote system is booted,"while True:
    try:
        return requests.head(...)
    except requets.exceptions.ConnectionError:
        time.sleep(0.5)
"
10985,31163,Install Numpy 1.8 in Travis CI,"language: python

before_script:
  - wget http://repo.continuum.io/miniconda/Miniconda-3.8.3-Linux-x86_64.sh -O miniconda.sh
  - chmod +x miniconda.sh
  - export PATH=/home/travis/miniconda/bin:$PATH
  - conda install --yes numpy=1.8
"
15770,59515,How to convert base64 string to image?,"import base64
imgdata = base64.b64decode(imgstring)
filename = 'some_image.jpg'  # I assume you have a way of picking unique filenames
with open(filename, 'wb') as f:
    f.write(imgdata)
# f gets closed when you exit the with statement
# Now save the value of filename to your database
"
11237,11045,How to unravel array?,"bonds = [(0., 0.99),(-30, 30),(-30, 30),(0., 30),(0., 30),(-0.99, 0.99)] * 3
"
31528,6086,How to access comman-line arguments from a Python script?,"import sys
s1, s2, s4 = sys.argv[1:4]
"
11967,35543,loading module variables in interactive mode,"import __main__
__main__.some_variable = module.module_variable
"
25708,13852,How to convert fileData from str to file type in Python?,"import StringIO

...

base64FileData = attachmentObj.data['data']
fileData = base64.urlsafe_b64decode(base64FileData.encode('UTF-8'))

memoryFile = StringIO.StringIO(fileData)

someFunctionThatOperatesOnFileObjects(memoryFile)
"
37922,73605,python change value in nested dictionary if condition is met,"import copy
from pprint import pprint
dicti = {'files':
    {'a':{'offset':100, 'start': 0},
     'b':{
         'c':{'offset':50, 'start':0},
         'd':{'offset':70, 'start':0},
         },
     'e':{
         'f':{'offset':80, 'start':0},
         'g':{'offset':30, 'start':0},
         'h':{'offset':20, 'start':0},
         }
    }
}

# Solution 1, two passes
def modify(d):
    if isinstance(d, dict):
        if d.get('offset', 0) > 50:
            d['offset'] = 0
        for k,v in d.items():
            modify(v)
dictj = copy.deepcopy(dicti)
modify(dictj)
pprint(dictj)

# Solution 2, copy and modify in one pass
def copy_and_modify(d):
    if isinstance(d, dict):
        d2 = {k:copy_and_modify(v) for k,v in d.items()}
        if d2.get('offset') > 50:
            d2['offset'] = 0
        return d2
    return d
dictj = copy_and_modify(dicti)
pprint(dictj)
"
33937,18045,PySide program crash handler,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

import cStringIO, traceback

from PyQt4 import QtGui, QtCore

errorNotice = """"""
An unhandled exception occurred. Details will be reported
via an automatic email.
""""""

class MyMessageBox(QtGui.QMessageBox):
    def __init__(self, *args, **kwargs):            
        super(MyMessageBox, self).__init__(*args, **kwargs)
        self.tracebackInfoStream = cStringIO.StringIO()

        self.setIcon(QtGui.QMessageBox.Critical)
        self.finished.connect(self.on_finished)

    def getTraceback(self, exceptionTraceback):
        traceback.print_tb(
            exceptionTraceback,
            None,
            self.tracebackInfoStream
        )

        self.tracebackInfoStream.seek(0)

        return self.tracebackInfoStream.read()

    def exceptHook(self, exceptionType, exceptionValue, exceptionTraceback):   
        tracebackInfo = self.getTraceback(exceptionTraceback)

        self.setDetailedText(tracebackInfo)
        self.setText(errorNotice)
        self.exec_()

    @QtCore.pyqtSlot()
    def on_finished(self):  
        QtGui.QApplication.quit()

class MyWindow(QtGui.QWidget):
    def __init__(self, parent=None):
        super(MyWindow, self).__init__(parent)

        self.pushButtonError = QtGui.QPushButton(self)
        self.pushButtonError.setText(""Raise an Error!"")
        self.pushButtonError.clicked.connect(self.on_pushButtonError_clicked)

        self.layoutVertical = QtGui.QVBoxLayout(self)
        self.layoutVertical.addWidget(self.pushButtonError)

    @QtCore.pyqtSlot()
    def on_pushButtonError_clicked(self):
        raise UserWarning(""This is an error"")

if __name__ == ""__main__"":
    import sys

    app = QtGui.QApplication(sys.argv)
    app.setApplicationName('MyWindow')

    myMessageBox = MyMessageBox()

    sys.excepthook = myMessageBox.exceptHook

    main = MyWindow()
    main.show()

    sys.exit(app.exec_())
"
33239,49831,"generate file in a path, but sometimes got a generator returning","for f in next_file(file_path):
    yield f
"
12861,70310,Stomp lib for python giving TypeError,"conn.subscribe({destination=config['queue_name'], ack='auto'})
"
26841,77820,finding all combinations of a list of any count,">>> list(itertools.combinations(['a', 'b', 'c', 'd'], 2))
[('a', 'b'), ('a', 'c'), ('a', 'd'), ('b', 'c'), ('b', 'd'), ('c', 'd')]
>>> list(itertools.combinations(['a', 'b', 'c', 'd'], 3))
[('a', 'b', 'c'), ('a', 'b', 'd'), ('a', 'c', 'd'), ('b', 'c', 'd')]
"
1543,23276,How to use columns of a key in a dict in Python?,"dict['a'][:,1]
"
1395,23085,Maintaining environment state between subprocess.Popen commands?,"def shell_script(appname, *commands):
        workspace = tempfile.mkdtemp(prefix=appname + '-')
        installer = open(workspace + ""/installer.sh"", 'w')

        installer.write(""#!/bin/bash\n"")
        installer.write(""cd "" + workspace + ""\n"")
        for line in commands:
                installer.write(line + ""\n"")
        ShellCommand(""chmod u+x "" + installer.name)
        installer.close()
        ShellCommand(installer.name)
"
12709,76183,"Input date in dd-MMM-yy and output in a tuple of (y,m, d)","#get idealDate  
items = idealDate.split(""-"")
your_tuple =  (items[2],month[items[1]],items[0])
#convert from strings to ints if you wish
"
32699,57673,Getting the start time of a new process which I triggered,"class Proc(object):
    def __init__(self,cmd)
        self.cmd = cmd

    def run(self):
        proc = multiprocessing.Process(target=myProcess,args=(args))
        self.startime = datetime.datetime.now()
        proc.start()
        proc.join()  // Don't use this if you don't want to wait.


procobj = Proc(cmd)
procobj.run()
procobj.startime // gives you starttime
"
2901,47231,Make QSpinBox value change to min value when right-mouse-click Pyside + Python,"    ...
    self.spinFrameCountA = QtGui.QSpinBox()
    self.spinFrameCountA.setRange(1,999999)
    self.spinFrameCountA.setValue(40)
    self.spinFrameCountA.installEventFilter(self)

    self.spinFrameCountB = QtGui.QSpinBox()
    self.spinFrameCountB.setRange(0,999999)
    self.spinFrameCountB.setValue(6)
    self.spinFrameCountB.installEventFilter(self)
    ...

def eventFilter(self, widget, event):
    if (event.type() == QtCore.QEvent.ContextMenu and
        isinstance(widget, QtGui.QSpinBox)):
        menu = widget.lineEdit().createStandardContextMenu()
        menu.addSeparator()
        menu.addAction('Reset Value',
                       lambda: widget.setValue(widget.minimum()))
        menu.exec_(event.globalPos())
        menu.deleteLater()
        return True
    return QtGui.QWidget.eventFilter(self, widget, event)
"
13122,4055,Python pandas counting matches of regex with compound words in a string,"import(re)
for k in terms.keys():
    df[k] = 0
    for words in re.sub(""[()]"","""",terms[k]).split('|'):
        mask = df.Foo.str.contains(words, case = False)
        df[k] += mask
df


                                              Foo   Score   people  animals games
0   Superman was looking for a russian brown deer.      4        1        1     0
1   John adams started to play basket ball with ro...   6        3        0     1
2   Basketball or bball is a sport played by Steve...   2        1        0     2
3   The bald eagle flew pass the arctic fox three ...   7        0        3     0
4   The fox was sptted playing basket ball?             8        0        1     1
"
940,43979,Python pass string to class using *args in __init__,"class Storage(object):
    def __init__(self):
        self.data = []

class Dialogue(object):
    def __init__(self):
        self.msg = 'hello world'


def main():
    d = Dialogue()
    s = Storage()
    s.data.append(d.msg)
    print s.data

if __name__ == '__main__':
    main()
"
23553,52334,itertools.ifilter Vs. filter Vs. list comprehensions,"import itertools

def number_generator():
    for i in range(0, 3):
        print ""yield"", i
        yield i
    print ""stopping""

function = lambda x: x > 0

numbers = number_generator()
print ""itertools.ifilter:""
for n in itertools.ifilter(function, numbers):
    print n

print ""\nfilter:""
numbers = number_generator()
for n in filter(function, numbers):
    print n
"
33520,43026,django data not changing dynamically,"def orders(request):
    no = GetNewOrders()
    oiids_new = no.getOrderItemId()

    context_dict = {'oiids_new':oiids_new}
    return render(request, 'orders/orders.html', context_dict)
"
15572,53865,Return whichever expression returns first,"from multiprocessing import Process, Queue

import random
import time


def firstresult(func1, func2):
    queue = Queue()
    proc1 = Process(target=func1,args=(queue,))
    proc2 = Process(target=func2, args=(queue,))
    proc1.start();proc2.start()
    result = queue.get()
    proc1.terminate(); proc2.terminate()
    return result

def algo1(queue):
    time.sleep(random.uniform(0,1))
    queue.put(""algo 1"")

def algo2(queue):
    time.sleep(random.uniform(0,1))
    queue.put(""algo 2"")

print firstresult(algo1, algo2)
"
19043,56042,python peewee dynamically or clauses,"clauses = [
    (User.username == 'something'),
    (User.something == 'another thing'),
    ...
]
User.select().where(reduce(operator.or_, clauses))
"
33936,39211,Changing to uppercase letters using ASCII,"def changeToUpperCase(text):
    new_text = """"
    for i in text:
        i = ord(i) - 32
        new_text = new_text + chr(i)    
    return new_text
"
18882,34910,Most elegant way to count integers in a list,">>> from collections import defaultdict
>>> x = [1,2,3,2,4,1,2,5,7,2]
>>> d = defaultdict(int)
>>> for i in x:
        d[i] += 1

>>> dict(d)
{1: 2, 2: 4, 3: 1, 4: 1, 5: 1, 7: 1}
"
35314,45371,Reconcile np.fromiter and multidimensional arrays in Python,"import numpy as np
from itertools import chain

def fun(i):
    return tuple(4*i + j for j in range(4))

a = np.fromiter(chain.from_iterable(fun(i) for i in range(5)), 'i', 5 * 4)
a.shape = 5, 4

print(repr(a))
# array([[ 0,  1,  2,  3],
#        [ 4,  5,  6,  7],
#        [ 8,  9, 10, 11],
#        [12, 13, 14, 15],
#        [16, 17, 18, 19]], dtype=int32)
"
24378,71890,Is there a numpy.where() equivalent for row-wise operations?,"In [43]: np.argmax(d==1, axis=1)
Out[43]: array([1, 1, 0, 3])
"
20336,63463,Python: How to retain headers from one file and append it to another,"import csv
import random

with open('datafile.csv', 'r') as data, \
        open('test.csv', 'w') as test, \
        open('train.csv', 'w') as train:
    test_writer = csv.writer(test)
    train_writer = csv.writer(train)
    reader = csv.reader(data)
    header = next(reader)
    test_writer.writerow(header)
    train_writer.writerow(header)
    for row in reader:
        if random.random() > 0.85:
            test_writer.writerow(row)
        else:
            train_writer.writerow(row)
"
38881,61745,How to tell if a InstrumentedAttribute is a relation in sqlalchemy?,">>> type(Table.col1.property)
<class 'sqlalchemy.orm.properties.ColumnProperty'>
>>> type(Table.rel.property)
<class 'sqlalchemy.orm.relationships.RelationshipProperty'>
"
2788,21201,Refreshing code in Tkinter window with button,"#name of file is python_script.py

class myapp()
 def __init___(self,root):
   self.root = root
   main_menu = ttk.Frame(self.root)
   ttk.Button(main_menu,text=""REFRESH"",command=lambda self=self:self._update())

 def _update(self):
   import python_script
   python_script.main_refresh(self.root,python_script)

def main_refresh(root,python_script):
   reload(python_script)
   root.destroy()
   python_script.main()

def main():
   root = Tkinter.Tk()
   myapp = myapp(root)
   root.mainloop()

if __name__ == '__main__':
   main() 
"
23253,7299,split a list by a lambda function in python,">>> [list(x[1]) for x in itertools.groupby([1, 2, 3], lambda x: x == 2) if not x[0]]
[[1], [3]]
"
13723,31098,"Python Try: Except: inside a function(a, b, c)","print ""my var's content: %s"" %( my_var if my_var != """" else ""blank"" )
"
23656,33251,Shortest way of creating an object with arbitrary attributes in Python?,"In [1]: class data:
   ...:     def __init__(self, **kwargs):
   ...:         self.__dict__.update(kwargs)
   ...: 

In [2]: d = data(foo=1, bar=2)

In [3]: d.foo
Out[3]: 1

In [4]: d.bar
Out[4]: 2
"
39713,3116,how to add a custom label and content in django admin form,"class YourAdmin(admin.ModelAdmin):
    fieldsets = (
        (None, {
            'fields': ('name',)
        }),
        ('Address', {
            'fields': ('Add1', 'Add2', 'city', 'zipcode',)
        }),
    )
"
10167,13701,python zipfile module: How to change the structure of zip archive created?,"zf = zipfile.ZipFile(file_to_search, mode='w')
zf.write(bin_file_path, custom_name)
zf.close()
"
29905,50977,how can I provide csrf protection in case of using requests module to post data to a django view,"import requests
f = open('C:\\Users\\myname\\Desktop\\image.jpg', 'rb')
urls='http://localhost:8000/upper'
cookies = {'csrftoken': 'token'}
headers = {'X-CSRF-TOKEN': 'token'}
r=requests.post(urls, files={'uploads':f}, cookies=cookies, headers=headers)
print(r.status_code)
"
26479,79889,Python - How to read a video file as binary data?,"started = 0
hash_val = 0

with open(""video"", ""rb"") as file:
    byte = file.read(1) # read a byte (a single character in text)
    byte_val = ord(byte) # convert the string character into a number

    if started == 0:
        hash_val = byte_val
        started = 1
    hash_val = (hash_val << 5) - hash_val + byte_val # this is a basic hash

print(hash_val)
"
36131,8697,Extracting line after new line,"f = open('b.txt', 'r')
status = True
country = []
city = []
for line in f:
    line = line.strip('\n').strip()
    if line:
        if status:
            country.append(line)
            status = False
        else:
            city.append(line)
    else:
        status = True

print country
print city


output :

>>['city1', 'city2', 'city3', 'city4']
>>['Country1', 'Country2']
"
32712,14247,Remove all lines between the pattern,"import os

keep = True
with open(pathToInput) as infile, open(pathToOutput, 'w') as outfile, open(pathToSave) as savefile:
    for line in infile:
        if line.startswith(""RBE3""):
            keep = False
        elif not line.startswith(""*""):
            keep = True
        if keep:
            outfile.write(line)
        else:
            savefile.write(line)

os.remove(pathToInput)
os.rename(pathToOutput, pathToInput)
"
26088,22360,Python montage a plot on OpenCV image and record as video,"import cv2

canvas = np.zeros((480,640))

t = np.arange(0, 512, 1) # sample time axis from 1 to 512
nse = np.random.randn(len(t)) 

# some normalization to fit to canvas dimension
t = 640 * t / 512 
nse = 480 * nse / nse.max()

pts = np.vstack((t,nse)).T.astype(np.int)

cv2.polylines(canvas, [pts], False, 255)

imshow(canvas, 'gray')
"
5328,30479,Adding class variables to defined class,"auth1 = tweepy.auth.OAuthHandler('CONSUMER KEY','CONSUMER SECRET')
auth1.set_access_token('ACCESS TOKEN','ACCESS TOKEN SECRET')
api = tweepy.API(auth1)

class StreamListener(tweepy.StreamListener):
    def __init__(self, f):
        super(StreamListener, self).__init__()
        self._f = f
    def on_status(self, status):
        printf(status)
        self._f.write(status.text)

with open('twitterMessages.txt', 'w') as outf:
    l = StreamListener(outf)
    streamer = tweepy.Stream(auth=auth1, listener=l, timeout=3000000000 )
    setTerms = ['lol', 'Lol', 'LOL']
    streamer.filter(None,setTerms)
"
35136,60117,Matching Items in Lists - Python,"pdfs = ['a.pdf', 'b.pdf', 'c.pdf', 'd.pdf']
xmls = ['a.xml', 'd.xml', 'b.xml']

xml_set = set(xmls)

result = []
for pdf in pdfs:
    xml = pdf.replace('.pdf', '.xml')
    if xml in xml_set:
        result.append('Matched %s to %s' % (pdf, xml))
    else:
        result.append(""%s doesn't have a corresponding XML file"" % (pdf,))

print result
"
19088,71186,python joblib.Parallel vs Parallel-Python: parallelise over multiple cores of a single CPU?,"import joblib
print joblib.cpu_count()
"
28141,40384,MongoDB: Limiting results from a $gt query (from pymongo),"db.coll.group(
    key='function(doc) { return {""dt"": doc.dt.toDateString()} }',
    condition={'dt': {'$gt': datetime_obj_30_days_ago}},
    initial={'downloads': 0},
    reduce='function(curr, prev) { prev.downloads = Math.max(curr.downloads, prev.downloads) }'
)
"
15385,6725,Sum lines of string of numbers in file.txt,"import itertools
sum(int(i) for i in itertools.islice(open(filename), 3, None, 5))
"
5351,7962,python datetime and date comparison,">>> import datetime
>>> datetime.date(2014, 2, 22) == datetime.datetime.now().date()
True
"
36134,28541,Django non persistent model field,"self.temp_pw = user.generate_password()
user.set_password(self.temp_pw)
"
30413,60819,how to multiply dataframes elementwise and create multi-index -- Python,"df1 = pandas.DataFrame([[i*j for i in range(1, 3)] for j in range(2, 5)], index=list('abc'), columns=list('AB'))
print df1
df2 = pandas.DataFrame([[i*10**j for i in range(1, 4)] for j in range(1, 3)], columns=list('abc'))
print df2

df11 = df1.reindex(columns=pandas.MultiIndex.from_product([df1.columns, df2.index]), level=0)
print df11
df22 = df2.T.reindex(columns=pandas.MultiIndex.from_product([df1.columns, df2.index]), level=1)
print df22

df3 = df11.mul(df22)
print df3
"
7605,56137,Reading bytes from wave file python,"with open('fname', 'rb') as fd:  # open the file
    data = rd.read(16)           # read 16 bytes from it
    h = [ hex(ord(b) for b in data]       # convert the bytes to their hex value
    print (h)          # prints a list of hexadecimal codes of the read bytes
"
36048,69358,Unpacking into a list,">>> def list_assign(args):
    [x, y, z] = args
    return x, y, z

>>> def tuple_assign(args):
    x, y, z = args
    return x, y, z

>>> import dis
>>> dis.dis(list_assign)
  2           0 LOAD_FAST                0 (args) 
              3 UNPACK_SEQUENCE          3 
              6 STORE_FAST               1 (x) 
              9 STORE_FAST               2 (y) 
             12 STORE_FAST               3 (z) 

  3          15 LOAD_FAST                1 (x) 
             18 LOAD_FAST                2 (y) 
             21 LOAD_FAST                3 (z) 
             24 BUILD_TUPLE              3 
             27 RETURN_VALUE         
>>> dis.dis(tuple_assign)
  2           0 LOAD_FAST                0 (args) 
              3 UNPACK_SEQUENCE          3 
              6 STORE_FAST               1 (x) 
              9 STORE_FAST               2 (y) 
             12 STORE_FAST               3 (z) 

  3          15 LOAD_FAST                1 (x) 
             18 LOAD_FAST                2 (y) 
             21 LOAD_FAST                3 (z) 
             24 BUILD_TUPLE              3 
             27 RETURN_VALUE 
"
22040,15500,PyQt QVariant with dictionary,"import sip
sip.setapi('QString', 2)
sip.setapi('QVariant', 2)

from PyQt4 import QtCore, QtGui
"
30280,474,"How to make an automated task, less detectable by randomising the interval (within bounds)","import random
random.seed()

def run_periodically(start, end, interval, func):
    event_time = start
    while event_time < end:
        s.enterabs(event_time, 0, func, ())
        event_time += interval + random.random(-60, 60)
    s.run()
"
18465,71423,Check Size of File Assigned to a Variable in Python 2,"
f = open(""file.dat"")
st = os.fstat(f.fileno())

if f.closed:
    print ""File "" + f.name + "" closed""
elif st.st_size>512:
    f.write(data)
    lastblock = newblock
    doAckLast()
"
12260,49170,Django 1.6 transactions to avoid race conditions,"game = GameConnection.objects.all()[:1].select_for_update()
if game:
    #do something, update, delete, etc.
else:
    #create
"
24263,49513,Converting timecodes,"from timecode import Timecode

tc1 = Timecode('29.97', '00:04:22:04')
tc2 = Timecode('30', frames=tc1.frames)
"
16770,25966,python accessing objects attributes inside of another object,"sdk_object = myclass_instance.sdk_object
sdl_object.attribute_name = 10
"
1640,23445,GAE Simple Searching + Autocomplete,"import unicodedata
import re

splitter = re.compile(r'[\s|\-|\)|\(|/]+')

def remove_accents(text):
    nkfd_form = unicodedata.normalize('NFKD', unicode(text))
    return u"""".join([c for c in nkfd_form if not unicodedata.combining(c)])

def get_words(text):    
    return [s.lower() for s in splitter.split(remove_accents(text)) if s!= '']

def get_unique_words(text):
    word_set = set(get_words(text))
    return word_set

def get_starts(text):
    word_set = get_unique_words(text)
    starts = set()
    for word in word_set:
        for i in range(len(word)):
            starts.add(word[:i+1])
    return sorted(starts)
"
25391,43723,Combinations of a string with specific variable characters,">>> from itertools import product
>>> s = ""ABCD""
>>> d = {""B"": [""X"", ""Z""], ""D"": [""E""]}
>>> poss = [[c]+d.get(c,[]) for c in s]
>>> poss
[['A'], ['B', 'X', 'Z'], ['C'], ['D', 'E']]
>>> [''.join(p) for p in product(*poss)]
['ABCD', 'ABCE', 'AXCD', 'AXCE', 'AZCD', 'AZCE']
"
35382,12621,python : use elements from a list as keys to a dictionary in order of list,">>> from collections import OrderedDict
>>> my_lst = ['b','c','a']
>>> D = OrderedDict()
>>> for i in my_lst:
...     D[i] = []
>>> D
OrderedDict([('b', []), ('c', []), ('a', [])])
>>> print D.items()
[('b', []), ('c', []), ('a', [])]
"
2042,3655,Convert indexed DataFrame to multi-indexed using pattern in indices,"In [11]: df.index = pd.MultiIndex.from_tuples(df.index.map(lambda x: (x[0:2], x[2:4])))

In [12]: df
Out[12]:
        a       b
      bar foo bah foo
A1 B1   1   0   3   2
   B2   5   4   7   6
A2 B1   9   8  11  10
   B2  13  12  15  14
"
11284,21161,ndb query works locally in test but not in deployment,"@classmethod
    def chk_account(self, _email, _website_sect_name):
        no_acct = 0
        try: 
            website_key = ndb.Key('Access_lvl', _website_sect_name)
            account_email = Account.query(Account.email == _email, ancestor=website_key).get().to_dict()
            return account_email
        except:
            return no_acct
"
28776,27904,Execute linux command which requires additional input using Python,"import pexpect
child = pexpect.spawn('myprocess')
child.expect('>')
child.sendline(password_var)
child.expect('>')
child.sendline(password_var)
"
1107,35521,Calculating a new column in pandas,"df = pd.DataFrame([[1,2,3],[4,5,6]], columns=['a','b','c'])

df
Out[23]: 
   a  b  c
0  1  2  3
1  4  5  6


df['new'] = df[['a','b']].apply(lambda x : (-0.5)+x[1] if x[0] ==1 else x[1],axis=1)

df
Out[42]: 
   a  b  c  new
0  1  2  3  1.5
1  4  5  6  5.0
"
4445,82535,Selection of data in a single dimension (which can vary) in a multi-dimensional array,"slice_idx = N.shape(data).index(27)
slices = [ slice( 0, None, None),]*4
slices.insert( slice_idx, slice( 0, tot_slices/2, None))
data_new = data.__getitem__(slices)
"
27048,63456,Animated graph to Animated Gif (Python),"            print(i)
            #pylab.ion()
            pylab.scatter( x, y, c=(j/nbodies,j/nbodies,j/nbodies) )
            pylab.axis([-400, 400, -400, 400])
            #pylab.draw()
            pylab.savefig('picture'+str(i))

os.chdir('C://Users/Alex')
subprocess.call(['ffmpeg', '-i', 'picture%d0.png', 'output.avi'])
subprocess.call(['ffmpeg', '-i', 'output.avi', '-t', '5', 'out.gif'])
"
19342,14795,Write a one-off or anonymous class in Python?,"sys.ps1 = type('PS1', (object,), {'__repr__': lambda self: datetime.datetime.now().strftime('%H:%M:%S')})()
"
16013,59422,Converting a hex-string representation to actual bytes in Python,">>> '\\xF3\\xBE\\x80\\x80'.replace('\\x', '').decode('hex')
'\xf3\xbe\x80\x80'
"
2490,44998,Pandas - resample a DataFrame by half-hourly frequency,"P.resample('30min')
"
10776,18497,How to prevent pycallgraph from entering standard library functions?,"import pycallgraph
import mycode
import stuff_i_dont_want_to_see

pycallgraph.start_trace()
#Initializations

pycallgraph.stop_trace()
stuff_i_dont_want_to_see()
pycallgraph.start_trace()

mycode.things()
pycallgraph.make_dot_graph('cleaner_graph.png')
"
14325,83299,"How to append a ""timer"" inline with a print statement?","def timer(message, x):
  for i in range(1,x):
    sys.stdout.write(""\r%s%d"" % (message, i))
    sys.stdout.flush()
    sleep(1)
    sys.stdout.write('\r  \r')
...


timer('Now counting..... ', 6)
"
365,4480,Remove colorbar's borders matplotlib,"import matplotlib.pyplot as plt
import numpy as np

data = np.random.rand(2,2)
im3 = plt.imshow(data)

cb = plt.colorbar(im3)

cb.outline.set_visible(False)

# this worked on matplotlib 1.3.1
#cb.outline.set_linewidth(0.05)

cb.set_ticks([])

#Im saving as pdf
plt.savefig(""thing.pdf"",dpi=1000, bbox_inches='tight')
"
39841,5910,OneDrive API Python SDK - points to login.live.com not mydomain.sharepoint.com,"AUTH_SERVER_URL = ""https://login.microsoftonline.com/common/oauth2/authorize""
AUTH_TOKEN_URL = ""https://login.microsoftonline.com/common/oauth2/token""
"
34196,22994,How to access the password protected Router Page from Python?,"import requests

r = requests.get('http://192.168.1.1/basic/home_dhcplist.htm', auth=('username', 'password'))

if 'Prasads' in r.text():
    print ""found""
else:
    print ""not found""
"
23540,3898,Recursive Power Function Step,"def power(x, y):
    if y == 0:
        return 1

    if y >= 1:
        return x * power(x, y - 1)
"
35679,60781,How do I access field #k of a numpy recarray?,">>> x.field(2)
... array(['0 bottles of beer on the wall', '1 bottles of beer on the wall',
       '2 bottles of beer on the wall', '3 bottles of beer on the wall',
       '4 bottles of beer on the wall', '5 bottles of beer on the wall',
       '6 bottles of beer on the wall', '7 bottles of beer on the wall',
       '8 bottles of beer on the wall', '9 bottles of beer on the wall',
       '10 bottles of beer on the wall', '11 bottles of beer on the wall',
       '12 bottles of beer on the wall', '13 bottles of beer on the wall',
       '14 bottles of beer on the wall', '15 bottles of beer on the wall',
       '16 bottles of beer on the wall', '17 bottles of beer on the wall',
       '18 bottles of beer on the wall', '19 bottles of beer on the wall'], dtype=object)
"
28696,41979,python map object methods,"any(cell.update_type(next_cells[cell.index]) for cell in cells)
"
10522,34668,Split a string (on whitespace or punctuation) to get all numbers,">>> import re
>>> Mystring = ""123 456 789, 234, 999|567 888[222""
>>> re.findall('\d+', Mystring)
['123', '456', '789', '234', '999', '567', '888', '222']
>>>
"
18563,17481,Overriding default tab behaviour in Python Tkinter,"def my_tab_handler(event):
    ... # handle tab event
    return 'break' # interrupts event propagation to default handlers
"
34627,7714,How to set current working directory in python in a automatic way,"import os
ROOT_PATH = os.path.dirname(os.path.abspath(__file__))

# then:
myfile_path = os.path.join(ROOT_PATH, ""myfile.txt"")
"
30352,51361,Convert python sorting of list to java code.,"Collections.sort(items,  new Comparator<String>() {
    private Pattern p = Pattern.compile(""(\d+)[A-Z]*)"");
    public int compare(String o1, String o2) {
        Matcher m1 = p.matcher(o1);
        Matcher m2 = p.matcher(o2);

        return Integer.valueOf(m1.group(0)).compareTo(Integer.valueOf(m2.group(0)));
    }
});
"
17928,77988,Get value of dictionary in a list in a dictionary,"d = { 'd1': 1,
      'd2': 2 ,
      'd3': [{'e1':'muh','e2':'mia'}, {'e1':'wuff', 'e2':'kickeriki'}]}

[inner['e2'] for inner in d['d3']]
=> ['mia', 'kickeriki']
"
37099,43903,Split path in Python,">>> import re
>>> print(re.match(r'[^\\]+\\[^\\]+', r'C:\my_dir\repo\branch').group())
C:\my_dir

>>> re.findall(r'[^\\]+\\[^\\]+|.+', r'C:\my_dir\repo\branch')
['C:\\my_dir', '\\repo\\branch']
"
5886,34024,Return value of x = os.system(..),"x = subprocess.check_output(['whoami'])
"
6215,79813,pycurl: RETURNTRANSFER option doesn't exist,">>> import pycurl
>>> import StringIO
>>> b = StringIO.StringIO()
>>> conn = pycurl.Curl()
>>> conn.setopt(pycurl.URL, 'http://www.example.org')
>>> conn.setopt(pycurl.WRITEFUNCTION, b.write)
>>> conn.perform()
>>> print b.getvalue()
<HTML>
<HEAD>
  <TITLE>Example Web Page</TITLE>
</HEAD>
<body>
<p>You have reached this web page by typing &quot;example.com&quot;,
&quot;example.net&quot;,
  or &quot;example.org&quot; into your web browser.</p>
<p>These domain names are reserved for use in documentation and are not availabl
e
  for registration. See <a href=""http://www.rfc-editor.org/rfc/rfc2606.txt"">RFC

  2606</a>, Section 3.</p>
</BODY>
</HTML>
"
26248,58934,RuntimeWarnings with GPIO.setup and GPIO.cleanup not work with KeyboardInterrupt,"import RPi.GPIO as GPIO
import time

# Module level constants
LED1 = 22
LED2 = 17

# Sets up pins as outputs
def setup(*leds):
    GPIO.cleanup()
    GPIO.setmode(GPIO.BCM)
    for led in leds:
        GPIO.setup(led, GPIO.OUT)
        GPIO.output(led, GPIO.LOW)

# Turn on and off the leds
def blink(*leds):
    # Blink all leds passed
    for led in leds:
        GPIO.output(led, GPIO.HIGH)
        time.sleep(1)
        GPIO.output(led, GPIO.LOW)

if __name__ == '__main__':
    # Setup leds
    setup(LED1, LED2)
    # Run blinking forever
    try:
        while True:
            blink(LED1, LED2)
    # Stop on Ctrl+C and clean up
    except KeyboardInterrupt:
        GPIO.cleanup()
"
13905,2349,Auto-populate Django Model field,"status = models.ForeignKey(Status, related_name='+')
"
20580,51674,Python - Find how many digits a number is accurate to?,"In [39]: real_pi = 3.141592

In [40]: calc_pi = 3.141259

In [41]: sum(1 for _ in itertools.takewhile(lambda t:t[0]==t[1], zip(str(calc_pi), str(real_pi))))
Out[41]: 5
"
4491,36644,An universal way to set unicode cookies in Python,"import Cookie
def set_unicode_cookie(response, key, value):
  c = Cookie.SimpleCookie()
  c[key] = value.encode('unicode-escape')
  c[key][""expires""] = ""Sun, 31-May-2020 23:59:59 GMT""
  c[key][""path""] = ""/""
  response.headers.add_header('Set-Cookie', c[key].OutputString())

def get_unicode_cookie(request, key, defult_value):
  def unescape(s):
    m = re.match(r'^""(.*)""$', s)
    s = m.group(1) if m else s
    return s.replace(""\\\\"", ""\\"")
  if request.cookies.has_key(key):
    return unescape(request.cookies[key]).decode('unicode-escape')
  else:
    return default_value
"
18735,39195,Python nicest way to take boolean expression string apart," Condition ::= Term Condition'
 Condition' ::= epsilon | OR Term Condition'
 Term  ::=  Factor Term'
 Term' ::= epsilon | AND Factor Term'
 Factor ::= [ NOT ] Primary
 Primary ::= Literal | '(' Condition ')'
 Literal ::= Id
"
10101,44097,Special counter for loop in django,"{% for skill in person.skills.all %}
    {% if forloop.counter|divisibleby:""5"" %}
        <div style=""page-break-after:always""></div>
    {% endif %}
{% endfor %}
"
11607,43543,Why does insert change my list to None type?,"animals.insert(2, ""cobra"")
print(animals) 
"
1994,47419,Python: Adding method for number,">>> from datetime import date, timedelta

>>> class Int(int):
        def days_ago(self):
            return date.today() - timedelta(days=self)
        def days_from_now(self):
            return date.today() + timedelta(days=self)

>>> Int(3).days_ago()
datetime.date(2013, 4, 5)
>>> Int(4).days_from_now()
datetime.date(2013, 4, 12)
"
13191,67830,How to list (certain) files in a directory dynamically in Python?,"import os
import time

## run indefinitely
while True:
    ## get the directory listing
    pdffiles = [name for name in os.listdir('somedir')
               if name.endswith('.pdf')]

    ## print the most recent listing
    for file in pdffiles:
        print(file)

    ## wait a little bit before getting the next listing
    ## if you want near instantaneous updates, make the sleep value small.
    time.sleep(1)
"
18161,9675,Understanding how to use Multiple threads calling different functions with Queue in python?,"from Queue import Queue
from threading import Thread

class Scheduler():
    def __init__(self):
        self.id=10

    def add(self,q,id):
        self.id+=id
        q.put('added %d' % self.id)

    def mul(self,q,id):
        self.id*=id
        q.put('multiplied : %d' % self.id)

if __name__=='__main__':
    sch1 = Scheduler()
    sch2 = Scheduler()
    q = Queue()
    t1 = Thread(target=sch1.add, args=(q,id,))
    t1.start()
    t2 = Thread(target=sch2.mul, args=(q,id,))
    t2.start()
    print q.get()
    print q.get()
"
33224,8317,Customizing Select in Django,"<select>
{% for colour in colours %}
<option style=""background-color:#{{ colour.hex }}"">{{ colour.name }}</option>
{% endfor %}
</select>
"
5889,23361,Redirecting Python output to a console window,"import os
import sys
import time


def main():
    """"""
    Starts the loop check.
    """"""
    if len(sys.argv) == 2:

        filename = sys.argv[1]

        while True:

            # Clears the window
            os.system(""cls"")

            print(""Tailing: "", filename)

            # Opens the file and reads the lines from it
            with open(filename) as fileToRead:

                for line in fileToRead:
                    # Gets rid of the newline at the end
                    line = line.strip(""\n"")
                    print(line)  # lint:ok

                # Closes the file
                fileToRead.close()

            # Waits a bit
            time.sleep(0.5)

main()
"
16164,82789,Floating point layouting and rounding,"self.h += int(node.h)
"
31693,12631,How to transform a dictionary of strings to lists to a list of dictionaries?,">>> from itertools import product
>>> test = {'a': [1, 2], 'b': ['x', 'y', 'z']}
>>> [dict(zip(test.keys(), part)) for part in product(*test.values())]
[{'a': 1, 'b': 'x'}, {'a': 1, 'b': 'y'}, {'a': 1, 'b': 'z'}, 
 {'a': 2, 'b': 'x'}, {'a': 2, 'b': 'y'}, {'a': 2, 'b': 'z'}]
"
14893,71106,How to convert time object to minutes in python,"time = ""2015-07-09 13:45:08.266520+00:00""
data = time[11:18]
print data //Will be 13:45:08
"
39452,72202,how read data in python script called from javascript post,"#!/usr/python
import cgi
print('Content-Type: text/html; charset=utf-8\n')
form = cgi.FieldStorage()

if 'name' in form:
    with open('/var/www/cgi-bin/temp.txt','w') as file:
        file.write(form['name'])
"
2291,37714,What is the right way to override the copy/deepcopy operations on an object in Python?,"def __copy__(self):
  newone = type(self)()
  newone.__dict__.update(self.__dict__)
  return newone
"
16889,5431,In Python: How to remove an object from a list if it is only referenced in that list?,"import threading
import weakref

class A(object):
    instances = []
    lock = threading.RLock()

    @classmethod
    def _cleanup_ref(cls, ref):
        print('cleanup') # debug
        with cls.lock:
            try:
                cls.instances.remove(ref)
            except ValueError:
                pass

    def __init__(self):
        with self.lock:
            self.instances.append(weakref.ref(self, self._cleanup_ref))

# test
test = [A() for _ in range(3)]
for i in range(3,-1,-1):
    assert len(A.instances) == i
    if test:
        test.pop()

print(""see if 3 are removed at exit"")
test = [A() for _ in range(3)]
"
11386,41004,Python 3 - How do I return to first input after going a few if statements deep into code?,"while True:
    x = int(input(""What number?: ""))
    if x == 1:
        y = str(input(""What colour?: ""))
        if y == ""Red"":
            print(""ok"")
            z = int(input(""Do you wanna ask another num+colour? (1/0 is yes/no): ""))
            if z == 1:
                continue # to the next iteration
            elif z == 0:
                break # finish loop
"
34120,78279,Separating numbers from symbols in lists; python,"numbers = [i for i in the_list if isinstance(i, int)]
symbols = [i for i in the_list if isinstance(i, str)]
"
16975,23811,How to act differently if input is a multiple of x?,"if Key % 26 == 0:  # If Key / 26 returns no remainder
    # Key is therefore divisible by 26
"
29464,75053,Python Rock Paper Scissors game ( Loop for certain condition ),"gameOver = False
playerScore = 0
computerScore = 0

while not gameOver:
    player_wins = main()
    if player_wins == True:
        playerScore += 1
        computerScore = 0
    if player_wins == False:
        playerScore = 0
        computerScore += 1
    if player_wins == None:
        # Draw, do nothing to the scores
        pass
    if playerScore == 2 or computerScore == 2:
        print(""Game over"")
        print(""  playerScore:"", playerScore)
        print(""  computerScore:"", computerScore)
        gameOver = True
"
2731,20260,Do you know Python libs to send / receive files using Bittorent?,"#!/bin/python
# Copyright Arvid Norberg 2008. Use, modification and distribution is
# subject to the Boost Software License, Version 1.0. (See accompanying
# file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt)


import libtorrent as lt
import time
import sys

ses = lt.session()
ses.listen_on(6881, 6891)

info = lt.torrent_info(sys.argv[1])
h = ses.add_torrent({'ti': info, 'save_path': './'})
print 'starting', h.name()

while (not h.is_seed()):
    s = h.status()

    state_str = ['queued', 'checking', 'downloading metadata', 'downloading', \
        'finished', 'seeding', 'allocating', 'checking fastresume']
    print '\r%.2f%% complete (down: %.1f kb/s up: %.1f kB/s peers: %d) %s' % \
        (s.progress * 100, s.download_rate / 1000, s.upload_rate / 1000, \
        s.num_peers, state_str[s.state]),
    sys.stdout.flush()

    time.sleep(1)

print h.name(), 'complete'
"
14061,35997,How to print the longest words and their length?,"def main():
real_longest = ['']
filename = input(""What is the filename?"")
with open(filename) as f:
    linenum = 1
    for line in f:
        words = line.split()
        longest = ''
        for word in words:
            if word[-1].isalpha() == False:
                word = word[:-1]
            if len(longest) < len(word):
                longest = word
        print(""Line"", linenum, ""has"", longest, ""as the longest word."")
        if len(longest) > len(real_longest[0]):
            real_longest = [longest]
        elif len(longest) == len(real_longest[0]):
            real_longest.append(longest)
        linenum += 1
        print(longest)
for word in real_longest:
    print('This word is one of the largest:', word)
"
31174,69437,How do I use Scrapy to crawl within pages?,"def parse(self, response):
    b_pages_links = getlinks(A)
    for link in b_pages_links:
        yield Request(link, callback = self.visit_b_page)

def visit_b_page(self, response):
    url_of_c_page = ...
    yield Request(url_of_c_page, callback = self.visit_c_page)

def visit_c_page(self, response):
    url_of_image = ...
    yield Request(url_of_image, callback = self.get_image)

def get_image(self, response):
    item = CustomItem()
    item['name'] = ... # get image name
    item['image'] = ... # get image data
    yield item
"
8778,31508,How do I optimize searching two tuples of tuples for large tsv file in python?,">>> authList = ('jennifer', 35, 20), ('john', 20, 34), ('fred', 34, 89)
>>> rtAuthors = ('larry', 57, 24, 'simon'), ('jeremy', 24, 15, 'john'), ('sandra', 39, 24, 'fred')
>>> authDict = {t[0]: t[1:] for t in authList}
>>> rtAuthList = [t + authDict[t[-1]] for t in rtAuthors if t[-1] in authDict]
>>> print rtAuthList
[('jeremy', 24, 15, 'john', 20, 34), ('sandra', 39, 24, 'fred', 34, 89)]
"
6312,32969,Is there a Perl equivalent to Python's `if __name__ == '__main__'`?,"unless (caller) {
  print ""This is the script being executed\n"";
}
"
38282,66732,Installing a library in Eclipse?,"easy_install pydelicious
"
31566,48624,Find edges of multiplicity larger than 2 in a NetworkX MultiGraph,"for u in G.nodes():
    for neighbor in G.neighbors(u):
        if G.number_of_edges(u,neighbor)>2:
            print (u,neighbor)
"
22515,77326,"Can I add ""Smartypants"" to restructuredText?","#!/usr/bin/python
# EASY-INSTALL-SCRIPT: 'docutils==0.5','rst2html.py'
""""""
A minimal front end to the Docutils Publisher, producing HTML.
""""""

try:
    from ulif.rest import directives_plain
    from ulif.rest import roles_plain
    from ulif.rest import pygments_directive

    import locale
    locale.setlocale(locale.LC_ALL, '')
except:
  pass

from docutils.core import publish_doctree, publish_from_doctree
from smartypants import smartyPants
import sys


description = ('Personal docutils parser with extra features.')

doctree = publish_doctree(file(sys.argv[1]).read())
result = publish_from_doctree(doctree, writer_name='html')
result = smartyPants(result)
print result
"
29541,62997,XlsxWriter python to write a dataframe in a specific cell,"import pandas as pd

df1 = pd.DataFrame({'Data': [10, 20, 30, 40]})
df2 = pd.DataFrame({'Data': [13, 24, 35, 46]})

writer = pd.ExcelWriter('pandas_simple.xlsx', engine='xlsxwriter')

df1.to_excel(writer, sheet_name='Sheet1')
df2.to_excel(writer, sheet_name='Sheet1', startrow=6)
"
37961,27717,yticklabels only at major ticks matplotlib,"from numpy import *
import matplotlib.pyplot as plt

fig = plt.figure()

ax = fig.add_subplot(111)
x=random.uniform(0,5,size=5)

#plot
ax.barh(arange(len(x)),x,1)

#set ticks
T=arange(len(x))+0.5
ax.set_yticks(T)

#set labels
labels=['a','b','c','d','e']
ax.set_yticklabels(labels)

plt.show()
"
89,81616,Creating a dictionary using python and a .txt file,"def lookup(word):
    word_upper = word.upper()
    found_word = False
    found_def = False
    defn = ''
    with open('dict.txt', 'r') as file:
        for line in file:
            l = line.strip()
            if not found_word and l == word_upper:
                found_word = True
            elif found_word and not found_def and l.startswith(""Defn:""):
                found_def = True
                defn = l[6:]
            elif found_def and l != '':
                defn += ' ' + l
            elif found_def and l == '':
                return defn
    return False

print lookup('hallucination')
"
39931,60395,What's the code for dropping or deleting a table in arcpy?,"import arcpy

# A list of .dbf, .csv, and FGDB tables
tables = [r'C:\path\to\your.gdb\fgdb_table',
          r'C:\path\to\your\csv_table.csv',
          r'C:\path\to\your\dbf_table.dbf']

# Perform the deletion
for table in tables:
    arcpy.Delete_management(table)
"
5440,9325,How to start one of several installed Python 2 versions?,"/path/to/python-275
"
1967,52093,Can the Python interpreter welcome message be suppressed?,"$ python -ic """"
>>> 
"
20885,81596,Making a list of lists with no refrences in python,"test = [[None] * 3 for _ in range(3)]
"
34665,53571,Matplotlib svg as string and not a file,"import matplotlib.pyplot as plt
import StringIO
from matplotlib import numpy as np

x = np.arange(0,np.pi*3,.1)
y = np.sin(x)

fig = plt.figure()
plt.plot(x,y)

imgdata = StringIO.StringIO()
fig.savefig(imgdata, format='svg')
imgdata.seek(0)  # rewind the data

svg_dta = imgdata.buf  # this is svg data

file('test.htm', 'w').write(svg_dta)  # test it
"
30216,46586,Asynchronous running of Python functions,"from multiprocessing import Pool

my_pool = Pool(3)
# `cards` is a list of cards. Send rename requests to workers.
my_pool.map(renameImages, cards)

# Close the pool and wait for processes to close.
my_pool.close()
my_pool.join()
"
38919,41383,Python: Intertwining two lists,"c = [item for pair in zip(a, b) for item in pair]
"
35201,7397,How do you delete a file (located in the same directory that your script is running in) in Python?,">>> try:
...  os.unlink(os.path.join(os.getcwd(),'file.csv'))
... except OSError, e:
...  print e #file does not exist or you don't have permission
"
6438,23856,Simplfying DSL written for a C# app with IronPython,"var objOps = _engine.Operations;
var lib = new Lib();

foreach (string memberName in objOps.GetMemberNames(lib)) {
    _scope.SetVariable(memberName, objOps.GetMember(lib, memberName));
}
"
38081,47606,Function and class documentation best practices for Python,"def do_things(verbose=False):
    """"""Do some things.
    :param verbose: Be verbose (give additional messages).
    """"""
    raise NotImplementedError
"
5578,43173,Sign-Magnitude Binary Equivelent in Python,"for _ in range(bits - 1):
    rem = number % 2
    s.push(rem)
    number = number // 2
"
30517,69485,Python: How to pass arguments to the __code__ of a function?,">>> def spam():
...   print ""spam and"", eggs
... 
>>> exec(spam.__code__, {'eggs':'pasta'})
spam and pasta
"
39906,61988,Pandas: complex aggregation issue,"In [43]: zoomin = lambda x: None if len(np.setdiff1d(['judge', 'lawyer'], x['job type'])) else 'lawyer_judge'

In [44]: df.groupby('person').apply(zoomin)
Out[44]:
person
1            None
2            None
3    lawyer_judge
4            None
dtype: object
"
19981,78443,How do you pass data between divs and into {% if %} statements,"{% for user in pull %}
    <a href=""#pop{{user.user_id}}"">Link: {{user.user_name}} {{ user.user_id }}</a>

    <div id=""pop{{user.user_id}}"">
                {{ user.question }}
    </div>
{% endfor %}
"
24352,84814,Any one have an example that uses the element.sourceline method from lxml.html,"from lxml import etree

xml = '<doc>\n<foo>rain in spain</foo>\n</doc>'
root = etree.fromstring(xml)

print root.find('foo').sourceline # 2

root.append(etree.Element('bar'))
print etree.tostring(root)
print root.find('bar').sourceline # None
"
7058,83105,"Python: date, time formatting","import time

localtime   = time.localtime()
timeString  = time.strftime(""%Y%m%d%H%M%S"", localtime)

# is DST in effect?
timezone    = -(time.altzone if localtime.tm_isdst else time.timezone)
timeString += ""Z"" if timezone == 0 else ""+"" if timezone > 0 else ""-""
timeString += time.strftime(""%H'%M'"", time.gmtime(abs(timezone)))
"
38494,4562,Python Disable and Enable Root Privileges,"import os
print ""user who executed the code: %d"" % os.getuid()
print ""current effective user: %d"" % os.geteuid()
if os.getuid() == 0:
    os.seteuid(65534) # user id of the user ""nobody""
    print ""current effective user: %d"" % os.geteuid()
    # do what you need to do with non-root privileges here, e.g. write to a file
    print >> open(""/tmp/foobar.txt"", ""w""), ""hello world""
    os.seteuid(0)
print ""current effective user: %d"" % os.geteuid()
"
25578,35097,Using regular Python generator in Tornado coroutine,"@gen.coroutine
def query_children(node):
    ...
    raise gen.Return(children)


def walk_tree(queue, root):
    # recursive tree traversal logic
    yield root
    children = yield query_children(root)
    for child in children:
        for node in walk_tree(child):
            yield queue.put(node)
     yield queue.put(None)


def do_something():
    queue = tornado.queues.Queue()
    IOLoop.current().spawn_callback(walk_tree, queue, root)
    while True:
        node = yield queue.get()
        if node is None:
            break
        print(node)
"
12814,47794,Python create shell for several processes,"#!/usr/bin/env python
from __future__ import print_function
import os
import subprocess
import tempfile

with tempfile.NamedTemporaryFile('w', suffix='.bat', delete=False) as bat_file:
    print(precommand, file=bat_file)
    print(command, file=bat_file)
rc = subprocess.call(bat_file.name)
os.remove(bat_file.name)
if rc != 0:
    raise subprocess.CalledProcessError(rc, bat_file.name)
"
5817,30644,How to check if a given character is considered as 'special' by the Python regex engine?,">>> re.escape(""a"") == ""a""
True
>>> re.escape(""["") == ""[""
False
"
12077,71532,Python threading design,"from threading import Thread
import Queue

in_queue = Queue.Queue()
out_queue = Queue.Queue()

def work():
    while True:
        try:
            sonId = in_queue.get()
        ###do your things here
            result = sonID + 1

        ###you can even put your thread results again in another queue here
            out_queue.put(result)   ###optional


        except:
            pass
        finally:
            in_queue.task_done()

for i in range(20):

    t = Thread(target=work)
    t.daemon = True
    t.start()


for son in range(10):    
    in_queue.put(son)


in_queue.join()

while not out_queue.empty():

    result = out_queue.get()

    ###do something with your result here

    out_queue.task_done()

out_queue.join()
"
1484,7808,Checking presence of all elements of one iterable in the other without using loop in python,"set(amino).isdisjoint(set(sequence))   # True if the sets have nothing in common
set(amino).intersection(set(sequence)) # a set of common elements
"
22891,1992,Django-firebird can not work,"DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'NAME': 'testdb',
        'USER': 'testdb_user',
        'PASSWORD': 'testdbpassw',
        'HOST': '',
        'PORT': '',
    },
    'fb': {
        'ENGINE': 'firebird',
        'NAME': '/home/idle/mydb.gdb',
        'USER': 'SYSDBA',
        'PASSWORD': 'passw',
        'HOST': '127.0.0.1',
        'PORT': '3050',
        'OPTIONS': {'charset':'WIN1251', 'dialect':1} ,
    }
}
"
26952,43647,Custom address field in Django Model,"class SplitAddressWidget(forms.MultiWidget):
    def __init__(self, attrs=None):     
        widgets = []
        widgets.append(forms.TextInput(attrs=attrs))
        widgets.append(forms.TextInput(attrs=attrs))
        widgets.append(forms.TextInput(attrs=attrs))
        widgets.append(forms.TextInput(attrs=attrs))
        widgets.append(forms.TextInput(attrs=attrs))
        super(SplitAddressWidget, self).__init__(widgets, attrs)
    ...

class SplitAddressField(forms.MultiValueField):
    widget = SplitAddressWidget
    def __init__(self, *args, **kwargs):
        fields = (
                forms.CharField(required=kwargs['required']),
                forms.CharField(required=0),    
                forms.CharField(required=kwargs['required']),
                USStateField(required=kwargs['required']),
                USZipCodeField(required=kwargs['required']),
            )
        super(SplitAddressField, self).__init__(fields, *args, **kwargs)
    ...
"
9112,53732,Importing JSON data into Django View/Template,"from urllib import urlopen

def get_context_data(self, **kwargs):
    context = super(IndexView, self).get_context_data(**kwargs)
    my_stock_url = 'http://mystockpage.org/stocks/'
    context['stocks'] = json.loads(urlopen(my_stock_url).read())
    context['last_stock'] = stocks[0]['target'].split()[2].strip(')')
    return context
"
10878,8226,inconsistent formulaes in the list python,"def inconsistent(psi):
for i in range(0,len(psi)):
    for j in range(0,len(psi[i])):
        main = psi[i]
        form = psi[i][j]
        if form[0] == 'not':
            notform = form[1]
            if form and notform in main:
                print ""inconsistent: "", psi[i][j]
        else:
            notform = ('not', psi[i][j])
            if form and notform in main:
                print ""inconsistent: "", psi[i][j]
            else:
                print ""consistent: "", psi[i][j]


test = [[('not', ('box', 'p')), ('box', 'p'), ('not', 'q'), ('q'), ('diamond', 'r')], [('or', ('p', 'q')),('not',('or',('p','q')))],['not',('or', ('p', 'q'))],['r', 'q']]

inconsistent(test);
"
37075,55002,Run multiple different re.subs against single file in python,"def linecleanup():

    with open(""Server.txt1"", 'r') as file_in:
        lines = file_in.read()        

    lines = re.sub(""\s\s\s\s\<revision>"", ""Revision: "", lines)
    # Where a simple find&replace (non-regex) is required, you could just use this instead:
    # lines = lines.replace(""</version>"","" "")
    lines = re.sub(""</version>"", "" "", lines)  
    lines = re.sub(""</revision>"", "" "" + '\n', lines)    

    with open(""Server.txt3"", ""w"") as outp:
        outp.write(lines)

linecleanup()        
"
20184,38951,python access the subclasses of a class as properties,"class SubclassAttributes(type):
    def __getattr__(cls, name):  # classmethod of instances
        for subclass in cls.__subclasses__():
            if subclass.__name__ == name:
                return subclass
        else:
            raise TypeError('Class {!r} has no subclass '
                            'named {!r}'.format(cls.__name__, name))

class Base(object):
    __metaclass__ = SubclassAttributes

class Derived1(Base): pass
class Derived2(Base): pass

print Base.Derived1  # <class '__main__.Derived1'>
print Base.Derived2  # <class '__main__.Derived2'>
print Base.Derived3  # TypeError: Class 'Base' has no subclass named 'Derived3'
"
488,13529,How do I strip a character in Django admin after submission before sending value to dB?,"class MyThing( models.Model )
    color = models.CharField(...)
    def save( self, *args, **kw ):
        if self.color.startswith(""#""):
            self.color= self.color[1:]
        super( MyThing, self ).save( *args, **kw )
"
20702,2339,Using python to analyse coin tossing statistics,"import random

HTH = 0
HTT = 0
numberOfTrials = 10000

for t in xrange( numberOfTrials ):
    myList = [ random.randint(0,1), random.randint(0,1), random.randint(0,1) ]
    flips = 3
    HTHflips = HTTflips = 0

    while HTHflips == 0 or HTTflips == 0:
        if HTHflips == 0 and myList[flips-3:flips] == [1,0,1]:
            HTHflips = flips
        if HTTflips == 0 and myList[flips-3:flips] == [1,0,0]:
            HTTflips = flips
        myList.append(random.randint(0,1))
        flips += 1

    HTH += HTHflips
    HTT += HTTflips


print 'HTT :', numberOfTrials, HTT, float(HTT)/numberOfTrials
print 'HTH :', numberOfTrials, HTH, float(HTH)/numberOfTrials
"
28902,1217,Disable auto escape in python,">>> a= 'href=\""http:\/\/'
>>> a
'href=""http:\\/\\/' # the str() method is called
>>> repr(a)
'\'href=""http:\\\\/\\\\/\'' # repr() is meant to be how the object can be ""read"" back, or provide detailed information
>>> str(a)
'href=""http:\\/\\/' # see first example
>>> print a
href=""http:\/\/ # any conversion etc... is not performed, ie, you get your original string printed
"
25289,8130,Distributing memory equally (or as fair as possible),"def makeValues(G,N):
    val = G//N
    rem = G%N
    return [val]*(N-rem) + [val+1]*rem

>>> makeValues(14,3)
[4, 5, 5]
>>> makeValues(15,3)
[5, 5, 5]
>>> makeValues(16,3)
[5, 5, 6]
"
18616,30037,How do I merge columns by two in a table in pandas?,"df.iloc[:, ::2] + df.iloc[:, 1::2].values
"
5647,13504,Convert part of string to integer,"from datetime import datetime

time_obj1 = datetime.strptime(time1, '%I:%M %p')
time_obj2 = datetime.strptime(time2, '%I:%M %p')

if time_obj1 > time_obj2:
    ...
"
28415,37361,How to convert a data frame to a big matrix fast with python-pandas?,"# 1. allocating space for the output array:
output_arr = np.zeros(shape = (len(df), 5000), dtype = int)
# 2. converting DF to np.array (arr_df will be of shape (len(df),1)):
arr_df = np.array(df)
# 3. iterating:
for i in range(len(arr_df)):
    # arr_df[i] is a np.array containing a list so we have to use arr_df[i][0] to get to the tuples:
    idx, values = zip(*arr_df[i][0])
    output_arr[i,idx] = val
"
11849,14617,Twisted MySQL adbapi return dictionary,"import MySQLdb
pool = ConnectionPool(""MySQLdb"", ..., cursorclass=MySQLdb.cursors.DictCursor)
...
"
35019,73966,"How to subtract timedelta from Timestamp, support negative returns","In [123]: test_df
Out[123]:
            timestamp  arrival_time
0 2015-01-28 05:30:47      05:31:34

In [124]: test_df.dtypes
Out[124]:
timestamp        datetime64[ns]
arrival_time    timedelta64[ns]
dtype: object

In [125]: test_df['result'] = (test_df['timestamp'] - test_df['arrival_time']) - test_df['timestamp'].apply(pd.Timestamp.date).apply(pd.Timestamp)

In [126]: test_df
Out[126]:
            timestamp  arrival_time    result
0 2015-01-28 05:30:47      05:31:34 -00:00:47
"
32109,51072,Python Pandas idiom for converting TimeSeries with lists as values into a DataFrame,"In [3]: pandas.DataFrame(list(ts.values), index=ts.index)
Out[3]: 
   0  1  2  3   4
a  1  2  3  4   5
b  6  7  8  9  10
"
613,47838,How to change QTableView items Orientation from Vertical to Horizontal?,"class Model2(QAbstractTableModel):
    def __init__(self, model, parent=None):
        self.model = model
        QAbstractTableModel.__init__(self, parent)

    def rowCount(self):
        return self.model.columnCount()

    def columnCount(self):
        return self.model.rowCount()

    def data(self, a, b):
        return self.model.data(b, a)
"
12019,60293,Average Time on While Loop,"import time,random

def withTimer():
    playAgain = ""yes""
    correct = 0
    total = 0
    totalTime = 0
    etime = []
    while playAgain[0] == ""y"":
        total = total + 1
        random1 = random.randint(1, 12)
        random2 = random.randint(1, 12)
        realAnswer = random1 * random2
        start = time.time()
        humanAnswer = int(input(""What is the answer to this multiplication sum?\n"" + str(random1) + "" * "" + str(random2) + ""\n""))
        if realAnswer == humanAnswer:
            elapsed = round((time.time() - start), 1)
            etime.append(elapsed)
            correct = correct + 1
            score = str(int(correct / total * 100)) + ""%""
            if elapsed < 2:
                print(""Congratulations, you got it correct in "" + str(elapsed) + "" seconds!\nThat is a very good time!\nScore: "" + score)
            else:
                print(""Congratulations, you got it correct in "" + str(elapsed) + "" seconds!\nNow work on your time.\nScore: "" + score)            
        else:
            score = str(int(correct / total * 100)) + ""%""
            print(""Unforunately, you got this one incorrect, the actual answer was "" + str(realAnswer) + "".\nScore: "" + score)
        totalTime += elapsed
        playAgain = input(""Do you wish to play again? (yes or no)\n"")
    averageTime = totalTime / total
    averageTime1 = sum(etime) / len(etime)
    if playAgain[0] != ""y"":
        print(""Thank you for practicing your multiplication tables\nwith me\nFinal Score: "" + score + ""\nAverage Time: "" + str(averageTime) + "" AverageTime1 = ""  + str(averageTime))


withTimer()
"
16551,8727,How can I simplify and format this function?,"from string import digits, punctuation

def create_dictionary():

    words = set()

    bad_char = digits + punctuation + '...' # may need more characters
    replace = ' ' * len(bad_char)
    table = str.maketrans(bad_char, replace)

    with open('frankenstein.txt') as infile:
        for line in infile:
            line = line.strip().translate(table)
            for word in line.split():
                if len(word) > 2:
                    words.add(word)

    with open('dictionary.txt', 'w') as outfile:
        outfile.writelines(sorted(words)) # note 'lines'
"
25743,36111,Assigning one of multiple values based on what exists,"var1 = var2 = var3 = None
# code that might change the value of three variables mentioned above
myvar = var1 or var2 or var3
"
30716,21081,Python populate list from a string with separator,">>> argString=""-i,1,-m,2,-trace,on,-setlimit,500""
>>> argString.split("","")
['-i', '1', '-m', '2', '-trace', 'on', '-setlimit', '500']
"
18894,55699,Halftone Images In Python,"import Image, ImageDraw, ImageStat

def gcr(im, percentage):
    '''basic ""Gray Component Replacement"" function. Returns a CMYK image with 
       percentage gray component removed from the CMY channels and put in the
       K channel, ie. for percentage=100, (41, 100, 255, 0) >> (0, 59, 214, 41)'''
    cmyk_im = im.convert('CMYK')
    if not percentage:
        return cmyk_im
    cmyk_im = cmyk_im.split()
    cmyk = []
    for i in xrange(4):
        cmyk.append(cmyk_im[i].load())
    for x in xrange(im.size[0]):
        for y in xrange(im.size[1]):
            gray = min(cmyk[0][x,y], cmyk[1][x,y], cmyk[2][x,y]) * percentage / 100
            for i in xrange(3):
                cmyk[i][x,y] = cmyk[i][x,y] - gray
            cmyk[3][x,y] = gray
    return Image.merge('CMYK', cmyk_im)

def halftone(im, cmyk, sample, scale):
    '''Returns list of half-tone images for cmyk image. sample (pixels), 
       determines the sample box size from the original image. The maximum 
       output dot diameter is given by sample * scale (which is also the number 
       of possible dot sizes). So sample=1 will presevere the original image 
       resolution, but scale must be >1 to allow variation in dot size.'''
    cmyk = cmyk.split()
    dots = []
    angle = 0
    for channel in cmyk:
        channel = channel.rotate(angle, expand=1)
        size = channel.size[0]*scale, channel.size[1]*scale
        half_tone = Image.new('L', size)
        draw = ImageDraw.Draw(half_tone)
        for x in xrange(0, channel.size[0], sample):
            for y in xrange(0, channel.size[1], sample):
                box = channel.crop((x, y, x + sample, y + sample))
                stat = ImageStat.Stat(box)
                diameter = (stat.mean[0] / 255)**0.5
                edge = 0.5*(1-diameter)
                x_pos, y_pos = (x+edge)*scale, (y+edge)*scale
                box_edge = sample*diameter*scale
                draw.ellipse((x_pos, y_pos, x_pos + box_edge, y_pos + box_edge), fill=255)
        half_tone = half_tone.rotate(-angle, expand=1)
        width_half, height_half = half_tone.size
        xx=(width_half-im.size[0]*scale) / 2
        yy=(height_half-im.size[1]*scale) / 2
        half_tone = half_tone.crop((xx, yy, xx + im.size[0]*scale, yy + im.size[1]*scale))
        dots.append(half_tone)
        angle += 15
    return dots

im = Image.open(""1_tree.jpg"")

cmyk = gcr(im, 0)
dots = halftone(im, cmyk, 10, 1)
im.show()
new = Image.merge('CMYK', dots)
new.show()
"
35445,47629,How to set explicitly the terminal size when using pexpect,"import os
os.environ['LINES'] = ""25""
os.environ['COLUMNS'] = ""80""
# run pexpect stuff as before
"
35734,67819,How can I select 'last business day of the month' in Pandas?,">>> pd.date_range('1/1/2014', periods=12, freq='BM')
[2014-01-31 00:00:00, ..., 2014-12-31 00:00:00]
Length: 12, Freq: BM, Timezone: None
"
36665,46665,How can I open a .NET FileStream object from a Python file handle?,"import tempfile, msvcrt
import clr, msvcrt
from System.IO import FileStream, FileAccess
from System import IntPtr

with tempfile.NamedTemporaryFile(suffix='.txt', delete=False) as pyf:
    fileno=pyf.fileno()
    print ""fileno"", fileno
    handle = msvcrt.get_osfhandle(fileno)
    print ""HANDLE"", handle

    pyf.write(""Python\n"")
    pyf.flush()

    cs_handle = IntPtr.Overloads[long](handle)
    cs_fs = FileStream(cs_handle, FileAccess.Write)
    cs_fs.Write(""CLR\n"", 0, 4)
    cs_fs.Flush()

print ""file should contain a line from Python and a line from CLR: "", pyf.name
"
10716,54105,Python 2.6.6 Ubuntu Server os.environ not unicode,"for key,value in os.environ.items():
    print key + "":""+ str(type(value.decode(""utf-8"")))
"
16342,70852,Magento API Product info for a particular Store view?,">>> product_info = magento.catalog_product.info(1234, store_id)
"
4000,8871,Average values in two Numpy arrays,">>> import numpy as np
>>> old_set = [[0, 1], [4, 5]]
>>> new_set = [[2, 7], [0, 1]]
>>> (np.array(old_set) + np.array(new_set)) / 2
array([[1, 4],
       [2, 3]])
"
38700,24640,Instanstiate serialized object from a static method,"@classmethod
def load(cls, filename):
    with open(filename, 'rb') as bin_object:
        ...
    foo = cls()
    foo.lst1 = lst1
    foo.lst2 = lst2
    ...
    return foo
"
3300,40777,python subprocess and mysqldump,"from subprocess import Popen, PIPE

args = ['mysqldump', '-u', 'UNAME', '-pPASSWORD', '--add-drop-database', '--databases', 'DB']

with open(FILENAME, 'wb', 0) as f:
    p1 = Popen(args, stdout=PIPE)
    p2 = Popen('gzip', stdin=p1.stdout, stdout=f)
p1.stdout.close() # force write error (/SIGPIPE) if p2 dies
p2.wait()
p1.wait()
"
31020,84021,Dynamically Display field values in Django template (object.x),"# in the views.py:
field = 'business'


{# in the template: #}
{{ object.field }}
"
14711,84200,Random non-uniform distribution with given proportion,"import random

num = 100
prob_a = 0.6
prob_b = 0.3
prob_c = 0.1

As = int(num*prob_a) * 'A'
Bs = int(num*prob_b) * 'B'
Cs = int(num*prob_c) * 'C'

# create a list with 60 As, 30 Bs, and 10 Cs
chars = list(As + Bs + Cs)
random.shuffle(chars)

print("""".join(chars))
"
19618,45366,Python app cannot print result,"def rock(x,y):
    result = x * y
    return result

print(rock(440,400))
"
18840,77368,OpenCV Python: Draw minAreaRect ( RotatedRect not implemented),"rect = cv2.minAreaRect(cnt)
box = cv2.cv.BoxPoints(rect)
box = np.int0(box)
cv2.drawContours(im,[box],0,(0,0,255),2)
"
20364,33740,How to avoid treating strings as sequences of characters?,"for x in ([foo] if isinstance(foo, basestring) else foo)
"
593,68287,Binning pandas data by top N percent,"pd.qcut(data, [0.05, 0.1, 0.25, 0.5, 0.75, 1])
"
38845,40872,Get all HTML tags with Beautiful Soup,">>> from bs4 import BeautifulSoup
>>>
>>> html = """"""<div>something</div>
... <div>something else</div>
... <div class='magical'>hi there</div>
... <p>ok</p>""""""
>>> soup = BeautifulSoup(html, ""html.parser"")
>>> [tag.name for tag in soup.find_all()]
[u'div', u'div', u'div', u'p']
>>> [str(tag) for tag in soup.find_all()]
['<div>something</div>', '<div>something else</div>', '<div class=""magical"">hi there</div>', '<p>ok</p>']
"
9086,1233,Creating a score function in pygame with collisions,"def key_collect():
    global key_score
    global score_rect
    k_rect = pygame.draw.rect(SURF, (0,0,0), (k_spritex, k_spritey, 30, 40), 1)
    p_score_rect = pygame.draw.rect(SURF, (0,0,0), (p_spritex, p_spritey, 30, 40), 1)
    if p_score_rect.colliderect(k_rect):
        if score_rect == True:
            key_score = key_score + 100
            score_rect = False
            return key_score, score_rect
    else:
        score_rect = True
        return key_score, score_rect
"
27514,7936,odds with floating computations,">>> import math
>>> epsilon = 0.1**5
>>> (math.fabs((0.1 * 0.1) - 0.01) < epsilon)
True
>>> 
"
1722,17155,Pythonic way to iterate over a collections.Counter() instance in descending order?,">>> c = collections.Counter(a=1, b=999)
>>> c.most_common()
[('b', 999), ('a', 1)]
"
18444,2571,Selenium-webdriver count tables array,"tables = driver.find_elements_by_xpath('//*[@id=""mainholder""]/table[4]/tbody/tr[1]/td[1]/form[3]/table')
print(len(tables))
"
3803,63739,"Python, Fizz Buzz inserting the range as a parameter of the function","def fizzbuzz(num_range):
    for each in num_range:
        if each % 3 == 0 and each % 5 == 0:
            print ""fizzbuzz""
        elif each % 3 == 0:
            print ""fizz""
        elif each % 5 == 0:
            print ""buzz""
        else:
            print each

print fizzbuzz(range (1,101))
"
30789,6869,Sub-dots in python classes,"class Food(object):
    def kimchi(self):
        return 'mmm'

class country(object):
    def __init__(self):
        self.food = Food()
"
23146,12693,Why is creating a masked numpy array so slow with mask=None or mask=0,"if mask is True and mdtype == MaskType:
    mask = np.ones(_data.shape, dtype=mdtype)
elif mask is False and mdtype == MaskType:
    mask = np.zeros(_data.shape, dtype=mdtype)
"
39511,20549,Capturing subset of a string using Python's regex,"import re
seq="">Bounded_RNA_of:1DDL:Elength : 1""
match = re.search(r'>Bounded_RNA_of:(\w+):(\w)length : 1',seq)
print match.group(1), match.group(2)
"
9260,48024,"Is Python open(file,vr) supposed to update atime?","/* >> fileutils.c from Python 3.2.3 */

FILE*
_Py_fopen(PyObject *path, const char *mode)
{
#ifdef MS_WINDOWS
    wchar_t wmode[10];
    int usize;

    usize = MultiByteToWideChar(CP_ACP, 0, mode, -1, wmode, sizeof(wmode));
    if (usize == 0)
        return NULL;

    return _wfopen(PyUnicode_AS_UNICODE(path), wmode);
#else
    FILE *f;
    PyObject *bytes = PyUnicode_EncodeFSDefault(path);
    if (bytes == NULL)
        return NULL;

    /* >> Plain fopen(), nothing fancy here. */
    f = fopen(PyBytes_AS_STRING(bytes), mode);
    Py_DECREF(bytes);
    return f;
#endif
}
"
851,56886,How to change background color in ttk.Combobox's listview?,"import ttk
import Tkinter
root = Tkinter.Tk()

root.option_add(""*TCombobox*Listbox*Background"", 'green')

combo = ttk.Combobox().pack()
root.mainloop()
"
7104,70139,How to create a django User using DRF's ModelSerializer,"def restore_object(self, attrs, instance=None):
    if not instance:
        instance = super(RegisterationSerializer, self).restore_object(attrs, instance)
    instance.set_password(attrs.get('password'))
    return instance
"
13038,69105,set axis limits in matplotlib pyplot,"plt.subplot(212, sharex = ax1, sharey = ax1)
"
7725,56951,HyperlinkedIdentityField + @detail_route,"field_name = HyperlinkedIdentityfield(view_name=""group-members"")
"
5936,58886,Python: Creating Default Argument for Pushbutton Connected Function,"def __init__(self):
   self.pbLoad.clicked.connect(self.buttonClickedSlot)
def buttonClickedSlot(self):
   self.loadData()
def loadData(self,fileName = None):
   .....
"
26519,37294,Typing Text into the Tkinter Canvas Widget,"from Tkinter import *

class App(Tk):

    def __init__(self):
        Tk.__init__(self)
        # self.x and self.y are the current mouse position
        # They are set to None here because nobody has clicked anywhere yet.
        self.x = None
        self.y = None
        self.makeCanvas()
        self.bind(""<Any KeyPress>"", lambda event: self.drawText(event.keysym))

    def makeCanvas(self):
        self.canvas = Canvas(self)
        self.canvas.pack()
        self.canvas.bind(""<Button-1>"", self.mouseDown)

    def mouseDown(self, event):
        # Set self.x and self.y to the current mouse position
        self.x = event.x
        self.y = event.y

    def drawText(self, newkey):
        # The if statement makes sure we have clicked somewhere.
        if None not in {self.x, self.y}:
            self.canvas.create_text(self.x, self.y, text=newkey)
            # I set x to increase by 5 each time (it looked the nicest).
            # 4 smashed the letters and 6 left gaps.
            self.x += 5

App().mainloop()
"
15846,56647,Contour plot legent - Matplotlib,"div_neg = plt.Line2D((0, 1), (0, 0), color='white', linestyle='--', linewidth=2)
div_pos = plt.Line2D((0, 1), (0, 0), color='white', linestyle='-', linewidth=2)
rot_neg = plt.Line2D((0, 1), (0, 0), color='lightgoldenrodyellow', linestyle='--', linewidth=2)
rot_pos = plt.Line2D((0, 1), (0, 0), color='lightgoldenrodyellow', linestyle='-', linewidth=2)

plt.legend([rot_max, div_neg, div_pos, rot_neg, rot_pos],
           ['Rot Max Points', 'Div Neg', 'Div Pos', 'Rot Neg', 'Rot Pos'])
"
24139,26857,Create Multiple Python dictionaries from CSV using same column as key,"import os, csv
path = r'I:\ARC\WIP\KevinWIP\Risk\Data\PythonGui'
os.chdir(path)
DistProb_LUT = [{} for i in range(7)]
with open('DispersalKernal10m.csv', mode = 'r') as infile:
    reader = csv.reader(infile)
    for row in reader:
        DistProb_LUT[0][row[0]] = row[1]
        DistProb_LUT[1][row[0]] = row[2]
        DistProb_LUT[2][row[0]] = row[3]
        DistProb_LUT[3][row[0]] = row[4]
        DistProb_LUT[4][row[0]] = row[5]
        DistProb_LUT[5][row[0]] = row[6]
        DistProb_LUT[6][row[0]] = row[7]

print(DistProb_LUT)
"
24165,47440,Setting (mocking) request headers for Flask app unit test,"client = app.test_client()
response = client.get('/your/url/', 
                      environ_base={'HTTP_USER_AGENT': 'Chrome, etc'})
"
13942,17999,Reading Custom Document properties in MS Word File using python,"import win32com.client as win32
word = win32.Dispatch(""Word.Application"")
word.Visible = 0
word.Documents.Open(file)
try:
    csp= doc.CustomDocumentProperties('property_you_want_to_know').value
    print('property is %s' % csp)

except exception as e:
    print ('\n\n', e)

doc.Saved= False
doc.Save()
doc.Close()

word.Quit()
"
25418,60547,"python, heapq: difference between heappushpop() and heapreplace()",">>> from heapq import *
>>> a = [2,7,4,0,8,12,14,13,10,3,4]
>>> heapify(a)
>>> b = a[:]
>>> heappushpop(a, -1)
-1
>>> heapreplace(b, -1)
0
"
21277,31501,Read words backwards using python,"s=""Whatever""
print s[::-1]
"
32080,57981,How to run logic over several large apache log files in Python?,"import fileinput
from glob import glob

log_files = glob('/some/dir/with/logs/*.log')
for line in fileinput.input(log_files):
    pass # do something
"
21438,60728,Return mutable attribute as inmutable object in Python,"class PrivateList(Sequence):

    def __init__(self):
        self._list = []

    def __getitem__(self, index):
        return self._list[index]

    def __len__(self):
        return len(self._list)


class Calendar:
    def __init__(self):
        self._dict = defaultdict(PrivateList)

    def add_event(self, date, event):
        self._dict[date]._list.append(event.id)

    def get_event_ids(self, date):
        return self._dict[date]
"
7394,10090,Using regex to extract data from the following string,"se = list(set([x.strip() for x in re.split('\*+', st)]) - {''})
"
18557,47015,numpy.resize() rearanging instead of resizing?,"upsized = np.zeros([7, 7]) 
upsized[:5, :5] = a
"
8126,60423,Python list element syntax,"a = [ [1,2,3], [4,5,6] ]
a = [ [x * 2 for x in x] for x in a]
"
30446,4129,MIME Header in message when sending e-mail with Python,"FROM = ""my-username""
TO = [""recipients""]
SUBJECT = ""Stereo log: %s"" % today
fp = open(textfile, 'rb')
TEXT = MIMEText(fp.read())
fp.close()
TEXT['From'] = FROM
TEXT['To'] = "","".join(TO)
TEXT['Subject'] = SUBJECT
server = smtplib.SMTP('smtp.gmail.com', 587)
server.starttls()
server.login('my-username','mypass')
server.sendmail(FROM, TO, TEXT.as_string)
server.close()
"
35388,73938,"In Python, get another attribute of a class instance from within a class attribute","class a_class:
  def __init__(self, parent):
    self.parent = parent

  def some_method(self):
    self.parent.var1

class b_class:
  def __init__(self):
      self.var1 = ""init by the constructor or a method""
      self.a_inst = a_class(self)
"
10910,65632,Resampling in Pandas while keeping value associations,"In [60]: (df.groupby(pd.TimeGrouper('24H'))
            .agg(lambda df: df.loc[df['heat_index'].idxmax(), :]))

Out[60]: 
            air_temperature  heat_index
2015-08-01               95         103
"
33145,71762,Regular expression to match headers and sub headers followed by a bullet list,"(?P<description>^.+?)(?P<items>(?:^\* [^\n]+(?:\n|$))+)
"
12647,39277,Python: how to input python-code part like \input in Tex?,"#!/usr/bin/python
#
# Description: it works like the input -thing in Tex,
# you can fetch outside executable code, data or anything you like.
# Sorry I don't know precisely how input(things) works, maybe misusing terms
# or exaggerating.
#
# The reason why I wanted input -style thing is because I wanted to use more
# Python to write my lab-reports. Now, I don't need to mess data with 
# executions and evalutions and data can be in clean files.


#TRIAL 1: Execution and Evaluation not from a file

executeMe=""print('hello'); a = 'If you see me, it works'"";

exec( executeMe )
print(a);

#TRIAL 2: printing file content
#
# and now with files
#
# $ cat IwillPrint007fromFile
# 007

f = open('./IwillPrint007fromFile', 'r');
msg = f.read()

print(""If 007 == "" + msg + "" it works!"");


# TRIAL 3: Evaluation from a file
#
# $cat IwillEvaluateSthing.py
# #!/usr/bin/python
# #
# # Description: 
# 
# 
# evaluateMe = ""If you see me again, you are breaking the rules of Sky.""

f = open('./IwillEvaluateSthing.py', 'r');
exec(f.read());
print(evaluateMe);
"
35748,8914,Side in a Square Spiral In Python (Turtle Graphics),"from turtle import *
startLength = int(input(""Please enter the length of first side: ""))
decrement = int(input(""Please enter the change in length of side: ""))
while startLength > decrement:
    forward(startLength)
    left(90)
    startLength = startLength - decrement
forward(startLength)
"
7045,31162,Maintain a persistent Serial connection that dajaxice calls can use?,"// middleware/__init__.py
class ArduinoMiddleware:

    def __init__(self):
        self.serial = serial.Serial('/dev/ttyUSB0', 9600)
        time.sleep(1.5)

    def process_request(self, request):
        request.serialWrite = self.serialWrite

    def serialWrite(self, msg):
        try:
            self.serial.write(msg)
            return ""Running Animation""
        except:
            return ""Failed to communicate with cube""

// ajax.py
@dajaxice_register
def animate(request, data):
    msg = request.serialWrite(str(data))
    return simplejson.dumps({'message':msg})

// settings.py
...
MIDDLEWARE_CLASSES = (
  'middleware.ArduinoMiddleware',
  ...
)
"
22935,23904,Scrapy fixed URLs,"class MySpider(scrapy.Spider):
    name = ""myspider""
    start_urls = (
        'https://example.com/login', #login page
    )

    def __init__(self, *args, **kwargs):
        self.url_list = [] #your url lists
        return super(MySpider, self).__init__(*args, **kwargs)

    def parse(self, response):
        data = {}

        return scrapy.FormRequest.from_response(
            response,
            formdata=data,
            callback=self.my_start_requests
        )

    def my_start_requests(self, response):
        # ignore the login callback response
        for url in self.url_list:
            # scrapy will take care the cookies
            yield scrapy.Request(url, callback=self.parse_item, dont_filter=True)

    def parse_item(self, response):
        # your code here
        pass
"
31390,20961,Parallel axis dot plot with vertical histograms for paired samples,"import numpy as np
import matplotlib.pyplot as plt  
#--------------------------------
def points(x,y,n): # Plot n points symmetrically aligned about axes
    dx=0.03  # define distance between individual dots    
    m = 1-(n%2) # ensure symmetrical alignment for odd or even number of dots
    while(m<n):
        plt.scatter(x+(dx*m),y,color = 'k', marker = 'o', s=50, zorder=1)
        plt.scatter(x-(dx*m),y,color = 'k', marker = 'o', s=50, zorder=1)
        m+=2 
    return   
#--------------------------------   
def histogram(b): # count number of data points in each bin
    for col in range(0,2):
        count = np.unique(b[:,col], return_counts=True)  
        for n in range(0,np.size(count[col])):
            points(col,count[0][n], count[1][n])
    return
#-------------------------------        
def partition(a,bins): # partition continuous data into equal sized bins for plotting     
    lo = np.min(a)
    hi = np.max(a)
    rng = hi-lo
    step = rng/float(bins-1)

    for col in range (0,2):
        for row in range (0,int(np.size(a,axis=0))):
            for n in range (0,bins):
             if (a[row,col] <= (lo + (step / 2) + n * step)):
                 b[row,col] = (lo + (n * step))
                 break
    return(b)    
#--------------------------------    
def lines(b): # draw 'before' and 'after' lines between paired data points + median line
    for row in range (0,int(np.size(a,axis=0))):
        plt.plot([0,1],[b[row,0], b[row,1]], c='k',zorder=0, lw=1, alpha=0.3)
        plt.plot ([0,1],[np.median(b[:,0]),np.median(b[:,1])],c='r',zorder=2, lw=2, alpha=1)
    return
#================================    
# MAIN   
# Dummy paired continuous data (...or import from spreadsheet as a numpy array)\;    
a = np.array([
 [1.62,1.53,1.42,1.39,1.11,1.20,0.99,0.88,0.60,0.65,0.52,0.49,0.43,0.41,0.31], # before
[0.8,0.7,0.52,0.61,0.44,0.43,0.49,0.33,0.44,0.39,0.20,0.29,0.37,0.19,0.00] ]) # after

bins = 10 # choose total number of bins to categorise data into
ax=plt.axes()

a = a.transpose()
b=a # make a copy of the input data matrix to write categorised data to
b = partition(a,bins) # partition continuous data into bins
lines(b) # draw lines between mid points of each bin and draw median line
histogram(b) # draw histograms centered at mid points of each bin

# Make general tweaks to plot appearance here:
plt.xticks([0,1], ['OUT', 'IN'], fontsize=14)
plt.ylabel('stimulation threshold (mA)',fontsize=13)
plt.text(0.8,1.3,'All patients',fontsize=13)
ax.patch.set_facecolor('white') # set background colour for plot area (default = white)
ax.spines['top'].set_visible(False)   # remove default upper axis
ax.spines['right'].set_visible(False) # remove default right axis
plt.tick_params(axis='both',which='both',direction = 'out',top='off', right = 'off',labeltop='off') # remove tick marks from top & right axes
plt.xlim(-0.6,1.6)
plt.ylim(0,1.7)

plt.show()   
"
1341,51974,How do I pull text from a specific text line in Python?,"with open(""file.txt"") as f:
    for i in range(9):
        f.next()
    print f.readline()
"
20391,9800,python 3 how to write to file,"myFile=open('example.txt', 'wt')
myFile.write('I have written to a file.')
25
myFile.close()
myFile = open('example.txt','r')
print(myFile.read())
"
19060,57821,Merge 2 images using google app engine and python?,"from google.appengine.api import images

xpng = #Load data from x.png here, or read from BlobProperty
ypng = #Load data from y.png here, or read from BlobProperty

composite = images.composite([(xpng, 0, 0, 1.0, images.TOP_LEFT),
    (ypng, 100, 100, 1.0, images.TOP_LEFT)], 400, 400)

#composite now holds your new image data, to do what you want with
"
10346,50694,Is there any pythonic way to convert mysql TO_DAYS output into datetime?,">>> from datetime import datetime
>>> days = 736420
>>> datetime.fromordinal(days - 365)
datetime.datetime(2016, 4, 1, 0, 0)
"
36523,50698,Python script page is showing blank?,"#!/usr/local/bin/python
print ""Content-type: text/html\n""
<html>
<body>
<p>Hello, Python!</p>
</body>
</html>
"
19677,56507,How to replace a subtree in python,"def replace(node, newNode):
    if node.value == 1:
        raise ValueError(""can't replace the current node this way"")

    for index, child in enumerate(node.children):
        if child.data == 1:
            node.children[index] = newNode
            return True

        if replace(child, newNode):
            return True

    return False
"
21362,69011,Writing multi-line strings to cells using xlwt module,"import xlwt
book = xlwt.Workbook()
sheet = book.add_sheet('Test')

# A1: no style, no wrap, despite newline
sheet.write(0, 0, 'Hello\nWorld')

# B1: with style, there is wrap
style = xlwt.XFStyle()
style.alignment.wrap = 1
sheet.write(0, 1, 'Hello\nWorld', style)
book.save('test.xls')
"
31301,14119,Why does the formatting of my wxPython widget get fouled up?,"import wx

class ISC_status(wx.Panel):
    def __init__(self, parent, id=wx.ID_ANY):
        wx.Panel.__init__(self, parent, id, style=wx.SUNKEN_BORDER)
        self.initGUI()
# NOTE: remove next line for 'best fit' instead of 275x200
        self.SetMinSize((275, 200))
        self.Layout()
        self.Show()

    def initGUI(self):
# NOTE: here you created an additional (inner) panel
        #main container panel for all of the ISC status information
        sizer = wx.BoxSizer(wx.VERTICAL)
        #make the three individual checkboxes
        self.superviseCheck = wx.CheckBox(self,-1,'Supervisory Trouble')
        self.pirCheck = wx.CheckBox(self,-1,'PIR Activity')
        self.tamperCheck = wx.CheckBox(self,-1,'Tamper Tripped')
        #make the MAC hbox section
        self.macHbox = wx.BoxSizer(wx.HORIZONTAL)
        self.macLabel = wx.StaticText(self,-1,'MAC ADDR: ')
        macFont1 = wx.Font(10, wx.FONTFAMILY_DEFAULT,wx.FONTSTYLE_NORMAL,wx.FONTWEIGHT_BOLD)
        self.macLabel.SetFont(macFont1)
        macFont2 = wx.Font(10, wx.FONTFAMILY_DEFAULT,wx.FONTSTYLE_NORMAL,wx.FONTWEIGHT_NORMAL)
        self.macAddr = wx.StaticText(self,-1,'001CFAF10009F1EE')
        self.macAddr.SetFont(macFont2)
        self.macHbox.Add(self.macLabel,0,wx.RIGHT,5)
        self.macHbox.Add(self.macAddr,0,0,0)
        #make the low battery hbox section
        self.lowBatCheck = wx.CheckBox(self,-1,'Low Battery Voltage')
        self.batVoltText = wx.StaticText(self,-1, '9.9V')
        self.lowBatHbox = wx.BoxSizer(wx.HORIZONTAL)
        self.lowBatHbox.Add(self.lowBatCheck, 0,wx.RIGHT,20)
        self.lowBatHbox.Add(self.batVoltText, 0,wx.ALL,0)
        #make the pirCount hbox section
        self.pirCountHbox = wx.BoxSizer(wx.HORIZONTAL)
        self.pirCountNumber = 3
        self.pirLabel = wx.StaticText(self,-1,'PIR Count: ')
        self.pirCount = wx.StaticText(self,-1,str(self.pirCountNumber))
        self.pirReset = wx.Button(self,-1,label='Reset PIR Count')
        self.pirCountHbox.Add(self.pirLabel,0,wx.RIGHT,3)
        self.pirCountHbox.Add(self.pirCount,0,wx.RIGHT, 40)
        self.pirCountHbox.Add(self.pirReset,0,wx.ALIGN_RIGHT,0)
        self.pirReset.Bind(wx.EVT_BUTTON,self.resetPIR)
        #add all the parts to the main vbox
        sizer.Add(self.macHbox,0,wx.ALL,5)
        sizer.Add(self.superviseCheck,0,wx.ALL,5)
        sizer.Add(self.lowBatHbox,0,wx.ALL,5)
        sizer.Add(self.tamperCheck,0,wx.ALL,5)
        sizer.Add(self.pirCheck,0,wx.ALL,5)
        sizer.Add(self.pirCountHbox,0,wx.ALL,5)
# NOTE: here you set the sizer to the inner panel but there was
#       no sizer to connect it to ISC_status itself so it was
#       unreachable for the main frame and the layout was ignored
        self.SetSizer(sizer)

    def resetPIR(self,event):
        pass

    def updateOnSerial(self,flags):
        pass

class TestFrame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None)
        sizer = wx.BoxSizer(wx.VERTICAL)
        row = wx.BoxSizer(wx.HORIZONTAL)
# NOTE: set proportion to 0 if you want them 'fixed size'
        row.Add(ISC_status(self),1,wx.ALL,5)
        row.Add(ISC_status(self),1,wx.ALL,5)
        sizer.Add(row,0,wx.EXPAND)
        self.SetSizerAndFit(sizer)

app = wx.PySimpleApp()
frame = TestFrame().Show()
app.MainLoop()
"
10966,78460,Optimal and efficient way to examine python lists,"setA = set(listA)
setB = set(listB)
setA.intersection(setB)
"
35714,9169,Python reference to callback in dictionary,"import collections

class Foo(object):
    handlers = None

    def __init__(self):
        self.handlers = collections.defaultdict(set)

    def register(self, event, callback):
        self.handlers[event].add(callback)

    def fire(self, event, **kwargs):
        for handler in self.handlers.get(event, []):
            handler(**kwargs)

foo = Foo()
foo.register('one', mycallback)
foo.fire('one')
"
37960,27507,permutating on list,"from itertools import permutations
permutations([1,2,3])
"
21914,11338,Iterating Through Keys for String Replacement in Python,"#!/usr/bin/env python

# parse initial string
import json

def keyCleaner(d):
    if type(d) is dict:
        for key, value in d.iteritems():
            d[key] = keyCleaner(value)
            if '.' in key:
                d[key.replace('.', '_')] = value
                del(d[key])
        return d
    if type(d) is list:
        return map(keyCleaner, d)
    if type(d) is tuple:
        return tuple(map(keyCleaner, d))
    return d

print keyCleaner(json.loads('{""uuid"":""94e31-02f59"",""project"":{""name"":""oasis"",""job.no"":215493452,""subset"":""beta""},""time"":1412371841024}'))
"
2244,33999,Reading JSON with Python Dicts,"exec(""myvar = "" + dict1[""3.8.1""])
"
6680,83000,running executable from python with keyboard input,"p = subprocess.Popen(fullPath, shell=True, stdin=subprocess.PIPE)
stdO, stdE = p.communicate(""foo\n"")
"
16556,65351,python pandas- adding values of a column above the row you're on,"df['NewVar'] = (df.TrialDur + 0.001).cumsum()
df.loc[df.index[-1]+1, 'NewVar'] = 0
df['NewVar'] = df.NewVar.shift(1)
df.loc[0, 'NewVar'] = 0
"
26648,34930,Identify characters in a string by their relative position to a searched string?,">>> from lxml import etree
>>> from StringIO import StringIO

>>> your_string = ""</div><p></p> Random Other Text <h3>Example Text</h3><h3>Coachella Valley Music &amp; Arts Festival</h3><strong>Random Text</strong>:Random Date<br/>""

>>> parser = etree.HTMLParser()
>>> document = etree.parse(StringIO(your_string), parser)
>>> elements = document.xpath('//*[text()=""Example Text""]')

>>> elements[0].tag
'h3'
"
28373,57491,How to pass parameters to hooks in python grequests,"def hook_factory(*factory_args, **factory_kwargs):
    def response_hook(response, *request_args, **request_kwargs):
        # use factory_kwargs
        # etc.
        return None # or the modified response
    return response_hook

grequests.get(u, hooks={'response': [hook_factory(search_item=search_item)]})
"
31630,5084,Best means of extracting values from the following string in python?,"pattern = re.compile(r""\[.*?([0-9]+(?:\.[0-9]+)?).*?\]"")
pre, post = [float(x) for x in re.findall(pattern, thestring)]
"
31953,27768,How to create vector polygon objects after watershed segmentation,"polys = []
for cont in contours1:
    approx_curve = cv2.approxPolyDP(cont, 3, False)
    polys.append(approx_curve)
cv2.drawContours(img, polys, -1, (0, 255, 0), thickness=1, lineType=8)
cv2.imshow(""medicine polygons"", img)
cv2.waitKey()
"
24777,67301,How to escape all special character for regex in python,">>> s = ""11 (1)"" 
>>> import re
>>> 
>>> re.escape(s)
'11\\ \\(1\\)'
"
28625,19676,Local server address for multiple users on different computers? (Python),"# config.py

database = {
  'username': 'production_username',
  'password': 'production_password'
}

try:
  from local_config import *
catch ImportError:
  pass





# local_config.py
 database = {
  'username': 'your_username',
  'password': 'your_password'
}

from config import *
engine = create_engine('postgresql+pg8000://{0}@localhost/helloworld'.format(database['username']))
"
26570,42489,"python script to convert "" into a html tag","line = re.sub(r'""([^""]*)""', r'<h3>\1</h3>', line)
"
32537,35480,"Most efficient way to test whether each element from one array exists in a another array, using numpy",">>> xs = np.array([45982, 124, 12, 1092, 45982, 1, 985, 299, 10092])
>>> ys = np.array([1, 12, 299])
>>> np.in1d(xs, ys)
array([False, False,  True, False, False,  True, False,  True, False], dtype=bool)
"
39166,33223,Generating heatmap using pylab,"import pylab as pl
data = pl.random((25,25)) # 25x25 matrix of values
pl.pcolor(data)
pl.colorbar()
pl.show()
"
39834,58236,Convert key from dictionary to int in python,">>> d = {u'71': u' 12.3/0.2mm', u'70': u' 12.1/0.2mm', u'79': u' 13.9/0.2mm', u'78': u' 13.7/0.2mm'}
>>> 
>>> {int(k): v for k, v in d.items()}
{71: u' 12.3/0.2mm', 70: u' 12.1/0.2mm', 78: u' 13.7/0.2mm', 79: u' 13.9/0.2mm'}
"
20125,29789,django-rest-framework customize serializer's output,"def dispatch(self, request, *args, **kwargs):
    response = super(MySimpleView, self).dispatch(request, *args, **kwargs)

    data = {}
    data['out'] = response.data
    data['message'] = ""My message""

    response.data = data

    return response
"
39332,69959,Pygame Move through a list of points?,"import pygame,math
from pygame.locals import *

pygame.init()
screen=pygame.display.set_mode((640,480))
run=True
themap=pygame.image.load('map1.png')
clock=pygame.time.Clock()

class AI(object):
    def __init__(self,x,y):
        self.x=x
        self.y=y
        self.path=[(144,114),(280,114),(280,300),(100,302)]
    def update(self):
        speed=2
        if self.x<(self.path[0])[0]:
            self.x+=speed
        if self.x>(self.path[0])[0]:
            self.x-=speed
        if self.y<(self.path[0])[1]:
            self.y+=speed
        if self.y>(self.path[0])[1]:
            self.y-=speed
        z=(self.x-(self.path[0])[0],self.y-(self.path[0])[1])
        if (z[0]/-speed,z[1]/-speed)==(0,0):
            self.path=self.path[1:]
        pygame.draw.circle(screen,((255,0,0)),(self.x,self.y),3,0)
enemies=[AI(-5,114)]
while run:
    screen.blit(themap,(0,0))
    for e in enemies:
        e.update()
    for e in pygame.event.get():
        if e.type==QUIT:
            run=False
    clock.tick(60)
    pygame.display.flip()
"
23663,71776,Methods for sorting a dictionary,"lambda key: mydict[key]

def temp_function(key):
    return mydict[key]
"
12289,75995,How to compute a databasefield with the field-id,"def order_after_insert(fields, id):
    fields.update(id=id)
    db(db.order.id == id).update(order_id=db.order.order_id.compute(fields))
db.order._after_insert.append(order_after_insert)
"
20373,28342,Django - partially validating form,"class AdFormLite(AdForm):
    class Meta:
        fields = ['category', 'sub_category']
"
5265,9243,"How to prove that parameter evaluation is ""left to right"" in python",">>> def f(x, y): pass
...
>>> f(print(1), print(2))
1
2
"
19256,14144,Setting values in a numpy arrays indexed by a slice and two boolean arrays,"a[slice_][(a[slice_] > 700) & (b[slice_] > 0.5)] = 42
"
28500,80815,Replacing elements in an array in Python,">>> array = [1, 2, 3, 4, 2, -2, -3, 8, 3, 0]
>>> array = map(lambda x: x if x < 3 else 2, array)
>>> array
[1, 2, 2, 2, 2, -2, -3, 2, 2, 0]
"
38954,83171,Python + JSON serialization for MD5 hash - how can I guarantee that two equivalent objects will serialize to exactly the same string?,">>> import json
>>> d = {'this': 'This word', 'that': 'That other word', 'other': 'foo'}
>>> json.dumps(d)
'{""this"": ""This word"", ""other"": ""foo"", ""that"": ""That other word""}'
>>> json.dumps(d, sort_keys=True)
'{""other"": ""foo"", ""that"": ""That other word"", ""this"": ""This word""}'
"
24937,56239,Twisted SSE server subscribed to Redis via pubsub,"# coding: utf-8
import os
import sys
import weakref

from txredis.client import RedisClient

from twisted.web import server, resource
from twisted.internet import reactor, protocol, defer
from twisted.python import log

from utils import cors, redis_conf_from_url


log.startLogging(sys.stdout)

PORT = int(os.environ.get('PORT', 9000))
REDIS_CONF = redis_conf_from_url(os.environ.get('REDISCLOUD_URL', 'redis://localhost:6379'))
REDIS_SUB_CHANNEL = 'votes'


class RedisBroadcaster(RedisClient):
    def subscribe(self, *channels):
        self._send('SUBSCRIBE', *channels)

    def handleCompleteMultiBulkData(self, reply):
        if reply[0] == u""message"":
            message = reply[1:][1]
            self.sse_connector.broadcast(message)
        else:
            super(RedisClient, self).handleCompleteMultiBulkData(reply)


@defer.inlineCallbacks
def redis_sub():
    clientCreator = protocol.ClientCreator(reactor, RedisBroadcaster, password=REDIS_CONF.get('password'))
    redis = yield clientCreator.connectTCP(REDIS_CONF['host'], REDIS_CONF['port'])
    redis.subscribe(REDIS_SUB_CHANNEL)


class Subscribe(resource.Resource):
    isLeaf = True
    sse_conns = weakref.WeakSet()

    @cors
    def render_GET(self, request):
        request.setHeader('Content-Type', 'text/event-stream; charset=utf-8')
        request.write("""")
        self.sse_conns.add(request)
        return server.NOT_DONE_YET

    def broadcast(self, event):
        for conn in self.sse_conns:
            event_line = ""data: {}\r\n"".format(event)
            conn.write(event_line + '\r\n')


if __name__ == ""__main__"":
    sub = Subscribe()
    reactor.listenTCP(PORT, server.Site(sub))

    RedisBroadcaster.sse_connector = sub    
    reactor.callLater(0, redis_sub)

    reactor.run()
"
20172,47207,pandas DataFrame drops index when passing to kdb+ (using qPython API),"import pandas.io.data as web
import datetime
import numpy
import qpython.qconnection as qconnection # requires installation of qPython module from https://github.com/exxeleron/qPython

from qpython import MetaData
from qpython.qtype import QKEYED_TABLE


start = datetime.datetime(2010, 1, 1)
end = datetime.datetime(2015, 2, 6)
f=web.DataReader(""F"", 'yahoo', start, end) # download Ford stock data (ticker ""F"") from Yahoo Finance web service
f.ix[:5]  # explore first 5 rows of the DataFrame
# Out:
#             Open  High  Low  Close    Volume  Adj Close
#    Date
# 2010-01-04 10.17 10.28 10.05 10.28  60855800       9.43 
# 2010-01-05 10.45 11.24 10.40 10.96 215620200      10.05
# 2010-01-06 11.21 11.46 11.13 11.37 200070600      10.43
# 2010-01-07 11.46 11.69 11.32 11.66 130201700      10.69
# 2010-01-08 11.67 11.74 11.46 11.69 130463000      10.72

q = qconnection.QConnection(host = 'localhost', port = 5000, pandas = True) # define connection interface parameters. Assumes we have previously started q server on port 5000 with `q.exe -p 5000` command
q.open() # open connection
f.meta = MetaData(**{'qtype': QKEYED_TABLE}) # enforce to serialize DataFrame as keyed table
q('set', numpy.string_('yahoo'), f) # pass DataFrame to q table named `yahoo`
q('5#yahoo') # display top 5 rows from newly created table on q server 
# Out:
#              Open   High    Low  Close     Volume  Adj Close
# Date                                                         
# 2010-01-04  10.17  10.28  10.05  10.28   60855800       9.43
# 2010-01-05  10.45  11.24  10.40  10.96  215620200      10.05
# 2010-01-06  11.21  11.46  11.13  11.37  200070600      10.43
# 2010-01-07  11.46  11.69  11.32  11.66  130201700      10.69
# 2010-01-08  11.67  11.74  11.46  11.69  130463000      10.72
"
35761,84192,Can't get multiprocessing to run processes concurrently,"import abc
from Queue import Empty, Queue
from threading import Thread

class AbstractTask(object):
    """"""
        The base task
    """"""
    __metaclass__ = abc.ABCMeta

    @abc.abstractmethod
    def run_task(self):
        pass

class TaskRunner(object):

    def __init__(self, queue_size, num_threads=1, stop_on_exception=False):
        super(TaskRunner, self).__init__()
        self.queue              = Queue(queue_size)
        self.execute_tasks      = True
        self.stop_on_exception  = stop_on_exception

        # create a worker
        def _worker():
            while self.execute_tasks:

                # get a task
                task = None
                try:
                    task = self.queue.get(False, 1)
                except Empty:
                    continue

                # execute the task
                failed = True
                try:
                    task.run_task()
                    failed = False
                finally:
                    if failed and self.stop_on_exception:
                        print('Stopping due to exception')
                        self.execute_tasks = False
                    self.queue.task_done()

        # start threads
        for i in range(0, int(num_threads)):
            t = Thread(target=_worker)
            t.daemon = True
            t.start()


    def add_task(self, task, block=True, timeout=None):
        """"""
            Adds a task
        """"""
        if not self.execute_tasks:
            raise Exception('TaskRunner is not accepting tasks')
        self.queue.put(task, block, timeout)


    def wait_for_tasks(self):
        """"""
            Waits for tasks to complete
        """"""
        if not self.execute_tasks:
            raise Exception('TaskRunner is not accepting tasks')
        self.queue.join()
"
17849,18205,Matplotlib - matching axes unit length (resolution),"import matplotlib.pyplot as plt

f = plt.figure()
x = f.gca()
x.set_aspect(""equal"")
x.plot(range(10),range(10))
plt.show()
"
18774,52876,Using accelerator table without menuitem,"import wx

class MyForm(wx.Frame):

    #----------------------------------------------------------------------
    def __init__(self):
        wx.Frame.__init__(self, None, wx.ID_ANY, ""Tutorial"", size=(500,500))

        # Add a panel so it looks the correct on all platforms
        panel = wx.Panel(self, wx.ID_ANY)

        randomId = wx.NewId()
        self.Bind(wx.EVT_MENU, self.onKeyCombo, id=randomId)
        accel_tbl = wx.AcceleratorTable([(wx.ACCEL_CTRL,  ord('Q'), randomId )])
        self.SetAcceleratorTable(accel_tbl)

        text = wx.TextCtrl(panel)
        text.SetFocus()

    #----------------------------------------------------------------------
    def onKeyCombo(self, event):
        """"""""""""
        print ""You pressed CTRL+Q!""

# Run the program
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MyForm()
    frame.Show()
    app.MainLoop()
"
6355,29465,"Django, retrieving database news items promoting a certain author","from itertools import chain
q1 = RssNewItem.objects.filter(author=""author1"").order_by(""-published"")[:3]
q2 = RssNewItem.objects.exclude(author=""author1"").order_by(""-published"")[:7]
q = list(chain(q1, q2))
"
3936,22681,Finding the mean of nodes in an undirected graph,"total = 0.0
count = 0.0
for s in G:        
    G1=ShortestPaths(G,s)
    total += sum([G1[s] for s in G1])
    count += (len(G1)-1)
return float(total / count) if count else None
"
29877,32250,Serializing list to JSON,"import json
list = [1, 2, (3, 4)] # Note that the 3rd element is a tuple (3, 4)
json.dumps(list) # '[1, 2, [3, 4]]'
"
24853,72177,Optimizing removing duplicates in large files in Python,"def sortedfilter(in_fname, filter_fname, out_fname):
    with open(in_fname) as inf, open(filter_fname) as fil, open(out_fname, 'w') as outf:
        ins = inf.next()
        try:
            for fs in fil:
                while ins < fs:
                    outf.write(ins)
                    ins = inf.next()
                while ins == fs:
                    ins = inf.next()
        except StopIteration:
            # reached end of inf before end of fil
            pass
        else:
            # reached end of fil first, pass rest of inf through
            file_output.writelines(file_input.readlines())
"
18747,19518,remove tag and contents based on child tag value - python lxml,"for crew in root.xpath('.//crew[descendant::role[contains(text(), ""Primary"")]]'):
    crew.getparent().remove(crew)
"
23142,78889,PySide how to get a target on dropEvent,"def dragMoveEvent(self, event):
        super(SpecialTreeWidget, self).dragMoveEvent(event)
        mDropItem = self.itemAt(event.pos())
        if mDropItem:
            if mDropItem.scriptMenuData[""drop""]:
                event.accept()
            else:
                event.ignore()
        else:
            event.accept()
"
20344,83776,Basemap: save figure with several time-steps and to unique file name,"import netCDF4
from mpl_toolkits.basemap import Basemap
import numpy as np
import matplotlib.pyplot as plt

def u_v_components(u,v,angle):
        """""" Rotate the u, v vectors from model grid to east/north coords """"""
        u_east = (np.cos(angle)*u - np.sin(angle)*v)
        v_north = (np.sin(angle)*u + np.cos(angle)*v)
        return u_east, v_north

# Setting the map
scale  = 0.6
width  = 1800000
height = 2300000
lat_0  = 70.8
lon_0  = 25
fig, ax = plt.subplots(figsize = (10, 10))
m = Basemap(width=width*scale,height=height*scale,
        resolution='i',projection='stere',\
        lat_ts=70,lat_0=lat_0,lon_0=lon_0)

m.fillcontinents(color='#aaaaaa',lake_color='#cccccc')
m.drawcountries(linewidth=0.2)
m.drawmapboundary(fill_color='#cccccc')

m.drawparallels(np.arange(-80.,81.,5.),labels=[False,True,True,False])
m.drawmeridians(np.arange(-180.,181.,10.),labels=[True,False,False,True])

dataurl = '/Users/JDMac/norkyst_800m_surfcurr_MAY-JUL_2010_NordNorge_middel.nc'
data = netCDF4.Dataset(dataurl)

# I moved the angle and grid operations out of the loop since they
# only need to be done once.
#angle array in dataset
angle = data.variables['angle'][:,:]

#gridlons and gridlats tell us the lon and lat of each
# point in the grid. This is necessary for drawing on
# the map.
gridlons = data.variables['lon'][:,:]
gridlats = data.variables['lat'][:,:]

X, Y = m(gridlons, gridlats)

YY = np.arange(0, Y.shape[0], 10)
XX = np.arange(0, X.shape[1], 10)
points = np.meshgrid(YY, XX)

#current u-v component [time, depth, lon, lat]
u = data.variables['u'][0,0,:,:]
v = data.variables['v'][0,0,:,:]

#rotate current u-v components from model grid to east-north coordinates
u_east, v_north = u_v_components(u,v,angle)

#pytagoras' theorem to calculate the current velocity and direction
# Calculate speed for time step 0, then maintain this array to
# consistently colorize your vector plot.
speed = np.sqrt(u_east**2 + v_north**2)

# Iterate through the time steps, subsetting the data
# by time step as you go.
# I don't know what the time dimension in your dataset is named,
# so you may have to change it.
for time in range(data.dimensions['time'].size):
    #current u-v component [time, depth, lon, lat]
    u = data.variables['u'][time,0,:,:]
    v = data.variables['v'][time,0,:,:]

    #rotate current u-v components from model grid to east-north coordinates
    u_east, v_north = u_v_components(u,v,angle)

    # Added the cmap kwarg which will define what colormap is
    # used to color the arrows. Depending on your version of
    # matplotlib, jet or viridis is the default if cmap is not specified.
    m.quiver(X[points], Y[points],
                     u_east[points], v_north[points],
                     speed[points],
                     cmap=plt.cm.get_cmap('viridis'))

    # I recommend using the Basemap colorbar method
    # unless for some reason you need more control over all
    # of the colorbar properties. The colorbar method allwos you to
    # manipulate the relative size of the colorbar, the padding
    # between it and the axes, as well as the location on the map.
    cb = m.colorbar(mappable=plt.cgi(),
                       location='right')
    cb.set_label('StrÃ¸mhastighet i m/s')

    plt.tight_layout()

    # Give each output file a unique filename
    # bbox_inches='tight' will remove as much whitespace as it can
    plt.savefig('current{}.png'.format(time),
                            bbox_inches='tight',
                            dpi = 300)
    # Clear the figure before re-use
    plt.clf()

# Garbage collection should close any open figures and datasets, but
# it's good practice to do so explicitly
plt.close('all')
data.close()
"
4291,29721,Massage with BeatifulSoup or clean with Regex,"import copy, re

myMassage = [(re.compile('<!-([^-])'), lambda match: '<!--' + match.group(1))]
myNewMassage = copy.copy(BeautifulSoup.MARKUP_MASSAGE)
myNewMassage.extend(myMassage)

BeautifulSoup(badString, markupMassage=myNewMassage)
# Foo<!--This comment is malformed.-->Bar<br />Baz
"
1697,24538,Symmetric matrices in numpy?,"def pdista(X):
    """"""Squared pairwise distances between all columns of X.""""""
    B= np.dot(X.T, X)
    q= np.diag(B)[:, None]
    return q+ q.T- 2* B
"
21343,9682,Pick four cards and check if they sum to 24 - Python,"import itertools

cards = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,
         1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,
         1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,
         1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]

def selfour():
    return sum(sum(i) == 24 for i in itertools.combinations(cards, 4))
"
11445,49018,Is number prime? (no recursion or loops),"def isPrime(n):
    return 0 == sum(map(divides(n),range(2,1+int(n**.5))))
"
30622,55068,Trying to implement Fick's first law of diffusion in a simulation of water movement across cell membrane,"import numpy as np

def F(c,D,x):
    """"""Assume c and x are numpy arrays of equal size and D is a scalar""""""
    # differencing of the concentration field
    deltac = np.diff(c)
    deltax = np.diff(x)

    return -D * deltac / deltax
"
6375,19112,Regex to match 2 identical character classes in different places,"([1-8])(?:.+?)\1
"
1202,33523,Python Class Location Variables,"class Health:
    def __init__(self): #Constructor initializing the variables.
        self.player_health = 10
        self.enemy_health = 10

class Combat:
    #Attack function receives a health object called ""hitter"" 
    def attack(self, hitter):
        hitter.player_health -= 1   #Health Object hitter's player_health reduced by one. 
        return hitter

bridge = Combat() #Combat Object
hitter = Health() #Health Object

bridge.attack(hitter) #hitter.player_health is now 9.
"
4253,38195,Reversing a text and find same words - python,"filename=raw_input(""enter the file name: "")
with open(filename) as f :
    for line in f:
       for word in line.split() :
           if word == word[::-1]:
               print word
"
7745,2764,How do I loop this program in python?,"pwok = 0
print (""You password must contain lower case and uppcase characters"")
print (""It should also contain numbers as well"")

while True:
    pw = input(""Please enter a password to test: "")
    if pwok ==1:
        break
    caps = sum(1 for c in pw if c.isupper())
    lower = sum(1 for c in pw if c.islower())
    nums = sum(1 for c in pw if c.isnumeric())

    scr = ['weak', 'medium', 'strong']
    r = [caps, lower, nums]


    if len(pw) < 6:
        print(""This password is too short please Re-Enter another password"")
        continue # if you don't use continue all lines will be executed even if len < 6
    elif len(pw) > 12:
        print(""This password is too long please Re-Enter another password"")
        continue  # if you don't use continue all lines will be executed even if len > 12

    else:
        pwok = 1

    if caps >= 1:
         if lower >= 1:
              if nums >= 1:
                   print(scr[1])
              elif nums < 1:
                   print(""your password is "" + scr[1])
         elif lower < 1:
              print(""your password strength is "" + scr[1])
    elif caps < 1:
         print(""your password strength is "" + scr[1])
    if caps < 1:
         if lower < 1:
              if nums <1:
                  print(scr[3])
"
18532,37434,How to insert values of a whole column in python using xlwt,"import xlwt as xl

doc = xl.Workbook() #Create document
#Add a worksheet
sheet = doc.add_sheet(""Some Sheet"")
for i in range(100):
    #Write 2 columns
    sheet.write(i, 0, i+1) 
    sheet.write(i, 1, i*2)
    #Write result (SUM for example)
    sheet.write(i, 2, xl.Formula(""SUM(A%d:B%d)"" % (i+1, i+1)))
doc.save(""my_table.xls"")
"
105,76717,Password Checker,"import string
import random
import time

print('Welcome to the password checker')
characters = string.ascii_lowercase + string.digits + string.ascii_uppercase + \
             ' .,!?;:`""+/*()@#$&_-='
characters = list(characters)
random.shuffle(characters)

password = input(""Enter your password: "")
tryFirst = characters.pop() * len(password)

Finished = False

attempt = 0
while not Finished:
    print(""{}) {}"".format(attempt, tryFirst))
    trySecond = ''
    Finished = True
    try:
        char = characters.pop()
    except IndexError:
        print 'No more characters to check'
    for num in range(len(password)):
        if tryFirst[num] != password[num]:
            Finished = False
            trySecond += char
        else:
            trySecond += password[num]
    attempt += 1
    tryFirst = trySecond
    time.sleep(0.05)
print(""Password found! That took {} attempts"".format(attempt))
if attempt < 100:
    print(""Your password isn't safe"")
elif attempt < 250:
    print(""Your password is quite safe, could do with improvement"")
elif attempt < 400:
    print(""Your password is adequately safe"")
elif attempt < 600:
    print(""Your password is safe"")
"
34955,35419,how to convert raw images to png in python?,"rawData = open(""foo.raw"" 'rb').read()
imgSize = (x,y)
# Use the PIL raw decoder to read the data.
# the 'F;16' informs the raw decoder that we are reading 
# a little endian, unsigned integer 16 bit data.
img = Image.fromstring('L', imgSize, rawData, 'raw', 'F;16')
img.save(""foo.png"")
"
14545,45856,list intersection algorithm implementation only using python lists (not sets),">>> L1 = [1,2,3,3,4]
>>> L2 = [2,3,4,4,5]
>>> L = list()
>>> for v1 in L1:
        for v2 in L2:
            if v1 == v2 and v1 not in L:
                L.append(v1)
>>> L
[2,3,4]
"
5274,43381,How to join list of strings?,"In [1]: L = ['A', 'B', 'C']
In [2]: "" "".join(L)
Out[2]: 'A B C'
"
2621,27021,Run a cmd command with a simple button in wxpython,"def OnRun(self,event):
    path = ""/path/to/youtube-dl.py""
    url = ""http://www.youtube.com/""
    subprocess.Popen(path, url, ""--extract-audio"", ""--audio-format"", ""mp3"")
"
29106,34484,Python Average Scores,"while x >= 0:

    if x <= 100:
        total = total + x
        count+=1
        nums.append(x)

    if x>100:
        print(""Invalid entry."")

    x = int(input(""Enter a number (enter -1 to terminate): ""))
"
34436,41120,How to order this computation for numerical stability?,">>> tmp = np.array([-10**10, 10**10])
>>> tmp_max = tmp.max()
>>> log_D = log(sum(exp(tmp - tmp_max))) + tmp_max
>>> log_v = tmp - log_D
>>> v = np.exp(log_v)
>>> v
array([ 0.,  1.])
"
13159,19079,Python shell window in compiled applet,"open -a Terminal /path/to/python/script.py
"
39391,68095,How to use colormaps to color plots of Pandas DataFrames,"from matplotlib import cm
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd

df = pd.DataFrame(np.random.randint(20, size=20))
cmap = cm.get_cmap('Spectral') # Colour map (there are many others)

fig, ax = plt.subplots(1)
# Now here's the plot. range(len(df)) just makes the x values 1, 2, 3...
# df[0] is then the y values. c sets the colours (same as y values in this
# case). s is the marker size.
ax.scatter(range(len(df)), df[0], c=df[0], s=120, cmap=cmap, edgecolor='None')
plt.show()
"
26939,9482,How can I hide a django label in a custom django form?,"<form ...>
    {% for field in form.hidden_fields %}
        {{ field }}
    {% endfor %}

    {% for field in form.visible_fields %}
        {{ field.label }} {{ field }}
    {% endfor %}
</form>
"
3645,7028,How to left justify Python tkinter grid columns while filling entire cell,"for col in row:
    Label(..., anchor=""w"").grid(...)
"
19467,19038,Insert table into QTextEdit with PyQt4,"self.cursor.movePosition(QTextCursor.NextCell)
self.cursor.insertText(""second cell"")
"
16683,60913,Can you add attributes to an object dynamically?,">>> import types
>>> a = types.SimpleNamespace()
>>> a.attr1 = 123
>>> a.attr2 = '123'
>>> a.attr3 = [1,2,3]
>>> a.attr1
123
>>> a.attr2
'123'
>>> a.attr3
[1, 2, 3]
"
20173,18908,Find next available IP address in python,"from ipaddress import IPv4Network

network = IPv4Network('10.220.1.0/24')
reserved = {'10.220.1.1', '10.220.1.2', '10.220.1.3', '10.220.1.5'}

hosts_iterator = (host for host in network.hosts() if str(host) not in reserved)

# Using hosts_iterator:
print(next(hosts_iterator))  # prints 10.220.1.4
print(next(hosts_iterator))  # prints 10.220.1.6
print(next(hosts_iterator))  # prints 10.220.1.7

# Or you can iterate over hosts_iterator:
for host in hosts_iterator:
    print(host)
"
28152,27319,graph the contents of a matrix in python (using matplotlib),"import matplotlib.pyplot as plt

T = range(M.shape[0])

for i in range(M.shape[1]):
    plt.plot(T, M[:,i])

plt.show()
"
18740,27438,redirecting shell output using subprocess,"if interactive is True:
    proc = subprocess.Popen(args)
    proc.wait()
    if proc.returncode:
        print ""returncode "" + str(proc.returncode)
        sys.exit(1)
else:
    proc = subprocess.Popen(args, stdout=subprocess.PIPE,
        stderr=subprocess.PIPE)
    val = proc.communicate()
    if proc.returncode:
        print """"
        # send email with val[0] + val[1]
"
5038,3127,Upgrade Anaconda Python version,"conda install python=3.5
"
33837,5482,Placing of text by specifying distance from axes,"axScatter_Scatter.text(0.1, 0.1, r'$\mathrm{(a)}$', fontsize=12, 
        transform=axScatter_Scatter.transAxes)
axScatter_Hist.text(0.1, 0.1, r'$\mathrm{(b)}$', fontsize=12, 
        transform=axScatter_Hist.transAxes)
"
6703,24218,Python Binary File CTime 4 Bytes,">>> import time
>>> t1=time.gmtime(1284286794)
>>> t1
time.struct_time(tm_year=2010, tm_mon=9, tm_mday=12, tm_hour=10, tm_min=19, 
             tm_sec=54, tm_wday=6, tm_yday=255, tm_isdst=0)
"
33610,31617,Finding index of maximum value in array with NumPy,"a = np.random.rand(10000)
a[np.random.randint(10000, size=(10,))] = np.nan
a = a.reshape(100, 100)

def nanargmax(a):
    idx = np.argmax(a, axis=None)
    multi_idx = np.unravel_index(idx, a.shape)
    if np.isnan(a[multi_idx]):
        nan_count = np.sum(np.isnan(a))
        # In numpy < 1.8 use idx = np.argsort(a, axis=None)[-nan_count-1]
        idx = np.argpartition(a, -nan_count-1, axis=None)[-nan_count-1]
        multi_idx = np.unravel_index(idx, a.shape)
    return multi_idx

>>> nanargmax(a)
(20, 93)
"
19653,23362,python minidom parse XML feed with colon in results,"from xml.dom import minidom

src = """"""
<Schedule Season=""2010"" Timezone=""Eastern"">
  <Game gameId=""1"" Week=""1"" GameDate=""2010-09-09"" AwayTeam=""MIN"" HomeTeam=""NO"" GameTime=""8:30 PM""/>
  <Game gameId=""2"" Week=""1"" GameDate=""2010-09-12"" AwayTeam=""MIA"" HomeTeam=""BUF"" GameTime=""1:00 PM""/>
  <Game gameId=""3"" Week=""1"" GameDate=""2010-09-12"" AwayTeam=""DET"" HomeTeam=""CHI"" GameTime=""1:00 PM""/>
  <Game gameId=""4"" Week=""1"" GameDate=""2010-09-12"" AwayTeam=""OAK"" HomeTeam=""TEN"" GameTime=""1:00 PM""/>
</Schedule>
""""""

def test_print(dom):
    for node in dom.getElementsByTagName('Game'):
        print node.getAttribute('AwayTeam'),
        print node.getAttribute('HomeTeam'),
        print node.getAttribute('Week'),
        print node.getAttribute('gameId'),
        print node.getAttribute('GameDate'),
        print node.getAttribute('GameTime')
    print ''

dom = minidom.parseString(src)
test_print(dom)

dom = minidom.parse('data.xml')
test_print(dom)

f = open('data.xml', 'r')
dom = minidom.parse(f)
test_print(dom)
f.close()

url = 'http://api.fantasyfootballnerd.com/ffnScheduleXML.php?apiKey=1'
dom = minidom.parse(urllib2.urlopen(url))
test_print(dom)
"
26351,36097,Redirect an octet stream in Apache using PHP or Django,"import urllib2, mimetypes
from django.http import HttpResponse

def ForwardToSocketIO(request):
    # Capture the URL pattern
    path = request.get_full_path()

    # Create a URL opener
    response = urllib2.urlopen('http://localhost:20000%s' % path)

    # Capture and return response
    django_response = HttpResponse(response.read())
    django_response['Content-Type'] = 'octet-stream'

    return django_response
"
2007,9185,How do I extend Python with C?,"# Load ctypes, and your library
from ctypes import *
mylib = CDLL(""mylibrary.so"")

# Declare the function's prototype. This isn't strictly required.
mylib.Add.argtypes = [c_int, c_int]
mylib.Add.restype = c_int

# Call it!
result = mylib.Add(123, 456)
"
16987,74936,python subprocess output without \n,"subprocess.check_output(""echo hello world"", shell=True).strip()
"
36774,60178,Make Django-taggit show the value of the tags in admin,"class PostAdmin(admin.ModelAdmin):    
    list_display=['get_tags']

    def get_tags(self, post):
        tags = []
        for tag in post.tags.all():
            tags.append(str(tag))
        return ', '.join(tags)
"
26198,59710,How do you directly overlay a scatter plot on top of a jpg image in matplotlib / Python?,"import matplotlib.pyplot as plt
im = plt.imread(image_name)
implot = plt.imshow(im)

# put a blue dot at (10, 20)
plt.scatter([10], [20])

# put a red dot, size 40, at 2 locations:
plt.scatter(x=[30, 40], y=[50, 60], c='r', s=40)

plt.show()
"
9482,57710,How can I use a function call result in a conditional list comprehension?,"l = [j for j in (func(i) for i in range(10)) if j]
"
4046,34295,How can I add small 2D array to larger array?,"In [20]: x[1:3,1:3] += y

In [21]: print x
[[ 0  1  2  3  4]
 [ 5 72 73  8  9]
 [10 77 78 13 14]
 [15 16 17 18 19]
 [20 21 22 23 24]]
"
5158,82285,How do I only use one column of imported text file?,"filelist = ['D.txt','A.txt','S.txt']
wordbank = {}
for file in filelist:
    f = open(file, 'r')
    lines = f.readlines()
    for l in lines:
        line = l.split('\t')
        word = line[0]

        if word not in wordbank:
            wordbank[word] = 1
        else:
            wordbank[word] += 1
    f.close()

# Gather unique words
unique_words = []
for word in wordbank.keys():
    if wordbank[word] == 1:
        unique_words.append(word)
"
17260,10990,Python Beginner - Build a regex with optionnal characters,"r = '(\\w+) access = (\\w+)\\s+Vol ID = (\\w+)\\s+Snap ID = (\\w+)\\s+Inode = (\\w+)\\s+IP = ((\\d|\\.)+)\\s+UID = (\\w+)\\s+Full Path = (\\S+)\\s+Handle ID: (\\S+)\\s+Operation ID: (\\S+)\\s+Process ID: (\\d+)\\s+Image File Name: (\\w+\\s+\\w+\\s+\\w+)\\s+Primary User Name: (\\S+)\\s+Primary Domain: (\\S+)\\s+Primary Logon ID: (.....\\s+......)\\s+Client User Name: (\\S+)\\s+Client Domain: (\\S+)\\s+Client Logon ID: (\\S+)\\s+Accesses: (.*)'
"
2656,4434,Slowing down the displayed serial data in Python,"import serial
import struct
import time
#import csv
ser = serial.Serial(""COM5"",115200)
buffer = []
last_displayed = 0
while 1:
        val = ser.read(1)
        if (val == '\x7e'):
            val = ser.read(1)
            if (val == '\x5D'):
                val = ser.read(18)
                data = struct.unpack("">HHhhhhlh"",val)
                cur_time = time.time()
                if cur_time - last_displayed >= .1:  # ~10Hz
                    print data
                    last_displayed = cur_time
"
35099,3183,Class functions and Tkinter,"from Tkinter import *

fen =Tk()

class test_Tk_class:
    def __init__(self):
        self.make_title() # <------------

    def make_title(self):
        fen.title(""Test"")


a = test_Tk_class()
fen.mainloop()
"
7886,39611,printing elements from superclass in python,"class Room:
    def __init__(self, building, floor, number):
        self.building = building
        self.floor = floor
        self.number = number
    def __str__(self):
        return (str(self.building)+'.'+str(self.floor)+'.'+str(self.number))

class Occupant:
    def __init__(self, familyname, givenname, room):
        self.familyname = familyname
        self.givenname = givenname
        self.room = room

    def __str__(self):
        return '{f}, {g} -- {r}'.format(f = self.familyname, g = self.givenname, r = self.room)

room = Room('Building', 'Floor', 'Num')
occ = Occupant('Family', 'Given', room)
print(occ)
# Family, Given -- Building.Floor.Num
"
1203,12292,PySNMP can not recognize response,">>> def ipAddressPrettyIn(self, value):
...   return origIpAddressPrettyIn(self, value[:4])
...
>>> origIpAddressPrettyIn = v2c.IpAddress.prettyIn
>>> v2c.IpAddress.prettyIn = ipAddressPrettyIn
>>>
>>> msg, rest = decoder.decode(wholeMsg, asn1Spec=v2c.Message())
>>> print msg.prettyPrint()
Message:
version='version-2'
 community=public
 data=PDUs:
 response=ResponsePDU:
  request-id=6564368
  error-status='noError'
  error-index=0
  variable-bindings=VarBindList:
   VarBind:
    name=1.3.6.1.2.1.4.24.4.1.2.169.254.0.0.0.0.255.255.0.0.0.0.0
    =_BindValue:
     value=ObjectSyntax:
       application-wide=ApplicationSyntax:
       ipAddress-value=0.0.255.255
"
247,25433,Python Text Adventure Loop,"obj1 = input(...)

while obj1 not in ('a', 'b'):
    obj1 = input(""Invalid. Enter again: "")

if obj1 == 'a':
    ...
elif obj1 == 'b':
    ...
"
2590,3728,When is from_db_value called in Django 1.8?,"
for p in Person.objects.raw('SELECT * FROM myapp_person'):
    print(p)

>>> John Smith
>>> Jane Jones
"
38676,74830,Converting nested lists of data into multidimensional Numpy arrays,"d=np.array(dataPoints.tolist())
"
4481,12255,Adding an arbitrary line to a matplotlib plot in ipython notebook,"import numpy as np
import matplotlib.pyplot as plt

np.random.seed(5)
x = np.arange(1, 101)
y = 20 + 3 * x + np.random.normal(0, 60, 100)
plt.plot(x, y, ""o"")


# draw vertical line from (70,100) to (70, 250)
plt.plot([70, 70], [100, 250], 'k-', lw=2)

# draw diagonal line from (70, 90) to (90, 200)
plt.plot([70, 90], [90, 200], 'k-')

plt.show()
"
5010,39236,Multithreading vs Multiprocessing,"from Queue import Queue
import threading

class workingthread(threading.Thread):

    def __init__(self):
        threading.Thread.__init__(self)
        self._queue = Queue()

    def run(self):
        while True:

            item = self._queue.get(block=True)
            if item is None:
                return

            name, message = item
            chat = skype.CreateChatWith(name)
            chat.SendMessage(message)

    def processOne(self, data):
        self._queue.put_nowait(data)

    def stop(self):
        self._queue.put(None)
"
29143,16044,Django - how to use user_pass_test with urls,"url (
    r'^question_detail-(?P<pk>\w+)$',
    user_passes_test(not_in_group_chef, login_url='public_connexion')(
        Question_detail.as_view()
    ),
    name='detail_question'
)
"
4500,68505,Python pandas create additional dataframe columns by grouping on existing column,"df.set_index(['Yr', 'Month', 'Class'])['Cost'].unstack('Class')

Out[29]: 
Class             L        M        S         T
Yr   Month                                     
2015 1      19.2361  29.4723  48.5980  169.7630
     2      19.1506  30.0886  49.3765  167.0000
     3      19.3465  29.1991  46.2580  157.7916
     4      18.3165  28.2314  44.5844  162.3241
     5      17.4556  27.0434  42.8841  159.3457
     6      16.5343  24.9853  40.5612  153.4902
"
31726,63401,how to parse a file and write to a output file in python,"f = open('test_parsing.txt', 'rU')
f1 = open('test_parsing_out.txt', 'a')
for line in f:
    match = re.search('\w+\s+(\w+)\s+\w+\s+\w+\:', line)
    match1 = re.findall('GO:\d+', line)
    f1.write('%s %s \n'%(match.group(1), ''.join(match1)))
f1.close()
"
19780,45418,Python - Working out if time now is between two times,"import datetime

DAY, NIGHT = 1, 2
def check_time(time_to_check, on_time, off_time):
    if on_time > off_time:
        if time_to_check > on_time or time_to_check < off_time:
            return NIGHT, True
    elif on_time < off_time:
        if time_to_check > on_time and time_to_check < off_time:
            return DAY, True
    elif time_to_check == on_time:
        return None, True
    return None, False


on_time = datetime.time(23,30)
off_time = datetime.time(4,15)
timenow = datetime.datetime.now().time()
current_time = datetime.datetime.now().time()

when, matching = check_time(current_time, on_time, off_time)

if matching:
    if when == NIGHT:
        print(""Night Time detected."")
    elif when == DAY:
        print(""Day Time detected."")
"
13945,6893,Return() from functions - Im doin it wrong?,"def grabFiles(source,ext):
    import fnmatch
    import os

    matches = []
    for root, dirnames, filenames in os.walk(source):
        for filename in fnmatch.filter(filenames, '*' + ext):
            matches.append(os.path.join(root, filename))
    return matches
"
9311,68089,How to define when a class is empty,"class V:
    """"""Defines a 2D vector""""""
    def __init__(self,x,y):
        self.x = x
        self.y = y

    def __bool__(self):
        return self.x != 0 or self.y != 0

    # Python 2 compatibility
    __nonzero__ = __bool__
"
4318,16637,Printed representation of list,"' '.join(str(i) for i in your_list)
"
33249,71209,Algorithm and package to modify the pitch of the sound for certain durations repeatedly," import struct
 data = open(""pcm.raw"", ""rb"").read()
 parsed = struct.unpack(""%ih"" % (len(data)//2), data)
 # Here parsed is an array of numbers

 pos = 0.0     # position in the source file
 speed = 1.0   # current read speed = original sampling speed
 result = []

 while pos < len(parsed)-1:
     # Compute a new sample (linear interpolation)
     ip = int(pos)
     v = int(parsed[ip] + (pos - ip)*(parsed[ip+1] - parsed[ip]))
     result.append(v)

     pos += speed     # Next position
     speed += 0.0001  # raise the pitch

 # write the result to disk
 open(""out.raw"", ""wb"").write(struct.pack(""%ih"" % len(result)), result)
"
20557,63406,Parse JSON Object in python without the json library (Using only regex),"query = ""https://api.instagram.com/v1/users/""+profile_id+""/media/recent?access_token=""+token
response = urlopen(query)
the_page = response.read()
feed = {}
feed['images'] = []
feed['captions'] = []
matchImage = re.findall(r'""standard_resolution"":{""url"":""(.*?)""', the_page)
matchCaption = re.findall(r'""caption"":(.*?),(.*?),', the_page)
if len(matchImage) > 0:
    for x in xrange(0,len(matchImage)):
    image = matchImage[x].replace('\\','')
    if matchCaption[x][0] == 'null':
        feed['images'].append(image)
        feed['captions'].append('No Caption')
    else:
        caption = re.search(r'""text"":""(.*?)""', matchCaption[x][1])
        caption = caption.group(1).replace('\\','')
        feed['images'].append(image)
        feed['captions'].append(caption)
"
33216,71913,Getting the last half of string written on backwards,">>> a[:-(len(a)+1)//2:-1]
'8765'
>>> b[:-(len(b)+1)//2:-1]
'9876'
"
1510,38226,Matplotlib: imshow in 3d plot,"from mpl_toolkits.mplot3d import axes3d
import matplotlib.pyplot as plt,numpy as np
plt.clf()
fig = plt.figure(1)
ax = fig.gca(projection='3d')
X, Y, Z = axes3d.get_test_data(0.05)
ax.plot_surface(X, Y, Z, rstride=8, cstride=8, alpha=0.3)
cset = ax.contourf(X, Y, Z, zdir='z', offset=-100,
        levels=np.linspace(-100,100,1200),cmap=plt.cm.jet)
cset = ax.contourf(X, Y, Z, zdir='x', offset=-40, cmap=plt.cm.jet)
cset = ax.contourf(X, Y, Z, zdir='y', offset=40, cmap=plt.cm.jet)
ax.set_xlabel('X')
ax.set_xlim(-40, 40)
ax.set_ylabel('Y')
ax.set_ylim(-40, 40)
ax.set_zlabel('Z')
ax.set_zlim(-100, 100)    
plt.show()
"
38153,16738,Matplotlib 3d plot - associate colorbar with different axis,"import pylab as py
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import axes3d
import matplotlib as mpl
from matplotlib import cm

# Create figure and get data
fig = plt.figure()
ax = fig.gca(projection='3d')
X, Y, Z = axes3d.get_test_data(0.05)

N = (Z-Z.min())/(Z-Z.min()).max()

# Plot surface and colorbar
c1 = ax.plot_surface(Z, Y, X, rstride=8, cstride=8, alpha=0.9, facecolors=cm.PiYG_r(N))

m = cm.ScalarMappable(cmap=cm.PiYG_r)
m.set_array(X)
cbar = plt.colorbar(m)


# Labels
ax.set_xlabel('X')
ax.set_xlim3d(-100, 100)
ax.set_ylabel('Y')
ax.set_ylim3d(-40, 40)
ax.set_zlabel('Z')
ax.set_zlim3d(-40, 40)

plt.show()
"
35411,53251,"Python, True/False, integrate function into program","if(c): # Checks if C is True, 
    thenâ¦ # If so, it gets in
return â¦ # Otherwise, it goes other way
"
24216,69049,How to get area of image with boundary conditions?,"def get(img, y0, y1, x0, x1, mode=""nearest""):
    xs, ys = numpy.mgrid[y0:y1, x0:x1]
    height, width = img.shape

    if mode == ""nearest"":
        xs = numpy.clip(xs, 0, height-1)
        ys = numpy.clip(ys, 0, width-1)

    elif mode == ""wrap"":
        xs = xs % height
        ys = ys % width

    elif mode == ""reflect"":
        maxh = height-1
        maxw = width-1

        # An unobvious way of performing reflecting modulo
        # You should comment this
        xs = numpy.absolute((xs + maxh) % (2 * maxh) - maxh)
        ys = numpy.absolute((ys + maxw) % (2 * maxw) - maxw)

    elif mode == ""constant"":
        output = numpy.empty((y1-y0, x1-x0))
        output.fill(0) # WHAT THE CONSTANT IS

        # LOADS of bounds checks and restrictions
        # You should comment this
        target_section = output[max(0, -y0):min(y1-y0, -y0+height), max(0, -x0):min(x1-x0, -x0+width)]
        new_fill = img[max(0, y0):min(height, y1), max(0, x0):min(width, x1)]

        # Crop both the sections, so that they're both the size of the smallest
        # Use more lines; I'm too lazy right now
        target_section[:new_fill.shape[0], :new_fill.shape[1]] = new_fill[:target_section.shape[0], :target_section.shape[1]]

        return output

    else:
        raise NotImplementedError(""Unknown mode"")

    return img[xs, ys]
"
12337,11044,Using Python to group csv data,"rivers = {}
with open('rivers.csv', mode='rU') as f:
    reader = csv.reader(f, delimiter=',')  # dialect=csv.excel_tab?
    for n, row in enumerate(reader):
        if not n:
            # Skip header row (n = 0).
            continue  
        river, branch, length = row
        if river not in rivers:
            rivers[river] = list()
        rivers[river].append((branch, length))

>>> rivers
{'Catnip': [('1', '2145.3'), ('3', '15.4'), ('1', '88.56')],
 'Fergerson': [('1', '5.2')],
 'Peterson': [('2', '24.5'), ('2', '6.45')]}
"
37952,17790,How do I extract the offset of a WordNet synset give a synset in Python NLTK?,">>> from nltk.corpus import wordnet as wn
>>> ss = wn.synset('dog.n.01')
>>> offset = str(ss.offset()).zfill(8) + '-' + ss.pos()
>>> offset
u'02084071-n'
"
20948,10484,Self-inlining python code. (Now with MCVE!),"""""""
Usage: calcstats (--analyses <STAT>,...) ... <file> ...

Options:
    <file>                    One or more input filenames
    -a,--analyses <STAT> ...  One or more stat names to compute

""""""

import docopt
import time

_Sequence = 0
_Results = {}

def compute_stat(name):
    global _Sequence, _Results

    print(""Performing analysis: {}"".format(name))
    time.sleep(1)
    _Sequence += 1
    _Results[name] = _Sequence

def display_results(groups):
    global _Results

    groupnum = 1
    for grp in groups:
        print(""*** Group {}:"".format(groupnum))
        for stat in grp:
            print(""\t{}: {}"".format(stat, _Results[stat]))
        print(""\n"")

def parse_args():
    args = docopt.docopt(__doc__)
    args['--analyses'] = [stat.split(',') for stat in args['--analyses']]

    stat_set = set()
    stat_set.update(*args['--analyses'])
    args['STATS.unique'] = stat_set

    return args

def perform_analyses(stat_set):
    for stat in stat_set:
        compute_stat(stat)

if __name__ == '__main__':
    args = parse_args()
    perform_analyses(args['STATS.unique'])
    display_results(args['--analyses'])
"
400,81799,Animate a rotating 3D graph in matplotlib,"# First import everthing you need
import numpy as np
from matplotlib import pyplot as plt
from matplotlib import animation
from mpl_toolkits.mplot3d import Axes3D

# Create some random data, I took this piece from here:
# http://matplotlib.org/mpl_examples/mplot3d/scatter3d_demo.py
def randrange(n, vmin, vmax):
    return (vmax - vmin) * np.random.rand(n) + vmin
n = 100
xx = randrange(n, 23, 32)
yy = randrange(n, 0, 100)
zz = randrange(n, -50, -25)

# Create a figure and a 3D Axes
fig = plt.figure()
ax = Axes3D(fig)

# Create an init function and the animate functions.
# Both are explained in the tutorial. Since we are changing
# the the elevation and azimuth and no objects are really
# changed on the plot we don't have to return anything from
# the init and animate function. (return value is explained
# in the tutorial.
def init():
    x = np.linspace(0, 100, 100)
    y = np.linspace(0, 100, 100)
    ax.scatter(xx, yy, zz, marker='o', s=20, c=""goldenrod"", alpha=0.6)

def animate(i):
    ax.view_init(elev=10., azim=i)

# Animate
anim = animation.FuncAnimation(fig, animate, init_func=init,
                               frames=360, interval=20, blit=True)
# Save
anim.save('basic_animation.mp4', fps=30, extra_args=['-vcodec', 'libx264'])
"
30245,79115,Getting rid of artifacts/grid-lines when plotting 3d surfaces,"ax.plot_surface(X, Y, Z1, color='w', alpha=0.2, linewidth=0)
ax.plot_surface(X, Y, Z2, color='b', alpha=0.2, linewidth=0)
"
37873,72244,Remove certain string blocks from python string,"c = """"""(Speaking) (Laughing) Get out of here""""""

paren_count = 0
out = []

for char in c:
    if char == ""("":
        paren_count += 1
        continue
    elif char == "")"":
        paren_count -= 1
        continue
    if paren_count == 0:
        out.append(char)

print """".join(out).strip()
"
17818,44847,Creating variable names dynamically from list,"myObjs = ['myObject1','myObject2','myObject3']

for obj in myObjs:
    setattr(className, obj, mayaClass.create(vars()[objs]))
    func1()
    func2()
"
11866,30077,"ipython shell awk : Escaping ""$"" sign","!ls -l | awk '{print $$1}'
"
5807,3912,python subprocess missing arguments,"pipe = subprocess.Popen(""./args/Release/arg_count -arg"", shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
"
13128,32826,Python: Get number of years that have passed from date string,">>> import datetime
>>> before = datetime.datetime.strptime('3/6/2011','%m/%d/%Y')
>>> now = datetime.datetime.now()
>>> type(now-before)
<type 'datetime.timedelta'>
>>> (now-before).days
7
>>> float((now-before).days)/365
0.019178082191780823
"
39815,31746,using regex to grab information from an article,"#make some soup
soup = BeautifulSoup(urllib2.urlopen(url).read())

#extract byline and date text from their respective tags
try:
    byline=soup.find(""p"", {'class':'byline'}).text
    date=soup.find(""span"", {'class':'timestamp'}).text
except:
    print 'byline missing!'
"
38143,58275,How to compare 2 dictionaries stored sperately in 2 different functions within the script test.py(Python),"def module1():
    ...
    ...
    ...
    return dic1

def module2():
    ...
    ...
    ...
    return dic2:

def module3():
    d1 = module1()
    d2 = module2()
    if d1 == d2:
        print 'matched'
    else:
        print 'not matched'
"
15398,83326,Search and replace a line in a file in Python,"from tempfile import mkstemp
from shutil import move
from os import remove, close

def replace(file_path, pattern, subst):
    #Create temp file
    fh, abs_path = mkstemp()
    with open(abs_path,'w') as new_file:
        with open(file_path) as old_file:
            for line in old_file:
                new_file.write(line.replace(pattern, subst))
    close(fh)
    #Remove original file
    remove(file_path)
    #Move new file
    move(abs_path, file_path)
"
18656,49095,How do I print a line following a line containing certain text in a saved file in Python?,"import urllib2, BeautifulSoup

opener = urllib2.build_opener()
opener.addheaders[0] = ('User-agent', 'Mozilla/5.1')

response = opener.open('http://www.whitepages.com/carrier_lookup?carrier=other&number_0=1112223333&response=1').read()

bs = BeautifulSoup.BeautifulSoup(response)
print bs.findAll('div', attrs={'class': 'carrier_result'})[0].next.strip()
"
7649,58791,Cookies set on response don't seem to persist,"resp = redirect('/')
resp.set_cookie('token_key', access_token.key)
resp.set_cookie('secret_key', access_token.secret)
return resp
"
30395,10312,How to optimize this script,"for line in file:
    line = line[1:].replace(""\n"", """")
    if not line: continue
    lines = line.split("" "")
    lines.sort(key=str.lower)
    line = ''.join(lines)
    print line
"
39202,29152,Randomly mix the order of lines in a file,"import random
with open(""infile.txt"") as f:
    lines = f.readlines()
random.shuffle(lines)
with open(""outfile.txt"", ""w"") as f:
    f.writelines(lines)
"
8479,48061,Slicing by specific month,"In [132]:
df = pd.DataFrame(index=pd.date_range(dt.datetime(2015,1,1), dt.datetime(2015,5,1)))
df.loc[df.index.month==2]

Out[132]:
Empty DataFrame
Columns: []
Index: [2015-02-01 00:00:00, 2015-02-02 00:00:00, 2015-02-03 00:00:00, 2015-02-04 00:00:00, 2015-02-05 00:00:00, 2015-02-06 00:00:00, 2015-02-07 00:00:00, 2015-02-08 00:00:00, 2015-02-09 00:00:00, 2015-02-10 00:00:00, 2015-02-11 00:00:00, 2015-02-12 00:00:00, 2015-02-13 00:00:00, 2015-02-14 00:00:00, 2015-02-15 00:00:00, 2015-02-16 00:00:00, 2015-02-17 00:00:00, 2015-02-18 00:00:00, 2015-02-19 00:00:00, 2015-02-20 00:00:00, 2015-02-21 00:00:00, 2015-02-22 00:00:00, 2015-02-23 00:00:00, 2015-02-24 00:00:00, 2015-02-25 00:00:00, 2015-02-26 00:00:00, 2015-02-27 00:00:00, 2015-02-28 00:00:00]
"
16256,72476,Adding gradient to moving objects in pygame,"import pygame
pygame.init()

screen = pygame.display.set_mode((600,200))

#--------------------------------------
# circles positions and transparency (x,y, alpha)

circles = []

for x in range(100):
    circles.append( [100+x*3, 200, x*2] )

#--------------------------------------

white = True # background color

#--------------------------------------

running = True

while running:

    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False

        elif event.type == pygame.KEYDOWN:

            if event.key == pygame.K_ESCAPE:
                running = False

            elif event.key == pygame.K_SPACE:
                white = not white

    #--------------------------------------

    if white:
        screen.fill((255,255,255))
    else:
        screen.fill((0,0,0))

    #--------------------------------------
    # first

    circle_img = pygame.Surface((20,20))
    pygame.draw.circle(circle_img, (255,0,0), (10,10), 10)
    circle_img.set_colorkey(0)

    for x in circles:

        circle_img.set_alpha(x[2])

        screen.blit(circle_img, (x[0],40))

    #--------------------------------------
    # second

    circle_img = pygame.Surface((20,20))

    for x in circles:

        pygame.draw.circle(circle_img, (255,255-x[2],255-x[2]), (10,10), 10)
        circle_img.set_colorkey(0)

        screen.blit(circle_img, (x[0],90))

    #--------------------------------------
    # last

    circle_img = pygame.Surface((20,20))

    for x in circles:

        pygame.draw.circle(circle_img, (255,255-x[2],255-x[2]), (10,10), 10)
        circle_img.set_colorkey(0)
        circle_img.set_alpha(x[2])

        screen.blit(circle_img, (x[0],140))

    #--------------------------------------

    pygame.display.flip()


pygame.quit()
"
29030,72448,Counting and appending sublist elements in python,"from itertools import groupby

new_list = [sublist + [sum(1 for _ in g)] for sublist, g in groupby(list_1)]
# -> [['a', 'b', 1], ['a', 'c', 3], ['b', 'e', 1], ['d', 'q', 2]]
"
37508,62355,Django URL regular expression: make URL tolerate int or float values,"intorfloat_re = ""(\d+(?:\.\d+)?)""
"
2154,33079,OOP in python version 3.5?,"class ClassName:
    <statement-1>
    .
    .
    .
    <statement-N>
"
11410,59097,notepad++ run selected code in python console seamlessly,"c = get_config()
# use DOS style path, C:/PROGRA~2 on my 64-bit system points to C:/Program Files (x86)
c.TerminalInteractiveShell.editor = 'C:\PROGRA~2\NOTEPA~1\NOTEPA~1.exe'
# set editor for Qt Console, if you wish to use that
c.IPythonWidget.editor = 'C:\PROGRA~2\NOTEPA~1\NOTEPA~1.exe'
"
38298,77993,Find multiple regex in each line and skip result if one of the regex doesn't match,"from collections import defaultdict
import re

variables = ['VariableA', 'VariableB', 'VariableC']
regexes = [re.compile(r'(%s)[:|=|\(](-?\d+(?:\.\d+)?)(?:\))?' % (variable,))
           for variable in variables]
d = defaultdict(list)

with open(""temp.txt"") as f:
    for line in f:
        results = [regex.search(line) for regex in regexes]
        if all(results):
            for m in results:
                k, v = m.groups()
                d[k].append(v)

print d
"
29734,56910,Getting text from db as django dictionary,"for obj in MyModel.objects.all():
    value = ast.literal_eval(obj.dict_value)
    obj.dict_value = json.dumps(value)
    value.save()
"
16970,81046,Django Annotate Conditional,"user_array = User.objects.filter(charge__due_date__lte=date).annotate(amount_due=Sum('charge__amount'))
"
33065,83330,"Python: Are `hash` values for built-in numeric types, strings standardised?",">>> a = set()
>>> for i in range(1000000): a.add(str(i))
...
>>> for i in range(6, 1000000): a.remove(str(i))
...
>>> b = set()
>>> for i in range(6): b.add(str(i))
...
>>> a == b
True
>>> list(a)
['1', '5', '2', '0', '3', '4']
>>> list(b)
['1', '0', '3', '2', '5', '4']
"
27461,39913,How would I go about converting parts of a string read-in from a file to an int,"info = []
with open('small.txt', 'r') as inputFile:
    for line in inputFile:
        line = line.strip()
        if line != '':
            try:
                (a,b,c,d) = [ll.strip() for ll in line.split(',')] 
                info.append([a, int(b), int(c), float(d)])
            except IOError as (errno, strerror):
                print ""I/O error %s: %s"" % (errno, strerror)
            except ValueError:
                print ""Malformed line:"" + line
            except:
                print ""Unexpected error:"", sys.exc_info()[0]
                raise
"
10114,4739,"Kivy layout positioning problems - not understanding/properly using __init__, kv, kv properties","class RackWidget(RelativeLayout):

    def __init__(self, game, **kwargs):
        super(RackWidget, self).__init__(**kwargs)
        print(""TileRackWidget pos:"", self.pos)

        x, y = 0, 0
        for symbol in game.symbols:
            tileWidget = TileWidget(symbol=symbol, pos= (x,y))
            self.add_widget(tileWidget)
            print(""tileWidget pos:"", tileWidget.pos)
            x+=50
"
35543,63308,Plotting a scatter plot of a dataframe,"import pandas as pd

# Just some values.
df = pd.DataFrame({
    'a': np.random.rand(5),
    'b': np.random.rand(5),
    'c': np.random.rand(5)})

# Now for the plots.

# Plot a values at 1.
plot(df.a, [1] * 5, '+');
# Plot b values at 2.
plot(df.b, [2] * 5, '+');
# Plot c values at 3.
plot(df.c, [3] * 5, '+');
# Ensure extreme points visible.
ylim(0, 4)
# Set the ticks to 'a', 'b', and 'c'.
yticks([1, 2, 3], ['a', 'b', 'c']);
"
18027,68316,Mock instance isn't using property code,"def test_sum(self):
    my_model = MyModel(field_one=1,
                       field_two=2,
                       field_three=3,
                       )
    self.assertEqual(my_model.sum, 6)
"
2975,52458,Limiting queue length with PyZMQ,"Python 2.5.1 (r251:54863, Aug 25 2008, 20:50:04) 
[GCC 4.1.2 20071124 (Red Hat 4.1.2-42)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> import zmq.core
>>> context=zmq.Context()
>>> socket = context.socket(zmq.PULL)
>>> socket.setsockopt(zmq.RCVBUF, 256)
>>> socket.setsockopt(zmq.HWM, 1)
>>> socket.bind(""tcp://127.0.0.1:12345"")
"
9415,76766,How to get the frequency of a square wave in a python script,"import time

NUM_CYCLES = 10
start = time.time()
for impulse_count in range(NUM_CYCLES):
    GPIO.wait_for_edge(25, GPIO.FALLING)
duration = time.time() - start      #seconds to run for loop
frequency = NUM_CYCLES / duration   #in Hz
"
5575,5442,Generating a graph recursively - Python,"hasht = \
{
    ""A"" : [""B"", ""D"", ""E""],
    ""B"" : [""C""],
    ""C"" : [""D"", ""E""], 
    ""D"" : [""C"", ""E""], 
    ""E"" : [""B""]
}

def recursive(start, finish):
    paths=[]
    def recursive_helper(path, finish):
        for i in hasht[path[-1]]:
            if i == finish:
                paths.append(path + [i])
                continue
            else:
                recursive_helper(path + [i], finish)
    recursive_helper([start], finish)
    return paths

print recursive(""C"", ""C"")
"
16939,71417,Keeping the color scaling the same for different plots - Python,"import numpy as np
import matplotlib.pyplot as plt

origin = 'lower'
#origin = 'upper'

delta = 0.025

x = y = np.arange(-3.0, 3.01, delta)
X, Y = np.meshgrid(x, y)
Z1 = plt.mlab.bivariate_normal(X, Y, 1.0, 1.0, 0.0, 0.0)
Z2 = plt.mlab.bivariate_normal(X, Y, 1.5, 0.5, 1, 1)
Z = 10 * (Z1 - Z2)

levels = np.linspace(-3,2,50)
Vmin   = -1.
Vmax   = 1.
M = np.ma.array(Z, mask=((Z<Vmin)|(Z>Vmax)))

#levels = np.hstack(([Vmin], levels, [Vmax]))

f, (ax1, cax1, ax2, cax2) = plt.subplots(1,4,gridspec_kw={'width_ratios':[9,1,9,1]})
cf1 =  ax1.contourf(X, Y, M, levels=levels)
plt.colorbar(cf1, cax=cax1)
cf2 = ax2.contourf(X, Y, M*0.5, levels=levels)
plt.colorbar(cf2, cax=cax2)
"
5614,68369,How to use default sorting in peewee meta class,"class Sample(PMBaseModel):
    id = peewee.PrimaryKeyField()
    location = peewee.CharField(max_length=255)
    position = peewee.IntegerField()

    class Meta:
        db_table = 'sample'
        order_by = ['-location']
"
32248,50514,How do I remove an item from a Python list by value?,"animals.remove(""penguin"")
"
21891,3118,Creating a JSON object from a tabbed tree text file,"f = open(""/tmp/test.txt"", ""r"")

depth = 0
root = { ""txt"": ""root"", ""children"": [] }
parents = []
node = root
for line in f:
    line = line.rstrip()
    newDepth = len(line) - len(line.lstrip(""\t"")) + 1
    print newDepth, line
    # if the new depth is shallower than previous, we need to remove items from the list
    if newDepth < depth:
        parents = parents[:newDepth]
    # if the new depth is deeper, we need to add our previous node
    elif newDepth == depth + 1:
        parents.append(node)
    # levels skipped, not possible
    elif newDepth > depth + 1:
        raise Exception(""Invalid file"")
    depth = newDepth

    # create the new node
    node = {""txt"": line.strip(), ""children"":[]}
    # add the new node into its parent's children
    parents[-1][""children""].append(node)

json_list = root[""children""]
print json_list
"
25416,59776,marking columns in sqlalchemy tables,"class ModelFoo(Base):
    __tablename__ = 'foo'
    id = Column(""id"", Integer, primary_key=True, autoincrement=True)
    os = Column(String, nullable=False)
    platform = Column(String)
    search_cols = [""os"", ""value""]

for k, v in list(Base._decl_class_registry.items()):
    if (hasattr(v, ""search_cols"")):
        cols = [getattr(v, val) for val in v.search_cols]
        query = sess.query(*cols)
        solr.add(query.all())
"
39903,23201,What is the best possible way to calculate the sum of digits of a number?,"int num = 1234;
double sum = num.ToString().Sum(s => Char.GetNumericValue(s));
"
19742,45915,Numpy Permutations of a 3D Matrix,"import numpy as np
import itertools

arr = np.array([[[1,2], [3,4]],
                [[5,6], [7,8]]])

for p in itertools.permutations(arr.reshape(-1, 2)):
    print(np.array(p).reshape(arr.shape))
"
3658,11387,Python fabric is not executng script locally,"# Run script on local machine.
def run_local_script(self, path, script):
    print(""Path:""+path)
    with lcd(path):
        local('.' + script)
"
35809,56109,How to print a value associated with a minimized residual - Python,"p[residuals.index(min(residuals))]
"
22932,31792,Include editable=false fields in ModelFormSet,"class MyModelForm(forms.ModelForm):
    created_on = forms.DateField(widget=forms.DateInput(attrs={'readonly': 'readonly'}))

    def __init__(self, *args, **kwargs):
        super(MyModelForm, self).__init__(*args, **kwargs)

        if self.instance:
            if not self.initial.get('created_on'):
                self.initial['created_on'] = self.instance.created_on

    class Meta:
        model = MyModel
        fields = ('field1', 'field2', 'etc', 'created_on')
"
27207,76326,Fetching multiple urls with aiohttp in Python 3.5,"import aiohttp
import asyncio

async def fetch(session, url):
    with aiohttp.Timeout(10):
        async with session.get(url) as response:
            return await response.text()

async def fetch_all(session, urls, loop):
    results = await asyncio.wait([loop.create_task(fetch(session, url))
                                  for url in urls])
    return results

if __name__ == '__main__':
    loop = asyncio.get_event_loop()
    urls = ['http://cnn.com',
            'http://google.com',
            'http://twitter.com']
    with aiohttp.ClientSession(loop=loop) as session:
        htmls = loop.run_until_complete(
            fetch_all(session, urls, loop))
        print(htmls)
"
21864,51540,for loop with input - PYTHON,"pizza_number= int(input(""How many Pizzas do you want? (MAX 5): ""))
PIZZA_LIST=[""Tandoori chicken: $8.50"", ""Prawn: $8.50"", ""Ham and cheese: $8.50"", ""Pepperoni: $8.50"", ""Hawaiian: $8.50"",""Beef and onion: $8.50"",""Meat lovers: $8.50"", ""Satay chicken: $13.50"", ""Apricot chicken: $13.50"", ""Supreme cheese:13.50"", ""Italian beef: $13.50"", ""Mediterraneo: $13.50""]
pizzas = []
for i in range(pizza_number):
    for index in range(0, len(PIZZA_LIST)):
        print(index, PIZZA_LIST[index])
    pizza = int(input(""Select a pizza: ""))
    pizzas.append(pizza)
"
15270,42924,Rounding down integers to nearest multiple,"def round_down(num, divisor):
    return num - (num%divisor)

In [2]: round_down(19,10)
Out[2]: 10

In [3]: round_down(19,5)
Out[3]: 15

In [4]: round_down(10,10)
Out[4]: 10
"
30249,76540,New class and built-in type for Python file objects: Am I thinking about this the wrong way?,"def check_conditions(file):
    #return true if SrcFile conditions are met

def convert_record(line):
    #generate the string you want to print for the record

for file in files:
    if check_conditions(file):
        with open(file) as file:
            for line in file:
                if <regexp match>:
                    record = convert_record(line)
                    <write to tempfiles>
"
24090,69923,keeping Python script alive constantly to check for changes,"import time

try:
    while True:
        time.sleep(1)  # 1s
except KeyboardInterrupt:
    print(""Bye!"")
"
33167,65823,Python Tkinter - recovering original default key binding,"import sys
if sys.version_info[0]<3:
    import Tkinter as tk
else:
    import tkinter as tk

#Root window
root = tk.Tk()

#Tab override handler
def overrideTab(*args):
    root.bind('<Tab>', stopTab)

def stopTab(event=None, *args):
    if ctrlChk4.get()==1:
        print('Tab is overridden')
        return ""break""
    else:
        print('Tab is not overridden') #Note that it still prints this.

#Control variable
ctrlChk4 = tk.IntVar()
ctrlChk4.trace('w',overrideTab)

#GUI widgets
fra1  = tk.Frame(root)
chk1 = tk.Checkbutton(fra1,
                      text='First checkbutton')
chk2 = tk.Checkbutton(fra1,
                      text='Second checkbutton')
chk3 = tk.Checkbutton(fra1,
                      text='Third checkbutton')
chk4 = tk.Checkbutton(fra1,
                      text='Tab override',
                      variable=ctrlChk4)

fra1.grid(row=0,column=0,sticky=tk.W,padx=10,pady=10)
chk1.grid(row=0,column=0,sticky=tk.W,padx=(10,0),pady=(5,0))
chk2.grid(row=1,column=0,sticky=tk.W,padx=(10,0),pady=(5,0))
chk3.grid(row=2,column=0,sticky=tk.W,padx=(10,0),pady=(5,0))
chk4.grid(row=3,column=0,sticky=tk.W,padx=(10,0),pady=(5,0))

tk.mainloop()
"
2844,34466,What's a more elegant rephrasing of this cropping algorithm? (in Python),"size = min(image.Size)

originX = image.Size[0] / 2 - size / 2
originY = image.Size[1] / 2 - size / 2

cropBox = (originX, originY, originX + size, originY + size)
"
20399,83417,My while loop does not quit python,"while not done:
  for level in range(1,13):
       Code...
       # add ""not done"" as a condition to get out of this loop:
       while running and not done:
            Code.....

            #10 - Win/Lose check

            if healthvalue<=0:
                done=True
       # break out of the for loop
       if done == True:
         break
"
20709,31165,How to add a new functionality to a command line arparse menu?,"p.add_argument(""-sw"", action=""store"", help=""Enter a specific file to process"")
"
33956,31067,Combine two python decorators into one,"def requireAuthentication(json=False):
    def decorator(fn):
        def wrapper(**kwargs):
            # Is user logged on?
            if ""user"" in request.session:
                return fn(**kwargs)

            # No, return error
            if json:
                return {
                    ""exception"": ""NotAuthorized"",
                    ""error"" : ""You are not authorized, please log on""
                }
            redirect('/login?url={0}{1}'.format(request.path, (""?"" + request.query_string if request.query_string else '')))
        return wrapper
    return decorator
"
12804,56300,Modifying a numpy array in-place or how to get a reference to a numpy array to be updated,"class Store(object):
    ...
    @property
    def price(self):
        return self.data.price
"
15677,62443,Calling a function on captured group in re.sub(),"def base64_encode(match):
    """"""
    This function takes a re 'match object' and performs
    The appropriate substitutions
    """"""

    group = match.group(1)
    ... #Code to encode as base 64
    return result

re.sub(...,base64_encode,s,flags=re.I)
"
5137,9332,what is the correct way to process 4 bits inside an octet in python,"v = ord(data[17])
major = (v & 0xF0) >> 4
minor = (v & 0x0F)
"
15705,27035,How do I make python-bottle log send its stdout to a file?,"log = open('/dev/shm/access_log', 'a')
with daemon.DaemonContext(stderr=log):
  run(host='0.0.0.0', port=8080)
"
12526,59359,Digital clock in status bar in python 3 and tkinter,"import sys    
from tkinter import *
import time

def tick():
    global time1
    # get the current local time from the PC
    time2 = time.strftime('%H:%M:%S')
    # if time string has changed, update it
    if time2 != time1:
        time1 = time2
        clock.config(text=time2)
        # calls itself every 200 milliseconds
        # to update the time display as needed
        # could use >200 ms, but display gets jerky
    clock.after(200, tick)

root = Tk()
time1 = ''

status = Label(root, text=""v1.0"", bd=1, relief=SUNKEN, anchor=W)
status.grid(row=0, column=0)

clock = Label(root, font=('times', 20, 'bold'), bg='green')
clock.grid(row=0, column=1) 

tick()
root.mainloop()
"
38141,6708,"""For item in list"" loop, need explanation","lst = [1,2,3,4,5]
for number in lst:
   print number #number is 1 then 2 then 3... every iteration its different according to lst

# output:
1
2
3
4
5
"
27860,54304,create column of column heading with greatest value pandas python,"In [69]:
df['max_value'] = df.ix[:,1:].apply( lambda x: '/'.join(df.ix[:,1:].columns[x == x.max()]), axis=1)
df

Out[69]:
  column1  value1  value2  value3      max_value
0       a       1       5       8         value3
1       b       2       4       4  value2/value3
2       c       3       3       5         value3
3       d       4       2       2         value1
4       e       5       1       3         value1
"
27733,59508,scrapy: access spider class variable in pipeline __init__,"from scrapy import signals


class MyPipeline(object):

    def __init__(self, mysetting):
        # do stuff with the arguments...
        self.mysetting = mysetting

    @classmethod
    def from_crawler(cls, crawler):
        settings = crawler.settings
        instance = cls(settings['CUSTOM_SETTINGS_VARIABLE']
        crawler.signals.connect(instance.spider_opened, signal=signals.spider_opened)
        return instance

    def spider_opened(self, spider):
        # do stuff with the spider: initialize resources, etc.
        spider.log(""[MyPipeline] Initializing resources for %s"" % spider.name)

    def process_item(self, item, spider):
        return item
"
1851,11033,Excel and lists with Python,"def getOutputs(s):
    keep = []
    for row_index in range(28):
        v = s.cell_value(row_index, 1)
        if v != """" :
            keep.append(v)
    return keep
"
16379,296,Append object to end of list,"from junit_xml import TestSuite, TestCase

test_cases=[]

lines = open('testresults.log').readlines()

for line in lines:
    testresult = line.split("","")
    test_cases.append(testresult[0])

print test_cases
"
16725,14385,PHP passing a class as a reference?,"class SomeClass {}
$s = 'SomeClass';
$someClassInstance = new $s();
"
11862,42018,chain.from_iterable( repeat(load) ) in Python,"for idx, row in enumerate(
   islice(
       chain.from_iterable(repeat(load)),
       task_id, min(task_id + step_size, last_step)
   )):
"
21195,18146,Python write to file without overwriting current txt,"with open(""games.txt"", ""a"") as text_file:
"
27315,31805,Django form not inserting form values,"if request.method == 'POST':
    form = FormHelp(request.POST)

    if form.is_valid():
        help_def.org = form.cleaned_data.get(""org"")
        help_def.help_type = form.cleaned_data.get(""help_type"")
        help_def.help_type = form.cleaned_data.get(""help_content"")
        help_def.save()
"
452,66916,Generate password from input string,"import hashlib, base64
print base64.b85encode(hashlib.sha256(b""hello world"").digest())
# output: b'xlJdzlTAJdr7lv}+I_3~#DwqTdQ*VzkcjuJ;_uDr'
"
20616,26538,Reading an HTML File from Folder in Python,"HtmlFile = open(fname, 'r', encoding='utf-8')
source_code = HtmlFile.read() 
"
32755,75564,Changing the hour with datetime.replace() in python,">>> import datetime
>>> d = datetime.datetime(2010, 12, 25, 18, 25)
>>> d + datetime.timedelta(hours = 8)
datetime.datetime(2010, 12, 26, 2, 25)
"
38148,62252,Logically zooming in/out in canvas,"from __future__ import division
import Tkinter

ORIGINAL_WIDTH  = 32
ORIGINAL_HEIGHT = 32
WINDOW_WIDTH  = 512
WINDOW_HEIGHT = 512
WIDTH_RATIO  = WINDOW_WIDTH/ORIGINAL_WIDTH
HEIGHT_RATIO = WINDOW_HEIGHT/ORIGINAL_HEIGHT

class App(Tkinter.Tk):

    def __init__(self, *args, **kwargs):
        Tkinter.Tk.__init__(self, *args, **kwargs)
        self.canvas = canvas = Tkinter.Canvas( self,
                                               highlightthickness = 0,
                                               width  = WINDOW_WIDTH,
                                               height = WINDOW_HEIGHT )
        self.canvas.pack()
        # Create a list for holding canvas objects
        self.scene = []
        # Draw objects and scale them
        self.draw()
        self.zoom()


    def draw(self):
        canvas = self.canvas

        # Draw rectangles within the range of 0..32 x 0..32
        rect1 = canvas.create_rectangle(  2,  0, 30,  2, fill='black' )
        rect2 = canvas.create_rectangle(  0,  2,  2, 30, fill='black' )
        rect3 = canvas.create_rectangle( 30,  2, 32, 30, fill='black' )
        rect4 = canvas.create_rectangle(  2, 30, 30, 32, fill='black' )
        rect5 = canvas.create_rectangle( 10, 10, 22, 22, fill='black' )

        self.scene.extend( (rect1, rect2, rect3, rect4, rect5) )

    def zoom(self):
        canvas = self.canvas
        # Scale all objects on scene
        for item in self.scene:
            canvas.scale( item, 0, 0, WIDTH_RATIO, HEIGHT_RATIO )

App().mainloop()
"
9714,75179,Python + PHP + Lighttpd?,"fastcgi.server = (
"".php"" => ((
""bin-path"" => ""/usr/bin/php5-cgi"",
""socket"" => ""/tmp/php.socket""
)),
""django.fcgi"" => (
""main"" => (
""host"" => ""127.0.0.1"",
""port"" => 9090, #set the port numbers to what-eva you want
),
),
""admin.fcgi"" => (
""admin"" => (
""host"" => ""127.0.0.1"",
""port"" => 9091,
)
)
)
"
323,83873,Reverse loop inside a loop with same list,"for n1, n2 in izip(num, reversed(num)):
    print n1, '\t', n2
"
4615,4447,"Loading txt file into dict, excluding commented rows, but commented row has dict keys","if not line.startswith('#'):
    data.append(line.rstrip().split(';'))
elif line.startswith(""# Headers:"")
    # remove the ""Headers: "" part
    after = line.rstrip().split("": "")[1]
    # split around the commas to create the header list
    header = after.split("", "")
"
38810,14311,What should a proper http post response be in restify?,"var restify = require('restify');
var server = restify.createServer();

var post_handler = function(req, res, next){
    res.send('ok');
    next();
}

server.post(url_path, post_handler);

server.listen(8000);
"
36810,78095,Set X/Y axis in imshow in Python,"plt.imshow(image, extent=(-30,30,-30,30)) # (left, right, bottom, top)
"
7821,77254,Stuck framing validation condition in python,"from collections import OrderedDict
packets = [
    ('S1', 'A'), ('S2', 'A'), ('S1', 'B'),
    ('S2', 'B'), ('S1', 'A'), ('S1', 'B')
]



# seen_packets = OrderedDict() # if order is required
seen_packets = dict()

for ssid, mac in packets:
    print ""Considering SSID "", ssid, "" and MAC "", mac
    ssid_mac = (ssid, mac)
    if ssid_mac in seen_packets:
        print ""Seen this before - not adding""
    else:
        data_for_packet = True # your own data here (timestamp?)
        print ""Never seen this SSID/MAC combo before""
        seen_packets[ssid_mac] = data_for_packet

print ""Unique ssid,mac pairs with data:""
for (ssid, mac), data in seen_packets.iteritems():
    print ssid, mac, data
"
5142,71307,"Infinite loop in a lambda, print only maximum values?","from __future__ import print_function #needed python 2.7 only


import random
example_expression = lambda: random.random()

a = [0]
b = [-1]

[ print(a[0]) 
  for i in iter(int,1) #causes an infinite loop
  if  not a.__setitem__(0,example_expression()) #__setitem__ will return None 
  and a[0]>b[0] 
  and not b.__setitem__(0,a[0])  ]
"
15443,8526,Redirect after form validation fails,"from django.core.urlresolvers import reverse

def comment(request):
    if request.method == 'POST': 
        form = CommentForm(request.POST) 
        if form.is_valid(): 
            # save, process, etc..
            # ...
            return HttpResponseRedirect(
                reverse('question', args=[form.cleaned_data.question])
            ) 
    else:
        form = CommentForm()
    return render(request, 'question.html', {'form': form})
"
32838,85059,Change the default domain of Client() in unittest of Django,"response = self.c.get('/emails/html/upload', SERVER_NAME=""mydomain.com"")
"
15954,2189,"How to open an application in Python, and then let the rest of the script run?","from subprocess import Popen
midori_process = Popen([""midori""])
"
15837,65253,"How can a ""dead man's switch"" be written in Python, something that monitors for an interaction in a specified time?","import signal
TIMEOUT = 20 * 60 # secs to wait for interaction

def interrupted(signum, frame):
    ""called when read times out""
    print('Exiting')

signal.signal(signal.SIGALRM, interrupted)

def i_input():
    try:
            print('You have 20 minutes to interact or this script will cease to execute')
            foo = input()
            return foo
    except:
            # timeout
            return

# set alarm
signal.alarm(TIMEOUT)

inp = i_input()

# disable the alarm if not wanted any longer
# signal.alarm(0)
"
15477,63398,Inserting datetime into a SQLite Database,"from datetime import datetime
time = datetime.now().strftime(""%B %d, %Y %I:%M%p"")
cur.execute(""insert into apple values (?,?,?)"",(price,time,date))
con.commit()

#prints:
>>>('132.75', ""Apr 27, 2015 09:38AM"", 'Apr 27, 2015')
"
26133,66234,Why does Python count single-char strings as identical?,"PyObject *
PyString_FromStringAndSize(const char *str, Py_ssize_t size)
{
    // ...
    if (size == 1 && str != NULL &&
        (op = characters[*str & UCHAR_MAX]) != NULL)
    {
        Py_INCREF(op);
        return (PyObject *)op;
    }
    // ...
}
"
37140,79238,Why isinstance() method returning True (Python 3.xx),">>> isinstance('asd',(str,bool,int))
True
"
1847,77842,How to Abstract the way this concrete Thread classes are called?,"class Foo:
    def __init__(self, settings, pluggable_action):
       ...
       self.pluggable_action = pluggable_action
    def start_threads(self):
       ....
       post_thread = self.pluggable_action(...)
       ...

 foo = Foo(settings, A) # or B
"
6387,11597,"Python unicode-escape: use only \uNNNN codes, no \xNN","#!/usr/bin/env python3
import json

print(json.dumps(u'XÃ¼X â YÅYÃ¶'))
# -> ""X\u00fcX \u2192 Y\u0153Y\u00f6""
"
32148,16554,SqlAlchemy look-ahead caching?,"# load all categories, then hold onto them
categories = Session.query(Category).all()

for user in Session.query(User):
    print user, user.category  # no SQL will be emitted for the Category
"
23231,71629,What is the correct way to make my PyQt application quit when killed from the console (Ctrl-C)?,"import signal
import sys

from PyQt4.QtCore import QTimer
from PyQt4.QtGui import QApplication, QMessageBox

# Your code here

def sigint_handler(*args):
    """"""Handler for the SIGINT signal.""""""
    sys.stderr.write('\r')
    if QMessageBox.question(None, '', ""Are you sure you want to quit?"",
                            QMessageBox.Yes | QMessageBox.No,
                            QMessageBox.No) == QMessageBox.Yes:
        QApplication.quit()

if __name__ == ""__main__"":
    signal.signal(signal.SIGINT, sigint_handler)
    app = QApplication(sys.argv)
    timer = QTimer()
    timer.start(500)  # You may change this if you wish.
    timer.timeout.connect(lambda: None)  # Let the interpreter run each 500 ms.
    # Your code here.
    sys.exit(app.exec_())
"
20600,42386,Is it possible to override a single textfield in Django admin?,"class MyModelForm(forms.ModelForm):
    class Meta:
         model = MyModel
         widgets = {
             'field1': Textarea(attrs={'rows':1, 'cols':40}),
         }

...
class MyModelAdmin(admin.ModelAdmin):
    form = MyModelForm
"
12462,54224,How to determine if data is valid tar file without a file?,"from tarfile import TarFile, TarError
from StringIO import StringIO

sio = StringIO(data)
try:
    tf = TarFile(fileobj=sio)
    # process the file....
except TarError:
    print ""Not a tar file""
"
24990,70516,PyQt4 - Drag and Drop,"#!/usr/bin/python
# -*- coding: utf-8 -*-

import sys
from PyQt4 import QtGui, QtCore


class Button(QtGui.QPushButton):
    def mouseMoveEvent(self, e):
        if e.buttons() != QtCore.Qt.RightButton:
            return

        # write the relative cursor position to mime data
        mimeData = QtCore.QMimeData()
        # simple string with 'x,y'
        mimeData.setText('%d,%d' % (e.x(), e.y()))

        # let's make it fancy. we'll show a ""ghost"" of the button as we drag
        # grab the button to a pixmap
        pixmap = QtGui.QPixmap.grabWidget(self)

        # below makes the pixmap half transparent
        painter = QtGui.QPainter(pixmap)
        painter.setCompositionMode(painter.CompositionMode_DestinationIn)
        painter.fillRect(pixmap.rect(), QtGui.QColor(0, 0, 0, 127))
        painter.end()

        # make a QDrag
        drag = QtGui.QDrag(self)
        # put our MimeData
        drag.setMimeData(mimeData)
        # set its Pixmap
        drag.setPixmap(pixmap)
        # shift the Pixmap so that it coincides with the cursor position
        drag.setHotSpot(e.pos())

        # start the drag operation
        # exec_ will return the accepted action from dropEvent
        if drag.exec_(QtCore.Qt.CopyAction | QtCore.Qt.MoveAction) == QtCore.Qt.MoveAction:
            print 'moved'
        else:
            print 'copied'


    def mousePressEvent(self, e):
        QtGui.QPushButton.mousePressEvent(self, e)
        if e.button() == QtCore.Qt.LeftButton:
            print 'press'



class Example(QtGui.QWidget):
    def __init__(self):
        super(Example, self).__init__()
        self.initUI()


    def initUI(self):
        self.setAcceptDrops(True)

        button = Button('Button', self)
        button.move(100, 65)

        self.buttons = [button]

        self.setWindowTitle('Copy or Move')
        self.setGeometry(300, 300, 280, 150)


    def dragEnterEvent(self, e):
        e.accept()


    def dropEvent(self, e):
        # get the relative position from the mime data
        mime = e.mimeData().text()
        x, y = map(int, mime.split(','))

        if e.keyboardModifiers() & QtCore.Qt.ShiftModifier:
            # copy
            # so create a new button
            button = Button('Button', self)
            # move it to the position adjusted with the cursor position at drag
            button.move(e.pos()-QtCore.QPoint(x, y))
            # show it
            button.show()
            # store it
            self.buttons.append(button)
            # set the drop action as Copy
            e.setDropAction(QtCore.Qt.CopyAction)
        else:
            # move
            # so move the dragged button (i.e. event.source())
            e.source().move(e.pos()-QtCore.QPoint(x, y))
            # set the drop action as Move
            e.setDropAction(QtCore.Qt.MoveAction)
        # tell the QDrag we accepted it
        e.accept()



if __name__ == '__main__':
    app = QtGui.QApplication(sys.argv)
    ex = Example()
    ex.show()
    app.exec_()  
"
38413,59801,Checking if row items of two columns in a pandas dataframe are the same,"C.loc[C['time'] == C['session'], ] = ...result of some operation...
"
31138,50683,Py2exe version number for com dll,"setup(
    windows = [
              {'script': PyAppName,
               'icon_resources':[(0, Icon)],
               'dest_base' : Exe[:-4],
               'version' : AppVers,
               'company_name' : ""JoaquinAbian"",
               'copyright' : ""No Copyrights"",
               'name' : AppName 
              }
              ],
"
8101,79277,Models and database views in django,"class Entity(Models):
    NORMAL, LARGE, SMALL = 0, 1, 2
    ETYPE = (
        (NORMAL, 'Normal'),
        (LARGE, 'Large'),
        (SMALL, 'Small'),
    )
    entity_type = IntegerField(choices=ETYPE,...)

    name = CharField()
    size = FloatField()
    smalltype = ForeignKey(SmallEntityType)
    ...
"
26729,1759,Making Tkinter windows show up in the taskbar,"try:
    from tkinter import *
except ImportError:
    from Tkinter import *


class NewRoot(Tk):    
    def __init__(self):
        Tk.__init__(self)
        self.attributes('-alpha', 0.0)

class MyMain(Toplevel):
    def __init__(self, master):
        Toplevel.__init__(self, master)
        self.overrideredirect(1)
        self.attributes('-topmost', 1)
        self.geometry('+100+100')
        self.bind('<ButtonRelease-3>', self.on_close)  #right-click to get out

    def on_close(self, event):
        self.master.destroy()


if __name__ == '__main__':

    root = NewRoot()
    root.lower()
    root.iconify()
    root.title('Spam 2.0')

    app = MyMain(root)
    app.mainloop()
"
6045,76004,Testing Python Decorators?,"from nose.tools import assert_equal
from mock import Mock

class TestLoginRequired(object):
    def test_no_user(self):
        func = Mock()
        decorated_func = login_required(func)
        request = prepare_request_without_user()
        response = decorated_func(request)
        assert not func.called
        # assert response is redirect

    def test_bad_user(self):
        func = Mock()
        decorated_func = login_required(func)
        request = prepare_request_with_non_authenticated_user()
        response = decorated_func(request)
        assert not func.called
        # assert response is redirect

    def test_ok(self):
        func = Mock(return_value='my response')
        decorated_func = login_required(func)
        request = prepare_request_with_ok_user()
        response = decorated_func(request)
        func.assert_called_with(request)
        assert_equal(response, 'my response')
"
30226,30879,Flask Stream Output Of Function To Browser,"@app.route('/')
def aws_api_route_puppet_apply(ip=None):
    def generate():
        for row in somemethod(var1,var2,var3):
            yield row + '\n'
    return Response(generate(),  mimetype='application/json')
"
16451,14276,Implementing Simple CAPTCHA in Bottle,"@route('/form', method='POST')
def print_form():
    value = request.forms.get('answer')
    time_given_by_server =  request.forms.get('time_given_by_server')#also hidden

    captcha = hashlib.sha1(""%s%s""% (request.forms.get('captcha'), time_give_by_server)).hexdigest()
    if value != catcha or time.time()-time_given_by_server > (60*5):#5 mintues is ok i guess...
        return 'Wrong.'
    else:
        return 'Correct.'
"
15674,61104,Finding a corresponding leaf node for each data point in a decision tree (scikit-learn),"from sklearn.datasets import load_iris
from sklearn import tree

# load data and divide it to train and validation
iris = load_iris()

num_train = 100
X_train = iris.data[:num_train,:]
X_valida = iris.data[num_train:,:]

y_train = iris.target[:num_train]
y_valida = iris.target[num_train:]

# convert data to float32
X_train = X_train.astype('float32')

# fit the decision tree using the train data set
clf = tree.DecisionTreeClassifier()
clf = clf.fit(X_train, y_train)

# Now I want to know the corresponding leaf node id for each of my training data point
clf.tree_.apply(X_train)

# This gives the leaf node id:
array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2])
"
313,7097,"what is a ""_dispatch()"" method in SimpleXMLRPCServer in python","        XML-RPC calls are forwarded to a registered function that
        matches the called XML-RPC method name. If no such function
        exists then the call is forwarded to the registered instance,
        if available.

        If the registered instance has a _dispatch method then that
        method will be called with the name of the XML-RPC method and
        its parameters as a tuple
        e.g. instance._dispatch('add',(2,3))

        If the registered instance does not have a _dispatch method
        then the instance will be searched to find a matching method
        and, if found, will be called.

        Methods beginning with an '_' are considered private and will
        not be called.""
"
19422,18901,Generating movie from python without saving individual frames to files,"import matplotlib.animation as animation
import numpy as np
from pylab import *


dpi = 100

def ani_frame():
    fig = plt.figure()
    ax = fig.add_subplot(111)
    ax.set_aspect('equal')
    ax.get_xaxis().set_visible(False)
    ax.get_yaxis().set_visible(False)

    im = ax.imshow(rand(300,300),cmap='gray',interpolation='nearest')
    im.set_clim([0,1])
    fig.set_size_inches([5,5])


    tight_layout()


    def update_img(n):
        tmp = rand(300,300)
        im.set_data(tmp)
        return im

    #legend(loc=0)
    ani = animation.FuncAnimation(fig,update_img,300,interval=30)
    writer = animation.writers['ffmpeg'](fps=30)

    ani.save('demo.mp4',writer=writer,dpi=dpi)
    return ani
"
5659,53450,How to add timestamp to Python writelines()?,"from datetime import datetime
datetime.now()
A = ['ABC', 'PQR', 'XYZ']
f = open(""test.dat"", 'w')
f.writelines(list(u'\u27B3 '.encode('utf-8') + str(datetime.now().strftime(""%H:%M:%S"")) + ' - %s\n' % i for i in A))
f.close()
"
11603,45696,What is the best way to end this thread when a function is called?,"poison = None # something you wouldn't normally put in the Queue

class test(threading.Thread):

    def __init__(self):
        threading.Thread.__init__(self)
        self.request_queue = Queue.Queue()

    def kill(self):
        self.addtoqueue(poison)

    def addtoqueue(self, item):
        self.request_queue.put(item)

    def run(self):
        while True:
            item = self.request_queue.get(True)
            if item is poison:
                # do stuff
                return # end thread
            print item
"
39162,47608,Custom legend in matplotlib,"from matplotlib.pyplot import *
ds = [1,2,3]
dc = [1.1, 1.9, 3.2]
asim = [1.5, 2.2, 3.1]
ac = [1.6, 2.15, 3.1]

categories = ['simulated', 'calculated']

p1, = plot(ds, 'ko', label='D simulated')
p2, = plot(dc, 'k:', label='D calculated')
p3, = plot(asim, 'b+', label='A simulated')
p4, = plot(ac, 'b-', label='A calculated')
p5, = plot([0], marker='None',
           linestyle='None', label='dummy-tophead')
p7, = plot([0],  marker='None',
           linestyle='None', label='dummy-empty')

leg3 = legend([p5, p1, p2, p5, p3, p4],
              [r'$D_{etc}$'] + categories + [r'$A_{etc}$'] + categories,
              loc=2, ncol=2) # Two columns, vertical group labels

leg4 = legend([p5, p7, p5, p7, p1, p2, p3, p4],
              [r'$D_{etc}$', '', r'$A_{etc}$', ''] + categories + categories,
              loc=4, ncol=2) # Two columns, horizontal group labels

gca().add_artist(leg3)

#If there isn't a big empty spot on the plot, two legends:
#leg1 = legend([p1, p2], categories, title='D_etc', loc=0)
#leg2 = legend([p3, p4], categories, title='A_etc', loc=4)
#gca().add_artist(leg2) 

show()
"
17667,20888,Merging multiple blocking generator functions in python,"import socket
import time
from Queue import Queue
from threading import Thread

HOST = ""127.0.0.1""
PORT = 8008


def iterate_socket(sock):
    while True:
        data = sock.recv(1024)
        yield data
        if not data: # End of the stream
            return

def consume(q, s):
    for i in s:
        q.put(i)

def merge(xs, ys):
    q = Queue()
    iters = [xs, ys]
    for it in iters:
        t = Thread(target=consume, args=(q, it))
        t.start()

    done = 0
    while True:
        out = q.get()
        if out == '':  # End of the stream.
            done += 1
            if done == len(iters): # When all iters are done, break out.
                return
        else:
            yield out

sock1 = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock1.connect((HOST, PORT))
time.sleep(1)
sock2 = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock2.connect((HOST, PORT))

iter1 = iterate_socket(sock1)
iter2 = iterate_socket(sock2)

for msg in merge(iter1, iter2):
    print msg,
"
25123,33955,python regular expression with re.split(),"x=""400-IF(3>5,5,5)+34+IF(4>5,5,6)""
print [i for i in re.split(r""IF\([^)]*\)"",x) if i]
"
7220,58795,Splitting a string to find data contained within it,"s = '| 17-09-14 | bob | 123-456-7899 |'

>>> s.split('|')[2].strip()
'bob'

>>> s.split('|')[2].strip() == 'bob'
True
"
19091,13623,Changing x-axis without changing index in pandas,"tso1=tso.groupby(['Day','Year']).mean().unstack()
#################creat the datetime index#################################
date=[]
for i in range(len(tso1.index)-1):
    date.append(parser.parse(num2date(tso1.index[i]).replace(year=2000).isoformat("" "")))
date.append(parser.parse(num2date(tso1.index[len(tso1.index)-2]).replace(year=2000).isoformat("" "")))
######################################################################################################
ax = pandas.DataFrame(tso1.values,index=date).plot()
"
15460,38860,How to write a list of combinations to a file in python,"import itertools
stuff = [1,2,3]

with open('out.txt','w') as f :
   for i in range(0, len(stuff)+1):
      for subset in itertools.combinations(stuff, L):
        f.write(str(subset))
"
5125,27471,"Django-Tagging - count and ordering top ""tags"" (Is there a cleaner solution to mine?)","{% regroup tags|dictsort:""count"" by count as sorted_tags %}
...
{% for count in sorted_tags %}
...
    {% for tag in count %}
    ...
    {% endfor %}
{% endfor %}
"
20520,77460,Options for building a python web based application,"from flask import Flask
app = Flask(__name__)

@app.route(""/"")
def hello():
    return ""Hello World!""

if __name__ == ""__main__"":
    app.run()
"
14713,8596,"django, group model by days","query = Game.objects.all().query
query.group_by = ['date']
results = QuerySet(query=query, model=Game)
"
25955,48397,Can SQLAlchemy eager/joined loads be suppressed once set up?,"from sqlalchemy.orm import lazyload
joe = (s2.query(User)
    .options(lazyload('addresses'))
    .filter_by(name = ""Joe"").one())
for addr in joe.addresses:
    print addr.address
"
9309,11899,reshape an irregular list in python,">>> wide_list = [[1,['a','b','c']],[2,['d','e']],[3, ['f']]]
>>> long_list = [[k, v] for k, sublist in wide_list for v in sublist]
>>> long_list
[[1, 'a'], [1, 'b'], [1, 'c'], [2, 'd'], [2, 'e'], [3, 'f']]
"
12557,74411,I want one backslash - not two,"mystr.decode('string_escape')
"
2092,82622,Python - Matplotlib name of save fig with function,"def Plot_field(field,name):
    vmin = field.mean()-5*field.std()
    vmax = field.mean()+5*field.std()
    v = np.linspace(vmin, vmax, 15, endpoint=True)
    plt.tricontourf(Xnew, Ynew, field, v, cmap=plt.cm.hot)
    x = plt.colorbar(ticks=v)
    print x
    # plt.scatter(Pos_integr_inst_tplus1[:,1], Pos_integr_inst_tplus1[:,2],marker='s',s=20.)    
    plt.savefig(name+ str(instant[0]) + "".png"")
    # plt.show()

# Plot_field(V)

Plot_field(VM,""VM"")
"
10974,55170,Comma separated Matrix from txt files - continued,"import os

outFile = 'C:/CompanyFiles/Matrix.txt'
folder = 'C:/CompanyFiles'

with open(outFile, 'w') as wfp:
    for f in os.listdir(inFolder):
        tmp = [line.rstrip() for line in open(os.path.join(folder, f), 'r')]
        arr = tmp[0].split('-')
        arr = [arr[0]] + arr[1].split('_')
        arr += [t.split(':')[1].strip() for t in tmp[1:]]
        wfp.write(','.join([""'"" + e + ""'"" for e in arr]) + '\n')
"
16099,74405,Count the number of files in a folder that have certain strings,"dict={}
for doc in os.listdir('..'):
    doc2 = '..'
    with open (doc2, 'r') as inF:
        for line in inF:
            while no < 10:
                c = vt + (repr(no)) 
                if c in line:
                    numberOfElements = 0
                    if dict.has_key(c):
                        numberOfElements = dict[c]
                        numberOfElements += 1
                    else:
                        numberOfElements = 1
                    dict[c] = numberOfElements
                no += 1

for key in dict.keys():
    print key, dict[key]
"
29292,68398,Regex negative lookahead ignoring comments,">>> import re
>>> s = """"""#   url(r'^MATCH1/$',),
   #url(r'^MATCH2$',),
    url(r'^MATCH3$',), # comment""""""
>>> re.findall(r""(?m)^\s*url\(r'\^([^$]+)"", s)
['MATCH3']
"
27192,26650,How to make a bar plot of non-numerical data in pandas,"df = pd.DataFrame(data={""age"": randint(10, 50, 1000),
                    ""response"": [choice(['Yes', 'No']) for i in range(1000)]})

df['age_group'] = pd.cut(df.age, bins=[g for g in range(10, 51, 5)], include_lowest=True)
df.head()

   age response age_group
0   48      Yes  (45, 50]
1   31       No  (30, 35]
2   25      Yes  (20, 25]
3   29      Yes  (25, 30]
4   19      Yes  (15, 20]

import seaborn as sns
sns.countplot(y='response', hue='age_group', data=df, palette=""Greens_d"")
"
37971,14688,wxPython Splitter windows and Panels,"import wx
import wx.grid as gridlib

########################################################################
class LeftPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent=parent)

        grid = gridlib.Grid(self)
        grid.CreateGrid(25,12)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(grid, 0, wx.EXPAND)
        self.SetSizer(sizer)

########################################################################
class RightPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent=parent)
        txt = wx.TextCtrl(self)


class MyForm(wx.Frame):

    def __init__(self):
        wx.Frame.__init__(self, None, wx.ID_ANY, ""Splitter Tutorial"")

        splitter = wx.SplitterWindow(self)
        leftP = LeftPanel(splitter)
        rightP = RightPanel(splitter)

        # split the window
        splitter.SplitVertically(leftP, rightP)
        splitter.SetMinimumPaneSize(20)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(splitter, 1, wx.EXPAND)
        self.SetSizer(sizer)

# Run the program
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MyForm()
    frame.Show()
    app.MainLoop()
"
9548,30614,matplotlib - making labels for violin plots,"    import random
    import numpy as np
    import matplotlib.pyplot as pl
    import matplotlib.patches as mpatches
    from itertools import repeat

    red_patch = mpatches.Patch(color='red')
    # 'fake' invisible object

    pos   = [1, 2, 4, 5, 7, 8]
    label = ['plot 1','plot2','ghi','jkl','mno','pqr']
    data  = [np.random.normal(size=100) for i in pos]

    fake_handles = repeat(red_patch, len(pos))

    pl.figure()
    ax = pl.subplot(111)
    pl.violinplot(data, pos, vert=False)
    ax.legend(fake_handles, label)
    pl.show()
"
37209,35801,How can I implement this program using a dictionary rather than a list?,"def SSN():
    store = {}
    while True:
        name = input('Enter Name: ')
        if not name:
            for k, v in store.items():
                print(k + ' has SSN ' + v)
            break

        if name in store:
            if input(name + ' has SSN ' + store[name] + '. Update? ') != 'y':
                continue

        store[name] = input('Enter SSN: ')
"
22042,81858,Add line number when adding line to a file,"if area > 1000: 
    with open(output_file, ""r+"") as f:
        linecount = sum(1 for _ in output_file)
        f.write(""%s %s %s\n"" % (linecount + 1, a, b))
"
12450,29223,Python - writing print,"min = 5
max = 10
b = 0
a = -2
if a < min:
  min = a
if a > max:
  max = a
else:            <-- this is executed only if: `a > max`: is `False`
  b += 1
print b, max, min
#1 10 -2
"
28737,31926,Django - iterating a queryset produces hundreds of queries,"class VarListView(TemplateView):
    def get_context_data(self, **kwargs):
        # Call the base implementation first to get a context
        context = super(VarListView, self).get_context_data(**kwargs)
        context['locations'] = self.locations()
        context['locvarnames'] = self.locavarnames()
        context['locvars'] = self.locvars()
        return context
"
1921,48036,"Misbehaving QSignals in QThreadPool, QRunnable using QThead on top of it in python","class StreamPool(**QtCore.QThread**):
  def __inti__(self, inputs, q_app):
    super(StreamPool, self).__init()

    self.inputs = inputs
    self.q_app = q_app

    self.pool = QtCore.QThreadPool()

  def **run**(self):
    for each_input in self.inputs:
      runner = StreamRunner(each_input, self.q_app)
      runner.signal.operation_started.connect(self.mark_as_start)
      runner.signal.operation_finished.connect(self.mark_as_start)
      self.pool.start(runner)
"
33921,14089,Python version of Java's 'class extends'?,"class SubClass(BaseClass):
    ...
"
33606,44908,numpy array to scipy.sparse matrix,">>> import numpy, scipy.sparse
>>> A = numpy.array([[0,1,0],[0,0,0],[1,0,0]])
>>> Asp = scipy.sparse.csr_matrix(A)
>>> Asp
<3x3 sparse matrix of type '<type 'numpy.int64'>'
    with 2 stored elements in Compressed Sparse Row format>
"
30298,68329,unable to install library from github using pip,"Updating ./src/python-boilerpipe clone
Running setup.py (path:/Users/mj/Development/venvs/stackoverflow-3.4/src/python-boilerpipe/setup.py) egg_info for package python-boilerpipe
Traceback (most recent call last):
  File ""<string>"", line 17, in <module>
  File ""/Users/mj/Development/venvs/stackoverflow-3.4/src/python-boilerpipe/setup.py"", line 27, in <module>
    download_jars(datapath=DATAPATH)
  File ""/Users/mj/Development/venvs/stackoverflow-3.4/src/python-boilerpipe/setup.py"", line 22, in download_jars
    for tarinfo in tar.getmembers():
  File ""/Users/mj/Development/Library/buildout.python/parts/opt/lib/python3.4/tarfile.py"", line 1738, in getmembers
    self._load()        # all members, we first have to
  File ""/Users/mj/Development/Library/buildout.python/parts/opt/lib/python3.4/tarfile.py"", line 2311, in _load
    tarinfo = self.next()
  File ""/Users/mj/Development/Library/buildout.python/parts/opt/lib/python3.4/tarfile.py"", line 2246, in next
    self.fileobj.seek(self.offset)
  File ""/Users/mj/Development/Library/buildout.python/parts/opt/lib/python3.4/gzip.py"", line 573, in seek
    self.read(1024)
  File ""/Users/mj/Development/Library/buildout.python/parts/opt/lib/python3.4/gzip.py"", line 365, in read
    if not self._read(readsize):
  File ""/Users/mj/Development/Library/buildout.python/parts/opt/lib/python3.4/gzip.py"", line 449, in _read
    self._read_eof()
  File ""/Users/mj/Development/Library/buildout.python/parts/opt/lib/python3.4/gzip.py"", line 482, in _read_eof
    crc32, isize = struct.unpack(""<II"", self._read_exact(8))
  File ""/Users/mj/Development/Library/buildout.python/parts/opt/lib/python3.4/gzip.py"", line 286, in _read_exact
    raise EOFError(""Compressed file ended before the ""
EOFError: Compressed file ended before the end-of-stream marker was reached
"
23378,69381,file pointer down then over,"f=open('output.$2k','r+')
f.seek(300)
f.write('\n')
f.close()
"
7019,52560,Lambda objective function for python linear optimisation,"import numpy as np

x = np.diag((1,1))
c = np.linalg.solve(x,objective(x))

res = linprog(c, A_ub=A, b_ub=b, bounds=(x0_bounds, x1_bounds),
             options={""disp"": True})
"
17013,8929,Where does the function end to add success message/send email - Django/Python,"from django.contrib import messages

class DeleteEventView(DeleteView):
    ...
    def delete(self, request, *args, **kwargs):
        response = super(DeleteEventView, self).delete(request,
                                                       *args, **kwargs)
        deleted_event = self.object
        messages.success(request, 'Event %s deleted.' % deleted_event)
        return response
"
3418,82000,Uploading a Single Static File to GAE Using app.yaml,"- url: /page.html
  static_files: page.html
  upload: /page.html
- url: /page.css
  static_files: page.css
  upload: /page.css
"
33150,84591,How to find out number/name of unicode character in Python?,">>> s = ""\N{BLACK SPADE SUIT}""
>>> s
'â '
>>> import unicodedata
>>> unicodedata.name(s)
'BLACK SPADE SUIT'
>>> ord(s)
9824
>>> hex(ord(s))
'0x2660'
"
31826,29604,How can I create an empty n*m PNG file in Python?,"from PIL import Image
image = Image.new('RGB', (n, m))
"
17859,68916,How do I store a list of Python dictionaries in MySQL the Pythonic way?,"def encoding(val):
    if isinstance(val, unicode):
        return val.encode('utf-8')
    else:
        return str(val)


for id, val in mydict.items():
    data = dict(reduce(lambda x, y: x+y, [v.items() for v in val]) + [('id', id)])
    sorted_keys = sorted(map(str, data.keys()))
    sorted_vals = map(encoding, [v[k] for k in sorted_keys])  # sorted by keys
    format = ', '.join([""'%s'""] * len(sorted_vals))
    c.execute(""insert into deldictmysql
               (%s) values (%s)"" % (', '.join(sorted_keys), format), sorted_vals)
"
1222,76446,second derivative of fadeeva function from scipy.special,"import numpy as np
import matplotlib.pyplot as plt
from scipy.special import wofz


def Z(x):
    return wofz(x)

## first derivative of wofz (analytically)
def Zp(x):
    return -2/1j/np.pi**0.5 - 2*x*Z(x)

def dawsn_expansion(x):
    # Accurate to order x^-9, or, relative to the first term x^-8
    # So when x > 100, this will be as accurate as you can get with
    # double floating point precision.
    y = 0.5 * x**-2
    return 1/(2*x) * (1 + y * (1 + 3*y * (1 + 5*y * (1 + 7*y))))

def dawsn_expansion_drop_first(x):
    y = 0.5 * x**-2
    return 1/(2*x) * (0 + y * (1 + 3*y * (1 + 5*y * (1 + 7*y))))

def dawsn_expansion_drop_first_two(x):
    y = 0.5 * x**-2
    return 1/(2*x) * (0 + y * (0 + 3*y * (1 + 5*y * (1 + 7*y))))

def blend(x, a, b):
    # Smoothly blend x from 0 at a to 1 at b
    y = (x - a) / (b - a)
    y *= (y > 0)
    y = y * (y <= 1) + 1 * (y > 1)
    return y*y * (3 - 2*y)

def g(x):
    """"""Calculate `x + (1-2x^2) D(x)`, where D(x) is the dawson function""""""
    # For x < 50, use dawsn from scipy
    # For x > 100, use dawsn expansion
    b = blend(x, 50, 100)
    y1 = x + (1 - 2*x**2) * special.dawsn(x)
    y2 = dawsn_expansion_drop_first(x) - dawsn_expansion_drop_first_two(x) * 2*x**2
    return b*y2 + (1-b)*y1

def Zpp(x):
    # only return the imaginary component
    return -4j/np.pi**0.5 * g(x)

x = np.logspace(0, 5, 2000)
dx = 1e-3
plt.plot(x, (Zp(x+dx) - Zp(x-dx)).imag/(2*dx))
plt.plot(x, Zpp(x).imag)
ax = plt.gca()
ax.set_xscale('log')
ax.set_yscale('log')
"
36976,19781,Pygame Surface Mechanics,"class ScrollBar:
    # ... code ...
    def render(self, display, x, y):
        self.subSurface.blit(self.handle_image, (0, self.handle_pos))
        self.subSurface.blit(self.upbtn_image, (0, 0))
        self.subSurface.blit(self.dnbtn_image, (0, self.height - self.btn_height))
        # ... other rendering operations
        display.blit(self.subSurface, (x, y))
"
10331,29925,efficient algorithm for 1d to 3d index correspondence in numpy,"id_1d = np.arange(9)

# getting the indices of the multi-dimensional array
idx,idy,idz = np.unravel_index(id_1d,(3,3,3))

(idx,idy,idz)
(array([0, 0, 0, 0, 0, 0, 0, 0, 0]),
 array([0, 0, 0, 1, 1, 1, 2, 2, 2]),
 array([0, 1, 2, 0, 1, 2, 0, 1, 2]))

# getting the 1d indecis
np.ravel_multi_index((idx,idy,idz),(3,3,3))
array([0, 1, 2, 3, 4, 5, 6, 7, 8])
"
4893,63532,How can I update the details of current user using forms and views,"def update_UserProfile_views(request):
    try:
        current_user = request.user
        user = UserProfile.objects.get(user_name=current_user)
    except Exception:
        return render(request, 'base.html', {})
    else:
        if request.method == ""POST"":
            form = ProfileForm(request.POST,instance=user)
            if form.is_valid():
                profile = form.save(commit=False)
                profile.save()
        else:
            form = ProfileForm()
        return render(request, 'base.html', {'form': form})
"
24372,42842,Python magic method for variable being accessed?,"    from dps.px.pxpost import PxPost
    mock = MagicMock()
    mock.side_effect = ['http://doesnotexist', PxPost.URI]

    def URI(self):
        return mock()

    with patch('django.conf.settings.CELERY_ALWAYS_EAGER', True, create=True):
        with patch('dps.px.pxpost.PxPost.URI', property(URI)):
            self.transaction.process()
            for sub_transaction in self.transaction.sub_transactions.all():
                self.assertTrue(isinstance(sub_transaction.state, CompletedSubTransaction))
                self.assertTrue(sub_transaction.transaction_logs.count() > 0)
            self.assertTrue(isinstance(self.transaction.state, CompletedTransaction))
"
19523,84819,Iterating through regular expressions in Python,">>> def repl(m):
...   inner_word = list(m.group(2))
...   random.shuffle(inner_word)
...   return m.group(1) + """".join(inner_word) + m.group(3)
>>> text = ""Professor Abdolmalek, please report your absences promptly.""
>>> re.sub(r""(\w)(\w+)(\w)"", repl, text)
'Poefsrosr Aealmlobdk, pslaee reorpt your abnseces plmrptoy.'
>>> re.sub(r""(\w)(\w+)(\w)"", repl, text)
'Pofsroser Aodlambelk, plasee reoprt yuor asnebces potlmrpy.'
"
25269,73238,create a dict or list from a matrix(csv) in python using standard libraries/modules,"import csv
from collections import defaultdict

matrixDict=defaultdict(list)
with open(""m.csv"", ""r"") as confusion_data:
    reader = csv.reader(confusion_data, dialect = csv.excel, delimiter = ',')
    headers = reader.next()

    for row in reader:
        for i in range(1,len(headers)):
            matrixDict[headers[i]+row[0]] = row[i]

print matrixDict
"
17549,147,Replace a part of a Python list element,"import csv
import re

with open(""in.csv"") as f, open(""out.csv"", ""w"") as out:
    out.write(next(f))
    r = csv.reader(f, delimiter="","")
    for row in r:
        out.write(""{},{}\n"".format(re.sub(""_\d+|[_\d+]"", "";"",row[0]), "","".join(row[1:])))
"
13971,58835,Add methods to a third party library class in Python,"vm_obj.set_config_x = new.instancemethod(callableFunction, vm_obj, vm_obj.__class__)
"
34363,38510,best data-structure that i can use to store tabular data?,"webtable ={}
for frame in frames:
  for x, y in sources:
    if x_y_on_frame():
        keyTuple = (x,y,frame.filter.name)
        if not keyTuple in webtable:
            webtable[keyTuple] = {
            'ifile':frame.filename,
            'pFile':frame.pngfile,
            'fFile':frame.fitsfile,
            }
"
19771,36108,Python stdin filename,"import os
print(os.readlink('/proc/self/fd/0'))
"
9223,11939,Is there a way to automatically generate REST API JSON description from Bottle routes,"from collections import defaultdict
import json

def show_api(self):
    api_dict = defaultdict(dict)

    for route in self.bottle.routes:
        api_dict[route.rule]['url'] = 'http://myhost:port{}'.format(route.rule)
        api_dict[route.rule]['method'] = route.method

        # additional config params
        for key in route.config:
            api_dict[route.rule][key] = route.config[key]

    return json.dumps(api_dict)
"
34545,75408,Python tokenize: token position,"import tokenize

def tokens_with_offset(path):
    line_offsets = []
    line_offset_accum = 0
    with open(path) as f:
        for line in f:
            line_offsets.append(line_offset_accum)
            line_offset_accum += len(line)

    with open(path) as f:
        for ttype, tstring, tbegin, tend, tline in tokenize.generate_tokens(f.readline):
            offset_begin = line_offsets[tbegin[0]] + tbegin[1]
            offset_end = line_offsets[tend[0]] + tend[1]
            yield ttype, tstring, offset_begin, offset_end, tline
"
32211,52527,Generating matplotlib graphs without a running X server,"import matplotlib as mpl
mpl.use('Agg')
import matplotlib.pyplot as plt

fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(range(10))
fig.savefig('temp.png')
"
26500,71201,Getting all items less than a month old,"from datetime import datetime, timedelta
last_month = datetime.today() - timedelta(days=30)
items = Item.objects.filter(my_date__gte=last_month).order_by(...)
"
20695,84789,Python how to get null padded byte string from unicode string,">>> name = u""aaa""
>>> name.encode(""utf_16"")
'\xff\xfea\x00a\x00a\x00'
"
20050,38016,Tkinter only works once,"from Tkinter import *
root = Tk()

search_label = Label(root, text=""Enter search here:"")
search_entry = Entry(root)
search_label.pack()
search_entry.pack()

def answer_box(query):
    return query

def go():
    query=search_entry.get()
    bibliography.delete('1.0', END)
    bibliography.insert(INSERT, answer_box(query))

go_button = Button(root, text=""Go!"", width=10, command=go)
go_button.pack()
bibliography = Text(root)
bibliography.pack()

root.mainloop()
"
27191,30049,Fastest way to take a screenshot with python on windows,"import win32gui
import win32ui 
hwnd = win32gui.FindWindow(None, windowname)
wDC = win32gui.GetWindowDC(hwnd)
dcObj=win32ui.CreateDCFromHandle(wDC)
cDC=dcObj.CreateCompatibleDC()
dataBitMap = win32ui.CreateBitmap()
dataBitMap.CreateCompatibleBitmap(dcObj, w, h)
cDC.SelectObject(dataBitMap)
cDC.BitBlt((0,0),(w, h) , dcObj, (0,0), win32con.SRCCOPY)
dataBitMap.SaveBitmapFile(cDC, bmpfilenamename)
# Free Resources
dcObj.DeleteDC()
cDC.DeleteDC()
win32gui.ReleaseDC(hwnd, wDC)
win32gui.DeleteObject(dataBitMap.GetHandle())
"
32585,53875,How to switch screens while having a persistent top menu?,"BoxLayout:
    Label:
        text: 'permanent label'
    ScreenManager:
        ...
"
14009,24411,Slice pandas dataframe in groups of consecutive values,"for k,g in df.groupby(df['A'] - np.arange(df.shape[0])):
    print g
"
9433,37053,Event get value in wxpython,"import wx

class scarlett(wx.Frame):
  def __init__(self, parent, id, title):
    wx.Frame.__init__(self, parent, id, title, size=(400, 350))

    panel = wx.Panel(self, -1)
    sizer = wx.GridBagSizer(4, 4)

    text1 = wx.StaticText(panel, -1, 'Scarlett')
    sizer.Add(text1, (0, 0), flag = wx.TOP | wx.LEFT | wx.BOTTOM, border=5)
    self.tc = wx.TextCtrl(panel, -1)
    sizer.Add(self.tc, (1, 0), (1, 6), wx.EXPAND |wx.LEFT | wx.RIGHT, 5)

    text2 = wx.StaticText(panel, -1, 'You')
    sizer.Add(text2, (2, 0), flag = wx.TOP | wx.LEFT | wx.RIGHT, border = 5 )
    self.listbox = wx.ListBox(panel, -1, style = wx.LB_ALWAYS_SB)
    sizer.Add(self.listbox, (3, 0), (3, 6), wx.EXPAND |wx.LEFT | wx.RIGHT, 5)

    buttonOk = wx.Button(panel, -1, 'Ok', size=(90, 28))
    buttonCancel = wx.Button(panel, -1, 'Cancel', size=(90, 28))
    sizer.Add(buttonOk, (7, 1))
    sizer.Add(buttonCancel, (7, 2), flag = wx.RIGHT | wx.BOTTOM, border = 5)

    self.Bind(wx.EVT_BUTTON, self.OnQuit, buttonCancel)
    self.Bind(wx.EVT_BUTTON, self.OnCopyText, buttonOk)

    sizer.AddGrowableCol(0)
    sizer.AddGrowableRow(5)
    sizer.AddGrowableRow(6)
    sizer.SetEmptyCellSize((1, 1))
    panel.SetSizer(sizer)

    self.Center()
    self.Show(True)

  def OnQuit(self, event):
    self.Close()

  def OnCopyText(self, event):
    self.listbox.Append(self.tc.GetValue())

app = wx.App()
frm = scarlett(None, -1, ""scarlett"")
app.MainLoop()
"
1040,57436,Using github with secret keys,"# project/.gitignore

passwords.py

# project/passwords.py

GITHUB_KEY = '123'
GITHUB_KEY_SECRET = 'ABC'
GITHUB_TOKEN = '456'
GITHUB_TOKEN_SECRET = 'XYZ'

# project/my_script.py

from passwords import GITHUB_KEY, GITHUB_KEY_SECRET, GITHUB_TOKEN, GITHUB_TOKEN_SECRET

KEY = GITHUB_KEY
KEY_SECRET = GITHUB_KEY_SECRET
TOKEN = GITHUB_TOKEN
TOKEN_SECRET = GITHUB_TOKEN_SECRET
"
36041,83058,Change last octet of IP address,">>> n = IPNetwork('10.120.15.1/24')
>>> list(n)[0:3]
[IPAddress('10.120.15.0'), IPAddress('10.120.15.1'), IPAddress('10.120.15.2')]
>>> IPNetwork('10.120.15.1/24').network
IPAddress('10.120.15.0')
>>> str(IPNetwork('10.120.15.1/24').network)
'10.120.15.0'
"
39330,22261,How to extract dictionnaries from a JSON table,"                you have dictionaries in your list already. though badly formed.they are missing quotes around the keys

                    lt = [
                      {
                          ""locale"": ""fr_FR"",
                          ""day"": ""2015-12-01"",
                          ""displayPricePerPerson"": 9800,
                          ""displayTotalPrice"": 9800,
                          ""promotion"": False,
                          ""minLos"": 1
                    },
                    {
                          ""locale"": ""fr_FR"",
                          ""day"": ""2015-12-02"",
                          ""displayPricePerPerson"": 9800,
                          ""displayTotalPrice"": 9800,
                          ""promotion"": False,
                          ""minLos"": 1
                     },
                    ]

                    for el in lt:
                        print(type(el))

                    <class 'dict'>
                    <class 'dict'>

                    d1 = lt[0]
                    d2 =lt[1]

                    print(d1.items())
                    dict_items([('day', '2015-12-01'), ('locale', 'fr_FR'), ('displayPricePerPerson', 9800), ('minLos', 1), ('promotion', False), ('displayTotalPrice', 9800)])

                    print(d2.items())
                    dict_items([('day', '2015-12-02'), ('locale', 'fr_FR'), ('displayPricePerPerson', 9800), ('minLos', 1), ('promotion', False), ('displayTotalPrice', 9800)])

                to convert to list of dicts this:
lt2 = '''[
    {
        locale: ""fr_FR"",
        day: ""2015-12-01"",
        displayPricePerPerson: 9800,
        displayTotalPrice: 9800,
        promotion: false,
        minLos: 1
    },
    {
        locale: ""fr_FR"",
        day: ""2015-12-02"",
        displayPricePerPerson: 9800,
        displayTotalPrice: 9800,
        promotion: false,
        minLos: 1
    },
]
'''

    def convert_ECMA_Javascript(st):
        # convert badly formed strings to json format
        import json

        result = re.sub(r'(\w+):',r'""\1"":',st)
        result= re.sub(r'false',r'""False""',result)
        result= re.sub(r'true',r'""True""',result)
        result= re.sub(r'\[|\]',r'',result)
        result= re.sub(r'\b(\d+)\b(?!""|-)',r'""\1""',result)
        result= re.sub(r'\n|\t',r'',result)
        li = re.findall(r'{.*?}', result)

        result = []
        for s in li:
            result.append(json.loads(s))

        return result

    pp(convert_ECMA_Javascript(lt2))

    [{'day': '2015-12-01',
      'displayPricePerPerson': '9800',
      'displayTotalPrice': '9800',
      'locale': 'fr_FR',
      'minLos': '1',
      'promotion': 'False'},
     {'day': '2015-12-02',
      'displayPricePerPerson': '9800',
      'displayTotalPrice': '9800',
      'locale': 'fr_FR',
      'minLos': '1',
      'promotion': 'False'}]

    for el in convert_ECMA_Javascript(lt2):
        for k,v in el.items():
            print(k,"":"", v)

    day : 2015-12-01
    displayPricePerPerson : 9800
    minLos : 1
    promotion : False
    displayTotalPrice : 9800
    locale : fr_FR
    day : 2015-12-02
    displayPricePerPerson : 9800
    minLos : 1
    promotion : False
    displayTotalPrice : 9800
    locale : fr_FR
"
25179,27089,Trouble coding an LED selector in Python,"led_map = {
    # This maps each ""bit"" of your input string to the correct ID for GPIO.
    0 : 11,
    1 : 12,
    2 : 13,
    3 : 15
}

for i in xrange(len(y)):
    bit = y[i]
    GPIO.output(led_map[i], int(bit))
"
14173,60186,automatically close pylint window after python code window is close in VIM,":autocmd WinEnter * if winnr('$') == 1 && ! empty(&buftype) && ! &modified | quit | endif
"
28522,23794,My Own Crawler Does Not Work If I Change The Attribute,"import re, requests, logging, os, time, json
from bs4 import BeautifulSoup as bs

class Crawler(object):
    logger = logging.getLogger(""crawler_logger"")
    logger.setLevel(logging.DEBUG)
    file_handler = logging.FileHandler(os.getcwd()+""/logs/{}.log"".format( str(int(round(time.time()*1000))) ))
    file_handler.setLevel(logging.DEBUG)
    terminal_handler = logging.StreamHandler()
    terminal_handler.setLevel(logging.INFO)
    log_format = logging.Formatter(""%(asctime)s - %(name)s - %(levelname)s - %(message)s"")
    file_handler.setFormatter(log_format)
    terminal_handler.setFormatter(log_format)
    logger.addHandler(terminal_handler)
    logger.addHandler(file_handler)

    def __init__(self, *args):
        self.logger.info(""Initializing Crawler object on '{}' domain with {} urls."".format(args[0], str(args)))
        self.domain = args[0]
        self.urls = list(args)
        self.crawled = []
        self.limit = [0, 0]
        self.dump_file = ""urls.json""

    def crawl(self):
        # while urls in self.urls
        while self.urls:
            if self.limit[0] != 0:
                if self.limit[0] == self.limit[1]:
                    self.logger.info(""Limit reached, writing to file and returns."")
                    with open(self.dump_file, ""w"") as dump_file:
                        dump_file.write(json.dumps(self.urls))
                    return

            try:
                self.logger.info(""Connecting to {}..."".format(self.urls[0]))
                response = requests.get(self.urls[0])
                response.encoding = ""utf-8""
                self.logger.info(""Analyzing to structures..."")
                soup = bs(response.text, ""html.parser"")
                links = soup.find_all(""a"", {""href"" : re.compile(""^/"")})
                hrefs = [x.attrs[""href""] for x in links]
                self.logger.info(""Links are checked if they are crawled..."")
                for href in hrefs:
                    if self.domain[0:-1]+href in self.crawled:
                        self.logger.warn(""{} already crawled."".format(str(href)))
                        pass
                    else: self.urls.append(self.domain[0:-1]+href)
                self.crawled.append(self.urls[0])
                # Remove first url from reversed self.urls list
                self.urls[::-1].pop()
                self.limit[1]+=1
                self.logger.info(""Reached count {}/{}"".format(str(self.limit[1]), str(self.limit[0])))
            except Exception as e:
                self.logger.error(""Crawling function raised an error, passing: {}"".format(str(e)))

        if len(self.urls) == 0:
            self.logger.info(""No url left to crawl, returns."")
            with open(self.dump_file, ""w+"") as dump_file:
                dump_file.write(json.dumps(self.urls))
            return


if __name__ == ""__main__"":
    mycrawler = Crawler(""http://metasozluk.com/"")
    mycrawler.limit[0] = 5
    mycrawler.crawl()
"
25130,80521,Convert '\x00' to ASCII in Python 3,"ct.c_char_p(a.encode('UTF-8'))
"
9479,14198,Is it possible to define a semi-annual frequency for a python scikits.timeseries time_series object?,"import scikits.timeseries as ts

dates = ts.date_array(start_date=ts.Date('Q', '2009-01'),
                      end_date=ts.Date('Q', '2011-01'))
data = ts.TimeSeries(np.arange(9), dates=dates, mask=1-dates.quarter%2)

# returns:
timeseries([0 -- 2 -- 4 -- 6 -- 8],
   dates = [2009Q1 ... 2011Q1],
   freq  = Q-DEC)
"
2787,3618,django-filter - map query parameter to field name,"# views.py
class UserFilter(django_filters.FilterSet):
    nickname = django_filters.CharFilter(name='first_name')
    class Meta:
        model = User
"
22450,29814,Django - Query models where id equals attribute on python list,"ids = [i['id'] for i in json_array]
qs = model.objects.exclude(id__in=ids)
"
34730,84390,Need to match string to line in file in Python,"lookup = {}
with open(""champions.txt"") as f:
    for line in f:
        line = line.rstrip().split('-', 1)
        if not line: continue # skip any blank lines

        name = line[0].strip()
        lookup[name.lower()] = name
        if len(line) == 2:  # any alternative names given?
            for item in line[1].split(','):
                lookup[item.strip()] = name

print 'lookup table:'
for alt_name, real_name in sorted(lookup.items()):
    print '{}: {}'.format(alt_name, real_name)
print

while True:
    print ""which champ (Enter to quit): ""  # ask user for input
    value = raw_input().lower()  # get the input and make it lowercase
    if not value: break

    real_name = lookup.get(value)
    if real_name:
        print 'found:', value, '-->', real_name
    else:
        print 'error: no match for', value
"
7100,77149,Recursively convert python object graph to dictionary,"def todict(obj, classkey=None):
    if isinstance(obj, dict):
        data = {}
        for (k, v) in obj.items():
            data[k] = todict(v, classkey)
        return data
    elif hasattr(obj, ""_ast""):
        return todict(obj._ast())
    elif hasattr(obj, ""__iter__""):
        return [todict(v, classkey) for v in obj]
    elif hasattr(obj, ""__dict__""):
        data = dict([(key, todict(value, classkey)) 
            for key, value in obj.__dict__.iteritems() 
            if not callable(value) and not key.startswith('_')])
        if classkey is not None and hasattr(obj, ""__class__""):
            data[classkey] = obj.__class__.__name__
        return data
    else:
        return obj
"
19796,27456,Reformatting code with Regular Expressions,"#! /usr/bin/perl -i.bak    
use warnings;
use strict;
my $template =
  '^( public
      String
      Get)(\w+)( \( \) { return
        m_ParsedValue . get \( m_Tags . get \( )(\d+)( \) \) ; } )$';
$template =~ s/ +/\\s*/g;
$template =~ s/(\r?\n)+/\\s+/g;
my $getter = qr/$template/x;

die ""Usage: $0 after new-name source ..\n"" unless @ARGV >= 3;
my $after = shift;
my $add   = shift;
my $index;
while (<>) {
  unless (/$getter/) {
    print;
    next;
  }
  my($abc,$name,$lmno,$i,$xyz) = ($1,$2,$3,$4,$5);
  if (defined $index) {
    print join """" => $abc, $name, $lmno, ++$index, $xyz;
  }
  else {
    if ($name eq $after) {
      $index = $i;
      print; print join """" => $abc, $add, $lmno, ++$index, $xyz;
    }
    else { print; }
  }
}
"
5113,14715,How can set two field primary key for my models in django,"class Hop(models.Model):
    migration = models.ForeignKey('Migration')
    host = models.ForeignKey(User, related_name='host_set')

    class Meta:
        unique_together = ((""migration"", ""host""),)
"
13633,11470,python exchange position for pair of characters and reverse 2 characters,"s = 'abcdefgh'
# s = 'abcdefghi'

# pad
if len(s) % 2:
    s += 'x'

l = []
# split
for i in range(0,len(s),2):
    l.append(s[i:i+2])

# switch
for i in range(0,len(l),2):
    if i+1 < len(l):
        l[i+1], l[i] = l[i:i+2]

# reverse each
l = [x[::-1] for x in l]

print l
"
3276,58199,Python sys.stdin.read() accept input condition print prompt twice,"def accept_input():
    import sys
    while True:
        print ""Type Y to continue, ctrl-c to exit""
        ch = sys.stdin.read(1)
        sys.stdin.flush()   #<===========
        if ch != ""Y"":
            pass
        else:
            return ch
"
31121,7619,How to force pandas DataFrame use the desired dtypes when it is constructed?,"In [20]: DataFrame({
    'x':Series([1,2,3,4],dtype='float'), 
    'y':Series([None,]*4,dtype='float'), 
    'z':[datetime.datetime.now()] *4, 
    'e':[1,2,3,4]})
Out[20]: 
   e  x   y                          z
0  1  1 NaN 2014-06-17 07:40:42.188422
1  2  2 NaN 2014-06-17 07:40:42.188422
2  3  3 NaN 2014-06-17 07:40:42.188422
3  4  4 NaN 2014-06-17 07:40:42.188422

In [21]: DataFrame({
     'x':Series([1,2,3,4],dtype='float'), 
     'y':Series([None,]*4,dtype='float'), 
     'z':[datetime.datetime.now()] *4, 
     'e':[1,2,3,4]}).dtypes
Out[21]: 
e             int64
x           float64
y           float64
z    datetime64[ns]
dtype: object
"
12812,11727,"Passing variables, creating instances, self, The mechanics and usage of classes: need explanation","class Foo          (object):
    # ^class name  #^ inherits from object

    bar = ""Bar"" #Class attribute.

    def __init__(self):
        #        #^ The first variable is the class instance in methods.  
        #        #  This is called ""self"" by convention, but could be any name you want.
        #^ double underscore (dunder) methods are usually special.  This one 
        #  gets called immediately after a new instance is created.

        self.variable = ""Foo"" #instance attribute.
        print self.variable, self.bar  #<---self.bar references class attribute
        self.bar = "" Bar is now Baz""   #<---self.bar is now an instance attribute
        print self.variable, self.bar  

    def method(self, arg1, arg2):
        #This method has arguments.  You would call it like this:  instance.method(1,2)
        print ""in method (args):"", arg1, arg2
        print ""in method (attributes):"", self.variable, self.bar


a = Foo() # this calls __init__ (indirectly), output:
                 # Foo bar
                 # Foo  Bar is now Baz
print a.variable # Foo
a.variable = ""bar""
a.method(1, 2) # output:
               # in method (args): 1 2
               # in method (attributes): bar  Bar is now Baz
Foo.method(a,1,2) #<--- Same as a.method(1, 2).  This makes it a little more explicit what the argument ""self"" actually is.

class Bar(object):
    def __init__(self, arg):
        self.arg = arg
        self.Foo = Foo()

b = Bar(a)
b.arg.variable = ""something""
print a.variable # something
print b.Foo.variable # Foo
"
6399,40415,Python or Perl Parse Text report file to CVS,"# a sample input line.  In reality you would read it from a file and chomp off the \n.
my $foo = ""beer/name: Sausa Weizen beer/beerId: 47986 ...\n"";

# replace foo/bar: with a tab everywhere in the line.  
# I used A-Za-z as the chars to match, you can do many more things (including more
# elegant ways of specifying whole character classes).
#
$foo =~ s/[A-Za-z]*\/[a-zA-Z]*:/\t/g;

# print it out.
print ""$foo\n"";
"
36906,30787,Python String Manipulation (SUM values),">>> import re
>>> s = ""1S20M1I9M2D120M""
>>> sum(int(x) for x in re.findall(r'\d+(?=[MI])', s))
150
>>> sum(int(m.group()) for m in re.finditer(r'\d+(?=[MI])', s))
150
"
33557,37635,How to store values of double in a single list,"L2 = sum(L1, [])
"
26710,54252,Issue with translation in Django + Mezzanine,"<form action=""{% url 'set_language' %}"" method=""post"">
{% csrf_token %}
<input name=""language"" type=""hidden"" value=""{{ language.code }}"" />
{% if request.path|slice:""4:""|length > 0 %}
    <input name=""next"" type=""hidden"" value=""/{{ language.code }}/{{ request.path|slice:""4:"" }}"" />
{% else %}
    <input name=""next"" type=""hidden"" value=""/"" />
{% endif %}
<input type=""submit"" value=""{{ language.code }}""
class=""btn-link{% if language.code == LANGUAGE_CODE %} current{% endif %}"" />
</form>
"
34896,79789,Python - Pass named arguments to function object,"from functools import partial

fromdate = fields.DateField('From Date', default=partial(myfunc, offset=-10), validators=[validators.required()])
"
16143,14281,How to modify the line width of ipython notebook markdown cell,"div.text_cell {
    width:550px;
}
"
28248,59978,Total_ordering and class inheritance,"Test = namedtuple('Test',['a','b'])

@total_ordering
class TestOrdBase:
    def __lt__(self ,other):
        return self.b < other.b or self.b == other.b and self.a < other.a

class TestOrd(TestOrdBase, Test):
    pass
"
29806,77989,advance time artificially in pytest,"from freezegun import freeze_time

@freeze_time(""2012-01-14"")
def test():
    assert datetime.datetime.now() == datetime.datetime(2012, 01, 14)
"
637,23728,Bitbucket git push commits without cloning the repo," git clone -b mybranch --single-branch /url/to/your/git/repo
"
33699,62007,How to count the number of possible combinations to fill an arrray of K boxes and S symbols,"def combinations(S,K):
    return S**K;
"
8018,70832,finding value from nested dictionary,">>> import pprint
>>> pprint.pprint(mydict)
{'DescribeClustersResponse': {'DescribeClustersResult': {'Clusters': [{'AllowVersionUpgrade': True,
                                                                       'AutomatedSnapshotRetentionPeriod': 1,
                                                                       'AvailabilityZone': 'us-east-1a',
                                                                       'ClusterCreateTime': 1381812358.833,
                                                                       'ClusterIdentifier': 'mar5-deliveryreport-new',
                                                                       'ClusterParameterGroups': [{'ParameterApplyStatus': 'in-sync',
                                                                                                   'ParameterGroupName': 'default.redshift-1.0'}],
                                                                       'ClusterSecurityGroups': [{'ClusterSecurityGroupName': 'default',
                                                                                                  'Status': 'active'}],
                                                                       'ClusterStatus': 'available',
                                                                       'ClusterSubnetGroupName': None,
                                                                       'ClusterVersion': '1.0',
                                                                       'DBName': 'mydb',
                                                                       'Encrypted': False,
                                                                       'Endpoint': {'Address': 'mar5-deliveryreport-new.lc.us-east-1.redshift.amazonaws.com',
                                                                                    'Port': 5439},
                                                                       'MasterUsername': 'root',
                                                                       'ModifyStatus': None,
                                                                       'NodeType': 'dw.hs1.xlarge',
                                                                       'NumberOfNodes': 1,
                                                                       'PendingModifiedValues': {'AutomatedSnapshotRetentionPeriod': None,
                                                                                                 'ClusterType': None,
                                                                                                 'ClusterVersion': None,
                                                                                                 'MasterUserPassword': None,
                                                                                                 'NodeType': None,
                                                                                                 'NumberOfNodes': None},
                                                                       'PreferredMaintenanceWindow': 'tue:08:00-tue:08:30',
                                                                       'PubliclyAccessible': True,
                                                                       'RestoreStatus': {'CurrentRestoreRateInMegaBytesPerSecond': 57.3072319201995,
                                                                                         'ElapsedTimeInSeconds': 14035,
                                                                                         'EstimatedTimeToCompletionInSeconds': 0,
                                                                                         'ProgressInMegaBytes': 804307,
                                                                                         'SnapshotSizeInMegaBytes': 804307,
                                                                                         'Status': 'completed'},
                                                                       'VpcId': None,
                                                                       'VpcSecurityGroups': []}],
                                                         'Marker': None},
                              'ResponseMetadata': {'RequestId': '233f495b-3576-11e3-83ff-d332123c25c4'}}}
>>> mydict['DescribeClustersResponse']['DescribeClustersResult']['Clusters'][0]['ClusterIdentifier']
'mar5-deliveryreport-new'
"
25326,3657,How to prevent super user deletion in Django admin?,"from django.db.models.signals import pre_delete
from django.dispatch.dispatcher import receiver
from django.contrib.auth.models import User
from django.core.exceptions import PermissionDenied

@receiver(pre_delete, sender=User)
def delete_user(sender, instance, **kwargs):
    if instance.is_superuser:
        raise PermissionDenied
"
15053,7406,BeautifulSoup web scraping,"from urlparse import urljoin

base_url = ""http://website.co.uk""
for link in soup.find_all('a', href=re.compile('sports')): 
    print urljoin(base_url, link['href'])
"
22866,68459,Python: Convert xlrd sheet to numpy matrix (ndarray),"while curr_row < num_rows: # for each row
    curr_row += 1
    row = worksheet.row(curr_row)
    if curr_row > 0: # don't want the first row because those are labels
        for col_ind, el in enumerate(row):
            inputData[curr_row - 1, col_ind] = el.value
"
38615,59811,Lazy data-flow (spreadsheet like) properties with dependencies in Python,"class DependentProperty(object):
    def __init__(self, calculate=None, default=None, depends_on=()):
        # ""name"" and ""dependence_tree"" properties are attributes
        # set up by the metaclass of the owner class
        if calculate:
            self.calculate = calculate
        else:
            self.default = default
        self.depends_on = set(depends_on)

    def __get__(self, instance, owner):
        if hasattr(self, ""default""):
            return self.default
        if not hasattr(instance, ""_"" + self.name):
            setattr(instance, ""_"" + self.name,
                self.calculate(instance, getattr(instance, ""_"" + self.name + ""_last_value"")))
        return getattr(instance, ""_"" + self.name)

    def __set__(self, instance, value):
        setattr(instance, ""_"" + self.name + ""_last_value"", value)
        setattr(instance, ""_"" + self.name, self.calculate(instance, value))
        for attr in self.dependence_tree[self.name]:
            delattr(instance, attr)

    def __delete__(self, instance):
        try:
            delattr(instance, ""_"" + self.name)
        except AttributeError:
            pass


def assemble_tree(name,  dict_, all_deps = None):
    if all_deps is None:
        all_deps = set()
    for dependance in dict_[name].depends_on:
        all_deps.add(dependance)
        assemble_tree(dependance, dict_, all_deps)
    return all_deps

def invert_tree(tree):
    new_tree = {}
    for key, val in tree.items():
        for dependence in val:
            if dependence not in new_tree:
                new_tree[dependence] = set()
            new_tree[dependence].add(key)
    return new_tree

class DependenceMeta(type):
    def __new__(cls, name, bases, dict_):
        dependence_tree = {}
        properties = []
        for key, val in dict_.items():
            if not isinstance(val, DependentProperty):
                continue
            val.name = key
            val.dependence_tree = dependence_tree
            dependence_tree[key] = set()
            properties.append(val)
        inverted_tree = {}
        for property in properties:
            inverted_tree[property.name] = assemble_tree(property.name, dict_)
        dependence_tree.update(invert_tree(inverted_tree))
        return type.__new__(cls, name, bases, dict_)


if __name__ == ""__main__"":
    # Example and visual test:

    class Bla:
        __metaclass__ = DependenceMeta

        def calc_b(self, x):
            print ""Calculating b""
            return x + self.a

        def calc_c(self, x):
            print ""Calculating c""
            return x + self.b

        a = DependentProperty(default=10)    
        b = DependentProperty(depends_on=(""a"",), calculate=calc_b)
        c = DependentProperty(depends_on=(""b"",), calculate=calc_c)




    bla = Bla()
    bla.b = 5
    bla.c = 10

    print bla.a, bla.b, bla.c
    bla.b = 10
    print bla.b
    print bla.c
"
4501,47641,"replace None with Null, in place","result = [TestCase.productUnderTest,TestCase.versionUnderTest,TestCase.name,TestCase.results,TestCase.lastTestEnd,TestCase.parent,TestCase.level]
result = map(lambda x:x==None and 'Null' or str(x), result)
ME.csvoutput.write("","".join(result)+'\n')
"
16669,31472,SqlAlchemy Select Relation Type,"session.query(ActionType).filter(ActionType.actions.any()).all()
"
3651,35784,Python regex match two string at two different order?,">>> import re
>>> s = 'aaa  bbb   bbb    aaa'
>>> re.findall(r'aaa.*?bbb|bbb.*?aaa', s)
['aaa  bbb', 'bbb    aaa']
"
27238,970,emacs mode for snakemake?,"; snake-mode
(add-to-list 'auto-mode-alist '(""Snakefile"" . snake-mode))

(defun insert-tab ()
  (interactive)
  (insert ""     "")) ; a ""real"" tab, i.e., what ""C-q \t"" would give

(define-minor-mode snake-mode
  ""Snakemake.""
  :lighter "" snake-make""
     (python-mode)
     (setq indent-line-function 'insert-tab)
)

; how to hard-code ""\t"" to a ""real"" tab (not recommended)
; (global-set-key ""\t"" `insert-tab)

; end snake-mode
"
16355,51666,Choose three different values from list in Python,"from itertools import combinations

for point1, point2, point3 in combinations(points, 3):
    ...
"
8130,51943,Pythonic way to reduce the number of small subclasses in a base class?,"class Dog(Animal):
    WOOF, YAP, HUSH = 'woof', 'yap', 'hush_puppy'
    def __init__(self, name, weight, bark=WOOF, **kwargs):
        self.bark = bark
        super(Dog, self).__init__(name, weight, **kwargs)

class Cat(Animal):
    HAIR_LONG, HAIR_SHORT = 'long', 'short'
    def __init__(self, name, weight,hair=HAIR_LONG, **kwargs):
        self.hair = hair
        super(Cat, self).__init__(name, weight, **kwargs)

dog = Dog(""Snoopy"", 60, bark=Dog.HUSH)
cat = Cat(""Tigger"", 50, kind=""Tiger"",hair=Cat.HAIR_SHORT)
"
22544,53367,Numpy bitwise operator priority?,">>> from itertools import product
>>> list(product(range(2), repeat=3))
[(0, 0, 0), (0, 0, 1), (0, 1, 0), (0, 1, 1), (1, 0, 0), (1, 0, 1), (1, 1, 0), (1, 1, 1)]
>>> all((a & b | c) == ((a & b) | c) for a, b, c in product(range(2), repeat=3))
True
>>> all((a & b | c) == (a & (b | c)) for a, b, c in product(range(2), repeat=3))
False
"
14254,32481,Django multipart ORM query including JOINs,"products = (OrderProduct.objects
            .filter(order_id=order.id)
            .values('product_id'))
Product.objects.filter(id__in=products)
"
18139,52125,Python Pandas DF - Group column with corresponding frequency count of another column,"import pandas as pd

# Create toy data frame
A = [0,0,1,2,2,2,0]
B = ['Person1','Person1','Person1','Person1','Person2','Person2','Person2']
df = pd.DataFrame([A,B]).transpose()
df.columns = ['cat', 'per']

print (df)
  cat      per
0   0  Person1
1   0  Person1
2   1  Person1
3   2  Person1
4   2  Person2
5   2  Person2
6   0  Person2

df['cat'] = 'cat' + df.cat.astype(str)
df = df.pivot_table(index='per', columns='cat', aggfunc=len,fill_value=0)

df = df.rename_axis(None).rename_axis(None, axis=1)
#if use older pandas as 0.18.0
#df.columns.name= None
#df.index.name= None

print (df)
         cat0  cat1  cat2
Person1     2     1     1
Person2     1     0     2
"
31220,3854,How can I insert a new Event for non primary Calendar? Using python gdata,"def addEvent(calendar_service):
    event = gdata.calendar.CalendarEventEntry()
    event.content = atom.Content(text='Tennis with John 30.12.2009 15:00-16:00')
    event.quick_add = gdata.calendar.QuickAdd(value='true')
    feed = calendar_service.GetOwnCalendarsFeed()
    calurl=[a_calendar.content.src for i, a_calendar in enumerate(feed.entry)]
    new_event = calendar_service.InsertEvent(event, calurl[1]) #calurl[1] select the 2. cal of own's cals
"
18184,83129,How to query NATIVE hardware resolution of primary monitor in Windows?,"import win32api as api, win32con as con, pywintypes
import win32com.client
_objWMIService = win32com.client.Dispatch('WbemScripting.SWbemLocator')
_objSWbemServices = _objWMIService.ConnectServer('.', 'root\\cimv2')
wmiquery = _objSWbemServices.ExecQuery

# get_regval(regkey) is simple registry reading function.
def get_monitor_res():
    dtd = 54  # start byte of detailed timing desc.

    try:  # get PNP id to find EDID in registry
        for monitor in wmiquery('Select * from Win32_DesktopMonitor'):
            # http://msdn.microsoft.com/en-us/library/aa394122%28VS.85%29.aspx
            if monitor.Availability in (3, 7, 13, 14, 15, 16): # connected
                curres = (monitor.ScreenWidth, monitor.ScreenHeight)
                print 'DEBUG: Current monitor resolution from WMI: %s' % (curres,)
                regkey = ('HKLM\\SYSTEM\\CurrentControlSet\\Enum\\' +
                    monitor.PNPDeviceID + '\\Device Parameters\\EDID')
                edid = get_regval(regkey)
                if edid:
                    print 'DEBUG: EDID Version: %s.%s' % (edid[18], edid[19])
                    # upper nibble of byte x 2^8 combined with full byte
                    hres = ((edid[dtd+4] >> 4) << 8) | edid[dtd+2]
                    vres = ((edid[dtd+7] >> 4) << 8) | edid[dtd+5]
                    print 'DEBUG: EDID DTD0: ' + str((hres, vres))
                    res = (hres, vres)
                    break  # give up on first success
                else:
                    raise RuntimeError, 'EDID not found in registry'
    except (RuntimeError, Exception), e:
        print 'ERROR: %s.' % e

    return res
"
25764,82047,How to specify the file path in which to download using python,"urllib.request.urlretrieve (""http://bogoroditsa.tk/Grant's%20Libraries/"",
                                             ""/home/foo/ExtraFunctionality.py"")
"
25232,30681,NumPy/SciPy FFT for voltage/time data,"import numpy as np
import scipy.fftpack

data = np.arange(0.0, 12.8, 0.1)
fft = scipy.fftpack.fft(data)
"
15839,41870,how can I round a value with 1 decimal to 2 decimals,">>> '{:.2f}'.format(0.4)
'0.40'
"
24339,82352,PyQt4 custom widget (uic loaded) added to layout is invisible,"widgetForm, baseClass= uic.loadUiType(""addTilesWidget.ui"")

class windowTest(baseClass, widgetForm):
    def __init__(self, parent = None):
        super(windowTest, self).__init__(parent)
        self.setupUi(self)
"
16106,7863,Python â Check if Mac is Playing Music,"import subprocess
subprocess.call(['osascript', '-e', 'tell application ""iTunes"" to pause'])
"
30433,82998,Multiple listboxes in python dynamically with Tkinter,"import Tkinter as tk

result = ['Weekly', 'Monthly', 'Annual']

class Application(tk.Frame):

    def __init__(self, master):
        tk.Frame.__init__(self, master)
        self.grid()
        self.create_widgets()

    def create_widgets(self):
        self.listbox = dict() # lower case for variable name 
        self.label = dict() # lower case for variable name 

        for inst in result:
            #textenter = ""Select the required output format"" + inst
            textenter = inst

            self.label[inst] = tk.Label(self, text=textenter)
            self.label[inst].grid(columnspan=2, sticky=tk.W)

            self.listbox[inst] = tk.Listbox(self, selectmode=tk.MULTIPLE, exportselection=0)
            self.listbox[inst].grid(sticky=tk.W)

            for items in [""Text"", ""XML"", ""HTML""]:
                self.listbox[inst].insert(tk.END,items)

        self.submit_button = tk.Button(self, text=""Submit"", command=self.returns)
        self.submit_button.grid(row=7, column=1, sticky=tk.W)


    def returns(self):
        self.content = []

        for inst in result:
            self.content.append(self.listbox[inst].curselection())

        print self.content

        self.master.destroy()    


root = tk.Tk()
app = Application(root)
root.title(""Output Formats"")
app.mainloop()
"
24559,67633,How to improve speed of this readline loop in python?,"import itertools

def readloop(DBFILE):
  txtdb=open(DBFILE, 'r')
  tag = ""customernum:  ""
  BIGBLOCK = 1024 * 1024
  # locate first occurrence of tag at line-start
  # (assumes the VERY FIRST line doesn't start that way,
  # else you need a special-case and slight refactoring)
  blob = ''
  while True:
    blob = blob + txtdb.read(BIGBLOCK)
    if not blob:
      # tag not present at all -- warn about that, then
      return
    where = blob.find('\n' + tag)
    if where != -1:  # found it!
      blob = blob[where+1:] + txtdb.readline()
      break
    blob = blob[-len(tag):]
  # now make a by-line iterator over the part of interest
  thelines = itertools.chain(blob.splitlines(1), txtdb)
  sline = next(thelines, '')
  while sline.startswith(tag):
    data = []
    data.append(sline)
    sline = next(thelines, '')
    while not sline.startswith(tag):
      data.append(sline)
      sline = next(thelines, '')
      if not sline:
        break
    customernum = getitem(data, ""customernum:  "")
    street = getitem(data, ""street:  "")
    country = getitem(data, ""country:  "")
    zip = getitem(data, ""zip:  "")
"
35561,14239,how to compare two strings ignoring few characters,"import re
if re.match(r'http://localhost:13555/ChessBoard_x\d\d_y\d\d\.bmp', URL):
    print(""TRUE"")
else:
    print(""FALSE"")
"
13144,14574,How to make Fabric use a different role depending on which network it currently is?,"hosts = {
    ""rack"": [""rack1"", ""rack2""],
    ""external_rack"": [""external_rack1"", ""external_rack2""]
}

env.roledefs = {""rack_machines"": hosts[""rack""]}

@task
def set_hosts(hostset=""rack""):
    if hostset in hosts:
        env.roledefs[""rack_machines""] = hosts[hostset]
    else:
        print ""Invalid hostset""

@roles(""rack_machines"")
def business():
    pass
"
10515,82118,Python several variables/functions resutl same line,"now  = time.strftime(""%X"")
peer = socket.getpeername()
print(""{} - {}"".format(now, peer))
"
25197,42714,Row filtering so that we only keep finite entries,"In [14]: df = DataFrame({'a': randint(3,size=10)})

In [15]: df['b'] = tm.choice([2,3,nan,inf,-inf], size=len(df))

In [16]: df
Out[16]:
   a       b
0  1     inf
1  2    -inf
2  0  3.0000
3  1    -inf
4  2     NaN
5  1  3.0000
6  1     inf
7  0  2.0000
8  2    -inf
9  2     inf

In [17]: with pd.option_context('mode.use_inf_as_null', True):
   ....:     res = df.dropna()
   ....:

In [18]: res
Out[18]:
   a  b
2  0  3
5  1  3
7  0  2
"
9972,17219,Automatic adding songs with album,"from django.db.models.signals import post_save,post_delete
from django.dispatch import receiver

@receiver(post_save,sender=CopyAlbum)
def copy_songs(*args,**kwargs):

 copy_album_instance = kwargs['instance']
 ... copy the songs ...

@receiver(post_delete,sender=CopyAlbum)
def delete_songs(*args,**kwargs):

 copy_album_instance = kwargs['instance'] ## deleted, an instance w/o db record
 ... delete the songs ...
"
37927,37074,Shortest code to load an excel sheet with header?,"import pandas as pd
df = pd.read_excel(FILENAME)
"
25657,9555,"Why does the ""down"" key behavior change in a Tkinter listbox after issuing selection_set and selection_clear commands?","selection.activate(List.index(string))
"
35380,23656,building and comparing times,"import datetime

# year, month, day
a_date = datetime.date(2014, 11, 1)
b_date = datetime.date.today()

print(b_date)          # 2016-01-13
print(a_date < b_date) # true
"
10970,44177,Get last answer,">>> 5+5
10
>>> _
10
>>> _ + 5
15
>>> _
15
"
39372,50408,Sqlalchemy query: select using list of tuples,"user_filters = [and_(Users.name == name, Users.age == age)
                for name, age in users]
self.session.query(Users).filter(or_(*user_filters))
"
9315,6639,Strip link from website using Beautifulsoup,"import urllib2
from bs4 import BeautifulSoup

url1 = ""http://www.salatomatic.com/c/Sydney+168""
content1 = urllib2.urlopen(url1).read()
soup = BeautifulSoup(content1)
for link in soup.findAll('a'):
   print link.get('href')
"
34706,22743,Pattern Matching Python,"def my_find(text, pattern):
    '''Find the start index of a pattern string in a text.
    Return -1 if not found, and assume that pattern is not empty'''

    found = False
    current_start_index = text.find(pattern[0])
    index_text = current_start_index
    index_pattern = 0

    while not found and index_text + len(pattern) - 1 < len(text) and \
            current_start_index != -1:

        index_text += 1
        index_pattern += 1

        while index_text < len(text) and \
                index_pattern < len(pattern) and \
                text[index_text] == pattern[index_pattern]:

            if index_pattern == len(pattern) - 1:
                found = True
                break
            else:
                index_text += 1
                index_pattern += 1

        if not found:
            current_start_index = text.find(pattern[0],current_start_index + 1)
            index_text = current_start_index

    if found:
        return current_start_index
    else:
        -1
"
20196,67346,Login System - Reading from a file and comparing values to allow or deny entry to the system,"username = input(""Enter your username: "")
password = input(""Enter your password: "")

#hashing
p = len(password)+3
hashValue = 0
for element in password:
    hashValue += ord(element)*(37**(p*3+2))
    p += 1

#file reading
searchfile = open(""users.txt"",""r"")
for line in searchfile:
    if username in line:
        print(line)
        passwordFile = next(searchfile)
        if hashValue == int(passwordFile):
            print(""Succesfully logged in."")
        else:
            print(""Denied."")
"
12178,37455,Adding 2D matrices as numpy arrays,"import numpy as np
import decimal

a = decimal.Decimal(4.96398713e+173)
b = decimal.Decimal(1.24900090e-16)

print(a+b)
# 4.963987129999999822073620193E+173

# You can also set the dtype of your array to decimal.Decimal
a = np.array([[  2.77777778e+000,   6.58946653e-039],
              [  4.96398713e+173,   1.64736663e-039],
              [ -1.88888889e+000, -3.29473326e-039]], 
             dtype=np.dtype(decimal.Decimal))
"
33877,69787,How to apply the output of numpy.argpartition for 2-D Arrays?,"num = 10
top = np.argpartition(myBigArray, num, axis=1)[:, :num]
myBigArray[np.arange(myBigArray.shape[0])[:, None], top]
"
24504,47145,flask : rendering unicode instead of string,"response = """"""
{
    ""Displayed_Name"": ""%s"",
    ""Type"": ""%s"",
    ""Lat"":""%s"",
    ""Lon"":""%s"",
    ""City"":""%s"",
    ""Txt_Address"":""%s"",
    ""Status"":""%s""
}
        """"""%(View_Information.Displayed_Name,
             View_Information.Type,
        View_Information.Lat,
        View_Information.Lon,
        View_Information.City,
        View_Information.Txt_Address,
        View_Information.Status)


        to_be_returned= make_response(response)
        to_be_returned.mimetype='application/json;charset=utf-8'

        return to_be_returned
"
37848,73348,Finding the average number,"d = {}
with open('in.txt') as f:
    data = f.readlines()
for x in data:
    x = x.strip()
    if not x:
        continue
    name = x.split(':')[0].strip()
    score = int(x.split(':')[-1].split('/')[0].strip())
    if name not in d:
        d[name] = {}
        d[name]['score'] = 0
        d[name]['count'] = 0
    d[name]['count'] += 1
    d[name]['score'] = (d[name]['score'] + score) / float(d[name]['count'])

ds = sorted(d.keys(), key=lambda k: d[k]['score'], reverse=True)

for x in ds:
    print('{0}: {1}'.format(x, d[x]['score']))
"
18489,6954,extracting data between span tags with BeautifulSoup Python,">>> ''.join(i.text for i in soup.select('p > span'))
'3-Acetyl-(4-acetyl-5-(Î²naphtyl)-4,5-dihydro-1,3,4-oxodiazol-2-yl)methoxy)-2H-chromen-2-one'
"
38677,33456,Get outliers in a DataFrame with date,"print(df[ np.abs(df.Data - df.Data.mean()) > 1.5*df.Data.std() ])
"
16670,27653,The data aren't visible in the plot,"import matplotlib
xmin, xmax = matplotlib.pyplot.xlim()   # return the current xlim
matplotlib.pyplot.xlim( (xmin, xmax) )  # set the xlim to xmin, xmax
matplotlib.pyplot.xlim( xmin, xmax )    # set the xlim to xmin, xmax
"
16921,5424,How to transform an XML file using XSLT in Python?,"import lxml.etree as ET

dom = ET.parse(xml_filename)
xslt = ET.parse(xsl_filename)
transform = ET.XSLT(xslt)
newdom = transform(dom)
print(ET.tostring(newdom, pretty_print=True))
"
26993,14777,"receiving symbols from udp, why ?","for c in data:
    print ord(c)
"
4025,72974,What's the right way to pass a var to a Python unittest TestCase and/or TestSuite?,"class RestTestCase(unittest.TestCase):
    resource = Resource('http://example.com')

    def sometest(self):
        r = self.resource
        ...
        self.assertEqual(expectedresult, actualresult)

class SomeOtherRestTestCase(RestTestCase):
    resource = Resource('http://someother.example.com')

class YetAnotherRestTestCase(RestTestCase):
    resource = Resource('http://yetanother.example.com')

if __name__ == '__main__':
    unittest.main()
"
3743,46476,URL generator in python,"'http://www.xf.com/position/?number=1&From={0}&To={1}'.format('left', 'right')
"
14035,28367,Listing details of USB drives using python and udisk2,"#!/usr/bin/python2.7
# coding: utf-8
import dbus


def get_usb():
    devices = []
    bus = dbus.SystemBus()
    ud_manager_obj = bus.get_object('org.freedesktop.UDisks2', '/org/freedesktop/UDisks2')
    om = dbus.Interface(ud_manager_obj, 'org.freedesktop.DBus.ObjectManager')
    try:
        for k,v in om.GetManagedObjects().iteritems():
            drive_info = v.get('org.freedesktop.UDisks2.Block', {})
            if drive_info.get('IdUsage') == ""filesystem"" and not drive_info.get('HintSystem') and not drive_info.get('ReadOnly'):
                device = drive_info.get('Device')
                device = bytearray(device).replace(b'\x00', b'').decode('utf-8')
                devices.append(device)
    except:
        print ""No device found...""
    return devices



def usb_details(device):
    bus = dbus.SystemBus()
    bd = bus.get_object('org.freedesktop.UDisks2', '/org/freedesktop/UDisks2/block_devices%s'%device[4:])
    try:
        device = bd.Get('org.freedesktop.UDisks2.Block', 'Device', dbus_interface='org.freedesktop.DBus.Properties')
        device = bytearray(device).replace(b'\x00', b'').decode('utf-8')
        print ""printing "" + device
        label = bd.Get('org.freedesktop.UDisks2.Block', 'IdLabel', dbus_interface='org.freedesktop.DBus.Properties')
        print 'Name od partition is %s'%label
        uuid = bd.Get('org.freedesktop.UDisks2.Block', 'IdUUID', dbus_interface='org.freedesktop.DBus.Properties')
        print 'UUID is %s'%uuid
        size = bd.Get('org.freedesktop.UDisks2.Block', 'Size', dbus_interface='org.freedesktop.DBus.Properties')
        print 'Size is %s'%uuid
        file_system =  bd.Get('org.freedesktop.UDisks2.Block', 'IdType', dbus_interface='org.freedesktop.DBus.Properties')
        print 'Filesystem is %s'%file_system
    except:
        print ""Error detecting USB details...""
"
37528,24777,Why is split breaking up my words into characters,"name_sorta = name_sorta.split()
"
7862,77367,"Create JSON based on file structure in ruby, python, or node.js script","from re import split
from itertools import groupby, izip

fruits = set([""apple"", ""pear""])
animals = set([""bear"", ""cat""])

json_structure = {}

text_input = [""apple001.png"", ""apple002.jpg"", ""bear001.png"", ""pear001.png"", ""cat001.png""]

def check(filename):
""""""Checks which group a filename is in and returns an integer for ordering""""""
    n = split(r'[0-9]', filename)[0]
    if n in fruits:
        return 0
    else:
        return 1


grouped = groupby(sorted(text_input, key=check), key=check)

for objects, object_type in izip(grouped, [""fruits"", ""animals""]):
    items = objects[1]
    json_structure[object_type] = list(items)

print json_structure
"
22151,34952,python write 40 times loops results in text,"f = open ('test_2.txt','w')
for x in range (41):
    f.write ('TIME           =            0.00 hours since 1999-06-20 14:00:00 +00:00\n')
    f.write ('x_spw_eye      =     138.50\n')
    f.write ('y_spw_eye      =       7.20\n')
    f.write ('pdrop_spw_eye =         1000.00\n')


    for i in range(1500):

        for j in range (16):
            f.write ('%8.1f'% (0)),
        f.write ('%8.1f' % (0)+'\n')
        for j in range (16):    
            f.write ('%8.1f' % (0)),
        f.write ('%8.1f' % (0)+'\n')
        for j in range (4):
            f.write ('%8.1f' % (0))  
        f.write ('%8.1f' % (0)+'\n')


f.close()
"
8691,22921,Sort list of folders on most items in folder,"import glob
import os

list_of_folders = glob.glob('path_to_folder/*')
list_of_folders.sort(key=lambda d: len(os.listdir(d)), reverse=True)
"
8735,1057,How to make functions for my pymongo/twitter script?,"collection = getattr(db, screen_name)
"
9365,4630,How do I create a class using inputs from previous classes?,"class Registration():
    'Class telling us what modules students are taking'
    def __init__(self):
        self.regdict = {}
    def add(self, name, module):
        self.regdict.setdefault(name, []).append(Modules(module))
    def modules(self, name):
        return self.regdict[name]
"
32723,23965,Python selenium use the same window instead of having 3 pop up?,"driver = webdriver.Chrome(chrome_path)
for x in range(3):
    driver.get(""https://signup.live.com/signup?wa=wsignin1.0&rpsnv=12&ct=1455592987&rver=6.4.6456.0&wp=MBI_SSL_SHARED&wreply=https%3a%2f%2fmail.live.com%2fdefault.aspx%3frru%3dinbox&id=64855&cbcxt=mai&bk=1455592987&uiflavor=web&uaid=947b22b7c0d249f8ab527df4fb06c828&mkt=EN-US&lc=1033&lic=1""
"
13647,53509,Plot multiple curves with matplotlib.pyplot.fill,"import numpy as np
import matplotlib.pyplot as plt

xarray = np.array([[   0],    #curve 1
                   [ 100],    #curve 1
                   [ 200],    #curve 1
                   [   0],    #curve 2
                   [ 100],    #curve 2
                   [ 200]])   #curve 2

yarray = np.array([[ 11],     #curve 1
                   [ 22],     #curve 1
                   [ 22],     #curve 1
                   [ 19],     #curve 2
                   [ 12],     #curve 2
                   [  0]])    #curve 2

# can the value ""0"" can be used separate xy pairs?
indices = np.argwhere(xarray[:,0] == 0)
for i in range(len(indices)):
    try:
        i0 = indices[i]
        i1 = indices[i+1]
    except:
        i0 = indices[i]
        i1 = len(xarray[:,0])
    plt.fill(xarray[i0:i1,0], yarray[i0:i1,0])
plt.show()
"
9625,68626,deferred execution celery task,"@celery.task
def task():
    RealTask.apply_async(countdown=30)
"
37413,27815,SimPy Resource of 3 where each has different characteristics,"import simpy


def user(machine):
    m = yield machine.get()
    print(m)
    yield machine.put(m)

    m = yield machine.get(lambda m: m['id'] == 1)
    print(m)
    yield machine.put(m)

    m = yield machine.get(lambda m: m['health'] > 98)
    print(m)
    yield machine.put(m)


env = simpy.Environment()
machine = simpy.FilterStore(env, 3)
machine.put({'id': 0, 'health': 100})
machine.put({'id': 1, 'health': 95})
machine.put({'id': 2, 'health': 97.2})

env.process(user(machine))

env.run()
"
4685,81464,Combine two Python lists with partly empty sublists,">>> [(b, e) for a, b in zip(mynestedlist, otherlist) for e in a]
[(32, 4), (32, 10), (21, 4), (12, 10)]
"
30468,37155,Getting attributes from queryset in django-admin,"def StudentID(self, obj):
  return '%s' % obj.pk
StudentID.short_description = 'StudentID'
def Student_Name(self, obj):
    return '%s' % obj.name
"
36304,27375,A right way to represent 4 dimension points using colors in a matplotlib scatter,"import matplotlib.cm as cmx
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt
import matplotlib
import numpy as np

def scatter3d(x,y,z, cs, colorsMap='jet'):
    cm = plt.get_cmap(colorsMap)
    cNorm = matplotlib.colors.Normalize(vmin=min(cs), vmax=max(cs))
    scalarMap = cmx.ScalarMappable(norm=cNorm, cmap=cm)
    fig = plt.figure()
    ax = Axes3D(fig)
    ax.scatter(x, y, z, c=scalarMap.to_rgba(cs))
    scalarMap.set_array(cs)
    fig.colorbar(scalarMap,label='Test')
    plt.show()

x = np.random.uniform(0,1,50)
y = np.random.uniform(0,1,50)
z = np.random.uniform(0,1,50)
"
2597,32804,Writing in file's actual position in Python,"source_file = open(""myfile"", ""r"")
file_data = list(source_file.read())
source_file.close()
file_data.insert(position, data)
open(""myfile"", ""wb"").write(file_data)
"
26240,10001,Python strings and integers to write to file?,"strings = ['abc', 'abcde', 'abcd', 'abcdefgh']
outputs = map(lambda x: ""%d %s"" % (len(x), x), strings) # ['3 abc', '5 abcde', '4 abcd', '8 abcdefgh']
f = open(""file.out"", 'w')
data = '\n'.join(outputs) # Concat all strings in list, separated by line break
f.write(data)
f.close()
"
37693,17963,How to obtain 3D colored surface via Python?,"from mpl_toolkits.mplot3d import axes3d
from mpl_toolkits.mplot3d import art3d
import matplotlib.pyplot as plt
import numpy as np
import matplotlib as mpl

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
X, Y, Z = axes3d.get_test_data(0.05)
wire = ax.plot_wireframe(X, Y, Z, rstride=10, cstride=10)

# Retrive data from internal storage of plot_wireframe, then delete it
nx, ny, _  = np.shape(wire._segments3d)
wire_x = np.array(wire._segments3d)[:, :, 0].ravel()
wire_y = np.array(wire._segments3d)[:, :, 1].ravel()
wire_z = np.array(wire._segments3d)[:, :, 2].ravel()
wire.remove()

# create data for a LineCollection
wire_x1 = np.vstack([wire_x, np.roll(wire_x, 1)])
wire_y1 = np.vstack([wire_y, np.roll(wire_y, 1)])
wire_z1 = np.vstack([wire_z, np.roll(wire_z, 1)])
to_delete = np.arange(0, nx*ny, ny)
wire_x1 = np.delete(wire_x1, to_delete, axis=1)
wire_y1 = np.delete(wire_y1, to_delete, axis=1)
wire_z1 = np.delete(wire_z1, to_delete, axis=1)
scalars = np.delete(wire_z, to_delete)

segs = [list(zip(xl, yl, zl)) for xl, yl, zl in \
                 zip(wire_x1.T, wire_y1.T, wire_z1.T)]

# Plots the wireframe by a  a line3DCollection
my_wire = art3d.Line3DCollection(segs, cmap=""hsv"")
my_wire.set_array(scalars)
ax.add_collection(my_wire)

plt.colorbar(my_wire)
plt.show()
"
38466,2589,Django models and Python properties,"User.objects.filter(post___summary__contains=""some string"")
"
23459,22765,"NumPy: Need a function where: f(target array, array of indicies, some number) -> target array with indicies filled in with some number","A[np.arange(len(A)), B.flat] = aNumber
"
21094,75529,How to efficiently apply an arbitrary remapping to a matrix in Python,">>> data = np.arange(10)+np.arange(0, 100, 10)[:,None]
>>> print(data)
[[ 0  1  2  3  4  5  6  7  8  9]
 [10 11 12 13 14 15 16 17 18 19]
 [20 21 22 23 24 25 26 27 28 29]
 [30 31 32 33 34 35 36 37 38 39]
 [40 41 42 43 44 45 46 47 48 49]
 [50 51 52 53 54 55 56 57 58 59]
 [60 61 62 63 64 65 66 67 68 69]
 [70 71 72 73 74 75 76 77 78 79]
 [80 81 82 83 84 85 86 87 88 89]
 [90 91 92 93 94 95 96 97 98 99]]
>>>
>>> inds1 = np.array([[0, 2, 2], [3, 5, 8]])
>>> inds2 = np.array([[2, 7, 1], [8, 2, 8]])
>>>
>>> data2 = data[inds1, inds2]
>>> print(data2)
[[ 2 27 21]
 [38 52 88]]
"
25260,84142,Equal axis labels and ranges for all subplots,"In [36]: import matplotlib.pyplot as plt
    ...: fig, axes=plt.subplots(2, 2)
    ...: for ax in axes.ravel(): #ravel axes to a flattened array 
    ...:     ax.set_xlim(0, 10)
    ...:     ax.set_ylim(0, 20)
    ...:     ax.set_xlabel('Label_x')
    ...:     ax.set_ylabel('Label_y')
    ...: plt.show()
    ...: 
"
12295,82414,How do I correct this function to create a label in Tkinter Python?,"def rate():
    rate = 1
    if var.get() =='GBP' and var2.get() =='USD':
        rate=float(1.63452)
    if var.get() == 'GBP' and var2.get()=='EUR':
        rate=float(1.19529)
    ## TODO:: add other convertion conditions
    return rate

def convert():
    converted=Label(root, text=(var.get(), entarr.get(),"">>>"", (entarr.get()*rate()), var2.get()))
    converted.pack(expand=1)
    return convert
"
23529,55722,python parse http response (string),"from httplib import HTTPResponse
from StringIO import StringIO

http_response_str = """"""HTTP/1.1 200 OK
Date: Thu, Jul  3 15:27:54 2014
Content-Type: text/xml; charset=""utf-8""
Connection: close
Content-Length: 626""""""

class FakeSocket():
    def __init__(self, response_str):
        self._file = StringIO(response_str)
    def makefile(self, *args, **kwargs):
        return self._file

source = FakeSocket(http_response_str)
response = HTTPResponse(source)
response.begin()
print ""status:"", response.status
print ""single header:"", response.getheader('Content-Type')
print ""content:"", response.read(len(http_response_str)) # the len here will give a 'big enough' value to read the whole content
"
1882,47342,Python Pandas - How to format and split a text in column ?,"print (df['title'].str
                  .replace(r'[\-\!\@\#\$\%\^\&\*\(\)\_\+\[\]\;\'\.\,\/\{\}\:\""\<\>\?\|]','')
                  .str
                  .lower()
                  .str
                  .split('\s+', expand=True)
                  .stack()
                  .drop_duplicates()
                  .tolist())

['this', 'is', 'line', 'number', 'one', 'i', 'love', 'pandas', 'they', 'are', 
'so', 'puffy', 'tring', 'with', 'specia', 'characters', 'yes', 'it']
"
12883,26086,how to post data and binary data using urllib2 in python,"import urllib2
import json

url = 'http://url.com?u=user&p=pass'
data = json.dumps({'config':'configData'}) # your JSON File goes in here, as argument to dumps.
cont_len = len(data)
req = urllib2.Request(url, data, {'Content-Type': 'application/json', 'Content-Length': cont_len})
f = urllib2.urlopen(req)
response = f.read()
f.close()
"
21558,48142,Converting fraction using numerals to a string which uses \\frac{}{} Latex format,"In [1]: expr = sympify(""9+3/3+6/2"", evaluate=False)

In [2]: expr
Out[2]: 
3   6    
- + - + 9
3   2    

In [3]: latex(expr)
Out[3]: '\\frac{3}{3} + \\frac{6}{2} + 9'

In [4]: print (latex(expr))
\frac{3}{3} + \frac{6}{2} + 9
"
15828,4305,how to import the correct module where the name exists multiple times in site-packages,"sys.path[0:0] = ['/usr/lib64/python2.6/site-packages/mpich2']
import mpi4py
"
21936,67143,why can't I validate user input in this way? Python,"while teamScore not in range (1,501):
    print ""The score is not in the valid range!""
    teamScore=int(raw_input(""Please enter the team score (1-500): ""))
"
25888,77601,Pandas: Check if row exists with certain values,">>> ((df['A'] == 2) & (df['B'] == 3)).any()
True
>>> ((df['A'] == 1) & (df['B'] == 2)).any()
False
"
34740,47183,Ordering a query set based on the length of another query set,"from django.db.models import Count
teams = Team.objects.annotate(num_wins=Count('alliance__winner')).order_by('-num_wins')
"
6639,48689,Convert Numpy matrix to pandas dataframe,"ratings = np.asarray([
    [ 5,  4,  0, 0],
    [ 0,  0,  5, 0],
    [ 0,  0,  0, 1],
    [ 0,  0,  0, 1]
])
ratings.flatten()[ratings.flatten().nonzero()]
Out[1]: array([5, 4, 5, 1, 1])
"
5625,5857,"Open Multiple Files, Helper Function","input_file = 'in_file.csv'
output_file = 'out_file.csv'

with open(input_file, 'rb') as in_csv, open(output_file , 'wb') as out_csv:
    # do your code
"
6782,4384,Pythonic way of converting a list embedded in a string to a list,">>> import ast
>>> ast.literal_eval('[1,2,3]')
[1, 2, 3]
"
9820,83517,Way around auto renaming DataFrame columns,"import pandas as pd

left = pd.DataFrame({'k': ['K0', 'K1', 'K2'], 'v': [1, 2, 3]})
print left
    k  v
0  K0  1
1  K1  2
2  K2  3

right = pd.DataFrame({'k': ['K0', 'K0', 'K3'], 'v': [4, 5, 6]})
print right
    k  v
0  K0  4
1  K0  5
2  K3  6

result = pd.merge(left, right, on='k', suffixes=['', '_r'])
print result
    k  v  v_r
0  K0  1    4
1  K0  1    5
"
29717,13585,Access denied to a website using tor,"curl.setopt(pycurl.USERAGENT, 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0) Gecko/20100101 Firefox/8.0')
"
18136,41520,Launching and waiting a GUI app to finish with Python,"import subprocess
res = subprocess.check_output([""/usr/bin/open"", ""-a"", ""-W"", ""/Applications/Mou.app"", ""p.py""])
print ""Finished""
"
30761,38898,Django form.save() to another class/function,"# models.py
from django.db import models

class ValidationCode(models.Model):
    code = models.CharField(max_length=10, unique=True)
    creation_date = models.DateTimeField(auto_now_add=True)
    is_validated = models.BooleanField(default=False)

# views.py

def save_page(request):

    # contains 3 fields

    form = sample_tableform(request.POST)
    if request.method == 'POST':
        if form.is_valid():

    validation_code = ValidationCode(code=""random_code_here"")
    validation_code.save()

    # send email with the code here    
    #redirect to code confirmation page

def valcode(request):

    #contains 1 field

    sub_form = confirmform(request.POST)
    if request.method == 'POST':

        if sub_form.is_valid():

            try:
                code_from_db = ValidationCode.objects.get(code=form.fields['code'])
            except ValidationCode.DoesNotExist: 
                # Not code matching input exist in database
                # return some error to the user

            # code exist in db, just mark it as validated
            code_from_db.is_validated = True
            code_from_db.save()
"
23315,22156,Flask-SqlAlchemy views reflection,"class MySQLAlchemy(SQLAlchemy):
    def _execute_for_all_tables(self, app, bind, operation, **kwargs):
        app = self.get_app(app)

        if bind == '__all__':
            binds = [None] + list(app.config.get('SQLALCHEMY_BINDS') or ())
        elif isinstance(bind, basestring) or bind is None:
            binds = [bind]
        else:
            binds = bind

        for bind in binds:
            tables = self.get_tables_for_bind(bind)
            op = getattr(self.Model.metadata, operation)
            op(bind=self.get_engine(app, bind), tables=tables, **kwargs)

    def reflect(self, bind='__all__', app=None, **kwargs):
        self._execute_for_all_tables(app, bind, 'reflect', **kwargs)
"
31133,55826,Reading from multiple lists into a Pandas Dataframe,"import pandas as pd
import io

temp=u""""""[ABCD,color,NORMAL,N,2015-02-20,1]
[XYZA,color,NORMAL,N,2015-05-04,1]
[GFFD,color,NORMAL,N,2015-07-03,1]
[NAAS,color,NORMAL,N,2015-08-26,1]
[LOWW,color,NORMAL,N,2015-09-26,1]
[KARA,color,NORMAL,N,2015-11-08,1]
[ALEQ,color,NORMAL,N,2015-12-04,1]
[VDDE,color,NORMAL,N,2015-12-23,1]
[QWER,color,NORMAL,N,2016-01-18,1]
[KDSS,color,NORMAL,Y,2015-08-29,1]""""""
#after testing replace io.StringIO(temp) to filename
df = pd.read_csv(io.StringIO(temp),header=None,names=['a','b','c','d','e','f'])

#remove []
df['a'] = df['a'].str.strip('[')
df['f'] = df['f'].str.strip(']')
#convert column e to datetime
df['e'] = pd.to_datetime(df['e'])
print df
      a      b       c  d          e  f
0  ABCD  color  NORMAL  N 2015-02-20  1
1  XYZA  color  NORMAL  N 2015-05-04  1
2  GFFD  color  NORMAL  N 2015-07-03  1
3  NAAS  color  NORMAL  N 2015-08-26  1
4  LOWW  color  NORMAL  N 2015-09-26  1
5  KARA  color  NORMAL  N 2015-11-08  1
6  ALEQ  color  NORMAL  N 2015-12-04  1
7  VDDE  color  NORMAL  N 2015-12-23  1
8  QWER  color  NORMAL  N 2016-01-18  1
9  KDSS  color  NORMAL  Y 2015-08-29  1
"
29152,19807,wxpython for each loop from textctrl split by newline,"myList = []
for line in myOpenFileObj:
    myList.append(line)
"
5046,72248,"Reduce ""for loops for big data"" and make improvement","for x, y in itertools.combinations(lemmas, 2):
"
24900,4620,How can I read the RGB value of a given pixel in Python?,"from PIL import Image
im = Image.open(""dead_parrot.jpg"") #Can be many different formats.
pix = im.load()
print im.size #Get the width and hight of the image for iterating over
print pix[x,y] #Get the RGBA Value of the a pixel of an image
pix[x,y] = value # Set the RGBA Value of the image (tuple)
"
24817,63994,How do I change the plot size of a regplot in Seaborn?,"import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt

# some artificial data
data = np.random.multivariate_normal([0,0], [[1,-0.5],[-0.5,1]], size=100)

# plot
sns.set_style('ticks')
fig, ax = plt.subplots()
fig.set_size_inches(18.5, 10.5)
sns.regplot(data[:,0], data[:,1], ax=ax)
sns.despine()
"
3476,32630,Find non crossing pairs in array and remove iteratively in Python until no pairs are left,">>> import itertools
>>> 
>>> def check_element(checkpair):
...     for pair in checklist:
...         if  checkpair != pair and (pair[0] in range(checkpair[0],checkpair[1]) or pair[1] in range(checkpair[0],checkpair[1]) ):
...             return bool
... 
>>> checklist = [(2,72), (20,73),(22,70), (25,30)]
>>> print checklist
[(2, 72), (20, 73), (22, 70), (25, 30)]
>>> filtered = itertools.ifilter(check_element, checklist) #returns generator
>>> checklist = list(filtered)                             #exahust iterator to create list
>>> print checklist
[(2, 72), (20, 73), (22, 70)]
>>> _filtered = itertools.ifilter(check_element, checklist)
>>> checklist = list(_filtered)
>>> print checklist
[(2, 72), (20, 73)]
"
37983,25107,Python is this a string or a string array?,">>> ""rohit""[0]
'r'
>>> ""rohit""[-1]
't'
>>> ""rohit""[0:2]
'ro'
"
32498,67596,Unable to navigate to the next frame in the window using TKinter,"from Tkinter import *
import tkFileDialog
from PIL import ImageTk, Image

root = Tk()
#my_widget = Widget-name (its container window, ** its configuration options)
def callback():
    path = tkFileDialog.askopenfilename()
    print path

def create_widgets_in_first_frame():
    first_window_label1 = Label(first_frame, text=""Analysis of Machine Learning Methods using Titanic Disaster Dataset"",justify=CENTER,font=(""Helvetica"", 20,""bold"")).place(x=200,y=20)

    first_window_label5 = Label(first_frame, text=""Choose your Method:"",justify=LEFT,font=(""Helvetica"", 15,""italic"")).place(x=20,y=180)

    first_window_label2 = Label(first_frame, text=""Upload your Titanic datasets .csv extension here:"",justify=LEFT,font=(""Helvetica"", 15,""italic"")).place(x=20,y=60)

    first_window_label3 = Label(first_frame, text=""Training dataset ->"",justify=LEFT,font=(""Helvetica"", 12)).place(x=50,y=100)
    training_data_path = StringVar()
    first_window_entry1 = Entry(first_frame, textvariable=training_data_path).place(x=350,y=100)
    first_window_button1 = Button(first_frame, text=""Browse"",command=lambda:training_data_path.set(tkFileDialog.askopenfilename())).place(x=550,y=100)

    first_window_label4 = Label(first_frame, text=""Testing dataset ->"",justify=LEFT,font=(""Helvetica"", 12)).place(x=50,y=140)
    testing_data_path = StringVar()
    first_window_entry2 = Entry(first_frame, textvariable=testing_data_path).place(x=350,y=140)
    first_window_button2 = Button(first_frame, text=""Browse"",command=lambda:testing_data_path.set(tkFileDialog.askopenfilename())).place(x=550,y=140)

    first_window_button3 = Button(first_frame, text=""Decision Tree"",font=(""Helvetica"", 15))
    first_window_button3.place(x=50,y=220)
    first_window_button3.bind('<Button-1>', call_second_frame_on_top)

    first_window_button4 = Button(first_frame, text=""Random Forests"",font=(""Helvetica"", 15))
    first_window_button4.place(x=350,y=220)
    first_window_button4.bind('<Button-1>', call_second_frame_on_top)

    first_window_button5 = Button(first_frame, text=""Logistic Regression"",font=(""Helvetica"", 15))
    first_window_button5.place(x=650,y=220)
    first_window_button5.bind('<Button-1>', call_second_frame_on_top)

    first_window_button6 = Button(first_frame, text=""Analysis"",font=(""Helvetica"", 15))
    first_window_button6.place(x=1000,y=220)
    first_window_button6.bind('<Button-1>', call_second_frame_on_top)


def create_widgets_in_second_frame():
    second_window_label6 = Label(root, text=""Decision Trees"",justify=CENTER,font=(""Helvetica"", 20,""bold"")).place(x=200,y=20)
    print ""graph is below""

def call_second_frame_on_top(event):
    first_frame.grid_forget()
    second_frame.grid(column=0, row=0, padx=20, pady=5)


window_width = 1300
window_heigth = 700

first_frame=Frame(root, width=window_width, height=window_heigth)
first_frame['borderwidth'] = 2
first_frame['relief'] = 'sunken'
first_frame.grid(column=0, row=0, padx=20, pady=5)

second_frame=Frame(root, width=window_width, height=window_heigth)
second_frame['borderwidth'] = 2
second_frame['relief'] = 'sunken'
second_frame.grid(column=0, row=0, padx=20, pady=5)

create_widgets_in_second_frame()
create_widgets_in_first_frame()


second_frame.grid_forget()


#root.minsize(width=1300, height=700)
#root.configure(background='lavender')
root.mainloop()
"
29084,14062,matplotlib: stem plot with horizontal offset,"from pylab import *

x = linspace(0.1, 2*pi, 10)
markerline, stemlines, baseline = stem(x, cos(x), '-.', bottom=.5)
setp(markerline, 'markerfacecolor', 'b')
setp(baseline, 'color','r', 'linewidth', 2)

show()
"
10453,2796,Updating section in ConfigParser (or an alternative),"import json

projects = []
projects.append({'project_name': 'foobar', 
                 'author': 'John Doe', 
                 'email': 'spam@example.com', 
                 'year': '2010'})
projects.append({'project_name': 'baz', 
                 'author': 'Cat Stevens', 
                 'email': 'cs@example.com', 
                 'year': '2009'})

with open('projects.json', 'w') as f:
    json.dump(projects, f)
"
9241,80159,break the function after certain time,"import signal

class TimeoutException(Exception):   # Custom exception class
    pass

def timeout_handler(signum, frame):   # Custom signal handler
    raise TimeoutException

# Change the behavior of SIGALRM
signal.signal(signal.SIGALRM, timeout_handler)

for i in range(3):
    # Start the timer. Once 5 seconds are over, a SIGALRM signal is sent.
    signal.alarm(5)    
    # This try/except loop ensures that 
    #   you'll catch TimeoutException when it's sent.
    try:
        A(i) # Whatever your function that might hang
    except TimeoutException:
        continue # continue the for loop if function A takes more than 5 second
    else:
        # Reset the alarm
        signal.alarm(0)
"
8226,46715,Python: How do I change this code so that I can doWork() once in every 60 seconds?,"from twisted.internet import task
from twisted.internet import reactor

def runEverySecond():
    print ""a second has passed""

l = task.LoopingCall(runEverySecond)
l.start(1.0) # call every second

reactor.run()
"
37242,57885,Convert curl example to pycurl,"import pycurl, json

github_url = 'https://api.postmarkapp.com/email'

data = json.dumps({""From"": ""user@example.com"", ""To"": ""receiver@example.com"", ""Subject"": ""Pycurl"", ""TextBody"": ""Some text""})

c = pycurl.Curl()
c.setopt(pycurl.URL, github_url)
c.setopt(pycurl.HTTPHEADER, ['X-Postmark-Server-Token: API_TOKEN_HERE','Accept: application/json'])
c.setopt(pycurl.POST, 1)
c.setopt(pycurl.POSTFIELDS, data)
c.perform()
"
7150,62709,Stitching grids of varying grid spacing,"a = np.arange(9).reshape(3,3)
b = np.arange(36).reshape(6,6)

plt.imshow(a, extent=[0,1,0,1], interpolation='none')
plt.imshow(b, extent=(1,2,0,1), interpolation='none')
# note scaling is ""broke""
plt.xlim(0,2)
"
14550,85043,Remembering Custom and Third Party Cookies Post Django Login,"Two different domains
www.mysite.com
mysite.com
"
20960,35494,Accessing a int16 array using numpy.i and swig,"%typemap(out) int16*[2] {
  int i;
  $result = PyList_New(2);
  for (i = 0; i < 2; i++) {
    PyObject *o = PyInt_FromLong($1[i]);
    PyList_SetItem($result,i,o);
  }
}
%apply int16*{lag[2]};
"
33533,57282,reading pyqt stylesheet from external qss file,"sshFile=""darkorange.stylesheet""
with open(sshFile,""r"") as fh:
    self.setStyleSheet(fh.read())
"
10107,82234,Compare elements in different lists in python,"from collections import defaultdict

a = [1,2,3,4,5]
b = [2,2,5,5,3]
c = [5,2,8,1,1]
d = [1,1,1,1,1]
e = [5,1,2,3,4]
f = [1,1,5,5,5]

all_lists = [a,b,c,d,e,f]

dictionary = defaultdict(list)
for l in all_lists:
    dictionary[l[1]].append(l)

sorted_dict = {key:sorted(l, key=lambda x:x[2], reverse=True)[0] for key,l in dictionary.items()}
"
9857,80201,How to use the pyramid_traversalwrapper?,"@view_config(context='Channels')
def some_view(context, request):
    user = context.__parent__
    userlist = user.__parent__
    print user.__name__  # Prints a, b or c
    print userlist.__name__  # Prints 'users'
"
5151,78450,List of List to ndarray,"data = [[1,2,3,4],[4,5,6,7,8]]
data_arr = np.array(data)

data_arr
array([[1,2,3,4],
       [5,6,7,8]])
"
27688,15950,Why do I get rows of zeros in my 2D fft?,"In [59]: from scipy import absolute, fft

In [60]: absolute(fft([1,2,3,4]))
Out[60]: array([ 10.        ,   2.82842712,   2.        ,   2.82842712])

In [61]: absolute(fft([1,2,3,4, 1,2,3,4]))
Out[61]: 
array([ 20.        ,   0.        ,   5.65685425,   0.        ,
         4.        ,   0.        ,   5.65685425,   0.        ])

In [62]: absolute(fft([1,2,3,4, 1,2,3,4, 1,2,3,4]))
Out[62]: 
array([ 30.        ,   0.        ,   0.        ,   8.48528137,
         0.        ,   0.        ,   6.        ,   0.        ,
         0.        ,   8.48528137,   0.        ,   0.        ])
"
8665,11125,Python increment string with both letters and numbers,"number = base36encode(base36decode(number) + 1)
"
34458,78370,memory profiler for ironpython,"IronPython uses .Net technology.
Thus your Python program is really a .Net program.

Therefore you should be using your program with .Net Memory Validator.
http://www.softwareverify.com/dotNet/memory/index.html
"
27122,84030,Rename columns based on another DataFrame,"dataframe1.rename(columns=dataframe2.set_index('Old_Names')['New_Names'], inplace=True)
"
11129,44143,how to write this in one line in the python way?,"get = operator.itemgetter(4,5)
w_topic = [get(line.split()) for line in lines]
"
36857,66802,how to read json data in django?,"def post_article(sample):      #sample is the http request   
    json_data = sample.read()
    data = json.loads(json_data) 
    a = data['title']
    response_data = {}
    response_data['title'] = a 
    return HttpResponse(json.dumps(response_data), content_type=""application/json"")
"
25881,7730,Python: Parallel processing of N files in list,"import multiprocessing
pool = multiprocessing.Pool()
pool.map(function_x, list_of_files)
"
10341,50010,Is easy_install handling relative links correctly? It's generating different absolute links than browsers and other tools do,"<base href='http://nedbatchelder.com'>
"
24581,15402,Is `extend` faster than `+=`?,">>> import dis
>>> l = [1,2,3]
>>> m = [4,5,6]
>>> def f1(l, m):
...     l.extend(m)
...
>>> def f2(l,m):
...     l += m
...
>>> dis.dis(f1)
  2           0 LOAD_FAST                0 (l)
              3 LOAD_ATTR                0 (extend)
              6 LOAD_FAST                1 (m)
              9 CALL_FUNCTION            1
             12 POP_TOP
             13 LOAD_CONST               0 (None)
             16 RETURN_VALUE
>>> dis.dis(f2)
  2           0 LOAD_FAST                0 (l)
              3 LOAD_FAST                1 (m)
              6 INPLACE_ADD
              7 STORE_FAST               0 (l)
             10 LOAD_CONST               0 (None)
             13 RETURN_VALUE
"
14275,40486,How would I join a list of tuples in python?,"import itertools

old_list = [(2, 3), (2, 4), (2, 5)]
oldlist0 = [a[0] for a in old_list]
new_list = list(itertools.combinations(set(a for b in old_list for a in b),3))
new_list = [a for a in new_list if a[0] in oldlist0 and a[1] not in oldlist0 and a[2] not in oldlist0]

new_list

Out[21]:
[(2, 3, 4), (2, 3, 5), (2, 4, 5)]
"
34323,56810,"In linux, how to use python to check whether an external program is running?","import psutil

def check_if_running(name):
    for ps in psutil.process_iter():
        if ps.name == name:
            return True
    return False

check_if_running('python')
>>> True
"
34486,57107,Joining strings. Generator or list comprehension?,"    fseq = PySequence_Fast(seq, ""can only join an iterable"");
"
14943,40337,LXML: remove the x,">>> import re
>>> samp = """"""<sitemap xmlns=""http://www.sitemaps.org/schemas/sitemap/0.9"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"">
...     <loc>http://www.some_page.com/sitemap-page-2010-11.xml</loc>
...     <lastmod>2011-12-22T15:46:17+00:00</lastmod>
... </sitemap>""""""
>>> re.findall(r'<loc>(.*)</loc>', samp)
['http://www.some_page.com/sitemap-page-2010-11.xml']
"
32680,65389,Dynamic SQL join query in django,"kwargs = {'membership__is_tech': True}
ms_tech = microsoft.filter(**kwargs)
"
26380,61798,How to extract a function given by a content string in Python,"def extract_function_from_string(content):
    exec(content)
    start = 4
    end = content.find(""("")
    function_name = content[start:end]
    return eval(function_name)
my_function = extract_function_from_string(""def my_function(x):\n    return x**2"")
print my_function(5)
"
27892,68574,"split dictionary in two 'by reference', not copying values","original_dict = {'foo':[1,2,3], 'bar':[4,5,6]}  
keys_for_dict1 = ['foo']  
dict1 = {}; dict2 = {}  
for key in original_dict:  
    if key in keys_for_dict1:  
        dict1[key] = original_dict[key]  
    else:  
        dict2[key] = original_dict[key] 

dict1['foo'][2]='a'
print dict1['foo']
print original_dict['foo']
"
36809,49099,Pyqt close unselected tab,"import sys
from PyQt4 import QtGui

class QCustomTabWidget (QtGui.QTabWidget):
    def __init__ (self, parent = None):
        super(QCustomTabWidget, self).__init__(parent)
        self.setTabsClosable(True)
        self.tabCloseRequested.connect(self.closeTab)
        for i in range(1, 10):
            self.addTab(QtGui.QWidget(), 'Tab %d' % i)

    def closeTab (self, currentIndex):
        currentQWidget = self.widget(currentIndex)
        currentQWidget.deleteLater()
        self.removeTab(currentIndex)

myQApplication = QtGui.QApplication([])
myQCustomTabWidget = QCustomTabWidget()
myQCustomTabWidget.show()
sys.exit(myQApplication.exec_())
"
37643,32343,Is auto_now_add property updated each time when put is called?,"#This will create the object only once
return User.get_or_insert(key_name=""id%d"" % unique_user_id, 
                          id=unique_user_id, 
                          name = current_name)

#This will create the object and update some properties
#You can't change the value of key_name
user = User.get_or_insert(key_name=""id%d"" % unique_user_id, 
                          id=unique_user_id)
user.name = name
user.put()
return user
"
27021,63083,How do I return a list of the 3 lowest values in another list,">>> from heapq import nsmallest
>>> in_list = [1, 2, 3, 4, 5, 6]
>>> nsmallest(3, in_list)
[1, 2, 3]
>>>
"
29273,72779,Beautifulsoup soup.body return None,">>> from urllib2 import urlopen
>>> from bs4 import BeautifulSoup
>>> url = 'http://www.emploi.ma/offre-emploi-maroc/commerciaux-en-emission-appels-1019077'
>>> soup = BeautifulSoup(urlopen(url), ""html5lib"")
>>> print soup.body
None

>>> soup = BeautifulSoup(urlopen(url), ""html.parser"")
>>> print soup.body
<body class=""not-front not-logged-in page-node node-type-offre no-sidebars candidate-context full-node layout-main-last sidebars-split font-size-12 grid-type-960 grid-width-16 role-other"" id=""pid-node-1019077"">
<div class=""page"" id=""page"">
... 

>>> soup = BeautifulSoup(urlopen(url), ""lxml"")
>>> print soup.body
<body class=""not-front not-logged-in page-node node-type-offre no-sidebars candidate-context full-node layout-main-last sidebars-split font-size-12 grid-type-960 grid-width-16 role-other"" id=""pid-node-1019077"">
<div class=""page"" id=""page"">
...
"
1551,40839,python multiple regular expressions,"r_list = [re.compile(""...""),
          re.compile(""...""),
          re.compile(""...""), 
          re.compile(""..."")]
if any(r.match(string) for r in r_list):
    # if at least one of the regex's matches do smth
"
33454,29783,Django: Applying Calculations To A Query Set,"links = Link.objects.select_related().annotate(votes=Count('vote'))
for link in links:
    delta_in_hours = (int(datetime.now().strftime(""%s"")) - int(link.created.strftime(""%s""))) / 3600
    link.popularity = ((link.votes - 1) / (delta_in_hours + 2)**1.5)

links = sorted(links, key=lambda x: x.popularity, reverse=True)
"
20013,1043,Loading all objects of a dictionary from a pickle file,"def save_object(obj, filename):
    with open(filename, 'wb') as output:
        pickle.dump(obj, output, -1)
"
30977,35074,Pandas Merge (pd.merge) How to set the index and join,"In [10]: dfL
Out[10]: 
           cuspin  factorL
date                      
2012-01-03   XXXX      4.5
2012-01-03   YYYY      6.2

In [11]: dfL1 = dfLeft.set_index('cuspin', append=True)

In [12]: dfR1 = dfRight.set_index('idc_id', append=True)

In [13]: dfL1
Out[13]: 
                   factorL
date       cuspin         
2012-01-03 XXXX        4.5
           YYYY        6.2

In [14]: dfL1.join(dfR1)
Out[14]: 
                   factorL  factorR
date       cuspin                  
2012-01-03 XXXX        4.5        5
           YYYY        6.2        6
"
10154,29376,Python: Efficient way to split list of strings into smaller chunks by concatenated size,"#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import random
import string
import sys

MAX_LENGTH = 20
MAX_SIZE = 11111


def get_random():
    return ''.join([
        random.choice(string.ascii_letters) for i in range(
            random.randrange(10, 1000))])


def get_random_list():
    return [get_random() for i in range(random.randrange(50, 1000))]


def get_str_length(rnd_list, item_idx):
    return len(''.join(rnd_list[:item_idx]))

rnd_list = get_random_list()


def calculate_ideal_amount(rnd_list):
    list_bounds = {
        'first': 1,
        'last': len(rnd_list)
    }
    print ('ORIG_SIZE: %s, ORIG_LEN: %s' % (
        get_str_length(rnd_list, len(rnd_list)), len(rnd_list)))
    if get_str_length(rnd_list, list_bounds['first']) > MAX_SIZE:
        return 0
    if get_str_length(rnd_list, list_bounds['last']) <= MAX_SIZE and \
            list_bounds['last'] <= MAX_LENGTH:
        return list_bounds['last']
    while True:
        difference = round((list_bounds['last'] - list_bounds['first']) / 2)
        middle_item_idx = list_bounds['first'] + difference
        str_len = get_str_length(
            rnd_list, middle_item_idx)
        print(
            'MAX_SIZE: %s, list_bounds: %s, '
            'middle_item_idx: %s, diff: %s, str_len: %s,' % (
                MAX_SIZE, list_bounds, middle_item_idx, difference, str_len))
        # sys.stdin.readline()
        if str_len > MAX_SIZE:
            list_bounds['last'] = middle_item_idx
            continue
        if middle_item_idx > MAX_LENGTH:
            return MAX_LENGTH
        list_bounds['first'] = middle_item_idx
        if difference == 0:
            if get_str_length(rnd_list, list_bounds['last']) <= MAX_SIZE:
                if list_bounds['last'] > MAX_LENGTH:
                    return MAX_LENGTH
                return list_bounds['last']
            return list_bounds['first']

ideal_idx = calculate_ideal_amount(rnd_list)

print (
    len(rnd_list), get_str_length(rnd_list, len(rnd_list)),
    get_str_length(rnd_list, ideal_idx), ideal_idx,
    get_str_length(rnd_list, ideal_idx + 1))
"
1694,793,Make a stream read() blocking,"flag = fcntl.fcntl(MyStream.fileno(), fcntl.F_GETFL)
fcntl.fcntl(MyStream.fileno(), fcntl.F_SETFL, flag & ~os.O_NONBLOCK)
"
1434,83229,Python: Proper way to store list of strings in sqlite3 or mysql,">>> json.dumps(['please','help','me'])
'[""please"", ""help"", ""me""]'
>>> json.loads('[""please"", ""help"", ""me""]')
[u'please', u'help', u'me']
"
14813,78789,variable does not change inside of a nested loop python,"out_file_name = ""out.csv""

if (len(sys.argv) == 4):
    dat_file_name = sys.argv[1]
    src_file_name = sys.argv[2]
    out_file_name = sys.argv[3]

with open(src_file_name, ""r"") as src, open(dat_file_name, 'r') as dat, open(out_file_name, ""w"") as out_writer:
    src_reader = csv.reader(src)
    dat_reader = csv.reader(dat)

    for string in dat_reader:    
        for sub_string in src_reader:
            if sub_string[0] in string: #Check if substring in string
                out_writer.write(sub_string[0])
                out_writer.write(""\n"")

                print sub_string[0]
        src.seek(0) #Your file pointer is at the end of the file so move it back to the beginning
"
34292,6661,How to decide where Python debugger stops and which line is to be blamed?,"def resultsReportedAtCallsite(ancestorLevel = 1):
    class Ctx:
        def __enter__(self):
            test.fixateResultContext(ancestorLevel + 1)
        def __exit__(self, exc_type, exc_value, traceback):
            test.restoreResultContext()
    return Ctx()

def libraryFunction():
    with resultsReportedAtCallsite():
        test.compare(""Apples"", ""Oranges"")
"
5210,16831,How do I sort a dictionary and get a string of the keys in python?,"# assuming `d` is your dictionary
order_as_string = ''.join([y[0] for y in sorted(d.iteritems(), key=lambda x: x[1], reverse=True)])
"
24832,41093,Python check list inside other list,"path_dict1 = something()
path_dict2 = something_else()
save_list = [(path, md5) for path, md5 in path_dict2.viewitems()
             if md5 != path_dict1.get(path)]
"
27326,84612,Is there any API for formatting Sphinx text?,"import contextlib
import os
import shutil
import tmpfile

from sphinx.websupport import WebSupport

@contextlib.contextmanager
def mkdtemp(suffix='', prefix='tmp', parent_dir=None):
    path = tempfile.mkdtemp(suffix, prefix, parent_dir)
    try:
        yield path
    finally:
        shutil.rmtree(path, ignore_errors=True)

def magic_convert_function(text):
    with mkdtemp() as outdir:
        with mkdtemp() as indir:
            with open(os.path.join(indir, 'test.rst'), 'w') as infile:
                infile.write(text)

            support = WebSupport(srcdir=indir,
                                 builddir=outdir,
                                 search='xapian')
            support.build()

            contents = support.get_document('test')
            return contents['body']
"
25876,25122,SQLAlchemy custom sorting algorithms when using SQL indexes,"from sqlalchemy import *
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker
from pyuca import Collator

metadata = MetaData()
Base = declarative_base(metadata=metadata)

class Item(Base):
    __tablename__ = 'Item'
    id = Column(Integer, primary_key=True)
    value = Column(String, nullable=False)

collator = Collator('allkeys.txt')

def collate_unicode(value1, value2):
    return cmp(collator.sort_key(value1), collator.sort_key(value2))

engine = create_engine('sqlite://')
engine.raw_connection().create_collation('unicode', collate_unicode)
metadata.create_all(engine)
session = sessionmaker(engine)()

for word in [u""Äambr"", u""Äar"", u""car'"", u""carin'"", u""Äe"", u""Äef'"",
             u""centjar'"", u""centr'"", u""cerb'"", u""cert'"", u""Äes'"", u""ceter'""]:
    item = Item(value=word)
    session.add(item)
    session.commit()

for item in session.query(Item).order_by(collate(Item.value, 'unicode')):
    print item.value
"
37402,16928,"Using the Regex OR operator to accommodate user input of ""A"" or ""An""","regex_a = re.compile(""(a|an)$"")
"
12143,63387,mocking a function within a class method,"fake_response = mock.MagicMock(headers={'content-type': 'text/html'},
                          status_code=2000, 
                          content=""Fake 200 Response""))


class MyModelTestCase(TestCase):

    fixtures = ['my_model_fixtures.json']

    def setUp(self):
        my_model = MyModel.objects.get(id=1)

    @mock.patch('app.models.func', return_value=fake_response)
    def test_my_model(self, fake_response):  # the mock goes in as a param or else you get number of arguments error!
        my_model.call_func()
        self.assertTrue(fake_response.called)
"
16546,83868,Encrypt file using M2Crypto,"cipher = M2Crypto.EVP.Cipher(alg=""aes_128_cbc"", key = aes_key, iv = aes_iv, op = 1)
encrypted_contents_file = open(outfile_name, ""w"")

while True:
    buf = fin.read(1024)
    if not buf:
        break
    encrypted_contents_file.write(cipher.update(buf))

encrypted_contents_file.write( cipher.final() )
"
3303,83508,"Block QMainWindow while child widget is alive , pyqt","from PyQt4 import QtCore, QtGui

class Dialog(QtGui.QDialog):
    def __init__(self, parent=None):
        QtGui.QDialog.__init__(self, parent)
        self.checkbox1 = QtGui.QCheckBox('Option one', self)
        self.checkbox2 = QtGui.QCheckBox('Option two', self)
        self.buttonOk = QtGui.QPushButton('Ok', self)
        self.buttonOk.clicked.connect(self.accept)
        self.buttonCancel = QtGui.QPushButton('Cancel', self)
        self.buttonCancel.clicked.connect(self.reject)
        layout = QtGui.QGridLayout(self)
        layout.addWidget(self.checkbox1, 0, 0, 1, 2)
        layout.addWidget(self.checkbox2, 1, 0, 1, 2)
        layout.addWidget(self.buttonOk, 2, 0)
        layout.addWidget(self.buttonCancel, 2, 1)

class Window(QtGui.QMainWindow):
    def __init__(self):
        QtGui.QMainWindow.__init__(self)
        widget = QtGui.QWidget(self)
        layout = QtGui.QVBoxLayout(widget)
        self.button = QtGui.QPushButton('Show Dialog', self)
        self.button.clicked.connect(self.handleButton)
        layout.addWidget(self.button)
        self.setCentralWidget(widget)

    def handleButton(self):
        dialog = Dialog(self)
        if dialog.exec_() == QtGui.QDialog.Accepted:
            print('Option one: %s' % dialog.checkbox1.isChecked())
            print('Option two: %s' % dialog.checkbox2.isChecked())
        else:
            print('Cancelled')
        dialog.deleteLater()

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.setGeometry(500, 300, 200, 100)
    window.show()
    sys.exit(app.exec_())
"
2738,39255,python soappy add header,"from suds.client      import Client
from suds.sax.element import Element

client = Client(""http://example.com/example.wsdl"")

# <tns:h xmlns:tns=""http://example2.com/example2/"">v</tns:h>
tns = (""tns"", ""http://example2.com/example2/"")
h = Element('h', ns=tns).setText('v')
client.set_options(soapheaders=h) 
#
s = client.service.Op(data)
"
24692,40045,"Python SQL function, query to group dates by minutes","sql = '''
    SELECT DISTINCT
        f.dm,
        f1.price AS first,
        f.maxp AS max,
        f.minp AS min, 
        f2.price AS last
    FROM (
        SELECT datetime, strftime(""%Y-%m-%d %H:%M"",datetime) dm,
               MIN(datetime) mindate, MAX(datetime) maxdate,
               MIN(price) minp, MAX(price) maxp
        FROM {c} 
        WHERE datetime >= ? AND datetime < ?
        GROUP BY dm
        ) f
    INNER JOIN {c} f1
    ON f1.datetime = f.mindate
    INNER JOIN {c} f2
    ON f2.datetime = f.maxdate
    '''.format(c = currency)
"
5497,41683,Scraping Contact Information from Several Unique Sites with Python,"re.search(u""\(\d{3}\) \d{3}-\d{4}"",string)
"
22781,45155,How to convert tuple to a multi nested dictionary in python?,"from collections import defaultdict

d = defaultdict(dict) # dict where the default values are dicts.
for a, b, c in list_of_tuples: # Each tuple is ""key1, key2, value""
    d[a][b] = c
"
10879,84724,group_concat only when more than one to group,"INSERT INTO fooc(a,b) 
     SELECT x, group_concat(y) 
       FROM foo 
   GROUP BY x
     HAVING COUNT(*) > 1
"
35564,40570,Grab second tuple in Python list,"result = [each[2] for each in people]
print(result)
"
8823,23504,SQLAlchemy mapping case statements into model fields,"query = session.query(
    Account,
    case([(FollowAssociation.follower_id == None, False)], else_=True).label('first'),
    case([(ali.follower_id == None, False)], else_=True).label('second')
).outerjoin(
    FollowAssociation,
    and_(Account.id == FollowAssociation.followee_id, FollowAssociation.follower_id == 1)
).outerjoin(ali, and_(Account.id == ali.follower_id, ali.followee_id == 1))


class CustomAccount(object):
    pass


mapper(CustomAccount, query.statement.alias())

res = session.query(CustomAccount).all()
print(res[0].id)
print(res[0].first)
"
870,20190,Direct output of a niced command to a text file,"nohup nice -n 5 python3 blah.py > log.txt &
"
39146,33005,Python create variable for each item,"fruits = {'banana': {'color': 'yellow'}, 'potato': {'color': 'beige'}}
"
7269,71561,Appending row to Pandas DataFrame adds 0 column,"#you need to explicitly name the columns of the incoming parameter in the append statement
df = DataFrame(columns=['col1', 'col2'])
print df.append(Series([None]*2, index=['col1','col2']), ignore_index=True)


#as an aside

df = DataFrame(np.random.randn(8, 4), columns=['A','B','C','D'])
dfRowImproper = [1,2,3,4]
#dfRowProper = DataFrame(arange(4)+1,columns=['A','B','C','D']) #will not work!!! because arange returns a vector, whereas DataFrame expect a matrix/array#
dfRowProper = DataFrame([arange(4)+1],columns=['A','B','C','D']) #will work


print df.append(dfRowImproper) #will make the 0 named column with 4 additional rows defined on this column

print df.append(dfRowProper) #will work as you would like as the column names are consistent

print df.append(DataFrame(np.random.randn(1,4))) #will define four additional columns to the df with 4 additional rows


print df.append(Series(dfRow,index=['A','B','C','D']), ignore_index=True) #works as you want
"
10995,62669,"Django Unittests Client Login: fails in test suite, but not in Shell","  def setUp(self):
    self.client = Client()
    self.username = 'agconti'
    self.email = 'test@test.com'
    self.password = 'test'        
    self.test_user = User.objects.create_user(self.username, self.email, self.password)
    login = self.client.login(username=self.username, password=self.password)
    self.assertEqual(login, True)
"
416,13946,Having issues with Django forms,"duplicates = SignUp.objects.filter(email__iexact=form.cleaned_data['email_address'])
    if duplicates:
        duplicates.delete()
        return redirect(self.success_url)
"
31852,85205,RectilinearGridSource from tvtk.RectilinearGrid(),"r = tvtk.RectilinearGrid()
r.point_data.scalars = data.ravel()
r.point_data.scalars.name = 'Temperature'

from mayavi.sources.vtk_data_source import VTKDataSource
src = VTKDataSource(data=r)

e.add_source(d)
"
38737,21338,extracting text from mangled html tag with <br> separating the elements,"from bs4 import BeautifulSoup

data = """"""<p class=""tbtx"">


                              MWF



<br></br>

TH
</p>""""""

soup = BeautifulSoup(data)
print list(soup.stripped_strings)  # prints [u'MWF', u'TH']
"
12992,5858,understanding raw string for regular expressions in python,">>> pattern3 = r'\n\n'
>>> pattern3
'\\n\\n'
>>> re.findall(pattern3, text)
['\n\n']
"
33556,56190,Class static attribute value shared between requests,"import A

class ClearStaticMiddleware(object):
  def process_response(self, request, response):
    A.x = {}
    return response
"
7109,67286,Making the amount of strings checked change based on the amount of strings in a line,"with open (""lines.txt"", ""r"") as myfile:
    for i, line in enumerate(myfile):
        flag = True
        words = line.split()
        for j, word in enumerate(words):
            if j == len(words) - 1:
                break
            elif word >= words[j+1]:
                flag = False
                break
        if flag:
            print('Line {} is ascending'.format(i+1))
"
31964,38717,Implementing my own event loop in a wxPython application,"#!/usr/bin/env python

# This sample shows how to take advantage of wx.CallAfter when running a
# separate thread and updating the GUI in the main thread

import wx
import threading
import time

class MainFrame(wx.Frame):

    def __init__(self, parent):
        wx.Frame.__init__(self, parent, title='CallAfter example')

        panel = wx.Panel(self)
        self.label = wx.StaticText(panel, label=""Ready"")
        self.btn = wx.Button(panel, label=""Start"")
        self.gauge = wx.Gauge(panel)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(self.label, proportion=1, flag=wx.EXPAND)
        sizer.Add(self.btn, proportion=0, flag=wx.EXPAND)
        sizer.Add(self.gauge, proportion=0, flag=wx.EXPAND)

        panel.SetSizerAndFit(sizer)
        self.Bind(wx.EVT_BUTTON, self.OnButton)

    def OnButton(self, event):
        """""" This event handler starts the separate thread. """"""
        self.btn.Enable(False)
        self.gauge.SetValue(0)
        self.label.SetLabel(""Running"")

        thread = threading.Thread(target=self.LongRunning)
        thread.start()

    def OnLongRunDone(self):
        self.gauge.SetValue(100)
        self.label.SetLabel(""Done"")
        self.btn.Enable(True)

    def LongRunning(self):
        """"""This runs in a different thread.  Sleep is used to
         simulate a long running task.""""""
        time.sleep(3)
        wx.CallAfter(self.gauge.SetValue, 20)
        time.sleep(5)
        wx.CallAfter(self.gauge.SetValue, 70)
        time.sleep(4)
        wx.CallAfter(self.OnLongRunDone)

if __name__ == ""__main__"":
    app = wx.App(0)
    frame = MainFrame(None)
    frame.Show()
    app.MainLoop()
"
3515,62562,How do I change my python idle and general version from 3.4.3 to 2.7.9,"idle            idle-python2.7 
"
37365,30559,Extract Image Metadata in Django,"from PIL import Image
from PIL.ExifTags import TAGS

def get_exif(fn):
    ret = {}
    i = Image.open(fn)
    info = i._getexif()
    for tag, value in info.items():
        decoded = TAGS.get(tag, tag)
        ret[decoded] = value
    return ret
"
29171,42873,Date sampling / averaging for plotting in Pandas,"In [21]:

df=pd.DataFrame(np.random.random((10,3)))
df.index=pd.date_range('1/1/2011', periods=10, freq='D')
print df
                   0         1         2
2011-01-01  0.125353  0.661480  0.849405
2011-01-02  0.551803  0.558052  0.905813
2011-01-03  0.221589  0.070754  0.312004
2011-01-04  0.452728  0.513566  0.535502
2011-01-05  0.730282  0.163804  0.035454
2011-01-06  0.205623  0.194948  0.180352
2011-01-07  0.586136  0.578334  0.454175
2011-01-08  0.103438  0.765212  0.570750
2011-01-09  0.203350  0.778980  0.546947
2011-01-10  0.642401  0.525348  0.500244

[10 rows x 3 columns]

In [22]:

dfgb=df.groupby(pd.cut(df.index.values.astype(float), 3),as_index=False)
df_resample=dfgb.mean()
df_resample.index=dfgb.head(1).index
df_resample.__delitem__(None)
print df_resample
                   0         1         2
2011-01-01  0.337868  0.450963  0.650681
2011-01-05  0.507347  0.312362  0.223327
2011-01-08  0.316396  0.689847  0.539314

[3 rows x 3 columns]

In [23]:

f=plt.figure()
ax0=f.add_subplot(121)
ax1=f.add_subplot(122)
_=df.T.boxplot(ax=ax0)
_=df_resample.T.boxplot(ax=ax1)
_=[item.set_rotation(90) for item in ax0.get_xticklabels()+ax1.get_xticklabels()]
plt.tight_layout()
"
37840,84691,Python dictionary keys as set of numbers,">>> keys = [0.5, 1] # goes from 0 to 1, specify end interval
>>> vals = ['red', 'orange']
>>> import bisect
>>> vals[bisect.bisect_right(keys, 0.464897)]
'red'
>>> vals[bisect.bisect_right(keys, 0.5)]
'orange'
"
32721,46746,How can I programmatically check Amazon S3 permissions with boto?,"import boto

all_users = 'http://acs.amazonaws.com/groups/global/AllUsers'
conn = boto.connect_s3()
bucket = conn.get_bucket('mybucket')

for key in bucket:
    readable = False
    acl = key.get_acl()
    for grant in acl.acl.grants:
        if grant.permission == 'READ':
            if grant.uri == all_users:
                readable = True
    if not readable:
        key.make_public()
"
24649,26804,Testing a function call inside the function using python unittest framework,"from mockito import mock, verify

# Setup ---------------------------------------------   
my_mock = mock(ISightRequestingEngine)

system_under_test = ISightRequestingEngine()

system_under_test.testFunc = my_mock.testfunc # Mock out only testFunc()

# Exercise ------------------------------------------
system_under_test.startEngine()

# Verify --------------------------------------------
verify(my_mock).testFunc()
"
18499,23702,Setting active subplot using axes object in matplotlib?,"import matplotlib.pyplot as plt

x = [0 ,1, 2]
y = [10 ,20, 30]

fig, axs = plt.subplots(2,1)

plt.axes(axs[0])
plt.plot(x,y)
plt.axes(axs[1])
plt.plot(y,x)
plt.show()
"
33434,27012,Set of dictionary values python,"d = {'ABCS': ['12', '12', '113', '12']}
print {k: list(set(v)) for k,v in d.items()}
{'ABCS': ['12', '113']}
"
27125,71542,Filter out pandas pivot table rows,"In [9]:

print df[(df['Imps']>3000000).any(axis=1)]
              Imps                             Revenue                        
         10day avg  30day avg    3day avg    10day avg   30day avg    3day avg
Kept    8893221.80  4597369.7  8581754.90  1116.528169  576.108280  791.959157
Resold  2924189.35  1399503.1  3631253.55   390.274367  199.269661  384.588853

[2 rows x 6 columns]
"
19490,77366,Is recursion worse than iteration?,">>> from functools import reduce
>>> x = reduce(lambda x, y: (x,), range(10000))
>>> x  # recursion limit hit in C code
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
RuntimeError: maximum recursion depth exceeded while getting the repr of a tuple
>>> import pprint
>>> pprint.pprint(x)  # recursion limit hit in Python standard library code.
Traceback (most recent call last):
...
  File ""/usr/lib/python3.4/pprint.py"", line 390, in _safe_repr
    orepr, oreadable, orecur = _safe_repr(o, context, maxlevels, level)
  File ""/usr/lib/python3.4/pprint.py"", line 340, in _safe_repr
    if issubclass(typ, dict) and r is dict.__repr__:
RuntimeError: maximum recursion depth exceeded while calling a Python object
"
30345,69413,"Wrapping a C library in Python: C, Cython or ctypes?","from ctypes import *

d2xx = WinDLL('ftd2xx')

OK = 0
INVALID_HANDLE = 1
DEVICE_NOT_FOUND = 2
DEVICE_NOT_OPENED = 3

...

def openEx(serial):
    serial = create_string_buffer(serial)
    handle = c_int()
    if d2xx.FT_OpenEx(serial, OPEN_BY_SERIAL_NUMBER, byref(handle)) == OK:
        return Handle(handle.value)
    raise D2XXException

class Handle(object):
    def __init__(self, handle):
        self.handle = handle
    ...
    def read(self, bytes):
        buffer = create_string_buffer(bytes)
        count = c_int()
        if d2xx.FT_Read(self.handle, buffer, bytes, byref(count)) == OK:
            return buffer.raw[:count.value]
        raise D2XXException
    def write(self, data):
        buffer = create_string_buffer(data)
        count = c_int()
        bytes = len(data)
        if d2xx.FT_Write(self.handle, buffer, bytes, byref(count)) == OK:
            return count.value
        raise D2XXException
"
7679,17743,number of complete and partial sqare tiles needed to fill a circle,"import math

# Input argument is the radius
circle_radius = 2.

# This is specified as 1, but doesn't have to be
tile_size = 1.

# Make a square box covering a quarter of the circle
tile_length_1d = int(math.ceil(circle_radius / tile_size ))

# How many tiles do you need?
num_complete_tiles = 0
num_partial_tiles = 0

# Now loop over all tile_length_1d x tile_length_1d tiles and check if they
# are needed
for i in range(tile_length_1d):
    for j in range(tile_length_1d):
        # Does corner of tile intersect circle?
        intersect_len = ((i * tile_size)**2 + (j * tile_size)**2)**0.5
        # Does *far* corner intersect (ie. is the whole tile in the circle)
        far_intersect_len = (((i+1) * tile_size)**2 + ((j+1) * tile_size)**2)**0.5
        if intersect_len > circle_radius:
            # Don't need tile, continue
            continue
        elif far_intersect_len > circle_radius:
            # Partial tile
            num_partial_tiles += 1
        else:
            # Keep tile. Maybe you want to store this or something
            # instead of just adding 1 to count?
            num_complete_tiles += 1

# Multiple by 4 for symmetry
num_complete_tiles = num_complete_tiles * 4
num_partial_tiles = num_partial_tiles * 4

print ""You need %d complete tiles"" %(num_complete_tiles)
print ""You need %d partial tiles"" %(num_partial_tiles)
"
6647,8651,Extracting data from two dataframes to create a third,">>> pd.DataFrame(
    df1.as_matrix() * df3.as_matrix() + df1.as_matrix() * (1 - df3.as_matrix()),
    index=df1.index,
    columns=df1.columns)
"
32177,78465,"Can I get messagebox's icon=""warning"" noise on a custom Tkinter Toplevel() window?","import Tkinter 
Tkinter.Tk().bell() 
"
3187,26463,Is it possible to control matplotlib in predictable way?,"import matplotlib.pyplot as plt
import matplotlib.image as mpimg
import numpy as np

img = mpimg.imread('stinkbug.png')
circle = plt.Circle((0, 0), radius=100, fc='y')

fig, ax = plt.subplots()
ax.imshow(img)
ax.add_artist(circle)
fig.show()
"
3568,74269,How to replace a character if there are characters either side of it?,"re.sub(r'\Bb\B', '', s)
"
11977,77137,How to place custom Jupyter kernels inside virtual environment?,"config:
    /Users/you/.jupyter
    /Users/you/env/etc/jupyter
    /usr/local/etc/jupyter
    /etc/jupyter
data:
    /Users/you/Library/Jupyter
    /Users/you/env/share/jupyter
    /usr/local/share/jupyter
    /usr/share/jupyter
runtime:
    /Users/you/Library/Jupyter/runtime
"
28270,35892,Return MongoEngine Documents as JSON,"from bson import json_util
json_util.dumps(MyDoc._collection_obj.find(MyDoc.objects()._query))
"
24842,44691,Correct way to determine if an object is part of a package hierarchy in python?,"import sys

package = getattr(sys.modules[fooInstance.__module__], '__package__'), '')
top_level = package.partition('.')[0]
"
21728,48156,Getting elements from a unicode text,"import json
my string = u'{""nick"":""NICK"",""name"":""NAME"",""email"":""name@example.com"",""phone_gsm"":"""",""phone"":"""",""birthday"":"""",""location"":""UK"",""address"":"""",""job"":"""",""gender"":""male"",""permission_of_contact"":""NO""}'

data = json.loads(my_string)
"
27077,13726,how to display data from database in table view in python,"from PyQt4.QtSql import QSqlQueryModel,QSqlDatabase,QSqlQuery
from PyQt4.QtGui import QTableView,QApplication
import sys

app = QApplication(sys.argv)

db = QSqlDatabase.addDatabase(""QSQLITE"")
db.setDatabaseName(""patientData.db"")
db.open()

projectModel = QSqlQueryModel()
projectModel.setQuery(""select * from patient"",db)

projectView = QTableView()
projectView.setModel(projectModel)

projectView.show()
app.exec_()
"
7683,10556,CMD window minimized for Popen() call?,"import win32gui
handle = win32gui.FindWindow(None, cmd_window_title)
win32gui.ShowWindow(handle, 6)
"
10712,81687,Check list of words in another string,"if any(word in 'some one long two phrase three' for word in list_):
"
304,78765,"Compare multiple variables to the same value in ""if"" in Python?","if all(x >= 2 for x in (A, B, C, D)):
    print A, B, C, D
"
19667,74659,How to extract specific content in a pandas dataframe with a regex?,"#convert column to string
df['movie_title'] = df['movie_title'].astype(str)

#but it remove numbers in names of movies too
df['titles'] = df['movie_title'].str.extract('([a-zA-Z ]+)', expand=False).str.strip()
df['titles1'] = df['movie_title'].str.split('(', 1).str[0].str.strip()
df['titles2'] = df['movie_title'].str.replace(r'\([^)]*\)', '').str.strip()
print df
          movie_title      titles      titles1      titles2
0  Toy Story 2 (1995)   Toy Story  Toy Story 2  Toy Story 2
1    GoldenEye (1995)   GoldenEye    GoldenEye    GoldenEye
2   Four Rooms (1995)  Four Rooms   Four Rooms   Four Rooms
3   Get Shorty (1995)  Get Shorty   Get Shorty   Get Shorty
4      Copycat (1995)     Copycat      Copycat      Copycat
"
20586,35994,Adding two pandas dataframes,"import pandas as pd

df1 = pd.DataFrame([(1,2),(3,4),(5,6)], columns=['a','b'])
Out: 
   a  b
0  1  2
1  3  4
2  5  6

df2 = pd.DataFrame([(100,200),(300,400),(500,600)], columns=['a','b'])
Out: 
     a    b
0  100  200
1  300  400
2  500  600

df_add = df1.add(df2, fill_value=0)
Out: 
     a    b
0  101  202
1  303  404
2  505  606
"
30091,68545,Delete Rows in pandas dataframe,"print df
    id  marks
1  123     45
2  124     67
3  127     89
4  257     10
5  345     34

delRows = [123,127]

print df.id.isin(delRows)
1     True
2    False
3     True
4    False
5    False
Name: id, dtype: bool

print ~df.id.isin(delRows)
1    False
2     True
3    False
4     True
5     True
Name: id, dtype: bool

print df[~df.id.isin(delRows)]
    id  marks
2  124     67
4  257     10
5  345     34
"
11185,26476,How to use same options for cmd in the same group by using python-click,"@click.group(help=""cmd group"")
@click.option('--user', default='*')
@click.pass_context
def main(ctx, user):
    ctx.obj = dict({'user': user})
    pass


@click.command(name='foo')
@click.pass_context
def foo(ctx):
    click.secho(ctx.obj['user'], fg='green')


@click.command(name='bar')
@click.pass_context
def bar(ctx):
    click.secho(ctx.obj['user'], fg='green')


main.add_command(foo)
main.add_command(bar)
"
36770,34751,django ignore changed field in formset,"class UsesIngredientForm(forms.ModelForm):    
    class Meta:
        model = UsesIngredient

    def has_changed(self, *args, **kwargs):
        self._get_changed_data(*args, **kwargs)
        # If group is in changed_data, but no other fields are filled in, remove group so
        # the form will not be validated or saved
        if 'group' in self._changed_data and len(self._changed_data) == 1:
            contains_data = False
            for name in ['ingredient', 'amount', 'unit']:
                field = self.fields[name]
                prefixed_name = self.add_prefix(name)
                data_value = field.widget.value_from_datadict(self.data, self.files, prefixed_name)
                if data_value:
                    contains_data = True
                    break
            if not contains_data:
                self._changed_data.remove('group')
        return bool(self._changed_data)
"
22681,47158,Python Web Scraping W/O Beautiful Soup or non-default modules?,"import urllib2,re
content = urllib2.urlopen(""http://somme.url"").read()
print re.findall(""\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}"",content)
"
2614,4187,Named-only arguments when subclassing in Python,"class Bar(Foo):
    def __init__(self, *args, **kwargs):
        try:
            hello = kwargs.pop('hello')
        except KeyError:
            hello = False
        Foo.__init__(self, *args, **kwargs)
"
25483,64304,Function in a python class that is not a method," class Awesomeness(object):
     def method(self, *args):
         pass

     @staticmethod
     def another_method(*args):
         pass
"
32771,51860,Paramiko hang when use ssh-keygen command,"stdin.channel.shutdown_write()
"
21255,20556,Print output in a single line,"... print '{0} / {1}, '.format(x+1, y), #<= with a ,
"
4950,8351,Plot max of graph using python,"n_max = y.argmax()
plt.plot(x[n_max],y[n_max],'o')
n_min = y.argmin()
plt.plot(x[n_min],y[n_min],'x')
"
28262,67245,Prompt on exit in PyQt application,"def closeEvent(self, event):

    quit_msg = ""Are you sure you want to exit the program?""
    reply = QtGui.QMessageBox.question(self, 'Message', 
                     quit_msg, QtGui.QMessageBox.Yes, QtGui.QMessageBox.No)

    if reply == QtGui.QMessageBox.Yes:
        event.accept()
    else:
        event.ignore()
"
5347,10013,Gap detection in Django / MySQL,"Count the values in a that year with Django's .count() .
If not complete:
    Count the values for each month in that year
    If not complete:
        Count the values for each day in that month
"
23164,15369,Python: displaying random dots in coordinate system,"import matplotlib.pyplot as plt
import numpy as np

N = 9

x = np.random.rand(N)
y = np.random.rand(N)

plt.scatter(x,y)
plt.show()
"
36888,35299,Flatten a dictionary to an argument list of its elements,"bartlett(*data.values())
"
13807,26128,How do I tell dict() in Python 2 to use unicode instead of byte string?,">>> d = {u'a': 2}
>>> d
{u'a': 2}
"
2489,33548,best way to link an input to a list,"lists = {string1:[list1], string2:[list2], ...}

for item in lists:
    if input in lists[item]:
        print(item)
"
11812,6773,Python: Insert two sets of chars into a matrix,">>> keyword = 'keyword'
>>> alphabet = 'abcfghjlmnpqstuvxz'
>>>
>>> # Make an empty matrix -- could also use numpy chararray for this, but
>>> # this is good enough for this example. 
>>> matrix = [[None] * 5 for i in range(5)]
>>>  
>>> full_string = keyword + alphabet
>>> 
>>> for i in range(25):
...    matrix[i // 5][i % 5] = full_string[i]
>>>  
>>> for row in matrix:
...    print(row)
['k', 'e', 'y', 'w', 'o']
['r', 'd', 'a', 'b', 'c']
['f', 'g', 'h', 'j', 'l']
['m', 'n', 'p', 'q', 's']
['t', 'u', 'v', 'x', 'z']
"
30561,54249,Set variable using osascript,"from subprocess import check_output
ovol = check_output(['osascript', '-e', 'get volume settings'])
print ovol
"
27701,77032,How to fill a Pandas data frame based on listed index,"full_index = pd.DataFrame(index=complete_ids)
full_index.join(df).fillna(0)
Out[8]: 
     sample1  sample2  sample3
foo       20       10       11
bar       17       13       55
cix        0        0        0
tux        0        0        0
"
22307,76069,Add vertices and duplicate names,"def add_or_find_vertex(g, name):
    try:
        return g.vs.find(name=name)
    except ValueError:
        g.add_vertex(name)
        return g.vs.find(name=name)
"
16328,13826,A better way to accept multiple request types in a single view method?,"def _create_file(n, t):
    try:
        n = int(n)
    except:
        n = 1
    ...

@app.route('/create')
def create_file():
    n = request.args.get('n')
    t = request.args.get('t')
    return _create_file(n, t)

@app.route('/create', methods = ['POST'])
def create_file_form():
    n = request.form.get('n')
    t = request.form.get('t')
    return _create_file(n, t)

@app.route('/api/create', methods = ['POST'])
def create_file_json():
    if not request.json:
        abort(400); # bad request
    n = request.json.get('n')
    t = request.json.get('t')
    return _create_file(n, t)
"
7358,9901,How to initiate a dict from a array with count?,">>> import collections
>>> print(collections.Counter([2, 3, 'a', 'wow', 3]))
Counter({3: 2, 'wow': 1, 2: 1, 'a': 1})
"
14184,28394,Accessing cffi enums,">>> from cffi import FFI
>>> ffi = FFI()
>>> ffi.cdef('typedef enum {RANDOM, IMMEDIATE, SEARCH} strategy;')
>>> c = ffi.dlopen('c')
>>> c.RANDOM
0
>>> c.IMMEDIATE
1
>>> c.SEARCH
2
"
39259,55069,exporting data into a column of an excel file in python,"import csv
import random

a = [1,2]

with open('DD{}filename.csv'.format(fileName), 'w') as f:
    writer = csv.writer(f, delimiter=',')
    writer.writerow(['trial','numbers']) # Note this is a two element
                                         # list, not a string

    for i in range(4):
        random.shuffle(a)
        if a == [1,2]:
           num = 'top'
        else:
           num = 'bottom'

        writer.writerow([i, num])
"
38750,18378,How can I check if a string contains ANY letters from the alphabet?,"re.search('[a-zA-Z]', the_string)
"
37725,12800,Produce both versions x32 and x64 under PyInstaller,"c:\python\2.7\python.exe setup.py bdist_wheel
c:\python\2.6\python.exe setup.py bdist_wheel
c:\python\2.7-32\python.exe setup.py bdist_wheel
c:\python\2.6-32\python.exe setup.py bdist_wheel
c:\python\3.4\python.exe setup.py bdist_wheel
c:\python\3.3\python.exe setup.py bdist_wheel
c:\python\3.4-32\python.exe setup.py bdist_wheel
c:\python\3.3-32\python.exe setup.py bdist_wheel
c:\pypy2\2.5\pypy-2.5.1-win32\pypy.exe setup.py bdist_wheel
"
34946,78298,django select_related tree path,"while ... :
    currentEdge = next(e for e in userEdges if e.nodeTo == node)
    path.append(currentEdge.nodeFrom)
"
1257,62653,Django reverse returns different values when called from WSGI or shell,"from django.core.urlresolvers import set_script_prefix

set_script_prefix('/mysite')
"
7573,12121,How to change the value of activate_url in django allauth?,"from django.conf.urls import patterns, include, url
from allauth.account.views import confirm_email

urlpatterns = patterns('',
    ...
    url(r'^accounts/', include('allauth.account.urls')),
    url(r'^index.html#/verifyEmail/(?P<key>\w+)/$', confirm_email,
        name=""account_confirm_email""),
    # but I would recommend changing that url:
    url(r'^verify-email/(?P<key>\w+)/$', confirm_email,
        name=""account_confirm_email""),
    ...
)
"
38992,33124,What am I missing in DFS in knight tour?,"def knightTour(current, limit, path):
    path.append(current)    # add current before returning, or the last 
    if len(path) == limit:  # node will be missing in the returned path
        return path
                            # (no need to check length)
    for i in graph[current]:
        if i not in path:   # (no point in creating a set in each iteration)
            tour = knightTour(i, limit, path)
            if tour:        # only return the path if it is not None, i.e.
                return tour # if the recusion was succesful (backtracking)
    else:
        path.pop()          # (use implicit return None)
"
27386,31307,How do I get a program to print the number of words in a sentence and each word in order,"import re


def count_letter(word):
    """"""(str) -> int

    Return the number of letters in a word.

    >>> count_letter('cat')
    3
    >>> count_letter('cat1')
    3

    """"""
    return len(re.findall('[a-zA-Z]', word))


if __name__ == '__main__':
    sentence = input('Please enter your sentence: ')
    words = re.sub(""[^\w]"", "" "",  sentence).split()

    # The number of characters in the sentence.
    print(len(sentence))
    # The number of words in the sentence.
    print(len(words))
    # Print all the words in the sentence, the number of letters, the first
    # and last letter.
    for i in words:
        print(i, count_letter(i), i[0], i[-1])

Please enter your sentence: hello user
10
2
hello 5 h o
user 4 u r
"
16852,2878,stringified list to two separate lists,">>> a='[a:1,b:1,c:2,a:3]'

>>> import re
>>> zip(*re.findall(r'([a-z]):(\d)',a))
[('a', 'b', 'c', 'a'), ('1', '1', '2', '3')]
"
16405,62671,elements in an array from the sum,"import numpy

a = numpy.array([1, 2, 3, 4, 5, 6])
b = numpy.array([])

sum = 0
for num in a:
    if sum != 6:
       sum += num
       b = numpy.append(b, num)
    else:
       break

print b.astype(int) # [1 2 3]
"
18447,27428,Semi-transparent 2d VTK text background,"import vtk
extents = [[0,0],[620,0],[620,220],[0,220]]

polyPoints = vtk.vtkPoints()

for x, y in extents:
    polyPoints.InsertNextPoint(x, y, 0)

num_corners = len(extents)
polyCells = vtk.vtkCellArray()
polyCells.InsertNextCell(num_corners + 1)

for i in range(0, num_corners):
    polyCells.InsertCellPoint(i)

polyCells.InsertCellPoint(0) ## Rejoin at the end

poly_profile = vtk.vtkPolyData()
poly_profile.SetPoints(polyPoints)
poly_profile.SetPolys(polyCells) ## Goes solid

cut_triangles = vtk.vtkTriangleFilter()
cut_triangles.SetInput(poly_profile)

_poly_mapper = vtk.vtkPolyDataMapper2D()
_poly_mapper.SetInput(poly_profile)
_poly_mapper.SetInputConnection(cut_triangles.GetOutputPort())

_actor = vtk.vtkActor2D()
_actor.SetMapper(_poly_mapper)
_actor.GetProperty().SetColor([0.1,0.1,0.1])
_actor.GetProperty().SetOpacity(0.5)
#Add to renderer as normal  
"
34349,79085,Adding new values to Pandas DataFrame,"df['DOW'] = df['Date'].map(DOW)
"
5744,47898,Dynamic Programming - Primitive Calculator Python,"def dp_min_ops(n):
    all_parents = [None] * (n + 1)
    all_min_ops = [0] + [None] * n

    for k in range(1, n + 1):
        curr_parent = k - 1
        curr_min_ops = all_min_ops[curr_parent] + 1

        if k % 3 == 0:
            parent = k // 3
            num_ops = all_min_ops[parent] + 1
            if num_ops < curr_min_ops:
                curr_parent, curr_min_ops = parent, num_ops

        if k % 2 == 0:
            parent = k // 2
            num_ops = all_min_ops[parent] + 1
            if num_ops < curr_min_ops:
                curr_parent, curr_min_ops = parent, num_ops

        all_parents[k], all_min_ops[k] = curr_parent, curr_min_ops

    numbers = []
    k = n
    while k > 0:
        numbers.append(k)
        k = all_parents[k]
    numbers.reverse()

    return all_min_ops, numbers

print(dp_min_ops(5))   # ([0, 1, 2, 2, 3, 4], [1, 3, 4, 5])
print(dp_min_ops(10))  # ([0, 1, 2, 2, 3, 4, 3, 4, 4, 3, 4], [1, 3, 9, 10])
"
35685,20144,Rolling argmax in pandas,"In [59]: rc = close.resample('W-MON')

In [60]: def f(rc, i, l):                                   
    s = rc.iloc[(i*l):((i+1)*l)]
    try:
        return s.loc[[s.idxmax()]]
    except:
        return None
   ....:     

In [61]: pd.concat([ f(rc, i, 52) for i in range(len(rc)) ])
Out[61]: 
Date
2001-06-25    0.034350
2002-02-04    0.017548
2003-05-05    0.031083
2004-10-18    0.044588
2005-05-23    0.022959
                ...   
2011-08-29    0.018310
2012-03-19    0.017339
2013-09-23    0.017571
2014-04-28    0.023196
2015-02-16    0.015051
Name: Close, dtype: float64
"
3137,68613,pandas DataFrame cumulative value,"df['Cumulative Costs'] = df.groupby(['Category'])['Costs'].cumsum()

>>> df
  Category  Year  Costs  Cumulative Costs
0        A     1     20                20
1        A     2     30                50
2        A     3     40                90
3        B     1     15                15
4        B     2     25                40
5        B     3     35                75
"
28594,64999,Fastest or most idiomatic way to remove object from list of objects in Python,"In: python -m timeit '[x for x in [1,2,3,4,5] if x not in [4]]'
Out: 1000000 loops, best of 3: 0.285 usec per loop

In: python -m timeit '[x for x in [1,2,3,4,5] if x != 4]'
Out: 1000000 loops, best of 3: 0.254 usec per loop

In: python -m timeit 'filter(lambda x: x not in [4], [1,2,3,4,5])'
Out: 1000000 loops, best of 3: 0.577 usec per loop

In: python -m timeit 'filter(lambda x: x != 4, [1,2,3,4,5])'
Out: 1000000 loops, best of 3: 0.569 usec per loop

In: python -m timeit '[1,2,3,4,5].remove(4)'
Out: 10000000 loops, best of 3: 0.132 usec per loop
"
33451,8300,Django Bulk Update to Trigger save(),"
$ ./manage.py shell
Python 2.7.6 (default, Mar 22 2014, 22:59:38) 
[GCC 4.8.2] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
(InteractiveConsole)
>>> from django.contrib.auth.models import User
>>> for u in User.objects.all():
...     u.is_active = True
...     u.save()
... 
>>> 
"
30099,7746,What's a good rate limiting algorithm?,"rate = 5.0; // unit: messages
per  = 8.0; // unit: seconds
allowance = rate; // unit: messages
last_check = now(); // floating-point, e.g. usec accuracy. Unit: seconds

when (message_received):
  current = now();
  time_passed = current - last_check;
  last_check = current;
  allowance += time_passed * (rate / per);
  if (allowance > rate):
    allowance = rate; // throttle
  if (allowance < 1.0):
    discard_message();
  else:
    forward_message();
    allowance -= 1.0;
"
5590,33976,python a=b b=c function ETC,"import string

def change(word, pos):
    old = string.ascii_lowercase
    new = old[pos:] + old[:pos]
    return word.translate(string.maketrans(old, new))
"
22973,46699,Python properties and string formatting,"class Foo(object):
     @property
     def blah(self):
         return ""Cheddar Cheese!""

a = Foo()
print('{a.blah}'.format(a=a))
"
14200,36949,pil related script : picture not getting polarized,"import sys
from PIL import Image

im=Image.open(""test.jpg"")
im=im.convert('RGB')
w,h=im.size
color={}
for i in range(w):
    for j in range(h):
        aux=im.getpixel((i,j))
        if aux >(200,200,200):
            im.putpixel((i,j),(255,0,0))
        else:
            im.putpixel((i,j),(0,0,0))


im.save(""test_copy.jpg"")
im.save(""test_copy.png"")


im=Image.open(""test_copy.jpg"")
im=im.convert('RGB')
w,h=im.size
color={}
for i in range(w):
    for j in range(h):
        aux=im.getpixel((i,j))
        if aux not in color:
            color[aux]=1
        else:
            color[aux]+=1


print ""Compressed file stat""
print color

im=Image.open(""test_copy.png"")
im=im.convert('RGB')
w,h=im.size
color={}
for i in range(w):
    for j in range(h):
        aux=im.getpixel((i,j))
        if aux not in color:
            color[aux]=1
        else:
            color[aux]+=1


print ""Uncompressed file stat""
print color
"
7682,80804,Groups for M2M object based permissions,"Category.objects.distinct().filter(allowed_groups__in=user.groups.all())
"
39535,24453,how to slice a subset of numpy arrays,">>> a
array([[ 0,  1,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11]])
>>> a[1:3,1:3]
array([[4, 5],
       [7, 8]])
"
25754,9403,Can Context Manager and Object Oriented be used effectively into a GAE Request Handler class,"class GenericalObject(object):
    def initialize(self, URIparams):
       # init all the self.attribute needed by my handlers

    def getDataFromDB():
       # return the DB data into a dictionary


class FirstHandler(webapp2.RequestHandler):
    def __init__(self, request, response):
       self.initialize(request, response)
       self.instance = GenericalObject()

    def get(self, URIparams1, URIparams2)
       URIparams = [URIparams1, URIparams2]
       instance = self.instance
       instance.initialize(URIparams)
       params = instance.__dict__

       data = getDataFromDB()
       params['data'] = data
       del instance

       return self.render_template('template.html', params)

class SecondHandler(webapp2.RequestHandler):
    # same initialization but different implementation of the get() and post()
"
27593,31828,python find if each element of a string list contains any of another string list,">>> [any(i in j for i in a) for j in b]
[True, False, True, False]
"
39776,22987,"neutral element for ""|"" and ""&"" operations for django.db.models.Q objects?","# Models
class MyModel(models.Model):
    myfield1 = models.CharField(max_length=30)
    myfield2 = models.CharField(max_length=30)
    myinteger3 = models.IntegerField(blank=True, null=True)



# Views
class MyView(views.View):
    model = MyModel

    def get_queryset(self):
        def myfunc(query_object_list, param):
            myfuncr = lambda l: ((myfuncr(l[1:]) | Q(**{ param: l[0] })) if l else Q()) # Q() is the neutral element of operation ""|"" for Q objects
            return myfuncr(query_object_list)

        myq = Q() # Q() is the neutral element of operation ""&"" for Q objects
        for param in self.request.GET:
            myq &= myfunc(self.request.GET.getlist(param, None), param)

        return MyModel.objects.filter(myq)


# Template
<a href='{% url myview %}?myfield1__iexact={{ myvar1 }}&myfield2__iexact={{ myvar2 }}&myinteger3__gte={{ myvar3 }}'>foobar</a>

<a href='{% url myview %}?myinteger3__gte={{ myvar4 }}'>{{ myvar4 }}</a>
"
24079,26530,Python Tkinter: Update scrolled Listbox - wandering scroll position,"from Tkinter import * # I do not like wild imports, but everyone seems to do it

root = Tk()

scrollbar = Scrollbar(root, orient=VERTICAL) # yes, do this first...
listb = Listbox(root, yscrollcommand=scrollbar.set) # ...because you need it here
scrollbar.config(command=listb.yview)
scrollbar.pack(side=RIGHT, fill=Y)
listb.pack(fill=BOTH, expand=YES) # convince the listbox to resize

item_list = range(400)

for item in item_list:
    listb.insert(item)

exponent = 0
def update_list():
    global exponent
    vw = listb.yview() # Save the current position(percentage) of the top left corner
    for i in item_list:
        listb.delete(i)
        listb.insert(i, i * 10**exponent)
    listb.yview_moveto(vw[0]) # go back to that position
    exponent += 1
    root.after(1000, update_list)

root.after(1000, update_list)
root.mainloop()
"
18153,83458,How can I get the offset where a Python regular expression search found a match?,">>> import re
>>> s = 'Hello, this is a string'
>>> m = re.search(',\s[a-z]',s)
>>> m.group()
', t'
>>> m.start()
5
"
16527,49966,If statements depending on order of content in a string,"try:
    if string.index(""Long"") < string.index(""Short""):
        length = ""Long""
    else:
        length = ""Short""
except ValueError:
    if ""Long"" in string:
        length = ""Long""
    elif ""Short"" in string:
        length = ""Short""
    else:
        print (""Long and Short not in string"") 
"
28883,82379,Django - how to make requests with proxies?,"def save_embed(request):
    if request.method == ""POST"":
        form = SubmitEmbed(request.POST)
        if form.is_valid():
            url = form.cleaned_data['url']
            proxies = {
                ""http"": ""http://123.123.123.123:1234"",
                ""https"": ""https://123.123.123.123:1234"",
            }
            r = requests.get('http://api.embed.ly/1/oembed?key=' + settings.EMBEDLY_KEY + '&url=' + url, proxies=proxies)
"
24403,13941,Decoding an IEEE double precision float (8 byte),">>> import struct
>>> from binascii import unhexlify
>>> struct.unpack("">9xd4xd4xd3x"", unhexlify(""080000000300013000000000000000000000013100000000000000000000013200403C000000000000000009""))
(0.0, 0.0, 28.0)
"
24466,36144,For string with lower then UPPER . Give position when UPPER starts . Python,">>> print re.search(""[A-Z]"", ""aaatttgggatgaATG"").start()
13
"
5093,54794,Python __str__ versus __unicode__,"def __str__(self):
    return unicode(self).encode('utf-8')
"
32434,73889,search patterns with variable gaps in python,">>> names = ['TAATGH', 'GHHKLL', 'TGTHA', 'ATGTTKKKK', 'KLPPNF']
>>> reslist = []
>>> for i in names:
...     res = re.search(r'T[A-Z]{2}T', i)
...     if res:
...             reslist.append(i)
...
>>>
>>> print(reslist)
['TAATGH', 'ATGTTKKKK']
"
9762,50508,permutations of a lists python,">>> import itertools
>>> a = [""1""]
>>> b = [""0""]
>>> c = [""a"",""b"",""c""]
>>> d = [""d"",""e"",""f""]
>>> lists = [a,b,c,d]
>>> for item in itertools.product(*lists):
        print item


('1', '0', 'a', 'd')
('1', '0', 'a', 'e')
('1', '0', 'a', 'f')
('1', '0', 'b', 'd')
('1', '0', 'b', 'e')
('1', '0', 'b', 'f')
('1', '0', 'c', 'd')
('1', '0', 'c', 'e')
('1', '0', 'c', 'f')
"
16082,73769,How to write time dependent tests Python,"from freezegun import freeze_time

@freeze_time(""2015-02-25"")
def test_third_day_from_now():
    assert third_day_from_now() == datetime.datetime(2015, 2, 28)
"
4403,74825,Modifying axes on matplotlib colorbar plot of 2D array,"import matplotlib.pyplot as plt
import numpy as np

x,y = np.mgrid[-2:2:0.1, -2:2:0.1]
data = np.sin(x)*(y+1.05**(x*np.floor(y))) + 1/(abs(x-y)+0.01)*0.03

fig = plt.figure()
ax = fig.add_subplot(111)
ticks_at = [-abs(data).max(), 0, abs(data).max()]
cax = ax.imshow(data, interpolation='nearest', 
                origin='lower', extent=[0.0, 0.1, 0.0, 0.1],
                vmin=ticks_at[0], vmax=ticks_at[-1])
cbar = fig.colorbar(cax,ticks=ticks_at,format='%1.2g')
fig.savefig('out.png')
"
30751,6114,Hierarchy traversal and comparison modules for Python?,"class Node( object ):
    def __init__( self, myData, children=None )
        self.myData= myData
        self.children= children if children is not None else []
    def visit( self, aVisitor ):
        aVisitor.at( self )
        aVisitor.down()
        for c in self.children:
            aVisitor.at( c )
        aVisitor.up()

class Visitor( object ):
    def __init__( self ):
        self.depth= 0
    def down( self ):
        self.depth += 1
    def up( self ):
        self.depth -= 1
"
11760,58045,Specifying chars in python,"NUL = '\x00'
def lines_without_nulls(path):
    with open(path, 'Urb') as f:
        for line in f:
            yield line.replace(NUL, '').replace('\n', '\r')
"
14680,13122,Is multiprocessing in Python 3.4 broken?,"stackoverflow-3.4 mj$ cat test.py 
from multiprocessing import Pool

def f(x):
    return x*x

if __name__ == '__main__':
    with Pool(5) as p:
        print(p.map(f, [1, 2, 3]))

stackoverflow-3.4 mj$ touch queue.py
stackoverflow-3.4 mj$ bin/python test.py 
Traceback (most recent call last):
  File ""test.py"", line 7, in <module>
    with Pool(5) as p:
  File ""/.../python3.4/multiprocessing/context.py"", line 118, in Pool
    context=self.get_context())
  File ""/.../python3.4/multiprocessing/pool.py"", line 150, in __init__
    self._setup_queues()
  File ""/.../python3.4/multiprocessing/pool.py"", line 243, in _setup_queues
    self._inqueue = self._ctx.SimpleQueue()
  File ""/.../lib/python3.4/multiprocessing/context.py"", line 110, in SimpleQueue
    from .queues import SimpleQueue
  File ""/.../lib/python3.4/multiprocessing/queues.py"", line 20, in <module>
    from queue import Empty, Full
ImportError: cannot import name 'Empty'
stackoverflow-3.4 mj$ rm queue.py
stackoverflow-3.4 mj$ bin/python test.py 
[1, 4, 9]
"
5170,81458,"qt pyside - qsql*model, qabstractitemmodel and qtreeview interaction","import sys
from collections import namedtuple
import random

from PyQt4 import QtCore, QtGui

groupItem = namedtuple(""groupItem"",[""name"",""children"",""index""])
rowItem = namedtuple(""rowItem"",[""groupIndex"",""random""])


class GrouperProxyModel(QtGui.QAbstractProxyModel):
    def __init__(self, parent=None):
        super(GrouperProxyModel, self).__init__(parent)

        self._rootItem = QtCore.QModelIndex()
        self._groups = []       # list of groupItems
        self._groupMap = {}     # map of group names to group indexes
        self._groupIndexes = [] # list of groupIndexes for locating group row
        self._sourceRows = []   # map of source rows to group index
        self._groupColumn = 0   # grouping column.

    def setSourceModel(self, source, groupColumn=0):
        super(GrouperProxyModel, self).setSourceModel(source)

        # connect signals
        self.sourceModel().columnsAboutToBeInserted.connect(self.columnsAboutToBeInserted.emit)
        self.sourceModel().columnsInserted.connect(self.columnsInserted.emit)
        self.sourceModel().columnsAboutToBeRemoved.connect(self.columnsAboutToBeRemoved.emit)
        self.sourceModel().columnsRemoved.connect(self.columnsRemoved.emit)

        self.sourceModel().rowsInserted.connect(self._rowsInserted)
        self.sourceModel().rowsRemoved.connect(self._rowsRemoved)
        self.sourceModel().dataChanged.connect(self._dataChanged)

        # set grouping
        self.groupBy(groupColumn)

    def rowCount(self, parent):
        if parent == self._rootItem:
            # root level
            return len(self._groups)
        elif parent.internalPointer() == self._rootItem:
            # children level
            return len(self._groups[parent.row()].children)
        else:
            return 0

    def columnCount(self, parent):
        if self.sourceModel():
            return self.sourceModel().columnCount(QtCore.QModelIndex())
        else:
            return 0

    def index(self, row, column, parent):
        if parent == self._rootItem:
            # this is a group
            return self.createIndex(row,column,self._rootItem)
        elif parent.internalPointer() == self._rootItem:
            return self.createIndex(row,column,self._groups[parent.row()].index)
        else:
            return QtCore.QModelIndex()

    def parent(self, index):
        parent =  index.internalPointer()
        if parent == self._rootItem:
            return self._rootItem
        else:
            parentRow = self._getGroupRow(parent)
            return self.createIndex(parentRow,0,self._rootItem)

    def data(self, index, role):
        if role == QtCore.Qt.DisplayRole:
            parent = index.internalPointer()
            if parent == self._rootItem:
                return self._groups[index.row()].name
            else:
                parentRow = self._getGroupRow(parent)
                sourceRow = self._sourceRows.index(self._groups[parentRow].children[index.row()])
                sourceIndex = self.createIndex(sourceRow, index.column(), 0)
                return self.sourceModel().data(sourceIndex, role)
        return None

    def flags(self, index):
        return QtCore.Qt.ItemIsEnabled | QtCore.Qt.ItemIsSelectable

    def headerData(self, section, orientation, role):
        return self.sourceModel().headerData(section, orientation, role)

    def mapToSource(self, index):
        if not index.isValid():
            return QtCore.QModelIndex()

        parent = index.internalPointer()
        if not parent.isValid():
            return QtCore.QModelIndex()
        elif parent == self._rootItem:
            return QtCore.QModelIndex()
        else:
            rowItem_ = self._groups[parent.row()].children[index.row()]
            sourceRow = self._sourceRows.index(rowItem_)
            return self.createIndex(sourceRow, index.column(), QtCore.QModelIndex())

    def mapFromSource(self, index):
        rowItem_ = self._sourceRows[index.row()]
        groupRow = self._getGroupRow(rowItem_.groupIndex)
        itemRow = self._groups[groupRow].children.index(rowItem_)
        return self.createIndex(itemRow,index.column(),self._groupIndexes[groupRow])

    def _clearGroups(self):
        self._groupMap = {}
        self._groups = []
        self._sourceRows = []

    def groupBy(self,column=0):
        self.beginResetModel()
        self._clearGroups()
        self._groupColumn = column
        sourceModel = self.sourceModel()
        for row in range(sourceModel.rowCount(QtCore.QModelIndex())):
            groupName = sourceModel.data(self.createIndex(row,column,0),
                                         QtCore.Qt.DisplayRole)

            groupIndex = self._getGroupIndex(groupName)
            rowItem_ = rowItem(groupIndex,random.random())
            self._groups[groupIndex.row()].children.append(rowItem_)
            self._sourceRows.append(rowItem_)

        self.endResetModel()

    def _getGroupIndex(self, groupName):
        """""" return the index for a group denoted with name.
        if there is no group with given name, create and then return""""""
        if groupName in self._groupMap:
            return self._groupMap[groupName]
        else:
            groupRow = len(self._groupMap)
            groupIndex = self.createIndex(groupRow,0,self._rootItem)
            self._groupMap[groupName] = groupIndex
            self._groups.append(groupItem(groupName,[],groupIndex))
            self._groupIndexes.append(groupIndex)
            self.layoutChanged.emit()
            return groupIndex

    def _getGroupRow(self, groupIndex):
        for i,x in enumerate(self._groupIndexes):
            if id(groupIndex)==id(x):
                return i
        return 0

    def _rowsInserted(self, parent, start, end):
        for row in range(start, end+1):
            groupName = self.sourceModel().data(self.createIndex(row,self._groupColumn,0),
                                                QtCore.Qt.DisplayRole)
            groupIndex = self._getGroupIndex(groupName)
            self._getGroupRow(groupIndex)
            groupItem_ = self._groups[self._getGroupRow(groupIndex)]
            rowItem_ = rowItem(groupIndex,random.random())
            groupItem_.children.append(rowItem_)
            self._sourceRows.insert(row, rowItem_)
        self.layoutChanged.emit()

    def _rowsRemoved(self, parent, start, end):
        for row in range(start, end+1):
            rowItem_ = self._sourceRows[start]
            groupIndex = rowItem_.groupIndex
            groupItem_ = self._groups[self._getGroupRow(groupIndex)]
            childrenRow = groupItem_.children.index(rowItem_)
            groupItem_.children.pop(childrenRow)
            self._sourceRows.pop(start)
            if not len(groupItem_.children):
                # remove the group
                groupRow = self._getGroupRow(groupIndex)
                groupName = self._groups[groupRow].name
                self._groups.pop(groupRow)
                self._groupIndexes.pop(groupRow)
                del self._groupMap[groupName]
        self.layoutChanged.emit()

    def _dataChanged(self, topLeft, bottomRight):
        topRow = topLeft.row()
        bottomRow = bottomRight.row()
        sourceModel = self.sourceModel()
        # loop through all the changed data
        for row in range(topRow,bottomRow+1):
            oldGroupIndex = self._sourceRows[row].groupIndex
            oldGroupItem = self._groups[self._getGroupRow(oldGroupIndex)]
            newGroupName = sourceModel.data(self.createIndex(row,self._groupColumn,0),QtCore.Qt.DisplayRole)
            if newGroupName != oldGroupItem.name:
                # move to new group...
                newGroupIndex = self._getGroupIndex(newGroupName)
                newGroupItem = self._groups[self._getGroupRow(newGroupIndex)]

                rowItem_ = self._sourceRows[row]
                newGroupItem.children.append(rowItem_)

                # delete from old group
                oldGroupItem.children.remove(rowItem_)
                if not len(oldGroupItem.children):
                    # remove the group
                    groupRow = self._getGroupRow(oldGroupItem.index)
                    groupName = oldGroupItem.name
                    self._groups.pop(groupRow)
                    self._groupIndexes.pop(groupRow)
                    del self._groupMap[groupName]

        self.layoutChanged.emit()
"
6507,75785,Convert Python None to JavaScript null,">>> import json
>>> json.dumps([1, 2, 3, None, 4])
'[1, 2, 3, null, 4]'
"
18042,23762,"Flask/Werkzeug debugger, process model, and initialization code","if use_reloader and not os.environ.get('WERKZEUG_RUN_MAIN'):
    logger.warning('startup: pid %d is the werkzeug reloader' % os.getpid())
else:
    logger.warning('startup: pid %d is the active werkzeug' % os.getpid()
    # my real init code is invoked from here
"
13510,78658,Converting list of strings with u'...' to a list of normal strings,">>>d =  [u'homo', u'man', u'human being', u'human']
>>>print [i.encode('utf-8') for i in d]
>>>['homo', 'man', 'human being', 'human']
"
3029,85220,Print in tabulated form,"from tabulate import tabulate
table = [[""Sun"",696000,1989100000],[""Earth"",6371,5973.6],
         [""Moon"",1737,73.5],[""Mars"",3390,641.85]]
print tabulate(table)
#-----  ------  -------------
#Sun    696000     1.9891e+09
#Earth    6371  5973.6
#Moon     1737    73.5
#Mars     3390   641.85
#-----  ------  -------------
"
33790,21194,Remove (or hide) default Permissions from Django,"class Blar1(models.Model):
    id = models.AutoField(primary_key=True)
    name = models.CharField(max_length=255, unique = True, blank = False, null = False, verbose_name= ""Name"")

    class Meta:
        default_permissions = ()
"
24793,44751,Get particular row as series from pandas dataframe,"df[df[""location""] == ""c""].squeeze()
Out[5]: 
date        20130102
location           c
Name: 2, dtype: object
"
13264,28318,Class variables of same type in Python,"def class_with_static(name, bases, body):
    static_block = body.pop(""__static__"", None)
    klass = type(name, bases, body)
    if static_block:
        static_block(klass)
    return klass

class Point(object):
    __metaclass__ = class_with_static

    def __static__(cls):
        cls.ORIGIN = cls()

    def __init__(self, x=0, y=0):
        self.x = x
        self.y = y

assert isinstance(Point.ORIGIN, Point)
assert Point.ORIGIN.x == Point.ORIGIN.y == 0
assert not hasattr(Point, ""__static__"")
"
29732,70995,assigning kth elemnt of a list to 'obj_k',"In [1]: mylist = [1,'car', 10]

In [2]: print obj_1
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
<ipython-input-2-2f857dd36a40> in <module>()
----> 1 print obj_1

NameError: name 'obj_1' is not defined

In [3]: for i,c in enumerate(mylist):
   ...:     globals()['obj_'+str(i)] = c
   ...:     

In [4]: obj_1
Out[4]: 'car'
"
36540,27059,python syntax for formatting integer,"a = 10
b = 6
print('{0:6}{1:02}'.format(a, b))
#output => '    1006'
"
34388,48049,Getting the indices of the X largest numbers in a list,"def find_K_highest(lst, k):
    # escape index error
    if k>len(lst):
        k=len(lst)
    # the output array
    idxs = [None]*k
    to_watch = range(len(lst))
    # do it k times
    for i in range(k):
        # guess that max value is at least at idx '0' of to_watch
        to_del=0
        idx = to_watch[to_del]
        max_val = lst[idx]
        # search through the list for bigger value and its index
        for jj in range(len(to_watch)):
            j=to_watch[jj]
            val = lst[j]
            # check that its bigger that previously finded max
            if val > max_val:
                idx = j
                max_val = val
                to_del=jj
            # append it
        idxs[i] = idx
        del to_watch[to_del]
        # return answer
    return idxs
"
17327,76774,How to index with array and slice numpy array at the same time,"In [4]: idx = indexes[:, None] + np.arange(-1, 3)

In [5]: values[idx]
Out[5]:
array([[ 0.83609961,  0.47534985,  0.17330516,  0.15152753],
       [ 0.10245308,  0.70428183,  0.36804107,  0.13074141],
       [ 0.36804107,  0.13074141,  0.77377332,  0.11368238]])
"
10697,48185,Python input=output loop,"lastOutput = 0; # an arbitrary starting value: the last output value 
                # needs to be shared between loop cycles, so its 
                # scope must be outside the while loop

startingValue = # whatever you start at for input
finished = False # flag for tracking whether desired value has been reached
while (!finished):
    # body of loop:
    # here, you need to take lastOutput, run it through the 
    # function again, and check if the new output value is the
    # same as the input that created it. If so, you are done,
    # so set the flag to True, and note that the correct value is now stored in lastOutput
    # If not, set the new output as lastOutput, and go again!

# ...and now finish up with whatever you want to do now that you've 
# found the value (print it, etc.)!
"
11519,76799,"Run a perl script from my python script, print the output and wait for it to finish","import subprocess
import sys

perl_script = subprocess.Popen([""script.pl"", params], stdout=sys.stdout)
perl_script.communicate()
"
1669,46867,Python regex grouping,"re.findall(r""(test(?=55)|apple)"", mystring);
"
14250,30994,Python reading 2 strings from the same line,"# out is your file
out.readline().split() # result is ['francesco', '10']
"
3672,41641,Sum 2 tuple in python,"row = cursor.fetchone()

while row is not None:
    var += row[0]
    row = cursor.fetchone() 

cursor.close()
cnx.close()
"
1066,57369,Spaces in Python coding style,"Avoid extraneous whitespace in the following situations:

- Immediately inside parentheses, brackets or braces.

  Yes: spam(ham[1], {eggs: 2})
  No:  spam( ham[ 1 ], { eggs: 2 } )
"
39012,19330,How to search for multiple keywords in a textfile in Python,"sentence = input(""Input your sentence: "")
findCount = 0
lines = 0
fLines = open('keywords1.txt').readlines()
for line in fLines:
    lines += 1
    if line in sentence:
       findCount += 1
if lines == findCount:
   print(""hello there"")
"
29297,68549,get bins coordinates with hexbin in matplotlib,"from __future__ import division
import numpy as np
import math
import matplotlib.pyplot as plt

def generate_data(n):
    """"""Make random, correlated x & y arrays""""""
    points = np.random.multivariate_normal(mean=(0,0),
        cov=[[0.4,9],[9,10]],size=int(n))
    return points

if __name__ =='__main__':

    color_map = plt.cm.Spectral_r
    n = 1e4
    points = generate_data(n)

    xbnds = np.array([-20.0,20.0])
    ybnds = np.array([-20.0,20.0])
    extent = [xbnds[0],xbnds[1],ybnds[0],ybnds[1]]

    fig=plt.figure(figsize=(10,9))
    ax = fig.add_subplot(111)
    x, y = points.T
    # Set gridsize just to make them visually large
    image = plt.hexbin(x,y,cmap=color_map,gridsize=20,extent=extent,mincnt=1,bins='log')
    # Note that mincnt=1 adds 1 to each count
    counts = image.get_array()
    ncnts = np.count_nonzero(np.power(10,counts))
    verts = image.get_offsets()
    for offc in xrange(verts.shape[0]):
        binx,biny = verts[offc][0],verts[offc][1]
        if counts[offc]:
            plt.plot(binx,biny,'k.',zorder=100)
    ax.set_xlim(xbnds)
    ax.set_ylim(ybnds)
    plt.grid(True)
    cb = plt.colorbar(image,spacing='uniform',extend='max')
    plt.show()
"
27414,12759,Creating matching list counter,">>> seq = [[11, 12, 13, 14], [15, 16, 17]]
>>> nseq = [[""Point {}"".format(i) for i in range(1, len(sub)+1)] for sub in seq]
>>> nseq
[['Point 1', 'Point 2', 'Point 3', 'Point 4'], ['Point 1', 'Point 2', 'Point 3']]
"
8644,72283,Comparing matrices of different shapes,"def largest_subarray(A, B):
    dims = np.minimum(A.shape, B.shape)         # find smallest dimensions
    idx = tuple(slice(None, dd) for dd in dims) # construct tuple of slice indices
    return A[idx], B[idx]                       # index into A and B
"
27766,20762,Python list of String to SQL IN parameter,"ssim_group = ['S1200', 'S1300']
query = '''select WIPMessageCnt from waferdata where recipename in ('%s') and equipment = ? and runtype = ? order by  stopts desc limit 1''' % (""','"".join(ssim_group))
"
11140,20870,encoding / decoding special characters in python 2.7,">>> print '3631B043'.decode('hex').decode('iso-8859-1')
61Â°C
"
19603,3752,Controlling how QtWebKit resizes images,"from PyQt4.QtGui import QPainter

yourQWebView.setRenderHints(QPainter.TextAntialiasing | QPainter.SmoothPixmapTransform | QPainter.HighQualityAntialiasing)
"
14620,63440,Avoiding Tkinter OptionMenu button resizing,"menu2.config(width=20)
"
30861,53714,Problems with infinite-loop and adding raw_input results,"print ""Welcome to the receipt program""

total = 0
while True:
    value = raw_input('Enter the value for the seat [Press q to quit]: ')

    if value == 'q':
        break

    if value.isdigit():
        total += int(value)
    else:
        print ""I'm sorry, but {} isn't valid."".format(value)

print 'total is {}'.format(total)
"
39705,69762,Where to join threads created in an asynchronous tornado request handler?,"import functools
import time
import threading
import logging

import tornado.web
import tornado.websocket
import tornado.locale
import tornado.ioloop

class Handler(tornado.web.RequestHandler):
    def perform(self, callback):
        #do something cuz hey, we're in a thread!
        time.sleep(5)
        output = 'foo'
        tornado.ioloop.IOLoop.instance().add_callback(functools.partial(callback, output))

    def initialize(self):
        self.thread = None

    @tornado.web.asynchronous
    def get(self):
        self.thread = threading.Thread(target=self.perform, args=(self.on_callback,))
        self.thread.start()

        self.write('In the request')
        self.flush()

    def on_callback(self, output):
        logging.info('In on_callback()')
        self.write(""Thread output: %s"" % output)
        self.finish()

application = tornado.web.Application([
    (r""/"", Handler),
])

if __name__ == ""__main__"":
    application.listen(8888)
    tornado.ioloop.IOLoop.instance().start()
"
25168,10417,Find index of a list using the sum of the list elements,"import itertools
import operator

xs = [32, 6, 12]
target = 5

next(i for i, x in enumerate(itertools.accumulate(xs, operator.add)) if x > target)
"
3107,56498,find vs in operation in string python,"dh@d:~$ python -m timeit 'temp = ""1:5.9"";temp.find("":"")'
10000000 loops, best of 3: 0.139 usec per loop
dh@d:~$ python -m timeit 'temp = ""1:5.9"";"":"" in temp'
10000000 loops, best of 3: 0.0412 usec per loop
"
26368,77876,Python - use regex to find words with garbage characters,"(\w*(?:[^a-zA-Z0-9_ \t\n\r\f\v,.?!;:]\w*)+)
"
7064,80950,I would like to total the amount of correct answers and display it at the end getting error local variable referenced,"count = 0

def intro(start):
    if start == ""yes"" or start == ""y"":
        print(""Lets begin."")
    else:
        print(""Thanks for checking it out! Bye Bye!"")


def question1():

    global count
    count += 1
    return count


def question2():

    global count
    count += 1
    return count


def main():

    print(""Hello There! Welcome to an all new Trivial Pursuit!"")
    print(""You have twenty multiple choice questions and twenty true and false."")
    print (""Each question is one point. Your score will be presented at the end. "")
    print(""Would you like to begin? Press y or yes"")

    start = input()
    intro(start)

    question1()
    question2()

    print(""You got"", count, ""right!"")

main()
"
38442,81486,How to create zip of a specific folder using shutil,"import os, shutil

#Get the list of all folders present within the particular directory
folder_list = os.walk('.').next()[1]

#Start zipping the folders
for each_folder in folder_list:
    shutil.make_archive(each_folder, 'zip', os.getcwd() + ""\\"" + each_folder)
"
6775,5852,Normalise 2D Numpy Array: Zero Mean Unit Variance,"import numpy as np

eg_array = 5 + (np.random.randn(10, 10) * 2)
normed = (eg_array - eg_array.mean(axis=0)) / eg_array.std(axis=0)

normed.mean(axis=0)
Out[14]: 
array([  1.16573418e-16,  -7.77156117e-17,  -1.77635684e-16,
         9.43689571e-17,  -2.22044605e-17,  -6.09234885e-16,
        -2.22044605e-16,  -4.44089210e-17,  -7.10542736e-16,
         4.21884749e-16])

normed.std(axis=0)
Out[15]: array([ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.])
"
11593,9931,Scrapy pipeline.py not inserting items to MYSQL from spider,"class SQLStore(object):
def __init__(self):
    self.conn = MySQLdb.connect(user='root', passwd='', db='aj_db', host='localhost', charset=""utf8"", use_unicode=True)
    self.cursor = self.conn.cursor()
    #log data to json file


def process_item(self, item, spider): 

    try:
        self.cursor.execute(""""""INSERT INTO scraped_data(headlines, contents, dates) VALUES (%s, %s, %s)"""""", (item['headline'].encode('utf-8'), item['content'].encode('utf-8'), item['date'].encode('utf-8')))
        self.conn.commit()

    except MySQLdb.Error, e:
        print ""Error %d: %s"" % (e.args[0], e.args[1])

        return item
"
4661,4594,Position in Python Lists,"lis = [10, 20, 30, 30, 40, 50, 50, 50, 60, 70]

for idx1, el1 in enumerate(lis):
    sum_ = el1
    for  idx2, el2 in enumerate(lis):
        if idx1 != idx2:
             sum_ += (50 - (el2 - el1)/2) * 0.13
        print(""score of %d is %f""%(idx1, sum_))
"
1198,40653,Compact (archive) old log files in python,"import os
from logging.handlers import RotatingFileHandler


COMPRESSION_SUPPORTED = {}

try:
   import gzip
   COMPRESSION_SUPPORTED['gz'] = gzip
except ImportError:
   pass

try:
   import zipfile
   COMPRESSION_SUPPORTED['zip'] = zipfile
except ImportError:
   pass


class NewRotatingFileHandler(RotatingFileHandler):

     def __init__(self, *args, **kws):
         compress_mode = kws.pop('compress_mode')

         try:
             self.compress_cls = COMPRESSION_SUPPORTED[compress_mode]
         except KeyError:
             raise ValueError('""%s"" compression method not supported.' % compress_mode)

         super(NewRotatingFileHandler, self).__init__(self, *args, **kws)

     def doRollover(self):
         super(NewRotatingFileHandler, self).doRollover()

         # Compress the old log.
         old_log = self.baseFilename + "".1""
         with open(old_log) as log:
             with self.compress_cls.open(old_log + '.gz', 'wb') as comp_log:
                 comp_log.writelines(log)

         os.remove(old_log)
"
3130,69402,Buildbot not sending emails?,"2013-02-09 04:26:18+0000 [-] sending mail (868 bytes) to ['addr@example.com']
2013-02-09 04:26:18+0000 [-] Starting factory <twisted.mail.smtp.ESMTPSenderFactory instance at 0x31dc488>
2013-02-09 04:26:18+0000 [Uninitialized] SMTP Client retrying server. Retry: 5
2013-02-09 04:26:18+0000 [Uninitialized] SMTP Client retrying server. Retry: 4
2013-02-09 04:26:18+0000 [Uninitialized] SMTP Client retrying server. Retry: 3
2013-02-09 04:26:18+0000 [Uninitialized] SMTP Client retrying server. Retry: 2
2013-02-09 04:26:18+0000 [Uninitialized] SMTP Client retrying server. Retry: 1
2013-02-09 04:26:18+0000 [Uninitialized] Unhandled error in Deferred:
2013-02-09 04:26:18+0000 [Uninitialized] Unhandled Error
    Traceback (most recent call last):
    Failure: twisted.internet.error.ConnectionRefusedError: Connection was refused by other side: 111: Connection refused.
"
39714,70009,Python mergesort: counting inversions without multiple function calls,"while lft and rgt:  #NEITHER HALF IS EMPTY
    if lft[-1] >=rgt[-1]:   #lft HAS GREATEST LAST VALUE
        # if the last of lft is greater than the last of rgt (which is sorted),
        # then it is also greater than everything before the last element of rgt, 
        # so it generates as many inversions as the remaining elements in rgt
        inversions += len(rgt)
        res.append(lft.pop())   #APPEND IT
    else:   #rgt HAS GREATEST LAST VALUE
        res.append(rgt.pop())   #APPEND IT
"
29466,82286,Append to File Using Subprocess in Python,"subprocess.call([""sh"", ""-c"", cmd]);
"
1095,11457,Python code to check free space of a USB drive connected to the Linux machine,"import os

def details(dev):

    fulldir = ""/media/ravi/""+dev

    disk = os.statvfs(fulldir)

    print("""")
    print""Driver name "" + Name[x]
    print("""")

    totalBytes = float(disk.f_bsize*disk.f_blocks)
    print ""total space: %.2f GB"" % (totalBytes/1024/1024/1024)

    totalUsedSpace = float(disk.f_bsize*(disk.f_blocks-disk.f_bfree))
    print ""used space: %.2f GB"" % (totalUsedSpace/1024/1024/1024)

    totalAvailSpace = float(disk.f_bsize*disk.f_bfree)
    print ""available space: %.2f GB"" % (totalAvailSpace/1024/1024/1024)

    print(""------------------------------"")

Name = os.listdir(""/media/ravi/"")
length = len(Name)
print(Name[-1])

for x in range(length):
    details(str(Name[x]))
"
29101,64824,AWS S3 through boto - checking disk space,"import boto
s3 = boto.connect_s3()
bucket = s3.lookup('mybucketname')
total_bytes = 0
for key in bucket:
       total_bytes += key.size
print total_bytes
"
4869,78878,"Django, can I get reference objects included with a queryset","for item_due in ItemDue.objects.filter(some_criteria).select_related():
    print item_due.item.ref_id
"
28061,23691,A 'related content' list with DetailView in Django,"Article.objects.filter(category__in=self.object.categories.all())
"
31158,3842,Python Scripts to ingest a shapefile into a PostgreSQL/PostGIS database utilizing shp2pgsql.exe on windows,"import os, subprocess

# Choose your PostgreSQL version here
os.environ['PATH'] += r';C:\Program Files (x86)\PostgreSQL\8.4\bin'
# http://www.postgresql.org/docs/current/static/libpq-envars.html
os.environ['PGHOST'] = 'localhost'
os.environ['PGPORT'] = '5432'
os.environ['PGUSER'] = 'someuser'
os.environ['PGPASSWORD'] = 'clever password'
os.environ['PGDATABASE'] = 'geometry_database'

base_dir = r""c:\shape_file_repository""
full_dir = os.walk(base_dir)
shapefile_list = []
for source, dirs, files in full_dir:
    for file_ in files:
        if file_[-3:] == 'shp':
            shapefile_path = os.path.join(base_dir, file_)
            shapefile_list.append(shapefile_path)
for shape_path in shapefile_list:
    cmds = 'shp2pgsql ""' + shape_path + '"" new_shp_table | psql '
    subprocess.call(cmds, shell=True)
"
30332,16993,Insert data in one table within multiple app at the same time with MySQL,"cn = MySQLdb.connect(...)
c = cn.cursor()
try:
    c.executemany(""""""
        INSERT INTO 8Box VALUES (%s,%s,%s,%s,%s,%s)
    """""",  [
        (name_new,lot_bid_1_new,bid_1_new,off_1_new,lot_off_1_new,waktu),
        (name_new,lot_bid_2_new,bid_2_new,off_2_new,lot_off_2_new,waktu),
        # .. etc.
        (name_new,lot_bid_10_new,bid_10_new,off_10_new,lot_off_10_new,waktu)
    ])
    cn.commit()
except:
    cn.rollback()
    raise
"
15626,33511,How to execute user defined SQL query at run time using SQLAlchemy?,"    from sqlalchemy import create_engine
    try:
        engine = create_engine(url)           
        connection = engine.connect()
        connection.close()
    except Exception, e:
        LOGGER.exception(e)
        raise MyCusomException('Could not initialize db. Invalid URL.') 
"
16809,43037,Applying a function to multiple lists in Python,"def remove_zeros(*all_quizzes):
    result = []
    for each_quiz in all_quizzes:
        updated_quiz_list = []
        for number in each_quiz:
            if number != 0:
                updated_quiz_list.append(number)
        result.append(updated_quiz_list)
    return result
"
13336,20440,"How do I write a ""tab"" in Python?","f = open(filename, 'w')
f.write(""hello\talex"")
"
36742,30837,Fast way to check if image on remote URL exists in python,"import grequests

# Create a map between url and the item
url_to_item = {item.item_low_url: item for item in items}

# Create a request queue, but don't send them
rq = (grequests.head(url) for url in url_to_item.keys())

# Send requests simultaneously, and collect the results,
# and filter those that are valid

# Each item returned in the Response object, which has a request
# property that is the original request to which this is a response;
# we use that to filter out the item objects

results = [url_to_item[i.request.url]
           for i in filter(lambda x: x.status_code == 200,
                           grequests.map(rq)))]
"
4164,13879,Which is faster: using django database order_by or list sort?,"def timedcall(fn, *args):
    ""Call function with args; return the time in seconds and result.""
    t0 = time.clock()
    result = fn(*args)
    t1 = time.clock()
    return t1-t0, result
"
19514,17819,Override equals in Python but still have reference equality check,">>> a = 12
>>> a is a
True
"
12328,13777,Increased occupancy without speedup in FFT,"In [42]: x = np.random.random(2**23)

In [43]: %time _ = list(map(np.fft.rfft, [x]*12))
CPU times: user 3.32 s, sys: 380 ms, total: 3.7 s
Wall time: 3.7 s

In [44]: tpool = ThreadPool(4)

In [45]: %time _ = list(tpool.map(np.fft.rfft, [x]*12))
CPU times: user 5.4 s, sys: 596 ms, total: 6 s
Wall time: 1.62 s

In [46]: 3.7/4
Out[46]: 0.925
"
18905,7903,Verbally format a number in Python,">>> from num2words import num2words
>>> num2words(1e25)
'ten septillion, one billion, seventy-three million, seven hundred and forty-one thousand, eight hundred and twenty-four'

>>> num2words(10000000000000000000000000)
'ten septillion'
"
14481,51372,Python BaseHTTPServer: How to get it to stop?,"please_die = threading.Event()

# in handler
please_die.set()

# in main thread
please_die.wait()
httpd.shutdown()
"
19203,29338,Return list of objects as dictionary with keys as the objects id with django rest framerwork,"class MySerializer(serializers.Serializer):
    id = serializers.ReadOnlyField()
    field1 = serializers.ReadOnlyField()
    field2 = serializers.ReadOnlyField()

    def to_representation(self, data):
        res = super(MySerializer, self).to_representation(data)
        return {res['id']: res}
        # or you can fetch the id by data directly
        # return {str(data.id): res}
"
2940,49343,Obtain text if its href attribute is in list but prevent obtaining text if its href attribute is a duplicate,"import re

list1 = [""<a href='link1'>'text1'</a>"",
         ""<a href='link1'>'text2'</a>"",
         ""<a href='link2'><a href='link2'><span class='flagicon'><img Img stuff/></span>'text3'</a>"",
         ""<a href='link2'>'text4'</a>""]
list2 = ['link1', 'link2', 'link3']


def gen(txt):
    for elem in list1:
        if txt in elem:
            # Grab only the text between a pair of tags (meaning end of tag >text< start of next tag)
            yield re.match('.*>(?P<text>.+)<.*', elem).group('text')

# For each text in list2 create a generator that will yield matching text from list1.
# Call next on that generator to grab the first result only, with default value of ""not found""
x = [next(gen(text), ""not found"") for text in list2]

print(x)
>>> [""'text1'"", ""'text3'"", 'not found'] # Further process the list (get rid of the quotes etc.)
"
39803,40817,How to acquire extracted directory using pyUnrar2?,"import UnRAR2

rarc = UnRAR2.RarFile('test.rar')
list = rarc.infolist()

if list[0].isdir:
    print 'Parent directory in archive: %r' % list[0].filename
"
7975,79636,Remove border from html table created via pandas,"ricSubscription.to_html().replace('border=""1""','border=""0""')
"
31906,5860,"In python, how to loop and get from a file a particular integers or strings?","with open('one.txt', 'r') as in_file, open('two.txt', 'w') as out_file:
    for in_string in in_file.readlines():
        out_file.write(in_string.split()[0])
        out_file.write('\n')
"
11728,26502,Why does a background task block the response in SimpleHTTPServer?,"from cStringIO import StringIO

class Page(SimpleHTTPServer.SimpleHTTPRequestHandler):
    def do_GET(self):
        out = StringIO()
        self.send_response(200)
        self.send_header(""Content-type"", ""text/html"")
        if self.path == '/':
            out.write(""<html><body><a href='/run'>Run</a></body></html>\n"")
        elif self.path == '/run':
            self.proc = MyProc()
            print 'Starting..'
            self.proc.start()
            print 'After start.'
            out.write(""<html><body><h1>Process started</h1></body></html>\n"")
        text = out.getvalue()
        self.send_header(""Content-Length"", str(len(text)))
        self.end_headers()
        self.wfile.write(text)
"
36165,9440,Mutate an integer array using ctypes,"
>>> a = (c_byte * 4)()
>>> a
<__main__.c_byte_Array_4 object at 0xb7da2df4>
>>> cast(a, POINTER(c_int))
<ctypes.LP_c_long object at ...>
>>>
"
5486,76649,Automatic (de)initialization on module import,"class __ModuleInitializer:
    def __init__(self):
        print('Module was initialized')

    def __del__(self):
        print('Module was deinitialized')

__module_init = __ModuleInitializer()
"
970,42401,Web Py | How to set form.Dropdown args using db.select query,"class index:
    form = web.form.Form(form.Dropdown(name='option',args=[]))

    def GET(self):
            dbresult = db.select('test')
            options = db.select('test',what='name',group='name')
            form = self.form()
            form.option.args = [(o.name, o.name) for o in options]
            return render.index(dbresult,form)
"
3833,48878,Django: strategy for preventing duplicate object creation,"class Meta:
    unique_together = (""form"", ""field"")
"
364,83527,Django: Which database call is faster/better?,"from django.db import connection

user.user_profile.games_liked.all()
Game.objects.filter(likes=user)._as_sql(connection)

print(connection.queries)
"
22266,62433,Python Twisted: restricting access by IP address,"from twisted.internet.protocol import ServerFactory

class LocalOnlyFactory(ServerFactory):
    def buildProtocol(self, addr):
        if addr.host == ""127.0.0.1"":
            return ServerFactory.buildProtocol(self, addr)
        return None
"
20916,4989,Get Cookie By Key?,"url = 'http://example.com/some/cookie/setting/url'
r = requests.get(url)
r.cookies['example_cookie_name']
"
38582,55094,Get domain from string? - Python,"myString = ""Hi im Natsume, check out my site http://www.mysite.com/""
>>> a = re.search(""(?P<url>https?://[^\s]+)"", myString) or re.search(""(?P<url>www[^\s]+)"", myString)
>>> a.group(""url"")
'http://www.mysite.com/'
>>> myString = ""Hi im Natsume, check out my site www.mysite.com/""
>>> a = re.search(""(?P<url>https?://[^\s]+)"", myString) or re.search(""(?P<url>www[^\s]+)"", myString)
>>> a.group(""url"")
'www.mysite.com/'
"
24988,1203,Simultaneous column assignment,"In [8]:

df = pd.DataFrame({'a':np.random.randn(5), 'b':np.random.randn(5), 'c':np.random.randn(5)})
df
Out[8]:
          a         b         c
0  0.623686  0.875752  1.027399
1 -0.806096  0.349891  0.290276
2  0.750623  0.704666 -1.401591
3 -0.594068 -1.148006  0.373021
4 -1.060019 -0.325563 -0.536769

In [9]:

df.ix[:,['a','b','c']] = 'total'
df
Out[9]:
       a      b      c
0  total  total  total
1  total  total  total
2  total  total  total
3  total  total  total
4  total  total  total
"
12878,64056,How can I retrieve last x elements in Django,"blog_post_list = blogPosts.objects.all().order_by('-pub_date')[:5]
"
6801,31042,how to make a python script run repeatedly,"def doing_it():
     a = saveDB.save()
     a.savebase()
     window.after(500, doing_it)

 window = Tkinter.Tk()
 window.title(""Saving Database"")
 window.geometry(""300x300+100+100"")
 window.after(500, doing_it)
 window.mainloop()
"
22203,71391,Enumerator for an alphabet in python,"import itertools

max_length = 10
result = (''.join(word) for word in 
             itertools.chain.from_iterable(
                 itertools.product(alphabet, repeat = i)
                     for i in range(1, max_length + 1)))
"
13882,21648,How to get all unique IDs from the list of dicts?,"set(i['id'] for i in items)
"
5299,14018,How do I calculate the date six months from the current date using the datetime Python module?,"import datetime
print (datetime.date.today() + datetime.timedelta(6*365/12)).isoformat()
"
20763,8594,django - import different module when variable change,"module_name = 'a.foo'
module = __import__(module_name, globals(), locals(), ['*'])
"
31336,24573,concatenate multiple rows to one single row in pandas,">>> pd.DataFrame(df.values.reshape(1, -1))
          0          1         2    3         4          5          6     7   \
0  33.142857  52.714286  0.031429  114  0.102857  40.142857  66.857143  0.28   

           8         9          10         11        12          13        14  
0  172.714286  0.192857  41.714286  67.142857  0.001429  179.714286  0.191429  
"
7590,24916,"Keep a tally based on input value - different ""variables""?","from collections import defaultdict
votes = defaultdict(int)
vote = raw_input(""Enter who you vote for: "")
votes[vote] += 1
"
33945,36488,Reversing list with strings in python,">>> last_names = [
... 'Hag ', 'Hag ', 'Basmestad ', 'Grimlavaag ', 'Kleivesund ',
... 'Fintenes ', 'Svalesand ', 'Molteby ', 'Hegesen ']
>>> last_names.reverse()
>>> last_names
['Hegesen ', 'Molteby ', 'Svalesand ', 'Fintenes ', 'Kleivesund ', 'Grimlavaag ', 'Basmestad ', 'Hag ', 'Hag ']
"
7719,15967,Concatenating all strings in a module,"_uppercase = [k for k in dir() if k.isupper()]
ALL_UNICODE = ' '.join(map(globals().get, _uppercase))
"
19299,79926,python: what does array([...]) mean?,"myarray = array([0, 5, 3, 3, 0, 1, 2])
mylist = list(myarray)
"
23603,81404,Using pyhook to respond to key combination (not just single keystrokes)?,"from pyHook import HookManager
from pyHook.HookManager import HookConstants

def OnKeyboardEvent(event):
    ctrl_pressed = HookManager.GetKeyState(HookConstants.VKeyToID('VK_CONTROL') >> 15)
    if ctrl_pressed and HookConstant.IDToName(event.keyId) == 'c': 
        # process ctrl-c
"
10239,13288,Create file wrapper that can be opened,"with openMySpecialFile('/path/to/file.zip', 'rb') as msf:
    ...
"
2376,55243,How to parse C array in python,"[re.sub(""/\*.+\*/"", """", m).replace('\n', '').strip() for m in re.findall(""{(.+?)};"", c_file_as_string, re.S)]
"
28377,77808,django JsonResponse from POST file upload,"this.on(""success"", function(file, responseText) {
  file.previewTemplate.appendChild(responseText);
});
"
19956,3866,Selecting rows in csv file by splitting string on specific charater in Python,">>> with open(...) as f:
...     rows = csv.reader(f)
...     for row in rows:
...         t = row[1].split('_')
...         if len(t) >= 4 and t[3] == '001':
...             print (row[1], row[13])
... 
('ttp_ws_sm_001_01', '117')
('ttp_ws_sm_001_blank', '31')
"
35065,82313,"Recommended approach to externalize ""secret"" configuration in app engine","env_variables:
   APPLICATION_SECRET: 'secret_goes_here'
"
19259,9797,Draw horizontal lines from x=0 to data points in matplotlib scatterplot (horizontal stem plot),"import numpy
from matplotlib import pyplot

x_arr = numpy.random.random(10)-0.5; y_arr = numpy.arange(10)

pyplot.hlines(y_arr, 0, x_arr, color='red')  # Stems
pyplot.plot(x_arr, y_arr, 'D')  # Stem ends
pyplot.plot([0, 0], [y_arr.min(), y_arr.max()], '--')  # Middle bar
"
3900,70400,How to convert string to lowercase in Python?,"s = ""Kilometer""
print(s.lower())
"
22680,17553,Convert byte string to bytes or bytearray,">>> a=b'\x00\x00\x00\x00\x07\x80\x00\x03'
>>> b = list(a)
>>> b
[0, 0, 0, 0, 7, 128, 0, 3]
>>> c = bytes(b)
>>> c
b'\x00\x00\x00\x00\x07\x80\x00\x03'
>>>
"
32226,82435,uploading html files and using python,"<form action=""profiles.py"" method=""post"" enctype=""multipart/form-data"">
"
31382,82201,Extract a word that follows a particular word from a webpage with python,"from bs4 import BeautifulSoup
import requests

response = requests.get('http://vpnbook.com/freevpn')
soup = BeautifulSoup(response.text, 'html.parser')
pricing = soup.find(id = 'pricing')
first_column = pricing.find('div', {'class': 'one-third'})
for li in first_column.find('ul', {'class': 'disc'}):
    if 'password' in str(li).lower():
        password = li.find('strong').text
print(password)
"
16008,80859,How to make the font size of turtle.write function larger,">>> turtle.write('Hello, Robert', font=(""Arial"", 8, ""normal""))
"
30447,44424,Putting tick values on top and bottom of matplotlib colorbar,"cb = plt.colorbar(im, ticks=[], label=""Values (0-1)"")
cb.ax.text(0.5, -0.01, '0', transform=cb.ax.transAxes, 
    va='top', ha='center')
cb.ax.text(0.5, 1.0, '1', transform=cb.ax.transAxes, 
    va='bottom', ha='center')
"
18546,24297,Conditional search returning tuples of arrays for 1D arrays?,"import numpy as np
my_array = np.random.randint(1,10, (4, 5))
pos = np.where(my_array > 5)
my_array[pos]
"
26017,83604,"How to click check boxes, put text in text boxes and click buttons using Python 3.x (which does not have the mechanize library)?",">>> import urllib.request
>>> import urllib.parse
>>> params = urllib.parse.urlencode({'spam': 1, 'eggs': 2, 'bacon': 0})
>>> params = params.encode('utf-8')
>>> f = urllib.request.urlopen(""http://www.musi-cal.com/cgi-bin/query"", params)
>>> print(f.read().decode('utf-8'))
"
10209,5803,How to remove elements of a list containing specific patten with python?,"import re

listA = ['a', 'b', 'a@b=c', 'a @ b = c', 'a@ =b', 'a@=b' 'a=b@c', 'a@b' ]
listB = [a for a in listA if not re.search('@\s*\w+\s*=', a)]
"
38604,23149,Shear a numpy array,"def shear3(a, strength=1, shift_axis=0, increase_axis=1):
    if shift_axis > increase_axis:
        shift_axis -= 1
    res = numpy.empty_like(a)
    index = numpy.index_exp[:] * increase_axis
    roll = numpy.roll
    for i in range(0, a.shape[increase_axis]):
        index_i = index + (i,)
        res[index_i] = roll(a[index_i], -i * strength, shift_axis)
    return res
"
39371,10898,Unshuffling a shuffled string,"In [18]: s = ""Shuffling in Python""

In [19]: shuffled = random.sample(list(enumerate(s)), len(s))

In [20]: ''.join([e[1] for e in shuffled])
Out[20]: 'igf nfSonhult iPhyn'

In [21]: ''.join(s[e[0]] for e in shuffled)
Out[21]: 'igf nfSonhult iPhyn'

In [22]: ''.join([e[1] for e in sorted(shuffled, key=lambda x:x[0])])
Out[22]: 'Shuffling in Python'
"
16319,84406,How can I override the default string formatter in python?,"class MyFormatter(string.Formatter):
    """"""This is my formatter which is better than the standard one.""""""
    # customization here ...

MyFormatter().format(format_string, *args, **kwargs)
"
28490,56144,Issue with my Scrapy callback function,"def parseRoster(self, response):
    play_original = response.meta['play']
    players1 = []
    int = 0
    for players in response.xpath(""//td[@class='sortcell']""):

        play = play_original.copy()

        play['name'] = players.xpath(""a/text()"").extract()[0]
        play['position'] = players.xpath(""following-sibling::td[1]"").extract()[0]
        play['age'] = players.xpath(""following-sibling::td[2]"").extract()[0]
        play['height'] = players.xpath(""following-sibling::td[3]"").extract()[0]
        play['weight'] = players.xpath(""following-sibling::td[4]"").extract()[0]
        play['college'] = players.xpath(""following-sibling::td[5]"").extract()[0]
        play['salary'] = players.xpath(""following-sibling::td[6]"").extract()[0]
        print(play)
        players1.append(play)
    print(players1)
    return players1
"
38603,44098,gtk.TreeView does not change after changing its gtk.ListStore:,"#from gi.repository import Gtk  # uncomment to use PyGObject
import gtk as Gtk

class TestCase:
    def __init__(self):
        win = Gtk.Window()
        button = Gtk.Button('Show')
        button.connect('clicked', self.on_button_clicked)

        self.clicked = 0
        self.liststore = Gtk.ListStore(int)
        self.liststore.append((self.clicked,))
        view = Gtk.TreeView(self.liststore)
        renderer = Gtk.CellRendererText()
        column = Gtk.TreeViewColumn('demo', renderer, text=0)
        view.append_column(column)

        box = Gtk.HBox()
        box.pack_start(button, True, True, 0)
        box.pack_start(view, True, True, 0)
        win.add(box)
        win.connect('delete-event', Gtk.main_quit)
        win.show_all()

    def on_button_clicked(self, button):
        self.clicked += 1
        self.liststore.clear()
        self.liststore.append((self.clicked,))


if __name__ == ""__main__"":
    TestCase()
    Gtk.main()
"
4447,35793,Python - How can I pad a string with spaces from the right and left?,">>> '{:<30}'.format('left aligned')
'left aligned                  '
>>> '{:>30}'.format('right aligned')
'                 right aligned'
>>> '{:^30}'.format('centered')
'           centered           '
>>> '{:*^30}'.format('centered')  # use '*' as a fill char
'***********centered***********'
"
38420,54090,EndPoints API authentification on GAE python with an Android client,"from google.appengine.ext import endpoints

@endpoints.api(...)
class MyApi(...):

    @endpoints.method(...)
    def my_method(self, request):
        current_user = endpoints.get_current_user()
        if current_user is None:
            # This will result in a 401
            raise endpoints.UnauthorizedException('Invalid token.')
"
20025,23716,Override Django cache settings in tests,"from django.test import TestCase, override_settings

class MyTestCase(TestCase):

    @override_settings(CACHES=...)
    def test_something(self):
        ....
"
961,12915,How can I get consistent behavior on my wxPython StyledTextControl?,"first = textViewer.GetFirstVisibleLine()
textViewer.ScrollToLine(first + n)
"
31805,29062,Fastest way to convert file from latin1 to utf-8 in python," BLOCKSIZE = 1024*1024
 with open(tmpfile, 'rb') as inf:
   with open(tmpfile, 'wb') as ouf:
     while True:
       data = inf.read(BLOCKSIZE)
       if not data: break
       converted = data.decode('latin1').encode('utf-8')
       ouf.write(converted)
"
28375,45263,Drawing lines between two plots in Matplotlib,"import matplotlib.pyplot as plt
import matplotlib
import numpy as np

fig = plt.figure(figsize=(10,5))
ax1 = fig.add_subplot(121)
ax2 = fig.add_subplot(122)

x,y = np.random.rand(100),np.random.rand(100)

ax1.plot(x,y,'ko')
ax2.plot(x,y,'ko')

i = 10

transFigure = fig.transFigure.inverted()

coord1 = transFigure.transform(ax1.transData.transform([x[i],y[i]]))
coord2 = transFigure.transform(ax2.transData.transform([x[i],y[i]]))


line = matplotlib.lines.Line2D((coord1[0],coord2[0]),(coord1[1],coord2[1]),
                               transform=fig.transFigure)
fig.lines = line,

ax1.plot(x[i],y[i],'ro',markersize=20)
ax2.plot(x[i],y[i],'ro',markersize=20)


plt.show()
"
33126,11932,how to convert a python datetime.datetime into a list,"date_list = [my_dt_ob.year, my_dt_ob.month, my_dt_ob.day, my_dt_ob.hour, my_dt_ob.minute, my_dt_ob.second]
"
14260,39522,Recursively running a for loop within a for loop (python),"def solve(numbers, target):
  for op, res, nums in single_move_generator(numbers):
    if res == target:
      return [op]
    ops = solve(nums, target)
    if ops:
      return [op] + ops

print(*solve(numbers_to_use, target))
"
27533,26991,Custom grouping by months with pandas,"year = 2015                                                                      
months = [1, 4, 9, 12]                                                               
for num, month in enumerate(months[:-1]):                                        
    csum = df['{0}-{1}'.format(year, month):'{0}-{1}'.format(                    
        year,months[num+1]-1)].A.sum()                                           
    df.loc['{0}-{1}'.format(year,months[num+1]), 'B'] = csum                   

print(df)

            A   B                                                                 
2015-01-31  5 NaN
2015-02-28  1 NaN
2015-03-31  3 NaN
2015-04-30  7   9
2015-05-31  6 NaN
2015-06-30  9 NaN
2015-07-31  4 NaN
2015-08-31  4 NaN
2015-09-30  9  30
2015-10-31  3 NaN
2015-11-30  0 NaN
2015-12-31  9  12
"
39412,82893,How to combine data frames in pandas that are one below the other?,"In [8]:

list_1 = [1,2,3,4]
def fun(list_1):
    for each_value in list_1:
        # perform some operation and create a new data frame(pandas) named ""new_data_frame"" for each value in the list

        yield pd.DataFrame({'a':[each_value]})
pd.concat(fun(list_1), ignore_index=True)
Out[8]:
   a
0  1
1  2
2  3
3  4
"
3416,50074,Loop within loop python,"for line in f:
    if '!!event!!' in line:
        L0 = line.split()
        for line in f:
            if ""flag1"" in line:
                L1 = line.split()
            elif ""flag2"" in line:
                L2 = line.split()
            elif ""flag3"" in line:
                L3 = line.split()
                break             # continue outer loop
        print 'Event and flag times: ', L0[0], L1[0], L2[0], L3[0]

# Event and flag times:  8:41:08 8:41:10 8:41:12 8:41:16
# Event and flag times:  8:41:22 8:41:23 8:41:24 8:41:27
"
5312,32289,how to aggregate elements of a list of tuples if the tuples have the same first element?,"data = [('1998-01-20',8) , ('1998-01-22',4) , ('1998-06-18',8 ) , ('1999-07-15' , 7), ('1999-07-21',1)]
dictionary = dict()
for (mydate, val) in data: #
    ym = mydate[0:7]    # the key is only the year month combination (i.e. '1998-01' for example)
    dictionary[ym] = dictionary.get(ym, 0) + val  # return the value for that key or return default 0 (and create key)

data_aggregated = [(key, val) for (key, val) in dictionary.iteritems()] # if you need it back in old format
"
19701,30111,Swapping two sublists in a list,">>> my_list[7:10], my_list[2:4] = my_list[2:4], my_list[7:10]
>>> my_list
[0, 1, 7, 8, 9, 4, 5, 6, 2, 3, 10, 11, 12]
"
26463,6438,"Python sorting, limiting the print of result","for p in paired_tweets[:100]:
    print p[1].encode('utf-8').strip()
"
35883,39230,How to test if a directory is a python module path?,"import imp
fname, pathname, description = imp.find_module(""__test__.py"", path)
if not fname:
    #File is not present
else:
    #File is present
    fname.close()
"
33784,15081,Can not see the DB query output in python,"import pymssql 
conn = pymssql.connect(host='SQL01', user='user', password='password', database='mydatabase', as_dict=True) 
cur = conn.cursor()  
cur.execute('SELECT * FROM persons WHERE salesrep=%s', 'John Doe') 
print cur.fetchall()
"
5708,30848,Python Convert YAML to string,"def recurse(yaml_data, m):
    for k,v in yaml_data.iteritems():
        if isinstance(v, dict):
            # m = m + ""."" + k
            recurse(v, m + ""."" + k)
        else:
            m = m + ""."" + k
            print str(m)+ "" "" +str(v)

# In [4]: recurse(yaml_data, 'system')
# system.treeroot.branch2.branch2-1.name 4
# system.treeroot.branch2.name 3
# system.treeroot.branch1.branch1-1.name 2
# system.treeroot.branch1.name 1
"
13816,44537,`goto` in Python,"@goto
def test1(n):
    s = 0

    label .myLoop

    if n <= 0:
        return s
    s += n
    n -= 1

    goto .myLoop

>>> test1(10)
55
"
34024,12023,Inheriting decorating functions in Python?,"def keyErrorOnRed(colour):
    def decorate(f):
        def wrapped(*args, **kwargs):
            if colour == ""red"":
                raise KeyError(""Better dead than red"")
            return f(*args, **kwargs)
        return wrapped
    return decorate

class Bar(object):
    @keyErrorOnRed(""black"")  #keyErrorOnRed(""black"")(Bar.__init__)(self, a, b)
    def __init__(self, a, b):
        self.vars = a, b
"
39079,2116,Python Regex Variable Negative Lookbehind,"^(?=.*?(?:flights|airfare))(?:(?!without|not includ(?:ing|ed)|doesn\'?t include|exclud(?:es|ing)).)*$
"
978,7099,What replaces the now-deprecated Carbon.File.FSResolveAliasFile in Python on OSX?,"import os.path
from Foundation import *

def target_of_alias(path):
    url = NSURL.fileURLWithPath_(path)
    bookmarkData, error = NSURL.bookmarkDataWithContentsOfURL_error_(url, None)
    if bookmarkData is None:
        return None
    opts = NSURLBookmarkResolutionWithoutUI | NSURLBookmarkResolutionWithoutMounting
    resolved, stale, error = NSURL.URLByResolvingBookmarkData_options_relativeToURL_bookmarkDataIsStale_error_(bookmarkData, opts, None, None, None)
    return resolved.path()

def resolve_links_and_aliases(path):
    while True:
        alias_target = target_of_alias(path)
        if alias_target:
            path = alias_target
            continue
        if os.path.islink(path):
            path = os.path.realpath(path)
            continue
        return path
"
2093,42419,Finding integer distance between two intervals,"def solve(r1, r2):
     # sort the two ranges such that the range with smaller first element
     # is assigned to x and the bigger one is assigned to y
     x, y = sorted((r1, r2))

     #now if x[1] lies between x[0] and y[0](x[1] != y[0] but can be equal to x[0])
     #then the ranges are not overlapping and return the differnce of y[0] and x[1]
     #otherwise return 0 
     if x[0] <= x[1] < y[0] and all( y[0] <= y[1] for y in (r1,r2)):
        return y[0] - x[1]
     return 0
... 
>>> solve([0,10],[12,20])
2
>>> solve([5,10],[1,5])
0
>>> solve([5,10],[1,4])
1
"
21196,3295,Parse date string and change format,"datetime.datetime.strptime(date_string, format1).strftime(format2)
"
20451,79948,Deleting items witht the same index from multiple lists inside a dictionary,">>> import itertools
>>>
>>> mydict={}
>>> mydict['a']=[1,0,0,0,1,1,1,1,1,0,0]
>>> mydict['b']=[2,4,5,6,8,7,5,4,5,6,7]
>>> mydict['c']=[4,5,6,4,6,8,4,3,5,8,7]
>>> #            ^       ^ ^ ^ ^ ^
>>> mask = mydict['a']
>>> for key, value in mydict.items():
...     mydict[key] = list(itertools.compress(value, mask))
...
>>> mydict
{'a': [1, 1, 1, 1, 1, 1], 'c': [4, 6, 8, 4, 3, 5], 'b': [2, 8, 7, 5, 4, 5]}
"
8726,33204,How to convert ASCII characterers to Strings in Python,"import serial
import time 
port=""/dev/ttyUSB0""
serialArduino= serial.Serial(port,9600)
serialArduino.flushInput()

while True:
    inputs = serialArduion.readline().rstrip()
    if inputs == ""DOWN"":
        print ""APPLES""
    elif inputs == ""UP""
        print ""Bannana""
"
9288,84265,How do I reverse the effects of str() Method in Python?,">>> MyList = [{1: 'one'}, 'blarg', 964]
>>> sorted(MyList, key=lambda x: len(str(x)), reverse=True)
[{1: 'one'}, 'blarg', 964]
"
6497,43385,Python: Return max float instead of infs?,"import sys
def noInf(f):
  def wrapped(*args, **kwargs):
    res = f(*args, **kwargs)
    if res == float('inf'):
      return sys.float_info.max
    return res
  return wrapped

@noInf
def myMult(x, y):
  return x*y

print(myMult(sys.float_info.max, 2)) # prints 1.79769313486e+308
"
18677,13528,Extracting YouTube Video's author using Python and YouTubeAPI,">>> client = gdata.youtube.service.YouTubeService()
>>> video = client.GetYouTubeVideoEntry(video_id='CoYBkXD0QeU')
>>> video.author[0].name.text
'GoogleDevelopers'
"
35007,15575,Proxy not working over SSL connection,"import socks, ssl
s = socks.socksocket()
s.setproxy(socks.PROXY_TYPE_SOCKS5,""127.0.0.1"", 9050)
s.connect(('127.0.0.1', 443))
ssl_sock = ssl.wrap_socket(s, ssl_version=ssl.PROTOCOL_TLSv1)
"
24379,63067,How can I get the value of a Label that is checked by a Checkbutton,"# subjects chooser

import Tkinter as tk


class SubjectsChooser(tk.Toplevel):

    def __init__(self, parent):
        tk.Toplevel.__init__(self, parent)
        self.parent = parent
        self.prompt = tk.Label(self.parent, text='Choose your school subjects',
                               border=1, relief='groove', padx=10, pady=10)
        self.prompt.pack(fill='both', padx=5, pady=5)

        self.top = tk.Frame(self.parent)

        # Using IntVar objects to save the state of the Checkbuttons
        # I will associate the property variable of each checkbutton
        # with the corrensponding IntVar object
        self.english_value = tk.IntVar(self.top)
        self.maths_value = tk.IntVar(self.top)
        self.sports_value = tk.IntVar(self.top)

        # I am saving the IntVar references in a list
        # in order to iterate through them easily, 
        # when we need to check their values later!
        self.vars = [self.english_value, self.maths_value, self.sports_value]

        # Note I am associating the property 'variable' with self.english_value
        # which is a IntVar object
        # I am using this variables to check then the state of the checkbuttons
        # state: (checked=1, unchecked=0)
        self.english = tk.Checkbutton(self.top, text='English', 
                                     variable=self.english_value)
        self.english.grid(row=0, column=0, sticky='nsw')
        self.maths = tk.Checkbutton(self.top, text='Maths',
                                   variable=self.maths_value)
        self.maths.grid(row=1, column=0, sticky='nsw')
        self.sports = tk.Checkbutton(self.top, text='Sports',
                                    variable=self.sports_value)
        self.sports.grid(row=2, column=0, sticky='nsw')          
        self.top.pack(expand=1, fill='both')
        self.subjects = [self.english, self.maths, self.sports]

        self.bottom = tk.Frame(self.parent, border=1, relief='groove')
        # not I am associating self.choose as the command of self.ok
        self.ok = tk.Button(self.bottom, text='Confirm',
                           command=self.choose)
        self.ok.pack(side='right', padx=10, pady=5)
        self.bottom.pack(fill='both', padx=5, pady=5)

    def choose(self):
        # Needed to check how many checkbuttons are checked
        # Remember, the state of the check buttons is stored in
        # their corresponding IntVar variable
        # Actually, I could simply check the length of 'indices'.
        total_checked = 0
        indices = []  # will hold the indices of the checked subjects
        for index, intvar in enumerate(self.vars):
            if intvar.get() == 1: 
                total_checked += 1
                indices.append(index)
        if total_checked <= 1:
            print 'You have to choose at least 2 subjects!'
        else:
            for i in indices:
                # using the method 'cget' to get the 'text' property
                # of the checked check buttons
                print 'You have choosen', self.subjects[i].cget('text') 


if __name__ == '__main__': # in case this is launched as main app
    root = tk.Tk()
    schooser = SubjectsChooser(root)
    root.mainloop()
"
27706,18326,Gradle Exec task and process output,"import sys
import time

def flush_out(string):
    print(string)
    sys.stdout.flush()

#script does something
flush_out(""Waiting for 10 seconds..."")
time.sleep(10)
flush_out(""Exiting"")
sys.exit(0)
"
37895,27154,How do you sort files numerically?,"import re

def tryint(s):
    try:
        return int(s)
    except:
        return s

def alphanum_key(s):
    """""" Turn a string into a list of string and number chunks.
        ""z23a"" -> [""z"", 23, ""a""]
    """"""
    return [ tryint(c) for c in re.split('([0-9]+)', s) ]

def sort_nicely(l):
    """""" Sort the given list in the way that humans expect.
    """"""
    l.sort(key=alphanum_key)
"
1026,34757,Merging dictionary keys if values the same,"reverse_lookup = defaultdict(list)
for k, v in now_playing.items():
    reverse_lookup[v].append(k)
"
2612,36426,How do I do this loop in Django template?,"{% for d in mydata %}
    {% if forloop.first %}
        <strong>{{ d.title }}</strong>
    {% else %}
        {{ d.title }}
    {% endif %}
{% endfor %}
"
37323,45260,A python script that searchs for a file in the entire computer,"for path, dirs, files in os.walk(""C:/""):
   for name in files:
      if ""summer_photos"" in name:
         //add path to list
"
28629,55807,Retrieving the filenames from subdirectories,"import os
xmlFiles = []
for directoryPath in os.walk(filePath):
    fileName = directoryPath[2]
    if fileName[:3] = 'xml':# or fileName.endswith('xml'):
        xmlFiles.append(fileName)
"
6599,51634,Can I segment a document in BeautifulSoup before converting it to text based on my analysis of the document?,"for table in soup.findAll('table'):
    rows=[]
    for row in table.findAll('tr'):
        columns=0
        for column in row.findAll('td'):
            columns+=1
            rows.append(columns)
        if max(rows)>3:
          table.delete()
"
6569,8989,"python csv, writing headers only once","import os.path


file_exists = os.path.isfile(filename)

with open (filename, 'a') as csvfile:
    headers = ['TimeStamp', 'light', 'Proximity']
    writer = csv.DictWriter(csvfile, delimiter=',', lineterminator='\n',fieldnames=headers)

    if not file_exists:
        writer.writeheader()  # file doesn't exist yet, write a header

    writer.writerow({'TimeStamp': dic['ts'], 'light': dic['light'], 'Proximity': dic['prox']})
"
23918,2477,python boolean key for a dictionary,"clothing = {
    (True, True): ""shorts"",
    (True, False): ""jeans"",
    (False, False): ""jacket""
}
"
8350,13123,Calculating moving average for values in a dictionary with keys in a specific range,"import datetime as dt
from collections import deque
from itertools import tee, islice, izip

def dayiter(start, end):
    one = dt.timedelta(days=1)
    day = start
    while day <= end:
        yield day
        day += one

def moving_average(mapping, window, dft=0):
    n = float(window)
    t1, t2 = tee(dayiter(min(mapping), max(mapping)))
    s = sum(mapping.get(day, dft) for day in islice(t2, window))
    yield s / n
    for olddate, newdate in izip(t1, t2):
        oldvalue = mapping.get(olddate, dft)
        newvalue = mapping.get(newdate, dft)
        s += newvalue - oldvalue
        yield s / n

example = {dt.datetime(2008, 1, 1) : 5, dt.datetime(2008, 1, 2) : 6, dt.datetime(2008, 1, 3) : 7, dt.datetime(2008, 1, 4) : 9, dt.datetime(2008, 1, 5) : 12,
dt.datetime(2008, 1, 6) : 15, dt.datetime(2008, 1, 7) : 20, dt.datetime(2008, 1, 8) :     22, dt.datetime(2008, 1, 9) : 25, dt.datetime(2008, 1, 10) : 35}

for ma in moving_average(example, window=3):
    print ma
"
3458,19048,One line repeating counter with itertools?,"def repeating_counter(times):
    return (x // times for x in count())
"
32192,48135,Getting Key from datastore (GAE),"key = myobj.put()

# if you are using ndb you can get the key with
myobj.key

# if db use 
myobj.key()
"
2616,9153,Search in pandas dataframe,"import pandas as pd
import numpy as np

dates = pd.date_range('2001-01-01',periods=100)
dates = dates[::3]
A = pd.DataFrame({'date':dates,
                  'id':['A']*len(dates),
                  'value':np.random.randn(len(dates))})

dates = pd.date_range('2001-01-01',periods=100)
dates = dates[::5]
B = pd.DataFrame({'date':dates,
                  'id':['B']*len(dates),
                  'value':np.random.randn(len(dates))})
df = pd.concat([A,B])

with_lags = []
for id, group in df.groupby('id'):
    group = group.set_index(group.date)
    index = group.index
    group = group.reindex(pd.date_range(group.index[0],group.index[-1]))
    group = group.ffill()
    group['lag_value'] = group.value.shift(7)
    group = group.loc[index]
    with_lags.append(group)

with_lags = pd.concat(with_lags, 0)
with_lags.index = np.arange(with_lags.shape[0])
"
25806,84808,Convert SQL query to Django friendly format for application,"users_to_exclude = Noticesetting.objects.filter(send=False, notice_type__label='announcement').values('user')
emails = Emailaddress.objects.exclude(user__in=users_to_exclude)
"
15995,47157,String in Cython functions,"def myfunc(str mystr):
"
2227,18170,How to append the number of item frequencies in a list in Python 3.2?,"def voting_plurality(votes):
    sums = dict(zip(INDEX_TO_NAME.values(), [0] * len(INDEX_TO_NAME)))
    for vote in votes:
        if vote in sums:
            sums[vote] += 1
        else:
            print ""Bad vote: %s"" % vote
    votes_by_index = sorted([(NAME_TO_INDEX[k], v) for k, v in sums.items()])
    votes_by_rank = sorted(votes_by_index, key=lambda x: x[1], reverse=True)
    votes_by_parts = [item[1] for item in votes_by_index]
    highest_votes = INDEX_TO_NAME[votes_by_rank[0][0]]
    return (highest_votes, votes_by_parts)
"
23024,46628,How do I get the file / key size in boto S3?,"bk = conn.get_bucket('my_bucket_name')
key = bk.lookup('my_key_name')
print key.size
"
19269,5635,how to send keys to this item,"            driver.find_element_by_xpath(""//*[@id='black_box_name']"").send_keys(ticketTestData[""inputSpecial""][""//*[@id='black_box_name']""])
            x_path = ""//a[text() = "" + ""'"" + ticketTestData[""inputSpecial""][""//*[@id='black_box_name']""] + ""'"" + ""]""
            logging.debug(str(datetime.datetime.now()) + "" xpath "" + x_path)
            element = WebDriverWait(driver, medium_timeout/6).until(EC.presence_of_element_located((By.XPATH, x_path)))
            element.click()
"
6185,11915,"Saving tweets in a file, but they are overwritten by Python","result_file = open('result1.json', 'a')
"
246,14973,How to define a directory input parameter for Gimp Python-Fu plugin,"register(
   ... ,
   [
    (PF_DIRNAME, ""source_directory"", ""Source Directory"", """"), ...
   ]
   ...,
 )
"
308,9494,JSON module for python 2.4?,"try:
    import json
except ImportError:
    import simplejson as json
"
4351,49509,Matching two almost similar string (python),"left,right = a.split('=', 1)
answer = left.split('::')[1:] + [right]
"
35716,79954,can an an ORM column trigger a session flush in SQLAlchemy?,"import sys
import sqlalchemy as sa
import sqlalchemy.sql
import sqlalchemy.orm
import sqlalchemy.ext.declarative

Base = sa.ext.declarative.declarative_base()

class Entry(Base):
    __tablename__ = ""entries""

    id = sa.Column(sa.Integer, primary_key=True)
    value = sa.Column(sa.Numeric)
    account_id = sa.Column(sa.Integer, sa.ForeignKey(""accounts.id""))
    account = sa.orm.relationship(""Account"", backref=""entries"")

class Account(Base):
    __tablename__ = ""accounts""

    id = sa.Column(sa.Integer, primary_key=True)

    @property
    def balance(self):
        return sqlalchemy.orm.object_session(self).query(
                    sa.sql.func.sum(Entry.value)
                ).filter(Entry.account_id == self.id).scalar()

def example(database_url):
    # connect to the database and prepare the schema
    engine = sa.create_engine(database_url, echo=True)
    session = sa.orm.sessionmaker(bind=engine)()

    Base.metadata.create_all(bind = engine)

    # add an entry to an account
    account = Account()

    account.entries.append(Entry(value = 42))

    session.add(account)

    # and look for that entry in the balance
    print ""account.balance:"", account.balance

    assert account.balance == 42

if __name__ == ""__main__"":
    example(""sqlite://"")
"
14034,5639,setGeometry() right after addWidget() issue,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

from PyQt4.QtCore import *
from PyQt4.QtGui import *

class orange(QWidget):
    def __init__(self, parent=None):
        super(orange, self).__init__(parent)

        self.setMinimumSize(256, 256)
        self.setMaximumSize(256, 256)

        self.frame = QFrame(self)
        self.frame.setMinimumSize(128, 128)
        self.frame.setMaximumSize(128, 128)
        self.frame.setGeometry(QRect(0, 128, self.width(), self.height()))
        self.frame.setStyleSheet(""background: orange"")

if __name__ == ""__main__"":
    import  sys

    app = QApplication(sys.argv)
    main = orange()
    main.show()
    sys.exit(app.exec_())
"
4217,24671,How can I delete files in Python,"import glob
import os

for file_path in glob.glob('*9999.dbf'):
    os.unlink(file_path)
"
6290,63792,"How can I remove all words that end in "":"" from a string in Python?","import re
blah = ""word word: monty py: thon""
answer = re.sub(r'\w+:\s?','',blah)
print answer
"
38988,83877,Python - Copying into Numpy Array of set size,"nx,ny = smallerArray.shape
largeArray[0:nx,0:ny] = smallerArray[0:nx,0:ny]
"
4537,63671,How do I access the original response headers that contain a redirect when using urllib2.urlopen,"import urllib2

class SmartRedirectHandler(urllib2.HTTPRedirectHandler):
    def http_error_302(self, req, fp, code, msg, headers):
        result = urllib2.HTTPRedirectHandler.http_error_302(self, req, fp,
                                                                 code, msg,
                                                                 headers)
        result.status = code
        result.headers = headers
        return result

request = urllib2.Request(""http://wp.me"")
opener = urllib2.build_opener(SmartRedirectHandler())
obj = opener.open(request)
print 'The original headers where', obj.headers
print 'The Redirect Code was', obj.status
"
36380,64943,Using Py_buffer and PyMemoryView_FromBuffer with different itemsizes,"PYGILSTATE_ACQUIRE; //a macro i made
PyObject *result = PyEval_CallObject(python_callback, NULL);
if (!PyObject_CheckBuffer(result))
  ; //raise exception

Py_buffer *view = (Py_buffer *) malloc(sizeof(*view));
int error = PyObject_GetBuffer(result, view, PyBUF_SIMPLE);
if (error)
  ; //raise exception

memcpy(my_other_buffer, view->buf, view->len);

PyBuffer_Release(view);
Py_DECREF(result);
PYGILSTATE_RELEASE; //another macro
"
8386,10149,Django rest_framework serializer with inner relationship,"class DiscountSerializer(serializers.ModelSerializer):
    class Meta:
        model = Discount
        fields = ('discount_description', 'discount_start', 'discount_end', 'discount_title', 'discount_category', 'discount_store')
        depth = 1
"
20189,72819,Read lines starting with numbers,"import re
with open(""filename"") as f:
    for line in f:
        if re.match(r""^\d+.*$"",line):
            print line
"
26931,15223,pandas - extending the DataFrame by adding another levels,">>> dfA = pd.DataFrame(['a','b','c'],columns=['A'])
>>> dfB = pd.DataFrame(range(3),columns=['B'])
>>> dfA['key'] = 1
>>> dfB['key'] = 1
>>> pd.merge(dfB, dfA, on='key').ix[:, ('A','B')]
   A  B
0  a  0
1  b  0
2  c  0
3  a  1
4  b  1
5  c  1
6  a  2
7  b  2
8  c  2
"
18129,1346,Problems getting object names,"import GameLogic
import Rasterizer as r
r.showMouse(1)   #just in order to get the mouse visible within the game engine
print 'SetProperty.py\n'
cont=GameLogic.getCurrentController()
obj=cont.getOwner()
emptyOb = GameLogic.getCurrentScene().getObjectList()[""OBEmpty""]
emptyOb.EmptyProp=obj
print 'object name, within emptyProp: ', emptyOb.EmptyProp
"
20239,8525,Python generator within a recursive function,"alist = ['ROOT', ['S', ['NP', ['PRP', 'We']], ['VP', ['VBP', 'have'], ['VP', ['VBN', 'received'], ['NP', ['NN', 'information']],
        ['PP', ['IN', 'from'], ['NP', ['NP', ['DT', 'a'], ['NN', 'source']], ['VP', ['VBN', 'entitled'], ['PP', ['TO', 'to'],
        ['NP', ['NN', 'belief']]], [',', ','], ['SBAR', ['IN', 'that'], ['S', ['NP', ['NNP', 'Lincoln']], ['VP', ['VP', ['VBZ', 'has'],
        ['VP', ['VBN', 'paid'], ['NP', ['DT', 'a'], ['JJ', 'hurried'], ['NN', 'visit']], ['PP', ['TO', 'to'],
        ['NP', ['NP', ['DT', 'the'], ['NNP', 'Army']], ['PP', ['IN', 'of'], ['NP', ['DT', 'the'], ['NNP', 'Potomac']]]]],
        [',', ','], ['PRN', ['-LRB-', '-LRB-'], ['ADVP', ['RB', 'now']], ['ADJP', ['JJ', 'burrowing'], ['PP', ['IN', 'on'],
        ['NP', ['NP', ['DT', 'the'], ['NN', 'north'], ['NN', 'bank']], ['PP', ['IN', 'of'], ['NP', ['DT', 'the'], ['NNP', 'James']]],
        [',', ',']]]], ['-RRB-', '-RRB-']]]], ['CC', 'and'], ['VP', ['VBD', 'satisfied'], ['NP', ['PRP', 'himself']],
        [',', ','], ['PP', ['IN', 'by'], ['NP', ['JJ', 'personal'], ['NN', 'observation']]], [',', ','],
        ['PP', ['IN', 'in'], ['NP', ['NN', 'regard']]], ['PP', ['TO', 'to'], ['NP', ['NP', ['DT', 'the'], ['JJ', 'true'], ['NN', 'situation']],
        ['PP', ['IN', 'of'], ['NP', ['NNS', 'affairs']]]]]]]]]]]]]], ['.', '.']]]

def PullNP(NNP, NPLists):
    if NNP in NPLists:
        print ""Pulling relevant NP""
        print NNP
        yield NNP
    for thing in NPLists:
        if NNP in thing:
            for nnp in PullNP(thing, NPLists):
                yield nnp
        else:
            for s in thing:
                if isinstance(s, list) and NNP in s:
                    for nnp in PullNP(s, NPLists):
                        yield nnp


def RecurseNNP(alist, pastlists=None, count=None):
    if pastlists is None: pastlists = []
    if count is None: count = 0
    if 'NNP' in alist[0]:
        NNPs = PullNP(alist, pastlists)
        print NNPs
        for np in NNPs:
            print np
    else:
        if str(type(alist)) == ""<type 'list'>"":
            if alist[0] == 'NP':
                pastlists.append(alist)
            for x in alist[1:]:
                RecurseNNP(x, pastlists, count)

RecurseNNP(alist)
"
34631,62894,Python: Return string using while loop (no methods or for loops),"i = 0
m = ''
while i < len(s):
    m += ch2 if s[i] == ch else s[i]
    i += 1

return m
"
27690,16898,How I display 2 words before and after a key search word in Python,"s = """"""List of the keyboard shortcuts for Word 2000
Sequences: strings, lists and tuples - PythonLearn""""""
findword = 'lists'
numwords = 2

for i in s.split('\n'):
    z = i.split(' ')

    for x in [x for (x, y) in enumerate(z) if findword in y]:
        print(' '.join(z[max(x-numwords,0):x+numwords+1]))
"
30293,38457,How to make a quiver plot in polar coordinates,"radii = np.linspace(0.5,1,10)
thetas = np.linspace(0,2*np.pi,20)
theta, r = np.meshgrid(thetas, radii)

dr = 1
dt = 1

f = plt.figure()
ax = f.add_subplot(111, polar=True)
ax.quiver(theta, r, dr * cos(theta) - dt * sin (theta), dr * sin(theta) + dt * cos(theta))
"
14038,80437,Python 2.7 and Pandas merge 2 csv files with Forex Data,"In [48]: df1 = pd.read_csv(StringIO(b), index_col=0, names=['time', 'open', 'high', 'low', 'close', 'volume'], parse_dates=True)


In [49]: df2 = pd.read_csv(StringIO(a), index_col=0, names=['time', 'open', 'high', 'low', 'close', 'volume'], parse_dates=True)


In [71]: df1
Out[71]: 
                       open    high    low   close  volume
time                                                      
2009-02-23 18:01:00  991.26  992.12  990.8  991.84      69
2009-02-23 18:02:00  991.80  992.26  991.2  991.87      74
2009-02-23 18:04:00  991.82  991.83  990.7  991.32      74

In [72]: df2
Out[72]: 
                       open    high     low   close  volume
time                                                       
2009-02-23 18:01:00  1.2709  1.2711  1.2704  1.2705     204
2009-02-23 18:02:00  1.2706  1.2706  1.2700  1.2704     211
2009-02-23 18:03:00  1.2704  1.2705  1.2701  1.2704      82
2009-02-23 18:04:00  1.2702  1.2708  1.2702  1.2706      98





In [51]: df2['other_close'] = df1['close']


In [52]: df2
Out[52]: 
                       open    high     low   close  volume  other_close
time                                                                    
2009-02-23 18:01:00  1.2709  1.2711  1.2704  1.2705     204       991.84
2009-02-23 18:02:00  1.2706  1.2706  1.2700  1.2704     211       991.87
2009-02-23 18:03:00  1.2704  1.2705  1.2701  1.2704      82          NaN
2009-02-23 18:04:00  1.2702  1.2708  1.2702  1.2706      98       991.32
"
8988,21661,"Is it possible to maintain ""boundness"" of a method when passing it as an object outside its class","def __getattr__(self, name):
    try:
        return self._service_calls[name]
    except KeyError:
        raise AttributeError
"
30365,41194,"Python 2.7, Having problems with having iteration","from __future__ import print_function
import random as rand

def ex_game():
    print('Instructions:','\n','Your job is to try to figure out a number of problems by your choosing and get the progress bar all GREEN, YELLOW means its there, but wrong spot, RED means its not there and there are no more of that left. After a light turns GREEN you do not have to get it right again. Trust me its easy.(Press enter to get started)')
    raw_input()
    ex_secret(int(raw_input('Number of items you would like to TRY to solve(WARNING: GAME GETS HARDER THE LARGER THE NUMBER YOU CHOOSE):')),int(raw_input('At what level would you like to play at.(1-5)')))
def ex_guess(l_sec,tries,cheat,number_items,level):
    #This is the guess choice I separated it so that I could rerun it as pleased, to put a special code in, and show the progression table
    guess_ex = []
    colors = ['yellow', 'blue', 'black', 'green', 'red']

    if level >= 2:
        colors.append('white')
    if level >= 3:
        colors.append('orange')
    if level >= 4:
        colors.append('purple')
    if level >= 5:
        colors.append('brown')

    for loop in range(number_items):
         append_guess = 'What do you beleive the solution is?(One at a time | choices: ' + str(colors) + '):'
         input = raw_input(append_guess).lower()

         if input == 'quit':
            return 'quit'
         guess_ex.append(input)

    return guess_ex
def ex_secret(number_items,level):
    secret_ex = []
    optionalColors = []
    if level >= 2:
        optionalColors.append('white')
    if level >= 3:
        optionalColors.append('orange')
    if level >= 4:
        optionalColors.append('purple')
    if level >= 5:
        optionalColors.append('brown')

    for loop in range(number_items):
        secret_ex.append(rand.choice(['yellow','blue','black','green','red']+optionalColors))

    report(secret_ex,[],0,False,number_items,level,False)
def report(secret,progress,tries,cheat,number_items,level,correct):
    #The ""game""
    safe_secret = []
    for record in secret:
        safe_secret.append(record)
    if correct == True:
        print('YOU WON!')
        end = True
    if tries > 0 and cheat == False or tries > 4 and cheat:
        print(progress)
        progress = []
    while not correct:
        if tries == 5 and not correct:
            print('YOU LOST?!?!')
            raw_input('Thanks for Playing!')
            return
        guess = ex_guess(len(secret),tries,cheat,number_items,level)
        super_secret = 'up up down down left right left right b a start'
        if 'give' in guess:
            tries = 4
        if super_secret in guess and not cheat:
            print('The deal has been made. Now make your ""new"" choices.')
            cheat = True
            tries += 6
            guess = ex_guess(len(secret),progress,tries,cheat,number_items,level)
        elif super_secret in guess and cheat:
            print('I said the deal was made now go make your new choices and leave me alone you prick.')
            guess = ex_guess(len(secret),progress,tries,cheat,number_items,level)
        elif 'stop_cheat' in guess and cheat:
            if tries > 8:
                return 'YOU LOST, thank you for admitting to cheating though.'
            else:
                cheat = False
                tries -= 6
        if guess == 'quit':
            raw_input('Thanks for Playing!')
            return
        list_counter_in = 0
        list_counter_out = 0
        list_counter_incor = 0
        while list_counter_in <= number_items - 1:
            if guess[list_counter_in] == secret[list_counter_in] and '_g' not in guess[list_counter_in]:
                secret[list_counter_in] += ('_g')
                guess[list_counter_in] += ('_g')
            list_counter_in += 1
        while list_counter_out <= number_items - 1:
            if guess[list_counter_out] in secret and '_g' not in guess[list_counter_out]:
                secret_yellow_check = secret[secret.index(guess[list_counter_out])]
                if '_y' not in secret_yellow_check:
                    secret[secret.index(guess[list_counter_out])] += '_y'
                    guess[list_counter_out] += '_y'
            list_counter_out += 1
        while list_counter_incor <= number_items - 1:
            if '_g' not in guess[list_counter_incor] and '_y' not in guess[list_counter_incor]:
                guess[list_counter_incor] += '_r'
            list_counter_incor += 1
        for check_status in guess:
            if '_g' in check_status:
                progress.append('GREEN')
            if '_y' in check_status:
                progress.append('YELLOW')
            if '_r' in check_status:
                progress.append('RED')
        if 'RED' not in progress and 'YELLOW' not in progress:
            correct = True
        if 'RED' in progress or 'YELLOW' in progress:
            tries +=1
            print('Not quite right...Lets try again!')
ex_game()
"
26511,79218,"How to detect if string ""_numbers"" here","if re.search(r'_\d{1,6}\b', s):
"
28391,3733,Only Allow Internal Links in Broad Scrapy Web Crawl,"domain = response.url.replace(""http://"","""").replace(""https://"","""").split(""/"")[0]
links = [k for k in links if domain in k.url]
"
24856,18540,How can I programmatically authenticate a user in Django?,"from django.contrib.auth import authenticate, login
user = authenticate(username = username, password = password)
if user is not None:
    login(request, user)
"
27083,46854,Divide csv file by column value,"special_col = ['cll_n', 'clName']

with open('myfile.csv', 'r') as fh:
    rdr = csv.DictReader(fh)

    # now we need to figure out which column is used
    for c in special_col:
        if c in rdr.fieldnames:
            break  # found the column name
    else:
        raise IOError('No special column in file')

    # now execute your existing code, but group by the
    # column using lambda row: row[c] instead of row 7
    call_existing_code(rdr, c)


def call_existing_code(rdr, c):
    # set up an output file using csv.DictWriter; you can
    # replace the original column with the new column, and
    # control the order of fields

    with open('output.csv', 'w') as fh:
        wtr = csv.DictWriter(fh, fieldnames=['list', 'of', 'fields'])
        wtr.writeheader()

        for row in groupby(rdr, lambda r: r[c]):

            # [process the row as needed here]

            wtr.writerow(row)
"
8181,72251,How to prevent django from appending the url everytime?,"<a href=""{% url 'my_admin_view' %}"">Admin link</a>
"
6706,33439,Extract and merge lists from dictionary,"print [v for k in my_dict for v in my_dict[k]]
# ['a', 'b', 'c', 'x', 'y', 'z']
"
36107,24658,Trying to build trie with classes in python - strange behavior,"class lttr:
    def __init__(self):
        self.finish = 0
        self.pointers = {}  #for letters to reference class instance
"
3599,23932,Python: Adding new line after return in recursive function,"def sum(a,b):
    if a>0 and b>0:
        return str(a*b) + ""\n"" + str(sum(a,b-1))
    else:
        return """"
"
7675,83787,How does this for loop work?,"people = [
    [['name', 'John'], ['age', 21]],
    [['name', 'Ann'],  ['age', 45]],
    [['name', 'Tom'],  ['age', 32]],
]

for person in people:
  # person is like [['name', 'Ann'],  ['age', 45]] here
  for (name, value) in person:
    # unpack [field_name, field_value] to name = field_name, value = field_value
    # so name is like 'name' (or 'age') and value is like 'Ann' (or 45)
    if name == 'name': print(value)
"
35951,21123,Automatically return verbose results in Python unittest?,"unittest.main(verbosity=2)
"
16959,2300,How to zip two lists of lists in Python?,">>> map(list.__add__, L1, L2)
[[1, 2, 'a', 'b'], [3, 4, 'c', 'd'], [5, 6, 'e', 'f']]
"
4522,60057,How do I override delete() on a model and have it still work with related deletes,"def delete(self):
    files = WidgetFile.objects.filter(widget=self)
    if files:
        for file in files:
            file.delete()
    super(Widget, self).delete()
"
26001,4533,Probability surface plot matplotlib,"import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.mlab as mlab
import numpy as np

def P(X, Y):
    return mlab.bivariate_normal(X, Y, 1.0, 1.0, 0.0, 0.0)      

fig = plt.figure()
ax = fig.gca(projection = '3d')
jet = plt.get_cmap('jet')

x = np.linspace(-2, 2, 60)
y = np.linspace(-2, 2, 60)
X, Y = np.meshgrid(x, y)
Z = P(X, Y)
surf = ax.plot_surface(X, Y, Z, rstride = 1, cstride = 1, cmap = jet, linewidth = 0)
ax.set_zlim3d(0, Z.max())

plt.show()
"
34506,27412,How can I use the alpha channel un Pygame?,"def vanish_image(image, screen, background_color):  
    image = pygame.image.load(image).convert()
    image.set_colorkey((0,0,0)) #RGB-value for transparent color if needed

    alpha = 255

    while True:        
        if alpha < 0: #exit function if alpha is smaller than 0
            return

        alpha -= 1

        screen.fill(background_color) #""clear"" last blitted image
        image.set_alpha(alpha)

        pygame.display.update(screen.blit(image,(0,0))) #blit new image onto surface and update only this area

        pygame.time.delay(20) #wait 20 milliseconds
"
21703,42250,Change Unix password from command line over Python/Fabric,"echo -e ""oldpass\\nnewpass\\nnewpass"" | passwd
"
20721,54231,wxPython popup window bound to a wxButton,"import wx

########################################################################
class TestPopup(wx.PopupWindow):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent, style):
        """"""Constructor""""""
        wx.PopupWindow.__init__(self, parent, style)

        panel = wx.Panel(self)
        self.panel = panel
        panel.SetBackgroundColour(""CADET BLUE"")

        st = wx.StaticText(panel, -1,
                           ""This is a special kind of top level\n""
                           ""window that can be used for\n""
                           ""popup menus, combobox popups\n""
                           ""and such.\n\n""
                           ""Try positioning the demo near\n""
                           ""the bottom of the screen and \n""
                           ""hit the button again.\n\n""
                           ""In this demo this window can\n""
                           ""be dragged with the left button\n""
                           ""and closed with the right.""
                           ,
                           pos=(10,10))
        sz = st.GetBestSize()
        self.SetSize( (sz.width+20, sz.height+20) )
        panel.SetSize( (sz.width+20, sz.height+20) )

        panel.Bind(wx.EVT_LEFT_DOWN, self.OnMouseLeftDown)
        panel.Bind(wx.EVT_MOTION, self.OnMouseMotion)
        panel.Bind(wx.EVT_LEFT_UP, self.OnMouseLeftUp)
        panel.Bind(wx.EVT_RIGHT_UP, self.OnRightUp)

        st.Bind(wx.EVT_LEFT_DOWN, self.OnMouseLeftDown)
        st.Bind(wx.EVT_MOTION, self.OnMouseMotion)
        st.Bind(wx.EVT_LEFT_UP, self.OnMouseLeftUp)
        st.Bind(wx.EVT_RIGHT_UP, self.OnRightUp)

        wx.CallAfter(self.Refresh)    

    def OnMouseLeftDown(self, evt):
        self.Refresh()
        self.ldPos = evt.GetEventObject().ClientToScreen(evt.GetPosition())
        self.wPos = self.ClientToScreen((0,0))
        self.panel.CaptureMouse()

    def OnMouseMotion(self, evt):
        if evt.Dragging() and evt.LeftIsDown():
            dPos = evt.GetEventObject().ClientToScreen(evt.GetPosition())
            nPos = (self.wPos.x + (dPos.x - self.ldPos.x),
                    self.wPos.y + (dPos.y - self.ldPos.y))
            self.Move(nPos)

    def OnMouseLeftUp(self, evt):
        if self.panel.HasCapture():
            self.panel.ReleaseMouse()

    def OnRightUp(self, evt):
        self.Show(False)
        self.Destroy()

########################################################################
class TestPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)

        btn = wx.Button(self, label=""Open Popup"")
        btn.Bind(wx.EVT_BUTTON, self.onShowPopup)


    #----------------------------------------------------------------------
    def onShowPopup(self, event):
        """"""""""""
        win = TestPopup(self.GetTopLevelParent(), wx.SIMPLE_BORDER)

        btn = event.GetEventObject()
        pos = btn.ClientToScreen( (0,0) )
        sz =  btn.GetSize()
        win.Position(pos, (0, sz[1]))

        win.Show(True)

########################################################################
class TestFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Test Popup"")
        panel = TestPanel(self)
        self.Show()

#----------------------------------------------------------------------
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = TestFrame()
    app.MainLoop()
"
38236,27027,Running Django management command from tests?,"management.call_command('create_db_matviews', 'test', 'test', 'test', verbosity=0)
"
17767,43969,List of characters (escape sequences in string literals) used by python,"
+-----------------+---------------------------------+
| Escape Sequence | Meaning                         |
+=================+=================================+
| ``\newline``    | Ignored                         |
+-----------------+---------------------------------+
| ``\\``          | Backslash (``\``)               |
+-----------------+---------------------------------+
| ``\'``          | Single quote (``'``)            |
+-----------------+---------------------------------+
| ``\""``          | Double quote (``""``)            |
+-----------------+---------------------------------+
| ``\a``          | ASCII Bell (BEL)                |
+-----------------+---------------------------------+
| ``\b``          | ASCII Backspace (BS)            |
+-----------------+---------------------------------+
| ``\f``          | ASCII Formfeed (FF)             |
+-----------------+---------------------------------+
| ``\n``          | ASCII Linefeed (LF)             |
+-----------------+---------------------------------+
| ``\N{name}``    | Character named *name* in the   |
|                 | Unicode database (Unicode only) |
+-----------------+---------------------------------+
| ``\r``          | ASCII Carriage Return (CR)      |
+-----------------+---------------------------------+
| ``\t``          | ASCII Horizontal Tab (TAB)      |
+-----------------+---------------------------------+
| ``\uxxxx``      | Character with 16-bit hex value |
|                 | *xxxx* (Unicode only)           |
+-----------------+---------------------------------+
| ``\Uxxxxxxxx``  | Character with 32-bit hex value |
|                 | *xxxxxxxx* (Unicode only)       |
+-----------------+---------------------------------+
| ``\v``          | ASCII Vertical Tab (VT)         |
+-----------------+---------------------------------+
| ``\ooo``        | Character with octal value      |
|                 | *ooo*                           |
+-----------------+---------------------------------+
| ``\xhh``        | Character with hex value *hh*   |
+-----------------+---------------------------------+
"
34881,29262,Time difference in Python 2.7,"t_2 = (0, 3)
t_1 = (23, 59)

from datetime import timedelta

t1 = timedelta(hours=t_1[0],minutes=t_1[1])
t2 = timedelta(hours=t_2[0],minutes=t_2[1])
print((t2-t1).seconds/60)
4.0
"
21817,40404,"Beautiful Soup cannot find a CSS class if the object has other classes, too","Python 2.7.5 (default, May 15 2013, 22:43:36) [MSC v.1500 32 bit (Intel)]
Type ""copyright"", ""credits"" or ""license"" for more information.

In [1]: import bs4

In [2]: soup = bs4.BeautifulSoup('<div class=""foo bar""></div>')

In [3]: soup(attrs={'class': 'bar'})
Out[3]: [<div class=""foo bar""></div>]
"
11400,40091,Circular prime numbers Incorrect Output Python Program,"def primes(max_n):
    numbers = range(3, max_n+1, 2)
    half = (max_n)//2
    initial = 4
    for step in xrange(3, max_n+1, 2):
        for i in xrange(initial, half, step):
            numbers[i-1] = 0
        initial += 2*(step+1)

        if initial > half:
            return [2] + filter(None, numbers)


def rotate(S_list):
    S=[]
    for i in range(len(S_list)):
        S.append(int(S_list[i:]+S_list[:i]))
    return set(S)

def circularPrime(limit):
    All_primes_in_limit = primes(limit)
    circular_prime=[]
    reject_list=['0','2','4','5','6','8']
    All_primes_in_limit=[i for i in All_primes_in_limit if not any(j in reject_list for j in set(str(i)))]
    while All_primes_in_limit:
        ShufleSet=rotate(str(All_primes_in_limit[-1]))
        PrimesSet=set(All_primes_in_limit)
        if not ShufleSet -  PrimesSet:
            circular_prime+=list(ShufleSet)
        All_primes_in_limit=list(PrimesSet-ShufleSet)
    circular_prime.sort()
    return circular_prime


#for limit value 1000000
print circularPrime(1000000)
"
16506,74444,Return conditional statements to new line when organizing code(Python)?,"if (1 == 1 and
    2 == 2 and
    3 == 3):
   # ...
"
6696,70771,"Is there any way to enter a ""while"" loop while a boolean value is false",">>> not False
True
>>> not True
False
>>> not """".isalpha()
True
>>> not ""abc"".isalpha()
False
"
12140,72746,How to retrieve rows from a csv file using a tag string,"In [172]:

df[df['Outcome']=='Active']
Out[172]:
   No Outcome target    result
0   1  Active   PGS2  positive
3   4  Active    IIL  positive
4   5  Active    P53  negative
"
18804,19988,Python avoiding using a variable when using a value twice?,"tmp = mydict[mykey] = myfunc()
return tmp
"
14560,18241,How to add shading through all subplot,"import matplotlib.pyplot as plt
import matplotlib.patches as mpatches
import numpy as np

fig,ax=plt.subplots(2,1)

x=np.linspace(0,np.pi*2,50)

ax[0].plot(x,np.sin(x),'b-')
ax[1].plot(x,np.sin(x),'b-')

rect=mpatches.Rectangle([0.35,0.1], 0.1, 0.8, 
         ec='k', fc='g', alpha=0.5, clip_on=False, transform=fig.transFigure)
ax[1].add_patch(rect)

fig.savefig('figure.png')
"
29942,62400,How to reverse order of keys in python dict?,">>> a = {0:'000000',1:'11111',3:'333333',4:'444444'}
>>> a.keys()
[0, 1, 3, 4]
>>> sorted(a.keys())
[0, 1, 3, 4]
>>> reversed(sorted(a.keys()))
<listreverseiterator object at 0x02B0DB70>
>>> list(reversed(sorted(a.keys())))
[4, 3, 1, 0]
"
37509,6872,Dividing complex rows of dataframe to simple rows in Pyspark,"from pyspark.sql.functions import explode

documents.withColumn(""title"", explode(""title""))
## +---+----------------+
## | id|           title|
## +---+----------------+
## |  1|     [1000,cars]|
## |  2|  [50,horse bus]|
## |  2|[100,normal bus]|
## |  3| [5000,Airplane]|
## |  4|   [20,Bicycles]|
## |  4| [80,Motorbikes]|
## |  5|      [15,Trams]|
## +---+----------------+
"
39914,46212,What is the simplest way to add a hyperlink to a canvas element in ReportLab?,"c.linkURL('http://google.com', (inch, inch, 1*inch, 1*inch), relative=1)
"
17570,44740,Python: How to use RegEx in an if statement?,"if re.match(regex, content) is not None:
  blah..
"
37276,25919,Simple Torch7 equivalent to numpy.roll,"th> x = torch.zeros(2, 4):uniform(0, 10)
th> y = torch.zeros(2, 4):scatter(2, torch.LongTensor{{3, 4, 1, 2}, {3, 4, 1, 2}}, x)
th> x
 0.7295  3.2218  7.3979  5.5500
 8.4354  3.6722  5.5463  3.4323
[torch.DoubleTensor of size 2x4]
th> y
 7.3979  5.5500  0.7295  3.2218
 5.5463  3.4323  8.4354  3.6722
[torch.DoubleTensor of size 2x4]
"
12179,2410,Line breaks Django string,"contact_message = ""Name: %s\nEmail: %s"" % (
    form_name,
    form_email,
)
"
24579,82527,"Using subprocess to call R from Python, want to keep STDOUT and ignore STDERR","
import os
import subprocess
with open(os.devnull) as devnull:
    subprocess.Popen([cmd arg], stdout=subprocess.PIPE, stderr=devnull)
"
24017,28952,Can I set an Icon as titled into a Gtk.StackSwitcher?,"   from gi.repository import Gtk

   win  = Gtk.Window () 
   grid = Gtk.Grid ()
   win.add (grid)

   stack = Gtk.Stack ()
   childstack = Gtk.Entry ()
   stack.add_titled (childstack, ""_Namestack"", ""LabelInTheSwitcher"")
   grid.attach (stack, 0, 1, 1, 1)

   switcher = Gtk.StackSwitcher ()
   switcher.set_stack (stack)
   grid.attach (switcher, 0, 0, 1, 1)

   """""" Use icon instead for your switcher """"""
   stack.child_set_property (childstack, ""icon-name"", ""help-about"")


   win.show_all ()
   win.connect (""destroy"", Gtk.main_quit)

   Gtk.main ()
"
29764,55014,How to get the number of form fields in a django template?,"{{ form.fields|length }}
"
17146,59048,Removing part of string from Pandas DataFrame column,"In [35]:

df=pd.DataFrame({'Consultation':['CONSULTATION      15.00',
'CONSULTATION      10.00',
'CONSULTATION      18.00',
'CONSULTATION       0.00',
'CONSULTATION      18.00']})
In [36]:

import re
In [37]:

p=re.compile('[0-9.]+')
In [38]:

df['Cons']=df['Consultation'].apply(lambda x: float(p.findall(x)[0]))
In [39]:

print df
              Consultation  Cons
0  CONSULTATION      15.00    15
1  CONSULTATION      10.00    10
2  CONSULTATION      18.00    18
3  CONSULTATION       0.00     0
4  CONSULTATION      18.00    18

[5 rows x 2 columns]
In [40]:

df.dtypes
Out[40]:
Consultation     object
Cons            float64
dtype: object
"
2517,74870,Access SQLAlchemy model linked with foreign key,"from flask import Flask
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
db = SQLAlchemy(app)

class Group(db.Model):
    id = db.Column(db.Integer, primary_key=True)

class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    group_id = db.Column(db.ForeignKey(Group.id))
    group = db.relationship(Group, backref='users')

db.create_all()
db.session.add(User(group=Group()))
db.session.commit()
u = User.query.get(1)
print(u.group)
"
4299,41599,python pycurl equivalent of curl -b get command,"import requests
r = requests.get(
    'https://storkcloud.org/api/stork/ls?uri=ftp://ftp.mozilla.org/',
    cookies=dict(email=""EMAIL"", password=""PASS"")
)
print r.text
"
14300,18590,How to read a file that is continuously being updated by appending lines?,"import json
import requests
from requests.auth import HTTPBasicAuth

posts = []
url = 'https://stream.twitter.com/1.1/statuses/sample.json'
r = requests.get(url, auth=('dhelm', '12345'), stream=True)
for line in r.iter_lines():
    try:
        posts.append(json.loads(line))
    except:
        pass
"
12240,82245,Python object persistence over re-execs,"import mymodule

while mymodule.go():
    reload(mymodule)
"
10095,10532,Define a pandas.tseries.index.DatetimeIndex using 2 datetimes (dt_start and dt_stop) and a timedelta,"In [11]: td = datetime.timedelta(minutes=5, microseconds=100)

In [12]: pd.offsets.Micro(td.total_seconds() * 10 ** 6)
Out[12]: <300000100 * Micros>
"
12547,18162,Encrypting Nodes within XML Document in Python,"from Crypto.Cipher import AES
import base64
import os

# the block size for the cipher object; must be 16, 24, or 32 for AES
BLOCK_SIZE = 32

# the character used for padding--with a block cipher such as AES, the value
# you encrypt must be a multiple of BLOCK_SIZE in length.  This character is
# used to ensure that your value is always a multiple of BLOCK_SIZE
PADDING = '{'

# one-liner to sufficiently pad the text to be encrypted
pad = lambda s: s + (BLOCK_SIZE - len(s) % BLOCK_SIZE) * PADDING

# one-liners to encrypt/encode and decrypt/decode a string
# encrypt with AES, encode with base64
EncodeAES = lambda c, s: base64.b64encode(c.encrypt(pad(s)))
DecodeAES = lambda c, e: c.decrypt(base64.b64decode(e)).rstrip(PADDING)

# generate a random secret key
secret = os.urandom(BLOCK_SIZE)

# create a cipher object using the random secret
cipher = AES.new(secret)

# encode a string
encoded = EncodeAES(cipher, 'password')
print 'Encrypted string:', encoded

# decode the encoded string
decoded = DecodeAES(cipher, encoded)
"
39399,1249,Upload files without FieldStorage,"
#!/usr/bin/python

import os
import sys

buf = sys.stdin.read(512)

print ""Content-type: text/html\n\n"";
print '<html>'
print '''
<form method=""post"" action="""" enctype=""multipart/form-data"">
<input type=""file"" name=""f"">
<input type=""submit"">
</form>
'''
print buf

print '</html>'
"
9409,82485,Pandas GroupBy : How to get top n values based on a column,"print df
   A    B        C
0  x   12      ere
1  x   34     bfhg
2  z    6      bgn
3  z    8      rty
4  y  567  hmmu,,u
5  x  545   fghfgj
6  x   44    zxcbv

dcf = df.groupby(['A'],as_index=False).count()
print dcf
   A  B  C
0  x  4  4
1  y  1  1
2  z  2  2

#get 2 largest rows by column C
print dcf.nlargest(2,'C')
   A  B  C
0  x  4  4
2  z  2  2
"
38407,62778,Getting javascript variable value into python from QWebView,"import sys
from PySide import QtCore, QtGui, QtWebKit

html = '''
<html><head>
<meta name=""viewport"" content=""initial-scale=1.0, user-scalable=no"" />
<style type=""text/css"">
    html { height: 100% }
    body { height: 100%; margin: 0; padding: 0 }
    #map { width: 100%; height: 100% }
</style>
<script src=""https://maps.googleapis.com/maps/api/js""></script>
<script type=""text/javascript"">
    var map, marker
    function initialize() {
        map = new google.maps.Map(document.getElementById(""map""), {
            center: {lat: 40.793697, lng: -77.8586},
            zoom: 10
        })
        marker = new google.maps.Marker({
            map: map,
            position: map.getCenter(),
            draggable: true
        })
        marker.addListener(""dragend"", function () {
            var pos = marker.getPosition()
            qt.showLocation(pos.lat(), pos.lng())
            console.log(""dragend: "" + pos.toString())
        })
    }
    google.maps.event.addDomListener(window, ""load"", initialize)
</script>
</head>
<body><div id=""map""/></body>
</html>
'''

class WebPage(QtWebKit.QWebPage):
    def javaScriptConsoleMessage(self, message, line, source):
        if source:
            print('line(%s) source(%s): %s' % (line, source, message))
        else:
            print(message)

class Proxy(QtCore.QObject):
    @QtCore.Slot(float, float)
    def showLocation(self, latitude, longitude):
        self.parent().edit.setText('%s, %s' % (latitude, longitude))

class MainWindow(QtGui.QWidget):
    def __init__(self, parent=None):
        super(MainWindow, self).__init__(parent)
        self.view = QtWebKit.QWebView(self)
        self.view.setPage(WebPage(self))
        self.edit = QtGui.QLineEdit(self)
        layout = QtGui.QVBoxLayout(self)
        layout.addWidget(self.view)
        layout.addWidget(self.edit)
        self.map = self.view.page().mainFrame()
        self.map.loadFinished.connect(self.handleLoadFinished)
        self.view.setHtml(html)
        self._proxy = Proxy(self)

    def handleLoadFinished(self, ok):
        self.map.addToJavaScriptWindowObject('qt', self._proxy)

if __name__ == '__main__':

    app = QtGui.QApplication(sys.argv)
    window = MainWindow()
    window.setGeometry(500, 300, 800, 600)
    window.show()
    sys.exit(app.exec_())
"
28425,58319,Change axis of plotly polar plot,"angularaxis=dict(
    tickcolor='rgb(253,253,253)',
    range=[20,50]
    )
"
30689,33126,how to distribute python app with glade GUI?,"$ python setup.py install
"
31268,36133,Best / most pythonic way to get an ordered list of unique items,"sorted(set(itertools.chain.from_iterable(sequences)))
"
33124,46282,Python Boolean Values,">>> print(""True"" if 1 else ""False"")
True
>>> print(""True"" if 0 else ""False"")
False
>>> print(""True"" if 0.0 else ""False"")
False
>>> print(""True"" if 123.456 else ""False"")
True
>>> print(""True"" if ""hello"" else ""False"")
True
>>> print(""True"" if """" else ""False"")
False
>>> print(""True"" if [1,2,3] else ""False"")
True
>>> print(""True"" if [] else ""False"")
False
>>> print(""True"" if [[]] else ""False"")
True
"
15736,46063,GMM clustering algorithm with equal weight and shared diagonal covariance,"thegmm = GMM(cvtype='tied', params='mc')
thegmm.fit(mydata)
"
35356,66573,Number of distinct items between two consecutive uses of an item in realtime,"from random import randint
dist = {}
input = []
for x in xrange(1,10):
    input.append(randint(1,5))
keys = []
size = 0
for item in input:
    if item in dist:
        index = keys.index(item)
        del keys[index]
        keys.append(item)
        dist[item] = size-index-1
    else:
        keys.append(item)
        dist[item] = -1
        size += 1
print input
print dist
"
10790,43919,How to read a whole file in Python? To work universally in command line,"import sys
try:
    fileobj = open(sys.argv[1], 'r')
except IndexError:
    fileobj = sys.stdin

with fileobj:
    data = fileobj.read()
"
27811,5908,Relating two consecutive lines in a file,"dd = {}
referrer = None

for line in open('hosts.txt'):
    if line.startswith('Host'):
        host = line.split(': ')[1].strip('\n')
    elif line.startswith('Referer'):
        referrer = line.split(': ')[1].strip('\n')

    if referrer is not None:
        dd.setdefault(referrer, set()).add(host)
        referrer = None

for k, v in dd.iteritems():
    print k, len(v)
"
2229,2528,"Remove repeating tuples from a list, depending on the values in the tuples",">>> pathList = [
...     ((1, 2),    4),
...     ((1, 4, 2), 2),
...     ((1, 2),    6),
...     ((1, 2),    3),
...     ((1, 4, 2), 3)
... ]
>>> 
>>> d={}
>>> for i,j in pathList:
...   d.setdefault(i,set()).add(j)
... 
>>> [(i,max(j)) for i,j in d.items()]
[((1, 2), 6), ((1, 4, 2), 3)]
"
14735,83057,list of import statements in python,"module = __import__('module_name')
"
21906,65184,String to datetime django,">>> import dateutil.parser
>>> dateutil.parser.parse('2014-03-13T15:10:07Z')
datetime.datetime(2014, 3, 13, 15, 10, 7, tzinfo=tzutc())
"
26579,52954,How to transform the output of .values() function in django?,"user_dict = dict((d[0], [d[1], d[2]]) for d in 
                 user_data.values_list('id', 'name', 'reporting_time'))
"
34684,24862,Counting punctuation in text using Python and regex,"In [1]: from string import punctuation

In [2]: from collections import Counter

In [3]: counts = Counter(open('novel.txt').read())

In [4]: punctuation_counts = {k:v for k, v in counts.iteritems() if k in punctuation}
"
29537,65587,"python asterisk triangle without using y* ""*""","f = int(raw_input(""Enter height: ""))
s = ''
for i in xrange(f):
    for j in xrange(f-i-1):
        s += ' '
    for j in xrange(2*i+1):
        s += '*'
    s += '\n'
print s
"
10901,50329,how do I determine whether a python script is imported as module or run as script?,"
if __name__ == '__main__':
    # Running as a script
"
35693,62763,"BeautifulSoup replaceWith() method adding escaped html, want it unescaped","from django.utils.html import urlize
from bs4 import BeautifulSoup

def html_urlize(self, text):
    soup = BeautifulSoup(text, ""html.parser"")

    print(soup)

    textNodes = soup.findAll(text=True)
    for textNode in textNodes:
        if textNode.parent and getattr(textNode.parent, 'name') == 'a':
            continue  # skip already formatted links
        urlizedText = urlize(textNode)
        textNode.replaceWith(BeautifulSoup(urlizedText, ""html.parser""))

    print(soup)

    return str(soup)
"
35495,53576,Override signup view django-allauth,"class MySignupView(SignupView):

    def get_context_data(self, **kwargs):
        ret = super(MySignupView, self).get_context_data(**kwargs)
        ret['all_tags'] = Tags.get_tags()

        return ret
"
8729,50515,Remove labels created from same variable,"import Tkinter as tk
import random
import string

class App():

    def __init__(self):

        self.root = tk.Tk()
        self.dict={}
        button1 = tk.Button(self.root, text='print dict', command=self.print_dict)
        button1.pack()
        button2 = tk.Button(self.root, text='insert label', command=self.insert_label)
        button2.pack()
        self.var = tk.StringVar()
        entry = tk.Entry(self.root, textvariable=self.var)
        entry.pack()
        button3 = tk.Button(self.root, text='delete label', command=self.delete_label)
        button3.pack()
        self.root.mainloop()

    def insert_label(self):
        letter = random.choice(string.letters)
        # you could put something like
        # if not letter in self.dict.keys():
        # here to prevent making two of the same labels
        self.dict[letter] = tk.Label(self.root, text=letter)
        self.dict[letter].pack()

    def print_dict(self):
        print self.dict

    def delete_label(self):
        letter = self.var.get()
        try:
            self.dict[letter].pack_forget()
            del self.dict[letter]
            self.var.set('')
        except:
            self.var.set('Label unknown')

App()
"
33884,54375,Split xls file with Python,"from itertools import groupby
import xlrd
import xlwt

workbook = xlrd.open_workbook(r""e:\python temp\input.xls"")
sheet = workbook.sheet_by_index(0)
rows = [sheet.row_values(row, 0) for row in xrange(sheet.nrows)]

for k, g in groupby(rows, lambda x: x[0].startswith('Question')):
    if k:
        question = next(g)
    else:
        wb = xlwt.Workbook()
        ws = wb.add_sheet('Sheet 1')

        for colx, value in enumerate(question):
            ws.write(0, colx, value)

        for rowx, row in enumerate(g, start=1):
            for colx, value in enumerate(row):
                ws.write(rowx, colx, value)

        wb.save(question[0] + '.xls')
"
30436,1735,python: string as stdin to subcommand,"import subprocess
process = subprocess.Popen([""Mycommand"", ""with"", ""arguments""], stdin=subprocess.PIPE)
process.communicate(""My text"")
"
23036,18780,How can I turn 000000000001 into 1?,"int((""%o"" % 00000013),10)
"
9173,67012,"Mapping (key, value) (key, value) to (key, (value1, value2)) in Python","from collections import defaultdict

tuples = [('Tim', 'PageFoo'), ('Jen','PageBar'), ('Tim', 'PageBaz')]
result = defaultdict(list)
for key, value in tuples:
    result[key].append(value)
result
# Out[8]: defaultdict(<type 'list'>, {'Tim': ['PageFoo', 'PageBaz'], 'Jen': ['PageBar']})
dict(result)
# Out[9]: {'Jen': ['PageBar'], 'Tim': ['PageFoo', 'PageBaz']} 
result.items()
# Out[10]: [('Tim', ['PageFoo', 'PageBaz']), ('Jen', ['PageBar'])]
"
4096,6841,"In Python, how could I shell out and interact with an external program (say vi or nano) and return to python","import subprocess
subprocess.call([""vi""])
subprocess.call([""ssh"",""127.0.0.1""])
"
37784,6959,PYGAME initialize multiple objects at different times.,"class Enemy():
    def __init__(self, char, xMoveAmnt, startY=0, startX=0, delay=0):
         ...
         self.delay = delay

    def moveChar(self):
        if self.delay > 0:
             self.delay -= 1
             return
        self.x += self.xMoveAmnt
        if self.x + self.rect.right >= 800:
            self.x=self.startX
            self.y=random.randint(0,300)

enemyList = []
for i in range (0, 3):
    xMoveAmnt=20
    enemyList.append(Enemy((""orc.png""), xMoveAmnt, random.randint(0, 500), 0, random.randint(0,100)))
"
20427,6053,Checking arguments of a function in ipython,"In [1]: import matplotlib

In [2]: matplotlib.figure?
Type:        module
String form: <module 'matplotlib.figure' from '~/venv/lib/python2.7/site-packages/matplotlib/figure.pyc'>
File:        ~/venv/lib/python2.7/site-packages/matplotlib/figure.py
Docstring:
The figure module provides the top-level
:class:`~matplotlib.artist.Artist`, the :class:`Figure`, which
contains all the plot elements.  The following classes are defined

:class:`SubplotParams`
    control the default spacing of the subplots

:class:`Figure`
    top level container for all plot elements
"
3420,6890,Django Span Filter in View,"Discount.objects.filter(discount_store__store_city__city_name=""bursa"")
"
8672,80148,Python : check length of list and run method for each item or sublist after first element,"def process_list(mylist):
    return mylist[:1] + [my_method(item) for item in mylist[1:]]

mylist  = ['or', ['and','A','B','C'], 'B']
print(process_list(mylist))
"
24477,11974,Identify Webpage,"import urllib,re
siteContent  = urllib.urlopen(""http://site.com"").read()
GetBoldWords = re.findall(r""<b>[\w\d ]+"",siteContent)
print ""Bold Words are :""
print getBoldWords
"
10428,5157,Python: Compositions of functions of multiple arguments /without/ functools,"def accumulate(combiner, start, n, term):
    """"""Return the result of combining the first n terms in a sequence.""""""
    total = term(start)
    current = start
    while current < n:
        total = combiner(total, term(current))
        current += 1
    return total
"
33263,64285,find time difference in seconds as an integer with python,"import time
now = time.time()
...
later = time.time()
difference = int(later - now)
"
17166,36138,Flask throwing 'working outside of request context' when starting sub thread,"@app.route('/my_endpoint', methods=['POST'])
def my_endpoint_handler():
    #do tracking in sub-thread so we don't hold up the page
    def handle_sub_view(req):
        with app.test_request_context():
            from flask import request
            request = req
            # Do Expensive work
    thread.start_new_thread(handle_sub_view, (request))
    return ""Thanks""
"
9234,81943,how code a function similar to itertools.product in python 2.5,"def product(*args, **kwds):
    # product('ABCD', 'xy') --> Ax Ay Bx By Cx Cy Dx Dy
    # product(range(2), repeat=3) --> 000 001 010 011 100 101 110 111
    pools = map(tuple, args) * kwds.get('repeat', 1)
    result = [[]]
    for pool in pools:
        result = [x+[y] for x in result for y in pool]
    for prod in result:
        yield tuple(prod)
"
631,754,How do I change a variable periodically while keeping the rest of my programming running at normal speed?,"import signal, os

def handler(signum, frame):
    print('Signal handler called with signal', _)

# Set the alarm to fire every second
signal.signal(signal.SIGALRM, handler)
signal.alarm(1)

# ... Do stuff - the alarm will keep firing ...

# Done: clear alarm
signal.alarm(0)
"
28263,44472,Python default / optional Variables,"class ScoredList():
    def __init__(self, dct=None):
        self.dct = dct if dct is not None else {}
"
35859,69114,Splitting a python list into a list of overlapping chunks,">>> list_ = ['a','b','c','d','e','f','g','h']
>>> n = 3  # group size
>>> m = 1  # overlap size
>>> [list_[i:i+n-m+1] for i in xrange(0,len(list_), n-m)]
[['a', 'b', 'c'], ['c', 'd', 'e'], ['e', 'f', 'g'], ['g', 'h']]
"
33470,26839,Python - Store varying number of elements in a list?,">>> a, *b, c = range(5)
>>> a
0
>>> c
4
>>> b
[1, 2, 3]
"
11673,52710,Make a QMenu label bold without affecting its children,"QMenu m; //base menu
QMenu sub; //sub menu
sub.setTitle(""subMenu"");

QAction* a1 = new QAction(""act1"", &m);
QAction* a2 = new QAction(""act2"", &m);
QAction* a3 = new QAction(""act3"", &m);

// set a bold font for a sub menu item
QFont f = sub.menuAction()->font();
f.setBold(true);    
sub.menuAction()->setFont(f);

// add an action to the sub menu
sub.addAction(a3);

// add two actions and the sub menu to the base menu
m.addAction(a1);
m.addMenu(&sub);
m.addAction(a2);

// show the base menu
m.exec(QCursor::pos());
"
19597,34622,typeSel.get() not working,"from Tkinter import *

def add_item():

    def create_rec(item):

        def saveREC():
            print ""hola""#for test purpose
            print typeSel.get()

        label2=Label(add_win, text=""select item type:"").pack()

        #radio buttons creation
        typeSel = StringVar()
        R1 = Radiobutton(add_win, text=""meat"", variable=typeSel, value=""meat"")                  
        R1.pack( anchor = W)
        typeSel.set('meat')

        saveBttn=Button(add_win, text=""recognize this item in the future"", command=saveREC).pack()

    def saveEntry():
        item=entry.get()
        a=False
        typeVar=""hello""
        if a==True:
            print item, "" is saved to "", typeVar

        #if item isn't recognized then user can add item to recognition list        
        if a==False:
            create_rec(item)

    add_win=Tk()

    entry=Entry(add_win, width=30)
    entry.pack()
    entry.focus_set()

    saveBttn=Button(add_win, text=""add item"", width=25, command=saveEntry)
    saveBttn.pack()

    add_win.mainloop()

add_item()
"
14298,69890,Create model after group has been created django,"from django.db import models
from django.contrib.auth.models import Group
from django.db.models.signals import post_save


class YourModel(models.Model):
    name = models.CharField('name', max_length=50)
    group = models.ForeignKey(Group)
    # ...

    @classmethod
    def create_after_group(cls, sender, instance, created, **kwargs):
        if created:
            group_created = instance
            m = cls(name=""Some name"", group=group_created)
            m.save()


post_save.connect(YourModel.create_after_group, sender=Group)
"
9147,60519,Tensorflow image reading & display,"filename_queue = tf.train.string_input_producer(['/Users/HANEL/Desktop/tf.png']) #  list of files to read

reader = tf.WholeFileReader()
key, value = reader.read(filename_queue)

my_img = tf.image.decode_png(value) # use png or jpg decoder based on your files.

init_op = tf.initialize_all_variables()
with tf.Session() as sess:
  sess.run(init_op)

# Start populating the filename queue.

coord = tf.train.Coordinator()
threads = tf.train.start_queue_runners(coord=coord)

for i in range(1): #length of your filename list
  image = my_img.eval() #here is your image Tensor :) 

print(image.shape)
Image.show(Image.fromarray(np.asarray(image)))

coord.request_stop()
coord.join(threads)
"
9711,32785,Levenshtein Distance looping in Python,"match = None # best match word so far
dist = None # best match distance so far
for word in NWORDS: #iterate over all words in ref
    i = jf.levenshtein_distance(candidate, word) #compute distance for each word with user input
    if dist is None or i < dist: # or <= if lowest freq. first in NWORDS
        match, dist = word, i
return match #function returns word from ref list with lowest dist and highest frequency of occurrence
"
12680,39098,Python: search global classes in a single module file,"class A(object):
    KEYWORD = 'Class A'

class B(A):
    KEYWORD = 'Class B'

class C(object):
    pass

def list_class_keywords():
    for name, obj in globals().items():
        print name, hasattr(obj, 'KEYWORD')

if __name__ == '__main__':
    list_class_keywords()    
"
10942,71649,Python3.4: for each line in text,"number_of_lines_to_print = 2

with open(filename) as adele_text:
    for line in adele_text:
        if ""Hello, its me"" in line:
            # printing next ""number_of_lines_to_print"" lines
            for _ in range(number_of_lines_to_print):
                print(next(adele_text, ''))
            break  # remove if you want to continue searching the file
"
35996,46964,Mechanize - Submit form without click on submit button,"br.select_form(nr=0)
for control in br.form.controls:
    if control.type == ""submit"":
        control.disabled = True
resp=br.submit()
"
19183,22478,How to handle back and forward buttons in the hildon.Seekbar?,"seekbar.connect(""value-changed"", control_changed, label)
seekbar.connect(""notify::fraction"", fraction_changed, label)
"
28001,2879,Configure ElasticSearch to use ngram by default. - SQL LIKE %% behavior,"cluster:
        name: webapp
network:
        bind_host: 0.0.0.0
        publish_host: _eth0_
index:
        analysis:
                analyzer:
                        default_index:
                                type:           custom
                                tokenizer:      standard
                                filter:         [standard, lowercase, asciifolding, webapp_ngram]
                        default_search:
                                type:           custom
                                tokenizer:      standard
                                filter:         [standard, lowercase, asciifolding]
                filter:
                        webapp_ngram:
                                type:           nGram
                                min_gram:       1
                                max_gram:       30
"
30135,3760,Can the formatter class be used without relying on an intermediate stream/file?,">>> import StringIO
>>> fh = StringIO.StringIO()
>>> f.send_flowing_data(s)
>>> print(fh.getvalue())
When running behind a load balancer like nginx, it is recommended to
pass xheaders=True to the HTTPServer constructor. This will tell Tornado
to use headers like X-Real-IP to get the user's IP address instead of
attributing all traffic to the balancer's IP address.
>>> fh.close()
"
16327,51213,Compare Dictionary Values for each key in the same Dictionary in Python,"def get_repeated_values(sessions):
    known = set()
    already_repeated = set()
    for lst in sessions.itervalues():
        session_set = set(tuple(x) for x in lst)
        repeated = (known & session_set) - already_repeated
        already_repeated |= repeated
        known |= session_set
        for val in repeated:
            yield val

sessions = {1:[[100,0],[22,1],[23,2]],10:[[100,0],[232,0],[10,2],[11,2]],22:[[5,2],[23,2]]}
for x in get_repeated_values(sessions):
    print x
"
4256,63525,python split string on whitespace,"for line in lines:
    linedata = re.split(r'\t+', line)
    print "","".join(linedata)
"
13337,36618,How to get a flat XML so that external entities are merged to the top level,"xmllint --noent foobar.xml
"
39137,81228,How to remove duplicates from Python list and keep order?,"myList = sorted(set(myList))
"
30220,80155,Python for loop offset (Itertools.product),"In [29]: offSet = 10

In [30]: repeat = 4

In [31]: for i in xrange(offSet, 2**repeat):
    print tuple(int(x) for x in bin(i)[2:])
   ....:     
(1, 0, 1, 0)
(1, 0, 1, 1)
(1, 1, 0, 0)
(1, 1, 0, 1)
(1, 1, 1, 0)
(1, 1, 1, 1)
"
17739,14830,Find the type of an attribute in a class,"def populate_object_properties(values_as_strings, 
                               object_to_populate, 
                               properties_to_populate):
    model_properties = object_to_populate.properties()
    for k in properties_to_populate:        
        value = values_as_strings.get(k)
        model_property = model_properties.get(k)
        if value:
            if isinstance(model_property, StringProperty):
                setattr(object_to_populate, k, str(value))
            elif isinstance(model_property, IntegerProperty):
                setattr(object_to_populate, k, int(value))
        else:
            setattr(object_to_populate, k, None)
"
20256,77756,how to implement assembler program,"trans = {'lw': '100011',
    'sw': '101011',
    'jal': '000011',
    'beq': '000100',
    'andi': '001100',
    'ori': '001101',
    'addi': '00100'}

with open ('output.txt', 'w') as f:
    try: f.write (trans [inst] )
    except KeyError: print ('Operation not supported')
"
17516,34431,Numpy read big-endian data: data type format,"$ hexdump -C file
00000000  fe dc ba 98 76 54 32 10
"
3665,61958,Copy data in three Excel cells and paste into fourth with font color changed for each of the three,"import win32com.client as win32
excel = win32.gencache.EnsureDispatch('Excel.Application')
wb = excel.Workbooks.Open(r'Book1.xlsx')
ws = wb.Worksheets(""Sheet1"")

cells = ws.Range(""A1:C1"").Value[0]
ws.Range(""D1"").Value = ' '.join(cells)

offset = 0
for cell, color in zip(cells, [3, 4, 5]):
    ws.Range(""D1"").GetCharacters(offset, len(cell)+1).Font.ColorIndex = color
    offset += len(cell) + 1

wb.SaveAs(r'Output.xlsx')
excel.Application.Quit()
"
15731,56716,Calculating gradient with NumPy,"from numpy import *

x,y,z = mgrid[-100:101:25., -100:101:25., -100:101:25.]

V = 2*x**2 + 3*y**2 - 4*z # just a random function for the potential

Ex,Ey,Ez = gradient(V)
"
17091,79584,traits ui (enthought) and callback from C,"def minimize(self):
    x0 = np.random.rand(50)
    #fmin_tnc(self.func, x0, fprime=self.fprime, messages=0, callback = self.callback) 
    import thread
    thread.start_new_thread(fmin_tnc, (self.func, x0), {'fprime':self.fprime, 'messages':0, 'callback':self.callback})
"
36936,47962,How to make this process work faster?,"with open('file.csv') as csvfile:
    reader = csv.DictReader(csvfile)
    for row in reader:        
        time.append(row['Time'])
        energy.append(row['Energy'])
        ondeIG.append(row['OndeIG'])
        envelope.append(row['envelope'])
"
7854,63849,Python - Create html page with hyperlinks from os.listdir,"videoDirectory = os.listdir(""videos"")
f = open(""videos.html"", ""w"")
f.write('<html><head></head><body><ul>'    
f.writelines(['<li><a href=""videos/%s"">%s</a></li>' % (f, f) for f in videoDirectory])
f.write('</ul></body></html>')
"
25173,67808,how to find possible numbers which can fit a row and column of sudoku board on python?,"board = [['4', '.', '7', '.', '.', '8', '9', '6', '2'],
         ['.', '.', '1', '.', '2', '.', '.', '.', '.'],
         ['5', '.', '.', '7', '.', '.', '.', '.', '.'],
         ['7', '5', '.', '.', '.', '.', '.', '.', '4'],
         ['.', '.', '.', '.', '4', '.', '.', '.', '.'],
         ['6', '.', '.', '.', '.', '.', '.', '9', '8'],
         ['.', '.', '.', '.', '.', '1', '.', '.', '6'],
         ['.', '.', '.', '.', '5', '.', '8', '.', '.'],
         ['1', '2', '9', '4', '.', '.', '3', '.', '5']
         ]

def get_possible_numbers(board,row,col):
    possible_numbers = [1, 2, 3, 4, 5, 6, 7 , 8, 9]
    if board[row][col] != ""."":
        return [board[row][col]]
    else:
        for i in range(9):
            if board[row][i]!=""."":
                if int(board[row][i]) in possible_numbers:
                    possible_numbers.remove(int(board[row][i]))
            if board[i][col]!=""."":
                if int(board[i][col]) in possible_numbers:
                    possible_numbers.remove(int(board[i][col]))
        return possible_numbers

print (get_possible_numbers(board, 3, 3))
"
22267,24582,How can I split lines based on characters in python?,">>> s = 'James Michael Kent 10210-41011 2016.02.03. 3235332'
>>> s.rsplit(' ', 3)
['James Michael Kent', '10210-41011', '2016.02.03.', '3235332']

>>> s = 'Chris Taylor 10001-31021 2015.12.30. 524432'
>>> s.rsplit(' ', 3)
['Chris Taylor', '10001-31021', '2015.12.30.', '524432']
"
28900,70404,Interpolation without specifying indices in Python,"import numpy as np
x = [0,1,2]
y = [2,3,4]
np.interp(0.56, x, y)
Out[81]: 2.56
"
28910,24644,Python str() double quoted string,">>> json.dumps(['foo', '''bar'''])
'[""foo"", ""bar""]'
"
10709,27602,Change x axes scale in matplotlib,"import matplotlib.pyplot as plt
...
plt.ticklabel_format(style='sci', axis='x', scilimits=(0,0))
"
27203,3976,Python/Numpy: How do you assign the end+1 element of an array similar to how it's done in Matlab?,"# Python list
a = [1, 2, 3]
a.append(1)
# => [1, 2, 3, 1]

# Numpy array
import numpy as np
a = np.array([1, 2, 3])
a = np.append(a, 1)
# => [1, 2, 3, 1]
"
17310,77411,Variable as loop's expression,"somevar = 3
expression = lambda: somevar < 5
while expression():
    ...
    if continue_if_even:
        expression = lambda: (somevar % 2) == 0
    ...
"
31500,8864,How to populate inherited MPTT fields while creating a Django fixture?,"$ ./manage.py dumpdata cms.Page --natural --indent=4
[
    {
        ""pk"": 46,
        ""model"": ""cms.page"",
        ""fields"": {
            ""rght"": 43,
            ""navigation_extenders"": """",
            ""site"": 1,
            ""creation_date"": ""2014-05-31T12:07:12Z"",
            ""lft"": 42,
            ""in_navigation"": false,
            ""reverse_id"": null,
            ""login_required"": false,
            ""created_by"": ""hedde"",
            ""publication_end_date"": null,
            ""template"": ""cms/page.html"",
            ""tree_id"": 2,
            ""placeholders"": [
                159,
                160
            ],
            ""changed_date"": ""2014-06-25T09:33:50Z"",
            ""limit_visibility_in_menu"": null,
            ""parent"": 2,
            ""publisher_state"": 0,
            ""soft_root"": false,
            ""publication_date"": ""2014-05-31T12:07:07Z"",
            ""publisher_public"": 45,
            ""level"": 1,
            ""changed_by"": ""hedde"",
            ""publisher_is_draft"": false,
            ""published"": true
        }
    }
]
"
20741,39880,How to plot 2 subplots from different functions in the same window(figure)?,"def fun1(ax):
    ax.plot(range(5))

def fun2(ax):
    ax.plot(range(5)[::-1])


fig, ax = plt.subplots(1, 1)

fun1(ax)
fun2(ax)

plt.draw()
"
21754,82697,"How to declare an optional argument (mode) in the function(non_optional, mode=""bla bla"") in Python?","In [1]: from functools import partial

In [2]: def f(a, b=""b""):
   ...:     print(a, b)
   ...:     

In [3]: g = partial(f, b=""c"")

In [4]: g(""a"")
a c
"
18998,42782,wx python windows can't hide my MenuBar,"#!/usr/bin/python
# -*- coding: utf-8 -*-


import wx

class Example(wx.Frame):

    def __init__(self, *args, **kw):
        super(Example, self).__init__(*args, **kw) 

        self.InitUI()

    def InitUI(self):

        pnl = wx.Panel(self)
        pnl.Bind(wx.EVT_KEY_DOWN, self.OnKeyDown)
        pnl.SetFocus()

        self.SetSize((250, 180))
        self.SetTitle('Key event')
        self.Centre()
        self.Show(True)  

    def OnKeyDown(self, e):

        key = e.GetKeyCode()

        if key == wx.WXK_ESCAPE:

            ret  = wx.MessageBox('Are you sure to quit?', 'Question', 
                wx.YES_NO | wx.NO_DEFAULT, self)

            if ret == wx.YES:
                self.Close()               

def main():

    ex = wx.App()
    Example(None)
    ex.MainLoop()    
"
5009,55473,how to use a terminal embedded in a PyQt GUI,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

import sys
from PyQt4.QtCore import *
from PyQt4.QtGui import *

class embeddedTerminal(QWidget):

    def __init__(self):
        QWidget.__init__(self)
        self._processes = []
        self.resize(800, 600)
        self.terminal = QWidget(self)
        layout = QVBoxLayout(self)
        layout.addWidget(self.terminal)
        self._start_process(
            'xterm',
            ['-into', str(self.terminal.winId()),
             '-e', 'tmux', 'new', '-s', 'my_session']
        )
        button = QPushButton('List files')
        layout.addWidget(button)
        button.clicked.connect(self._list_files)

    def _start_process(self, prog, args):
        child = QProcess()
        self._processes.append(child)
        child.start(prog, args)

    def _list_files(self):
        self._start_process(
            'tmux', ['send-keys', '-t', 'my_session:0', 'ls', 'Enter'])

if __name__ == ""__main__"":
    app = QApplication(sys.argv)
    main = embeddedTerminal()
    main.show()
    sys.exit(app.exec_())
"
4315,68736,Calculate an incremental mean using python pandas,"In [11]: s = pd.Series([4, 5, 6, 7, 4, 5, 6, 7])

In [12]: pd.expanding_mean(s, 4)
Out[12]: 
0         NaN
1         NaN
2         NaN
3    5.500000
4    5.200000
5    5.166667
6    5.285714
7    5.500000
dtype: float64
"
36390,36573,How to return the count of the same elements in two lists?,">>> x = [['I like stackoverflow. Hi ok!'],['this is a great community'],['Ok, I didn\'t like this!.'],['how to match and return the frequency?']]
>>> y = ['hi', 'nice', 'ok', 'frequency']
>>> l = []
>>> for i,j in enumerate(x):
        c = 0
        for x in y:
            if re.search(r'(?i)\b'+x+r'\b', j[0]):
                c += 1
        l.append((i+1,c))


>>> l
[(1, 2), (2, 0), (3, 1), (4, 1)]
"
34573,76372,Parse String to Float or Int,">>> a = ""545.2222""
>>> float(a)
545.22220000000004
>>> int(float(a))
545
"
28219,56218,Error message for virtualenvwrapper on OS X Lion,"export VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python
export VIRTUALENVWRAPPER_VIRTUALENV=/usr/local/bin/virtualenv
source /usr/local/bin/virtualenvwrapper.sh
"
5741,11739,How to execute a method automatically after entering Qt event loop?,"class MyThread(QtCore.QThread):
    def run(self):
    ''' reinplemented from parent '''
        # make thread sleep to make sure
        # QApplication is running before doing something
        self.sleep(2)
        do_something()

class MyWidget(QtGui.QWidget):
    def __init__(self, parent=None):
        QtGui.QWidget.__init__(self, parent)
        self.attr = 'foo'
        self.thread = MyThread(self)
        self.thread.start()

def main():
    app = QtGui.QApplication(sys.argv)
    w = MyWidget()
    w.show()
    sys.exit(app.exec_())
"
32193,51667,Summarize grouped data in Pandas while filtering after the group part,"def conditional_sum(grp):
    grp['non_bar_total'] = grp[grp.datatype != 'bar']['datacount'].sum()
    return grp

df.groupby(['system', 'sub_system']).apply(conditional_sum)

system  sub_system  datatype    datacount   non_bar_total
0    a   1   foo     111     444
1    a   1   bar     222     444
2    a   1   baz     333     444
3    a   2   foo     444     999
4    a   2   baz     555     999
5    b   1   foo     667     667
6    b   3   baz     777     777
"
12437,66633,How do I pass *args to my timeit.Timer object?,"import timeit

def timefunc(function, *args):
    def wrap():
        function(*args)
    t = timeit.Timer(wrap)
    return t.timeit(100)

def test(arg):
    foo = arg

print(timefunc(test, 'bar'))
"
48,36159,Python Csvwriter Randomize Rows,"import random

count = 0
a = []
for i in range(45):
    count = count + 1
    a.append([count,pattern])

random.shuffle(a)
for i in range(len(a)):
    writer.writerow(a[i][0], a[i][1]) #a[i][0] = count, a[i][1] = pattern
"
23783,24235,Unknown number of iterations to complete the sort,"ar = [2, 4, 6, 8 ,1]
mins = ar[-1]
for i in range(len(ar)-1, 0, -1):
    if ar[i-1] > mins: 
        ar[i] = ar[i-1]
    else: 
        ar[i] = mins
        break
    print(ar)
if mins < ar[0]: ar[0] = mins
print(ar)
"
11492,64682,Need help to make a simple Celsius converter,"#!/usr/bin/env python3
import tkinter
import tkinter.simpledialog

root = tkinter.Tk()
root.withdraw()


celsius = tkinter.simpledialog.askfloat(
  'Celsius converter',
  'Enter degree Celsius: '
)
fahrenheit = (celsius * 1.8) + 32
tkinter.messagebox.showinfo(
  'Celsius converter',
  '%0.1f degree Celsius is equal to %0.1f degree Fahrenheit' % (celsius, fahrenheit)
)
"
25193,57487,(Flask) Faking request.environ['REMOTE_USER'] for testing,"    def test_insert_cash_flow_through_post(self):
    """"""Test that you can insert a cash flow through post.""""""
    assert not CashFlow.query.first()
    self.client.post(""/index?account=main"",
                     environ_base={'REMOTE_USER': 'foo'},
                     data=dict(settlement_date='01/01/2016',
                               transaction_type='Other',
                               certainty='Certain',
                               transaction_amount=1))
    assert CashFlow.query.first().user == 'foo'
"
28840,46818,Python Weird Return Issue,"def inorder(p, q):
  if p and q:
    if not inorder(p.left, q.left):
      return False
    if p.val != q.val:
      return False
    return inorder(p.right, q.right)
  return not p and not q
"
5939,36246,How to combine 2 scripts together?,"import time
import glob
import os
import hashlib

def md5(filename):
    with open(filename, 'rb') as inputfile:
        data = inputfile.read()
        print filename, hashlib.md5(data).hexdigest()

path_to_watch = "".""
before = os.listdir(path_to_watch)
while 1:
    time.sleep(3)
    after = os.listdir(path_to_watch)
    added = [f for f in after if not f in before]
    removed = [f for f in before if not f in after]
    if added:
        print ""Added: "", "", "".join(added)
        for filename in added:
            md5(filename)
    if removed: 
        print ""Removed: "", "", "".join(removed)
    before = after
"
28243,72777,passing elements returned by an API to a Pandas DF,"all_tracks = pd.DataFrame(
    [(t.title, t.genre, t.tag_list, t.created_at, t.last_modified, 
      t.permalink_url, t.playback_count, t.duration) 
     for t in tracks], 
    columns=['title', 'genre', 'tag_list', 'created_at', 'last_modified',
             'permalink_url', 'playback_count', 'duration'])
"
16727,63950,Embed icon in python script,"import base64
import os
from Tkinter import *
##The Base64 icon version as a string
icon = \
"""""" REPLACE THIS WITH YOUR BASE64 VERSION OF THE ICON
""""""
icondata= base64.b64decode(icon)
## The temp file is icon.ico
tempFile= ""icon.ico""
iconfile= open(tempFile,""wb"")
## Extract the icon
iconfile.write(icondata)
iconfile.close()
root = Tk()
root.wm_iconbitmap(tempFile)
## Delete the tempfile
os.remove(tempFile)
"
24147,25313,"Using callable(x) vs. hasattr(x, ""__call__"")",">>> class X(object):
...     def __getattr__(self, name):
...         return name
...
>>> i = X()
>>> from collections import Callable
>>> isinstance(i, Callable)
False
>>> callable(i)
False
>>> hasattr(i, '__call__')
True
>>> i()
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
TypeError: 'X' object is not callable
"
11624,13681,Updating web2py auth_user custom fields programmatically,"db(db.auth_user.id == auth.user_id).update(score=float(balance) - float(cost))
"
16131,92,Django: correct way to group a bunch of media's,"media = reduce(lambda x, y: x + y, [form.media for form in forms])
"
15051,32159,patching all methods in a subclass in Python,"class TestMeta(type(TestCase)):
    def patch_method(cls, meth):
        raise NotImplementedError

    def __new__(mcls, name, bases, dct):
        to_patch = []

        for methname, meth in dct.items():
            if methname.startswith('test') and callable(meth):
                to_patch.append(methname)

        cls = super().__new__(mcls, name, bases, dct)

        for methname in to_patch:
            meth = getattr(cls, methname)
            meth = cls.patch_method(meth)
            setattr(cls, methname, meth)

        return cls

class PatchedTestCase(TestCase, metaclass=TestMeta):
    @classmethod
    def patch_method(cls, meth):
        meth = patch('spotlight.middleware.extract_host_name', 
                     new=lambda host_name: TEST_DOMAIN)(meth)

        meth = patch('spotlight.middleware.extract_host_key', 
                     new=lambda host_key: company_name_to_db(TEST_DOMAIN))(meth)

        return meth

class MyTestCase(PatchedTestCase, TestFreshProvisionedEachTest):
    ...
"
26257,63601,"Btest function in fortran, is there any equivalent in python?","def btest(i, pos):
    return i & (1 << pos)
"
30724,15848,How to limit choices of ForeignKey choices for Django raw_id_field,"from django.contrib import admin
from django.contrib.admin import widgets
from django.contrib.admin.sites import site
from django import forms

class BlogRawIdWidget(widgets.ForeignKeyRawIdWidget):
    def url_parameters(self):
        res = super().url_parameters()
        res['type__exact'] = 'PROJ'
        return res

class ProjectAdminForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.fields['blog'].queryset = Blog.objects.filter(type='PROJ')
        self.fields['blog'].widget = BlogRawIdWidget(rel=Project._meta.get_field('blog').rel, admin_site=site)

    class Meta:
        # Django 1.8 convenience:
        fields = '__all__'
        model = Project

class ProjectAdmin(admin.ModelAdmin):
    form = ProjectAdminForm
    raw_id_fields = ('blog',)
"
22043,2286,How can I set different opacity of edgecolor and facecolor of a patch in Matplotlib,"import matplotlib.pyplot as plt
from matplotlib.patches import Polygon

fig = plt.figure()
ax = fig.add_subplot(111, aspect='equal')

triangle1 = Polygon(((0.05,0.1), (0.396,0.1), (0.223, 0.38)),
                    fc=(1,0,0,0.5), ec=(0,0,0,1), lw=2)
triangle2 = Polygon(((0.2,0.2), (0.5,0.4), (0.3, 0.6)),
                    fc=(1,0,0,0.5), ec=(0,0,0,1), lw=2)

ax.add_artist(triangle1)
ax.add_artist(triangle2)

plt.show()
"
14843,54613,associate a colorbar with a matrix graph,"# inital settings
size = 50 # size of the maxtrix = size*size
n = 20 # number of points in the matrix
vmin=0 # min value for the colorcoding
vmax=3 # max value for the colorcoding

#generate the data and colormap
data = np.vstack((np.random.randint(0,size,n),np.random.randint(0,size,n))).T
param = np.random.randint(vmin,vmax+1,n)
# 0-red, 1-blue, 2-green and 3-yellow
cmap = mpl.colors.ListedColormap([[1,0,0], [0,0,1], [0,1,0], [1,1,0]])

# create the n*x matrix and x/y 'colorbars'
mtrx = np.zeros((size,size))-1
xcolors = np.zeros(size)-1
ycolors = np.zeros(size)-1

# map the data to the n*n matrix and x/y 'colorbars'
for n, item in enumerate(data):
    x, y = item

    xcolors[x] = param[n]
    ycolors[y] = param[n]
    mtrx[x,y] = 1 # relace 1 with param [n] to color the matrix points as well

# mask all 'empty' matrix entries
mtrx = np.ma.masked_values(mtrx,-1)
xcolors = np.ma.masked_values(xcolors.reshape((xcolors.size,1)),-1)
ycolors = np.ma.masked_values(ycolors.reshape((1,xcolors.size)),-1)

fig = plt.figure(figsize=(6,6))
ax = fig.add_axes([0.1, 0.1, 0.8, 0.8])
x_ax = fig.add_axes([0.05, 0.1, 0.05, 0.8])
y_ax = fig.add_axes([0.1, 0.05, 0.8, 0.05])

ax.imshow(mtrx, cmap=plt.cm.Greys_r, interpolation='none')
ax.set_title('My matrix')

x_ax.imshow(xcolors, cmap=cmap, interpolation='none',vmin=vmin, vmax=vmax)
y_ax.imshow(ycolors, cmap=cmap, interpolation='none',vmin=vmin, vmax=vmax)

for tmpax in [ax, y_ax, x_ax]:
    tmpax.set_yticks([])
    tmpax.set_xticks([])
    tmpax.set_yticklabels([])
    tmpax.set_xticklabels([])

ax.set_xticks(np.arange(-0.5,size + .5,1))
ax.set_yticks(np.arange(-0.5,size + .5,1))
ax.grid(True, color='w', linestyle='-')

plt.setp(y_ax, frame_on=False)
plt.setp(x_ax, frame_on=False)
"
24892,5951,lxml - get a flat list of elements,"from lxml import etree

xml = etree.XML('''<html><body>
                   <p>hi there</p><p>2nd paragraph</p>
                   </body></html>''')

# If you want to visit all of the descendants
for element in xml.iter():
    print element.tag

# Or, if you want to have a list of all the descendents
all_elements = list(xml.iter())
print [element.tag for element in all_elements]
"
5504,52835,Replace function arguments name by local variables in Python,"args = {'days':1}
datetime.timedelta(**args)
"
30238,81287,"On keystroke insert line of code in (mac)vim, for pdb","map <Leader>p :call InsertLine()<CR>

function! InsertLine()
  let trace = expand(""import pdb; pdb.set_trace()"")
  execute ""normal o"".trace
endfunction
"
10046,23083,Making a copy pasting script with autopy,"for z,b in zip(a,c):
    mouse.smooth_move(903, z)
    mouse.click()
    mouse.click(3)
    mouse.smooth_move(927, b)
    mouse.click()
"
25440,43455,Pythonic way to implement three similar integer range operators?,"def comparator(lop, rop):
    def comp(i, j, k):
        if j <= k:
            return lop(j, i) and rop(i,k)
        return lop(j, i) or rop(i,k)

    return comp

from operator import le, lt

inRange = comparator(le, lt)
inStrictRange = comparator(lt, lt)
inRange2 = comparator(lt, le)
"
27342,48955,regroup in django-template mongo values,"values = data.find().sort(""ownName"",1)
"
13800,30433,Skipping over array elements of certain types,"for i in list:
    try:
        myVal.append(float(i))
    except:
        pass
"
31082,66531,Python findall in a string,"  import re
  string = ""test [*string*] test [*st[ *ring*] test""

  points = [m.start() for m in re.finditer('\[', string)]
"
37465,33930,Grouping items by time-series bins in Python,"# data: a lists of lists (length 2) of measurements
# res: resulting list of lists
# delta: time delta

# output list (will be a list of lists, as in the question

res = []
# end of first bin:
binstart = data[0][0]
res.append([binstart, []])

# iterate through the data item
for d in data:
    # if the data item belongs to this bin, append it into the bin
    if d[0] < binstart + delta:
        res[-1][1].append(d[1])
        continue

    # otherwise, create new empty bins until this data fits into a bin
    binstart += delta
    while d[0] > binstart + delta:
        res.append([binstart, [])
        binstart += delta

    # create a bin with the data
    res.append([binstart, [d[1]]])
"
9081,26555,How to unzip file in Python on all OSes?,"import zipfile,os.path
def unzip(source_filename, dest_dir):
    with zipfile.ZipFile(source_filename) as zf:
        for member in zf.infolist():
            # Path traversal defense copied from
            # http://hg.python.org/cpython/file/tip/Lib/http/server.py#l789
            words = member.filename.split('/')
            path = dest_dir
            for word in words[:-1]:
                drive, word = os.path.splitdrive(word)
                head, word = os.path.split(word)
                if word in (os.curdir, os.pardir, ''): continue
                path = os.path.join(path, word)
            zf.extract(member, path)
"
14546,73974,Find a string using BeautifulSoup in Python,"In [1]: s = 'generic/html/path/generic/generic/generic'

In [2]: s.split('html/')[1].split('/')[0]
Out[2]: 'path'
"
20738,71789,Set maximum length of data in ttk.entry and limit to integer only,"import Tkinter as tk
import ttk

class ConstrainedEntry(ttk.Entry):
    def __init__(self, *args, **kwargs):
        ttk.Entry.__init__(self, *args, **kwargs)

        vcmd = (self.register(self.on_validate),""%P"")
        self.configure(validate=""key"", validatecommand=vcmd)

    def disallow(self):
        self.bell()

    def on_validate(self, new_value):
        try:
            if new_value.strip() == """": return True
            value = int(new_value)
            if value < 0 or value > 999:
                self.disallow()
                return False
        except ValueError:
            self.disallow()
            return False

        return True

class Example(tk.Frame):
    def __init__(self, *args, **kwargs):
        tk.Frame.__init__(self, *args, **kwargs)
        l = ttk.Label(self, text=""Enter a number between 0 and 999:"", anchor=""w"")
        e = ConstrainedEntry(self, width=4)
        l.pack(side=""top"")
        e.pack(side=""top"")

root = tk.Tk()
Example(root).pack(side=""top"", fill=""both"", expand=True)
root.mainloop()
"
37,84019,Customizing immutable types in Python,"class pair(frozenset):
    def __new__(cls, a, b):
        return super().__new__(cls, {a, b})
    def __repr__(self):
        a, b = sorted(self)
        return ""{} & {}"".format(a, b)
"
20751,30013,Forkable iterator - is there any implementations of it in Python?,"#!/usr/bin/env python
# coding=utf-8
from collections import Iterator, deque
import threading


class ForkableIterator(Iterator):
    def __init__(self, iterator, buffer=None, *args, **kwargs):
        self.iterator = iter(iterator)
        if buffer is None:
            self.buffer = deque()
        else:
            self.buffer = buffer

        args = iter(args)

        self.refs = kwargs.get('refs', next(args, {}))
        self.refs.setdefault('base', 0)
        self.pointer = kwargs.get('pointer', next(args, 0))
        self.lock = kwargs.get('lock', next(args, threading.Lock()))

    @property
    def pointer(self):
        return self.refs[self] + self.refs['base']

    @pointer.setter
    def pointer(self, value):
        self.refs[self] = value

    def __del__(self):
        del self.refs[self]

    def __iter__(self):
        return self

    def next(self):
        with self.lock:
            if len(self.buffer) - self.pointer == 0:
                elem = next(self.iterator)
                self.buffer.append(elem)
            else:
                if self.pointer == min(self.refs.itervalues()):
                    elem = self.buffer.popleft()
                    self.refs['base'] -= 1
                else:
                    elem = self.buffer[self.pointer]

            self.pointer += 1

            return elem

    def fork(self):
        return self.__class__(self.iterator, self.buffer,
                              refs=self.refs, pointer=self.pointer,
                              lock=self.lock)
"
11497,24939,"make person enter something before executing command(Tkinter,Python,Selenium)","def submit(self):

    if self.name.get() == """":
        messagebox.showerror(title=""No name"",message=""No name"")
        return

    driver = webdriver.Firefox()
    driver.get(""http://stackoverflow.com/"")
"
1884,36023,"In matplotlib, what is the difference betweent set_xlim and set_xbound?","import pylab as p

t = p.arange(0.0, 2.0, 0.01)
s = p.sin(2*p.pi*t)

ax=p.subplot(111)
ax.plot(t, s, color='r',linewidth=1.0)
ax.set_ylim(-1,1)
ax.plot(t, s+1, color='g',linewidth=1.0, label=""Graph2"")
p.show()


ax=p.subplot(111)
ax.plot(t, s, color='r',linewidth=1.0)
ax.set_ybound(-1,1)
ax.plot(t, s+1, color='g',linewidth=1.0, label=""Graph2"")
p.show()
"
10345,50433,Convert nested loops and conditions to a list comprehension,"clamp_sel = [int(clamp_normalized[i][j][0])
    for i in range(0, len(clamp_normalized))
    for j in range(0, len(clamp_normalized[i]))
    if clamp_normalized[i][j][0] < int(max_min_band[index_selec])]
"
9183,48092,Importing python boost module,"# setup.py
from distutils.core import setup
from distutils.extension import Extension
setup(name=""getting_started1"",
    ext_modules=[
        Extension(""getting_started1"", [""getting_started1.cpp""],
        include_dirs=['boost_1_48_0'],
        libraries = ['boost_python-vc90-mt-1_48'],
        extra_compile_args=['/EHsc', '/FD', '/DBOOST_ALL_DYN_LINK=1']
        )
    ])
"
38507,17788,Managing an event loop in a thread,"class EventSystem(object):

    def __init__(self):
        self.queue = Queue.Queue()
    self.parent_thread = threading.current_thread()          # <-- Added
    self.thread = threading.Thread(target=self_process_loop)
    self.thread.start()

def _process_loop(self):
    while self.parent_thread.is_alive():                    # <-- Changed
        try:
            event = self.queue.get(timeout=1)               # <-- Timeout added
        except Queue.Empty:
            continue
        else:
            self._handle_event(event)

def _handle_event(self, event):
    ...
"
4239,6331,Get list of values from a nested Python data-structure using a list comprehension?,">>> from collections import namedtuple
>>>
>>> class P(namedtuple('_P', 'val back')):
...     def __iter__(self):
...         while self:
...             yield self.val, self.back
...             self = self.back
...
>>> q = P(val=15, back=P(val=11, back=P(val=9, back=P(val=6, back=P(val=2, back=P(val=0, back=None))))))
>>> [val for val, back in q]
[15, 11, 9, 6, 2, 0]
"
5090,63818,Python: How to estimate / calculate memory footprint of data structures?,">>> from guppy import hpy
>>> hp = hpy()
>>> hp.setrelheap() # ignore all existing objects
>>> d = {}
>>> d['key'] = [ (1131, 3.11e18), (9813, 2.48e19), (4991, 9.11e18) ]
>>> hp.heap()
 Partition of a set of 24 objects. Total size = 1464 bytes.
 Index  Count   %     Size   % Cumulative  % Kind (class / dict of class)
     0      2   8      676  46       676  46 types.FrameType
     1      6  25      220  15       896  61 str
     2      6  25      184  13      1080  74 tuple
 ...
"
21098,5838,Reformat Excel layout to suit JSON,"=IF(NOT(ISBLANK(A5)),C6&"", ""&C7&"", ""&C8&"", ""&C9)  
"
9606,63602,Python update dictionary based on key value pair,"import itertools
main = [
{'country': u'CYPRUS', 'naziv': 'AKEL', 'FCI': 2}, 
{'country': u'CYPRUS', 'naziv': 'DIKO', 'FCI': 4}, 
]
second = [
{'likes': '8625.00', 'talks': '1215.00', 'naziv': 'AKEL'}, 
{'likes': '2746.00', 'talks': 0, 'naziv': 'DIKO'}, 
]


lst = sorted(itertools.chain(main,second), key=lambda x:x['naziv'])
list_c = []
for k,v in itertools.groupby(lst, key=lambda x:x['naziv']):
    d = {}
    for dct in v:
        d.update(dct)
    list_c.append(d)
print list_c
"
2365,74801,How can I specify a database for Django Tests to use instead of having it build it everytime?,"try:
    # Create the database the first time.
    connection.creation.create_test_db(verbosity, autoclobber=not interactive) 
except ..: # Look at the error that this will raise when create a database that already exist
    # Test database already created.
    pass 
"
24201,31333,How to retrieve type blob from mysql database in Qtable python?,"img = QImage.fromData(<your_blob>, <length_of_the_blob>, <image_format>)
"
13243,59775,Python tic tac toe detecting cheating,"def same(iterable):
    it = iter(iterable)
    start_val = it.__next__()
    for val in it:
        if val != start_val:
            return
    if start_val != 0:
        return start_val

nr = [0] * 9

nr[1] = 1
nr[2] = 2
nr[4] = 2
nr[6] = 2
nr[7] = 1
nr[8] = 1

for i in range(0, len(nr), 3):
    print(nr[i:i+3])

winner = (
    same(nr[0:3]) or same(nr[3:6]) or same(nr[6:9]) or
    same(nr[0::3]) or same(nr[1::3]) or same(nr[2::3]) or
    same(nr[::4]) or same(nr[2:-1:2])
)

if winner is not None:
    print(""Player %i won!"" % winner)
"
1811,50265,Read values from txt with rows of different sizes into a single numpy array,">>> np.fromstring(''.join(open('yourfile.txt', 'r').read().splitlines()),sep="" "")


array([  1.,   2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,  11.,
        22.,  13.,  14.,  15.,  16.,  17.,  18.,  19.,  20.,  21.,  22.,
        23.,  24.])
"
38014,46075,Set wx.Slider Limit,"self.slider = wx.Slider(panel, value = 0, minValue = 5, maxValue = 15, pos=(10,10), size=(381,-1), style= wx.SL_AUTOTICKS | wx.SL_HORIZONTAL | wx.SL_LABELS)
    self.Bind(wx.EVT_SLIDER, self.get_mark, self.slider)

def get_mark(self, event):
    if self.slider.GetValue() >= 8:
        self.slider.SetValue(8)
"
13112,6294,Print to standard printer from Python?,"import subprocess
lpr =  subprocess.Popen(""/usr/bin/lpr"", stdin=subprocess.PIPE)
lpr.stdin.write(your_data_here)
"
16701,74209,Deleting all occurances of '/' after its 2nd occurance in python,">>> import re
>>> re.split(r'\b/\b', 'https://example.com/about/hello/')
['https://example.com', 'about', 'hello']
"
8166,33642,how to clear/drop table and the recreate it and populate in django,"python manage.py sqlclear my_app | python manage.py dbshell
"
11944,76428,"mpld3 plot, annotations issues","import numpy as np
import matplotlib.pyplot as plt

np.random.seed(12345) # set seed for reproducibility

N = 10
data = np.random.random((N, 4))
labels = ['point{0}'.format(i) for i in range(N)]
plt.subplots_adjust(bottom = 0.1)
plt.scatter(
    data[:, 0], data[:, 1], marker = 'o', c = data[:, 2], s = data[:, 3]*1500,
    cmap = plt.get_cmap('Spectral'))
for label, x, y in zip(labels, data[:, 0], data[:, 1]):
    plt.text(x-.05, y+.05,
        label,
        ha = 'right', va = 'bottom')
    plt.plot([x-.05,x], [y+.05,y], 'k-')
"
36793,77509,Transpose result of sum,"s1_t = map(lambda e: [e], s_1)
"
12087,45954,splitting integer in python?,">>> [int(i) for i in str(12345)]

[1, 2, 3, 4, 5]
"
29272,61956,how to efficiently strip a string with delimiting characters on both ends?,">>> s = '^a.b.c^'
>>> s.strip('^')
'a.b.c'
"
9968,5175,How to print out an answer in decimal using python?,"print '{:.2f}'.format(result) # print the float as a string to the second place value
"
15196,84181,Adding and removing tkinter frames - keeping track of instances,"import tkinter as tk

class FrameGroup(tk.Frame):
    def __init__(self, parent):
        tk.Frame.__init__(self, parent)
        self.all_instances = []
        self.counter = 0

    def Add(self):
        self.counter += 1
        name = ""Frame %s"" % self.counter 
        subframe = Subframe(self, name=name)
        subframe.pack(side=""left"", fill=""y"")
        self.all_instances.append(subframe)

    def Remove(self, instance):
        # don't allow the user to destroy the last item
        if len(self.all_instances) > 1:
            index = self.all_instances.index(instance)
            subframe = self.all_instances.pop(index)
            subframe.destroy()

    def HowMany(self):
        return len(self.all_instances)

    def ShowMe(self):
        for instance in self.all_instances:
            print(instance.get())

class Subframe(tk.Frame):
    def __init__(self, parent, name):
        tk.Frame.__init__(self, parent)
        self.parent = parent
        self.e1 = tk.Entry(self)
        self.e2 = tk.Entry(self)
        self.e3 = tk.Entry(self)
        label = tk.Label(self, text=name, anchor=""center"")
        add_button = tk.Button(self, text=""Add"", command=self.parent.Add)
        remove_button = tk.Button(self, text=""Remove"", command=lambda: self.parent.Remove(self))

        label.pack(side=""top"", fill=""x"")
        self.e1.pack(side=""top"", fill=""x"")
        self.e2.pack(side=""top"", fill=""x"")
        self.e3.pack(side=""top"", fill=""x"")
        add_button.pack(side=""top"")
        remove_button.pack(side=""top"")

    def get(self):
        return (self.e1.get(), self.e2.get(), self.e3.get())

class GUI(tk.Tk):
    def __init__(self):
        tk.Tk.__init__(self)
        self.master_frame = tk.Frame(self)
        self.master_frame.grid()
        self.all_instances = FrameGroup(self.master_frame)
        self.all_instances.grid()

        # create the first frame
        self.all_instances.Add()

root = GUI()
root.mainloop()
"
168,4307,Is there a way in Django to make it so that when a form with initial text is clicked the text disappears?,"Username =forms.CharField(max_length=35,
                          required=True, 
                          widget=forms.TextInput(attrs={'placeholder': 'Username'}))
"
26874,39245,"How do I do a a,b,c = x.split("" "") without it crashing when only a and b can be assigned?","a = ""munching mcdonalds""
b = a.split("" "")

>>>b
['munching', 'mcdonalds']
>>>b[0]
'munching' 
>>>b[1]
'mcdonalds'
"
5846,40156,matplotlib draw only the image with desired resolution and dpi,"from stl import mesh
from matplotlib import collections
from matplotlib import pyplot

figure, axes = pyplot.subplots(frameon=False)
pixel_width = 7158  # ADDED
pixel_height = 16392  # ADDED
req_dpi = 72  # ADDED
figure.set_size_inches(pixel_width / float(req_dpi),  # MODIFIED
                       pixel_height / float(req_dpi))  # MODIFIED
# Read the STL file
your_mesh = mesh.Mesh.from_file('2d_35MeshTest.STL')

axes.set_xlim(your_mesh.min_[0], your_mesh.max_[0])
axes.set_ylim(your_mesh.min_[1], your_mesh.max_[1])

axes.add_collection(collections.PolyCollection(your_mesh.vectors[:, :, :2],
                                               linewidth=1,
                                               facecolors=(1,1,1),alpha=1,
                                               edgecolors=(1,0,0) ))

print your_mesh.vectors.shape
pyplot.gca().set_aspect('equal')

pyplot.axis('off')
ax = pyplot.Axes(figure, [0., 0., 1., 1.], )
figure.set_dpi(72)

figure.subplots_adjust(bottom = 0)
figure.subplots_adjust(top = 1)
figure.subplots_adjust(right = 1)
figure.subplots_adjust(left = 0)

figure.savefig('image_refined7.png', format='png',
               transparent=True, dpi=req_dpi)  # MODIFIED
"
11826,69782,A Djangoic method of checking if it is an allowed subdomain,"def dispatch(self, request, *args, **kwargs):
  url = request.REQUEST['url']
  host = urlparse.urlparse(url).netloc.lower().strip()

  domains = Domain.objects.filter(domain=host)
  if len(domains):
    return super(ProcessRequestView, self).dispatch(request, *args, **kwargs)
  else:
    newHost = '.%s' %host 
    dotPosition = -1
    for i in range(newHost.count('.')):
      dotPosition = newHost.find('.', dotPosition + 1)
      domains = Domain.objects.filter(domain=newHost[dotPosition:])
      if len(domains):
        return super(ProcessRequestView, self).dispatch(request, *args, **kwargs)

    return HttpResponseForbidden()
"
14708,67854,What algorithm does Python employ in fractions.gcd()?,"def gcd(a, b):
    """"""Calculate the Greatest Common Divisor of a and b.

    Unless b==0, the result will have the same sign as b (so that when
    b is divided by it, the result comes out positive).
    """"""
    while b:
        a, b = b, a%b
    return a
"
18069,42331,Python requests and urllib not returning correct data,"import requests,re,json
from bs4 import BeautifulSoup

# This is your main url
main_url=""http://weather.news24.com/sa/johannesburg""

# I am extracting city name from url. Not sure if you already have that somewhere
mycity=main_url.split('/')[-1]

# Calling your main_url
r=requests.get(main_url)


# Now The only valuable info you get on this request is the CityId for Johannesburg
# So lets grab it using BeautifulSoup

soup=BeautifulSoup(r.content)

# This gives me the list of all the cities on website and thier CityId
city_list=soup.find(id=""ctl00_WeatherContentHolder_ddlCity"")

# I am looking for city (johannesburg) within the city_list
# re.I in the code below is to ignoreCASE
city_as_on_website=city_list.find(text=re.compile(mycity,re.I)).parent
cityId=city_as_on_website['value']


# Now make a POST request to following url with following headers and data to get the JSON
json_url=""http://weather.news24.com/ajaxpro/TwentyFour.Weather.Web.Ajax,App_Code.ashx""

headers={'Content-Type':'text/plain; charset=UTF-8',
'Host':'weather.news24.com',
'Origin':'http://weather.news24.com',
'Referer':main_url,
'User-Agent':'Mozilla/5.0 (X11; Linux i686) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/48.0.2564.82 Chrome/48.0.2564.82 Safari/537.36',
'X-AjaxPro-Method':'GetCurrentOne'}

payload={""cityId"": cityId} # This is the cityId that we found above using BeautifulSoup

# Now send the POST request
r=requests.post(json_url,headers=headers,data=json.dumps(payload))

# r.content will sure give you the json data that you expect.
# However, the sad thing is that this one is not well formatted.
# And solving that will be completely another question on Stackoverflow
# Hope, you will fight your way to it.
# Good Luck! :-)


Out[1]: '{""__type"":""TwentyFour.Services.Weather.Objects.CurrentOneReport, TwentyFour.Services.Weather, Version=1.2.0.0, Culture=neutral, PublicKeyToken=null"",""Observations"":[{""__type"":""TwentyFour.Services.Weather.Objects.Observation, TwentyFour.Services.Weather, Version=1.2.0.0, Culture=neutral, PublicKeyToken=null"",""CityName"":""Lanseria Civ / Mil"",""Location"":""Lanseria Civ / Mil"",""Sky"":""Passing clouds"",""Temperature"":""25.00"",""Humidity"":""54"",""WindSpeed"":""15"",""WindDirectionAbreviated"":""SE"",""Comfort"":""26"",""DewPoint"":""15"",""Description"":""Passing clouds. Warm."",""Icon"":""2"",""IconName""

...
...

"":null,""Rainfall"":""14mm"",""Snowfall"":""*"",""PrecipitationProbability"":""52"",""Icon"":""22"",""IconName"":""tstorms"",""Cached"":false},""AstronomyReport"":null,""MarineReport"":null,""LocalTime"":""Wed, 24 Feb 2016 17:30:27 SAST"",""LocalUpdateTime"":""Wed, 24 Feb 2016 17:12:07 SAST"",""CountryName"":""South Africa"",""TimeZone"":""2"",""Cached"":false};/*'
"
12467,15331,Using np.argwhere to find the maximum in a matrix,"In [15]: np.random.seed(2016); arr = np.random.randint(10, size=(2,3)); arr
Out[15]: 
array([[3, 7, 2],
       [3, 8, 4]])
In [17]: np.argmax(arr)
Out[17]: 4
In [18]: np.unravel_index(np.argmax(arr), arr.shape)
Out[18]: (1, 1)
"
19537,21897,How to match dictionary values to pandas Data Frame values?,"# your data
# ===================================
dictionary = {""A"": [1, 2, 3, 4, 5, 6, 7, 8], 
""B"": [1, 2, 3, 4,], ""C"": [1, 2, 3, 4, 5, 6, 7],
""D"": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], 
""E"": [1, 2, 3, 4, 5, 6]}

df

    name  value
0    one      1
1    two      2
2  three      3
3   four      4
4   five      5
5    six      6
6  seven      7
7  eight      8
8   nine      9
9    ten     10

# processing
# ===================================
df1 = df.set_index('value')

for key in dictionary.keys():
    dictionary[key] = df1.loc[dictionary[key]].values.ravel().tolist()

print(dictionary)


{'A': ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight'], 'B': ['one', 'two', 'three', 'four'], 'E': ['one', 'two', 'three', 'four', 'five', 'six'], 'D': ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'], 'C': ['one', 'two', 'three', 'four', 'five', 'six', 'seven']}
"
8457,6918,"File iteration, checking line existence","last_line = None

with open(""somefile.txt"") as f:
    for line in f:
        if not last_line == None:
            do_stuff(last_line, extract_needed_part(line))
        last_line = line
do_stuff(last_line) #The final line without anything following it.
"
9806,56128,Python Youtube-dl - keep terminal / tkinter window open after executing,"import subprocess

def dl(lk, fl):
    opts = ['-o', fl + '/%(title)s-%(id)s.%(ext)s', '--playlist-end', '20',
            '--extract-audio', '--audio-   format', 'mp3', '--audio-quality',
            '9', '--write-thumbnail', lk]

    args = ['python', '-m', 'youtube_dl']
    args.extend(opts)

    p = subprocess.Popen(args) # You can use subprocess.PIPE to redirect stdout & stderr. Read the doc for more info.
    p.communicate() # Wait for process to terminate.

    if p.returncode == 0: # You might wanna check for correct successful return code.
        return 'Successful download'
    else:
        return 'Download Failed'
"
26613,38450,python pandas replacing strings in dataframe with numbers,"In [9]: mapping = {'set': 1, 'test': 2}

In [10]: df.replace({'set': mapping, 'tesst': mapping})
Out[10]: 
   Unnamed: 0 respondent  brand engine  country  aware  aware_2  aware_3  age  \
0           0          a  volvo      p      swe      1        0        1   23   
1           1          b  volvo   None      swe      0        0        1   45   
2           2          c    bmw      p       us      0        0        1   56   
3           3          d    bmw      p       us      0        1        1   43   
4           4          e    bmw      d  germany      1        0        1   34   
5           5          f   audi      d  germany      1        0        1   59   
6           6          g  volvo      d      swe      1        0        0   65   
7           7          h   audi      d      swe      1        0        0   78   
8           8          i  volvo      d       us      1        1        1   32   

  tesst set  
0     2   1  
1     1   2  
2     2   1  
3     1   2  
4     2   1  
5     1   2  
6     2   1  
7     1   2  
8     2   1  
"
9290,18305,Best way to do string format in PHP,"function sformat($template, $params) {
    return str_replace(
        array_map(function($v){return '{'.$v.'}';},array_keys($params)),
        $params,
        $template
    );
}

echo sformat('/uri/{action}/{id}', $params = array(
    'id'=>'23',
    'action'=>'open'
));
"
2890,106,Python-getting data from an asp.net AJAX application,"from mechanize import Browser

b = Browser()
b.open(""http://utahcritseries.com/RawResults.aspx"")
b.select_form(nr=0)

year = b.form.find_control(type='select')
year.get(label='2005').selected = True

src = b.submit().read()
print src
"
36980,40374,GAE: Push Task Queues - How to push tasks to specific Queues? - using GAE-PHP,"require_once 'google/appengine/api/taskqueue/PushTask.php';
use \google\appengine\api\taskqueue\PushTask;

$task_name = (new PushTask('/worker/anchorextractor/1', array(
  'content_id' => 'aa', 
  'content_type' => 'aa'
)))->add(""tagextractor"");

syslog(LOG_INFO, ""new task="".$task_name);
"
14328,26136,django - Need references to another model from list_display,"   def author_link(self, obj):
        return '<a href=""/admin/authors-appname/author-model-name/%s"">%s</a>' \
               % (obj.auther.pk, obj.auther)
    author_link.allow_tags = True
    author_link.short_description = ""auther""

    list_display = ['name', 'pub_date', 'author_link',]
    readonly_fields = ('author_link', )
"
1147,60315,Python: Histogram type dictionary from a dictionary,"In [8]: d = {23: ['20', '10', '3'],
   ...:  24: ['19', '16', '14', '6'],
   ...:  25: ['16', '5', '9', '24', '18', '15', '11', '12', '14', '5'],
   ...:  26: ['22', '15', '10', '6', '5', '4'],
   ...:  27: ['4'],
   ...:  28: ['27', '26', '20', '9', '22', '9', '25', '7'],
   ...:  29: ['15', '26', '16', '24', '4'],
   ...:  30: ['25', '16', '18', '21', '19', '4'],
   ...:  31: ['2'],}
In [9]: from collections import defaultdict
In [10]: hist = defaultdict(list)
In [11]: for k,v in d.iteritems():
    ...:     hist[len(v)].append(k)
In [12]: hist
Out[12]: defaultdict(<type 'list'>, {1: [27, 31], 3: [23], 4: [24],
            5: [29], 6: [26, 30], 8: [28], 10: [25]})
"
17438,16306,"Selenium Webdriver, screenshot as numpy array (Python)","from selenium import webdriver
from PIL import Image
import StringIO
import numpy as np

browser = webdriver.Firefox()
browser.get('https://www.google.ca/?gws_rd=ssl')

data = browser.get_screenshot_as_png()

img = Image.open(StringIO.StringIO(data))

numpy_array = np.asarray(img)
"
36549,14417,How to overwrite Mezzanine files?,"pip install -e git+git://github.com/YourUsername/forked-django-app.git#egg=forked-django-app
"
34192,838,How to represent a data structure like this in python pandas?,"df = pd.DataFrame(np.arange(27).reshape(3,9) , 
columns = [
     ['x' , 'y' , 'z' , 'Group1' , 'Group1' , 'Group1' , 'Group2' , 'Group2' , 'Group2'] , 
     [ 'x' , 'y' , 'z' , 'prop1' , 'prop2' , 'prop3' , 'prop1' , 'prop2' , 'prop3']
          ]
)

df['Group1']['prop1']

# 0     3
# 1    12
# 2    21
"
5481,43088,Python type hinting with constraint on type superclass,"from typing import TypeVar

T = TypeVar('T', bound=S)

def foo(g: T) -> T:
    pass
"
14561,46257,GIO: get_icon() always returns None,"f = File.new_for_commandline_arg('...')
info = f.query_info('standard::icon')
print(info.get_icon())
"
12639,57843,Django : Iterate over a query set without cache,"for alias in models.Alias.objects.iterator() :
    alias.update_points()
"
19907,57780,How can I use random.sample & random.choice,"import random
candidateWords = [...]

def wordlist(words):
    for index, item in enumerate(words):
        print(index, "") "", item, sep='')

available_words = random.sample(candidateWords, 8)
one = random.choice( available_words )

print(""Welcome to the Guess-The-Word Game.\nThe Password is one of these words:"")
wordlist(available_words)
print(one)
"
34453,27914,PyQt Sort List of Radio Buttons,"newButton = QRadioButton(...)
newText = newButton.text()

index = 0
for button in get_buttons():
    if button.text() >= newText:
      break
    index += 1

layout.insertWidget(index, newButton)
"
25040,31328,Documenting Python packages with doxygen,"PROJECT_NAME      = ""Python""
OUTPUT_DIRECTORY  = pyexample
GENERATE_LATEX    = NO
GENERATE_MAN      = NO
GENERATE_RTF      = NO
OPTIMIZE_OUTPUT_JAVA = YES
INPUT             = pyexample.py
QUIET             = YES
JAVADOC_AUTOBRIEF = YES
SEARCHENGINE      = NO
"
19913,12488,How to auto fill input field with pygtk+ WebKit,"from gi.repository import WebKit
from gi.repository import Gtk, Gdk

def get_source(webobj, frame):
  doc = web.get_dom_document()
  element = doc.get_elements_by_name(""q"")
  child = element.item(0)
  child.set_value(""test"")
  SubBtn = doc.get_elements_by_name(""btnG"")
  btn = SubBtn.item(0)
  btn.click()

win = Gtk.Window()

web = WebKit.WebView()
web.open(""http://google.com"")
web.connect(""load-finished"", get_source)
win.add(web)
win.connect('destroy', lambda w: Gtk.main_quit())
win.show_all()
Gtk.main()
"
9743,6540,how to override the verbose name of a superclass model field in django,"class SuperFoo(models.Model):
    name = models.CharField('name of SuperFoo instance', max_length=50)
    ...

class Foo(SuperFoo):
    ... # do something that changes verbose_name of name field of SuperFoo
Foo._meta.get_field('name').verbose_name = 'Whatever'
"
28218,73636,Tkinter GUI stops responding when launched,"ps.wait()
t.join()
"
39266,28352,"How can I add a submit, output and input box using PyQt4?","class Window(QtGui.QMainWindow):
    def __init__(self):
        super().__init__()

        self.container = QtGui.QWidget()
        self.setCentralWidget(self.container)
        self.container_lay = QtGui.QVBoxLayout()
        self.container.setLayout(self.container_lay) 

        # Input
        self.le = QtGui.QLineEdit()
        self.container_lay.addWidget(self.le)

        # enter button
        self.enter_btn = QtGui.QPushButton(""Enter"")
        self.container_lay.addWidget(self.enter_btn)
        self.enter_btn.clicked.connect(self.run) # No '()' on run you want to reference the method.

        # display
        self.container_lay.addWidget(QtGui.QLabel(""Answer:""))
        self.ans = QtGui.QLabel()
        self.container_lay.addWidget(self.ans)

    def run(self):
        precision = self.le.text()
        pi = str(round(math.pi, precision)) # probably different formatting
        self.ans.setText(pi) 

if __name__ == ""__main__"":
    app = QtGui.QApplication(sys.argv)

    window = Window()
    window.show()

    sys.exit(app.exec_())
"
7465,2746,How do I determine if the Shift key was pressed in wxPython event handler?,"import wx

########################################################################
class MyPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)
        self.shift_down = False

        btn = wx.Button(self, label=""Test Shift"")
        btn.Bind(wx.EVT_KEY_DOWN, self.onKeyDown)
        btn.Bind(wx.EVT_KEY_UP, self.onKeyUp)
        btn.Bind(wx.EVT_BUTTON, self.onButton)

    #----------------------------------------------------------------------
    def onButton(self, event):
        """"""
        Event handler for when the button is pressed
        """"""
        if self.shift_down:
            print ""Shift key is down!""
        else:
            print ""Shift key is up!""

    #----------------------------------------------------------------------
    def onKeyDown(self, event):
        """"""
        If shift key is down, set class variable to True
        """"""
        keycode = event.GetKeyCode()
        if keycode == wx.WXK_SHIFT:
            self.shift_down = True
        event.Skip()

    #----------------------------------------------------------------------
    def onKeyUp(self, event):
        """"""
        If shift key is up, set class variable to False
        """"""
        keycode = event.GetKeyCode()
        if keycode == wx.WXK_SHIFT:
            self.shift_down = False
        event.Skip()

########################################################################
class MyFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Demo"")
        panel = MyPanel(self)
        self.Show()


#----------------------------------------------------------------------
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MyFrame()
    app.MainLoop()
"
5541,54535,matplotlib.mlab.griddata very slow and returns array of nan when valid data is input,"import scipy.interpolate
data_locations = np.vstack(datalon.ravel(), datalat.ravel()).T
grid_locations = np.vstack(gridlon.ravel(), gridlat.ravel()).T
grid_data      = scipy.interpolate.griddata(data_locations, val.ravel(),
                                            grid_locations, method='nearest')
"
26598,8852,Rotating a square in PIL,"import math
from PIL import Image, ImageDraw

#finds the straight-line distance between two points
def distance(ax, ay, bx, by):
    return math.sqrt((by - ay)**2 + (bx - ax)**2)

#rotates point `A` about point `B` by `angle` radians clockwise.
def rotated_about(ax, ay, bx, by, angle):
    radius = distance(ax,ay,bx,by)
    angle += math.atan2(ay-by, ax-bx)
    return (
        round(bx + radius * math.cos(angle)),
        round(by + radius * math.sin(angle))
    )

image = Image.new('L', (100, 100), 127)
draw = ImageDraw.Draw(image)

square_center = (50,50)
square_length = 40

square_vertices = (
    (square_center[0] + square_length / 2, square_center[1] + square_length / 2),
    (square_center[0] + square_length / 2, square_center[1] - square_length / 2),
    (square_center[0] - square_length / 2, square_center[1] - square_length / 2),
    (square_center[0] - square_length / 2, square_center[1] + square_length / 2)
)

square_vertices = [rotated_about(x,y, square_center[0], square_center[1], math.radians(45)) for x,y in square_vertices]

draw.polygon(square_vertices, fill=255)

image.save(""output.png"")
"
33723,15780,Summing the number of instances a string is generated in iteration,"num_hits = 0
num_outs = 0
for i in range(1, atBats):
    if random_pick(a,b) == 'Hit':
        num_hits += 1
    else:
        num_outs += 1
print num_hits, num_outs
"
7173,54505,Read password from stdin,">>> import getpass
>>> pw = getpass.getpass()
"
4072,62937,combine text after : by python,"import re

one_line = ''.join(menu).replace('\n', ' ')
print re.sub(', ([a-z]+:)', r'\n\1', one_line)[:-1]
"
30222,69611,Transform items from iterable with a sequence of unary functions,"def transform(functions, arguments):
  return [f(a) for f, a in zip(functions, arguments)]
"
8060,50033,Python: how to get only positive numbers of nested int list with resonable performance,"def func(mylist):
    return [elem for elem in mylist if elem > 0]

onlyPositives = [func(e) for e in myintlist]
"
38648,44467,Python replacing numbers in a list,"import random

numbers = [n for n in listP if n is not None]
result = [n if n is not None else random.choice(numbers) for n in listP]    
"
810,47879,Secondary window without slot,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

from PyQt4 import QtCore, QtGui

class Settings(QtGui.QDialog):
    def __init__(self, parent=None):
        super(Settings, self).__init__(parent)

        self.parent = parent

        self.setWindowTitle(u'PrÃ©fÃ©rences')

        self.list_pathes = QtGui.QListWidget(self)

        self.label_directories = QtGui.QLabel(self)
        self.label_directories.setText(u""Dossiers surveillÃ©s :"")

        self.rm_directory_button = QtGui.QPushButton(self)
        self.rm_directory_button.setText(u""Enlever"")
        self.rm_directory_button.clicked.connect(self.removePath)

        self.add_directory_button = QtGui.QPushButton(self)
        self.add_directory_button.setText(u""Ajouter"")
        self.add_directory_button.clicked.connect(self.addPath)

        self.gridLayout = QtGui.QGridLayout(self)
        self.gridLayout.addWidget(self.label_directories, 0, 0, 1, 1)
        self.gridLayout.addWidget(self.list_pathes, 2, 0, 2, 2)
        self.gridLayout.addWidget(self.rm_directory_button, 3, 2, 1, 1)
        self.gridLayout.addWidget(self.add_directory_button, 2, 2, 1, 1)

        self.show()    
    #    self.connexion()

    def connexion(self):
        self.parent.options.beginGroup(""Watching"")
        pathes = self.parent.options.allKeys()
        if pathes:
            for each_key in pathes:
                self.list_pathes.addItem(self.parent.options.value(each_key))

        self.parent.options.endGroup()

    def removePath(self):
        try:
            path = self.list_pathes.selectedItems()[0].text()
            item = self.list_pathes.takeItem(self.list_pathes.currentRow())
            del item

        except IndexError:
            print(u""Aucun path sÃ©lectionnÃ©"")

    def addPath(self):
        path = QtGui.QFileDialog.getExistingDirectory(self, 'Open file', '/home')
        self.list_pathes.addItem(path)

class MainWindow(QtGui.QMainWindow):
    def __init__(self, parent=None):
        super(MainWindow, self).__init__(parent)

        self.settingsAction = QtGui.QAction(u'PrÃ©fÃ©rences', self)
        self.settingsAction.triggered.connect(lambda: Settings(self))

        self.toolBar = QtGui.QToolBar(self)
        self.toolBar.addAction(self.settingsAction)

        self.addToolBar(QtCore.Qt.ToolBarArea(QtCore.Qt.TopToolBarArea), self.toolBar)

if __name__ == ""__main__"":
    import  sys

    app  = QtGui.QApplication(sys.argv)
    main = MainWindow()
    main.show()
    sys.exit(app.exec_())
"
30466,81758,django dynamic file serving optimization,"RewriteCond %(REQUEST_URI) ^media
RewriteCond %{REQUEST_FILENAME} !-f 
RewriteRule #Some rewrite rule to redirect from '/media/filename' to '/image_generator/filename'
"
5201,61980,How to proxy all methods from a Python module to another?,">>> with open('mylogging.py', 'w') as f:
...     f.write('''from logging import *
... my_customization = ""it works""''')
...
>>> import mylogging
>>> print mylogging.my_customization
it works
>>> help(mylogging.log)
Help on function log in module logging:

log(level, msg, *args, **kwargs)
    Log 'msg % args' with the integer severity 'level' on the root logger.
"
7593,77815,Replace uppercase characters with lowercase+extra characters,"import re
re.sub('([A-Z]{1})', r'_\1','OneWorldIsNotEnoughToLive').lower()

# result '_one_world_is_not_enough_to_live'
"
5549,44246,Python filter a list to only leave objects that occur once,"l = [0, 1, 1, 2, 2]
d = {}
for i in l: d[i] = d.has_key(i)

[k for k in d.keys() if not d[k]]
"
14592,44531,apply changes to the column names of a dataframe,"In [42]: df
Out[42]: 
   garbled #### one  garbled #### two
a                 1                 1
b                 2                 2
c                 3                 3
d                 4                 4

In [43]: df.rename_axis(lambda x: x.split()[0]+ "" "" +x.split()[2])
Out[43]: 
   garbled one  garbled two
a            1            1
b            2            2
c            3            3
d            4            4

In [44]: df.rename_axis({'garbled #### one': 'one', 'garbled #### two': 'two'})
Out[44]: 
   one  two
a    1    1
b    2    2
c    3    3
d    4    4
"
39811,8799,Find out if matrix is positive definite with numpy,"import numpy as np

def is_pos_def(x):
    return np.all(np.linalg.eigvals(x) > 0)
"
32843,60752,Django view: Convert unicode retrieved from db to string," import ast
 str_diag_val =ast.literal_eval(diag_val)
 print ""diag value="", str_diag_val[0], "" "", str_diag_val[1]
"
19713,27967,replaces multiple occurances of a character (except for first and last) in a python string,"str1 = '$2a$10$.XfjKl/,abcd, 1, ##, s, for free,2-3-4'
parts = str1.split(',')
str2 = '{},{},{}'.format(parts[0],'_'.join(parts[1:-1]),parts[-1])
"
9700,77879,"How do you see the return value from a function in the Python debugger, without an intermediate?","(Pdb) sorted(locals().keys())
['__return__', 'xyz', ...]
"
35409,65788,Counting frequency of second elements in list? (Python),">>> collections.Counter(i[1] for i in L).most_common()
[(2, 2), (1, 1), (5, 1)]
"
13161,47171,Make 2 functions run at the same time,"import threading
from threading import Thread

def func1():
    print 'Working'

def func2():
    print 'Working'

if __name__ == '__main__':
    Thread(target = func1).start()
    Thread(target = func2).start()
"
12786,34005,Creating a high and low game in python and need a lot of help!,"# Print instructions to the user
### 'print ""xyz""' will output the xyz text.

# Start with the variables high = 1000, low = 1, and tries = 1
### You can set a variable with 'abc = 1'.

# While high is greater than low
### Python has a while statement and you can use something like 'while x > 7:'.
### Conditions like 'x > 7', 'guess == number' can also be used in `ifs` below.

    # Guess the average of high and low
    ### The average of two numbers is (x + y) / 2.

    # Ask the user to respond to the guess
    ### Python (at least 2.7) has a 'raw_input' for this, NOT 'input'.

    # If the guess was right, print a message that tries guesses were required
    # and quit the program
    ### Look at the 'if' statement for this and all the ones below.

    # If the guess was too high, print a message that says âI will guess lower.â
    # If the guess was too low, print a message that says âI will guess higher.â
    # If the user entered an incorrect value, print out the instructions again.
"
13160,16071,Log tailing daemon with Python,"import io
import time

def checklog(fs,logfile):
    trytimes = 10
    line = ''
    while line == '':
        time.sleep(1)
        line = fs.readline().replace('\n','')
        trytimes = trytimes - 1
        while trytimes == 0 and line == '':
            try:
                fs = io.open(logfile,'rb')
                fs.seek(0,2)
                trytimes = 10
                break
            except:
                time.sleep(10)
    return line,fs


logfile=""app.log""
fs = io.open(logfile,'rb')
fs.seek(0,2)# seek to tail of the logfile
while True:
    line = fs.readline().replace('\n','')
    while line == '':
        line,fs = checklog(fs,logfile)
        #do something for line;
"
10886,4725,Apache Spark Python GroupByKey or reduceByKey or combineByKey,"data = sc.parallelize(['abc123Key1asdas','abc123Key1asdas','abc123Key1asdas', 'abcw23Key2asdad', 'abcw23Key2asdad', 'abcasdKeynasdas', 'asfssdKeynasda', 'asdaasKeynsdfa'])
data.map(lambda line: (line[6:10],line)).groupByKey().mapValues(list).collect()
"
39533,84418,How to load default profile in chrome using Python Selenium Webdriver?,"from selenium import webdriver
from selenium.webdriver.chrome.options import Options

options = webdriver.ChromeOptions() 
options.add_argument(""user-data-dir=C:\\Path"") #Path to your chrome profile
w = webdriver.Chrome(executable_path=""C:\\Users\\chromedriver.exe"", chrome_options=options)
"
27194,9184,Python:Detect if the current line in file read is the last one,"secondLastLine = None
lastLine = None
with open(""myfile.txt"") as infile:
    secondLastLine, lastLine = infile.readline(), infile.readline()
    for line in infile:
        # do stuff
        secondLastLine = lastLine
        lastLine = line

# do stuff with secondLastLine
"
18051,38635,How to add a title to Seaborn Facet Plot,"plt.subplots_adjust(top=0.9)
g.fig.suptitle('THIS IS A TITLE, YOU BET') # can also get the figure from plt.gcf()
"
2669,64460,Redirect all ips in config file to static address,"class MyWSGIContainer(WSGIContainer):
    def __call__(self, request):
        if request.remote_ip in blacklist:
            self.write_redirect()
        else:
            super(MyWSGIContainer, self)(request)
"
13342,21282,I want to connect my program to image scanner,"
Getting access to a scanner device:

 from imagescanner import ImageScanner

 # instantiate the imagescanner obj 
 iscanner = ImageScanner()

 # get all available devices
 scanners = iscanner.list_scanners()

 # choose one of the devices
 scanner = scanners[0]

 # scan your file (returns a PIL object)
 scanner.scan()
"
36164,25768,Simple ajax call doesnt work in django,"    function fireAjaxRequest(e) {
        // Insert this
        e.preventDefault();

 24     console.log(""firing the ajax request..."");
 25     httpRequest = new XMLHttpRequest();
 26
 27     if (! httpRequest) {
 28       alert(""not able to create XMLHttpRequest"");
 29     } else {
 30       console.log(""created XMLHttpRequest"");
 31     }
 32
 33     httpRequest.onreadystatechange = handleResponse;
 34     httpRequest.open(""GET"", ""javascript/ajax"", true);
 35     httpRequest.send(null);
 36     console.log(""request sent, waiting for response..."");
 37 }
"
17402,28771,How to round down,"import math
v = 0.115
math.floor(v*100)/100
"
27913,41768,Python member function decorators use instance as a parameter,"def foo(func):
    def wrap(s): # I'd call this 'self' instead of 's' to remind us it's a reference to an instance

        func(s) # This is a function, not a method yet - so we need to pass in the reference

        s.ma() # This is a method, because you use attribute lookup on the object s to get it
    return wrap

class A:
    def ma(self):
        print ""this is ma""

    @foo     # if the way foo wraps mb doesn't depend on some arg, don't use args here
    def mb(self):
        print ""this is mb""
"
37200,83439,PyQt file browsing - setting a default option?,"filenames = QFileDialog.getOpenFileName()
if (filenames.isNull()):
    self.lineEdit.setText(_translate(""ROIGUI"", filenames, None))
else:
    # The alternative code. Set the default value here to the QLineEdit.
"
20886,41225,prefix notation parsing in python,"def prefix(input):
  op, num1, num2 = input.split("" "")
  num1 = int(num1)
  num2 = int(num2)
  if op == ""+"":
    return num1 + num2
  elif op == ""*"":
    return num1 * num2
  else:
    # handle invalid op
    return 0

print prefix(""+ 2 2"")
"
31717,9757,Get sum of other model field base on condition,"class ru_students(models.Model):
    _name = 'ru.students'
    _rec_name = 'code'

    @api.multi
    @api.depends('invoices')
    def _get_total(self):
        for student in self:
            student.payed = sum(
                invoice.total for invoice in student.invoices)

    name = fields.Char(string='Name')
    payed = fields.Float(compute='_get_total', string='Payed')
    invoices = fields.One2many(comodel_name='ru.invoice',
                               inverse_name='student_id',
                               string='Invoices of the student')


class ru_invoice(models.Model):
    _name = 'ru.invoice'
    _rec_name = 'code'

    @api.multi
    @api.depends('qty', 'unit_price')
    def get_total(self):
        for invoice in self:
            invoice.total = invoice.qty * invoice.unit_price

    student_id = fields.Many2one(comodel_name='ru.students',
                                 string='Student ID"")
    qty = fields.Float(string='Quantity')
    unit_price = fields.Float(string='Unit Price')
    total = fields.Float(compute='_get_total', string='Total')
"
18341,63953,pandas dataframe: subset by column + groupby another column,"import pandas as pd
from scipy.stats import ttest_ind

data = {'Cat1': [2,1,2,1,2,1,2,1,1,1,2],
        'Cat2': [0,0,0,0,0,0,1,1,1,1,1],
        'values': [1,2,3,1,2,3,1,2,3,5,1]}
my_data =pd.DataFrame(data)
print my_data
    Cat1  Cat2  values
0      2     0       1
1      1     0       2
2      2     0       3
3      1     0       1
4      2     0       2
5      1     0       3
6      2     1       1
7      1     1       2
8      1     1       3
9      1     1       5
10     2     1       1

def f(x):
    #print x   
    cat1_1 = x[x['Cat1']==1]
    cat1_2 = x[x['Cat1']==2]

    t, p = ttest_ind(cat1_1['values'], cat1_2['values'])
    return pd.Series({'a':t, 'b':p})     

print my_data.groupby('Cat2').apply(f) 
            a         b
Cat2                   
0     0.00000  1.000000
1     2.04939  0.132842  
"
9667,68961,Non-numbered pages in ReportLab,"doc.build(Story, onFirstPage=myFirstPage, onLaterPages=myLaterPages)
"
37227,70267,Inheriting Custom Operators in Python?,"class B(A):
"
4382,42253,Is there a way to automate the defining of a function in python?,"def your_common_function(i, txt):
   # here you may decide what to do with arguments according to ""i"" value
   if i == 1:
      print(txt)
   else:
      print(txt+'s')

for i in range(1, 233):
    exec(""def add%d(txt):\n\tyour_common_function(%d, txt)"" % (i, i))

add1(""hello world"")  # prints ""hello world""
add167(""hello world"")  # prints ""hello worlds"" 
"
28105,7896,How to remove top value of y-axis only from Python's Matplotlib figure?,"plt.title('Effect of RARa overexpression on Cyp26A1 dose-response curve',fontsize=15, y=1.5) # Change y value accordinly
"
35764,20395,Use numpy to get the positions of all objects in 3D space relative to one another,">>> r = np.arange(6).reshape(2, 3)
>>> r[:, None] - r
array([[[ 0,  0,  0],
        [-3, -3, -3]],

       [[ 3,  3,  3],
        [ 0,  0,  0]]])
"
3517,66862,How to maintain case-sensitive tags in BeautifulSoup.BeautifulStoneSoup?,"In [10]: from bs4 import BeautifulSoup

In [11]: xml = ""<TestTag>a string</TestTag>""

In [12]: soup = BeautifulSoup(xml, ""xml"")

In [13]: print soup
<?xml version=""1.0"" encoding=""utf-8""?>
<TestTag>a string</TestTag>

In [14]:
"
13646,75358,How to remove the duplicate lines retaining first occurences,"inputFile = open(""in.txt"", ""r"")
log = []
for line in inputFile:
    if line in log and line[0:5] != ""Jan 1"":
        pass
    else:
        log.append(line)
inputFile.close()

outFile = open(""out.txt"", ""w"")

for item in log:
    outFile.write(item)
outFile.close()
"
21130,71608,How to workwith generators from file for tokenization rather than materializing a list of strings?,"def my_split(s):
    print('my_split(): {!r}'.format(s))
    return s.split()

>>> hypfin = open('hyp.txt', 'r')
>>> reffin = open('ref.txt', 'r')
>>> hyp = (my_split(h) for h in hypfin)    # N.B. my_split() not called here
>>> hyp
<generator object <genexpr> at 0x7fa89ad16b40>
>>> ref = (my_split(r) for r in reffin)    # N.B. my_split() not called here
>>> ref
<generator object <genexpr> at 0x7fa89ad16bd0>

>>> z = zip(hyp, ref)    # N.B. my_split() not called here
>>> z
<zip object at 0x7fa89ad15cc8>

>>> hypline, refline = next(z)
my_split(): 'It is a guide to action which ensures that the military always obeys the commands of the party\n'
my_split(): 'It is a guide to action that ensures that the military will forever heed Party commands\n'
>>> hypline, refline = next(z)
my_split(): 'he read the book because he was interested in world history\n'
my_split(): 'he was interested in world history because he read the book\n'
>>> hypline, refline = next(z)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
StopIteration
"
7338,4070,Python - Auto add widgets,"from tkinter import *

class Prac:

    def autoAddWidget(self):
        self.entryField = Entry(self.frame,text=""Entry Field"")
        self.entryField.grid(row=self.x, column=0)
        self.x+=1

    def __init__(self, master):
        self.frame = Frame(master, width=60, height=50)
        self.frame.pack()

        self.x=1
        self.addWidgetButton = Button(self.frame, text=""Add new widget"", command=self.autoAddWidget)
        self.addWidgetButton.grid(row=0, column=0)


root = Tk()
app = Prac(root)
root.mainloop()
"
6727,52970,Altering values of a list in a list,"def read_file(list_of_lists):
    """"""Reads a file and returns a 2D list containing the pattern.
    O = Alive
    . = Dead
    """"""
    end_list = []
    for A_List in list_of_lists:
        sub_list = []
        for A_String in A_List:
            for item in A_String:
            #Adding 0's and 1's to sub_list when given the right input
                if item == '.':
                    sub_list.append(0)
                elif item == 'O':
                    sub_list.append(1)
            #Adding the sub
            end_list.append(sub_list)
    return end_list
"
60,84595,how to make ndb model declarations order independent,"class A(ndb.Model):
   some_property = ndb.KeyProperty('B' , required=True)

class B(ndb.Model):
   some_other_property = ndb.KeyProperty(A , required=True)
"
35332,20495,Generate a String that matches a RegEx in Python,">>> import rstr
>>> rstr.xeger(r'[A-Z]\d[A-Z] \d[A-Z]\d')
u'M5R 2W4'
"
38134,13484,How do you make an image transparent over a period of time?,"# Allow the image to have its alpha value changed
image = pygame.image.load(""Images/dead.jpg"").convert()

# Set the transparency to full
image_alpha = 0

# Decide how many frames you want the image to fade in over
fade_frame_number = 60
# And the frames per second
FPS = 30
FPS_Clock = pygame.time.Clock()

while True:
    window.fill((255, 255, 255))               # Fill the window with a white bg
    if image_alpha < 255:
        image_alpha += 255 / fade_frame_number # Change the transparency variable
    image.set_alpha(image_alpha)               # Set the image's alpha value
    window.blit(image, (0, 0))                 # Display the image
    pygame.display.update()                    # Update the screen
    FPS_Clock.tick(FPS)                        # Wait for the next frame
"
26676,32598,Get formula from Excel cell with python xlrd,"B2 =A2
B3 =A3+B2
B4 =A4+B3
B5 =A5+B4
...
B60 =A60+B59
"
5984,53466,How to get the Tkinter Label text?,"l = tk.Label(text=""hello, world"")
...
print ""the label is"", l.cget(""text"")
"
28921,65756,Testing with Python if table results are null," query = ""SELECT car FROM cars.....""

 cursor.execute(query)

 results = cursor.fetchall()
 if results:
      for row in results:
           print row[0]
 else:
      print 'No cars available.'
"
18219,23870,Combine three different Aggregate into a single one,"db.bidding.aggregate([    
    { 
        ""$group"": { 
            ""_id"": ""$bid_item"",             
            ""number_of_objects"": { ""$sum"": 1 },
            ""total_price"": {
                ""$sum"": {
                    ""$cond"": [ { ""$ne"": [ ""$price"", ""null"" ] }, ""$price"", 0 ]
                }
            },
            ""total_users"": {
                ""$sum"": {
                    ""$cond"": [ { ""$ne"": [ ""$users"", ""null"" ] }, ""$users"", 0 ]
                }
            },
            ""total_number_of_users_after_bid"": {
                ""$sum"": {
                    ""$cond"": [ 
                        {
                            ""$and"": [
                                { ""$ne"": [ ""$highestBid"", ""null"" ] },
                                { ""$ne"": [ ""$users"", ""null"" ] }
                            ]
                        },
                        ""$highestBid"", 0 
                    ]
                }
            } 
        }  
    }
])
"
2290,70126,How to align text to the right in ttk Treeview widget?,"ttk.Treeview.column(column_id, anchor=Tkinter.E)
"
37370,22330,Print lines read from file on same line," print(i.rstrip(), "" Status Code: "", r.status_code)
"
29387,54787,Date formatting using python,"today = currentDate.strftime('%m/%d/%Y').replace(""/0"", ""/"")
if today[0] == '0':
    today = today[1:]
"
21755,53260,Flask-MongoEngine & PyMongo Aggregation Query,"Model._get_collection().aggregate([
    { '$group' : 
        { '_id' : { 'carrier' : '$carrierA', 'category' : '$category' }, 
          'count' : { '$sum' : 1 }
        }
    }
])
"
30492,81844,What would be a good way to deal with backslash escaped characters?,"re.split(r'(?<!\\),', 'part1,part2,pa\\,rt3,part4')
"
15853,17175,Python File Parser,"line = line.split(':', 1)
"
16808,79825,Regularization parameter setting for Randomized Regression in sklearn,"pipeline = Pipeline([
  ('fs', RandomizedLogisticRegression()),
  ('clf', LogisticRegression())
])

params = {'fs__C':[0.1, 1, 10]}

grid_search = GridSearchCV(pipeline, params)
"
10987,46949,Glob search files in date order?,"import glob
import os

files = glob.glob(""*cycle*.log"")
files.sort(key=os.path.getmtime)
print(""\n"".join(files))
"
6453,54033,SQLalchemy top 3 results from each category,"# create query order by monthly price 
base_query = Contract.query.order_by(Contract.monthly_price)

# build subqueries for each network 
queries = []
for n in networks.all():
    queries.append( base_query.filter(Contract.network_id==n.id).\
                        limit(3).subquery().select() )

# get contracts using union_all
contracts = Contract.query.select_entity_from(union_all( *queries )).all()
"
27936,28827,Python 3 - POST request with urllib.request returning HTML data,"curl --data ""method:/bpapi/rest/security/session&params={username=j_henry&password=**}"" https://www.matchbook.com
"
5078,13319,Python Imaging Library- Merging one type of pixel into another image,"imagea = PIL.Image.open('temp.png')
imageb = PIL.Image.open('temp.png')

for y in xrange(imagea.size[1]):
  for x in xrange(imagea.size[0]):
    currentPixel = imagea.getpixel((x,y))

    if currentPixel[0] >  50:
    #if currentPixel ==(0,0,0):
      #this is a black pixel, you can directly modify image 2 now
      imageb.putpixel((x,y),(0,0,0))

imageb.save('outputfile.png')
"
11392,73693,Spliting strings surrounded by special characters,"re.findall(r'\w+', text)

>>> re.findall(r'\w+', ""word1,word2,"")
['word1', 'word2']
>>> re.findall(r'\w+', ""(word1),word2"")
['word1', 'word2']
>>> re.findall(r'\w+', ""--word1--word2-"")
['word1', 'word2']
"
32219,46070,Script to generate other scripts,"def makeOpener(pdf, page):
    '''makes a pyw file to use to hyperlink in excel'''
    t = 'c:/temp'
    if not os.path.isdir(t):
        os.makedirs(t)
    tempfile.tempdir = t
    py = tempfile.NamedTemporaryFile(suffix='.pyw', delete=False)

    lst = ['import subprocess, win32api',
           'pdf = r""' + pdf + '""',
           'page = ""' + str(int(page)) + '""',
           '_, exe = win32api.FindExecutable(pdf)', 
           'opts = ""page="" + page', 
           'clst = [exe, ""/A"", opts, ""/N"", pdf]', 
           'DP = 0x00000008', 
           'subprocess.Popen(clst, shell=False, creationflags=DP)'
           ]
    py.write('\n'.join(lst))       
    py.close()
    return py.name
"
29951,28770,django - schedule recurring task interval,"$ ./manage.py rqscheduler --interval=120
"
2849,27011,"Python: Spawn sudo process (in new terminal), wait until completed","os.system('x-terminal-emulator -t ""Installing new packages"" -e ""sh -c \\""sudo tlmgr install %s; touch /tmp/install_completed\\""""' % packagesString)
while not os.path.exists(""/tmp/install_completed""):
    time.sleep(0.1)
os.remove(""/tmp/install_completed"")
"
13973,5233,Writing a file upload API using Django,"from django import forms

class UploadFileForm(forms.Form):
    title = forms.CharField(max_length=50)
    file  = forms.FileField()

from django.views.decorators.csrf import csrf_exempt
from django.http import HttpResponse, HttpResponseNotAllowed, HttpResponseServerError

# Imaginary function to handle an uploaded file.
from somewhere import handle_uploaded_file

@csrf_exempt
def upload_file(request):
    if request.method != 'POST':
        return HttpResponseNotAllowed('Only POST here')

    form = UploadFileForm(request.POST, request.FILES)
    if not form.is_valid():
        return HttpResponseServerError(""Invalid call"")

    handle_uploaded_file(request.FILES['file'])
    return HttpResponse('OK')
"
5556,1723,Matplotlib: using colormap to show regime (axvspan or bar?),"import numpy
import matplotlib.pyplot as plt
import matplotlib.cm as cm
import matplotlib.colors as colors        

# Create fake data
x = numpy.linspace(0,4)
y = numpy.exp(x)

# Now plot one by one
bar_width = x[1] - x[0]  # assuming x is linealy spaced
max_y = y.max()
min_y = y.min()

for pointx, pointy in zip(x,y):
    point = 40
    current_color = cm.jet((pointy - min_y)/(max_y - min_y))
    plt.bar(pointx, point, bar_width, color = current_color)       

plt.show()
"
39966,31427,Python Server Websocket Handshake Response,"MAGIC = b'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'  # Fix key for handshake on server side
class WebSocketsHandler(socketserver.StreamRequestHandler):
   def handshake(self):
      data = self.request.recv(1024).strip()
      hsKey = hsUpgrade = b''
      for header in data.split(b'\r\n'):
         if header.startswith(b'Sec-WebSocket-Key'): hsKey = header.split(b':')[1].strip()
         if header.startswith(b'Upgrade'): hsUpgrade = header.split(b':')[1].strip()
      if hsUpgrade != b""websocket"": return
      digest = b64encode(bytes.fromhex(sha1(hsKey + MAGIC).hexdigest())).decode('utf-8')
      response = ('HTTP/1.1 101 Switching Protocols\r\nUpgrade: websocket\r\n'
            'Connection: Upgrade\r\nSec-WebSocket-Accept: {}\r\n\r\n'.format(digest))
      print('Handshaking...{}'.format(digest))
      self.handshake_done = self.request.send(response.encode('utf8'))
"
15809,11379,Python C api iterate through classes in module,"PyObject *dict = PyModule_GetDict(pModule);
PyObject *key, *value = NULL;
Py_ssize_t pos = 0;

while (PyDict_Next(dict, &pos, &key, &value)) {
    if (PyClass_Check(value)) {
        std::cerr << ""IsClass"" << std::endl;
    } else {
        std::cerr << ""NotClass"" << std::endl;
    }
}
"
38858,60169,Deleting list value if there is another value after,">>> l = [754, 753.554, '', '', '', '', '', 653.455, '',
         '', 258, 235.6464, '' , '', '']
>>> filter(None, [i for i, j in zip(l, l[1:] + ['']) if j == ''])
[753.554, 653.455, 235.6464]
"
14179,82404,How do I split a data array in python into two seperate groupings of variables?,"my_2d_list_of_rows = [row.split() for row in my_file]
my_2d_list_of_columns = zip(*my_2d_list_of_rows) 
"
21337,31315,Pygame + OpenGL - how to draw text after glBegin()?,"#!/usr/bin/env python

from OpenGL.GL import *
from OpenGL.GLUT import *
from OpenGL.GLU import *
import pygame

ESCAPE = '\033'
window = 0
texture = 0

A_TEX_NUMBER = None
B_TEX_NUMBER = None

def GenTextureForText(text):
    font = pygame.font.Font(None, 64)
    textSurface = font.render(text, True, (255,255,255,255),
                              (0,0,0,255))
    ix, iy = textSurface.get_width(), textSurface.get_height()
    image = pygame.image.tostring(textSurface, ""RGBX"", True)
    glPixelStorei(GL_UNPACK_ALIGNMENT,1)
    i = glGenTextures(1)
    glBindTexture(GL_TEXTURE_2D, i)
    glTexImage2D(GL_TEXTURE_2D, 0, 3, ix, iy, 0, GL_RGBA, GL_UNSIGNED_BYTE, image)
    glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST)
    glTexParameterf(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST)
    glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_DECAL)
    return i

def InitGL(Width, Height):
    global A_TEX_NUMBER, B_TEX_NUMBER
    pygame.init()
    A_TEX_NUMBER = GenTextureForText(""a"")
    B_TEX_NUMBER = GenTextureForText(""b"")
    glEnable(GL_TEXTURE_2D)
    glClearColor(0.0, 0.0, 0.0, 0.0)
    glMatrixMode(GL_PROJECTION)
    glLoadIdentity()
    gluPerspective(45.0, float(Width)/float(Height), 0.1, 100.0)
    glMatrixMode(GL_MODELVIEW)
    done = 1

def DrawGLScene():

  glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)
  glLoadIdentity()
  glTranslatef(0.0,0.0,-10.0)
  glBindTexture(GL_TEXTURE_2D, B_TEX_NUMBER)
  glBegin(GL_QUADS)
  glTexCoord2f(0.0, 0.0); glVertex3f(-1.0, -1.0,  1.0)
  glTexCoord2f(1.0, 0.0); glVertex3f( 1.0, -1.0,  1.0)
  glTexCoord2f(1.0, 1.0); glVertex3f( 1.0,  1.0,  1.0)
  glTexCoord2f(0.0, 1.0); glVertex3f(-1.0,  1.0,  1.0)
  glEnd()
  glutSwapBuffers()

def keyPressed(*args):
    if args[0] == ESCAPE:
      glutDestroyWindow(window)
      sys.exit()

def main():
  global window
  glutInit("""")
  glutInitDisplayMode(GLUT_RGBA | GLUT_DOUBLE | GLUT_ALPHA | GLUT_DEPTH)
  glutInitWindowSize(640, 480)
  glutInitWindowPosition(0, 0)
  window = glutCreateWindow(""Jeff Molofee's GL Code Tutorial ... NeHe '99"")
  glutDisplayFunc(DrawGLScene)
  glutIdleFunc(DrawGLScene)
  glutKeyboardFunc(keyPressed)
  InitGL(640, 480)
  glutMainLoop()
print ""Hit ESC key to quit.""
main()
"
21547,23245,python: any tutorial to overlay text on a picture?,"import scipy as sp
import Image
import ImageDraw
import ImageFont

font_fname = '/usr/share/fonts/truetype/freefont/FreeSansBold.ttf'
font_size = 200
font = ImageFont.truetype(font_fname, font_size)

h,w = 1080, 1920
bg_colour = (255, 255, 255)
bg_image = sp.dot(sp.ones((h,w,3), dtype='uint8'), sp.diag(sp.asarray((bg_colour), dtype='uint8')))
image0 = Image.fromarray(bg_image)
draw = ImageDraw.Draw(image0)
draw.text((530, 160), ""hello world"", font=font, fill='rgb(0, 0, 0)')
"
15500,10585,Iterating over every two elements in a list in Python,">>> import itertools
>>> lst = [1,2,3,4]
>>> for x in itertools.combinations(lst, 2):
...     print(x)
...
(1, 2)
(1, 3)
(1, 4)
(2, 3)
(2, 4)
(3, 4)
"
38244,188,How can I rate limit a function in Python 2.7 with a decorator?,"import time
from functools import wraps

last_called = dict()  # When last called, and with what result

def ratelimit(seconds=10, timer=time.time):
    def decorator(func):
        last_called[func] = None

        @wraps(func)
        def wrapper(*args, **kwargs):
            now = timer()
            call_data = last_called.get(func, None)
            if call_data is None or now - call_data[0] >= seconds:
                result = func(*args, **kwargs)
                last_called[func] = (now, result)
            else:
                result = call_data[1]  # Replay rate-limited result
            return result
        return wrapper
    return decorator
"
19989,30451,JavaScript cookie value can't be retrieved in Django,"if request.COOKIES['language'] == 'EN':
    return """"""<b>%s</b>"""""" % ""Home"" 
"
12643,17313,Check selection and compare to list for python,"selection = raw_input(""Now is your chance to pick which brand you want. "")
print ""You selected "", selection
if selection in car_brands:
    print ""It is in the list""
else:
    print ""Its not in the list""
"
28184,32073,Remove duplicate sublists from a list,"m = [[1,2,3], ['a', 'c'], [3,4,5],[1,2], [3,4,5], ['a', 'c'], [3,4,5], [1,2]]

print [list(i) for i in set(map(tuple, m))]
"
6549,1712,"Python - get last item in a list, using a file","lastItems = [int(i[-1]) for i in yourList[2:]]
"
39240,83633,Memcache key generation from the query,"import hashlib
query = """" #your query here
cache_key = str(int(hashlib.md5(query.lower()).hexdigest(), 16))
"
33363,58618,Correct way to count for a foreign key model in Django template,"from django.db.models import Count

Author.objects.annotate(article_count=Count('articles'))
"
29380,81348,How to implement setWordWrap(True) for a custom QLabel?,"    painter.drawText(self.rect(), self.alignment() | Qt.TextWordWrap, self.text())
"
25309,44336,How to create a reusable basemap,"if not map:  
    map = base_map.set_a_map()
"
10577,52928,communicate with java server through python client,"def send_request(self, xml_string):
    send_string = struct.pack('i', len(xml_string)) + xml_string
    size = len(send_string)
    sent = 0
    while sent < size:
        try:
            sent += self.sock.send(send_string[sent:])
        except socket.error:
            print >> sys.stderr, ""The connection to the server was lost.""
            break
    else:
        print ""Request sent.""
"
26297,71329,"Python, format this list","a = [(1, 2), (1, 8), (2, 3), (2, 7), (2, 8), (2, 9), (3, 1), (3, 2), (3, 5), (3, 6),  (3, 7), (3, 7), (3, 9)]

x1=None  # here we keep track of the last x we saw
ys=None  # here we keep track of all ys we've seen for this x1

result = [] 

for x,y in a:
    if x != x1:  # this is an x we haven't seen before
        if ys:   # do we have results for the last x?
            result.append( ys ) 
        ys = [ x, '', y ] # initialize the next set of results
        x1 = x
    else:
        ys.append( y ) # add this to the results we are buliding

if ys:
    result.append( ys )  # add the last set of results

print result
"
11320,1068,How do I know how many result pages can I get using python-twitter GetSearch() method,"import twitter
api = twitter.Api()

# try a large page number:
i = 181

try:
    result = api.GetSearch(""Avatar"", page=i)
    print [s.text for s in result]
except:
    print 'page is out of range'
"
24112,52494,Function finding substrings in a list,"def find_substrs(li):
    return [y for x,y in zip(li,li[1:]) if y in x]

find_substrs(['hopefully','hope','hop','testing','test'])
Out[49]: ['hope', 'hop', 'test']
"
24571,1538,Generate a 2D boolean array from tuples,"In [397]: lst = [(0,1), (0, 2), (1, 0), (1, 3), (2,1)]

In [398]: tuple(zip(*lst))    # make a tuple of tuples (or lists)
Out[398]: ((0, 0, 1, 1, 2), (1, 2, 0, 3, 1))

In [399]: A=np.zeros((3,4),dtype=bool)  # make an array of False

In [400]: A[tuple(zip(*lst))] = True  # assign True to the 5 values

In [401]: A
Out[401]: 
array([[False,  True,  True, False],
       [ True, False, False,  True],
       [False,  True, False, False]], dtype=bool)
"
21208,60058,How to close a python figure by keyboard input?,"import numpy as np
import matplotlib.pyplot as plt

t = np.arange(0.0, 2.0, 0.01)
s = np.sin(2*np.pi*t)


fig = plt.figure()
plt.plot(t,s)
#plt.show()
plt.draw()
plt.pause(1) # <-------
raw_input(""<Hit Enter To Close>"")
plt.close(fig)
"
15613,13621,Specify field to be rendered in the django admin,"class TestModelAdminForm(forms.ModelForm):
    user = forms.MultipleChoiceField(choices=[ (user.id, user.email) for user in User.objects.all()])
    class Meta:
        model = TestModel
        fields = ('user','group')

class TestModelAdmin(admin.ModelAdmin):
    form = TestModelAdminForm
"
32392,22862,How to send control C to Mac Terminal using python?,"os.kill(pid, signal.SIGINT)
"
15767,38807,Problems loading JSON code in Python,"import traceback
try:
    d = json.loads(data[data.index('{'):-1])
except:
    traceback.print_exc()
else:
    print(d)
"
10426,35151,Buildout-aware Python autocompletion for Sublime Text,"[codeintel]
recipe = corneti.recipes.codeintel
eggs = ${buildout:eggs}
extra-paths =
    ${omelette:location}
"
37436,81519,How do I make a loop in Python?,"repeat = True
while repeat:
    Number = int(input(""Number Required""))

    if Number >= 1 and Number<=50:
      add =(Number * 5)
      print(""The Number amount it"", add)

    elif Number <= 80 and Number >= 50:
       add =(Number * 4)
       print(""The Number amount it"", add)

    elif Number <= 100 and Number >= 80:
       add =(Number * 2.5)
       print(""The Number amount it"", add)

    run = input(""would you like to check again type yes or no"")
    if run == 'no': repeat = False
"
18541,47679,"Python test case does not run at all, returns nothing","def pig_latinify(word):
    """"""
    takes input from user
    check IF there is a vowel at beginning
        do this
    ELSE
        do this
    print result

    :param :
    :return:
    :raises:

    """"""
    if word.isalpha() == False:
        return AssertionError
    elif word[0] in (""a"", ""e"", ""i"", ""o"", ""u""):
        result = word + ""yay""
    else:
        while word[0] not in (""a"", ""e"", ""i"", ""o"", ""u""):
            word = word[1:] + word[0]
            result = word + ""ay""
    return result

#pig_latinify()

word_starting_with_vowel = [""apple""]
word_starting_with_consonant = [""scratch""]
word_containing_alphanumeric = [""HE90LLO""]

def test_word_starting_with_vowel():
    for item in word_starting_with_vowel:                 
        assert pig_latinify(""apple"") == ""appleyay""


def test_word_starting_with_vowel_2():
    for item in word_starting_with_vowel:
        assert pig_latinify(""is"") == ""isyay""


def test_word_starting_with_consonant():
    for item in word_starting_with_consonant:
        assert pig_latinify(""scratch"") == ""atchscray""


def test_word_containing_alphanumeric():
    for item in word_containing_alphanumeric:
        try:
            pig_latinify(""HE90LLO"")
        except AssertionError:
            assert True

if __name__ == ""__main__"":
    test_word_starting_with_vowel()
    test_word_starting_with_vowel_2()
    test_word_starting_with_consonant()
    test_word_containing_alphanumeric()
"
10418,32603,How do I split a string and put it into a dictionary?,">>> from ast import literal_eval
>>> data = ""(\'unpredictable\', \'JJ\'), (\'man\', \'NN\')""
>>> literal_eval(data)
(('unpredictable', 'JJ'), ('man', 'NN'))
>>> dict(literal_eval(data))
{'man': 'NN', 'unpredictable': 'JJ'}
>>>
"
30688,49217,How to better work with time related commands in Python?,"def wlanCheck():
    #Do something..

    #Timer controller...
    if util.getThreadKill() != 1:
        global tWLAN
        tWLAN = 0
        tWLAN = Timer(900, wlan.WLAN_check)
        tWLAN.start()

tWLAN = Timer(900, wlan.WLAN_check)
"
32356,2668,Pattern finding LZW python,"keys = []
def lzw(text):
      tokens = text.split()
      new_keys = dict.fromkeys(tokens).keys()
      keys.extend([key for key in new_keys if  key not in keys])
      encoded = [""%s""%keys.index(tok) for tok in tokens]
      for i,key in enumerate(keys):
           try:
              encoded[encoded.index(str(i))] = key
           except:
               pass
      return "" "".join(encoded)

print lzw(""abcd abcd fasf asda abcd fasf"")
#outputs: abcd 0 fasf asda 0 2
"
15112,45319,selective RECORD using python xlib?,"def record_callback(reply):
    if reply.category != record.FromServer:
        return
    if reply.client_swapped:
        print ""* received swapped protocol data, cowardly ignored""
        return
    if not len(reply.data) or ord(reply.data[0]) < 2:
        # not an event
        return

    data = reply.data
    clients=local_dpy.screen().root.query_tree().children
    while len(data):
        event, data = rq.EventField(None).parse_binary_value(data, record_dpy.display, None, None)
        if event.type == X.ButtonRelease:
            if(event.detail==1):
                for btn in buttons:
                  if(event.root_x>=btn[0] and event.root_x<=btn[1]):
                      if(event.root_y>=btn[2] and event.root_y<=btn[3]):
                          doit=1
                          for win in clients:
                              if win==local_dpy.screen().root.query_pointer().child:
                                  doit=2
                          if doit==1:
                              os.system(btn[4])
"
37919,75988,Python dict() and the variable as an argument,"graph[v1][v2] = weight
"
9879,52262,Having a django model which can belong to either of two other models (foreign key relation),"class CaseFolder(models.Model):
    name = models.CharField()
    parent = models.ForeignKey('self', blank=True, related_name='subfolders')

class Document(models.Model):
    file = models.FileField(upload_to=set_upload_path)
    belongs_to = models.ForeignKey(CaseFolder)
"
18889,13863,Setting the relief of a button in ttk,"[('Button.button', {'children':
    [('Button.focus', {'children':
        [('Button.padding', {'children':
            [('Button.label', {'sticky': 'nswe'})],
        'sticky': 'nswe'})],
    'sticky': 'nswe'})],
'sticky': 'nswe'})]
"
39463,48295,Separating integers from a string properly (no regex),">>> s = '34 ch33se 34e8 3.4'
>>> map(int, filter(None, ''.join(map(lambda c: (c.isdigit() and c or ' '), s)).split(' ')))
[34, 33, 34, 8, 3, 4]
"
21926,80781,Check if required variable has been passed,">>> def frob(n=None):
...     if n is None:
...             n = int(raw_input(""Please enter a value:""))
...     return n**2 + n
...
>>> frob(23)
552
>>> frob()
Please enter a value:42
1806
"
15734,83022,Is there any way to access <option> text when parsing forms using lxml.html?,"options = doc.xpath(""//select[@name='country']/option"")
option_text = [option.text for option in options]
"
24875,22476,Getting or Manipulating all cookies in Selenium Webdriver,"co = webdriver.ChromeOptions()
co.add_argument(""--user-data-dir=userdir"")
browser = webdriver.Chrome(chrome_options = co) 
"
25956,15875,str.replace() or re.sub() continually until substring no longer present,"def sub_func(match):
    text = match.group(1)
    return ""t""*text.count(""t"") + ""s""*text.count(""s"")

re.sub(r'(s[st]*t)', sub_func, text)
"
27715,47043,Replace text between 2 strings," import re
 with open('Courses.txt', 'r') as f1, open('dst.txt', 'r') as f2:
        text = f1.read()
        text2 = f2.read()
        ntext = re.sub(r'(//Start.*?\n+)(.*)(//End)',r'\1' + text + r'\3',text2, flags=re.M|re.DOTALL)

    with open('dst.txt', 'w') as fout:
        fout.write(ntext)
"
34632,31992,Regex Match on IP Address Before Known String,">>> inp='''Starting Nmap 6.40 ( http://nmap.org ) at 2014-02-15 22:20 PST
... Nmap scan report for 192.168.1.1
... Host is up (0.00025s latency).
... MAC Address: ZZ:ZZ:11:ZZ:ZZ:ZZ (Cisco-Linksys)
... Nmap scan report for 192.168.1.2
... Host is up (0.0084s latency).
... MAC Address: ZZ:ZZ:A1:2E:ZZ:ZZ (Apple)
... Nmap scan report for 192.168.1.9
... Host is up (0.012s latency).
... MAC Address: A4:ZZ:57:17:ZZ:ZZ (Seiko Epson)
... Nmap scan report for 192.168.1.103
... Host is up (0.036s latency).
... MAC Address: ZZ:ZZ:6D:05:ZZ:ZZ (Apple)'''
>>> import re
>>> r1 = re.compile(r'Nmap scan report for ([0-9.]*)[^:]*[^(]*\(Seiko Epson\)')
>>> r1.search(inp).group(1)
'192.168.1.9'
"
25365,20597,Repeat print after every n prints,"def Print(n, s):
    i=0
    while i<n:
        print s
        i+=1

n=3
while True:
    Print(n, 'Yes')
    Print(n, 'No')
"
3581,48350,How to pass MongoDB collection name as a parameter to a DB connection function-Python,"getattr(conn.dbname, col_name)
"
35073,33225,How do I declare a global variable in python?,"#!/usr/bin/python

def travel():
    travel.totrate=0
    def guide():
        print""Due to prefer a guide??""
        print""a guide inperson...rate=1000""
        print""maps,3g....rate=2000""
        ch6=raw_input(""ENter your choice"")
        if(ch6==""person"") or (ch6==""PERSON""):
            increment = 1000
        elif(ch6==""gadget"" or ch6==""GADGET""):
            increment = 2000
        else:
            print ""invalid""
        travel.totrate += increment
        print travel.totrate

    guide()
travel()
"
25107,48422,What pattern is best suited for executing different actions (depending on user input) in python,"import operator

# custom function 

def diff_squares(a, b):
    return a ** 2 - b ** 2

operators = {'add' : operator.add,
             'sub' : operator.sub,
             'mul' : operator.mul,
             'div' : operator.div,
             'dos' : diff_squares}

data = raw_input('Question: ')
data = data.split()

a = int(data[0]) # one number
b = int(data[1]) # two number

answer = operators[data[2]](a, b)
print 'Solution:', answer 
"
32986,82834,How to use python properly to extend cmd.exe functionality,"@echo off
rem = """"""
setlocal enableextensions
set PYTHON=""C:/Python27/python.exe""
%PYTHON% -x ""%~f0"" %*
goto endofPython """"""

# Your python code goes here ..

if __name__ == ""__main__"":
    # Looks for a file on disk and take me there
    import sys
    import os
    if len(sys.argv) == 2:
        for root, dirnames, filenames in os.walk(os.getcwd()):
            for filename in filenames:
                if filename == sys.argv[1]:
                    print 'TAKING YOU TO: %s' % root
                    command = '&'.join(['cls',
                                        'title %s' % root,
                                        'cd %s' % root,
                                        'cmd /k'])
                    os.system(command)

rem = """"""
:endofPython """"""
"
26271,54425,How to drop duplicates in Pandas DataFrame by checking for a condition?,"from collections import Counter

df = pd.DataFrame({'ID': [1, 1, 2, 2, 2, 3], 'a': [10, 40, 5, 10, 10, 5]})
>>> df
   ID   a
0   1  10
1   1  40
2   2   5
3   2  10
4   2  10
5   3   5

c = Counter(df.ID)
dups = [n for n in c if c[n] > 1]
mask = df.ID.isin(dups)
result = df.loc[(~mask) | ((mask) & (df.a == 10)), :]
>>> result
   ID   a
0   1  10
3   2  10
4   2  10
5   3   5

>>> result.drop_duplicates()
   ID   a
0   1  10
3   2  10
5   3   5
"
10771,80632,Python: Printing the return of a function,"def OR_Gate():                                              
  a = raw_input(""Input A:"")                                        
  b = raw_input(""Input B:"")                                        
  return ""True"" in [a,b]
"
19961,58345,Reading specific words and values from a file and storing them in a dictionary,"r'^\d(\s[a-zA-Z])+'
"
24622,63355,Creating lists of random length in python,"l1 = [ i + 1 for i in range(randint(...)  ]
"
13420,40553,Plotting a list of 3D points in SymPy,"import matplotlib as mpl
from mpl_toolkits.mplot3d import Axes3D
import numpy as np
import matplotlib.pyplot as plt
import itertools

fig = plt.figure()
ax = fig.gca(projection='3d')

# plotting the points
pts = [(0,0,0),(1,0,0),(0,2,0),(0,0,3)]
for p in pts:
    ax.scatter(p[0], p[1], p[2], zdir='z', c='r')

# plotting lines for each point pair
for a, b in itertools.product(pts, pts):
    x = np.linspace(a[0], b[0], 100)
    y = np.linspace(a[1], b[1], 100)
    z = np.linspace(a[2], b[2], 100)
    ax.plot(x, y, z)

ax.legend()
ax.set_xlim3d(0, 1)
ax.set_ylim3d(0, 2)
ax.set_zlim3d(0, 3)

plt.show()
"
6503,75021,Extracting datetime info from yeardatescalendar in python,"import calendar

c = calendar.Calendar().yeardatescalendar(2014)
#print c

#first week
print c[0][0][0]
[datetime.date(2013, 12, 30), datetime.date(2013, 12, 31), datetime.date(2014, 1, 1), datetime.date(2014, 1, 2), datetime.date(2014, 1, 3), datetime.date(2014, 1, 4), datetime.date(2014, 1, 5)]

#last week
print c[-1][-1][-1]
[datetime.date(2014, 12, 29), datetime.date(2014, 12, 30), datetime.date(2014, 12, 31), datetime.date(2015, 1, 1), datetime.date(2015, 1, 2), datetime.date(2015, 1, 3), datetime.date(2015, 1, 4)]

#filter datetimes by list comprehension
print [x for x in c[0][0][0] if x.year == 2014]
[datetime.date(2014, 1, 1), datetime.date(2014, 1, 2), datetime.date(2014, 1, 3), datetime.date(2014, 1, 4), datetime.date(2014, 1, 5)]

print [x for x in c[-1][-1][-1] if x.year == 2014]
[datetime.date(2014, 12, 29), datetime.date(2014, 12, 30), datetime.date(2014, 12, 31)]

#replace first and last week
c[0][0][0] = [x for x in c[0][0][0] if x.year == 2014]
c[-1][-1][-1] = [x for x in c[-1][-1][-1] if x.year == 2014]

print c[0][0][0]
[datetime.date(2014, 1, 1), datetime.date(2014, 1, 2), datetime.date(2014, 1, 3), datetime.date(2014, 1, 4), datetime.date(2014, 1, 5)]

print c[-1][-1][-1]
[datetime.date(2014, 12, 29), datetime.date(2014, 12, 30), datetime.date(2014, 12, 31)]
"
25491,65312,why python print an empty line from a file,"for line in linelist:
    print line.rstrip('\n')
"
16768,15813,Matplotlib - Stepped histogram with already binned data,"from matplotlib import pyplot
import numpy as np

#sample data:
x = np.arange(30)
y = np.cumsum(np.arange(30))
#offset the x for horizontal, repeat the y for vertical:
x = np.ravel(zip(x,x+1))
y = np.ravel(zip(y,y))

pyplot.plot(x,y)
pyplot.savefig('plt.png')
"
32368,16403,Checking if matrix has a value,">>> m=[[1,1,1],[1,0,1],[1,1,1]]
>>> not any(j==0 for i in m for j in i)
False
>>> m=[[1,1,1],[1,1,1],[1,1,1]]
>>> not any(j==0 for i in m for j in i)
True
"
6188,9166,How to get the last N lines of a subprocess' stderr stream output?,"N = 3 # for 3 lines of output
p = subprocess.Popen(['/path/to/external-app.sh'], 
    stdout=subprocess.PIPE, stderr=subprocess.PIPE)
stdout, stderr = p.communicate()

if p.returncode != 0:
    print (""ERROR: External app did not complete successfully ""
           ""(error code is %s)"" % p.returncode)
    print ""Error/failure details: "", '\n'.join(stderr.splitlines()[-N:])
    status = False
else:
    status = True
"
12111,45896,Python: Nested dictionary with arbitrary number of levels,"def nested_dict(tuple, value=10):
    if len(tuple) is 1:
        return { tuple[0] : value }
    return { tuple[0] : nested_dict(tuple[1:], value=value) }
"
37660,16867,Can I use one route for multiple functions?,"@app.route(""/<user_name>/<int:user_id>"")
def user_details(user_name, user_id):
    # ...
    # some code
    # ...
    if request.args.get('settings'):
        return render_template('user_settings.html', ...)
    else:
        return render_template('user_details.html', ...)
"
36174,7796,Remove certain return characters from tab-separated values file,"#!/usr/bin/python

import re, sys

pat_incomplete = re.compile(r'\\\s*$')
pat_indented = re.compile(r'^\t')

try:
    _, fname_in, fname_out = sys.argv
except ValueError:
    print(""Usage: python line_joiner.py <input_filename> <output_filename>"")
    sys.exit(1)

with open(fname_in) as in_f, open(fname_out, ""w"") as out_f:
    lines = iter(in_f)
    try:
        line = next(lines)
        s = pat_incomplete.sub('', line)
    except StopIteration:
        print(""Input file did not contain any data"")
        sys.exit(2)

    for line in lines:
        line = pat_incomplete.sub('', line)
        if pat_indented.match(line):
            s += pat_indented.sub('',line)
        else:
            out_f.write(s)
            s = line
    out_f.write(s)
"
29744,2845,how to compare values in loop in python,"min(ProdPrice.objects.filter(product=x['id']).aggregate(Min('price'))['price__min'] for x in c)
"
19384,27697,How to extract table names and column names from sql query?,"import ply.lex as lex, re

tokens = (
    ""TABLE"",
    ""JOIN"",
    ""COLUMN"",
    ""TRASH""
)

tables = {""tables"": {}, ""alias"": {}}
columns = []

t_TRASH = r""Select|on|=|;|\s+|,|\t|\r""

def t_TABLE(t):
    r""from\s(\w+)\sas\s(\w+)""

    regex = re.compile(t_TABLE.__doc__)
    m = regex.search(t.value)
    if m is not None:
        tbl = m.group(1)
        alias = m.group(2)
        tables[""tables""][tbl] = """"
        tables[""alias""][alias] = tbl

    return t

def t_JOIN(t):
    r""inner\s+join\s+(\w+)\s+as\s+(\w+)""

    regex = re.compile(t_JOIN.__doc__)
    m = regex.search(t.value)
    if m is not None:
        tbl = m.group(1)
        alias = m.group(2)
        tables[""tables""][tbl] = """"
        tables[""alias""][alias] = tbl
    return t

def t_COLUMN(t):
    r""(\w+\.\w+)""

    regex = re.compile(t_COLUMN.__doc__)
    m = regex.search(t.value)
    if m is not None:
        t.value = m.group(1)
        columns.append(t.value)
    return t

def t_error(t):
    raise TypeError(""Unknown text '%s'"" % (t.value,))
    t.lexer.skip(len(t.value))

# here is where the magic starts
def mylex(inp):
    lexer = lex.lex()
    lexer.input(inp)

    for token in lexer:
        pass

    result = {}
    for col in columns:
        tbl, c = col.split('.')
        if tbl in tables[""alias""].keys():
            key = tables[""alias""][tbl]
        else:
            key = tbl

        if key in result:
            result[key].append(c)
        else:
            result[key] = list()
            result[key].append(c)

    print result
    # {'tb1': ['col1', 'col7'], 'tb2': ['col2', 'col8']}    

string = ""Select a.col1, b.col2 from tb1 as a inner join tb2 as b on tb1.col7 = tb2.col8;""
mylex(string)
"
30356,58403,Creating a sub-window with PyGTK,"from gi.repository import Gtk

class AnotherWindow(Gtk.Window):
    def __init__(self):
        Gtk.Window.__init__(self, title=""GCT"")
        self.connect(""destroy"", lambda x: Gtk.main_quit())

        self.add(Gtk.Label(""This is another window""))
        self.show_all()



class Main(Gtk.Window):
    def __init__(self):
        Gtk.Window.__init__(self, title=""GCT"")
        self.connect(""destroy"", lambda x: Gtk.main_quit())

        self.box = Gtk.Box()
        self.set_default_size(300, 300)
        self.set_position(Gtk.WindowPosition.CENTER)
        self.table = Gtk.Table(6, 5)

        self.button = Gtk.Button(""sub-window"")
        self.button.connect(""clicked"", self.open_window)
        self.table.attach(self.button, 0, 2, 0, 1)

        self.box.add(self.table)
        self.add(self.box)
        self.show_all()

    def open_window(self, win):
        subw = AnotherWindow()


def main():
    m = Main()
    Gtk.main()
    return 0

if __name__ == '__main__':
    main()
"
3683,74272,"Import arbitrary-named file as a Python module, without generating bytecode file","import os
import sys
import imp
import contextlib

@contextlib.contextmanager
def preserve_value(namespace, name):
    """""" A context manager to preserve, then restore, the specified binding.

        :param namespace: The namespace object (e.g. a class or dict)
            containing the name binding.
        :param name: The name of the binding to be preserved.
        :yield: None.

        When the context manager is entered, the current value bound to
        `name` in `namespace` is saved. When the context manager is
        exited, the binding is re-established to the saved value.

        """"""
    saved_value = getattr(namespace, name)
    yield
    setattr(namespace, name, saved_value)


def make_module_from_file(module_name, module_filepath):
    """""" Make a new module object from the source code in specified file.

        :param module_name: The name of the resulting module object.
        :param module_filepath: The filesystem path to open for
            reading the module's Python source.
        :return: The module object.

        The Python import mechanism is not used. No cached bytecode
        file is created, and no entry is placed in `sys.modules`.

        """"""
    py_source_open_mode = 'U'
    py_source_description = ("".py"", py_source_open_mode, imp.PY_SOURCE)

    with open(module_filepath, py_source_open_mode) as module_file:
        with preserve_value(sys, 'dont_write_bytecode'):
            sys.dont_write_bytecode = True
            module = imp.load_module(
                    module_name, module_file, module_filepath,
                    py_source_description)

    return module


def import_program_as_module(program_filepath):
    """""" Import module from program file `program_filepath`.

        :param program_filepath: The full filesystem path to the program.
            This name will be used for both the source file to read, and
            the resulting module name.
        :return: The module object.

        A program file has an arbitrary name; it is not suitable to
        create a corresponding bytecode file alongside. So the creation
        of bytecode is suppressed during the import.

        The module object will also be added to `sys.modules`.

        """"""
    module_name = os.path.basename(program_filepath)

    module = make_module_from_file(module_name, program_filename)
    sys.modules[module_name] = module

    return module
"
12506,31402,RealTime output from a subprogram to stdout of a pyQT Widget,"import sys
from PyQt4 import QtGui,QtCore

class gui(QtGui.QMainWindow):
    def __init__(self):
        super(gui, self).__init__()
        self.initUI()

    def dataReady(self):
        cursor = self.output.textCursor()
        cursor.movePosition(cursor.End)
        cursor.insertText(str(self.process.readAll()))
        self.output.ensureCursorVisible()

    def callProgram(self):
        # run the process
        # `start` takes the exec and a list of arguments
        self.process.start('ping',['127.0.0.1'])

    def initUI(self):
        # Layout are better for placing widgets
        layout = QtGui.QHBoxLayout()
        self.runButton = QtGui.QPushButton('Run')
        self.runButton.clicked.connect(self.callProgram)

        self.output = QtGui.QTextEdit()

        layout.addWidget(self.output)
        layout.addWidget(self.runButton)

        centralWidget = QtGui.QWidget()
        centralWidget.setLayout(layout)
        self.setCentralWidget(centralWidget)

        # QProcess object for external app
        self.process = QtCore.QProcess(self)
        # QProcess emits `readyRead` when there is data to be read
        self.process.readyRead.connect(self.dataReady)

        # Just to prevent accidentally running multiple times
        # Disable the button when process starts, and enable it when it finishes
        self.process.started.connect(lambda: self.runButton.setEnabled(False))
        self.process.finished.connect(lambda: self.runButton.setEnabled(True))


#Function Main Start
def main():
    app = QtGui.QApplication(sys.argv)
    ui=gui()
    ui.show()
    sys.exit(app.exec_())
#Function Main END

if __name__ == '__main__':
    main() 
"
17384,22566,Empty list returning by xpath in scrapy,"{
  ""prodList"": [
    {
      ""pid"": ""955492"",
      ""pnm"": ""Samsung Star 3 Duos"",
      ""mctid"": ""27"",
      ""pc"": ""5,650"",
      ""mrp"": ""6290"",
      ""pdc"": ""10"",
      ""pimg"": ""Samsung-Star-3-duos-1.jpg"",
      ""rt"": ""8"",
      ""prc"": ""1"",
      ""per"": ""Y"",
      (...)
    },
    (...)
}
"
20870,37432,Cursor position changed in textview,"from gi.repository import Gtk

class CursorSample(Gtk.Application):
    def __init__(self):
        Gtk.Application.__init__(self, application_id=""org.app.CursorSample"")

        self.buffer = Gtk.TextBuffer()
        self.buffer.connect(""notify::cursor-position"",
                            self.on_cursor_position_changed)

        self.tw = Gtk.TextView()
        self.tw.set_buffer(self.buffer)
        self.tw.props.wrap_mode = Gtk.WrapMode.CHAR

    def do_activate(self):
        main_window = Gtk.Window(Gtk.WindowType.TOPLEVEL)
        main_window.add(self.tw)
        self.add_window(main_window)
        main_window.set_position(Gtk.WindowPosition.CENTER)
        main_window.show_all()

    def on_cursor_position_changed(self, buffer, data=None):
        print buffer.props.cursor_position

if __name__ == ""__main__"":
    cursorsample = CursorSample()
    cursorsample.run(None)
"
8098,53844,Python -- Setting Background color to transparent in Plotly plots,"import plotly.plotly as py
from plotly.graph_objs import *
py.sign_in('', '')
data = Data([
    Bar(
        x=['Sivaranjani S', 'Vijayalakshmi C', 'Rajeshwari S', 'Shanthi Priscilla', 'Pandiyaraj G', 'Kamatchi S', 'MohanaPriya', 'Madhumitha G', 'Franklin Alphones Raj J', 'Akfaris Almaas', 'Biswajit Champati', 'Priya R', 'Rekha Rajasekaran', 'Sarath Kumar B', 'Jegan L', 'Karthick A', 'Mahalakshmi S', 'Ragunathan V', 'Anu S', 'Ramkumar KS', 'Uthra R'],
        y=[1640, 1394, 1390, 1313, 2166, 1521, 1078, 1543, 780, 1202, 1505, 2028, 2032, 1769, 1238, 1491, 1477, 1329, 2038, 1339, 1458],
        text=['Scuti', 'Scuti', 'Cygni', 'Scorpii', 'Scuti', 'Pollux', 'Scorpii', 'Pollux', 'Scuti', 'Pollux', 'Scorpii', 'Scorpii', 'Scuti', 'Cygni', 'Scorpii', 'Scuti', 'Scuti', 'Pollux', 'Scuti', 'Pollux', 'Pollux']
    )
])

layout = Layout(
    paper_bgcolor='rgba(0,0,0,0)',
    plot_bgcolor='rgba(0,0,0,0)'
)

fig = Figure(data=data, layout=layout)

plot_url = py.plot(fig, filename='transparent-background')
"
18872,1163,How do I make a menu that does not require the user to press [enter] to make a selection?,"import msvcrt
answer=msvcrt.getch()
"
24739,15898,Google App Engine Application Cache,"from google.appengine.ext import webapp
from google.appengine.ext.webapp.util import run_wsgi_app

from lib import user
import guest
import authorized

def main():
    if user.isLoggedIn():
        run_wsgi_app(authorized.application)
    else:
        run_wsgi_app(guest.application)

if __name__ == ""__main__"":
    main()
"
537,24639,How to retreive page data as input and give a custome defined Output to the use?,"import urllib2
from django.views.generic import View

class SimpleProxy(View):
    def get(self, request, source_url, *args, **kwargs):
        request = urllib2.Request(url)
        response = urllib2.urlopen(request)
        body = response.read()
        # Update body here
        return HttpResponse(body, status=response.getcode(),
            content_type=response.headers['content-type'])
"
31386,42774,Need to check if an answer in a quiz is correct (Python),"from random import *

legislators = { ""Tsang Yok-sing"" : ""DAB"", ""Albert Ho"" :
""Democratic"", ""Lee Cheuk-yan"" : ""Labour"", ""James To"" :
""Democratic"", ""Chan Kam-lam"" : ""DAB"", ""Lau Wong-fat"" :
""Economic Synergy"", ""Emily Lau"" : ""Democratic"" }

names = list(legislators.keys())

parties = list(legislators.values())

numberCorrect = 0

for i in range(0, 5):

    name = names[randrange(len(names))]

    party = parties[randrange(len(parties))]

    ans = raw_input(""Does ""+name+"" belong to ""+party+ "" Y/N?"")

    if ans == 'Y':

        if legislators[name] == party:

            print 'correct'

        else:
            print 'error'

    elif ans == 'N':

        if legislators[name] == party:

            print 'error'
        else:

            print 'correct'
"
30416,81126,wxPython - run function after GUI is fully drawn,"wx.FutureCall(0, foo.bar)
"
39344,72086,"Python 2.7.8 Tkinter Gui with image, button and text","...
img = ImageTk.PhotoImage(Image.open(""test.gif""))
panel = Label(root, image = img)
panel.pack(side=""top"", fill = ""both"", expand = ""yes"")

app = Frame(root)
app.pack(side='bottom')
button1 = Button(app, text = ""This is a button"")
button1.pack()
...
"
11993,68216,string convert to datetime timezone,"from time import mktime, localtime
from datetime import datetime
from copy import copy

def main():
    input_timestrings = [""9-28 11:07:57.435"", ""9-28 12:00:00.773""]
    input_datetimes = timestrings_to_datestimes(input_timestrings)

    start_datetime = input_datetimes[0]
    end_datetime = input_datetimes[1]

    # subtraction between datetime objects returns a timedelta object
    period_length = end_datetime - start_datetime

    bins = 3

    # operation w/ timedelta objects and datetime objects work pretty much as you'd expect it to
    delta = period_length / bins
    datetimes = list(custom_range(start_datetime, end_datetime + delta, delta))
    output_timestrings = datetimes_to_timestrings(datetimes)

    print output_timestrings
    return

def timestrings_to_datetimes(timestrings):
    datetimes = [datetime.strptime(""2014-""+timestring, ""%Y-%m-%d %H:%M:%S.%f"") for timestring in timestrings]
    return datetimes

def datetimes_to_timestrings(datetimes):
    timestrings = [datetime_.strftime(""%Y-%m-%d %H:%M:%S %Z%z"") for datetime_ in datetimes]
    return timestrings

def custom_range(start, end, jump):
    x = start
    while x < end:
        yield x
        x = x + jump


if __name__ == ""__main__"":
    main()
"
19971,85178,filling gaps on an image using numpy and scipy,">>> from sklearn.preprocessing import Imputer
>>> imp = Imputer(strategy=""mean"")
>>> a = np.random.random((5,5))
>>> a[(1,4,0,3),(2,4,2,0)] = np.nan
>>> a
array([[ 0.77473361,  0.62987193,         nan,  0.11367791,  0.17633671],
   [ 0.68555944,  0.54680378,         nan,  0.64186838,  0.15563309],
   [ 0.37784422,  0.59678177,  0.08103329,  0.60760487,  0.65288022],
   [        nan,  0.54097945,  0.30680838,  0.82303869,  0.22784574],
   [ 0.21223024,  0.06426663,  0.34254093,  0.22115931,         nan]])
>>> a = imp.fit_transform(a)
>>> a
array([[ 0.77473361,  0.62987193,  0.24346087,  0.11367791,  0.17633671],
   [ 0.68555944,  0.54680378,  0.24346087,  0.64186838,  0.15563309],
   [ 0.37784422,  0.59678177,  0.08103329,  0.60760487,  0.65288022],
   [ 0.51259188,  0.54097945,  0.30680838,  0.82303869,  0.22784574],
   [ 0.21223024,  0.06426663,  0.34254093,  0.22115931,  0.30317394]])
"
8048,56816,Bitwise operations in Pandas that return numbers rather than bools?,"In [184]: df = pd.DataFrame([1, 2, 3, 4, 5, 6, 7, 8], columns=['data'])

In [185]: mask = 0b1100

In [186]: np.bitwise_and(df['data'], mask)
Out[186]: 
0    0
1    0
2    0
3    4
4    4
5    4
6    4
7    8
Name: data, dtype: int64
"
17548,22525,Downloading treasury data with Pandas read_csv,"In [20]: dataframe = read_csv(csvio, header=5, index_col=None, parse_dates=True)

In [21]: dataframe
Out[21]: 
<class 'pandas.core.frame.DataFrame'>
Int64Index: 13379 entries, 0 to 13378
Data columns:
Time Period       13379  non-null values
RIFLGFCY10_N.B    13379  non-null values
dtypes: object(2)

In [22]: dataframe.head()
Out[22]: 
  Time Period RIFLGFCY10_N.B
0  1962-01-02           4.06
1  1962-01-03           4.03
2  1962-01-04           3.99
3  1962-01-05           4.02
4  1962-01-08           4.03
"
17510,5191,Resizing Tkinter Frames with fixed aspect-ratio,"import Tkinter as tk
from Tkconstants import *
r=tk.Tk()

def set_aspect(content_frame, pad_frame, aspect_ratio):
    # a function which places a frame within a containing frame, and
    # then forces the inner frame to keep a specific aspect ratio

    def enforce_aspect_ratio(event):
        # when the pad window resizes, fit the content into it,
        # either by fixing the width or the height and then
        # adjusting the height or width based on the aspect ratio.

        # start by using the width as the controlling dimension
        desired_width = event.width
        desired_height = int(event.width / aspect_ratio)

        # if the window is too tall to fit, use the height as
        # the controlling dimension
        if desired_height > event.height:
            desired_height = event.height
            desired_width = int(event.height * aspect_ratio)

        # place the window, giving it an explicit size
        content_frame.place(in_=pad_frame, x=0, y=0, 
            width=desired_width, height=desired_height)

    pad_frame.bind(""<Configure>"", enforce_aspect_ratio)

pad_frame = tk.Frame(borderwidth=0, background=""bisque"", width=200, height=200)
pad_frame.grid(row=0, column=0, sticky=""nsew"", padx=10, pady=20)
content_frame=tk.Frame(r,borderwidth=5,relief=GROOVE, background=""blue"")
tk.Label(content_frame,text='content').pack()
set_aspect(content_frame, pad_frame, aspect_ratio=2.0/1.0) 
r.rowconfigure(0, weight=1)
r.columnconfigure(0, weight=1)

r.mainloop()
"
17802,8180,How can I exclude files in my .gitignore when packaging a Python egg?,"setup(...
    setup_requires=['setuptools-git'],
    ...
)
"
9791,46619,selecting a column value based on a different column value after applying Groupby,">>> imin = df.groupby(""Symbol"")[""x""].transform(""idxmin"")
>>> df[""yminx""] = df.loc[imin, ""y""].values
>>> df
   Symbol   x   y  yminx
0     IBM  12  27     58
1     IBM   1  58     58
2     IBM  13  39     58
3     IBM   4  45     58
4      GS   5  72     44
5      GS  15  54     44
6      GS  20  50     44
7      GS   4  90     44
8      GS  14  39     44
9      GS   2  44     44
10     GS   7  79     44
11     GS  12  27     44
12     GS  11  66     44
"
32,55380,ImageOps.unsharp_mask not working on PIL,"import Image
import ImageFilter

file = '/home/phius/test.jpg'
img = Image.open(file)
img2 = img.filter(ImageFilter.UnsharpMask) # note it returns a new image
img2.save(file)
"
15205,32498,Want to find date data in python shell," >>> p = Poll.objects.get(pk=1)
 >>> p.pub_date
 datetime.datetime(2007, 7, 15, 12, 00, 53)
"
10760,76279,How to split data into equal size packets having variable header size.. ,"import struct
header = struct.pack('!II', packetNo, totalPackets)
"
30607,61043,Multiplying NumPy arrays by scalars,"m = array(
[[[3,4],[5,8]],
[[1,2],[2,2]]])
a = array([3,5])
print(a[None,:,None].shape, m*a[None,:,None])
""""""
(1, 2, 1)

[[[ 9 12]
  [25 40]]

 [[ 3  6]
  [10 10]]]
""""""  
"
6560,32727,find and update duplicates in a list of lists,"from collections import defaultdict

lists = [['apple', 'window', 'pear', 2, 1.55, 'banana'],
['apple', 'orange', 'kiwi', 3, 1.80, 'banana'],
['apple', 'envelope', 'star_fruit', 2, 1.55, 'banana'],
['apple', 'orange', 'pear', 2, 0.80, 'coffee_cup'],
['apple', 'orange', 'pear', 2, 3.80, 'coffee_cup']]

dic = defaultdict(int)
fts = []
for lst in lists:
    first_third = lst[0], lst[2]
    dic[first_third] += 1
    if dic[first_third] == 2: fts.append(first_third)
    lst.append(dic[first_third])

for lst in lists:
    if (lst[0], lst[2]) not in fts:
        lst[-1] -= 1

print(lists)
"
27416,42813,"python, matplotlib, svg and hyperlinks in text labels","ax.text(x, y, label, gid='foo')
"
4125,15435,Creating new series using combination of series in a dataframe,"import pandas as pd
import numpy as np
rng = pd.date_range('2015-1-1',periods=12, freq='m')
data = pd.DataFrame(np.random.rand(12,8),index = rng)
data.index.name = 'month'
delta = data.diff(axis=1).iloc[:,1:]
delta.columns = ['Excess_' + str(col) for col in  delta.columns]
data.join(delta)

            0           1           2           3           4           5           6          7          Excess_1      Excess_2    Excess_3    Excess_4    Excess_5    Excess_6    Excess_7
month                                                           
2015-01-31  0.995529    0.528600    0.165824    0.903643    0.392386    0.997586    0.532741    0.465801    -0.466929   -0.362776   0.737819    -0.511257   0.605200    -0.464845   -0.066939
2015-02-28  0.105747    0.507735    0.264120    0.911261    0.961350    0.139388    0.756352    0.241203    0.401989    -0.243615   0.647140    0.050090    -0.821962   0.616964    -0.515149
2015-03-31  0.239546    0.537783    0.710753    0.317866    0.194260    0.774347    0.026830    0.652135    0.298237    0.172970    -0.392887   -0.123606   0.580087    -0.747517   0.625305
2015-04-30  0.453483    0.470196    0.340318    0.570760    0.163147    0.125921    0.074989    0.082275    0.016714    -0.129878   0.230442    -0.407613   -0.037226   -0.050933   0.007287
2015-05-31  0.099153    0.182511    0.676164    0.036362    0.026314    0.274792    0.961327    0.162986    0.083357    0.493653    -0.639801   -0.010049   0.248479    0.686534    -0.798341
2015-06-30  0.929498    0.401576    0.682311    0.831759    0.338765    0.147514    0.208116    0.358427    -0.527922   0.280735    0.149448    -0.492994   -0.191251   0.060603    0.150311
2015-07-31  0.030018    0.320987    0.031405    0.248800    0.988799    0.202371    0.882598    0.384514    0.290969    -0.289582   0.217395    0.739999    -0.786428   0.680226    -0.498083
2015-08-31  0.147542    0.672995    0.318547    0.279269    0.489103    0.808526    0.225413    0.004063    0.525453    -0.354447   -0.039278   0.209834    0.319423    -0.583114   -0.221349
2015-09-30  0.663309    0.784415    0.460139    0.792484    0.114094    0.731929    0.810777    0.381041    0.121106    -0.324276   0.332345    -0.678390   0.617835    0.078848    -0.429736
2015-10-31  0.638421    0.705389    0.022883    0.147137    0.876246    0.868816    0.902057    0.030144    0.066968    -0.682506   0.124254    0.729109    -0.007430   0.033241    -0.871913
2015-11-30  0.468480    0.888482    0.061717    0.352941    0.508728    0.905883    0.267931    0.680066    0.420003    -0.826766   0.291225    0.155786    0.397155    -0.637952   0.412135
2015-12-31  0.373209    0.891520    0.915866    0.979559    0.718712    0.421039    0.182262    0.460243    0.518311    0.024345    0.063693    -0.260847   -0.297673   -0.238777   0.277982


# if you want to subtract column 0, from column 1 to 7
# we will call that delta2
# I like to use the methods: add(), sub(), mul() etc.
# The key thing is that data[0] becomes a series and broadcasts across the frame, but the index labels on the row axis connect up.
#
delta2 = data.iloc[:,1:].sub(data[0],axis=0)
delta2.columns = ['Excess_' + str(col) for col in  delta2.columns]
data.join(delta2)
"
31326,2254,Get new dict from old dict with condition?,"new_dict = {}
for k, d in old_dict.iteritems():
    if d['check'] == 0 and d['status'] == 0:
        new_dict[k] = d
"
18202,35666,Connect the points to zero for missing points,"xs = array([1,2,5,6,9,10,11])
ys = xs**2

x = arange(12)
y = zeros(12, dtype=int32)
put(y, xs, ys)

plt.plot(x, y, 'o', clip_on=False)
"
22474,75376,Unable to formulate a regex with recurring pattern,"\w+:\([^)]+\)|\w+:'[^']+'|\w+:\S+|(?:and|or)
"
19650,80926,How to compare the distributions of two vectors in R?,"plot(ecdf(data$X.ofTotal),col=""green"",xlim=c(0,1),verticals = TRUE,main = """")
par(new=TRUE)
plot(ecdf(data$X..ofTotalWithSomeCriteria ),col=""red"",xlim=c(0,1),verticals = TRUE,main = """")

require( Hmisc )
l <- length(data$X..ofTotalWithSomeCriteria )
dataset <- c(rep(""Total"",l), rep(""Criteria"", l))  
Ecdf(c(data$X.ofTotal, data$X..ofTotalWithSomeCriteria ), group=dataset, col=c('blue', 'red'))
"
37907,73404,CVS writerow() after expression,"#!/usr/local/cpython-3.3/bin/python

# ""A1"",""Address2""          ""A1"",""Address2""
# 0138,""DEERFIELD AVE""     0138,""DEERFIELD""
# 0490,""REMMINGTON COURT""  0490,""REMMINGTON""
# 2039,""SANDHILL DR""       2039,""SANDHILL""

import re
import csv

with open('aa_street.txt', 'r') as infile, open('actual-output', 'w') as outfile:
    reader = csv.reader(infile)
    writer = csv.writer(outfile)
    for row in reader:
        row_zero = row[0]
        row_one = re.sub('\s+(DR|COURT|AVE|)\s*$', '', row[1])
        writer.writerow([row_zero, row_one])
"
7865,22344,Identity after passing an immutable Python object to its constructor,"class C(object):
  def __new__(cls, ref):
    if isinstance(ref, C):
      return ref
    else:
      return super(C, cls).__new__(cls)

  def __init__(self, ref):
    if self is not ref:
      self.x = ref

c1=C(7)
c2=C(13)
assert c1 is not c2
c3=C(c1)
assert c1 is c3
"
20320,72127,Exit Tks mainloop in Python?,"root.after(10*1000, root.quit)
"
4494,80078,wxPython/ReportLab: How to create and open a .pdf file on button clicked,"def SaveToPDF_Function( self, event ):

    NameString = self.NameField.GetValue()

    try:
        c = canvas.Canvas(""myFile.pdf"", pagesize=landscape(A3))

        c.drawCentredString(600, 800, 'OPENED... Welcome to ReportLab! This is my FIRST App...'  + NameString )

        c.save()

        subprocess.Popen(['myFile.pdf'], shell=True)

    except IOError:
        print 'The file is already OPENED!'
"
4559,41281,"for x in y, type iteration in python. Can I find out what iteration I'm currently on?","for i,x in enumerate(y):
    ....
"
26256,85288,Python updating keys and values in dictionary in loop,"    for lists in file:
        for digit_list in lists:
            # Get the existing list for this ID.
            # If none, start a new one.
            id = digit_list[0] #the first item in the list will be the id number
            value_list = data_dict.get(id, [id])

            digit_list.pop(0) #then drop the id number from the list
            data_dict[id] = id #create a key based on the id number 
            #print [data_dict.get(id)] # get the value for that key
            data = 9999 #this is a placeholder for the example
            value_list.append(name + str(data)) #append the data with name (a or b) for readability
            data_dict[id] = value_list #add the value the key (id)
            #print ""data_dict for "", id, data_dict,""\n""
        print ""data_dict for all ids in file"",name, ""\n"", data_dict,""\n""
"
3839,21626,Empty square for legend for stackplot,"def plot_version_data(title, dates, versions, version_ys, savename=None):
    print(""Prepping plot for \""{0}\"""".format(title))
    fig = plt.figure()    
    theplot = fig.add_subplot(111)

    # Our x axis is going to be the dates, but we need them as numbers
    x = [date2num(date) for date in dates]

    # Use these colors
    colormap = ""bgrcmy""
    theplot.stackplot(x, version_ys, colors=colormap)

    # Make some proxy artists for the legend
    p = []
    i = 0
    for _ in versions:
        p.append(plt.Rectangle((0, 0), 1, 1, fc=colormap[i]))
        i = (i + 1) % len(colormap)

    theplot.legend(p, versions)
    theplot.set_ylabel(versions) # Cheating way to handle the legend

    theplot.set_title(title)

    # Setup the X axis - rotate to keep from overlapping, display like Oct-16,
    # make sure there's no random whitespace on either end
    plt.xticks(rotation=315)
    theplot.set_xticks(x)
    theplot.set_xticklabels([date.strftime(""%b-%d"") for date in dates])
    plt.xlim(x[0],x[-1])

    if savename:
        print(""Saving output as \""{0}\"""".format(savename))
        fig.savefig(os.path.join(sys.path[0], savename))
    else:
        plt.show()
"
28409,18210,Django: Use ajax to add an HTML element,"    function create_post() {
      console.log(""create post is working!"") // sanity check
      $.ajax({
          url : ""/create_post/"", // the endpoint
          type : ""POST"", // http method
          data : { body : $('#post-text').val() }, // data sent with the post request

          // handle a successful response
          success : function(json) {
              $('#posts').load(' #posts', function(){$(this).find('#posts').unwrap()});
          },

          // handle a non-successful response
          error : function(xhr,errmsg,err) {
              $('#results').html(""<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: ""+errmsg+
                  "" <a href='#' class='close'>&times;</a></div>""); // add the error to the dom
              console.log(xhr.status + "": "" + xhr.responseText); // provide a bit more info about the error to the console
          }
      });
    };

    $('#post-form').on('submit', function(event){
      event.preventDefault();
      console.log(""form submitted!"")  // sanity check
      create_post();
    });
"
28279,4752,Why was the value of a global variable being altered when I didn't program it to (strange behavior)?,">>> a = [1,2,3]
>>> b = a
>>> b[1]=5
>>> a
[1, 5, 3]
>>> 
"
9897,83308,Count every word in a text file python,"def parse_file():
  with open('SOMETHING.txt', 'r') as f:
    c1 = 0
    c2 = 0
    for i in f:
      w = i.split()
      c1 += len(w)
      for j in w:
        if j.endswith('LY'):
          c2 += 1
    return {'Total words': c1, 'Words ending with LY': c2}
"
33757,23142,Hex string variable to hex value conversion in python,">>> a = 0x01234567
>>> b = 19088743
>>> a == b
True
>>> hex(b)
'0x1234567'
>>> int('01234567', 16)
19088743
>>>
"
30572,16126,Pandas: .groupby().size() and percentages,"import pandas as pd
from StringIO import StringIO
#For Python 3: from io import StringIO

data = \
""""""Localization,RNA level,Size
cytoplasm                            ,1 Non-expressed, 7
cytoplasm                            ,2 Very low     ,13
cytoplasm                            ,3 Low          , 8
cytoplasm                            ,4 Medium       , 6
cytoplasm                            ,5 Moderate     , 8
cytoplasm                            ,6 High         , 2
cytoplasm                            ,7 Very high    , 6
cytoplasm & nucleus                  ,1 Non-expressed, 5
cytoplasm & nucleus                  ,2 Very low     , 8
cytoplasm & nucleus                  ,3 Low          , 2
cytoplasm & nucleus                  ,4 Medium       ,10
cytoplasm & nucleus                  ,5 Moderate     ,16
cytoplasm & nucleus                  ,6 High         , 6
cytoplasm & nucleus                  ,7 Very high    , 5
cytoplasm & nucleus & plasma membrane,1 Non-expressed, 6
cytoplasm & nucleus & plasma membrane,2 Very low     , 3
cytoplasm & nucleus & plasma membrane,3 Low          , 3
cytoplasm & nucleus & plasma membrane,4 Medium       , 7
cytoplasm & nucleus & plasma membrane,5 Moderate     , 8
cytoplasm & nucleus & plasma membrane,6 High         , 4
cytoplasm & nucleus & plasma membrane,7 Very high    , 1""""""

# Create the dataframe
df = pd.read_csv(StringIO(data))
df['Localization'].str.strip()
df['RNA level'].str.strip()
df['Size'].astype(int)
df['Percent'] = df.groupby('Localization')['Size'].transform(lambda x: x/sum(x))
"
13632,30528,Add quota around each string in a list in jinja2?,"def surround_by_quote(a_list):
    return ['""%s""' % an_element for an_element in a_list]

env.filters[""surround_by_quote""] = surround_by_quote
"
22421,78692,Django Gunicorn not load static files,"server {
    listen       80;
    server_name  localhost;

    location / {
        root   html;
        index  index.html index.htm;
        proxy_pass http://127.0.0.1:8000;
    }
    location /static {
        autoindex on;
        alias /path/to/staticfiles;
    }

    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   html;
    }
}
"
33168,53414,Set value of field for Django ModelForm in CreateView,"class SuccessfulFeedbackForm(FeedbackFormMixin, forms.ModelForm):

    def __init__(self, *args, **kwargs):
        super(SuccessfulFeedbackForm, self).__init__(*args, **kwargs)
        self.fields['was_satisifed'].initial = True


class UnsuccessfulFeedbackForm(FeedbackFormMixin, forms.ModelForm):

    def __init__(self, *args, **kwargs):
        super(UnsuccessfulFeedbackForm, self).__init__(*args, **kwargs)
        self.fields['was_satisifed'].initial = False
"
29118,58654,Python3: readline equavalent in select.select(),"#!/usr/bin/python

import readline
import logging
import signal
import os

LOG_FILENAME = '/tmp/completer.log'
HISTORY_FILENAME = '/tmp/completer.hist'

logging.basicConfig(filename=LOG_FILENAME, level=logging.DEBUG,)

class YouAreTooSlow(Exception): pass


def get_history_items():
    return [ readline.get_history_item(i)
             for i in xrange(1, readline.get_current_history_length() + 1)
             ]

class HistoryCompleter(object):

    def __init__(self):
        self.matches = []
        return

    def complete(self, text, state):
        response = None
        if state == 0:
            history_values = get_history_items()
            logging.debug('history: %s', history_values)
            if text:
                self.matches = sorted(h 
                                      for h in history_values 
                                      if h and h.startswith(text))
            else:
                self.matches = []
            logging.debug('matches: %s', self.matches)
        try:
            response = self.matches[state]
        except IndexError:
            response = None
        logging.debug('complete(%s, %s) => %s', 
                      repr(text), state, repr(response))
        return response

def input_loop():
    if os.path.exists(HISTORY_FILENAME):
        readline.read_history_file(HISTORY_FILENAME)
    print 'Max history file length:', readline.get_history_length()
    print 'Startup history:', get_history_items()
    try:
        while True:
            line = raw_input('Prompt (""stop"" to quit): ')
            if line == 'stop':
                break
            if line:
                print 'Adding ""%s"" to the history' % line
    finally:
        print 'Final history:', get_history_items()
        readline.write_history_file(HISTORY_FILENAME)

# Register our completer function

def slow_handler(signum, frame):
    print 'Signal handler called with signal', signum
    raise YouAreTooSlow()

def pre_input_hook():
    signal.signal(signal.SIGALRM, slow_handler)
    signal.alarm(10)

readline.set_pre_input_hook(pre_input_hook)
readline.set_completer(HistoryCompleter().complete)

# Use the tab key for completion
readline.parse_and_bind('tab: complete')

# Prompt the user for text
input_loop()
"
38627,26539,Python: Rescale time-series in pandas by non-integer scale-factor,"df['epoch']= df.index.map(lambda x: (np.datetime64(pd.to_datetime(x)).astype('uint64')/1e6))   
start_epoch = df.epoch.iloc[0]
df['epochdelta']= df['epoch'] - start_epoch
df['newindex'] = pd.to_datetime((df.epochdelta * 3.5 + start_epoch),unit='s') 
"
26261,39577,Convert data received from a socket.recv (bytes) to a boolean value in ironpython,"data = sock.recv(BUFFER_SIZE)
result = bool(int(data.encode('hex'), 16))
"
5559,53959,Python multiprocessing processes sleep after a while,"def check_files(file_list):
    """"""Checks and replaces lines in files
    @param file_list: list of files to search
    @return counter: number of occurrence """"""

    # as much workers as CPUs are available (HT included)
    workers = multiprocessing.cpu_count()

    # create two queues: one for files, one for results
    work_queue = Queue()
    done_queue = Queue()
    processes = []

    # add every file to work queue
    for filename in file_list:
        work_queue.put(filename)

    # start processes
    for w in xrange(workers):
        p = Process(target=worker, args=(work_queue, done_queue))
        p.start()
        processes.append(p)
        work_queue.put('STOP')

    # wait until all processes finished
    for p in processes:
        p.join()

    done_queue.put('STOP')

    # beautify results and return them
    results = []
    for status in iter(done_queue.get, 'STOP'):
        if status is not None:
             results.append(status)

     return results
"
35174,43355,fix length re.sub with dictionary,"p.sub(lambda m: threeLetterDict[m.group(0)], ""abcdefghi"")
"
35148,56971,What is the best way to convert a zope DateTime object into Python datetime object?,"modernthingy = datetime.datetime.fromtimestamp(zopethingy.timeTime())
"
14310,17983,Nice BitTorrent tracker API?,"#!/usr/bin/perl

use Bencode qw( bencode bdecode );
use Data::Dumper;

use warnings;
use strict;

my $G_PEER_ID = ""hfgdbvnchdgfhvnfbghf"";
my $G_MAX_TIME = 20;

sub peer_decode
{
    my $d = shift;
    my @a = split '', $d;
#    printf "">>%d %d<<\n"", length($d), scalar(@a);

    my @ret;

    while(@a) {
        my $ip = sprintf ""%d.%d.%d.%d"" ,
                unpack('C',shift(@a)),
                unpack('C',shift(@a)),
                unpack('C',shift(@a)),
                unpack('C',shift(@a));
        my $port = sprintf ""%d"", 256 * unpack('C',shift(@a))
                                     + unpack('C',shift(@a));

#        printf ""%d $ip $port\n"",scalar(@a);
        push @ret, $ip;
    }
    return \@ret;
}


sub get_tracker_data_from_file
{
    my $fname = shift;

    my $ret = {};

    my $c = `transmission-show $fname`;

    print STDERR ""$c\n"";

    if ( $c =~ /^\s+Hash:\s*(\S+)/mg ) {
        $ret->{'hash'} = $1;
    }

    if ( $c =~ /^\s+Total Size:\s*(.+)$/mg ) {
        $ret->{'size'} = $1;
    }

    my @g;
    @g = ($c =~ /Tier \#\d+[\n\r\s]+(\S+)/gm);
    if ( @g ) {
        $ret->{'tiers'} = \@g;
    }

    return $ret;

}

sub get_peer_ips
{
    my $hash = shift;
    my $tracker = shift;

    my $ret = undef;

    $hash =~ s/(..)/\%$1/g;
    $tracker =~ s/\/$//;

    my $c = ""curl -m $G_MAX_TIME -s '$tracker?info_hash=$hash&peer_id=$G_PEER_ID&uploaded=0&downloaded=0&left=1'"";
    print STDERR ""$c\n"";

    my $w = `$c`;
    return undef if not $w;
    printf STDERR ""%s\n"" , Dumper($w);
    return undef if $w =~ /<\s*html\s*>/gi;

    $w = bdecode($w, 1);

    if ( defined $w->{'peers'} ) {
        $ret = peer_decode($w->{'peers'});
    }
    return $ret;
}

# -- main

my @files = @ARGV;

if ( not @files ) {
    print <<END
    usage: $0 <file1.torrent> <file2.torrent> ...

    (c) http://stackoverflow.com/users/497208
END
}

for my $fname ( @files ) {
    printf STDERR ""File: %s\n"", $fname;

    my $tr = get_tracker_data_from_file($fname);
    printf STDERR ""%s\n"", Dumper $tr;

    my $hash = undef;
    $hash = $tr->{'hash'} if defined $tr->{'hash'};
    exit if not defined $hash;

    my $size = undef;
    if ( defined $tr->{'size'} ) {
        $size = $tr->{'size'};
    }
    else {
        $size = ""?"";
    }

    if ( defined $tr->{'tiers'} ) {
    #    shift @{$tr->{'tiers'}} for (1..5);
        for my $tracker ( @{$tr->{'tiers'}} ) {

            my $ips = get_peer_ips( $hash, $tracker);
            printf STDERR ""%s\n"", Dumper $ips;

            if ( defined $ips ) {
                for my $ip ( @$ips ) {
                    my $c = sprintf ""%s; %16s; %s; %s"", $hash, $ip, $size, $tracker;
                    printf STDERR ""$c\n"";
                    printf ""$c\n"";
                }
            }
        }
    }
}
"
27993,68047,"Instantiation of ""type"" in Python","class foo(object):
  pass

bar = foo # Works

print type(foo)

class foo2(object):
  bar = foo2 # NameError
"
34513,75407,wxpython - Multiple TextEntryDialog windows,"user = wx.TextEntryDialog(None, ""Login"", ""Username"", """")
if user.ShowModal() == wx.ID_OK:
    print 'here'   
    password = wx.TextEntryDialog(None, ""Password"", ""Password"", """")
    if password.ShowModal() == wx.ID_OK:   
        print 'there'
"
30218,68570,Python socket dictionary with select,"L = []
input = [sys.stdin]

for i in range(4):
    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM) 
    server.bind((host,port+i)) 
    server.listen(backlog)
    L.append(server)
    input.append(server)

running = 1
print len(L)
while running: 
    inputready,outputready,exceptready = select.select(input,[],[]) 

    for s in inputready: 
        if s in L: 
            # handle the server socket
            print ""opened""
            client, address = s.accept() 
            input.append(client)
        elif s == sys.stdin: 
            # handle standard input 
            junk = sys.stdin.readline() 
            running = 0 
        else: 
            # handle all other sockets 
            data = s.recv(size)
"
22880,62487,Installing 3rd party Python modules on an Ubuntu Linux machine?,"daniel@redhotcar:~/tmp$ virtualenv myenv
New python executable in myenv/bin/python
Installing distribute....................................................................................................................................................................................done.
Installing pip...............done.
daniel@redhotcar:~/tmp$ cd myenv/
daniel@redhotcar:~/tmp/myenv$ bin/pip install mechanize
Downloading/unpacking mechanize
  Downloading mechanize-0.2.5.zip (445Kb): 445Kb downloaded
  Running setup.py egg_info for package mechanize

Installing collected packages: mechanize
  Running setup.py install for mechanize

Successfully installed mechanize
Cleaning up...
daniel@redhotcar:~/tmp/myenv$ bin/python
Python 2.7.2+ (default, Oct  4 2011, 20:06:09) 
[GCC 4.6.1] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> import mechanize
>>> mechanize
<module 'mechanize' from '/home/daniel/tmp/myenv/local/lib/python2.7/site-packages/mechanize/__init__.pyc'>
>>> 
"
31420,31745,How to remove a button created by pygbutton,"import pygame,pygbutton
from pygame.locals import *
pygame.init()

#Create the ""Pre Button Press Screen""
width = 1024
height = 768
screen = pygame.display.set_mode([width,height])
pygame.display.set_caption('OLD SCREEN NAME')
background = pygame.Surface(screen.get_size())
background = background.convert()
background.fill((250, 250, 250))
screen.blit(background, [0,0])
pygame.display.flip()
button1 = pygbutton.PygButton((50, 50, 60, 30), '1')
button2 = pygbutton.PygButton((120, 50, 60, 30), '2')
button3 = pygbutton.PygButton((190, 50, 60, 30), '3')
buttonhasbeenpressed = False

def screenPostButtonPress():
    width = 1024
    height = 768
    screen = pygame.display.set_mode([width,height])
    pygame.display.set_caption('NEW SCREEN NAME!!!!!!!')
    background = pygame.Surface(screen.get_size())
    background = background.convert()
    background.fill((20, 20, 40))
    screen.blit(background, [0,0])
    pygame.display.flip()
    #buttons not on screen after a button has been pressed

def waitingForButtonClick():
    allButtons = [button1,button2,button3]        
    buttonevent1 = button1.handleEvent(event)
    buttonevent2 = button2.handleEvent(event)
    buttonevent3 = button3.handleEvent(event)

    for b in allButtons:
        b.draw(screen)

    if 'click' in buttonevent1 or 'click' in buttonevent2 or 'click' in buttonevent3:
        return False
    return True

while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
    #Wait for a button to be pressed, once one has, ""clear"" the screen by creating a new screen
    if buttonhasbeenpressed == False and waitingForButtonClick() == False:
       buttonhasbeenpressed = True
       screenPostButtonPress()
    pygame.display.update()
"
16080,30889,Python reading specific csv column into list,"reader = csv.reader(f)
print [i[1] for i in reader]
"
26118,24262,Merge sort with help Iterators,"def merge_sort(data):
    data1, data2, data3 = itertools.tee(data, 3)

    counter = 0
    for i in data1:
        counter += 1

    if counter < 2:
        return data3

    middle = int(counter / 2)

    y = itertools.islice(data2, 0, middle)
    z = itertools.islice(data3, middle, counter)

    sorted_y = merge_sort(y)
    sorted_z = merge_sort(z)

    return merge(sorted_y, sorted_z)
"
14,42438,Using Pygame's pixArray to draw a square,"for i in range(0, size):
    for j in range(0, size):
        pixArray[p1+i][p2+j] = mousecolor
        pixArray[p1-i][p2+j] = mousecolor
        pixArray[p1+i][p2-j] = mousecolor
        pixArray[p1-i][p2-j] = mousecolor
"
10867,67568,"In python, how do I get the same behavior as when __name__ == '__main__':","def main():
    # ...

if __name__ == '__main__':
    main()
"
17346,57238,Python list filtering with arguments,"def makefilter(a, c):
   def myfilter(x):
       return a < x < c
   return myfilter

filter14 = makefilter(1, 4)

myList = [1, 2, 3, 4, 5, 6]
filter(filter14, myList)
>>> [2, 3]
"
29704,61116,Generate a list of fixed value for sum of entries,"randlist = [randon.random() for i in range(n)]
total = sum(randlist)
randlist = [i/total for i in randlist]
"
25571,11574,Comparing Two CSV in Python,"from collections import defaultdict, deque

with open('second_csv.csv') as f:
    next(f) #skip header
    dic = defaultdict(deque)
    for num1,alpha1,num2 in csv.reader(f, delimiter=','):
        dic[num1, alpha1].append(num2)

with open('first_csv.csv') as f, open('out.csv', 'wb') as fout:
    next(f) #skip header
    csv_out = csv.writer(fout)
    for num,alpha in csv.reader(f, delimiter=','):
        try:
            num2 = dic[num,alpha].popleft()
            csv_out.writerow([num,alpha,num2])
        except IndexError:
            csv_out.writerow([num,alpha])
"
39771,70857,Simplest way to return an array that is nested in multiple arrays,">>> import numpy as np
>>> a = [[[ ['green', 'blue', 'red' ] ]]]
>>> print np.squeeze(a)
['green' 'blue' 'red']
"
2997,18837,memcache a static front page in GAE,"from google.appengine.api import memcache

class MainHandler(webapp2.RequestHandler):
  def get (self, q):
    if q is None:
      q = 'index.html'

    rendered = memcache.get('static_%s' % q)
    if rendered is None:
        path = os.path.join (os.path.dirname (__file__), q)
        rendered = template.render (path, {})
    self.response.headers['Content-Type'] = 'text/html'
    self.response.write(rendered)
"
4536,94,How do you perform a credentialed download from s3 using boto3 without saving a file?,"import boto3

s3 = boto3.resource('s3')
# obj = s3.Object(bucket_name, key_name).get()
bucket = s3.Bucket(bucket_name)
obj = bucket.Object(key_name).get()
body = obj.get('Body')
"
29831,74991,Converting floating point number to any base,"s2i = {""0"": 0,
""1"": 1,
""2"": 2,
...
""Y"": 34,
""Z"": 35
}

def convert_float(s, base=10):
    ret = 0
    if ""."" not in s: bef = s
    else: bef, aft = s.split(""."")
    for i in enumerate(reversed(bef)):
        integer = s2i[i[1]]
        if integer >= base: raise ValueError
        ret += base**i[0] * integer
    if ""."" not in s: return ret
    for i in enumerate(aft):
        integer = s2i[i[1]]
        if integer >= base: raise ValueError
        ret += base**-(i[0] + 1) * integer
    return ret

print convert_float(""YF.1G90N"", 36)

> 1239.04031674
"
12203,51440,Convert a large string into a list of floats when an item contains brackets,">>> import json
>>> r = """"""[0.06481481481481466, 0.06481481481481466, 0.06481481481481466, 0.0754716981132074, 0.07619047619047604, 0.07619047619047604, 0.07692307692307698, 0.07766990291262142, 0.07766990291262142, 0.07843137254901968, 0.07920792079207928, 0.07920792079207928, 0.08000000000000007, 0.08000000000000007]""""""
>>> json.loads(r)
[0.06481481481481466, 0.06481481481481466, 0.06481481481481466, 0.0754716981132074, 0.07619047619047604, 0.07619047619047604, 0.07692307692307698, 0.07766990291262142, 0.07766990291262142, 0.07843137254901968, 0.07920792079207928, 0.07920792079207928, 0.08000000000000007, 0.08000000000000007]
>>> type(json.loads(r))
list
"
23157,19316,Python reading local time from system (Ubuntu) and getting in a float format,"import time
def current_time_as_float():
    lt = time.localtime()
    return ((lt.tm_sec / 60.) + lt.tm_min / 60.) + lt.tm_hour
"
1772,83538,Repeating Import Module - Python / Pygame," exec(open(filename).read())
"
7901,70343,redirecting standard output to the calling process,"import subprocess

p = subprocess.Popen(['/bin/ls', '-l'], stdout=subprocess.PIPE)
(out, _) = p.communicate()
print ""Output:"", out
"
35884,66066,Print and clear output on screen with Kivy,"from kivy.clock import Clock
class Test(GridLayout):
    def __init__(self, **kwargs):
        super(Test, self).__init__(**kwargs)
        Clock.schedule_once(self.update, 2)  # 2 is for 2 seconds
    def update(self, *args):
        self.clear_widgets()
        # then add some more widgets here
"
22048,52980,"Pandas: why does DataFrame.apply(f, axis=1) call f when the DataFrame is empty?","if not all(self.shape):
    # How to determine this better?
    is_reduction = False
    try:
        is_reduction = not isinstance(f(_EMPTY_SERIES), Series)
    except Exception:
        pass

    if is_reduction:
        return Series(NA, index=self._get_agg_axis(axis))
    else:
        return self.copy()
"
1429,23617,How to get a session cookie in python,"def _login(self):
    s = requests.Session()
    url = self.URL_LOGIN
    payload = {'data[User][username]': self.usuario, 'data[User][password]': self.senha, ""data[lembrar]"": ""on""}
    r = s.post(url, payload)
    html = r.content

    if ""<title>Login - Legendas TV</title>"" in html:
        return 0
    else:
        print 'Success on login!'
        self.session = s

        return 1

def _request(self, url, method='GET', data=None):
    if self.session:
        if method == 'GET':
            r = self.session.get(url, cookies=self.cookie, stream=True)
        if method == 'POST' and data:
            r = self.session.post(url, data=data, cookies=self.cookie)

        return r
"
15498,65897,How do I fill NA values in multiple columns in pandas?,"In [145]: df
Out[145]:
    a   b   c  d  e
0 NaN NaN NaN  3  8
1 NaN NaN NaN  8  7
2 NaN NaN NaN  2  8
3 NaN NaN NaN  7  4
4 NaN NaN NaN  4  9
5 NaN NaN NaN  1  9
6 NaN NaN NaN  7  7
7 NaN NaN NaN  6  5
8 NaN NaN NaN  0  0
9 NaN NaN NaN  9  5

In [146]: df.update(df[['a','b','c']].fillna(0))

In [147]: df
Out[147]:
     a    b    c  d  e
0  0.0  0.0  0.0  3  8
1  0.0  0.0  0.0  8  7
2  0.0  0.0  0.0  2  8
3  0.0  0.0  0.0  7  4
4  0.0  0.0  0.0  4  9
5  0.0  0.0  0.0  1  9
6  0.0  0.0  0.0  7  7
7  0.0  0.0  0.0  6  5
8  0.0  0.0  0.0  0  0
9  0.0  0.0  0.0  9  5
"
39339,53402,How receive/posta data using URLs in django?,"from django.shortcuts import render, get_object_or_404
# form imports here
# model imports here

# get all objects
def get_view(request):
    objects = YourModel.objects.all()
    return render(request, 'all-objects.html', {'objects': objects}

# make a new object
def make_new_obj(request):
    form = YourForm(request.POST or None)
    if request.method == 'POST':
        if form.is_valid():
            form.save()
    return render(request, 'make-new-obj.html', {'form': form}

# get an object by id
def get_single_object_view(request, id):
    obj = get_object_or_404(YourModel, pk=id)
    return render(request, 'obj-detail.html', {'obj': obj}

# update an object
def update_obj(request, id):
    obj = get_object_or_404(YourModel, pk=id)
    form = YourForm(request.POST or None, instance=obj)
    if request.method == 'POST':
        if form.is_valid():
            form.save()
    return render(request, 'update-obj.html',
        {'obj': obj, 'form': form}

# delete an object
def delete_obj(request, id):
    obj = get_object_or_404(YourModel, pk=id)
    obj.delete()
    # do something else like redirect to the object index, etc
    # you'll probably want to make this a two-step process
"
4631,84827,"Matrix of differences in Python, result like MATLAB's bsxfun",">>> a = np.array([1,3,5,7,9])
>>> a - a[:,None]
array([[ 0,  2,  4,  6,  8],
       [-2,  0,  2,  4,  6],
       [-4, -2,  0,  2,  4],
       [-6, -4, -2,  0,  2],
       [-8, -6, -4, -2,  0]])
"
20124,4066,python performance tips -- loop involving comparisons,"# Get column indices corresponding to index2
col_idx = np.mod(np.arange(index1,index1-p,-1),p)

# Get all mat2 values with those column indices at kth row
mat2_val = mat2[k,col_idx]

# Mask of valid elements
mask = mat2_val > -1e10

# Set valid ones in mat1 with valid ones from mat2 
# after scaling with mat2[k][index1]
mat1[k][mask] = mat2[k][index1]*mat2_val[mask]
"
29013,60236,SQLAlchemy: update from_select,"upd = (t_node.update()
        .values(
            parent_id = t_node_node.c.parent_id,
            label = t_node_node.c.label,
            )
        .where(t_node_node.c.child_id == t_node.c.node_id)
        )
"
16289,5942,what is the difference between the two datasets for numpy.fft,"import numpy as np
import matplotlib.pyplot as pl

# you can do this in one line, that's what 'unpack' is for:
timepoints, intensity = np.loadtxt('dataset', usecols=(0,1), unpack=True, delimiter="","")

interd = timepoints[1] - timepoints[0] # if this is 1, it can be ignored
sp = np.fft.fft(intensity)
freq = np.fft.fftfreq(len(intensity), d=interd)

pl.plot(np.fft.fftshift(freq), np.fft.fftshift(np.abs(sp)))
pl.xlabel(""frequency(Hz)"")
pl.show()
"
3259,25369,cupsfilter Does Not Work With Python subprocess.call(),"subprocess.call([cmd,'-o','cpi=10',infile], stdout=pdfout, stderr=errout)
"
18967,70398,how to pass a variable array/object to python (google app engine),"for color in colors.split("",""):
    # the first loop color=red
    # the second loop color=orange
    # and so on
"
23236,80089,"How to solve this complex recursive problem, pyramid point system","parent = user.parent
user.parent = parent.parent
parent.parent = user

children = user.children

for child in children:
    child.parent = parent

user.children = parent.children

for child in user.children:
    if child is user:
        child = parent

    child.parent = user

parent.children = children

for child in user.parent.children:
    if child is parent:
        child = user
"
39531,65579,how to save the pic that lifelines module plot,"ax = kmf.plot()
ax.get_figure().savefig(""myfigure.png"")
"
28762,68220,how to use file pointers to edit a text document after a specific line or word,"import re

f = open(fi+'.o2','r')
# f = ['this exe is a mba person',
#      'this exe combo offer is for mba only.',
#      'the exe suite is for mba person.']
word = 'exe'
word1 = 'mba'

for line in f:
    # check if both words are in the line
    if word in line and word1 in line:
        # remove the 'exe' and a space
        subs = re.sub(r'\bexe ', '', line)
        # replace 'mba' with 'mba executive'
        print(re.sub(r'\bmba\b', r'mba executive', subs))

# this is a mba executive person
# this combo offer is for mba executive only.
# the suite is for mba executive person.
"
18769,35042,Can I detect if my code is running on cPython or Jython?,"import platform
platform.system()
"
5965,7651,JSON to pandas DataFrame,"from urllib2 import Request, urlopen
import json
from pandas.io.json import json_normalize

path1 = '42.974049,-81.205203|42.974298,-81.195755'
request=Request('http://maps.googleapis.com/maps/api/elevation/json?locations='+path1+'&sensor=false')
response = urlopen(request)
elevations = response.read()
data = json.loads(elevations)
json_normalize(data['results'])
"
24052,78569,How to take floats from a txt to a Python list as strings,"my_list = []
with open('path/to/my/file.txt') as f:
    for line in f:
        words = line.split()
        my_list.append(words[1] + words[3])
print mylist
"
5459,8761,"Flask, boost::python and threads","from flask import Flask, request
import librunner
app = Flask(__name__)
current_run = None

@app.route('/run', methods=['POST'])
def run():
    data = request.get_data()
    global current_run
    current_run = librunner.Run(data)
    output = current_run.get_output()
    # do something with output...
    current_run.run()
    return ""Success!"", 200, {'Content-Type': 'text/plain'}

@app.route('/running')
def running():
    result = False
    global current_run
    if current_run != None:
        result = current_run.is_running()
    return str(result), 200, {'Content-Type': 'text/plain'}
"
12684,8736,Django M2MFields 'through' widgets,"from django.forms import inlineformset_factory

MembershipFormSet = inlineformset_factory(Group, Membership, fields=(
    'person', 'date_joined', 'invite_reason'))
group = Group.objects.get(pk=group_id)
formset = MembershipFormSet(instance=group)
"
30608,66637,How to add fields not in the model Django Restframework,"serializer = MyModelSerializer(object)
data = serializer.data
data['any_key'] = 'Any Value'
return Response(data)
"
38797,2202,Python/Django - Get value of a ManyToManyField in a for tag,"{% for i in slider %}
<li>
    {% for im in i.image.all %}
    <img src=""{{im.image.url}}"" alt=""{{im.name}}""/>
    {% endfor %}
    <h2>{{i.title}}</h2>
    <p>{{i.text}}, {{i.image_url}}</p>
</li>
{% endfor %}
"
32543,74383,Emacs set spacing for inline (end of line) comments,"   (add-hook 'python-mode-hook
      (lambda () (set (make-local-variable 'comment-inline-offset) 2)))
"
7688,31632,Replacing a leading text string with the same string in python,">>> import re
>>> original = ""&\hbox{(1b)}}$$ with the initial condition <2inline-formula>$x(0)$, where the subscript <3inline-formula>$p$ means 'plantâ; <4inline-formula>$x_{p}(t) \in \Re^{n}$ is the state, <5inline-formula>$y_{p}(t)\in\Re^{q}$ is the output, and <6inline-formula>$u_{p}(t)\in\Re^{m}$ is the input; <7inline-formula>""
>>> new = re.sub(r""<\d+inline-formula>"", ""<inline-formula>"", original)
>>> print new
""&\\hbox{(1b)}}$$ with the initial condition <inline-formula>$x(0)$, where the subscript <inline-formula>$p$ means 'plant\xe2\x80\x99; <inline-formula>$x_{p}(t) \\in \\Re^{n}$ is the state, <inline-formula>$y_{p}(t)\\in\\Re^{q}$ is the output, and <inline-formula>$u_{p}(t)\\in\\Re^{m}$ is the input; <inline-formula>""
>>> 
"
23637,78983,Python string to Django timezone (aware datetime),"import datetime
import pytz

start_date = '15-01-2016' 
end_date = '16-01-2016'
date_format = '%d-%m-%Y'

unaware_start_date = datetime.datetime.strptime(start_date, date_format)
aware_start_date = pytz.utc.localize(unaware_start_date)

unaware_end_date = datetime.datetime.strptime(end_date, date_format)
aware_end_date = pytz.utc.localize(unaware_end_date)

my_list = MyModel.objects.filter(created_at__range=(aware_start_date, aware_end_date))
"
18193,41572,numpy recarray strings of variable length,">>> import numpy as np
>>> mydf = np.empty( (2,), dtype=[('file_name',object),('file_size_mb',float)] )
>>> mydf['file_name'][0]='foobarasdf.tif'
>>> mydf['file_name'][1]='arghtidlsarbda.jpg'
>>> mydf
array([('foobarasdf.tif', 0.0), ('arghtidlsarbda.jpg', 0.0)], 
      dtype=[('file_name', '|O8'), ('file_size_mb', '<f8')])
"
32508,24624,"Can I print what string format was matched from a multiple-string, Regex search","result = regex.search(line)
print result.group()
"
3052,81778,Recursive subtraction in numpy,"days_left = 100
units_left = 50
ideal_daily_rate = units_left/days_left
spend = 1.2*ideal_daily_rate

while (days_left>0):
    print( ""days_left: %4.1f unit_left: %4.1f ideal: %5.2f spend: %5.2f"" % (days_left,units_left,ideal_daily_rate,spend))
    units_left -= spend
    days_left -= 1
    if (days_left>0):
        ideal_daily_rate = units_left/days_left
        spend = 1.2*ideal_daily_rate
"
1783,6286,Django easy retrival of items in a Many-to-many relationship model,"class Playlist(models.Model):
    videos = models.ManyToManyField(""Video"", through=""PlaylistVideos"")
"
38939,68539,Python - Handle CTRL+D with 'import signal',"import sys

while True:
    line = sys.stdin.readline()    # readline will return """" on EOF
    if line:
        do_something_with(line)    # * if user just pressed Enter line will
                                   #   be ""\n"", i.e. still True
    else:                          # * user pressed C-D, i.e. stdin has been
        sys.exit(0)                #   closed readline call must have returned """"
"
1098,22244,Using Selenium in the background,"driver = webdriver.PhantomJS(""./phantomjs"") # path to phantomjs binary
driver.get(""https://ps.rsd.edu/public/"")

elem = driver.find_element_by_name(""account"")
elem.send_keys(""Username"")
elem2 = driver.find_element_by_name(""pw"")
elem2.send_keys(""Password"")
elem.send_keys(Keys.RETURN)

driver.quit()
"
35945,65231,Intersperse list with a step,">>> def insert_advertisement(posts_list, advertisement, step):
...     for i, post in enumerate(posts_list):
...         if i > 0 and i % step == 0:
...             yield advertisement
...         yield post
...
>>> list(insert_advertisement([1, 2, 3, 4, 5, 6, 7], 'ad', 3))
[1, 2, 3, 'ad', 4, 5, 6, 'ad', 7]
"
11711,42563,How to choose days off evenly in a month using python?,"import random
from itertools import chain
from itertools import count

def candidate(m):
    ''' Returns 2 days per week, in m days, where m is the length of the month. '''
    weeks = weeksmaker(m)
    return sorted(list(chain(*[random.sample(week, 2) for week in weeks])))

def weeksmaker(m):
    ''' Divides a month up into four weeks, randomly assigning extra days to weeks. '''
    weeks = [range(i, i+7) for i in xrange(1,29,7)]
    for i in range(m - 28):
        weeks[random.randint(1, len(weeks))-1].append(i)
    c = count(1)
    return [[c.next() for day in week] for week in weeks]

def valid(days, c):
    ''' Validity check. Cant work more than c consecutive days. '''
    for i in xrange(1, len(days)):
        if days[i] - days[i-1] > c:
            return False
    else:
        return True

def daysoff(m, n, c):
    ''' In month length m, need n days off, cant work more than c consecutive days. '''
    while True:
        days = candidate(n)
        if valid(days, c):
            return days

>>> for i in range(28, 32):
...     daysoff(i, 8, 7)
... 
[6, 7, 10, 14, 18, 20, 27, 28]
[4, 7, 10, 13, 19, 21, 23, 24]
[2, 4, 9, 13, 15, 20, 25, 27]
[1, 3, 9, 12, 18, 19, 24, 28]
"
34173,28458,How to convert image data type from windows sql server to image using python?,"from PIL import Image
import StringIO
import binascii

# In your case, 's' will be the string from the field
# in the database.
s = open(""chenchi.txt"").read()

# chop off the '0x' at the front.
s = s[2:] 

# Decode it to binary.
binary = binascii.unhexlify(s)

# Wrap the bytes in a memory stream that can be read like a file.
bytes = StringIO.StringIO(binary)

# Use pillow to read the memory stream into an image (it autodetects the format).
im = Image.open(bytes)

# And show it. Or you could .save() it.
im.show()
"
814,45006,Is there only one True and one False object in Python?,">>> (1 == 1) is True
True
>>> (1 == 0) is False
True
"
14108,35711,How to print a 'null' for any of many values that may have no value,"Chi_min = str(min(chi)) or ""null""
"
21971,30015,Django admin page dropdowns,"class Conference(models.Model):
    conference_name = models.CharField(max_length=50)
    url = models.URLField()

    def __unicode__(self):
        return self.conference_name

    class Meta:
        ordering = ['conference_name']
"
5845,45145,Python optparse defaults vs function defaults,"import inspect
from optparse import OptionParser
import sys

def do_stuff(opt0, opt1=""a"", opt2=""b"", opt3=""c""):
    print opt0, opt1, opt2, opt3

if __name__ == ""__main__"":
    parser = OptionParser()
    args, varargs, varkw, defaults = inspect.getargspec(do_stuff)
    if varargs or varkw:
      sys.exit(""Sorry, can't make opts from a function with *a and/or **k!"")
    lend = len(defaults)
    nodef = args[:-lend]
    for a in nodef:
      parser.add_option(""--%s"" % a)
    for a, d in zip(args[-lend:], defaults):
      parser.add_option(""--%s"" % a, default=d)

    options, args = parser.parse_args()
    d = vars(options)
    for n, v in zip(nodef, args):
      d[n] = v

    do_stuff(**d)
"
33826,30946,How do I parse timezones from dates in python,">>> import dateutil.parser

>>> x = dateutil.parser.parse('Wed, 27 Oct 2010 22:17:00 GMT')
datetime.datetime(2010, 10, 27, 22, 17, tzinfo=tzutc())
>>> str(x)
'2010-10-27 22:17:00+00:00'
>>> x.strftime('%a, %d %b %Y %H:%M:%S %Z')
'Wed, 27 Oct 2010 22:17:00 UTC'
"
23758,1021,How to send raw XML in Python?,"import socket
import time

command = '<xml version=""1.0"" encoding=""UTF-8""><header/><body><code><body/>'

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.connect((""192.1100.2.2"", 54239))

s.send(command)

time.sleep(2)
resp = s.recv(3000)

print resp
"
22967,71500,"Specifying default filenames with argparse, but not opening them on --help?","import sys, argparse
parser = argparse.ArgumentParser(description='my illustrative example', argument_default=argparse.SUPPRESS)
parser.add_argument('--content', metavar='file',
                     default='content.txt', type=argparse.FileType('r'),
                     help='file to process (defaults to content.txt)')
parser._parse_known_args(sys.argv[1:], argparse.Namespace())
args = parser.parse_args()
"
10052,14250,Python regex statement not returning correct results,"regex_search_string = re.compile(r""[+-]>\s\[HELP\.SELECTOR\]"")
for data in repo.pull_request(prs.number).files():
    match_text = regex_search_string.search(data.patch)
    if match_text:
        search_string_found = 'True'
        break
"
39287,37619,Python read a file replace a string in a word,"import re

#to avoid compile in each iteration
re_et = re.compile(r'^Et(\d+),')
re_ma = re.compile(r'^Ma(\d+),')

with open('test.txt') as fin:
    for line in fin:
        data = re_et.sub('Ethernet\g<1>,', line.strip())
        data = re_ma.sub('Management\g<1>,', data)
        print(data)
"
38983,12297,Python oop question,"class Example2(Item):

    def __init__(self, base):
         self.base = base
         self.base.get_item(Example1()).do_something()

         # or if don't want to store base, and just call its method once:
         base.get_item(Example1()).do_something()

if __name__ == '__main__':

    base = Base()
    base.add_item(Example1())
    base.add_item(Example2(), base)
"
22036,19882,"How to combine multiple dicts, summing the values of common keys (and retaining those with value 0) in Python?",">>> c = Counter()
>>> for d in d1, d2, d3:
...     c.update(d)
...     
>>> c
Counter({'b': 78, 'a': 46, 'c': 3, 'd': 0})
"
6149,43874,Multiple dictionary operations in one line,"dict({'blah': 10}, new_item='Hello')
"
34866,39641,Fit UTF-8 string to bytelength 32,"def fixlen (s, length):
    bs = s.encode ('utf-8')
    bs = bs [:length]
    while True:
        try:
            bs.decode ('utf-8')
            break
        except UnicodeDecodeError:
            bs = bs [:-1]
    return bs + b'\0' * (length - len (bs) )


s = 'LLegÃ³ cigÃ¼eÃ±a'
for length in range (0, 20):
    bs = fixlen (s, length)
    print (s, bs, bs.decode ('utf-8') )
"
23511,43817,Timestamp value behind by 4 hours,"int_ts = int((datetime.datetime.strptime(extracted_ts, ""%Y%m%d-%H%M"") - datetime.datetime(1970,1,1)).total_seconds()) * 1000
"
6468,2803,Get related model with Django query,"D = D.objects.all()
for element in D:
    if hasattr(element.user, ""A""):
        results.append(element.user.A)
    elif hasattr(element.user, ""B""):
        results.append(element.user.B)
    elif hasattr(element.user, ""C""):
        results.append(element.user.C)
"
11163,3257,Map character to its escaped version,">>> ('\\' + 'a').decode('string-escape')
'\x07'
"
10343,66549,Croping face Using OPENCV python,"id = 1    
for (x,y,w,h) in faces:
    cropped = img[ y : y+h, x : x+w ]
    cv2.imwrite(""cropped_face"" + str(id) + "".png"", cropped)
    id++
"
19232,48999,django model referencing object from other class,"class RackAdmin(admin.ModelAdmin):
    model = Rack
    readonly_fields = ('row',)

    def row(self, obj):
        return obj.position.row
"
31067,56566,Splitting on first occurrence,"
s.split('mango', 1)[1]
"
9026,8841,Sorting algorithm in OpenOffice calc,"   data = [  ""abc"", ""aBB"", ""abD"", ""Aac"", ""AAb"", ""ABc"", ""ABa"" ]
   print sorted(data, key = lambda item: item.upper())
"
11440,29825,"PyQt SpinBox always returning 0, unless previously set with setValue","def buyDialog(self):
    global current, price, qtyToBuy
    dialog = BuyDialog()
    result = dialog.exec_()

    qtyToBuy = dialog.ui.buySpinBox.value() # add this line here

    if result:
        dialogResult = (current, price, qtyToBuy)
        print dialogResult #debug
        return dialogResult
"
35656,59027,x-auth token in requests module,"import requests
headers = {'User-Agent': 'ceilometerclient.openstack.common.apiclient'
           'X-Auth-Token': '{SHA1}e8198c33b3d1b0748fa3db5cd6821d33951d67c8'
           }
r = requests.get(""https://us-ny-3.cloud.rac.com:8777/v2/meters"",headers=headers)
"
1207,28356,List comprehension and simplifying code,"select_s = "", "".join('ADD COLUMN %s FLOAT' % cat for cat in categories)
"
4833,27343,extract values from xml,"from xml.etree import ElementTree

tree = ElementTree.parse('filename.xml')
for elem in tree.findall('lex'):
    print elem.attrib['marker']
"
35207,3233,Handling of carriage return (\r) character in Python's Fabric,"class FixProgress:
    def __init__(self):
        self.saw_progress = False

    def write(self, s):
        if 'Progress:' in s:
            self.saw_progress = True
        if s == '\n' and self.saw_progress:
            sys.stdout.write('\r')
            self.saw_progress = False
        else:
            sys.stdout.write(s)

    def flush(self):
        sys.stdout.flush()

def some_task():
    with settings(user = 'root'):
        run('./task_with_progress_bar.out', stdout = FixProgress())
"
5343,51452,Repeated Random Numbers,"numbers = list(range(1, 101)) # all the numbers in the bag, from 1 to 100
random.shuffle(numbers)       # shake the bag
bingo_num = numbers.pop()     # pull out next number (inside your loop)
"
32987,60900,How to see function signature in Python?,">>> help(enumerate)
Help on class enumerate in module __builtin__:

class enumerate(object)
 |  enumerate(iterable[, start]) -> iterator for index, value of iterable
 |
 |  Return an enumerate object.  iterable must be another object that supports
 |  iteration.  The enumerate object yields pairs containing a count (from
 |  start, which defaults to zero) and a value yielded by the iterable argument
 |  enumerate is useful for obtaining an indexed list:
 |      (0, seq[0]), (1, seq[1]), (2, seq[2]), ...
 |
 |  Methods defined here:
 |
 |  __getattribute__(...)
 |      x.__getattribute__('name') <==> x.name
 |
 |  __iter__(...)
 |      x.__iter__() <==> iter(x)
 |
 |  next(...)
 |      x.next() -> the next value, or raise StopIteration
 |
 |  ----------------------------------------------------------------------
 |  Data and other attributes defined here:
 |
 |  __new__ = <built-in method __new__ of type object>
 |      T.__new__(S, ...) -> a new object with type S, a subtype of T
"
15818,81874,Python String Manipulation,"with open(""input.txt"") as f:
    for s in f:
        print(s.split("","")[1])
"
12681,13763,split the revision.comment into field and value in Django-reversion,"from django.db.models.signals import pre_save
from django.dispatch import receiver
import reversion

@receiver(pre_save)
def _pre_save(sender, **kwargs):
    _i = kwargs.get('instance')
    _i_old = sender.objects.get(pk=_i.pk)
    _current, _past = set(_i.__dict__.keys()), set(_i_old.__dict__.keys())
    _intersection = _current.intersection(_past)
    _changed_keys = set(o for o in _intersection if _i.__dict__[o] != _i_old.__dict__[o])
    _comment = ['changed {} from {} to {}'.format(_, _i_old.__dict__[_], _i.__dict__[_]) for _ in _changed_keys]
    reversion.set_comment(', '.join(_comment))
"
38786,2853,Rectangular bounding box around blobs in a monochrome image using python,"import numpy as np
import scipy.ndimage as ndimage
import scipy.spatial as spatial
import scipy.misc as misc
import matplotlib.pyplot as plt
import matplotlib.patches as patches

class BBox(object):
    def __init__(self, x1, y1, x2, y2):
        '''
        (x1, y1) is the upper left corner,
        (x2, y2) is the lower right corner,
        with (0, 0) being in the upper left corner.
        '''
        if x1 > x2: x1, x2 = x2, x1
        if y1 > y2: y1, y2 = y2, y1
        self.x1 = x1
        self.y1 = y1
        self.x2 = x2
        self.y2 = y2
    def taxicab_diagonal(self):
        '''
        Return the taxicab distance from (x1,y1) to (x2,y2)
        '''
        return self.x2 - self.x1 + self.y2 - self.y1
    def overlaps(self, other):
        '''
        Return True iff self and other overlap.
        '''
        return not ((self.x1 > other.x2)
                    or (self.x2 < other.x1)
                    or (self.y1 > other.y2)
                    or (self.y2 < other.y1))
    def __eq__(self, other):
        return (self.x1 == other.x1
                and self.y1 == other.y1
                and self.x2 == other.x2
                and self.y2 == other.y2)

def find_paws(data, smooth_radius = 5, threshold = 0.0001):
    # http://stackoverflow.com/questions/4087919/how-can-i-improve-my-paw-detection
    """"""Detects and isolates contiguous regions in the input array""""""
    # Blur the input data a bit so the paws have a continous footprint 
    data = ndimage.uniform_filter(data, smooth_radius)
    # Threshold the blurred data (this needs to be a bit > 0 due to the blur)
    thresh = data > threshold
    # Fill any interior holes in the paws to get cleaner regions...
    filled = ndimage.morphology.binary_fill_holes(thresh)
    # Label each contiguous paw
    coded_paws, num_paws = ndimage.label(filled)
    # Isolate the extent of each paw
    # find_objects returns a list of 2-tuples: (slice(...), slice(...))
    # which represents a rectangular box around the object
    data_slices = ndimage.find_objects(coded_paws)
    return data_slices

def slice_to_bbox(slices):
    for s in slices:
        dy, dx = s[:2]
        yield BBox(dx.start, dy.start, dx.stop+1, dy.stop+1)

def remove_overlaps(bboxes):
    '''
    Return a set of BBoxes which contain the given BBoxes.
    When two BBoxes overlap, replace both with the minimal BBox that contains both.
    '''
    # list upper left and lower right corners of the Bboxes
    corners = []

    # list upper left corners of the Bboxes
    ulcorners = []

    # dict mapping corners to Bboxes.
    bbox_map = {}

    for bbox in bboxes:
        ul = (bbox.x1, bbox.y1)
        lr = (bbox.x2, bbox.y2)
        bbox_map[ul] = bbox
        bbox_map[lr] = bbox
        ulcorners.append(ul)
        corners.append(ul)
        corners.append(lr)        

    # Use a KDTree so we can find corners that are nearby efficiently.
    tree = spatial.KDTree(corners)
    new_corners = []
    for corner in ulcorners:
        bbox = bbox_map[corner]
        # Find all points which are within a taxicab distance of corner
        indices = tree.query_ball_point(
            corner, bbox_map[corner].taxicab_diagonal(), p = 1)
        for near_corner in tree.data[indices]:
            near_bbox = bbox_map[tuple(near_corner)]
            if bbox != near_bbox and bbox.overlaps(near_bbox):
                # Expand both bboxes.
                # Since we mutate the bbox, all references to this bbox in
                # bbox_map are updated simultaneously.
                bbox.x1 = near_bbox.x1 = min(bbox.x1, near_bbox.x1)
                bbox.y1 = near_bbox.y1 = min(bbox.y1, near_bbox.y1) 
                bbox.x2 = near_bbox.x2 = max(bbox.x2, near_bbox.x2)
                bbox.y2 = near_bbox.y2 = max(bbox.y2, near_bbox.y2) 
    return set(bbox_map.values())

if __name__ == '__main__':
    fig = plt.figure()
    ax = fig.add_subplot(111)

    data = misc.imread('image.png')
    im = ax.imshow(data)    
    data_slices = find_paws(255-data, smooth_radius = 20, threshold = 22)

    bboxes = remove_overlaps(slice_to_bbox(data_slices))
    for bbox in bboxes:
        xwidth = bbox.x2 - bbox.x1
        ywidth = bbox.y2 - bbox.y1
        p = patches.Rectangle((bbox.x1, bbox.y1), xwidth, ywidth,
                              fc = 'none', ec = 'red')
        ax.add_patch(p)

    plt.show()
"
11649,64095,Making a list of dictionaries from a list of tuples,"for x in boys:
    z = dict(zip(keys,x))
    boyz.append(z)
"
2926,7742,Using Angular JS(Protractor) with Selenium in Python,"from selenium.webdriver.support.wait import WebDriverWait
from selenium.webdriver.common.by import By
from selenium.webdriver.support import expected_conditions as EC

wait = WebDriverWait(driver, 10)
wait.until(EC.visibility_of_element_located((By.TAG_NAME, ""myaccount"")))
"
19260,43335,Getting substring between nth and mth occurence of some sequence,"a=""foofoo\tBergen, Norway\tAffluent\tDonkey""

word= a.rsplit('\t',2)
if len(word)>2:
     print word[-2]

#output =Affluent
"
33340,36362,Python: Normalize multidimensional array,"import numpy as np

a = np.array([(1, 2), (-3, 4), (-2, 2), (0, 1), (1, 3)])

a_abs = np.fabs(a)
print(a_abs)
# [[ 1.  2.]
#  [ 3.  4.]
#  [ 2.  2.]
#  [ 0.  1.]
#  [ 1.  3.]]

a_max = np.amax(a_abs)

print(a_max)
# 4.0
"
6376,41075,Python Beautiful Soup Table Data Scraping Specific TD Tags,"import pickle
import math
import urllib2
from lxml import etree
from bs4 import BeautifulSoup
from urllib import urlopen

year = '2014'
lastWeek = '2'
favQB1 = ""Tom Brady""

favQBurl2 = 'http://www.nfl.com/player/tombrady/2504211/gamelogs'
favQBhtml2 = urlopen(favQBurl2).read()
favQBsoup2 = BeautifulSoup(favQBhtml2)
favQBpass2 = favQBsoup2.find_all(""table"", { ""summary"" : ""Game Logs For %s In %s"" % (favQB1, year)})[1]
favQBrows2 = []

for row in favQBpass2.findAll(""tr""):
    if lastWeek in row.findNext('td'):
        for item in row.findAll(""td""):
            favQBrows2.append(item.text)
print (""Enter: Starting Quarterback QB Rating of Favored Team for the last game played (regular season): ""),
print favQBrows2[15]
"
26999,25216,Python: Embed pandas plot in Tkinter GUI,"import matplotlib
import numpy as np
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg
from matplotlib.figure import Figure
import pandas as pd
import Tkinter as tk
import ttk

root = tk.Tk()

lf = ttk.Labelframe(root, text='Plot Area')
lf.grid(row=0, column=0, sticky='nwes', padx=3, pady=3)

t = np.arange(0.0,3.0,0.01)
df = pd.DataFrame({'t':t, 's':np.sin(2*np.pi*t)})

fig = Figure(figsize=(5,4), dpi=100)
ax = fig.add_subplot(111)

df.plot(x='t', y='s', ax=ax)

canvas = FigureCanvasTkAgg(fig, master=lf)
canvas.show()
canvas.get_tk_widget().grid(row=0, column=0)

root.mainloop()
"
12474,45643,Django: order a queryset by the sum of annotated fields?,"SELECT  id, name,
    total_messages, total_discussion_approval_votes, total_message_approval_votes,
    (total_messages +
     total_discussion_approval_votes +
     total_message_approval_votes) as score_total
FROM
   (SELECT
    discussion.id,
    discussion.name,
    COUNT(DISTINCT discussionapprovalvote.id) AS total_discussion_approval_votes,
    COUNT(DISTINCT messageapprovalvote.id) AS total_message_approval_votes,
    COUNT(DISTINCT message.id) AS total_messages
    FROM discussion
    LEFT OUTER JOIN discussionapprovalvote
         ON (discussion.id = discussionapprovalvote.discussion_id)
    LEFT OUTER JOIN message
         ON (discussion.id = message.discussion_id)
    LEFT OUTER JOIN messageapprovalvote
         ON (message.id = messageapprovalvote.message_id)
    GROUP BY discussion.id, discussion.name)

ORDER BY score_total DESC
LIMIT 20;
"
29202,20966,Get last item from a list as integer/float,">>> a = [0,1,2,3,4,5,7,8]
>>> a[-1]
8
>>>
"
8798,19268,Update only some field with create_update.update_object,"class MyModelForm(forms.ModelForm):
    class Meta:
         model = FirstClass
         exclude = ('SecondClass',)

# urls.py
(r'^foo/(?P<object_id>\d+)/$','django.views.generic.create_update.update_object',
                                                 {'form_class': MyModelForm})
"
22873,23511,Django Queryset most accurate search result,"MyModel.objects.extra(
    select={
        'tags_occurance': ""(tags LIKE '%tag1%') + (tags LIKE '%tag2%')""
    },
).order_by('-tags_occurance')
"
3347,33026,Directly Reference Python's Standard Library,"from __builtin__ import hex
"
21741,52134,"Getting attributes of a Python package that I don't have the name of, until runtime","def get_params(packagename):
    module = __import__('alpha.%s' % packagename)
    return module.__dict__['REQUIRED_PARAMS']
"
34979,53013,Python: PIL replace a single RGBA color,"import Image
import numpy as np

im = Image.open('test.png')
im = im.convert('RGBA')

data = np.array(im)   # ""data"" is a height x width x 4 numpy array
red, green, blue, alpha = data.T # Temporarily unpack the bands for readability

# Replace white with red... (leaves alpha values alone...)
white_areas = (red == 255) & (blue == 255) & (green == 255)
data[..., :-1][white_areas.T] = (255, 0, 0) # Transpose back needed

im2 = Image.fromarray(data)
im2.show()
"
15239,27743,Querydict a string,"In [1]: from django.http import QueryDict

In [2]: sample = 'amount=2000|captureDay=0|captureMode=AUTHOR_CAPTURE|currencyCode=978|merchantId=002020000000001|orderId=|transactionDateTime=2012-04-12T12:09:56+02:00|transactionReference=1212943|keyVersion=1|authorisationId=0020000006791167|complementaryCode=|maskedPan=|paymentMeanBrand=IDEAL|paymentMeanType=CREDIT_TRANSFER|responseCode=00'

In [3]: qdict = QueryDict(sample.replace('|','&'))

In [4]: qdict
Out[4]: <QueryDict: {u'orderId': [u''], u'keyVersion': [u'1'], u'transactionReference': [u'1212943'], u'paymentMeanType': [u'CREDIT_TRANSFER'], u'maskedPan': [u''], u'currencyCode': [u'978'], u'paymentMeanBrand': [u'IDEAL'], u'complementaryCode': [u''], u'amount': [u'2000'], u'authorisationId': [u'0020000006791167'], u'responseCode': [u'00'], u'captureMode': [u'AUTHOR_CAPTURE'], u'captureDay': [u'0'], u'transactionDateTime': [u'2012-04-12T12:09:56 02:00'], u'merchantId': [u'002020000000001']}>
"
38480,50650,Instance variables not being updated Python when using Multiprocessing,"import threading
from scapy.all import *
from datetime import datetime

directory = str(datetime.now().strftime(""%Y%m%d%H%M%S""))
os.makedirs(directory)

DatasetSnifferExit = 0

class DatasetSniffer(threading.Thread):
    def __init__(self, iface, local_dir='.', filename=str(datetime.now())):
        self.iface = iface
        self.filename = filename
        self.local_dir = local_dir
        self.stop_sniffing = False
        self.writer = PcapWriter(local_dir+""/""+filename+"".pcap"", append=True, sync=True)
        threading.Thread.__init__(self)

    def run(self):
        sniff_interface(self.writer.write, self.iface)


def stop_filter(p):
    if DatasetSnifferExit:
        return True
    else:
        return False


def sniff_interface(write, iface):
    sniff(store=0, prn=write, iface=iface, stop_filter=stop_filter)


if __name__ == ""__main__"":
    DatasetSnifferExit = False
    # Create new threads
    pcap1 = DatasetSniffer('en3', directory, ""master"")
    pcap2 = DatasetSniffer('en0', directory, ""slave"")

    # Start new Threads
    pcap1.start()
    pcap2.start()

    # Do stuff
    time.sleep(10)

    # Finished doing stuff
    DatasetSnifferExit = True
"
24855,5601,ctypes initializing c_int array by reading file,"f = open('hr.dat', 'rb')
array = (c_int * 32487834)()
f.readinto(array)
"
33724,46126,Flask-cache generate different keys for int and long parameters,"class CustomCache(Cache):
    def _memoize_kwargs_to_args(self, f, *args, **kwargs):
        keyargs, keykwargs = super(CardCache, self) \
            ._memoize_kwargs_to_args(f, *args, **kwargs)

        new_args = []
        for arg in keyargs:
            if isinstance(arg, numbers.Integral):
                arg = long(arg)
            new_args.append(arg)

        return tuple(new_args), keykwargs
"
31347,63949,Python Xlib catch/send mouseclick,"import Xlib
import Xlib.display

def main():
    display = Xlib.display.Display(':0')
    root = display.screen().root
    root.change_attributes(event_mask=
        Xlib.X.ButtonPressMask | Xlib.X.ButtonReleaseMask)

    while True:
        event = root.display.next_event()
        print event

if __name__ == ""__main__"":
    main()
"
4406,54532,"I would like explanations on python list management optimisation, and overall, optimisation","a += 3 if condition else 1
"
24057,54117,Python: unsigned 32 bit bitwise arithmetic,">>> m = 0xFFFFFF00
>>> allf = 0xFFFFFFFF
>>> ~m & allf
255L
"
8298,26635,Subplot with equal aspect ratio,"fig = plt.figure()

ax1 = fig.add_subplot(1,2,1)
im = ax1.tricontourf(x_exp, y_exp, z_exp)
plt.colorbar(im, drawedges=True, orientation='vertical')
ax1.set_aspect('equal')
ax1.set_axis_off()
ax1.set_title('tricontour')

ax2 = fig.add_subplot(1,2,2)
im = ax2.tricontourf(x_exp, y_exp, z_exp2)
plt.colorbar(im, drawedges=True, orientation='vertical')
ax2.set_aspect('equal')
ax2.set_axis_off()
ax2.set_title('tricontour')

plt.show()
"
9863,29017,matplotlib plot csv file of all columns,"[plt.plot(data[0],data[x]) for x in range(1,len(data[:,0]))]
"
746,81231,Show 404 when specific route matches,"if not os.path.exists(os.path.join(template_path, page)): 
    self.abort(404)
"
19621,38846,Remove time from timedelta output in python,">>> from datetime import datetime
>>> 
>>> recordDate = datetime(year=2010, month=10, day=10)
>>> now = datetime.now()
>>> age = now - recordDate
>>> age  # age is the timedelta object
datetime.timedelta(2033, 61630, 853029)
>>> ""%d days"" % age.days
'2033 days'
"
29553,28992,Sending movie stream from client to server. The python server should play the stream on the fly,"sudo apt-get install webcam
"
32999,27172,Finding Min and Max of list generated from CSV file Python,"import csv

sample  = open(""sampleData.txt"", ""r"")
csv1 = csv.reader(sample, delimiter = ',')

sorted_list = []

for line in csv1:
    print '-- ORIG:', line
    tmp = sorted( [int(i) for i in line[1:]], reverse=True )  # eg: [99,78,56]
    stat_list = [round(sum(tmp)/float(len(tmp)), 2), min(tmp), max(tmp)]
    sorted_list.append( [line[0]] + tmp + stat_list )

for s in sorted_list: print '** NEW: ', s # has ['Fred',99,78,56,78.0,57,99]
"
7461,2224,Python 3.3 Writing A String From A List To A txt File,"with open(""StaffData.txt"", ""wt"") as file:
    for contacts in staffList :
       file.write(""\n"".join(str(contacts).split(' - ')) + ""\n"")
"
32762,54239,find and sum repeating repeating dictionary elements,"from collections import Counter

counts = Counter()
for d in data:
    k, v = d['addr'], d['cnt']
    counts[k] += v

relevant = counts.most_common(50)
"
33709,72366,PyQt4: Changing button icon on action,"icon = QIcon()
icon.addPixmap(QPixmap('normal.png'))
icon.addPixmap(QPixmap('disabled.png'), QIcon.Disabled)
icon.addPixmap(QPixmap('clicking.png'), QIcon.Active)
icon.addPixmap(QPixmap('on.png'), QIcon.Normal, QIcon.On)
btn.setIcon(icon)
"
36013,69299,Python multiple for loops,"import itertools

for a,b,c in itertools.product(cc1, cc2, cc3):
    print a,b,c
"
24390,11429,Python REST decoding the results of FileReader::readAsDataURL,"   with open(file_path, 'wb+') as f:
        f.write(data)
"
4813,7881,How to get a dict lookup by adjacent value,">>> [item.get('titleId') for item in t if item.get('contentType') == 'SERIES'][0]
'B00ERMZZRA'
"
9114,73226,For Loop for a Fourier Series Equation,"import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure()
pi  = np.pi
n = 10
x = np.linspace(-pi,pi,100)
y = (1/(2*pi)) + (1/pi)*(sum(np.cos(i * x) for i in xrange(1, n)))

plt.plot(x,y)
plt.show()
"
8916,66470,Make letters appear on the same line instead of each appearing on its own line,"adding = input(""Enter Name: "")

with open(""settings.txt"", ""a"") as f:
    f.write(adding)

with open(""settings.txt"", ""r"") as fp:
    print(fp.readlines())
"
37661,34827,How to convert string into an variable in python,"b='4'
formula = ""2*x""
formula = formula.replace(""x"", ""%d"")
Result = eval(formula % int(b))
"
21704,515,Pandas New Column Calculation Based on Existing Columns Values,"df = pd.DataFrame({'LOT': ['A1111', 'A2222', 'A3333', 'B1111', 'B2222', 'B3333'], 
                   'LOT_VIRTUAL_LINE': ['AAA'] * 3 + ['BBB'] * 3})
s = pd.Series(['A1111', 'B2222'], name='Lots Of Interest')
# or... df2 = pd.read_csv('file_path/file_name.csv')

# Value of 'GROUP' defaults to 'LOT_VIRTUAL_LINE'.
df['GROUP'] = df.LOT_VIRTUAL_LINE

# But gets overwritten by 'LOT' if it is in the 'Lots of Interest' series.
mask = df.LOT.isin(s)
# or... mask = df.LOT.isin(df2['Lots of Interest'])  # Whatever the column name is.
df.loc[mask, 'GROUP'] = df.loc[mask, 'LOT']

# Confirm results.
>>> df
     LOT LOT_VIRTUAL_LINE  GROUP
0  A1111              AAA  A1111
1  A2222              AAA    AAA
2  A3333              AAA    AAA
3  B1111              BBB    BBB
4  B2222              BBB  B2222
5  B3333              BBB    BBB
"
8427,50666,Histogram of sum instead of count using numpy and maplotlib,"ax[0].hist(qtime[jobs['charge_rate']==1], weights=area[jobs['charge_rate']==1],
           bins=bins, label='Normal', color='b')
ax[1].hist(qtime[jobs['charge_rate']==3], weights=area[jobs['charge_rate']==3],
           bins=bins, label='Express', color='g')
"
8859,10603,convert huffman code string to binary,"ss=['01010100','10010101010','010101110101010101'] #encoded message


from bitstring import BitArray,BitStream
print 'write it to file'
with open('binary.bin','wb') as f:
    s=''.join(ss);
    b=BitArray(bin=s)                 
    f.write(b.tobytes())# thanks to Scott, tobytes() method is very useful

print 'read it to file'
b=BitArray(filename='binary.bin')
print b.bin
"
6747,29083,Python random colors flickering on object,"import pygame, sys
from pygame.locals import *
import random

FPS = 30  # frames per second
BLACK = (0, 0, 0)
WHITE = (255, 255, 255)

class Thing(pygame.Rect):
    def __init__(self, *args, **kwargs):
        super(Thing, self).__init__(*args, **kwargs)  # init Rect base class
        # define additional attributes
        self.color = tuple(random.randrange(0, 256) for _ in range(3))
        self.x_speed, self.y_speed = 5, 5  # how fast it moves

    def draw(self, surface, width=0):
        pygame.draw.rect(surface, self.color, self, width)

def main():
    pygame.init()
    fpsclock = pygame.time.Clock()
    pygame.key.set_repeat(250)  # enable keyboard repeat for held down keys
    gameDisplay = pygame.display.set_mode((500,400), 0,32)
    gameDisplay.fill(WHITE)

    thingx,thingy, thingw,thingh = 200,150, 100,50
    thing = Thing(thingx, thingy, thingw, thingh)  # create an instance

    while True:  # display update loop
        gameDisplay.fill(WHITE)

        for event in pygame.event.get():
            if event.type == QUIT:
                pygame.quit()
                sys.exit()
            elif event.type == KEYDOWN:
                if event.key == K_DOWN:
                    thing.y += thing.y_speed
                elif event.key == K_UP:
                    thing.y -= thing.y_speed
                elif event.key == K_RIGHT:
                    thing.x += thing.x_speed
                elif event.key == K_LEFT:
                    thing.x -= thing.x_speed

        thing.draw(gameDisplay)  # display at current position
        pygame.display.update()
        fpsclock.tick(FPS)

main()
"
6046,20174,How do I list occurrences of certian values found in a dictionary in a list in python?,">>> set(x['created_by'] for x in dave)
set(['admin', 'adam'])

>>> list(set(x['created_by'] for x in dave))
['admin', 'adam']
"
2245,23439,How to sort a list of strings containing numbers numerically,"random_list=[""h: 100"", ""g: 57"", ""k: 1"", ""p: 200""]

sorted(random_list, key=lambda x: int(x.split()[1]))

#  ['k: 1', 'g: 57', 'h: 100', 'p: 200']
"
10120,72261,Search by value in pandas series,"myseries[myseries  == 'VALUE'].index.tolist() 
"
3174,34462,python: break or exit out of with statement?,"def do_it():
    with open(path) as f:
        print 'before condition'
        if <condition>:
            return
        print 'after condition'
"
143,1990,Efficient way to do large IN query in Google App Engine?,"from google.appengine.ext import ndb

class PhoneUser(ndb.Model):
  number = ndb.StringProperty()
  user = ndb.KeyProperty()

class User(ndb.Model):
  pass

u = User()
u.put()

p = PhoneUser(id='123-456-7890', number='123-456-7890', user=u.key)
p.put()

u2 = User()
u2.put()

p2 = PhoneUser(id='555-555-5555', number='555-555-5555', user=u2.key)

result =  ndb.get_multi([ndb.Key(PhoneUser, '123-456-7890'), ndb.Key(PhoneUser, '555-555-5555')])
"
15973,37595,Merging two lists in the order of each elements in two lists,"from itertools import chain
list(chain.from_iterable(zip([1, 2, 3, None, None], [4, 5, 6])))
"
20102,58355,Can python's csv reader leave the quotes in?,"    else if (c == dialect->quotechar &&
             dialect->quoting != QUOTE_NONE) {
        if (dialect->doublequote) {
            /* doublequote; "" represented by """" */
            self->state = QUOTE_IN_QUOTED_FIELD;
        }
        else {
            /* end of quote part of field */
            self->state = IN_FIELD;
        }
    }
    else {
        /* normal character - save in field */
        if (parse_add_char(self, c) < 0)
            return -1;
    }
"
17379,50935,Possible to use conditional execution in Fabric?,"@hosts('host.example.com')
def task():
    if run('echo $SOME_VAR') == 'some value':
        run('some_other_command.sh')
"
12062,71202,"Print on the same line, step after step","print('.', end='', flush=True)
"
24979,34540,Turning ctypes.POINTER(instance) into an actual instance?,"class Image(ctypes.Structure):
  _fields_ = (
      ('image_info', ImageInfo),
      ('type', ctypes.c_int),
      ('format', ctypes.POINTER(Format) ),
  )
  @classmethod
  def open(cls,filename):
    img = my_image_open( filename )
    if img: return img[0]
    return None
"
15637,38067,Decorators applied to class definition with Python,"def enum(cls):
  names = getattr(cls, 'names', None)
  if names is None:
    raise TypeError('%r must have a class field `names` to be an `enum`!',
                    cls.__name__)
  for i, n in enumerate(names):
    setattr(cls, n, i)
  return cls

@enum
class Color(object):
  names = 'red green blue'.split()
"
34891,65109,How can I count the occurrences of a word in Python,"count = 0
myAuthlog=open('auth.log', 'r')
for line in myAuthlog:
    if re.match(""(.*)(B|b)in(.*)"", line):
        count+=1
print count
"
32308,11047,"pandas - add a column with value based on exisitng one (bins, qcut)","In [9]: df.groupby('binned_a').describe().unstack()
Out[9]:               a                                                   \
                  count      mean       std       min       25%       50%   
binned_a                                                                    
(-0.113, 0.109]       2  0.025114  0.010264  0.017856  0.021485  0.025114   
(-0.337, -0.113]      2 -0.282838  0.056445 -0.322751 -0.302794 -0.282838   
(0.109, 0.563]        3  0.354481  0.214402  0.134978  0.250027  0.365076   
[-1.842, -0.337]      3 -1.003969  0.765167 -1.841622 -1.335073 -0.828523   


                   75%       max  
binned_a                              
(-0.113, 0.109]   0.028742  0.032371  
(-0.337, -0.113] -0.262882 -0.242925  
(0.109, 0.563]    0.464233  0.563390  
[-1.842, -0.337] -0.585142 -0.341762  
"
4801,35519,Cannot get python 2.7 tkinter text editor find function to work,"def Find():
    def find_button_pressed():
        targetfind = e1.get()
        print targetfind
        if targetfind:
            where = textPad.search(targetfind, INSERT, END)
            if where:
                print where
                pastit = where + ('+%dc' % len(targetfind))
                #self.text.tag_remove(SEL, '1.0', END)
                textPad.tag_add(SEL, where, pastit)
                textPad.mark_set(INSERT, pastit)
                textPad.see(INSERT)
                textPad.focus()
        win.destroy()
    win = Toplevel() 
    Label(win, text=""Find:"").pack()
    e1 = Entry(win)
    e1.pack()
    Button(win, text=""Find Me!!!!"", command=find_button_pressed).pack()
"
32205,61723,Find the closest match of a list in a list containing lists,"from functools import partial

def distance_squared(x, y):
    return (x[0] - y[0])**2 + (x[1] - y[1])**2

print min(big_list, key=partial(distance_squared, list_a))
"
34231,59054,what is the inverse of time.asctime in Python,">>> import time
>>> time.ctime(time.time())
'Fri Apr 25 12:12:06 2014'
>>> time.strptime(time.ctime(time.time()))
time.struct_time(tm_year=2014, tm_mon=4, tm_mday=25, tm_hour=12, tm_min=12, tm_sec=10, tm_wday=4, tm_yday=115, tm_isdst=-1)
>>> time.strptime(time.asctime())
time.struct_time(tm_year=2014, tm_mon=4, tm_mday=25, tm_hour=12, tm_min=13, tm_sec=6, tm_wday=4, tm_yday=115, tm_isdst=-1)
"
30045,4424,Reading a 32 bit floating point binary data file (little endian),">>> import struct
>>> struct.unpack('<f', '\xc0\x05\xe5\x3f')
(1.7892379760742188,)
"
25126,57376,Python: How to Copy Files Fast,"class CTError(Exception):
    def __init__(self, errors):
        self.errors = errors

try:
    O_BINARY = os.O_BINARY
except:
    O_BINARY = 0
READ_FLAGS = os.O_RDONLY | O_BINARY
WRITE_FLAGS = os.O_WRONLY | os.O_CREAT | os.O_TRUNC | O_BINARY
BUFFER_SIZE = 128*1024

def copyfile(src, dst):
    try:
        fin = os.open(src, READ_FLAGS)
        stat = os.fstat(fin)
        fout = os.open(dst, WRITE_FLAGS, stat.st_mode)
        for x in iter(lambda: os.read(fin, BUFFER_SIZE), """"):
            os.write(fout, x)
    finally:
        try: os.close(fin)
        except: pass
        try: os.close(fout)
        except: pass

def copytree(src, dst, symlinks=False, ignore=[]):
    names = os.listdir(src)

    if not os.path.exists(dst):
        os.makedirs(dst)
    errors = []
    for name in names:
        if name in ignore:
            continue
        srcname = os.path.join(src, name)
        dstname = os.path.join(dst, name)
        try:
            if symlinks and os.path.islink(srcname):
                linkto = os.readlink(srcname)
                os.symlink(linkto, dstname)
            elif os.path.isdir(srcname):
                copytree(srcname, dstname, symlinks, ignore)
            else:
                copyfile(srcname, dstname)
            # XXX What about devices, sockets etc.?
        except (IOError, os.error), why:
            errors.append((srcname, dstname, str(why)))
        except CTError, err:
            errors.extend(err.errors)
    if errors:
        raise CTError(errors)
"
17039,59384,Problems with the order execution functions when use PyQT4,"import time
import sys
from PyQt4 import QtCore, QtGui


class TimeSleep(QtCore.QThread):
    def __init__(self, parent=None):
        QtCore.QThread.__init__(self, parent)
        self.parent = parent

    def run(self):
        print(""start sleep"")
        time.sleep(5)
        print(""stop sleep"")
        self.parent.glabel.setText(u""Done"")


class AnyWidget(QtGui.QWidget):
    def __init__(self, *args):

        QtGui.QWidget.__init__(self, *args)
        self.setWindowTitle(""PETHARD"")
        boxlay = QtGui.QHBoxLayout(self)
        frame = QtGui.QFrame(self)  # Ð¤ÑÐµÐ¹Ð¼
        frame.setFrameShape(QtGui.QFrame.StyledPanel)
        frame.setFrameShadow(QtGui.QFrame.Raised)

        gridlay = QtGui.QGridLayout(
            frame)  # ÐÐµÐ½ÐµÐ´Ð¶ÐµÑ ÑÐ°Ð·Ð¼ÐµÑÐµÐ½Ð¸Ñ ÑÐ»ÐµÐ¼ÐµÐ½ÑÐ¾Ð² Ð²Ð¾ ÑÑÐµÐ¹Ð¼Ðµ
        label = QtGui.QLabel(u""Welcome"", frame)  # Ð¢ÐµÐºÑÑÐ¾Ð²Ð°Ñ Ð¼ÐµÑÐºÐ°.
        self.glabel = label
        gridlay.addWidget(label, 0, 0)
        button1 = QtGui.QPushButton(u""Load From MC"", frame)
        self.connect(button1, QtCore.SIGNAL(""clicked()""), self.ts)
        gridlay.addWidget(button1, 1, 0)
        boxlay.addWidget(frame)

    def ts(self):
        self.glabel.setText(u""Waiting..."")
        self.thread = TimeSleep(parent=self)
        self.thread.start()


if __name__ == ""__main__"":
    app = QtGui.QApplication(sys.argv)
    aw = AnyWidget()
    aw.show()
    sys.exit(app.exec_())
"
19046,17832,How to extract two tuples from a single row in a list comprehension?,"rows = [value for row in reader
        for value in [(row[0], row[2]), (row[0], row[3])]]
"
22403,62268,How can loop over two dictionaries at once?,"from itertools import chain

for word, cls in chain(self.spam.items(), self.ham.items()):
    print(word, cls)
"
33073,75633,time.sleep() required to keep QThread responsive?,"import time, random, sys
#from PySide.QtCore import *
#from PySide.QtGui import *

from PyQt4 import QtCore
from PyQt4 import QtGui

from matplotlib.figure import Figure
from matplotlib.backends.backend_qt4agg import NavigationToolbar2QTAgg as NavigationToolbar
from matplotlib.backends.backend_qt4agg import FigureCanvasQTAgg as FigureCanvas

class ApplicationWindow(QtGui.QMainWindow):
    get_data = QtCore.pyqtSignal()

    def __init__(self, parent = None):

        QtGui.QMainWindow.__init__(self, parent)


        self.thread = QtCore.QThread(parent=self)
        self.worker = Worker(parent=None)
        self.worker.moveToThread(self.thread)

        self.create_main_frame()
        self.create_status_bar()

        self.startButton.clicked.connect(self.start_acquisition) 
        self.stopButton.clicked.connect(self.stop_acquisition)
        self.worker.pixel_list.connect(self.update_figure)
        self.worker.done.connect(self.update_UI)

        self.get_data.connect(self.worker.get_data)


        self.thread.start()


    def create_main_frame(self):
        self.main_frame = QtGui.QWidget()

        self.dpi = 100
        self.width = 10
        self.height = 8
        self.fig = Figure(figsize=(self.width, self.height), dpi=self.dpi)
        self.axes = self.fig.add_subplot(111)               
        self.axes.axis((0,512,0,120))

        self.canvas = FigureCanvas(self.fig)
        self.canvas.setParent(self.main_frame)
        self.canvas.updateGeometry()    
        self.canvas.draw()
        self.background = None

        self.lE_line, = self.axes.plot(range(512), [0 for i in xrange(512)], animated=True)
        self.hE_line, = self.axes.plot(range(512), [0 for i in xrange(512)], animated=True)          

        self.mpl_toolbar = NavigationToolbar(self.canvas, self.main_frame)

        self.startButton = QtGui.QPushButton(self.tr(""&Start""))
        self.stopButton = QtGui.QPushButton(self.tr(""&Stop""))

        layout = QtGui.QGridLayout()
        layout.addWidget(self.canvas, 0, 0)
        layout.addWidget(self.mpl_toolbar, 1, 0)
        layout.addWidget(self.startButton, 2, 0)       
        layout.addWidget(self.stopButton, 2, 1)

        self.main_frame.setLayout(layout)
        self.setCentralWidget(self.main_frame)

        self.setWindowTitle(self.tr(""XRTdev Interface""))

    def create_status_bar(self):
        self.status_text = QtGui.QLabel(""I am a status bar.  I need a status to show!"")
        self.statusBar().addWidget(self.status_text, 1)

    def start_acquisition(self):
        self.worker.exiting = False
        self.startButton.setEnabled(False)
        self.stopButton.setEnabled(True)
        self.get_data.emit()

    def stop_acquisition(self):
        self.worker.exiting = True
        self.startButton.setEnabled(True)
        self.stopButton.setEnabled(False)
        self.cleanup_UI()

    def update_figure(self, lE, hE):
        if self.background == None:
            self.background = self.canvas.copy_from_bbox(self.axes.bbox)
        self.canvas.restore_region(self.background)
        self.lE_line.set_ydata(lE)
        self.hE_line.set_ydata(hE)
        self.axes.draw_artist(self.lE_line)
        self.axes.draw_artist(self.hE_line)
        self.canvas.blit(self.axes.bbox)

    def update_UI(self):
        self.startButton.setEnabled(True)
        self.stopButton.setEnabled(False)
        self.cleanup_UI()        

    def cleanup_UI(self):
        self.background = None
        self.axes.clear()        
        self.canvas.draw()

class Worker(QtCore.QObject):

    pixel_list = QtCore.pyqtSignal(list, list)
    done = QtCore.pyqtSignal()

    def __init__(self, parent = None):
        QtCore.QObject.__init__(self, parent)
        self.exiting = True

    @QtCore.pyqtSlot()
    def get_data(self):
        # simulate I/O
        print 'data_start'
        n = random.randrange(100,200)
        while not self.exiting and n > 0:
            lE = [random.randrange(5,16) for i in xrange(512)]
            hE = [random.randrange(80,121) for i in xrange(512)]
            self.pixel_list.emit(lE, hE)
            time.sleep(0.05)
            n -= 1
        print 'n: ', n
        self.done.emit()
"
19167,84145,how to make post requests using with list as parameters in python?,"import json
import requests

adaccounts = [1337845464515, 13464645456566]
audienceid = ['6018213515', '601816526']

params = {adaccounts: json.dumps(adaccounts)}

for id_ in audienceid:
    url = 'https://graph.facebook.com/{}/adaccounts'.format(id_)
    response = requests.post(url, data=params)
"
9958,36241,How to do basic dependency injection in Python (for mocking/testing purposes),"from unittest import TestCase
from unittest.mock import patch

class MyTest(TestCase):
    @patch(""mymodule.requests.post"")
    def test_my_code(self, mock_post):
        # ... do my thing here...
"
2381,65773,How to make only some strings of nested lists into integers?,"nested = [line.strip().split(',') for line in in_file][1:]
nested = [line[:1] + [int(x) for x in line[1:]] for line in nested]
"
11745,75035,Pygame audio code not working,"import pygame
from pygame.locals import *
import math
import numpy

#----------------------------------------------------------------------
# functions
#----------------------------------------------------------------------

def SineWave(freq=1000, volume=16000, length=1):

    num_steps = length * SAMPLE_RATE
    s = []

    for n in range(num_steps):
        value = int(math.sin(n * freq * (6.28318/SAMPLE_RATE) * length) * volume)
        s.append( [value, value] )

    return numpy.array(s)

def SquareWave(freq=1000, volume=100000, length=1):

    num_steps = length * SAMPLE_RATE
    s = []

    length_of_plateau = SAMPLE_RATE / (2*freq)

    counter = 0
    state = 1

    for n in range(num_steps):

        value = state * volume
        s.append( [value, value] )

        counter += 1

        if counter == length_of_plateau:
            counter = 0
            state *= -1

    return numpy.array(s)

def MakeSound(arr):
    return pygame.sndarray.make_sound(arr)

def MakeSquareWave(freq=1000):
    return MakeSound(SquareWave(freq))

def MakeSineWave(freq=1000):
    return MakeSound(SineWave(freq))

#----------------------------------------------------------------------
# main program
#----------------------------------------------------------------------

pygame.init()

size = (1200, 720)
screen = pygame.display.set_mode(size, pygame.HWSURFACE | pygame.DOUBLEBUF)
pygame.display.set_caption('Nibbles!')

SAMPLE_RATE = 22050 ## This many array entries == 1 second of sound.

SINE_WAVE_TYPE = 'Sine'
SQUARE_WAVE_TYPE = 'Square'

sound_types = {SINE_WAVE_TYPE:SQUARE_WAVE_TYPE, SQUARE_WAVE_TYPE:SINE_WAVE_TYPE}

current_type = SINE_WAVE_TYPE

current_played = { 'z': None, 'c': None }

_running = True
while _running:

    for event in pygame.event.get():

        if event.type == pygame.QUIT:
            _running = False

        # some keys don't depend on `current_type`

        elif event.type == KEYDOWN:

            if event.key == K_ESCAPE:
                _running = False

            if event.key == K_RETURN:
                current_type = sound_types[current_type]  #Toggle
                print 'new type:', current_type

        # some keys depend on `current_type`

        if current_type == SINE_WAVE_TYPE:

            if event.type == KEYDOWN:

                #lower notes DOWN

                if event.key == K_z:
                    print current_type, 130.81
                    current_played['z'] = MakeSineWave(130.81)
                    current_played['z'].play()

                elif event.key == K_c:
                    print current_type, 180.81
                    current_played['c'] = MakeSineWave(180.81)
                    current_played['c'].play()

            elif event.type == KEYUP:

                #lower notes UP

                if event.key == K_z:
                    current_played['z'].fadeout(350)
                elif event.key == K_c:
                    current_played['c'].fadeout(350)

        elif current_type == SQUARE_WAVE_TYPE:

            if event.type == KEYDOWN:

                #lower notes DOWN

                if event.key == K_z:
                    print current_type, 80.81
                    current_played['z'] = MakeSineWave(80.81)
                    #current_played['z'] = MakeSquareWave(130.81)
                    current_played['z'].play()

                elif event.key == K_c:
                    print current_type, 180.81
                    current_played['c'] = MakeSineWave(180.81)
                    #current_played['c'] = MakeSquareWave(130.81)
                    current_played['c'].play()

            elif event.type == KEYUP:

                #lower notes UP

                if event.key == K_z:
                    current_played['z'].fadeout(350)
                elif event.key == K_c:
                    current_played['c'].fadeout(350)

pygame.quit()

#----------------------------------------------------------------------
"
13491,3144,Is it possible to access index directly?,"""SELECT interest FROM User""
"
4365,61710,Implement a tokeniser in Python,"re.split(r'\s+', string)
['A', '(small,', 'simple)', 'example']
"
3337,76598,How can store multidimension array in django python,"Dict1['var1'] = {'value':20, 'result':None}
Dict1['var2'] = {'value':30, 'result':None}
Dict2['var1'] = {'value':23, 'result':None}
Dict2['var2'] = {'value':26, 'result':None}


if Dict1['var1']['value']  < Dict2['var1']['value']:
    Dict2['var1']['result'] = True
"
16781,61783,Recursively set all files and folders to 777 from this list,"for your_dir in dirs_to_modify:
    for root, dirs, files in os.walk(your_dir):
        for d in dirs:
            os.chmod(os.path.join(root, d), 777)
        for f in files:
            os.chmod(os.path.join(root, f), 777)
"
11777,59169,How to check if every X number is met within a variable?,"var1 = 0
while var1 != 10000:
    if var1%10 == 0:
        do something
    var1 += 1
"
25919,67285,argument must be a bytes instance WSGI Python3,"+++ pysimplesoap/server.py  

                     e['name'] = k
                     if array:
                         e[:] = {'minOccurs': ""0"", 'maxOccurs': ""unbounded""}
-                    if v in TYPE_MAP.keys():
-                        t = 'xsd:%s' % TYPE_MAP[v]
-                    elif v is None:
+
+                    # check list and dict first to avoid
+                    # TypeError: unhashable type: 'list' or
+                    # TypeError: unhashable type: 'dict'
+                    if v is None:
                         t = 'xsd:anyType'
                     elif isinstance(v, list):
                         n = ""ArrayOf%s%s"" % (name, k)
                         n = ""%s%s"" % (name, k)
                         parse_element(n, v.items(), complex=True)
                         t = ""tns:%s"" % n
+                    elif v in TYPE_MAP.keys():
+                        t = 'xsd:%s' % TYPE_MAP[v]
                     else:
                         raise TypeError(""unknonw type v for marshalling"" % str(v))
                     e.add_attribute('type', t)
"
20708,10490,Convert hh:mm:ss to minutes using python pandas,"In [58]: time = pd.DatetimeIndex(df['time taken'])

In [59]: time.hour * 60 + time.minute
Out[59]: array([128, 125, 175, 222,  72, 106, 202, 216], dtype=int32)
"
4818,6514,Image tabs with OpenCV or Matplotlib,"import numpy as np
import matplotlib.pyplot as plt
from matplotlib.widgets import Button

freqs = np.arange(2, 20, 3)

fig, ax = plt.subplots()
plt.subplots_adjust(bottom=0.2)
t = np.arange(0.0, 1.0, 0.001)
s = np.sin(2*np.pi*freqs[0]*t)
l, = plt.plot(t, s, lw=2)


class Index(object):
    ind = 0

    def next(self, event):
        self.ind += 1
        i = self.ind % len(freqs)
        ydata = np.sin(2*np.pi*freqs[i]*t)
        l.set_ydata(ydata)
        plt.draw()

    def prev(self, event):
        self.ind -= 1
        i = self.ind % len(freqs)
        ydata = np.sin(2*np.pi*freqs[i]*t)
        l.set_ydata(ydata)
        plt.draw()

callback = Index()
axprev = plt.axes([0.7, 0.05, 0.1, 0.075])
axnext = plt.axes([0.81, 0.05, 0.1, 0.075])
bnext = Button(axnext, 'Next')
bnext.on_clicked(callback.next)
bprev = Button(axprev, 'Previous')
bprev.on_clicked(callback.prev)

plt.show()
"
11201,42615,Chosing next relative in Python BeautifulSoup with automation,"""""""
Before this code, there goes soup xml document generation. Except part, I mentioned in topic, we just create empty options tags in document, thus, creating almost done document.
Right after that, with this little script, we will use basic python provided element tree methods.
""""""

import xml.etree.ElementTree as ET

ET_tree = ET.parse(""exported_file.xml"")
# Here we import exactly the same file, we opened with soup. Exporting can be done in different file, if you wish.
ET_root = ET_tree.getroot()

for position, opt in enumerate(item.find('options')):
# Position is pretty important, as this will remove 'counter' thing in for loop, I was using in code in first example. Position will be used for getting out exact items from array, which works like template for our option tag names.
    opt.set('name', str(array[position]))
    opt.text = 'text'
# Same way, with position, we can get data from relevant array, provided, that they are inherited or connected in same way.

tree = ET.ElementTree(ET_root).write('exported_file.xml',encoding=""UTF-8"",xml_declaration=True)
# This part was something, I researched before quite lot. This code will help save xml document with utf-8 encoding, which is very important.
"
21981,64615,Compile a dictionary in the least computational costly way,"from itertools import product
t_e_f = dict.fromkeys(product(tokens_e_set,tokens_f_set),1.0/len(tokens_e_set))
"
13870,22641,Does reusing a list slice to get length cost additional memory?,">>> import timeit
>>> def calculate(alist):
...     (1 + len(alist)) // 2
... 
>>> def allocate(alist):
...     len(alist[::2])
... 
>>> testlist = range(10**5)
>>> timeit.timeit('f(testlist)', 'from __main__ import testlist, calculate as f', number=10000)
0.003368854522705078
>>> timeit.timeit('f(testlist)', 'from __main__ import testlist, allocate as f', number=10000)
2.7687110900878906
"
2460,84089,How to improve repeated use of a try statement in Python?,"def get_value(d, keys):
    try:
        if keys:
            for i in range(len(keys)):
                key = keys[i]
                return get_value(d[key], keys[i+1:])
        return d
    except (IndexError, KeyError):
        return ""Null""


>>> d = {'person': {'name': {'first': 'aamir'}}}
>>> get_value(d, ['person', 'name', 'first'])
aamir
"
7526,13156,Obtain Gradient of values against time stamp python,"import pandas as pd
from scipy import stats

data = [
7707.443,
 9595.481,
 5923.493,
 4813.446,
 5384.159,
 4108.496,
 6370.271,
 8829.357,
 7495.700,
13709.940,
 6148.129,
 7249.951,
 6546.819,
 7290.730,
 5056.485
 ]

period_index = pd.period_range(start='2012-03', periods=len(data), freq='M')

df = pd.DataFrame(data=data, 
              index=period_index,
              columns=['PointProduction'])

# these ordinals are months since the start of the Unix epoch                   
df['ords'] = [tstamp.ordinal for tstamp in df.index]
m,c,r,x,y = stats.linregress(list(df.ords),
                             list(df['PointProduction']))
"
2141,74650,calculating mean and standard deviation of the data which does not fit in memory using python,"def online_variance(data):
    n = 0
    mean = 0
    M2 = 0

    for x in data:
        n = n + 1
        delta = x - mean
        mean = mean + delta/n
        M2 = M2 + delta*(x - mean)

    variance = M2/(n - 1)
    return variance
"
17978,11776,How can I select URLs of a particular type with XPath & Scrapy,"//a[starts-with(@href, 'http://lyricsindia.net/songs/show/')]
"
12736,8219,Django models: One to one relationship between objects of the same model class,"parentFolder = models.ForeignKey('self', unique=False, related_name=""childrenFolders"")
"
6382,67738,Shut down ubuntu with python,"import subprocess
>password=input()
    >>if password==""ThePassword"":
        >>>print (""Welcome"")
    >>>>else:
        >>>>>subprocess.call([""sudo"", ""shutdown"", ""-h"", ""now""])
"
25350,37415,How to Pass continue url to Login Required Decorator,"class decorator(object):
    def __init__(argument):
        self.argument = argument

    def __call__(self, wrapped):
        def wrapper(args_for_wrapped):
            do_something_with(self.argument)
            wrapped(args_for_wrapped)
            whatever_else_this_needs_to_do()
        return wrapper
"
38592,420,How to save a data after user logs in DJANGO,"from django.contrib.auth.decorators import login_required
from django.shortcuts import redirect, render

@login_required
def contactUs(request):    
    form = CustomizeRequestForm(data=request.POST or None)

    if request.method == ""POST"":
        if form.is_valid():
             customize_request = form.save(commit=False)
             customize_request.user = request.user
             customize_request.save()
             return redirect('.')
        else:
             pass # could add a notification here

    context_dict = {'form': form}
    return render(request, 'tour/contactUs.html', context_dict)
"
28313,33996,How to let a class variable in python refer to a static method of the same class?,"class reg(cmd): 

    bla = {
        'def': [ ... ],
        'rem': [ ...,
            PIPE.return_response(fail_callback=HERE_I_NEED_THE_REF),
            ...
        ]
    }

    @classmethod
    def testmethod(cls, aco):
        print ""i want to see this on fail""

Test.ref[""rem""][??] = PIPE.return_response(fail_callback=Test.testmethod)
"
29885,27965,How to access attribute within a list of dicts in python?,">>> firstdict = {""somelist"":[]}
>>> seconddict = {""attribute1"": ""value1"", ""attribute2"": ""value2""}
>>> firstdict[""somelist""].append(seconddict)
>>> print firstdict[""somelist""][0]['attribute1']
value1
"
34407,29190,Disable autocomplete on textfield in Django?,"class CommentForm(forms.Form):
    name = forms.CharField(
                widget=forms.TextInput(attrs={'class':'special'}))
    url = forms.URLField()
    comment = forms.CharField(
               widget=forms.TextInput(attrs={'size':'40'}))
"
29937,52573,"In python, sorting on date field, field may sometimes be null","import datetime
mindate = datetime.date(datetime.MINYEAR, 1, 1)

def getaccountingdate(x):
  return x['accountingdate'] or mindate

results = sorted(results, key=getaccountingdate, reverse=True)
"
1485,58655,lookahead assertions,"DOMAIN_LABEL_RE = """"""
(?i               # case insensitive
  \A(
    ([a-z])       # need at least 1 letter and cannot start with digit or hyphen
    ([a-z\d-]*?)
    (?<!-)        # cannot end with a hyphen
  )\Z
)
""""""
"
6973,36316,Google App Engine GQL query on localhost,"from google.appengine.ext import db
q = db.GqlQuery(""SELECT * FROM Song WHERE composer = 'Lennon, John'"")
"
34427,73151,How to unite together 2 model fields in Django?,"def save(self, *args, **kwargs):
    if not self.field1:
        self.field2 = ...
    if not self.field2:
        self.field1 = ...    
    super(A,self).save(*args,**kwargs)
"
21687,300,Element-wise maximum of two sparse matrices,"def maximum (A, B):
    BisBigger = A-B
    BisBigger.data = np.where(BisBigger.data < 0, 1, 0)
    return A - A.multiply(BisBigger) + B.multiply(BisBigger)
"
17311,28090,How to install Python MySQLdb module using pip?,"pip install MySQL-python
"
15068,46881,How to dynamically import variables after executing python script from within another script,"print(""Value = '%s'"" % locals()['value'])
"
16991,77994,Python: Check if all dictionaries in list are empty,"all(not d for d in l)
"
33156,30526,python function not repeating,"def checkExists(fileName, index=0):
    print ""checkExists("" + fileName + "")""

    if exists(fileName):
        splitPath = split(newFile)
        splitName = splitext(splitPath[1])
        newSplitName = splitName[0] + ""-"" + str(index)

        index += 1
        newName = splitPath[0] + ""/"" + newSplitName + splitName[1]

        print ""newName = "" + newName
        return checkExists(newName, index)   # recurse
    else:
        print ""(else) fileName = "" + fileName
        print ""(else) fileName = "" + str(type(fileName))
        print """"
        return fileName
"
25264,53577,How to write a new csv by reading the data from another csv using python?,"import csv

data_heading = {'Date': [(3,2)],
            'Rate': [(3,3)],
            'Product': [(3,7)]}

rdr = csv.reader(open(csvpath, 'rb'))
columns = [{key:row[pos[0][1]] for key,pos in data_heading.items()} for row in rdr]
# finally trim to desired row startpoints:
data = {key:[col[key] for col in columns[pos[0][0]:]] for key,pos in  data_heading.items()}
print data
"
8344,23854,Extending an existing web2py database,"# create auth
auth = Auth(db)
# create the country table
db.define_table('country',
                Field('name'),
                Field('desc'),
                format = '%(name)s')
# say you want to add it to auth_user table (not yet created)
auth.settings.extra_fields['auth_user']=[Field('country','reference country')]
# ask auth to make the auth tables, including auth_user
auth.define_tables()
"
32239,12421,python matplotlib: drawing 3D sphere with circumferences,"import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
ax.set_aspect('equal')

u = np.linspace(0, 2 * np.pi, 100)
v = np.linspace(0, np.pi, 100)

x = 1 * np.outer(np.cos(u), np.sin(v))
y = 1 * np.outer(np.sin(u), np.sin(v))
z = 1 * np.outer(np.ones(np.size(u)), np.cos(v))
#for i in range(2):
#    ax.plot_surface(x+random.randint(-5,5), y+random.randint(-5,5), z+random.randint(-5,5),  rstride=4, cstride=4, color='b', linewidth=0, alpha=0.5)
elev = 10.0
rot = 80.0 / 180 * np.pi
ax.plot_surface(x, y, z,  rstride=4, cstride=4, color='b', linewidth=0, alpha=0.5)
#calculate vectors for ""vertical"" circle
a = np.array([-np.sin(elev / 180 * np.pi), 0, np.cos(elev / 180 * np.pi)])
b = np.array([0, 1, 0])
b = b * np.cos(rot) + np.cross(a, b) * np.sin(rot) + a * np.dot(a, b) * (1 - np.cos(rot))
ax.plot(np.sin(u),np.cos(u),0,color='k', linestyle = 'dashed')
horiz_front = np.linspace(0, np.pi, 100)
ax.plot(np.sin(horiz_front),np.cos(horiz_front),0,color='k')
vert_front = np.linspace(np.pi / 2, 3 * np.pi / 2, 100)
ax.plot(a[0] * np.sin(u) + b[0] * np.cos(u), b[1] * np.cos(u), a[2] * np.sin(u) + b[2] * np.cos(u),color='k', linestyle = 'dashed')
ax.plot(a[0] * np.sin(vert_front) + b[0] * np.cos(vert_front), b[1] * np.cos(vert_front), a[2] * np.sin(vert_front) + b[2] * np.cos(vert_front),color='k')

ax.view_init(elev = elev, azim = 0)


plt.show()
"
32116,25045,PyQT How to build UI according to List?,"from PyQt4 import Qt, QtGui, QtCore

app=QtGui.QApplication([])
w=QtGui.QWidget()
QtGui.QVBoxLayout(w)

buttons = []
for i in range(5):
    new_button = QtGui.QPushButton(""click me %d"" % i, w)
    w.layout().addWidget(new_button)

    # here is the dynamically created function
    # use keyword arguments to keep track of the button
    # or any other variable
    def button_clicked(button=new_button):
        print ""User clicked on"", button.text()
    QtCore.QObject.connect(new_button, Qt.SIGNAL(""clicked()""), button_clicked)

w.show()
app.exec_()
"
33714,33094,Optimize a find and match code in Python,"# Create a lookup structure for words
word_dictionary = dict((entry[0], entry) for entry in tuples)

findings = []
word_re = re.compile(r'\b\S+\b') # only need to create the regexp once
for sentence in data:
    for word in word_re.findall(sentence): # Check every word in the sentence
        if word in word_dictionary: # A match was found
            entry = word_dictionary[word]
            findings.append([sentence, word, entry[1], entry[2]])
"
22112,97,How to destroy a wxPython frame in unittest,"def tearDown(self):
    def _cleanup():
        for tlw in wx.GetTopLevelWindows():
            if tlw:
                tlw.Destroy()
        wx.WakeUpIdle()
        #self.app.ExitMainLoop()   
    wx.CallLater(50, _cleanup)
    self.app.MainLoop()
    del self.app
"
3046,73017,"With Flask, how can I serve robots.txt and sitemap.xml as static files?","from flask import Flask, request, send_from_directory

@app.route('/robots.txt')
@app.route('/sitemap.xml')
def static_from_root():
    return send_from_directory(app.static_folder, request.path[1:])
"
14064,81801,How to directly publish only child items of my Container type in Plone?,"Add in Plone the capability to change workflow chains for types in every object.
"
8709,48166,"How to get the name of the module, calling a specific function, in Python.","import traceback
currentStack=traceback.extract_stack()
"
4172,49319,Loading an unknown amount of pickled objects in python,">>> import string
>>> # make a sequence of stuff to pickle          
>>> stuff = string.ascii_letters
>>> # iterate over the sequence, pickling one object at a time
>>> import pickle
>>> with open('foo.pkl', 'wb') as f:
...     for thing in stuff:
...         pickle.dump(thing, f)
... 
>>> 
>>> things = []
>>> f = open('foo.pkl', 'rb')
>>> # load the first two objects
>>> things.append(pickle.load(f))
>>> things.append(pickle.load(f))
>>> # get the remaining pickled items
>>> while True:
...     try:          
...         things.append(pickle.load(f))
...     except EOFError:
...         break
... 
>>> stuff 
'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'
>>> things
['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']
>>> f.close()
"
22298,31259,compare lines within a single file using python,"allLines = r.readlines()
bestOf = re.split(' ', allLines)
f = open(""output.txt"", 'w')
for line in allLines[2:]:
    z = re.split(' ', line)
    if z[0] == bestOf[0] and z[1] == bestOf[1]:
        # match, compare values
        if z[7] > bestOf[7]:
            bestOf = z
    else:
        # no match, next set
        f.write(bestOf)
        bestOf = z
"
19236,6291,Laplace Expansion complexity calculation (recursion),"O(n^2) * O(n!) = O(n!(n+1)(n+2)) = O(n+2)!
"
27490,33356,Get float number that follows a label with regular expression?,"
>>> import re
>>> 
>>> s = 'Total:                 192.5ms +/- 4.3%'
>>> 
>>> re.search(r'Total:\s+([0-9.]+)', s).group(1)
'192.5'
"
31713,9860,How do I run multiple subprocesses in parallel and wait for them to finish in Python,"from subprocess import Popen
commands = ['command1', 'command2']
procs = [ Popen(i) for i in command ]
for p in procs:
   p.wait()
"
35568,68388,Python regex help needed,"start = '<font color=""red"">|<span style=""font-weight:bold;"">'
end = '</font>|</span>'
"
7441,78533,How to use initialize FormModel with request.post and model instance.,"urls.py
from django.views.generic import UpdateView
from myapp.forms import InfoForm
urlpatterns = patterns('',
    url(r'^info/(?P<pk>[-_\w]+)/update/$', UpdateView.as_view(model= Info,template_name=""hello/home.html"",form_class=InfoForm), name='info_update'), 
)
# you might need to include a success url in the **kwargs i.e. success_url=""/thankyou/""
"
39987,40709,Pandas: Splitting a csv file by value in a certain row,"for c in df.Code.unique():
    (df[df.Code == c]).to_csv(c + '.csv', index=False)

Writes these files:

Code, DateTime, Value
A1, 1/1/15 5:45,150
A1, 1/1/15 6:00,200
A1, 1/1/15 6:15,200

Etc...
"
35820,56929,Remove unwanted '[' and ']' in final output,"import collections

def approximate_song(filename):
    text = open(filename).read()
    counts = collections.Counter(text.lower().split())

    return [elem for elem, _ in sorted(counts.most_common(), key=lambda
                                   x: (-x[1], x[0]))[:1]][0]

print(approximate_song('README.txt'))
"
23657,20363,python basic while loop,"for i in range(1024): # some sensible upper limit, beyond which the input is suspicious
    myid= params.getfirst(""myfield%d"" % i)
    if not myid: break
        # do stuff with myid
"
23475,24569,Replacing space with a character,"In [95]:
df['symbol'] = df['symbol'].str.replace(' ','.')
df

Out[95]:
  symbol
0    AEC
1  BRK.A
2  BRK.B
3   CTRX
4  FCE.A
"
9867,68807,How to implement a FIFO queue that supports namespaces,"from google.appengine.api import users
from google.appengine.api.namespace_manager import set_namespace

class ClientClass(webapp.RequestHandler):
  def get(self):
    # For this example let's assume the user_id is your unique id.
    # You could just as easily use a parameter you are passed.
    user = users.get_current_user()
    if user:
       # If there is a user, use their queue.  Otherwise the global queue.
       set_namespace(user.user_id())

    item = QueueItem.pop()
    self.response.out.write(str(item))

    QueueItem.push('The next task.')
"
7266,49666,How to check size of uploaded file safely in bottlepy?,"name = request.forms.get('name')
data = request.files.get('data')
raw = """"
if name and data.file:
    while True:
        datachunk = data.file.read(1024)
        if not datachunk:
            break
        raw = raw + datachunk

    filename = data.filename
    return ""Hello %s! You uploaded %s (%d bytes)."" % (name, filename, len(raw))
"
776,47967,python garbage collection after start process using multiprocess,"import multiprocessing as mp

fd = None

def worker():
    # child closes file, flushing ""1""
    fd.close()

def doit():
    global fd
    fd = open('deleteme', 'w')
    fd.write('1')
    p = mp.Process(target=worker)
    p.start()
    p.join()
    # parent closes file, flushing ""1""
    fd.close()
    # lets see what we got
    print(open('deleteme').read())

doit()
"
10278,59982,Using Python 3.3 to access blocked webpages,"import re
"
5743,66737,python class instance method call from another class instance,"class mastermind(object):
    def __init__(self):
        self.hand = hand(self)

    def iNeedToCallThisMethod(self, funzies):
        print funzies

class hand(object):
    def __init__(self, mastermind)
        mastermind.iNeedToCallThisMethod('funzies')
"
9488,1229,Python multiple classes,"class newbot(object):
    def __init__(self):
        self.id = randomid()

bot1 = newbot() 
bot2 = newbot()   

# The two ids should be different, depending on your implementation of randomid().
print bot1.id
print bot2.id  
"
16086,34909,Convert PHP to Python,">>> import hashlib
>>> plaintext = u""MyPassword""
>>> utf_text = plaintext.encode('UTF-16LE')
>>> hashlib.sha1(utf_text).digest().encode('base64')
'QEy4TXy9dNgleLq+IEcjsQDYm0A=\n'
"
19449,82169,Get all values from nested dictionaries in python,"[x['answer'] for x in a['b']['c'].values()]
"
33376,3093,Trying to create a menu in python but loop won't exit,"item=0
while True:
    menu = int(input ("""""" ----- Heart Attacks On A Bun ----------
          1.    The Big MOO Combo . . . . 5.99
          2.    Big MOO . . . . . . . . . 3.99
          3.    Spring Surprise . . . . . 1.99
          4.    Fries . . . . . . . . . . 1.29
          5.    Pop . . . . . . . . . . . 1.19
          6.    Exit
          ________________________________________

          What would you like? one for combo, two for Big MOO etc.
          """"""))

    if menu == 1:
        item+=5.99
    elif menu == 2:
        item+=3.99
    elif menu == 3:
        item+=1.99
    elif menu == 4:
        item+=1.29
    elif menu == 5:
        item+=1.19
    elif menu == 6:
        print(""Your total is $"" + str(item))
        break
"
6017,33831,How do I create a pip requirements file for a tarball on my local filesystem?,"--extra-index-url=http://example.com
my-apps/apps1.tar.gz
# put apps2-1.0.1.tar.gz to http://example.com/apps2/
apps2
"
14645,7546,Get Text From All Elements Matching a Pattern in Selenium,"var tds = document.evaluate(""//td[contains(@id, \""subject_\"")]"", document, null,
        XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null); 
for ( var i = 0; i < tds.snapshotLength; i++) {
   var td = tds.snapshotItem(i);
   // get text using td.textContent and add it to array or whatever...
   // and return it
}

return ...
"
15284,68132,using python 3.5 saving csv from url drops CR and LF,"import urllib.request

try:
    url = 'https://www.census.gov/popest/data/counties/asrh/2014/files/CC-EST2014-ALLDATA.csv'
    headers = {}
    headers['User-Agent'] = 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.0'
    req = urllib.request.Request(url, headers=headers)
    resp = urllib.request.urlopen(req)
    respData = resp.read()

    with open('Vintage2014.csv', 'w') as saveFile:
        saveFile.write(respData.decode('latin-1'))

except Exception as e:
    print(str(e))
"
35002,27076,Pandas group-by conditional filtering,"def infect_new_people(group):
    if (group['Status'] == 'Infected').any():
        # Only affect people not already infected
        group.loc[group['Status'] != 'Infected', 'Status'] = 'Infected2'
    return group['Status']

# Need group_keys=False so that each group has the same index
#   as the original dataframe
df['Status'] = df.groupby(['Address', 'Last'], group_keys=False).apply(infect_new_people)

df
Out[36]: 
         Address    First        Last     Status
0    112 Fake St      Sam     Stevens   Infected
1    13 Crest St     Greg  Hamcunning           
2     14 Main St    Steve     Strange   Infected
3    112 Fake St      Sam     Stevens  Infected2
4  2 Morningwood     Jill      Vargas           
5    7 Cotton Dr     Bill       Simon  Infected2
6     14 Main St      Nod      Purple           
7     20 Main St  Mallory       Green           
8    7 Cotton Dr     Ping       Simon  Infected2
9    7 Cotton Dr    Lamar       Simon   Infected
"
12132,3458,Elegant Disjunctive Normal Form in Django,"def get_users_by_identifiers(**kwargs):
    q = reduce(operator.or_, Q(identifier__key=k, identifier__value=v)
        for (k, v) in kwargs.iteritems())
    return User.objects.filter(q)
"
17100,52698,PyQt 5.5 QML Combobox,"def loadForm(self):
 ...
 self.setPropList(""cmbTypeCompression"", ""model"", [""Item A"", ""Item B""])

def setPropList(self, objName,  propName, values):
 obj = self.win.findChild(QObject, objName)
 property = QQmlProperty(obj, propName)
 property.write(values)
"
11157,20486,Retrieving only the most recent row in MySQL,"SELECT *
FROM yourtable
WHERE date_and_time = (SELECT MAX(date_and_time) FROM yourtable)
"
4473,69240,Filling the area under plotted lines,"import matplotlib.pyplot as plt
import numpy as np

range_list = [(10000, 177368, 0.150849441498420722141),
              (227417, 267627, 0.148806758534977628949),
              (267628, 267633, 1),
              (267642, 267660, 1),
              (267661, 267670, 1),
              (317719, 471319, 0.125380779728419072816),
              (521368, 2634121, 0.292530330836878571521),
              (2634131, 2634171, 1),
              (2684220, 3845219, 0.332501576911355845034),
              (3995268, 13052949, 0.8),
              (13102998, 13219863, 0.304339098079899339488),
              (13319912, 13557063, 0.19949610114016369522),
              (13557092, 13557095, 1),
              (13607162, 17125609, 0.300713750216281716643),
              (17175658, 29878033, 0.306781992901534461549),
              (30028082, 103863857, 0.415235012665315250668),
              (203863857, 233863857, 0.415235012665315250668)]

fig, ax = plt.subplots()
left, right, top = np.array(range_list).T

ax.bar(left, top, right - left, edgecolor='', facecolor='green')

plt.show()
"
33742,73542,How can I remove all the email not in the important or sent folder?,"# Global Variables
username, password, mailboxname = '', '', '[Gmail]/&kc 2JgQ-'

# Set up
import gmail
g = gmail.Gmail()
g.login(username, password)

# Actual code.
emails = []
for email in g.mailbox(mailboxname).mail():
    emails.append(email.fetch())

# Tear down.
g.logout()
"
17701,30903,Python: How can I group this list of items by category?,"final_ads = {}
for a in ads:
    final_ads.setdefault(a['spot_id'], []).append(a)
"
20824,41481,reading csv file in Python and creating dictionary,"import csv

from collections import defaultdict

with open(filename, 'r') as handle:
    reader = csv.DictReader(handle, ['name', 'miles', 'country'])
    data = defaultdict(list)

    for line in reader:
        data[line['name']).append(int(line['miles']))

    for runner, distances in data.items():
        print '{} ran a total of {} miles and an average of {} miles'.format(
            runner, sum(distances), sum(distances) / float(len(distances))
        )
"
20030,70578,"Python, print all floats to 2 decimal places in output","print ""%.2f kg = %.2f lb = %.2f gal = %.2f l"" % (var1, var2, var3, var4)
"
20475,54226,Setting multiple initial values in PyQt form,"    from PyQt4 import QtGui, QtCore

class MyWindow(QtGui.QWidget):    # any super class is okay
    def __init__(self, parent=None):
        super(MyWindow, self).__init__(parent)
        self.settings = {}
        var_label = QtGui.QLabel('Path')
        self.settings['path'] = QtGui.QLineEdit(width=200)
        quitbutton = QtGui.QPushButton('Quit')
        loadbutton = QtGui.QPushButton('Load Settings')
        savebutton = QtGui.QPushButton('Save Settings')
        layout1 = QtGui.QHBoxLayout()
        layout1.addWidget(var_label)
        layout1.addWidget(self.settings['path'])
        layout2 = QtGui.QHBoxLayout()
        layout2.addWidget(loadbutton)
        layout2.addWidget(savebutton)
        layout2.addWidget(quitbutton)
        layout = QtGui.QVBoxLayout()
        layout.addLayout(layout1)
        layout.addLayout(layout2)
        self.setLayout(layout)
        loadbutton.clicked.connect(self.get_config)
        savebutton.clicked.connect(self.save_settings)
        quitbutton.clicked.connect(QtGui.qApp.quit)
        self.get_config()


    def get_config(self):
        # Read config file here into dictionary
        # Example
        config_data = {'path':'data path here'} # Example dictionary created when reading config file
        for key in config_data:
            self.settings[key].setText(config_data[key])

    def save_settings(self): # Link to button
        data = {}
        for key in self.settings:
            data[key] = self.settings[key].text()
        # Save to config file here
        print (data)

if __name__ == '__main__':
    app = QtGui.QApplication([])
    window = MyWindow()
    window.show()
    app.exec_()
"
38936,9117,How to find a file with specific content?,"import re

with open(fullsourcefilename) as openfile:
   if re.search(r'Sent\nTrash\nDrafts\nJunk\n', openfile.read(), re.MULTILINE):
"
25697,44743,Is there a way in python to execute all functions in a file without explicitly calling them?,"def some_magic():
    import a
    for i in dir(a):
        item = getattr(a,i)
        if callable(item):
            item()

if __name__ == '__main__':
    some_magic()
"
3840,53000,Access part of a row very quickly in Pandas,"In [21]: tx = test.values

In [22]: tx
Out[22]: 
array([['asdfasdf', 'asdfasdf', 'asdfasdf', ..., 'asdfasdf', 'asdfasdf',
        'asdfasdf'],
       ['asdfasdf', 'asdfasdf', 'asdfasdf', ..., 'asdfasdf', 'asdfasdf',
        'asdfasdf'],
       ['asdfasdf', 'asdfasdf', 'asdfasdf', ..., 'asdfasdf', 'asdfasdf',
        'asdfasdf'],
       ..., 
       ['asdfasdf', 'asdfasdf', 'asdfasdf', ..., 'asdfasdf', 'asdfasdf',
        'asdfasdf'],
       ['asdfasdf', 'asdfasdf', 'asdfasdf', ..., 'asdfasdf', 'asdfasdf',
        'asdfasdf'],
       ['asdfasdf', 'asdfasdf', 'asdfasdf', ..., 'asdfasdf', 'asdfasdf',
        'asdfasdf']], dtype=object)

In [23]: %timeit x = set(tx[i]).intersection(tx[j])
100000 loops, best of 3: 1.99 Âµs per loop
"
28207,21726,How does one draw the X = 0 plane using matplotlib (mpl3d)?,"import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

yy, zz = np.meshgrid(range(2), range(2))
xx = yy*0

ax = plt.subplot(projection='3d')
ax.plot_surface(xx, yy, zz)
plt.show()
"
3,58623,How can I use scipy.interpolate.interp1d to interpolate multi Y arrays using the same X array?,"In [14]: interp_data = interpolate.interp1d(data[:,0], data[:,1:], axis=0, kind='cubic')
In [15]: data_int = np.zeros((len(new_x),len(data[0])))
In [16]: data_int[:,0] = new_x
In [17]: data_int[:,1:] = interp_data(new_x)
In [18]: data_int
Out [18]:
array([[  0.00000000e+00,   1.33226763e-15,  -6.50361821e-03],
       [  5.26315789e-01,   8.34210211e-01,   4.03036906e-03],
       [  1.05263158e+00,   1.18950397e+00,   7.81676344e-03],
       [  1.57894737e+00,   1.17628260e+00,   6.43203582e-03],
       [  2.10526316e+00,   9.04947417e-01,   1.45265705e-03],
       [  2.63157895e+00,   4.85798968e-01,  -5.54638391e-03],
       [  3.15789474e+00,   1.69424684e-02,  -1.31694104e-02],
       [  3.68421053e+00,  -4.27201979e-01,  -2.03689966e-02],
       [  4.21052632e+00,  -7.74935541e-01,  -2.61377287e-02],
       [  4.73684211e+00,  -9.54559384e-01,  -2.94681929e-02],
       [  5.26315789e+00,  -8.97599881e-01,  -2.94003966e-02],
       [  5.78947368e+00,  -6.09763178e-01,  -2.60650399e-02],
       [  6.31578947e+00,  -1.70935195e-01,  -2.06835155e-02],
       [  6.84210526e+00,   3.35772943e-01,  -1.45246375e-02],
       [  7.36842105e+00,   8.27250110e-01,  -8.85721975e-03],
       [  7.89473684e+00,   1.21766391e+00,  -4.99008827e-03],
       [  8.42105263e+00,   1.39749683e+00,  -4.58031991e-03],
       [  8.94736842e+00,   1.24503605e+00,  -9.46430377e-03],
       [  9.47368421e+00,   6.38467937e-01,  -2.14799109e-02],
       [  1.00000000e+01,  -5.44021111e-01,  -4.24650123e-02]])
"
36575,27118,Python requests remove the Content-Length header from POST,"from requests import Request, Session

s = Session()
req = Request('POST', url, data=data)
prepped = req.prepare()
del prepped.headers['content-length']
response = s.send(prepped)
"
2216,47555,Move graph position within plot (matplotlib),"bar_width = .2

fig, axs = plt.subplots(1,2, figsize=(12,6))
fig.subplots_adjust(wspace=0, top=1, right=1, left=0, bottom=0)

axs[1].barh(y_pos[::-1], num_tickets[::-1], bar_width,  align='center', alpha=0.4, color='r')
axs[1].barh(y_pos_2[::-1], num_tickets_2[::-1], bar_width,  align='center', alpha=0.4, color='b')
axs[1].barh(y_pos_3[::-1], num_tickets_3[::-1], bar_width,  align='center', alpha=0.4, color='y')
axs[1].barh(y_pos_4[::-1], num_tickets_4[::-1], bar_width,  align='center', alpha=0.4, color='g')


axs[1].set_yticks([])
axs[1].set_xlabel('Numbers')
axs[1].set_title('Horizontal Bar Chart with table')
axs[1].set_ylim(0 - .4, (len(appsol)) + .4)

cell_text = list(zip(num_tickets, num_tickets_2, num_tickets_3, num_tickets_4))

row_lables = appsol
column_labels = ['So Huge\nMice', 'Elephants', 'Reptiles', 'Germs']

axs[0].axis('off')

the_table = axs[0].table(cellText=cell_text,
                     rowLabels=row_lables,
                     colLabels=column_labels,
                     bbox=[0.4, 0.0, 0.6, 1.0])

the_table.set_fontsize(15)

plt.savefig('barh_graph.png')
plt.close('all')
"
7345,34721,wxPython RichTextCtrl with strikethrough,"import wx
import wx.richtext as rt

class MyFrame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None, 1, 'Testing strike-through')
        rtc = rt.RichTextCtrl(self, -1)
        rtc.WriteText(""normal text"")
        rtc.Newline()

        font = wx.FFont(12, wx.FONTFAMILY_DEFAULT, face='Tahoma', flags=wx.FONTFLAG_STRIKETHROUGH)

        info = font.GetNativeFontInfoDesc()
        info = self.setFontInfoStrikethrough(info)
        font.SetNativeFontInfoFromString(info)

        rtc.BeginFont(font)
        rtc.WriteText(""This is strike-through"")
        rtc.EndFont()

    def setFontInfoStrikethrough(self, info):
        print ""orig:"", info
        info = info.split("";"")
        info[8] = r'1'
        info = "";"".join(info)
        print ""new :"",info
        return info

if __name__ == '__main__':
    app = wx.PySimpleApp()
    frame = MyFrame()
    frame.Show()
    app.MainLoop()
"
21279,46783,Can you prevent a function from executing inside a dictionary mapping in python?,"def testfunc():
    print 'Executed'
testdict = {'1': testfunc,}
testdict['1']()
Executed
"
8920,2107,Change list items that are within a dictionary,"for p in practices:
    config = p.config

    config['alert']['emails'] = [
        '.{0}.fake'.format(x)
        for x in config['alert']['emails']
    ]

    p.config = config

    p.save()
"
39011,76896,Find all entries of a specific tag or attribute value in lxml,"In [645]: t='''
     ...: <someTag>
     ...:  <tagName>entry 1</tagName>
     ...:  <tagName>entry 2</tagName>
     ...:  <tagName>entry 3</tagName>
     ...:  <tagName>entry 4</tagName>
     ...:  </someTag>
     ...: '''

In [646]: etree.fromstring(t)
Out[646]: <Element someTag at 0x11ff3918>

In [647]: stag=etree.fromstring(t)

In [648]: stag.findall('tagName')
Out[648]: 
[<Element tagName at 0x11ff38a0>,
 <Element tagName at 0x11ff3f80>,
 <Element tagName at 0x11ff3ad0>,
 <Element tagName at 0x11ff3da0>]
"
31615,7565,Transform method row by row function,">>> df.groupby('day')['sold'].rank(ascending=False).astype('int') - 1
0     3
1     2
2     1
3     0
4     1
5     3
6     0
7     2
8     1
9     2
10    0
11    2
dtype: int64
"
5277,23724,Python Split usage,"Python 2.5.2 (r252:60911, Apr 15 2008, 11:28:25)
[GCC 3.4.6 20060404 (Red Hat 3.4.6-9)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> startdate = '2002-04-20'
>>> splitdate = startdate.split('-')
>>> type(splitdate[0])
<type 'str'>
>>> splitdate[2]+splitdate[1]+splitdate[0]
'20042002'
"
7827,16942,Most efficient method to check if dictionary key exists and process its value if it does,"In [1]: def test_1(d, k):
   ...:     if k in d:
   ...:         var1 = d[k]
   ...:         

In [2]: def test_2(d, k):
   ...:     if d.has_key(k):
   ...:         var1 = d[k]
   ...:         

In [3]: def test_3(d, k):
   ...:     try:
   ...:         var1 = d[k]
   ...:     except KeyError as e:
   ...:         pass
   ...:     

In [4]: def test_4(d, k):
   ...:     if d.get(k):
   ...:         var1 = d[k]
   ...:         

In [5]: my_dict = {'key{}'.format(i): 'value{}'.format(i) for i in range(1000)}

In [6]: key_valid = ""key5""

In [7]: key_non_valid = ""key""

In [8]: %timeit test_1(my_dict, key_valid)
10000000 loops, best of 3: 172 ns per loop

In [9]: %timeit test_1(my_dict, key_non_valid)
10000000 loops, best of 3: 132 ns per loop

In [10]: %timeit test_2(my_dict, key_valid)
1000000 loops, best of 3: 211 ns per loop

In [11]: %timeit test_2(my_dict, key_non_valid)
10000000 loops, best of 3: 171 ns per loop

In [12]: %timeit test_3(my_dict, key_valid)
10000000 loops, best of 3: 151 ns per loop

In [13]: %timeit test_3(my_dict, key_non_valid)
1000000 loops, best of 3: 1.07 Âµs per loop

In [14]: %timeit test_4(my_dict, key_valid)
1000000 loops, best of 3: 246 ns per loop

In [15]: %timeit test_4(my_dict, key_non_valid)
10000000 loops, best of 3: 189 ns per loop
"
36439,51476,Python Tkinter label widget doesn't update,"def get_tl(self,x):

    def tl():
        self.label_tl = Label(self, text=""length:"").grid(row=1,column=0)
        self.show_tl = Label(self, text=self.var_tl.get()).grid(row=1,column=1)

    if x == ""Random (max = 6)"":
        self.var_tl.set(randint(1,6))
        tl()
    else: 


        ask_tl = Toplevel()
        def destroy_t_set_tl():
            self.var_tl.set(entry_tl_t.get())
            ask_tl.destroy()
            tl()

        label_tl_t = Label(ask_tl, text=""length:"").pack(side=LEFT)
        entry_tl_t = Entry(ask_tl, width=25)
        entry_tl_t.pack(side=LEFT)
        button_enter_tl_t = Button(ask_tl, text=""Enter"", command=destroy_t_set_tl).pack(side=LEFT)



def get_values(self):

    self.total_label = Label(self, text=self.var_tl.get()).grid(row=4,column=0)
"
35827,70518,How to check if a string contains an element from a list in Python,"if any(ext in url_string for ext in extensionsToCheck):
    print(url_string)
"
15085,7856,How to combine dates and hours column into one index column in a pandas series?,"In [11]: dr = pd.date_range('2014', periods=5)

In [12]: hours = pd.Index(np.arange(5))

In [13]: pd.DatetimeIndex(dr.values + hours.values * pd.offsets.Hour(1).nanos)
Out[13]:
<class 'pandas.tseries.index.DatetimeIndex'>
[2014-01-01 00:00:00, ..., 2014-01-05 04:00:00]
Length: 5, Freq: None, Timezone: None
"
34114,50150,"How to iterate through a dictionary pandas where values are tuples, and find first True and False values","def calc_adoption(ts):
    true_index = ts[ts].index
    if len(true_index) == 0:
        return 0
    first_true_index = true_index[0]
    false_index = ts.index.difference(true_index)
    false_index = false_index[false_index > first_true_index]
    if len(false_index) == 0:
        return 14 - first_true_index
    return false_index[0] - first_true_index

adopted_weeks = {k: calc_adoption(v) for k, v in weeks_adopted.iteritems()}
"
11858,42076,How to get the key and value pair from a list of dictionary in python 3,"# your data:
my_dicts = [{'IS_DUMMY': False, 'FACT_CURRENCY': '$', 'RETAILER_NAME': 'kohls', 'RETAILER_KEY': 5, 'ACTIVE': 'Y'},{'IS_DUMMY': False, 'FACT_CURRENCY': '$', 'RETAILER_NAME': 'target', 'RETAILER_KEY': 100, 'ACTIVE': 'Y'}]
column_list = [{'SOURCE_COLUMN':'FACT_CURRENCY', 'TARGET_COLUMN':'CURRENCY'},{'SOURCE_COLUMN':'RETAILER_NAME', 'TARGET_COLUMN':'RETAILER'}, {'SOURCE_COLUMN':'RETAILER_KEY', 'TARGET_COLUMN':'KEY'},{'SOURCE_COLUMN':'ACTIVE', 'TARGET_COLUMN':'ACTIVE'}]

# seems like we only need the SOURCE_COLUMN entries from the column_list
source_cols = [col['SOURCE_COLUMN'] for col in column_list]

# iterate over my_dicts and create a new dictionary for each my_dict using
new_dicts = []
for my_dict in my_dicts:
    new_dicts.append({col:my_dict[col] for col in source_cols if col in my_dict})
"
39603,71891,Python 3 threading and queueing,"import tkinter as tk
import threading
import queue
import time

class GUI(object):
    """"""GUI Object""""""
    def __init__(self):        
        self.root = tk.Tk()
        self.root.title(""Window"")

        self.status = tk.StringVar()
        self.status.set(""plop"")
        self.root.status_lbl = tk.Label(self.root, textvariable=self.status, width = 30)
        self.root.status_lbl.grid(row = 0, column = 0)

        self.root.start = tk.Button(self.root, text = ""Start"", width = 30, command = self.doing_things)
        self.root.start.grid(row = 1, column = 0)

        self.root.stop = tk.Button(self.root, text = ""Stop"", width = 30, command = None)
        self.root.stop.grid(row = 2, column = 0)

        self.root.mainloop()

    def doing_things(self):
        self.root.start.config(state = 'disabled')
        Other_thread = threading.Thread(None, Other, args=(self,))
        Other_thread.start()

class Other(object):
    """"""Something Else""""""
    def __init__(self, gui):   
        self.gui = gui
        self.msg2 = ""Other Thread""

        self.doing_things()

    def doing_things(self):
        count = 0
        while 1 == 1:
            count += 1
            data = (self.msg2 + "" "" + str(count))
            print(data)
            self.gui.status.set(data)
            time.sleep(1)

GUI_thread = threading.Thread(None, GUI)

GUI_thread.start()
"
33191,12953,Printing nested dictionaries in nice readable fashion,">>> d={'server1':{'3389': 'Microsoft Terminal Service', '49160': 'Microsoft Windows RPC', '49163': 'Microsoft Windows RPC', '135': 'Microsoft Windows RPC', '49152': 'Microsoft Windows RPC', '49153':'Microsoft Windows RPC'},'server2':{'morekeys':'morevalues'}}
>>> print json.dumps(d, indent=4)
{
    ""server1"": {
        ""3389"": ""Microsoft Terminal Service"", 
        ""49160"": ""Microsoft Windows RPC"", 
        ""49163"": ""Microsoft Windows RPC"", 
        ""135"": ""Microsoft Windows RPC"", 
        ""49152"": ""Microsoft Windows RPC"", 
        ""49153"": ""Microsoft Windows RPC""
    }, 
    ""server2"": {
        ""morekeys"": ""morevalues""
    }
}
"
28796,75623,placing text box widget onto the screen using tkinter,"import Tkinter

main_window=Tkinter.Tk()
text_widget = Tkinter.Text(main_window)
text_widget.insert('insert',""text  message will display here"")
text_widget.pack(anchor = ""w"", padx = 50, pady = 50)

main_window.mainloop()
"
22862,56449,i cannot get rid \xa0 in this string using python?,">>> shipping_info = u'Expedited (2-3 Bus. Days)\xa0($17.99)'
>>> shipping_info.replace(u'\xa0', u' ')
u'Expedited (2-3 Bus. Days) ($17.99)'
"
31311,64247,Generating all n-tuples from a string,">>> a = ""Hello, World!""
>>> def generate_tuples(string, n):
...     return [string[i:i+n] for i in range(len(string)-n+1)]
... 
>>> generate_tuples(a, 3)
['Hel', 'ell', 'llo', 'lo,', 'o, ', ', W', ' Wo', 'Wor', 'orl', 'rld', 'ld!']
"
20301,9163,'NA' value lost after using Python Pandas,"DataFrame.to_csv('destiny_csv' , na_rep='NA')
"
12682,11408,Change black listed functions in PyLint,"bad-functions=map,filter,apply,input
"
30535,58853,Combine values from arbitrary number of columns into new one,"df.fillna('').sum(axis=1).replace('', np.nan)
"
12343,68460,Output list and numpy array into same file,"In [26]: with open('test.txt','w') as f:
    np.savetxt(f, data.T, delimiter=',', fmt='%12s')
    np.savetxt(f, data.T, delimiter=';', fmt='%10s') # simulate a 2nd array
"
5102,80862,"Contour plot python, how to change labels","import matplotlib
import numpy as np
import matplotlib.cm as cm
import matplotlib.mlab as mlab
import matplotlib.ticker as ticker
import matplotlib.pyplot as plt


matplotlib.rcParams['xtick.direction'] = 'out'
matplotlib.rcParams['ytick.direction'] = 'out'

##################################################
# Define our surface
##################################################
delta = 0.025
x = np.arange(-3.0, 3.0, delta)
y = np.arange(-2.0, 2.0, delta)
X, Y = np.meshgrid(x, y)
Z1 = mlab.bivariate_normal(X, Y, 1.0, 1.0, 0.0, 0.0)
Z2 = mlab.bivariate_normal(X, Y, 1.5, 0.5, 1, 1)
# difference of Gaussians
Z = 10.0 * (Z2 - Z1)


CS = plt.contour(X, Y, Z)

fmt = {}
strs = [ '54%', '10%', '3%', '47%', '51%', '66%', '7%' ]
for l,s in zip( CS.levels, strs ):
    fmt[l] = s

# Label every other level using strings
plt.clabel(CS,CS.levels[::2],inline=True,fmt=fmt,fontsize=10)

plt.show()
"
11714,33071,Matplotlib funcanimation blit slow,"import numpy as np
import matplotlib
matplotlib.use(""TkAgg"")
import matplotlib.pyplot as plt
import matplotlib.animation as manim
from matplotlib.collections import PatchCollection

Nx = 30
Ny = 20
numtimes = 100

size = 0.5

x, y = np.ogrid[-1:1:30j, -1:1:20j]

data = np.zeros((numtimes, Nx, Ny))

for i in range(numtimes):
    data[i] = (x-i*0.02+1)**2 + y**2

colors = plt.cm.rainbow(data)

fig, ax = plt.subplots()

rects = []
for (i,j),c in np.ndenumerate(data[0]):
    rect = plt.Rectangle([i - size / 2, j - size / 2],size, size)
    rects.append(rect)

collection = PatchCollection(rects, animated=True)

ax.add_collection(collection)
ax.autoscale_view(True)


def animate(tind):
    c = colors[tind].reshape(-1, 4)
    collection.set_facecolors(c)    
    return (collection,)

ani = manim.FuncAnimation(fig, animate, frames=numtimes,
        interval=10, blit=True, repeat=False)

plt.show()        
"
14871,36909,StremListener does't return data in JSON in tweepy,"@classmethod                    
def parse(cls, api, raw):
        status = cls.first_parse(api, raw)
        setattr(status, 'json', json.dumps(raw))
        return status

tweepy.models.Status.first_parse = tweepy.models.Status.parse
tweepy.models.Status.parse = parse

_dir = os.path.dirname(os.path.abspath(__file__))

class CustomStreamListener(tweepy.StreamListener):
    def on_status(self, status):
        print status.user.screen_name
        with codecs.open(os.path.join(_dir, 'tweets.json'), ""a"", 'utf-8') as textFile:
                textFile.write(status.json)
                textFile.write('\n')

    def on_error(self, status_code):
        print >> sys.stderr, 'Encountered error with status code:', status_code
        return True # Don't kill the stream

    def on_timeout(self):
        print >> sys.stderr, 'Timeout...'
        return True # Don't kill the stream
"
519,81479,Re-run a code from a particular point,"print('Welcome to your currency converter\n Please choose your starting currency from the four options:')
currency1 = input('(GDP) = Pound Sterling Â£ \n(EUR) = Euro â¬ \n(USD) = US Dollar ($) \n(JPY)= Japanese Yen Â¥\n').lower()

while currency1 not in ['gdp', 'eur', 'usd', 'jpy']:
    print('Sorry not accepted try again')
    currency1 = input('(GDP) = Pound Sterling Â£ \n(EUR) = Euro â¬ \n(USD) = US Dollar ($) \n(JPY)= Japanese Yen Â¥\n').lower()
"
28973,10932,How to operate on parameters of python itertools.product,"In [1]: a = [1, 2]

In [2]: b = [3, 4]

In [3]: from itertools import product

In [4]: list(product(a, b, a, b))
Out[4]: 
[(1, 3, 1, 3),
 (1, 3, 1, 4),
 (1, 3, 2, 3),
 (1, 3, 2, 4),
 ...]

In [5]: test_list = [a, b, a, b]

In [6]: list(product(*test_list))
Out[6]: 
[(1, 3, 1, 3),
 (1, 3, 1, 4),
 (1, 3, 2, 3),
 (1, 3, 2, 4),
 ...]
"
31114,12088,changing installed package default language/locale,"LANGUAGE_CODE = 'fr'
"
980,966,KDB+ like asof join for timeseries data in pandas?,"df1.apply(lambda x: x.asof(df2.index))
"
27168,78284,Matplotlib: How do I have the xtick labels apear on the other side of the x-axis?,"import matplotlib.pyplot as plt
fig,ax = plt.subplots(1)

ax.bar([0,1,2,3],[7900,9400,8700,9990],facecolor='#5080B0',edgecolor='k',width=0.3)

ax.set_xticks([0.15,1.15,2.15,3.15])

ax.set_xticklabels(['beek1','beek2','orbath','Kroo'],
                   rotation='vertical',y=0.05,va='bottom')
"
24694,71156,sqlalchemy create a list of integers as a subquery,"years = range(2012, 2016)
txt = "" UNION ALL "".join(""SELECT {} AS Year"".format(y) for y in years)
stmt = text(txt).columns(Year=Integer) # @note: works only on sqlachemy >= 0.9
# stmt = text(txt, typemap={'Year': Integer}) # note: fall back for SA version < 0.9
q = session.query(MyClass, stmt) # @note: since there is no JOIN, it will return cartesian product
for row in q.all():
    print(row)
"
38556,48243,Converting pandas data frame to dictionary in python,"list(df.set_index('Pattern').to_dict().values()).pop()
"
31028,23411,in Python and linux how to get given user's id,"In [5]: pwd.getpwnam('aix').pw_uid
Out[5]: 1004
"
11700,10444,Why can I encrypt data with one DES key and successfully decrypt with another?,"82514145 
= 0x3832353134313435 
= 0011100[0] 0011001[0] 0011010[1] 0011000[1] 0011010[0] 0011000[1] 0011010[0] 0000000[0]

93505044 
= 0x3933353035303434 
= 0011100[1] 0011001[1] 0011010[1] 0011000[0] 0011010[1] 0011000[0] 0011010[0] 0000000[0]
"
32548,16510,wxPython: Disable a notebook tab?,"import wx
import wx.lib.agw.aui as aui

class MainWindow(wx.Frame):
    def __init__(self, *args, **kwargs):
        wx.Frame.__init__(self, *args, **kwargs)

        style = aui.AUI_NB_DEFAULT_STYLE ^ aui.AUI_NB_CLOSE_ON_ACTIVE_TAB
        self.notebook = aui.AuiNotebook(self, agwStyle=style)      

        self.panel1 = wx.Panel(self.notebook)
        self.panel2 = wx.Panel(self.notebook)
        self.panel3 = wx.Panel(self.notebook)

        self.notebook.AddPage(self.panel1, ""First"")
        self.notebook.AddPage(self.panel2, ""Second"")
        self.notebook.AddPage(self.panel3, ""Third"")

        self.notebook.EnableTab(1, False)

        self.Show()


app = wx.App(False)
win = MainWindow(None)
app.MainLoop()
"
13907,74233,How to identify/use selected radio button by another button in tkinter,"from Tkinter import *

class Select:
    def __init__ (self, root):
        self.root = root
        root.title ('Title')
        root.geometry ('100x100')

        button1 = Radiobutton (self.root, text = 'Option 1', command = self.option1, value = 1).place (x = 10, y = 10)
        button2 = Radiobutton (self.root, text = 'Option 2', command = self.option2, value = 2).place (x = 10, y = 30)

        test = Button (self.root, text = 'Run', command = self.test).place (x = 10, y = 70)
        self.flag = 0
        self.root.mainloop()

    def option1 (self):
        print ' Option 1'        
        self.flag = 1

    def option2 (self):
        print ' Option 2'
        self.flag = 2

    def test (self):        
        if self.flag == 1:
            print '1st option selected'
        elif self.flag == 2:
            print '2nd option selected'
        else:
            print 'No option selected'

Select(Tk()).test()
"
32781,59087,Hide an action without disabling it,"import sys
from PySide import QtGui, QtCore

class Window(QtGui.QWidget):
    def __init__(self):
        super(Window, self).__init__()
        action = QtGui.QAction(self)
        action.setShortcut('Ctrl+t')
        action.triggered.connect(self.on_triggered)
        self.addAction(action)

    def on_triggered(self):
        print('triggered')

app = QtGui.QApplication(sys.argv)
w = Window()
w.show()
sys.exit(app.exec_())
"
4761,4579,How to join two wav files using python?,"import audiolab, scipy
a, fs, enc = audiolab.wavread('file1.wav')
b, fs, enc = audiolab.wavread('file2.wav')
c = scipy.vstack((a,b))
audiolab.wavwrite(c, 'file3.wav', fs, enc)
"
25925,41862,regular expression: match everything but single forward- and double backslashes,"re.match(r'(?!.*/|.*\\\\)', string)
"
26832,49984,python newbie question: converting code to classes,"import csv
import collections

def do_work():
    data, counter = get_file('thefile.csv')
    b = samples_subset1(data, counter, '/pythonwork/samples_subset3.csv', 500)

def get_file(start_file):
    with open(start_file, 'rb') as f:
        counter = collections.defaultdict(int)
        data = list(csv.reader(f))

        for row in data:
            counter[row[10]] += 1

    return (data, counter)

def samples_subset1(data, counter, output_file, sample_cutoff):
    with open(output_file, 'wb') as outfile:
        writer = csv.writer(outfile)
        b = []
        for row in data:
            if counter[row[10]] >= sample_cutoff:
                b.append(row) 
                writer.writerow(row)

    return b
"
19842,14736,Django forms: making a disabled field persist between validations,"from django import forms

_choices = ['to be', 'not to be']
class SomeForm(forms.Form):
    field = forms.ChoiceField(choices=[(item, item) for item in _choices],
                   widget=forms.HiddenInput()) # the real field

    mock_field = forms.ChoiceField(required=False, # doesn't get submitted
                        choices=[(item, item) for item in _choices],
                        label=""The question"",
                        widget=forms.Select(attrs={'disabled':'disabled'}))

    def __init__(self, *args, **kwargs):
        super(SomeForm, self).__init__(*args, **kwargs)
        mock_initial = kwargs['initial']['field']
        self.fields['mock_field'].choices = [(mock_initial, mock_initial),]
"
9580,35910,Optional Parameters in Python with List Append,"def wtf(some, thing, fields = None):
  if fields is None:
    fields = []
"
31877,9712,numpy max vs amax vs maximum,">>> a = np.array([2, 0, 3, -4, -2, 7, 9])
>>> np.maximum.accumulate(a)
array([2, 2, 3, 3, 3, 7, 9])
"
34530,9451,"Python, XML and multiple ""hierarchical"" default namespaces",">>> parser = etree.XMLParser(remove_blank_text=True)
>>> root = etree.parse('in.xml', parser)
>>> root.xpath('//pplv:node2/text()', namespaces={'pplv': 'whatever'})
['...']
>>> root.write('out.xml', pretty_print=True)

$ cat out.xml 
<pplv:PPLVDocument xmlns:pplv=""whatever"">
  <pplv:node1>...</pplv:node1>
  <pplv:node2>...</pplv:node2>
  <pplv:node3 xmlns=""blah"">
    <node1>...</node1>
    <node2>...</node2>
  </pplv:node3>
  <pplv:node4 xmlns=""blah2"">
    <node1>...</node1>
    <node2>...</node2>
  </pplv:node4>
  <pplv:node5 xmlns=""blah3"">
    <node1>...</node1>
    <node2>...</node2>
  </pplv:node5>
</pplv:PPLVDocument>
"
25598,33145,How can I yield a value from within a callback to a calling generator,"def getGenerator(self, keyIterator):
    results = []
    def bufferFullCallback(list_of_keys):
        results.extend(api_call(list_of_keys))
    for key in keyIterator:
        with MyBuffer(self.buffer_size, bufferFullCallback) as buf:
            buf.addToBuffer(key)
            for value in results:
                yield value
"
17085,27698,How can wxThumbnailCtrl in wxpython be used?,"import wx
from wx.lib.agw import thumbnailctrl as tn

class MyFrame(wx.Frame):
    def __init__(self, *args, **kwds):
        wx.Frame.__init__(self, *args, style=wx.DEFAULT_FRAME_STYLE)
        self.button = wx.Button(self, -1, ""Select dir"")
        self.Bind(wx.EVT_BUTTON, self.ButtonPress, self.button)
        self.tn = tn.ThumbnailCtrl(self)    
        self.tn.Bind(tn.EVT_THUMBNAILS_DCLICK, self.TnClick)

        box = wx.BoxSizer(wx.VERTICAL)
        box.Add(self.tn, 1, wx.EXPAND, 0)
        box.Add(self.button, 0, wx.ADJUST_MINSIZE, 0)
        self.SetSizer(box)
        box.Fit(self)
        self.Layout()

    def ButtonPress(self, evt):
        dlg = wx.DirDialog(self, 'Get dir')
        if dlg.ShowModal() == wx.ID_OK:
        path = dlg.GetPath()
        dlg.Destroy()
        self.tn.ShowDir(path)

    def TnClick(self, evt):
        sel = self.tn.GetSelection()
        wx.MessageBox(self.tn.GetThumbInfo(sel))

if __name__ == ""__main__"":
    app = wx.PySimpleApp(0)
    frame = MyFrame(None, -1, """")
    frame.Show()
    app.MainLoop()
"
32428,59972,StringIO Cannot Identify Image File Error,"    --------------------------------------------------------------------
    PIL SETUP SUMMARY
    --------------------------------------------------------------------
    version      Pillow 2.8.2
    platform     linux2 2.7.6 (default, Mar 22 2014, 22:59:56)
                 [GCC 4.8.2]
    --------------------------------------------------------------------
    *** TKINTER support not available
    (Tcl/Tk 8.6 libraries needed)
    *** JPEG support not available
    *** OPENJPEG (JPEG2000) support not available
    --- ZLIB (PNG/ZIP) support available
    *** LIBTIFF support not available
    *** FREETYPE2 support not available
    *** LITTLECMS2 support not available
    *** WEBP support not available
    *** WEBPMUX support not available
    --------------------------------------------------------------------
    To add a missing option, make sure you have the required
    library, and set the corresponding ROOT variable in the
    setup.py script.
    To check the build, run the selftest.py script.
    changing mode of build/scripts-2.7/pilconvert.py from 644 to 755
    changing mode of build/scripts-2.7/pildriver.py from 644 to 755
    changing mode of build/scripts-2.7/pilfile.py from 644 to 755
    changing mode of build/scripts-2.7/pilprint.py from 644 to 755
    changing mode of build/scripts-2.7/pilfont.py from 644 to 755
    changing mode of [...]
Successfully installed Pillow-2.8.2
"
4353,44199,Getting number of elements in an iterator in Python,"import random

def gen(n):
    for i in xrange(n):
        if random.randint(0, 1) == 0:
            yield i

iterator = gen(10)
"
39392,46656,Regarding tracing of this program,"f(6) = 6  *  f(5)                                    = 720
              |------------------------------------
              5  *  f(4)                             = 120
                     |-----------------------------
                     4  *  f(3)                      =  24
                            |----------------------
                            3  * f(2)                =   6
                                  |----------------
                                  2  *  f(1)         =   2
                                         |---------
                                         1  *  f(0)  =   1
                                                |
                                                1    =   1  (base case)
"
4786,60539,Plot values of two time series with different dates,"import matplotlib.pyplot as plt
import pandas as pd


s1_values = [6,8,6,3,7,9] 
s1_times =  [1,3,6,7,8,12]

s2_values = [3,8,7,2,5,4,6,2]
s2_times =  [2,4,5,7,8,9,10,13]

df1 = pd.DataFrame(zip(s1_times, s1_values), columns=['Time', 's1 values'])
df2 = pd.DataFrame(zip(s2_times, s2_values), columns=['Time', 's2 values'])

df = df1.merge(df2, how='outer', on='Time', sort='Time')
df.fillna(method='pad', inplace=True)  # or df.interpolate(inplace=True)

df.plot(kind='scatter', x='s1 values', y='s2 values')
plt.show()
"
27979,36020,Test a function on all the values in a list?,"filename.endswith(('js','css','htm', 'html'))
"
21609,75930,"Why does the python datetime class have a 'fromtimestamp' method, but not a 'totimestamp' method?","# On the POSIX compliant platforms, `utcfromtimestamp(timestamp)` is
# equivalent to the following expression:
datetime(1970, 1, 1) + timedelta(seconds=timestamp)

# There is no method to obtain the timestamp from a `datetime` instance,
# but POSIX timestamp corresponding to a `datetime` instance `dt` can be
# easily calculated as follows. For a naive `dt`:
timestamp = (dt - datetime(1970, 1, 1)) / timedelta(seconds=1)

# And for an aware ``dt``::
timestamp = (dt - datetime(1970, 1, 1, tzinfo=timezone.utc)) / timedelta(seconds=1)
"
7016,80494,How to find what the next word separated by underscore is,"print re.findall(r'path1_([^_]+)', self.fileList[0])
"
13613,22212,py2exe and disappeared icon,"from distutils.core import setup 
import py2exe 
setup(    
    options={
       ""py2exe"" : {""includes"" : [""sip"",]}
    },
    data_files = [
      ('imageformats', [
        r'C:\programs\Python271\Lib\site-packages\PyQt4\plugins\imageformats\qico4.dll'
        ])],
    console=[{          
       ""script"" : ""manage.py""       
    }]
) 
"
27985,16899,Getting the first elements of a dictionary without using a loop,"unigram_list = freq_unigrams.keys()[:1000]
"
23486,81584,python package - include test suite or not,"nac-project/
    nac/
        tests/
    setup.py
"
6532,70346,Django: format raw query for template when using cursor.execute(),"        cursor = connection.cursor()
        cursor.execute(my_select)
        results = cursor.fetchall()

        x = cursor.description
        resultsList = []   
        for r in results:
            i = 0
            d = {}
            while i < len(x):
                d[x[i][0]] = r[i]
                i = i+1
            resultsList.append(d)

        return render_to_response(my_template, {""results"":resultsList})
"
1739,82768,pandas: make a DataFrame from a combination of two dimensional and one dimensional arrays,"[26]: df = DataFrame([['foo',1],['foo',2],['bar',3],['bar',4]],columns=list('AB'))

In [27]: df
Out[27]: 
     A  B
0  foo  1
1  foo  2
2  bar  3
3  bar  4

In [35]: def f(g, grp):
   ....:     return (g, len(grp), grp['B'].sum())
   ....: 

In [36]: print [ f(g, grp) for g, grp in df.groupby('A') ]
[('bar', 2, 7), ('foo', 2, 3)]
"
22531,60455,Python multiprocessing: object identifier unique across processes,">>> import dill
>>>     
>>> class A(object):
...   pass
... 
>>> b = A()
>>> 
>>> id(b)
4473714832
>>> id(dill.loads(dill.dumps(b)))  
4486366032
>>> 
"
6795,18692,recognize separate normal distributions in one data set,"from scipy.optimize import leastsq
import numpy as np
import matplotlib.pyplot as p
%matplotlib inline

d1 = [np.random.normal(2,.1) for _ in range(1000)]
d2 = [np.random.normal(2.5,.1) for _ in range(1000)]
d3 = [np.random.normal(3,.1) for _ in range(1000)]
sum1 = d1 + d2 + d3
bins=np.arange(0,4,0.01)
a=np.histogram(sum1,bins=bins)

fitfunc  = lambda p, x: p[0]*exp(-0.5*((x-p[1])/p[2])**2) +\
        p[3]*exp(-0.5*((x-p[4])/p[5])**2) +\
        p[6]*exp(-0.5*((x-p[7])/p[8])**2)

errfunc  = lambda p, x, y: (y - fitfunc(p, x))

xdata,ydata=bins[:-1],a[0]
p.plot(xdata,ydata) 

init  = [40, 2.1, 0.1,40, 2.4, 0.1,40, 3.1, 0.1 ]

out   = leastsq(errfunc, init, args=(xdata, ydata))
c = out[0]
print c
"
31181,21882,Detecting Mouse clicks in windows using python,"import pyHook
import pythoncom

def onclick(event):
    print event.Position
    return True

hm = pyHook.HookManager()
hm.SubscribeMouseAllButtonsDown(onclick)
hm.HookMouse()
pythoncom.PumpMessages()
hm.UnhookMouse()
"
3530,48004,Web scraping wordlists,"def get_keywords():



        common_words = open('File_Storage/common.txt', 'r').readlines()
        keywords=open(PROJECT_NAME + '/keywords.txt', 'r').read().split('\n')
        f = open(PROJECT_NAME + '/keywords.txt', 'a')
        urls = file_to_set(QUEUE_FILE)
        Hist_queue = urls
        for i in Hist_queue:
            html_content = urllib2.urlopen(i).read()
            soup = BeautifulSoup(html_content)
            for script in soup([""script"", ""style""]):
                script.extract()
            text = soup.get_text()
            lines = (line.strip() for line in text.splitlines())
            chunks = (phrase.strip() for line in lines for phrase in line.split("" ""))
            text = '\n'.join(chunk for chunk in chunks if chunk)
            (text.encode('utf-8'))
            visible_text = soup.getText()
            words = visible_text.split(' ')
            for word in words:
                if word not in common_words and word not in keywords and word.isalnum():
                    f.write(word + '\n')
                    keywords.append(word)
                else:
                        continue
"
39121,29289,py.test doesn't collect tests that are not inherited from 'object',"# base_class.py

class BaseClass(object):
""""""BaseClass""""""

    @classmethod
    @pytest.fixture(scope = ""class"", autouse = True)
    def setup(self):
        self.bla = 'bla'

#test_class.py

import pytest
from base_class import BaseClass

class TestSmth(BaseClass):
    def test_test(self):
        print self.bla

if __name__ == '__main__':
    pytest.main([__file__, '-v'])
"
17152,7983,How to send data from python script through Internet to android app and vice versa.,"Socket sock = new Socket(""IP-ADDRESS_OF_YOUR_RPi"", PORT);
"
30921,40538,Returning values to other functions,"   def main():
        print(a(),b())
"
39765,68786,python parsing url after string,"import urllib2
url=""http://www.test.com/page.html""
page=urllib2.urlopen(url)
data=page.read()
for item in data.split(""</h3>""):
    if ""<h3>"" in item:
         print item.split(""<h3>"")[1]
"
29362,61549,pandas: finding first incidences of events in df based on column values and marking as new column values,"# Initialize empty flags
df['flag1'] = 0
df['flag2'] = 0

# Set flag1
groups = df.groupby('customer_id').groups
df.loc[[values[0] for values in groups.values()], 'flag1'] = 1

# Set flag2
groups2 = df.loc[df.data == 1, :].groupby('customer_id').groups
df.loc[[values[0] for values in groups2.values()], 'flag2'] = 1

>>> df
   customer_id  event_date  data  flag1  flag2
0            1  2012-10-18     0      1      0
1            1  2012-10-12     0      0      0
2            1  2015-10-12     0      0      0
3            2  2012-09-02     0      1      0
4            2  2013-09-12     1      0      1
5            3  2010-10-21     0      1      0
6            3  2013-11-08     0      0      0
7            3  2013-12-07     1      0      1
8            3  2015-09-12     1      0      0
"
15104,46857,Serialize date to url safe string in Python,">>> import base64
>>> import time
>>> encoded = base64.urlsafe_b64encode(""%d"" % int(time.time()))
>>> print encoded
'MTMzMTMyOTE5NA=='
>>> decoded = int(base64.urlsafe_b64decode(encoded))
>>> print decoded
1331329194
>>> import datetime
>>> datetime.datetime.fromtimestamp(decoded)   
datetime.datetime(2012, 3, 9, 16, 39, 54)
"
35447,6781,Referencing Class properties with variables in Python 2.7,"from collections import namedtuple

Weapon = namedtuple('Weapon', ['damage', 'price'])

weapons = {
    'pistol': Weapon(4, 5),
    'cannon': Weapon(4, 5),
    # ...
}

def fight():
    weapon_name = raw_input(""What weapon would you like to use?"")
    enemy.health -= weapons[weapon_name].damage
"
14236,44342,Python Multiprocessing - Just not getting it,"import random

def countSixes(start):
    newNum = random.randrange(0,10)
    if newNum == 6:
        return start + 1
    else:
        return start

if __name__ == '__main__':
    import multiprocessing
    pool = multiprocessing.Pool(1) #use one core for now

    start = 0
    async_results = [pool.apply_async(countSixes, (start,)) for i in range(1000)]

    print(sum(r.get() for r in async_results))
"
39491,21456,How to perform quick upleveling in python?,"for person in persons:
    for k, v in person.items():
        if isinstance(v, dict) and 'years' in v:
            person[k] = v['years']
"
36606,6574,"How to ""Crop"" a Rotated Image In Pygame","import sys
import pygame as pg


def main():
    pg.init()
    screen = pg.display.set_mode((320, 240))
    clock = pg.time.Clock()
    done = False
    bg_color = pg.Color(50, 80, 120)
    # Create the original image that we use for the rotation
    # to avoid visual degeneration.
    orig_img = pg.Surface((100, 100))
    orig_img.fill((20, 50, 130))
    pg.draw.circle(orig_img, pg.Color('springgreen2'), (30, 30), 30)
    pg.draw.circle(orig_img, pg.Color('lightgoldenrod3'), (60, 60), 30)
    pg.draw.rect(orig_img, pg.Color('black'), (48, 0, 4, 100))
    pg.draw.rect(orig_img, pg.Color('black'), (0, 48, 100, 4))
    rect = orig_img.get_rect(topleft=(30, 30))

    angle = 0

    while not done:
        for event in pg.event.get():
            if event.type == pg.QUIT:
                done = True

        angle += 1
        # Rotate the image.
        img = pg.transform.rotate(orig_img, angle)
        rect = img.get_rect(center=rect.center)
        # Calculate new crop position. Half of the new
        # width & height minus half of the original dimensions.
        x, y = rect.width/2 - 50, rect.height/2 - 50
        sub = img.subsurface((x, y, 100, 50))

        screen.fill(bg_color)

        screen.blit(img, rect)
        screen.blit(sub, (150, 150))

        pg.display.flip()
        clock.tick(30)


if __name__ == ""__main__"":
    main()
    pg.quit()
    sys.exit()
"
4228,4918,Python List Bracket Removal,"for row in csvReader:
    row = """".join(row)
    stockList.append(row)
"
19587,72690,User input to store in nested lists with int conversion - Python,"data.append([int(x) for x in input().split()])
"
23135,52721,Handle HTML tags using python,"from bs4 import BeautifulSoup

soup = BeautifulSoup(open('htmlfile'))

for elem in soup.find_all('span', class_='finereader'):
    elem.replace_with(elem.string or '') 

print(soup.prettify())
"
36408,59377,How to make colorbar display set limits with 3D data,"ax.scatter(x, y, z, c=values, alpha=0.3, edgecolors='none',vmin=2100,vmax=2600)
"
9769,24738,Printing from 2 lists on one line,"species = [""H2O"", ""CO2"", ""O2""]
coeff = ['1', '-4', '3']

pos = [c + s for c, s in zip(coeff, species) if int(c) > 0]
neg = [c[1:] + s for c, s in zip(coeff, species) if int(c) < 0]
print (""+"".join(pos))+""=""+(""+"".join(neg))
"
10805,22606,Explicit access to Python's built in scope,"def open():
    pass

import __builtin__

print open
print __builtin__.open
"
8948,70555,signed bitwise arithmetic in Python,"a  = 0xff = 0000 0000 1111 1111
~a = -256 = 1111 1111 0000 0000

b  = 1<<8 = 0000 0001 0000 0000
~b = -257 = 1111 1110 1111 1111

-256 = 1111 1111 0000 0000
-257 = 1111 1110 1111 1111
--------------------------  &
-512 = 1111 1110 0000 0000
"
990,72009,Making a countdown timer with Python and Tkinter?,"import Tkinter as tk

class ExampleApp(tk.Tk):
    def __init__(self):
        tk.Tk.__init__(self)
        self.label = tk.Label(self, text="""", width=10)
        self.label.pack()
        self.remaining = 0
        self.countdown(10)

    def countdown(self, remaining = None):
        if remaining is not None:
            self.remaining = remaining

        if self.remaining <= 0:
            self.label.configure(text=""time's up!"")
        else:
            self.label.configure(text=""%d"" % self.remaining)
            self.remaining = self.remaining - 1
            self.after(1000, self.countdown)

if __name__ == ""__main__"":
    app = ExampleApp()
    app.mainloop()
"
28491,10175,Python classes and __init__ method,">>> class Parent(object):
...   def __init__(self):
...     print 'Parent.__init__'
...   def func(self, x):
...     print x
...
>>> class Child(Parent):
...   pass
...
>>> x = Child()
Parent.__init__
>>> x.func(1)
1
"
9345,37016,adjusting heights of individual subplots in matplotlib in Python,"import matplotlib.pyplot as plt
plt.subplot(6,1,1)
plt.subplot(6,1,2)
plt.subplot(6,1,3)
plt.subplot(2,1,2)
"
654,72705,how to change links of html file to local links,"import re

html_file_content = u""asdf 1234 this should contain the source code of a html page that you downloaded""
pattern = u""http://the-url-from-which-you-downloaded-the-html-file.com""
path = u""d:/whatever/path/where/you/downloaded/the/html/file""
new_file_content = re.sub(pattern, path, a)
"
33979,17107,Print the count of lines writen into CSV file,"""""""""Outputs the emails by cc and names the file.""""""
for key, value in emails.items():
    # Key is 'cc' and value is 'email'
    # File is named by ""today's date-original file's name-cc""
    with open('{0:%Y%m%d}-{1}-{2}.csv'.format(datetime.datetime.now(), filename[0], key), 'w') as f:
        f.writelines(value)

    # The file is closed (de-indented from the with), but we're still in the for loop
    # Use the format() method of a string to print in the form `cc: number of emails`
    print(`{}: {}`.format(key, len(value)))
"
26546,42522,Read and write Pandas DataFrame with multi-row and multi-column index,"idx = pd.MultiIndex.from_product([[""A"", ""B""], [1, 2, 3]])
col = pd.MultiIndex.from_product([[""X"", ""Y""], [""aa"", ""bb""]])
df = pd.DataFrame(np.random.randint(0, 100, size=(6, 4)), index=idx, columns=col)
df.index.names = ""name1"", ""name2""
df.columns.names = ""NAME1"", ""NAME2""

df.to_csv(""tmp.csv"")
df2 = pd.read_csv(""tmp.csv"", header=[0, 1], index_col=[0, 1])
"
38601,82783,"Python, can't figure out how to save looped variable","L = []
for student in range(0,10):
    x = (raw_input(""Enter grade here: "")).lower()
    L.append(x)

d = dict((x,L.count(x)) for x in set(L))
for k,v in d.iteritems():
    print ""Count for {}'s : {}"".format(k.capitalize(), v)
"
11361,83293,Retrieving groups by their index. Are Pandas groups sorted?,"In [123]: df = DataFrame({'a': [1,1,1,1,2,2,3,3,3,3], 'b': randn(10)})

In [124]: df
Out[124]:
   a       b
0  1  1.5665
1  1 -0.2558
2  1  0.0756
3  1 -0.2821
4  2  0.8670
5  2 -2.0043
6  3 -1.3393
7  3  0.3898
8  3 -0.3392
9  3  1.2198

[10 rows x 2 columns]

In [125]: gb = df.groupby('a')

In [126]: def nth_group(gb, n):
   .....:     keys = gb.grouper._get_group_keys()
   .....:     return gb.get_group(keys[n])
   .....:

In [127]: nth_group(gb, 0)
Out[127]:
   a       b
0  1  1.5665
1  1 -0.2558
2  1  0.0756
3  1 -0.2821

[4 rows x 2 columns]
"
9455,81603,Python: Expanding List of Class Objects,"for row in table:
    print '{0} - {1} - {2}'.format(*[x.name for x in row])
"
21404,71843,How can I add a variable amount of columns in Pandas?,"import pandas as pd
import numpy as np

def add_columns(x, *args):
    col_names = args[0]
    return pd.Series({i: x for i in col_names})

def add_range(x, *args):
    col_names = args[1]
    return pd.Series({k: v for k,v in zip(args[1],range(args[0]))})

df = pd.DataFrame(np.random.uniform(size=(10,2)),columns=[""A"",""B""])

labels = [""L1"",""L2"",""L3""]

# This populates with values from ""A"" column
df.merge(df[""A""].apply(add_columns, args=([labels])),left_index=True, right_index=True)

# This populates with values from range(number_passed) function
df.merge(df[""A""].apply(add_range, args=([3,labels])),left_index=True, right_index=True)
"
1122,77588,Python permutation difference,"def difference(after, before):
    return tuple(before.index(x) for x in after)

print difference('ijk', 'ikj') # (0, 2, 1)
print difference('jik', 'ikj') # (2, 0, 1)
"
31946,12365,"It is ""safely persist"" the url generated by the images.get_serving_url()","class Picture(ndb.Model):
    cdate = ndb.DateTimeProperty(auto_now_add=True)
    filename = ndb.StringProperty(required=True)
    gs_key = ndb.StringProperty(required=True)
    _serving_url = ndb.StringProperty(indexed=False)

    @property
    def serving_url(self):
        if self.gs_key:
            if not self._serving_url:
                self._serving_url = images.get_serving_url(self.gs_key,48,True)
                self.put()
            return self._serving_url
        return ''
"
13387,2792,Reading lines in a file,"if 'X' not in line:
   print(line)
line = infile.readline()
"
12661,67790,Can't edit TextCtrl built from other function than __init__ (wxPython),"class MyFrame1 (wx.Frame):
    def __init__(self):
        super(MyFrame1, self).__init__()
        fluid_sizer = wx.BoxSizer(wx.HORIZONTAL)
        self.m_textCtrl1 = wx.TextCtrl(self, wx.ID_ANY, wx.EmptyString, wx.DefaultPosition, wx.DefaultSize, 0)
        fluid_sizer.Add(self.m_textCtrl1, 0, wx.ALL, 5)
        self.SetSizer(fluid_sizer)
        self.Layout()
"
24680,33478,Programmatically remove Apple Screen Capture Shadow borders,"#!/usr/bin/env                                                                                                                       
# Removes the shadow from MacOS-Generated screen shots.                                                                              

import Image,os

if __name__==""__main__"":
    image = Image.open(os.sys.argv[1])
    image = image.convert('RGBA')

    (width,height) = image.size
    def find_first_non_alpha_x():
        for i in range(width):
            if image.getpixel((i,height/2))[3]==255:
                return i
        raise RuntimeError(""No non-alpha pixels on midline"")

    def find_last_non_alpha_x():
        for i in range(width-1,0,-1):
            if image.getpixel((i,height/2))[3]==255:
                return i
        raise RuntimeError(""No non-alpha pixels on midline"")

    def find_first_non_alpha_y():
        for i in range(height):
            if image.getpixel((width/2,i))[3]==255:
                return i
        raise RuntimeError(""No non-alpha pixels on midline"")

    def find_last_non_alpha_y():
        for i in range(height-1,0,-1):
            if image.getpixel((width/2,i))[3]==255:
                return i
        raise RuntimeError(""No non-alpha pixels on midline"")

    x1 = find_first_non_alpha_x()
    y1 = find_first_non_alpha_y()
    x2  = find_last_non_alpha_x()
    y2  = find_last_non_alpha_y()

    y = image.crop((x1-1,y1-1,x2+1,y2+1))
    y.save(os.sys.argv[1]+""-cropped.png"")
"
32727,24001,Add elements in a dictionary of lists,"import pandas as pd

>>> d = {title: ['a', 'a', 'a', 'b', 'b', 'c', 'c'], avg1: [1, 2, 3, 4, 5, 6, 7], avg2: [2, 2, 3, 4, 7, 9, 7]}

>>> df = pd.DataFrame(d)
>>> df
   avg1  avg2 title
   0     1     2     a
   1     2     2     a
   2     3     3     a
   3     4     4     b
   4     5     7     b
   5     6     9     c
   6     7     7     c
>>> g = df.groupby('title')

>>> g.avg1.apply(sum)
title
a         6
b         9
c        13
Name: avg2, dtype: int64

>>> g.avg2.apply(sum)
title
a         7
b        11
c        16
Name: avg2, dtype: int64

# An very awkward use of pandas
>>> dict(title=g.avg1.apply(sum).index.values.tolist(),
>>>      avg1=g.avg1.apply(sum).values.tolist(),
>>>      avg2=g.avg2.apply(sum).values.tolist())
{'avg1': [6, 9, 13], 'avg2': [7, 11, 16], 'title': ['a', 'b', 'c']}
"
30102,23877,How to display the arrow symbol in Python tkMessageBox?,"info = u""Hello, Welcome\nPlease follow the instructions \u2191""
tkMessageBox.showinfo(""Welcome"", info)
"
18654,31849,Manipulate string data,"import re

def getPage():
    url = ""http://url:port/min_day.js""
    req = urllib2.Request(url)
    response = urllib2.urlopen(req)
    return response.read()    

def repl(match):
    return '20%s%s%s,%s,%s,%s,-1,-1,%s,%s'%(match.group('year'),
                                            match.group('month'),
                                            match.group('day'),
                                            match.group('time'),
                                            match.group('v3'),
                                            match.group('v1'),
                                            match.group('v5'),
                                            match.group('v4'))

pattern = re.compile(r'm\[mi\+\+\]=""(?P<day>\d{2})\.(?P<month>\d{2})\.(?P<year>\d{2}) (?P<time>[\d:]{8})\|(?P<v1>\d+);(?P<v2>\d+);(?P<v3>\d+);(?P<v4>\d+);(?P<v5>\d+).+')

data = [re.sub(pattern, repl, line).split(',') for line in getPage().split('\n')]

# If you want to sort your data
data = sorted(data, key=lambda x:x[0], reverse=True)

# If you want to write your data back to a formatted string
new_string = ';'.join(','.join(x) for x in data)

# If you want to write it back to file
with open('new/file.txt', 'w') as f:
    f.write(new_string)
"
8918,30179,Regex How to match Empty,">>> m = re.match(r""(?P<a>[^\s]+)(\s+(?P<b>[^\s]+))?(\s+(?P<c>[^\s]+))?\s*\|"")

>>> m.groups()
('iOS', None, None)
>>> m.groupdict()
{'c': None, 'a': 'iOS', 'b': None}

>>> m = re.match(r""(?P<a>[^\s]+)(\s+(?P<b>[^\s]+))?(\s+(?P<c>[^\s]+))?\s*\|"")

>>> m.groups()
('Mozilla', ' 5.0', ' white')
>>> m.groupdict()
{'c': 'white', 'a': 'Mozilla', 'b': '5.0'}
"
18309,28232,Counting number of times a group of string have occurred and print the string and number of occurrence in python 2.7,"filename = 'test.txt'

filetxt = """"""\
X_0_Gui_Menu_400_Menu_System
X_0_Gui_Menu_400_Menu_System
X_0_Gui_Menu_000_Menu_root
X_0_Gui_Menu_000_Menu_root
X_0_Gui_Menu_000_Menu_root
X_0_Gui_Menu_300_Menu_Outputs
X_0_Gui_Menu_300_Menu_Outputs
X_0_Gui_Menu_320_Menu_Outputs_SDI
X_0_Gui_Menu_320_Menu_Outputs_SDI
X_0_Gui_Menu_320_Menu_Outputs_SDI
X_0_Gui_Menu_320_Menu_Outputs_SDI
X_0_Gui_Menu_320_Menu_Outputs_SDI
X_0_Gui_Menu_320_Menu_Outputs_SDI
X_0_Gui_Menu_320_Menu_Outputs_SDI
X_0_Gui_Menu_320_Menu_Outputs_SDI
""""""

with open(filename, 'w') as f:
    f.write(filetxt)

from collections import Counter
with open(filename, 'r') as f:
    c = Counter(f)

# use iteritems() in python 2.7 instead of items
for key, value in c.items():
    print(key.strip())
    print('{:d} times'.format(value))
"
4520,59532,Command Line Arguments In Python,"from optparse import OptionParser

parser = OptionParser()
parser.add_option(""-f"", ""--file"", dest=""filename"",
                  help=""write report to FILE"", metavar=""FILE"")
parser.add_option(""-q"", ""--quiet"",
                  action=""store_false"", dest=""verbose"", default=True,
                  help=""don't print status messages to stdout"")

(options, args) = parser.parse_args()
"
10289,30531,get max and min value in dictionary," MY_D = {'Illinois': ['13', '12', '18', '23', '26', '25', '24', '19', '13', '10', '15', '14', '14', '4', '3'],
'Indiana': ['7', '6', '7', '8', '11', '11', '13', '12', '7', '7', '7', '7', '9', '2', '2']}

for k,v in MY_D.items():
     #This assumes that everything in v is an int, or rather can be converted to one.
     my_l = [int(n) for n in v]
     #if not
     #my_l = [int(n) for n in v if n.isdigit()]
     _max, _min = max(my_l), min(my_l)
     print(""%s: Min - %d in index %d, Max - %d in index %d"" % (k, _min,  my_l.index(_min), _max, my_l.index(_max)))
"
3586,53337,PyQt grouping graphicsScene objects into one object,"def newGrid(...):
     group = QtGui.QGraphicsItemGroup(scene=self)
     group.setFlag(QtGui.QGraphicsItem.ItemIsMovable) #let't test how it works

     for i in range(xccells + 1):
         ...
         group.addToGroup(self.addLine(x,ymin,x,ymax,self.meshPen))
     ...
"
812,43255,Should I use elif if I have already returned from the function in a previous block?,"In [3]: dis.dis(size)
  2           0 LOAD_FAST                0 (number)
              3 LOAD_CONST               1 (100)
              6 COMPARE_OP               0 (<)
              9 POP_JUMP_IF_FALSE       19

  3          12 LOAD_GLOBAL              0 (Small)
             15 CALL_FUNCTION            0
             18 RETURN_VALUE        

  5     >>   19 LOAD_FAST                0 (number)
             22 LOAD_CONST               2 (1000)
             25 COMPARE_OP               0 (<)
             28 POP_JUMP_IF_FALSE       38

  6          31 LOAD_GLOBAL              1 (Medium)
             34 CALL_FUNCTION            0
             37 RETURN_VALUE        

  8     >>   38 LOAD_GLOBAL              2 (Big)
             41 CALL_FUNCTION            0
             44 RETURN_VALUE        

In [4]: dis.dis(size1)
 11           0 LOAD_FAST                0 (number)
              3 LOAD_CONST               1 (100)
              6 COMPARE_OP               0 (<)
              9 POP_JUMP_IF_FALSE       19

 12          12 LOAD_GLOBAL              0 (Small)
             15 CALL_FUNCTION            0
             18 RETURN_VALUE        

 13     >>   19 LOAD_FAST                0 (number)
             22 LOAD_CONST               2 (1000)
             25 COMPARE_OP               0 (<)
             28 POP_JUMP_IF_FALSE       38

 14          31 LOAD_GLOBAL              1 (Medium)
             34 CALL_FUNCTION            0
             37 RETURN_VALUE        

 16     >>   38 LOAD_GLOBAL              2 (Big)
             41 CALL_FUNCTION            0
             44 RETURN_VALUE        
             45 LOAD_CONST               0 (None)
             48 RETURN_VALUE        
"
33694,34381,"Is it possible in Python to create a class which duplicates the functionality of some class, but changes it's base class?","PyLibMCTagsCache = type(""PyLibMCTagsCache"", 
                        (BaseTagsMemcachedCache,),
                        vars(PyLibMCCache))
"
27187,5755,index into a circular array,"from itertools import cycle, islice
myArray = ['a','b','c','d']
pool = cycle(myArray)

print(next(islice(pool, 5)))
a
"
23304,38020,Inverse operation to Python's urllib.urlencode?,">>> bits = urlparse.urlparse('http://www.example.com/foo?bar=zoo&a=b')
>>> bits.query
'bar=zoo&a=b'
>>> urlparse.parse_qs(bits.query)
{'a': ['b'], 'bar': ['zoo']}
"
25246,37073,global variable issues with tkinter python,"from tkinter import Tk, Label, Entry, Button, StringVar, IntVar

window = Tk()

name_array = [('a1','a2','a3'), ('b1','b2','b3'), ('c1','c2','c3'),('d1','d2','d3')]
position_track = IntVar()

first_name = StringVar()
last_name = StringVar()
email = StringVar()

def return_value(pos):
    first_name.set(name_array[pos][0])
    last_name.set(name_array[pos][1])
    email.set(name_array[pos][2])

def update_value(pos):
    name_array[pos] = (first_name.get(), last_name.get(), email.get())

def first_value():
    global position_track
    return_value(0)
    position_track.set(0)

def last_value():
    global position_track
    return_value(-1)
    position_track.set(-1)

def next_value():
    global position_track
    if position_track.get() == len(name_array):
        position_track.set(1)
    temp = position_track.get()
    return_value(temp + 1)
    position_track.set(temp + 1)

def prev_value():
    global position_track
    if position_track.get() == -1:
        position_track.set(len(name_array) - 1)
    temp = position_track.get()
    return_value(temp - 1)
    position_track.set(temp - 1)

label_first_name = Label(window, text = 'First Name:', justify = 'right', padx = 5)
entry_first_name = Entry(window, textvariable = first_name)
label_last_name = Label(window, text = 'Last Name:', justify = 'right', padx = 5)
entry_last_name = Entry(window, textvariable = last_name)
label_email = Label(window, text = 'Email Address:', justify = 'right', padx = 5)
entry_email = Entry(window, textvariable = email)


button_first = Button(window, text = 'First', command = first_value)
button_last = Button(window, text = 'Last', command = last_value)
button_prev = Button(window, text = 'Prev', command = prev_value)
button_next = Button(window, text = 'Next', command = next_value)
button_quit = Button(window, text = 'Quit')
button_quit.configure(command=window.destroy)

labels = [label_first_name, label_last_name, label_email]
entries = [entry_first_name, entry_last_name, entry_email]
buttons = [button_first, button_last, button_prev, button_next, button_last, button_quit]


for i in range(3):
    labels[i].grid(row = i, column = 0, sticky = 'W')
    entries[i].grid(row = i, column = 1, columnspan = 6)

for j in range(6):
    buttons[j].grid(row = 3, column = j, sticky = 'E')

window.mainloop()
"
19526,69363,Get facebook friends upon registration,"<?php
  $app_id = 'YOUR_APP_ID';
  $app_secret = 'YOUR_APP_SECRET';
  $my_url = 'POST_AUTH_URL';

  $code = $_REQUEST[""code""];

 //auth user
 if(empty($code)) {
    $dialog_url = 'https://www.facebook.com/dialog/oauth?client_id=' 
    . $app_id . '&redirect_uri=' . urlencode($my_url) ;
    echo(""<script>top.location.href='"" . $dialog_url . ""'</script>"");
  }

  //get user access_token
  $token_url = 'https://graph.facebook.com/oauth/access_token?client_id='
    . $app_id . '&redirect_uri=' . urlencode($my_url) 
    . '&client_secret=' . $app_secret 
    . '&code=' . $code;
  $access_token = file_get_contents($token_url);

  // Run fql query
  $fql_query_url = 'https://graph.facebook.com/'
    . '/fql?q=SELECT+uid2+FROM+friend+WHERE+uid1=me()'
    . '&' . $access_token;
  $fql_query_result = file_get_contents($fql_query_url);
  $fql_query_obj = json_decode($fql_query_result, true);

  //display results of fql query
  echo '<pre>';
  print_r(""query results:"");
  print_r($fql_query_obj);
  echo '</pre>';

  // Run fql multiquery
  $fql_multiquery_url = 'https://graph.facebook.com/'
    . 'fql?q={""all+friends"":""SELECT+uid2+FROM+friend+WHERE+uid1=me()"",'
    . '""my+name"":""SELECT+name+FROM+user+WHERE+uid=me()""}'
    . '&' . $access_token;
  $fql_multiquery_result = file_get_contents($fql_multiquery_url);
  $fql_multiquery_obj = json_decode($fql_multiquery_result, true);

  //display results of fql multiquery
  echo '<pre>';
  print_r(""multi query results:"");
  print_r($fql_multiquery_obj);
  echo '</pre>';
?>
"
7603,13076,Connecting to Google Datastore using gcloud,"import os

os.environ['GOOGLE_APPLICATION_CREDENTIALS'] = <path to private key>
os.environ['GCLOUD_DATASET_ID'] = <dataset_id, also known as project id>

# Fetching queries should work now
query = datastore.Query(kind=<kind>, namespace=<namespace>)
for result in query.fetch():
    print result
"
18649,65003,Problem in downloading the file using sharepoint copy.asmx,"public string DownLoadfiletolocal(string FileURL, string Title)
{

//Copy.Copy is a webservice object that I consumed.

Copy.Copy CopyObj = new Copy.Copy();
CopyObj.Url = SiteURL + ""/_vti_bin/copy.asmx""; // Dynamically passing SiteURL
NetworkCredential nc2 = new NetworkCredential();
nc2.Domain = string.Empty;
nc2.UserName = _UserName;
nc2.Password = _Password;


string copySource = FileURL; //Pass full url for document.

Copy.FieldInformation myFieldInfo = new Copy.FieldInformation();
Copy.FieldInformation[] myFieldInfoArray = { myFieldInfo };
byte[] myByteArray;

// Call the web service
uint myGetUint = CopyObj.GetItem(copySource, out myFieldInfoArray, out myByteArray);

// Convert into Base64 String
string base64String;
base64String = Convert.ToBase64String(myByteArray, 0, myByteArray.Length);

// Convert to binary array
byte[] binaryData = Convert.FromBase64String(base64String);

// Create a temporary file to write the text of the form to
string tempFileName = Path.GetTempPath() + ""\\"" + Title;

// Write the file to temp folder
FileStream fs = new FileStream(tempFileName, FileMode.Create, FileAccess.ReadWrite);
fs.Write(binaryData, 0, binaryData.Length);
fs.Close();

return tempFileName;

}
"
16244,54919,Add extra fields to my UserCreationForm from my extended User model,"# this is your model form for extended OneOnOne with user
class ExtendedForm(forms.ModelForm):
    model = ExtendedModel
    # temporary exclude user field to pass the validation
    exclude = ('user')

def create_user(request):
    user_form = UserForm(request.POST or None)
    extra_form = ExtendedForm(request.POST or None)

    if user_form.is_valid() and extra_form.is_valid():
        # create a new user first
        new_user = user_form.save()
        # create an object in memory but not save it
        new_extended_obj = extra_form.save(commit=False)
        # assign the user to the extended obj
        new_extended_obj.user = new_user
        # write to database
        new_extended_obj.save()
"
23362,23225,Grabbing Filter Options in Django,"def your_view(request):

    if request.method == 'POST':
        num_results = request.POST.get('num_results')
    #rest of the code . . .
"
17628,29270,Python - shortening an if / for loop,"devFound = any(d['name'] == devName for d in dev['devices'])
"
20620,27092,Run Matlab Code in Python,"import matlab.engine
eng = matlab.engine.start_matlab()
x, y, z = 3, 5, 8
r = eng.compute(x, y, z)
"
21156,4252,Use regex to isolate information in filename,"s = ""file_name_twenty_13503295.txt""

name, id = s.rsplit(""."",1)[0].rsplit(""_"", 1)

print(name, id)

file_name_twenty 13503295
"
31663,28840,make python variable triple quotation style,"   h1 = false

   class MyHTMLParser(HTMLParser):
       def handle_starttag(self, tag, attrs):
          ## print ""Encountered a start tag:"", tag
          if tag == 'h1':
                 h1 = true
       def handle_endtag(self, tag):
          ## print ""Encountered an end tag :"", tag
          if tag == 'h1':
                 h1 = false
       def handle_data(self, data):
           ## print ""Encountered some data  :"", data
           if h1:
                 print data
"
18867,24967,Add MySQL query results to R dataframe,"queries=sprintf(""SELECT value as value FROM %s FORCE INDEX (chrs) FORCE INDEX (sites) WHERE chrom = %d AND site = %d UNION ALL SELECT 0 LIMIT 1"", ""TableName"", df$Chrom, df$Pos)
df$Value = do.call(""rbind"",sapply(queries, function(query) dbSendQuery(mydb, query)))$value
"
24899,13578,number of sequences in a list,"def grouper(my_list):
    previous, temp, result = my_list[0], [my_list[0]], []
    for number in my_list[1:]:
        if number - previous > 65:
            result.append(temp)
            temp, previous = [number], number
        else:
            temp.append(number)
    if temp:
        result.append(temp)
    return result

assert(grouper([43, 83, 90, 250, 265, 500]) == [[43, 83, 90], [250, 265], [500]])
assert(grouper([15, 43, 83, 90]) == [[15, 43], [83, 90]])
"
30364,12970,How to use Post_save in Django,"def comment_handler(sender, comment, request, **kwargs):
    profile = request.user.get_profile()
    profile.points += 2
    profile.save()

from django.contrib.comments.signals import comment_was_posted
comment_was_posted.connect(comment_handler, sender=Comment)
"
19370,46261,How can I express base class method calling derived virtual?,">>> class B(object):
...     def virtual_fn(self):
...         print 'in B.virtual_fn() for', id(self)
...     def other_virtual_fn(self):
...         print 'in B.other_virtual_fn() for', id(self)
...     def call_virtual(self):
...         print 'in B.call_virtual() for', id(self)
... 
>>> class D(B):
...     def virtual_fn(self):
...         print 'in D.virtual_fn() for', id(self)
... 
>>> b_obj = B()
>>> d_obj = D()
>>> id(b_obj)
1
>>> id(d_obj)
2
>>>
>>> b_obj.virtual_fn()
in B.virtual_fn() for 1
>>> d_obj.virtual_fn()
in D.virtual_fn() for 2
>>> d_obj.other_virtual_fn()
in B.other_virtual_fn() for 2
>>>
>>> B.virtual_fn(d_obj)
in B.virtual_fn() for 2
>>>
>>> d_obj.call_virtual()
in B.call_virtual() for 2
in D.virtual_fn() for 2
>>>
"
20713,61590,trimming matplotlib power spectrum chart,"from matplotlib.pyplot import *
import numpy as np

#put some dummy data into s
s=np.vectorize(complex)(range(2048),range(2048))

power, freq=psd(s, 2048, 194171, window=np.bartlett(2048),Fc=14050000)
figure()
semilogy(freq[256:-256], power[256:-256])
show()
"
25970,6666,"Python list of Dictionaries, sort and print values by chronological order","list_of_dicts = []

dict1 = {'Source': 'Log1', 'Type': 'Connection', 'Datetime': '2014-02-13 14:10:00', 'fullpath':'N/A'}
dict2 = {'Source': 'Log2', 'Type': 'Disconnect', 'Datetime': '2014-05-13 11:00:00', 'fullpath':'N/A'}
dict3 = {'Source': 'Log4', 'Type': 'Other', 'Datetime': '2014-05-10 02:50:00', 'fullpath':'N/A'}

list_of_dicts.append(dict1)
list_of_dicts.append(dict2)
list_of_dicts.append(dict3)

d = {d['Datetime']:d for d in list_of_dicts} # dictionary comprehension

for k in sorted(d.keys()):
    print(d[k])
"
20309,38214,"combining one-column text files into one multi-column file, separated by tabs","import glob
from itertools import izip

def extract_meaningful_info(line):
    return line.rstrip('\n').split('[')[0]

MA_files = glob.glob(""MA*continuous*2"")

with open(""MA_continuous_results.csv"", ""wb"") as outfile:
    outfile.write(""\t"".join(MA_files) + '\n')
    for fields in izip(*(open(f) for f in MA_files)):
        fields = [extract_meaningful_info(f) for f in fields]
        outfile.write('\t'.join(fields) + '\n')
"
19642,17418,Solving for zeroes in interpolated data in numpy/matplotlib,"import numpy as np
import matplotlib.pyplot as plt
y, x = np.ogrid[-1.5:1.5:200j, -1.5:1.5:200j]
f = (x**2 + y**2)**4 - (x**2 - y**2)**2

plt.figure(figsize=(9,4))
plt.subplot(121)
extent = [np.min(x), np.max(x), np.min(y), np.max(y)]
cs = plt.contour(f, extent=extent, levels=[0.1], 
     colors=[""b"", ""r""], linestyles=[""solid"", ""dashed""], linewidths=[2, 2])

plt.subplot(122)
# get the points on the lines
for c in cs.collections:
    data = c.get_paths()[0].vertices
    plt.plot(data[:,0], data[:,1], 
        color=c.get_color()[0],  linewidth=c.get_linewidth()[0])

plt.show()
"
14422,41255,Is asyncio.wait order guaranteed?,"import asyncio

async def f(n):
    return n

async def main():
    (done, pending) = await asyncio.wait([f(1), f(2), f(3)], return_when=asyncio.FIRST_COMPLETED)
    print(done)     # prints set of 3 futures
    print(pending)  # prints empty set

loop = asyncio.get_event_loop()
loop.run_until_complete(main())
loop.close()
"
15978,64939,Python - Unit testing functions that are dependant on previous functions outcome (Chained functions),"def test_functions():
    assert f() 
    assert g() 
    assert h() 
"
10549,20638,Import csv into QGIS using Python,"#--- Load a csv file and set CRS
#---1 Reference library
from PyQt4.QtGui import *
from PyQt4.QtCore import *
from qgis.core import *
from qgis.utils import iface

#---  2 Turn of the CRS dialog box
s = QSettings()
oldValidation = s.value( ""/Projections/defaultBehaviour"")
s.setValue( ""/Projections/defaultBehaviour"", ""useGlobal"" )

#--- 3 Set file name here
InFlnm='Test.csv'

#--- 4  Set pathname here
InDrPth='C:/_Work/PyQGIS/Test/'

#--- 5 Build file name an path for uri
InFlPth=""file:///""+InDrPth+InFlnm

#---  6 Set import Sting here note only need to set x and y other come for free
uri = InFlPth+""?delimiter=%s&xField=%s&yField=%s"" % ("","",""x"",""y"")

#--- 7 Load point layer
bh = QgsVectorLayer(uri, InFlnm, ""delimitedtext"")

#--- 8 Confirm something is loaded and valid
bh.isValid()

#--- 9 Set CRS
bh.setCrs(QgsCoordinateReferenceSystem(32365, QgsCoordinateReferenceSystem.EpsgCrsId))

#--- 10 Display the layer into QGIS (but it asks for CRS before displaying_
QgsMapLayerRegistry.instance().addMapLayer(bh)

#--- 11 turn CRS dialog box back on again
s.setValue( ""/Projections/defaultBehaviour"", oldValidation )
"
22344,14543,Python Selenium 2 - Grabbing HTML Source with Minimal Impact,"from selenium import webdriver

browser = webdriver.Firefox()
browser.get('http://example.com')
print browser.page_source
browser.quit()
"
34607,8713,How do you add a list to jump to a line on my code?,"#! /usr/bin/env python3

""""""Cell Phone Self-Diagnoses Program

The following program is designed to help users to fix problems that they may
encounter while trying to use their cells phones. It asks questions and tries
to narrow down what the possible cause of the problem might be. After finding
the cause of the problem, a recommended action is provided as an attempt that
could possibly fix the user's device.""""""

# This is a database of questions used to diagnose cell phones.
ROOT = 0
DATABASE = {
            # The format of the database may take either of two forms:
            # LABEL: (QUESTION, GOTO IF YES, GOTO IF NO)
            # LABEL: ANSWER
            ROOT: ('Does your phone turn on? ', 1, 2),
            1: ('Does it freeze? ', 11, 12),
            2: ('Have you plugged in a charger? ', 21, 22),
            11: ('Did you drop your device in water? ', 111, 112),
            111: 'Do not charge it and take it to the nearest specialist.',
            112: 'Try a hard reset when the battery has charge.',
            12: 'I cannot help you with your phone.',
            21: 'Charge it with a different charger in a different phone '
                'socket.',
            22: ('Plug it in and leave it for 20 minutes. Has it come on? ',
                 221, 222),
            221: ('Are there any more problems? ', 222, 2212),
            222: ('Is the screen cracked? ', 2221, 2222),
            2212: 'Thank you for using my troubleshooting program!',
            2221: 'Replace in a shop.',
            2222: 'Take it to a specialist.'
            }

# These are possible answers accepted for yes/no style questions.
POSITIVE = tuple(map(str.casefold, ('yes', 'true', '1')))
NEGATIVE = tuple(map(str.casefold, ('no', 'false', '0')))


def main():
    """"""Help diagnose the problems with the user's cell phone.""""""
    verify(DATABASE, ROOT)
    welcome()
    ask_questions(DATABASE, ROOT)


def verify(database, root):
    """"""Check that the database has been formatted correctly.""""""
    db, nodes, visited = database.copy(), [root], set()
    while nodes:
        key = nodes.pop()
        if key in db:
            node = db.pop(key)
            visited.add(key)
            if isinstance(node, tuple):
                if len(node) != 3:
                    raise ValueError('tuple nodes must have three values')
                query, positive, negative = node
                if not isinstance(query, str):
                    raise TypeError('queries must be of type str')
                if len(query) < 3:
                    raise ValueError('queries must have 3 or more characters')
                if not query[0].isupper():
                    raise ValueError('queries must start with capital letters')
                if query[-2:] != '? ':
                    raise ValueError('queries must end with the ""? "" suffix')
                if not isinstance(positive, int):
                    raise TypeError('positive node names must be of type int')
                if not isinstance(negative, int):
                    raise TypeError('negative node names must be of type int')
                nodes.extend((positive, negative))
            elif isinstance(node, str):
                if len(node) < 2:
                    raise ValueError('string nodes must have 2 or more values')
                if not node[0].isupper():
                    raise ValueError('string nodes must begin with capital')
                if node[-1] not in {'.', '!'}:
                    raise ValueError('string nodes must end with ""."" or ""!""')
            else:
                raise TypeError('nodes must either be of type tuple or str')
        elif key not in visited:
            raise ValueError('node {!r} does not exist'.format(key))
    if db:
        raise ValueError('the following nodes are not reachable: ' +
                         ', '.join(map(repr, db)))


def welcome():
    """"""Greet the user of the application using the provided name.""""""
    print(""Welcome to Sam's Phone Troubleshooting program!"")
    name = input('What is your name? ')
    print('Thank you for using this program, {!s}.'.format(name))


def ask_questions(database, node):
    """"""Work through the database by asking questions and processing answers.""""""
    while True:
        item = database[node]
        if isinstance(item, str):
            print(item)
            break
        else:
            query, positive, negative = item
            node = positive if get_response(query) else negative


def get_response(query):
    """"""Ask the user yes/no style questions and return the results.""""""
    while True:
        answer = input(query).casefold()
        if answer:
            if any(option.startswith(answer) for option in POSITIVE):
                return True
            if any(option.startswith(answer) for option in NEGATIVE):
                return False
        print('Please provide a positive or negative answer.')


if __name__ == '__main__':
    main()
"
37733,57187,matplotlib: using a colormap to color table-cell background,"from matplotlib import pyplot as plt
import numpy as np
randn = np.random.randn
from pandas import *

idx = Index(arange(1,11))
df = DataFrame(randn(10, 5), index=idx, columns=['A', 'B', 'C', 'D', 'E'])
vals = np.around(df.values,2)
normal = plt.normalize(vals.min()-1, vals.max()+1)

fig = plt.figure(figsize=(15,8))
ax = fig.add_subplot(111, frameon=True, xticks=[], yticks=[])

the_table=plt.table(cellText=vals, rowLabels=df.index, colLabels=df.columns, 
                    colWidths = [0.03]*vals.shape[1], loc='center', 
                    cellColours=plt.cm.hot(normal(vals)))
"
20134,18906,Python logging: How to set time to GMT,"logging.Formatter.converter = time.gmtime
"
27023,8653,Link ForeignKey record to its detail view in Django Admin?,"from django.core.urlresolvers import reverse

class ModelBAdmin(admin.ModelAdmin):
    list_display = ('id', 'a_link', )
    list_display_links = None
    ordering = ('-id', )

    def a_link(obj):
        return format_html('<a href=""{}"">{}</a>', reverse(
            'admin:myapp_a_change', args=[obj.a.id]), obj.a.name)
    a_link.short_description = ""Model A Details""

admin.site.register(ModelB, ModelBAdmin)
"
16763,2529,Python reload with dynamic import (imp.load_source),"modhandle = imp.load_source(modname, modfile)
"
15718,47669,lxml - get attribute of child based on parent class,"return tree.xpath('//td[@class=""foo""]/a/@href')
"
36338,62299,"python menu, how to make this menu work","def pick_one():
    print '''PROPERTIES OF SOLIDS OF REVOLUTION
    Pick a solid to analyse:
    1: Ball
    2: Bowling Pin
    3: Ellipse
    4: Table Leg'''

    silhouette = None
    choice = int(raw_input('Enter the number for your choice: '))
    while choice not in [1, 2, 3, 4]:
        choice = int(raw_input('Enter the number for your choice: '))

    if choice == 1:
        silhouette = ball
    elif choice == 2:
        silhouette = bowling_pin
    elif choice == 3:
        silhouette = ellipse
    elif choice == 4:
        silhouette = table_leg

    tempinput = raw_input('Enter the minimum and maximum number of points to use (e.g. 2 1000) ').split()
    min_num, max_num = [int(n) for n in tempinput]

    return silhouette, min_num, max_num
"
496,42490,Creating class instance properties from a dictionary in Python,">>> class AllMyFields:
...     def __init__(self, dictionary):
...         for k, v in dictionary.items():
...             setattr(self, k, v)
... 
>>> o = AllMyFields({'a': 1, 'b': 2})
>>> o.a
1
"
29217,4742,Why python implementation of miller-rabin faster than ruby by a lot?,"%self     total     self     wait    child    calls   name
96.81     43.05    43.05     0.00     0.00    17651   Fixnum#** 
1.98      0.88     0.88     0.00     0.00    17584   Bignum#% 
0.22     44.43     0.10     0.00    44.33    14490   Object#miller_rabin 
0.11      0.05     0.05     0.00     0.00    32142   <Class::Range>#allocate 
0.11      0.06     0.05     0.00     0.02    17658   Kernel#rand 
0.08     44.47     0.04     0.00    44.43    32142  *Range#each 
0.04      0.02     0.02     0.00     0.00    17658   Kernel#respond_to_missing? 
0.00     44.47     0.00     0.00    44.47        1   Kernel#load 
0.00     44.47     0.00     0.00    44.47        2   Global#[No method] 
0.00      0.00     0.00     0.00     0.00        2   IO#write 
0.00      0.00     0.00     0.00     0.00        1   Kernel#puts 
0.00      0.00     0.00     0.00     0.00        1   IO#puts 
0.00      0.00     0.00     0.00     0.00        2   IO#set_encoding 
0.00      0.00     0.00     0.00     0.00        1   Fixnum#to_s 
0.00      0.00     0.00     0.00     0.00        1   Module#method_added 
"
19424,25933,Pandas DataFrame from re.findall list,"import os
import pandas as pd
import re

directory = ""/Folder/on/Drive/""

docs = os.listdir(directory)
match=[]
for filename in docs:
    if filename.lower().endswith("".pdf""):
        match.extend(re.findall(""\D{2}\d{10}"", filename))
df = pd.DataFrame(match, columns=[""Match""])
df.to_csv(directory + ""match.csv"", index=False, delimiter="","")
"
6448,26068,How to create predefined color range in Matplotlib heat map from a Pandas Dataframe,"import matplotlib.pyplot as plt
# Builtin colourmap ""seismic"" has the blue-white-red
#   scale you want
plt.pcolor(np.array(data), cmap=plt.cm.seismic, vmin=0, vmax=2)
plt.colorbar()
plt.show()
"
24763,17537,Python: Get user input by letting user edit default value,"import readline

defaultText = 'I am the default value'
readline.set_startup_hook(lambda: readline.insert_text(defaultText))
res = raw_input('Edit this:')
print res
"
11468,54176,Repeating a function throughout a dataset,"# initialize correct vectors
l1=Lat[:-1]      # all points but last
l2=Lat[1:]       # all points but first
lg1=Long[:-1]    
lg2=Long[1:]     
t1=Time[:-1]
t2=Time[1:]

speed(l1,lg1,t1,l2,lg2,t2)    # call the function which will run over your arrays
"
25938,61344,Modify Python virtualenv to not reference global Python installation,"env1)$ toggleglobalsitepackages
  Disabled global site-packages
"
14147,13113,Make distutils look for numpy header files in the correct place,"from distutils.core import setup
from distutils.extension import Extension
from Cython.Distutils import build_ext
import numpy as np                           # <---- New line

ext_modules = [Extension(""hello"", [""hello.pyx""])]

setup(
  name = 'Hello world app',
  cmdclass = {'build_ext': build_ext},
  include_dirs = [np.get_include()],         # <---- New line
  ext_modules = ext_modules
)
"
11891,48872,What's the best way to read python documentation for all installed packages?,"pydoc -p 8080
"
38361,41919,Tkinter label widget not updating when text file changes,"from Tkinter import *

# This function will be run every N milliseconds
def get_text(root,val,name):
    # try to open the file and set the value of val to its contents 
    try:
        with open(name,""r"") as f:
            val.set(f.read())
    except IOError as e:
        print e
    else:
        # schedule the function to be run again after 1000 milliseconds  
        root.after(1000,lambda:get_text(root,val,name))

root = Tk()
root.minsize(740,400)
eins = StringVar()
data1 = Label(root, textvariable=eins)
data1.config(font=('times', 37))
data1.pack()
get_text(root,eins,""test.txt"")
root.mainloop()
"
748,80589,Word Sense Disambiguation for Arabic text with NLTK,"alvas@ubi:~$ wget -O translate.sh http://pastebin.com/raw.php?i=aHgFzmMU
--2015-08-05 23:32:46--  http://pastebin.com/raw.php?i=aHgFzmMU
Resolving pastebin.com (pastebin.com)... 190.93.241.15, 190.93.240.15, 141.101.112.16, ...
Connecting to pastebin.com (pastebin.com)|190.93.241.15|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [text/plain]
Saving to: âtranslate.shâ

    [ <=>                                                                                                                            ] 212         --.-K/s   in 0s      

2015-08-05 23:32:47 (9.99 MB/s) - âtranslate.shâ saved [212]

alvas@ubi:~$ python
Python 2.7.6 (default, Jun 22 2015, 17:58:13) 
[GCC 4.8.2] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> import os
>>> import nltk
>>> from nltk.corpus import wordnet as wn
>>> text = 'ÙØ¯ÙÙ ÙÙØ¯Ø¹ Ø§ÙÙØ§Ù ÙÙ Ø§ÙØ¨ÙÙ'
>>> cmd = 'echo ""{}"" | bash translate.sh'.format(text)
>>> translation = os.popen(cmd).read()
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   193    0    40  100   153     21     83  0:00:01  0:00:01 --:--:--    83
>>> translation
'He has deposited the money in the bank. '
>>> ambiguous = u'Ø£ÙÙÙØ¯ÙØ¹Ù'
>>> wn.synsets(ambiguous, lang='arb')
[Synset('entrust.v.02'), Synset('deposit.v.02'), Synset('commit.v.03'), Synset('entrust.v.01'), Synset('consign.v.02')]
>>> nltk.wsd.lesk(translation_stems, '', synsets=wn.synsets(ambiguous,lang='arb'))
Synset('entrust.v.02')
"
20859,45253,Python logging in interactive sessions,"import atexit
import sys
import logging

log = logging.getLogger('test')
log.setLevel(logging.DEBUG)

console_handler = logging.StreamHandler()
console_handler.setFormatter(logging.Formatter(""%(message)s""))
log.addHandler(console_handler)

def shutdown_logging():
    logging.shutdown()    

atexit.register(shutdown_logging)

def main(argv=None):
    log.info('Starting something...')
    log.info('Doing something...')
    log.info('Finished something.')


if __name__=='__main__':
    sys.exit(main(sys.argv[1:]))
"
25932,56974,Using logic to check if a variable is set,"# ahead
def ahead():
    if 'theObject' not in globals():
        print ""You need an object before you can proceed.""
        opening()

    else:
        print ""You walk for a while.""
        print ""Eventually you find a door to exit the Labrynthe with a code above it""
        print ""You must translate the code using the code translator.""
        print theObject
        if theObject == ""map"":
            print ""You gotta get the code.""
            dead(""You walked too far to return. You die of exhaustion"")
        elif theObject == ""code"":
            print ""You say out aloud the magic open words 'open sesame!'""
            complete()
        else:
            print ""Grab the code from the left room.""
            opening()
"
24101,70873,Python URL and List of targets,"import httplib2
h = httplib2.Http('.cache')
s = ['one', 'two', 'three']


def getinfo(subpage):
    response, content = h.request(
        'https-www.example.com/{}/info'.format(subpage), 
        headers={'Connection': 'keep-alive'}
    )
    print(content)
    print(response)

for subpage in s:
    getinfo(subpage)
"
35191,42909,Merging two datasets in Python efficiently,"import csv
with open('activations.csv','rb') as act_data:
    rdr= csv.DictReader( act_data)
    activations = dict( (row['user'],row) for row in rdr )
with open('users.csv','rb') as user_data:
    rdr= csv.DictReader( user_data )
    with open( 'users_2.csv','wb') as updated_data:
        wtr= csv.DictWriter( updated_data, ['some','list','of','columns'])
        for user in rdr:
             user['some_field']= activations[user['user_id_column']]['some_field']
             wtr.writerow( user )
"
37994,35239,pandas distribution table grouped by all columns,"df = df.groupby(['col1','col2','col3'])['col1'].count().reset_index(name='distribution')
df['distribution'] = df['distribution'] / df['distribution'].sum()
print df
   col1  col2  col3  distribution
0     1     2     0      0.333333
1     1     3     0      0.166667
2     1     3     1      0.166667
3     1     5     0      0.166667
4     1     5     1      0.166667
"
26353,84957,"How can I get a list like this [30,31,32,33,34,35] when i give ""in between 30 and 35"" to a python function","import re
def get_values(sql):
    sql = sql.upper()
    between_regex = '(\d+)\s+AND\s+(\d+)'
    ranges = [range(int(a), int(b)) for a, b in re.findall(between_regex, sql)]

    in_regex = '\[(.*)]'
    ranges += [[int(y) for y in x.split(',')] for  x in re.findall(in_regex, sql)]
    return [x for r in ranges for x in r]

print get_values(""IN BETWEEN 30 AND 35"")
print get_values(""(in between 35 and 40) and (in [56,57,58])"")
print get_values(""(in between 30 and 35) and (IN BETWEEN 40 AND 45)"")

#[30, 31, 32, 33, 34]
#[35, 36, 37, 38, 39, 56, 57, 58]
#[30, 31, 32, 33, 34, 40, 41, 42, 43, 44]
"
3895,4018,Python Quickest Method to Iteratively Slice List of Date Strings,"import numpy as np

d = np.random.choice(xrange(0, 1000), size=100000, replace=True).tolist()
d = [str(item) for item in d]

total = len(d)
greatest = d[total-1]
for i in reversed(xrange(total)):
    greatest = max(greatest, d[i])
    if i % 1000 == 0:  # To track progress
        print i
"
16816,32734,Django migration with DateTimeField and timedelta default,"from django.db import models
from django.utils import timezone

def default_time():
    return timezone.now() + timezone.timedelta(+14)

class MyModel(models.Model):

    my_datetime = models.DateTimeField(default=default_time)
"
35706,66300,python TypeError: object does not support indexing,"def newhotspot(self, *args):
    ...
"
20316,42899,Is there a way to change the filemode for a logger object that is not configured using basicConfig?,"import sys
import logging

def create_logger():
    # create logger for ""Sample App""
    logger = logging.getLogger('automated_testing')
    logger.setLevel(logging.DEBUG)

    # create file handler which logs even debug messages
    fh = logging.FileHandler('results.log', mode='w')
    fh.setLevel(logging.DEBUG)

    # create console handler with a higher log level
    ch = logging.StreamHandler(stream=sys.stdout)
    ch.setLevel(logging.INFO)

    # create formatter and add it to the handlers
    formatter = logging.Formatter('[%(asctime)s] %(levelname)8s --- %(message)s ' +
                                  '(%(filename)s:%(lineno)s)',datefmt='%Y-%m-%d %H:%M:%S')
    fh.setFormatter(formatter)
    ch.setFormatter(formatter)

    # add the handlers to the logger
    logger.addHandler(ch)
    logger.addHandler(fh)

    return logger

logger = create_logger()


logger.log(logging.NOTSET,   ""NOTSET   Message - 0"")
logger.log(logging.DEBUG,    ""DEBUG    Message - 10"")
logger.log(logging.INFO,     ""INFO     Message - 20"")
logger.log(logging.WARNING,  ""WARNING  Message - 30"")
logger.log(logging.CRITICAL, ""CRITICAL Message - 40"")
"
4225,11093,Appending to a multi-dimensional array in Python,"philips_trousers = []

for _ in range(5):
    philips_trousers.append(list(""TROUSERS""))

print philips_trousers
"
30031,33468,Save a class into a binary file - Python,"import pickle

class MyClass:
    def __init__(self,name):
        self.name = name
    def display(self):
        print(self.name)

my = MyClass(""someone"")
pickle.dump(my, open(""myobject"", ""wb""))
me = pickle.load(open(""myobject"", ""rb""))
me.display()
"
14142,6780,How can I generate a random sample of bin counts given a sequence of bin probabilities?,"cdf = np.cumsum([0, 0.02, 0.08, 0.16, 0.29, 0.45])     # leftmost bin edge = 0
counts, edges = np.histogram(np.random.rand(100), bins=cdf)

print(counts)
# [ 4,  8, 16, 30, 42]
"
11069,35460,export data from sqlite to Excel file in multiple tabs in python,"from xlsxwriter.workbook import Workbook


workbook = Workbook('output.xlsx')
for i in range(10):
    worksheet = workbook.add_worksheet()
    worksheet.write(0, 0, ""I'm sheet number %d"" % (i + 1))

workbook.close()
"
27808,5552,Separating a string by the first occurrence of a separator,"for filename in glob.glob(*.ext):
    asset_tag = filename.split("" "")[0]
"
14755,33602,Comparing elements of deque and list,"import collections as c
a1 = ['a' , 'b','c']
q1 = c.deque(maxlen=3) 
q1.append('a')
q1.append('d')
q1.append('c')
counter = sum(1 if a == q else 0 for (a, q) in zip(a1, q1))
# or, they're basically equivalent
counter = sum(1 for (a, q) in zip(a1, q1) if a == q)
"
22691,31477,Killing the background window when running a .exe from a Python program,"startupinfo = subprocess.STARTUPINFO()
startupinfo.dwFlags |= subprocess.STARTF_USESHOWWINDOW
p = subprocess.Popen(args = ""demo.exe"", stdout=subprocess.PIPE, startupinfo=startupinfo)
"
33418,6559,Python replace up to \n in a function,"def warpbar(text, lineLength):
   n = len(text)
   return ""#""*lineLength+""\n""+""=""*(n-lineLength)
"
29572,70359,"How to read in a text file, create a dictionary, read in another text file and translate it with said dictionary and write it into a new file","def translate(dict, text1, trnsl):
    with open(""text1.txt"") as text1, open(""trnsl.txt"", ""w"") as trnsl:
        for line in text1: # parse each line
            words = line.split() # break line into words, do more stuff here if punctuation
            for word in words:
                if word in dict: # check if translatable
                    trnsl.write(dict[word]) # get translation
                else:
                    trnsl.write(word)
                trnsl.write(' ') # re-add spaces between words
            trnsl.write('\n') # re-add endlines between lines
"
5199,30418,sum over a list of tensors in tensorflow,"weights = [layers[j].weights for j in range(self.n_layers)]
losses = [tf.nn.l2_loss(w) for w in weights]
total_loss = tf.add_n(losses)
"
982,85270,Simple way to encode a string according to a password?,"def encode(key, string):
    encoded_chars = []
    for i in xrange(string):
        key_c = key[i % len(key)]
        encoded_c = chr(ord(string[i]) + ord(key_c) % 256)
        encoded_chars.append(encoded_c)
    encoded_string = """".join(encoded_chars)
    return base64.urlsafe_b64encode(encoded_string)
"
35664,31021,embed json into form when POST,"<input type=""hidden"" value="""">
"
12102,37249,Python back to previous page with remembering the elements,"first_window_handler = driver.current_window_handle
driver.find_element_by_css_selector(""body"").send_keys(Keys.CONTROL + 't')
second_window_handler = driver.window_handles[1]

# from second page
driver.switch_to.window(second_window_handler)
element_from_second = driver.find_element_by_css_selector('something')

# from first page
driver.switch_to.window(first_window_handler)
element_from_first = driver.find_element_by_css_selector('something else')
"
39580,57778,Flask in GAE: respond quickly and then do some lengthy work,"from google.appengine.ext import deferred
deferred.defer(my_func, arg0, arg1, ...)
"
26716,72012,Python deep reverse in a list,"def is_list(p):
    return isinstance(p, list)

def deep_reverse(a):
    a.reverse()
    for i in a:
        if is_list(i):
            deep_reverse(i)  # <=== This is what changed
            print a
"
30795,67401,Sorting a parsed XML file into cfg file,"import sys

try:
    from lxml import etree
except:
    import xml.etree.cElementTree as etree

doc = etree.parse('settings.xml')

settings_dict = dict([(el.attrib['id'], el) for el in doc.findall('setting')])
settings_order = ['exitonbackspace','screen2', 'refreshonload', 'hidemousepointer']

foo = open('settings.cfg', 'w')
for setting_id in settings_order:
    if setting_id in settings_dict:
        el = settings_dict[setting_id]
        foo.write(""%s=%s\n"" % (el.attrib['id'], el.attrib['value']))
foo.close()
"
32642,5408,regex to extract financial amounts from strings,"(?<![.,\d])\d+(?:([.,])\d+(?:\1\d+)*)?(?!\1)[.,]\d+(?![,.\d])
"
32260,31360,Python WinReg Path Wildcard,"key = OpenKey(HKEY_CURRENT_USER, 'Network', 0, KEY_ALL_ACCESS) # Open the root Network key.
ndrives = QueryInfoKey(key)[0] # Get the number of subkeys inside.
for i in range(ndrives): # For each subkey index...
    drive = EnumKey(key, i) # Get the subkey name.
    t = OpenKey(HKEY_CURRENR_USER, 'Network\\' + drive, 0, KEY_ALL_ACCESS) # Open the drive key.
    # Do stuff with t.
"
30444,45056,Add command line arguments with flags in Python3,"import argparse

parser = argparse.ArgumentParser()

#-db DATABASE -u USERNAME -p PASSWORD -size 20000
parser.add_argument(""-host"", ""--hostname"", dest = ""hostname"", default = ""xyz.edu"", help=""Server name"")
parser.add_argument(""-db"", ""--database"", dest = ""db"", default = ""ding_dong"", help=""Database name"")
parser.add_argument(""-u"", ""--username"",dest =""username"", help=""User name"")
parser.add_argument(""-p"", ""--password"",dest = ""password"", help=""Password"")
parser.add_argument(""-size"", ""--binsize"",dest = ""binsize"", help=""Size"", type=int)

args = parser.parse_args()

print( ""Hostname {} db {} User {} Password {} size {} "".format(
        args.hostname,
        args.db,
        args.username,
        args.password,
        args.binsize
        ))
def ConnectToDB():
    print ('Trying to connect to mySQL server')
    # Try to connect to the database
    try:
        con=sql.connect(host=args.hostname, user= args.username, passwd= args.password)
        print ('\nConnected to Database\n')

    # If we cannot connect to the database, send an error to the user and exit the program.
    except sql.Error:
        print (""Error %d: %s"" % (sql.Error.args[0],sql.Error.args[1]))
        sys.exit(1)

    return con
"
31583,65178,Generating Discrete random variables with specified weights using SciPy or NumPy,"import numpy as np
from numpy.random import random_sample

def weighted_values(values, probabilities, size):
    bins = np.add.accumulate(probabilities)
    return values[np.digitize(random_sample(size), bins)]

values = np.array([1.1, 2.2, 3.3])
probabilities = np.array([0.2, 0.5, 0.3])

print weighted_values(values, probabilities, 10)
#Sample output:
[ 2.2  2.2  1.1  2.2  2.2  3.3  3.3  2.2  3.3  3.3]
"
24253,45603,Renaming an index in a Pandas Series?,"libor.index.name = 'Date'
"
3047,45694,tkinter window is blank after executing code,"import tkinter
from tkinter import *
from tkinter import ttk
from tkinter import messagebox

class ImprintPlusApp:

    def __init__(self, master):
        self.frame_header = ttk.Frame(master)
        self.frame_header.pack()

        ttk.Label(self.frame_header, text = ""Bienvenidos a Imprint Plus Manager"")

        self.frame_crearorden = ttk.Frame(master)
        self.frame_crearorden.pack()

        ttk.Label(self.frame_crearorden, text = ""Nombre"").grid(row = 0, column = 0, padx = 5)
        ttk.Label(self.frame_crearorden, text = ""Email"").grid(row = 2, column = 0, padx = 5)
        ttk.Label(self.frame_crearorden, text = ""Numero Cel/Tel"").grid(row = 4, column = 0, padx = 5)
        ttk.Label(self.frame_crearorden, text = ""InformaciÃ³n Adicional"").grid(row = 6, column = 0, padx = 5)

        self.entry_name = ttk.Entry(self.frame_crearorden, width = 24)
        self.entry_email = ttk.Entry(self.frame_crearorden, width = 24)
        self.entry_numtc = ttk.Entry(self.frame_crearorden, width = 24)
        self.entry_addinf = Text(self.frame_crearorden, width = 50, height = 10)

        self.entry_name.grid(row = 0, column = 1, padx = 5)
        self.entry_email.grid(row = 2, column = 1, padx = 5)
        self.entry_numtc.grid(row = 4, column = 1, padx = 5)
        self.entry_addinf.grid(row = 7, column = 0, columnspan = 2, padx = 5)

        ttk.Button(self.frame_crearorden, text = ""Submit"", command = self.submit).grid(row = 8, columnspan = 1, padx = 5)
        ttk.Button(self.frame_crearorden, text = ""Clear"", command = self.clear).grid(row = 8, columnspan = 1, padx = 5)

    def submit(self):
        print (""Nombre: {}"".format(self.entry_name.get()))
        print (""Email: {}"".format(self.entry_name.get()))
        print (""Num Cel/Tel: {}"".format(self.entry_name.get()))
        print (""InformaciÃ³n Adicional: {}"".format(self.entry_name.get(1.0, ""end"")))
        self.clear()
        messagebox.showinfo(tite = ""Orden #"", message = ""Orden Guardada"")

    def clear(self):
        self.entry_name.delete(0, ""end"")
        self.entry_email.delete(0, ""end"")
        self.entry_numtc.delete(0, ""end"")
        self.entry_addinf.delete(1.0, ""end"")


def main():
    root = Tk()
    app = ImprintPlusApp(root)
    root.mainloop()

if __name__ == '__main__':
    main() 
"
550,5117,Iterative printing of a tree model,"def visit(node,indent):
    # Load your node data
    print(""{0} {1}"".format(""-"" * indent, node.columns[0])) # Do something with your data
    # Unload your node data
    if len(node.children) > 0 :
        return (node.children[0], indent+1) # Visit the first child, if there is one
    while node.next is None: # If no sibling, your parent is done
        node = node.parent
        indent -= 1
        if node is None: # Root node reached, end the traversal
            return None
    return (node.next, indent) # Visit your next sibling, if there is one

cursor = (root_node, 0)
while cursor is not None:
    cursor = visit(*cursor)
"
783,73977,How to combine arrays which are contained in a list in python,">>> import numpy as np
>>> a = np.array([1, 2])
>>> b = np.array([3, 4])
>>> np.vstack((a, b))
array([[1, 2],
       [3, 4]])
"
39687,82731,viewing files in python?,"import os
all_files = os.listdir('.') # gets all files in current directory
"
23317,15213,change ticks number on a subplot,"import matplotlib.pyplot as plt
from matplotlib import ticker

import numpy as np

N = 10

x = np.arange(N)
y = np.random.randn(N)

fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(x,y)

# Create your ticker object with M ticks
M = 3
yticks = ticker.MaxNLocator(M)

# Set the yaxis major locator using your ticker object. You can also choose the minor
# tick positions with set_minor_locator.
ax.yaxis.set_major_locator(yticks)

plt.show()
"
31843,55422,what's the pythonic way to count the occurrence of an element in a list?,"from collections import defaultdict
kvmap= defaultdict(int)
for k in a_list:
    kvmap[k] += 1
"
9292,29799,Python Sort Multidimensional Array Based on 2nd Element of Subarray,">>> sorted(lst, key=lambda x: x[1], reverse=True)
[['I', 219], ['A', 22], ['P', 14], ['V', 13], ['G', 10], ...]

>>> sorted(lst, key=lambda x: -x[1])
[['I', 219], ['A', 22], ['P', 14], ['V', 13], ['G', 10], ...]

>>> import operator
>>> sorted(lst, key=operator.itemgetter(1), reverse=True)
[['I', 219], ['A', 22], ['P', 14], ['V', 13], ['G', 10], ...]
"
12848,31531,Regular expression and Python,">>> import re
>>> strs = '$a * ($aa - $b)'
>>> re.sub(r'\$(\w+)', r'[\1]', strs)
'[a] * ([aa] - [b])'
"
2974,46184,Python read text file from second line to fifteenth,"from itertools import islice
with open('filename') as fin:
    for line in islice(fin, 1, 16):
        print line
"
8563,17452,Dynamically setting __tablename__ for sharding in SQLAlchemy?,"from sqlalchemy import MetaData, Table, Column

def get_table_object(self, md5hash):
    metadata = MetaData()
    table_name = 'table_' + md5hash
    table_object = Table(table_name, metadata,
        Column('Column1', DATE, nullable=False),
        Column('Column2', DATE, nullable=False)
    )
    clear_mappers()
    mapper(ActualTableObject, table_object)
    return ActualTableObject
"
36470,76841,pyplot/matplotlib Bar chart with fill color depending on value,"import matplotlib.pyplot as plt
from matplotlib import cm
import numpy as np

y = np.array([1, 4, 3, 2, 7, 11])
colors = cm.hsv(y / float(max(y)))
plot = plt.scatter(y, y, c = y, cmap = 'hsv')
plt.clf()
plt.colorbar(plot)
plt.bar(range(len(y)), y, color = colors)
plt.show()
"
8612,32983,Sending a Html file via python,"""""""
this is a quick and dirty script to send HTML email - emphasis on dirty :)
python emailpage.py http://www.sente.cc
made to answer: http://stackoverflow.com/questions/9226719/sending-a-html-file-via-python
Stuart Powers
""""""
import lxml.html
import smtplib
import sys
import os


page = sys.argv[1]  #the webpage to send

root = lxml.html.parse(page).getroot()
root.make_links_absolute()

content = lxml.html.tostring(root)

message = """"""From: Stuart Powers <stuart.powers@gmail.com>
To: Stuart Powers <stuart.powers@gmail.com>
MIME-Version: 1.0
Content-type: text/html
Subject: %s

%s"""""" %(page, content)


smtpserver = smtplib.SMTP(""smtp.gmail.com"",587)
smtpserver.starttls()
smtpserver.login(""stuart.powers@gmail.com"",os.environ[""GPASS""])
smtpserver.sendmail('stuart.powers@gmail.com', ['stuart.powers@gmail.com'], message)
"
19938,63279,Spark speed performance,"sc = SparkContext(appName=""Json data preprocessor"")
distData = sc.textFile(sys.argv[2]).coalesce(10)     #10 partition tasks
json_extractor = JsonExtractor(sys.argv[1])
cleanedData = distData.flatMap(json_extractor.extract_json) 
cleanedData.saveAsTextFile(sys.argv[3])
"
2138,15826,Split a string and save the substrings to dict. Python,">>> import pprint
>>> import re
>>> r = re.compile(r'(?P<scans>.*?)\s+#(?P<uid>\d+)\s+(?P<mz>\d+\.\d+)\((?P<z>\d+)\)')
>>> with open('abc1') as f:
        par_info = [r.search(line).groupdict() for line in f]
...     
>>> pprint.pprint(par_info)
[{'mz': '556.766700', 'scans': '771 776', 'uid': '1', 'z': '2'},
 {'mz': '1069.652700', 'scans': '538', 'uid': '2', 'z': '2'},
 {'mz': '1074.407600', 'scans': '531', 'uid': '3', 'z': '2'},
 {'mz': '1501.062900', 'scans': '81 84 89 94 111', 'uid': '4', 'z': '2'},
 {'mz': '782.298900', 'scans': '85 91', 'uid': '5', 'z': '3'},
 {'mz': '904.016500', 'scans': '32 42 66 71 90 95 101', 'uid': '6', 'z': '3'}]
"
8219,65917,emails as email.Message class objects in Python,"import poplib
import email

pop = poplib.POP3( ""server..."" )
[establish connection, authenticate, ...]
raw = pop.retr( 1 )
pop.close()

parser = email.parser.FeedParser()
for line in raw[1]:
    parser.feed( str( line+b'\n', 'us-ascii' ) )
message = parser.close()
"
18837,19928,matrix model in django,"class Matrix(models.Model):
    ...

class Cell(models.Model):
    matrix = models.ForeignKey(Matrix)
    row = models.IntegerField()
    col = models.IntegerField()
    val = # whatever
"
26636,42197,Selenium locate submit button,"driver.find_element_by_xpath('//div[@class=""submit-buttons""]/button[@class=""submit""]')
"
33165,66555,Access a previously returned value - Python3.2,"sel = selection()
while sel != 0:
    input()
    if sel==1:
        ...
    sel = selection()
"
13237,69404,Remove some words replace some other words from a txt file,"import re

st='''\
The ancient Romans influenced countries and civilizations in the following centuries.  
Their language, Latin, became the basis for many other European languages. They stayed in Roma for 3 month.'''

deletions=('and','in','the')
repl={""ancient"": ""old"", ""month"":""years"", ""centuries"":""years""}

tgt='|'.join(r'\b{}\b'.format(e) for e in deletions)
st=re.sub(tgt,'',st)
for word in repl:
    tgt=r'\b{}\b'.format(word)
    st=re.sub(tgt,repl[word],st)


print st
"
32476,36297,Nonlinear colormap with Matplotlib,"class nlcmap(LinearSegmentedColormap):
    """"""A nonlinear colormap""""""

    name = 'nlcmap'

    def __init__(self, cmap, levels):
        self.cmap = cmap
        self.monochrome = self.cmap.monochrome
        self.levels = asarray(levels, dtype='float64')
        self._x = self.levels-self.levels.min()
        self._x/= self._x.max()
        self._y = linspace(0, 1, len(self.levels))

    def __call__(self, xi, alpha=1.0, **kw):
        yi = interp(xi, self._x, self._y)
        return self.cmap(yi, alpha)
"
6306,64618,Trouble with while loop in python function,"while stars < 50:
   print ""That's no good, pick again""
   critic, aud, stars = getScore()
"
27211,62946,Python primefinder doesn't work the way I want it to,"primelist=[2]
for m in range (2,12):
    for k in primelist:
        if m%k == 0 :
            break
    else:
        primelist.append(m)
print (primelist)
"
19047,76093,Check tar archive before extractall,"target_dir = ""/target/"" # trailing slash is important
with tarfile.open(â¦) as tarf:
    for n in tarf.names:
        if not os.path.abspath(os.path.join(target_dir, n)).startswith(target_dir):
            print ""unsafe filenames!""
            sys.exit(1)
    tarf.extractall(path=target_dir)
"
11356,55358,Separate the fields in python,">>> logline = 'Feb 26 14:20:04 laptop kernel: [19.392640] ip_tables: (C) 2000-2006 Netfilter Core Team'
>>> logline.split(' ')[0:4]
['Feb', '26', '14:20:04', 'laptop']
"
16479,84450,Default values for Binary fields in Odoo,"if item.bin_field:
    bin_val = item.bin_field.decode('base64')
"
37449,1101,How to redirect login urls depending upon user is admin or staff in django,"def my_view(request):
    if request.user.is_superuser:
        #your logic here
        return redirect(""/admin/"")# or your url name
    if request.user.is_staff:
        #your logic here
        return redirect(""/dashboard/"")# or your url name
"
39028,23454,Remove file permissions on windows with python,"def remove_ace(path,usernames):
    """"""Remove the ace for the given users.""""""
    if not os.path.exists(path):
        raise WindowsError('Path %s could not be found.' % path)
    total = 0
    for x in usernames:
        userx, domain, utype = win32security.LookupAccountName("""", x)
        sd = win32security.GetFileSecurity(path, win32security.DACL_SECURITY_INFORMATION)
        dacl = sd.GetSecurityDescriptorDacl()
        num_delete = 0
        for index in range(0, dacl.GetAceCount()):
            ace = dacl.GetAce(index - num_delete)
            if userx == ace[2]:
                dacl.DeleteAce(index - num_delete)
                num_delete += 1
                total += 1
        if num_delete > 0:
            sd.SetSecurityDescriptorDacl(1, dacl, 0)
            win32security.SetFileSecurity(path, win32security.DACL_SECURITY_INFORMATION, sd)
    if total > 0:
        return True
"
10093,30377,Secure use of shutil.rmtree / os.path.join and Directory Traversal,"my = os.path.abspath('/my/self/defined/path')
new = os.path.abspath(path)
if len(new) < len(my) or not new.startswith(my):
   print 'bzzzt'
"
24215,75812,Hashing a python dictionary,"hash(frozenset(my_dict.items()))
"
9599,64684,How do I index from the second position to the last to the first?,"def rotate(l, i):
    return l[i:] + l[:i]

>>> u = [1, 2, 3, 4, 5]

>>> rotate(u, 1)
[2, 3, 4, 5, 1]
>>> rotate(u, 2)
[3, 4, 5, 1, 2]
"
14618,44040,Conditional command line arguments in Python using argparse,"import argparse
parser = argparse.ArgumentParser()
parser.add_argument('--action', choices=['upload', 'dump'], default='dump')
parser.add_argument('--dump-format')
args = parser.parse_args()
if args.action != 'dump' and args.dump_format:
    parser.error('--dump-format can only be set when --action=dump.')
"
36851,34328,How to retrieve the last 30 days records for a user from current date,"SELECT  * FROM  table 
WHERE time BETWEEN NOW() - INTERVAL 30 DAY AND NOW()
"
34059,13716,How do you create different variable names while in a loop? (Python),"d={}
for x in range(1,10):
        d[""string{0}"".format(x)]=""Hello""

In [7]: d[""string5""]
Out[7]: 'Hello'

In [8]: d
Out[8]: 
{'string1': 'Hello',
 'string2': 'Hello',
 'string3': 'Hello',
 'string4': 'Hello',
 'string5': 'Hello',
 'string6': 'Hello',
 'string7': 'Hello',
 'string8': 'Hello',
 'string9': 'Hello'}
"
16372,42161,getting a list of matching nodes in networkx,">>> from networkx.algorithms import isomorphism
>>> G1 = nx.path_graph(4)
>>> G2 = nx.path_graph(4)
>>> GM = isomorphism.GraphMatcher(G1,G2)
>>> GM.is_isomorphic()
True
>>> GM.mapping
{0: 0, 1: 1, 2: 2, 3: 3}
"
1253,67908,parsing out a second delimited data structure,"for number in str(row.get('PhoneNumbers')).split('|'):
  file.write(""\t\t\t\t<PHONENUM>""+number+""</PHONENUM>\n"")
"
9044,32149,Iter through defaultdict of defaultdict on Python 2.6,"for url in apache_status_dict.keys():
  for req in apache_status_dict[url]:
      print apache_status_dict[url][req]
"
25992,16787,Python - parse IPv4 addresses from string (even when censored),"def extractIPs(fileContent):
    pattern = r""((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)([ (\[]?(\.|dot)[ )\]]?(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3})""
    ips = [each[0] for each in re.findall(pattern, fileContent)]   
    for item in ips:
        location = ips.index(item)
        ip = re.sub(""[ ()\[\]]"", """", item)
        ip = re.sub(""dot"", ""."", ip)
        ips.remove(item)
        ips.insert(location, ip) 
    return ips


myFile = open('***INSERT FILE PATH HERE***')
fileContent = myFile.read()

IPs = extractIPs(fileContent)
print ""Original file content:\n{0}"".format(fileContent)
print ""--------------------------------""
print ""Parsed results:\n{0}"".format(IPs)
"
35512,36906,Open a page programatically in python,"from selenium import webdriver
from bs4 import BeautifulSoup

link = ""https://www.iaai.com/Vehicles/VehicleDetails.aspx?auctionID=14712591&itemID=15775059&RowNumber=0""
browser = webdriver.Firefox()
browser.get(link)
page = browser.page_source

soup = BeautifulSoup(page)

table = soup.find('dd', attrs = {'class': 'tip_vehicleStats'})
vin = table.contents.span.contents[0]
print vin
"
8052,3922,Python threading with Postgres: things are not being updated properly,"lowerNick = lower(player['nick'])
...
cursor.execute('SELECT yes FROM newstats WHERE nick = %s ORDER BY totalgames DESC LIMIT 1', [lowerNick] )
...
cursor.execute('UPDATE newstats SET totalgames = totalgames + 1, wins = wins + 1, medicgames = medicgames + 1, medicwins = medicwins +1 WHERE nick = %s', [lowerNick])
...
cursor.execute('UPDATE newstats SET totalgames = totalgames + 1, wins = wins + 1 WHERE nick = %s', [lowerNick])
"
24686,15901,Anaconda Python 3.5 Install PyODBC,"pip install pyodbc==3.0.10
"
37694,2146,Python: Write an entire file to another file after a specific line that meets a particular condition,"def insert_menu():
    with open(""index.html"") as index:
        index_text = index.read()
    with open(""menu.html"") as menu:
        menu_text = menu.read()
    # I called it index2 so it doesn't overwrite... you can change that
    with open(""index2.html"", ""w"") as index2:
        index2.write(index_text.replace('<!-- Insert Menu here -->', menu_text))
"
3404,32301,Python simple regex: get url name without http:// and /,">>> import urlparse
>>> url = ""http://somesite.com/""
>>> urlparse.urlparse(url).netloc
'somesite.com'
"
35863,48919,How to get text file from a relative path?,"import os
open(os.path.join(os.path.dirname(__file__), 'Directory', 'input.txt'))
"
38922,72323,Sort registers array without default methods,"for i in range(0, 10):
    v[i] = init()
    if i != 0:
        if v[i].number < v[i-1].number:
            v[i-1], v[i] = v[i], v[i-1]
"
5236,15815,Inheritance in Python Such That All Base Functions Are Called,"import types

class CallAll(type):
    """""" MetaClass that adds methods to call all superclass implementations """"""
    def __new__(meta, clsname, bases, attrs):
        ## collect a list of functions defined on superclasses
        funcs = {}
        for base in bases:
            for name, val in vars(base).iteritems():
                if type(val) is types.FunctionType:
                    if name in funcs:
                        funcs[name].append( val )
                    else:
                        funcs[name] = [val]

        ## now we have all methods, so decorate each of them
        for name in funcs:
            def caller(self, *args,**kwargs):
                """""" calls all baseclass implementations """"""
                for func in funcs[name]:
                    func(self, *args,**kwargs)
            attrs[name] = caller

        return type.__new__(meta, clsname, bases, attrs)

class B:
    def fn(self):
        print 'B'

class A:
    def fn(self):
        print 'A'

class C(A,B, object):
    __metaclass__=CallAll

c=C()
c.fn()
"
31909,82268,Is it possible to use the same method for both get and post with webapp2?,"class MyHandler(webapp2.RequestHandler): 

    def function_to_handle_requests(self):
        # code goes here

    def get(self): 
        self.function_to_handle_requests

    def post(self):
        self.function_to_handle_requests
"
39301,54755,Quick way to access first element in Numpy array with arbitrary number of dimensions?,"a.flat[0]
"
9829,35326,"Gensim: How to save LDA model's produced topics to a readable format (csv,txt,etc)?","logfile = open('.../yourfile.txt', 'a')
print>>logfile, lda.show_topics(topics=-1, topn=10)
"
34109,13928,html - invalid value of multi input radio button,"<div id=""is_partial_time"" class=""form-group"">
    <label class=""col-md-3 col-sm-4 control-label"" for=""is_partial_time"">Would you accept a partial time?</label>
       <div class=""col-md-7 col-sm-8"">
          <div id=""group_is_partial_time"" class=""btn-group"" data-toggle=""buttons"">
              <label class=""btn btn-info"">
                  <input type=""radio"" name=""is_partial_time"" value=""true""/>Yes
              </label>
              <label class=""btn btn-info active"">
                   <input type=""radio"" name=""is_partial_time"" value=""false"" checked=""checked""/>No
              </label>
          </div>
      </div>
</div>

<div id=""is_replacement_contract"" class=""form-group"">
   <label class=""col-md-3 col-sm-4 control-label"" for=""is_replacement_contract"">Would you accept a CDD or a replacement contract</label>
       <div class=""col-md-7 col-sm-8"">
           <div id=""group_is_replacement_contract"" class=""btn-group"" data-toggle=""buttons"">
               <label class=""btn btn-info"">
                   <input type=""radio"" name=""is_replacement_contract"" value=""true""/>Yes
               </label>
               <label class=""btn btn-info active"">
                   <input type=""radio"" name=""is_replacement_contract"" value=""false"" checked=""checked""/>No
               </label>
          </div>
       </div>
 </div>
"
36436,41270,How to think about Django's normal class based views vs. using a REST API,"class UserSerializer(serializers.ModelSerializer):
    """"""serializes a user""""""
    class Meta:
        model = User
        fields = ('id', 'first_name', 'last_name',)


class SheetSerializer(serializers.ModelSerializer):
    """"""serializes a sheet, and nests user relationship""""""
    user = UserSerializer(read_only=True)

    class Meta:
        model = Sheet
        fields = ('id', 'sheet_name', 'user',)
"
26280,41140,Changing palette's of 8-bit .png images using python PIL,"import struct
from zlib import crc32
import os

# PNG file format signature
pngsig = '\x89PNG\r\n\x1a\n'

def swap_palette(filename):
    # open in read+write mode
    with open(filename, 'r+b') as f:
        f.seek(0)
        # verify that we have a PNG file
        if f.read(len(pngsig)) != pngsig:
            raise RuntimeError('not a png file!')

        while True:
            chunkstr = f.read(8)
            if len(chunkstr) != 8:
                # end of file
                break

            # decode the chunk header
            length, chtype = struct.unpack('>L4s', chunkstr)
            # we only care about palette chunks
            if chtype == 'PLTE':
                curpos = f.tell()
                paldata = f.read(length)
                # change the 3rd palette entry to cyan
                paldata = paldata[:6] + '\x00\xff\xde' + paldata[9:]

                # go back and write the modified palette in-place
                f.seek(curpos)
                f.write(paldata)
                f.write(struct.pack('>L', crc32(chtype+paldata)&0xffffffff))
            else:
                # skip over non-palette chunks
                f.seek(length+4, os.SEEK_CUR)

if __name__ == '__main__':
    import shutil
    shutil.copyfile('redghost.png', 'blueghost.png')
    swap_palette('blueghost.png')
"
37293,64403,How to add dictionary items to jsonarray while in loop?,"res =  r.table(""usa_nyc_bronx_merchants"").insert({
            ""street_address"": streetName.lower(),
            ""city"": cityName.lower(),
            ""state"": stateName.lower(),
            ""zipcode"": zipcodeNumber.lower(),
            ""county"": countyName.lower(),
            ""fbIds"": fbIds
      .....
"
37220,60083,encoding in sqlite manger(firefox plugin) and sqlites,"import sqlite3
conn = sqlite3.connect(':memory:')
c = conn.cursor()
c.execute('create table test(name text)')
c.execute('insert into test values (?)', ('æµè¯',))
c.execute('insert into test values (?)', ('æµè¯'.encode(),))

>>> c.execute('select * from test').fetchall()
[('æµè¯',), (b'\xe6\xb5\x8b\xe8\xaf\x95',)]
"
8203,24299,Plot multidimensional data,"import scipy, pylab
names = ['Alice', 'Bob', 'Carol', 'David']
interests = [['Football', 'Swimming'], ['Swimming', 'Jooga', 'Jogging'], 
             ['Cycling', 'Football'], ['Football', 'Tennis', 'Cycling']]
allinterests = list(set(reduce(lambda x,y:x+y, interests)))
X = scipy.zeros((len(interests), len(allinterests)))
for i, indinterests in enumerate(interests):
    for x in indinterests:
        X[i, allinterests.index(x)] = 1
pylab.matshow(X, interpolation='nearest', cmap=pylab.cm.gray_r)
pylab.show()
pylab.yticks(range(len(names)), names)
pylab.ylim([len(names)-0.5, -0.5])
pylab.xticks(range(len(allinterests)), allinterests)
pylab.savefig('interests.png')
"
28950,16823,Parsing text event file in Python,"import csv

with open('sampleIVTtxt.csv', 'w') as csvfile:
    fieldnames = ['USER', 'TIME','CLICKS','COMMAND_A','COMMAND_B','COMMAND_C']
    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)

    writer.writeheader()

with open('sampleIVTtxt.txt', 'r') as input_data:
for line in input_data:
    thisLine=line.strip()
    if thisLine == 'START':
       myDict={}
    elif ""USER"" in thisLine:
       myDict['USER'] = thisLine[6:]
     ....and so on....
    elif thisLine == 'END':
      writer.writerow(myDict)
"
12443,49662,3D Surface Plots Using Mayavi.mlab,"import numpy as np
x = np.array(x).reshape((12, 18))
y = np.array(y).reshape((12, 18))
z = np.array(z).reshape((12, 18))
mlab.surf(x, y, z, ...)
"
10820,57245,Python remove entry from pickle saved data,"import pickle
from os import path

user_to_delete = 'user2'

# Open the database if it exists, otherwise create one...
if path.isfile('database.db'):
    with open('database.db','rb') as f:
        db = pickle.load(f)
else: # Create some database.db with users&passwords to test this program..
    db = {'user1':'password1', 'user2':'password2', 'user3':'password3'}
    with open('database.db', 'wb') as f:
        pickle.dump(db, f)

# try to delete the given user, handle if the user doesn't exist.
try:
    del db[user_to_delete]
except KeyError:
    print(""{user} doesn't exist in db"".format(user=user_to_delete))

# write the 'new' db to the file.
with open('database.db', 'wb') as f:
    pickle.dump(db, f)
"
5017,59660,apply pandas qcut function to subgroups,"In [36]: df.groupby(['label',factor]).value.count()
Out[36]: 
label  value             
0      [-0.248, -0.0864]     14
       (-0.0864, -0.0227]    15
       (-0.0227, 0.0208]     15
       (0.0208, 0.0718]      17
       (0.0718, 0.24]        13
1      [-0.248, -0.0864]      6
       (-0.0864, -0.0227]     5
       (-0.0227, 0.0208]      5
       (0.0208, 0.0718]       3
       (0.0718, 0.24]         7
Name: value, dtype: int64
"
35776,29193,Rewrite an interval union algorithm functionally,"def unite_intervals(intervals):
    def f(acc, element):
        if acc and intersects(acc[-1], element):
            return acc[:-1] + [extend(acc[-1], element)]
        else:
            return acc + [element]
    return reduce(f, intervals, [])
"
31041,68028,How to navigate to different class views in django based on user type?,"class HomePageDispatchView(View):
    def dispatch(self, request, *args, **kwargs):
        if request.user.type == PREMIUM:
            return PremiumHomePage.as_view()(request, *args, **kwargs)
        else:
            return RegularHomePage.as_view()(request, *args, **kwargs)
"
898,80381,Bypass django form validation on new form instance,"form = NewForm(initial=dict_of_field_values)
"
26227,55273,How to use Django list as a javascript variable in Django template?,"var data = google.visualization.arrayToDataTable({{ list_a|json|safe }})
"
10591,12730,Write TIFF file in python from String,"# 
# use ""tiffcp"" to write compressed TIFF files.
#
# fredrik lundh (may 13, 1997)
#

import os, tempfile

# install standard driver
import Image, TiffImagePlugin 

LZW      = ""lzw""
ZIP      = ""zip""
JPEG     = ""jpeg""
PACKBITS = ""packbits""
G3       = ""g3""
G4       = ""g4""

def _save(im, fp, filename):

    # check compression mode
    try:
    compression = im.encoderinfo[""compression""]
    except KeyError:
    # use standard driver
    TiffImagePlugin._save(im, fp, filename)
    else:
    # compress via temporary file
    if compression not in (LZW, ZIP, JPEG, PACKBITS, G3, G4):
        raise IOError, ""unknown compression mode""
    file = tempfile.mktemp()
    im.save(file, ""TIFF"")
    os.system(""tiffcp -c %s %s %s"" % (compression, file, filename))
    try: os.unlink(file)
    except: pass

Image.register_save(TiffImagePlugin.TiffImageFile.format, _save)

if __name__ == ""__main__"":
    # test
    im = Image.open(""/usr/iv/tip/images/lenna.ppm"")
    im = im.point(lambda v: v >= 128 and 255, ""1"")
    im.save(""lenna.tif"", compression=G4)
"
20261,72128,calling init for multiple parent classes with super?,"class Parent1(object):
    def __init__(self):
        super(Parent1, self).__init__()
        self.var1 = 1

class Parent2(object):
    def __init__(self):
        super(Parent2, self).__init__()
        self.var2 = 2

class Child(Parent1, Parent2):
    def __init__(self):
        super(Child, self).__init__()
"
297,19773,Changing out one or more pieces of a url in Python 3,"url=""""         #URL to use
replace=""""  #string to replace original with
if ""resize="" in url:
    for i in range(len(url)):
        try:
            int(url[-1:])
        except Exception:
            break
        else:
            url=url[:-1]
    url+=str(replace)
elif [e for e in range(len(url)) if url[e:][:(e+10)].replace(""/"","""").isalpha()==False]:
    for e in range(len(url)):
        if url[:(e+10)][e:].replace(""/"","""").isdigit()==True:
            if url[e:][:1]!=""/"":
                url=url[:e]+replace+url[(e+10):]
                url=url.replace(""newfolder"",""oldfolder"")
                break
else:
    url1=url.split(""/"")
    url1[len(url1)-2]=replace
    url=""""
    for i in url1:
        url+=i+""/""
print(url)
"
16641,55427,combine selected lines/rows within a csv file,">>> with open('1.csv') as file:
...     reader = csv.reader(file)
...     col1s = []; col2s = []
...     for row in reader:
...             if ""$GPGGA"" in row:
...                     col1s.append((row[0], row[1], row[2], row[5]))
...             elif ""$GPVTG"" in row:
...                     col2s.append((row[0], row[1], row[2]))
...     for each in zip(col1s, col2s):
...             print each[0] + each[1]
... 
('~11:16:04.831', '$GPGGA', '091606.00', '01140.54074205', '~11:16:04.861', '$GPVTG', '40.8')
('~11:16:05.833', '$GPGGA', '091607.00', '01140.54074319', '~11:16:05.863', '$GPVTG', '40.8')
>>> 
"
18422,58356,How can I create a simple python brute force function?,"gen = itertools.combinations_with_replacement(characters,password_length) #1
for password in gen:                                                      #2 
    check_password(password)                                              #3
"
7473,67597,How to get full link text with Scrapy,"
>>> html = """"""<li>
... <a href=""NEW-IMAGE?type=GENE&amp;object=EG10567"">
... <b>
... man
... </b>
... X -
... <i>
... Escherichia coli
... </i>
... </a>
... <br>
... </li>""""""
>>> import scrapy
>>> selector = scrapy.Selector(text=html)

>>>
>>> links = selector.xpath('//li/a[contains(@href,""NEW-IMAGE"")]')
>>> for link in links:
...     item = {}
...     item['Name'] = link.xpath('normalize-space(.)').extract_first()
...     item['Link'] = link.xpath('@href').extract_first()
...     print(item)
... 
{'Link': u'NEW-IMAGE?type=GENE&object=EG10567', 'Name': u'man X - Escherichia coli'}
>>> 
"
35819,39817,Correct way of doing a Feature Union of TFidf and custom class returning a numeric list,"class OtherFeatures(BaseEstimator, TransformerMixin):       
    def __init__(self,model):
        self.model = model

    def other_features(self,input):
        ret = []
        for i in input:
           ret.append( Do Something )
        return ret

    def fit(self, X_input=None, y=None):
        self.other_features_list = self.other_features(X_input)
        self.model.fit(self.other_features_list,y)
        return self

    def transform(self, X_input=None):
        X_output = self.otherFeatures(X_input)
        X_output = self.model.transform(X_output)
        return X_output


km=KMeans(n_clusters=5, n_init=5,init='k-means++') 
km_inside=KMeans(n_clusters=5, n_init=5,init='k-means++') 
feature_union = FeatureUnion([('TfIdf', TfidfVectorizer(min_df=1, max_df=0.9, ngram_range=(1, 4), strip_accents='unicode', norm='l2')),('OtherFeatures', OtherFeatures(km_inside))])

feature_pipeline = Pipeline([('feature_union', feature_union),(""km"",km)]) 

km=feature_pipeline.fit(X1) 
"
6441,32981,Find all values such that .. from a density plot in Python,"import numpy as np

x = np.linspace(0,25,101) #x: 101 values between 0 and 25
y = x**2/20 

x[y>30]  #filter output: [ 24.5 ,  24.75,  25.  ]  
y[y>30]  #filter output: [ 30.0125  ,  30.628125,  31.25    ]
"
33182,29413,Check every condition in Python if else even if one evaluates to true,"In [40]: foo = 3

In [41]: if foo == 3:
   ....:     print (foo)
   ....: if foo != 4:    
   ....:     print (""checked too"")
   ....:     
3
checked too
"
12053,17702,python compare tuples and dictionary,"import re

mysql_orders = ((50434L, 5901L), (50733L, 5901L))

opera_orders = [{'orderId': 'WEB050434', 'accountId': '00T001'}, {'orderId': 'WEB050733', 'accountId': '00T001'}, {'orderId': 'DOC075185', 'accountId': '00T001'}, {'orderId': 'WEB081859', 'accountId': '00T001'}]

mysql_orders = [element for tupl in mysql_orders for element in tupl]

missing_order_ids = [opera_order['orderId'] for opera_order in opera_orders if long(re.split('\D+', opera_order['orderId'])[1]) not in mysql_orders]

print missing_order_ids
"
37400,62961,Python - if directory contains file beginning with...move file,"from stat import *
import os
import time
import shutil
import sys

for file in os.listdir(sys.argv[1]):
  ct = time.localtime()
  datestamp_on_filename = file.split('_')[1].split('.')[0]
  current_date_in_ddmmyy = str(ct.tm_mday) + (('0' + str(ct.tm_mon)) if ct.tm_mon < 10 else str(ct.tm_mon)) + str(ct.tm_year)[2:]
  if datestamp_on_filename != current_date_in_ddmmyy:
    print 'moving ' + file
    shutil.move(sys.argv[1] + ""/"" + file, 'archived')
"
34364,29314,python string aligning format,"a = ['adam', 'home', 'wednesday', '17th']
b = ['Tiffany', 'office', 'monday', '9th']

for x in [a, b]:
    working_line = ' '.join(map(lambda s: s.ljust(10, ' '), x))
    print working_line
"
28726,24733,How to convert CvMat to Numpy array?,">>> import cv, numpy                       # Comments added by me
>>> mat = cv.CreateMat(3, 5, cv.CV_32FC1)  # make a 3x5 mat
>>> cv.Set(mat, 7)                         # set the cells to 7
>>> a = numpy.asarray(mat)                 # convert it to a numpy array
>>> print a
[[ 7.  7.  7.  7.  7.]
 [ 7.  7.  7.  7.  7.]
 [ 7.  7.  7.  7.  7.]]
"
21646,82321,"Python code works outside function, but doesn't work inside function","def datesearch(date) 
    global restaurant  
    orders = restaurant[(restaurant.index == date)]
    return orders
"
24910,73445,converting a latex code to mathml or svg code in python,"import urllib
import urllib2

def latex2svg(latexcode):
    """"""
    Turn LaTeX string to an SVG formatted string using the online SVGKit
    found at: http://svgkit.sourceforge.net/tests/latex_tests.html
    """"""
    txdata = urllib.urlencode({""latex"": latexcode})
    url = ""http://svgkit.sourceforge.net/cgi-bin/latex2svg.py""
    req = urllib2.Request(url, txdata)
    return urllib2.urlopen(req).read()

print latex2svg(""2+2=4"")
print latex2svg(""\\frac{1}{2\\pi}"")
"
20396,33096,Iterate over files in multiple directories or an entire hard drive in python,"# abspath to a folder as a string
folder = '/home/myname/a_folder/'
# in windows:
# folder = r'C:\a_folder\'
# or folder = 'C:/a_folder/'

count = 0
lines = 0
for dirname, dirs, files in os.walk(folder):
    for filename in files:
        filename_without_extension, extension = os.path.splitext(filename)
        if extension == '.py':
            count +=1
            with open(os.path.join(dirname, filename), 'r') as f:
                for l in f:
                    lines += 1
print count, lines
"
865,55546,Remove duplicate matplotlib contour labels when contour goes partially outside visible area,"import pylab as pl
import numpy as np

x, y = np.mgrid[-2:1:100j, -1:1:100j]
z = np.sqrt(x*x+y*y)

cs = pl.contour(x, y, z, linewidths=2)

def path_length(path):
    v = path.vertices
    dv = np.diff(v, axis=0)
    return np.sum(np.sqrt(np.sum(dv**2, axis=-1)))

# remain the longest path and remove all others
deleted_path = []
for c in cs.collections:
    paths = c.get_paths()
    if len(paths) > 1:
        paths.sort(key=path_length, reverse=True)
        for p in paths[1:]:
            deleted_path.append((c, p))
        del paths[1:]

# create labels
r = pl.clabel(cs, cs.levels, inline=True, fontsize=10)

# restore all removed paths
for c, p in deleted_path:
    c.get_paths().append(p)

pl.show()
"
21501,43382,Subtracting Dates With Python,"from datetime import datetime

birthday = datetime(1988, 2, 19, 12, 0, 0)
diff = datetime.now() - birthday
print diff
# 8954 days, 7:03:45.765329
"
4959,77382,How to enable Pan and Zoom in a QGraphicsView,"from PyQt4 import QtCore, QtGui

class PhotoViewer(QtGui.QGraphicsView):
    def __init__(self, parent):
        super(PhotoViewer, self).__init__(parent)
        self._zoom = 0
        self._scene = QtGui.QGraphicsScene(self)
        self._photo = QtGui.QGraphicsPixmapItem()
        self._scene.addItem(self._photo)
        self.setScene(self._scene)
        self.setTransformationAnchor(QtGui.QGraphicsView.AnchorUnderMouse)
        self.setResizeAnchor(QtGui.QGraphicsView.AnchorUnderMouse)
        self.setVerticalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOff)
        self.setHorizontalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOff)
        self.setBackgroundBrush(QtGui.QBrush(QtGui.QColor(30, 30, 30)))
        self.setFrameShape(QtGui.QFrame.NoFrame)

    def fitInView(self):
        rect = QtCore.QRectF(self._photo.pixmap().rect())
        if not rect.isNull():
            unity = self.transform().mapRect(QtCore.QRectF(0, 0, 1, 1))
            self.scale(1 / unity.width(), 1 / unity.height())
            viewrect = self.viewport().rect()
            scenerect = self.transform().mapRect(rect)
            factor = min(viewrect.width() / scenerect.width(),
                         viewrect.height() / scenerect.height())
            self.scale(factor, factor)
            self.centerOn(rect.center())
            self._zoom = 0

    def setPhoto(self, pixmap=None):
        self._zoom = 0
        if pixmap and not pixmap.isNull():
            self.setDragMode(QtGui.QGraphicsView.ScrollHandDrag)
            self._photo.setPixmap(pixmap)
            self.fitInView()
        else:
            self.setDragMode(QtGui.QGraphicsView.NoDrag)
            self._photo.setPixmap(QtGui.QPixmap())

    def zoomFactor(self):
        return self._zoom

    def wheelEvent(self, event):
        if not self._photo.pixmap().isNull():
            if event.delta() > 0:
                factor = 1.25
                self._zoom += 1
            else:
                factor = 0.8
                self._zoom -= 1
            if self._zoom > 0:
                self.scale(factor, factor)
            elif self._zoom == 0:
                self.fitInView()
            else:
                self._zoom = 0

class Window(QtGui.QWidget):
    def __init__(self):
        super(Window, self).__init__()
        self.viewer = PhotoViewer(self)
        self.edit = QtGui.QLineEdit(self)
        self.edit.setReadOnly(True)
        self.button = QtGui.QToolButton(self)
        self.button.setText('...')
        self.button.clicked.connect(self.handleOpen)
        layout = QtGui.QGridLayout(self)
        layout.addWidget(self.viewer, 0, 0, 1, 2)
        layout.addWidget(self.edit, 1, 0, 1, 1)
        layout.addWidget(self.button, 1, 1, 1, 1)

    def handleOpen(self):
        path = QtGui.QFileDialog.getOpenFileName(
            self, 'Choose Image', self.edit.text())
        if path:
            self.edit.setText(path)
            self.viewer.setPhoto(QtGui.QPixmap(path))

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.setGeometry(500, 300, 800, 600)
    window.show()
    sys.exit(app.exec_())
"
28045,5328,How to make an interactive 2D grid in a window in python?,"from tkinter import *

class Cell():
    FILLED_COLOR_BG = ""green""
    EMPTY_COLOR_BG = ""white""
    FILLED_COLOR_BORDER = ""green""
    EMPTY_COLOR_BORDER = ""black""

    def __init__(self, master, x, y, size):
        """""" Constructor of the object called by Cell(...) """"""
        self.master = master
        self.abs = x
        self.ord = y
        self.size= size
        self.fill= False

    def _switch(self):
        """""" Switch if the cell is filled or not. """"""
        self.fill= not self.fill

    def draw(self):
        """""" order to the cell to draw its representation on the canvas """"""
        if self.master != None :
            fill = Cell.FILLED_COLOR_BG
            outline = Cell.FILLED_COLOR_BORDER

            if not self.fill:
                fill = Cell.EMPTY_COLOR_BG
                outline = Cell.EMPTY_COLOR_BORDER

            xmin = self.abs * self.size
            xmax = xmin + self.size
            ymin = self.ord * self.size
            ymax = ymin + self.size

            self.master.create_rectangle(xmin, ymin, xmax, ymax, fill = fill, outline = outline)

class CellGrid(Canvas):
    def __init__(self,master, rowNumber, columnNumber, cellSize, *args, **kwargs):
        Canvas.__init__(self, master, width = cellSize * columnNumber , height = cellSize * rowNumber, *args, **kwargs)

        self.cellSize = cellSize

        self.grid = []
        for row in range(rowNumber):

            line = []
            for column in range(columnNumber):
                line.append(Cell(self, column, row, cellSize))

            self.grid.append(line)

        #memorize the cells that have been modified to avoid many switching of state during mouse motion.
        self.switched = []

        #bind click action
        self.bind(""<Button-1>"", self.handleMouseClick)  
        #bind moving while clicking
        self.bind(""<B1-Motion>"", self.handleMouseMotion)
        #bind release button action - clear the memory of midified cells.
        self.bind(""<ButtonRelease-1>"", lambda event: self.switched.clear())

        self.draw()



    def draw(self):
        for row in self.grid:
            for cell in row:
                cell.draw()

    def _eventCoords(self, event):
        row = int(event.y / self.cellSize)
        column = int(event.x / self.cellSize)
        return row, column

    def handleMouseClick(self, event):
        row, column = self._eventCoords(event)
        cell = self.grid[row][column]
        cell._switch()
        cell.draw()
        #add the cell to the list of cell switched during the click
        self.switched.append(cell)

    def handleMouseMotion(self, event):
        row, column = self._eventCoords(event)
        cell = self.grid[row][column]

        if cell not in self.switched:
            cell._switch()
            cell.draw()
            self.switched.append(cell)


if __name__ == ""__main__"" :
    app = Tk()

    grid = CellGrid(app, 50, 50, 10)
    grid.pack()

    app.mainloop()
"
4208,34997,Avoid duplicate file names in a folder in Python,"path = 'c:/DL/Others/%s%s' % (filename, file_ext)
uniq = 1
while os.path.exists(path):
  path = 'c:/DL/Others/%s_%d%s' % (filename, uniq, file_ext)
  uniq += 1
"
18813,73350,"Python MediaWiki table regex (find strings of a particular format, then extract substrings within)","import re
text=""""""{{rdex|001|001|Bulbasaur|2|Grass|Poison}}""""""
re.findall(""\{\{[^|]+\|(\d+)\|\d+\|([^|]+)"",text)
[('001', 'Bulbasaur')]
"
13463,28153,how to load python script in interactive shell,"$ python --help
usage: /usr/bin/python2.7 [option] ... [-c cmd | -m mod | file | -] [arg] ...
Options and arguments (and corresponding environment variables):
-B     : don't write .py[co] files on import; also PYTHONDONTWRITEBYTECODE=x
-c cmd : program passed in as string (terminates option list)
-d     : debug output from parser; also PYTHONDEBUG=x
-E     : ignore PYTHON* environment variables (such as PYTHONPATH)
-h     : print this help message and exit (also --help)
-i     : inspect interactively after running script; forces a prompt even
         if stdin does not appear to be a terminal; also PYTHONINSPECT=x
"
9961,43568,how to make loop within loop go back to first loop," for y in range(0,5):      
 print '\n'
 for x in tableau:
      if y < len(x):
       print x[y],
      else :
          print '   '
          break 
"
23522,69935,How do I order by date when using ReferenceProperty?,"import operator
sorted_comments = sorted(this_users_comments, key=operator.attrgetter(""date""))
# The comments will probably be sorted with earlier comments at the front of the list
# If you want ten most recent, also add the following line:
# sorted_comments.reverse()
ten_comments = sorted_comments[:10]
"
39480,13168,Python: appengine urllib2 headers from a 302,"Google App Engine/1.4.2
Python 2.5.2 (r252:60911, May 12 2010, 14:18:27) 
[GCC 4.3.1]

>>> from google.appengine.api import urlfetch
>>> result = urlfetch.fetch('http://bit.ly/4ovTZw') 
>>> print result.headers['content-type']
audio/mpeg
"
31628,55445,How can I find 3d distance between lat/lon/alt points?,"a**2+b**2 = c**2
latlon_dist**2+height_dist**2 = distance**2
distance = sqrt(latlon_dist**2+height_dist**2)
"
11101,7615,Using PySide in a buildout environment,"[buildout]
parts = pyside-interpreter
        pyside-postinstall

[pyside-interpreter] 
recipe = zc.recipe.egg 
interpreter = pyside-python
eggs = PySide

[pyside-postinstall] 
recipe = plone.recipe.command
command = ${buildout:directory}/bin/pyside_postinstall.py -install
"
5512,17198,python processs complete list files matched,"for path, subdirs, files in os.walk(path):
    for name in files:
        if os.path.splitext(name)[1] in filefilter:
            f = str(os.path.join(path, name))
            with open(f) as fp:
                if s in fp.read():
                    print ""%s has the string"" % f
                else:
                    print ""%s doesn't have the string"" % f
"
8855,34163,how to save a certain file name but change the file type in matplotlib.savefig,"import os
img_filename = os.path.splitext('data1.txt')[0] + '.jpg'
"
30291,6210,Most elegant way to find node's predecessors with networkX," In [1]: import networkx as nx
 In [2]: G = nx.DiGraph() # a directed graph
 In [3]: G.add_edge('a', 'b')
 In [4]: G.predecessors('b')
 Out[4]: ['a']
 In [5]: G.pred['b']
 Out[5]: {'a': {}}
"
31780,7219,Shade Every Other Row,"xlsW = pd.ExcelWriter(finalReportFileName)
rptMatchingDoe.to_excel(xlsW,'Room Counts Not Matching',index=False)
workbook = xlsW.book
rptMatchingSheet = xlsW.sheets['Room Counts Not Matching']
formatShadeRows = workbook.add_format({'bg_color': '#a9c9ff',
                                       'font_color': 'black'})
rptMatchingSheet.conditional_format('A1:'+xlsAlpha[rptMatchingDoeColCount]+matchingCount,{'type': 'formula', 
                                                                                          'criteria': '=MOD(ROW(),2) = 0', 
                                                                                          'format': formatShadeRows})
xlsW.save()
"
28725,84992,How to break out a function without return or break in Python,"def dfs(G,a,b,u):
    global i
    G.node[u]['visited'] = 'yes'
    i += 1
    G.node[u]['label'] = i
    print(u)
    print(""i"", i)
    for v in G.neighbors(u):
        if v == b:
            G.node[v]['visited'] = 'yes'
            i += 1
            G.node[v]['label'] = i
            print(""b is "", v)
            print(""distance from a to b is "", G.node[v]['label'])
            return True
        elif v != b:
            if G.node[v]['visited'] == 'no':
                found = dfs(G,a,b,v)
                if found:
                    return True
    return False
"
37150,78513,Checking a character is fullwidth or halfwidth in Python,"import unicodedata

for char in string:
    status = unicodedata.east_asian_width(char)
    if status == 'F':
         print('{0} is full-width.'.format(char))
    elif status == 'H':
        print('{0} is half-width.'.format(char))
"
26620,9272,Is it possible to use readline instead of libedit in Python's raw_input under OS X?,"$ sudo easy_install readline
"
17844,23557,Using a dictionary to replace characters in a list of strings,"puzzle = ['#+/084&""', '#3w#%#+', '8%203*','']
clues = {'A': '#', 'N': '%', 'M': '*'}
answer = []
for p in puzzle:
    for dest,src in clues.items():
        p = p.replace(src,dest)
    answer.append(d)
"
3085,60771,List of lists based on numbers in another list,"b = [range(x) for x in a]
"
5686,29594,Run Length Encoding an Image,"    for pixel in imagePixels:
    if count >= 15:
        encodedImage.append(15)
        encodedImage.append(prev) #changed line
        tempmap += ""1""
        tempmap += ""0""
        count = 0
        prev = pixel #new line
"
1195,29158,valdiating an array of regex string on a string,"isgood = all(re.search(regex, s) for regex in regexPatterns)
"
34108,71347,How to change HTML form with 2 selections to Javascript?,"<head>
<script type='text/javascript'>
function doSubmit(){
    document.forms[""form1""].submit();
}
</script>
</head>


<form id='form1' method = 'POST' action = '/python/stats/'>
<select name = 'team' onchange='doSubmit();'>
<option value = 'team1'> team1 </option>
<option value = 'team2'> team2 </option>
<option value = 'team3'> team3 </option>
</select>
<select name = 'player' onchange='doSubmit();'>
<option value = 'player1'> player1 </option>
<option value = 'player2'> player2 </option>
<option value = 'player3'> player3 </option>
</select>
<input type = 'submit' value = ""Update"">
</form>
"
18302,8094,Extracting Multiple floating points from string in python 2.7,"# Save the string (e.g. '12.5,67.4,78.5')
number_string = raw_input(""Enter any positive floats: "")

# Initialize a variable to hold the sum of the numbers
tot = 0

# Iterate over all numbers in the string. The string is splitted 
# at each comma, thus resulting in a list like `['12.5', '67.4', '78.5']`
for num in number_string.split(','):
    # But every element in the list is a string, so you need to 
    # convert them to floats, and add each of them to the total sum
    tot += float(num)

# Print the total sum
print tot
"
1891,71275,While loop for the script below,"from random import randint
x = randint(1,100)
print(x) #This is just here for testing
name = str(input(""Hello there, my name's Jarvis. What's your name?""))
print(""Hello there "",name,"" good to see you!"")
attempt = 1
not_found = True
while not_found:
    num = int(input(""I'm thinking of a number between 1 and 100. can you guess which one it is?""))
    if num == x:
        print(""Good job! it took you "",attempt,"" tries!"")
        not_found = False
    elif num > x: #Don't need the equals
        print(""Too high!"")
    elif num < x: #Don't need the equals
        print(""Too low!"")
    else:
        print(""ERROR MESSAGE!"")
    attempt = attempt + 1
"
3741,46933,How can I create a dictionary in python from a txt file?,"from collections import defaultdict
d = defaultdict(dict)
for line in open('input_file','r'):
    line = line.strip()
    a,b = line.split(',')
    node = a.split('=')[1] 
    key, value = b.split('=')
    d[node][key] = value
"
3328,48877,How to wait for a list of threads to finish? (Python),"import time
endTime = time.time() + 60
for t in threads:
    t.join(endTime - time.time())
    t.event.set()
"
6388,59804,creating multiple excel worksheets using data in a pandas dataframe,"# ...
writer = pd.ExcelWriter('final.xlsx')
data.to_excel(writer,'original')

# data.fillna() or similar.

data.to_excel(writer,'result')
writer.save()
# ...
"
26283,41969,Suggestion to implement a text Menu without switch case,"def action1():
    pass # put a function here

def action2():
    pass # blah blah

def action3():
    pass # and so on

def no_such_action():
    pass # print a message indicating there's no such action

def main():
    actions = {""foo"": action1, ""bar"": action2, ""baz"": action3}
    while True:
        print_menu()
        selection = raw_input(""Your selection: "")
        if ""quit"" == selection:
            return
        toDo = actions.get(selection, no_such_action)
        toDo()

if __name__ == ""__main__"":
    main()
"
36019,44802,How to efficiently generate this matrix in python,">>> import numpy as np
>>> r, d = 1000, 100000
>>> a = np.random.rand(d).round()
>>> A = a * np.ones((r, 1))
>>> A.shape
(1000, 100000)
>>> a
array([ 1.,  0.,  1., ...,  1.,  0.,  1.])
>>> A
array([[ 1.,  0.,  1., ...,  1.,  0.,  1.],
       [ 1.,  0.,  1., ...,  1.,  0.,  1.],
       [ 1.,  0.,  1., ...,  1.,  0.,  1.],
       ..., 
       [ 1.,  0.,  1., ...,  1.,  0.,  1.],
       [ 1.,  0.,  1., ...,  1.,  0.,  1.],
       [ 1.,  0.,  1., ...,  1.,  0.,  1.]])
"
23159,19935,What's the difference between these two codes?,">>> mylist = [[0, 4, 6, 1], 102]
>>> list2 = [[3, 1, 2], 205]
>>> addres(mylist, list2)
[[0, 4, 6, 1, 3, 1, 2], 307]
>>> mylist
[[0, 4, 6, 1, 3, 1, 2], 307]
"
4014,47398,Flask SQLAlchemy relationship,"Solution:
class Match(db.Model):
    __tablename__ = 'matches'

    id = db.Column(db.Integer, primary_key = True)

    local_id =db.Column(db.Integer, db.ForeignKey('companies.id'))    
    guest_id = db.Column(db.Integer, db.ForeignKey('companies.id'))

    local = db.relationship('Company', foreign_keys=local_id)
    guest = db.relationship('Company', foreign_keys=guest_id)

    match_time = db.Column(db.DateTime())   # not important
"
22805,55617,Django rest framework self.objects.all() as variable,"class Category(models.Model):
   //your fields

    def __unicode__(self):
        return self.name
"
11022,12072,Why is factory_boy superior to using the ORM directly in tests?,"class CasesFactory(factory.Factory):
    FACTORY_FOR = models.Case

    number = factory.Sequence(lambda n: '1021-{0}'.format(n))
    create_date = datetime.datetime.now()
"
33965,73382,Resizing font in tkinter GUI,"import Tkinter as tk
import tkFont

the_window = tk.Tk()

def changefont():
    label_font.config(size=12)

b = tk.Button(the_window, text=""Reduce label font"", command=changefont)
b.pack()

label_font = tkFont.Font(family='Arial', size=25)

for i in range(5):
    lbl = tk.Label(the_window, text='Label ' + str(i), font=label_font, 
        borderwidth=1, relief=tk.SOLID)
    lbl.pack()

the_window.mainloop()
"
23048,77021,Release hdf5 disk memory after table or node removal with pytables or pandas,"ptrepack --chunkshape=auto --propindexes --complevel=9 --complib=blosc in.h5 out.h5
"
27877,49919,Modifying text file using reference value,"mydict = {}
with open('ref') as f1:
    for line in f1:
        key, value = line.split()
        mydict[key] = value

with open('file.txt') as f2, open('out.txt', 'w') as f3:
    for l in f2:
        line = l.split()
        newline = ''
        for item in line:
            newline += mydict[item] + "" ""
        f3.write(newline + ""\n"")
"
25488,82967,Prepend text to existing mail body,"tmp = newMail.Body.split('<body>')
# split by a known HTML tag with only one occurrence then rejoin
newMail.Body = '<body>'.join([tmp[0],yourString + tmp[1]])
"
30524,45437,sending a complex shell command to python subprocess,"subprocess.Popen(['convert', '1.png', '(', '+clone', '-background', 'black', '-shadow', '110x1+9+9',
                  ')', '+swap', '-background', 'none', '-layers', 'merge', '+repage', '2.png'],
                 otherargments=values, etc=etc)
"
27752,4531,How to make a double 'continue' in a loop?,">>> list_iter = iter([1, 2, 3, 4, 5])
>>> for i in list_iter:
...     print ""not skipped: "", i
...     if i == 3:
...         print ""skipped: "", next(list_iter, None)
...         continue
... 
not skipped:  1
not skipped:  2
not skipped:  3
skipped:  4
not skipped:  5
"
39148,44553,How could I add information if I did not find certain data from my database?,"In [52]:

animal_list=['cat','elephant','dog']
df = pd.DataFrame({'id':animal_list})
df
Out[52]:
         id
0       cat
1  elephant
2       dog

df1
Out[51]:
         id     kg
0  squirrel   0.10
1     horse  80.00
2       cat   7.00
3       bee   0.03
4       dog  12.00
5  goldfish   0.08
In [50]:

df.merge(df1, on='id', how='left')
Out[50]:
         id  kg
0       cat   7
1  elephant NaN
2       dog  12
"
31737,19035,How to I determine the default value for a given function parameter at runtime?,"import inspect

def foo(a, b, c=5):
    return a + b + c
def show_defaults(f):
    args, varargs, varkw, defaults = inspect.getargspec(f) 
    if defaults:
        for arg, default in zip(args[-len(defaults):], defaults):
            print('{a} = {d}'.format(a=arg,d=default))

show_defaults(foo)
# c = 5
"
37249,80936,how to pass a list between views in django,"def view2(request):
    if request.method == 'POST':
        page_list=request.POST.values()
    else:
        HttpResponseRedirect('/urls/')
"
13602,3636,Looping - python,"words = ['a', 'b', 'c', 'd']
code = ['3' , '2', '4', '9']

while words != code:
    number = raw_input(""Enter a number: "")
    letter = raw_input(""Enter the letter: "")
    code = list(map(lambda x: str.replace(x, number, letter), code))

print('You finally got it!')
"
25995,34868,How to find the number of lists in an input? (python),"def lists(l):
    '''
    Return the total number of lists in A (including A itself).
    Each element of A and any  nested lists are either ints or other lists.
    '''

    # convert the list to string and count the ['s
    # each [ is the start of a list, so the number of ['s equals
    # the number of lists
    nr_of_lists = str(l).count('[')

    # return the number of sublists
    return nr_of_lists
"
25911,53629,Sending message from one server to another in Twisted,"def lineReceived(self, line):
   print ""received"", repr(line)
   for c in self.factory.clients:
       c.transport.write(message + '\n')
   for server in self.factory.otherServers:
       server.otherServerMessage(self, line)
"
4448,48074,Writing an algorithm to generate prime numbers in Python within a given range,"if __name__ == ""__main__"": 
    prime = True
    for i in range(2, 1000):
        for x in range(2, i):
            if i % x == 0:
                prime = False
        if prime:
            print(i)
        prime = True
"
29407,54324,Nested dictionary to multiindex dataframe where dictionary keys are column labels,">>> reform = {(outerKey, innerKey): values for outerKey, innerDict in dictionary.iteritems() for innerKey, values in innerDict.iteritems()}
>>> reform
{('A', 'a'): [1, 2, 3, 4, 5],
 ('A', 'b'): [6, 7, 8, 9, 1],
 ('B', 'a'): [2, 3, 4, 5, 6],
 ('B', 'b'): [7, 8, 9, 1, 2]}
>>> pandas.DataFrame(reform)
   A     B   
   a  b  a  b
0  1  6  2  7
1  2  7  3  8
2  3  8  4  9
3  4  9  5  1
4  5  1  6  2

[5 rows x 4 columns]
"
23757,42087,High Pass Filter for image processing in python by using scipy/numpy,"import matplotlib.pyplot as plt
import numpy as np
from scipy import ndimage
import Image

def plot(data, title):
    plot.i += 1
    plt.subplot(2,2,plot.i)
    plt.imshow(data)
    plt.gray()
    plt.title(title)
plot.i = 0

# Load the data...
im = Image.open('lena.png')
data = np.array(im, dtype=float)
plot(data, 'Original')

# A very simple and very narrow highpass filter
kernel = np.array([[-1, -1, -1],
                   [-1,  8, -1],
                   [-1, -1, -1]])
highpass_3x3 = ndimage.convolve(data, kernel)
plot(highpass_3x3, 'Simple 3x3 Highpass')

# A slightly ""wider"", but sill very simple highpass filter 
kernel = np.array([[-1, -1, -1, -1, -1],
                   [-1,  1,  2,  1, -1],
                   [-1,  2,  4,  2, -1],
                   [-1,  1,  2,  1, -1],
                   [-1, -1, -1, -1, -1]])
highpass_5x5 = ndimage.convolve(data, kernel)
plot(highpass_5x5, 'Simple 5x5 Highpass')

# Another way of making a highpass filter is to simply subtract a lowpass
# filtered image from the original. Here, we'll use a simple gaussian filter
# to ""blur"" (i.e. a lowpass filter) the original.
lowpass = ndimage.gaussian_filter(data, 3)
gauss_highpass = data - lowpass
plot(gauss_highpass, r'Gaussian Highpass, $\sigma = 3 pixels$')

plt.show()
"
17222,42075,using self in python @patch decorator,"class MyTestCase(unittest.TestCase):
    def setUp(self):
        self.b = 8 #contrived example

    def testOne(self):
        with patch('totest.fn', return_value=self.b) as m:
            self.assertEqual(self.b, m())
            self.assertTrue(m.called)

    @patch(""totest.fn"")
    def testTwo(self,m):
        m.return_value = self.b
        self.assertEqual(self.b, m())
        self.assertTrue(m.called)
"
20206,61327,How can I add a score to my game?,"def main():
    score = 0
    while True:
        # ask the questions and stuff
        if correct:
            score += 1
        # do other stuff
        if stop_condition:
            break
    print(name, ', you got a score of -', score)
"
24724,64805,Hard copying dicts in a list,">>> a = [{1:10, 2:20} for _ in range(7)]
>>> a[0][1] = 30
>>> a
[{1: 30, 2: 20}, {1: 10, 2: 20}, {1: 10, 2: 20}, {1: 10, 2: 20}, {1: 10, 2: 20}, {1: 10, 2: 20}, {1: 10, 2: 20}]
"
10164,5809,Shuffling the order of list with multiple constraints using Python,"import random

meat = ['pork', 'beef']*5
fruit = ['grape', 'banana', 'apple']*30
random.shuffle(meat)
random.shuffle(fruit)

result = fruit[-5:]
del fruit[-5:]

result.append(meat.pop())
while meat:
    result.extend(fruit[-3:])
    del fruit[-3:]
    result.append(meat.pop())

resultlength = len(result)
while fruit:
    insertion_location = random.randint(0,resultlength)
    result.insert(insertion_location,fruit.pop())
    resultlength += 1


print result
"
17020,29919,Selecting parent element when child has a specific value of attribute using elementree xpath in Python,"transactions.xpath(""Transaction[Project[@code='abc']]"")
"
6464,70821,Merging similar dictionaries in a list together,"from itertools import groupby

keyfunc = lambda row : (row['Type'], row['Taxonomy ID'], row['Name'])

result = []

data = sorted(data, key=keyfunc)
for k, g in groupby(data, keyfunc):
    # you can either add the matching rows to the item so you end up with what you wanted
    item = {}        
    for row in g:
        item.update(row)
    result.append(item)

    # or you could just add the matched rows as subitems to a parent dictionary
    # which might come in handy if you need to work with just the parts that are
    # different
    item = {'Type': k[0], 'Taxonomy ID' : k[1], 'Name' : k[2], 'matches': [])
    for row in g:
        del row['Type']
        del row['Taxonomy ID']
        del row['Name']
        item['matches'].append(row)
    result.append(item)  
"
13307,43218,How to pull a BitBucket repository without access to hg,"wget https://username:password@bitbucket.org/user/repo/get/REVISIONHASH.zip
"
12708,27000,parse nested html lists using lxml in python,"for node in root.iter(""*""):
    print node.text
    # print node.tail # e.g.: <div> <span> abc </span> def </div> => abc def
"
13228,74035,plot nothing but the legend in matplotlib subplot,"fig, axes_lst = plt.subplots(2, 1)

ln_1, ln_2 = axes_lst[0].plot(range(5), range(5), range(5), np.arange(5) ** 2)
axes_lst[1].legend((ln_1, ln_2), ('lin', 'quad'), loc='center')
plt.draw()
"
25961,37614,urllib download excel file from php link,"import re
re.sub('<script>.*</script>', """", content, re.I)
"
5709,81786,Differences between several vim tags plugin,"--langmap=javascript:.js
--regex-javascript=/([A-Za-z0-9._$()]+)[ \t]*[:=][ \t]*function[ \t]*\(/\1/F,function,functions/
--regex-javascript=/function[ \t]*([A-Za-z0-9._$()]+)[ \t]*\(/\1/F,function,functions/
--regex-javascript=/([A-Za-z0-9._$]+)[ \t]*=[ \t]*\{/\1/o,object,objects/
--regex-javascript=/^[ \t]*([A-Za-z0-9._$]+)[ \t]*[:][ \t]*[^\{]/\1/p,property,properties/
--regex-javascript=/^[ \t]+var[ \t]*([A-Za-z0-9._$]+)[ \t]*=[ \t]*[\d""'\[]/\1/v,variable,variables/
"
30583,46577,How to mock python build in methods,">>> import os
>>> from mock import MagicMock
>>> os.listdir = MagicMock(return_value=['file1.txt', 'file2.txt', 'file3.txt'])
>>> os.listdir('./test')
['file1.txt', 'file2.txt', 'file3.txt']
"
17326,36662,Pandas dataframe from nested dictionary,"import pandas as pd

d = {'x': {'b': 10, 'c': 20}, 'y': {'b': '33', 'c': 44}}

df = pd.DataFrame([(k,k1,v1) for k,v in d.items() for k1,v1 in v.items()], columns = ['Col1','Col2','Val'])
print df.sort(['Col1','Col2','Val'], ascending=[1,1,1])

  Col1 Col2 Val
3    x    b  10
2    x    c  20
1    y    b  33
0    y    c  44
"
12699,35517,Is there a portable way to get the current username in Python?,">>> import getpass
>>> getpass.getuser()
'kostya'
"
17931,65083,How to remove value from GAE NDB Property (type BlobKeyProperty),"result_record_list[0].pic = None
result_record_list[0].put()
"
15220,18948,Wrapping lines in python: breaking on an argument string,"parser = argparse.ArgumentParser(description=""Auto-segments a text based on ""
    ""the TANGO algorithm (Rie Kubota Ando and Lillian Lee, 'Mostly-Unsupervised ""
    ""Statistical Segmentation of Japanese Kanji Sequences' (Natural Language ""
    ""Engineering, 9(2):127-149, 2003))."")
"
35612,30955,Driving Excel from Python in Windows,"
x:> makepy.py ""Microsoft Excel 11.0 Object Library""
...
Generating...
Importing module
x:> ipython

> from win32com.client import Dispatch
> excel = Dispatch(""Excel.Application"")
> wb = excel.Workbooks.Append()
> range = wb.Sheets[0].Range(""A1"")
> range.[Press Tab]
range.Activate                 range.Merge
range.AddComment               range.NavigateArrow
range.AdvancedFilter           range.NoteText
...
range.GetOffset                range.__repr__
range.GetResize                range.__setattr__
range.GetValue                 range.__str__
range.Get_Default              range.__unicode__
range.GoalSeek                 range._get_good_object_
range.Group                    range._get_good_single_object_
range.Insert                   range._oleobj_
range.InsertIndent             range._prop_map_get_
range.Item                     range._prop_map_put_
range.Justify                  range.coclass_clsid
range.ListNames                range.__class__
> range.Value = 32
...
"
2467,29576,Python insurance rate,"def total_cost(i):
    return round(i * 1.0002, 2)
"
14405,34612,Django - call original and overriden save method,"from django.conf import settings

class OriginalModel(Model):
    ...
    def save(self, *args, **kwargs):
        if not settings.TESTING:
            # Do some file system interaction, but not during testing.
            pass
        # Now save instance as per normal.
        return super(originalModel, self).save(*args, **kwargs)
"
13258,18734,How to execute a process remotely using python,"import subprocess
ret = subprocess.call([""ssh"", ""user@host"", ""program""]);

# or, with stderr:
prog = subprocess.Popen([""ssh"", ""user@host"", ""program""], stderr=subprocess.PIPE)
errdata = prog.communicate()[1]
"
30233,21622,Keyword-based documentation for CPython extensions,"if inspect.isfunction(object):
    args, varargs, varkw, defaults = inspect.getargspec(object)
    argspec = inspect.formatargspec(
        args, varargs, varkw, defaults, formatvalue=self.formatvalue)
    if realname == '<lambda>':
        title = '<strong>%s</strong> <em>lambda</em> ' % name
        argspec = argspec[1:-1] # remove parentheses
else:
    argspec = '(...)'
"
33869,16266,PyQt multiple tablewidgets and tabwidgets,"tablist = []
tablabellist = []
layoutlist=[]
self.tablelist = []
Tab = QtGui.QTabWidget()
headerlist = [ 'ID','Question','Answer 1','Answer 2','Answer 3','Difficulty','Statistics','Date Added','Added By','Date Modified']

num_tab_widgets = 10

for i in range(num_tab_widgets):
    tablist.append(QtGui.QWidget())
    Tab.addTab(tablist[i], QtCore.QString('SECTION %s'%chr(ord('A')+i)))
    tablabellist.append(QtGui.QLabel('title'))
    self.tablelist.append(QtGui.QTableWidget())
    setattr(self,'Table%d'%i,self.tablelist[i])
    layoutlist.append(QtGui.QVBoxLayout())

    self.tablelist[i].setColumnCount(len(headerlist))
    self.tablelist[i].setHorizontalHeaderLabels(headerlist)
    self.tablelist[i].setEditTriggers(QtGui.QTableWidget.NoEditTriggers)
    self.tablelist[i].setSelectionBehavior(QtGui.QTableWidget.SelectRows)
    self.tablelist[i].setSelectionMode(QtGui.QTableWidget.SingleSelection)

    layoutlist[i].addWidget(tablabellist[i])
    layoutlist[i].addWidget(self.tablelist[i])
    tablist[i].setLayout(layoutlist[i])

CLayout = QtGui.QVBoxLayout()
CLayout.addWidget(Tab)

Cwidget = QtGui.QWidget()
Cwidget.setLayout(CLayout)    
self.setCentralWidget(Cwidget)
"
24708,64333,Insertion sort algorithm modifying output,"import copy

def InsertionSort(A):
    A = copy.deepcopy(A) # or A = A[:] might work as well in this case
    ...
    return A
"
21117,73472,How to compare two files in Python when line indices differ and regular expression has multiple matches?,"trigger = '''\
   10.792001    283292  30
   11.286001    296136   9
   11.792001    309292 130
   17.898001    468048  23
   18.390001    480840   9
   18.896001    493996 123
   24.988001    652388  73
   25.482001    665232   9
   25.988001    678388 173
   34.026002    887376  10
   34.518002    900168   9
   35.024002    913324 110
   40.676002   1060276  82
   41.170002   1073120   9
   41.676002   1086276 182
   48.994002   1276544  43
   49.488002   1289388   9
   49.994002   1302544 143
   56.032003   1459532  30
   56.524003   1472324   9
   57.032003   1485532 130
'''.splitlines()

scenario = '''\
30 7503
23 6412
73 1307
10 3901
82 4118
43 7404
30 3403
'''.splitlines()

it = iter(scenario)


out = []
for line in trigger:
    if line[-3] == ' ' and line[-2] != ' ':
        key = line[-2:]
        try:
            key2, extra = next(it).split()
        except StopIteration:
            raise ValueError('scenario ended too soon')
        if key2 != key:
            raise ValueError('scenario key does not match')
        line += ' ' + extra
    out.append(line)

for line in out:
    print(line)
# matches your desired output as given
"
22625,25988,shifting numbers in python code,"def cycle(s, n):
    return s[-n:] + s[:-n]
"
23062,62563,Weird stuff happening while importing modules,"import sys, logging

class Logger:
    def __init__(self, name):
        formatter = logging.Formatter('%(filename)s:%(lineno)s %(levelname)s:%(message)s')
        stdout_handler = logging.StreamHandler(sys.stdout)
        stdout_handler.setFormatter(formatter)
        self.logger=logging.getLogger(name)
        self.logger.addHandler(stdout_handler)
        self.logger.setLevel(logging.DEBUG)

    def debug(self, message):
        self.logger.debug(message)
"
33598,10821,How to test a folder for new files using python,"import filecmp
compare = filecmp.dircmp( ""C:/"", ""D:/"" )
for f in compare.left_only:
    print ""C: new"", f
for f in compare.right_only:
    print ""D: new"", f
"
24506,35234,python pandas conditional sum on dataframe which is grouped on multiple columns,"#instaed of agg use:
df1 = df.groupby(['key1', 'key2', 'key3'], as_index=False)['zdata'].mean()
print df1
   key1 key2  key3  zdata
0     0    a    10      2
1     0    b     5      4
2     0    b    15      2
3     0    c    10      4
4     1    a     5      3
5     1    a    10      5
6     1    a    20      6
7     1    b    10      5
8     1    b    20      5
9     1    c     5      6

#filter rows by conditions
df2 = df1.groupby(['key1', 'key2']).filter(lambda x: (x.key3 == 5).any() & (len(x) > 1))
print df2
   key1 key2  key3  zdata
1     0    b     5      4
2     0    b    15      2
4     1    a     5      3
5     1    a    10      5
6     1    a    20      6

print df2.groupby(['key1', 'key2'], as_index=False).mean()
   key1 key2       key3     zdata
0     0    b  10.000000  3.000000
1     1    a  11.666667  4.666667
"
35672,4683,how do i replace a query with a new value in urlparse?,"import urllib
import urlparse

url = '//s780.scene7.com/is/image/forever/301596014_001?hei=98&wid=98'
parts = urlparse.urlparse(url)
query_dict = urlparse.parse_qs(parts.query)  # {'wid': ['98'], 'hei': ['98']}
query_dict['wid'] = '360'
query_dict['hei'] = '360'
new_parts = list(parts)
new_parts[4] = urllib.urlencode(query_dict)
print urlparse.urlunparse(new_parts)
"
4090,70750,How to create a new variable from the contents of another variable in python?,">>> val = ""mandy""
>>> mydict = {}
>>> mydict[val] = []
>>> mydict[val].append(""Hello"")
>>> mydict[val].append(""Mandy"")
>>> mydict
{'mandy': ['Hello', 'Mandy']}
"
28927,38645,how to execute a command for all .dat files in a directory,"import glob

for filepath in glob.glob('/home/data/*.dat'):
    b = np.genfromtxt(filepath).T[1] #luminsity
    q = getmax(b)
    print filename, 'max b=', q
"
17584,17492,"Plotting Treasury Yield Curve, how to overlay two yield curves using matplotlib","import matplotlib.pyplot as plt
import pandas as pd
import Quandl as ql
%matplotlib inline

yield_ = ql.get(""USTREASURY/YIELD"")
today = yield_.iloc[-1,:]
month_ago = yield_.iloc[-30,:]
df = pd.concat([today, month_ago], axis=1)
df.columns = ['today', 'month_ago']

df.plot(style={'today': 'ro-', 'month_ago': 'bx--'}
        ,title='Treasury Yield Curve, %');
"
10906,41444,Image reconstruction based on Zernike moments using mahotas and opencv,"'''
Copyright (c) 2015
Dhanushka Dangampola <dhanushkald@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the ""Software""), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
'''

import numpy as np
from math import atan2
from numpy import cos, sin, conjugate, sqrt

def _slow_zernike_poly(Y,X,n,l):
    def _polar(r,theta):
        x = r * cos(theta)
        y = r * sin(theta)
        return 1.*x+1.j*y

    def _factorial(n):
        if n == 0: return 1.
        return n * _factorial(n - 1)
    y,x = Y[0],X[0]
    vxy = np.zeros(Y.size, dtype=complex)
    index = 0
    for x,y in zip(X,Y):
        Vnl = 0.
        for m in range( int( (n-l)//2 ) + 1 ):
            Vnl += (-1.)**m * _factorial(n-m) /  \
                ( _factorial(m) * _factorial((n - 2*m + l) // 2) * _factorial((n - 2*m - l) // 2) ) * \
                ( sqrt(x*x + y*y)**(n - 2*m) * _polar(1.0, l*atan2(y,x)) )
        vxy[index] = Vnl
        index = index + 1

    return vxy

def zernike_reconstruct(img, radius, D, cof):

    idx = np.ones(img.shape)

    cofy,cofx = cof
    cofy = float(cofy)
    cofx = float(cofx)
    radius = float(radius)    

    Y,X = np.where(idx > 0)
    P = img[Y,X].ravel()
    Yn = ( (Y -cofy)/radius).ravel()
    Xn = ( (X -cofx)/radius).ravel()

    k = (np.sqrt(Xn**2 + Yn**2) <= 1.)
    frac_center = np.array(P[k], np.double)
    Yn = Yn[k]
    Xn = Xn[k]
    frac_center = frac_center.ravel()

    # in the discrete case, the normalization factor is not pi but the number of pixels within the unit disk
    npix = float(frac_center.size)

    reconstr = np.zeros(img.size, dtype=complex)
    accum = np.zeros(Yn.size, dtype=complex)

    for n in range(D+1):
        for l in range(n+1):
            if (n-l)%2 == 0:
                # get the zernike polynomial
                vxy = _slow_zernike_poly(Yn, Xn, float(n), float(l))
                # project the image onto the polynomial and calculate the moment
                a = sum(frac_center * conjugate(vxy)) * (n + 1)/npix
                # reconstruct
                accum += a * vxy
    reconstr[k] = accum
    return reconstr

if __name__ == '__main__':

    import cv2
    import pylab as pl
    from matplotlib import cm

    D = 12

    img = cv2.imread('fl.bmp', 0)

    rows, cols = img.shape
    radius = cols//2 if rows > cols else rows//2

    reconst = zernike_reconstruct(img, radius, D, (rows/2., cols/2.))

    reconst = reconst.reshape(img.shape)

    pl.figure(1)
    pl.imshow(img, cmap=cm.jet, origin = 'upper')
    pl.figure(2)    
    pl.imshow(reconst.real, cmap=cm.jet, origin = 'upper')
"
14039,48325,Python if-or statement short hand,"if x in (1, 2, 3, 4):
"
10617,434,How to create object variable upon inheritance?,"import mylib

class Hello(object):
    _query = mylib.Query() # class attribute

    def say_hello(self):
        print self._query.hello()

    def say_goodbye(self):
        print self._query.goodbye()
"
25644,8774,How to disable loggers from other modules?,"for _ in (""boto"", ""elasticsearch"", ""urllib3""):
    logging.getLogger(_).setLevel(logging.CRITICAL)
"
38986,80652,How can I separate list from list in python?,">>> l = [[""MSFT"", ""1986-08-28"", 1500], [""MSFT"", ""1986-12-03"", 800], [""MSFT"", ""1991-10-07"", 600]]
>>> a1, b1, c1 = l
>>> a1
['MSFT', '1986-08-28', 1500]
>>> b1
['MSFT', '1986-12-03', 800]
>>> c1
['MSFT', '1991-10-07', 600]
"
12177,15381,"How to distinguish an instance method, a class method, a static method or a function in Python 3?",">>> f = Foo()
>>> type(f.__class__.__dict__['bari'])
<class 'function'>
>>> type(f.__class__.__dict__['barc'])
<class 'classmethod'>
>>> type(f.__class__.__dict__['bars'])
<class 'staticmethod'>
"
26843,11232,Python Subprocess Behavior with Eclipse,"call_string = ""C:/eclipse/eclipsec -nosplash --launcher.suppressErrors -application org.eclipse.cdt.managedbuilder.core.headlessbuild -data {} -import {}"".format(workspace_dir, project_dir))

subprocess.call(call_string, shell=True)
"
20664,29415,How to parse html table with python and beautifulsoup and write to csv,"rows = table.findAll('tr')
for tr in rows:
    cols = tr.findAll('td')
    if 'cell_c' in cols[0]['class']:
        # currency row
        digital_code, letter_code, units, name, rate = [c.text for c in cols]
        print digital_code, letter_code, units, name, rate
"
8613,24519,"How do I ""multi-process"" the itertools product module?","import multiprocessing
from itertools import product

alphabet = ""abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ12234567890!@#$%^&*?,()-=+[]/;""
num_parts = 4
part_size = len(alphabet) // num_parts

def do_job(first_bits):
    for x in product(first_bits, alphabet, alphabet, alphabet):
        print(x)

if __name__ == '__main__':
    pool = multiprocessing.Pool(processes=4)
    results = []
    for i in range(num_parts):
        if i == num_parts - 1:
            first_bit = alphabet[part_size * i :]
        else:
            first_bit = alphabet[part_size * i : part_size * (i+1)]
        results.append(pool.apply_async(do_job(first_bit)))

    pool.close()
    pool.join()
"
1368,59176,How to draw a color image in mayavi (imshow),"import pylab as pl
from mayavi import mlab

def mlab_imshowColor(im, alpha=255, **kwargs):
    """"""
    Plot a color image with mayavi.mlab.imshow.
    im is a ndarray with dim (n, m, 3) and scale (0->255]
    alpha is a single number or a ndarray with dim (n*m) and scale (0->255]
    **kwargs is passed onto mayavi.mlab.imshow(..., **kwargs)
    """"""
    try:
        alpha[0]
    except:
        alpha = pl.ones(im.shape[0] * im.shape[1]) * alpha
    if len(alpha.shape) != 1:
        alpha = alpha.flatten()

    # The lut is a Nx4 array, with the columns representing RGBA
    # (red, green, blue, alpha) coded with integers going from 0 to 255,
    # we create it by stacking all the pixles (r,g,b,alpha) as rows.
    myLut = pl.c_[im.reshape(-1, 3), alpha]
    myLutLookupArray = pl.arange(im.shape[0] * im.shape[1]).reshape(im.shape[0], im.shape[1])

    #We can display an color image by using mlab.imshow, a lut color list and a lut lookup table.
    theImshow = mlab.imshow(myLutLookupArray, colormap='binary', **kwargs) #temporary colormap
    theImshow.module_manager.scalar_lut_manager.lut.table = myLut
    mlab.draw()

    return theImshow

def test_mlab_imshowColor():
    """"""
    Test if mlab_imshowColor displays correctly by plotting the wikipedia png example image
    """"""

    #load a png with a scale 0->1 and four color channels (an extra alpha channel for transparency).
    from urllib import urlopen
    url = 'http://upload.wikimedia.org/wikipedia/commons/4/47/PNG_transparency_demonstration_1.png'
    im = pl.imread(urlopen(url), format='png')
    im *= 255

    mlab_imshowColor(im[:, :, :3], im[:, :, -1])

    mlab.points3d([-200, 300, -200, 300],
                  [-200, 300, 200, -300],
                  [300, 300, 300, 300])
    mlab.show()

if __name__ == ""__main__"":
    test_mlab_imshowColor()
"
507,35541,How to write the names that start with A - L to one file and the rest to another?,"    import string
    ind = string.lowercase.index(surname[0].lower())
    if ind <= 12: # A-L
        # Write to A-L file
    else:
        # Write to other file
"
32697,35820,Generating IDs how to make IDs same length using zeroes?,">>> ""1138"".zfill(10)
0000001138
"
10133,57873,Bottle and GAE authentication using Google Accounts,"from google.appengine.api import users

if users.is_current_user_admin():
"
17870,46588,Creating an array column within my model definition,"from sqlalchemy.dialects.postgresql import ARRAY

class MyTable:
    __tablename__ = 'mytable'

    id = Column(Integer, primary_key=True)
    text_array = Column(ARRAY(Unicode))

    def __init__(self, text_array):
        self.text_array = text_array
"
27802,30467,Loading python pickled object in C,"PyObject *file = NULL, *p = NULL;
PyObject *pickle = PyImport_ImportModule(""pickle""); // import module
if (!pickle) goto error;
file = PyFile_FromString(""file.pkl"", ""r""); // open(""file.pkl"")
if (!pickle) goto error;
p = PyObject_CallMethod(pickle, ""load"", ""O"", file); // pickle.load(file)
error:
Py_XDECREF(pickle);
Py_XDECREF(file);
"
8222,38439,Python Insert new line if line has more than 50 characters,"with open('path/to/input') as infile, open('path/to/output', 'w') as outfile:
  for line in infile:
    if len(line) > 50:
      outfile.write('\n'.join(line[i:i+50] for i in xrange(0,len(line), 50)))
    else:
      outfile.write(line)
"
34261,82251,Appending and managing keys in nested dictionaries,"import json
from pprint import pprint

def new_keys(d1, d2, result={}):
    for key, d1_val in d1.iteritems():
        if key not in d2:
            if not result.has_key('lost'):
                result['lost'] = {}
                result['lost'][key] = d1_val
            else:
                result['lost'][key] = d1_val
        else:
            if isinstance(d1_val, dict) and isinstance(d2[key], dict):
                # Don't pass result.
                new_result = {}
                new_keys(d1[key], d2[key],new_result)
                # If new_result is not empty
                if new_result:
                    result[key] = new_result
            else:
                if d1_val != d2[key]:
                    if not result.has_key('added'):
                        result['changed'] = {}
                        result['changed'][key] = d2[key]
                    else:
                        result['changed'][key] = d2[key]
    for key, d2_val in d2.iteritems():
        if key not in d1:
            if not result.has_key('added'):
                result['added'] = {}
                result['added'][key] = d2_val
            else:
                result['added'][key] = d2_val
    return result

with open(""before.json"") as data_file:
    before = json.loads(data_file.read())

with open(""after.json"") as data_file:
    after = json.loads(data_file.read())

pprint(new_keys(before,after))
"
6726,65679,Is there a built-in javascript function similar to os.path.join?,"function pathJoin(parts, sep){
   var separator = sep || '/';
   var replace   = new RegExp(separator+'{1,}', 'g');
   return parts.join(separator).replace(replace, separator);
}

var path = pathJoin(['a/', 'b', 'c//'])
"
22200,47999,How to filter pound signs in a file using python?,"import shlex
filelines = [' '.join(shlex.split(line,True)) for line in file]
"
32535,56185,Slicing a list without copying,"def myFunc(aList):
    for i in range(0,len(aList)):
        aList[i] = 0
    return aList

wholeList = range(0,10)
wholeList[3:6] = myFunc(wholeList[3:6])
"
11256,65053,Python - how to find all intersections of two strings?,"In [31]: import difflib

In [32]: difflib.SequenceMatcher(None, ""never"", ""forever"").get_matching_blocks()
Out[32]: [Match(a=1, b=3, size=4), Match(a=5, b=7, size=0)]


In [33]: difflib.SequenceMatcher(None, ""address"", ""oddness"").get_matching_blocks()
Out[33]: [Match(a=1, b=1, size=2), Match(a=4, b=4, size=3), Match(a=7, b=7, size=0)]
"
34324,82493,"Python: Generate random floating point number in a range, excluding start-point","def my_uniform(a, b):
    while True:
        result = uniform(a, b)
        if a < result < b:
            return result
"
29716,72710,"In python, how do I write columns of a CSV file to a dictionary?","import csv
with open('test.csv', ""r"") as f:
    reader = csv.reader(f)
    result = {}

    for row in reader:
        key = row[0]
        result[key] = row[1:]

    print(result)
"
5194,49558,Python how to get the base instance of an instance?,"class super(object)
 |  super(type) -> unbound super object
 |  super(type, obj) -> bound super object; requires isinstance(obj, type)
 |  super(type, type2) -> bound super object; requires issubclass(type2, type)
 |  Typical use to call a cooperative superclass method:
 |  class C(B):
 |      def meth(self, arg):
 |          super(C, self).meth(arg)
"
25146,1326,Converting pyqt ui files into py files,"from PyQt4 import QtGui, QtCore, uic
import sys

# Here you can add your ui path from desigener, no need to convert
RESOURCE_PATH             = package.__BASERESLOC__
baseUI                    = os.path.join(RESOURCE_PATH, ""base_main.ui"")
baseUIClass, baseUIWidget = uic.loadUiType(baseUI)

class BASEGUICLS(baseUIWidget, baseUIClass):
    def __init__(self,parent=None):
        super(BASEGUICLS, self).__init__(parent)
        self.setupUi(self)
        #after this you will have everything
        self.pushButton.setText(""Foo"")

def main():
    """"""
    Main function which init main GUI.
    """"""
    app = QtGui.QApplication(sys.argv)
    ex = BASEGUICLS(None)
    ex.show()
    sys.exit(app.exec_())
"
20496,18764,computer's turn to play the guessing game,"from random import randint

def computer_guess(num):
    low = 1
    high = 100

    guess = randint(1,100)
    while guess != num:
        print(""The computer takes a guess..."", guess)
        if guess > num:
            high = guess
            print ' Computron guessed higher'
        elif guess < num:
            low = guess + 1
            print 'Computron guessed lower'

        guess = (low+high)//2    

    print(""The computron guessed"", guess, ""and it was correct!"")
    print("" I computron won the battle!"")

def main():
    print(""I am computron, I accept your guessing game!"")
    num = int(input(""\n\nChoose a number for the computer to guess: ""))
    if num < 1 or num > 100:
        print(""Must be in range [1, 100]"")
    else:
        computer_guess(num)

if __name__ == '__main__':
    main()
    while True:
        ask = raw_input('Do you want to play again [y/n]:')
        if ask.lower() =='y':
            main()
        else:
            print 'bye'
            break

#Output

I am computron, I accept your guessing game!


Choose a number for the computer to guess: 56
('The computer takes a guess...', 25)
Computron guessed lower
('The computer takes a guess...', 63)
 Computron guessed higher
('The computer takes a guess...', 44)
Computron guessed lower
('The computer takes a guess...', 54)
Computron guessed lower
('The computer takes a guess...', 59)
 Computron guessed higher
('The computer takes a guess...', 57)
 Computron guessed higher
('The computron guessed', 56, 'and it was correct!')
 I computron won the battle!
Do you want to play again [y/n]:y
I am computron, I accept your guessing game!


Choose a number for the computer to guess: 44
('The computer takes a guess...', 40)
Computron guessed lower
('The computer takes a guess...', 70)
 Computron guessed higher
('The computer takes a guess...', 55)
 Computron guessed higher
('The computer takes a guess...', 48)
 Computron guessed higher
('The computron guessed', 44, 'and it was correct!')
 I computron won the battle!
Do you want to play again [y/n]:n
bye
"
13255,24075,Automatically find files that start with similar strings (and find these strings) using Python,"names = set([name.rpartition('_')[0] for name in glob('*_*.dat')])
"
12304,49333,Melt the Upper Triangular Matrix of a Pandas Dataframe,"import numpy as np

print df
     a    b    c
a  1.0  0.5  0.3
b  0.5  1.0  0.4
c  0.3  0.4  1.0

print np.triu(np.ones(df.shape)).astype(np.bool)
[[ True  True  True]
 [False  True  True]
 [False False  True]]

df = df.where(np.triu(np.ones(df.shape)).astype(np.bool))
print df
    a    b    c
a   1  0.5  0.3
b NaN  1.0  0.4
c NaN  NaN  1.0

df = df.stack().reset_index()
df.columns = ['Row','Column','Value']
print df

  Row Column  Value
0   a      a    1.0
1   a      b    0.5
2   a      c    0.3
3   b      b    1.0
4   b      c    0.4
5   c      c    1.0
"
11913,63257,Removing dtype from the end of numpy column stack,"p0_1 = [x for x in primary_data if x not in secondary_data]
p1_1 = ' '.join(map(str, p0_1))
"
5687,81137,python_list to array error,"In [3]: numpy.array([range(i) for i in range(50)])*.25 #these lists are of different length
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-3-29e79fee6349> in <module>()
----> 1 numpy.array([range(i) for i in range(50)])*.25

TypeError: can't multiply sequence by non-int of type 'float'

In [4]: numpy.array([range(50) for i in range(50)])*.25 #these lists are of the same length
Out[4]: 
array([[  0.  ,   0.25,   0.5 , ...,  11.75,  12.  ,  12.25],
       [  0.  ,   0.25,   0.5 , ...,  11.75,  12.  ,  12.25],
       [  0.  ,   0.25,   0.5 , ...,  11.75,  12.  ,  12.25],
       ..., 
       [  0.  ,   0.25,   0.5 , ...,  11.75,  12.  ,  12.25],
       [  0.  ,   0.25,   0.5 , ...,  11.75,  12.  ,  12.25],
       [  0.  ,   0.25,   0.5 , ...,  11.75,  12.  ,  12.25]])
"
4306,39721,"Finding index of a list containing an item, also in a list",">>> Inventory = [[""Item"",""Quantity""],[""Credits"",""5000""],[""Item 1"", 2],[""Item 3"",1]]
>>> [i for i,j in enumerate(Inventory) if j[0]=='Credits']
[1]
"
18245,2260,How to switch position of two items in a Python list?,"    i = ['title', 'email', 'password2', 'password1', 'first_name', 
         'last_name', 'next', 'newsletter']
    a, b = i.index('password2'), i.index('password1')
    i[b], i[a] = i[a], i[b]
"
3053,63913,Seaborn - aesthetic options,"fg = seaborn.factorplot(x='Group', y='val', hue='Mean', 
                        col='Sex', data=data, kind='bar',
                        ci=68, row='Split',
                        order=['Group 1', 'Group 2'],
                        row_order=['Poor','Good'],
                        col_order=['Male', 'Female'],
                        sharex=False, sharey=""row"", 
                        palette='deep', legend_out=False
                       )

(fg.set_axis_labels("""", ""val"")
  .set_titles(""{row_name} - {col_name}"")
  .set(ylim=(0, 300))
  .despine(left=True)
)

# Increase space between rows and remove space between cols
fg.fig.subplots_adjust(hspace=.4, wspace=0)

# Change some label sizes
fg.axes[0, 0].title.set(size=16)
fg.axes[1, 0].yaxis.label.set(size=16)
plt.setp(fg.axes[0, 1].get_xticklabels(), size=16)

# Remove the legend title
fg.axes[0, 0].legend()

# Save to a vector format
fg.savefig(""figure.svg"")
"
21444,75625,How to add a second bouncing ball to the window?,"import pygame
import random
import sys

class Ball:
    def __init__(self,X,Y):
    	self.velocity = [1,1]
    	self.ball_image = pygame.image.load ('Beachball.jpg'). convert()
    	self.ball_boundary = self.ball_image.get_rect (center=(X,Y))
    	self.sound = pygame.mixer.Sound ('Thump.wav')

if __name__ =='__main__':
    width = 800
    height = 600
    background_colour = 0,0,0
    pygame.init()
    frame = pygame.display.set_mode((width, height))
    pygame.display.set_caption(""Bouncing Ball animation"")
    num_balls = 1000
    ball_list = []
    for i in range(num_balls):
    	ball_list.append( Ball(random.randint(0, width),random.randint(0, height)) )
    while True:
    	for event in pygame.event.get():
    		print event 
    		if event.type == pygame.QUIT:
    			sys.exit(0)
    	frame.fill (background_colour)
    	for ball in ball_list:
    		if ball.ball_boundary.left < 0 or ball.ball_boundary.right > width:
    			ball.sound.play()
    			ball.velocity[0] = -1 * ball.velocity[0]
    		if ball.ball_boundary.top < 0 or ball.ball_boundary.bottom > height:
    			ball.sound.play()
    			ball.velocity[1] = -1 * ball.velocity[1]

    		ball.ball_boundary = ball.ball_boundary.move (ball.velocity)
    		frame.blit (ball.ball_image, ball.ball_boundary)
    	pygame.display.flip()
"
431,29106,How can I append these entries to the list?,"temp.append(listOfElements[:])
"
611,52765,How to open html containing framset using flask framework,"from flask import Flask,render_template

app = Flask(__name__)


@app.route('/')
def hello_world():
    return render_template(""index.html"")

@app.route('/pic.html')
def pic():
    return render_template(""pic.html"")

if __name__ == '__main__':
    app.run()
"
17823,70569,Simpler Way of Creating Lists from other Lists,"it = zip(x, y, z)
xnew, ynew, znew = zip(*(t for t in it if t[-1] > 0))
"
30015,44027,wxPython -- differentiating between two identical widgets,"listctrl.myID = 5
"
12360,68197,catching optional part in regular expression,"str = 'URL: http://www.cnn.com Cookie: xxx; yyy'

match = re.search(r'URL: (\S+)( Cookie: (.*))?', str)
print match.group(1)
print match.group(3)

>>> http://www.cnn.com
>>> xxx; yyy
"
29022,32062,Selenium: Is possible to get the text between two xpath selections?,"//p[preceding::center/h3 and following::a[@href=""index.htm""]]
"
28816,48499,Django Restframework: What view to use for statistical summary of queryset?,"# pseudo-code !    

class DataView(ListAPIView):
    """"""Returns a queryset as a serialized and paginated list.
    Set queryset, permissions, etc. here.""""""

    def get_queryset(self):
        # add complex lookup here
        queryset = self.queryset
        return queryset


class SummaryView(DataView):
    """"""Overwrite the get method to serve different 
    content, e.g. statistical summary.""""""

    def summarize(self, request, *args, **kwargs):
        """"""This can be moved to a Mixin class.""""""
        # make sure the filters of the parent class get applied
        queryset = self.filter_queryset(self.get_queryset())
        # do statistics here, e.g.
        stats = {'count': queryset.count()}
        # not using a serializer here since it is already a 
        # form of serialization
        return Response(stats)

    def get(self, request, *args, **kwargs):
        return self.summarize(request, *args, **kwargs)
"
18561,50763,Pandas messing up the date column on DataFrame.from_csv,"import pandas as pd

a = pd.read_csv('test.csv')
b = pd.DataFrame.from_csv('test.csv')

>>>a
         date at  goals.scored  goals.lost  result
0  16/09/2014  A             0           2       2
1  01/10/2014  H             4           1       1
2  22/10/2014  A             2           1       1
3  04/11/2014  H             3           3       0
4  26/11/2014  H             2           0       1
5  09/12/2014  A             4           1       1
6  25/02/2015  H             1           3       2
7  17/03/2015  A             2           0       1
8  19/08/2014  A             0           0       0


>>>b
           at  goals.scored  goals.lost  result
date                                           
2014-09-16  A             0           2       2
2014-01-10  H             4           1       1
2014-10-22  A             2           1       1
2014-04-11  H             3           3       0
2014-11-26  H             2           0       1
2014-09-12  A             4           1       1
2015-02-25  H             1           3       2
2015-03-17  A             2           0       1
2014-08-19  A             0           0       0
"
35999,63843,Python- Saving/Accessing file extension icons and using them in a Tkinter program,"def icon32(PATH):
    SHGFI_ICON = 0x000000100
    SHGFI_ICONLOCATION = 0x000001000
    SHIL_EXTRALARGE = 0x00002
    ret, info = shell.SHGetFileInfo(PATH, 0, SHGFI_ICONLOCATION | SHGFI_ICON | SHIL_EXTRALARGE)
    hIcon, iIcon, dwAttr, name, typeName = info
    tempDirectory = os.getenv(""temp"")
    ico_x = win32api.GetSystemMetrics(win32con.SM_CXICON)
    #creating a destination memory DC
    hdc = win32ui.CreateDCFromHandle(win32gui.GetDC(0))
    hbmp = win32ui.CreateBitmap()
    hbmp.CreateCompatibleBitmap(hdc, ico_x, ico_x)
    hdc = hdc.CreateCompatibleDC()
    hdc.SelectObject(hbmp)
    hdc.DrawIcon((0, 0), hIcon)
    win32gui.DestroyIcon(hIcon)
    hbmp.SaveBitmapFile(hdc, tempDirectory + ""\Icontemp.bmp"")
    icon = QIcon(tempDirectory + ""\Icontemp.bmp"")
    os.remove(tempDirectory + ""\Icontemp.bmp"")
    return icon
"
6626,23733,How to date-stamp a pickled object,"import os
import datetime
import time
threshold = datetime.timedelta(days=3) # can also be minutes, seconds, etc.
filetime = os.path.getmtime(filename) # filename is the path to the local file you are refreshing
now = time.time()
delta = datetime.timedelta(seconds=now-filetime)
if delta > threshold:
    # do something
"
10703,83360,Call a functor in Python,"class A:
   def bar(self):
       print 'Bar'

   def apply(self, func):
       func()  # call it like any other function

   def copyApply(self, func):
       cpy = copy.copy(self)
       func(cpy)  # cpy becomes the self parameter

a = A()
func = a.bar  # don't call the function yet

a.apply(func)       # call the bound method `a.bar`
a.apply(a.bar)      # same as the line above
a.copyApply(A.bar)  # call the unbound method `A.bar` on a new `A`
"
23873,56455,What's the relationship between numbers.Integral and int in builtins module in Python 3,">>> isinstance(3, numbers.Integral)
True
>>> isinstance(3.0, numbers.Integral)
False
>>> isinstance(3+0j, numbers.Integral)
False
"
28798,41777,removing json items from array if value is duplicate python,"import json

with open('python.json') as fp:
    ds = json.load(fp) #this file contains the json

    mem = {}

    for record in ds:
        name = record[""name""]
        if name not in mem:
            mem[name] = record

    print mem.values()
"
10915,59891,Extracting Columns from numpy array,"for item in A.T:
    print(item)
"
20798,34673,How do I enable 'doctest.ELLIPSIS' at the Python prompt?," [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]
"
5420,76557,Preserving python dictionary order - (Continuation of python dict ),">>> from collections import OrderedDict
>>> # regular unsorted dictionary
>>> d = {'banana': 3, 'apple':4, 'pear': 1, 'orange': 2}

>>> # dictionary sorted by key
>>> OrderedDict(sorted(d.items(), key=lambda t: t[0]))
OrderedDict([('apple', 4), ('banana', 3), ('orange', 2), ('pear', 1)])

>>> # dictionary sorted by value
>>> OrderedDict(sorted(d.items(), key=lambda t: t[1]))
OrderedDict([('pear', 1), ('orange', 2), ('banana', 3), ('apple', 4)])

>>> # dictionary sorted by length of the key string
>>> OrderedDict(sorted(d.items(), key=lambda t: len(t[0])))
OrderedDict([('pear', 1), ('apple', 4), ('orange', 2), ('banana', 3)])
"
29301,81106,Where does help() find the info in Python?,"Help on _Helper in module site object:

class _Helper(__builtin__.object)
 |  Define the builtin 'help'.
 |  This is a wrapper around pydoc.help (with a twist).
 |  
 |  Methods defined here:
 |  
 |  __call__(self, *args, **kwds)
 |  
 |  __repr__(self)
 |  
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |  
 |  __dict__
 |      dictionary for instance variables (if defined)
 |  
 |  __weakref__
 |      list of weak references to the object (if defined)
"
11431,9953,Searching for keywords in python,"words = input(""Enter a word or sentence: "").strip()
words = words.lower()
if 'water' in words and 'phone' in words:
    print('Dry your phone')
"
94,66276,What is the most performant way to check existance of a number in a set of numbers in python,"if i in set(mylist):
"
36051,9603,Use string or dict to build Python function parameters,"params = {
    'param1': 'val1',
    'param2': 'val2',
    'param3': 'val3'
}

foo(**params) # Even ubener magic
"
18888,6043,Python: Tkinter file dialogues,"import Tkinter, tkFileDialog
root = Tkinter.Tk()
root.withdraw()
save_dir = tkFileDialog.asksaveasfilename()
"
6089,83567,Remove columns where every value is masked,"test[:, ~np.all(test.mask, axis=0)]
#masked_array(data =
# [[1 --]
# [-- 3]
# [1 4]],
#             mask =
# [[False  True]
# [ True False]
# [False False]],
#       fill_value = 0)
"
29103,11669,Python threading - how to get parent ID/name,"from threading import current_thread

class MyThread(threading.Thread):
    def __init__(self, *args, **kwargs):
        self.parent = current_thread()
        Thread.__init__(self, *args, **kwargs)
"
16542,20134,wtforms+flask today's date as a default value,"class BoringForm(Form):
    until = DateTimeField(
        ""Until"", format=""%Y-%m-%dT%H:%M:%S"",
        default=datetime.today, ## Now it will call it everytime.
        validators=[validators.DataRequired()]
    )
"
15502,83369,Python select used in python program,"def _read_write(self):

    # This allows us to get multiple
    # lower-level timeouts before we give up.
    # (but see later note about Python 3)

    time_out_max = self.timeout/3

    # We have two sockets we care about

    socs = [self.client, self.target]

    # Loop until error or timeout
    count = 0
    while 1:
        count += 1

        # select is very efficient.  It will let
        # other processes execute until we have
        # data or an error.

        # We only care about receive and error
        # conditions, so we pass in an empty list
        # for transmit, and assign transmit results
        # to the _ variable to ignore.

        # We also pass a timeout of 3 seconds, which
        # is why it's OK to divide the timeout value
        # by 3 above.

        # Note that select doesn't read anything for
        # us -- it just blocks until data is ready.

        (recv, _, error) = select.select(socs, [], socs, 3)

        # If we have an error, break out of the loop

        if error:
            break

        # If we have receive data, it's from the client
        # for the target, or the other way around, or
        # even both.  Loop through and deal with whatever
        # receive data we have and send it to the other
        # port.

        # BTW, ""if recv"" is redundant here -- (a) in
        # general (except for timeouts) we'll have
        # receive data here, and (b) the for loop won't
        # execute if we don't.

        if recv:
            for in_ in recv:

                # Read data up to a max of BUFLEN,

                data = in_.recv(BUFLEN)

                # Dump the data out the other side.
                # Indexing probably would have been
                # more efficient than this if/else

                if in_ is self.client:
                    out = self.target
                else:
                    out = self.client

                # I think this may be a bug.  IIRC,
                # send is not required to send all the
                # data, but I don't remember and cannot
                # be bothered to look it up right now.

                if data:
                    out.send(data)
                    # Reset the timeout counter.
                    count = 0

        # This is ugly -- should be >=, then it might
        # work even on Python 3...

        if count == time_out_max:
            break

    # We're done with the loop and exit the function on
    # either a timeout or an error.
"
3679,24564,I there a python function to reset the script after it's run?,"import sys
def myScript():
        # Rate our Love!! 
    ###   Press F5
    ## then input a rating for our relationship so far
    print ""Type a rating for our relationship"" 
    love_rate = raw_input(""Type a rating for our relationship:"")
    ### word answers
    idk = 'idk'
    no = 'no' 
    yes = 'yes' 
    lol = 'lol'
    smh = 'smh'
    love(love_rate)

def love(n):
        if n < 0 : 
            print ""Why would it be negative?!"" 
        elif n == 'yes' : 
            print "" Well if that's the case, then I think we're gonna be just fine."" 
        elif n == 'no' : 
            print 'well then... this is awkward'
        elif n == 'lol' : 
            print '''THATS NOT EVEN A NUMBER    ......sniff'''
        elif n == 'smh' :
            print ""I'm kinda mad that's an answer you thought of putting here""      
        ## numbered entries 
        elif n == '0' : 
            print "" *gasps profusely* YOU DON'T DESERVE THIS PROGRAM"" 
        elif n == '1' :
            print ""Wow that is kinda hurtful, not gonna lie"" 
        elif n == '2' : 
            print ""You make me smile at least once, each and every day""
        elif n == '3' : 
            print""you wouldn't believe how annoying it was to get this program to run properly!"" + "" Thats all i get?""
        elif n == '4' : 
            print ""let's "" + ""shoot a little higher than that""
        elif n == '5' : 
            print ""you're unforgettable, that's what you are"" 
        elif n == '6' :
            print ""always have, always '____' *hint* fill in the blank "" 
        elif n == '7' :
            print ""i could never leave you, I love you too much"" 
        elif n == '8' : 
            print ""an 8/10 is still only a B, maybe I'm not trying hard enough"" 
        elif n == '9' : 
            print "" well, I'm not perfect yet, could have seen that one coming. Guess I just have to keep trying :)"" 
        elif n == '10' : 
            print "" i think you're exaggerating, i really am not that good yet""     
        elif n == '11' : 
            print """"""I can be a little immature sometimes and i'm sorry for that, i promise I can get better though. But i need you. I need you to help me out. Can you do that?"""""" 
        elif n == '12' : 
            print ""I don't think the scale is supposed to go this high"" 
        elif n == '13' :
            print ""alright now you're pushing it."" 
        elif n == '14' : 
            print ""alright, THE SCALE GOES UP TO AROUND 10. CEASE"" 
        elif n == '15' : 
            print "" go up one more number. I DARE YOU""
        elif n == '16' : 
            print "" go up one more number. see what happens""
        elif n == '17' : 
            print ""one more number"" 
        elif n == '18' : 
            print ""one more"" 
        elif n == '19' : 
            print ""STOP"" 
        elif n == '92412' : 
            print "" I think that is one fantastic answer, can't wait for our anniversary"" 
        else:
            print ""I still really hope that we could get married someday."" 

        print """"""Want to try again?""""""
        yes = set(['yes','y', 'ye', ''])
        no = set(['no','n'])

        choice = raw_input().lower()
        if choice in yes:
           myScript()
        elif choice in no:
           sys.exit(0)
        else:
           sys.stdout.write(""Please respond with 'yes' or 'no'"")
        myScript()



myScript()
"
24595,18535,Python -SQL String Escape Wildcards,"cursor.execute(QryString, matter)
"
467,9714,How to pass field values of custom model to Qweb report?," class print_report(osv.TransientModel):
_name='report.wizard'
_columns={
    'room1':fields.many2one('hotel.allroom','roomnum','Room No.')
}
    def print_report(self, cr, uid, ids, context=None):
        current=self.browse(cr,uid,ids)
        obj=self.pool.get('book.room')
        k=obj.search(cr,uid,[('name','=',current.name.name)],context=context)


    context = {}
    data = self.read(cr, uid, ids)[0]


    datas = {
    'ids': k,
    'model': 'report.wizard',
    'form': data,
    'context':context
    }
    return{
        'type' : 'ir.actions.report.xml',
        'report_name' : 'hotel_mng.Booking_Details',
        'datas' : datas,
        } 

print_report()
"
35514,32557,Python decorator with arguments,"import types

class PropertyFromCompute(property):

    def __init__(self, func):
        self.func = None
        self.func_name = func.__name__
        self.internal_prop_name = self.func_name.replace('compute', '')

    def fget(self, obj):
        try:
            return obj.__getattribute__(self.internal_prop_name)
        except AttributeError:
            obj.__setattr__(self.internal_prop_name, self.func())
            return obj.__getattribute__(self.internal_prop_name)

    def __get__(self, obj, objtype=None):
        if obj is None:
            return self
        if self.func is None:
            try:
                self.func =  obj.__getattribute__(self.func_name)
            except AttributeError:
                raise AttributeError(""unreadable attribute"")
        return self.fget(obj)

class WithPropertyfromCompute(type):

    def __new__(cls, clsname, bases, dct):
        add_prop = {}
        for name, obj in dct.items():
            if isinstance(obj, types.FunctionType) and name.startswith('compute_'):
                add_prop.update({name.replace('compute_',''): PropertyFromCompute(obj)})
        dct.update(add_prop)
        return super().__new__(cls, clsname, bases, dct)


class myClass(object, metaclass=WithPropertyfromCompute):

    def compute_foo(self):
        raise NotImplementedError('Do not instantiate the base class, ever !')

class myChildClass(myClass):

    def compute_foo(self):
        return 4

base = myClass()
try:
    print(base.foo)
except NotImplementedError as e:
    print(e)
print(myClass.foo)
child = myChildClass()
print(child.foo)
"
22645,25703,Get path to exe file on py2exe,"_file = os.path.abspath(sys.argv[0])
path = os.path.dirname(_file)
"
3799,63719,What is this plot called and how to make it in matplotlib?,"# States and their colors
state_list = [1, 2, 1]
STATE_COLOR = { 1 : 'r', 2 : 'y' }

L = 1.5 # Constant state length

x = np.linspace(0, 4.5)
y = x**2 - 3

# Draw states
for i, state in enumerate(state_list):
    x1 = i * L
    x2 = (i+1) * L
    plt.axvspan(x1, x2, color=STATE_COLOR[state])

# Draw line data
plt.plot(x, y)
"
6771,18956,"Python: new class, inheriting and overriding","def append(self, item):
    if item in self:
        print('This item is already in your list')
    else:
        return super(MyList, self).append(item)
"
38305,41466,How to call some method every time user enters some model admin in django?,"class SystemAdmin(ModelAdmin):
    form = SystemAdminForm

    def __init__(self, *args, **kwargs):
        super(SystemAdmin,self).__init__(*args, **kwargs)
        self.refresh()

    def refresh(self, request, obj):
        avahi = AvahiServiceDetector(self.update)


    def update(self, name, address, port):
        ip = IP.objects.get_or_create(address=address)
"
17178,40252,Access a member in base class in Python?,"class Base(object):
    foo = 5

class Derived(Base):
    """"""A class derived from Base.

    >>> bar = Base()
    >>> print bar.foo
    5
    >>> foobar = Derived()
    >>> print foobar.foo
    6
    >>> print foobar.__class__.__base__.foo
    5
    >>> foobar.__class__.__base__.foo = 7
    >>> bar.foo
    7
    """"""
    foo = 6
"
466,20970,pySerial: port only work the first command,"init_serial()
while True:
    ser.close()
    ser.open()
    time.sleep(2)  #at least wait for 2s 
    cmd = raw_input('Type what you want to send:\r\n')
    ser.write(cmd.encode('ascii')+'\r\n')
    if cmd =='q':
        ser.close()
        print ser.portstr +' is closed'
        exit()
    else:
        bytes = ser.readline() 
        print ('Return: ' + bytes) 
"
15561,9280,Text search using python,"match_region = [map(str, blob.sentences[i-1:i+2])     # from prev to after next
                for i, s in enumerate(blob.sentences) # i is index, e is element
                if search_words & set(s.words)]       # same as your condition
"
17014,68474,python get second value of a tuple in a list,"from collections import defaultdict
l = [(960, 965), (960, 988), (359, 364), (359, 365), (361, 366), (361, 367), (361, 368), (361, 369), (360, 370), (360, 371), (360, 372), (360, 373), (361, 374)]

d = defaultdict(list)

for key, value in l:
    d[key].append(value)
"
8696,82349,How to store functions in django models,"class Vote(models.Model):
    VOTE_ENUM = (
        (VoteEnum.DOWN_VOTE, VoteEnum.toString(VoteEnum.DOWN_VOTE)),
        (VoteEnum.NONE, VoteEnum.toString(VoteEnum.NONE)),
        (VoteEnum.UP_VOTE, VoteEnum.toString(VoteEnum.UP_VOTE)),

    )
    question = models.ForeignKey(Question, null=False, editable=False, blank=False)
    voter = models.ForeignKey(User, blank=False, null=False, editable=False)
    vote_type = models.SmallIntegerField(default=0, null=False, blank=False, choices=VOTE_ENUM)

    class Meta:
        abstract = True

    def is_upvote(self):
        return self.vote_type > 0
    def is_downvote(self):
        return self.vote_type < 0

class VoteAnswer(Vote):
    answer = models.ForeignKey(Answer, null=False, editable=False, blank=False)

    class Meta:
        unique_together = ((""voter"", ""answer""),) # to prevent user from voting on the same question/answer/comment again

    def __unicode__(self):
        vote_type = ""UP"" if vote_type > 0 else (""DOWN"" if vote_type < 0 else ""NONE"")
        return u""{0}: [{1}] {2}"".format(user.username, vote_type, answer.text[:32])

    def is_upvote(self):
        return ""FOO! ""+str(super(VoteAnswer, self).is_upvote())

class VoteComment(Vote):
    comment = models.ForeignKey(Comment, null=False, editable=False, blank=False)

    class Meta:
        unique_together = ((""voter"", ""comment""),) # to prevent user from voting on the same question/answer/comment again

    def __unicode__(self):
        vote_type = ""UP"" if vote_type > 0 else (""DOWN"" if vote_type < 0 else ""NONE"")
        return u""{0}: [{1}] {2}"".format(user.username, vote_type, comment.text[:32])

    def is_upvote(self):
        return ""BAR!""
"
13274,57955,Matplotlib: draw a series of radial lines on PolarAxes,"import numpy as np
import matplotlib.pyplot as plt

#Create radius and theta arrays, and a 2d radius/theta array
radius = np.linspace(0.2,0.4,51)
theta = np.linspace(0,2*np.pi,51)
R,T  = np.meshgrid(radius,theta)

#Calculate some values to plot
Zfun = lambda R,T: R**2*np.cos(T)
Z = Zfun(R,T)

#Create figure and polar axis
fig = plt.figure()
ax = fig.add_subplot(111, polar = True)

ax.pcolor(T,R,Z)    #Plot calculated values

#Plot thick red section and label it
theta = np.linspace(0,np.pi/4,21)
ax.plot(theta,[1.23 for t in theta],color='#AA5555',linewidth=10)   #Colors are set by hex codes
ax.text(np.pi/8,1.25,""Text"")

ax.set_rmax(1.25)   #Set maximum radius

#Turn off polar labels
ax.axes.get_xaxis().set_visible(False)
ax.axes.get_yaxis().set_visible(False)
"
3950,69532,probability density function from histogram in python to fit another histrogram,"import numpy
import scipy.interpolate
import random
import matplotlib.pyplot as pyplot

# create some normally distributed values and make a histogram
a = numpy.random.normal(size=10000)
counts, bins = numpy.histogram(a, bins=100, density=True)
cum_counts = numpy.cumsum(counts)
bin_widths = (bins[1:] - bins[:-1])

# generate more values with same distribution
x = cum_counts*bin_widths
y = bins[1:]
inverse_density_function = scipy.interpolate.interp1d(x, y)
b = numpy.zeros(10000)
for i in range(len( b )):
    u = random.uniform( x[0], x[-1] )
    b[i] = inverse_density_function( u )

# plot both        
pyplot.hist(a, 100) 
pyplot.hist(b, 100)
pyplot.show()
"
19348,69747,QFileDialog returns selected file with wrong seperators,"def get_files_to_add(some_directory):
  addq = QFileDialog()
  addq.setFileMode(QFileDialog.ExistingFiles)
  addq.setDirectory(some_directory)
  addq.setFilter(QDir.Files)
  addq.setAcceptMode(QFileDialog.AcceptOpen)
  new_files = list()
  if addq.exec_() == QDialog.Accepted:
    for horrible_name in addq.selectedFiles():
      ### CONVERSION HERE ###
      temp = str(QDir.toNativeSeparators(horrible_name)
      ### 
      # temp is now as the os module expects it to be
      # let's strip off the path and the extension
      no_path = temp.rsplit(os.sep,1)[1]
      no_ext = no_path.split(""."")[0]
      #... do some magic with the file name that has had path stripped and extension stripped
      new_files.append(no_ext)
      pass
    pass
  else:
    #not loading  anything
    pass
  return new_files
"
8363,84062,Column name with quotes,"In [7]:

import pandas as pd
d = {
         '""one""': [1, 2, 3, 4, 5],
         '""two': [9, 8, 7, 6, 5]
    }
df = pd.DataFrame(d)

In [8]:
df['""one""']

Out[8]:
0    1
1    2
2    3
3    4
4    5
Name: ""one"", dtype: int64

In [9]:    
df['""two']

Out[9]:
0    9
1    8
2    7
3    6
4    5
Name: ""two, dtype: int64
"
10920,62518,"using binary operator in Python... translating if (c1 >= ""\xc0"" & c1 <= ""\xdf"")",">>> c1 = ""a""
>>> (ord(c1) & 0x3f) | 0x80
161
>>> hex((ord(c1) & 0x3f) | 0x80)
'0xa1'
"
14815,65153,Can to_representation() in Django Rest Framework access the normal fields,"class PersonListSerializer(serializers.ModelSerializer):
    class Meta:
        model = Person
        fields = ('foo', 'bar',)

    def to_representation(self, instance):
        data = super(PersonListSerializer, self).to_representation(instance)
        data.update(...)
        return data
"
16578,4958,How can i search and replace using python regex,"def myfunc(h):
    rules = {
            ""#"":r""\#"",
            ""$"":r""\$"",
            ""%"":r""\%"",
            ""&"":r""\&"",
            ""~"":r""\~{}"",
            ""_"":r""\_"",
            ""^"":r""\^{}"",
            ""\\"":r""\textbackslash{}"",
            ""{"":r""\{"",
            ""}"":r""\}""                
    }
    pattern = '[%s]' % re.escape(''.join(rules.keys()))
    new = re.sub(pattern, lambda m: rules[m.group()], h)
    return new
"
38398,80526,Python - Mean Length Function for All Files in Folder,"def mean_length(filepath):
    length = 0.0
    line_num = 0
    with open(filepath) as f:
        for line in f:
            if line.strip():
                length += len(line.strip())
                line_num += 1
    return length/line_num

def highest_mean():
    max_mean = 0 
    max_name = """"
    for root, dirs, files in os.walk(""Desktop/Textfiles""):
        for filename in files:
            if filename.endswith('.txt'):
                filepath = os.path.join(root, filename)
                m_length = mean_length(filepath)
                if m_length > max_mean:
                    max_name = filename
                    max_mean = m_length
   return max_name
"
20937,43860,select sub item in a tuple list in python,"x, y = zip(*a)
"
35496,61024,Slicing strings in a comprehension,"new_dict = {key:(value[:1] if len(value) > 1 else value) for key,value in old_dict.iteritems()}
"
26680,66541,Django forms: integrating a submit button as part of your form,"<form action=""/your_url_here/"" method=""post"">{% csrf_token %}
{{ form.as_ul }}
<input type=""submit"" value=""Submit"" />
</form>
"
1416,83481,Quick way creating counts for keys in a table,"from string import ascii_letters as letters
from numpy.random import randint
from numpy import array

from pandas import Series

n = 1000
ltrs = Series(array(list(letters))[randint(len(letters), size=n)])
ltrs.value_counts().value_counts().plot(kind='bar')
"
18814,50860,Importing text with pandas/python,"In [1079]: data = 'word,length\nTr\xe4umen,7\nGr\xfc\xdfe,5'

In [1080]: df = pd.read_csv(StringIO(data), encoding='latin-1')

In [1081]: df

      word  length
0  TrÃ¤umen       7
1    GrÃ¼Ãe       5

In [1082]: df['word'][1]
u'Gr\xfc\xdfe'
"
1816,20072,Perl to Python Regex,"match = re.search(r""\s+id\s+(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3}),\s+data\s+(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3}),\s+Type Transit\s+(\d{1,2})"", subject)
if match:
    id   = ""."".join(match.group(1,2,3,4))
    data = ""."".join(match.group(5,6,7,8))
else:
    # Match attempt failed
"
12625,51897,ctypes.windll.user32.GetCursorInfo() - how can I manage this to work? [Python],">>> import win32gui
>>> win32gui.GetCursorInfo()
(1, 65555, (717, 412))
"
37109,17718,Custom form field for Foreign key model field in Django,"class BuzCustomField(forms.CharField):

    def clean(self, value):
        """"""
        Validates the given value and returns its ""cleaned"" value as an
        appropriate Python object.

        Raises ValidationError for any errors.
        """"""
        value = self.to_python(value)
        value = Buz.objects.get(value)
        self.validate(value)
        self.run_validators(value)
        return value

class FooForm(forms.ModelForm):
    baz = forms.BuzCustomField()

    Meta:
        model = Bar
        fields = ('baz', 'description')
"
35163,58829,Python C++ extension with SWIG - calling a function by importing module,"%init %{
    my_init_function();
%}
"
10816,653,insert row python gdata.spreadsheets.client,"import gdata.spreadsheets.client
import gdata.spreadsheets.data
import gdata.gauth

# create the OAuth2 token
token = gdata.gauth.OAuth2Token(client_id='CLIENTID',
                                client_secret='CLIENTSECRET',
                                scope='https://spreadsheets.google.com/feeds/',
                                user_agent='blah.blah',
                                access_token='ACCESSTOKEN',
                                refresh_token='REFRESHTOKEN')

# create the spreadsheet client and authenticate
spr_client = gdata.spreadsheets.client.SpreadsheetsClient()
token.authorize(spr_client)

#create a ListEntry. the first item of the list corresponds to the first 'header' row
entry = gdata.spreadsheets.data.ListEntry()
entry.set_value('ham', 'gary')
entry.set_value('crab', 'sack')

# add the ListEntry you just made
spr_client.add_list_entry(entry, 'SPREADSHEETID', 'od6')
"
9490,23096,"Get the name of the queue a caller is in, Twilio","@app.route('/wait', methods=['POST'])
def wait():
    response = twiml.Response()
    response.say(""You are %s in the queue."" % request.form['QueuePosition'])
    response.play(""http://com.twilio.music.classical.s3.amazonaws.com/BusyStrings.mp3"")
    account_sid = ""*****""
    auth_token = ""*****""
    client = TwilioRestClient(account_sid, auth_token)
    queue = client.queues.get(request.form['QueueSid']) #Get the queue based on SID
    friendlyName = queue.friendly_name; #Obtain the queue's Friendly Name
    client.sms.messages.create(to=""+15555555555"", from_=""+15555555554"", body=""A caller is in the call queue - %(num)s in queue %(queue)s"" % {""num"": request.form['From'], ""queue"" : friendlyName}) #SMS with caller ID and queue's friendly name
    return str(response)
"
29570,53469,SQLAlchemy - Accounting for the None Case in a nested OR Relationship,"conn.query(Identifier.Key)\
    .filter(and_(Identifier.DatetimeStart <= datetime.datetime.now(),
        or_(Identifier.DatetimeEnd <= datetime.datetime.now(), Identifier.DatetimeEnd == None)))\
    .all()

SELECT identifier.identifier_id AS identifier_identifier_id 
    FROM identifier 
    WHERE identifier.datetime_start <= ? AND (identifier.datetime_end <= ? OR identifier.datetime_end IS NULL)
"
6827,49298,Ranking of numpy array with possible duplicates,"In [1]: import numpy as np

In [2]: from scipy.stats import rankdata as rd
   ...: from scipy.stats.mstats import rankdata as rd2
   ...: 

In [3]: array = np.arange(0.1, 1000000.1)

In [4]: %timeit np.searchsorted(np.sort(array), array)
1 loops, best of 3: 385 ms per loop

In [5]: %timeit rd(array)
10 loops, best of 3: 109 ms per loop

In [6]: %timeit rd2(array)
1 loops, best of 3: 205 ms per loop
"
28027,21418,How can I identify when a Button is released in Tkinter?,"import Tkinter as tk
import time

class Example(tk.Frame):
    def __init__(self, *args, **kwargs):
        tk.Frame.__init__(self, *args, **kwargs)
        self.button = tk.Button(self, text=""Press me!"")
        self.text = tk.Text(self, width=40, height=6)
        self.vsb = tk.Scrollbar(self, command=self.text.yview)
        self.text.configure(yscrollcommand=self.vsb.set)

        self.button.pack(side=""top"")
        self.vsb.pack(side=""right"", fill=""y"")
        self.text.pack(side=""bottom"", fill=""x"")

        self.button.bind(""<ButtonPress>"", self.on_press)
        self.button.bind(""<ButtonRelease>"", self.on_release)

    def on_press(self, event):
        self.log(""button was pressed"")

    def on_release(self, event):
        self.log(""button was released"")

    def log(self, message):
        now = time.strftime(""%I:%M:%S"", time.localtime())
        self.text.insert(""end"", now + "" "" + message.strip() + ""\n"")
        self.text.see(""end"")

if __name__ == ""__main__"":
    root = tk.Tk()
    Example(root).pack(side=""top"", fill=""both"", expand=True)
    root.mainloop()
"
9710,45967,Adding start separate page in django app,"class Start(TemplateView):

    def get_template_names(self):
        if self.request.user.is_authenticated():
            return ['dashboard/dashboard.html']
        return ['dashboard/start.html']
"
37882,51977,Keep window always on bottom,"import wx


class MyFrame(wx.Frame):
    def __init__(self, *args, **kwargs):
        super(MyFrame, self).__init__(*args, **kwargs)
        self.Bind(wx.EVT_ACTIVATE, self.on_focus)

    def on_focus(self, evt):
        self.Lower()


if __name__ == '__main__':
    app = wx.App(False)
    main_window = MyFrame(None)
    main_window.Show()
    app.MainLoop()
"
8566,55342,Python Boolean in Brackets?,"import numpy as np
x = np.arange(10)
y = np.zeros(10)
print y
y[x>3] = 10
print y
"
22386,40632,Calculating minimum length among the lists inside a list,">>> a=[[1,0,1,2,1,1,1,3111111],[31,1,4,51,1,1,1],[1,1,6,7,8]]
>>> min(map(len, a))
 5
"
21249,57311,Using IPython Notebook (with rdflib?) to log SPARQL queries and results,"In [5]:  %%script bash
         arq --data dcam.ttl '
         PREFIX rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
         PREFIX dcam:    <http://purl.org/dc/dcam/>
         PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>

         CONSTRUCT
         WHERE { ?s rdf:type ?o . }'
"
16574,81803,how to compare two files and print mismatched line number in python?,"import itertools

with open('file1.txt') as f1, open('file2.txt') as f2:
    for lineno, (line1, line2) in enumerate(itertools.izip(f1, f2), 1):
        if line1 != line2:
            print 'mismatch in line no:', lineno
"
2064,21777,Function which removes the first item in a list (Python),">>> a = [1, 2]
>>> b = a[:]  # slice with all the elements, produces a *copy*
>>> b
[1, 2]
>>> a.pop()  # remove an element from a won't change b
2
>>> b
[1, 2]
>>> a
[1]
"
37201,52074,How to apply a function to rows of two pandas DataFrame,"In [19]:
dfx = pd.DataFrame(data = np.random.randint(0 , 100 , 50).reshape(10 ,-1) , columns=list('abcde'))
dfx
Out[19]:
a   b   c   d   e
3   44  8   55  95
26  5   18  34  10
20  20  91  15  8
83  7   50  47  27
97  65  10  94  93
44  6   70  60  4
38  64  8   67  92
44  21  42  6   12
30  98  34  7   79
76  7   14  58  5

In [4]:
dfy = pd.DataFrame(data = np.random.randint(0 , 100 , 50).reshape(10 ,-1) , columns=list('fghij'))
dfy
Out[4]:
f   g   h   i   j
82  48  29  54  78
7   31  78  38  30
90  91  43  8   40
52  88  13  87  39
41  88  90  51  91
55  4   94  62  98
31  23  4   59  93
87  12  33  77  0
25  99  39  23  1
7   50  46  39  66

In [13]:
dfxy = pd.concat({'dfx':dfx, 'dfy':dfy} , axis = 1)
dfxy
Out[13]:
       dfx                 dfy
a   b   c   d   e   f   g   h   i   j
20  76  5   98  38  82  48  29  54  78
39  36  9   3   74  7   31  78  38  30
43  12  50  72  14  90  91  43  8   40
89  41  95  91  86  52  88  13  87  39
33  30  55  64  94  41  88  90  51  91
89  84  48  1   60  55  4   94  62  98
68  40  27  10  63  31  23  4   59  93
33  10  86  89  67  87  12  33  77  0
56  89  0   70  67  25  99  39  23  1
48  58  98  18  24  7   50  46  39  66

def f(x , y):
    return pd.Series(data = [np.mean(x) , np.mean(y)] , index=['x_mean' , 'y_mean'])

In [17]:
dfxy.apply( lambda x : f(x['dfx'] , x['dfy']) , axis = 1)
Out[17]:
   x_mean   y_mean
0   47.4    58.2
1   32.2    36.8
2   38.2    54.4
3   80.4    55.8
4   55.2    72.2
5   56.4    62.6
6   41.6    42.0
7   57.0    41.8
8   56.4    37.4
9   49.2    41.6
"
17114,33880,How can I create a loop in Python with i indices where i is itself a variable?,"for i in range(12):
    for j in itertools.product(range(5), repeat=i):
        # Made-up statement to exercise j
        print j[0], print j[i-1]
"
18651,717,How do I parse a text file in dictionary form and put it into a dictionary in python?,">>> value = ""{('q0','a'):('q0','a','R'),('q0','b'):('q0','a','R'),('q1',' '):('q1',' ','L')}""
>>> value
""{('q0','a'):('q0','a','R'),('q0','b'):('q0','a','R'),('q1',' '):('q1',' ','L')}""
>>> d = eval(value)
>>> type(d)
<type 'dict'>
>>> d
{('q1', ' '): ('q1', ' ', 'L'), ('q0', 'a'): ('q0', 'a', 'R'), ('q0', 'b'): ('q0', 'a', 'R')}
"
1478,44482,How do i make a game director in python?,"import os
print('What game do you want to play?')
print('1.  Hangman')
print('2.  Dragon Realm')
print('3.  Crafting Challenge')

gamechoice = input()
print('Ok, sending you there...')

if gamechoice == 1:
    os.startfile('hangman.py')
elif gamechoice == 2:
    os.startfile('Dragon Realm.py')
elif gamechoice == 3:
    os.startfile('crafting challenge.py')
"
38463,38107,run python program one by one,"import os
os.chdir('\home\something\')
import subprocess`
subprocess.call(['python','1.py'])
subprocess.call(['python','2.py'])
"
18215,65281,Django: Getting render_to_response to accept bytes rather than html on disk,"from django.http import HttpResponse
from django.template import Template

def your_view(...):
    # Do stuff

    yourtemplate = Template(your_template_string)

    content = yourtemplate.render(context_instance=RequestContext(request))

    # content_type and status are the same as would be passed
    # to render() or render_to_response().
    return HttpResponse(content, content_type=None, status=None)
"
38221,13932,How to match this regex to extract the following pattern?,">>> s = '''Vaya ir VMM03S0 0.427083
maÃ±anita maÃ±ana RG 0.796611
, , Fc 1
buscando buscar VMG0000 1
una uno DI0FS0 0.951575
lavadora lavadora NCFS000 0.414738
con con SPS00 1
la el DA0FS0 0.972269
que que PR0CN000 0.562517
sorprender sorprender VMN0000 1
a a SPS00 0.996023
una uno DI0FS0 0.951575
persona persona NCFS000 0.98773
muy muy RG 1
especial especial AQ0CS0 1
para para SPS00 0.999103
nosotros nosotros PP1MP000 1
, , Fc 1
y y CC 0.999962
la lo PP3FSA00 0.0277039
encontramos encontrar VMIP1P0 0.65
. . Fp 1

Pero pero CC 0.999764
vamos ir VMIP1P0 0.655914
a a SPS00 0.996023
lo el DA0NS0 0.457533
que que PR0CN000 0.562517
interesa interesar VMIP3S0 0.994868
LO_QUE_INTERESA_La lo_que_interesa_la NP00000 1
lavadora lavador AQ0FS0 0.585262
tiene tener VMIP3S0 1
una uno DI0FS0 0.951575
clasificaciÃ³n clasificaciÃ³n NCFS000 1
A+ a+ NP00000 1
, , Fc 1
de de SPS00 0.999984
las el DA0FP0 0.970954
que que PR0CN000 0.562517
ahorran ahorrar VMIP3P0 1
energÃ­a energÃ­a NCFS000 1
, , Fc 1
si si CS 0.99954
no no RN 0.998134
me me PP1CS000 0.89124
equivoco equivocar VMIP1S0 1
. . Fp 1

Lava lavar VMIP3S0 0.397388
hasta hasta SPS00 0.957698
7 7 Z 1
kg kilogramo NCMN000 1
, , Fc 1
no no RN 0.998134
estÃ¡ estar VAIP3S0 0.999201
nada nada RG 0.135196
mal mal RG 0.497537
, , Fc 1
se se P00CN000 0.465639
le le PP3CSD00 1
veÃ­a ver VMII3S0 0.62272
un uno DI0MS0 0.987295
gran gran AQ0CS0 1
tambor tambor NCMS000 1
( ( Fpa 1
de de SPS00 0.999984
acero acero NCMS000 0.973481
inoxidable inoxidable AQ0CS0 1
) ) Fpt 1
y y CC 0.999962
un uno DI0MS0 0.987295
consumo consumo NCMS000 0.948927
mÃ¡ximo mÃ¡ximo AQ0MS0 0.986111
de de SPS00 0.999984
49 49 Z 1
litros litro NCMP000 1
Mandos mandos NP00000 1
intuitivos intuitivo AQ0MP0 1
, , Fc 1
todo todo PI0MS000 0.43165
muy muy RG 1
bien bien RG 0.902728
explicado explicar VMP00SM 1
, , Fc 1
nada nada PI0CS000 0.850279
que que PR0CN000 0.562517
ver ver VMN0000 0.997382
con con SPS00 1
la el DA0FS0 0.972269
lavadora lavadora NCFS000 0.414738
de de SPS00 0.999984
casa casa NCFS000 0.979058
de de SPS00 0.999984
mis mi DP1CPS 0.995868
padres padre NCMP000 1
AdemÃ¡s ademÃ¡s NP00000 1
incluye incluir VMIP3S0 0.994868
la el DA0FS0 0.972269
tecnologÃ­a tecnologÃ­a NCFS000 1
Textileprotec textileprotec NP00000 1
que que PR0CN000 0.562517
protege proteger VMIP3S0 0.994868
nuestras nuestro DP1FPP 0.994186
ninguna ninguno DI0S3DF 0.345344
falla falla NCFSD23 1
prendas prenda NCFP000 0.95625
mÃ¡s mÃ¡s RG 1
preciadas preciar VMP00PF 1
. . Fp 1'''
>>> re.findall(r'(?m)^.*?\b(ninguno)\s+(\S+)\s+[0-9.]+\n.*?\s(\S+)\s+(NC\S+)\s+[0-9.]+$', s)
[('ninguno', 'DI0S3DF', 'falla', 'NCFSD23')]
"
35138,2384,Why does Python provide locking mechanisms if it's subject to a GIL?,">>> def f():
...   global num
...   num += 1
...
>>> dis.dis(f)
  3           0 LOAD_GLOBAL              0 (num)
              3 LOAD_CONST               1 (1)
              6 INPLACE_ADD
              7 STORE_GLOBAL             0 (num)
             10 LOAD_CONST               0 (None)
             13 RETURN_VALUE
"
14705,16224,Subset of Dataframe based on substring (python),"import datetime as dt
...

Data['yourdatetimecolumn'] = pd.to_datetime(Data['yourdatetimecolumn'])
JanData = Data[Data['yourdatetimecolumn'].dt.month==1]
"
14740,31465,Dot product with dictionaries,"dot_product = sum(dict_1[key]*dict_2.get(key, 0) for key in dict_1)
"
8291,28099,Selecting specific users,"class SubItemForm(ModelForm):

    def __init__(self,user,*args,**kwargs):
        super(SubItemForm, self).__init__(*args, **kwargs)
        self.fields['advisor'].queryset = User.objects.filter(groups__name='advisor')
"
25897,23038,Plot graph in python with data from file,"with open(filename,""r"") as f:
    data = f.read() # or you can use f.readline()
    .....
    #Format the data
"
10779,44320,"Python, type byte",">>> import ctypes
>>> _ = lambda i: int(ctypes.c_uint32(i).value)
>>> hex(_(0xF0 + 0xAA))
'0x19a'
"
33019,69148,PIP install and Python path,"export PYTHONPATH=<bogus path here>
"
34195,76492,How to Run multiple classes in Single Test Suite in Python Unit testing?,"import unittest

class TestClassA(unittest.TestCase):
    def testOne(self):
        # test code
        pass

class TestClassB(unittest.TestCase):
    def testOne(self):
        # test code
        pass

class TestClassC(unittest.TestCase):
    def testOne(self):
        # test code
        pass

if __name__ == '__main__':
    test_classes_to_run = [TestClassA, TestClassC]

    loader = unittest.TestLoader()

    suites_list = []
    for test_class in test_classes_to_run:
        suite = loader.loadTestsFromTestCase(test_class)
        suites_list.append(suite)

    big_suite = unittest.TestSuite(suites_list)

    runner = unittest.TextTestRunner()
    results = runner.run(big_suite)

    # ...
"
37688,32797,passing numpy arrays through multiprocessing.Queue,"import numpy
import cPickle as pickle

N = 1000
a0 = pickle.dumps(numpy.zeros(N))
a1 = pickle.dumps(numpy.zeros(N), protocol=-1)

print ""a0"", len(a0)   # 32155
print ""a1"", len(a1)   #  8133
"
24479,22775,How to use Python Decorator to change only one part of function?,"def __list_processing(self, list): 
    #do the generic processing of your lists

def list_expenses(self):
    #invoke __list_processing with self.expensedict as a parameter

def list_income(self):
    #invoke __list_processing with self.incomedict as a parameter
"
20241,5984,sorting and summing up a dictionary in python,"# calcuate normalization factor
factor = 1.0 / sum(in_degree_dist.itervalues())

# sort the dictionary
sorted_in_degree_dist = OrderedDict((key, in_degree_dist[key] * factor)
    for key in sorted(in_degree_dist))

# or 
sorted_in_degree_dist = OrderedDict((key, value * factor)
    for key, value in sorted(in_degree_dist.iteritems()))
"
21319,9499,Slicing lists and strings to negative zero,">>> -0
0
"
28729,13842,Forming Django queryset for one-to-many relation,"PicMessage.objects.filter(which_pic__owner=user).order_by('-sending_time').first()
"
8679,71834,"Giving my Python application a web interface to monitor it, using Tornado","import threading
t = threading.Thread(target = tornado.ioloop.IOLoop.instance().start)
t.start()
"
29540,50355,Conditional shift in pandas,"In [110]:
df['Difference'] = df.groupby('Group')['Amount'].transform(pd.Series.diff).fillna(df['Amount'])
df
â
Out[110]:
   Group  Amount  Difference
1      1     100         100
2      1     300         200
3      1     400         100
4      1     700         300
5      2     500         500
6      2     900         400
"
12746,2218,String sequence similarity / difference ratio in javascript and python,"float(sum([a==b for a,b in zip(my_string1,my_string2)]))/len(my_string1)



>>> s1,s2 = ""abcdabcd"",""abcdabEd""
>>> print float(sum([a==b for a,b in zip(s1,s2)]))/len(s1)
0.875
"
34582,3703,Get UNIX timestamp (ie UTC timestamp) from a Python timezone aware date,"import calendar
import datetime
import pytz

d = datetime.datetime.now(pytz.timezone('America/Los_Angeles'))
# d == datetime.datetime(2012, 7, 10, 1, 6, 36, 37542, tzinfo=<DstTzInfo 'America/Los_Angeles' PDT-1 day, 17:00:00 DST>)

ts = calendar.timegm(d.utctimetuple())
# ts == 1341907596

# test with UTC epoch:

d = datetime.datetime(1969, 12, 31, 16, 0, 0, 0, pytz.timezone('America/Los_Angeles'))
# d == datetime.datetime(1969, 12, 31, 16, 0, tzinfo=<DstTzInfo 'America/Los_Angeles' PST-1 day, 16:00:00 STD>)

ts = calendar.timegm(d.utctimetuple())
# ts == 0
"
39327,65831,Sklearn linear regression X and Y input format,"ages_train = np.array([20, 22, 25, 27, 30, 31, 31, 34, 42, 50])
net_worths_train = np.array([10000, 12000, 16000, 20000, 30000, 33000, 34000, 38000, 49000, 60000])
reg.fit(ages_train[:, np.newaxis], net_worths_train[:, np.newaxis])
print reg.coef_, reg.intercept_
"
207,69112,Mask file name on redirect,"from flask import send_from_directory

@app.route('/my-url/')
def myurl():
    return send_from_directory(app.static_folder, 'foo/bar/index.html')
"
4162,45012,Form data in pycurl request,"#!/usr/bin/python
import os, sys, pycurl
model = """"""{
name: 'zxy',
targets: [ 'abc']
}""""""
path = '/deployments/MyApp.ear'
c = pycurl.Curl()
c.setopt(pycurl.URL, 'https://abc.cde')
c.setopt(pycurl.HTTPHEADER, ['Accept:application/json'])
send = [(""model"", model),
        ('deployment', (pycurl.FORM_FILE, path)),]
c.setopt(pycurl.HTTPPOST, send)
#c.setopt(pycurl.VERBOSE, 1)
c.perform()
print c.getinfo(pycurl.RESPONSE_CODE)
c.close()
"
32806,51104,How to get text between 2 lines with PYthon,"data = {i.split()[0]: i.split()[1:] for i in open('PID.txt').read().split('\n\n')}
"
2045,70954,How can I filter out numbers from this letter-number pairs?,"import re
re.sub(r'\d', '', s) # or re.sub(r',\d', '', s) to remove the commas, too
"
26129,53290,PyQt: Set text in a QLabel adding letter by letter,"import sys
from PyQt4 import QtCore, QtGui

class Example(QtGui.QWidget):
    def __init__(self):
        QtGui.QWidget.__init__(self)
        self.label = QtGui.QLabel(self)
        layout = QtGui.QVBoxLayout(self)
        layout.addWidget(self.label)
        self._text = 'this is a test'
        self._index = 0
        self.timer = QtCore.QTimer(self)
        self.timer.timeout.connect(self.handleTimer)
        self.timer.start(200)

    def handleTimer(self):
        self._index += 1
        self.label.setText(self._text[:self._index])
        if self._index > len(self._text):
            self.timer.stop()

if __name__ == '__main__':

    app = QtGui.QApplication(sys.argv)
    ex = Example()
    ex.setGeometry(300, 300, 250, 150)
    ex.show()
    sys.exit(app.exec_())
"
31137,630,Dataframe creation with weekdays or adding week days,"df  = pd.DataFrame({'value' : [0,0,0,0,0,0,0,0,0,0]}, index=pd.date_range(pd.datetime(2014,3,30), freq='B', periods=10))
"
22076,35323,How to use list.replace after a specific character in Python,">>> my_list = [""ONE APPLE"", ""TWO PEAR"", ""THREE APPLE""]
>>> result = [ ''.join(i.split()[0] + ' '+ i.rsplit()[1].replace('E', 'A')) for i in my_list ]
>>> result
['ONE APPLA', 'TWO PAAR', 'THREE APPLA']

#OR

>>> result = [ '{} {}'.format(i.split()[0], i.rsplit()[1].replace('E', 'A')) for i in my_list ]
>>> result
['ONE APPLA', 'TWO PAAR', 'THREE APPLA']
"
34938,69107,Save classifier to disk in scikit-learn,"import cPickle
# save the classifier
with open('my_dumped_classifier.pkl', 'wb') as fid:
    cPickle.dump(gnb, fid)    

# load it again
with open('my_dumped_classifier.pkl', 'rb') as fid:
    gnb_loaded = cPickle.load(fid)
"
20918,48976,Defining a class using objects and strings with python,"class Track:
    def __init__(self, artist, title, album=None):
        self._artist = str(artist)
        self._title = str(title)
        self._album = album

    def __str__(self):
        return self.artist + "" "" + self.title + "" "" + self.album
    #example for artist
    @property
    def artist(self):
        return self._artist
    @artist.setter
    def artist(self, artist):
        if artist != type(""string""):#ensure that value is of string type.
            raise ValueError
        else:
            self._artist = artist
    #this way you could properly make setters and getter for your attributes
    #same ofr the other stuff

Track = Track(""Andy"", ""Me"", ""Self named"")
"
32786,78698,Group values based on range of number in python,"data = [(220921998, 2426),
        (220921999, 2427),
        (220922000, 2428),
        (220922001, 2429),
        ...
        (220922563, 2991),
        (220922564, 2992)]

ref = 0
cnt = 0
out = []
for dt in data:
    if dt[1]-ref > 20:
        cnt += 1
        ref = dt[1]
    out.append((dt[0],dt[1],'project%d'%cnt))
"
19899,49385,Why and how does the Python interpreter remember literal objects,">>> for x,y in enumerate(range(1000)):
    if x is not y:
        print x,y
        break

257 257
"
6465,69612,Fetch the last row of a cursor with SQLite,"cursor.execute(""SELECT * FROM table ORDER BY id DESC LIMIT 1"")
result = cursor.fetchone()
"
15729,5255,Is there a compact equivalent to Python range() in C++/STL,"std::vector<int> x(10);
std::iota(std::begin(x), std::end(x), 0); //0 is the starting number
"
3894,65890,Domain in a fields.function field,"'test': fields.function(_get_value, type='integer', store=True, 'Test'),
"
29165,48107,How to run code contained in clipboard,"pbpaste | python
"
39393,71144,Extract only first match using python regular expression,"In [8]: course_name
Out[8]: 'Post Graduate Certificate Programme in Retail Management (PGCPRM) (Online)'

In [9]: print re.sub('\([A-Z]+\)\s*', '', course_name)
Post Graduate Certificate Programme in Retail Management (Online)

In [17]: print re.search('\(([A-Z]+)\)\s*', course_name).groups()[0]
PGCPRM
"
24553,11763,How to check wxPython release from python GUI (IDLE)?,"wx.__version__
"
13084,60598,Color plot with specified axes,"import numpy as np
import matplotlib.pyplot as plt

m, n = 20, 30

# Generate randomly spaced, but increasing time and frequency vectors
time = np.random.normal(0, 1, n).cumsum()
frequency = np.random.normal(0, 1, m).cumsum()
data = np.random.random((m,n))

fig, ax = plt.subplots()
ax.pcolormesh(time, frequency, data, cmap='gist_earth')
ax.axis('tight')
plt.show()
"
34281,16474,Getting a reversed slice of an array that includes the base element,"end = position - width - 1 if position > width else None
down = psi[position:end:-1]
"
37289,51828,Building histogram from a dict without having to iterate over the keys,"import numpy as np

MyDict = {0:np.array([[ 15.        ,   3.89678216],
                   [ 36.        ,   9.49245167],
                   [ 53.        ,   3.82997799],
                   [ 83.        ,   5.25727272],
                   [ 86.        ,   8.76663208]]),
         1:np.array([[  4.        ,   4.1171155 ],
                  [ 16.        ,  12.68122196],
                  [ 31.        ,   8.64805222],
                  [ 37.        ,  6.07202959]]),
         2:np.array([]),
         90:np.array([[  1.        ,   1.        ],
                   [ 24.        ,   8.14221573],
                   [ 27.        ,   7.36309862]])}
np_array = np.array([]).reshape(0,2)

for i in MyDict:
  a = MyDict[i]
  if len(a.shape) == 2 and a.shape[1] == 2:
    np_array = np.append(np_array, MyDict[i], axis=0)
print(np.histogram(np_array, 50))
"
28189,39527,Show python return in windows command line,"def main():
    df = create_dateframe()  # Note you need to call your other function
    print(df)

if __name__ == ""__main__"":
    main()
"
384,22627,Sum consecutive numbers in a list. Python,"y = [sum(x[:i+1]) for i in range(len(x))]
"
4230,43247,Solve an equation using a python numerical solver in numpy,"#!/usr/bin/python

import numpy as np
import matplotlib.pyplot as plt
from scipy.optimize import fsolve

# Define the expression whose roots we want to find

a = 0.5
R = 1.6

func = lambda tau : R - ((1.0 - np.exp(-tau))/(1.0 - np.exp(-a*tau))) 

# Plot it

tau = np.linspace(-0.5, 1.5, 201)

plt.plot(tau, func(tau))
plt.xlabel(""tau"")
plt.ylabel(""expression value"")
plt.grid()
plt.show()

# Use the numerical solver to find the roots

tau_initial_guess = 0.5
tau_solution = fsolve(func, tau_initial_guess)

print ""The solution is tau = %f"" % tau_solution
print ""at which the value of the expression is %f"" % func(tau_solution)
"
12876,74618,Python not freeing up memory in Linux,"
ru_maxrss (since Linux 2.6.32)
    This is the maximum resident set size used (in kilobytes).
"
12539,1083,How to check if dictionary has certain key (Python),"key = ('*', '<A>')
if key[0] in RJECNIK and key[1] in RJECNIK[key[0]]:
    pass
"
1982,80713,Plotting Ellipsoid with Matplotlib,"from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure(figsize=plt.figaspect(1))  # Square figure
ax = fig.add_subplot(111, projection='3d')

coefs = (1, 2, 2)  # Coefficients in a0/c x**2 + a1/c y**2 + a2/c z**2 = 1 
# Radii corresponding to the coefficients:
rx, ry, rz = 1/np.sqrt(coefs)

# Set of all spherical angles:
u = np.linspace(0, 2 * np.pi, 100)
v = np.linspace(0, np.pi, 100)

# Cartesian coordinates that correspond to the spherical angles:
# (this is the equation of an ellipsoid):
x = rx * np.outer(np.cos(u), np.sin(v))
y = ry * np.outer(np.sin(u), np.sin(v))
z = rz * np.outer(np.ones_like(u), np.cos(v))

# Plot:
ax.plot_surface(x, y, z,  rstride=4, cstride=4, color='b')

# Adjustment of the axes, so that they all have the same span:
max_radius = max(rx, ry, rz)
for axis in 'xyz':
    getattr(ax, 'set_{}lim'.format(axis))((-max_radius, max_radius))

plt.show()
"
35975,41574,Crypto Random get_random_bytes is not working in py3 as it did in py2,"def generate_server_id():
    """"""Generates 20 random hex characters""""""
    try:
        return """".join(""%02x"" % ord(c) for c in generate_random_bytes(10))
    except TypeError:
        return """".join(""%02x"" % c for c in generate_random_bytes(10))
"
33090,77541,Python snippet refactoring,"def sort_paths_by_date(self):
    if self.define_path_by in ('ctime', 'mtime'):
        fn = getctime if self.define_path='ctime' else getmtime
        self.paths = sorted(self.paths, key=lambda cur_path: fn(cur_path.path))
"
6104,33834,Re-evaluate a Character in Python Regex,"import re
p = re.compile(r'[b-df-hj-np-tv-z][aeiou](?=[b-df-hj-np-tv-z])') 
#                                        ^^^                 ^ 
test_str = ""lolololol""
print(p.findall(test_str))
print(len(p.findall(test_str)))
"
19512,6097,Image transformation in OpenCV,"import cv2
from scipy.interpolate import griddata
import numpy as np

grid_x, grid_y = np.mgrid[0:149:150j, 0:149:150j]
destination = np.array([[0,0], [0,49], [0,99], [0,149],
                  [49,0],[49,49],[49,99],[49,149],
                  [99,0],[99,49],[99,99],[99,149],
                  [149,0],[149,49],[149,99],[149,149]])
source = np.array([[22,22], [24,68], [26,116], [25,162],
                  [64,19],[65,64],[65,114],[64,159],
                  [107,16],[108,62],[108,111],[107,157],
                  [151,11],[151,58],[151,107],[151,156]])
grid_z = griddata(destination, source, (grid_x, grid_y), method='cubic')
map_x = np.append([], [ar[:,1] for ar in grid_z]).reshape(150,150)
map_y = np.append([], [ar[:,0] for ar in grid_z]).reshape(150,150)
map_x_32 = map_x.astype('float32')
map_y_32 = map_y.astype('float32')

orig = cv2.imread(""tmp.png"")
warped = cv2.remap(orig, map_x_32, map_y_32, cv2.INTER_CUBIC)
cv2.imwrite(""warped.png"", warped)
"
35896,48761,How to I change TKinter canvas line from dash to solid?,"self.canvas.itemconfig(line, dash=())
"
30916,5284,How do I run multiple tkinter windows simultaneously in Python?,"from tkinter import *
#from threading import Thread #no longer needed

class Note(Toplevel):
    nid = 0
    #title = """" #this would block the method to override the current title
    message = """"

    def __init__(self, master, nid, title, message):
      Toplevel.__init__(self,master)
      self.nid = nid 
      self.title(title) #since toplevel widgets define a method called title you can't store it as an attribute
      self.message = message
      self.display_note_gui() #maybe just leave that code part of the __init__?


    def display_note_gui(self): 
      '''Tkinter to create a note gui window with parameters '''    
      #no window, just self
      self.geometry(""200x200"")
      self.configure(background=""#BAD0EF"")
      #pass self as the parent to all the child widgets instead of window
      title = Entry(self,relief=FLAT, bg=""#BAD0EF"", bd=0)
      title.pack(side=TOP)
      scrollBar = Scrollbar(self, takefocus=0, width=20)
      textArea = Text(self, height=4, width=1000, bg=""#BAD0EF"", font=(""Times"", ""14""))
      scrollBar.pack(side=RIGHT, fill=Y)
      textArea.pack(side=LEFT, fill=Y)
      scrollBar.config(command=textArea.yview)
      textArea.config(yscrollcommand=scrollBar.set)
      textArea.insert(END, self.message)
      #self.mainloop() #leave this to the root window

    def run(self):
      self.display_note_gui()

root = Tk()
root.withdraw() #hide the root so that only the notes will be visible

new_note1 = Note(root, 0, ""Hello"", ""Hi, how are you?"")
#new_note1.start()
#new_note1.join()


new_note2 = Note(root, 1, ""2"", ""How's everyone else?"")
#new_note2.start()
#new_note2.join()

root.mainloop() #still call mainloop on the root
"
7118,46132,How to get easygui to filter file list,"import easygui as eg 
infile = eg.fileopenbox(msg='Please locate the csv file',
                    title='Specify File', default='c:\data\det\*.csv',
                    filetypes='*.csv')
refdata = pd.read_csv(infile)
"
22033,67540,Switching user in Fabric,"env.user = 'root'

@roles('web')
def deploy():
    dev_path = '/srv/web/prod'
    app_path = '/srv/web/prod/rhino'
    workon = 'workon rhino_env; '
    with settings(warn_only=True):
        run('kill -9 `cat /srv/web/run/rhino/rhino.pid`')
        puts('Stopped rhino...')
    with cd(app_path):
        sudo('git reset --hard HEAD', user='web')
        puts('Discarded all untracked and modified files')
        sudo('git checkout master', user='web')
        sudo('git pull origin master', user='web')
        users = run('users')
        puts('Output from `users` command: %s' % users)

        with prefix(workon):
            sudo('build_assets -m build', user='web')
    with cd(dev_path):
        run('chown -R web:ebalu rhino')

    with cd(app_path):
        sudo('./run', user='web')

    pid = run('cat /srv/web/run/rhino/rhino.pid')
    puts('Rhino started again with pid: %s.' % pid)
"
21497,46440,Forwarding the in and output of a serial link to the stdin and stdout of an other process,"MAX_READ_SIZE = 4096
def forward_to_serial():
    while True:
        data = proc.stdout.read1(MAX_READ_SIZE)
        if not data:
            break  # EOF
        ser.write(data)
"
14737,61546,Recursively capture patterns in regex - Python,">>> import re
>>> intext = """"""calf_n1 := n_-_c_le & n_-_pn_le &\n [ ORTH.FOO < ""cali.ber,kl"", 'calf' , ""done"" >,\nLKEYS.KEYREL.PRED ""_calf_n_1_rel"",\n ORHT2BAR <""what so ever >"", ""this that mess < up""> ,\n LKEYS.KEYREL.CARG ""<20>"",\nLOOSE.SCREW "">20 but <30""\n JOKE <'whatthe ', ""what"" >,\n THIS + ].""""""
>>> results = re.findall('\\n .*?([A-Z0-9\.]*) < *((?:[^>\n]|>"")*) *>.*?(?:\\n|$)', intext)
>>> print results
[('ORTH.FOO', '""cali.ber,kl"", \'calf\', ""done""'), ('ORHT2BAR', '""what so ever>"", ""this that mess < up""'), ('JOKE', '\'whatthe \', ""what"" ')]
"
27596,11318,Search directory for a directory with certain files?,"import os

find = ['x.txt', 'y.txt']

found_dirs = []
for root, dirs, files in os.walk('/path/to/folder'):
    if any(filename in files for filename in find):
        found_dirs.append(root)

#found_dirs now contains all of the directories which matched
"
14473,48553,How to specify properties of wx.MouseEvent?,">>> import wx
>>> event = wx.MouseEvent(mouseType=wx.wxEVT_MOUSEWHEEL)
>>> event.WheelRotation = 22
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
AttributeError: can't set attribute
>>> event.m_wheelRotation = 22
>>> event.WheelRotation
22                                                                             
>>> event.m_wheelRotation = 25
>>> event.WheelRotation                                                 
25                                                                             
>>> 
"
12302,42347,Python Exclusive XML Canonicalization (xml-exc-c14n),"
import lxml.etree as ET
et = ET.parse('file.xml')
output = StringIO.StringIO()
et.write_c14n(output)
print output.getvalue()
"
21459,35105,How do I make this snippet Pythonic?,"indexVector = [empAvg[i] + upperBound(t, pullCount[i]) for i in range(10)]
"
21542,5401,How can I analyze a file created with pstats.dump_stats(filename) off line?,"#!/usr/local/bin/python2.7
# -*- coding: UTF-8 -*-
""""""analyze_dmp.py takes the file INFILEPATH [a pstats dump file] Producing OUTFILEPATH [a human readable python profile]
Usage:   analyze_dmp.py INFILEPATH  OUTFILEPATH
Example: analyze_dmp.py stats.dmp   stats.log
""""""
import sys, os
import cProfile, pstats, StringIO

def analyze_dmp(myinfilepath='stats.dmp', myoutfilepath='stats.log'):
    out_stream = open(myoutfilepath, 'w')
    ps = pstats.Stats(myinfilepath, stream=out_stream)
    sortby = 'cumulative'

    ps.strip_dirs().sort_stats(sortby).print_stats(.3)  # plink around with this to get the results you need

NUM_ARGS = 2
def main():
    args = sys.argv[1:]
    if len(args) != NUM_ARGS or ""-h"" in args or ""--help"" in args:
        print __doc__
        s = raw_input('hit return to quit')
        sys.exit(2)
    analyze_dmp(myinfilepath=args[0], myoutfilepath=args[1])

if __name__ == '__main__':
    main()
"
6936,70065,Multi-parameter function - Correct usage of *args / **kwargs,"def hexify(*args);
    return sum(map(hexify_string, args)
"
3136,42558,"Is it possible to create a url link shortcut using Python, under Ubuntu?","with open('StackOverflow.desktop', 'w+') as f:
    f.write(""""""[Desktop Entry]
Encoding=UTF-8
Name=Link to                     Stack Overflow                 
Type=Link
URL=http://stackoverflow.com/
Icon=text-html
Name[en_US]=StackOverflow
"""""")
"
2575,7966,matplotlib: override underscore in string when using LaTeX in text box,"name = 'm\_out'
"
31899,8926,How do you make this code more pythonic?,"x = matrix([[0.],[0],[1]])
theta = matrix(zeros([3,1]))
for i in range(5):
  grad = matrix(zeros([3,1]))
  hess = matrix(zeros([3,3]))
  [xfile, yfile] = [open('q1'+a+'.dat', 'r') for a in 'xy']
  for xline, yline in zip(xfile, yfile):
    x.transpose()[0,:2] = [map(float, xline.split(""  "")[1:3])]
    y = float(yline)
    hypoth = 1 / (1 + math.exp(theta.transpose() * x))
    grad += (y - hypoth) * x
    hess -= hypoth * (1 - hypoth) * x * x.transpose()
  theta += inv(hess) * grad
print ""done""
print theta
"
4255,4796,I need 'python-support' on a Mac. Where can I find it?,"find {,/Users/*}/Library/Python/*/ -name '*.py[co]' -exec rm {} \;
"
16908,57414,"How to modify class's method behaviour? Python, class belongs to library that can't be changed","from lib import A

def my_method(instance, *args, **kwargs):
    some_code_here()

A.method = my_method
"
14426,64774,Replace NaN's in NumPy array with closest non-NaN value,"ind = np.where(~np.isnan(a))[0]
first, last = ind[0], ind[-1]
a[:first] = a[first]
a[last + 1:] = a[last]
"
11638,67912,Add 1 day to my date in Python,">>> from datetime import datetime, timedelta
>>> s = '2004/03/30'
>>> date = datetime.strptime(s, ""%Y/%m/%d"")
>>> modified_date = date + timedelta(days=1)
>>> datetime.strftime(modified_date, ""%Y/%m/%d"")
'2004/03/31'
"
33849,63081,how to modify the reverse url for GET?,"href=""{% url foo %}?bar=1""
"
10084,70863,Drag and Dropping Rows between two separate QTableWidgets,"import sys
from PyQt4.QtGui import *

class TableWidgetDragRows(QTableWidget):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

        self.setDragEnabled(True)
        self.setAcceptDrops(True)
        self.setSelectionBehavior(QAbstractItemView.SelectRows)
        self.setDragDropOverwriteMode(False)
        # self.setSelectionMode(QAbstractItemView.SingleSelection)

        self.last_drop_row = None

    # Override this method to get the correct row index for insertion
    def dropMimeData(self, row, col, mimeData, action):
        self.last_drop_row = row
        return True


    def dropEvent(self, event):
        # The QTableWidget from which selected rows will be moved
        sender = event.source()

        # Default dropEvent method fires dropMimeData with appropriate parameters (we're interested in the row index).
        super().dropEvent(event)
        # Now we know where to insert selected row(s)
        dropRow = self.last_drop_row

        selectedRows = sender.getselectedRowsFast()

        # Allocate space for transfer
        for _ in selectedRows:
            self.insertRow(dropRow)

        # if sender == receiver (self), after creating new empty rows selected rows might change their locations
        sel_rows_offsets = [0 if self != sender or srow < dropRow else len(selectedRows) for srow in selectedRows]
        selectedRows = [row + offset for row, offset in zip(selectedRows, sel_rows_offsets)]

        # copy content of selected rows into empty ones
        for i, srow in enumerate(selectedRows):
            for j in range(self.columnCount()):
                item = sender.item(srow, j)
                if item:
                    source = QTableWidgetItem(item)
                    self.setItem(dropRow + i, j, source)

        # delete selected rows
        for srow in reversed(selectedRows):
            sender.removeRow(srow)

        event.accept()


    def getselectedRowsFast(self):
        selectedRows = []
        for item in self.selectedItems():
            if item.row() not in selectedRows:
                selectedRows.append(item.row())
        selectedRows.sort()
        return selectedRows


class Window(QWidget):
    def __init__(self):
        super().__init__()

        layout = QHBoxLayout()
        self.setLayout(layout)

        self.table_widgets = []
        for _ in range(3):
            tw = TableWidgetDragRows()
            tw.setColumnCount(2)
            tw.setHorizontalHeaderLabels(['Colour', 'Model'])

            self.table_widgets.append(tw)
            layout.addWidget(tw)

        filled_widget = self.table_widgets[0]
        items = [('Red', 'Toyota'), ('Blue', 'RV'), ('Green', 'Beetle')]
        for i, (colour, model) in enumerate(items):
            c = QTableWidgetItem(colour)
            m = QTableWidgetItem(model)

            filled_widget.insertRow(filled_widget.rowCount())
            filled_widget.setItem(i, 0, c)
            filled_widget.setItem(i, 1, m)


if __name__ == '__main__':
    app = QApplication(sys.argv)
    window = Window()
    window.show()
    sys.exit(app.exec_())
"
25887,74829,How can I disable a QCheckBox WITHOUT triggering an event?,"chk.blockSignals()
# then you change the checkbox as you want
chk.unblockSignals()
"
24189,55383,numpy multiply array elements with another array,">>> result = image[:, :, np.newaxis] * spectral_range
>>> result.shape
(4, 4, 33)
>>> result
array([[[  0,   0,   0,   0,   0,   0,   0,   1,  23,  99, 166,  86,  54,
          12,   1,   1,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
           0,   0,   0,   0,   0,   0,   0],
        [  0,   0,   0,   0,   0,   0,   0,   2,  46, 198, 332, 172, 108,
          24,   2,   2,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
           0,   0,   0,   0,   0,   0,   0],
        ...
"
15536,33413,Django: one ModelForm for subclasses,"import sys

for model in (Agent001, Agent002):
    form_name = model.__name__ + 'EditForm'

    class AgentEditForm(forms.ModelForm):
        class Meta:
            model = model
            exclude = ()

    AgentEditForm.__name__ = form_name
    setattr(sys.modules[__name__], form_name , AgentEditForm)
    del AgentEditForm
"
3075,73062,"How to copy all properties of an object to another object, in Python?"," nobj.__dict__ = oobj.__dict__.copy()    # just a shallow copy
"
3450,19841,Python MySQL Fetch Array,">>> import MySQLdb
>>> connection = MySQLdb.connect(database='test')
>>> cursor = connection.cursor()
>>> cursor.execute('SELECT * FROM users WHERE firstname = %s',('somename',))
>>> results = cursor.fetchall()
>>> for i in results:
       print i
"
17691,75773,Python: fast residuals computing,">>> import numpy as np
>>> arr1 = np.array((1, 2, 3))
>>> arr2 = np.array((4, 5, 6))
# differences
>>> arr1 - arr2
array([-3, -3, -3])
# squared differences
>>> (arr1 - arr2) ** 2
array([9, 9, 9])
# sum of squared differences
>>> np.sum((arr1 - arr2) ** 2)
27
"
14669,60820,Is there a good way of iterating through several lists(where sometimes they are single valued) in python,"In [5]:

list(np.broadcast([1,2,3], 10))

Out[5]:

[(1, 10), (2, 10), (3, 10)]

In [6]:

list(np.broadcast([1,2,3], [10, 20, 30]))

Out[6]:

[(1, 10), (2, 20), (3, 30)]

In [8]:

list(np.broadcast([1,2,3], 100, [10, 20, 30]))

Out[8]:

[(1, 100, 10), (2, 100, 20), (3, 100, 30)]
"
36115,49571,Python - Read from text file and amalgamate information,"dataset = dict()
# first, if we use `with` then file will be closed automatically
with open('text1.txt', 'r') as f:
    # when we want to just iterate over file lines, we can omit `readlines` and use this simple syntax
    for line in f:
        # strip() is important, because each line we read ends with '\n' character - and we want to strip it off.
        # partition() returns tuple of left-part, separator and right-part,
        # but we don't need that separator value so we assign it to a dummy variable.
        # rpartition() is better choice if name may contain ':' character in it.
        name, _, value = line.strip().rpartition(':')
        if name not in dataset:  # newly encountered name?
            # here we create a new `list` holding our value
            dataset[name] = [value]
        else:
            # append the value to existing list
            dataset[name].append(value)

# now print out resulting data
for name, values in dataset.items():
    print(':'.join([name] + values))
"
34214,32453,Delete rows based on multiple conditions; including other column conditionals,"df_new = df_1.loc[(df_1.count != 1) & (df_1.code1 != df_1.code2), :]
"
14476,25901,Python: How do you chain methods on lists of lists of objects?,"class ChainList(list):
    def __getattribute__(self, name):
        try:
            return object.__getattribute__(self, name)
        except:
            pass

        return ChainList([getattr(child, name) 
            for child in self if name in dir(child)])

    def __call__(self, *args, **kwargs):       
        return ChainList([child(*args, **kwargs)
            for child in self if callable(child)])

class GrandParent(object):
    def __init__(self,name='',age=0,is_retired=True,children=[]):
        self.name = name
        self.age = age
        self.is_retired = is_retired

        if children:
            self.children = ChainList(children)

    def print_mychildren(self):
       for child in self.children:
            print ""Child: "",child

    def mychildren(self):
        return self.children

    def __str__(self):
        return ""name: %s age: %s is_retired:%s"" %(self.name,self.age,self.is_retired)

class Parent(object):
    def __init__(self,name='',age=0,has_mortgage=True,children=[]):
        self.name = name
        self.age = age
        self.has_mortgage = has_mortgage

        if children:
            self.children = ChainList(children)

    def print_mychildren(self):
       for child in self.children:
            print ""Child: "",child

    def __str__(self):
        return ""name: %s age: %s has_mortgage: %s"" %(self.name,self.age,self.has_mortgage)

    def mychild(self, name):
        for child in self.children:
            if child.name == name:
                return child

class Child(object):
    def __init__(self,name='',age=0,has_toys=True):

        self.name = name
        self.age = age
        self.has_toys = has_toys

    def __str__(self):
        return ""name: %s age: %s has_toys:%s"" %(self.name,self.age,self.has_toys)



if __name__ == '__main__':

    beaver = Child('Beaver',12,True)
    ward = Child('Ward',16,False)

    june = Parent('June',38,True,[beaver,ward])

    grandpa = GrandParent('Grandpa',61,True,[june])

    print grandpa

    grandpa.print_mychildren() # print June

    # Doesn't work
    grandpa.mychildren().print_mychildren() #  I want it to print Ward and Beaver
    # Doesn't work
    print grandpa.mychildren().mychild('Beaver').age # I want it to return an age
"
35471,49173,What does Django-admin.py startproject do exactly?,"# running django-admin.py inside /opt
/opt$ django-admin.py startproject testproject
"
26416,31811,How do I apply scikit-learn's LogisticRegression for some decimal data?,">>> X = np.random.randn(3, 4)
>>> lr = LogisticRegression()
>>> X = np.random.randn(3, 4)
>>> y = [1, 0, 0]
>>> lr.fit(X, y)
LogisticRegression(C=1.0, class_weight=None, dual=False, fit_intercept=True,
          intercept_scaling=1, penalty='l2', random_state=None, tol=0.0001)
>>> lr.predict_proba(X[0])
array([[ 0.49197272,  0.50802728]])
"
28277,84216,python : Replacing a HTML element depending on its content,"import re
from BeautifulSoup import BeautifulSoup

soup = BeautifulSoup(my_html)
nodes_to_censor = soup.findAll(text=re.compile('.*SECRET.*'))
for node in nodes_to_censor:
    node.replaceWith('###')
"
13100,71607,Fetch data in background - maybe using threads,"import threading
import urllib.request
import urllib.error

import time

start_time = time.time()

req = urllib.request.Request(""http://fake-response.appspot.com/"")


class Fetcher(threading.Thread):
    def __init__(self):
        self.text = ""No response yet!""
        super().__init__()

    def run(self):
        try:
            response = urllib.request.urlopen(req)
            self.text = response.read().decode('latin1')
        except (urllib.error.HTTPError, urllib.error.URLError) as e:
            print(e)

fetcher = Fetcher()

print(""Initial text is \""%s\"""" % fetcher.text)

fetcher.start()

text = fetcher.text

while time.time() - start_time < 15:
    print(""%s - text: \""%s\"""" % (time.strftime(""%H:%M:%S""), fetcher.text))
    # This should print '<TIME> - text: ""No response yet!""' for ten seconds
    # After that, '<TIME> - text: {""response"":""This request has finished sleeping for 10 seconds""}' should be displayed

    time.sleep(0.5)
"
31534,49340,Python how to assign a copy of a class to a variable? (Instead of by reference),"from copy import deepcopy

#snip
templateclass = deepcopy(ListofClass[position])
"
6958,47765,"In Python, how to assign the values of a sparse matrix from the values of another matrix without looping?","x = np.array([1,2,3,4])
AA = scipy.sparse.csr_matrix(x, (1,4))
"
11526,80244,how to make multiline wx.ListBox,"import wx


class PhoneNumbers(wx.HtmlListBox):
    def __init__(self, parent):
        wx.HtmlListBox.__init__(self, parent)
        self.data = [
            (""Foo"", ""3452-453""),
            (""Bar"", ""5672-346""),
        ]
        self.SetItemCount(len(self.data))

    def OnGetItem(self, n):
        return ""<b>%s</b><br>%s"" % self.data[n]

    def add_number(self, name, number):
        self.data.append((name, number))
        self.SetItemCount(len(self.data))
        self.Refresh()


class Frame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None, size=(200, 400))

        self.numbers = PhoneNumbers(self)
        self.contact_name = wx.TextCtrl(self)
        self.contact_number = wx.TextCtrl(self)
        self.add_btn = wx.Button(self, label=""Add contact"")

        self.Sizer = wx.BoxSizer(wx.VERTICAL)
        self.Sizer.Add(self.numbers, 1, wx.EXPAND)
        self.Sizer.Add(wx.SearchCtrl(self), 0, wx.EXPAND)
        self.Sizer.Add(wx.StaticText(self, label=""Name""), 0, wx.TOP, 10)
        self.Sizer.Add(self.contact_name)
        self.Sizer.Add(wx.StaticText(self, label=""Number""), 0, wx.TOP, 5)
        self.Sizer.Add(self.contact_number)
        self.Sizer.Add(self.add_btn, 0, wx.ALL, 10)

        self.numbers.Bind(wx.EVT_LISTBOX, self.OnSelectNumber)
        self.add_btn.Bind(wx.EVT_BUTTON, self.OnAddNumber)

    def OnSelectNumber(self, event):
        name, number = self.numbers.data[event.Selection]
        self.contact_name.Value = name
        self.contact_number.Value = number

    def OnAddNumber(self, event):
        self.numbers.add_number(
            self.contact_name.Value,
            self.contact_number.Value
        )


app = wx.PySimpleApp()
app.TopWindow = f = Frame()
f.Show()
app.MainLoop()
"
39855,9680,Extract date from Pandas DataFrame,"goog.reset_index()['Date']
"
26443,25318,How do I change the representation of a Python function?,"class decorator(object):
    def __init__(self, functor):
        self.functor = functor

        #  lets copy some key attributes from the original function
        self.__name__ = functor.__name__
        self.__doc__ = functor.__doc__

    def __call__(self, *args, **kwargs):
        return self.functor(*args, **kwargs)

    def __repr__(self):
        return '<function %s created by ...>' % self.functor.__name__


@decorator
def f():
    return 'spam'


print f()  # spam
print repr(f)  # <function hehe created by ...>
"
19959,25252,python argparse: How can I display help automatically on error?,"class DefaultHelpParser(argparse.ArgumentParser):
    def error(self, message):
        sys.stderr.write('error: %s\n' % message)
        self.print_help()
        sys.exit(2)
"
26563,43606,How to load a column generated by awk into a python list,"import subprocess

proc = subprocess.Popen('ls | awk ""{print $1}""', shell=True, stdout=subprocess.PIPE)
stdout_value = proc.communicate()[0]
for item in stdout_value.split('\n'):
    print item
"
25582,36407,python socket readline without socket.makefile(),"import StringIO

buff = StringIO.StringIO(2048)          # Some decent size, to avoid mid-run expansion
while True:
    data = sock.recv()                  # Pull what it can
    buff.write(data)                    # Append that segment to the buffer
    if '\n' in data: break              # If that segment had '\n', break

# Get the buffer data, split it over newlines, print the first line
print buff.getvalue().splitlines()[0]
"
11220,65857,Django 1.4 Model formsets specify widget and change label,"class RegularAvailDateForm(ModelForm):
    class Meta:
        model = AvailabilitySchedule
        fields = ('active','dow', 'hour_start', 'hour_end')
        widgets = {
            'active' :  CheckboxInput(),
            'dow': HiddenInput(),
            'hour_start': NumberInput(attrs={'min': '0', 'max': '23', 'step': '1'}),
            'hour_end': NumberInput(attrs={'min': '1', 'max': '24', 'step': '1'}),
        }

FormSet = modelformset_factory(AvailabilitySchedule, RegularAvailDateForm)
"
29837,18034,How do you write a function that remembers it's previous input in clojure,"(defn longest-increasing [the-str]
  (let [pairs (partition 2 1  the-str) ;;Divide the string into the sequential pairs
        directioned (partition-by (comp neg? (partial apply compare)) pairs) ;;Group pairs by whether the second char is ""higher"" or ""lower""
        ascending (filter #(neg? (apply compare (first %))) directioned) ;Filter out any descending sequences
        longest (apply (partial max-key count) ascending)] ;;take the longest sequence
    (clojure.string/join (cons (ffirst longest) (map second longest))))) ;;Glue it back together.
"
26878,33826,Process SQL Queries in Input Files with Python,"I think you need a list named sql_commands.First you get line in file,
then store it in a list.
sql_commands=[]
with open(inputfile, 'r') as argfile:
    lines = argfile.readlines()
    for line in lines:
        with open(line,'r') as sqlfile:
            sqls=sqlfile.readlines()
            for sql in sqls:
                sql_commands.append(sql)
"
933,54563,Imputation using pandas,"import pandas as pd
import numpy as np

# your data
# ==================================================
np.random.seed(0)
idx = pd.date_range('2000-1-1', '2010-1-1', freq='30T')
df = pd.DataFrame({'somedata': np.random.rand(175345)}, index=idx)
df.loc[df['somedata'] > 0.7, 'somedata'] = np.nan


                     somedata
2000-01-01 00:00:00    0.5488
2000-01-01 00:30:00       NaN
2000-01-01 01:00:00    0.6028
2000-01-01 01:30:00    0.5449
2000-01-01 02:00:00    0.4237
2000-01-01 02:30:00    0.6459
2000-01-01 03:00:00    0.4376
2000-01-01 03:30:00       NaN
...                       ...
2009-12-31 20:30:00    0.4983
2009-12-31 21:00:00    0.4282
2009-12-31 21:30:00       NaN
2009-12-31 22:00:00    0.3306
2009-12-31 22:30:00    0.3021
2009-12-31 23:00:00    0.2077
2009-12-31 23:30:00    0.2965
2010-01-01 00:00:00    0.5183

[175345 rows x 1 columns]

# processing
# ==================================================
result = df.groupby([df.index.month, df.index.day, df.index.hour, df.index.minute], as_index=False).transform(lambda g: g.fillna(g.mean()))

                     somedata
2000-01-01 00:00:00    0.5488
2000-01-01 00:30:00    0.2671
2000-01-01 01:00:00    0.6028
2000-01-01 01:30:00    0.5449
2000-01-01 02:00:00    0.4237
2000-01-01 02:30:00    0.6459
2000-01-01 03:00:00    0.4376
2000-01-01 03:30:00    0.3957
...                       ...
2009-12-31 20:30:00    0.4983
2009-12-31 21:00:00    0.4282
2009-12-31 21:30:00    0.4784
2009-12-31 22:00:00    0.3306
2009-12-31 22:30:00    0.3021
2009-12-31 23:00:00    0.2077
2009-12-31 23:30:00    0.2965
2010-01-01 00:00:00    0.5183

[175345 rows x 1 columns]

# take a look at a particular sample
# ======================================
x = list(df.groupby([df.index.month, df.index.day, df.index.hour, df.index.minute]))[0][1]

            somedata
2000-01-01    0.5488
2001-01-01    0.1637
2002-01-01    0.3245
2003-01-01       NaN
2004-01-01    0.5654
2005-01-01    0.5729
2006-01-01    0.4740
2007-01-01    0.1728
2008-01-01    0.2577
2009-01-01       NaN
2010-01-01    0.5183

x.mean()  # output: 0.3998

list(result.groupby([df.index.month, df.index.day, df.index.hour, df.index.minute]))[0][1]

            somedata
2000-01-01    0.5488
2001-01-01    0.1637
2002-01-01    0.3245
2003-01-01    0.3998
2004-01-01    0.5654
2005-01-01    0.5729
2006-01-01    0.4740
2007-01-01    0.1728
2008-01-01    0.2577
2009-01-01    0.3998
2010-01-01    0.5183
"
1143,17529,Drag and drop with modifiers in wxpython,"def OnDropFiles(self, x, y, filenames):
    mouse = wx.GetMouseState()
    if mouse.CmdDown():
        self.frame.paths += filenames
    else:
        self.frame.paths = filenames
    self.frame.draw_figure()
"
25110,80040,Cassandra buffered read of millions of columns,"results = {}
start = 0
startColumn = """"
while True:
    # Fetch blocks of size 500

   buffer = get(key, column_start=startColumn, column_finish="""", column_count=100)
   # iterate returned values. 
   # set startColumn == previous column_finish. 
"
17110,17785,"How do I turn the key combination, ctrl+shift+9, into the string ""ctrl+("" in PyGame?","    if e.type == KEYDOWN:
        k = pygame.key.get_pressed()
        m = pygame.key.get_mods()
        if m & KMOD_SHIFT and k[K_9]:
            if m & KMOD_CTRL:
                print ""controlled yay!""
            else:
                print ""yay!""
"
6711,23115,Create a structure array from a list in Numpy with string and integers,">>> foo = [('asd', 1, 2),('bgf',2,3)]
>>> bar = np.array(foo, dtype='S10,i4,i4')
>>> bar
array([('asd', 1, 2), ('bgf', 2, 3)], 
      dtype=[('f0', 'S10'), ('f1', '<i4'), ('f2', '<i4')])
>>> bar['f0']
array(['asd', 'bgf'], 
      dtype='|S10')
>>> bar['f1']
array([1, 2], dtype=int32)
>>> bar['f2']
array([2, 3], dtype=int32)
"
12850,75938,How to pass arguments to a python cron task on Google App Engine?,"cron:
- description: update source ABC
  url: /cron/ABC/
  schedule: every 5 minutes
  login: admin
- description: update source XYZ
  url: /cron/XYZ/
  schedule: every 12 minutes
  login: admin

webapp.WSGIApplication([('/cron/([^/]+)/', CronHandler)])    

class CronHandler(webapp.RequestHandler):
    def post(self, source): 
            #do something with source variable...
"
31384,64284,find the closest 2 numbers in a list to a given number in python,">>> # the smallest element of myArr greater than myNumber
>>> myArr[myArr > myNumber].min()  
44

>>> # the largest element of myArr less than myNumber
>>> myArr[myArr < myNumber].max()
4
"
4752,33995,Python: How to create a new list based on existing list without certain objects,"a = ['house', 'bikeCT', 'car', 'bike', 'houseCT']
b = [x for x in a if 'CT' not in x]
"
22276,1565,Sorting lists based on conditions,".sort(key=lambda x:(not x.startswith('c='), not x.startswith('pt='), x))
"
3831,82680,Python regex matches string it shouldn't,"PHP/5.\\{(?:3|2)\\}.\\{(?:1|2|3|4|5|6|7|8|9|0)\\}\\{(?:1|2|3|4|5|6|7|8|9|0)\\}$
         ^^    ^       ^^                    ^      ^^                    ^
"
19399,64983,Comparing Two Dicts to Make a CSV for Inventory Management,"from collections import Counter
d = {}  
#*1* Alternatively, could use : d = defaultdict(Counter)
with open(inputfile) as input_file:
    for line in input_file:
        for_who, items = line[:-1].split(':',1)
        d[for_who] = Counter(items.split(','))  
        #Alternatively, if using defaultdict at *1*, d.update(items.split(','))
        #This allows ""joe"" to register multiple shopping lists which get summed into 1

#get totals by `sum`ming your Counters values:
totals = sum(d.values())

#Now add a 0-dict to each of the dictionaries just to make sure they have all the keys
zeros = dict((k,0) for k in totals)
for cntr in d.values():
    cntr.update(zeros)

key_order = list(totals.keys())  #list for py2k
with open(output_file,'w') as fout:
    fout.write('Order '+','.join(key_order)+'\n')
    fout.write('Totals,'+','.join(str(totals[k]) for k in key_order)+'\n') 
    for person,dct in d.items():
        fout.write(person+','+','.join(str(dct[k]) for k in key_order)+'\n') 
"
29658,24590,"Numpy, avoid loop in 3d array difference nested summation","from scipy.spatial.distance import cdist
import numpy as np
overlap = np.sum(cdist(rt, r0) <= a)
"
13639,56231,Python program using os.pipe and os.fork() issue,"import os, sys, time

r,w=os.pipe()
r,w=os.fdopen(r,'r',0), os.fdopen(w,'w',0)

pid = os.fork()
if pid:          # Parent
    w.close()
    while 1:
        data=r.readline()
        if not data: break
        print ""parent read: "" + data.strip()
else:           # Child
    r.close()
    for i in range(10):
        print >>w, ""line %s"" % i
        w.flush()
        time.sleep(1)
"
37614,71861,Apply StringIndexer to several columns in a PySpark Dataframe,"from pyspark.ml import Pipeline
from pyspark.ml.feature import StringIndexer

indexers = [StringIndexer(inputCol=column, outputCol=column+""_index"").fit(df) for column in list(set(df.columns)-set(['date'])) ]


pipeline = Pipeline(stages=indexers)
df_r = pipeline.fit(df).transform(df)

df_r.show()
+-------+--------------+----+----+----------+----------+-------------+
|address|          date|food|name|food_index|name_index|address_index|
+-------+--------------+----+----+----------+----------+-------------+
|1111111|20151122045510| gre| Yin|       0.0|       0.0|          0.0|
|1111111|20151122045501| gra| Yin|       2.0|       0.0|          0.0|
|1111111|20151122045500| gre| Yln|       0.0|       2.0|          0.0|
|1111112|20151122065832| gre| Yun|       0.0|       4.0|          3.0|
|1111113|20160101003221| gre| Yan|       0.0|       3.0|          1.0|
|1111111|20160703045231| gre| Yin|       0.0|       0.0|          0.0|
|1111114|20150419134543| gre| Yin|       0.0|       0.0|          5.0|
|1111115|20151123174302| ddd| Yen|       1.0|       1.0|          2.0|
|2111115|      20123192| ddd| Yen|       1.0|       1.0|          4.0|
+-------+--------------+----+----+----------+----------+-------------+
"
37901,37180,Can I move beaker.SessionMiddleware to handle method somehow?,"def handle(environ, start_response):
    # same as before

def create_app(config_file):
    #parse config file for session options
    return SessionMiddleWare(handle, some_session_opts_here)

if __name__ == '__main__':
    app = create_app(config_file)
    from flup.server.fcgi import WSGIServer
    WSGIServer(app).run()
"
34332,47630,Python is it possible to check if MD5 string is equal to string in one operation?,"if md5 == hashlib.md5(""mypassword"").hexdigest():
"
10396,21211,Append data from file to dataframe with Python (pandas),"for file in glob.glob(path+""\\*.lst""):
    # If file is readable
    if os.access(file, os.R_OK):
        # Find lines inside files
        lines = [line.rstrip(""\n"") for line in codecs.open(file,""r"",""utf-8"")]
        # For each line, do something
        for line in lines:
            base = os.path.basename(file)[:-4]
            sentence = re.sub(""<sentence>|</sentence>"","""",line)

            df = df.append([dict(filename=base, sentence=sentence)])
"
37816,21166,How can i change the values in dictionary of lists in python,">>> list1 = [('var1','aa'),('var2','bb'),('var3','cc')]
>>> list2 = [('var2','22'),('var3','33'),('var5','23'),('var6','33'),('var7','23')]
>>> dict1 = dict(list1)
>>> list2 = [(k, dict1.get(k, v)) for k, v in list2]
>>> list2
[('var2', 'bb'), ('var3', 'cc'), ('var5', '23'), ('var6', '33'), ('var7', '23')]
"
25827,1586,plotting changes over time in python/matplotlib,"import matplotlib.pyplot as plt
import numpy as np

values = np.array([684, 434, ... , 1186])
times = np.arange(0,len(values))
time_labels = ['00:00', '01:00', ..., '23:00']

plt.plot(times, values, 'o-')
plt.xticks(times, time_labels)
plt.show()
"
26172,10489,How do I get LaTeX code to be stored literally in Python?,"In [1]: foo = r""\frac{}{}""

In [2]: foo
Out[2]: '\\frac{}{}'
"
24344,62698,how to write integer number in particular no of bytes in python ( file writing),">>> import struct
>>> struct.pack(""i"",1024)
'\x00\x04\x00\x00'
>>> struct.pack(""i"",10240)
'\x00(\x00\x00'
>>> struct.pack(""i"",900000)
'\xa0\xbb\r\x00'
"
22505,46747,Django Haystack autocompletion on two (multiple) fields,"sqs = SearchQuerySet().models(Post)
sqs1 = sqs.filter(title_auto=q)
sqs2 = sqs.filter(body_auto=q)

sqs = sqs1 | sqs2
"
31764,13180,How can I make dir(obj) return non-function members in swig generated python classes?,"import IPython.core.completer
old_dir = IPython.core.completer.dir2

def my_dir(obj):
    methods = old_dir(obj)
    #merge your swig methods in
    return methods

IPython.core.completer.dir2 = my_dir
"
11125,69178,change unicode string into list?,">>> a = u'{0.128,0.128,0.133,0.137,0.141,0.146,0.15,0.155,0.159,0.164,0.169,0.174,0.179,0.185,0.19,0.196,0.202,0.208,0.214,0.22}'
>>> [float(i) for i in a.strip('{}').split(',')]
[0.128, 0.128, 0.133, 0.137, 0.141, 0.146, 0.15, 0.155, 0.159, 0.164, 0.169, 0.174, 0.179, 0.185, 0.19, 0.196, 0.202, 0.208, 0.214, 0.22]
"
10672,53544,Call C++ function from Python by reference,"mln::image2d<mln::value::int_u8> working_img;

mln::image2d<mln::value::int_u8> *imLoad(const std::string path){
    mln::io::pgm::load(working_img, path);
    return &working_img;
}

void imSave(const std::string path){

    mln::io::pgm::save(working_img, path);

}
"
39317,79697,How can I make sure that python finds the necessary data files?,"import pkg_resources

class Sound():
    def __init__(self):
        sound_path = pkg_resources.resource_filename(
            'my_application', 'sound.mp3')
        self.cmd = ['mplayer', sound_path]

    ...
"
20208,8611,Return a number of times of a specific string in python,">>> ""abc hi ho"".count(""hi"")
1
>>> ""ABChi hi"".count(""hi"")
2
"
19905,36045,Python: DNS Query: Pydns? Dig? Socket?,"import socket
import sys

def main():
    if len(sys.argv) < 2:
        print(""Usage: dnscheck hostname [hostname...]"")
    else:
        for host in sys.argv[1:]:
            try:
                ip = socket.gethostbyname(host)
                print(""{} resolves to {}"".format(host, ip))
            except socket.gaierror:
                print(""Could not resolve {}"".format(host))

if __name__==""__main__"":
    main()
"
26223,71859,In tkinter how do I generate a new row every time a button is pressed?,"import Tkinter as tk


class App(object):
    def new_row(self):
        # Create widgets
        new_entry = tk.Entry(root, width=7)

        # Put widgets in grid
        self.num_rows += 1
        new_entry.grid(column=0, row=self.num_rows, sticky='WE')

    def __init__(self):
        self.num_rows = 1
        createRow_button = tk.Button(
            root, text='New Row', command=self.new_row)
        createRow_button.grid()

root = tk.Tk()
app = App()
root.mainloop()
"
16632,16154,Enable Django format localization by default,">>> from django.forms import ModelForm
>>> from myapp.models import Author
>>> class AuthorForm(ModelForm):
...     class Meta:
...         model = Author
...         localized_fields = ('birth_date',)
"
27030,40820,Avoid download file dialog box in Python/selenium automation,"import urllib
url = driver.find_element_by_link_text(""Download"").get_attribute(""href"");
urllib.urlretrieve(url, ""saveasfilename"") 
"
12106,37995,run interpreter after execute bash python,"python -i main.py < tests/1.in
"
8186,73925,Get the number of character classes from an argument,"import sys

s = sys.argv[1]
methods = {str.isdigit: 'd', str.isupper: 'u', str.islower: 'l', (lambda c: (not str.isdigit(c) and not str.isupper(c) and not str.islower(c))):'s'}
result = set()
for c in s:
    for m in methods:
        if m(c):
            result.add(methods[m])
print(len(result))
"
33284,61813,Read Disconected Graph in igraph for python,"# nodeID
nodeID2
nodeID3
# nodeID2
nodeID4
nodeID5
nodeID
# isolatedNode
# nodeID5
"
12815,81098,How to make each tweet on its own line?,"#!/usr/bin/env python                                                                                              

import urllib
import json

response_1 = json.loads(urllib.urlopen(""http://search.twitter.com/search.json?q=microsoft&page=1"").read())
for i in response_1['results']:
    print (i, ""\n"")
"
24557,19294,convert list of integers to list of two's complement bit representation using multiple cores,"u8s = myrawdata.view(np.uint8) # no copy, just change ""shape""
comp = -u8s # or do you want np.invert(u8s) ?
bits = np.unpackbits(comp)
"
32309,5338,Making a Foreign Key to an option of two different classes in Django,"content_type = models.ForeignKey(ContentType)
object_id = models.PositiveIntegerField()
content_object = generic.GenericForeignKey('content_type', 'object_id')
"
17106,43957,Aggregate a field based on time interval,"from datetime import timedelta
from django.db.models import Sum
from django.utils import timezone

MyModel.objects.filter(
    pub_date__gte=timezone.now() - timedelta(days=7)
).aggregate(sum_hours=Sum('hours'))
"
33935,75174,Python IMAP - Read Gmail with '+' in email address,"result,data = self.M.uid('search', None, '(SENTSINCE {date})'.format(date=date),
    ('TO example+test1@gmail.com'))
"
15672,43578,How do I convert a human-readable date + time to a Unix timestamp in Python?,"datetime.strptime(date_string, format)
"
16422,73203,Python sort list by 2 parts of the string,"find_suffix = re.compile('(.+)(_(\d+)\.\w+)$')
text_list.sort(key = lambda x: (find_suffix.match(x).groups()[0], int(find_suffix.match(x).groups()[2])))
"
5856,9477,Copying from a specific part of a file to another with python,"with open(pathway) as f_read, open(""temp_out.txt"", ""w"") as f_write:
    for line in f_read:
         if line.startswith(""1"")
             for wanted_line in f_read:
                 # work on wanted lines
                 if wanted_line.startswith(""1""):
                     break
with open(""temp_out.txt"", ""w"") as f_in, open(pathway, ""w"") as f_out:
    for line in f_in:
        f_out.write(line)
"
11289,56173,How do I undo True = False in python interactive mode?,">>> True = False
>>> True
False
>>> del True
>>> True
True
>>>
"
16731,63555,gtk.notebook_set_window_creation_hook function return,"def notebook_creation_hook_callback( notebook, page, x, y ):
    new_notebook = gtk.Notebook
    new_notebook.set_group_id(notebook.get_group_id()) #Id must be the same as original notebook
    window = gtk.Window( gtk.WINDOW_TOPLEVEL )
    window.add( new_notebook)
    window.show_all()
    window.move( x,y )
    return new_notebook #Return the new notebook on success
"
25402,65797,How do I loop this code?,"while True:
    again = input('Go? (y/n): ')
    if again != 'y':
        break

    # The entirety of the rest of your program would go here.
"
10727,34631,single digit addition questions,"def game(n):
    for i in range(n):
        dig1 = random.randrange(0,10)
        dig2 = random.randrange(0,10)
        print (dig1, '+', dig2, '=')
        answer = eval(input('Enter Answer: '))
        if answer == dig1 + dig2:
            print ('Correct.')
        else:
            print ('Incorrect.')
"
36082,43014,RegEx Python - I Want to write RegEx by which I can replace { expression } into {% print expression %},"import re
data = ""{{ a }} {{ func() }} {{var.func()}} {{ a+ab+b*+2/100 }} {{ var.atr}} ""

def substitute(val):
    content = val.group(1)
    if re.match('^[\w\.]+$', content):
        return ""{{ %s }}"" % content
    else:
        return ""{%% print %s %%}"" % content
    pass

print re.sub(""{{\s*(.*?)\s*}}"", substitute, data)
"
21406,59180,Python: import multiple modules AS,"from cmds_core import *
from cmds_basic import *
from cmds_blah import *
"
6032,32167,Python regex to strip html a tags without href attribute,"import lxml.html

root = lxml.html.fromstring('<div>Test <a rel=""nofollow"">Link to be <b>removed</b></a>. <a href=""#"">link</a>')
for a in root.xpath('a[not(@href)]'):
    a.drop_tag()

assert lxml.html.tostring(root) == '<div>Test Link to be <b>removed</b>. <a href=""#"">link</a></div>'
"
39077,17164,epool with pyev or select from stdlib in Python?,"   - Increment loop depth.
   - Reset the ev_break status.
   - Before the first iteration, call any pending watchers.
   LOOP:
   - If EVFLAG_FORKCHECK was used, check for a fork.
   - If a fork was detected (by any means), queue and call all fork watchers.
   - Queue and call all prepare watchers.
   - If ev_break was called, goto FINISH.
   - If we have been forked, detach and recreate the kernel state
     as to not disturb the other process.
   - Update the kernel state with all outstanding changes.
   - Update the ""event loop time"" (ev_now ()).
   - Calculate for how long to sleep or block, if at all
     (active idle watchers, EVRUN_NOWAIT or not having
     any active watchers at all will result in not sleeping).
   - Sleep if the I/O and timer collect interval say so.
   - Increment loop iteration counter.
   - Block the process, waiting for any events.
   - Queue all outstanding I/O (fd) events.
   - Update the ""event loop time"" (ev_now ()), and do time jump adjustments.
   - Queue all expired timers.
   - Queue all expired periodics.
   - Queue all idle watchers with priority higher than that of pending events.
   - Queue all check watchers.
   - Call all queued watchers in reverse order (i.e. check watchers first).
     Signals and child watchers are implemented as I/O watchers, and will
     be handled here by queueing them when their watcher gets executed.
   - If ev_break has been called, or EVRUN_ONCE or EVRUN_NOWAIT
     were used, or there are no active watchers, goto FINISH, otherwise
     continue with step LOOP.
   FINISH:
   - Reset the ev_break status iff it was EVBREAK_ONE.
   - Decrement the loop depth.
   - Return.
"
8366,34324,cross module variable,">>> class N(object):
...   def __init__(self, value):
...     self.value = value
>>> n = N(3)
>>> value = n.value
>>> print value, n.value
3 3
>>> value = 4
>>> print value, n.value
4 3
"
19872,33499,repeating previous regex,">>> import re
>>> line = '0 1 1 75 55'
>>> x = re.findall(""(\d+)"", line)
>>> print x
['0', '1', '1', '75', '55']
"
39961,85119,Truncate Null values in Python list,"WHERE name IS NOT NULL
"
11173,73804,ReportLab Paragraph and text formatting,"# PDF GENERATION LIBRARIES
# import the report lab PDF generation tools
from reportlab.lib.pagesizes import letter
from reportlab.lib.styles import ParagraphStyle
from reportlab.lib.units import inch
from reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer, PageBreak
from reportlab.pdfbase import pdfmetrics
from reportlab.pdfbase.ttfonts import TTFont

parts = []
msg = ''
progName = ""PDF""
progVers = ""1.0""
vehID = ""vehID""

def sumFile(msgStr = None, COMPLETE = 0):

    global parts, msg, progName, progVers, vehID

    pdfmetrics.registerFont(TTFont('Inconsolata', 'Inconsolata-Regular.ttf'))

    style = ParagraphStyle(
        name='Normal',
        fontName='Inconsolata',
        fontSize=8,
    )

    msgStr = msgStr.replace(' ','&nbsp;')
    msgStr = msgStr.replace('\n','<br />')
    msgStr = msgStr.replace('\t','&nbsp;&nbsp;&nbsp;&nbsp;')

    if msgStr == ""PageBreak"":
        if msg != '':
            parts.append(Paragraph(msg, style = style))
            msg = ''
        parts.append(PageBreak())
    else:
        msg += msgStr

    if COMPLETE == 1:
        if msg != '':
            parts.append(Paragraph(msg, style = style))
            msg = ''
        genStr = ""Generated using "" + progName + "" "" + str(progVers)
        parts.append(Paragraph(genStr, style = style))
        summaryName = SimpleDocTemplate(vehID+"".pdf"")
        summaryName.build(parts)

if __name__ == ""__main__"":    
    sumFile(""%9s %s\n"" % (""Bobby"", ""Sue""))
    sumFile(""{0:12}{1:7}{2:5}deg_C\tsmp {3}\n"".format(""20"", ""1000"", ""3.0"", ""535""))
    sumFile(""{0} {1}\n\n"".format(""09/06/2016"", ""11:51:39""))
    # sumFile(""{0} {1}\n\n"".format(""09/06/2016"", ""11:51:39""), COMPLETE=1)
"
15836,32650,Base64 Authentication Python,"import requests, base64

usrPass = ""userid:password""
b64Val = base64.b64encode(usrPass)
r=requests.post(api_URL, 
                headers={""Authorization"":b64Val},
                data=payload)
"
15139,10023,Python: remove() doesn't seems to work,"rawSelection = [u'crapacruk_high', u'doubidou_high', u'blahbli_high', u'crapacruk_SREF_high', u'doubidou_SREF_high', u'blahbli_SREF_high']

for obj in list(rawSelection):
    if '_SREF_' in str(obj):
        rawName = str(obj).split('_')
        rootName = rawName [0]
        defName = rootName + '_' + '_'.join(rawName[2:])
        if defName in rawSelection:
            rawSelection.remove (obj)

print(rawSelection)
"
22637,12815,Quoted string as optional argument to Python script,"if len(sys.argv) > 2:
    filename = sys.argv[2]
"
35704,23658,Classifying Data in a New Column,"In [29]:    
df['bin'] = pd.cut(df['Column 1'], bins = [0,10000, 50000, 150000, 25000000])
df

Out[29]:

    Column 1                 bin
0          1          (0, 10000]
1       2435          (0, 10000]
2       3345          (0, 10000]
3        104          (0, 10000]
4        505          (0, 10000]
5       6005          (0, 10000]
6      10000          (0, 10000]
7      80000     (50000, 150000]
8     100000     (50000, 150000]
9    4000000  (150000, 25000000]
10      4440          (0, 10000]
11       520          (0, 10000]
"
28918,57549,"Python PyQt - QTableWidget, JSON, and emitSignal causing blank cells","#!/usr/bin/env python
# -*- coding: utf-8 -*-
import sys
from PyQt4 import QtCore, QtGui

class MainWindow(QtGui.QWidget):
    updateSignal = QtCore.pyqtSignal()
    def __init__(self, parent=None):
        super(MainWindow, self).__init__(parent)
        self.table_widget = QtGui.QTableWidget()
        self.button = QtGui.QPushButton('Populate')
        self.button.clicked.connect(self.populate)
        layout = QtGui.QVBoxLayout()
        layout.addWidget(self.table_widget)
        layout.addWidget(self.button)
        self.setLayout(layout)
        self.updateSignal.connect(self.update_table)
        self.populate()

    def populate(self):
        nrows, ncols = 5, 2
        self.table_widget.setSortingEnabled(False)
        self.table_widget.setRowCount(nrows)
        self.table_widget.setColumnCount(ncols)
        for i in range(nrows):
            for j in range(ncols):
                item = QtGui.QTableWidgetItem('%s%s' % (i, j))
                self.table_widget.setItem(i, j, item)
        self.updateSignal.emit()
        self.table_widget.setSortingEnabled(True)

    def update_table(self):
        self.table_widget.sortItems(0,QtCore.Qt.DescendingOrder)


if __name__ == ""__main__"":
    app = QtGui.QApplication(sys.argv)
    wnd = MainWindow()
    wnd.resize(640, 480)
    wnd.show()
    sys.exit(app.exec_())
"
26420,17286,Embedding a Python shell inside a Python program,"import wx.py.crust
...
...
# then call

crustFrame = wx.py.crust.CrustFrame(parent = self)
crustFrame.Show()
"
9895,35118,PyQt - creating buttons from dictionary,"dic = {'a':'111', 'b':'222', 'c':'333'}

def create_connect(x):
    return lambda: doit(x)

for key in dic:
    btn = QPushButton(key, self)
    btn.clicked.connect(create_connect(dic[key]))
    vbox.addWidget(btn)
"
6831,78245,NLTK words lemmatizing,"from nltk.corpus import wordnet as wn

acknowledgment_synset = wn.synset('acknowledgement.n.01')
acknowledgment_lemma = acknowledgment_synset.lemmas[1]

print(acknowledgment_lemma.derivationally_related_forms())
# [Lemma('admit.v.01.acknowledge'), Lemma('acknowledge.v.06.acknowledge')]
"
38619,5226,"html ""&"" and parameters",">>> from urllib import urlencode
>>> artist = 'Tommy James & The Shondells'
>>> api_key = 'KEY_GOES_HERE'
>>> urlencode({'artist': artist, 'api_key': api_key})
'api_key=KEY_GOES_HERE&artist=Tommy+James+%26+The+Shondells'
"
1600,72884,Scipy readsav and IDL Types,"IDL> o = obj_new('IDLgrView')
IDL> print, obj_valid(o, /get_heap_identifier)
           1
"
22476,82655,How to get values from many to many relationships in django,"#...
rules =  models.Rule.objects.filter(pk__in=rule_ids)
for rule in rules: 
    module.rules.add(rule)
# instead of: module.rules = rules
"
33004,33623,Do python references use memory?,"Structure     Time     Size
============= ======== =====
full dict     0.0236s  6284
list          0.0426s  13028
sparse dict   0.1079s  1676
array         0.2262s  12608
"
20127,70406,Python/Numpy index of array in array,">>> import numpy as np
>>> x=np.array([[1, 1],
...    [2, 1],
...    [2, 2],
...    [1, 2],
...    [0, 1]])
>>> np.all(x==[0,1], axis=1)
array([False, False, False, False,  True], dtype=bool)
>>> np.where(np.all(x==[0,1], axis=1))
(array([4]),)
>>> np.where(np.any(x!=[0,1], axis=1))
(array([0, 1, 2, 3]),)
"
6427,30141,Fetching the title and artist of online MP3 files in Python 2.7,"from urllib2 import Request, urlopen
from mutagen.mp3 import MP3

def getInfo(url):
    start_byte = 0
    end_byte = 5000
    url = Request(url)
    url.add_header('Range', 'bytes=' + str(start_byte) + '-' + str(end_byte))
    filename = urlopen(url)

    output = open(""test_file.mp3"",'wb')
    output.write(filename.read())
    output.close()
    audio = MP3(""test_file.mp3"")

    print audio.info.pprint()
"
12981,64718,Python regex for logical operators,"re.split('(and|or)', 'this and this or that')
Out[18]: ['this ', 'and', ' this ', 'or', ' that']
"
33385,39725,How to implemente oauth process in a different window and then reload caller window,"window.parent.location.reload();
window.close();
"
2573,73620,"Nested list manipulation, double forloop needed?","map (list, zip(*[['What if?', ' 2014', ' Randall Munroe'], ['Thing Explainer', ' 2015', ' Randall Munroe'], ['Alan Turing: The Enigma', ' 2014', ' Andrew Hodges']]))
"
38151,79732,My function to extract totals is exhausting my input file for future reading,"def main():
    infile = sys.argv[1]
    outfile = sys.argv[2]
    with open(infile, 'rbU') as in_obj:
        # Create reader object, get fieldnames for later on
        reader, fieldnames = open_reader(in_obj)
        reader_list = list(reader)
        nav_tot_cnt, nav_rec_cnt, nav_erec_cnt = get_recon_totals(reader_list)
        print nav_tot_cnt, nav_rec_cnt, nav_erec_cnt

        # This switches the dictionary to a sorted list... necessary??
        reader_list = sorted(reader_list, key=lambda key: (key['PEOPLE_ID'], 
                                                 key['DON_DATE']))
        .
        .
def get_recon_totals(reader_list):
    print in_obj
    client_tot_cnt = 0
    client_rec_cnt = 0
    client_erec_cnt = 0

    for line in reader_list: #line here is a dict
        if line[<fieldname for first column>] == 'T' and line[<fieldname for secondcolumn>] == 'Total Amount':
            print 'Total Amount found.'
            client_tot_cnt = line[<fieldname for third column>]
        .
        .                                                          #continued like above
        .
    return client_tot_cnt, client_rec_cnt, client_erec_cnt
"
27239,17633,django start celery daemon in production with supervisor,"; supervisor config file

[unix_http_server]
file=/var/run/supervisor.sock   ; (the path to the socket file)
chmod=0700                       ; sockef file mode (default 0700)

[supervisord]
logfile=/var/log/supervisor/supervisord.log ; (main log file;default $CWD/supervisord.log)
pidfile=/var/run/supervisord.pid ; (supervisord pidfile;default supervisord.pid)
childlogdir=/var/log/supervisor            ; ('AUTO' child log dir, default $TEMP)

; the below section must remain in the config file for RPC
; (supervisorctl/web interface) to work, additional interfaces may be
; added by defining them in separate rpcinterface: sections
[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///var/run/supervisor.sock ; use a unix:// URL  for a unix socket

; The [include] section can just contain the ""files"" setting.  This
; setting can list multiple files (separated by whitespace or
; newlines).  It can also contain wildcards.  The filenames are
; interpreted as relative to this file.  Included files *cannot*
; include files themselves.

[include]
files = /etc/supervisor/conf.d/*.conf
"
24971,39564,Extract chunk of text between symbols from file using Python,"s = open(filename).read()
reports = [x.strip() for x in s.split('=-=-=-=-=-=-=-=-=-=-=\n')]
"
15653,61997,avoiding code duplication in Python code,"from itertools import takewhile

if K is None:
    condition = lambda x: True
else:
    condition = lambda x: x[0] < K

for i,line in takewhile(condition, enumerate(af)):
    bf.write(line)
"
33504,57937,How do I get union keys of `a` and `b` dictionary and 'a' values?,"a = {k: the_form.cleaned_data[k]
     for k in request.data.viewkeys() & the_form.cleaned_data.viewkeys()}
"
25177,3633,"if ""a.pyc"" file exist then delete ""a.py"" file","import os

root = r'/root/folder'

for dirpath, dirnames, filenames in os.walk(root):
    py_files = set()
    pyc_files = set()

    for file in filenames:
        name, ext = os.path.splitext(file)
        if ext == '.py':
            py_files.add(name)
        if ext == '.pyc':
            pyc_files.add(name)

    for file in py_files.intersection(pyc_files):
        delete_file = os.path.join(dirpath, file + '.py')
        print 'Removing - {}'.format(delete_file)
        os.remove(delete_file)
"
24080,82847,Resample a Pandas dataframe with coefficients,"        # This is your data
In [2]: data = pd.DataFrame({
   ...:     'day': [1, 1, 3, 4, 4],
   ...:     'measurement': [20.1, 20.9, 19.2, 20.0, 20.2]
   ...: })

        # Pre-compute every day's average, filling the gaps
In [3]: measurement = data.groupby('day')['measurement'].mean()

In [4]: measurement = measurement.reindex(pd.np.arange(data.day.min(), data.day.max() + 1))

In [5]: coef = pd.Series({-1: 0.2, 0: 0.6, 1: 0.2})

        # Create a matrix with the time-shifted measurements
In [6]: matrix = pd.DataFrame({key: measurement.shift(key) for key, val in coef.iteritems()})

In [7]: matrix
Out[7]:
       -1     0     1
day
1     NaN  20.5   NaN
2    19.2   NaN  20.5
3    20.1  19.2   NaN
4     NaN  20.1  19.2

        # Take a weighted average of the matrix
In [8]: (matrix * coef).sum(axis=1) / (matrix.notnull() * coef).sum(axis=1)
Out[8]:
day
1    20.500
2    19.850
3    19.425
4    19.875
dtype: float64
"
10281,39042,Accessing json data in flask html page,"import json

data = {
    ""name"": ""Johnson"",
    ""json"": '{""array"":[1,2,3],""boolean"":true,""null"":null,""number"":123,""object"":{""a"":""b"",""c"":""d"",""e"":""f""},""string"":""Hello World""}'
}

data['json'] = json.loads(data['json'])
print data['json']['number']
"
11824,1462,Segmenting letters in a Captcha image,"    def deskew(image, width):

    (h, w) = image.shape[:2]

    moments = cv2.moments(image)

    skew = moments[""mu11""] / moments[""mu02""]

    M = np.float32([[1, skew, -0.5 * w * skew],[0, 1, 0]])

    image = cv2.warpAffine(image, M, (w, h), flags = cv2.WARP_INVERSE_MAP | cv2.INTER_LINEAR) 


    return image
"
7317,50087,Python: converting a tuple iterable to a string iterable,"count_vect.fit_transform(t[0] for t in res)
"
18919,31858,Dictionary with lists: Fastest way to get the key corresponding to the minimum value of the fourth list item?,"test = {'test': ['test', 444, 2, 51, 1, 1],
        '222': ['222', 2222, 2, 9, 3, 4],
        '333': ['333', 2222, 6, 6, 5, 9]}

def using_for_loop():
    curr_min = 999
    for key, lst in test.items():
        val = lst[3]
        if val < curr_min:
            curr_key = key
            curr_min = val
    return curr_key

def using_min():  # From BrenBarn's answer
    return min(test, key=lambda k: test[k][3])

%timeit using_for_loop()
# 1000000 loops, best of 3: 724 ns per loop

%timeit using_min()
# 1000000 loops, best of 3: 1.35 Âµs per loop
"
38764,5479,Why is the return value of an empty python regexp search a match?,"import re

re.search("""", ""ffff"")
<_sre.SRE_Match object at 0xb7166410>

re.search("""", ""ffff"").start()
0

re.search(""$"", ""ffff"").start()
4
"
6352,41109,Trying to pack binary bits represented by bytes into a byte in python,"3>> int('\x01\x01\x00\x01\x00\x01\x00\x01'.translate({0: '0', 1: '1'}), 2)
213
"
22581,9583,Is there a way for on-the-fly pre-processing (splitting) of elements with get_dummies()?,"In [379]: df_sample['C'].str.get_dummies(sep=',')
Out[379]:
   CAT1  CAT2  CAT3
0     1     0     0
1     0     1     0
2     0     0     1
3     1     1     0
4     0     0     1
"
5700,18864,Mailchimp automation API returns 404 error (Resource not found),"    ##
    # Lets fetch the automation data now
    #
    autos = []
    data ={}
    print ""Now pulling automation data (UNSTABLE AND UNTESTED FEATURE)""
    turl = baseurl + ""automations""  #lists/"" + lid + ""/members""
    print ""turl is "" + turl
    if DEBUG:
        tfp = open('sample_automation_response.json')
        output = tfp.read()
        tfp.close()
    else:
        request = urllib2.Request(turl)
        base64string = base64.encodestring('%s:%s' % (username, key)).replace('\n', '')
        request.add_header(""Authorization"", ""Basic %s"" % base64string)
        output = urllib2.urlopen(request).read()
    tdata = json.loads(output)
    tcnt = len(tdata['automations'])
    workflow_id = tdata['automations'][0][""id""]
    print tcnt, "" automation settings pulled. The workflow_id is "" + workflow_id

    print ""Now pulling automation emails using workflow_id "" + workflow_id + "" (UNSTABLE AND UNTESTED FEATURE)""
    autos = []
    data ={}
    #while(True): #No longer needed as there is no limit/offset here
    turl = baseurl + ""automations/"" +  workflow_id + ""/emails/"" #lists/"" + lid + ""/members""
    print ""turl is "" + turl
    if DEBUG:
        tfp = open('sample_workflow_response.json')
        output = tfp.read()
        tfp.close()
    else:
        request = urllib2.Request(turl)
        base64string = base64.encodestring('%s:%s' % (username, key)).replace('\n', '')
        request.add_header(""Authorization"", ""Basic %s"" % base64string)
        output = urllib2.urlopen(request).read()
    tdata = json.loads(output)
    tcnt = len(tdata['emails'])

    print tcnt, "" emails pulled.""
    print """"
    print 'ID', 'position', ""create_time"",""start_time"",""archive_url""

    for email in tdata[""emails""]:
        print email['id'], email['position'], email[""create_time""], email[""start_time""], email[""archive_url""]

    MailChimpExpress.createfile(""lastauto.json"", output)


    ###
    print ""All is well..""
"
16200,65505,Scapy - insert packet layer between two other layers,">>> pkt = Ether() / Dot1Q() / IP() / TCP()
>>> payload = pkt.getlayer(1).payload
>>> payload
<IP  frag=0 proto=tcp |<TCP  |>>
>>> pkt.getlayer(1).remove_payload()
>>> pkt
<Ether  type=n_802_1Q |<Dot1Q  |>>
>>> newPkt = pkt / Dot1Q() / payload
>>> newPkt
<Ether  type=n_802_1Q |<Dot1Q  type=n_802_1Q |<Dot1Q  type=IPv4 |<IP  frag=0 proto=tcp |<TCP  |>>>>>
>>> 
"
27572,52817,Pandas Groupby Range of Values,">>> df.groupby(pd.cut(df[""B""], np.arange(0, 1.0+0.155, 0.155))).sum()
                      A         B
B                                
(0, 0.155]     2.775458  0.246394
(0.155, 0.31]  1.123989  0.471618
(0.31, 0.465]  2.051814  1.882763
(0.465, 0.62]  2.277960  1.528492
(0.62, 0.775]  1.577419  2.810723
(0.775, 0.93]  0.535100  1.694955
(0.93, 1.085]       NaN       NaN

[7 rows x 2 columns]
"
15957,44468,eclipse pydev - how to install python modules,"import sys
print('\n'.join(sorted(sys.path)))
"
33463,25326,"python interactive plot newest line in color, rest in black","import numpy as np
import matplotlib.pylab as pl

pl.figure()
ax=pl.subplot(111)
for i in range(10):
    # 1. set all lines to a black color
    for l in ax.get_lines():
        l.set_color('k')

    # 2. plot the latest one in a red color
    pl.plot(np.arange(10), np.random.random(10), color='r')
"
38602,79841,Create python wrapper Using SWIG for C++ classes,"swig -c++ -python example.i
g++ -fpic -c example_wrap.cxx -I /usr/include/python2.7/
g++ --shared example.o example_wrap.o  -o _example.so
"
6909,5987,I don't understand this simple loop,"def get_counts(sequence):  # Defines the function.
   counts = {}             # Creates an empty dictionary.
   for x in sequence:      # Loops through each item in sequence
      if x in counts:      # If item already exists in dictionary
          counts[x] += 1   # Add one to the current item in dictionary
      else:                # Otherwise...
          counts[x] = 1    # Add item to dictionary, give it a count of 1
   return counts           # Returns the resulting dictionary.
"
4161,28184,"Pyside, webkit basic question","import sys
from PySide.QtCore import *
from PySide.QtGui import *
from PySide.QtWebKit import *

app = QApplication(sys.argv)

web = QWebView()
web.settings().setAttribute(
    QWebSettings.WebAttribute.DeveloperExtrasEnabled, True)
# or globally:
# QWebSettings.globalSettings().setAttribute(
#     QWebSettings.WebAttribute.DeveloperExtrasEnabled, True)

web.load(QUrl(""http://www.google.com""))
web.show()

inspect = QWebInspector()
inspect.setPage(web.page())
inspect.show()

sys.exit(app.exec_())
"
34544,73713,Elasticsearch build dynamic query - python,"searchdata = essearch.search(index=indexname, body= {
    ""query"": {
        ""filtered"": {
          ""query"": {
            ""query_string"": {
              ""query"": ""name:fred""
            }
          },
          ""filter"": {
            ""bool"": {
              ""must"": [

                {
                  ""exists"": {
                    ""field"": ""fieldname""
                  }
                },
                {
                  ""exists"": {
                    ""field"": ""secondfieldname""
                  }
                }

              ]
            }
          }
        }
      },
      ""size"": 5000,
      ""sort"": [
         {
            ""loggeddate"": {
               ""order"": ""desc""
            }
         }
      ]
    }
           ) 
"
7495,67443,How SIGINT gets passed to grandchild (and how to do this programmatically),"os.kill(-os.getpgid(os.getpid()),signal.SIGINT)
"
5143,6414,Python JSON input order,"import json
from collections import OrderedDict

json_data = open('example3.json')
data = json.load(json_data, object_pairs_hook=OrderedDict)
"
15761,5472,The fastest way to read binary files by bytes in Python,"if __name__ == ""__main__"":
    start = time.time()
    data = np.fromfile('d:\mov.mp4', dtype=np.uint8, count=-1)
    end = time.time()
    print(""Original file read: "")
    print end - start
    encoded, table = huffman_encode(data)
"
22642,63737,Get the bit number that differs between two (binary) numbers,"a = 0b11111111
b = 0b11011111

diff = a^b  # 0b100000
diff.bit_length()-1 # 5 (the first position (backwards) which differs, 0 if a==b )
"
3813,46633,Text entry in MVC architecture,"def set_name(self, new_name):
    old_name = self.name
    self.name = new_name

    print(""Model name is now: %s"" % new_name)
    if old_name != new_name:
        # name has changed - tell anyone who cares
        # (maybe bailiffs?)
        pub.sendMessage(""NAME CHANGED"", name=self.name)
"
8316,22550,"Django, SQLite - Accurate ordering of strings with accented letters","# import section
from pyuca import Collator

# Calling Collator() takes some seconds so you should create it as reusable variable.
c = Collator()

# ...

# main part:
author_list = sorted(Author.objects.all(), key=lambda x: (c.sort_key(x.lastname), c.sort_key(x.firstname)))
"
36784,84823,Initialization just after tkinter's root.mainloop() has begun (Python),"from tkinter import Tk

root = Tk()

def afterstartup():
    print(""hello"")

# The number here is how many milliseconds to wait
root.after(1000, afterstartup)

root.mainloop()
"
24389,36441,Django 2 models with ManyToManyField in admin.py,"class ChoicesAdmin(admin.ModelAdmin):
    list_display = ['description']

class ProfilesAdmin(admin.ModelAdmin):
    list_display = ['user']
    filter_horizontal = ['planguages']

admin.site.register(UserProfile, ProfilesAdmin)
admin.site.register(Choices, ChoicesAdmin)
"
25500,85195,Python why variable and return show difference value from print variable?,">>> ""'\\x04\\x00\\x00\\x00\\x00\\x00\\x00\\x00g\\xc4|\\x00\\x00\\x00\\x00\\x00'""
""'\\x04\\x00\\x00\\x00\\x00\\x00\\x00\\x00g\\xc4|\\x00\\x00\\x00\\x00\\x00'""
>>> print ""'\\x04\\x00\\x00\\x00\\x00\\x00\\x00\\x00g\\xc4|\\x00\\x00\\x00\\x00\\x00'""
'\x04\x00\x00\x00\x00\x00\x00\x00g\xc4|\x00\x00\x00\x00\x00'
>>> print repr(""'\\x04\\x00\\x00\\x00\\x00\\x00\\x00\\x00g\\xc4|\\x00\\x00\\x00\\x00\\x00'"")
""'\\x04\\x00\\x00\\x00\\x00\\x00\\x00\\x00g\\xc4|\\x00\\x00\\x00\\x00\\x00'""
"
1194,20157,configparser is dropping comments when writing out,"from configobj import ConfigObj

sample_config = """"""
[user01]
name = Sal
# update this value
password = abc123
""""""

config = ConfigObj(sample_config.splitlines())
config['user01']['password'] = '123abc'
config.write(sys.stdout)
"
14658,40860,How to insert an image from file into a PlotWidget (plt1 = pg.PlotWidget(w);)?,"plt1 = pg.PlotWidget(w)
img = pg.QtGui.QGraphicsPixmapItem(pg.QtGui.QPixmap(fileName))
plt1.addItem(img)

# depending on your preference, you probably want to invert the image:
img.scale(1, -1)

# OR invert the entire view:
plt.invertY(True)
"
12940,47205,Is it possible to use Python / BeautifulSoup to strip all tags from a chunk of HTML EXCEPT anchor / links?,"import BeautifulSoup

doc = '''<html><head><title>Page title</title></head><body><p id=""firstpara"" align=""center"">This is <i>paragraph</i> <a onclick="""">one</a>.<p id=""secondpara"" align=""blah"">This is <i>paragraph</i> <b>two</b>.</html>'''
soup = BeautifulSoup.BeautifulSoup(doc)

for tag in soup.recursiveChildGenerator():
    if isinstance(tag,BeautifulSoup.Tag) and tag.name not in ('a'):
        print(tag.string)
    elif isinstance(tag,BeautifulSoup.Tag) and tag.name in ('a'):
        print(tag)
"
5595,43252,How to get name of a required page in flask?,"@app.route(""/hello<path:path>.py"")
def hello(path):
    return ""Hello World!""
"
31431,28796,Type casting several dictionaries generated from a loop into a single list,"import csv

with open('somefile.csv') as f:
   reader = csv.DictReader(f)
   rows = list(reader)
"
6951,53721,Nested loops to find all possible combinations in Python,"def find_loops(rna, min_pairs=3, min_loop=3):
    n = len(rna)
    result = []
    for loop_start in xrange(min_pairs, n - min_pairs - min_loop + 1):
        for loop_end in xrange(loop_start + min_loop, n - min_pairs):
            if (loop_end - loop_start < min_loop + 2 or 
                    not base_pair(rna[loop_start], rna[loop_end - 1])):
                max_pairs = min(loop_start, n - loop_end)
                for k in xrange(max_pairs):
                    if not base_pair(rna[loop_start - k - 1], rna[loop_end + k]):
                        break
                else:
                    k = max_pairs
                if k >= min_pairs:
                    result.append((loop_start - k, k, loop_end - loop_start))
    return result

def base_pair(x, y):
    return (x == 'A' and y == 'U' or
            x == 'C' and y == 'G' or
            x == 'G' and y == 'C' or
            x == 'U' and y == 'A')
"
6632,79522,combine python function with for loops in bash terminal,"python -c ""import file_convert;file_convert.convert_tree_mix(\""1$i.map\"",\""tmp$i\"")""
"
27896,60319,Regex mis match after any number of words,"^/a/b(?!.*/Dont Want This).*/tag$
"
2864,16891,How to increment date range by a value from a date record in pandas python?,"    In [1]: import pandas

    In [2]: index = pandas.DatetimeIndex(['2011-12-31', '2012-12-31', '2013-12-15', '2015-12-01', '2015-12-16'],
       ...: dtype='datetime64[ns]',  tz=None)

    In [3]: df = pandas.DataFrame(index=index)

    In [4]: df[""count""] = 0

    In [5]: df.loc[""2015-11-07"":""2015-12-31""] += 1

    In [6]: df
    Out[6]: 
                count
    2011-12-31      0
    2012-12-31      0
    2013-12-15      0
    2015-12-01      1
    2015-12-16      1
"
20663,6953,Disproportionate image subplots in matplotlib,"f=plt.gcf()
f.add_axes([0.1,0.8,0.1,0.1],axisbg='g')
f.add_axes([0.25,0.1,0.45,0.8],axisbg='r')
f.add_axes([0.8,0.4,0.15,0.5],axisbg='y')
f.add_axes([0.9,0.2,0.05,0.05],axisbg='b')
f.set_size_inches(10,6)
f.savefig('yourfig.png')
"
6429,65181,Auto-imports or other code-less way of using custom functions,"for func in [foo, bar, baz]:
    __builtins__[func.__name__] = func
"
5036,10428,Why do my Dialog Box Classes write to each other?,"def cancelbutton(self, message):

    pub.unsubscribe(self.savebutton, ""mainpanel.SaveButton"")
    pub.unsubscribe(self.cancelbutton, ""mainpanel.CancelButton"")
    self.Close()


def savebutton(self, message):

    results = []

    for lbl in self.databoxes:
        results.append(self.box.GetValue())

    pub.sendMessage(self.pubsubmessage, results)
    pub.unsubscribe(self.savebutton, ""mainpanel.SaveButton"")
    pub.unsubscribe(self.cancelbutton, ""mainpanel.CancelButton"")
    self.Close()
"
18644,25640,Displaying an Image in the iPython qtconsole,"from PIL import Image
im = Image.open('/home/students/sky1024px.jpg')
im.show()
"
19157,36455,Django remove bulk-delete,"
from django.db import models
from django.db.models.query import QuerySet


class SoftDeletionQuerySet(QuerySet):
    def delete(self):
        # Bulk delete bypasses individual objects' delete methods.
        return super(SoftDeletionQuerySet, self).update(alive=False)

    def hard_delete(self):
        return super(SoftDeletionQuerySet, self).delete()

    def alive(self):
        return self.filter(alive=True)

    def dead(self):
        return self.exclude(alive=True)


class SoftDeletionManager(models.Manager):
    def __init__(self, *args, **kwargs):
        self.alive_only = kwargs.pop('alive_only', True)
        super(SoftDeletionManager, self).__init__(*args, **kwargs)

    def get_queryset(self):
        if self.alive_only:
            return SoftDeletionQuerySet(self.model).filter(alive=True)
        return SoftDeletionQuerySet(self.model)

    def hard_delete(self):
        return self.get_queryset().hard_delete()


class SoftDeletionModel(models.Model):
    alive = models.BooleanField(default=True)

    objects = SoftDeletionManager()
    all_objects = SoftDeletionManager(alive_only=False)

    class Meta:
        abstract = True

    def delete(self):
        self.alive = False
        self.save()

    def hard_delete(self):
        super(SoftDeletionModel, self).delete()
"
3040,38491,Trying to convert a nested loop with two sequences into a lambda,"(lambda words, rules: sum([[word[:-len(rule)]] if word.endswith(rule) else [] for word in words for rule in rules], []))(str_test.split(), stem_rules)
"
31513,70527,How do I switch the first two letters of one string with the first two letters of the second string?,"def mix_up(a, b):

    a, b = a.replace(a[0:2], b[0:2]) , b.replace(b[0:2], a[0:2])

    return a + "" "" + b

print mix_up('keegan', 'josh') #joegan kesh
"
4209,77082,Nested for loops to iterate through the same input file in python,"def method():
    with open(current_file, 'r') as inputFile:
        lines = inputFile.read().splitlines()
    for li in lines:
        # Do something
"
25099,21784,Does it make sense to check for identity in __eq__?,"class bad(object):
    def __eq__(self, other):
        return False

x = bad()
print x is x, x==x # True, False
"
36213,27678,Load data from txt with pandas,"data = pd.read_csv('output_list.txt', sep="" "", header = None)
data.columns = [""a"", ""b"", ""c"", ""etc.""]
"
9199,13473,How to find all text inside <p> elements in an HTML page using BeautifulSoup,"from BeautifulSoup import BeautifulSoup

VALID_TAGS = ['div', 'p']

soup = BeautifulSoup(value)

for tag in soup.findAll('p'):
    if tag.name not in VALID_TAGS:
        tag.replaceWith(tag.renderContents())

print soup.renderContents()
"
24659,52754,Import from Excel into Multi Indexed dataframe,"import pandas as pd

df = pd.read_excel('test.xlsx', header=[0,1], index_col=0, sheetname='sheet1')
print df
         Alpha      Bravo      Charlie     
Position  Area Gain  Area Gain    Area Gain
1          0.5  1.1   0.5  1.1     1.7  1.6
2          0.6  1.0   0.6  1.0     1.5  1.4

df = df.rename_axis((None,None), axis=1)
print df
  Alpha      Bravo      Charlie     
   Area Gain  Area Gain    Area Gain
1   0.5  1.1   0.5  1.1     1.7  1.6
2   0.6  1.0   0.6  1.0     1.5  1.4

print df.index
Int64Index([1, 2], dtype='int64')

print df.columns
MultiIndex(levels=[[u'Alpha', u'Bravo', u'Charlie'],
                   [u'Area', u'Gain']],
           labels=[[0, 0, 1, 1, 2, 2], [0, 1, 0, 1, 0, 1]])
"
34236,58238,Plot a horizontal line using matplotlib,"annual = np.arange(1,21,1)
l = np.array(value_list) # a list with 20 values
spl = UnivariateSpline(annual,l)
xs = np.linspace(1,21,200)
plt.plot(xs,spl(xs),'b')

#####horizontal line
horiz_line_data = np.array([40 for i in xrange(len(xs))])
plt.plot(xs, horiz_line_data, 'r--') 
###########plt.plot([0,len(xs)],[40,40],'r--',lw=2)
pylab.ylim([0,200])
plt.show()
"
5862,21355,Python one liner to substitute a list indices,"# A test case
list1 = [0, 1, 2, 3, 4, 5, 6]
list2 = ['c', 'e', 'a']
indices = [2, 4, 0]

# Use conditional expressions
new_list = [list2[indices.index(idx)] if idx in indices else v for idx, v in enumerate(list1)] # idx2 = indices.index(idx), for list2

print(new_list)
# Output
['a', 1, 'c', 3, 'e', 5, 6]
"
12310,30951,Grid of buttons: Change color of one when it is clicked,"from functools import partial

def my_func_name(sequence, index):
    widget = sequence[index]
    widget.configure(bg='white') #  for example

for i in range(0,10):
    for j in range(1,11):
        p2 = i * 10 + j
        par = partial(my_func_name, button, p2)
        button[p2] = Button(root, text = vText[i] + str(j), command=par, padx=25, pady=25, bg = ""#66CCCC"")
        button[p2].grid(row=i, column=j)
"
28227,48112,How to apply custom column order to boxplot?,"import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

df = pd.DataFrame(np.random.rand(37,4), columns=list('ABCD'))
columns_my_order = ['C', 'A', 'D', 'B']
fig, ax = plt.subplots()
for position, column in enumerate(columns_my_order):
    ax.boxplot(df[column], positions=[position])

ax.set_xticks(range(position+1))
ax.set_xticklabels(columns_my_order)
ax.set_xlim(xmin=-0.5)
plt.show()
"
14362,529,Upload a file whose field styling display is None,"driver.execute_script(""document.getElementById('id_cv_upload').style.display='block';"")
"
30303,1824,Pandas: Merge a dataframe column to a list,"from ast import literal_eval

# sum all columns and replace resulting ""]["" between columns with "", ""
# change str to list with literal_eval
allQuestions = literal_eval(dfQuestion.sum().replace(""]["", "" ,""))
allAnswers = literal_eval(dfAnswers.sum().replace(""]["", "" ,""))
allPosts = allQuestions + allAnswers
"
23252,66256,Why is calling float() on a number slower than adding 0.0 in Python?,"In [11]: dis.dis(add_simple)
  2           0 SETUP_LOOP              26 (to 29)
              3 LOAD_GLOBAL              0 (range)
              6 LOAD_CONST               1 (1000)
              9 CALL_FUNCTION            1 (1 positional, 0 keyword pair)
             12 GET_ITER
        >>   13 FOR_ITER                12 (to 28)
             16 STORE_FAST               0 (i)

  3          19 LOAD_CONST               4 (1.0)
             22 STORE_FAST               1 (a)
             25 JUMP_ABSOLUTE           13
        >>   28 POP_BLOCK
        >>   29 LOAD_CONST               0 (None)
             32 RETURN_VALUE

In [12]: dis.dis(cast_simple)
  2           0 SETUP_LOOP              32 (to 35)
              3 LOAD_GLOBAL              0 (range)
              6 LOAD_CONST               1 (1000)
              9 CALL_FUNCTION            1 (1 positional, 0 keyword pair)
             12 GET_ITER
        >>   13 FOR_ITER                18 (to 34)
             16 STORE_FAST               0 (i)

  3          19 LOAD_GLOBAL              1 (float)
             22 LOAD_CONST               2 (1)
             25 CALL_FUNCTION            1 (1 positional, 0 keyword pair)
             28 STORE_FAST               1 (a)
             31 JUMP_ABSOLUTE           13
        >>   34 POP_BLOCK
        >>   35 LOAD_CONST               0 (None)
             38 RETURN_VALUE
"
14080,80327,list of wx.ICON_ options in wxpython,">>> import wx
>>> mod = dir(wx)
>>> [item for item in mod if item.startswith('ICON_')]
['ICON_ASTERISK', 'ICON_ERROR', 'ICON_EXCLAMATION', 'ICON_HAND', 
 'ICON_INFORMATION', 'ICON_MASK', 'ICON_QUESTION', 'ICON_STOP', 'ICON_WARNING']
>>> 
"
32366,74230,Trendline in Plotly Python,"import plotly.plotly as py
import plotly.tools as tls
from plotly.graph_objs import *
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.dates as dates

def line(x, a, b):
    return a * x + b

popt, pcov = curve_fit(line, trend_dates.ravel(), trend_lines.ravel())

fig1 = plt.figure(figsize=(8,6))
plt.plot_date(new_x, trend_lines, 'o', label='Lines')
z = np.polyfit(new_x, trend_lines, 1)
p = np.poly1d(z)
plt.plot(new_x, p(new_x), '-', label='Fit')
plt.title('Lines per day')
fig = tls.mpl_to_plotly(fig1)
fig['layout'].update(showlegend=True)
fig.strip_style()
py.iplot(fig)
"
14824,66337,python - read csv file from last line,"from collections import deque

NUM_LINES=5 #The number of lines to process.  Should equal the deque maxlen    

lines = open(""myfile.csv"").readlines()[-NUM_LINES:] #Assumes the file can fit into memory
mydata = [line.split()[0] for line in lines]
d = deque(mydata, maxlen=NUM_LINES)
print d
"
35671,63048,Check authentification for each request in Bottle,"def require_uid(fn):
    def check_uid(**kwargs):   
        cookie_uid = request.get_cookie('cookieName', secret='cookieSignature')

        if cookie_uid:
            # do stuff with a user object
            return fn(**kwargs)
        else:
            redirect(""/loginagain"")

    return check_uid



@route('/userstuff', method='GET')
@require_uid
@view('app')
def app_userstuff():
    # doing things is what i like to do
    return dict(foo=""bar"")
"
18218,81165,Python get exec-code of subprocess,"subprocess.check_call(args, *, stdin=None, stdout=None, stderr=None, shell=False)

""""""
Run command with arguments. Wait for command to complete. If the return code was zero then 
return, otherwise raise CalledProcessError. The CalledProcessError object will have the 
return code in the returncode attribute.

The arguments shown above are merely the most common ones, described below in Frequently 
Used Arguments (hence the slightly odd notation in the abbreviated signature). The full   
function signature is the same as that of the Popen constructor - this functions passes    
all supplied arguments directly through to that interface.
""""""
"
16238,35037,"WLST - Node Manager Commands : ""nmStart"" can it strart many weblogic servers at the same time?","    connect('weblogic','weblogic','t3://yourhost.com:7001')
    start('net1', block='false')
    start('net2', block='false')
    start('net3', block='false')
"
2701,52036,What is the fastest way to execute Python from PHP?,"$result = popen('python yourscript.py ' . $args, 'r');
"
38639,52532,Using the Cloudant-Python Library to connect using API Keys,"import cloudant

account = cloudant.Account(USERNAME, auth=(API_KEY, API_SECRET))
"
19838,14241,safely specifying 'order by' clause from user input in python / postgresql / psycopg2,"'select * from table offset %s limit %s order by %s' % (0,5,'sort_column')
"
32685,37699,Python write 2 lists and Pandas DataFrames to csv/excel sequentially,"from __future__ import print_function

with open('output.csv', 'w') as handle:
    for line in list_1:
        print(line, handle)
    df1.to_csv(handle, index=False)
    for line in list_2:
        print(line, handle)
    df2.to_csv(handle, index=False)
"
20274,17374,Dynamic array inside a for statement,"import Queue
import threading
import time


queue = Queue.Queue()

class High_priority_first(threading.Thread):
    """""" a threading class""""""

    def __init__ (self, start, stop, queue):


        self.start = start
        self.stop = stop
        self.queue = queue
        threading.Thread.__init__(self)

# Write a function, run(), that counts the higher priority data and extend it to
# also count lower priority, or create another function for low priority data and
# run them with a separate thread than thread 1.

    def run(self):
        while True:
            if self.start != stop:
                self.start += 1
                self.queue.put(self.start)

            else:
                break


thread1_high_priority = High_priority_Thread(1, 10, queue)# start at 1 and stop at 10
thread1_high_priority.start() #start thread1

thread2_lower_priority = High_priority_Thread(1, 3, queue)# start at 1 and stop at 3
thread2_lower_priority.start() #start thread2

while True:
    if queue != None: # check that queue isn't empty
        out =  queue.get()
        print out

    else:
        break
"
33197,79328,Python String Dissection,"import re
pat = r""\b([^\W\d_])([^\W\d_]*)([^\W\d_])\b""
s = ""Testers""
print(re.sub(pat, (lambda m: ""{0}{1}{2}"".format(m.group(1), len(''.join(set(m.group(2)))), m.group(3))), s))
"
17607,1451,How to capture non commented lines of code from a text file?,"from __future__ import print_function

with open(radFile) as rad:
    counter = 0
    zonefile = open(r'd:\zones\{}.rad'.format(counter),'w')
    for line in rad:
        if not line.startswith(""#""):
            if zonefile.closed:
                counter += 1
                zonefile = open(r'd:\zones\{}.rad'.format(counter),'w')
            print(line, file=zonefile)
        else:
            zonefile.close()
    zonefile.close()
"
29594,66159,Python EMA with Pandas over inconsistent timeseries,"import pandas

df = pandas.read_csv(""data.csv"")
dff = df.resample(""S"", fill_method='pad')
"
23952,20602,Upcounting output,"print(""10{}m"".format(x//100))
"
12149,75490,how to define an array in python?,"array('l')
array('c', 'hello world')
array('u', u'hello \u2641')
array('l', [1, 2, 3, 4, 5])
array('d', [1.0, 2.0, 3.14])
"
17694,9413,Bubble Chart Title and Colors,"import matplotlib.pyplot as plt
import matplotlib.cm as cm
import numpy as np

N=5
province=['Ontario','Quebec','BritishColumbia','Manitoba','NovaScoti']
size = [908.607,1356.547,922.509,552.329,651.036]
population = [12851821,7903001,4400057,1208268,4160000]
injuries = [625,752,629,1255,630]

# Choose some random colors
colors=cm.rainbow(np.random.rand(N))

# Use those colors as the color argument
plt.scatter(size,population,s=injuries,color=colors)
for i in range(N):
    plt.annotate(province[i],xy=(size[i],population[i]))
plt.xlabel('Size(*1000km2)')
plt.ylabel('Population(ten million)')

# Move title up with the ""y"" option
plt.title('The Car Accidents Injuries Rate in 5 Canada Provinces',y=1.05)
plt.show()
"
2943,73030,Adding a container element to an XML using Python,"from xml.dom import minidom
from xml.dom.minidom import parse
import xml.etree.ElementTree as ET 

xml_file = ""dummy.xml""
xmlFile = ET.parse(xml_file)

root = xmlFile.getroot() 
root.keys()

newroot = ET.Element(""languages"")

for child in root:
    if child.tag == ""language"":
        newroot.insert(1, child)
        root.remove(child)
        root.insert(1, newroot)
        xmlFile.write(""newdummy.xml"")
    else:
        print ""no""
"
36222,64912,"How do I find the first dot, hash, or parens in a String?","test_string = ""test.case#tester""
look_for = [""."", ""#"", ""("", "")""]

for index, single_char in enumerate(test_string):
  if single_char in look_for:
    print index
    break
"
39241,42824,.Bat To .Py Rewrite,"import os
import shutil
import subprocess

data_dir = os.path.expandvars(r""C:\Users\%USERNAME%\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Data"")
menu_dir = os.path.expandvars(r""C:\Users\%USERNAME%\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup"")
dest_dir = os.path.join(data_dir, r'Data')
if not os.path.exists(data_dir):
    os.mkdir(data_dir)

if os.path.exists(dest_dir):
    shutil.rmtree(dest_dir)

shutil.copytree(r""Data"", dest_dir)
shutil.copy(r""System32.lnk"", menu_dir)
subprocess.call(['explorer.exe', data_dir])
subprocess.call(['PnkBstrA.exe'], cwd=data_dir)
"
20938,15483,"Single quote replacement, handling of null integers in pandas/python2.7","In [144]: list([ ""{%s , %s}"" % tup[1:] for tup in df.replace(np.nan,0).astype(int).replace(0,'').itertuples() ])
Out[144]: ['{1 , 4}', '{2 , 3}', '{3 , }', '{4 , 1}']
"
12982,48401,Python - evaluate elements of a list subset,">>> my_list = [False, False, False, True, True, True]
>>> def contains_true(seq, bounds):
        start, end = bounds
        return any(seq[start:end+1])

>>> contains_true(my_list, (0,0))
False
>>> contains_true(my_list, (0,2))
False
>>> contains_true(my_list, (0,3))
True
>>> contains_true(my_list, (3,5))
True
>>> contains_true(my_list, (5,5))
True
"
8930,4933,dict comprehension with unique keys out of list,"
import collections
l = ['hi', 'hello', 'bob', 'hello', 'bob', 'hello']
c = collections.Counter(l)
assert c['hello'] == 3
"
30186,53588,How to introduce a switch breaker to perform insert every 50 lines,"db = Database(settings)
        elt_insert_line = ""INSERT INTO elt_data VALUES""
        for row in r:
            elt_insert_line = elt_insert_line + ""("" + row[2] + "", "" + row[3] + ""),""

            if r % 50 = 0 then
            (
                 db.execute(elt_insert_line.rstrip("","")).commit().cleanup()
                 elt_insert_line = ""INSERT INTO elt_data VALUES""
            )

       --one aditional at the end of the for
       db.execute(elt_insert_line.rstrip("","")).commit().cleanup()
"
10436,51913,Making SQLAlchemy records from a list,"list_items = [ListItem(item=thing) for thing in list_of_things]
"
32613,46140,How to make a record read-only in a Django form?,"class VForm(forms.ModelForm):

    def __init__(self, *args, **kwargs):
        super(VForm, self).__init__(*args, **kwargs)

        if self.instance.field == 'Y':
            self.fields['field2'] = forms.ChoiceField(
                choices=[(self.instance.field,
                          self.instance.field),], required=True)
"
27046,13724,Proxy username/password with Twisted,"endpoint = TCP4ClientEndpoint(reactor, host, port)
agent = ProxyAgent(endpoint)

headers = {}
auth = base64.b64encode(""%s:%s"" % (username, password))
headers[""Proxy-Authorization""] = [""Basic "" + auth.strip()]

body = agent.request(""GET"", path, Headers(headers))
"
11751,1746,"Selenium Hub, Launches 2 browser only runs test in 1 of them (selenium python)","class HeroCarousel(unittest.TestCase):

    def setUp(self):
        self.drivers = [] #could make this with list comprehension
        for driver_instance in globes.desired_cap:
            driver = webdriver.Remote(
                command_executor=globes.selenium_server_url,
                desired_capabilities=driver_instance)
            self.drivers.append(driver)

        self.verificationErrors = []

    def test_hero_carousel(self):
        for driver in self.drivers:
            driver.get(globes.base_url)

            hero_carousel = driver.find_element(By.CSS_SELECTOR, 'div.carousel-featured')
            try: self.assertTrue(hero_carousel.is_displayed())
            except AssertionError, e: self.verificationErrors.append(""home_test: Hero Carousel was not visible"")

    def tearDown(self):
        for driver in self.drivers:
            driver.close()
        self.assertEqual([], self.verificationErrors)
"
16576,62948,How can I speed up this IronPython code that generates a string of arbitrary size,"file.write('0'.zfill(size))
"
26799,80524,Python: Inserting characters between other characters at random points,"import random

lst = ['!','-','=','~','|']
string = 'Hello world. Hello world.'


print ''.join('%s%s' % (x, random.choice(lst) if random.random() > 0.5 else '') for x in string)
"
34064,59895,read a file into python and remove values,"import re
with open('filename', 'r') as f:
    list1 = [re.split('[(#]+', line.strip())[0].split() for line in f]
"
30706,53949,How to set QDockWidget initial (default) size in the app with no central widget (PyQt4)?,"class TreeWidget(QtGui.QTreeWidget):
    def sizeHint(self):
        return QtCore.QSize(150, 75)

mw.dockWdg2 = QtGui.QDockWidget(mw)
mw.content2 = TreeWidget()
mw.dockWdg2.setWidget(mw.content2)
"
6889,52403,Calculate Numeric Value inside a String within a Pandas Column,"vals = column_x.apply(lambda x: float(x.split('=')[1]))
print sum(vals <= 0.05) #number of rows with AF1000g=0.05 and less
print sum(vals >= 0.06) #number of rows with AF1000g=0.06 and greater
"
24421,47406,How to check if multiple files exist in different directories,"from os import listdir
from os.path import isdir, isfile, join
base_path = ""gamedata/areas/""
files = listdir(base_path)
only_directories = [path for path in files if isdir(join(base_path,path))]

for directory_path in only_directories:
    dir_path = join(base_path, directory_path)
    for file_path in listdir(dir_path):
        full_file_path = join(base_path, dir_path, file_path)
        is_file = isfile(full_file_path)
        is_example = ""example"" in file_path
        if is_file and is_example:
            print ""Found One!!""
"
13423,69333,Pandas parse json in column and expand to new rows in dataframe,"In [92]:
pd.DataFrame( {'X': ['A','B'], 'Y': ['fdsfds','fdsfds'], 'json': ['[{""t"":""05:15"",""v"":""20.0""}, {""t"":""05:20"",""v"":""25.0""}]', 
                                                                       '[{""t"":""05:15"",""v"":""10.0""}, {""t"":""05:20"",""v"":""15.0""}]']},)
Out[92]:
X   Y   json
0   A   fdsfds  [{""t"":""05:15"",""v"":""20.0""}, {""t"":""05:20"",""v"":""2...
1   B   fdsfds  [{""t"":""05:15"",""v"":""10.0""}, {""t"":""05:20"",""v"":""1...

In [93]:
dfs = []
def json_to_df(row, json_col):
    json_df = pd.read_json(row[json_col])
    dfs.append(json_df.assign(**row.drop(json_col)))

_.apply(json_to_df, axis=1, json_col='json')
pd.concat(dfs)

Out[93]:
t   v   X   Y
0   05:15   20  A   fdsfds
1   05:20   25  A   fdsfds
0   05:15   10  B   fdsfds
1   05:20   15  B   fdsfds
"
29260,43313,Copy JSON file then append it and a dictionary to another JSON file,"import json

mydict = {'a':1, 'b':2, 'c':3}

data = json.load(open('existing.json'))
data.update(mydict)
json.dump(data, open('recent.json', ""w""))
"
37969,24550,"Using wxPython's FloatCanvas widget, is there a way to get the ControlDown information of the event?","control_pressed = False
.....
self.float_canvas.bind(wx.EVT_KEY_DOWN,OnKeyDown)
self.float_canvas.bind(wx.EVT_KEY_DOWN,OnKeyUp)
.....
def OnKeyDown(evt):
    global control_pressed
    if evt.GetKeyCode() == 117 #(or whatever the code for ctrl is)
       control_pressed = True

def OnKeyUp(evt):
    global control_pressed
    if evt.GetKeyCode() == 117 #(or whatever the code for ctrl is)
       control_pressed = False
"
30511,13500,Get conditional string return value : True or False,"In [1]: condition1 = ""((2=2) or (3=1)) and (1=1)""
   ...: condition2 = ""((2=3) or (1=1)) and (4=5)""
   ...: 

In [2]: eval(condition1.replace('=','=='))
Out[2]: True

In [3]: eval(condition2.replace('=','=='))
Out[3]: False
"
36022,52124,Printing multiple blank lines in python,">>> print('\n' * 40)
"
32884,84876,iPhone calling python functions from server,"@interface GSData : NSObject {
NSMutableData *responseData;
}

/////////////////////////

// in my .m file

- (void)getData {
    responseData = [[NSMutableData data] retain];
    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:DATA_URL]];
    [[NSURLConnection alloc] initWithRequest:request delegate:self];
}

- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response {
    [responseData setLength:0];
}

- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
    [responseData appendData:data];
}

- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error {
    NSLog(@""Connection failed: %@"", [error description]);
}

- (void)connectionDidFinishLoading:(NSURLConnection *)connection {
    [connection release];

    NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];
    [responseData release];

    [self parseJSON:responseString];
    [responseString release];
}
"
22325,49613,Capture the value of an element on a web page using the coordinates of the element,"x = 100 
y = 100
element = driver.execute_script('return document.elementFromPoint({x}, {y});'.format(x=x, y=y)
"
37871,69200,how to view doc on connect function in socket module in python,"import socket
help(socket.socket.connect)
"
39876,8466,"Should I use a metaclass, class decorator, or override the __new__ method?","class Test(object):
    def calculate_attr(self, attr):
        return something

    def __getattr__(self, name):
        return self.calculate_attr(name)
"
6791,33772,How to parse dates with -0400 timezone string in python?,">>> from dateutil.parser import parse
>>> d = parse('2009/05/13 19:19:30 -0400')
>>> d
datetime.datetime(2009, 5, 13, 19, 19, 30, tzinfo=tzoffset(None, -14400))
"
3083,42777,"Sqlite db, multiple row updates: handling text and floats","sql=('UPDATE results SET '
     + ', '.join(key+' = ?' for key in keys)
     + 'WHERE id = ?')
args = [results[key] for key in keys] + [id]
cur.execute(sql,args)
"
36846,78708,Flask / Python. Get mimetype from uploaded file,"@app.route('/upload_file', methods=['GET', 'POST'])
def upload_file():
    if request.method == 'POST':
        file = request.files.get('file')
        if file:
            mimetype = file.content_type
            filename = werkzeug.secure_filename(file.filename)
            file.save(os.path.join(UPLOAD_FOLDER, filename)
            return redirect(url_for('uploaded_file'))
        else:
            return redirect(url_for('upload'))
"
10754,16521,"How to reload my Python source file, when interactively interpreting it with ""python -i""",">> import my_prog
>> from my_prog import *
*** Run some code and debug ***
>> reload(my_prog); from my_prog import *
*** Run some code and debug ***
>> reload(my_prog); from my_prog import *
"
6996,20457,Send JSON response from Sqlite queries in Python,"import json
import sqlite3

def get_my_jsonified_data(key):
    with sqlite3.connect('test.db') as conn:
        cursor = conn.cursor()
        cursor.execute(""SELECT * FROM mytable WHERE column=?;"", [key])
        data = cursor.fetchall()
        return json.dumps(data)
"
11224,80071,"In Python, how do I find the date of the first Monday of a given week?",">>> import time
>>> time.asctime(time.strptime('2008 50 1', '%Y %W %w'))
'Mon Dec 15 00:00:00 2008'
"
1367,25226,Is it possible to modify a df from pandas function read_html before pasting into a csv file?,"df[0]['Unnamed: 17']
df[0].rename(columns = {'Away':'Awayy2'}, inplace = True)
"
24213,42947,Regular expression in loops,"re.match('^' + code + r'(?=\s*,)', line)
"
36037,30813,Iterate list of lists and finding consecutive numbers in those lists,"from itertools import izip, product

def find_continuous_items(data):
    for p in product(*data):
        if all(b-a==1 for a, b in izip(p, p[1:])):
            yield p

nested = [[1,7,13], [2,5,8], [3, 6, 9]]
print list(find_continuous_items(nested))
#[(1, 2, 3), (7, 8, 9)]
"
2817,58833,How to elegantly grab data with python?,"checkList = set(['a', 'b', 'c'])

for i in textList:
    check, rest = i.split(':', 1)
    if check.strip() not in checkList:
        continue
    data = rest.strip()
    # insert data into database; check is your column name.
"
6099,65814,Change Python for loop range (higher limit) at runtime,"lower_limit = 0
higher_limit = 200
step_size = 5
i = 0

while lower_limit <= i < higher_limit:
    # do something

    i = i + step_size

    higher_limit = higher_limit + randint(0, 5)
"
19479,28701,How do I check certain chars in string within quotation marks in python,"import re

def all_tokens_quoted(string):
    quoted_words = re.compile('"".*?""')
    tokens = re.compile('[!,:]')
    no_quotations = quoted_words.sub('', string)
    if tokens.search(no_quotations):
        return False
    return True

all_tokens_quoted('The quick ""brown!"" fox jumps "":over"" the lazy dog')
>>> True
all_tokens_quoted('The quick! ""brown!"" fox jumps "":over"" the lazy, dog')
>>> False
"
33139,13340,How to remove a lot of folders at once using Python?,"from glob import iglob
import shutil

for path in iglob('.../run*'):
    shutil.rmtree(path)
"
25478,19548,Generating all lists that satisfy certain constraints in Python,"n = 5 # total length
n2 = 2 # number of ""2""s
for idx in itertools.combinations( xrange(n), n2 ):
    print [ 2 if i in idx else 1 for i in xrange(n) ]
"
14999,31986,"Using python, how can I display a matrix of RGB values in a window?","result = numpy.zeros([height,width, 3], dtype=numpy.uint8)
pyopencl.enqueue_copy(queue, result, result_g).wait()

surface = pygame.display.set_mode((width, height), pygame.DOUBLEBUF)
rgb2 = numpy.transpose(rgb, (1,0,2))          
pygame.pixelcopy.array_to_surface(surface, rgb2)
pygame.display.flip()
"
29637,53567,Pandas concatenate all elements of dataframe into single series,"df.values.ravel()
"
16623,75816,execute bash commands sequentially inside for loop in Python,"for dataset in data:
    subprocess.call(""cat part-r-* > combined_output"",shell=True,cwd=dataset+'.matrix')
"
36497,15648,Check if space is in a string,">>> w = 'ab c'
>>> ' ' in w == True
1: False
>>> (' ' in w) == True
2: True
"
38696,47091,How can I efficiently combine two time series to alternate?,"index = pd.date_range(start='1952', periods=10**6, freq='s')
big = pd.Series(np.ones(len(index))*97, index)
small = pd.Series(np.ones(len(index))*2, index)

alternating = big[big.index.second % 10 >= 5].combine_first(small)
"
511,31038,Is this regex correct for xsd:anyURI,"(%(?![0-9A-F]{2})|#.*#)
"
36238,9609,Django order_by sum of fields,"Component.objects.extra(
    select={'fieldsum':'material_cost + labor_cost'},
    order_by=('fieldsum',)
)
"
6913,18986,Emulation of lex like functionality in Perl or Python,"#!/usr/bin/perl
use strict;
use warnings;
use WWW::Mechanize;

my $mech = WWW::Mechanize->new;

$mech->get(""http://stackoverflow.com/"");

$mech->success or die ""Oh no! Couldn't fetch stackoverflow.com"";

foreach my $link ($mech->links) {
    print ""* ["",$link->text, ""] points to "", $link->url, ""\n"";
}
"
19527,37119,how to avoid repeated values retrieved from database?,"def search(request):

    from sets import Set

    var=""""

    # create set object
    set = Set()

    if request.method=='POST':

        s1=request.POST.get(""input1"")
        s1=s1.split("","")

        for i in s1:

            if i :
                # |= is the set union operator                       
                set |= Set(form2.objects.filter(keyskills=i))

        # convert set back to list
        var=list(set)

    return render(request,""searchresult.html"",{'var1':var})
"
7645,19044,Automatically Downloading Files from an ASPX Website in Python,"import requests

report_names = [""Filename1"",""Filename2""]
dates = ['2016-02-22','2016-02-23']  # as strings
for report_name in report_names:
    for date in dates:
        with open('%s_%s_fetched.csv' % (report_name.split('.')[0],date,), 'wb') as handle:
            response = requests.get('https://www.websitename.com/something/ASPXthing.aspx?ReportName=%s&Date=%s&reportformat=csv' % (report_name,date,), stream=True)

            if not response.ok:
                # Something went wrong

            for block in response.iter_content(1024):
                handle.write(block)
"
32045,20406,How to redirect to the absolute URL of a model instance while appending a hash?,"return redirect(item.get_absolute_url() + '#hash')
"
9523,48892,Efficient way to format string,"""select %(tableName)s.somefield, count(*) from %(tableName)s WHERE %(tableName)s.TimeStamp > %(fromDate)s and %(tableName)s.EndTimeStamp < %(to_data)s group by %(tableName)s.ProviderUsername;"" %{'tableName':tableName, 'fromDate':fromDate, 'to_data':to_data}
"
2796,10369,"In Python on Unix, determine if I am using my computer? or idle?","#!/usr/bin/python
import ctypes
import os

class XScreenSaverInfo( ctypes.Structure):
  """""" typedef struct { ... } XScreenSaverInfo; """"""
  _fields_ = [('window',      ctypes.c_ulong), # screen saver window
              ('state',       ctypes.c_int),   # off,on,disabled
              ('kind',        ctypes.c_int),   # blanked,internal,external
              ('since',       ctypes.c_ulong), # milliseconds
              ('idle',        ctypes.c_ulong), # milliseconds
              ('event_mask',  ctypes.c_ulong)] # events

xlib = ctypes.cdll.LoadLibrary('libX11.so')
display = xlib.XOpenDisplay(os.environ['DISPLAY'])
xss = ctypes.cdll.LoadLibrary('libXss.so.1')
xss.XScreenSaverAllocInfo.restype = ctypes.POINTER(XScreenSaverInfo)
xssinfo = xss.XScreenSaverAllocInfo()
xss.XScreenSaverQueryInfo(display, xlib.XDefaultRootWindow(display), xssinfo)

print ""idle: %d ms"" % xssinfo.contents.idle
"
36840,67919,How to find all indexes of a list that are empty in Python,">>> mylist  = [[1,2,3,4], [] , [1,2,3,4] , []]
>>> [i for i,x in enumerate(mylist) if not x]
[1, 3]
"
36056,25077,Find an item in a dict whose values are lists,"if look_for in value:
"
28209,75349,Unable to login to a website using python script as I am behind a proxy which needs authentication,"opener = urllib.request.build_opener(
    urllib.request.ProxyHandler({'http': r'http://username:password@url:port'}),
    urllib.request.HTTPRedirectHandler(),
    urllib.request.HTTPHandler(debuglevel=0),
    urllib.request.HTTPSHandler(debuglevel=0),
    urllib.request.HTTPCookieProcessor(cookies)
)
"
24868,4551,"os.path.getsize reports a filesize with an L at the end, why?","d:\>py
Python 3.2.1 (default, Jul 10 2011, 20:02:51) [MSC v.1500 64 bit (AMD64)] on win
32
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> a = 100000000000000000000000000000000000000000000
>>> a
100000000000000000000000000000000000000000000
>>> ^Z

d:\>python
Python 2.7.3 (default, Apr 10 2012, 23:24:47) [MSC v.1500 64 bit (AMD64)] on win
32
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> a = 100000000000000000000000000000000000000000000
>>> a
100000000000000000000000000000000000000000000L
>>>
"
2613,71491,Porting a Python JSON API to Java (GWT),"<ul>
  <li><a href=""/Store?{StoreID}"">{StoreTitle}</a></li>
  ...
</ul>
"
36203,21569,C# / Python Encoding difference,"import codecs
with codecs.open(filename, encoding=""utf-8"") as inp:
    text = inp.read()
"
9330,18354,Python: detect strings that share words,"from collections import defaultdict

terms = ['Electronic rock', 'Alternative rock', 'Indie pop']
d = defaultdict(list)
for term in terms:
    for word in term.split():
        d[word].append(term)

for k,v in d.iteritems():
    if len(v) > 1:
        print k,v
"
31857,21084,Return multiple values over time,"import time

def myFunction(limit):
    for i in range(0,limit):
        time.sleep(2)
        yield i*i

for x in myFunction(100):
    print( x )
"
29514,15803,django admin site view one to one classes fields,"from django.contrib.auth.admin import UserAdmin as DjangoUserAdmin
from django.contrib.auth.models import User

class UserAdmin(DjangoUserAdmin):
    list_display = ('email', 'first_name', 'last_name','is_active','date_joined', 'is_staff', 'user_type', 'salary')

    def user_type(self, instance):
        try:
            instance.student
            return ""student""
        except Student.DoesNotExist:
            return ""professor""

    def salary(self, instance):
        try:
            return instance.professor.salary
        except Professor.DoesNotExist:
            return ""N/A""

    def queryset(self, request):
        qs = super(UserAdmin, self).queryset(request)
        # To reduce database calls
        return qs.select_related('student', 'professor')


admin.site.unregister(User)
admin.site.register(User, UserAdmin)
"
14249,84081,Place on a determinated position of the screen : Tkinter,"from Tkinter import *

root = Tk()
root.geometry(""+1120+110"") # x and y coordinates on a screen
root.mainloop()
"
5963,34367,Python how to override a method defined in a module of a third party library,">>> import math
>>> math.cos(90)
-0.4480736161291701
>>> old_cos = math.cos
>>> def new_cos(degrees):
...     return old_cos(math.radians(degrees))
...
>>> math.cos = new_cos
>>> math.cos(90)
6.123233995736766e-17
"
8803,79103,"Errors with path beginning with ""~"" in Python","path = os.path.expanduser('~/Desktop/test.txt')
print os.path.exists(path)
"
26333,74295,Find comma space year but ignore comma year without space,"for m in re.finditer(r',\s((19|20)\d\d)', text):
    print m.group(1)
"
4917,16647,Reading Java system.out.print via Python subprocess,"p1 = subprocess.Popen([""/usr/bin/java"", ""MyClass""], stdout=subprocess.PIPE)
print p1.stdout.read() 
"
28215,4392,Dealing with dynamic urls,"class HotelController(Controller):
    """""" Controller to handle requests to Hotels """"""

    def index(self):
        """""" Handle the index page here """"""
        pass

    def addNewHotel(self):
        """""" Register a new hotel here """"""
        pass

    def lookup(self, state_name, *remainder):
        """""" Read the state, create a new StateController and dispatch """"""
        state_dispatch = StateController(state_name)
        return state_dispatch, remainder

class StateController(object):
    """""" Controller used to dispatch """"""

    def __init__(self, state_name):
        # do your work on the state here
        pass

    def create(self, state_name):
        """""" Create a new state here """"""

    def lookup(self, city_name, *remainder):
        """""" keep on dispatching to other controllers """"""
        city_dispatch = CityController(city_name)
        return city_dispatch, remainder
"
31456,68588,How to pass complex arguments in netcdf python,"self.EIG2D = numpy.vectorize(complex)(EIG2Dtmp[...,0], EIG2Dtmp[...,1])
"
38913,78775,Is it possible to run code when any browser is executed?,"If AppPrevInstance() Then   
     WScript.Echo ""Instance already running""   
     WScript.Quit   
 Else   
     Do   
         Call Main(Array(""%ProgramFiles%\Internet Explorer\iexplore.exe"", ""%ProgramFiles%\Mozilla Firefox\Firefox.exe"", ""%ProgramFiles%\Google\Chrome\Application\chrome.exe""))  ', 
         Call Pause(15)   
     Loop   
 End If   

 Sub Main(colProcessPaths)   
     Dim ProcessPath   

     For Each ProcessPath In colProcessPaths   
         CheckProcess(ProcessPath)   
     Next   
 End Sub   
  '*********************************************************************************************
 Sub CheckProcess(ProcessPath)   
     Dim ProcessName : ProcessName = StripProcPath(ProcessPath)   
     With GetObject(""winmgmts:"" & ""{impersonationLevel=impersonate}!\\.\root\cimv2"")   
         With .ExecQuery(""SELECT * FROM Win32_Process WHERE Commandline LIKE "" &  CommandLineLike(ProcessName))   
             If .Count = 0 Then    
                 With CreateObject(""WScript.Shell"")  
                     WScript.Echo ProcessPath & vbCrLf & CommandLineLike(ProcessName) & vbCrLf & CommandLineLike(ProcessName) & vbCrLf 
                     .Run DblQuote(ProcessPath)   
                 End With   
             Else    
                 Exit Sub    
             End if   
         End With   
     End With   
 End Sub   
  '*********************************************************************************************
 Function AppPrevInstance()   
     With GetObject(""winmgmts:"" & ""{impersonationLevel=impersonate}!\\.\root\cimv2"")   
         With .ExecQuery(""SELECT * FROM Win32_Process WHERE CommandLine LIKE "" & CommandLineLike(WScript.ScriptFullName) & "" AND CommandLine LIKE '%WScript%' OR CommandLine LIKE '%cscript%'"")   
             AppPrevInstance = (.Count > 1)   
         End With   
     End With   
 End Function   
  '*********************************************************************************************
 Sub Pause(Minutes)    
     Wscript.Sleep(Minutes*1000*60)    
 End Sub   
  '*********************************************************************************************
 Function StripProcPath(ProcessPath)   
     Dim arrStr : arrStr = Split(ProcessPath, ""\"")   
     StripProcPath = arrStr(UBound(arrStr))   
 End Function   
  '*********************************************************************************************
 Function CommandLineLike(ProcessPath)   
     ProcessPath = Replace(ProcessPath, ""\"", ""\\"")   
     CommandLineLike = ""'%"" & ProcessPath & ""%'""   
 End Function
 '*********************************************************************************************
Function DblQuote(Str)
    DblQuote = Chr(34) & Str & Chr(34)
End Function
'**********************************************************************************************
"
13960,61265,Complex step function overlaid onto matplotlib plot of time series code,"# Package Imports

import csv
import datetime
import matplotlib.pyplot as plt
import numpy as np
import dateutil.relativedelta as rd
import bisect
import scipy as sp

## File Settings

ipath = ""/home/kane/tripkane_python/""
fname = ""datetime_test_data.csv""


portfolio_list = []
dateList = []
valueList = []
x = []

portfolio = csv.DictReader(open(ipath + fname, ""rb""))
portfolio_list.extend(portfolio)


for data in portfolio_list:
    dateList.append(data['date'])
    valueList.append(data[' value'])

for item in dateList:
    d = datetime.datetime.strptime(item, '%Y%m%d')
    t = d.toordinal()
    x.append(d)


dataArray = np.asarray([x, valueList])

stepList = [0, 3, 5]

TIda = []
TIv = []

for n in range(0, len(stepList)):
    TIda.append(x[stepList[n]])
    TIv.append(valueList[stepList[n]])


# Plot 

fig = plt.figure(figsize=(10, 5))
ax = fig.add_subplot(111)

line1 = plt.plot(x, valueList, 'b')
lns = line1

labs = [l.get_label() for l in lns]
ax.legend(lns, 
          labs, 
          loc='upper left', 
          frameon = False, 
          shadow=False, 
          fancybox=False, 
          labelspacing=0.1, 
          ncol=4, 
          prop={'size':9}
          )
ax.set_title(fname , fontsize = 12)



plt.xticks(fontsize = 8)
plt.yticks(fontsize = 8)
ax.set_ylabel( 'Cents', fontsize = 10 )
ax.grid()

plt.step(TIda, TIv, 'r')

plt.show()
"
7780,23135,"Creating a matrix from vector replication, python","import numpy as np

v = np.random.randint(0, 10, 3)
print v

M = np.outer(v,v)
print M
"
7656,28658,Recalling/displaying last session,"result = {}

context = RequestContext(request)

t = request.session.get(""tick"")

if request.method == 'POST':
    search = Search(data=request.POST)

tick_list = None
if search.is_valid():

    ticker = search.cleaned_data['search']
    tick_list =request.session.get('tick_list',[])
    tick_list.append(tick)
    request.session[""tick_list""] = tick_list

else:
    print search.errors
else:
    search = Search()
//here send the tickest to the template
return render_to_response('ui/search.html', {""result"":result,'tick_list':tick_list}, context)
"
16526,6232,How Not to space the widgets within QHBoxLayout,"from PySide import QtGui

app = QtGui.QApplication([])
window = QtGui.QWidget()
window.setStyleSheet('QPushButton{margin-left:-1px;}') # remove this line if you want to have a tiny bit of spacing left

layout = QtGui.QHBoxLayout(window)
layout.setContentsMargins(0, 0, 0, 0)
layout.setSpacing(0)
layout.addWidget(QtGui.QPushButton('Button'))
layout.addWidget(QtGui.QPushButton('Button'))
layout.addWidget(QtGui.QPushButton('Button'))
layout.addWidget(QtGui.QPushButton('Button'))
layout.addWidget(QtGui.QPushButton('Button'))
layout.addWidget(QtGui.QPushButton('Button'))

window.show()

app.exec_()
"
10287,30462,Python: Fastest Way to Traverse 2-D Array,">>> arr = np.random.rand(1000, 1000)                                   
>>> %timeit [sum(i >= 0.5 for i in arr.T[c]) for c in xrange(len(arr))]
1 loops, best of 3: 1.58 s per loop
>>> %timeit np.sum(arr >= 0.5, axis=0)
1000 loops, best of 3: 1.53 ms per loop
"
39108,83217,What is the most efficient way to return multiple values from a class method in Python?,"def max_ill(self):
    # Helper function to create the needed values. Not to be used directly
    maxval = max(self.illarr)
    maxpts = [idx for idx,val in enumerate(self.illarr) if val==maxval]
    maxpts = [ self.roomgrid.ptsdict[pt].ptid for pt in maxpts ]
    # Save the calculated values as attributes
    self._max_ill_data = maxval
    self._max_ill_points = maxpts

@property
def max_ill_data(self):
    try:
        # Get the saved value (raises an AttributeError when not existing)
        return self._max_ill_data
    except AttributeError:
        # We found None, so call the method that creates these and return it afterwards
        self.max_ill()
        return self._max_ill_data

@property
def max_ill_points(self):
    try:
        return self._max_ill_points
    except AttributeError:
        self.max_ill()
        return self._max_ill_points
"
26612,72216,How to convert matrices to column vectors and append all together in python,"import numpy as np
W1 = np.arange(25*64).reshape(25, 64)
W2 = np.arange(25*64).reshape(64, 25)
b1 = np.arange(25)
b2 = np.arange(64)

theta = np.concatenate([W1.flat, W2.flat, b1, b2])
print(theta.shape)
# (3289,)
"
32899,50404,Nested Dictionary/Array in C++,"boost::multi_array<double,3> myArray(boost::extents[2][2][2]);
"
5731,75532,How is Python's List Implemented?,"...>python -m timeit --setup=""x = [None]*1000"" ""x[500]""
10000000 loops, best of 3: 0.0579 usec per loop

...>python -m timeit --setup=""x = [None]*1000"" ""x[0]""
10000000 loops, best of 3: 0.0566 usec per loop
"
26111,22556,calling sum() on a list of numbers extrcted from a document,"total = 0.0
count = 0
for line in (fhand):
    line = line.rstrip()
    if not line.startswith(""X-DSPAM-Confidence:""):
        continue
    else:
        n = float(line[line.find("":"") + 1:])
        total += n
        count = count + 1

print (total / count)
"
20417,6036,Matplotlib Row heights table property,"import matplotlib.pyplot as plt

fig, ax = plt.subplots()
tab = [[1.0000, 3.14159], [1, 2], [2, 1]]
tab2 = [['%.2f' % j for j in i] for i in tab]

ytable = plt.table(cellText=tab2, colLabels=['Col A','Col B'], 
                    colWidths=[.5]*2, loc='center')
ytable.set_fontsize(34)
ytable.scale(1, 4)
plt.show()
"
39725,9296,School Assignment - Classes/Subclasses,"class RectangularPrism(object):
    def __init__(self, length, width, height):
        self.length = length
        self.width = width
        self.height = height

    def __repr__(self):
        return 'RectangularPrism({}, {}, {})'.format(
            self.length, self.width, self.height)

    def __str__(self):
        return ('Rectangular Prism with length {} width {} and height {} '
                'Volume = {} Surface Area = {}'.format(
                    self.length, self.width, self.height,
                    self.volume(), self.surfaceArea()))

    def volume(self):
        return self.length * self.width * self.height

    def surfaceArea(self):
        return 2 * (self.length*self.width + self.length*self.height + self.width*self.height)

class Cube(RectangularPrism):
    def __init__(self, side):
        super(Cube, self).__init__(side, side, side)
"
28489,31094,Trouble overriding django/grappelli base.html template,"my settings.py

import os
BASE_DIR = os.path.dirname(os.path.dirname(__file__))
PROJECT_DIR = os.path.dirname(os.path.dirname(__file__) + '/../')

TEMPLATE_CONTEXT_PROCESSORS = (
    'django.contrib.auth.context_processors.auth',
    'django.core.context_processors.request',
    'apps.projects.context_processors.status',
)

SITE_ID = 1

ROOT_URLCONF = 'apps.urls'

WSGI_APPLICATION = 'apps.wsgi.application'

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
    }
}

STATIC_URL = '/static/'
STATIC_ROOT = PROJECT_DIR +  '/static/'
MEDIA_URL =  '/media/'
MEDIA_ROOT = PROJECT_DIR + '/media/'

TEMPLATE_DIRS = (
    PROJECT_DIR + '/templates/',
)
"
7621,76684,Sort list of ints by the first digit of each int,">>> myList = [34254, 2343, 49, 595, 323]
>>> sorted(myList, key=str)
[2343, 323, 34254, 49, 595]
"
23671,61416,Sending an SMS message using Python; Time delay considering timezone,"def localize_epoch_time(epoch_time, timezone=pytz.UTC):
  u""Given an epoch time return an accurate, timezone-aware datetime object""
  t = localtime(epoch_time)
  epochdt = datetime(*(t[:6] + (int((epoch_time - long(epoch_time)) * 1000000), timezone)
  if hasattr(timezone, 'normalize'):  # pytz tzinfo objects have this
    return timezone.normalize(epochdt)
  else: # tzinfo object not from pytz module
    return epochdt
"
19292,48946,Dynamic tkinter entry box,"import Tkinter as tk

class Example(tk.Frame):
    def __init__(self, parent):
        tk.Frame.__init__(self, parent)

        self.choices = (""one"", ""two"", ""three"", ""four"", ""five"", 
                        ""six"", ""seven"", ""eight"", ""nine"", ""ten"",
                        ""eleven"", ""twelve"", ""thirteen"", ""fourteen"",
                        ""fifteen"", ""sixteen"", ""seventeen"", ""eighteen"",
                        ""nineteen"", ""twenty"")

        self.entryVar = tk.StringVar()
        self.entry = tk.Entry(self, textvariable=self.entryVar)
        self.listbox = tk.Listbox(self)
        self.listbox.insert(""end"", *self.choices)

        self.entry.pack(side=""top"", fill=""x"")
        self.listbox.pack(side=""top"", fill=""both"", expand=True)

        self.entryVar.trace(""w"", self.show_choices)
        self.listbox.bind(""<<ListboxSelect>>"", self.on_listbox_select)

    def on_listbox_select(self, event):
        """"""Set the value based on the item that was clicked""""""
        index = self.listbox.curselection()[0]
        data = self.listbox.get(index)
        self.entryVar.set(data)

    def show_choices(self, name1, name2, op):
        """"""Filter choices based on what was typed in the entry""""""
        pattern = self.entryVar.get()
        choices = [x for x in self.choices if x.startswith(pattern)]
        self.listbox.delete(0, ""end"")
        self.listbox.insert(""end"", *choices)

if __name__ == ""__main__"":
    root = tk.Tk()
    Example(root).pack(fill=""both"", expand=True)
    root.mainloop()
"
6906,2436,Add minimum and maximum number in list using Recursion: Python,"def rsum(eleList, ans, index):
    if index == len(eleList) - 1:
        if max(eleList) == eleList[index] or min(eleList) == eleList[index]:
            return ans+eleList[index]
        else:
            return ans
    else:
        if max(eleList) == eleList[index] or min(eleList) == eleList[index]:
            return ans + eleList[index] + rsum(eleList, ans, index + 1)
        else:
            return rsum(eleList, ans, index + 1)

print rsum([9, 2, 3, 4], 0, 0)
"
36786,19184,Creating a simple gui program using Tkinter in Python,"from tkinter import *


class Application(Frame):
    def __init__(self, master):
        """""" Initialize frame""""""
        super(Application, self).__init__(master)
        self.grid()
        self.create_widgets()
    def create_widgets(self):
        """"""Create 3 useless buttons""""""
        #first one
        self.bttn1=Button(self, text =""I do nothing!"")
        self.bttn1.grid()
        #second button
        self.bttn2 = Button(self)
        self.bttn2.grid()
        self.bttn2.configure(text =""Me too!"")
        #third one
        self.bttn3 = Button(self)
        self.bttn3.grid()
        self.bttn3[""text""]=""And me also!""

root=Tk()
#alter window
root.title(""The simpliest gui"")
root.geometry(""200x100"")
app=Application(root)
root.mainloop()
"
15552,19470,Python: what's the gdata method for uploading an image with enabled OCR?,"f = open('/path/to/your/test.pdf')
ms = gdata.data.MediaSource(file_handle=f, content_type='application/pdf', content_length=os.path.getsize(f.name))
folder = ""https://docs.google.com/feeds/default/private/full"" # folder in google docs.
entry = client.Upload(ms, f.name, folder_or_uri= folder + '?ocr=true') # ?ocr=true is the kicker
"
16802,1176,finding a tag based on what it surrounds (using beautifulsoup),">>> from BeautifulSoup import BeautifulSoup
>>> soup = BeautifulSoup('''<td class=""1"">test1</td>
... <td>test2</td>
... <td class=""3""><a href=""/"">test3</a></td>
... <td><div class=""test4""><a class=""test4"" href=""/"">test4</a></div></td>
... <td><div class=""test4""><a class=""test4"" href=""/"">test4</a></div></td>
... ''')
>>> [tag.parent for tag in soup.findAll(attrs = {""class"": ""test4""})
...  if tag.name in ['a', 'div'] and tag.parent.name == 'td']
[<td><div class=""test4""><a class=""test4"" href=""/"">test4</a></div></td>, <td><div class=""test4""><a class=""test4"" href=""/"">test4</a></div></td>]
"
21009,56975,Python: convert variable-like strings to class-like strings,">>> s = 'one'
>>> filter(str.isalnum, s.title())
'One'
>>>
>>> s = 'hello_world'
>>> filter(str.isalnum, s.title())
'HelloWorld'
>>> 
>>> s = 'foo_bar_baz'
>>> filter(str.isalnum, s.title())
'FooBarBaz'
"
4763,49976,Get the runpath of a python console-script,"import urllib
import sys

print urllib.__file__
print sys.path
"
30736,21007,"How to force ""a+b"" to always call ""b.radd(a)"" when a is numpy array, and b is my type?","import numpy as np

class MyClass:

    __array_priority__ = 0

    def __init__(self, data):
        self.arr = np.array(data)

    def __array__(self):
        return self.arr

    def __radd__(self, other):
        return ""MyClass radd""

a = np.array([1])
b = MyClass([2])

# low priority (or no priority), numpy array addition
assert isinstance(a + b, np.ndarray)

# higher priority, your addition
MyClass.__array_priority__ = 1
assert a + b == ""MyClass radd""
"
8838,81118,generating compiled Tkinter python code,"import py_compile
py_compile.compile(r'/path/to/your/file.py')
"
23211,42364,Python files - Write to new line each time opened,"def Appviewer_SAVE(self):
    target = open(""saved"", ""a"")
    target.write(""%s\t"" % App_InfoTrans0())
    target.write(""%s\t"" % App_InfoTrans1())
    target.write(""%s\n"" % App_InfoTransfer_Gender) #\n doesn't make a difference here
    target.close()
"
14933,4229,Python: getting max of a of a {(tuple): value } dictionary per fieldname in tuple,">>> dictA = {('unit1', 'test1'): 10,  ('unit2', 'test1'): 78,  ('unit2', 'test2'): 2, ('unit1', 'test2'): 45}
>>> maxDict={}
>>> for (unitName,testName),grade in dictA.items():
    maxDict[testName]=max(maxDict.get(testName,0),grade)


>>> maxDict
{'test1': 78, 'test2': 45}
"
16820,14757,covert a table definition class from SQLAlchemy into vanilla MySQL,"from sqlalchemy.schema import CreateTable
print CreateTable(Customer.__table__).compile(engine)
"
9619,70407,Bash script in Python os.system,"import subprocess
subprocess.Popen(""./Do_Regr.sh -i Testlist_Regression.in -m 135.24.237.167 -g"",shell=True)
"
5409,48041,"Python, scraping a website for object","from urllib import urlopen
from BeautifulSoup import BeautifulSoup

handle = urlopen(""http://jobsearch.monster.com/search/Engineer_5?q=Software&where=AZ&rad=20&sort=rv.di.dt"")
responce = handle.read()
soup = BeautifulSoup( responce )

job_urls = soup.findAll(name = 'a', attrs = { 'class': 'jobTitle fnt11_js' })
for job_url in job_urls:
    print job_url.text
    print
"
30396,28365,Python project relative modules import,"python -m package_2.module_2_1
"
31969,31535,Generationg a list from user-input dynamically,">>> rR = ""3,28,2""
>>> rR = re.split(r""[\W]+"", rR)
>>> map(int, xrange(*map(int, rR)))
[3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27]
>>>
"
13107,19267,Python - export fields to a CSV,"import csv
....
with open(""test.csv"", ""w"", newline='') as csvfile:
     writer = csv.writer(csvfile)
     #write header, or something
     for i in tweets_df.ix[:,0]:
          if regex_getter(i) != None:
              data = regex_getter(i).split(',')
              writer.writerow(data)
"
6299,14095,Why does this element in lxml include the tail?,"print(etree.tostring(element, encoding=""unicode"", pretty_print=True, with_tail=False))
"
31496,50960,controlling UI elements in wxPython using threading,"from queue import Queue
# ...

class TestThread(Thread):
# ...
    def run(self):
        for i in range(6):
            # ...
            wx.PostEvent(self.wxObject, ResultEvent(amtOfTime)
            result_from_gui = self.wxObject.q.get(True, None)
# ...

class MyForm(wx.Frame):
# ...
    def __init__(self):
        # ...
        self.q = Queue()
    # ...
    def updateDisplay(self, msg):
        # ...
        t = msg.data
        if isinstance(t, int):
            text = ""Time since thread started: %s seconds"" % t
        else:
            text = ""%s"" % t
            self.btn.Enable()
        self.displayLbl.SetLabel(text)
        self.q.put(text)
"
13607,67498,How to capitalize the title of each string in a list?,"def Strings():

  strings = input(""Please enter a list of strings: "")
  List = strings.replace('""','').replace('[','').replace(']','').split("","")


  return List

def Capitalize(parameter):
  r = []
  for i in parameter:
    m = """"
    for j in i.split():
      m += j[0].upper() + j[1:] + "" ""
    r.append(m.rstrip())  


  return '[""' + '"",""'.join(r)+ '""]'

def main():
  y = Strings()
  x = Capitalize(y)
  print(x)

main()
"
7564,24816,How can open new tkinter window by threading?,"import Tkinter as  tk
from threading import Thread as thread
import time

class T():
    def det2(self,x):
        time.sleep(2)
        x.destroy()

x = tk.Tk()
ts = thread(target=T().det2, args=(x,))
ts.daemon = True
ts.start()
x.mainloop()
"
5228,32010,How to force the functions of the optimize module of scipy to take a function and its gradient simultaneously,"
cache={}
def expensive_calc(x):
    # If x is a numpy array, you need to convert x into something hashable so it
    # can be used as a key in cache.
    key=tuple(x)
    try:
        return cache[key]
    except KeyError:
        # do expensive calc for result
        cache[key] = result
        return result

def func(x):
    y=expensive_calc(x)
    return something_based_on_y

def func_der(x):
    y=expensive_calc(x)
    return something_else_based_on_y

def optimize_fmin_bfgs():
    xopt = fmin_bfgs(func, x_guess, fprime=func_der)  
"
37962,29351,Pandas - non overlapping group members,"# from Ned Batchfelder
# http://nedbatchelder.com/blog/201310/range_overlap_in_two_compares.html
def overlap(start1, end1, start2, end2):
    """"""
    Does the range (start1, end1) overlap with (start2, end2)?
    """"""
    return end1 >= start2 and end2 >= start1

def compare_rows(group):
    winners = []
    skip = []
    if len(group) == 1:
        return group[['start', 'end', 'score']]
    for i in group.index:
        if i in skip:
            continue
        for j in group.index:
            last = j == group.index[-1]
            istart = group.loc[i, 'start']
            iend = group.loc[i, 'end']
            jstart = group.loc[j, 'start']
            jend = group.loc[j, 'end']
            if overlap(istart, iend, jstart, jend):
                winner = group.loc[[i, j], 'score'].idxmax()
                if winner == j:
                    winners.append(winner)
                    skip.append(i)
                    break
            if last:
                winners.append(i)
    return group.loc[winners, ['start', 'end', 'score']].drop_duplicates()

grouped = df.groupby('id')
print grouped.apply(compare_rows)
"
26912,20890,get UTC offset from time zone name in python,"import datetime, pytz

datetime.datetime.now(pytz.timezone('Asia/Jerusalem')).strftime('%z')

# returns '+0300' (because 'now' they have DST)


pytz.timezone('Asia/Jerusalem').localize(datetime.datetime(2011,1,1)).strftime('%z')

# returns '+0200' (because in January they didn't have DST)
"
2354,18052,What is the use of PyCharm's docstring template? How do I use it effectively?,"def add_pdr(process, userid, log):
    """""" Create and perform the target account operation PDR

    If the function/method is complex, I'd put a short one-line
    summary in the first line above, and a more detailed explanation
    here.

    :param dict process: dict of process details
    :param str userid: userid to perform actions on
    :param obj log: log object to perform logging to

    :raises KeyError: if the userid doesn't exist
    :raises APIError: if process dict is invalid

    :return: True on success, False upon failure

    """"""
"
38505,75971,"Python, maps between 2 lists","import collections

def maptype(keys, values):
    forward = collections.defaultdict(set)
    backward = collections.defaultdict(set)
    for key, value in zip(keys, values):
        forward[key].add(value)
        backward[value].add(key)

    one_to_m = any(len(l) > 1 for l in forward.values())
    m_to_one = any(len(l) > 1 for l in backward.values())
    return one_to_m, m_to_one
"
26714,77619,Where is the _socket file?,"exts.append( Extension('_socket', ['socketmodule.c'],
                       depends = ['socketmodule.h']) )
"
9489,62731,Using SubPlots With LineCollection,"# Import what you need
import numpy as np
import pylab as plt

# Set the number of steps you're going to walk along
steps = 1000

# Set the random walk start coordinates
# for each of four random walks
n1=np.array([50,50],int)
n2=np.array([-50,50],int)
n3=np.array([-50,-50],int)
n4=np.array([50,-50],int)
na_list = [n1,n2,n3,n4]

# Set the colors of the four random walks
clr_list = ['g','c','m','y']

# Create one figure with one subplot
fig, ax=plt.subplots()
# Set the background color to black
ax.set_axis_bgcolor('black')

# Loop through the different random walks
for na, clr in zip(na_list, clr_list):

    # Create a list of coordinates
    # initiated by the start coordinates
    coar = np.ones([steps+1,2],int) * na

    # For each step figure out if you're 
    # going to walk right, left, up or down        
    for t in range(0,steps):

        # Set coar for the point after
        # this step (t+1) to be the point the
        # step starts at (t)
        coar[t+1] = coar[t]

        # Get a random number
        bin = np.random.randint(4)

        if(bin==0):
            # Step to the right (inc x by 1) 
            coar[t+1][0] = coar[t,0] + 1
        elif(bin==1):
            # Step to the left (dec x by 1) 
            coar[t+1][0] = coar[t,0] - 1
        elif(bin==2):
            # Step up (inc y by 1) 
            coar[t+1][1] = coar[t,1] + 1
        elif(bin==3):
            # Step down (dec y by 1) 
            coar[t+1][1] = coar[t,1] - 1

    # Plot these coordinates
    ax.plot(coar.T[0], coar.T[1], c=clr)

    # And show the starting point with a white triangle
    # just to make it clear where you started
    ax.scatter(coar[0,0], coar[0,1], marker='^', c='w', edgecolor='w', s=70, zorder=3)

# Autoscale the axis
ax.autoscale()
# And show the plot
plt.show()
"
21036,83949,Python - Passing input (prompt) into Function,"import sys

def inputSomething(prompt, errorMessage = 'Atleast one character must be used'):
        while True:
            value = input(prompt)
            Response = value.strip()
            if Response:
                print ('Valid')           
                return Response   
            else:
                print(errorMessage, file=sys.stderr)


something = inputSomething('Enter str: ')
"
22520,65093,Python pnoise returns 0: why so?,"   """"""Perlin simplex noise generator

    Adapted from Stefan Gustavson's Java implementation described here:

    http://staffwww.itn.liu.se/~stegu/simplexnoise/simplexnoise.pdf

    To summarize:

    In 2001, Ken Perlin presented 'simplex noise', a replacement for his classic
    noise algorithm.  Classic 'Perlin noise' won him an academy award and has
    become an ubiquitous procedural primitive for computer graphics over the
    years, but in hindsight it has quite a few limitations.  Ken Perlin himself
    designed simplex noise specifically to overcome those limitations, and he
    spent a lot of good thinking on it. Therefore, it is a better idea than his
    original algorithm. A few of the more prominent advantages are: 

    * Simplex noise has a lower computational complexity and requires fewer
      multiplications. 
    * Simplex noise scales to higher dimensions (4D, 5D and up) with much less
      computational cost, the complexity is O(N) for N dimensions instead of 
      the O(2^N) of classic Noise. 
    * Simplex noise has no noticeable directional artifacts.  Simplex noise has 
      a well-defined and continuous gradient everywhere that can be computed 
      quite cheaply. 
    * Simplex noise is easy to implement in hardware. 
    """"""
"
10990,33174,Python unescape URL,">>> json.loads('""http:\\/\\/en.wikipedia.org\\/wiki\\/The_Truman_Show""')
'http://en.wikipedia.org/wiki/The_Truman_Show'
"
19915,35114,Python create a Popen shell command list,"cmd=Popen(['identify', '-format', '%b:%w:%h:%r:%#', 'myimage.jpg'])
"
6539,66440,Django pagination with dictionary where key is a list,">>> from django.core.paginator import Paginator
>>> d = {'a': [1,2], 'b': [3,4]}
>>> p = Paginator(d, 1)
>>> p1 = p.page(1)
Traceback (most recent call last):
  File ""<input>"", line 1, in <module>
TypeError: unhashable type
>>> t = tuple(d.items())
>>> t
(('a', [1, 2]), ('b', [3, 4]))
>>> p = Paginator(t, 1)
>>> p.page(1).object_list
(('a', [1, 2]),)
>>> p.page(2).object_list
(('b', [3, 4]),)
"
5146,83885,Linked Lists Python 2.7,"def addValue(linkedSet, value):

    newNode={
        'data': value,
        'next': None
    }

    # if linkedSet is None, then you can just return this newNode

    # if linkedSet isnt None...
        # if linkedSets next is None, then it should just point to this newNode 
        # (append)

        # otherwise, you should set its current next to the next of this newnode,
        # and then set its next to this newNode (insert)
"
32998,56315,Getting the original class's member,"def remove_alpha(self):
    if 'noise' in self.__dict__:
        del self.noise
"
33221,9883,Finding number of zero elements in data,"len(data) - numpy.count_nonzero(data)
"
16729,81887,How to assign dict values to user_id for creating objects,"      if request.method == 'POST':
         try:
            data = json.loads(request.body)
            c_type = data[""subject""]
            user = get_user_id(request)
            id = user[0]['user_id']
            c_ty=Company_Type(user_id=id,type=c_type)
            c_ty.save(force_insert=True)
         except:
                 print 'nope'
      return JsonResponse({'status': 'success'})
"
4539,58909,Configure Django with MS SQL Server database,"DATABASES = {
    'default': {
        'NAME': 'my_database',
        'ENGINE': 'sqlserver_ado',
        'HOST': 'dbserver\\ss2008',
        'USER': '',
        'PASSWORD': '',
    }
}
"
33381,54764,Represent a 2D list as a map of colored squares in Pylab,"import numpy as np
import matplotlib.pyplot as plt

a = np.array(((1, 2, 3), (4, 5, 6)))
plt.imshow(a)
plt.show()
"
6578,72054,"Pandas: adding ""diagonally""",">>> (df[""obs_TQ""] + df[""obs_PQ""].shift(-1)).to_frame(""real_obs"")
                 real_obs
year quarter             
1    1        7307.220283
     2        8003.705087
     3        7760.434933
     4                NaN
"
29988,62176,How do I run pycdc?,"python pycdc C:\Users\Bobby\example.py
"
14670,54739,Aggregate a column by only some keys in Pandas dataframe?,"In [22]: df1 = df.groupby(['k1', 'k2', 'k3'])['v1'].sum()

In [23]: df2 = df.groupby(['k1', 'k2'])['v2'].sum()

In [24]: df1.reset_index().join(df2, on=['k1', 'k2'])
Out[24]:
    k1   k2   k3  v1   v2  
0  bar  baz  foo  40   90  
1  foo  bar  baz  35  160 
2  foo  bar  qux  35  160 
"
4344,18811,How to create view/python reference on scipy sparse matrix?,"import scipy.sparse

class SparseBlocks(object):
    def __init__(self, data, chunksize=5):
        self.data = data
        self.chunksize = chunksize
    def _convert_slices(self, slices):
        newslices = []
        for axslice in slices:
            if isinstance(axslice, slice):
                start, stop = axslice.start, axslice.stop
                if axslice.start is not None:
                    start *= self.chunksize
                if axslice.stop is not None:
                    stop *= self.chunksize
                axslice = slice(start, stop, None)
            elif axslice is not None:
                axslice = slice(axslice, axslice+self.chunksize)
            newslices.append(axslice)
        return tuple(newslices)

    def __getitem__(self, item):
        item = self._convert_slices(item)
        return self.data.__getitem__(item)
    def __setitem__(self, item, value):
        item = self._convert_slices(item)
        return self.data.__setitem__(item, value)

data = scipy.sparse.lil_matrix((20,20))
s = SparseBlocks(data)
s[0,0] = 1
print s.data
"
31750,62686,"Theano batch learning in MLP, shape of bias","<vertical bias vector>  <outer/tensor product>  <horizontal vector, filled with 30 ones>
"
36610,73136,python: proper use of dictionaries,"def repeat(a, b):
    stored = {}
    d = b - a + 2
    for c in range(1, d):
        stored[c] = random.randint(a, b)
        for f in stored:
            if stored[f] == stored[c]:
                return c
"
29691,31106,link django with modules of other applications,"os.environ['DJANGO_SETTINGS_MODULE'] = 'project1.settings'
from django.core.management import setup_environ
from project1 import settings
setup_environ(settings)
import app1.models

class MyChildmodel(app1.models.Mymodel):
     class Meta:
          app_label = 'app1'

     def myfunction():
          ....
"
30236,7843,Distribution-type graphs (histogram/kde) with weighted data,"sns.distplot(df.x, bins=4, hist_kws={'weights':df.wt.values}) 
"
26573,24986,Automator/Applescript rename files if,"import os
import re
import shutil

def toInt(str):
  try:
    return int(str)
  except:
    return 0

filePath = ""./""
extension = ""png""

dirList = os.listdir(filePath)

regx = re.compile(""[0-9]+a"")

for filename in dirList:
  ext = filename[-len(extension):]
  if(ext != extension): continue
  rslts = regx.search(filename)
  if(rslts == None): continue
  pieces = regx.split(filename)
  if(len(pieces) < 2): pieces.append("""")
  filenumber = toInt(rslts.group(0).rstrip(""a""))
  newFileNum = (filenumber + 1) / 2
  fileChar = ""b""
  if(filenumber % 2): fileChar = ""a""
  newFileName = ""%s%03d%s%s"" % (pieces[0], newFileNum, fileChar, pieces[1])
  shutil.move(""%s%s"" % (filePath, filename), ""%s%s"" % (filePath, newFileName))
"
3972,30621,How to grab one random item from a database in Django/postgreSQL?,"import random

random_idx = random.randint(0, Model.objects.count() - 1)
random_obj = Model.objects.all()[random_idx]
"
9221,49297,Convert UNIX timestamp to str and str to UNIX timestamp in python,"#-*-coding:utf-8-*-

import datetime, time

def ts2string(ts, fmt=""%Y-%m-%d %H:%M:%S""):
    dt = datetime.datetime.fromtimestamp(ts)
    return dt.strftime(fmt)

def string2ts(string, fmt=""%Y-%m-%d %H:%M:%S""):
    dt = datetime.datetime.strptime(string, fmt)
    t_tuple = dt.timetuple()
    return int(time.mktime(t_tuple))

def test():
    ts = 1385629728

    string = ts2string(ts)
    print string

    ts = string2ts(string)
    print ts

if __name__ == '__main__':
    test()
"
19869,3790,problem with reading RGB values of pixels using pyglet,"pix = mapImage.get_region(x,y,1,1).get_image_data().get_data(""RGBA"", 4)

print 'r = ' + str(ord(pix[0]))
print 'g = ' + str(ord(pix[1]))
print 'b = ' + str(ord(pix[2]))
print 'a = ' + str(ord(pix[3]))
"
13778,31270,Mocking a function that is invoked twice with different arguements,"email_one=Mock()
email_two=Mock()

func_call_count = 0
def my_func_mock():
    global func_call_count
    func_call_count += 1

    if func_call_count == 1:
        do_invocation_1()

    if func_call_count == 2:
        do_invocation_2()

def do_invocation_1():
    return [email_one, email_two]

def do_invocation_2():
    return [email_one, email_two]

@mock.patch('app.foo.class_to_mock')
@mock.patch('app.foo.func', new=my_func_mock)
def test_render_and_send_email(self, func_mock, mock_to_class):
    render_method = mock.Mock()
    render_method.return_value = mock.Mock()

    class_method = mock.Mock()
    class_method.return_value = mock.Mock()

    func_mock.return_value = mock.MagicMock(render=render_method)
    mock_to_class.return_value = mock.Magic(method_for_class=class_method)
    function_to_test('context goes heres')
    self.assertEqual(func_call_count, 2) # Use the func_call_count instead
    self.assertEqual(render_method.call_count, 2)
    mock_to_class.assert_called_once_With(email_one, email_two) # Now you can assert it is called once with email_one & two
    self.assertEqual(method_class.call_count,1)
"
31295,43294,How can i make a variable recive both a string and a int?,"def place(a):
    try:
        b = int(a)
    except ValueError:
        b = 0

    if (b != 0):
        if b > 0:
            print(""Turned right."")
        else:
            print(""Turned left."")
    elif (type(a) is str) and ((a == 'r') | (a == 'l')):
        if a == 'r':
            print(""Turned right."")
        else:
            print(""Turned Left"")
    else:
        print(""Invalid"")
        raise TypeError(""Nothing to do"")
"
29235,76071,Python tkinter passing input value within the same class,"class TkApp(Tkinter.Frame):
    def __init__(self, root):
        ...
        self.currentFile = None
        ...
        Tkinter.Button(self, text='Open File', command=self.askopenfilename)
        Tkinter.Button(self, text='Print File Path', command=self.printing)
        ...

    def askopenfilename(self):
        ...
        self.currentFile = tkFileDialog.askopenfilename(**self.file_opt)
        ...

    def printing(self):
        print ""Value on click: "" + self.currentFile
"
24122,58073,Python: make a dictionary created in a function visible to outside world,"def create_dict():
  global my_dict
  if 'my_dict' not in globals():
    my_dict = {}

create_dict()
print (my_dict)
"
30864,52746,How to return the highest value from a multi dimensional array?,">>> import numpy as np
>>> a = np.random.rand(3,3)
>>> a
array([[ 0.43852835,  0.07928864,  0.33829191],
       [ 0.60776121,  0.02688291,  0.67274362],
       [ 0.2188034 ,  0.58202254,  0.44704166]])
>>> a.max(axis=1)
array([ 0.43852835,  0.67274362,  0.58202254])
"
33740,12408,How to delete a list parameters but not the contents?,"data = data[0]
"
3932,67534,How to convert date format and add hh:mm:ss to it,"from datetime import datetime

def parse_date(thedate):
    result = None

    #try each format
    try:
        result = datetime.strptime(thedate, ""%d-%b-%Y"")
    except ValueError:
        pass
    except:
        raise

    # Let the last one ""blow"" up
    if result is None:
        result = datetime.strptime(thedate, ""%d/%m/%Y"")

    print ""{} parsed into {}"".format(thedate,result.strftime(""%d-%b-%Y %H:%M:%S""))
"
20883,84195,Cookies and HTTP with Python,"thecookie.output(None, '')
"
19884,82173,Getting exif data from all images in a directory using Python,"# Select the directory which the image files are in
dircont = raw_input(""Please select the file which you wish to retrieve geotags from "")

# Get the list of image files in the directory that exifread supports
directory = os.listdir(dircont)
for files in directory:
if files.endswith ('.jpg'):
    file_path = os.path.join(dircont, files)
    print file_path
    #Exifread magic
    f = open(file_path, 'rb')
    tags = exifread.process_file(f)
    for tag in tags.keys():
        if tag not in ('JPEGThumbnail', 'TIFFThumbnail', 'Filename', 'EXIF MakerNote'):
            print ""Key: %s, value %s"" % (tag, tags[tag])
if files.endswith ('.JPG'):
    file_path = os.path.join(dircont, files)
    print file_path
    #Exifread magic
    f = open(file_path, 'rb')
    tags = exifread.process_file(f)
    for tag in tags.keys():
        if tag not in ('JPEGThumbnail', 'TIFFThumbnail', 'Filename', 'EXIF MakerNote'):
            print ""Key: %s, value %s"" % (tag, tags[tag])
if files.endswith ('.png'):
    file_path = os.path.join(dircont, files)
    print file_path
    #Exifread magic
    f = open(file_path, 'rb')
    tags = exifread.process_file(f)
    for tag in tags.keys():
        if tag not in ('JPEGThumbnail', 'TIFFThumbnail', 'Filename', 'EXIF MakerNote'):
            print ""Key: %s, value %s"" % (tag, tags[tag])
if files.endswith ('.PNG'):
    file_path = os.path.join(dircont, files)
    print file_path
    #Exifread magic
    f = open(file_path, 'rb')
    tags = exifread.process_file(f)
    for tag in tags.keys():
        if tag not in ('JPEGThumbnail', 'TIFFThumbnail', 'Filename', 'EXIF MakerNote'):
            print ""Key: %s, value %s"" % (tag, tags[tag])
if files.endswith ('.tiff'):
    file_path = os.path.join(dircont, files)
    print file_path
    #Exifread magic
    f = open(file_path, 'rb')
    tags = exifread.process_file(f)
    for tag in tags.keys():
        if tag not in ('JPEGThumbnail', 'TIFFThumbnail', 'Filename', 'EXIF MakerNote'):
            print ""Key: %s, value %s"" % (tag, tags[tag])
if files.endswith ('.TIFF'):
    file_path = os.path.join(dircont, files)
    print file_path
    #Exifread magic
    f = open(file_path, 'rb')
    tags = exifread.process_file(f)
    for tag in tags.keys():
        if tag not in ('JPEGThumbnail', 'TIFFThumbnail', 'Filename', 'EXIF MakerNote'):
            print ""Key: %s, value %s"" % (tag, tags[tag])
"
26413,23878,"Using selenium webdriver, how to click on multiple random links in webpage one after another continuously to detect broken links?","import requests

def find_broken_links(root, driver):
    visited = set()
    broken = set()
    # Use queue for BFS, list / stack for DFS.
    elements = [root]
    session = requests.session()

    while len(elements):
        el = elements.pop()
        if el in visited:
            continue

        visited.add(el)

        resp = session.get(el)
        if resp.status_code in [500, 404]:
            broken.add(el)
            continue

        driver.get(el)
        links = driver.find_element_by_tag_name(""a"")
        for link in links:
            elements.append(link.get_attribute('href'))

    return broken
"
17177,47834,nolearn for multi-label classification,"import numpy as np
import theano.tensor as T
from lasagne import layers
from lasagne.updates import nesterov_momentum
from nolearn.lasagne import NeuralNet
from nolearn.lasagne import BatchIterator
from lasagne import nonlinearities

# custom loss: multi label cross entropy
def multilabel_objective(predictions, targets):
    epsilon = np.float32(1.0e-6)
    one = np.float32(1.0)
    pred = T.clip(predictions, epsilon, one - epsilon)
    return -T.sum(targets * T.log(pred) + (one - targets) * T.log(one - pred), axis=1)


net = NeuralNet(
    # customize ""layers"" to represent the architecture you want
    # here I took a dummy architecture
    layers=[(layers.InputLayer, {""name"": 'input', 'shape': (None, 1, 229, 1)}),

            (layers.DenseLayer, {""name"": 'hidden1', 'num_units': 20}),
            (layers.DenseLayer, {""name"": 'output', 'nonlinearity': nonlinearities.sigmoid, 'num_units': 13})], #because you have 13 outputs

    # optimization method:
    update=nesterov_momentum,
    update_learning_rate=5*10**(-3),
    update_momentum=0.9,

    max_epochs=500,  # we want to train this many epochs
    verbose=1,

    #Here are the important parameters for multi labels
    regression=True,  

    objective_loss_function=multilabel_objective,
    custom_score=(""validation score"", lambda x, y: np.mean(np.abs(x - y)))

    )

net.fit(X_train, labels_train)
"
11375,44216,MagicMock return value based on input,">>> from unittest.mock import *
>>> root = '''bin   cdrom  etc   initrd.img  lib32  libx32      media  opt   root  sbin  sys  usr  vmlinuz
... boot  dev    home  lib         lib64  lost+found  mnt    proc  run   srv   tmp  var'''
>>> answer = {'ls /': root}
>>> import subprocess

>>> with patch('subprocess.check_output', side_effect=lambda arg, *args, **kwargs: answer[arg]) as mock_check_output :
...     assert root == subprocess.check_output('ls /')
...     mock_check_output.assert_called_with('ls /')
...     subprocess.check_output('something else')
... 
Traceback (most recent call last):
  File ""<stdin>"", line 4, in <module>
  File ""/usr/lib/python3.4/unittest/mock.py"", line 896, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File ""/usr/lib/python3.4/unittest/mock.py"", line 962, in _mock_call
    ret_val = effect(*args, **kwargs)
  File ""<stdin>"", line 1, in <lambda>
KeyError: 'something else'
>>> 
"
5673,59816,how to switch a nested list to a array,"[[1, 2, 3],
 [[4, 5],
  [6, 7]]]
"
5988,24020,In a python script how can I ignore Apache Pig's Python Decorators for standalone unit testing,"#!/usr/bin/python

if __name__ != '__lib__':
    def outputSchema(dont_care):
        def wrapper(func):
            def inner(*args, **kwargs):
                return func(*args, **kwargs)
            return inner
        return wrapper

# Your UDFs go here
"
19561,60429,Passing array of strings as parameter in python ctypes,"words = ((c_char * 1024) * 8)()
"
27641,20033,Having difficulty understanding wx.Sizers in wxPython,"import wx

class PersonalInfoDialog(wx.Dialog):
    def __init__(self, parent):
        super(PersonalInfoDialog, self).__init__(parent)
        self.SetTitle('Personal Info')
        sizer = self.create_controls()
        self.SetSizer(sizer)
    def create_controls(self):
        box = self.create_box()
        buttons = self.create_buttons()
        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(box, 1, wx.EXPAND | wx.ALL, 10)
        sizer.Add(buttons, 0, wx.EXPAND | wx.BOTTOM, 10)
        return sizer
    def create_box(self):
        contents = self.create_box_contents()
        box = wx.StaticBox(self, -1, 'Personal Info')
        sizer = wx.StaticBoxSizer(box, wx.VERTICAL)
        sizer.Add(contents, 1, wx.EXPAND | wx.ALL, 10)
        return sizer
    def create_box_contents(self):
        male = wx.CheckBox(self, -1, 'Male')
        married = wx.CheckBox(self, -1, 'Married')
        age = self.create_age()
        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(male)
        sizer.AddSpacer(10)
        sizer.Add(married)
        sizer.AddSpacer(10)
        sizer.Add(age)
        return sizer
    def create_age(self):
        age = wx.SpinCtrl(self, -1, '28', min=0, max=100, size=(64, -1))
        sizer = wx.BoxSizer(wx.HORIZONTAL)
        text = wx.StaticText(self, -1, 'Age')
        sizer.Add(text, 0, wx.ALIGN_CENTER_VERTICAL)
        sizer.AddSpacer(10)
        sizer.Add(age)
        return sizer
    def create_buttons(self):
        button = wx.Button(self, wx.ID_OK, 'OK')
        sizer = wx.BoxSizer(wx.HORIZONTAL)
        sizer.AddStretchSpacer(1)
        sizer.Add(button)
        sizer.AddStretchSpacer(1)
        return sizer

def main():
    app = wx.App(False)
    dialog = PersonalInfoDialog(None)
    dialog.ShowModal()
    dialog.Destroy()
    app.MainLoop()

if __name__ == '__main__':
    main()
"
9418,13093,Calculating mean of certain list values in Python,"file=open(""file.csv"", ""r"")
data=csv.reader(file)

data=[[row[0],row[1],eval(row[2]),eval(row[3]),eval(row[4])] for row in data]

from statistics import mean

newdata=[[row[0],row[1],mean([row[2],row[3],row[4]])] for row in data]
sort=sorted(newdata,key=operator.itemgetter(2), reverse=True)


for eachline in sort:
    print(eachline)

file.close()
"
7810,52704,python merge 3 lists into 1 list,"import itertools as it

list(it.chain.from_iterable(it.izip(a,b,c)))
"
3529,18955,Python and Gtk+3 Entry problems,"entry = Gtk.Entry()
entry_buffer = entry.get_buffer()
entry_buffer.connect('inserted-text', callback)
"
18580,18737,Pack a list of dicts in python,">>> import pandas as pd

>>> raw = [{'state': '1', 'city': 'a'},
           {'state': '1', 'city': 'b'},
           {'state': '2', 'city': 'c'},
           {'state': '2', 'city': 'd'},
           {'state': '3', 'city': 'e'}]

>>> df = pd.DataFrame(raw) # magic !

>>> df
  city state
0    a     1
1    b     1
2    c     2
3    d     2
4    e     3

>>> grouped = df.groupby('state')['city']
>>> grouped
<pandas.core.groupby.SeriesGroupBy object at 0x05F22110>

>>> listed = grouped.apply(list)
>>> listed
state
1        [a, b]
2        [c, d]
3           [e]
Name: city, dtype: object

>>> listed.to_dict() # magic again !
{'1': ['a', 'b'], '3': ['e'], '2': ['c', 'd']}
"
31325,59542,syntax error in python with arrays and for loop with if elif?,"calibration_max=array.array('i',(0 for m in range(0,16)))
calibration_min=array.array('i',(0 for n in range(0,16)))
for m in range(0, 16):
    x == m
    if x == 0:
        GPIO.output(7, 0)
        GPIO.output(11, 0)
        GPIO.output(13, 0)
        GPIO.output(15, 0)
    elif x == 1:
        GPIO.output(7, 1)
        GPIO.output(11, 0)
        GPIO.output(13, 0)
        GPIO.output(15, 0)
    elif x == 2:
        GPIO.output(7, 0)
        GPIO.output(11, 1)
        GPIO.output(13, 0)
        GPIO.output(15, 0)
    elif x == 3:
        GPIO.output(7, 1)
        GPIO.output(11, 1)
        GPIO.output(13, 0)
        GPIO.output(15, 0)
    elif x == 4:
        GPIO.output(7, 0)
        GPIO.output(11, 0)
        GPIO.output(13, 1)
        GPIO.output(15, 0)
    elif x == 5:
        GPIO.output(7, 1)
        GPIO.output(11, 0)
        GPIO.output(13, 1)
        GPIO.output(15, 0)
    elif x == 6:
        GPIO.output(7, 0)
        GPIO.output(11, 1)
        GPIO.output(13, 1)
        GPIO.output(15, 0)
    elif x == 7:
        GPIO.output(7, 1)
        GPIO.output(11, 1)
        GPIO.output(13, 1)
        GPIO.output(15, 0)
    elif x == 8:
        GPIO.output(7, 0)
        GPIO.output(11, 0)
        GPIO.output(13, 0)
        GPIO.output(15, 1)
    elif x == 9:
        GPIO.output(7, 1)
        GPIO.output(11, 0)
        GPIO.output(13, 0)
        GPIO.output(15, 1)
    elif x == 10:
        GPIO.output(7, 0)
        GPIO.output(11, 1)
        GPIO.output(13, 0)
        GPIO.output(15, 1)
    elif x == 11:
        GPIO.output(7, 1)
        GPIO.output(11, 1)
        GPIO.output(13, 0)
        GPIO.output(15, 1)
    elif x == 12:
        GPIO.output(7, 0)
        GPIO.output(11, 0)
        GPIO.output(13, 1)
        GPIO.output(15, 1)
    elif x == 13:
        GPIO.output(7, 1)
        GPIO.output(11, 0)
        GPIO.output(13, 1)
        GPIO.output(15, 1)
    elif x == 14:
        GPIO.output(7, 0)
        GPIO.output(11, 1)
        GPIO.output(13, 1)
        GPIO.output(15, 1)
    elif x == 15:
        GPIO.output(7, 1)
        GPIO.output(11, 1)
        GPIO.output(13, 1)
        GPIO.output(15, 1)
    # average three readings to get a more stable one
    channeldata_1 = read_mcp3002(0) # get CH0 input
    sleep(0.001)
    channeldata_2 = read_mcp3002(0) # get CH0 input
    sleep(0.001)
    channeldata_3 = read_mcp3002(0) # get CH0 input
    channeldata = (channeldata_1+channeldata_2+channeldata_3)/3
    calibration_max(m) == channeldata
    print(""place magnet over sensor No:""(n+1))
    sleep(3)
    # average three readings to get a more stable one
    channeldata_1 = read_mcp3002(0) # get CH0 input
    sleep(0.001)
    channeldata_2 = read_mcp3002(0) # get CH0 input
    sleep(0.001)
    channeldata_3 = read_mcp3002(0) # get CH0 input
    channeldata = (channeldata_1+channeldata_2+channeldata_3)/3
    calibration_min(n) == channeldata
    n=n+1
"
33854,39592,How do i get python's pprint to return a string instead of printing?,">>> import pprint
>>> people = [
...     {""first"": ""Brian"", ""last"": ""Kernighan""}, 
...     {""first"": ""Dennis"", ""last"": ""Richie""},
... ]
>>> pprint.pformat(people, indent=4)
""[   {   'first': 'Brian', 'last': 'Kernighan'},\n    {   'first': 'Dennis', 'last': 'Richie'}]""
"
8231,58651,Trying to create a random list,"data = [randint(50, 99) for i in range(100)]
"
37139,42871,Formatting date times provided as strings in Django,"from datetime import datetime
from django.shortcuts import render_to_response

def my_view(request):
    ws_date_as_string = ... get the webservice date
    the_date = datetime.strptime(ws_date, ""%Y-%m-%d %H:%M:%S+0000"")
    return render_to_response('my_template.html', {'date':the_date})
"
20919,72215,Give priority when replacing strings,"words = [(""ABC"", ""ALPHABET""),
         (""A"", ""APPLE"")]

word_series = []

for word, replace in words:
    series = df[""company""].str.contains(word)
    word_series.append((series, replace))

for series, replace in reversed(word_series):
    df.loc[series, ""company""] = replace 
"
7566,18702,Pandas: using multiple functions in a group by,"import pandas as pd
import numpy as np

# Create some randomised data
N = 20
date_range = pd.date_range('01/01/2015', periods=N, freq='W')
df = pd.DataFrame({'ages':np.arange(N), 'payments':np.arange(N)*10}, index=date_range)

print(df.head())
#             ages  payments
# 2015-01-04     0         0
# 2015-01-11     1        10
# 2015-01-18     2        20
# 2015-01-25     3        30
# 2015-02-01     4        40

# Apply np.mean to the ages column and np.sum to the payments.
agg_funcs = {'ages':np.mean, 'payments':np.sum}

# Groupby each individual month and then apply the funcs in agg_funcs
grouped = df.groupby(df.index.to_period('M')).agg(agg_funcs)

print(grouped)
#          ages  payments
# 2015-01   1.5        60
# 2015-02   5.5       220
# 2015-03  10.0       500
# 2015-04  14.5       580
# 2015-05  18.0       540
"
16273,71654,wxpython using time.sleep() without blocking complete GUI,"import wx

DATA = [
    (1, 'nudge nudge'),
    (2, 'wink wink'),
    (1, 'I bet she does'),
    (3, 'say no more!'),
]

class Frame(wx.Frame):
    def __init__(self):
        super(Frame, self).__init__(None)
        panel = wx.Panel(self)
        self.text = wx.StaticText(panel)
        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.AddStretchSpacer(1)
        sizer.Add(self.text, 0, wx.ALIGN_CENTER)
        sizer.AddStretchSpacer(1)
        panel.SetSizer(sizer)
        self.index = 0
        self.update()
    def update(self):
        duration, label = DATA[self.index]
        self.text.SetLabel(label)
        self.index = (self.index + 1) % len(DATA)
        wx.CallLater(int(duration * 1000), self.update)

if __name__ == '__main__':
    app = wx.App(None)
    frame = Frame()
    frame.SetTitle('Example')
    frame.SetSize((400, 300))
    frame.Center()
    frame.Show()
    app.MainLoop()
"
9681,69805,Creating half hour averages of a list,"def get_T_z(filename):         
#zero uprcossing period
heave=load_data_2(filename,2)
timestamp=load_data_2(filename,0)      
# index of zero upcrossings
zero_up=[]      
#zero_upcrossing periods for each half hour
i=0
initial_time=0
day_len=int(timestamp[len(timestamp)-1]-timestamp[0])
count=0
while count<48:
    periods=[]
    zero_up_ind=[]    
    #stores the sum of the periods for each half hour    
    while timestamp[i]-timestamp[initial_time]<int(day_len/48) and i<len(timestamp):
        if heave[i]<0 and heave[i+1]>0:
            zero_up_ind.append(i)
        i+=1
    for c in range(0,len(zero_up_ind)-1):
        periods.append(timestamp[zero_up_ind[c+1]]-timestamp[zero_up_ind[c]])
    zero_up.append(mean(periods))
    count+=1
    initial_time=i
return zero_up
"
38916,38577,Setting Return-Path with Python sendmail for a MIME message,"msg = email.message_from_string('\n'.join([
    'To: michael@mydomain.com',
    'From: michael@mydomain.com',
    'Subject: test email',
    '',
    'Just testing'
]))
smtp = smtplib.SMTP()
smtp.connect()
smtp.sendmail('something@something.com', 'michael@mydomain.com', msg.as_string())
"
38621,73046,How do i loop a code until a certain number is created?,"while (c2sk > 0 && c1sk > 0)
    //do complete everything up until the if statements
if c1st <0
    print ""c1st died"" 
elif c2st <0
    print ""c2st died""
"
38558,39834,Python 3 variable list difference,"In [114]: file1 = ['file1,product1,-1000.56', 'file1,product2,500.43']

In [115]: file2 = ['file2,product1,-1001.37', 'file2,product2,511.99']

In [116]: for f1,f2 in zip(file1,file2):
    spl1=f1.split(',')     #returns something like ['file1', 'product2', '500.43']
    spl2=f2.split(',')     #returns something like ['file2', 'product2', '511.99']

    diff=abs(float(spl1[-1])-float(spl2[-1]))  ##use abs() to find the difference

    if diff>5:  
        print "" "".join(spl1)                    #use print() as you're on py 3.x 
        print "" "".join(spl2)                    #join the lists by "" "" 
        print ""${0}"".format(diff)
   .....:         
   .....:         
file1 product2 500.43
file2 product2 511.99
$11.56
"
23615,28189,Finding how many are above standard dev,"import random

days = 10
average_value = 5.0
std_dev = 1.0

values = [random.gauss(average_value, std_dev) for i in range(days)]

>>> values
[4.610687715224258, 6.322701044169396, 4.584676199460875, 4.6351867518251595, 4.368399817684789, 4.201682562256684, 5.5211434405667354, 5.744873752293046, 4.885975367514446, 4.7502049666640405]

>>> min(values)
4.201682562256684

>>> max(values)
6.322701044169396
"
36358,56754,How can I fake request.POST and GET params for unit testing in Flask?,"self.app.post('/path-to-request', data=dict(var1='data1', var2='data2', ...))
self.app.get('/path-to-request')
"
35813,63633,"Creating a ""catch all"" for URLs with Python's Flask","@app.route(""/<full_name>"")
def profile(full_name):
    # Lookup user by full name


@app.route(""/<full_name>/<action>"", defaults={""action"": ""contact""})
def act_on_user(full_name, action):
    # Lookup user and act on them
"
11545,70185,"Redis, only allow operation on existing keys","with r.pipeline() as pipe:
    while True:
        try:
            pipe.watch(""a_hash"")
            if pipe.exists(""a_hash""):
                pipe.multi()
                pipe.hset(""a_hash"", ""key"", ""value"")
                pipe.execute()
            break
        except redis.WatchError:
            continue
        finally:
            pipe.reset()
"
23298,56827,Convert 2D numpy.ndarray to pandas.DataFrame,"In [30]:

df=pd.DataFrame(np.array(ndarr).ravel(),
             index=pd.MultiIndex.from_product([cache1.id1.values, cache2.id2.values],names=['idx1', 'idx2']),
             columns=['val'])
In [33]:

print df.reset_index()
       idx1      idx2  val
0   ABC1234   3276827  4.3
1   ABC1234  98567498  5.6
2   ABC1234  38472837  6.7
3  NCMN7838   3276827  3.2
4  NCMN7838  98567498  4.5
5  NCMN7838  38472837  2.1

[6 rows x 3 columns]
"
1830,66310,How to keep track of lines in a file python,"input1 = open('file')
eof = False
while (True):
    while (True):
        line = input1.readline()
        if line == '':
            eof = True
            break
        output.write(line)
        if '[FOR_RECORD]' in line:
            offset = input1.tell()
            break

    if eof: break
    for i in range(4):
        input1.seek(offset)
        while (True):
            line = input1.readline()
            if line == '':
                eof = True
                break
            if '[/FOR_RECORD]' in line:
                break
            if '[REG_NAME]' in line:
                line=line.replace('[REG_NAME]',reg_name[i]['name'])
                output.write(line)
    if eof: break
"
15213,34357,Conditional formatting for 2- or 3-scale coloring of cells of a table,"import pandas as pd
import numpy as np
from matplotlib import pyplot as plt

df = pd.DataFrame(np.random.randn(10, 8), columns=list('abcdefgh'))

print df

#Round to two digits to print nicely
vals = np.around(df.values, 2)
#Normalize data to [0, 1] range for color mapping below
normal = (df - df.min()) / (df.max() - df.min())

fig = plt.figure()
ax = fig.add_subplot(111)
ax.axis('off')
the_table=ax.table(cellText=vals, rowLabels=df.index, colLabels=df.columns, 
                   loc='center', cellColours=plt.cm.RdYlGn(normal),animated=True)
fig.savefig(""table.png"")
"
17896,20933,How to serve file in webpy?,"#!/usr/bin/env python

import web

urls = (
  '/', 'index'
)

class index:
    def GET(self):
        # redirect to the static file ...
        raise web.seeother('/static/index.html')

app = web.application(urls, globals())

if __name__ == ""__main__"": app.run()
"
8184,25071,pyradio find the file station.csv,"# Find lots more stations at http://www.iheard.com
Slay Radio (C64 Remix), http://www.slayradio.org/tune_in.php/128kbps/listen.m3u  
DefCon Hack Radio, http://sfstream1.somafm.com:6200/  
SomaFM SF Radio, http://mp2.somafm.com:2040/  
SomaFM SF Radio 2, http://somafm.com/m3u/sf1033.m3u/  
SomaFM SF Radio 3, http://somafm.com/sf1033.pls  
Romania Actualitati, http://stream2.srr.ro:8000/    
Radio Zu, http://stream.radiozu.ro:8020  
Radio XNet: Manele Xnet, http://www.radioxnet.ro/asculta.m3u
"
4891,1897,8 puzzle compute neighbours python,"def neighbours(p):
    res = []
    ind = p.index(0)
    if not top(ind):
        res.append(up_neig(p, ind))
    if not bottom(ind):
        res.append(down_neig(p, ind))
    if not left(ind):
        res.append(left_neig(p, ind))
    if not right(ind):
        res.append(right_neig(p, ind))
    return res

def top(ind):
    return ind < 3

def bottom(ind):
    return ind > 5

def left(ind):
    return ind in [0, 3, 6]

def right(ind):
    return ind in [2, 5, 8]

def up_neig(p, ind):
    _p = list(p)
    _p[ind], _p[ind-3] = _p[ind-3], _p[ind]
    return tuple(_p)

def down_neig(p, ind):
    _p = list(p)
    _p[ind], _p[ind+3] = _p[ind+3], _p[ind]    
    return tuple(_p)

def left_neig(p, ind):
    _p = list(p)
    _p[ind], _p[ind-1] = _p[ind-1], _p[ind]
    return tuple(_p)

def right_neig(p, ind):
    _p = list(p)
    _p[ind], _p[ind+1] = _p[ind+1], _p[ind]
    return tuple(_p)

p = (1,3,2,5,4,6,0,7,8)
print neighbours(p)  # [(1, 3, 2, 0, 4, 6, 5, 7, 8), (1, 3, 2, 5, 4, 6, 7, 0, 8)]
"
32135,362,Import modules after compilation with py2exe,"import importlib
importlib.import_module(userinput)
"
9396,69338,Global function to authenticate user sessions in Python's Flask,"@app.before_request
def before_request():
    try:
        g.user = User.query.filter_by(username=session['username']).first()
    except Exception:
        g.user = None
"
4511,72362,Logic in Primary Jinja Template,"#app.py
app.config['navigation'] = {""Search"": [""Google"",""Yahoo"",""Bing""]}
def my_view():
    return render_template('my_view.html')

#layout.html
{% for title, name in config.navigation.iteritems() %}
    {{ title }}, {{ name }}
{% endfor %}
"
5163,78374,Sorting Nested List with Object List,"In [2]: List=[['XD',1],['XD',3],['XD',2],['X5',2],['X5',3],['XT',2]]

In [3]: SortByList={'XD': 'A', 'XT':'B', 'XQ': 'C','X5': 'D'}

In [4]: sorted(List, key=lambda x:(SortByList[x[0]],x[1]))
Out[4]: [['XD', 1], ['XD', 2], ['XD', 3], ['XT', 2], ['X5', 2], ['X5', 3]]
"
3655,9642,"When dates are on the x axis, how do i set the x axis intervals to months?","import numpy
from datetime import datetime
from matplotlib import pyplot as plt
from matplotlib.dates import DateFormatter, MonthLocator

t = numpy.array([datetime(2014, 3, 3),
                 datetime(2014, 2, 19),
                 datetime(2014, 7, 13),
                 datetime(2014, 5, 11),
                 datetime(2014, 6, 13),
                 datetime(2014, 1, 20)])

values = numpy.array([1, 5, 8, 9, 4, 6])

fig, ax = plt.subplots()
ax.plot_date(t, values, 'ro')
plt.xticks(rotation=45)
plt.xlabel('Date', fontsize=12)
plt.ylabel('Quantity', fontsize=12)

months = MonthLocator()
monthsFmt = DateFormatter(""%b '%y"")
ax.xaxis.set_major_locator(months)
ax.xaxis.set_major_formatter(monthsFmt)
plt.show()
"
9428,68235,How do I get some string values from Pylons controller be assigned to JavaScript variables with Mako?,"var a = ${c.my_string.__repr__()|n}; # Note lack of """" around it! 
"
30478,4249,What does the Python function keyword do?,"def autoAddScript(function):
    """"""
        Returns a decorator function that will automatically add it's result to the element's script container.
    """"""
    def autoAdd(self, *args, **kwargs):
        result = function(self, *args, **kwargs)
        if isinstance(result, ClientSide.Script):
            self(result)
            return result
        else:
            return ClientSide.Script(ClientSide.var(result))
    return autoAdd
"
5844,83151,How to count the difference between two nested lists in Python?,"count=sum(i!=j for i,j in zip(list1,list2))
"
16874,41476,Python Remove Span Tags and Overwrite Txt File,"from bs4 import BeautifulSoup

with open(r'sitelist.txt') as f:
    f = f.read()

soup = BeautifulSoup(f, ""html.parser"")

while len(soup.find_all('span')) > 0:
    soup.span.extract()

with open(r'sitelist.txt', 'w') as f:
    f.write(str(soup))
"
32877,63073,Regex to replace 4.7uF to 4U7,"result = re.sub(r'(\d+)(?:\.(\d+))(\w).*', r""\1\3\2"", test_str).upper()
"
19136,53313,Get function object of caller in Python 2.7?,"import inspect

def caller():
    tup = inspect.stack()[2]
    return tup[0].f_globals[tup[3]] # <function peter at address>

def cry_wolf():
    func = caller()
    print(""%s cried 'WOLF!'"" % (func.__name__,)) # peter cried 'WOLF!'

def peter():
    cry_wolf()
"
5760,2569,"Simple ""Hello-World"" program for python-evince",">>> e = evince.View()
>>> docmodel = evince.DocumentModel()
>>> doc = evince.document_factory_get_document('file:///path/to/file/example.pdf')
>>> docmodel.set_document(doc)
>>> e.set_model(model)
"
22470,67627,"python dictionary search, compare, and calculate values","def func(d1, d2):
    m = (0, 0)
    for k in d1:
        res = abs(d1[k][1] - d2[k][1]) #func1
        #res = abs(d1[k][0] - d2[k][0]) # func2
        #res = abs(sum(d1[k]) - sum(d2[k])) # func3
        if res > m[1]: m = (k, res)
    return m[0]
"
22925,60420,How to find text between two markers,"print("""".join(re.findall(r'\^\[#n(.*?)\$,s\)', string)))
"
35629,40721,Eliminating Teams in Playoff Brackets Using Python,"def playoffScoring(team1, team2):
    return team1  # replace with actual scoring function

def games_round(games):
    winners = []
    for team1, team2 in games:
        winning_team = playoffScoring(team1, team2) 
        winners.append(winning_team)

    return winners

def plan_games(teams):
    return zip(teams[::2], teams[1::2])

teams = [1, 2, 3, 4, 5, 6, 7, 8]
round = 0
while len(teams) > 1:
     round += 1
     print ""Round {}: teams: {}"".format(round, teams)
     games = plan_games(teams)
     teams = games_round(games)

champion = teams[0]  # only one left
print ""Champion is {}"".format(champion)
"
7243,9542,Python-like zip function in Stata?,"local agrp ""cat dog cow pig""

local bgrp ""meow woof moo oinkoink""

local n : word count `agrp'

forvalues i = 1/`n' {
      local a : word `i' of `agrp'
      local b : word `i' of `bgrp'
      di ""`a' says `b'""
}
"
16295,25180,Mark a specific level in contour map on matplotlib,"plt.figure()

CS = plt.contour(X, Y,log_mu,levels = [-7,-8],
                 colors=('k',),linestyles=('-',),linewidths=(2,))
CSF = plt.contourf(X, Y,log_mu)
plt.clabel(CS, fmt = '%2.1d', colors = 'k', fontsize=14) #contour line labels
CB = plt.colorbar(CSF, shrink=0.8, extend='both')

plt.xscale('log')
plt.yscale('log')

plt.show()
"
410,7412,"Google API Request in PY Error: ""urllib.error.HTTPError: HTTP Error 500: Internal Server Error""","def GoogPlacDetails(placeid,key):
    print ""Fetch data from URL""
    AUTH_KEY = key
    PLACEID = placeid
    fileName = 'data/googleJson.json'
    url = 'https://maps.googleapis.com/maps/api/place/details/json?placeid=',PLACEID,'&sensor=false&key=',AUTH_KEY

    try:
        urllib2.urlopen(url)
        filePut = open(fileName, 'w')
        data = urllib2.urlopen(url).read()

    except urllib2.HTTPError, e:
        print(e.code)

        data = 0
    except urllib2.URLError, e:
        print(e.args)

        data = 0

    if data != 0: #validate url
        try:
            with open(fileName) as jsonGetData:             
                #add data
                filePut.write(data)
                filePut.close()

                j = json.load(jsonGetData)
                print ""Json processed.""
                return 1
        except Exception, e:
            print e

            raise
        else:
            pass
        finally:
            pass
    else:
        print url,"" Not available.""
        return 0
#end GoogPlacDetails
"
13749,2130,Counting number of different characters in a word,"word='Banana'

L=[]                           #create an empty list
for letter in word:
    if letter not in L:
        L.append(letter)       #append unique chars to list

print len(L)                   #count the chars in list
"
37409,27181,Print results in console of class,"from myapp import Injection

inj = Injection() # create an instance 

inj.gather_path() # to set self.object to a value other than None

inj.parse_param_paths() # call method with instance
"
30560,83687,Insert new line after every record in python and comma between elements of record,"rows = soup.findAll(""table"",{""id"":""cos""})[0].findAll('tr')
records = []
for tr in rows:
  cols = tr.findAll('td')
  record = ''
  for td in cols:
    if record != '': record = record + ', '
    record = record + td.contents[0]
  records.append(record + ""\n"")
"
1750,62246,Filter Python list of lists by another list,">>> mylistoflists = [[], [5, 1, 6], [5, 1, 6, 2, 7], [5, 1, 6, 2, 7, 4, 8], [5, 1, 11, 10], [5, 1, 4, 11, 10, 12]]
>>> myvalues = {4, 10}
>>> [[x for x in L if x in myvalues] for L in mylistoflists]
[[], [], [], [4], [10], [4, 10]]
"
26969,22203,python flask not creating cookie when setting expiration,"import datetime
expire_date = datetime.datetime.now()
expire_date = expire_date + datetime.timedelta(days=90)
response.set_cookie(key, guid, expires=expire_date)
"
21334,54509,How to reference Python object and place it into MySQL?,"# assuming ans is a list
bid_size, ask_size, bid_price, ask_price = ans
cur.execute('''
  INSERT INTO Histdata
  (Name,BidSize,AskSize,BidPrice,AskPrice) 
  VALUES(%s,%s,%s,%s,%s)''', ('test', bid_size, ask_size, bid_price, ask_price))
"
14633,36916,String splitting in Python using regex,">>> import re
>>> s = ""Some.File.Num10.example.txt""
>>> p = re.compile(""Num\d{2}"")
>>> match = p.search(s)
>>> s[:match.start()]
'Some.File.'
"
5400,27616,Reading a direct access fortran unformatted file in Python,"def readslice(inputfilename,nx,ny,timeslice):
   f = open(inputfilename,'rb')
   f.seek(8*timeslice*nx*ny)
   field = np.fromfile(f,dtype='float64',count=nx*ny)
   field = np.reshape(field,(nx,ny))
   f.close()
   return field
"
6287,45981,Call a method in initialization without overriding base class's __init__,"class CustomList(list):
    def __init__(self, *args):
        super(CustomList, self).__init__(*args)
        # call your own methods here
"
11234,74140,How can I replace `eval` in my function?,"import hashlib
if self.hash_type in ['md5', 'sha1', 'sha224', 'sha256', 'sha384', 'sha512']:
     func = getattr(hashlib, self.hash_type)
"
34833,55937,concatenate all items from two lists in Python,"for s in strings:
    for t in tlds:
        print s + '.' + t
"
36558,19595,Django way to modify a database table using the contents of another table,"# Update or create the words and counts in the Words table.
for word, count in words.iteritems():
    Word.objects.update_or_create(word=word, defaults={'count': count})                                      
"
5059,9024,Access header on redirect response with tornado.httpclient.AsyncHTTPClient?,"from tornado.ioloop import IOLoop
from tornado import gen
from tornado.httpclient import AsyncHTTPClient, HTTPError

client = AsyncHTTPClient()


@gen.coroutine
def fetch():
    try:
        yield client.fetch('http://tornadoweb.org', follow_redirects=False)
    except HTTPError as e:
        print 'response:'
        print e.response
        print
        print 'headers:'
        print e.response.headers


IOLoop.current().run_sync(fetch)
"
2861,82017,Decoding StdClass in Python,"from phpserialize import loads, phpobject

python_object = loads(php_serialized_string, object_hook=phpobject)
"
5606,47777,Matching files based on one column,"import random

f1_dict = {}
f2_dict = {}
match_dict = {}
match_threshold = .05
matches_to_return = 2
skip_unmatched = True

isfirstline = True
for line in open(""file1""):
    if isfirstline:
            isfirstline = False
            continue
    f1_dict[line.split()[0]] = line.split()[1]

isfirstline = True
for line in open(""file2""):
    if isfirstline:
            isfirstline = False
            continue
    f2_dict[line.split()[0]] = line.split()[3]


for i in f1_dict:
    compare_rsID = i
    compare_val = f1_dict[i]
    temp_list = []
    for j in f2_dict:
        if abs(float(f2_dict[j]) - float(compare_val)) <= match_threshold:
            temp_list.append(j)
    match_dict[i] = temp_list

fo = open(""output.txt"", ""wb"")
for k in match_dict:
    if skip_unmatched and len(match_dict[k]) == 0:
        continue
    else:
        random.shuffle(match_dict[k])
        fo.write(k),
        for l in match_dict[k][:matches_to_return]:
            fo.write("" "")
            fo.write(l),
        fo.write(""\n"")
"
21620,30770,Set up and tear down functions for pytest bdd,"@pytest.fixture(autouse=True, scope='module')
def setup(request):

    # Setup code

    def fin():
        # Teardown code

    request.addfinalizer(fin)
"
3814,67603,How to put a Tkinter app into a Class,"import sys
from tkinter import *
from PIL import Image, ImageTk

# Create the Class. Everything goes in the class,
# and passing variables is very easy because self is passed around
class SWLoad():
    # __init__ runs when the class is called
    def __init__(self):
        # Create window
        SWH = Tk()
        SWH.geometry(""1024x950+130+0"")
        SWH.title(""ServiceWhiz."")

        # Initialize a list for the images
        self.img_list = []

        # Load the first image
        load = Image.open(""Logo.png"")
        render = ImageTk.PhotoImage(load)
        # Add the label to the list of images.
        # To access this label you can use self.img_list[0]
        self.img_list.append(Label(SWH, image=render))
        self.img_list[0].image = render  
        self.img_list[0].place(x=458,y=250)

        # Load the second image
        load = Image.open(""PoweredByServiceWhiz.png"")
        render = ImageTk.PhotoImage(load)
        # Add the label to the list of images.
        # To access this label you can use self.img_list[1]
        self.img_list.append(Label(SWH, image=render))
        self.img_list[1].image = render  
        self.img_list[1].place(x=362,y=612.5)

        # Fire the command that removes the images after 3 seconds
        SWH.after(3000, self.removewidgets)
        # Initialize the main loop
        SWH.mainloop()

    # Here, the function that removes the images is made
    # Note that it only needs self, which is passed automatically
    def removewidgets(self):
        # For every widget in the self.img_list, destroy the widget
        for widget in self.img_list:
            widget.destroy()

# Run the app Class
SWLoad()
"
36757,30674,Python script to run an exe-file on all files in a directory,"for root, dir, files in os.walk(path):
   for name in files:
      subprocess.call([""path_to_your_programm/myprogram.exe"", os.path.join(root, name)]
"
39605,39405,Why does Scrapy Selector fail to parse all the tags?,"$ scrapy shell https://www.digikey.com/product-detail/en/481-2%22X36YD/481-2%22X36YD-ND/1819153
>>> from bs4 import BeautifulSoup
>>> soup = BeautifulSoup(response.body, ""html.parser"")
>>>
>>> from pprint import pprint
>>> pprint([meta[""content""] for meta in soup.find_all(""meta"")])
[u'C4vnWz0WNdkra4aXTdZ9iegoTDhnazsNf0RVwXaT9eM=',
 u'text/html',
 u'IE=edge',
 u'Find 3M 481-2""\x00X36YD (481-2""\x00X36YD-ND) at DigiKey.  Check stock and pricing, view product specifications, and order online.',
 u'481-2""\x00X36YD, 3M, Tape',
 u'Digi-Key Search Engine',
 u'Part Search',
 u'Part Detail',
 u'Part Detail',
 u'PS',
 u'PD',
 u'PD',
 u'481-2""X36YD-ND',
 u'1819153',
 u'v',
 u'1',
 u'19',
 u'sku:481-2""X36YD-ND',
 u'481-2""X36YD']
"
9609,367,pygame OOP moving a rectangle,"import pygame

WHITE = (255,255,255)

class init_window(object): 

    def __init__(self, width, height):
        self.width = width
        self.height = height
        self.gameDisplay = pygame.display.set_mode((self.width, self.height))
        pygame.display.set_caption('Snake')


    def draw_snake(self, startx, starty, width, height):

        pygame.draw.rect(self.gameDisplay, WHITE, [startx, starty, width, height])
        pygame.display.update()
        init_window.move_snake(self, startx, starty, (width, height))


    def move_snake(self, x, y, rectsize):

        FPS = 60        
        clock = pygame.time.Clock()
        rectheight, rectwidth = rectsize

        while True:
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    pygame.quit()
                    quit()

                if event.type == pygame.KEYDOWN:

                    x_change = 0
                    y_change = 0

                    if event.key == pygame.K_LEFT:
                        x_change = -5
                    if event.key == pygame.K_RIGHT:
                        x_change = 5
                    if event.key == pygame.K_UP:
                        y_change = -5
                    if event.key == pygame.K_DOWN:
                        y_change = 5

                    x += x_change
                    y += y_change

                    self.gameDisplay.fill((0,0,0))

                    pygame.draw.rect(self.gameDisplay, WHITE, [x, y, rectheight, rectwidth])
                    pygame.display.update()

                    clock.tick(FPS)

if __name__ == '__main__':

    width, height = 800, 600
    pygame.init()

    window = init_window(width, height)
    window.draw_snake(width//2, height//2, 50,50)
"
23299,43675,Easy way of not overwriting file when output is the same,"import contextlib
@contextlib.contextmanager
def write_on_change(filename):
    with tempfile.NamedTemporaryFile(delete=False) as f:
        yield f
        tempname = f.name
    try:
        overwrite = not filecmp.cmp(tempname,filename)
    except (OSError,IOError):
        overwrite = True
    if overwrite:
        shutil.copyfile(tempname,filename)
    os.unlink(tempname)
"
14733,62474,How to grab text from each xml tag when the tags have multiple duplications,"if elem1.tag == 'Components':
    temp = 0
    for elem2 in list(elem1):
        if elem2.tag == 'Component':
            for elem3 in list(elem2):
                if elem3.tag == 'ComponentID':
                    asset['CompID'+str(temp)] = elem3.text
                if elem3.tag == 'ComponentName':
                    asset['CompName'+str(temp)] = elem3.text
                if elem3.tag == 'Description':
                    asset['Description'+str(temp)] = elem3.text
            temp+=1
"
37048,5321,How to render two pd.DataFrames in jupyter notebook side by side?,"> df1.merge(df2, right_index=1, left_index=1, suffixes=(""_1"", ""_2""))
   a_1  b_1  a_2  b_2
0    1    2  1.1  2.1
1    3    4  3.1  4.1
"
6717,17563,Text Progress Bar in the Console,"import sys as Sys
# Print iterations progress
def printProgress (iteration, total, prefix = '', suffix = '', decimals = 2, barLength = 100):
    """"""
    Call in a loop to create terminal progress bar
    @params:
        iteration   - Required  : current iteration (Int)
        total       - Required  : total iterations (Int)
        prefix      - Optional  : prefix string (Str)
        suffix      - Optional  : suffix string (Str)
        decimals    - Optional  : number of decimals in percent complete (Int) 
        barLength   - Optional  : character length of bar (Int) 
    """"""
    filledLength    = int(round(barLength * iteration / float(total)))
    percents        = round(100.00 * (iteration / float(total)), decimals)
    bar             = '#' * filledLength + '-' * (barLength - filledLength)
    Sys.stdout.write('%s [%s] %s%s %s\r' % (prefix, bar, percents, '%', suffix)),
    Sys.stdout.flush()
    if iteration == total:
        print(""\n"")

# 
# Sample Usage
# 

items = [""a"", ""b"", ""c"", ""d"", ""e""]
i     = 0
l     = len(items)

# Initial call to print 0% progress
printProgress(i, l, prefix = 'Progress:', suffix = 'Complete', barLength = 50)
for item in items:
    # Do stuff...
    # Update Progress Bar
    i += 1
    printProgress(i, l, prefix = 'Progress:', suffix = 'Complete', barLength = 50)

# Sample Output
Progress: [#############################################-----] 90.0% Complete
"
10351,83358,Changing directory create times (ctime) using python in windows,"from win32file import CreateFile, SetFileTime, GetFileTime, CloseHandle
from win32file import GENERIC_WRITE, OPEN_EXISTING, FILE_FLAG_BACKUP_SEMANTICS, FILE_SHARE_WRITE

import os
import shutil

source_dir_path = r""c:\my_source""
destination_dir_path = r""c:\my_target""

creation_times = [(d, os.path.getctime(os.path.join(source_dir_path, d))) for d in os.listdir(source_dir_path)]

for filename, ctime in creation_times:
    src = os.path.join(source_dir_path, filename)
    target = os.path.join(destination_dir_path, filename)
    shutil.copy(src, target)

    fh = CreateFile(target, GENERIC_WRITE, FILE_SHARE_WRITE, None, OPEN_EXISTING, FILE_FLAG_BACKUP_SEMANTICS, 0)
    SetFileTime(fh, ctime, ctime, ctime)    
    CloseHandle(fh)
"
34485,61511,Python read a single unicode character from the user,"c = getch()
first_byte = ord(c)
bytes_remain = 0
while (first_byte >> (6 - bytes_remain)) & 0b11 == 0b11:
    bytes_remain += 1
    c += getch()
"
25058,69275,Fitting circle inside image. Exit condition for loop,"
import numpy as np
import matplotlib.pyplot as plt
import matplotlib.patches as patches

h, w = 600, 700
r, c = 250, 350

def make_mask():
    x, y = np.ogrid[:h, :w]
    y -= c
    x -= r
    theta = np.arctan2(y, x)
    rad = 200 + 100*(np.sin(theta+np.pi/2)**2) 
    mask = (x**2 + y**2) < rad**2
    return mask

mask = make_mask()
x, y = np.ogrid[:h, :w]
distance_sq = (x-r)**2+(y-c)**2
radius = np.sqrt((distance_sq[~mask]).min())

fig, ax = plt.subplots()
ax.imshow(mask)
ax.add_patch(patches.Circle((c,r), radius=radius))
plt.show()


yields
"
30359,85090,How to implement a pythonic equivalent of tail -F?,"import time

def watch(fn, words):
    fp = open(fn, 'r')
    while True:
        new = fp.readline()
        # Once all lines are read this just returns ''
        # until the file changes and a new line appears

        if new:
            for word in words:
                if word in new:
                    yield (word, new)
        else:
            time.sleep(0.5)

fn = 'test.py'
words = ['word']
for hit_word, hit_sentence in watch(fn, words):
    print ""Found %r in line: %r"" % (hit_word, hit_sentence)
"
24707,78358,Removing duplicates using custom comparisons,"d = {x.firstname: x for x in mylist}
mylist = list(d.values())
"
38817,59293,Get different views to display different content,"#Project urls.py
from django.conf.urls import patterns, include, url
urlpatterns = patterns('',
    # Examples:
    # url(r'^$', 'Sayth.views.home', name='home'),
    # url(r'^Sayth/', include('Sayth.foo.urls')),

    # Uncomment the admin/doc line below to enable admin documentation:
    # url(r'^admin/doc/', include('django.contrib.admindocs.urls')),

    # Uncomment the next line to enable the admin:
    # url(r'^admin/', include(admin.site.urls)),
    url(r'^rango/', include('rango.urls')),
)


#rango/urls.py
from django.conf.urls import patterns, url
from rango import views

urlpatterns = patterns('',
            url(r'^$', views.index, name='index'),
            url(r'^about/$', views.about, name='about'),
            )
"
18542,46548,Determine if two dictionaries are equal Python error,"def __eq__(self, other):
    return self.name == other.name \
        and self.row == other.row \
        and self.col == other.col \
        and self.up is other.up \
        and self.down is other.down \
        and self.left is other.left \
        and self.right is other.right
"
27445,64523,Stop pygtk GUI from locking up during long-running process,"import threading
import time
import gtk, gobject, glib

gobject.threads_init()

class Test():
    def __init__(self):
        self.counter = 0
        self.label = gtk.Label()
        self.progress_bar = gtk.ProgressBar()
        self.progress_bar_lock = threading.Lock()
        button = gtk.Button(""Test"")

        window = gtk.Window()

        box = gtk.VBox()
        box.pack_start(self.label)
        box.pack_start(self.progress_bar)
        box.pack_start(button)
        window.add(box)

        window.connect(""destroy"", lambda _: gtk.main_quit())
        button.connect(""clicked"", self.on_button_click)
        window.show_all()

    def update_label(self, counter):
        self.label.set_text(""Thread started (counter: {0})""
                            .format(counter))
        time.sleep(5)
        self.label.set_text(""Thread finished (counter: {0})""
                            .format(counter))
        return False

    def pulse_progress_bar(self):
        print threading.active_count()
        if threading.active_count() > 1:
            self.progress_bar.pulse()
            return True

        self.progress_bar.set_fraction(0.0)
        self.progress_bar_lock.release()
        return False

    def on_button_click(self, widget):
        self.counter += 1
        thread = threading.Thread(target=self.update_label,
                                  args=(self.counter,))
        thread.start()

        if self.progress_bar_lock.acquire(False):
            glib.timeout_add(250, self.pulse_progress_bar)


if __name__ == '__main__':
    test = Test()
    gtk.main()
"
28289,72687,Combining two 1D arrays of different data types into 1 2D array in PYTHON,">>> import numpy as np
>>> dt = np.dtype([('a', np.int64, 1), ('b', np.float64, 1)])
>>> a = np.array([1,2,3,4], dtype=np.int64)
>>> b = np.array([1.,2.,3.,4.], dtype=np.float64)
>>> ab = np.array(zip(a,b), dtype=dt)
>>> ab[:]['a']
array([1, 2, 3, 4])
>>> ab[:]['b']
array([ 1.,  2.,  3.,  4.])
"
19141,52717,Python is there a fill specific cell value function for pandas?,">>> df = DataFrame({'column': ['A', 'B', 'C', 'P', 'Z']})
>>> df['column'].replace('P', 'Z')
0    A
1    B
2    C
3    Z
4    Z
"
13650,14665,"Python win32com, How to Hide Gridlines","import win32com.client
excel = win32com.client.Dispatch(""Excel.Application"")
excel.Visible = True
book = excel.Workbooks.Add()
sheet = book.Worksheets(1)

excel.ActiveWindow.DisplayGridlines = False
"
25147,19428,Generating 3D Gaussian distribution in Python,"import numpy as np
from scipy.stats import multivariate_normal

x, y = np.mgrid[-1.0:1.0:30j, -1.0:1.0:30j]
# Need an (N, 2) array of (x, y) pairs.
xy = np.column_stack([x.flat, y.flat])

mu = np.array([0.0, 0.0])

sigma = np.array([.025, .025])
covariance = np.diag(sigma**2)

z = multivariate_normal.pdf(xy, mean=mu, cov=covariance)

# Reshape back to a (30, 30) grid.
z = z.reshape(x.shape)
"
21281,49377,Django: Store List of Users in model?,"class EducationalClass(models.Model):
    students = models.ManyToManyField(User)
"
14244,27443,Python randomly generated IP address of the string,">>> import random
>>> import socket
>>> import struct
>>> socket.inet_ntoa(struct.pack('>I', random.randint(1, 0xffffffff)))
'197.38.59.143'
>>> socket.inet_ntoa(struct.pack('>I', random.randint(1, 0xffffffff)))
'228.237.175.64'
"
34773,62957,Run $Path command in Terminal in a python script,"import os    
os.system(""xterm -e 'bash -c \""fft -i 3 AddedK AddedK_ifft; exit -f exec bash\""' "")
"
35294,686,Tkinter progess bar using Frame,"import time

    #in __init__
    self.progressvar = IntVar()
    self.progressbar = ttk.Progressbar(top_frame, orient=HORIZONTAL, length=228, mode='determinate', variable = self.progressvar)

def open(self):
    self.filename_open = tkFileDialog.askopenfilenames(defaultextension='*.*')
    self.progressvar.set(0)

def process(self):
    self.progressbar.configure(maximum = len(self.filename_open) + 0.001) #0.001 needed to avoid progressbar empty at the end
    for index, image_name in enumerate(self.filename_open):
        self.progressbar.step(1)
        self.update_idletasks()
        time.sleep(0.5) # replace with the real process function
"
37531,41980,How to send an email on successful test completion in django,"import subprocess
ret = subprocess.call(['python', 'manage.py', 'test'])
if ret == 0:
    print(""Tests Passed Successfully"")
else:
    print(""Tests failed"")
"
22949,67590,Pygame window displays blank black screen,"import sys
import pygame
from pygame.locals import *
pygame.init()

size = width, height = 720, 480
speed = [2, 2]
black = (0,0,0)
blue = (0,0,255)
green = (0,255,0)
red = (255,0,0)

screen = pygame.display.set_mode(size)

pygame.display.set_caption(""BETA::00.0.1"")

clock = pygame.time.Clock()


def text_objects(text, font):
    textSurface = font.render(text, True, black)
    return textSurface, textSurface.get_rect()

def game_intro():

  screen.fill(blue)

  largeText = pygame.font.Font('freesansbold.ttf',115)
  TextSurf, TextRect = text_objects(""BETA"", largeText)
  TextRect.center = ((width/2),(height/2))
  screen.blit(TextSurf, TextRect)

  pygame.draw.rect(screen, green,(150,450,100,50))
  pygame.draw.rect(screen, red,(550,450,100,50))

  pygame.display.flip()
  pygame.display.update()
  clock.tick(15)

  intro = True

  while intro:
     for event in pygame.event.get():
         print(event)
         if event.type == pygame.QUIT:
             pygame.quit()
             quit()


game_intro()
"
12520,55972,Threading.timer intervals random,"C:\bin\Python27\python.exe C:/www/wsgi/mysite/mysite/test.py
2015-08-04 20:24:36.491000
2015-08-04 20:24:37.492000
2015-08-04 20:24:38.491000
2015-08-04 20:24:39.491000
2015-08-04 20:24:40.491000
2015-08-04 20:24:41.491000
2015-08-04 20:24:42.491000
2015-08-04 20:24:43.491000
2015-08-04 20:24:44.491000
2015-08-04 20:24:45.491000
2015-08-04 20:24:46.491000

Process finished with exit code 0
"
36411,23947,"Numpy arrays, fancy indexing, complex numbers","if (np.iscomplexobj(b)):
    a = a + 0j
a[0:2] *= b
"
12455,40060,Multiline input prompt indentation interfering with output indentation,"command=input('''
  What would you like to do? You can say:

  get all                                                   
  get unique

  ''')    
"
25736,4081,Combining file and directory selection options,"import os
import glob

def combine(arguments):
    all_files = []
    for arg in arguments:
        if '*' in arg or '?' in arg:
            # contains a wildcard character
            all_files.extend(glob.glob(arg))
        elif os.path.isdir(arg):
            # is a dictionary
            all_files.extend(glob.glob(os.path.join(arg, '*')))
        elif os.path.exists(arg):
            # is a file
            all_files.append(arg)
        else:
            # invalid?
            print '%s invalid' % arg
    return all_files
"
11435,68608,how to convert string from known encoding to utf-8 on the fly in python?,"s.decode(encoding).encode(""utf-8"")
"
8294,26371,MatPlotLib dynamic time axis,"from pylab import *
import matplotlib.animation as animation

class Monitor(object):
    """"""  This is supposed to be the class that will capture the data from
        whatever you are doing.
    """"""    
    def __init__(self,N):
        self._t    = linspace(0,100,N)
        self._data = self._t*0

    def captureNewDataPoint(self):
        """"""  The function that should be modified to capture the data
            according to your needs
        """""" 
        return 2.0*rand()-1.0


    def updataData(self):
        while True:
            self._data[:]  = roll(self._data,-1)
            self._data[-1] = self.captureNewDataPoint()
            yield self._data

class StreamingDisplay(object):

    def __init__(self):
        self._fig = figure()
        self._ax  = self._fig.add_subplot(111)

    def set_labels(self,xlabel,ylabel):
        self._ax.set_xlabel(xlabel)
        self._ax.set_ylabel(ylabel)

    def set_lims(self,xlim,ylim):
        self._ax.set_xlim(xlim)
        self._ax.set_ylim(ylim)

    def plot(self,monitor):
        self._line, = (self._ax.plot(monitor._t,monitor._data))

    def update(self,data):
        self._line.set_ydata(data)
        return self._line

# Main
if __name__ == '__main__':
    m = Monitor(100)
    sd = StreamingDisplay()
    sd.plot(m)
    sd.set_lims((0,100),(-1,1))

    ani = animation.FuncAnimation(sd._fig, sd.update, m.updataData, interval=500) # interval is in ms
    plt.show()
"
23885,70209,Examine current messages in Django admin.py,"from django.contrib import admin, messages


class ExampleAdmin(admin.ModelAdmin):
    list_display = ('whatever', 'etc')

    def save_model(self, request, obj, form, change):
        obj.save()
        storage = messages.get_messages(request)
        for message in storage:
            # Examine message here.
            pass
"
34112,209,Tkinter Entry widget color fading,"    def incrementHex(hex_str, increment): #with hex_str in format ""#FFFFFF"" or any colour
        red = int(hex_str[1:3],16) #specifies base for integer conversion
        green = int(hex_str[3:5],16)
        blue = int(hex_str[5:],16)
        red += increment #increment can be negative
        green += increment
        blue += increment
        new_hex_str = ""#"" + str(hex(red)) + str(hex(blue)) + str(hex(green))
        return new_hex_str

    def Fade(self, start_hex, increment):
        new_hex = self.incrementHex(start_hex, increment)
        self.User_Line.configure(bg = new_hex)
        #where self.master is the parent widget as defined in the __init__ method...
        self.master.after(50,lambda: self.Fade(new_hex, increment)) #or any time interval in milliseconds
        #you'll probably need some code to stop it fading here, but I'll let you tackle that one :)

    def User_Line_Focus_In(self, event):
        self.Fade(""#FFFFFF"",-1) #could be any colour and increment
"
20640,47500,trying to print mulitple logistic regressions in statsmodels python,"def regression(...):
    with open(""outfile"") as out:
        for var in var 2:
            for var in var1:
                for var in var3:
                    ...
                    out.write(str(result.summary()) + ""\n"")
                    out.write(str(np.exp(result.params)) + ""\n)
"
20635,9256,h5py returning unexpected results in indexing,"    x.resize((x.shape[0] + X.shape[0], X.shape[1], X.shape[2]))
    y.resize((y.shape[0] + Y.shape[0], Y.shape[1], Y.shape[2]))
"
20505,59302,Python 3 regex - How to match all unicode alphabetic characters and spaces?,">>> re.search(r'^(?:[^\W\d_]| )+$', 'Los Angeles')
<_sre.SRE_Match object at 0x0000000003C612A0>
>>> re.search(r'^(?:[^\W\d_]| )+$', 'Ð Ð¾ÑÑÐ¸Ñ')
<_sre.SRE_Match object at 0x0000000003A0D030>
>>> re.search(r'^(?:[^\W\d_]| )+$', 'Los_Angeles') # not found
>>> re.search(r'^(?:[^\W\d_]| )+$', 'ä¸­å½')
<_sre.SRE_Match object at 0x0000000003C612A0>
"
9995,1247,"How to make ""cases"" or ""if, then"" depending on comparison operator used in Sage","sage: s[0][0].operator()
<function operator.gt>
sage: s[0][1].operator()
<function operator.lt>
sage: s[0][0].operator() == operator.gt
True
sage: s[0][0].operator() == operator.lt
False
"
31858,52693,python with flashdrives and linux commands,"import commands
from easygui import *

output = commands.getstatusoutput(""command"")
msgbox(msg=output[1])
"
1298,55224,How to provide additional initialization for a subclass of namedtuple?,"class Edge(EdgeBase):
    def __new__(cls, left, right):
        self = super(Edge, cls).__new__(cls, left, right)
        self._hash = hash(self.left) * hash(self.right)
        return self

    def __hash__(self):
        return self._hash
"
11664,55461,Python GAE webapp2 output formatting,">>> d = {'content': u""(u'011', u'11', u'11', u'11', u'11')""}
>>> re.sub(r'u[\'""]|[\'"",()\s]', '', d['content'])
u'01111111111'
>>> re.sub(r'u[\'""]|\W', '', d['content'])
u'01111111111'
"
27466,60326,difference between list and array(np)?,">>> a = [0] * 3
>>> print a
[0, 0, 0]
>>> b = [a] * 2
>>> print b
[[0, 0, 0], [0, 0, 0]]
>>> a[0] = 1
>>> print a
[1, 0, 0]
>>> print b
[[1, 0, 0], [1, 0, 0]]
>>> b[0][1] = 2
>>> print b
[[1, 2, 0], [1, 2, 0]]
"
18631,65967,how to read files from multiple folders in python,"files = glob.glob('main/**/Type 2/*.csv')
dfs = [pd.read_csv(fp) for fp in files]
df = pd.concat(dfs)
"
31349,56289,Replacing parts of a string simultaneously,"import string as str_module

alphabet = ""abcdefghijklmnopqrstuvwxyz0123456789""
key = None
with open(""cryptkey"", ""r"") as f:
    key = f.read(36)

tocryptvar = None
with open(""tocrypt.txt"", ""r"") as f:
    tocryptvar = f.read().lower()

trans_table = str_module.maketrans(alphabet, key)

tocryptvar = tocryptvar.translate(trans_table)
"
9158,9914,Appending to a .csv File in Python,"# of course you should read the file someway
s = """"""
Row1Iteration1, Row1Iteration2, Row1Iteration3
Row2Iteration1, Row2Iteration2, Row2Iteration3
Row3Iteration1, Row3Iteration2, Row3Iteration3
Row4Iteration1, Row4Iteration2, Row4Iteration3
Row5Iteration1, Row5Iteration2, Row5Iteration3
""""""
ncols = 3

iterations = []
for line in s.strip().split('\n'):
    iterations.append([l.strip() for l in line.split(',')])

with open('output.csv', 'w') as out:
    for col in xrange(ncols):
        for it in iterations:
            print it[col]
            out.write(col)
"
4576,43537,Change color of heatmap labels in Python (matplotlib),"for l in ax.xaxis.get_ticklabels()+ax.yaxis.get_ticklabels():
    if 'A' in l.get_text():
        l.set_color('r')
    elif 'B' in l.get_text():
        l.set_color('g')
"
38500,50673,How do I specify a range of unicode characters in a regular-expression in python?,"[\u00D8-\u00F6]
"
21585,28507,Call a function using bind in tk text widget,"root = Tk()

text = Text(root, **kw)
text.pack()

def text_print(*args):
    print('Hello World!')

text.bind('a', text_print)
"
36923,20633,python-get physical disk info from logical path,"   key = ''
    for physical_disk in w.Win32_DiskDrive():
    logical_disks = []
    for partition in physical_disk.associators (""Win32_DiskDriveToDiskPartition""):
        for logical_disk in partition.associators (""Win32_LogicalDiskToPartition""):
            key = logical_disk.Description
            if key not in all_logical_disks:
                all_logical_disks[key] = []
            logical_disks.append(logical_disk.Caption)
    if logical_disks:
        all_logical_disks[key].append(logical_disks)
"
26671,21054,get_threshold() use other than grabage collection,">>> lst = [5, 3, 7, 1, 6, 5, 2]
>>> print max(lst)
7
"
14246,41295,Set locale encoding in python,"env = os.environ.copy()
env['LANG'] = 'en_US.UTF-8'
subprocess.check_output( ..., env = env)
"
23915,35196,Subprocess fails to print esxcli namespace correctly,"subprocess.call([""esxcli"",
                 ""--server=""+settings.vserver,
                 ""--username=""+settings.user,
                 ""--password=""+settings.pwd,
                 ""--vihost=""+settings.host,
                 ""network"",""vswitch"",""standard"",""portgroup"",""add"",
                 ""-p"",settings.newpgname,
                 ""-v"",settings.newpgswitch])
"
17329,14587,"python, encryption of any size code with a smaller key","from decimal import Decimal
import itertools

def encrypt(numbers_as_text, code):
    key = itertools.cycle(code[::-1])

    num = Decimal(numbers_as_text)

    power = 1
    for _ in numbers_as_text:
        num += power * int(next(key))
        power *= Decimal(10)

    return num



if __name__ == ""__main__"":
    print(encrypt('12345','12'))
"
13733,61928,Data Base Model - Huge (over 1 million lines) text files,"<?php

// You'd have to implement the database yourself!
$db = new Database();
$db->startTransaction();

$stack = array();
$fh    = fopen(""my-file"", ""r"");
$i     = 0;
while (($buffer = fgets($handle, 4096)) !== false) {
  if (!isset($buffer[0])) {
    continue;
  }

  switch ($buffer[0]) {
    case ""A"":
      // Do something ...
      break;

    case ""C"":
      // Do something ...
      break;

    case ""C"":
      if ($stack[$i] != ""C"") {
        trigger_error(""Line D without preceding line C"");
      }
      // Do something ...
      break;

     // More stuff ...
  }

  $stack[$i++] = $buffer;
  $db->insert(""INSERT INTO table (line) VALUES ($buffer)"");
}

$db->commitTransaction();

?>
"
8069,13108,How Do I Make a GUI Open with the Correct Size with wxPython?,"wx.Frame.__init__(self, None, -1, 'CR Part 1', size=(800, 600))
"
17862,12251,Write python procedure to write python procedure,"textfile.write(""""""
def a_procedure():
    window = Tk()
"""""")
"
21041,21494,How to implement a function with non overlapping and rolling features simultaneously in Pandas/Numpy?,">>> w = 3
>>> A[""B""] = A.groupby(np.arange(len(A))//w)[""A""].apply(lambda x: x/x.iloc[0]-1)
>>> A
     A         B
1  100  0.000000
2  101  0.010000
3  102  0.020000
4  103  0.000000
5  104  0.009709
6  105  0.019417
7  106  0.000000
8  107  0.009434
9  108  0.018868
"
16483,13096,Filter out a specific string in a larger string?,">>> s = ""Nima Python: how are you?""
>>> s.replace(""Nima Python: "", """") # replace with empty string to remove
'how are you?'
"
10639,47973,Parse data using BeautifulSoup in python,"import os
import sys

# Import System libraries
import re
import urllib2

# Import Custom libraries
from BeautifulSoup import BeautifulSoup, Tag

job_location = lambda x: x.name == ""div"" and set([(u""id"", u""content"")]) <= set(x.attrs)
job_title_location = lambda x: set([(u""class"", u""schema_title""), (u""itemprop"", u""title"")]) <= set(x.attrs)
organ_location = lambda x: set([(u""class"", u""schema_hiringorganization""), (u""itemprop"", u""name"")]) <= set(x.attrs)
details_key_location = lambda x: x.name == ""div"" and bool(re.search(""s.*heading"", dict(x.attrs).get(u""class"", """")))

def coll_up(ilist,base=0,count=0):
    '''
    Recursively collapse nested lists at depth base and above
    '''
    tlist = []
    if(isinstance(ilist,list) or isinstance(ilist,tuple)):
        for q in ilist:
            tlist += coll_up(q,base,count+1)
    else:
        if(base > count):
            tlist = ilist
        else:
            tlist = [ilist]
    return [tlist] if((count != 0) and (base > count)) else tlist

def info_extract(ilist, count=0):
    '''
    Recursively walk a nested list and upon finding a non iterable, return its string
    '''
    tlist = []
    if(isinstance(ilist, list)):
        for q in ilist:
            if(isinstance(q, Tag)):
                tlist += info_extract(q.contents, count+1)
            else:
                extracted_str = q.strip()
                if(extracted_str):
                    tlist += [extracted_str]
    return [tlist] if(count != 0) else tlist

def main():
    url = ""http://www.sarkari-naukri.in/jobs-by-qualification/b-tech/sub-centre-manager.html""
    data = urllib2.urlopen(url).read()
    soup = BeautifulSoup(data)

    job_tags = soup.findAll(job_location)
    if(job_tags):
        job_tag = job_tags[0]
        job_title = info_extract(job_tag.findAll(job_title_location))[0]
        organ = info_extract(job_tag.findAll(organ_location))[0]
        details = coll_up(info_extract(job_tag.findAll(details_key_location)), 2)

        combined_dict = dict([tuple([""Job Title:""] + job_title)] + [tuple([""Organisation:""] + organ)] + [tuple(detail) for detail in details])
        combined_list = [[""Job Title:""] + job_title, [""Organisation:""] + organ] + details
        postdata = ["" "".join(x) for x in combined_list]
        print postdata

        fname = ""postdata.txt""
        with open(fname, ""w"") as outf:
            outf.write(""\n"".join(postdata).encode(""utf8""))

if __name__==""__main__"":
    main()
"
7483,42340,How to get values in python list and combined into one variable - python,">>> mylist = ['X', 'Y', 'Z']
>>> allvar = ' '.join(mylist)
>>> print allvar
X Y Z
"
7020,7513,How do I run doctests with PyCharm?,"""""""
    >>> print 3.14
    3.14
""""""

if __name__ == '__main__':
    pass
"
6487,36150,Best way to integrate SqlAlchemy into a Django project,"class MySQLAlchemySessionMiddleware(object):
    def process_request(self, request):
        request.db_session = settings.Session()

    def process_response(self, request, response):
        try:
            session = request.db_session
        except AttributeError:
            return response
        try:
            session.commit()
            return response
        except:
            session.rollback()
            raise

    def process_exception(self, request, exception):
        try:
            session = request.db_session
        except AttributeError:
            return
        session.rollback()
"
11939,23241,Converting a Youtube Upload into Podcast,""""""" A wire between input and output. """"""
import pyaudio
import sys
import webbrowser

# open the page
webbrowser.open(AUTOPLAY_URL)

chunk = 1024
FORMAT = pyaudio.paInt16
CHANNELS = 1
RATE = 44100
RECORD_SECONDS = 5

p = pyaudio.PyAudio()

stream = p.open(format = FORMAT,
            channels = CHANNELS,
            rate = RATE,
            input = True,
            output = True,
            frames_per_buffer = chunk)

print ""* recording""
for i in range(0, 44100 / chunk * RECORD_SECONDS):
    data = stream.read(chunk)
    stream.write(data, chunk)
print ""* done""

stream.stop_stream()
stream.close()
p.terminate()
"
5138,7374,Pandas cumulative/elementwise,"a = df[""Volume""].cumsum().clip_upper(20)
b = a.shift().fillna(0)
filled_a = a - b
"
2426,59617,How to plot Time Series using matplotlib Python,"In [16]: s = pd.read_csv('http://pastebin.com/raw.php?i=vx9xLtdm',
   ....:                 parse_dates=True, index_col=0, squeeze=True,
   ....:                 na_values=-9999)

In [17]: bins = np.linspace(s.min(), s.max(), num=50)

In [18]: axes = s.hist(by=s.index.date, bins=bins, sharex=True, sharey=True)

In [19]: plt.gcf().autofmt_xdate()

In [20]: plt.draw()
"
10231,15842,python return list from linux command output,"# stolen from Hackaholic's answer
import subprocess
child = subprocess.Popen('apcaccess',stdout=subprocess.PIPE)
msg,err = child.communicate()

# now create the dict:
myDict={}
#for i in msg.split(""\n""):  # loop over lines
for i in msg.splitlines():  # EDIT: See comments  
    splitted=i.split("":"")  # list like [""HOSTNAME "", "" doormon""]
    # remove leading & trailing spaces, add to dict
    myDict[splitted[0].strip()]=splitted[1].strip() 


#Now, you can easily access the items:
print myDict[""SERIALNO""]
print myDict[""STATUS""]
print myDict[""BATTV""]

for k in myDict.keys():
    print k +"" = ""+ myDict[k]
"
29683,19864,Fixed canvas shape in wxpython ogl library,"sizer = wx.BoxSizer(wx.VERTICAL)
text_sizer = wx.BoxSizer(wx.HORIZONTAL)
canvas_sizer = wx.BoxSizer(wx.HORIZONTAL)
stat = wx.StaticText(self, -1, ""position"")

# for testing I used a panel instead of your ogl object
canvas = wx.Panel(self, -1)    
canvas.SetMinSize((-1, 70))     # Needed here to give a min size to panel,
                                # otherwise the panel would not be seen.
                                # The sizer will occupy the minimal 
                                # to hold its contents.

canvas_sizer.Add(canvas, 1, wx.EXPAND, 0)
sizer.Add(canvas_sizer, 0, wx.EXPAND, 0)   # <- note proportion 0 here
text_sizer.Add(stat, 1, wx.EXPAND, 0)
sizer.Add(text_sizer, 1, wx.EXPAND, 0)
self.SetSizer(sizer)
sizer.Fit(self)
self.Layout()
"
18109,33302,CRC32 checksum in Python with hex input,">>> binascii.crc32(binascii.a2b_hex('18329a7e'))
-1357533383
"
31974,45537,python sqlalchemy exist & select 'next' syntax,"from sqlalchemy.sql import func
# ...    
~exist(func.next_value()).where(...)
"
9414,44012,c_void_p arguments in callbacks using ctypes in Python,"buf = cast(p, POINTER(c_char * n))[0]

# 2.6+
buf = (c_char * n).from_address(p)
"
16182,68042,Python: splitting a file into two parts,"splitLen = 2         #  lines per file
outputBase = 'output%d.txt' # output.1.txt, output.2.txt, etc.
restBase = 'rest%d.txt'

with open('file.txt', 'r') as fp:
    input_list = fp.readlines()
    # to skip empties: input_list = [l for l in fp if l.strip()]

for i in range(0, len(input_list), splitLen):
    iteration = (i/splitLen)
    print 'iter', iteration
    with open(outputBase % iteration, 'w') as fp:
        fp.write(''.join(input_list[i:i+splitLen]))
    with open(restBase % iteration, 'w') as fp:
        fp.write(''.join(input_list[:i]))
        fp.write(''.join(input_list[i+splitLen:]))
"
21194,43602,Ascii Art in Python not printing in one line,"def row_top():
    print(""|--|--|--|--|--|--|--|--|"")

def cell_left():
     print(""| "", end='')

def cell_data(isQ):
     if isQ:
        print(""X"", end='')
    else:
        print("" "", end='')

def row(c):
    row_top()
    row_data(c)
    print(""|"")
"
32228,46564,python map string split list,">>> from operator import methodcaller
>>> a = ['2011-12-22 46:31:11','2011-12-20 20:19:17', '2011-12-20 01:09:21']
>>> map(methodcaller(""split"", "" ""), a)
[['2011-12-22', '46:31:11'], ['2011-12-20', '20:19:17'], ['2011-12-20', '01:09:21']]
"
6195,69641,How to pop out a separate window from a tabWidget in PySide Qt,"#!/usr/bin/env python
# -.- coding: utf-8 -.-
import sys
from PySide import QtGui, QtCore


class Tab(QtGui.QWidget):
    popOut = QtCore.Signal(QtGui.QWidget)
    popIn = QtCore.Signal(QtGui.QWidget)

    def __init__(self, parent=None):
        super(Tab, self).__init__(parent)

        popOutButton = QtGui.QPushButton('Pop Out')
        popOutButton.clicked.connect(lambda: self.popOut.emit(self))
        popInButton = QtGui.QPushButton('Pop In')
        popInButton.clicked.connect(lambda: self.popIn.emit(self))

        layout = QtGui.QHBoxLayout(self)
        layout.addWidget(popOutButton)
        layout.addWidget(popInButton)


class Window(QtGui.QWidget):
    def __init__(self, parent=None):
        super(Window, self).__init__()

        self.button = QtGui.QPushButton('Add Tab')
        self.button.clicked.connect(self.createTab)
        self._count = 0
        self.tab = QtGui.QTabWidget()
        layout = QtGui.QVBoxLayout(self)
        layout.addWidget(self.button)
        layout.addWidget(self.tab)

    def createTab(self):
        tab = Tab()
        tab.setWindowTitle('%d' % self._count)
        tab.popIn.connect(self.addTab)
        tab.popOut.connect(self.removeTab)
        self.tab.addTab(tab, '%d' % self._count)
        self._count += 1

    def addTab(self, widget):
        if self.tab.indexOf(widget) == -1:
            widget.setWindowFlags(QtCore.Qt.Widget)
            self.tab.addTab(widget, widget.windowTitle())

    def removeTab(self, widget):
        index = self.tab.indexOf(widget)
        if index != -1:
            self.tab.removeTab(index)
            widget.setWindowFlags(QtCore.Qt.Window)
            widget.show()


if __name__ == '__main__':
    app = QtGui.QApplication(sys.argv)

    w = Window()
    w.show()

    sys.exit(app.exec_())
"
15790,30349,"Good way to count number of functions of a python file, given path","import ast

with open(filename) as f:
    tree = ast.parse(f.read())
    sum(isinstance(exp, ast.FunctionDef) for exp in tree.body)
"
25337,66575,check if whole block has any childs with inner text,"xpath = './/div[@class=""chat_dialog""][descendant::text()=""zajac""]'
element = driver.find_element_by_xpath(xpath)
"
3101,58856,Is there a Python idiom for the last n elements of a sequence?,"last_five = somesequence[-5:]
"
32209,38784,How to plot multiple lines in single graph python,"import matplotlib.pyplot as plt
for i, fig_data in enumerate(quadnumcounts):
    # Set current figure to the i'th subplot in the 2x2 grid
    plt.subplot(2, 2, i + 1)
    # Set axis labels for current figure
    plt.xlabel('Trials')
    plt.ylabel('Frequency')
    for line_data in fig_data:
        # Plot a single line
        xs = [i + 1 for i in range(len(line_data))]
        ys = line_data
        plt.plot(xs, ys)
# Now that we have created all plots, show the result
plt.show()
"
5011,8519,How to iterate over two dataframes?,"y = map(testfunction, x)
"
16524,30552,Storing user data in a Python script,"import shelve

shelf = shelve.open(filename)
shelf['key1'] = value1
shelf['key2'] = value2

shelf.close()
 # next run
shelf.open(filename)

value1 = shelf['key1']
#etc
"
29914,42225,SQLAlchemy: relation in mappers compile result of function rather than calling the function when the relation is queried,"and_(photo_content_table.c.photoId == photo_table.c.id, photo_content_table.c.locale == get_lang)
"
34043,2292,wxPython - dynamially update a listctrl depending on input into a textctrl,"def OnSearch(self, event=None):

    value = self.filter.GetValue()
    if not value:
        self.RecreateTree()
        return

    wx.BeginBusyCursor()

    for category, items in _treeList:
        self.searchItems[category] = []
        for childItem in items:
            if SearchDemo(childItem, value):
                self.searchItems[category].append(childItem)

    wx.EndBusyCursor()
    self.RecreateTree()    
"
20657,8223,Python: login using 1 username but different passwords,"def login():
    username = raw_input('username: ')

    if username != 'pi':
        # if 'pi' is not entered i want to print out 'restricted'
        return 'restricted'

    # if the correct user name is returned 'pi' I want to be
    # prompted to enter a password .
    password = raw_input('password: ')

    if password == '123':
        # if password is '123' want it to grant access
        # aka ' print out 'welcome'
        return 'welcome'

    if password == 'guest':
        # this is where the second password is , if 'guest'
        # is entered want it to grant access to different
        # program aka print 'welcome guest'
        return 'welcome guest'

    # wrong password. I believe you might want to return some other value
"
5443,40686,"Print data in a dictionary nested in a dictionary, in a nice way?","from pprint import pprint
pprint(dict(dictionary))
"
18775,81634,Using user input to create dictionaries in Python,"cancel = False
class_list = []

while (True):
    name = input(""Give the name of the user you want to add: "")
    homework = [int(i) for i in input(""Homework marks (seperated by spaces): "").split("" "")]
    quizzes = [int(i) for i in input(""Quiz marks (seperated by spaces): "").split("" "")]
    tests = [int(i) for i in input(""Test marks (seperated by spaces): "").split("" "")]

    class_list.append({
        ""name"": name,
        ""homework"": homework,
        ""quizzes"": quizzes,
        ""tests"": tests
    })

    cont = input(""Want to add another? (Y/N)"")
    if cont == ""N"":
        break;

print(class_list)
"
16380,84441,unsigned long * buffer,"unsigned long BytesRead = 0;
long response = read_output(DeviceID, Buffer, strlen(Buffer), &BytesRead);
//                                                            ^^^^^^^^^^
"
39870,23983,How to call a Python function that is designed to work with command line arguments?,"In [13]: from tensorflow.models.embedding.word2vec_optimized import FLAGS
In [14]: from tensorflow.models.embedding.word2vec_optimized import main
In [16]: main(_)
--train_data --eval_data and --save_path must be specified.
An exception has occurred, use %tb to see the full traceback.
In [17]: FLAGS.train_data = ""this""
In [18]: FLAGS.eval_data = ""that""
In [19]: FLAGS.save_path = ""some_path""
In [20]: main(_)
I tensorflow/core/common_runtime/local_device.cc:40] Local device intra op parallelism threads: 8
"
14461,19173,Call bash script after exiting python program,"while :; do
    # Assuming you want to show the menu before you start a program:
    bash showMenu.py
    python myScript.py
    # When the above scripts exits the process will start all over again
    # You might want to consider checking the exit code and only continue if the program exits with status code 0
    # [ $? gt 0 ] && break
done
"
28561,44897,"python re, find expression containing an optional group",">>> import re
>>> string = ""(src://path/to/foldernames canhave spaces/file.xzy)""
>>> string2 = \
... '(src://path/to/foldernames canhave spaces/file.xzy ""optional string"")'
>>> re.findall(r'\((.*?)( "".*"")?\)', string2)
[('src://path/to/foldernames canhave spaces/file.xzy', ' ""optional string""')]
>>> re.findall(r'\((.*?)( "".*"")?\)', string)
[('src://path/to/foldernames canhave spaces/file.xzy', '')]
"
30777,22128,How to sort based on dependencies?,"def sort_deps(objs):
    queue = [objs with no dependencies]
    while queue:
        obj = queue.pop()
        yield obj
        for obj in objs:
            if dependencies are now satisfied:
                queue.append(obj)
    if not all dependencies are satisfied:
        error
    return result
"
17271,42360,Python dictionary: Remove all the keys that begins with s,"for k in dic.keys():
  if k.startswith('s_'):
    dic.pop(k)
"
2649,27570,Pythonic way to check if: all elements evaluate to False -OR- all elements evaluate to True,"def unanimous(it):
  it1, it2 = itertools.tee(it)
  return all(it1) or not any(it2)
"
24257,7993,overriding default format when printing a list of datetime objects,"In [6]: import datetime as dt

In [7]: date_list = [dt.date(2011, 5, 31), dt.date(2011, 6, 15)]

In [8]: print('[{}]'.format(', '.join(map(str,date_list))))
[2011-05-31, 2011-06-15]
"
9244,77210,regex multiline not working on repeated patterns,"\bSTDMETHOD\b((.|\n|\r)*?)\bPURE\b
"
35353,84285,1 Using the substitution method for solving recurrences 1,"from math import *

def f(x, y):
    return (3 * x) + (10 * y)

for x in range(5):
    for y in range(8):
        print ""f(%d, %d) = %d"" % (x, y, f(x, y))
"
23372,6052,How to run a function with Tastypie API request?,"from tastypie.resources import ModelResource
from tastypie.utils import trailing_slash


class LolResource(ModelResource):

    class Meta:
        resource_name = 'lol'
        allowed_methods = ['post']  # note that this resource just accept posts

    def base_urls(self):
        return [
            url(r""^(?P<resource_name>%s)%s$"" % (self._meta.resource_name, trailing_slash()), self.wrap_view('lol_api_function'), name=""api_lol_api_function""),
        ]

    def lol_api_function(self, request, **kwargs):
        # you function
        pass
"
20254,20219,"In Python, how do I search a flat file for the closest match to a particular numeric value?",">>> gen = (float(line.partition(' ')[0]) for line in open(fname))
>>> min(enumerate(gen), key=lambda x: abs(x[1] - a))
(3, 2.453454)
"
25651,49702,Working with datetime in Python,"# --- get your data into a DataFrame so I can play with it ...
#     first, put the data in a multi-line string (I would read it from a file
#     if I had it in a file - but for my purposes a string will do).
data = """"""
time name
20150426010203 name1 
20150426010303 name2
20150426010307 name3
20150426010409 name1
20150426010503 name4
20150426010510 name1""""""
#    second I will use StringIO and pandas.read_csv to pretend I am
#    reading it from a file.
from StringIO import StringIO # import from io in Python 3
df = pd.read_csv(StringIO(data), header=0, index_col=0, sep='\s+')
#    third, because pandas did not recognise the date-time format
#    of the column I made the index, I will force the string to be
#    converted to a pandas Timestamp come DatetimeIndex.
df.index = pd.to_datetime(df.index, format='%Y%m%d%H%M%S')

# number of events per minute
df['event'] = 1 # we will sum this to get events per time-period
dfepm = df.resample('1min', how=sum)

# number of events per hour
dfeph = df.resample('1h', how=sum)

# time differences by name
del df['event'] # we don't need this anymore
df['time'] = df.index
df['time_diff_by_name'] = df.groupby('name')['time'].diff()
"
34119,2451,"In Django, how to find a term that is part of a string instead of containing that string?",">>> sentence = 'A brown cat jumps over a person'
>>> MyModel.objects.extra(where={""%s like CONCAT('%%', `name` ,'%%')""}, 
...                       params=[sentence]).values()
[{'id': 1L, 'name': u'brown cat'}, {'id': 3L, 'name': u'person'}]
"
28272,1364,Keep pandas structure with numpy/scikit functions,"In [15]: data = np.zeros((2,2))

In [16]: data
Out[16]: 
array([[ 0.,  0.],
       [ 0.,  0.]])

In [17]: from pandas import DataFrame

In [21]: df  = DataFrame(data, index = ['first', 'second'], columns=['c1','c2'])

In [22]: df
Out[22]: 
        c1  c2
first    0   0
second   0   0

In [26]: i = df.index

In [27]: c = df.columns

# generate new data as a numpy array    
In [29]: df  = DataFrame(np.random.rand(2,2), index = i, columns=c)

In [30]: df
Out[30]: 
              c1        c2
first   0.821354  0.936703
second  0.138376  0.482180
"
24976,82772,Python: Looping a certain amount of time in order different process,"import Tkinter
import tkFileDialog
import tkSimpleDialog
from tkFileDialog import askopenfilename
import os

# Set up GUI


def main():

    root = Tkinter.Tk(); 
    root.withdraw()

    # Prompt for user info
    File_number = tkSimpleDialog.askinteger(""File number"", 
                                            ""How many files do you want to compare?"")

    if not File_number:
        return

    user_fiels = []


    max_file_no = int(File_number)
    current_file = 1;

    while(current_file <= max_file_no):

        fileloc = tkFileDialog.askopenfilename(parent=root, title='Choose file {}'.format(current_file))

        if not fileloc:
            continue

        fileloc_name_clean = os.path.splitext(fileloc)[0]
        fileloc_name = os.path.basename(fileloc_name_clean)

        user_fiels.append([fileloc, fileloc_name_clean, fileloc_name])

        current_file += 1

        #print(fileloc_name_clean, fileloc_name)

    print(user_fiels) 

main()
"
3023,6972,Regex in Python,"import unittest

import re

# Verbose regular expression!  http://docs.python.org/library/re.html#re.X
p = r""""""

(?P<name>[^(]+)         # Match the pre-open-paren name.
\(                      # Open paren
(?P<fields>             # Comma-separated fields
    (?:
        [a-zA-Z0-9_-]+
        (?:,\ )         # Subsequent fields must separated by space and comma
    )*
    [a-zA-Z0-9_-]+       # At least one field. No trailing comma or space allowed.
)

\)                      # Close-paren
""""""

# Compiled for speed!
cp = re.compile(p, re.VERBOSE)

class Foo(object):
    pass


def validateAndBuild(s):
    """"""Validate a string and return a built object.
    """"""
    match = cp.search(s)
    if match is None:
        raise ValueError('Bad schema: %s' % s)

    schema = match.groupdict()
    foo = Foo()
    foo.name = schema['name']
    foo.fields = schema['fields'].split(', ')

    return foo



class ValidationTest(unittest.TestCase):
    def testValidString(self):
        s = ""schema(field1, field2, field3, field4, fieldn)""

        obj = validateAndBuild(s)

        self.assertEqual(obj.name, 'schema')

        self.assertEqual(obj.fields, ['field1', 'field2', 'field3', 'field4', 'fieldn'])

    invalid = [
        'schema field1 field2',
        'schema(field1',
        'schema(field1 field2)',
        ]

    def testInvalidString(self):
        for s in self.invalid:
            self.assertRaises(ValueError, validateAndBuild, s)


if __name__ == '__main__':
    unittest.main()
"
14846,80192,"2 OrderedDictionarys multiplying the two values, multiple keys","from collections import OrderedDict

A = OrderedDict({('a','b'): 4, ('b','a'): 5, ('b','c'): 2, ('a','c'): 6})
B = OrderedDict({'b': 2, 'c' : 5})

''' Method 1 quadratic '''
C = {}
for bk, bv in B.items():
    for ak, av in A.items():
        if bk == ak[1]:
            C[ak] = bv * av

print(C)

''' Method 2 linear '''
D = {}
for ak, av in A.items():
    if ak[1] in B:
        D[ak] = av * B[ak[1]]

print(D)

''' Method 3 linear one-liner '''
E = {ak: av * B[ak[1]] for ak, av in A.items() if ak[1] in B}

print(E)
"
31658,34211,NumPy - Efficient conversion from tuple to array?,"clientImage = np.asarray(bitmapBits, dtype=np.uint8).reshape(height, width, 4)
"
895,22196,Pythonic way to combine FOR loop and IF statement,"gen = (x for x in xyz if x not in a)

for x in gen:
    print x
"
4945,30289,How to use flask.jsonify and render a template in a flask route,"@app.route('/thankyou')
def thankyou():
    db = get_db()
    summary_cursor = db.execute('SELECT * FROM orders JOIN order_items USING (transaction_id) WHERE orders.transaction_id = (SELECT MAX(transaction_id) FROM orders)')
    summary = summary_cursor.fetchall()
    data = map(list, summary)
    print data
    if request.args['type'] == 'json':
        return jsonify(summary = data)
    else:
        return render_template('thankyou.html', summary=data))
"
2386,52766,"Reading Lines Between ""Name"" Lines into a Dictionary Python","name_dict = {} # create empty dictionary

with open (file_name, 'r') as fi: # open file

    for line in fi:               # iterate over the lines

        if line.startswith('>'):  # check for name line marker
            current_name = line.lstrip('>') # store name without angle bracket
            name_dict[current_name] = [] # create dictionary entry with empty list

        else:
            name_dict[current_name].append(line) # not a name line, add to current name's list of lines
"
27569,10639,Remove leading 0's for str(date),"'{0}/{1}/{2}'.format(d.month, d.day, d.year) // Python 2.6+

'%d/%d/%d' % (d.month, d.day, d.year)
"
28812,48975,Bash script to execute a python package on all files in a folder,"for x in folder_test/*
do
metl -m migration.pickle -t new_migration.pickle -s ""${x}"" config3.yml
done
"
30156,50170,"Adding a line to a CSV file, without changing its format (Python)","final_file = csv.writer(open('FinalLogFile.csv', 'wb'), delimiter=""\t"")
...
    row.append(total_value)
    final_file.writerow(row)
...
"
23042,1952,PYTHON subprocess cmd.exe closes after first command,"import subprocess
import threading
import Queue

def read_stdout(stdout, queue):
    while True:
        queue.put(stdout.readline()) #This hangs when there is no IO

process = subprocess.Popen('cmd.exe', shell=False, stdout=subprocess.PIPE, stdin=subprocess.PIPE)
q = Queue.Queue()
t = threading.Thread(target=read_stdout, args=(process.stdout, q))
t.daemon = True # t stops when the main thread stops
t.start()

while True:
    x = raw_input(""insert a command \n"")
    if x == ""x"":
        break
    process.stdin.write(x + ""\n"")
    o = []
    try:
        while True:
            o.append(q.get(timeout=.1))
    except Queue.Empty:
        print ''.join(o)
"
26220,56171,Reverse words in string - same order - including whitespace,"def reverse_words(string): # don't name your own object str
    return ' '.join([word[::-1] for word in 
                     string.split(' ')])
"
28354,83564,Assigning Tasks to People,"In [32]: import random
In [33]: task_list = ['task_%d' % (i,) for i in range(1, 17)]

In [34]: random.shuffle(task_list)

In [35]: persons = zip(*[iter(task_list)]*4)

In [36]: persons
Out[36]: 
[('task_7', 'task_2', 'task_15', 'task_13'),
 ('task_6', 'task_11', 'task_9', 'task_12'),
 ('task_5', 'task_10', 'task_4', 'task_1'),
 ('task_3', 'task_8', 'task_14', 'task_16')]
"
36313,45259,How to download a zip file from a site (python),"urlretrieve(your_url, your_zip_path)
"
20393,31087,Pygame checking for collision not working,"import pygame
import random

RED = (255,0,0)
WHITE = (255,255,255)
GREEN = (0,255,0)
BLUE = (0,128,255)

#------------------------------FUNCTIONS--------------------------------#
def main():

    pygame.init()
    display_width=460
    display_height=460
    gameDisplay = pygame.display.set_mode((display_width, display_height))
    pygame.display.set_caption('Snake')
    clock = pygame.time.Clock()
    FPS = 10

    schlange = Snake(gameDisplay, 220, 220, 20, 20, BLUE)
    essen = Food(gameDisplay)
    speed = (0,0)

    while True:
            #event loop
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                quit()
            if event.type == pygame.KEYDOWN:
                if event.key == pygame.K_UP:
                    speed = (0, -20)
                if event.key == pygame.K_DOWN:
                    speed = (0, 20)
                if event.key == pygame.K_LEFT:
                    speed = (-20, 0)
                if event.key == pygame.K_RIGHT:
                    speed = (20, 0)

        if pygame.Rect.colliderect(schlange.rect, essen.rect) == True:
            essen = Food(gameDisplay)
            schlange.eat()

        """""" ADDED """"""

        """""" I realized that you're storing the tail pieces in self.position.
            Iterating through this list and checking for collisions seems to do the trick.
            Skip check when there's only one element in schlange.position to avoid a collision as soon as the game starts.
            Now you probably just need to prevent the snake from going straight back 
            into itself (180 degree turn) since that would trigger a collision that you might not want """"""

        if len(schlange.position) > 1:
            for coords in schlange.position:
                if pygame.Rect.colliderect(schlange.rect, pygame.Rect(coords[0], coords[1], schlange.width, schlange.height)) == True:
                    print('rip')
                    pygame.quit()
                    quit()            

        """""" /ADDED """"""


        schlange.move(speed[0], speed[1])
        essen.spawn()
        clock.tick(FPS)
        pygame.display.update()

#------------------------------CLASSES---------------------------------#
class Snake():
    def __init__(self, screen, startx, starty, width, height, color):
        self.screen = screen
        self.startx = startx
        self.starty = starty
        self.width = width
        self.height = height
        self.color = color
        self.amount_tiles = 5
        self.tile = 0
        self.position = []
        self.rect = pygame.Rect(startx, starty, width, height)
        pygame.draw.rect(screen, color, self.rect)

    def move(self, x_change, y_change):
        self.screen.fill(WHITE)
        self.x_change = x_change
        self.y_change = y_change
        self.position.insert(0, (self.startx, self.starty))

        self.pos = self.position[self.tile]

        '''self.add_tile()'''
        self.existing_tiles()

        self.startx += x_change
        self.starty += y_change
        self.rect = pygame.Rect(self.startx, self.starty, self.width, self.height)
        pygame.draw.rect(self.screen, self.color, self.rect)


        """""" ADDED """"""

        """""" You kept adding to self.position but never deleted any elements. 
            That's unnecessary and would eventually cause a MemoryError """"""

        if len(self.position) > self.tile+1:
            del self.position[-1]

        """""" /ADDED """"""

    def existing_tiles(self):
        self.count = self.tile

        while self.count > 0:
            self.current_pos = self.position
            x = self.current_pos[self.count - 1]
            self.rect_new = pygame.Rect(x[0], x[1], self.width, self.height)
            pygame.draw.rect(self.screen, GREEN, self.rect_new)
            self.count = self.count - 1


    '''def add_tile(self):
        x = self.pos[0]
        y = self.pos[1]
        pygame.draw.rect(self.screen, GREEN, (x, y, self.width, self.height))'''

    def eat(self):
        self.amount_tiles += 1
        self.tile += 1




class Food():

    def __init__(self, screen):
        self.screen = screen
        self.width = 20
        self.height = 20
        self.spawnx = random.randrange(0, 460, 20)
        self.spawny = random.randrange(0, 460, 20)
        self.rect = pygame.Rect(self.spawnx, self.spawny, self.width, self.height)

    def spawn(self):
        pygame.draw.rect(self.screen, RED, self.rect)




if __name__ == '__main__':
    main()
"
12376,81471,How to sort by value efficiently in PySpark?,"b = sc.parallelize([('t', 3),('b', 4),('c', 1)])
bSorted = b.sortBy(lambda a: a[1])
bSorted.collect()
...
[('c', 1),('t', 3),('b', 4)]
"
27312,19877,Pass variables to all Jinja2 templates with Flask,"@app.context_processor
def inject_dict_for_all_templates():
    return dict(mydict=code_to_generate_dict())
"
22269,54674,How do I print functions as they are called,"def tracefunc(frame, event, arg, indent=[0]):
      if event == ""call"":
          indent[0] += 2
          print ""-"" * indent[0] + ""> call function"", frame.f_code.co_name
      elif event == ""return"":
          print ""<"" + ""-"" * indent[0], ""exit function"", frame.f_code.co_name
          indent[0] -= 2
      return tracefunc

import sys
sys.settrace(tracefunc)

main()   # or whatever kicks off your script
"
2317,82733,"regex with quotes, equal sign and dot for attribute/value pair",">>> import re
>>> s = '''KeylessBuy=f and not (Feedback.color = green or comment.color=green) 
and not ""BIN State"".color = white and comment=""got it right""'''
>>> m = re.findall(r'(?:[\w.]+|""[^=]*)\s*=\s*(?:\w+|""[^""]*"")', s)
>>> for x in m:
...     print x

KeylessBuy=f
Feedback.color = green
comment.color=green
""BIN State"".color = white
comment=""got it right""
"
14128,11409,Selenium - 'site' object has no attribute 'find_element_by_link_text',"from selenium import webdriver

driver = webdriver.Firefox()
driver.get(""http://www.python.org"")
driver.implicitly_wait(10)
elem = driver.find_element_by_link_text(""About"")
driver.implicitly_wait(10)
elem.click()
"
1876,34744,Get list based on occurrences in unknown number of sublists,"from collections import defaultdict

d = defaultdict(int)

for sub in outer:
  for val in sub:
    d[val] += 1

print sorted(d.keys(), key=lambda k: d[k], reverse = True)
# Output: [4, 2, 3, 1, 5, 6]
"
9474,22003,How many items in a dictionary share the same value in Python,"import itertools
x = {""a"": 600, ""b"": 75, ""c"": 75, ""d"": 90}
[(k, len(list(v))) for k, v in itertools.groupby(sorted(x.values()))]
"
3883,60496,Remove strings from a list that contains numbers in python,"[x for x in my_list if not any(c.isdigit() for c in x)]
"
2168,34359,Catching Terminal Output in Python,"import os
import signal
import subprocess
import sys

p = subprocess.Popen(['ping', 'google.com'], stdout=subprocess.PIPE)
while True:
    line = p.stdout.readline()

    sys.stdout.write(line)
    sys.stdout.flush()
    if '10' in line:
        break

p.kill()
"
10846,62705,What range function does to a python list?,"li = [0,1]
li[1] = li    # [0, [...]]
              # ^----v
id(li)        # 2146307756
id(li[1])     # 2146307756
"
26255,33239,Having Trouble scraping,"def pageDownload(webPage):
    # Downloads the page

    while not url.endswith('appendixc'):
        print('Downloading page %s...' % url)
        res = requests.get(url)
        res.raise_for_status()

        soup = bs4.BeautifulSoup(res.text)

        return soup

def getProjects(downloadedPage):
    # gets the projects contents

    soup = downloadedPage
    book =  soup.find_all('div', {'class': ""book"", 'title' : 'Practice Projects'})
    print(book)
"
23165,51752,Replace column in csv with modified column,"with open(filepath1, 'rb') as fin, open(filepath2, 'wb') as fout:
    reader = csv.reader(fin)
    writer = csv.writer(fout, quoting=csv.QUOTE_NONNUMERIC)
    for _ in xrange(4):  # copy first 4 header rows
        writer.writerow(next(reader))
    for row in reader:  # process data lines
        row[0] = row[0][:19] # strip fractional seconds from first column
        writer.writerow([row[0], int(row[1])] + map(float, row[2:]))
"
3175,41285,How to load a pickle object and resolve certain references,"import pickle

class ContextAwarePickler(pickle.Pickler):
    def persistent_id(self, obj):
        # if this is a context, return the key
        if isinstance(obj, Context):
            return (""Context"", context.key)

        # pickle as usual
        return None


class ContextAwareUnpickler(pickle.Unpickler):
    def recover_context(self, key_id):
        ...

    def persistent_load(self, pid):
        type_tag, key_id = pid
        if type_tag == ""Context"":
            return self.recover_context(key_id)
        else:
            raise pickle.UnpicklingError(""unsupported persistent object"")
"
30143,61348,How to normalize IPv6 ip using TCL/Perl?,"$ perl -MNet::IP=:PROC -le'print ip_expand_address(""fe80::1"", 6);'
fe80:0000:0000:0000:0000:0000:0000:0001
"
2699,33665,Extracting multiple matches using Regex in Python,"# -*- coding: utf-8 -*-
import re

s = r'#EXTM3U\n#EXT-X-VERSION:3\n#EXT-X-TARGETDURATION:17\n#EXT-X-MEDIA-SEQUENCE:1\n#EXTINF:16.667,\nmedia_1.ts?wowzasessionid=184420502\n#EXTINF:16.666,\nmedia_2.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_3.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_4.ts?wowzasessionid=184420502\n#EXTINF:16.666,\nmedia_5.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_6.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_7.ts?wowzasessionid=184420502\n#EXTINF:16.666,\nmedia_8.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_9.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_10.ts?wowzasessionid=184420502\n#EXTINF:16.666,\nmedia_11.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_12.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_13.ts?wowzasessionid=184420502\n#EXTINF:16.666,\nmedia_14.ts?wowzasessionid=184420502\n#EXTINF:16.667,\nmedia_15.ts?wowzasessionid=184420502'
pattern = r""""""
\\        # Match literal backslash
nmedia_   # Match the text 'nmedia_'
(         # Begin capturing group 1.
\d+       # Match one or more digits.
)         # End capturing group 1.
\.        # Match a literal dot.
ts        # Match the text 'test'
""""""
pattern_match = re.compile(pattern, re.VERBOSE)
match = pattern_match.findall(s)
print(match)
#['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15']
"
7312,71930,Django - custom admin page not releated to a model,"def get_admin_urls(urls):
    def get_urls():
        my_urls =  patterns('',
           url(r'^$', YourCustomView,name='home'), 
        )
        return my_urls + urls
    return get_urls

admin.autodiscover()

admin_urls = get_admin_urls(admin.site.get_urls())
admin.site.get_urls = admin_urls
"
8012,44916,How would you make this Python Dictionary thread-safe?,"import threading
lock = threading.Lock()

shared_dict = {}

def do_thing(user, value):
    lock.acquire()
    try:
        shared_dict[user] = value
    finally:
        # Always called, even if exception is raised in try block
        lock.release()
"
13120,21856,removing first line from auto generated text output,"java -cp stanford-ner.jar edu.stanford.nlp.ie.NERServer -port 9191 -client < input.txt | tail -n +2 > r.txt
"
10086,24947,Detect how I run Python script,"import sys
in_console = sys.__stdin__.isatty()
"
4698,47982,What is the best way to extract load average float values from a string in Python?,"# s is the string to parse
loadavg = [float(x) for x in s.rsplit('load average: ', 1)[1].split(', ')]
"
24729,62751,py.test: Temporary folder for the session scope,"@pytest.fixture(scope='session')
def sessiondir(request):
    dir = py.path.local(tempfile.mkdtemp())
    request.addfinalizer(lambda: dir.remove(rec=1))
    # Any extra setup here
    return dir

@pytest.fixture
def dir(sessiondir, tmpdir):
    sessiondir.copy(tmpdir)
    return tmpdir
"
29656,82860,Specify dynamic shape as an input argument,"x = tf.placeholder(tf.float32, [None, 3])
r = tf.random_uniform(tf.shape(x)[0:1])
"
22995,60610,Python CSV.Writer changing saving path,"   import tkinter
   from tkinter.filedialog import asksaveasfilename

   with open(asksaveasfilename(), 'w') as fp:
"
24240,20955,save RData workspace in Python using rpy2,"from rpy2.robjects.packages import importr
base = importr('base')
base.save_image(<arguments here...>)
"
25394,22350,Input of a function contains output of another function,"def func1():
    return 10, 20


def func2(x, y):
    return x + y

results = func2(*func1())
print results

--output:--
30
"
36680,79209,Python Urllib Query,"for i in range(0, 20):
    # Put the full URL below, I've put ... to shorten it
    url = 'http://ecorp.azcc.gov/...CurrentPageIndex={}...'.format(i)
    fhand = urllib.urlopen(url)
    # do something with fhand
"
9019,36191,How to loop through the list of .tar.gz files using linux command in python,"import os
import glob

inF = glob.glob('~/TargetData/zip/*.tar.gz')
if inF:
    for files in inF:
    # consider subprocess.call() instead of os.system
    unzip_name = files.replace('zip', 'unzip')[:-7]
    # get directory name and make sure it exists, otherwise create it
    unzip_dir = os.path.dirname(unzip_name)
    if not os.path.exists(unzip_dir):
        os.mkdir(unzip_dir)
    subprocess.call(['tar -xzf', files, '-C', unzip_name])
    # os.system('tar -czf files /unzip/files[:-7]')
"
34716,43753,python list of dictionaries sort multiple keys,"everything.sort(key=lambda x: (
    '/'.join(x['path'].split('/')[:-1]),
    x['type'],
    ''.join(x['path'].split('/')[-1:]),
  )
)
"
31903,61630,alligment of objects in wxpython,"#!/usr/bin/env python
import wx
class MyFrame(wx.Frame):
    def __init__(self, parent, ID, title):
        wx.Frame.__init__(self, parent, ID, title, wx.DefaultPosition)
        Buttons = []
        Buttons.append(wx.Button(self,-1, ""Approve Location""))
        Buttons.append(wx.Button(self,-1, ""Approve Item""))
        Buttons.append(wx.Button(self,-1, ""Change Qty""))
        Buttons.append(wx.Button(self,-1, ""Approve""))
        sizer = wx.GridBagSizer(5,3)
        sizer.Add(Buttons[0], (0, 5), (1,1), wx.EXPAND)
        sizer.Add(Buttons[1], (1, 4), (1,1), wx.EXPAND)
        sizer.Add(Buttons[2], (1, 5), (1,1), wx.EXPAND)
        sizer.Add(Buttons[3], (2, 5), (1,1), wx.EXPAND)
        self.SetSizerAndFit(sizer)
        self.Centre()
class MyApp(wx.App):
    def OnInit(self):
        frame = MyFrame(None, -1, ""Gridbagsizer"")
        frame.Show(True)
        self.SetTopWindow(frame)
        return True
if __name__ == ""__main__"":
    app = MyApp(0)
    app.MainLoop()
"
19227,66707,SQL Alchemy group_by in Query,"a1_avg = session.query(Table_A.a1_loc, Table_A.a1_group, func.avg(Table_A.a1_value).label('a1_avg'))\
         .filter(between(Table_A.a1_date, '2011-10-01', '2011-10-30'))\
         #.filter(Table_A.a1_id == '12')\ # @note: you do NOT NEED this
         .group_by(Table_A.a1_loc)\ # @note: you NEED this
         .group_by(Table_A.a1_group)
"
26751,43978,Reading back tuples from a csv file with pandas,">>> df = pd.read_csv(""sillytup.csv"", converters={""colA"": ast.literal_eval})
>>> df
   index    colA
0      1  (a, b)
1      2  (c, d)

[2 rows x 2 columns]
>>> df.colA.iloc[0]
('a', 'b')
>>> type(df.colA.iloc[0])
<type 'tuple'>
"
39557,68441,can not hear the sound from pygame,"import pygame,time,sys

#pygame.init()
pygame.mixer.init(frequency=22050, size=-16, channels=2, buffer=4096)
print ""Mixer settings"", pygame.mixer.get_init()
print ""Mixer channels"", pygame.mixer.get_num_channels()
pygame.mixer.music.set_volume(1.0)
pygame.mixer.music.load(""2.mp3"")
pygame.mixer.music.play()

clock = pygame.time.Clock()
while pygame.mixer.music.get_busy():
   # check if playback has finished
   clock.tick(30)
"
756,43433,Access to the values of set(),">>> a
set([1, 2, 3])
>>> list(a)
[1, 2, 3]
"
18845,31256,How do i print/return the number of lines in a file,"counter = len(f.readlines())
"
18413,57156,Python multiprocessing pool force distribution of process,"sub_logger = None

def get_logger():
    global sub_logger
    if sub_logger is None:
        # configure logger

    return sub_logger

def worker1():
    logger = get_logger()
    # DO WORK

def worker2():
    logger = get_logger()
    # DO WORK

pool = multiprocessing.Pool(processes=multiprocessing.cpu_count())
result = pool.map_async(worker1, some_data)
result.get()
result = pool.map_async(worker2, some_data)
result.get()
# and so on and so forth
"
22611,421,Using subprocess with openssl in a python script,"from plubum.cmd import openssl

with open('file') as f:
    for ip_code in f:
        (openssl['whatever', 'params'] << ip_code)()
"
12842,55073,Decorators changing arguments to a function,"new_args = [arg.upper() for arg in args]
return func(*new_args)
"
23398,64424,Better way to represent Many to many relationship in django admin,"class Product(models.Model):
    name    = models.CharField(max_length = 100)
    base_price = models.DecimalField(max_digits = 5, decimal_places = 2)


    def __unicode__(self):
        return self.name


class Country(models.Model):
    name = models.CharField(max_length = 2)
    base_price = models.DecimalField(max_digits = 5, decimal_places = 2)    
    products = models.ManyToManyField(Product, through = 'CountryProduct')

    def __unicode__(self):
        return self.name


class CountryProduct(models.Model):
    country = models.ForeignKey(Country)
    product = models.ForeignKey(Product)
    overriden_price = models.DecimalField(max_digits = 5, decimal_places = 2)

    class Meta:
        unique_together = ((""country"", ""product""),)


class CountryProductInline(admin.TabularInline):
    model = CountryProduct

class CountryAdmin(admin.ModelAdmin):
    inlines = [CountryProductInline]

class ProductAdmin(admin.ModelAdmin):
    inlines = [CountryProductInline]
"
7332,34123,Can I read an `export`ed variable from a python script?,"import os

a = os.environ['a']
"
28496,80499,Reading gzipped text file line-by-line for processing in python 3.2.6,"for line in open(' *< resulting file >* ','r'):
    if line[:1] != '>':
        out.write(line)
        continue

    chromname = match2chrom(line[1:-1])
    seqname = line[1:].split()[0]

    print('>{}'.format(chromname), file=out)
    print('{}\t{}'.format(seqname, chromname), file=mappingout)  
"
12662,16416,How to send POST request with search term obtained from autocomplete in Django,"$(""#id_of_form"").attr(""action"", ""/builds/show/"" + $(""#id_postField"").val())
"
33654,28299,I need to improve python function that works with loops and string how it does?,"def createPath(self, path, NameOfFile ):

    NameOfFile_ = []
    for obj in NameOfFile:
        name = ''.join(chr(i) for i in obj)
        name = name.replace(""aaaa"",""bbbb"")
        NameOfFile_.append(name)

    temp = []
    for j in range(path.shape[0]): 
        rr = path[j][0]
        temp.append(NameOfFile_[rr])

    return np.array(temp)
"
25494,30408,Querying of a point is within a mesh maya python api,"import maya.cmds as cmd
import maya.OpenMaya as om 

def test_if_inside_mesh(point=(0.0, 0.0, 0.0), dir=(0.0, 0.0, 1.0)):
    sel = om.MSelectionList()
    dag = om.MDagPath()

    #replace torus with arbitrary shape name
    sel.add(""pTorusShape1"")
    sel.getDagPath(0,dag)

    mesh = om.MFnMesh(dag)

    point = om.MFloatPoint(*point)
    dir = om.MFloatVector(*dir)
    farray = om.MFloatPointArray()

    mesh.allIntersections(
            point, dir,
            None, None,
            False, om.MSpace.kWorld,
            10000, False,
            None, # replace none with a mesh look up accelerator if needed
            False,
            farray,
            None, None,
            None, None,
            None
        ) 
    return farray.length()%2 == 1   

#test
cmd.polyTorus()
print test_if_inside_mesh()
print test_if_inside_mesh((1,0,0))
"
7894,68279,How do I set a session to expire within 4 minutes?,"from datetime import datetime, timedelta

request.session['x'] = dict(dt=datetime.now(), value='something')

MAX_AGE = timedelta(seconds=240)

if ('x' in request.session and datetime.now() - request.session['x']['dt'] > MAX_AGE):
    del request.session['x']
"
19811,7392,Serve static files with Eve,"@app.route('/')
def index():
    return app.send_static_file('index.html')

app.run(host=""0.0.0.0"", debug=True)
"
11429,53390,Shortening a list,"while list[0] == 0:
   list.pop(0)
while list[-1] == 0:
   list.pop()
"
10506,75018,"Python loop index of key, value for-loop when using items()","for index, (key, value) in enumerate(mydict.items()):
    print index, key, value
"
4927,34716,Python Itertools.Permutations(),"list(map("""".join, itertools.permutations('1234')))
"
9877,1779,Kivy Refractoring,"from kivy.app import App
from kivy.uix.label import Label
from kivy.uix.textinput import TextInput
from kivy.uix.button import Button
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.anchorlayout import AnchorLayout


class Query(AnchorLayout):
    def __init__(self, **kwargs):
        super(Query, self).__init__(**kwargs)
        self.anchor_x = 'left'
        self.anchor_y='top'

        box = BoxLayout()

        upc_l = Label(text='UPC:', font_size=40, size_hint_y=None,
                      size_hint_x=None, height=50, width=100,)
        entry = TextInput(font_size=40, size_hint_y=None, size_hint_x=None,
                          height=50, width=350)
        search_b = Button(text='Search', font_size=40, size_hint_y=None,
                          size_hint_x=None, height=50, width=200)

        box.add_widget(upc_l)
        box.add_widget(entry)
        box.add_widget(search_b)
        self.add_widget(box)


class MyApp(App):

    def build(self):
        return Query()


if __name__ == '__main__':
    MyApp().run()
"
12479,9105,Identifying keys by looking at values in a dictionary,"div={'a':(1,2,3,4),'b':[1,2],'c':(1,2,3,4)}
tup=(1,2,3,4)
for x in set(div):
    if div[x]==tup:
        div.pop(x)

print(div)        

{'b': [1,2]}
"
236,18054,why is xrange able to go back to beginning in Python?,">>> x = xrange(3)
>>> type(x)
<type 'xrange'>
>>> i = x.__iter__()
>>> type(i)
<type 'rangeiterator'>
"
30241,72882,Can I make IDLE shell show me the description of a function?,">>> def testfunc():
...     """""" My Docstrings """"""
...     print ""test""
... 

>>> testfunc.__doc__
' My Docstrings '
"
5527,42465,Equivalent of sqlall in Django 1.9?,"python manage.py sqlmigrate myapp 0001_initial
"
3845,58682,Why is Spark asking for a main method when I submit a python file?,"paul@ki6cq:~/spark/spark-1.3.0$ ./bin/spark-submit --master spark://192.168.1.10:7077 ./so2.py 
Spark assembly has been built with Hive, including Datanucleus jars on classpath
Picked up JAVA_TOOL_OPTIONS: -javaagent:/usr/share/java/jayatanaag.jar 
Using Spark's default log4j profile: org/apache/spark/log4j-defaults.properties
15/04/18 04:02:03 INFO SparkContext: Running Spark version 1.3.0
15/04/18 04:02:03 WARN Utils: Your hostname, ki6cq resolves to a loopback address: 127.0.1.1; using 192.168.1.105 instead (on interface wlan0)
15/04/18 04:02:03 WARN Utils: Set SPARK_LOCAL_IP if you need to bind to another address
15/04/18 04:02:03 INFO SecurityManager: Changing view acls to: paul
15/04/18 04:02:03 INFO SecurityManager: Changing modify acls to: paul
15/04/18 04:02:03 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: Set(paul); users with modify permissions: Set(paul)
15/04/18 04:02:03 INFO Slf4jLogger: Slf4jLogger started
15/04/18 04:02:03 INFO Remoting: Starting remoting
15/04/18 04:02:03 INFO Remoting: Remoting started; listening on addresses :[akka.tcp://sparkDriver@192.168.1.105:32834]
15/04/18 04:02:03 INFO Utils: Successfully started service 'sparkDriver' on port 32834.
15/04/18 04:02:03 INFO SparkEnv: Registering MapOutputTracker
15/04/18 04:02:03 INFO SparkEnv: Registering BlockManagerMaster
15/04/18 04:02:03 INFO DiskBlockManager: Created local directory at /tmp/spark-b583f6a0-5dba-4989-b439-35f8b9ab412b/blockmgr-f4afaee1-5f89-4d78-8963-8a3793374805
15/04/18 04:02:03 INFO MemoryStore: MemoryStore started with capacity 265.1 MB
15/04/18 04:02:03 INFO HttpFileServer: HTTP File server directory is /tmp/spark-e101e559-cc23-4d3c-b797-b5ec3849d3e0/httpd-f4642274-8197-4f3d-a589-fa6cf31c42e6
15/04/18 04:02:03 INFO HttpServer: Starting HTTP Server
15/04/18 04:02:03 INFO Server: jetty-8.y.z-SNAPSHOT
15/04/18 04:02:03 INFO AbstractConnector: Started SocketConnector@0.0.0.0:54950
15/04/18 04:02:03 INFO Utils: Successfully started service 'HTTP file server' on port 54950.
15/04/18 04:02:03 INFO SparkEnv: Registering OutputCommitCoordinator
15/04/18 04:02:04 INFO Server: jetty-8.y.z-SNAPSHOT
15/04/18 04:02:04 INFO AbstractConnector: Started SelectChannelConnector@0.0.0.0:4040
15/04/18 04:02:04 INFO Utils: Successfully started service 'SparkUI' on port 4040.
15/04/18 04:02:04 INFO SparkUI: Started SparkUI at http://192.168.1.105:4040
15/04/18 04:02:04 INFO Utils: Copying /home/paul/spark/spark-1.3.0/./so2.py to /tmp/spark-9b38ddf2-2fa8-478b-a2fc-10930f774824/userFiles-b32ad0f3-8599-4a34-acb2-72a149424908/so2.py
15/04/18 04:02:04 INFO SparkContext: Added file file:/home/paul/spark/spark-1.3.0/./so2.py at http://192.168.1.105:54950/files/so2.py with timestamp 1429344124054
15/04/18 04:02:04 INFO AppClient$ClientActor: Connecting to master akka.tcp://sparkMaster@192.168.1.10:7077/user/Master...
15/04/18 04:02:04 INFO SparkDeploySchedulerBackend: Connected to Spark cluster with app ID app-20150418080203-0000
15/04/18 04:02:04 INFO AppClient$ClientActor: Executor added: app-20150418080203-0000/0 on worker-20150418080134-spark1-37597 (spark1:37597) with 8 cores
15/04/18 04:02:04 INFO SparkDeploySchedulerBackend: Granted executor ID app-20150418080203-0000/0 on hostPort spark1:37597 with 8 cores, 512.0 MB RAM
15/04/18 04:02:04 INFO AppClient$ClientActor: Executor updated: app-20150418080203-0000/0 is now RUNNING
15/04/18 04:02:04 INFO AppClient$ClientActor: Executor updated: app-20150418080203-0000/0 is now LOADING
15/04/18 04:02:04 INFO NettyBlockTransferService: Server created on 58441
15/04/18 04:02:04 INFO BlockManagerMaster: Trying to register BlockManager
15/04/18 04:02:04 INFO BlockManagerMasterActor: Registering block manager 192.168.1.105:58441 with 265.1 MB RAM, BlockManagerId(<driver>, 192.168.1.105, 58441)
15/04/18 04:02:04 INFO BlockManagerMaster: Registered BlockManager
15/04/18 04:02:04 INFO SparkDeploySchedulerBackend: SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.0
15/04/18 04:02:04 INFO SparkContext: Starting job: runJob at PythonRDD.scala:356
15/04/18 04:02:04 INFO DAGScheduler: Got job 0 (runJob at PythonRDD.scala:356) with 1 output partitions (allowLocal=true)
15/04/18 04:02:04 INFO DAGScheduler: Final stage: Stage 0(runJob at PythonRDD.scala:356)
15/04/18 04:02:04 INFO DAGScheduler: Parents of final stage: List()
15/04/18 04:02:04 INFO DAGScheduler: Missing parents: List()
15/04/18 04:02:04 INFO DAGScheduler: Submitting Stage 0 (PythonRDD[1] at RDD at PythonRDD.scala:42), which has no missing parents
15/04/18 04:02:04 INFO MemoryStore: ensureFreeSpace(3464) called with curMem=0, maxMem=278019440
15/04/18 04:02:04 INFO MemoryStore: Block broadcast_0 stored as values in memory (estimated size 3.4 KB, free 265.1 MB)
15/04/18 04:02:04 INFO MemoryStore: ensureFreeSpace(2592) called with curMem=3464, maxMem=278019440
15/04/18 04:02:04 INFO MemoryStore: Block broadcast_0_piece0 stored as bytes in memory (estimated size 2.5 KB, free 265.1 MB)
15/04/18 04:02:04 INFO BlockManagerInfo: Added broadcast_0_piece0 in memory on 192.168.1.105:58441 (size: 2.5 KB, free: 265.1 MB)
15/04/18 04:02:04 INFO BlockManagerMaster: Updated info of block broadcast_0_piece0
15/04/18 04:02:04 INFO SparkContext: Created broadcast 0 from broadcast at DAGScheduler.scala:839
15/04/18 04:02:04 INFO DAGScheduler: Submitting 1 missing tasks from Stage 0 (PythonRDD[1] at RDD at PythonRDD.scala:42)
15/04/18 04:02:04 INFO TaskSchedulerImpl: Adding task set 0.0 with 1 tasks
15/04/18 04:02:06 INFO SparkDeploySchedulerBackend: Registered executor: Actor[akka.tcp://sparkExecutor@spark1:56010/user/Executor#1681345948] with ID 0
15/04/18 04:02:06 INFO TaskSetManager: Starting task 0.0 in stage 0.0 (TID 0, spark1, PROCESS_LOCAL, 1380 bytes)
15/04/18 04:02:06 INFO BlockManagerMasterActor: Registering block manager spark1:44331 with 265.1 MB RAM, BlockManagerId(0, spark1, 44331)
15/04/18 04:02:07 INFO BlockManagerInfo: Added broadcast_0_piece0 in memory on spark1:44331 (size: 2.5 KB, free: 265.1 MB)
15/04/18 04:02:07 INFO TaskSetManager: Finished task 0.0 in stage 0.0 (TID 0) in 1105 ms on spark1 (1/1)
15/04/18 04:02:07 INFO TaskSchedulerImpl: Removed TaskSet 0.0, whose tasks have all completed, from pool 
15/04/18 04:02:07 INFO DAGScheduler: Stage 0 (runJob at PythonRDD.scala:356) finished in 3.165 s
15/04/18 04:02:07 INFO DAGScheduler: Job 0 finished: runJob at PythonRDD.scala:356, took 3.342403 s
15/04/18 04:02:07 INFO SparkContext: Starting job: runJob at PythonRDD.scala:356
15/04/18 04:02:07 INFO DAGScheduler: Got job 1 (runJob at PythonRDD.scala:356) with 1 output partitions (allowLocal=true)
15/04/18 04:02:07 INFO DAGScheduler: Final stage: Stage 1(runJob at PythonRDD.scala:356)
15/04/18 04:02:07 INFO DAGScheduler: Parents of final stage: List()
15/04/18 04:02:07 INFO DAGScheduler: Missing parents: List()
15/04/18 04:02:07 INFO DAGScheduler: Submitting Stage 1 (PythonRDD[3] at RDD at PythonRDD.scala:42), which has no missing parents
15/04/18 04:02:07 INFO MemoryStore: ensureFreeSpace(4872) called with curMem=6056, maxMem=278019440
15/04/18 04:02:07 INFO MemoryStore: Block broadcast_1 stored as values in memory (estimated size 4.8 KB, free 265.1 MB)
15/04/18 04:02:07 INFO MemoryStore: ensureFreeSpace(3756) called with curMem=10928, maxMem=278019440
15/04/18 04:02:07 INFO MemoryStore: Block broadcast_1_piece0 stored as bytes in memory (estimated size 3.7 KB, free 265.1 MB)
15/04/18 04:02:07 INFO BlockManagerInfo: Added broadcast_1_piece0 in memory on 192.168.1.105:58441 (size: 3.7 KB, free: 265.1 MB)
15/04/18 04:02:07 INFO BlockManagerMaster: Updated info of block broadcast_1_piece0
15/04/18 04:02:07 INFO SparkContext: Created broadcast 1 from broadcast at DAGScheduler.scala:839
15/04/18 04:02:07 INFO DAGScheduler: Submitting 1 missing tasks from Stage 1 (PythonRDD[3] at RDD at PythonRDD.scala:42)
15/04/18 04:02:07 INFO TaskSchedulerImpl: Adding task set 1.0 with 1 tasks
15/04/18 04:02:07 INFO TaskSetManager: Starting task 0.0 in stage 1.0 (TID 1, spark1, PROCESS_LOCAL, 1380 bytes)
15/04/18 04:02:07 INFO BlockManagerInfo: Added broadcast_1_piece0 in memory on spark1:44331 (size: 3.7 KB, free: 265.1 MB)
15/04/18 04:02:07 INFO TaskSetManager: Finished task 0.0 in stage 1.0 (TID 1) in 57 ms on spark1 (1/1)
15/04/18 04:02:07 INFO TaskSchedulerImpl: Removed TaskSet 1.0, whose tasks have all completed, from pool 
15/04/18 04:02:07 INFO DAGScheduler: Stage 1 (runJob at PythonRDD.scala:356) finished in 0.058 s
15/04/18 04:02:07 INFO DAGScheduler: Job 1 finished: runJob at PythonRDD.scala:356, took 0.064265 s
15/04/18 04:02:07 INFO SparkContext: Starting job: runJob at PythonRDD.scala:356
15/04/18 04:02:07 INFO DAGScheduler: Got job 2 (runJob at PythonRDD.scala:356) with 1 output partitions (allowLocal=true)
15/04/18 04:02:07 INFO DAGScheduler: Final stage: Stage 2(runJob at PythonRDD.scala:356)
15/04/18 04:02:07 INFO DAGScheduler: Parents of final stage: List()
15/04/18 04:02:07 INFO DAGScheduler: Missing parents: List()
15/04/18 04:02:07 INFO DAGScheduler: Submitting Stage 2 (PythonRDD[4] at RDD at PythonRDD.scala:42), which has no missing parents
15/04/18 04:02:07 INFO MemoryStore: ensureFreeSpace(4872) called with curMem=14684, maxMem=278019440
15/04/18 04:02:07 INFO MemoryStore: Block broadcast_2 stored as values in memory (estimated size 4.8 KB, free 265.1 MB)
15/04/18 04:02:07 INFO MemoryStore: ensureFreeSpace(3756) called with curMem=19556, maxMem=278019440
15/04/18 04:02:07 INFO MemoryStore: Block broadcast_2_piece0 stored as bytes in memory (estimated size 3.7 KB, free 265.1 MB)
15/04/18 04:02:07 INFO BlockManagerInfo: Added broadcast_2_piece0 in memory on 192.168.1.105:58441 (size: 3.7 KB, free: 265.1 MB)
15/04/18 04:02:07 INFO BlockManagerMaster: Updated info of block broadcast_2_piece0
15/04/18 04:02:07 INFO SparkContext: Created broadcast 2 from broadcast at DAGScheduler.scala:839
15/04/18 04:02:07 INFO DAGScheduler: Submitting 1 missing tasks from Stage 2 (PythonRDD[4] at RDD at PythonRDD.scala:42)
15/04/18 04:02:07 INFO TaskSchedulerImpl: Adding task set 2.0 with 1 tasks
15/04/18 04:02:07 INFO TaskSetManager: Starting task 0.0 in stage 2.0 (TID 2, spark1, PROCESS_LOCAL, 1467 bytes)
15/04/18 04:02:07 INFO BlockManagerInfo: Added broadcast_2_piece0 in memory on spark1:44331 (size: 3.7 KB, free: 265.1 MB)
15/04/18 04:02:07 INFO TaskSetManager: Finished task 0.0 in stage 2.0 (TID 2) in 82 ms on spark1 (1/1)
15/04/18 04:02:07 INFO TaskSchedulerImpl: Removed TaskSet 2.0, whose tasks have all completed, from pool 
15/04/18 04:02:07 INFO DAGScheduler: Stage 2 (runJob at PythonRDD.scala:356) finished in 0.083 s
15/04/18 04:02:07 INFO DAGScheduler: Job 2 finished: runJob at PythonRDD.scala:356, took 0.088082 s
root
 |-- age: long (nullable = true)
 |-- name: string (nullable = true)

15/04/18 04:02:08 INFO BlockManager: Removing broadcast 2
15/04/18 04:02:08 INFO BlockManager: Removing block broadcast_2_piece0
15/04/18 04:02:08 INFO MemoryStore: Block broadcast_2_piece0 of size 3756 dropped from memory (free 277999884)
15/04/18 04:02:08 INFO BlockManagerInfo: Removed broadcast_2_piece0 on 192.168.1.105:58441 in memory (size: 3.7 KB, free: 265.1 MB)
15/04/18 04:02:08 INFO BlockManagerMaster: Updated info of block broadcast_2_piece0
15/04/18 04:02:08 INFO BlockManager: Removing block broadcast_2
15/04/18 04:02:08 INFO MemoryStore: Block broadcast_2 of size 4872 dropped from memory (free 278004756)
15/04/18 04:02:08 INFO BlockManagerInfo: Removed broadcast_2_piece0 on spark1:44331 in memory (size: 3.7 KB, free: 265.1 MB)
15/04/18 04:02:08 INFO ContextCleaner: Cleaned broadcast 2
15/04/18 04:02:08 INFO BlockManager: Removing broadcast 1
15/04/18 04:02:08 INFO BlockManager: Removing block broadcast_1
15/04/18 04:02:08 INFO MemoryStore: Block broadcast_1 of size 4872 dropped from memory (free 278009628)
15/04/18 04:02:08 INFO BlockManagerInfo: Removed broadcast_1_piece0 on spark1:44331 in memory (size: 3.7 KB, free: 265.1 MB)
15/04/18 04:02:08 INFO BlockManager: Removing block broadcast_1_piece0
15/04/18 04:02:08 INFO MemoryStore: Block broadcast_1_piece0 of size 3756 dropped from memory (free 278013384)
15/04/18 04:02:08 INFO BlockManagerInfo: Removed broadcast_1_piece0 on 192.168.1.105:58441 in memory (size: 3.7 KB, free: 265.1 MB)
15/04/18 04:02:08 INFO BlockManagerMaster: Updated info of block broadcast_1_piece0
15/04/18 04:02:08 INFO ContextCleaner: Cleaned broadcast 1
15/04/18 04:02:08 INFO SparkContext: Starting job: collect at /home/paul/spark/spark-1.3.0/./so2.py:25
15/04/18 04:02:08 INFO DAGScheduler: Got job 3 (collect at /home/paul/spark/spark-1.3.0/./so2.py:25) with 2 output partitions (allowLocal=false)
15/04/18 04:02:08 INFO DAGScheduler: Final stage: Stage 3(collect at /home/paul/spark/spark-1.3.0/./so2.py:25)
15/04/18 04:02:08 INFO DAGScheduler: Parents of final stage: List()
15/04/18 04:02:08 INFO DAGScheduler: Missing parents: List()
15/04/18 04:02:08 INFO DAGScheduler: Submitting Stage 3 (MapPartitionsRDD[14] at collect at /home/paul/spark/spark-1.3.0/./so2.py:25), which has no missing parents
15/04/18 04:02:08 INFO MemoryStore: ensureFreeSpace(9040) called with curMem=6056, maxMem=278019440
15/04/18 04:02:08 INFO MemoryStore: Block broadcast_3 stored as values in memory (estimated size 8.8 KB, free 265.1 MB)
15/04/18 04:02:08 INFO MemoryStore: ensureFreeSpace(6262) called with curMem=15096, maxMem=278019440
15/04/18 04:02:08 INFO MemoryStore: Block broadcast_3_piece0 stored as bytes in memory (estimated size 6.1 KB, free 265.1 MB)
15/04/18 04:02:08 INFO BlockManagerInfo: Added broadcast_3_piece0 in memory on 192.168.1.105:58441 (size: 6.1 KB, free: 265.1 MB)
15/04/18 04:02:08 INFO BlockManagerMaster: Updated info of block broadcast_3_piece0
15/04/18 04:02:08 INFO SparkContext: Created broadcast 3 from broadcast at DAGScheduler.scala:839
15/04/18 04:02:08 INFO DAGScheduler: Submitting 2 missing tasks from Stage 3 (MapPartitionsRDD[14] at collect at /home/paul/spark/spark-1.3.0/./so2.py:25)
15/04/18 04:02:08 INFO TaskSchedulerImpl: Adding task set 3.0 with 2 tasks
15/04/18 04:02:08 INFO TaskSetManager: Starting task 0.0 in stage 3.0 (TID 3, spark1, PROCESS_LOCAL, 1380 bytes)
15/04/18 04:02:08 INFO TaskSetManager: Starting task 1.0 in stage 3.0 (TID 4, spark1, PROCESS_LOCAL, 1467 bytes)
15/04/18 04:02:08 INFO BlockManagerInfo: Added broadcast_3_piece0 in memory on spark1:44331 (size: 6.1 KB, free: 265.1 MB)
15/04/18 04:02:09 INFO TaskSetManager: Finished task 0.0 in stage 3.0 (TID 3) in 905 ms on spark1 (1/2)
15/04/18 04:02:09 INFO TaskSetManager: Finished task 1.0 in stage 3.0 (TID 4) in 907 ms on spark1 (2/2)
15/04/18 04:02:09 INFO TaskSchedulerImpl: Removed TaskSet 3.0, whose tasks have all completed, from pool 
15/04/18 04:02:09 INFO DAGScheduler: Stage 3 (collect at /home/paul/spark/spark-1.3.0/./so2.py:25) finished in 0.908 s
15/04/18 04:02:09 INFO DAGScheduler: Job 3 finished: collect at /home/paul/spark/spark-1.3.0/./so2.py:25, took 0.916314 s
John
Sarah
"
9773,25728,QUiLoader.createWidget equivalent in PyQt,"from types import ModuleType

# dummy module
module = sys.modules['mylib.dummy'] = ModuleType('dummy')

if mode == 'FOO':
    module.TextEdit = FooTextEdit
    module.LineEdit = FooLineEdit
    module.PushButton = FooPushButton
elif mode == 'BAR':
    module.TextEdit = BarTextEdit
    module.LineEdit = BarLineEdit
    module.PushButton = BarPushButton
else:
    module.TextEdit = QTextEdit
    module.LineEdit = QLineEdit
    module.PushButton = QPushButton

# loadUi/loadUiType will add the following import line:
# from mylib.dummy import TextEdit, LineEdit, PushButton
WidgetUI = uic.loadUiType('mywidget.ui'))[0]
ui = WidgetUI()
"
38241,63275,Python find first instance of non zero number in list,">>> myList = [0.0 , 0.0, 0.0, 2.0, 2.0]
>>> next((i for i, x in enumerate(myList) if x), None) # x!= 0 for strict match
3
"
1216,28984,"Using MongoDB, how do you remove embedded document from a list based on a match","Main.objects(id=main_id).update_one(pull__values__id = Sub(Id=sub_id) ) 
"
34783,21220,About the use of seek on gzip files,"elif self.mode == READ:
    if offset < self.offset:
        # for negative seek, rewind and do positive seek
        self.rewind()
    count = offset - self.offset
    for i in range(count // 1024):
        self.read(1024)
    self.read(count % 1024)
"
32994,6029,Tensorflow RNN with varying length sentences,"seq_length = tf.placeholder(tf.int32)
outputs, states = rnn.rnn(cell, inputs, initial_state=initial_state, sequence_length=seq_length)

sess = tf.Session()
feed = {
    seq_lenght: 20,
    #other feeds
}
sess.run(outputs, feed_dict=feed)
"
19773,57141,How database Transaction work with application code,"with connection.cursor() as cursor:
    sql = ""SELECT `count` FROM `sometable` WHERE `name`=%s""
    cursor.execute(sql, ('somename',))
    result = cursor.fetchone()
    if result['count'] == 1:
        sql = ""UPDATE `sometable` SET `count`=%d WHERE `name`=%s and `count`=1""
        cursor.execute(sql, (10, 'somename'))
        if cursor.rowcount != 1:
            # another transaction updated the row already. Handle this gracefully.
            # you could elect to roll back here.
"
28649,64078,How to create a sorted list given two already sorted lists ( cannot modify either given lists ),"def merge_lists(list1, list2):
    sortedList = []
    pointer1 = 0
    pointer2 = 0

    while pointer1 < len(list1) and pointer2 < len(list2):
        if list1[pointer1] < list2[pointer2]:
            sortedList.append(list1[pointer1])
            pointer1 += 1
        elif list1[pointer1] > list2[pointer2]:
            sortedList.append(list2[pointer2])
            pointer2 += 1
        else:
            sortedList.append(list1[pointer1])
            pointer1 += 1

    while pointer1 < len(list1):
        sortedList.append(list1[pointer1])
        pointer1 += 1

    while pointer2 < len(list2):
        sortedList.append(list2[pointer2])
        pointer2 += 1

    return sortedList
"
11005,35771,"Compare two lists, find old (removed) and new (added) values",">>> old = 'ABCDEF'
>>> new = 'ABCDGHI'
>>> set(new) - set(old)
{'H', 'I', 'G'}
>>> set(old) - set(new)
{'F', 'E'}
"
15119,21788,Array of tuples: return unique values based on weights (Python),"d = {}
# Group the weights based on the indices
for wt, idx in test:
    d.setdefault(idx, []).append(wt)

# Create a new list with the max of weights and the index tuples
print [(max(d[idx]), idx) for idx in d]
# [(1.0, 1490), (1.0, 1491), (1.0, 2456), (0.75, 250), (1.0, 219), (1.0, 218)]
"
16864,14804,Amazon S3 boto - how to delete folder?,"for key in bucket.list(prefix='/your/directory/'):
    key.delete()
"
5401,50025,PYQT pass a function from one class to another window,"class createedditConvertorpage(QtGui.QMainWindow):
    def __init__(self,parent = None):
        QtGui.QWidget.__init__(self, parent)


def selectFilecsvtoxml(self):

        directory = QtGui.QFileDialog.getExistingDirectory(self, ""Pick a folder"")
        print directory
        self.listDirPath.setText(directory)

        for file_name in os.listdir(directory):
            if not file_name.startswith("".""):

                print (file_name) +  ""   this is selectFilcestoxml""
        self.directory = directory
        return directory

class readoutWindow(QtGui.QDialog):
def openTxt(self):
    directoryFile = createedditConvertorpage()
    dir1=directoryFile.selectFilecsvtoxml()
    print ""this s open text""
    print str(dir1)
    for file_name in dir1:
        if file_name.endswith("".txt""):
            print (file_name) +  ""   this is txt file""
"
13433,15096,how to make a recursive loop in python,"import urllib
from bs4 import BeautifulSoup

root_url = ""http://www.calaiswine.co.uk""
first_index_url =  '/products/type/all-wines/1.aspx'


def cycle_to_next_page(link):
    response = urllib.urlopen(root_url+link)
    soup = BeautifulSoup(response.read())
    # my bs4 use find_all instead
    items = [a.attrs.get('href') for a in soup.find_all('a', title=""Next"")]
    print items[0]
    if items[0]:
        # here is the recursive function call, do a proper return, not print
        return cycle_to_next_page(items[0])
    print ""crawling completed""
    return

# you can open your initial page with this function too
cycle_to_next_page(first_index_url)

#results:
/products/type/all-wines/2.aspx
/products/type/all-wines/3.aspx
/products/type/all-wines/4.aspx
...
"
37011,25491,Delegating dynamic object resolution to other instances,"using System;
using System.Dynamic;
using System.Linq.Expressions;

namespace ConsoleApplication10 {
    class Program {
        static void Main(string[] args) {
            dynamic dynamicObj = new MyDynamicObject(new TestPlugin());
            dynamicObj.Foo();
            dynamicObj.Bar();
            Console.ReadLine();
        }

    }

    public class TestPlugin {
        public void Foo() {
            Console.WriteLine(""TestPlugin Foo"");
        }

        public void Bar() {
            Console.WriteLine(""TestPlugin Bar"");
        }
    }

    class MyDynamicObject : IDynamicMetaObjectProvider {
        internal readonly object[] _plugins;

        public void Foo() {
            Console.WriteLine(""MyDynamicObject Foo"");
        }

        public void Bar() {
            Console.WriteLine(""MyDynamicObject Bar"");
        }

        public MyDynamicObject(params object[] plugins) {
            _plugins = plugins;
        }

        class Meta : DynamicMetaObject {
            public Meta(Expression parameter, BindingRestrictions restrictions, MyDynamicObject self)
                : base(parameter, restrictions, self) {
            }

            public override DynamicMetaObject BindInvokeMember(InvokeMemberBinder binder, DynamicMetaObject[] args) {                
                // get the default binding the language would return if we weren't involved
                // This will either access a property on MyDynamicObject or it will report
                // an error in a language appropriate manner.
                DynamicMetaObject errorSuggestion = binder.FallbackInvokeMember(this, args);

                // run through the plugins and replace our current rule.  Running through
                // the list forward means the last plugin has the highest precedence because
                // it may throw away the previous rules if it succeeds.
                for (int i = 0; i < Value._plugins.Length; i++) {
                    var pluginDo = DynamicMetaObject.Create(Value._plugins[i],
                        Expression.Call(
                            typeof(MyDynamicObjectOps).GetMethod(""GetPlugin""),
                            Expression,
                            Expression.Constant(i)
                        )
                    );

                    errorSuggestion = binder.FallbackInvokeMember(pluginDo, args, errorSuggestion);                    
                }

                // Do we want DynamicMetaObject to have precedence?  If so then we can do
                // one more bind passing what we've produced so far as the rule.  Or if the
                // plugins have precedence we could just return the value.  We'll do that
                // here based upon the member name.

                if (binder.Name == ""Foo"") {
                    return binder.FallbackInvokeMember(this, args, errorSuggestion);
                }

                return errorSuggestion;
            }

            public new MyDynamicObject Value {
                get {
                    return (MyDynamicObject)base.Value;
                }
            }
        }



        #region IDynamicMetaObjectProvider Members

        public DynamicMetaObject GetMetaObject(System.Linq.Expressions.Expression parameter) {
            return new Meta(parameter, BindingRestrictions.Empty, this);
        }

        #endregion
    }

    public static class MyDynamicObjectOps {
        public static object GetPlugin(object myDo, int index) {
            return ((MyDynamicObject)myDo)._plugins[index];
        }
    }
}
"
17635,47974,Decrement the Variable I'm Incrementing in for loop,"def remove_doubles(old):
    new = []
    for item in old:
        if new and item == new[-1]:
            continue
        new.append(item)
    return new
"
18000,53601,How do you find out if the string is a component of the preceding string,"def find_results(seq): #I'm sure you can name this function better
    return [seq[0]] + [current for previous, current in zip(seq, seq[1:]) 
                       if current in previous]
"
35193,6705,Python 3: list of 2 elements into dictionary,">>> a = [('John', 'first@email.com'), ('John', 'second@email.com'), ('Jack', 'third@email.com')]
>>> [dict([('sender', x[0]), ('email',x[1])]) for x in a]
[{'sender': 'John', 'email': 'first@email.com'}, {'sender': 'John', 'email': 'second@email.com'}, {'sender': 'Jack', 'email': 'third@email.com'}]
"
6946,10693,Append column to pandas dataframe,"> dat1 = pd.DataFrame({'dat1': [9,5]})
> dat2 = pd.DataFrame({'dat2': [7,6]})
> dat1.join(dat2)
   dat1  dat2
0     9     7
1     5     6
"
36168,80116,"Create Docusign envelope with REST API using document bytes: ""cannot convert""","    def makeBody(file_stream, envelopeDef):
    reqBody = ""\r\n\r\n--BOUNDARY\r\n"" + \
            ""Content-Type: application/json\r\n"" + \
            ""Content-Disposition: form-data\r\n"" + \
            ""\r\n"" + \
            envelopeDef + ""\r\n\r\n--BOUNDARY\r\n"" + \
            ""Content-Type: application/pdf\r\n"" + \
            ""Content-Disposition: file; filename=\""thesis.pdf\""; documentId=1\r\n"" + \
            ""\r\n""
    reqBody2 = ""\r\n"" + \
            ""--BOUNDARY--\r\n\r\n""

    body = b"""".join([bytes(reqBody, 'utf-8'), file_stream, bytes(reqBody2, 'utf-8')])
    return body
"
34885,23297,plt.bar (matplotlib in python) does not make bars,"import numpy as np
import matplotlib.pyplot as plt

values = (20, 35, 30, 35, 27, 12, 38)
index = np.array((-3000, -2000, -1000, 0, 1000, 2000, 3000))
barwidth = 400
plt.bar(index, values, barwidth)
plt.xticks(index + barwidth/2)
plt.show()
"
10565,55862,Programmatically figuring out if translated names are equivalent,"def normalize(name):
    name_parts = name.replace(""-"", "" "").split()
    return "" "".join(sorted(name_parts)).lower()
"
4044,61037,How to plot 3D data as 2D grid colormap in Python?,"import numpy as np
from matplotlib.mlab import griddata

x = np.array([0,0,1,1])
y = np.array([0,1,0,1])
z = np.array([0,10,20,30])
xi = np.arange(x.min(),x.max()+1)
yi = np.arange(y.min(),y.max()+1)
ar = griddata(x,y,z,xi,yi)

# ar is now
# array([[  0.,  20.],
#        [ 10.,  30.]])
"
12951,24712,Tornado mysteriously hanging after an async operation -- how can I debug?,"self.io_loop.add_timeout(time.time() + 8, lambda: self.stop(True))
still_running = self.wait(timeout=9)
self.assert_(still_running)
"
30375,84718,Is there any way to retrieve data from dictionary with a tuple?,"result = [dic[i] for i in tup]

print tuple(result)
(""alpha"", ""bad"", ""change"")
"
197,26603,Why is Python's enumerate so slow?,"$ python -mtimeit -s'lst=[1,2,3,0,1,2]*1000' 'for i in xrange(len(lst)): elem=lst[i]'
1000 loops, best of 3: 480 usec per loop
$ python -mtimeit -s'lst=[1,2,3,0,1,2]*1000' 'for i, elem in enumerate(lst): pass'
1000 loops, best of 3: 473 usec per loop
"
38249,50030,"Python sort list based on value in list, in list","In [13]: l.sort(key=operator.itemgetter(1))

In [14]: l
Out[14]: 
[['xyz', 6],
 ['xyz', 7],
 ['xyz', 17],
 ['xyz', 41],
 ['xyz', 52],
 ['xyz', 54],
 ['xyz', 62],
 ['xyz', 66],
 ['xyz', 68],
 ['xyz', 69]]
"
39098,82566,Comparing the first columns in two csv files using python and printing matches,"import csv
import io 

alist, blist = [], []

with open(""ngrams.csv"", ""rb"") as fileA:
    reader = csv.reader(fileA, delimiter=',')
    for row in reader:
        alist.append(row)
with open(""ngramstest.csv"", ""rb"") as fileB:
    reader = csv.reader(fileB, delimiter=',')
    for row in reader:
        blist.append(row)

f_dict = {e[0]:e[1:] for e in alist}
s_dict = {e[0]:e[1:] for e in blist}

res = {}
for k,v in f_dict.items():
    if k in s_dict:
        res[k] = float(v[1])/float(s_dict[k][1])

print(res)
"
33645,82713,Trying to use raw_input from another function,"...
        print ""...""
    dungeon_path(choice)

def dungeon_path(choice):
    if choice == ""dagger"":
        print ""Which way you choose rogue""
"
22215,63313,How do I repeat the program?,"while 1:
    math = input(""What Is 8 x 4: "")
    if not math.isdigit():
        print(""It's not number"")

    elif math == ""32"":
        print(""You Got The Question Correct"")
        break

    else:
        print(""Sorry You Got The Question Wrong Try Again"") 
"
19952,42980,is there a way to set name of a block using variables in django templates?,"def change_block_names(template, change_dict):
    """"""
    This function will rename the blocks in the template from the
    dictionary. The keys in th change dict will be replaced with
    the corresponding values. This will rename the blocks in the 
    extended templates only.
    """"""

    extend_nodes = template.nodelist.get_nodes_by_type(ExtendsNode)
    if len(extend_nodes) == 0:
        return

    extend_node = extend_nodes[0]
    blocks = extend_node.blocks
    for name, new_name in change_dict.items():
        if blocks.has_key(name):
            block_node = blocks[name]
            block_node.name = new_name
            blocks[new_name] = block_node
            del blocks[name]


tmpl_name = 'django-helpers/twitter-bootstrap/message.html'
tmpl1 = loader.get_template(tmpl_name)
change_block_names(tmpl1, {'main-contents': 'new-main-contents})
"
37269,21277,Find two of the same character in a string with regular expressions,"re.sub(r'([aeiou])\1', r'\1:', str)
"
33896,35126,Setting parameter names and defaults in method created at runtime,"def make_method(params):
    def impl(*args, **kwargs):
        # do stuff with args & kwargs
        print ""I was called with {args} and {kwargs}"".format(
            args=args,
            kwargs=kwargs)
        pass
    name = 'some_name'
    scope = dict(__impl=impl)
    exec """"""\
def {name}({pos_arg_defs}):
    'Very helpful function.'
    return __impl({pos_arg_names})
"""""".format(name=name,
           pos_arg_defs=', '.join('='.join((k, repr(v)))
                                  for k, v in params.iteritems()
                                  if v is not None),
           pos_arg_names=', '.join(k
                                   for k, v in params.iteritems()
                                   if v is not None)) in scope
    return scope[name]
"
5586,54273,How to convert the following list of lists into list of dictionaries in Python,"raw_data = [[""172.27.219.11"", ""First_Host"", 13L, Decimal(""44.8276"")],
 [""172.27.219.11"", ""Second_Host"", 16L, Decimal(""55.1724"")],
 [""172.27.241.210"", ""Second_Host"", 19L, Decimal(""100.0000"")],
 [""52.11.201.64"", ""First_Host"", 30L, Decimal(""3.9164"")],
 [""52.11.201.64"", ""Second_Host"", 736L, Decimal(""96.0836"")]]



final = [{'ip':j} for j in list(set([i[0] for i in raw_data]))]

for i in raw_data:
    for j in final:
        if i[0]== j['ip']:
            if j.has_key('value'):
                j['value'].append({'name':i[1],'traffic':float(i[3])})
            else:
                j['value'] = []
                j['value'].append({'name':i[1],'traffic':float(i[3])})
"
32683,4005,POST data using AJAX POST,"$('#edit_user_image').change(function(){
    var csrftoken = document.getElementsByName('csrfmiddlewaretoken')[0].value
    var formData = new FormData($(""#edit_user_image"")[0]);
    var formData = new FormData(); 
    formData.append(""file"", $('#edit_user_image')[0].files[0]);
    formData.append(""csrfmiddlewaretoken"", csrftoken);

    $.ajax({  
      type: ""POST"", 
      url: ""/upload-image/"",  
      data: formData, 
      contentType: false, 
      processData: false, 

    });  
  });
"
6924,80604,multiple file upload django,"var form_count = {{ formset.total_form_count }};
$('#add_form').click(function() {
    var form = $(""#empty_form"").html().replace(/__prefix__/g, form_count);
    $('#forms').append(form);
    form_count++;
    $('#id_form-TOTAL_FORMS').val(form_count);
});


<div id=""empty_form"" style=""display:none;"">
    {{ formset.empty_form.as_p }}
</div>
<div id=""add_form"">Add another form</div>
<form id=""forms"">
    {{ formset.management_form }}
    {% for form in formset %}
        {{ form.as_p }}
    {% endfor %}
</form>
"
16340,56061,How can one set the size of an igraph plot?,"visual_style[""layout""] = layout
visual_style[""bbox""] = (300, 300)
visual_style[""margin""] = 10
plot(g, **visual_style)
"
1894,54772,How to find out the date of the last Saturday in Linux shell script or python?,"$ date +""%b-%d-%Y"" -d ""last saturday""
Jul-13-2013
"
36050,35732,python log2 over index of list of lists,"import math
def function_name(lst, background):
    ab, cb, gb, tb = background[0], background[1], background[2], background[3]
    a, c, g, t = lst[0][:], lst[1][:], lst[2][:], lst[3][:]
    pos = 0
    IC = 0
    for pos in range(len(a)):
        loga = math.log(((a[pos])/ab), 2)
        logc = math.log(((c[pos])/cb), 2)
        logg = math.log(((g[pos])/gb), 2)
        logt = math.log(((t[pos])/tb), 2)
        ICi = (a[pos]*loga + c[pos]*logc + g[pos]*logg + t[pos]*logt)
        IC += ICi
    return IC
"
20358,6901,Splitting text by a Unicode script in Python,"import re
pattern = re.compile(ur'[\u0980-\u09FF]+', re.UNICODE)
words = re.findall(pattern, text)
"
37030,2509,MatPlotLib's ion() and draw() not working,"import matplotlib.pyplot as plt
import numpy as np
import time

fig = plt.figure()
ax = fig.add_subplot(111)

# some X and Y data
x = [0]
y = [0]

li, = ax.plot(x, y,'o')

# draw and show it
fig.canvas.draw()
plt.show(block=False)

# loop to update the data
for i in range(100):
    try:
        x.append(i)
        y.append(i)

        # set the new data
        li.set_xdata(x)
        li.set_ydata(y)

        ax.relim() 
        ax.autoscale_view(True,True,True) 

        fig.canvas.draw()

        time.sleep(0.01)
    except KeyboardInterrupt:
        plt.close('all')
        break
"
22797,31909,How to restrict setting an attribute outside of constructor?,"import operator

class Person(object):
    def __init__(self, name, ssn):
        self.name = name
        self._ssn = ssn
    ssn = property(operator.attrgetter(""_ssn""))
"
24063,46887,Improve code: test for key in dict and store in datastore,"def store_birthinfo(self, user, birthday):
    data = {}
    for key in 'date', 'place', 'country':
        data[key] = birthday.get(key, '')
    BirthInfo(user=user, **data).put()
"
20532,42043,Python combination and permuation code,"list(list(itertools.combinations(list(range(5)), i)) for i in range(2, 5))
"
12389,32132,Dictionary based switch-like statement with actions,"class TransformTable:
    target_dict = {}

    def productid(self, value):
        ...
    def name(self, value):
        validity_check(value)
        self.target_dict['Product'] = value.strip().capitalize()
    def description(self, value):
        ...

    def _default(self, value):
        sys.stderr.write('Unknown key!\n')

    def __call__(self, fieldname, value):
        getattr(self, fieldname, self._default)(value)

transformtable = TransformTable() # create callable instance

transformtable(fieldname, value) # use it
"
20828,69717,How to do a complex indexing query on a dataframe in a functional style,"dataframe_with_a_long_name.loc[lambda df: df.animals.str.contains('c')]

  animals
0     cat
"
22705,17390,python - Is there a way to multiple list element together using list comprehension only?,"from functools import reduce
r = reduce(lambda x,y: x*y, [1,2,3,4,5])
# r = 120
"
1415,15701,Beautiful Soup: not grabbing correct information,"import urllib2
test = {'A':'', 'B':'-B', 'XYZ': '-X-Y-Z'}
flower_list = []
for key, value in test.items():
     page = urllib2.urlopen('http://www.all-my-favourite-flower-names.com/list-of-flower-names{0}.html'.format(
value)).read()
     soup = BeautifulSoup(page)
     # Now do your logic or every page, and probably save the flower names in a list.
"
25855,66773,Applying if statement for the column in pandas,"    import pandas as pd
    import numpy as np
    df =   pd.DataFrame({'a':np.random.randn(10),'b':np.random.randn(10),'c':np.random.randn(10),'probability':np.random.randn(10)})
    df.b[0:4]=df.a[0:4]
    df.probability[2:7]=1
    df.c[8:10]=12

    #Set probability=0 where probability >0
    df['probability'][df['probability'] > 0.99] = 0.99

    #Set probability=0 where  column a = column b
    df['probability'] [df['a']==df['b']] = 0

    #Set probability=0 where  column c > 11
    df['probability'] [df['c']>11] = 0

    print df

      a         b          c            probability
      0.572290  0.572290  -0.479909     0.000000
     -1.046103 -1.046103  -1.640504     0.000000
     -0.395438 -0.395438  -0.506313     0.000000
      0.722509  0.722509   0.408912     0.000000
      1.293353  0.337776  -0.168297     0.990000
     -1.227133  0.723976   0.878665     0.990000
     -0.797757  0.915007  -1.672020     0.990000
      0.622970  0.030374   1.700830    -0.977129
     -0.831948 -0.084003  12.000000     0.000000
      0.285812 -0.110511  12.000000     0.000000
"
28111,585,Python regex: Finding input not matching a specific (variable-defined) length,"re.findall('(^[0-9]{0,%d}$|[0-9]{%d}[0-9])' % (columns, columns), s)
"
28566,81525,How can I put these numbers in list?,"result = []
while n != 1: 
      result.append(n) 
      if n % 2 == 0:
          n //= 2
      else:
          n = n * 3 + 1
result.append(n) 

print result
"
13209,50180,POST urls in tastypie,"class OrganisationCreateResource(ModelResource):
    create_user = fields.ForeignKey(PersonResource, 'create_user', null=True, full=True)
    update_user = fields.ForeignKey(PersonResource, 'update_user', null=True, full=True)
    location = fields.ForeignKey(LocationResource, 'location', null=True, full=True)
    class Meta:
        allowed_methods = ['post']
        queryset = Organization.objects.all()
        detail_uri_name = 'create'
        resource_name = 'organisation'
        authorization = Authorization()
        authentication = Authentication()
        always_return_data = True
   def prepend_urls(self):
        return [
            url(r'^(?P<resource_name>%s)/create/' % self._meta.resource_name, self.wrap_view('dispatch_detail'), name='api_dispatch_detail'),
        ]
"
23900,73263,scons : src and include dirs,"env=Environment(CPPPATH='/usr/include/glib-2.0/:/usr/lib/glib-2.0/include:include',
                CPPDEFINES=[],
                LIBS=['glib-2.0']) 

if ARGUMENTS.get('debug', 0):
    env.Append(CCFLAGS = ' -g')

env.Program('template', Glob('src/*.cc'))
"
23155,82168,Iterating nested Python dictionaries,"for key, value in dct.iteritems():
    if 'players' in value:
        for name, player in value['players'].iteritems():
            print name, player
"
22232,72454,memory management: open vs string-building,"with open(dest, ""a"") as file:
    for tweet in iterator_that_returns_tweets:
        file.write(json.dumps(tweet) + ""\n"")
"
13170,35169,If Statement on Dict,"from collections import Counter
def is_valid_word(word, hand, list):
    if word in my_list:
        return len(Counter(word) - Counter(hand)) == 0
    return False

my_list = ['peach', 'chayote']
hand = {'a': 1, 'c': 2, 'u': 2, 't': 2, 'y': 1, 'h': 1, 'z': 1, 'o': 2}

print is_valid_word(""chayote"", hand, my_list)
# False
print is_valid_word(""peach"", hand, my_list)
# False
"
34040,5342,How to parse url parameters in key:value format?,">>> import urlparse
>>>
>>> url = 'http://www.youtube.com/watch?v=cUjfXWuZySE&list=cUjfXWuZySE'
>>> parts = urlparse.urlparse(url)
>>> urlparse.parse_qs(parts.query)
{'list': ['cUjfXWuZySE'], 'v': ['cUjfXWuZySE']}
>>> {name:values[0] for name, values in urlparse.parse_qs(parts.query).iteritems()}
{'list': 'cUjfXWuZySE', 'v': 'cUjfXWuZySE'}
"
39610,79006,How to match a variable list of items separated by commas,">>> a=""CS 240, CS 246, ECE 222""
>>> b=tuple(a.strip() for a in a.split(','))
>>> b
('CS 240', 'CS 246', 'ECE 222')
>>> 
"
2825,77653,A list of Python Hooks?,"def trace(frame, event, arg_frame):
    print(frame.f_code.co_filename, frame.f_code.co_firstlineno)

sys.settrace(trace)
"
16418,50733,Condition not being met,"def scrambler(string):
    sen = ''
    for c in string:
        if c.lower() == 'k':
            sen += 'm'
        elif c.lower() == 'o':
            sen += 'q'
        elif c.lower() == 'e':
            sen += 'g'
        else:
            sen += c
    return sen

print scrambler('koe')
"
36672,23242,how to iterate rows and append column name,"In [1]: import pandas as pd

In [2]: data = pd.DataFrame({""Apple"": [False, False, False], ""Banana"": [False, True, False], ""Carrot"": [True, True, True], ""Mango"": [True, False, True]}, columns=[""Apple"", ""Banana"", ""Carrot"", ""Mango""])

In [3]: true_columns = []

In [4]: for index, row in data.iterrows():
   ...:     true_col_list = [col for col in data.columns if row[col]]
   ...:     true_columns.append("","".join(true_col_list))
   ...:

In [5]: data[""true_columns""] = true_columns

In [6]: data
Out[6]:
   Apple Banana Carrot  Mango   true_columns
0  False  False   True   True   Carrot,Mango
1  False   True   True  False  Banana,Carrot
2  False  False   True   True   Carrot,Mango
"
14600,2691,Can I have subprocess.call write the output of the call to a string?,">>> cmd = subprocess.Popen('ls', stdout=subprocess.PIPE)
>>> cmd_out, cmd_err = cmd.communicate()
"
25877,11289,Python: How to get group ids of one username (like id -Gn ),"#!/usr/bin/env python

import grp, pwd 

user = ""myname""
groups = [g.gr_name for g in grp.getgrall() if user in g.gr_mem]
gid = pwd.getpwnam(user).pw_gid
groups.append(grp.getgrgid(gid).gr_name)
print groups
"
30886,52677,Natural language processing - Ideas for beginner's projects,"text|is_spam
hi bob! how are you?|0
what time are you coming over|0
how to buy viagra now!|1
"
10538,44542,Reading lines from text file in python (windows),"foo
bar
"
14276,56697,How to check for a specific field change in a model?,"from django.forms.models import model_to_dict

class Currency(models.Mode):
    code = models.CharField(max_length=3)
    name = models.CharField(max_length=10)

    def __init__(self):
        super(Currency, self).__init__()
        self.__state = model_to_dict(self)

    def updated(self):
        new_state = model_to_dict(self)
        return dict(set(self.__state.iteritems()) - set(new_state.iteritems()))
"
26315,10923,python if-else statement returning true only for if condition,"if int(humidity)>75:
"
21275,44406,How do I get the key value of a db.ReferenceProperty without a database hit?,"class Comment(db.Model):
    series = db.ReferenceProperty(reference_class=Series);

    def series_id(self):
        return Comment.series.get_value_for_datastore(self)
"
33155,85013,Python: how to color the nodes of a network according to their degree?,"import numpy as np
import matplotlib.colors as mcolors
import networkx as nx
import matplotlib.pyplot as plt
n = 10000  # Number of nodes
m = 3  # Number of initial links
seed = 500
G = nx.barabasi_albert_graph(n, m, seed)

ncols = 100
pos = {i : (i % ncols, (n-i-1)//ncols) for i in G.nodes()}

fig, ax = plt.subplots()
degrees = G.degree() #Dict with Node ID, Degree
nodes = G.nodes()
n_color = np.asarray([degrees[n] for n in nodes])
sc = nx.draw_networkx_nodes(G, pos, nodelist=nodes, node_color=n_color, cmap='viridis',
                            with_labels=False, ax=ax, node_size=n_color)
# use a log-norm, do not see how to pass this through nx API
# just set it after-the-fact
sc.set_norm(mcolors.LogNorm())
fig.colorbar(sc)
"
9025,36744,Using a for loop to make multiple Python APLpy subplots,"for i in range(1,3):
    exec('f' + str(i) + '.show_grayscale()')
    exec('f' + str(i) + '.add_colorbar()')
    exec('f' + str(i) + '.frame.set_linewidth(0.75)')
"
37868,26460,Embed Matplotlib in PyQt with multiple plot,"import sys
from PyQt4 import QtGui
import matplotlib
import matplotlib.figure
from matplotlib.backends.backend_qt4agg import FigureCanvasQTAgg as FigureCanvas
from matplotlib.backends.backend_qt4agg import NavigationToolbar2QT as NavigationToolbar


class PrettyWidget(QtGui.QWidget):
    def __init__(self):
        super(PrettyWidget, self).__init__()
        self.initUI()

    def initUI(self):

        self.setGeometry(100, 100, 800, 600)
        self.center()
        self.setWindowTitle('S Plot')

        grid = QtGui.QGridLayout()
        self.setLayout(grid)

        btn1 = QtGui.QPushButton('Plot 1 ', self)
        btn1.resize(btn1.sizeHint())
        btn1.clicked.connect(self.plot1)
        grid.addWidget(btn1, 5, 0)

        btn2 = QtGui.QPushButton('Plot 2 ', self)
        btn2.resize(btn2.sizeHint())
        btn2.clicked.connect(self.plot2)
        grid.addWidget(btn2, 5, 1)

        self.figure = matplotlib.figure.Figure()
        self.canvas = FigureCanvas(self.figure)
        self.toolbar = NavigationToolbar(self.canvas, self)
        grid.addWidget(self.canvas, 3, 0, 1, 2)
        # grid.addWidget(self.toolbar, ??)

        self.show()

    def plot1(self):
        self.figure.clf()
        ax1 = self.figure.add_subplot(211)
        x1 = [i for i in range(100)]
        y1 = [i**0.5 for i in x1]
        ax1.plot(x1, y1, 'b.-')

        ax2 = self.figure.add_subplot(212)
        x2 = [i for i in range(100)]
        y2 = [i for i in x2]
        ax2.plot(x2, y2, 'b.-')
        self.canvas.draw_idle()

    def plot2(self):
        self.figure.clf()
        ax3 = self.figure.add_subplot(111)
        x = [i for i in range(100)]
        y = [i**0.5 for i in x]
        ax3.plot(x, y, 'r.-')
        ax3.set_title('Square Root Plot')
        self.canvas.draw_idle()

    def center(self):
        qr = self.frameGeometry()
        cp = QtGui.QDesktopWidget().availableGeometry().center()
        qr.moveCenter(cp)
        self.move(qr.topLeft())

app = QtGui.QApplication(sys.argv)
app.aboutToQuit.connect(app.deleteLater)
GUI = PrettyWidget()
sys.exit(app.exec_())
"
18624,69832,Multi-tenancy App using Flask and App engine,"# on Linux/Unix at /etc/hosts
127.0.0.1 www.example.dev sub1.example.dev sub2.example.dev

# on windows its in system32\drivers\etc\
"
11422,55412,Python- run a while loop in background of script,"while True:
    for event in key_presses():
        handle_event(event)  # stuff that happens as a result of input
    update_state()  # stuff that happens regardless of input
    update_display()  # everything that changes the display (backlight, text, anything)
"
13290,15980,Python - Decorating a Class Method to test Class Attributes,"import functools

def protected(fun):
    @functools.wraps(fun)
    def wrapper(self, *args, **kwargs):
        if not self.checkLogin():
            raise UserLoginError()
        return fun(self, *args, **kwargs)

    return wrapper # this is what replaces the original method

@protected
def doIfLoggedIn(self):
    ...
"
26779,23519,"Django : difference between calling self.model.save() and self.model.save(*args,**kwargs)","def save(self, force_insert=False, force_update=False, using=None):
    """"""
    Saves the current instance. Override this in a subclass if you want to
    control the saving process.

    The 'force_insert' and 'force_update' parameters can be used to insist
    that the ""save"" must be an SQL insert or update (or equivalent for
    non-SQL backends), respectively. Normally, they should not be set.
    """"""
    if force_insert and force_update:
        raise ValueError(""Cannot force both insert and updating in model saving."")
    self.save_base(using=using, force_insert=force_insert, force_update=force_update)
"
34136,46970,How to make a legend with only text,"import numpy as np
import matplotlib.pyplot as plt

x = np.linspace(0,10,100)
y = np.random.random(100)
y2 = np.random.random(100)

fig = plt.figure()
ax1 = fig.add_subplot(211)
ax1.scatter(x,y)
ax1.annotate(""$C_{3}H_{8}$"", xy=(0.9,0.9),xycoords='axes fraction',
             fontsize=14)

ax2 = fig.add_subplot(212)
ax2.scatter(x,y2)
ax2.annotate(""$CO_{2}$"", xy=(0.9,0.9),xycoords='axes fraction',
             fontsize=14)

fig.show()
"
7413,34487,Python Pandas: select rows based on comparison across rows,"import pandas as pd
import numpy as np

index = 'A A A B B C D D'.split()
col1 = [120, 90, 80, 80, 50, 120, 150, 150]
ser = pd.Series(col1, index=index)
# use groupby and keep the first element
ser.groupby(level=0).first()

Out[200]: 
A    120
B     80
C    120
D    150
dtype: int64
"
35263,66040,"How to search for text in XML and extract it's entire node it belongs to, with python ElementTree","from lxml import etree


name = '12345'

tree =   etree.parse('C:/Users/file.xml')
root = tree.getroot()


query = root.xpath('//ns:akey[text()=""12345""]/..', namespaces={'ns': 'URN:XXX:XXXX:XXX:ADP:0001'})
for parent in query:
    print """" + '\n' + parent.tag
    child = parent.getchildren()
    for kid in child:
        p = kid.tag + "" "" + kid.text
"
1896,59897,collapse a pandas MultiIndex,"In [200]: cols = pd.Series(df.columns.tolist()).apply(pd.Series).sum(axis=1)

In [201]: cols
Out[201]:
0     ADF
1     ADG
2     AEF
3     AEG
4     BDF
5     BDG
6     BEF
7     BEG
8     CDF
9     CDG
10    CEF
11    CEG
dtype: object
"
10689,77511,Use Sympy with Pypy,"pypy -m pip install sympy
"
17449,46010,Matrix multiplying arrays with Numpy,"f[1, :, np.newaxis]
"
2633,22626,How to use Data.MessagePack in Haskell,"{-# LANGUAGE TemplateHaskell #-}

import Data.MessagePack.Derive

-- I don't know which of these lines you need
-- I also don't know whether the True should actually be False
$(deriveObject True ''Document)
$(derivePack True ''Document)
$(deriveUnpack True ''Document)
"
12853,60688,A way to incorporate image responsive class in sphinx RST?,".. css3image:: /_images/foo.png
  :margin: 10px 10px 10px 10px
  :margin-left: 10px
  :margin-right: 10px
  :margin-top: 10px
  :border-radius: 10px
  :transform-origin: 10px 10px
  :translate: 10px 10px
  :translateY: 10px
  :translateX: 10px
  :scaleX: 2.0
  :scaleY: 2.0
  :rotate: -10deg
"
38434,6865,Count number of values in dictionary for each key,"new_dict = {k: len(v) for k,v in dict.items()}
"
37343,74804,Django Rest Framework depth based on direction,"class Organization(models.Model):
    name = models.CharField(max_length=64)

class OrgUser(User):
    organization = models.ForeignKey(Organization, related_name='users')
    role = models.CharField(max_length=1, choices=USER_TYPE_CHOICES)

class UserSerializer(serializers.HyperlinkedModelSerializer):
    class Meta:
        model = OrgUser
        depth = 1
        fields = ('email', 'role', 'organization',)

class OrganizationUserSerializer(serializers.HyperlinkedModelSerializer): # New Serializer
    class Meta:
        model = OrgUser
        depth = 1
        fields = ('email', 'role',)

class OrganizationSerializer(serializers.HyperlinkedModelSerializer):
    users = OrganizationUserSerializer(many=True) # Change to new serializer
    class Meta:
        model = Organization
        depth = 1
        fields = ('name', 'users',)
"
37981,42683,Download image from URL that automaticaly creates download - python,"response = urllib2.urlopen(url_to_get_x_accel_mapping_header)
download_url = response.headers['X-Accel-Mapping']
download_contents = urllib2.urlopen(download_url).read()
"
15756,65132,Pass argparse to subprocess,"if args.gateway and args.matcheng:
    print 'error'
elif args.gateway:
    ...
elif args.matcheng:
    ...
"
8074,20510,Interrupt Python infinite while loop with key press,"try:
    while True:
        ...
        ...
except KeyboardInterrupt:
    exit
"
3357,80769,Pandas pivot table with mean,"Solution
df.groupby('Limit')['New', 'Old', 'MAP'].mean().T

Limit  <= 18        > 18
New    108.5  121.615385
Old     56.0   72.769231
MAP     73.0   88.692308
"
33349,54348,Changing json values and making new ones,"def updateUsers(chan):
    j = urllib2.urlopen('http://tmi.twitch.tv/group/user/' + chan + '/chatters')
    j_obj = json.load(j)
    with open('dat.dat') as data_file:
            data = json.load(data_file)
        for dat in data['users']:
            if dat in j_obj['chatters']['moderators']:
                data['users'][dat]['Points'] += 50
    # write to file
    with open('dat.dat', 'w') as out_file:
        json.dump(data, out_file)
"
10764,83663,django: documented way to get an object's fields? / Meta documentation?,">>> from django.forms.models import model_to_dict
>>> from django.contrib.auth.models import Group
>>> g = Group.objects.filter()[0]
>>> d = model_to_dict(g)
>>> d
{'permissions': [40, 41, 42, 46, 47, 48, 50, 43, 44, 45, 31, 32, 33, 34, 35, 36, 37, 38, 39], 'id': 1, 'name': u'Managers'}
>>> 
"
21448,73113,How to draw a layout size in terms of % in wxpython,"def __init__(self, parent, title, percent):

    super(Example, self).__init__(parent, title=title)
    screen_size_x, scree_size_y = wx.GetDisplaySize()
    size_x = round(screen_size_x*percent,0)
    size_y = round(screen_size_y*percent,0)
    self.SetSize((size_x, size_y))
    self.Show()
"
13363,34693,How to unpack a packets' wlan layer,"header = request[0][0:14]
hd = unpack(""!6s6s2s"", header)

dest_addr = hexlify(hd[0])
source_addr = hexlify(hd[1])
type = hexlify(hd[2])

print ""destination: {0}"".format(dest_addr)
print ""source: {0}"".format(source_addr)
print ""destination: {0}"".format(type)
"
37442,7500,Trying to grab just absolute links from a webpage using BeautifulSoup,"from BeautifulSoup import BeautifulSoup
import re
import urllib2

page = urllib2.urlopen(""http://www.linkpages.com"")
soup = BeautifulSoup(page)
for link in soup.findAll('a', attrs={'href': re.compile(""^http://"")}):
    print link
"
14676,45292,Display an item in a list by referring to the number of times present in another list.,"In [12]: for s, t in zip(string_list, display_times):
    for i in range(int(t)):
        print ""It is %s"" % s
   ....:         
It is a
It is a
It is b
It is b
It is b
It is c
"
8349,613,How do I get my asyncio client to call a socket server and waiting for response,"@asyncio.coroutine
def communicate():
    reader, writer = yield from asyncio.open_connection(HOST, PORT)
    writer.write(b'data')
    yield from writer.drain()
    answer = yield from reader.read()
    # process answer, maybe send new data back to server and wait for answer again
    writer.close()
"
16402,66819,How can I optimally concat a list of chars to a string?,">>> theListOfChars = ['a', 'b', 'x', 'd', 's']
>>> ''.join(theListOfChars)
'abxds'
"
20525,28214,python (bool) ? then : else syntax?,">>> x = 0
>>> y = 1
>>> print(""a"" if x < y else ""b"")
a
"
19622,42198,Python - Check If Multiple String Entries Contain Invalid Chars,"def getInt(msg):
    while True:
        try:
            return int(raw_input(msg))
        except ValueError:
            pass

def total_profit(a, b, c):
    return 35.0*a + 25.0*b + 10.0*c

def main():
    class_a = getInt('Enter Class A tickets sold: ')
    class_b = getInt('Enter Class B tickets sold: ')
    class_c = getInt('Enter Class C tickets sold: ')

    print(""Total profit is ${0:0.2f}."".format(total_profit(class_a, class_b, class_c)))

if __name__==""__main__"":
    main()
"
22867,40764,Python: Creating Excel worksheets with charts,"#!/usr/bin/env python

import os
import os.path

import jpype

# or wherever your java is installed
os.environ['JAVA_HOME'] = ""/usr/lib64/jvm/default-java""

root = os.path.abspath(os.path.dirname(__file__))

SX_JAR = os.path.join(root, 'SX.jar')

options = [
    '-Djava.class.path=%s' % SX_JAR
]

jpype.startJVM(jpype.getDefaultJVMPath(), *options)

WorkBook = jpype.JClass('com.smartxls.WorkBook')
ChartShape = jpype.JClass('com.smartxls.ChartShape')
ChartFormat = jpype.JClass('com.smartxls.ChartFormat')
Color = jpype.JClass('java.awt.Color')

workbook = WorkBook()

workbook.setText(0,1,""Jan"")
workbook.setText(0,2,""Feb"")
workbook.setText(0,3,""Mar"")
workbook.setText(0,4,""Apr"")
workbook.setText(0,5,""Jun"")

workbook.setText(1,0,""Comfrey"")
workbook.setText(2,0,""Bananas"")
workbook.setText(3,0,""Papaya"")
workbook.setText(4,0,""Mango"")
workbook.setText(5,0,""Lilikoi"")

for col in range(1, 5 + 1):
    for row in range(1, 5 + 1):
        workbook.setFormula(row, col, ""RAND()"")
workbook.setText(6, 0, ""Total"")
workbook.setFormula(6, 1, ""SUM(B2:B6)"")
workbook.setSelection(""B7:F7"")
# auto fill the range with the first cell's formula or data
workbook.editCopyRight()

left = 1.0
top = 7.0
right = 13.0
bottom = 31.0

# create chart with it's location
chart = workbook.addChart(left,top,right,bottom)
chart.setChartType(ChartShape.Column)
# link data source, link each series to columns(true to rows).
chart.setLinkRange(""Sheet1!$a$1:$F$6"", False)
# set axis title
chart.setAxisTitle(ChartShape.XAxis, 0, ""X-axis data"")
chart.setAxisTitle(ChartShape.YAxis, 0, ""Y-axis data"")
# set series name
chart.setSeriesName(0, ""My Series number 1"")
chart.setSeriesName(1, ""My Series number 2"")
chart.setSeriesName(2, ""My Series number 3"")
chart.setSeriesName(3, ""My Series number 4"")
chart.setSeriesName(4, ""My Series number 5"")
chart.setTitle(""My Chart"")

# set plot area's color to darkgray
chartFormat = chart.getPlotFormat()
chartFormat.setSolid()
chartFormat.setForeColor(Color.DARK_GRAY.getRGB())
chart.setPlotFormat(chartFormat)

# set series 0's color to blue
seriesformat = chart.getSeriesFormat(0)
seriesformat.setSolid()
seriesformat.setForeColor(Color.BLUE.getRGB())
chart.setSeriesFormat(0, seriesformat)

# set series 1's color to red
seriesformat = chart.getSeriesFormat(1)
seriesformat.setSolid()
seriesformat.setForeColor(Color.RED.getRGB())
chart.setSeriesFormat(1, seriesformat)

# set chart title's font property
titleformat = chart.getTitleFormat()
titleformat.setFontSize(14*20)
titleformat.setFontUnderline(True)
chart.setTitleFormat(titleformat)

workbook.write(""./Chart.xls"")

jpype.shutdownJVM()
"
4705,38,Matplotlib: how to plot categorical data on the y-axis?,"gender = ['male','male','female','male','female']

import matplotlib.pyplot as plt
from collections import Counter

c = Counter(gender)

men = c['male']
women = c['female']

bar_heights = (men, women)
y = (1, 2)

fig, ax = plt.subplots()
width = 0.4

ax.barh(y, bar_heights, width)

ax.set_ylim((0, 3))
ax.set_xlim((0, max(men, women)*1.1))

ax.set_yticks([i+width/2 for i in y])
ax.set_yticklabels(['male', 'female'])

plt.show()
"
29586,75462,How to match two values in dict and merge results,"def combine(L):
    results = {}
    for item in L:
        key = (item[""date""], item[""price""])
        if key in results:  # combine them
            results[key] = {""date"": item[""date""], ""price"": item[""price""], ""amount"": item[""amount""] + results[key][""amount""]}
        else:  # don't need to combine them
            results[key] = item
    return results.values()
"
39760,3299,Elif processing on serverside,"city = ""Houston""
coordinates = {""Houston"": (26.35, 57.12),
          ""Las Vegas"": (27.34, 35.23),
          etc...}
coords = coordinates[city]
"
31865,44004,Matplotlib heatmap rotates image automatically,"import numpy as np
import numpy.random
import matplotlib.pyplot as plt
p = plt.figure()
plt.style.use('ggplot')

np.random.seed(0)
x = np.random.rand(50)
y = np.random.rand(50)

heatmap, xedges, yedges = np.histogram2d(x, y, bins=4)
extent = [xedges[0], xedges[-1], yedges[0], yedges[-1]]

plt.imshow(heatmap, extent=extent)
plt.show(p)
"
15056,28713,Set timeout to an http request in Tornado,"request = tornado.httpclient.HTTPRequest(url=como_url, connect_timeout=20.0, request_timeout=20.0)
response = yield tornado.gen.Task(http_client.fetch, request)
"
12973,8430,How can I create multiple hashes of a file using only one pass?,"from __future__ import with_statement
from hashlib import md5, sha1

filename = 'hash_one-pass.py'

hashes = md5(), sha1()
chunksize = max(4096, max(h.block_size for h in hashes))
with open(filename, 'rb') as f:
    while True:
        chunk = f.read(chunksize)
        if not chunk:
            break
        for h in hashes:
            h.update(chunk)

for h in hashes:
    print h.name, h.hexdigest()
"
15724,26268,Inserting a row at a specific location in a 2d array in numpy?,">>> import numpy as np
>>> a = np.zeros((2, 2))
>>> a
array([[ 0.,  0.],
       [ 0.,  0.]])
# In the following line 1 is the index before which to insert, 0 is the axis.
>>> np.insert(a, 1, np.array((1, 1)), 0)  
array([[ 0.,  0.],
       [ 1.,  1.],
       [ 0.,  0.]])
>>> np.insert(a, 1, np.array((1, 1)), 1)
array([[ 0.,  1.,  0.],
       [ 0.,  1.,  0.]])
"
31430,49469,Creating custom connectivity in PyBrain neural networks,"#create network and modules
net = FeedForwardNetwork()
inp = LinearLayer(9)
h1 = SigmoidLayer(2)
h2 = TanhLayer(2)
outp = LinearLayer(1)
# add modules
net.addOutputModule(outp)
net.addInputModule(inp)
net.addModule(h1)
net.addModule(h2)
# create connections
net.addConnection(FullConnection(inp, h1, inSliceTo=6))
net.addConnection(FullConnection(inp, h2, inSliceFrom=6))
net.addConnection(FullConnection(h1, h2))
net.addConnection(FullConnection(h2, outp))
# finish up
net.sortModules()
"
7466,4304,Simplest way to find and link repeating strings in an XML with Python,"import uuid
if val in valdict: # We have seen this reference before
    print '<value href=""#%s""/>' % valdict[val]
else:              # We need to add this reference
    valdict[val] = str(uuid.uuid4()).upper()
    print '<value id=""%s"">%s</value>' % (valdict[val], val)
"
12528,79783,tkinter Toplevel window appears not to react to some methods,"import Tkinter as tk

class Example(tk.Frame):
    def __init__(self, root):
        tk.Frame.__init__(self, root)
        self.do_grab = tk.BooleanVar()
        cb = tk.Checkbutton(self, text=""New window grabs all events"", 
                            variable=self.do_grab, onvalue=True, offvalue=False)
        cb.pack()
        new_button = tk.Button(self, text=""New window"", command=self.on_click)
        new_button.pack()

    def on_click(self):
        self.top = tk.Toplevel(self)
        button = tk.Button(self.top, text=""dismiss"", command=self.top.destroy)
        do_grab = self.do_grab.get()

        if do_grab:
            label = tk.Label(self.top, wraplength=200,
                             text=""This window grabs all events"")
        else:
            label = tk.Label(self.top, wraplength = 200, 
                             text=""This window does NOT grab all events"")
        label.pack(fill=""x"")
        button.pack()

        if do_grab:
            self.top.grab_set()

if __name__ == ""__main__"":
    root = tk.Tk()
    Example(root).pack(side=""top"", fill=""both"", expand=True)
    root.mainloop()
"
16160,27744,DateTime Python,"   %I     The hour on a 12-hour clock (1-12).

 ...

   %p     The localeâs equivalent of AM or PM.  (Note: there may be none.)
"
27787,77131,Django cant do datetime comparision,">>> import django, datetime

>>> django.utils.timezone.now()
datetime.datetime(2016, 1, 31, 15, 6, 35, 471795, tzinfo=<UTC>)

>>> datetime.datetime.now()
datetime.datetime(2016, 1, 31, 16, 6, 43, 377016)

>>> datetime.datetime.now() > django.utils.timezone.now()
TypeError: can't compare offset-naive and offset-aware datetimes
"
22926,12222,Communicate classes via tkinter's bind method,"import Tkinter as tk

lists = [1,2,3,4,5,6,7]

class selects():

    def __init__(self,root):
        self.root = root
        self.selectwin()

    def selectwin(self):
        """""" listbox and scrollbar for selection """"""
        sb = tk.Scrollbar(self.root)
        lb = tk.Listbox(self.root, relief ='sunken', cursor='hand2')
        sb.config(command=lb.yview)
        sb.pack(side=tk.RIGHT, fill=tk.Y)
        lb.pack(side=tk.LEFT, fill=tk.BOTH, expand=1)
        lb.config(yscrollcommand=sb.set, selectmode='single')
        for value in lists: lb.insert(tk.END,value)

        lb.bind('<Double-1>',lambda event: self.getvalue())
        self.listbox = lb

    def getvalue(self):
        """""" get the selected value """"""
        value = self.listbox.curselection()
        if value:
            self.root.quit()
            text = self.listbox.get(value)
            self.selectvalue = int(text)
            self.root.destroy() # destroy the Toplevel window without needing the Tk mainloop

    def returnvalue(self):
        return self.selectvalue


class do():

    def __init__(self, master):
        self.top = tk.Toplevel()
        self.top.transient(master) # Make Toplevel a subwindow ow the root window
        self.top.grab_set() # Make user only able to interacte with the Toplevel as long as its opened
        self.sl = selects(self.top)
        self.top.protocol(""WM_DELETE_WINDOW"", self.sl.getvalue) # use the if value: in getvalue to force selection
        master.wait_window(self.top) # Wait until the Toplevel closes before continuing

        # do something... for example, get the value and print value+2, as coded below
        value = self.sl.returnvalue()
        print value+2


if __name__ == '__main__':
    root = tk.Tk()
    d = do(root)
    root.mainloop()
"
11732,57228,"Randomly fill a 3D grid according to a probability density function p(x,y,z)","%matplotlib qt 
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

#number of points to lay down:
n = 4000;

#create meshgrid:
min, max, L = -5, 5, 91;
[x_grid,y_grid,z_grid] = np.meshgrid(np.linspace(min,max,L),np.linspace(min,max,L),np.linspace(min,max,L))
xi,yi,zi = x_grid.ravel(),y_grid.ravel(),z_grid.ravel()

#create normalized pdf (gaussian here):
pdf = np.exp(-(x_grid**2 + y_grid**2 + z_grid**2));
pdf = pdf/np.sum(pdf);

#obtain indices of randomly selected points, as specified by pdf:
randices = np.random.choice(np.arange(x_grid.ravel().shape[0]), n, replace = False,p = pdf.ravel())

#random positions:
x_rand = xi[randices]
y_rand = yi[randices]
z_rand = zi[randices]

fig = plt.figure();
ax = fig.add_subplot(111, projection='3d',aspect='equal')
svals = 16;
ax.scatter(x_rand, y_rand, z_rand, s=svals, alpha=.1)
"
15084,8292,selecting the number of the lines in .txt file to which to write,"In [18]: text=['words words','words words words','words words words words']

def pyramid(text):
    with open(""abc"",""w"") as f:
        max_width=len(text[-1])
        for line in text: 
            f.write(""{0:^{1}s}\n"".format(line,max_width))  #use string formatting
   ....:             

In [20]: pyramid(text)                                                

In [21]: print open(""abc"").read()
      words words      
   words words words   
words words words words
"
21105,28247,python: return value from __new__,">>> class cls(object):
...   def __new__(cls):
...     return object.__new__(object)
...   def __init__(self):
...     print 'in __init__'
... 
>>> x = cls()
>>> 
"
33950,84153,Something disturbing about PyDev content assist,">>> class OldStyle: pass
... 
>>> os = OldStyle(); os.__class__; dir(os)
<class __main__.OldStyle at 0x100412cb0>
['__doc__', '__module__']
>>> class NewStyle(object): pass
... 
>>> ns = NewStyle(); ns.__class__; dir(ns)
<class '__main__.NewStyle'>
['__class__', '__delattr__', '__dict__', '__doc__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__']
"
31035,28607,Creating a list based on value stored in variable in python,"lists = {}
lists[strs] = []
lists[strs].append(somevalue)
"
6223,45017,Regex: dealing with unpredictable inputs: disallowed trailing (but otherwise OK) characters,"/[a-z](?:[a-z.-]*[a-z])?/i
"
447,20707,Deal with undefined arguments more elegantly,"a = a or <initialize_object>
"
14726,66834,add current position+1 or -1 dict value to dict python,">>> s='abc'
>>> n=1
>>> {c:{e for e in[s[i-n:i],c,s[i+1:i+1+n]] if e} for i, c in enumerate(s)}
{'a': {'a', 'b'}, 'b': {'a', 'b', 'c'}, 'c': {'b', 'c'}}
"
4035,39624,scipy -- how to convert a function result to array,"print(Walk1d(10).cumsum())
"
38595,14278,Kivy: Limit size of dropdown,"from kivy.uix.dropdown import DropDown
from kivy.uix.button import Button
from kivy.base import runTouchApp

dropdown = DropDown()
dropdown.size_hint_y = 0.5
for index in range(100):
    btn = Button(text='Value %d' % index, size_hint_y=None, height=44)
    btn.bind(on_release=lambda btn: dropdown.select(btn.text))
    dropdown.add_widget(btn)

mainbutton = Button(text='Hello', size_hint=(None, None))
mainbutton.bind(on_release=dropdown.open)

dropdown.bind(on_select=lambda instance, x: setattr(mainbutton, 'text', x))

runTouchApp(mainbutton)
"
10310,84558,Sorting a list of IPv4Network and IPv6Network objects,">>> from ipaddress import ip_network, IPv6Network
>>> L = [ip_network(x) for x in ['ff00::/8', 'fd00::/8', '172.16.0.0/12', '10.0.0.0/8']]
>>> L.sort(key=lambda x: (isinstance(x, IPv6Network), x))
>>> L
[IPv4Network('10.0.0.0/8'), IPv4Network('172.16.0.0/12'), IPv6Network('fd00::/8'), IPv6Network('ff00::/8')]
"
34677,70371,How do you specify the filename for the BlobstoreOutputWriter for a simple mapreduce job?,"yield StoreOutput(""WordCount"", filekey, output)
"
28547,14098,"Python Text Files, print list with all words that begin with 'the'","def getbook():
    bookname = input(""What is the name of the text file?"")
    bookFile = open(bookname, 'r')
    bookString = bookFile.read()
    lowerBook = bookString.lower()
    wordList = lowerBook.split()
    return wordList

import string

def listAllThe(longString):
    theList = set()
    for i in longString:
        if i.startswith('the'):
            theList.add(i)
    return theList

def final():
    book = getbook()
    getList = listAllThe(book)
    print (getList)

final()
"
121,58479,"Python: Convert args to dict, like PHP's compact?",">>> import inspect
>>> def compact(*args):
...     d = {}
...     for a in args:
...         d[a] = inspect.stack()[1][0].f_locals[a]
...     return d
...
>>> def test():
...     x = 5
...     print compact('x')
...
>>> test()
{'x': 5}
"
22535,12253,How to have a 'broad filter' in SQLAlchemy query search,"db.session.query(Report).filter(Report.country.ilike(""india""))
"
39869,25209,"Format date with month name in polish, in python",">>> import babel.dates
>>> import datetime
>>> now = datetime.datetime.now()
>>> print babel.dates.format_date(now, 'd MMMM yyyy', locale='pl_PL')
6 wrzeÅnia 2010
"
20890,57850,Python HTML scraping,"html = #get html
soup = BeautifulSoup(html)
links = soup.findAll('a', attrs={'class': 'myclass'})
for link in links:
    #process link
"
7602,2426,Get input whilst looping code,"import sys
import select

while True:
    message = select.select([sys.stdin], [], [], timeout=0.1)[0]
    if message:
        print(message)
"
20952,33255,Excel operating slow with office 13 and not supporting xlrd (not able to read hyperlink's content),"Sub Button1_Click()
    Dim a As Integer
    Dim b As String
    Dim c As Integer

    On Error Resume Next
    For Each hl In Sheets(""TPD Sheet"").Hyperlinks
        'Get the sheet name
        If Not IsNull(hl) Then
            c = Application.Evaluate(hl.Range.row)
            MsgBox ""Aakash"" & Application.Evaluate(hl.Range.row)
            Set r = Application.Evaluate(hl.SubAddress)
            'MsgBox ""Row number being operated upon -> "" & Application.Evaluate(hl.Range.row)
            'Get the cell where the sheet name to be put
            a = Application.Evaluate(hl.Range.row)
            b = Application.Evaluate(hl.Range.Column)


            Set TxtRng = Sheets(""MySheet"").Cells(a, ""D"")
            TxtRng.value = r.Parent.name

        End If
    Next hl

End Sub
"
28982,83182,Separate Totals row from tablesorter in django,"<thead>
    <tr>
    ....
    </tr>
</thead>
<tbody>
    <tr> ... </tr>
    <tr> ... </tr>
</tbody>
<tfoot>
    <tr>
       <td>Total</td><td> ... </td> ...
    </tr>
</tfoot>
"
29058,4479,Efficiently search two-tuple,"labels = dict(choices)
label = labels[some_int]
"
25965,5765,Unsort a list back to original sequence,"aList = [2, 1, 4, 3, 5]

aList.remove(sorted(aList)[2])

>>> print aList
[2, 1, 4, 5]
"
28805,23014,How do i count a number of occurrences in a string?,"def replace(lst):
    global scount, mcount, lcount
    #rest of function
"
37470,27724,Python structure mistake,"word = raw_input(""Enter sequence:"")

# build a dictionary to know what letter to switch to
swap_dict = {'A': 'T', 'T': 'A', 'C': 'G', 'G': 'C'}

# find out what each letter in the reversed word maps to and then join them
newword = ''.join(swap_dict[letter] for letter in reversed(word))

print ""Reverse complement sequence:"", newword
"
7152,57014,Setting values when iterating through a DataFrame,"byState_df = pd.DataFrame(states.items())
byState_df['Deaths'] = 0
df['Deaths'] = df['Deaths'].convert_objects(convert_numeric=True)
print byState_df
for index, row in df.iterrows():
    if row['Area'] in states:
           byState_df.loc[byState_df[0] == row['Area'], 'Deaths'] = row['Deaths']         

print byState_df
"
14598,63569,Printing in which list or dictionary the word is located in,"def main():
    docs=[]
    with open(""ap_docs2.txt"") as f:
        lines = f.read().split(""<NEW DOCUMENT>"")[1:]
        for x in lines:
            docs.append(x.strip().lower())
        numOfDocs=len(docs)
        print (docs)
        print(""Number of Documents:"",numOfDocs)

    search = input(""Enter search words: "")
    for x in docs:
        if search in x:
            print('Found in document %d' % (docs.index(x) + 1))

main()
"
29677,22272,Wildcard namespaces in lxml,"
import lxml.etree as ET

content = '''\
<Envelope xmlns=""http://www.xxx.com/zzz/yyy"">
  <Header>
    <Version>1</Version>
  </Header>
  <Buckets>
    some stuff
  </Buckets>
</Envelope>
'''
root = ET.fromstring(content)
print(root.xpath(""./*[local-name()='Buckets']""))
# [<Element {http://www.xxx.com/zzz/yyy}Buckets at 0xb73a62ac>]
"
15387,22523,Fetching data from Many to Many relationship (intermediate table),"category = Category.objects.get(pk=10)
products = category.product_set.all()  # note that this is a queryset
"
39967,40463,Python - Minimum of a List of Instance Variables,"class Instance():
    def __init__(self, number):
        self.number = number

    def __lt__(self, other):
        return self.number < other.number
        # now min(iList) just works
"
22389,29342,Weighted mean with Numpy in file txt,"#! /usr/bin/python
import numpy as np

with open('Acetobacterium_woodii_DSM_1030.mdistr', 'r') as f:
    # read file
    lines = f.read().splitlines()

values = []
weights = []

for line in lines:
    if line.startswith(""-""):
        # print statistics and reset variables
        print (""Min: %d, Max: %d, Avg: %d"" %(min(values),max(values),
                                             np.average(values, 
                                                        weights=weights)))
        values = []
        weights = []
    elif line.startswith(""#""):
        row = line.split()
        values.append(int(row[1]))
        weights.append(int(row[2]))

# print statistics before quitting
print (""Min: %d, Max: %d, Avg: %d"" %(min(values),max(values),
                                     np.average(values,
                                                weights=weights)))
"
38961,46290,Python : How to load column from multiblock csv tables?,"from numpy import genfromtxt
from StringIO import StringIO

def read_by_block(filename):
    blocks = []
    data = open(filename).read()
    for blk in data.split('\n\n'): # we assume that blocks are separated by two newlines
        blocks.append(genfromtxt(StringIO(blk), delimiter=';', names=True))
    return blocks

data = read_by_block('data.txt')

print data[0].dtype.names # print fields for first block
print data[0]['StdPhi'] # print column 'Std(Phi)' in 1st block
"
1106,18761,matching indexes in python to categorize a column,"import pandas as pd
df = pd.merge(  left=firstDataFrame, right=secondDataFrame, on='NameOfColumnContainingBakery...')
"
27937,26154,From string to pyqt object as variable,"for i in range(500):
  var_name = ""pr%i"" % i
  var_value = getattr(self.ui, ""pr%i"" % i).isChecked()
  print ""%s has value: %s"" % (var_name, var_value)
"
20082,78322,how can I save a form with ModelMultipleChoiceField?,"if f.is_valid():
    for group in f.cleaned_data['group']:
        calentry.groups.add(group)
"
31373,72372,Python: floodfill algorithm for minesweeper,"Covered = '---'
Flagged = '-P-'

board = []
for x in range(12):
    board += [[Covered] * 12]

mines = set([
    (1, 12), (8, 2), (5, 5), (9, 4), (11, 11), (0, 9),
    (5, 5), (6, 7), (9, 9), (9, 10), (11, 5)
])

def count_mines(a, b):
    c = 0
    if (a - 1, b - 1) in mines: c += 1
    if (a + 0, b - 1) in mines: c += 1
    if (a + 1, b - 1) in mines: c += 1
    if (a - 1, b + 0) in mines: c += 1
    if (a + 1, b + 0) in mines: c += 1
    if (a - 1, b + 1) in mines: c += 1
    if (a + 0, b + 1) in mines: c += 1
    if (a + 1, b + 1) in mines: c += 1
    return c

def floodfill(board, row, col):

    if board[row][col] == Covered:
        count = count_mines(row, col)

        if count > 0:
            board[row][col] = ' ' + str(count) + ' '

        else:
            board[row][col] = '   '

            if row > 0:
                floodfill(board, row - 1, col)
            if row < len(board[row]) - 1:
                floodfill(board, row + 1, col)
            if col > 0:
                floodfill(board, row, col - 1)
            if col < len(board) - 1:
                floodfill(board, row, col + 1)

def show(board):    
    for b in board:
        print """".join(b)

floodfill(board, 0, 0)
show(board)
"
37879,54232,Python serial checks refactoring,"def media_checks(f): 
  ...
  return pass

def text_checks(f): 
  ...
  return pass

_dispatch = {}
_dispatch['media'] = media_checks
_dispatch['text'] = text_checks

dispatch_func = _dispatch[key]
check_pass = dispatch_func(your_file)
"
8263,34598,check if value inside the range,"from re import findall as f

r=""5""

level=3

a = f(r'(\d+)?-?(\d+)', r)[0]

try:
    print int(a[0]) <= level <= int(a[1])
except (IndexError, ValueError):
    print 0 <= level <= int(a[1])
"
32604,79279,"Python's math module & ""Think Python""","signal_power = 100
noise_power = 17
"
36105,82476,Grab url from href and text,"from lxml.html import etree

tree = etree.parse(""my.html"", etree.HTMLParser())
root = tree.getroot()
links = root.findall('*//a[@href]')
foreach link in links:
    if link.get(""http"").startswith(""http""):
        print link.get(""http"")
"
28132,10930,Write a Dictionary to a CSV file,"import csv

D = {'Jim': ['1', '9', '5'], 'kim': ['8', '6', '0'], 'lim': ['10', '6', '1'],
     'slim': ['8', '8', '2'], 'pimp': ['9', '9', '1'], 'sim': ['8', '7', '1']}

with open('file.csv', 'w', newline='') as csvfile:
    writer = csv.writer(csvfile)      

    for name, items in D.items():    
        writer.writerow([name] + items)
"
8998,37528,Specify File path in tkinter File dialog,"root.fileName = tkFileDialog.askopenfilename(initialdir = ""C:/<whatever>"")
"
35267,24322,python subprocess set shell var. and then run command - how?,"import os, subprocess

d = dict(os.environ)   # Make a copy of the current environment
d['PYRO_HMAC_KEY'] = '123'
subprocess.Popen(['python', '-m', 'Pyro4.naming'], env=d)
"
19337,49620,Shrink and merge PDFs in Python,"from pyPdf import PdfFileWriter, PdfFileReader
from pdfnup import generateNup

output = PdfFileWriter()
input1 = PdfFileReader(file(""in.pdf"", ""rb""))

page1 = input1.getPage(0)
page2 = input1.getPage(1)

output.addPage(page1)
output.addPage(page2)

outputStream = file(""out.pdf"", ""wb"")
output.write(outputStream)
outputStream.close()

generateNup(""out.pdf"", 2)
"
17819,79969,How to write a string that could be None to '%s' to a file (python),"comment_str = ""None"" if row[""comment""] is None else ""'{}'"".format(row[""comment""])
file.write(""INSERT INTO SAMPLE_TABLE (int_value, string_value, comment)\n""
           ""VALUES (%d, '%s', %s)\n\n"" 
           % (row[""int_value""], row[""string_value""], comment_str))
"
11639,56146,Pythonic Way of Inserting Columns at Arbitrary Positions,">>> import numpy as np
>>> arr = np.array(tableData)
>>> np.insert(arr, (2, 4), None, axis=1)
array([[-27.37,  36.61,    nan,   8.9 , -11.2 ,    nan, -36.03, -42.34],
       [ 16.83, -33.45,    nan,  -5.15,  12.9 ,    nan, -48.6 ,  -8.7 ],
       [-19.73,   2.64,    nan,   7.21,  24.16,    nan,  18.38,  20.47],
       [-31.05,  15.07,    nan,  42.69, -32.13,    nan, -36.02,  42.31],
       [ 15.18,  30.54,    nan, -47.31,  48.38,    nan,  31.6 ,  -1.98]])
"
4590,55024,rotation of 2d shape clockwise direction,"static void
rotate (SDL_Surface *src, SDL_Surface *dst, Uint32 bgcolor, double sangle,
        double cangle)
{
    int x, y, dx, dy;

    Uint8 *srcpix = (Uint8*) src->pixels;
    Uint8 *dstrow = (Uint8*) dst->pixels;
    int srcpitch = src->pitch;
    int dstpitch = dst->pitch;

    int cy = dst->h / 2;
    int xd = ((src->w - dst->w) << 15);
    int yd = ((src->h - dst->h) << 15);

    int isin = (int)(sangle * 65536);
    int icos = (int)(cangle * 65536);

    int ax = ((dst->w) << 15) - (int)(cangle * ((dst->w - 1) << 15));
    int ay = ((dst->h) << 15) - (int)(sangle * ((dst->w - 1) << 15));

    int xmaxval = ((src->w) << 16) - 1;
    int ymaxval = ((src->h) << 16) - 1;

    switch (src->format->BytesPerPixel)
    {
    case 1:
        for (y = 0; y < dst->h; y++)
        {
            Uint8 *dstpos = (Uint8*)dstrow;
            dx = (ax + (isin * (cy - y))) + xd;
            dy = (ay - (icos * (cy - y))) + yd;
            for (x = 0; x < dst->w; x++)
            {
                if(dx < 0 || dy < 0 || dx > xmaxval || dy > ymaxval)
                    *dstpos++ = bgcolor;
                else
                    *dstpos++ = *(Uint8*)
                        (srcpix + ((dy >> 16) * srcpitch) + (dx >> 16));
                dx += icos;
                dy += isin;
            }
            dstrow += dstpitch;
        }
        break;
    case 2:
        for (y = 0; y < dst->h; y++)
        {
            Uint16 *dstpos = (Uint16*)dstrow;
            dx = (ax + (isin * (cy - y))) + xd;
            dy = (ay - (icos * (cy - y))) + yd;
            for (x = 0; x < dst->w; x++)
            {
                if (dx < 0 || dy < 0 || dx > xmaxval || dy > ymaxval)
                    *dstpos++ = bgcolor;
                else
                    *dstpos++ = *(Uint16*)
                        (srcpix + ((dy >> 16) * srcpitch) + (dx >> 16 << 1));
                dx += icos;
                dy += isin;
            }
            dstrow += dstpitch;
        }
        break;
    case 4:
        for (y = 0; y < dst->h; y++)
        {
            Uint32 *dstpos = (Uint32*)dstrow;
            dx = (ax + (isin * (cy - y))) + xd;
            dy = (ay - (icos * (cy - y))) + yd;
            for (x = 0; x < dst->w; x++)
            {
                if (dx < 0 || dy < 0 || dx > xmaxval || dy > ymaxval)
                    *dstpos++ = bgcolor;
                else
                    *dstpos++ = *(Uint32*)
                        (srcpix + ((dy >> 16) * srcpitch) + (dx >> 16 << 2));
                dx += icos;
                dy += isin;
            }
            dstrow += dstpitch;
        }
        break;
    default: /*case 3:*/
        for (y = 0; y < dst->h; y++)
        {
            Uint8 *dstpos = (Uint8*)dstrow;
            dx = (ax + (isin * (cy - y))) + xd;
            dy = (ay - (icos * (cy - y))) + yd;
            for (x = 0; x < dst->w; x++)
            {
                if (dx < 0 || dy < 0 || dx > xmaxval || dy > ymaxval)
                {
                    dstpos[0] = ((Uint8*) &bgcolor)[0];
                    dstpos[1] = ((Uint8*) &bgcolor)[1];
                    dstpos[2] = ((Uint8*) &bgcolor)[2];
                    dstpos += 3;
                }
                else
                {
                    Uint8* srcpos = (Uint8*)
                        (srcpix + ((dy >> 16) * srcpitch) + ((dx >> 16) * 3));
                    dstpos[0] = srcpos[0];
                    dstpos[1] = srcpos[1];
                    dstpos[2] = srcpos[2];
                    dstpos += 3;
                }
                dx += icos; dy += isin;
            }
            dstrow += dstpitch;
        }
        break;
    }
}
"
37851,40076,How can I produce a file?,">>> books = {}
>>> line = ""Calculus | James Stewart""
>>> parts = line.split('|') # can also do title, author = line.split('|')
>>> books[parts[0].strip()] = parts[1].strip()
>>> print(books)
{'Calculus': 'James Stewart'}
"
33754,76443,Is there a way to use super() to call the __init__ method of each base class in Python?,"class Mother:
    def __init__(self):
        super().__init__()
        print(""Mother"")

class Father:
    def __init__(self):
        super().__init__()
        print(""Father"")

class Daughter(Mother, Father):
    def __init__(self):
        super().__init__()
        print(""Daughter"")
"
15131,46043,Cannot convert HTML from a site to text properly,"import html2text
import urllib2
import re
import nltk

useragent = {'User-Agent':'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_4) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.57 Safari/536.11'}
request = urllib2.Request('SomeURL',None,useragent)
myreq = urllib2.urlopen(request, timeout = 5)
html = myreq.read()
html = html.decode(""utf-8"")


textList = re.findall(r'(?<=<p>).*?(?=</p>)',html, re.MULTILINE|re.DOTALL)
mytext = """"
for par in textList:
   if len(str(par))<2000: 
    par = re.sub('<[^<]+?>', '', par)
    mytext +="" "" +  html2text.html2text(par)

 print ""the text is "", mytext
"
3255,971,Create list of strings with fixed prefix based on size of a list,">>> elements = ['elem1','elem2','elem3']
>>> output = ['prefix_{}'.format(i) for i, elem in enumerate(elements, 1)]
>>> output
['prefix_1', 'prefix_2', 'prefix_3']
"
6868,65723,"how to set ""camera position"" for 3d plots using python/matplotlib?","    from mpl_toolkits.mplot3d import Axes3D
    ax = Axes3D(fig)
    ax.scatter(xx,yy,zz, marker='o', s=20, c=""goldenrod"", alpha=0.6)
    for ii in xrange(0,360,1):
        ax.view_init(elev=10., azim=ii)
        savefig(""movie""%ii+"".png"")
"
26286,82808,Stuck with python multiple twinx axis graph using matlibplot,"from mpl_toolkits.axes_grid1 import host_subplot 
import mpl_toolkits.axisartist as AA 
import matplotlib.pyplot as plt

host = host_subplot(111, axes_class=AA.Axes)
plt.subplots_adjust(bottom=0.1, left=0.2, right=0.8, top=0.9)

par1 = host.twinx()
par2 = host.twinx()
par3 = host.twinx()
par3.axis[""right""].set_visible(False)

new_fixed_axis = par2.get_grid_helper().new_fixed_axis
par2.axis[""right""] = new_fixed_axis(loc=""right"",axes=par2,offset=(60, 0))

host.set_xlabel(""Y axis"")
host.set_ylabel(""X axis 1 on the left"")
par1.set_ylabel(""X axis 2 on the right"")
par2.set_ylabel(""X axis 3 on the right"")
par3.set_ylabel(""X axis 4 on the left"")


new_fixed_axis = par3.get_grid_helper().new_fixed_axis
par3.axis[""left""] = new_fixed_axis(loc=""left"",axes=par3,offset=(-60, 0))


p1, = host.plot([1,2,3,4],[1,2,3,4], label=""1"")
p2, = par1.plot([1,2,3,4],[2,2,2,2], label=""2"")
p3, = par2.plot([1,2,3,4],[3,3,2,1], label=""3"")
p4, = par3.plot([1,2,3,4],[1,1,2.5,3.5], label=""4"")

plt.show()
"
17397,46313,Deleting duplicates but leaving one according to sorting in a different column,"awk -F""\t"" '
    !($4 in max) || $9 > max[$4] {max[$4] = $9; line[$4] = $0} 
    END {for (key in line) print line[key]}
' myfile.txt
"
26405,46452,python-wnck set focus to window,"import pygtk
pygtk.require('2.0')
import gtk
import wnck
import re
import sys
import time

screen = wnck.screen_get_default()
while gtk.events_pending():
    gtk.main_iteration()

titlePattern = re.compile('.*Geany.*')

windows = screen.get_windows()
for w in windows:
  if titlePattern.match(w.get_name()):
    print w.get_name()
    w.activate(int(time.time()))
"
11252,38312,Python a List of lists Merge,">>> from collections import defaultdict
>>> d = defaultdict(list)
>>> items = [['food','fish'],['food','meat'],['food','veg'],['sports','football']]
>>> for key, value in items:
...     d[key].append(value)
...     
>>> [[key] + values for key, values in d.items()]
    [['food', 'fish', 'meat', 'veg'], ['sports', 'football']]
"
8841,25494,Query results of django rest framework,"Urls:
url(regex=r'^user/api/1/roles/(?P<usernumber>\w{1,50})/(?P<username>\w{1,50})/$', view='views.profile_page')
a request for http://domain/user/api/1/roles/0/username/

View:
def someApiFunction(request, usernumber=None ,username=None):
   return HttpResponse(username)
"
26361,69582,Creating multiple dictionaries based on other dictionary values in python,"final_data = {}
for entry in data:
    userid = entry[""userid""]
    if userid not in final_data:
        final_data[userid] = {""userid"": userid, ""score"": 0} 
    final_data[userid][""score""] += entry[""score""]
    if not entry[""ctype""] in final_data[userid]:
        final_data[userid][entry[""ctype""]] = 1
    else:
        final_data[userid][entry[""ctype""]] += 1
"
28459,5206,What's the use of the filename parameter of ast.parse?,">>> c = compile('raise Exception(""spam"")', 'eggs', 'exec')
>>> eval(c)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""eggs"", line 1, in <module>
Exception: spam
"
35777,22751,What is the python requests equivalent of the following curl command,"requests.post(""https://rest.ably.io/channels/channelname/messages"",
    auth=('some_AP.aYYMcQ', 'VmGHauKOqo-35Zxo'), # Equivalent of -u
    json={ ""name"": ""greeting"", ""data"": ""example"" }) # Equivalent of --data
"
14573,5055,Make output cells like Markdown,"from IPython.core.display import HTML
...
...
def foo():
    raw_html = ""<h1>Yah, rendered HTML</h1>""
    return HTML(raw_html)
"
5701,29793,Finding highest values in each row in a data frame for python,"top_n = 2
>>> pd.DataFrame({n: df.T[col].nlargest(top_n).index.tolist() 
                  for n, col in enumerate(df.T)}).T
   0  1
0  B  C
1  A  D
"
19654,65769,How to get source corresponding to a Python AST node?,"def mark_code_ranges(node, source):
    """"""
    Node is an AST, source is corresponding source as string.
    Function adds recursively attributes end_lineno and end_col_offset to each node
    which has attributes lineno and col_offset.
    """"""

    NON_VALUE_KEYWORDS = set(keyword.kwlist) - {'False', 'True', 'None'}


    def _get_ordered_child_nodes(node):
        if isinstance(node, ast.Dict):
            children = []
            for i in range(len(node.keys)):
                children.append(node.keys[i])
                children.append(node.values[i])
            return children
        elif isinstance(node, ast.Call):
            children = [node.func] + node.args

            for kw in node.keywords:
                children.append(kw.value)

            if node.starargs != None:
                children.append(node.starargs)
            if node.kwargs != None:
                children.append(node.kwargs)

            children.sort(key=lambda x: (x.lineno, x.col_offset))
            return children
        else:
            return ast.iter_child_nodes(node)    

    def _fix_triple_quote_positions(root, all_tokens):
        """"""
        http://bugs.python.org/issue18370
        """"""
        string_tokens = list(filter(lambda tok: tok.type == token.STRING, all_tokens))

        def _fix_str_nodes(node):
            if isinstance(node, ast.Str):
                tok = string_tokens.pop(0)
                node.lineno, node.col_offset = tok.start

            for child in _get_ordered_child_nodes(node):
                _fix_str_nodes(child)

        _fix_str_nodes(root)

        # fix their erroneous Expr parents   
        for node in ast.walk(root):
            if ((isinstance(node, ast.Expr) or isinstance(node, ast.Attribute))
                and isinstance(node.value, ast.Str)):
                node.lineno, node.col_offset = node.value.lineno, node.value.col_offset

    def _fix_binop_positions(node):
        """"""
        http://bugs.python.org/issue18374
        """"""
        for child in ast.iter_child_nodes(node):
            _fix_binop_positions(child)

        if isinstance(node, ast.BinOp):
            node.lineno = node.left.lineno
            node.col_offset = node.left.col_offset


    def _extract_tokens(tokens, lineno, col_offset, end_lineno, end_col_offset):
        return list(filter((lambda tok: tok.start[0] >= lineno
                                   and (tok.start[1] >= col_offset or tok.start[0] > lineno)
                                   and tok.end[0] <= end_lineno
                                   and (tok.end[1] <= end_col_offset or tok.end[0] < end_lineno)
                                   and tok.string != ''),
                           tokens))



    def _mark_code_ranges_rec(node, tokens, prelim_end_lineno, prelim_end_col_offset):
        """"""
        Returns the earliest starting position found in given tree, 
        this is convenient for internal handling of the siblings
        """"""

        # set end markers to this node
        if ""lineno"" in node._attributes and ""col_offset"" in node._attributes:
            tokens = _extract_tokens(tokens, node.lineno, node.col_offset, prelim_end_lineno, prelim_end_col_offset)
            #tokens = 
            _set_real_end(node, tokens, prelim_end_lineno, prelim_end_col_offset)

        # mark its children, starting from last one
        # NB! need to sort children because eg. in dict literal all keys come first and then all values
        children = list(_get_ordered_child_nodes(node))
        for child in reversed(children):
            (prelim_end_lineno, prelim_end_col_offset) = \
                _mark_code_ranges_rec(child, tokens, prelim_end_lineno, prelim_end_col_offset)

        if ""lineno"" in node._attributes and ""col_offset"" in node._attributes:
            # new ""front"" is beginning of this node
            prelim_end_lineno = node.lineno
            prelim_end_col_offset = node.col_offset

        return (prelim_end_lineno, prelim_end_col_offset)

    def _strip_trailing_junk_from_expressions(tokens):
        while (tokens[-1].type not in (token.RBRACE, token.RPAR, token.RSQB,
                                      token.NAME, token.NUMBER, token.STRING, 
                                      token.ELLIPSIS)
                    and tokens[-1].string not in "")}]""
                    or tokens[-1].string in NON_VALUE_KEYWORDS):
            del tokens[-1]

    def _strip_trailing_extra_closers(tokens, remove_naked_comma):
        level = 0
        for i in range(len(tokens)):
            if tokens[i].string in ""({["":
                level += 1
            elif tokens[i].string in "")}]"":
                level -= 1

            if level == 0 and tokens[i].string == "","" and remove_naked_comma:
                tokens[:] = tokens[0:i]
                return

            if level < 0:
                tokens[:] = tokens[0:i]
                return   

    def _set_real_end(node, tokens, prelim_end_lineno, prelim_end_col_offset):
        # prelim_end_lineno and prelim_end_col_offset are the start of 
        # next positioned node or end of source, ie. the suffix of given
        # range may contain keywords, commas and other stuff not belonging to current node

        # Function returns the list of tokens which cover all its children


        if isinstance(node, _ast.stmt):
            # remove empty trailing lines
            while (tokens[-1].type in (tokenize.NL, tokenize.COMMENT, token.NEWLINE, token.INDENT)
                   or tokens[-1].string in ("":"", ""else"", ""elif"", ""finally"", ""except"")):
                del tokens[-1]

        else:
            _strip_trailing_extra_closers(tokens, not isinstance(node, ast.Tuple))
            _strip_trailing_junk_from_expressions(tokens)

        # set the end markers of this node
        node.end_lineno = tokens[-1].end[0]
        node.end_col_offset = tokens[-1].end[1]

        # Try to peel off more tokens to give better estimate for children
        # Empty parens would confuse the children of no argument Call
        if ((isinstance(node, ast.Call)) 
            and not (node.args or node.keywords or node.starargs or node.kwargs)):
            assert tokens[-1].string == ')'
            del tokens[-1]
            _strip_trailing_junk_from_expressions(tokens)
        # attribute name would confuse the ""value"" of Attribute
        elif isinstance(node, ast.Attribute):
            if tokens[-1].type == token.NAME:
                del tokens[-1]
                _strip_trailing_junk_from_expressions(tokens)
            else:
                raise AssertionError(""Expected token.NAME, got "" + str(tokens[-1]))
                #import sys
                #print(""Expected token.NAME, got "" + str(tokens[-1]), file=sys.stderr)

        return tokens

    all_tokens = list(tokenize.tokenize(io.BytesIO(source.encode('utf-8')).readline))
    _fix_triple_quote_positions(node, all_tokens)
    _fix_binop_positions(node)
    source_lines = source.split(""\n"") 
    prelim_end_lineno = len(source_lines)
    prelim_end_col_offset = len(source_lines[len(source_lines)-1])
    _mark_code_ranges_rec(node, all_tokens, prelim_end_lineno, prelim_end_col_offset)
"
2086,57645,How can I split a string at the first occurrence of a letter in Python?,"import re

strs = [""71 1 * abwhf"", ""8 askg"", ""*14 snbsb"", ""00ab""]


def split_on_letter(s):
    match = re.compile(""[^\W\d]"").search(s)
    return [s[:match.start()], s[match.start():]]


for s in strs:
    print split_on_letter(s)
"
6327,51033,Finding maximal length value in dictionary,"max(len(l) for l in dict.values()) # 4
"
13164,17512,Average RMS value of an 3D audio signal in Python,"math.sqrt(numpy.mean(x*x))
"
39018,57524,Editing MS Word header with win32com,"word.ActiveDocument.Sections(1).Headers(win32.constants.wdHeaderFooterPrimary).Range.Text='test text'
"
7000,16941,Parsing large NTriples File Python,"s = RDF.HashStorage(""abc"", options=""hash-type='memory'"")
model = RDF.Model(s)
"
32966,79906,Python Caesar cypher,"import string

def Coder(shift):
    alpha = string.ascii_lowercase
    ALPHA = string.ascii_uppercase
    if 0 <= shift < 26:
        unshifted_letters = ALPHA + alpha
        shifted_letters = ALPHA[shift:] + ALPHA[:shift] + alpha[shift:] + alpha[:shift]
        return dict(zip(unshifted_letters, shifted_letters))
"
7491,17396,Usage of property() contruct in python,"class A:
    a = property(**attribute())
"
27922,22713,Change pa$$word to pa\$\$word in Python,"import re

def replacer(matchobj):
    mat = matchobj.group()
    return """".join(item for items in zip(""\\"" * len(mat), mat) for item in items)

print re.sub(r""((\$)\2+)"", replacer, ""pa$$$$word"")
# pa\$\$\$\$word

print re.sub(r""((\$)\2+)"", replacer, ""pa$$$word"")
# pa\$\$\$word

print re.sub(r""((\$)\2+)"", replacer, ""pa$$word"")
# pa\$\$word

print re.sub(r""((\$)\2+)"", replacer, ""pa$word"")
# pa$word
"
11183,32097,How to write progressing status into file,"    sys.stdout.write('beg')
    position = sys.stdout.tell()                # get position
    for i in range(10000):
        if tty:                                 # use falsetru's answer here
            print '\r',                         # as you were before
        else:
            out.seek(position)                  # or seek to position
        out.write('%% %d'%((i+1)*100.0/10000))
        out.flush()
    out.write('\nend')
"
25075,5024,Filtering data with __range,"def filter(request):
    if 'date_from' in request.GET and 'date_to' in request.GET:
        # form data has been submitted
        form = PersonForm(request.GET)
        if form.is_valid():
            date_from = form.cleaned_data['date_from']
            date_to = form.cleaned_data['date_to']
            people = Person.objects.filter(date__range=(date_from, date_to))
            table = PersonTable(people)
        else:
            table = PersonTable(Person.objects.all())
    else:
        form = PersonForm()
        table = PersonTable(Person.objects.all())
    RequestConfig(request, paginate={""per_page"": 100}).configure(table)
    args = {}
    args.update(csrf(request))
    args['form'] = form
    args['table'] = table
    return render(request, 'people.html', args)
"
28657,9524,How to define a string as a variable in python,"test = ""level""+level
d = {test: l_id}
device_level_mapping = DeviceLevelMapping.objects.filter(**d)
"
26689,15616,mutistage piping for making a toy shell for unix in python,"for ind in range(len(cmd_list)):
    if cmd_list[ind]=='|':
        count+=1
cmnds=[]
j=0
for i in range(len(cmd_list)):
    if cmd_list[i]=='|':
        cmnds.append(cmd_list[j:i])
        j=i+1
cmnds.append(cmd_list[j:])
pipes=[]
for i in range(count):
    pipes.append(tuple(os.pipe()))
if os.fork()==0:
   os.dup2(pipes[0][1],1)
   for k in range(count):
       for j in range(2):
           os.close(pipes[k][j])
   os.execvp(cmnds[0][0],cmnds[0])        
else:
    for i in range(1,count):
        if os.fork()==0:
            os.dup2(pipes[i-1][0],0)
            os.dup2(pipes[i][1],1)
            for k in range(count):
                for j in range(2):
                    os.close(pipes[k][j])
            os.execvp(cmnds[i][0],cmnds[i])
    if os.fork()==0:
        os.dup2(pipes[-1][0],0)
        for k in range(count):
            for j in range(2): 
                os.close(pipes[k][j])
        os.execvp(cmnds[-1][0],cmnds[-1])
    else:
        for k in range(count):
           for j in range(2):
               os.close(pipes[k][j])
        for i in range(count):
            os.wait()
        os.wait()
"
29140,56336,What's wrong with my scraper?,"import scrapy
from urlparse import urljoin


class CompItem(scrapy.Item):
    title = scrapy.Field()
    link = scrapy.Field()
    data = scrapy.Field()


class criticspider(scrapy.Spider):
    name = ""comp""

    allowed_domains = [""iproperty.com.my""]
    start_urls = [""http://www.iproperty.com.my/property/searchresult.aspx?t=S&gpt=AR&st=&ct=&k=&pt=&mp=&xp=&mbr=&xbr=&mbu=&xbu=&lo=&wp=&wv=&wa=&ht=&au=&sby=&ns=1""]


    def parse(self, response):
        agents = response.xpath('//li[@class=""search-listing""]//div[@class=""article-right""]')
        for agent in agents:
            item = CompItem()
            item['title'] = agent.xpath('.//a/text()').extract()[0]
            item['link'] = agent.xpath('.//a/@href').extract()[0]
            yield scrapy.Request(urljoin(""http://www.iproperty.com.my"", item['link']),
                                 meta={'item': item},
                                 callback=self.anchor_page)


    def anchor_page(self, response):
        old_item = response.request.meta['item']

        old_item['data'] = response.xpath('.//*[@id=""main-content3""]//table//table//p/text()').extract()
        yield old_item
"
1256,59150,pythonic way to use circular list,"my_list = list(range(1, 11))
while my_list:  # no need for len(lst) > 0 here, list are falsey when empty
    index = int(input()) % len(my_list)  # get index from the user, wrap if necessary
    print(my_list[index])                # print out the value at the requested index
    my_list = my_list[index+1:] + my_list[:index]  # rebuild the list without that value
"
26595,34032,Can't set layout size in Kivy,"from kivy.app import App
from kivy.uix.button import Button
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.floatlayout import FloatLayout

class TestApp(App):
    def build(self):
        root = FloatLayout()
        layout = BoxLayout(orientation='vertical', size=(200,200), size_hint=(None, None))
        btn1 = Button(text='Hello', size=(50,50), size_hint=(None, None))
        btn2 = Button(text='World', size=(50,50), size_hint=(None, None))
        layout.add_widget(btn1)
        layout.add_widget(btn2)
        root.add_widget(layout)
        return root
TestApp().run()
"
14987,25834,comparing Python code for equivalence,"import ast

x = r'''import sys
sys.stdout.write('foo\n')
sys.stdout.write('bar\n')'''

y = r'''import   sys
sys.stdout.\
    write('foo\n'); sys.stdout.\
    write(

    'bar\n') # This is an unnecessary comment'''

xd = ast.dump(ast.parse(x))
yd = ast.dump(ast.parse(y))
print xd == yd
"
10410,14990,Python summing frequencies in a file,"from collections import defaultdict

d = defaultdict(int)

with open('file') as fh:
    for line in fh:
        word, count = line.split()
        d[word] += count
"
15341,64363,Python: Logical error in recursion under double for loop,"from itertools import combinations, permutations

"""""" Process list to generate Unique strings matching given criteria """"""
def uniqLst(aList, finalList):

    """""" Iterate through outer loop to compare each string until End of Loop """"""

    # Terminate if length is 0
    if(len(aList) == 0):
        return

    # Initialize local values
    found = False
    item1 = aList[0];

    # Go through list and compare with first item
    for item2 in aList[1:len(aList)]:

        """""" Check if second string is reverse / palindrome or same """"""
        if item1[::-1] == item2 or item1 == item2:
            found = True
            print ""Removing"", item2 #Debug Data
            aList.remove(item2) # Remove second item matching criteria

    # If no item matches, add first item to final list
    if found != True:
        temp = aList.pop(0)
        finalList.append(temp)

        # Recursively call this function with updated aList
    uniqLst(aList, finalList)

    return


"""""" Main Function """"""
if __name__== ""__main__"":

    tmpLst1 = ["""".join(x) for x in permutations('ABC', 3)]
    tmpLst2 = ["""".join(x) for x in combinations('ABC', 3)]

    checkStrLst = tmpLst1 + tmpLst2

    finalList = []
    uniqLst(checkStrLst, finalList)
    print ""========================""
    print ""finalList"", finalList
"
12572,11200,how to create datetime from a negative epoch in Python,"datetime.datetime(1970, 1, 1) + datetime.timedelta(seconds=(-3739996800000/1000))
"
11019,30182,Retrieve generated LLVM from Numba,"from numba.compiler import compile_isolated

# second argument specifies the argument types to the sum function
cfunc = compile_isolated(sum, (types.int64, types.int64))

# get llvm IR as string
llvm_code_str = str(cfunc.llvm_module)
"
34268,35983,PySide QGraphicsView size,"from PySide import QtGui, QtCore
import sys

class View(QtGui.QGraphicsView):
    def __init__(self, parent = None):
        super(View, self).__init__(parent)
        self.setScene(QtGui.QGraphicsScene(self) )
        self.setSceneRect( 0, 0, 1000, 1000 )
        self.setFixedSize(500, 500)

    def mouseMoveEvent(self, event):
        print
        print self.mapToScene(event.pos()).toTuple() 
        # prints (1000, 1000) at lower-right corner
        print event.pos().toTuple()
        # prints (500, 500) at lower-right corner

class MainWindow(QtGui.QWidget):
    def __init__(self):
        super(MainWindow, self).__init__()

        self.view = View(self)

        hLayout = QtGui.QHBoxLayout()
        hLayout.addWidget(self.view)

        buttonsLayout = QtGui.QVBoxLayout()
        buttonsLayout.setSpacing(0)
        for i in range(10):
            newButton = QtGui.QPushButton()
            buttonsLayout.addWidget(newButton)
        hLayout.addLayout(buttonsLayout)

        self.tempButton = QtGui.QPushButton()

        mainLayout = QtGui.QVBoxLayout()
        mainLayout.addLayout(hLayout)
        mainLayout.addWidget(self.tempButton)
        self.setLayout(mainLayout)

    def run(self):
        self.show()  
        print
        print self.view.viewport().width() # outputs 485
        print self.view.width() # outputs 500
        print self.view.rect() # outputs QRect(0, 0, 500, 500)
        print self.view.size() # outputs QSize(500, 500)
        print self.view.sceneRect() #outputs QRect(0, 0, 1000, 1000)

if __name__ == '__main__':

    app = QtGui.QApplication(sys.argv)

    win = MainWindow()  
    win.run()  

    sys.exit(app.exec_())
"
4912,51531,Find the unmatched string within another string in python,">>> str1 = 'WeDrank$varCupCoffeeToday'
>>> str2 = 'WeDrank2CupCoffeeToday'
>>> parts = str1.split('$var')
>>> str2.replace(parts[0],'').replace(parts[1],'')
'2'
>>> str1 = 'WeDrank2CupCoffee$var'
>>> str2 = 'WeDrank2CupCoffeeToday'
>>> parts = str1.split('$var')
>>> str2.replace(parts[0],'').replace(parts[1],'')
'Today'
"
7983,75728,Get volumes attached to a node with apache-libcloud,"vol_id = [x['ebs']['volume_id'] for x in node.extra['block_device_mapping']
          if x['device_name'] == '/dev/sdb'][0]
# vol_id is a string
volume = [v for v in driver.list_volumes() if v.id == vol_id][0]
# volume is a StorageVolume
"
38394,23327,"Remove specific character from a csv file, and rewrite to a new file","import csv
import string

input_file = open('DesktopData.csv', 'r')
output_file = open('fixformat.csv', 'w')
data = csv.reader(input_file)
writer = csv.writer(output_file,quoting=csv.QUOTE_ALL)# dialect='excel')
specials = '%'

for line in data:
    line = str(line)
    new_line = str.replace(line,specials,'')
    writer.writerow(new_line.split(','))

input_file.close()
output_file.close()
"
1743,25594,Many-to-many relationships without a linking table/model,"from sqlalchemy import Table, Integer, Column, ForeignKey
from sqlalchemy.orm import relationship, backref
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

association_table = Table('association', Base.metadata,
    Column('user_id', Integer, ForeignKey('user.id')),
    Column('thing_id', Integer, ForeignKey('thing.id'))
)

class User(Base):
    __tablename__ = 'user'
    # Whatever you need in this model
    inventory = relationship('Thing', secondary = association_table, backref = 'users')

class Thing(Base):
    __tablename__ = 'thing'
    # Whatever you need in this model
"
1427,84781,Pull a string out of a string (split?),">>> output.split()[1].rsplit(""."", 1)[0]
'192.168.1'
"
28411,49979,How to use string value as a variable name in Python?,">>> candy = ['a','b','c']
>>> fruit = ['d','e','f']
>>> snack = ['g','h','i']
>>> name = 'fruit'
>>> eval(name)
['d', 'e', 'f']  
"
3579,70451,"Create a duplicate of a folder and the folders in it, while changing their names","import os
class FCopy(object):
    def __init__(self, source):
        self.source = source
        self.target = os.path.join(source, '_output')
        if not os.path.exists(self.target):
            os.makedirs(os.path.abspath(self.target))
        self.lf, self.ld = [], []

    def walk(self, path):
        for x in (os.path.join(path, x) for x in os.listdir(path)):
            if x == self.target:continue
            if os.path.isfile(x):
                self.lf.append(x)
            elif os.path.isdir(x):
                self.ld.append(x)
                self.walk(x)
            #extra code if you want to handle symlinks

    def do(self):
        #if thats all you want,
        #code this directly in walk
        self.walk(self.source)

        for x in self.ld:
            x = x.replace(self.source, self.target)
            os.makedirs(x)
        for x in self.lf:
            x = x.replace(self.source, self.target)
            with open(x, 'w') as f:pass

f = FCopy('C:\\PerfLogs\\w\\tmp\\codemirror')
f.do()
"
5098,18768,Count number of instances of object type in OrderedSet,"sum(isinstance(fruit, Orange) for fruit in basket)
"
23711,55588,How to scrape tag information from questions on Stack Exchange,"import requests

r = requests.get(
    'http://api.stackexchange.com/2.2/tags/python/related?pagesize=3&site=stackoverflow')

for item in r.json()['items']:
   print(""{name} shares {count} tags with Python"".format(**item))
"
6894,82258,Pygame: Collision by Sides of Sprite,"import pygame

WHITE = (255,255,255)
BLACK = (0  ,0  ,0  )
RED   = (255,0  ,0  )
GREEN = (0  ,255,0  )
BLUE  = (0  ,0  ,255)

class Player():

    def __init__(self, x=0, y=0, width=150, height=150):

        self.rect = pygame.Rect(x, y, width, height)

        self.speed_x = 5
        self.speed_y = 5

        self.move_x = 0
        self.move_y = 0

        self.collision = [False] * 9

        self.font = pygame.font.SysFont("""", 32)
        self.text = """";

    def set_center(self, screen):
        self.rect.center = screen.get_rect().center

    def event_handler(self, event):
        if event.type == pygame.KEYDOWN:
            if event.key == pygame.K_LEFT:
                self.move_x -= self.speed_x
            elif event.key == pygame.K_RIGHT:
                self.move_x += self.speed_x
            elif event.key == pygame.K_UP:
                self.move_y -= self.speed_y
            elif event.key == pygame.K_DOWN:
                self.move_y += self.speed_y

        elif event.type == pygame.KEYUP:
            if event.key == pygame.K_LEFT:
                self.move_x += self.speed_x
            elif event.key == pygame.K_RIGHT:
                self.move_x -= self.speed_x
            elif event.key == pygame.K_UP:
                self.move_y += self.speed_y
            elif event.key == pygame.K_DOWN:
                self.move_y -= self.speed_y

    def update(self):
        self.rect.x += self.move_x
        self.rect.y += self.move_y

    def draw(self, screen):

        pygame.draw.rect(screen, WHITE, self.rect, 2)
        self.draw_point(screen, self.rect.topleft, self.collision[0])
        self.draw_point(screen, self.rect.topright, self.collision[1])
        self.draw_point(screen, self.rect.bottomleft, self.collision[2])
        self.draw_point(screen, self.rect.bottomright, self.collision[3])

        self.draw_point(screen, self.rect.midleft, self.collision[4])
        self.draw_point(screen, self.rect.midright, self.collision[5])
        self.draw_point(screen, self.rect.midtop, self.collision[6])
        self.draw_point(screen, self.rect.midbottom, self.collision[7])

        self.draw_point(screen, self.rect.center, self.collision[8])

    def draw_point(self, screen, pos, collision):
        if not collision:
            pygame.draw.circle(screen, GREEN, pos, 5)
        else:
            pygame.draw.circle(screen, RED, pos, 5)

    def check_collision(self, rect):
        self.collision[0] = rect.collidepoint(self.rect.topleft)
        self.collision[1] = rect.collidepoint(self.rect.topright)
        self.collision[2] = rect.collidepoint(self.rect.bottomleft)
        self.collision[3] = rect.collidepoint(self.rect.bottomright)

        self.collision[4] = rect.collidepoint(self.rect.midleft)
        self.collision[5] = rect.collidepoint(self.rect.midright)
        self.collision[6] = rect.collidepoint(self.rect.midtop)
        self.collision[7] = rect.collidepoint(self.rect.midbottom)

        self.collision[8] = rect.collidepoint(self.rect.center)

    def render_collision_info(self):

        text = ""collision: ""
        print ""collision:"",

        if self.collision[0] or self.collision[2] or self.collision[4]:
            text += ""left ""
            print ""left"",

        if self.collision[1] or self.collision[3] or self.collision[5]:
            text += ""right ""
            print ""right"",

        if self.collision[0] or self.collision[1] or self.collision[6]:
            text += ""top ""
            print ""top"",

        if self.collision[2] or self.collision[3] or self.collision[7]:
            text += ""bottom ""
            print ""bottom"",

        if self.collision[8]:
            text += ""center ""
            print ""center"",

        print

        self.text = self.font.render(text, 1, WHITE)

    def draw_collision_info(self, screen, pos):
        screen.blit(self.text, pos)

#----------------------------------------------------------------------

class Game():

    def __init__(self):

        pygame.init()

        self.screen = pygame.display.set_mode( (800,600) )
        pygame.display.set_caption(""Side Collision"")

        self.player = Player()
        self.enemy  = Player()
        self.enemy.set_center(self.screen)


    def run(self):
        clock = pygame.time.Clock()

        RUNNING = True

        while RUNNING:

            # --- events ----

            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    RUNNING = False

                elif event.type == pygame.KEYDOWN:
                    if event.key == pygame.K_ESCAPE:
                        RUNNING = False

                self.player.event_handler(event)

            # --- updates ---

            self.player.update()
            self.enemy.update()

            self.player.check_collision(self.enemy.rect)
            self.enemy.check_collision(self.player.rect)
            self.player.render_collision_info()
            self.enemy.render_collision_info()

            # --- draws ----

            self.screen.fill(BLACK)

            self.player.draw(self.screen)
            self.enemy.draw(self.screen)

            self.player.draw_collision_info(self.screen, (0,0))
            self.enemy.draw_collision_info(self.screen, (0,32))

            pygame.display.update()

            # --- FPS ---

            clock.tick(30)

        pygame.quit()

#----------------------------------------------------------------------

Game().run()
"
37627,184,inverse characters from a string using 'for i in string',"text = 'caramelosticosis'
print(text[::-1])
"
6737,77645,Python Google App Engine: Call specific method from yaml file?,"application = webapp.WSGIApplication(
                                     [('/', MainPage),
                                      ('/sign', Guestbook)],
                                     debug=True)

def main():
    run_wsgi_app(application)

if __name__ == ""__main__"":
    main()
"
7459,65154,python combining two lists of tuples into one big list of tuples?,">>> first = [('a', 1), ('b',2)]
>>> second = [('c',3), ('d',4)]
>>> first + second
[('a', 1), ('b', 2), ('c', 3), ('d', 4)]
"
2803,36706,More elegant way to ignore static urls in Middleware in Django?,"def process_request(request):
    if request.path.startswith(settings.STATIC_URL):
        # do something here
"
28593,77859,C++ - something like with keyword in python,"{
  with_shader ws(shader_name)
  // use your shader
}
// binding and unbinding occured automatically, thats RAII.
"
33576,29078,Python - Ordering a list numerically,"my_list = ['csv (2).zip', 'csv (5).zip', 'csv (1).zip']
print(sorted(my_list, key = lambda x: int(x[x.index(""("") + 1 : x.rindex("")"")])))
# ['csv (1).zip', 'csv (2).zip', 'csv (5).zip']
"
19695,12538,How can I add to the tally of a chosen phrase?,"with open(""setPhrases.txt"") as out_file:
    writer = csv.writer(out_file)
    for row in file_rows:
        spamwriter.writerow(row[0],row[1])
"
34093,80759,Django clear cache for only detail view,"from django.core.cache.utils import make_template_fragment_key

def clear_cache_block(obj, lang):
    key = make_template_fragment_key('object_detail', (obj.id, lang))
    cache.delete_pattern(key)
"
23467,7279,Execute cmd-like command in Python,"subprocess.Popen([""/bin/ls"", ""-l""]
"
11398,57619,XPath query to get <li> elements below h2/h3 tags with keywords on span class attribute,"//ul[preceding::span/@class =""important"" and 
     following::span/@class = ""not_important""]/li/text()
"
16339,17599,Access Hive Data Using Python,"import sys

from hive import ThriftHive
from hive.ttypes import HiveServerException

from thrift import Thrift
from thrift.transport import TSocket
from thrift.transport import TTransport
from thrift.protocol import TBinaryProtocol

try:
  transport = TSocket.TSocket('localhost', 10000)
  transport = TTransport.TBufferedTransport(transport)
  protocol = TBinaryProtocol.TBinaryProtocol(transport)
  client = ThriftHive.Client(protocol)
  transport.open()
  client.execute(""CREATE TABLE r(a STRING, b INT, c DOUBLE)"")
  client.execute(""LOAD TABLE LOCAL INPATH '/path' INTO TABLE r"")
  client.execute(""SELECT * FROM r"")
  while (1):
    row = client.fetchOne()
    if (row == None):
       break
    print row

  client.execute(""SELECT * FROM r"")
  print client.fetchAll()
  transport.close()
except Thrift.TException, tx:
  print '%s' % (tx.message)
"
9696,53460,"Get files from Directory Argument, Sorting by Size","import os    

def get_files_by_file_size(dirname, reverse=False):
    """""" Return list of file paths in directory sorted by file size """"""

    # Get list of files
    filepaths = []
    for basename in os.listdir(dirname):
        filename = os.path.join(dirname, basename)
        if os.path.isfile(filename):
            filepaths.append(filename)

    # Re-populate list with filename, size tuples
    for i in xrange(len(filepaths)):
        filepaths[i] = (filepaths[i], os.path.getsize(filepaths[i]))

    # Sort list by file size
    # If reverse=True sort from largest to smallest
    # If reverse=False sort from smallest to largest
    filepaths.sort(key=lambda filename: filename[1], reverse=reverse)

    # Re-populate list with just filenames
    for i in xrange(len(filepaths)):
        filepaths[i] = filepaths[i][0]

    return filepaths
"
764,6322,Why is there a for in a sentence?,"scores = []
for game in games:
    score.append(game.state.getScore())
"
9163,77666,Display a float with two decimal places in Python,">>> '%.2f' % 1.234
'1.23'
>>> '%.2f' % 5.0
'5.00'
"
26005,75772,Print the following pattern in Python language,"n=int(raw_input('n='))
for i in range(1,n+1):
    for j in range(1,n+1):
        if j==1 or j==n or j==i:
            print'#',
        else:
            print' ',

    print
"
32241,55833,Remove frame from plot,"mydata['var'].plot(kind='barh', linewidth=0, width=.9, edgecolor=None)
"
15861,69502,Copy over values to new column with formula,"def copy_function(row):
    if row['col2']==1:
        return row['col2'] 
    else: 
        return row['col1']
df['col3'] = df.apply(copy_function, axis=1)
"
16826,32881,How to sort out first row in a list,"l = [""1 12"",""3 12"",""2 12""] # space separated 
n = [x.split()[0] for x in l]
print sorted(n)
"
2884,59311,Python keyword to access class variable,"class Foo(AnotherClass):
    id_counter = 0
    def __init__(self):
        super().__init__()
        self.id = type(self).id_counter
        type(self).id_counter += 1
"
12016,58316,Calling function from another staticmethod function within a class,"class MyClass:
    @staticmethod
    def somefunc(text):
        return text + '_NEW'
    @staticmethod
    def cool_function(ixdirname, ixname):
        tmp = MyClass.somefunc(ixname)
        print((ixdirname, ixname, tmp))
        return

MyClass.cool_function('FOODIR', 'FOO')
"
7545,42412,Unit-testing a flask-principal application,"import hmac
import unittest

from functools import wraps
from hashlib import sha1

import flask

from flask.ext.principal import Principal, Permission, RoleNeed, Identity, \
    identity_changed, identity_loaded current_app


def roles_required(*roles):
    """"""Decorator which specifies that a user must have all the specified roles.
    Example::

        @app.route('/dashboard')
        @roles_required('admin', 'editor')
        def dashboard():
            return 'Dashboard'

    The current user must have both the `admin` role and `editor` role in order
    to view the page.

    :param args: The required roles.

    Source: https://github.com/mattupstate/flask-security/
    """"""
    def wrapper(fn):
        @wraps(fn)
        def decorated_view(*args, **kwargs):
            perms = [Permission(RoleNeed(role)) for role in roles]
            for perm in perms:
                if not perm.can():
                    # return _get_unauthorized_view()
                    flask.abort(403)
            return fn(*args, **kwargs)
        return decorated_view
    return wrapper



def roles_accepted(*roles):
    """"""Decorator which specifies that a user must have at least one of the
    specified roles. Example::

        @app.route('/create_post')
        @roles_accepted('editor', 'author')
        def create_post():
            return 'Create Post'

    The current user must have either the `editor` role or `author` role in
    order to view the page.

    :param args: The possible roles.
    """"""
    def wrapper(fn):
        @wraps(fn)
        def decorated_view(*args, **kwargs):
            perm = Permission(*[RoleNeed(role) for role in roles])
            if perm.can():
                return fn(*args, **kwargs)
            flask.abort(403)
        return decorated_view
    return wrapper


def _on_principal_init(sender, identity):
    if identity.id == 'admin':
        identity.provides.add(RoleNeed('admin'))
    identity.provides.add(RoleNeed('member'))


def create_app():
    app = flask.Flask(__name__)
    app.debug = True
    app.config.update(SECRET_KEY='secret', TESTING=True)
    principal = Principal(app)
    identity_loaded.connect(_on_principal_init)

    @app.before_request
    def determine_identity():
        # This is where you get your user authentication information. This can
        # be done many ways. For instance, you can store user information in the
        # session from previous login mechanism, or look for authentication
        # details in HTTP headers, the querystring, etc...
        identity_changed.send(current_app._get_current_object(), identity=Identity('admin'))

    @app.route('/')
    def index():
        return ""OK""

    @app.route('/member')
    @roles_accepted('admin', 'member')
    def role_needed():
        return ""OK""

    @app.route('/admin')
    @roles_required('admin')
    def connect_admin():
        return ""OK""

    @app.route('/admin_b')
    @admin_permission.require()
    def connect_admin_alt():
        return ""OK""

    return app


admin_permission = Permission(RoleNeed('admin'))


class WorkshopTest(unittest.TestCase):

    @classmethod
    def setUpClass(cls):
        app = create_app()
        cls.app = app
        cls.client = app.test_client()

    def test_basic(self):
        r = self.client.get('/')
        self.assertEqual(r.data, ""OK"")

    def test_member(self):
        r = self.client.get('/member')
        self.assertEqual(r.status_code, 200)
        self.assertEqual(r.data, ""OK"")

    def test_admin_b(self):
        r = self.client.get('/admin_b')
        self.assertEqual(r.status_code, 200)
        self.assertEqual(r.data, ""OK"")


if __name__ == '__main__':
    unittest.main()
"
18241,1137,Django many-to-many problem in admin,"class Article(models.Model):
    tags = models.ManyToManyField(ArticleTag, blank=True, 
        related_name=""articles"")
"
145,43814,Concatenating a list of xml strings into a single xml file using Python,"""\n"".join(issuesxml)
"
13705,46293,Recursive functions and lists,"def cut(ls, n):
    if not ls:  # base 
        return []
    return (ls[:1] if ls[0] < n else []) + cut(ls[1:], n)  # peeling + rest
"
26080,23552,Template logic not working - Django,"{% for type in typeList%}
  {% if type.parent_type_id == None %} 
  <h1>{{type.title}}</h1>
  {% else %}
  {% if type.title in checked_ones %}
  <label><input type=""checkbox""  checked=""True"" value=""{{ type.title }}"" name=""key"">{{ type.title }}</label><br /> 
  {% else %}
  <label><input type=""checkbox""  value=""{{ type.title }}"" name=""key"">{{ type.title }}</label><br /> 
{% endif %}
 {% endif %}
  {% endfor %}
"
6060,61998,Override model save method to automatically store previous values of updated fields,"recording_time = models.DateTimeField(auto_now=True)
previous_value = models.FloatField(null=True, default=None)
previous_recording_time = models.DateTimeField(null=True, default=None)

def save(self, force_insert=False, force_update=False, using=None,
         update_fields=None):
    try:  
        obj = Observation.objects.get(pk=self.pk)  
        # this is the record of this instance before editing
    except Observation.DoesNotExist:  # self.pk==None: this is a new Observation
        pass
    else:  #  this is indeed an update
        self.previous_value = obj.value
        previous_db_recording_time = obj.db_recording_time
    super(Observation, self).save(force_insert=force_insert, force_update=force_update, using=using,
         update_fields=update_fields)
"
4333,17712,how to iterate over different kwargs?,"for kw_def in [
    {'kw1': 1},
    {'kw1': 23},
    {'kw2': 456},
]:
    f(arg1, ..., argN, **kw_def)
"
39335,62354,PyQtGraph Custom PlotDataItem is not receiving mouseDragEvents,"class CustomPlotItem(pg.PlotDataItem):
    def __init__(self, *args, **kargs):
        super().__init__(*args, **kargs)
        # Need to switch off the ""has no contents"" flag
        self.setFlags(self.flags() & ~self.ItemHasNoContents)

    def mouseDragEvent(self, ev):
        print(""drag"")
        if ev.button() != QtCore.Qt.LeftButton:
            ev.ignore()
            return

        if ev.isStart():
            print(""start"")
        elif ev.isFinish():
            print(""finish"")

    def shape(self):
        # Inherit shape from the curve item
        return self.curve.shape()

    def boundingRect(self):
        # All graphics items require this method (unless they have no contents)
        return self.shape().boundingRect()

    def paint(self, p, *args):
        # All graphics items require this method (unless they have no contents)
        return

    def hoverEvent(self, ev):
        # This is recommended to ensure that the item plays nicely with 
        # other draggable items
        print(""hover"")
        ev.acceptDrags(QtCore.Qt.LeftButton)
"
14450,76130,Birthday Paradox List is nonetype,"return t
"
36736,41869,how does a python program tell if it's being run within emacs?,"import os
for e in os.environ:
    if 'EMACS' in e:
        print e, os.environ[e]
"
21638,9888,Django ImageField/FileField save uploaded file using model's pk,"def image_path(instance, filename):
    return instance.id + os.path.splitext(filename)[1]

class Brand(models.Model):
    ...
    logo = models.ImageField(upload_to=image_path, null=True, blank=True)
"
1929,45215,"After starting process, how to get parent's PID in the child?","Return the parentâs process id.
"
12707,42249,using configobj to read a complete section one by one,">>> from configobj import ConfigObj

>>> config = ConfigObj('your_config_filename')

>>> config.keys()
<<< ['default', 'section1', 'section2']

>>> config['default']
<<< {'PROP1': '12345', 'PROP2': 'abcde'}
"
17140,34006,Programmatically collecting or creating tests with py.test,"pytest_plugins = ""pytester""


def test_something(testdir):
    """"""Test some thing.""""""
    testdir.makepyfile(""""""
        import pytest

        @pytest.mark.some
        def test_some():
            assert True

        @pytest.mark.some_thing_else
        def test_some_thing_else():
            assert True
    """""")
    result = testdir.runpytest('-vv')
    assert result.stdout.lines[-4:-2] == [
        u'test_something.py::test_some PASSED',
        u'test_something.py::test_some_thing_else PASSED'
    ]
"
34418,3759,What are the alternatives to SAS formats in python?,"CREATE TABLE Data(Age, [...]);
CREATE TABLE AgeGroups(AgeGroup, Min, Max);
...
SELECT AgeGroups.AgeGroup,
       Data.[...],
FROM Data
JOIN AgeGroups ON Data.Age BETWEEN AgeGroups.Min AND AgeGroups.Max;
"
39144,71763,making undo in python,"+---------+
| state_0 |
+---------+       +---------+
| next   -------> | stack_0 |
+---------+       +---------+
                  | data    |       +---------+
                  | next   -------> | state_1 |
                  +---------+       +---------+
                                    | next   ----- ...
                                    +---------+
"
32345,53144,GAE Python - Cron job doesn't execute on the target module,"appcfg update app.yaml reporting.yaml
"
16805,14608,How to check if Celery/Supervisor is running using Python,"import celery
import celery.bin.base
import celery.bin.celery
import celery.platforms

app = celery.Celery('tasks', broker='redis://')

status = celery.bin.celery.CeleryCommand.commands['status']()
status.app = status.get_app()

def celery_is_up():
    try:
        status.run()
        return True
    except celery.bin.base.Error as e:
        if e.status == celery.platforms.EX_UNAVAILABLE:
            return False
        raise e

if __name__ == '__main__':
    if celery_is_up():
        print('Celery up!')
    else:
        print('Celery not responding...')
"
34894,13913,Stack/Unstack Multi-index pivot table in Python Pandas,"writer = ExcelWriter('output.xlsx')
non_peatlands = df.loc['Non-Peatlands']
peat = df.loc['Peatlands']

peat.reset_index().to_excel(writer,'1',startrow=no_peatlands.shape[0])#not sure if you need to add +1 or -1 to start or not so header is overwritten play around with it
no_peatlands.reset_index().to_excel(writer,'1') #this comes second to overwrite the columns of peat frame
writer.save()
"
28185,48282,Need to add httpd support to this wxPython code,"from BaseHTTPServer import BaseHTTPRequestHandler, HTTPServer
   ....

class w_HttpThread(threading.Thread):
    def __init__(self, win):

       ...
"
27236,8640,How can I use PyBrain to train a simple linear function?,"#!/usr/bin/env python

from random import normalvariate

# Build the network
from pybrain.tools.shortcuts import buildNetwork
net = buildNetwork(2, 1, 1, bias=True)

# Add samples
from pybrain.datasets import SupervisedDataSet
ds = SupervisedDataSet(2, 1)
for i in range(100):
    x = normalvariate(3, 0.6)
    y = normalvariate(2, 1)
    ds.addSample((x, y), (0,))
for i in range(100):
    x = normalvariate(7, 0.5)
    y = normalvariate(1, 0.1)
    ds.addSample((x, y), (1,))

# Train with samples
from pybrain.supervised.trainers import BackpropTrainer
trainer = BackpropTrainer(net, ds, learningrate=0.1, momentum=0.99)

print(""Start training"")
print(trainer.train())
a = trainer.trainUntilConvergence(dataset=ds,
                                  maxEpochs=1000,
                                  verbose=True,
                                  continueEpochs=10,
                                  validationProportion=0.1,
                                  outlayer=softmax)

print(""Finished training"")
print(trainer.train())

# See if it remembers
print(""Test function f(x)=4x+1"")
for x in range(-10,10):
    for y in range(-10,10):
        print(""f(%i, %i) = %i"" % (x, y, net.activate((x, y))))
print(""f(%i, %i) = %i"" % (3, 2, net.activate((3, 2))))
print(""f(%i, %i) = %i"" % (7, 1, net.activate((7, 1))))
"
20573,77728,Python: How to get names of arguments in a list in a lambda?,"argsneeded = ['foo', 'bar']
def whatever(**kwargs):
    if not all(x in kwargs for x in argsneeded):
        raise ValueError('required kwarg is missing')
"
11218,80385,Semi-resizable widgets in PyQt,"import sys
from PyQt4 import QtGui, QtCore

class Example(QtGui.QWidget):
    def __init__(self):
        super(Example, self).__init__()
        self.initUI()

    def initUI(self):     
        hbox = QtGui.QHBoxLayout(self)
        left = QtGui.QFrame(self)       
        left.setFrameShape(QtGui.QFrame.StyledPanel)
        right = QtGui.QFrame(self)
        right.setFrameShape(QtGui.QFrame.StyledPanel)
        splitter = QtGui.QSplitter(QtCore.Qt.Horizontal)
        splitter.addWidget(left)
        splitter.addWidget(right)
        splitter.setStretchFactor(1, 1)
        splitter.setSizes([125, 150])
        hbox.addWidget(splitter)
        self.setLayout(hbox)
        QtGui.QApplication.setStyle(QtGui.QStyleFactory.create('Cleanlooks'))
        self.setGeometry(300, 300, 300, 200)
        self.setWindowTitle('QtGui.QSplitter')
        self.show()

def main():
    app = QtGui.QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())

if __name__ == '__main__':
    main()  
"
29181,21205,How do I get the user agent with Flask?,"from flask import request
request.headers.get('User-Agent')
"
27790,63762,Python Big Data Matrix manipulation,"xyloop2 = np.empty((ndata, kdata, 3, 3))

for i in xrange(ndata):
    xyloop2[i] = np.sum(x[i,:,:,:,None] * y[i,:,None,:,:], axis=-2)
"
19435,21786,Python Interactive Shell Type Application,"import readline
import shlex

print('Enter a command to do something, e.g. `create name price`.')
print('To get help, enter `help`.')

while True:
    cmd, *args = shlex.split(input('> '))

    if cmd=='exit':
        break

    elif cmd=='help':
        print('...')

    elif cmd=='create':
        name, cost = args
        cost = int(cost)
        # ...
        print('Created ""{}"", cost ${}'.format(name, cost))

    # ...

    else:
        print('Unknown command: {}'.format(cmd))
"
1333,39909,Backgroundworker in python,"import threading
import time

#Routine that processes whatever you want as background
def YourLedRoutine():
    while 1:
        print 'tick'
        time.sleep(1)

t1 = threading.Thread(target=YourLedRoutine)
#Background thread will finish with the main program
t1.setDaemon(True)
#Start YourLedRoutine() in a separate thread
t1.start()
#You main program imitated by sleep
time.sleep(5)
"
5079,73890,Sorting list-within-list in Python,"sorted(my_data, key=lambda data: data[4])
"
16543,1081,Is there any pythonic way to combine two dicts (adding values for keys that appear in both)?,">>> from collections import Counter
>>> A = Counter({'a':1, 'b':2, 'c':3})
>>> B = Counter({'b':3, 'c':4, 'd':5})
>>> A + B
Counter({'c': 7, 'b': 5, 'd': 5, 'a': 1})
"
31999,20521,Set an object's superclass at __init__?,"class Red(object):
    def x(self):
        print '#F00'

class Blue(object):
    def x(self):
        print '#00F'

class Shape(object):
    def __init__(self,color):
        self._color=color
    def x(self):
        return self._color.x()

class Circle(Shape):
    def __init__(self, color):
        Shape.__init__(self,color)
        self.x()

class Square(Shape):
    def __init__(self, color):
        Shape.__init__(self,color)
        self.x()
        self.sides = 4

red_circle = Circle(color=Red())
blue_circle = Circle(color=Blue())
blue_square = Square(color=Blue())
"
9712,30874,Detect http response encoding with aiohttp,"connector = aiohttp.TCPConnector(share_cookies=True)

response1 = yield from aiohttp.request('get', url1, connector=connector)
body1 = yield from response1.read_and_close()
response2 = aiohttp.request('get', url2, connector=connector)
body2 = yield from response2.read_and_close()
"
24348,14941,Python using result of function for Regular Expression Substitution,">>> def dashrepl(matchobj):
...     if matchobj.group(0) == '-': return ' '
...     else: return '-'
>>> re.sub('-{1,2}', dashrepl, 'pro----gram-files')
'pro--gram files'
"
12838,9925,Optimized code to check the element of list unique or not,"if len(l) != len(set(l)):
    # not unique
"
12958,70186,Drawing a 2D function in matplotlib,"import numpy as np
import matplotlib.pyplot as plt

# code to simulate the perceptron goes here...

res = your_object.alpha_convergence_function()
res = np.asarray(res)

print('array size:', res.shape)

plt.xkcd()   # so you get the sketchy look :)

# first column -> x-axis, second column -> y-axis
plt.plot(res[:,0], res[:,1])
plt.show()
"
3837,15763,How to find the containing class of a decorated method in Python,"@decorate
class MyClass(object):

  @my_decorator(arg1=""one"", arg2=""two"")
  def decorated_method(self):
"
38721,20839,Using multiprocessing to speed up a search,"import random
import multiprocessing as mp

def search(qOut):
    while True:
        nums = list(range(1000))  # use a smaller range to test code
        random.shuffle(nums)
        if {1, 3, 13} - set(nums[:20]) == set(): # some random hard-coded search
            qOut.put(nums)

def find():
    q = mp.Queue()
    numProcs = mp.cpu_count() -1  # one per processor
    procs = [mp.Process(target=search, args=(q,) for _ in range(numProcs)]
    for p in procs:
        p.start()

    res = q.get()
    print(""Got a result"")

    for p in procs:
        p.terminate()
"
23611,1484,How to transpose a 3D list in python?,"m = [[['a00',  'z00'], ['a01',  'z01'],  ['a09',  'z09']],
[['a10',  'z10'], ['a11',  'z11'],  ['a19',  'z19']],   
[['a90',  'z90'], ['a91',  'z91'],  ['a99',  'z99']]]

from itertools import chain
print zip(*(chain(*m))

[('a00', 'a01', 'a09', 'a10', 'a11', 'a19', 'a90', 'a91', 'a99'), 
('z00', 'z01', 'z09', 'z10', 'z11', 'z19', 'z90', 'z91', 'z99')]
"
2035,51777,Detecting daily recurrency in pandas,"n_days_in_row_played = 1
last_team = """"
last_date = datetime(1,1,1)
n_days = []
for row in df[(['Date', 'Team'])].iterrows():
    i, data = row
    date, team = data
    if team != last_team or (date - last_date).days > 1:
        last_team = team
        n_days_in_row_played = 1
    else:
        n_days_in_row_played += 1
    n_days.append(n_days_in_row_played)
    last_date = date
df['n_days'] = n_days
df
    Date    Team    n_days
0   2014-11-01  DAL     1
1   2014-11-02  CHI     1
2   2014-11-03  CHI     2
3   2014-11-04  DAL     1
4   2014-11-05  CHI     1
5   2014-11-06  CHI     2
6   2014-11-07  DAL     1
7   2014-11-08  DAL     2
8   2014-11-09  DAL     3
9   2014-11-10  DAL     4
10  2014-11-11  CHI     1
11  2014-11-12  CHI     2
12  2014-11-13  CHI     3
13  2014-11-14  CHI     4
# Skipped day resets the count.
15  2014-11-16  CHI     1
16  2014-11-17  CHI     2
17  2014-11-18  CHI     3
18  2014-11-19  CHI     4
19  2014-11-20  DAL     1
"
6320,23539,Immediately output user input to console,"import sys
for line in iter(sys.stdin.readline,""""):
    print(line)
"
28347,1375,Python - Multiple SQL queries within code,"cur.execute(""SELECT status FROM users WHERE id=%s"", (clientIDInput, ))
data = cur.fetchone()
if not data:
    print ""The ID has not been found in the database""
else:
    status = data[0]
    if status:
        print ""This person is already checked in. Checking out now."" 
        # Update MySQL database and change status from 1 to 0
    else:
        print ""This person has not checked in yet. Checking in now.""
"
34970,10602,"python 3.x tkinter, integrating frames from opencv cv2 into tkinter window","from PIL import Image, ImageTk (add library)
mGui = Tk()
mGui.geometry('600x600+0+0')
mGui.configure(background=""Sky Blue"")

fframe = Frame(mGui, width=500, height=500)
fframe.place(x=50, y=50)

cap = cv2.VideoCapture(0)
ret, frame = cap.read()

v1 = Label(fframe, text=""fchgvjvjhb"")
v1.place(x=0, y=10)
v2 = Label(fframe, text=""ajajajaja"")
v2.place(x=300, y=10)

def dddd():
 ret, frame = cap.read()

 img = Image.fromarray(frame)
 nimg = ImageTk.PhotoImage(image=img)

 v1.n_img = nimg
 v1.configure(image=nimg)


 gray = cv2.cvtColor(frame,cv2.COLOR_BGR2GRAY)
 gimg = Image.fromarray(gray)
 gnimg = ImageTk.PhotoImage(image=gimg)

 v2.ng_img = gnimg
 v2.configure(image=gnimg)
 mGui.after(10, dddd)    

dddd()
mGui.mainloop()
"
38618,25025,Create new column of cleaned string data with Python/pandas,"In [63]:

df['cleaned'] = np.where(df['input'].str.contains('<'), df['input'].str.extract('<(.*)>'), df['input'])

df

Out[63]:
                                            input  val_1  val_2  \
0  Captain Jean-Luc Picard <picard@starfleet.com>    1.5    7.3   
1                       deanna.troi@starfleet.com    3.6   -2.5   
2                              data@starfleet.com    2.4    3.4   
3             William Riker <riker@starfleet.com>    2.9    1.5   

                     cleaned  
0       picard@starfleet.com  
1  deanna.troi@starfleet.com  
2         data@starfleet.com  
3        riker@starfleet.com  
"
11130,67425,Access django models inside of Scrapy,"def setup_django_env(path):
    import imp, os
    from django.core.management import setup_environ

    f, filename, desc = imp.find_module('settings', [path])
    project = imp.load_module('settings', f, filename, desc)       

    setup_environ(project)

setup_django_env('/path/to/django/project/')
"
1033,70914,Best algorithm for detecting interior and exterior angles of an arbitrary shape in python,"# Its a square with the top edge poked in
points = [
    ( 1.0,  1.0),
    ( 0.0,  0.0),
    (-1.0,  1.0),
    (-1.0, -1.0),
    ( 1.0, -1.0)]


def angle(x1, y1, x2, y2):
    # Use dotproduct to find angle between vectors
    # This always returns an angle between 0, pi
    numer = (x1 * x2 + y1 * y2)
    denom = sqrt((x1 ** 2 + y1 ** 2) * (x2 ** 2 + y2 ** 2))
    return acos(numer / denom) 


def cross_sign(x1, y1, x2, y2):
    # True if cross is positive
    # False if negative or zero
    return x1 * y2 > x2 * y1

for i in range(len(points)):
    p1 = points[i]
    ref = points[i - 1]
    p2 = points[i - 2]
    x1, y1 = p1[0] - ref[0], p1[1] - ref[1]
    x2, y2 = p2[0] - ref[0], p2[1] - ref[1]

    print('Points', p1, ref, p2)
    print('Angle', angle(x1, y1, x2, y2))
    if cross_sign(x1, y1, x2, y2):
        print('Inner Angle')
    else:
        print('Outer Angle')
    print('')
"
28679,77976,Why does backward recursion execute faster than forward recursion in python,"print(countChange(30, list(reversed(range(1, 31)))))
print(countChange2(30, list(reversed(range(1, 31)))))
"
2572,3594,Simulate a triggered(QAction *) in a menu,"action = menu.addAction(linktype)
...
action.trigger();
"
31525,38548,"Python 2.7, how to store multiple fields into seperate list","county = []
x_coor = []
y_coor = []
observed = []
expected = []

for line in lines:
    row = line.split(',')

    county.append(row[0])
    x_coor.append(row[1])
    y_coor.append(row[2])
    observed.append(row[3])
    expected.append(row[4])
"
22065,23722,Can for-loop index depend on the varying length of a list?,"i = 0
while i < len(ml):
  if ml[i] == 2:
    ml.pop(i)
    continue
  i+=1
"
2352,49496,Combine two lists: aggregate values that have similar keys,"counter = dict(
    (a[0], (a[1], a[2]))
    for a in listX
)

for key, v1, v2 in listY:
    if key not in counter:
        counter[key] = (0, 0)
    counter[key][0] += v1
    counter[key][1] += v2

result = [(key, value[0], value[1]) for key, value in counter.items()]
"
23821,53535,Find a application width and height - Crossplatform,"import win32con
import win32gui

def inText(haystack, needle, n):
    parts= haystack.split(needle, n+1)
    if len(parts)<=n+1:
        return False
    if len(haystack)-len(parts[-1])-len(needle):
        return True

def isRealWindow(hWnd):
    '''Return True if given window is a real Windows application window.'''
    if not win32gui.IsWindowVisible(hWnd):
        return False
    if win32gui.GetParent(hWnd) != 0:
        return False
    hasNoOwner = win32gui.GetWindow(hWnd, win32con.GW_OWNER) == 0
    lExStyle = win32gui.GetWindowLong(hWnd, win32con.GWL_EXSTYLE)
    if (((lExStyle & win32con.WS_EX_TOOLWINDOW) == 0 and hasNoOwner)
      or ((lExStyle & win32con.WS_EX_APPWINDOW != 0) and not hasNoOwner)):
        if win32gui.GetWindowText(hWnd):
            return True
    return False

def getWindowSizes(text):
    '''Return a list of tuples (handler, (width, height)) for each real window.'''
    def callback(hWnd, extra):
        if not isRealWindow(hWnd):
            return
        title   = win32gui.GetWindowText(hWnd)
        rect    = win32gui.GetWindowRect(hWnd)
        isFrame = inText(title, text, 0)
        if(isFrame):
            windows.append((title, rect[2] - rect[0], rect[3] - rect[1], rect[0],rect[1]))
    windows = []
    win32gui.EnumWindows(callback, windows)
    return windows

def findWindow(text):
    window = getWindowSizes(text)
    name = window[0][0]
    w = window[0][1]
    h = window[0][2]
    x = window[0][3]
    y = window[0][4]

    return name,w,h,x,y
"
910,74872,Change the position of widget within a grid?,"...
my_button.grid(row=0, column=1, ...)
...
my_button.grid(row=1, column=3, ...)
...
"
17317,10624,Python: getting filename case as stored in Windows?,">>> import win32api
>>> win32api.GetLongPathName(win32api.GetShortPathName('texas.txt')))
'TEXAS.txt'
"
4104,38236,Secure static files with flask,"class SecuredStaticFlask(Flask):
    def send_static_file(self, filename):
        # Get user from session
        if user.is_authenticated():
            return super(SecuredStaticFlask, self).send_static_file(filename)
        else:
            abort(403) 
            # Or 401 (or 404), whatever is most appropriate for your situation
"
37896,77125,Joining elements in a list to a new list in Python,"blocks = ["""".join(adpcm_packets[i:i+13]) for i in range(0, len(adpcm_packets), 13)]
"
6753,71257,Caching Mashape API calls in Python,"url = ""https://something_api.p.mashape.com/q=whateverquery"",
headers={""X-Mashape-Key"": ""ABCDEFG12345""}
test = fetchMashape(url, headers)

def fetchMashape(url, headers):
    cached = cache.get(url)
    content = """"
    if not cached:
        response = unirest.get(url,
              headers=headers)
        print ""not cached""
        if response is not None:
            cache.set(url, response.raw_body)
            content = response.raw_body
        else:
            content = None
    else:
        content = cached
        print ""already cached""

    dictionary = json.loads(content)

    return dictionary
"
38840,54069,Extracting a URL's in Python from XML,"re.findall(r'(https?://[^\s""]+)', s)
"
26959,64123,Python regex to split string by different brackets,"# -*- coding: utf-8 -*-
import re

primary_regex = ""set<array<(char|float|int), .*>>""
struct_regex = (
    ""set<array<struct{((int|char|float)\s+.*,)*\s+((int|char|float) .*)}, .*>>""
)


def extract(define_str):
    m = re.match(primary_regex, define_str)
    result = {
        'base_type': 'array',
    }

    if m is None:
        m = re.match(struct_regex, define_str)

        if m is None:
            # Invalid define_str, return None
            return None

        # Result of m.groups() is a tuple alike
        # ('int foo,', 'int', 'char bar', 'char')
        sub_type = m.groups()[1::2]
        result['type'] = 'struct'
        result['sub_type'] = sub_type
    else:
        primary_type = m.group(1)
        result['type'] = primary_type

    return result
"
6189,61899,Scale image in matplotlib without changing the axis,"from matplotlib import pyplot

f = pyplot.figure()
a = f.add_subplot(111, frameon=False) # Remove frame
a.plot(...)

myimg = pyplot.imread(...)
imgaxes = f.add_axes(a.get_position(), # new axes with same position
    label='image', # label to ensure imgaxes is different from a
    zorder=-1, # put image below the plot
    xticks=[], yticks=[]) # remove the ticks
img = imgaxes.imshow(myimg, aspect='auto') # ensure image takes all the place

# now, to modify things
img.set_alpha(...)
imgaxes.set_xlim((x1, x2)) # x1 and x2 must be calculated from
                           # image size, origin, and zoom factor
"
8585,55645,wxPython Progress bar crashes and not works as expected,"import wx, time, thread

class MainFrame ( wx.Frame ):

    def __init__( self, parent ):
        wx.Frame.__init__ ( self, parent, id = wx.ID_ANY, title = u""Progress Bar Example"", pos = wx.DefaultPosition, size = wx.Size( 460,135 ), style = wx.CAPTION|wx.CLOSE_BOX|wx.TAB_TRAVERSAL )

        self.SetSizeHintsSz( wx.DefaultSize, wx.DefaultSize )

        bSizer2 = wx.BoxSizer( wx.VERTICAL )

        self.progress = wx.Gauge( self, wx.ID_ANY, 100, wx.Point( 10,10 ), wx.Size( 400,-1 ), wx.GA_HORIZONTAL|wx.GA_SMOOTH )
        self.progress.SetValue( 0 ) 
        self.progress.SetForegroundColour( wx.Colour( 255, 255, 255 ) )

        bSizer2.Add( self.progress, 0, wx.ALL, 5 )

        self.start_again = wx.Button( self, wx.ID_ANY, u""START"", wx.DefaultPosition, wx.DefaultSize, 0 )
        bSizer2.Add( self.start_again, 0, wx.ALL, 5 )


        self.SetSizer( bSizer2 )
        self.Layout()

        self.Centre( wx.BOTH )

        # Connect Events
        self.start_again.Bind( wx.EVT_BUTTON, self.run_progreee_bar)

    def __del__( self ):
        pass


    # Virtual event handlers, overide them in your derived class
    def run_progreee_bar( self, event ):
        thread.start_new_thread(self.update_progress_bar, ())

    def update_progress_bar(self):
        self.start_again.Disable()
        self.progress.SetValue( 0 )
        for i in range(101):
            self.progress.SetValue( i )
            self.delay()
        self.start_again.Enable()

    def delay(self):
        time.sleep(0.5)

app  = wx.App()
frame = MainFrame(None)
frame.Show()
app.MainLoop()
"
22750,10636,Keep a subprocess alive and keep giving it commands? Python,"from subprocess import Popen, PIPE

# Run ""cat"", which is a simple Linux program that prints it's input.
process = Popen(['/bin/cat'], stdin=PIPE, stdout=PIPE)
process.stdin.write('Hello\n')
print repr(process.stdout.readline()) # Should print 'Hello\n'
process.stdin.write('World\n')
print repr(process.stdout.readline()) # Should print 'World\n'

# ""cat"" will exit when you close stdin.  (Not all programs do this!)
process.stdin.close()
print 'Waiting for cat to exit'
process.wait()
print 'cat finished with return code %d' % process.returncode
"
7325,45,"Python, argparse: turn off help description for selected parameters","import argparse

args = ('foo','bar','baz','qux')    
parser = argparse.ArgumentParser()

for x in args:
    parser.add_argument('--{0}'.format(x),help=x if x != 'baz' else argparse.SUPPRESS)

parser.parse_args(['-h'])
"
7599,47045,Constructing Django filter queries dynamically with args and kwargs,"argument_list = [] #keep this blank, just decalring it for later
fields = ('title') #any fields in your model you'd like to search against
query_string = 'Foo Bar' #search terms, you'll probably populate this from some source

for query in query_string.split(' '):  #breaks query_string into 'Foo' and 'Bar'
    for field in fields:
        argument_list.append( Q(**{field+'__icontains':query_object} ) ) 

query = Entry.objects.filter( reduce(operator.or_, argument_list) )

# --UPDATE-- here's an args example for completeness

order = ['publish_date','title'] #create a list, possibly from GET or POST data
ordered_query = query.order_by(*orders()) # Yay, you're ordered now!
"
16145,12820,Interpolation/subsampling of 3D data in python without VTK,"import numpy as np
import scipy.interpolate as interpolate
import matplotlib.pyplot as plt


def func(x, y, z):
    return x ** 2 + y ** 2 + z ** 2

# Nx, Ny, Nz = 181, 181, 421
Nx, Ny, Nz = 18, 18, 42

subsample = 2
Mx, My, Mz = Nx // subsample, Ny // subsample, Nz // subsample

# Define irregularly spaced arrays
x = np.random.random(Nx)
y = np.random.random(Ny)
z = np.random.random(Nz)

# Compute the matrix D of shape (Nx, Ny, Nz).
# D could be experimental data, but here I'll define it using func
# D[i,j,k] is associated with location (x[i], y[j], z[k])
X_irregular, Y_irregular, Z_irregular = (
    x[:, None, None], y[None, :, None], z[None, None, :])
D = func(X_irregular, Y_irregular, Z_irregular)

# Create a uniformly spaced grid
xi = np.linspace(x.min(), x.max(), Mx)
yi = np.linspace(y.min(), y.max(), My)
zi = np.linspace(y.min(), y.max(), Mz)
X_uniform, Y_uniform, Z_uniform = (
    xi[:, None, None], yi[None, :, None], zi[None, None, :])

# To use griddata, I need 1D-arrays for x, y, z of length 
# len(D.ravel()) = Nx*Ny*Nz.
# To do this, I broadcast up my *_irregular arrays to each be 
# of shape (Nx, Ny, Nz)
# and then use ravel() to make them 1D-arrays
X_irregular, Y_irregular, Z_irregular = np.broadcast_arrays(
    X_irregular, Y_irregular, Z_irregular)
D_interpolated = interpolate.griddata(
    (X_irregular.ravel(), Y_irregular.ravel(), Z_irregular.ravel()),
    D.ravel(),
    (X_uniform, Y_uniform, Z_uniform),
    method='linear')

print(D_interpolated.shape)
# (90, 90, 210)

# Make plots
fig, ax = plt.subplots(2)

# Choose a z value in the uniform z-grid
# Let's take the middle value
zindex = Mz // 2
z_crosssection = zi[zindex]

# Plot a cross-section of the raw irregularly spaced data
X_irr, Y_irr = np.meshgrid(sorted(x), sorted(y))
# find the value in the irregular z-grid closest to z_crosssection
z_near_cross = z[(np.abs(z - z_crosssection)).argmin()]
ax[0].contourf(X_irr, Y_irr, func(X_irr, Y_irr, z_near_cross))
ax[0].scatter(X_irr, Y_irr, c='white', s=20)   
ax[0].set_title('Cross-section of irregular data')
ax[0].set_xlim(x.min(), x.max())
ax[0].set_ylim(y.min(), y.max())

# Plot a cross-section of the Interpolated uniformly spaced data
X_unif, Y_unif = np.meshgrid(xi, yi)
ax[1].contourf(X_unif, Y_unif, D_interpolated[:, :, zindex])
ax[1].scatter(X_unif, Y_unif, c='white', s=20)
ax[1].set_title('Cross-section of downsampled and interpolated data')
ax[1].set_xlim(x.min(), x.max())
ax[1].set_ylim(y.min(), y.max())

plt.show()
"
28122,24863,Centering a Tkinter Toplevel window in both windows and remote X11?,"#// Done!
self.withdraw()
self.grid()
self.transient(self._parent)
self.grab_set()
self.form.initial_focus()
center(self)
self.deiconify()
self._parent._parent.wait_window(self)
"
13402,78313,Efficiently populate SciPy sparse matrix from subset of dictionary,"A.T * A
"
29657,10460,How to iterate through an array and pass each element onto a method?,"x.zip(y){|x, y| ... add(x, y) ...}
"
1998,16964,How to get from python reply and display it on browser?,"$.post('/request', {inputText: fbNum,key_pressed: fbType.toString()}).done(function (reply) {
    if (/^Count\s*=/.test(reply)) {
        $('#status_table tr #'+eachStatus).empty().append(reply.replace(/Count\s*=\s*/, ''));
    } 
});
"
29786,25458,File encoding from English text to UTF-8,"iconv -f `uchardet a_strange_file.txt` -t UTF-8 -o the_output_file.txt a_strange_file.txt
"
21412,2961,Return two SqlAlchemy Columns concatenated,"from sqlalchemy.ext.hybrid import hybrid_property

class Person(Base):
    # ...
    @hybrid_property
    def name(self):
        return '{0} {1}'.format(self.first_name, self.last_name)

    @name.setter
    def name(self, value):
        self.first_name, self.last_name = value.split(' ', 1)

    @name.expression
    def name(cls):
        return db.func.concat(cls.first_name, ' ', cls.last_name)
"
14675,34512,How to solve an LCP (linear complementarity problem) in python?,"from cvxopt import matrix, spmatrix
from cvxopt.blas import gemv
from cvxopt.solvers import qp

def append_matrix_at_bottom(A, B):
    l = []
    for x in xrange(A.size[1]):
        for i in xrange(A.size[0]):
            l.append(A[i+x*A.size[0]])
        for i in xrange(B.size[0]):
            l.append(B[i+x*B.size[0]])
    return matrix(l,(A.size[0]+B.size[0],A.size[1]))

M = matrix([[ 4.0,  6, -4,    1.0 ],
            [ 6,  1,  1.0,     2.0 ],
            [-4,  1.0,   2.5,  -2.0 ],
            [ 1.0,   2.0,   -2.0,     1.0 ]])
q = matrix([12, -10, -7.0, 3])

I = spmatrix(1.0, range(M.size[0]), range(M.size[1]))
G = append_matrix_at_bottom(-M, -I)   # inequality constraint G z <= h
h = matrix([x for x in q] + [0.0 for _x in range(M.size[0])])

sol = qp(2.0 * M, q, G, h)      # find z, w, so that w = M z + q
if sol['status'] == 'optimal':
    z = sol['x']
    w = matrix(q)
    gemv(M, z, w, alpha=1.0, beta=1.0)   # w = M z + q
    print(z)
    print(w)
else:
    print('failed')
"
9986,7568,How to generate several matplotlib charts at a time?,"def do_pie(fic,data):
    import pylab    
    # make a square figure and axes
    pylab.figure(1, figsize=(6,6))
    ax = pylab.axes([0.1, 0.1, 0.8, 0.8])
    pylab.pie(data,labels=data)
    pylab.title(fic, bbox={'facecolor':'0.8', 'pad':5})
    pylab.savefig('%s.png' % fic,dpi=100)
    pylab.close()
"
25711,57260,Suggestions for faster for/if statements in my code?,"file = open('input.txt', 'r')

#coordinates
c = {}

for line in file:
    #items
    (x, y, z) = (float(n) for n in line.split())

    if (x, y) not in c:
        c[(x, y)] = [z, 1]
    elif c[(x, y)][0] > z:
        c[(x, y)][0], c[(x, y)][1] = z, 1
    elif c[(x, y)][0] == z:
        c[(x, y)][1] += 1

for key in c:
    print(""{} {} {} {}"".format(key[0], key[1], c[key][0], c[key][1]))
"
20271,12757,Python:Pygame: How to animate a ball to move in a sin() like pattern?,"import math
import pygame

pygame.init()
screen = pygame.display.set_mode((400,400))

while True:
    t = pygame.time.get_ticks() / 2  % 400 # scale and loop time
    x = t
    y = math.sin(t/50.0) * 100 + 200       # scale sine wave
    y = int(y)                             # needs to be int

    screen.fill((0,0,0))
    pygame.draw.circle(screen, (255,255,255), (x, y), 40)

    pygame.display.flip()
"
17944,84988,Merge Sort does not work on large data set,"file = open('IntegerArray.txt','r')
integerArray = []
for line in file.readlines():
    integerArray.append(int(line.strip()))
"
11318,56535,comparing two strings with 'is' -- not performing as expected,"uSplit('theuser!host')
"
31874,32924,Export to CSV separating all chars into fields,"EB-ABORTZ,True,False,False,0
EB-AGONCHAROVA,True,False,False,0
EB-AHART-1,True,False,False,0
EB-AHEIDENREICH,True,False,False,0
EB-ALOCKLEAR,True,False,False,0
EB-AMARGULIS,True,False,False,0
EB-ASKLAR,True,False,False,0
EB-ASKLAR-1,True,False,False,0
EB-ASKLAR-3,True,False,False,0
EB-BCHOW-1,True,False,False,0
EB-BJOHNSON,True,False,False,0
EB-BLYLE,True,False,False,0
EB-BRUSSUM,True,False,False,0
EB-CCLEARY,True,False,False,0
"
12912,15639,how to use list name from string variable,"month_list = []
year_list = []
lists = [month_list, year_list]
dict = {0 : year_list, 1:month_list}

for i, values in enumerate(data[:2]):
    dict[i].append(<data>)

print 'month_list - ', month_list[0]
print 'year_list - ', year_list[0]

>>> month_list -  ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
>>> year_list -  ['2012', '2011', '2010', '2009', '2008', '2007', '2006', '2005', '2004', '2003']
"
5641,14069,Python show all installed packages,"import apt
cache = apt.Cache()

for mypkg in apt.Cache():
    if cache[mypkg.name].is_installed:
        print mypkg.name
"
29065,78597,Python: simple iteration of lists in a dict,">>> o = {
    2: [0, 148, 149, 150, 151],
    3: [0, 152, 153, 154, 155, 156],
    4: [0, 157, 158, 159, 160],
    5: [0, 161, 162, 163, 164, 165, 166]
}
>>> for key in o:
        seq = o[key]
        print key
        print seq
        print


2
[0, 148, 149, 150, 151]

3
[0, 152, 153, 154, 155, 156]

4
[0, 157, 158, 159, 160]

5
[0, 161, 162, 163, 164, 165, 166]   
"
15092,8020,Python: Batching tweets in an array using tweepy stream listener,"container = []
class stdoutlistener(StreamListener):
    def on_data(self, data):
        global container
        container.append(data)
        if len(container) > 10:
            for each in container:
                # Perform operation on each
            container = []
"
35584,31264,Complex sort using lambda,"sorted_urls = sorted(all_urls, key=lambda x: ('season-' in x, 'en' not in x))
"
16964,31217,Using re module in python to extract data between two brackets,"jcomeau@intrepid:/tmp$ python
Python 2.6.7 (r267:88850, Jun 13 2011, 22:03:32) 
[GCC 4.6.1 20110608 (prerelease)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> import re
>>> re.compile('\(([^)]*)\)').search(""transparent url(http://www.google.com/chart?chs=630x100&cht=bvs&chxt=x&chxl=0:%7C1840%7C1860%7C1880%7C1900%7C1920%7C1940%7C1960%7C1980%7C2000%7C&chxr=0,0,100&chxs=0,676767,11.3000002,0,tl,676767,676767&chd=e:D9AACPFjGWAAGDLfCeFgBvHLLSCZGED5GOKwDKCxJmF2FwFfERFwEZGcEJHlENJDJ9I0HQDjE-MAK2J9NMI9IAFtNaIOKtGoG2IYKBFvLEJmMLHdIFHXG.IPHrK2I9ULROI8SfHRFTeCIrQPOwXgPHVxQkbCbhg8iDwIvKkety..AAAAAAAA&chbh=7,0,0&chg=11.11,0,5,6&chxp=0,0.0,11.1,22.2,33.3,44.4,55.6,66.7,77.8,88.9&chco=3366cc,bbcced&chm=R,bbbbbb,0,0.9954,1.0%7Ch,bbbbbb,0,1.0,1.0,1&chxs=0,000000,11,-1&hl=en)"").groups()[0]
'http://www.google.com/chart?chs=630x100&cht=bvs&chxt=x&chxl=0:%7C1840%7C1860%7C1880%7C1900%7C1920%7C1940%7C1960%7C1980%7C2000%7C&chxr=0,0,100&chxs=0,676767,11.3000002,0,tl,676767,676767&chd=e:D9AACPFjGWAAGDLfCeFgBvHLLSCZGED5GOKwDKCxJmF2FwFfERFwEZGcEJHlENJDJ9I0HQDjE-MAK2J9NMI9IAFtNaIOKtGoG2IYKBFvLEJmMLHdIFHXG.IPHrK2I9ULROI8SfHRFTeCIrQPOwXgPHVxQkbCbhg8iDwIvKkety..AAAAAAAA&chbh=7,0,0&chg=11.11,0,5,6&chxp=0,0.0,11.1,22.2,33.3,44.4,55.6,66.7,77.8,88.9&chco=3366cc,bbcced&chm=R,bbbbbb,0,0.9954,1.0%7Ch,bbbbbb,0,1.0,1.0,1&chxs=0,000000,11,-1&hl=en'
"
21347,4769,Dumping HTTP requests with Flask,"from flask import request, current_app

@app.before_request
def log_request():
    if current_app.config.get('LOG_REQUESTS'):
        current_app.logger.debug('whatever')
        # Or if you dont want to use a logger, implement
        # whatever system you prefer here
        # print request.headers
        # open(current_app.config['REQUEST_LOG_FILE'], 'w').write('...')
"
8309,79397,Nosetests ran 0 tests,"nosetests --with-doctest --doctest-extension=txt
"
13938,33721,Python interact with running process,"from subprocess import Popen, PIPE
p = Popen(['omxplayer', filePath], stdin=PIPE, stdout=PIPE, stderr=PIPE, close_fds=True)
p.stdin.write(' ') # sends a space to the running process
p.stdin.flush() # if the above isn't enough, try adding a flush
"
23234,12433,linestyle feature for plotting in python with matplotlib.pyplot,"x_vals = []
y_vals = []

for i in range(0,len(lines)):
    line=lines[i] 
    values=line.split(""     "")

    x_vals.append(float(values[0]))
    y_vals.append(float(values[1]))

plt.plot(x_vals, y_vals,'ro-')
"
3495,62088,Python Wrap Class Method,"class MetaClass(type):
    @staticmethod
    def wrap(run):
        """"""Return a wrapped instance method""""""
        def outer(self):
            print ""PRE"",
            return_value = run(self)
            print ""POST""
            return return_value
        return outer
    def __new__(cls, name, bases, attrs):
        """"""If the class has a 'run' method, wrap it""""""
        if 'run' in attrs:
            attrs['run'] = cls.wrap(attrs['run'])
        return super(MetaClass, cls).__new__(cls, name, bases, attrs)

class MyClass(object):
    """"""Use MetaClass to make this class""""""
    __metaclass__ = MetaClass
    def run(self): print 'RUN',

myinstance = MyClass()

# Prints PRE RUN POST
myinstance.run()
"
36061,47173,How to get all elements text in sequential order,"from itertools import chain

headings = [i.get_text() for i in chain.from_iterable(x.find_all(""div"") for x in table.find(""tr"").find_all(""td""))]
"
4738,32762,Return the corresponding value in multiple columns Pandas,"d = df2.set_index('map_id').to_dict()
print d['renum_id']
{'A': 1, 'C': 2, 'B': 3, 'E': 4, 'D': 5, 'G': 10, 'F': 6, 'H': 9, 'N': 11, 'Q': 7, 'V': 8}

df3 = df1.replace(d['renum_id'])
df3.columns = [col + '/' for col in df3.columns]
print df3

   anID/ siID/ daID/
0      1     0     0
1      5     0     0
2      4     0     0
3      6     0     0
4     10     1     5
5      9     4     5
6      3     0     0
7      I     4     M
8      L     6     0
9      M     3     9
10    11     1     5

print pd.concat([df1, df3], axis=1)

   anID siID daID anID/ siID/ daID/
0     A    0    0     1     0     0
1     D    0    0     5     0     0
2     E    0    0     4     0     0
3     F    0    0     6     0     0
4     G    A    D    10     1     5
5     H    E    D     9     4     5
6     B    0    0     3     0     0
7     I    E    M     I     4     M
8     L    F    0     L     6     0
9     M    B    H     M     3     9
10    N    A    D    11     1     5
"
1185,13151,Tic-Tac-Toe Game,"def enterguess(turncount):
    def guess(name):
        return (int(input(""\n"" + players[name] + "", Enter row number: "")),
                int(input(players[name] + "", Enter column number: "")))

    if turncount % 2 == 0:
        (row, col) = guess('player1')

        try:
            if board[row - 1][col - 1] in [sym['player1'], sym['player2']]:
                print ""\n"" + players['player2'] + "" already took that spot! Please guess again.""
                return enterguess(turncount)
        except:
            print ""\nPlease enter the indexes between 1 and 3.""
            return enterguess(turncount)

    else:
        (row, col) = guess('player2')

        try:
            if board[row - 1][col - 1] in [sym['player1'], sym['player2']]:
                print ""\n"" + players['player1'] + "" already took that spot! Please guess again.""
                return enterguess(turncount)
        except IndexError:
            print ""\nPlease enter a number between 1 and 3.""
            return nterguess(turncount)

    return (row - 1, col - 1)
"
10684,15110,Proper way to quit a function in Python,"  if(c==a):
     do something
     return 
"
2288,1049,cx_oracle deleting with executemany?,"import sqlite3
conn = sqlite3.connect(':memory:')
conn.execute('create table t (c);')
conn.executemany(""insert into t values (?);"", ('a','b','c',))
conn.execute('select c from t;').fetchall()
# -> [(u'a',), (u'b',), (u'c',)]
conn.executemany('delete from t where c = ?;', ('a','b',))
conn.execute('select c from t;').fetchall()
# -> [(u'c',)]
conn.close()
"
32709,68529,wxPython: using Show() and Hide(),"import string
def Validate(self, win):
    """"""
    Enter your code here...
    """"""
    return True


def OnChar(self, event):
    txtObj = event.GetEventObject()
    txt = txtObj.GetValue()
    if txt == """": txt = '0'
    key = chr(event.GetKeyCode())

    if key in string.digits:
        if int(txt+str(key)) < 150:
            event.Skip()
        else:
            msg = ""You have entered an age greater than 150!""
            wx.MessageBox(msg, ""Improbable entry"", style=wx.OK|wx.ICON_ERROR)

            # PROBLEM ARISES HERE
            # ===================
            MyDialog().ageWarning_ST.Show()
            MyDialog().mainSizer.Fit(MyDialog())

            return False

    key = event.GetKeyCode()
    if key in(wx.WXK_RETURN, wx.WXK_DELETE, wx.WXK_BACK):
        event.Skip()

    elif (chr(key)).isdigit():
        event.Skip()
    else:
        return
"
3908,8710,Django Serialize Queryset to JSON to construct RESTful response with only field information and id,"import json

posts = (Post.objects.filter(owner=authenticated_user)
                     .values('id', 'title', 'summary'))
json_posts = json.dumps(list(posts))
"
336,59785,Reinstalling python on Mac OS 10.6 with a different gcc version,"# OS X 10.6.4
$ /usr/bin/python -c 'import sys;print(sys.version)'
2.6.1 (r261:67515, Feb 11 2010, 00:51:29) 
[GCC 4.2.1 (Apple Inc. build 5646)]
$ /usr/bin/python2.6 -c 'import sys;print(sys.version)'  # same as above
2.6.1 (r261:67515, Feb 11 2010, 00:51:29) 
[GCC 4.2.1 (Apple Inc. build 5646)]
$ /usr/bin/python2.5 -c 'import sys;print(sys.version)'
2.5.4 (r254:67916, Feb 11 2010, 00:50:55) 
[GCC 4.2.1 (Apple Inc. build 5646)]
$ /usr/local/bin/python2.5 -c 'import sys;print(sys.version);print(sys.executable)'
2.5.4 (r254:67917, Dec 23 2008, 14:57:27) 
[GCC 4.0.1 (Apple Computer, Inc. build 5363)]
/Library/Frameworks/Python.framework/Versions/2.5/Resources/Python.app/Contents/MacOS/Python
"
30168,22335,How do I mix audio files using python?,"from pydub import AudioSegment

sound1 = AudioSegment.from_mp3(""/path/to/file1.mp3"")
sound2 = AudioSegment.from_mp3(""/path/to/file1.mp3"")

# mix sound2 with sound1, starting at 5000ms into sound1)
output = sound1.overlay(sound2, position=5000)

# save the result
output.export(""mixed_sounds.mp3"", format=""mp3"")
"
21758,51982,how to write this function in more concise manner in python,">>> reduce(lambda x,y: x+y, [pow(2,i) for i in range(32)])
4294967295

in terms of function:
try this:
    >>> def test(n):
...    return reduce(lambda x,y: x+y,[pow(2,i) for i in range(n+1)])
... 
>>> test(31)
4294967295
"
8442,74594,Resize/stretch 2d histogram in matplotlib with x-y dependent number of bins?,"plt.imshow(Hmasked.T,extent=extent,interpolation='nearest',origin='lower', aspect='auto')
"
28441,71845,Strange behavior using Python multiprocessing library,"import multiprocessing as mp
import itertools

partitioned = {}
partitioned['0-20'] = []
partitioned['20-40'] = []
partitioned['40-60'] = []
partitioned['60+'] = []

def map_func1(f):
    # for line in f:
    gen = f[14:15] #15 1=male 2=female
    age = f[17:19] #18-19
    htin = f[1947:1950] #1948-1950 tall in inches, self reported !888! !999!
    wtlbs = f[1950:1953] #1951-1953 wt in lbs, self reported !888! !999!
    ovwt = f[1963:1964] #1964 consider myself overweight 1,under 2,over 3, !8!, !9!
    chwt = f[1964:1965] #1965 change weight or stay same 1=more, 2=less, 3=same, !8!, !9!
    return [gen, age, htin, wtlbs, ovwt, chwt]

def partitioner(m):
    for element in m:
        if int(element[1]) < 20:
            partitioned['0-20'].append(element)
        elif int(element[1]) < 40:
            partitioned['20-40'].append(element)
        elif int(element[1]) < 60:
            partitioned['40-60'].append(element)
        else:
            partitioned['60+'].append(element)

    return partitioned

if __name__ == ""__main__"":
    pool = mp.Pool(processes=3)
    f = open('adult.dat')
    m = pool.map(map_func1, f)
    print m[0]
    p = partitioner(m)
    print len(p['60+'])
"
3142,23982,Download until certain point has been reached in Python,"import urlparse

def found(text, data):
     # return True if text was found in data

def get_title(url):
    parsed_url = urlparse(url)
    host = parsed_url.netloc
    path = parsed_url.path
    port = 80

    web = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    try:
        web.connect((host, port))
    except Exception:
        return

    web.send('GET %s HTTP/1.1\n' % path)
    web.send('Host: %s\n' % host)
    web.send('\n')

    done = False
    while not done:
        data = web.recv(2048)
        if len(data) > 0 and found(""text"", data):
            web.shutdown(socket.SHUT_RDWR)
            web.close()
            title = title_match.group(1)
            done = True

    # Do something
"
31445,50208,How to download a file located in web server CGI-bin folder?,"import os
def return_file(name):
    filepath = os.path.join('/path/to/your/cgi-bin', name)
    if os.path.isfile(filepath):
        return open(filepath, 'b').read()
"
32506,5377,How do I sum only certain elements from an array?,"def outcome(surveys,voters):
    out = np.random.random((surveys,voters))
    rep = [0]*surveys
    for i in range(0,surveys):
        rep[i] = sum(out[i,out[i,:]<0.49])
    return rep
"
21106,24004,How Do you prevent overwriting of data in a Dictionary through a for loop,"for domain in dDomainSeqSum.keys():# CHANGE TO COMPRESS FILE
    dDomainSeqSumSWS[domain]={}
    for pdb in dDomainSeqSum[domain]:#add sws of a pdb in a variable and later add that variable to the domain thing
        pdb2 = pdb[:4] #you do not need to convert to list for indexing and you can slice the first four characters off.
        dDomainSeqSumSWS[domain][pdb2]=[]
        for i in range(len(PDBSum)): #make pdb3 search and then compare to the pdb stored
            if pdb in PDBSum[i]:
                if ""SWS_ID"" in PDBSum[i]:
                    line = PDBSum[i].split()
                    dDomainSeqSumSWS[domain].setdefault(pdb2,[]).append(line[2])
"
5639,75403,image retrieval from its values(euclidean distance) in python opencv,"import numpy as np

image_ids = ['A','B','C','D'] #Identifiers for each image. 
distances = np.array([0.01,0.2,0.3,0.001]) #Computed distances for each image in the image_ids array


ordered_indexes = np.argsort(distances)
for i,least_distance_id in enumerate(ordered_indexes):
    print ""Position:""+ str(i)+ "" ID:""+image_ids[least_distance_id] + "" Distance:""+str(distances[least_distance_id]) #Print the ids and distances
"
3597,31306,Automatically strip the number in front of python codes when pasting," def remove_spaces(file_path):
     with open(file_path) as myfile, open('newfile.py', mode='w+') as newfile:
        for line in myfile:
            idx = line.find(' ')
            if idx < 0 or idx + 1 >= len(line) or is_int(line.strip()[:-1]):
                newfile.write('\n')
                continue

            newfile.write(line[idx+1:] + '\n')

def is_int(str):
    try: int(str)
    except: return False

    return True
"
16664,25439,Python multiple inheritance: which __new__ to call?,"return super(Parent, cls).__new__(cls, *args, **kwargs)
"
23583,57863,PyQt QPushButton Background color,"self.pushButton.setStyleSheet(""background-color: red"")
"
31951,84576,How to create new folder?,"newpath = r'C:\Program Files\arbitrary' 
if not os.path.exists(newpath):
    os.makedirs(newpath)
"
14980,46790,User groups and permissions,"from django.contrib.auth.models import User, Group, Permission
from django.contrib.contenttypes.models import ContentType

content_type = ContentType.objects.get(app_label='myapp', model='BlogPost')
permission = Permission.objects.create(codename='can_publish',
                                       name='Can Publish Posts',
                                       content_type=content_type)
user = User.objects.get(username='duke_nukem')
group = Group.objects.get(name='wizard')
group.permissions.add(permission)
user.groups.add(group)
"
5662,8597,"pandas: slice on MultiIndex by range of first index, and choose secondary index label","import pandas as pd

# your df
# =======================
print(df)

Out[82]: 
                       income
dt         product_id        
2015-01-15 10016           23
           10017          188
           10018          NaN
2015-01-16 10016          188
2015-01-17 10025         1000

# one possible way
# ==========================================
df.xs(10016, level='product_id').loc['2015-01-15':'2015-01-16']

Out[88]: 
            income
dt                
2015-01-15      23
2015-01-16     188
"
36850,28468,How do I merge DataFrames using a function?,"import pandas as pd
import pandas.io.data as web

stocks = {'xom': '2015-01-01', 'aapl': '2014-01-01', 'dvn': '2013-01-01'}

def fetch_data_from_yahoo(d_stocks):
    df_list = []
    for symbol, start_date in d_stocks.items():
        df_list.append(web.get_data_yahoo(symbol, start_date)['Adj Close'])
    return pd.concat(df_list, keys=list(d_stocks.keys()))

fetch_data_from_yahoo(stocks)

      Date      
dvn   2013-01-02     50.5433
      2013-01-03     51.4393
      2013-01-04     52.5858
      2013-01-07     52.6051
      2013-01-08     52.2293
      2013-01-09     51.4007
      2013-01-10     51.9114
      2013-01-11     52.2775
                      ...   
aapl  2015-07-27    122.7700
      2015-07-28    123.3800
      2015-07-29    122.9900
      2015-07-30    122.3700
      2015-07-31    121.3000
      2015-08-03    118.4400
      2015-08-04    114.6400
      2015-08-05    115.4000
Name: Adj Close, dtype: float64


fetch_data_from_yahoo(stocks).unstack(0)

                dvn    xom    aapl
Date                              
2013-01-02  50.5433    NaN     NaN
2013-01-03  51.4393    NaN     NaN
2013-01-04  52.5858    NaN     NaN
2013-01-07  52.6051    NaN     NaN
2013-01-08  52.2293    NaN     NaN
2013-01-09  51.4007    NaN     NaN
2013-01-10  51.9114    NaN     NaN
2013-01-11  52.2775    NaN     NaN
...             ...    ...     ...
2015-07-27  48.8300  79.26  122.77
2015-07-28  49.9900  82.48  123.38
2015-07-29  51.1800  83.14  122.99
2015-07-30  50.6100  83.01  122.37
2015-07-31  49.4200  79.21  121.30
2015-08-03  48.3600  78.06  118.44
2015-08-04  48.7400  77.17  114.64
2015-08-05  46.9500  77.17  115.40

[653 rows x 3 columns]
"
22708,71672,How to get a single video from YouTube using its id?,"youtube.videos().list(id=""QkhBcLk_8f0"",part=""snippet"").execute()

{u'etag': u'""YxyobdYztCvdjXOUqpUttvF39GM/nr0_6QcUDyGR0D_Gxz762lsqqfU""',
 u'items': [{u'etag': u'""YxyobdYztCvdjXOUqpUttvF39GM/n7wasYBTHMM3SB4Jtsxu6JeDFPA""',
   u'id': u'QkhBcLk_8f0',
   u'kind': u'youtube#video',
   u'snippet': {u'categoryId': u'27',
    u'channelId': u'UCzu2OUGZlNtXPom3KNPGFzg',
    u'channelTitle': u'FFreeThinker',
    u'description': u'http://facebook.com/ScienceReason ... Great Minds, Great Words: Richard Feynman - The Uncertainty of Knowledge ... The Nature and Purpose of the Universe.\n\nPlaylist ""Great Minds, Great Words"":\n\u2022 http://www.youtube.com/user/FFreeThinker#grid/user/CC4F721030F8D4D1\n\n---\nPlease SUBSCRIBE to Science & Reason:\n\u2022 http://www.youtube.com/FFreeThinker\n\u2022 http://www.youtube.com/ScienceTV\n\u2022 http://www.youtube.com/Best0fScience\n\u2022 http://www.youtube.com/RationalHumanism\n---\n\nRichard Feynman (1918-1988) was an American  physicist  known for his work in the path integral formulation of quantum mechanics, the theory of quantum electrodynamics and the physics of the superfluidity of supercooled liquid helium, as well as in particle physics (he proposed the parton model).\n\nFor his contributions to the development of quantum electrodynamics, Feynman, jointly with Julian Schwinger and Sin-Itiro Tomonaga, received the Nobel Prize in Physics in 1965. He developed a widely used pictorial representation scheme for the mathematical expressions governing the behavior of subatomic particles, which later became known as Feynman diagrams. During his lifetime, Feynman became one of the best-known scientists in the world.\n\nHe assisted in the development of the atomic bomb and was a member of the panel that investigated the Space Shuttle Challenger disaster. In addition to his work in theoretical physics, Feynman has been credited with pioneering the field of quantum computing, and introducing the concept of nanotechnology (creation of devices at the molecular scale). He held the Richard Chace Tolman professorship in theoretical physics at the California Institute of Technology.\n\nFeynman was a keen popularizer of physics through both books and lectures, notably a 1959 talk on top-down nanotechnology called ""There\'s Plenty of Room at the Bottom"" and ""The Feynman Lectures on Physics"". Feynman also became known through his semi-autobiographical books (""Surely You\'re Joking, Mr. Feynman!"" and ""What Do You Care What Other People Think?"") and books written about him, such as ""Tuva or Bust!""\n\nHe was regarded as an eccentric and free spirit. He was a prankster, juggler, safecracker, proud amateur painter, and bongo player. He liked to pursue a variety of seemingly unrelated interests, such as art, percussion, Maya hieroglyphs, and lock picking.\n\nFeynman also had a deep interest in biology, and was a friend of the geneticist and microbiologist Esther Lederberg, who developed replica plating and discovered bacteriophage lambda. They had several mutual physicist friends who, after beginning their careers in nuclear research, moved for moral reasons into genetics, among them Le\xf3 Szil\xe1rd, Guido Pontecorvo, and Aaron Novick.\n\n\u2022 http://en.wikipedia.org/wiki/Richard_Feynman\n.',
    u'liveBroadcastContent': u'none',
    u'localized': {u'description': u'http://facebook.com/ScienceReason ... Great Minds, Great Words: Richard Feynman - The Uncertainty of Knowledge ... The Nature and Purpose of the Universe.\n\nPlaylist ""Great Minds, Great Words"":\n\u2022 http://www.youtube.com/user/FFreeThinker#grid/user/CC4F721030F8D4D1\n\n---\nPlease SUBSCRIBE to Science & Reason:\n\u2022 http://www.youtube.com/FFreeThinker\n\u2022 http://www.youtube.com/ScienceTV\n\u2022 http://www.youtube.com/Best0fScience\n\u2022 http://www.youtube.com/RationalHumanism\n---\n\nRichard Feynman (1918-1988) was an American  physicist  known for his work in the path integral formulation of quantum mechanics, the theory of quantum electrodynamics and the physics of the superfluidity of supercooled liquid helium, as well as in particle physics (he proposed the parton model).\n\nFor his contributions to the development of quantum electrodynamics, Feynman, jointly with Julian Schwinger and Sin-Itiro Tomonaga, received the Nobel Prize in Physics in 1965. He developed a widely used pictorial representation scheme for the mathematical expressions governing the behavior of subatomic particles, which later became known as Feynman diagrams. During his lifetime, Feynman became one of the best-known scientists in the world.\n\nHe assisted in the development of the atomic bomb and was a member of the panel that investigated the Space Shuttle Challenger disaster. In addition to his work in theoretical physics, Feynman has been credited with pioneering the field of quantum computing, and introducing the concept of nanotechnology (creation of devices at the molecular scale). He held the Richard Chace Tolman professorship in theoretical physics at the California Institute of Technology.\n\nFeynman was a keen popularizer of physics through both books and lectures, notably a 1959 talk on top-down nanotechnology called ""There\'s Plenty of Room at the Bottom"" and ""The Feynman Lectures on Physics"". Feynman also became known through his semi-autobiographical books (""Surely You\'re Joking, Mr. Feynman!"" and ""What Do You Care What Other People Think?"") and books written about him, such as ""Tuva or Bust!""\n\nHe was regarded as an eccentric and free spirit. He was a prankster, juggler, safecracker, proud amateur painter, and bongo player. He liked to pursue a variety of seemingly unrelated interests, such as art, percussion, Maya hieroglyphs, and lock picking.\n\nFeynman also had a deep interest in biology, and was a friend of the geneticist and microbiologist Esther Lederberg, who developed replica plating and discovered bacteriophage lambda. They had several mutual physicist friends who, after beginning their careers in nuclear research, moved for moral reasons into genetics, among them Le\xf3 Szil\xe1rd, Guido Pontecorvo, and Aaron Novick.\n\n\u2022 http://en.wikipedia.org/wiki/Richard_Feynman\n.',
     u'title': u'Great Minds: Richard Feynman - The Uncertainty Of Knowledge'},
    u'publishedAt': u'2010-03-04T15:12:56.000Z',
    u'tags': [u'great',
     u'minds',
     u'words',
     u'richard',
     u'feynman',
     u'uncertainty',
     u'knowledge',
     u'nature',
     u'purpose',
     u'universe',
     u'god',
     u'religion',
     u'atheists',
     u'atheism',
     u'science',
     u'physicists',
     u'quantum',
     u'mechanics',
     u'electrodynamics',
     u'superfluidity',
     u'nobel',
     u'prize',
     u'theoretical',
     u'physics',
     u'atomic',
     u'bomb',
     u'space',
     u'nano',
     u'technology'],
    u'thumbnails': {u'default': {u'height': 90,
      u'url': u'https://i.ytimg.com/vi/QkhBcLk_8f0/default.jpg',
      u'width': 120},
     u'high': {u'height': 360,
      u'url': u'https://i.ytimg.com/vi/QkhBcLk_8f0/hqdefault.jpg',
      u'width': 480},
     u'maxres': {u'height': 720,
      u'url': u'https://i.ytimg.com/vi/QkhBcLk_8f0/maxresdefault.jpg',
      u'width': 1280},
     u'medium': {u'height': 180,
      u'url': u'https://i.ytimg.com/vi/QkhBcLk_8f0/mqdefault.jpg',
      u'width': 320},
     u'standard': {u'height': 480,
      u'url': u'https://i.ytimg.com/vi/QkhBcLk_8f0/sddefault.jpg',
      u'width': 640}},
    u'title': u'Great Minds: Richard Feynman - The Uncertainty Of Knowledge'}}],
 u'kind': u'youtube#videoListResponse',
 u'pageInfo': {u'resultsPerPage': 1, u'totalResults': 1}}
"
19184,43902,Python Tkinter Text Widget with Auto & Custom Scroll,"import re,sys,time
from Tkinter import *
import Tkinter
import threading
import traceback
import Queue


class ReaderThread(threading.Thread): 
    def __init__(self, root, queue):
        print ""Thread init""
        threading.Thread.__init__(self) 
        self.root = root
        self.running = True
        self.q = queue

    def stop(self):
        print ""Stopping thread""
        running = False

    def run(self):
        print ""Thread started""
        time.sleep(5)

        try:
            while(self.running):
                # emulating delay when reading from serial interface
                time.sleep(0.05)
                curline = ""the quick brown fox jumps over the lazy dog\n""

                try:
                    self.q.put(curline)
                    self.root.event_generate('<<AppendLine>>', when='tail')
                # If it failed, the window has been destoyed: over
                except TclError as e:
                    print e
                    break

        except Exception as e:
            traceback.print_exc(file=sys.stdout)
            print ""Exception in receiver thread, stopping...""
            pass
        print ""Thread stopped""


class Transformer:
    def __init__(self):
        self.q = Queue.Queue()
        self.lineIndex = 1
        pass

    def appendLine(self, event):
        line = self.q.get_nowait()

        if line == None:
            return

        i = self.lineIndex
        curIndex = ""1.0""
        lowerEdge = 1.0
        pos = 1.0

        # get cur position
        pos = self.scrollbar.get()[1]

        # Disable scrollbar
        self.text.configure(yscrollcommand=None, state=NORMAL)

        # Add to text window
        self.text.insert(END, str(line))
        startIndex = repr(i) + "".0""
        curIndex = repr(i) + "".end""

        # Perform colorization
        if i % 6 == 0:
            self.text.tag_add(""warn"", startIndex, curIndex)
        elif i % 6 == 1:
            self.text.tag_add(""debug"", startIndex, curIndex)                            
        elif i % 6 == 2:
            self.text.tag_add(""info"", startIndex, curIndex)                         
        elif i % 6 == 3:
            self.text.tag_add(""error"", startIndex, curIndex)                            
        elif i % 6 == 4:
            self.text.tag_add(""fatal"", startIndex, curIndex)                            
        i = i + 1

        # Enable scrollbar
        self.text.configure(yscrollcommand=self.scrollbar.set, state=DISABLED)

        # Auto scroll down to the end if scroll bar was at the bottom before
        # Otherwise allow customer scrolling                        

        if pos == 1.0:
            self.text.yview(END)

        self.lineIndex = i

    def start(self):
        """"""starts to read linewise from self.in_stream and parses the read lines""""""
        count = 1
        self.root = Tk()
        self.root.title(""Tkinter Auto-Scrolling Test"")#
        self.root.bind('<<AppendLine>>', self.appendLine)
        self.topPane = PanedWindow(self.root, orient=HORIZONTAL)
        self.topPane.pack(side=TOP, fill=X)
        self.lowerPane = PanedWindow(self.root, orient=VERTICAL)

        self.scrollbar = Scrollbar(self.root)
        self.scrollbar.pack(side=RIGHT, fill=Y)
        self.text = Text(wrap=WORD, yscrollcommand=self.scrollbar.set)
        self.scrollbar.config(command=self.text.yview)
        # Color definition for log levels
        self.text.tag_config(""debug"",foreground=""gray50"")
        self.text.tag_config(""info"",foreground=""green"")
        self.text.tag_config(""warn"",foreground=""orange"")
        self.text.tag_config(""error"",foreground=""red"")
        self.text.tag_config(""fatal"",foreground=""#8B008B"")
        # set default color
        self.text.config(background=""black"", foreground=""gray"");
        self.text.pack(expand=YES, fill=BOTH)       

        self.lowerPane.add(self.text)
        self.lowerPane.pack(expand=YES, fill=BOTH)

        t = ReaderThread(self.root, self.q)
        print ""Starting thread""
        t.start()

        try:
            self.root.mainloop()
        except Exception as e:
            print ""Exception in window manager: "", e

        t.stop()
        t.join()


if __name__ == ""__main__"":
    try:
        trans = Transformer()
        trans.start()
    except Exception as e:
        print ""Error: "", e
        sys.exit(1)     
"
32628,73493,Elegant ways to print out a bunch of instance attributes in python 2.6?,"class MyRecord:
    #....  
    def __getitem__(self, key):
        return getattr(self, key)
"
4762,73149,Convert one string to a list of strings based on certain numbers inside the string,">>> import re
>>> strs='clock[5,4,1,0]'
>>> nums = re.findall(""\d+"",strs)        #find all the numbers in string
>>> word = re.search(""\w+"",strs).group() #find the word in the string 

#now iterate over the numbers and use string formatting to get the required output.
>>> [ ""{0}[{1}]"".format(word,x) for x in nums] 
['clock[5]', 'clock[4]', 'clock[1]', 'clock[0]']
"
18570,32849,time loop in python,"from time import time, sleep
end_time = time() + x_hours * 3600 # time() is calculated in seconds

while time() < end_time:
    do_your_work()
    sleep(y_seconds)
"
36236,65279,Better way to create dictionary keys,">>> import hashlib
>>> hashlib.md5('some random title').hexdigest()
'bc847ea8db214557c611c9b3c2f043b1'
"
12498,64305,finding common elements in 2 list of dicts in python,">>> import pandas as pd
>>> df1 = pd.DataFrame(profile_list)
>>> df2 = pd.DataFrame(marks_list)

>>> result = pd.merge(df1, df2, on=['name'])
>>> print result
   gender  name  chemistry  physics
0  female  suzy         89       95
1    male   jim         69       78

[2 rows x 4 columns]

>>> print result.values.tolist()
[['female', 'suzy', 89L, 95L], ['male', 'jim', 69L, 78L]]

>>> result = result.set_index(['name'])

>>> name = raw_input(""Enter student name: "")
Enter student name: suzy

>>> sub = raw_input(""Enter subject name: "")
Enter subject name: physics

>>> print result[sub][name]
95
"
17805,45181,How to remove an element from a set?,"test, empty = [{'', 'a'}, {'b', ''}], {''}
print [x - empty for x in test]
# [set(['a']), set(['b'])]
"
22692,23967,Python star operator in assignments,"firsts, last = l[:-1], l[-1]
"
3907,7195,WX Python and Raw Input on Windows (WM_INPUT),">>> import ctypes
>>> ctypes.windll.user32.RegisterRawInputDevices
<_FuncPtr object at 0x01FCFDC8>
"
32905,34168,Set operations in python,">>> a = {1,2}
>>> b = {1,2,3}
>>> a and a&b or b
{1, 2}
>>> a = {}
>>> b = {1,2,3}
>>> a and a&b or b
{1, 2, 3}
"
22497,83820,Multiprocessing with Screen and Bash,"#!/bin/bash    

for i in {1..$NUM_NODES}
do
    ssh node$i 'python /home/ryan/my_script.py' &
done
"
23019,64266,SCons: How to call a self defined python function in scons script and make right dependency,"import os
import re

def replace_action(target, source, env):
    # NB. this is a pretty sloppy way to write a builder, but
    #     for things that are used internally or infrequently
    #     it should be more than sufficient
    assert( len(target) == 1 )
    assert( len(source) == 1 )
    srcf = str(source[0])
    dstf = str(target[0])
    with open(srcf, ""r"") as f:
        contents = f.read()
        # In cases where this builder fails, check to make sure you
        # have correctly added REPLST to your environment
        for old, new in env['REPLST']:
            contents = re.sub( old, new, contents )
        with open( dstf, ""w"") as outf:
            outf.write(contents)

replace_builder = Builder(action = replace_action)

env = Environment( ENV = os.environ )
env.Append( BUILDERS = {'Replace' : replace_builder } )
b = env.Replace( 'somefile', ['somefile.tmpl'], REPLST=[('A','b')] )
lib = env.SharedLibrary('lib', object + [b], extra_libs )
"
3367,20972,Multiple imports in python as the same keyword,"from django.utils.translation import ugettext
from django.utils.translation import ugettext_lazy as _
"
8411,30544,Mapping elements of a list to Intervals to create a cumulative probability distribution,"def branchFinder(L, S, r):
    S, L = map(list, zip(*sorted(zip(S, L))))
    SS = [0.] + map(lambda x: x/10., S)

    probs = {}
    for i in range(len(L)):
        probs[L[i]] = (sum(SS[:i+1]), SS[i+1] + sum(SS[:i+1]))        

    for key, value in probs.iteritems():
        if value[0] < r <= value[1]:
             return key
"
21738,45278,for statement in python,"grocery_list = ['apples', 'bananas', 'oranges', 'milk']
for grocery in grocery_list:
  print(grocery, len(grocery))
"
32632,37638,Aliasing a class in Python,"dispatch = {0: level0, 1: level1, 2:level2}
dispatch[offset].calc_algorithm
"
38337,15319,How to apply a function to every element in a list using Linq in C# like the method reduce() in python?,"var list = Enumerable.Range(5, 3); // [5, 6, 7]
Console.WriteLine(""Aggregation: {0}"", list.Aggregate((a, b) => (a + b)));
// Result is ""Aggregation: 18""
"
6749,61280,"list of dict, how to fill out information later","for line in content:
    if line.startswith('some_identifier'):
        line.strip('\n')
        #put the line into an unused 'name' value field
        for dict in mylist:
            if dict['name'] == None:
                dict['name'] = line
                break
"
17857,56839,Pandas groupby columns without multiindex,"traindata.groupby(""Station"").Passengers.sum()
"
39190,82902,fooling imported script so it can import module which does not exist,"$ mkdir foobar
$ mv rules/ foobar/
$ touch foobar/__init__.py
$ touch foobar/rules/__init__.py
$ touch foobar/rules/plugins/__init__.py
"
4200,22265,selenium clicking button in google translate with Robot frameword,"Click From Language button
    Click Element    xpath=//div[@id=""gt-sl-gms""]    don't wait
"
12653,83220,Change week definition in pandas resample,">>> dates = pd.Series(np.arange(30),
...                   index=pd.date_range('2015-10-1', periods=30, freq='D'))

>>> dates.resample('W', 'sum')
2015-10-04      6
2015-10-11     49
2015-10-18     98
2015-10-25    147
2015-11-01    135
Freq: W-SUN, dtype: int64

>>> dates.resample('W-MON', 'sum')
2015-10-05     10
2015-10-12     56
2015-10-19    105
2015-10-26    154
2015-11-02    110
Freq: W-MON, dtype: int64
"
25907,5584,Specify Order numpy array,">>> import numpy as np
>>> arr1 = np.array(['a', 'b', 'c'])
>>> index = np.array([2, 1, 0])
>>> arr1[index]
array(['c', 'b', 'a'], 
      dtype='|S1')
"
3719,1458,"pandas rolling_apply TypeError: int object is not iterable""","def hurst(df, days):
    df = pd.DataFrame(df, columns=['PX_LAST'])
    df2 = pd.DataFrame()
    df2 = df.loc[-days:, :]
    rango = lambda x: x.max() - x.min()

    df2['ret'] = 1 - df.loc[:, 'PX_LAST']/df.loc[:, 'PX_LAST'].shift(1)
    df2 = df2.dropna()

    ave = pd.expanding_mean(df2.ret)
    df2['desvdeprom'] = df2.ret - ave
    df2['acum'] = df2['desvdeprom'].cumsum()
    df2['rangorolled'] = pd.expanding_apply(df2.acum, rango)
    df2['datastd']  =   pd.expanding_std(df2.ret)
    df2['rango_rangostd'] = np.log(df2.rangorolled/df2.datastd)
    df2['tiempo1'] = np.log(range(1, len(df2.index)+1))
    df2 = df2.dropna()
    model1 = pd.ols(y=df2['rango_rangostd'], x=df2['tiempo1'], intercept=False)
    return model1.beta

def rol_apply():

    df = pd.DataFrame(np.log(np.cumsum(np.random.randn(1000)+1)+1000), columns=['PX_LAST'])
    df['hurst_roll'] = pd.rolling_apply(df, 100, hurst, args=(50, ))


      PX_LAST  hurst_roll
0    6.907911         NaN
1    6.907808         NaN
2    6.907520         NaN
3    6.908048         NaN
4    6.907622         NaN
5    6.909895         NaN
6    6.911281         NaN
7    6.911998         NaN
8    6.912245         NaN
9    6.912457         NaN
10   6.913794         NaN
11   6.914294         NaN
12   6.915157         NaN
13   6.916172         NaN
14   6.916838         NaN
15   6.917235         NaN
16   6.918061         NaN
17   6.918717         NaN
18   6.920109         NaN
19   6.919867         NaN
20   6.921309         NaN
21   6.922786         NaN
22   6.924173         NaN
23   6.925523         NaN
24   6.926517         NaN
25   6.928552         NaN
26   6.930198         NaN
27   6.931738         NaN
28   6.931959         NaN
29   6.932111         NaN
..        ...         ...
970  7.562284    0.653381
971  7.563388    0.630455
972  7.563499    0.577746
973  7.563686    0.552758
974  7.564105    0.540144
975  7.564428    0.541411
976  7.564351    0.532154
977  7.564408    0.530999
978  7.564681    0.532376
979  7.565192    0.536758
980  7.565359    0.538629
981  7.566112    0.555789
982  7.566678    0.553163
983  7.566364    0.577953
984  7.567587    0.634843
985  7.568583    0.679807
986  7.569268    0.662653
987  7.570018    0.630447
988  7.570375    0.659497
989  7.570704    0.622190
990  7.571009    0.485458
991  7.571886    0.551147
992  7.573148    0.459912
993  7.574134    0.463146
994  7.574478    0.463158
995  7.574671    0.535014
996  7.575177    0.467705
997  7.575374    0.531098
998  7.575620    0.540611
999  7.576727    0.465572

[1000 rows x 2 columns]
"
10905,8198,Store and reuse BeautifulSoup searches and node traversals,"linkInstructions = {
  ""url1"": {
    ""title"": lambda n: n.find('h4', 'title').text,
    ""date"": lambda n: n.find('li', 'when').em.text
  },
  ""url2"": {
    ""title"": lambda n: n.find('h3', 'title').text,
    ""date"": lambda n: n.find('li', 'when').strong.text
  }
  # and so forth
} 

def parseNode(node, url):
  # let 'node' be the result of BeautifulSoup(html)
  # and 'url' be the url of the site    

  result = {}

  for key,func in linkInstructions[url].iteritems():
    result[key] = func(node)

  # would return a dict with the structure {'title': <title>, 'date': <date>}
  return result
"
6083,41702,python How to watch for Win32_Processor LoadPercentage change in wmi?,"kMaxLoad = 80
while True:
    x = [cpu.LoadPercentage for cpu in c.Win32_Processor()]
    if max(x) < kMaxLoad:
        break
print ""okay, load is under %i"" % kMaxLoad
"
7098,57967,Python regular expressions OR,"re.compile(""Sent from my (iPhone|iPod)"")
"
14365,17841,How to ping a server/website with windows python?,"import os
def ping(address):
    return not os.system('ping %s -n 1' % (address,))
"
33602,12423,Distinguishing clipped values in `colorbar`,"import matplotlib.pyplot as plt
import numpy as np

data=np.random.rand(10,10)

fig=plt.figure()
ax=fig.add_subplot(111)

p=ax.pcolormesh(data,vmin=0.2,vmax=0.8,cmap='gray')

p.cmap.set_over('red')
p.cmap.set_under('blue')

fig.colorbar(p,extend='both')

plt.show()
"
16025,65490,Selecing a large number of data points in column,"transition = data[data['treeId'].isin(id)]
"
29784,60812,Python argparse boolean issue,"import argparse

training_pages_list_file = ''
html_page_dir = ''
clf_file_str = ''
user_idf_param = ""i_param_used""

if __name__ == ""__main__"":
    parser = argparse.ArgumentParser(description='Classify some CraigsList Pages')
    parser.add_argument('csv_file', action='store')
    parser.add_argument('file_dir', action='store')
    parser.add_argument('clf_file', action='store')
    parser.add_argument('-i', action='store_true', help=""include idf"", dest=user_idf_param, default=False)

    args = parser.parse_args((...))

    if args.i_param_used:
        ...
"
14536,25667,Python Regex Named Groups,"import string

s = '@x arg-xa, arg. xb, arg xc @y arg-ya, arg. yb, arg yc @z arg-za, arg. zb, arg zc'

result = []

for part in s.split('@')[1:]:  # `[1:]` skips the first (empty) element
    command, _, arguments = part.partition(' ')

    result.append({
        'command': command,
        'args': map(string.strip, arguments.split(', '))
    })
"
39673,54524,How can I use a pytest fixture as a parametrize argument?,"import pytest
import fireblog.login as login

pytestmark = pytest.mark.usefixtures(""test_with_one_theme"")

class Test_groupfinder:
    def test_success(self, persona_test_admin_login, pyramid_config):
        emails = ['id5489746@mockmyid.com', persona_test_admin_login['email']]
        for email in emails:
            res = login.groupfinder(email)
            assert res == ['g:admin']

    def test_failure(self, pyramid_config):
        fake_email = 'some_fake_address@example.com'
        res = login.groupfinder(fake_email)
        assert res == ['g:commenter']
"
9950,69916,Python multiple boxplots automatic label,"import numpy as np
import matplotlib.pyplot as plt

#Fake data
data = (np.random.random(50), np.random.random(50))
labels = ('random set 1', 'random set 2')

plt.boxplot(data)
plt.xticks(np.arange(len(labels))+1,labels)
plt.show()
"
31015,49780,Making a simple adventure game. Want to use a While loop to keep the input prompt rolling after each action,"def lobby():
    invalid_check = True
    while invalid_check:
        action = raw_input(""> "")
        if ""use"" and ""door"" in action:
            print ""You feel a sense of anxiousness as your hand lingers over the door knob, but your curiosity sets in -- you open the door and step through.""
            invalid_check = False # It is now 'False' and will therefore allow the user to progress to the next 'room' or function.
            toy_room()
     ......
"
12400,54581,os.walk without hidden folders,"for root, dirs, files in os.walk(path):
    files = [f for f in files if not f[0] == '.']
    dirs[:] = [d for d in dirs if not d[0] == '.']
    # use files and dirs
"
38253,79297,Python- Function that returns a value,"def quiz_average(quiz1, quiz2, quiz3):
    average = (quiz1 + quiz2 + quiz3) / 3
    return average

quiz1 = int(input(""Enter Quiz 1 score: ""))
quiz2 = int(input(""Enter Quiz 2 score: ""))
quiz3 = int(input(""Enter Quiz 3 score: ""))

print(quiz_average(quiz1, quiz2, quiz3))  #Yes, variables can match the parameters
"
16547,57904,Python subprocess command to run echo and leave the window open,"def cmdMessage(message):
    subprocess.call('cmd /K ""echo ' + message + '""')

cmdMessage('One or more of the IPs failed to respond to their ping. Check Logs')
"
25122,29522,python 3.x progressbar tkinter backwards?,"import tkinter as tk
from tkinter import ttk

def step():
    BarVolVal_1.step(dir)
    mGui.after(50, step)

def change_dir():
    global dir
    dir *= -1
    mGui.after(2000, change_dir)

mGui = tk.Tk()
dir = 1

BarVolVal_1 = ttk.Progressbar(mGui, orient='horizontal', length=100, mode='determinate')
BarVolVal_1.pack()

step()
mGui.after(3000, change_dir)

mGui.mainloop()
"
34862,38099,Datastructure for matching names in text,"    Pattern p = Pattern.compile(""John\\s+Doe"", Pattern.MULTILINE);
    Matcher m = p.matcher(""I am looking for John \nDoe, I am."");        
    System.out.println(m.find());
"
29134,5603,Adding permissions to django-allauth's OAuth token,"SOCIALACCOUNT_PROVIDERS = {
    ""github"": {
        ""AUTH_PARAMS"": {""scope"": ""repo""}
    },
}
"
697,44880,Matrix --> ijv (or triplet or co-ordinate) format --> file in Numpy?,"I, J = np.indices(values.shape)
triplets = np.column_stack(ar.ravel() for ar in (I, J, values))
np.savetxt(filename, triplets, '%i %i %.9f')
"
5948,55540,Check if item in list,"def checks(a,b):
    for item in a:
        if b[1] == item[1]:
           return True

    return False
"
25522,12375,Using while loop to output input name backwards,"    reverse_name =""""
    i = len(full_name)
    while i > 0:
        reverse_name += full_name[i-1]
        i -=1
"
32452,18362,Matplotlib set individual tick style,"plt.plot(np.linspace(-10, 10), np.linspace(-10, 10))
plt.gca().tick_params('x', length=20, width=2, which='major')

xTicks = plt.xticks([-5,-4,-3,-2,-1,0,1,2,3,4,5])

xTicks_cld = xTicks[0][0].get_children()
xTicks[0][0].get_children()[0].set_color('g') 
#change the color of the 1st bottom tick

xTicks[0][0].get_children()[1].set_color('r') 
#change the color of the 1st top tick

xTicks[0][-1].get_children()[0].set_color('b') 
#change the color of the last bottom tick

xTicks[0][5]._apply_params(color='r') 
#change the color of the ticks of x=0, both top and bottom xaxis.
"
11722,22589,Extract elements of an N-dimensionnal array within a list in Python,"import numpy as np

# Create some data which would be equal to your ""params""
a = np.array([[[1, 2, 3],
               [4, 5, 6],
               [7, 8, 9]],
              [[11, 12, 13],
               [14, 15, 16],
               [17, 18, 19]]])

print(a[0])
# [[1 2 3]
#  [4 5 6]
#  [7 8 9]]

print(a[:, 0, 0])
# [1, 11]

print(a[:, 0:2, 0])
# [[1, 4] 
#  [11, 14]]
"
12350,76111,Combining a large amount of netCDF files,"import subprocess
import netCDF4
import glob
import numpy as np

for month in range(1,13):
    # Gather all the files for this month
    month_files = glob.glob('/path/to/files/*{0:0>2d}.SUB.nc'.format(month))


    # Using NCO functions ---------------
    avg_file = './precip_avg_{0:0>2d}.nc'.format(month)

    # Concatenate the files using ncrcat
    subprocess.call(['ncrcat'] + month_files + ['-O', avg_file])

    # Take the time (record) average using ncra 
    subprocess.call(['ncra', avg_file, '-O', avg_file])

    # Read in the monthly precip climatology file and do whatever now
    ncfile = netCDF4.Dataset(avg_file, 'r')
    pr = ncfile.variables['prectot'][:,:,:]
    ....

    # Using only Python -------------
    # Initialize an array to store monthly-mean precip for all years
    # let's presume we know the lat and lon dimensions (nlat, nlon)
    nyears = len(month_files)
    pr_arr = np.zeros([nyears,nlat,nlon], dtype='f4')

    # Populate pr_arr with each file's monthly-mean precip
    for idx, filename in enumerate(month_files):
        ncfile = netCDF4.Dataset(filename, 'r')
        pr = ncfile.variable['prectot'][:,:,:]  
        pr_arr[idx,:,:] = np.mean(pr, axis=0)
        ncfile.close()

    # Take the average along all years for a monthly climatology
    pr_clim = np.mean(pr_arr, axis=0)  # 2D now [lat,lon]
"
8880,84883,Trying / Probing urls with scapy Request,"import random


from scrapy.contrib.spiders import CrawlSpider, Rule
from scrapy.contrib.linkextractors import LinkExtractor
from scrapy.http import Request

class MySpider(CrawlSpider):
    name = 'alexa'
    allowed_domains = ['alexa.com']
    start_urls = ['http://www.alexa.com']    
    rules = (
        Rule(LinkExtractor(allow=('topsites', )), callback='parse_page1'),
    )

    _retries = 0

    _random_urls = [
        'http://www.alexa.com/probablydoesnotexist',
        'http://www.alexa.com/neitherdoesthis',
        'http://www.alexa.com/siteinfo/google.com'
    ]

    def parse_page1(self, response):
        print ""Got status: "", response.status
        if self._retries == 0 or response.status != 200:
            self._retries += 1
            print 'Retries in 1: ', self._retries
            return Request(random.choice(self._random_urls),
                                 meta={""handle_httpstatus_list"": [301, 302, 303, 404]},
                               callback=self.parse_page1)
        else:
            print ""Exiting""
"
17287,62752,Automated data collection from a website into my database?,"# Minute   Hour   Day of Month       Month          Day of Week        Command    
# (0-59)  (0-23)     (1-31)    (1-12 or Jan-Dec)  (0-6 or Sun-Sat)                
    0        1          *             *               *           /usr/bin/python manage.py loaddata fixturename.json
"
21360,83621,Python parsing boolean expressions with custom evaluations,"class NameResolver(object):
    def __getitem__(self, key):
        return ""dynamic %r"" % key

>>> eval(""foo, bar"", {}, NameResolver())
(""dynamic 'foo'"", ""dynamic 'bar'"")
"
2718,16873,Reducing CPU usage while parsing logs in real time,"import time
with open('/Users/alexandrelara/Library/Logs/Unity/Player.log') as f:
    while True:
        line = f.readline()
        if line:
            if line.startswith('[Zone]') and ""tag=PLAYSTATE value=LOSING"" in line:
                print(line)
        else:
            time.sleep(1)
"
3411,69862,How can I transform blocks into a blockdiagonal matrix (NumPy),">>> a1 = np.array([[1,1,1],[1,1,1],[1,1,1]])
>>> a2 = np.array([[2,2,2],[2,2,2],[2,2,2]])
>>> a3 = np.array([[3,3,3],[3,3,3],[3,3,3]])
>>> import scipy.linalg
>>> scipy.linalg.block_diag(a1, a2, a3)
array([[1, 1, 1, 0, 0, 0, 0, 0, 0],
       [1, 1, 1, 0, 0, 0, 0, 0, 0],
       [1, 1, 1, 0, 0, 0, 0, 0, 0],
       [0, 0, 0, 2, 2, 2, 0, 0, 0],
       [0, 0, 0, 2, 2, 2, 0, 0, 0],
       [0, 0, 0, 2, 2, 2, 0, 0, 0],
       [0, 0, 0, 0, 0, 0, 3, 3, 3],
       [0, 0, 0, 0, 0, 0, 3, 3, 3],
       [0, 0, 0, 0, 0, 0, 3, 3, 3]])
>>> r = np.array([[1,1,1,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0],[1,1,1,0,0,0,0,0,0], [0,0,0,2,2,2,0,0,0],[0,0,0,2,2,2,0,0,0],[0,0,0,2,2,2,0,0,0],[0,0,0,0,0,0,3,3,3],[0,0,0,0,0,0,3,3,3],[0,0,0,0,0,0,3,3,3]])
>>> (scipy.linalg.block_diag(a1, a2, a3)  == r).all()
True
"
17312,59467,Flatten 'next' and 'prev' links in a linked list,"def convert(ls):
    last = None
    for x in ls:
        if x == 'prev': x = -1
        if x == 'next': x = +1
        if isinstance(x, int) and isinstance(last, int):
            x += last
        elif last:  # last is not None if you want zeroes
            yield last
        last = x
    yield last
"
4643,15783,How to detect my application is idle in c# (form covered)?,"Application.Idle += Application_Idle;

private void Application_Idle(object sender, EventArgs e)
{
    //    The application is now idle.
}
"
34019,67707,django manage.py settings default,"#!/usr/bin/env python
from django.core.management import execute_manager
import imp

try:
    import settings_local
except ImportError:
    import sys
    sys.stderr.write(""Error: Can't find the file 'settings_local.py' in the directory containing %r. It appears you've customized things.\nYou'll have to run django-admin.py, passing it your settings module.\n"" % __file__)
    sys.exit(1)

if __name__ == ""__main__"":
    execute_manager(settings_local)
"
6124,2083,How does one parse a .lua file with Python and pull out the require statements?,"import sys
import os.path
if len(sys.argv) != 2:
    print ""Usage:"", sys.argv[0], ""<inputfile.lua>""
    exit()
f = open(sys.argv[1], ""r"")
lines = f.readlines()
f.close()
for line in lines:
    if line.startswith(""require ""):
        path = line.replace('require ""', '').replace('""', '').replace(""\n"", '').replace(""."", ""/"") + "".lua""
        fName = os.path.basename(path)
        path = path.replace(fName, """")
        print ""File: "" + fName
        print ""Directory: "" + path
        #do what you want to each file & path here
"
29685,16386,How to define a custom date parser for tablesorter jquery plugin?,"        $.tablesorter.addParser({
        id: ""customDate"",
        is: function(s) {
            return /^[0-9]{1,2} [a-zA-Z]+, [0-9]{1,2}:[0-9]{1,2}$/.test(s);
        },
        format: function(s) {
            s = s.replace(/,/,"""").replace(/:/,"" "");
            s = s.replace(/January/,1).replace(/February/,2).replace(/March/,3).replace(/April/,4).replace(/May/,5).replace(/June/,6).replace(/Jully/,7).replace(/August/,8).replace(/September/,9).replace(/October/,10).replace(/November/,11).replace(/December/,12);
            s = s.split("" "");
            s = s[1]*1000000+s[0]*10000+s[2]*100+s[3];
            return s;
        },
        type: ""numeric""
    });

    $(document).ready(function() {
        $('.tablesorter').tablesorter({ 
            headers: { 
                1: { 
                    sorter:'customDate' 
                } 
            } 
        }); 

    });
"
4131,55270,Construct a dictionary merging multiple lists,"dict((vert, i) for (i, cl) in enumerate(clusters) for vert in cl.vertices)
"
26250,19153,Adding background color of notes to Sphinx-generated PDF files?,"latex_custom = r'''
\definecolor{Admonition}{RGB}{221,233,239}

\makeatletter
  \newenvironment{admonitionbox}{
    \begin{lrbox}{\@tempboxa}\begin{minipage}{\columnwidth}
  }{
    \end{minipage}\end{lrbox}
    \colorbox{Admonition}{\usebox{\@tempboxa}}
  }

  \renewenvironment{notice}[2]{
    \begin{admonitionbox}
  }{
    \end{admonitionbox}
  }
\makeatother
'''

latex_elements = {'preamble': latex_custom}
"
30685,83932,Python utf-8 accents problem,"def remove_accents(s):
   return ''.join((c for c in unicodedata.normalize('NFD', s.decode('utf-8')) if unicodedata.category(c) != 'Mn'))
"
38655,3495,"Round system RAM and HDD bytes, UP to nearest even gigabyte. Python","GBasMB = int(1000000000) # Allows for accurate Bytes to GB conversion

global RAMSTRROUNDED
RAMTOTAL = int(SYSINFO.TotalPhysicalMemory) / (GBasMB) # Outputs GB by dividing by previous MB variable
RAMROUNDED = math.ceil(RAMTOTAL / 2.) * 2 # Rounds up to nearest even whole number
RAMSTRROUNDED = int(RAMROUNDED) # final converted variable

HDDTOTAL = int(HDDINFO.size) / (GBasMB) # Similar process as before for HardDrive
HDDROUNDED = math.ceil(HDDTOTAL / 2.) * 2 # round up to nearest even whole number

def ROUNDHDDTBORGB(): # function for determining TB or GB sized HDD
    global HDDTBORGBOUTPUT
    global HDDPRNT
    if HDDROUNDED >= 1000: # if equal to or greater than 1000GB, list as 1TB
        HDDTBORGB = HDDROUNDED * .001
        HDDTBORGBOUTPUT = str(HDDTBORGB) + ""TB""
        HDDPRNT = ""HDD: "" + str(HDDTBORGBOUTPUT)
        print(HDDPRNT)
    elif HDDROUNDED < 1000: # if less than 1000GB list as GB
        HDDTBORGBOUTPUT = str(str(HDDROUNDED) + ""GB"")
        HDDPRNT = ""HDD: "" + str(HDDTBORGBOUTPUT)
"
3714,4278,Getting IntCtrl and NumCtrl to return value after button(wx.Button) widget is pressed,"import wx
class Example(wx.Frame):
    self.flt1 = NumCtrl(self, pos, size)
    self.btn1 = wx.Button(self, label, pos, size)
    self.btn1.bind(wx.EVT_BUTTON, btn1Click)

    def btn1Click(self,event):
        self.flt1.GetValue() 
"
29955,77881,Overusing sitecustomize.py: .bash_profile instead?,"PYTHONPATH=$HOME/py/foo:$HOME/py/django
DJANGO_SETTINGS_MODULE=website_foobar.settings

export PYTHONPATH DJANGO_SETTINGS_MODULE
"
1593,66934,convert string to nested list with Python,">>> path = '1-3-6-3-6'
>>> element = a
>>> for segment in path.split('-'):
        element = element[int(segment)]
"
27557,80358,Computing an array of values for each meshgrid point,"import numpy as np

def my_func(xs,param1,param2,param3):
    values = xs**param1 + xs*param2**2 + param3*xs
    return values

xs = np.arange(0,10,0.1)
params1 = np.arange(1,2,0.1)
params2 = np.arange(1,2,0.1)
params3 = np.arange(1,5,0.1)

X, P1, P2, P3 = np.meshgrid(xs, params1, params2, params3, sparse=True, indexing='ij')
my_func(X, P1, P2, P3)
"
25917,67466,Explanation of Binary AND Operator,"  11 = 00001011 (Not divisible by 2)      28 = 00011100 (Divisible by 2)
&  1 = 00000001                         &  1 = 00000001
---------------                         ---------------
       00000001                                00000000
"
7931,3734,Why can't I subclass datetime.date?,">>> import datetime
>>> class D(datetime.date):
        def __new__(cls, year):
            return datetime.date.__new__(cls, year, 1, 1)


>>> D(2008)
D(2008, 1, 1)
"
30655,81149,Is there any module that can handle unidentified variables?,"import sympy
t = sympy.Symbol('t') # set t as a variable/symbol
sympy.solve(sympy.Eq(10*t, 20*(t-1)), t) # which reads: solve the equation 10*t == 20*(t-1) for t.
# returns [2] (list of solutions to the equation)
"
10979,65865,Natural/Relative days in Python,"from datetime import timedelta
from babel.dates import format_timedelta
delta = timedelta(days=6)
format_timedelta(delta, locale='en_US')
u'1 week'
"
23178,4569,"python objects, garbage collection","class Search(object):
    def __init__(self):
        self.sorters = []
        self.filters = []
"
38066,71456,"Specific user content Add, Edit, Delete particular data for particular user","class ProductAdmin(admin.ModelAdmin):
    ...
    def get_queryset(self, request):
      ...
      return qs.filter(brand__brand_name = request.user)
"
21068,49957,Python - Receipt-like output,"price = input(""Enter Price "")
cash = input(""Enter Cash "")
coins = [100, 50, 20, 10, 5, 1, 0.5]
change = cash-price
i = 0
while i<len(coins):
    print int(change/coins[i]),str("" X ""),coins[0+i]
    if change>0:
        change = change-(int(change/coins[i])*coins[i])
    else:
        change = max(change,0)
    i=i+1
"
5094,76261,Get execution time of Python script with C program," double elapsedTime[100];
 for (i = 1; i <= 100; ++i) {    
        sprintf(command, ""python program.py %d"", i);
        gettimeofday(&t1, NULL);
        system(command);
        gettimeofday(&t2, NULL);

        // compute and print the elapsed time in millisec
        elapsedTime[i] = (t2.tv_sec - t1.tv_sec) * 1000.0;      // sec to ms
        elapsedTime[i] += (t2.tv_usec - t1.tv_usec) / 1000.0;   // us to ms
    };
"
37696,18472,grequests pool with multiple request.session?,"class MyAwesomeThread(Thread):
    """"""
    Threading wrapper to handle counting and processing of tasks
    """"""
    def __init__(self, session, q):
        self.q = q
        self.count = 0
        self.session = session
        self.response = None
        Thread.__init__(self)

    def run(self): 
        """"""TASK RUN BY THREADING""""""
        while True:
            url, host = self.q.get()
            httpHeaders = {'Host' : host}
            self.response = session.get(url, headers=httpHeaders)
            # handle response here
            self.count+= 1
            self.q.task_done()
        return

q=Queue()
threads = []
for i in range(CONCURRENT):
    session = requests.session()
    t=MyAwesomeThread(session,q)
    t.daemon=True # allows us to send an interrupt 
    threads.append(t)


## build urls and add them to the Queue
for url in buildurls():
    q.put_nowait((url,host))

## start the threads
for t in threads:
    t.start()
"
5538,72643,Does Python assume a symbol is a type before trying to see if it is a function?,"class Int(object):

  def __init__(self, init_val=0):
    self.val = init_val

obj = Int(42)
print Int, type(Int), obj, type(obj)
"
4711,61560,Extracting URLs from a text file,"with open(file_name) as f:
    urls = f.readlines()

urls = ([s.strip('\n') for s in urls ])


for url in urls:
    # insert code here to do whatever you want with one url
"
27504,62034,Checking a value in python,"while True:
    poz=input(""Give the position:"")
    try:
        val=int(poz)
        if val>=0:
            break
        else:
            print (""The position has to be bigger then 0"")
    except ValueError:
        print (""invalid number"")
"
32719,71288,adding a null column to s selection in sqlalchemy,"from sqlalchemy.sql.expression import null
db.session.query(models.User.id, null())
"
27094,40444,Getting an external list of ip and turning in to variable dic in Python,"ip = urllib.urlopen('http://www.samair.ru/proxy/time-01.htm').read()
clientIp = re.findall(r""\d+\.\d+\.\d+\.\d+"", ip)
"
26632,77695,Pickling routines accessible through the C API?,"static PyObject *module = NULL;
PyObject *pickle;

if (module == NULL &&
    (module = PyImport_ImportModuleNoBlock(""pickle"")) == NULL)
    return NULL;

pickle = PyObject_CallMethodObjArgs(module, ""dumps"", to_dump_object, NULL);
if (pickle != NULL) { ... }
Py_XDECREF(pickle);
"
10662,45431,Changing items while running,"gobject.timeout_add(1000, self.funcion, None)

def function(self, widget)
  self.label.set_label(uploadM)
"
35236,54815,Replace __str__ method on list object in Python,"class myList(list):
    def __new__(cls, data=None):
        obj = super(myList, cls).__new__(cls, data)
        return obj

    def __str__(self):
        return 'myList(%s)' % list(self)

    def __add__(self, other):
        return myList(list(self) + list(other))

>>> l = myList(range(5))
>>> print l
myList([0, 1, 2, 3, 4])
>>> print l + [1, 2]
myList([0, 1, 2, 3, 4, 1, 2])
>>> l.sort()
>>> print l
myList([0, 1, 2, 3, 4])
"
2125,72191,Python Validation with While Loops,"next2=input(""How many would you like to add? "")
print("""")
count = 0
inputs = []
while count < int(next2):
    count = count + 1
    next3=input(str(count) + "". Input: "")
    inputs += [next3]
print("""")
check=input(""Are you sure? (Y/N) "")
while check not in (""YyYesNnNo""):
    check=input(""Are you sure? (Y/N) "")
if check in (""YyYes""):
    for userInput in inputs:
        add(userInput)
else:
    home()
"
17598,61153,"How to convert ""\x1b"" into a real control character ""[Esc]""","s = r""1\x1b2""
dec = s.decode('string_escape')
print len(dec), repr(dec)
"
24452,5899,Monthly Averages Using Daily Data Using Python Pandas,"import numpy as np
import pandas as pd

# Read in your file as a pandas.DataFrame
# using 'any number of whitespace' as the seperator
df = pd.read_csv(""snow.txt"", sep='\s*', names=[""year"", ""month"", ""day"", ""snow_depth""])

# Show the first 5 rows of the DataFrame
print df.head()

# Group data first by year, then by month
g = df.groupby([""year"", ""month""])

# For each group, calculate the average of only the snow_depth column
monthly_averages = g.aggregate({""snow_depth"":np.mean})
"
8122,60171,Can an object inspect the name of the variable it's been assigned to?,"class Foo(object):
    def __init__(self): pass

x = Foo()
"
38705,69604,"Read from an Excel spreadsheet, and rename multiple folders with data from XLSX","import os
import openpyxl
import string

# Get directories
directories = [name for name in os.listdir('.')]

# Load Workbook
wb = openpyxl.load_workbook('file.xls')

# Load first work sheet
ws = wb[0]
rows = 10
dates_used = {}
for i in xrange(2, rows + 2):
    folder_to_change = [x for x in directories if x.startswith(ws['A%s' % i])]
    for y, folder in enumerate(folder_to_change):
        date = folder[8:16]
        os.rename(folder, '{0}_{1}_{2}_{3}_{4}_{5}_{6}_{7}'.format(
            ws['C%s' % i], ws['D%s' % i], ws['B%s' % i], date, ws['E%s' % i], 
            y+1, ws['F%s' % i], ws['G%s' % i])
"
35909,51928,Python and regex - how to find anytext_NUMBER_svm.pkl,">>> import re
>>> regex = re.compile(r'.+_\d+_svm\.pkl')
>>> regex.search('anytext_1_svm.pkl') != None
True
"
51,65426,OSX and setting PATH for Apache,"<key>EnvironmentVariables</key>
 <dict>
   <key>PATH</key>
   <string>/usr/bin:/bin:/usr/sbin:/sbin</string>
 </dict>
"
25,15525,top-level package handling with setuptools (or another python egg builder),"import sys
sys.path.insert(0, './toplevel')
"
24834,12751,"How to scale values in the heamap in row direction using Matplotlib's ""imshow""?","import numpy as np
import matplotlib.pyplot as plt


shifts = np.linspace(1, 50, 25)[:, np.newaxis]
x = np.arange(50)[np.newaxis, :]
data = np.exp(-(x - shifts)**2 / 50) * shifts

fig, (ax1, ax2) = plt.subplots(2, 1)

im1 = ax1.imshow(data, interpolation='none', cmap='viridis')
fig.colorbar(im1, ax=ax1, label='raw values')

norm_data = (data - np.min(data, axis=1)[:, np.newaxis]) / np.ptp(data, axis=1)[:, np.newaxis]
im2 = ax2.imshow(norm_data, interpolation='none', cmap='viridis')
fig.colorbar(im2, ax=ax2, label='normalized by row')
"
18881,63151,Django Forms Help needed,"    username # filled with user input or first/lastname etc.

    #check for other profile with equal names (and those with a postfix)
    others = [int(username.replace(name, ""0"")) 
              for p in User.objects.filter(username__startswith=username).exclude(user=self.user)
              if username.replace(name, ""0"").isdigit()]

    #do we need a postfix
    if len(others) > 0 and 0 in others:
        username = ""%s%d"" % (username, max(others) + 1)
"
36522,17477,Return all values in a for loop," def getPressure(self, t):    
    if (t-self.tstart<0):   
        return () 
        print ""Startpunkt liegt auÃerhalb des FÃ¶rderzeitraumes!""
    else:
        result = []
        for x in range (xmin, xmax, xsteps):
            for y in range (ymin,ymax,ysteps):
                self.r = sqrt((x-self.xlage)**2+(y-self.ylage)**2)
                self.P = (self.q/(rhof*4*pi*kappa))*(expn(1,self.r**2/(4*c*(t-self.tstart))))
                self.z = self.P/1e6 #= self.P/1e6
                result.append(self.z)
        return result
"
8842,67696,How to use a regex to find combined words with period delimiters?,"[a-zA-Z0-9]\w+(?:\.\w+)+
"
36704,20617,Find lowest value of previous 3 days in pandas DataFrame,"import pandas as pd
import numpy as np

# your data
# ===========================
np.random.seed(0)
df = pd.DataFrame(100+np.random.randn(100).cumsum(), index=pd.date_range('2015-01-01', periods=100, freq='B'), columns=['price'])
df


               price
2015-01-01  101.7641
2015-01-02  102.1642
2015-01-05  103.1429
2015-01-06  105.3838
2015-01-07  107.2514
2015-01-08  106.2741
2015-01-09  107.2242
2015-01-12  107.0729
2015-01-13  106.9696
2015-01-14  107.3802
...              ...
2015-05-07  100.1852
2015-05-08  101.4077
2015-05-11  101.6160
2015-05-12  102.5926
2015-05-13  102.9490
2015-05-14  103.6555
2015-05-15  103.6660
2015-05-18  105.4519
2015-05-19  105.5788
2015-05-20  105.9808

[100 rows x 1 columns]


# processing
# ===========================
pd.concat([df, df.shift(1), df.shift(2)], axis=1).dropna().max(axis=1)

2015-01-05    103.1429
2015-01-06    105.3838
2015-01-07    107.2514
2015-01-08    107.2514
2015-01-09    107.2514
2015-01-12    107.2242
2015-01-13    107.2242
2015-01-14    107.3802
2015-01-15    107.5243
2015-01-16    108.9785
                ...   
2015-05-07    100.5884
2015-05-08    101.4077
2015-05-11    101.6160
2015-05-12    102.5926
2015-05-13    102.9490
2015-05-14    103.6555
2015-05-15    103.6660
2015-05-18    105.4519
2015-05-19    105.5788
2015-05-20    105.9808
Freq: B, dtype: float64
"
12273,75121,Deleting the most recently received email via Python script?,"import poplib

#connect to server
mailserver = poplib.POP3_SSL('pop.gmail.com')
mailserver.user('recent:YOURUSERNAME') #use 'recent mode'
mailserver.pass_('YOURPASSWORD') #consider not storing in plaintext!

#newest email has the highest message number
numMessages = len(mailserver.list()[1])

#confirm this is the right one, can comment these out later
newestEmail = mailserver.retr(numMessages)
print newestEmail

#most servers will not delete until you quit
mailserver.dele(numMessages)
mailserver.quit()
"
20739,25618,"When using Python2.7 on App Engine, is it ok to reference per-request globals?","import webapp2
from google.appengine.api import users

class BaseHandler(webapp2.RequestHandler):
  def get_user(self):
    #Maybe also adding some logic here or returning your own User model
    return users.get_current_user()


class MainPage(BaseHandler):
  def get(self):
    if self.get_user():
      self.response.headers['Content-Type'] = 'text/plain'
      self.response.out.write('Hello, ' + self.get_user().nickname())
    else:
      self.redirect(users.create_login_url(self.request.uri))
"
34737,83285,Sorting a list based on number of vowels in the words in python,">>> word_list = ['banana', 'apple', 'pineapple']
>>> sorted(word_list,
...        key=lambda word: sum(ch in 'aeiou' for ch in word),
...        reverse=True)
['pineapple', 'banana', 'apple']
"
38111,68057,Plotting a curve with equidistant (arc-length) markers,"import numpy as np
import matplotlib.pyplot as plt

x = np.linspace(0, 10*np.pi, 1000)
y = np.sin(x*2) + np.sin(x + 1)

plt.plot(x, y, marker='o', markevery=0.05)

plt.show()
"
39962,31770,Python Regular expression,"import re

matches = re.finditer('<h[1-6]>', your_text)
for match in matches:
    print match.start()
"
34441,76699,Making all possible 6 digit combinations of digits and alphabets,"for ele in  itertools.product(""0123456789abcdefghijklmnopqrstuvwxyz"",repeat=6):
    print("""".join(ele))

000000
000001
000002
000003
000004
000005
000006
000007
000008
000009
00000a
00000b
00000c
00000d
00000e
00000f
00000g
00000h
00000i
00000j
00000k
00000l
00000m
00000n
00000o
00000p
00000q
00000r
00000s
00000t
00000u
00000v
00000w
00000x
00000y
...............
"
25383,36398,How do you filter s3 files before sending input to mrjob mapper?,"
if __name__ == '__main__':
    Arbitrary_code_function.run()
    MRJOB_Jobname.run()
"
17916,40287,Python Sorting a List of Namedtuples,"spam = [
            A(id=u'BLI52E', time=datetime.datetime(2014, 11, 30, 9, 52, 49, 209102)),
            A(id=u'DHCS4J', time=datetime.datetime(2014, 11, 30, 9, 53, 36, 495319))
       ]
spam.sort(key=lambda x:x.time)
"
29728,71877,Unable to define desired function,"    def hello1(a,g):
    a(g)
    a(g)

def hello2(ar):
    print(ar)
    print(ar)
hello1(hello2, ""hello"")
print("""")

def do_four(a,g):
    hello1(a,g)
    hello1(a,g)

do_four(hello2, ""hello1"")
print("""")


def do_eight(sf):
    print(sf)
    print(sf)
do_four(do_eight, ""hello2"")

def do_eight1(a,g):
    do_four(a,g)
    do_four(a,g)

do_eight1(do_eight, ""hello3"")

def do_sixteen(add):
    print(add)
    print(add)

do_eight1(do_sixteen, ""hello4"")

def do_sixteen1(a,g):
    do_eight1(a,g)
    do_eight1(a,g)

do_sixteen1(do_sixteen, ""hello5"")
"
20912,23796,Java: JSON (Gson) get values from JSON string,"// this is just your json string.
String yourJson = ""{\""result\"":\""_error\"",\""invokeId\"":2,\""data\"":{\""timestamp\"":1.401824129758E12,\""rootCause\"":{\""message\"":\""Wrong client version for server\"",\""localizedMessage\"":\""Wrong client version for server\"",\""rootCauseClassname\"":\""login.impl.ClientVersionMismatchException\"",\""substitutionArguments\"":[\""4.9\"",\""4.8.14_05_16_17_02\""],\""errorCode\"":\""LOGIN-0001\""},\""headers\"":{},\""correlationId\"":\""00E36368-6158-CD63-56CA-4F39493E8ED3\"",\""faultCode\"":\""Server.Processing\"",\""messageId\"":\""D8424EAD-8D0B-5441-820B-775B99812CFD\"",\""faultString\"":\""login.impl.ClientVersionMismatchException : Wrong client version for server\"",\""timeToLive\"":0.0,\""clientId\"":\""D8424E8B-5F0F-1ECD-C29F-C6440488B0FC\"",\""destination\"":\""loginService\""},\""version\"":0}"";
// create a parser
JsonParser parser = new JsonParser();
// parse then get your root node as a JsonObject
JsonObject obj = parser.parse(yourJson).getAsJsonObject();

// traverse your object
JsonArray subArgs = obj.get(""data"").getAsJsonObject()
        .get(""rootCause"").getAsJsonObject()
        .get(""substitutionArguments"").getAsJsonArray();

// because the get(1) returns a JsonElement you will need to use getAsString 
// to retrive the actual results
System.out.println(subArgs.get(1).getAsString()); // 4.8.14_05_16_17_02
"
24443,56562,ConfigParser.MissingSectionHeaderError when parsing rsyncd config file with global options,">>> class FakeGlobalSectionHead(object):
...     def __init__(self, fp):
...         self.fp = fp
...         self.sechead = '[global]\n'
...     def readline(self):
...         if self.sechead:
...             try: return self.sechead
...             finally: self.sechead = None
...         else: return self.fp.readline()
...
>>> cp = ConfigParser()
>>> cp.readfp(FakeGlobalSectionHead(open('rsyncd.conf')))
>>> print(cp.items('global'))
[('path', '/data/ftp'), ('pid file', '/var/run/rsyncdpid.pid'), ...]
"
39186,46714,translate a mixed fasta file using python/biopython,"if all(c.upper() in 'ATGC' for c in seq_record.seq):
    pass # it's DNA
"
11408,55149,Convert hex-string to string using binascii,"s=str(616263)
print """".join([chr(int(s[x:x+2], 16)) for x in range(0,len(s),2)])
"
28424,37972,Finding nested values in pymongo,"value = 150
coll.update({}, 
    {'$pull': {'values': {'value_type': 'type1', 'value': {'$lt': value}}}},
    multi=True)
"
9581,67768,Pandas tuples groupby aggregation,"import pandas as pd
import numpy as np

df = pd.DataFrame()
df['A'] = [1, 2, 1, 2]
df['B'] = [1, 2, 3, 4]
df['C'] = map(lambda s: (s,), df['B'])
print df

df.at[0,'B'] = 10
print df
   A   B     C
0  1  10  (1,)
1  2   2  (2,)
2  1   3  (3,)
3  2   4  (4,)

print df.groupby('A').sum()
    B
A    
1  13
2   6

print df.groupby('A')['B'].sum()
1    13
2     6
Name: B, dtype: int64
"
37728,49110,Tornado: Make Blocking HTTP Request in Async Handler,"import logging
...
def on_response(self, response):
    logging.debug(response)
    self.write(response.body)
"
16332,22402,How to prevent xml.ElementTree fromstring from dropping commentnode,"from lxml import etree

parser = etree.XMLParser(remove_comments=False)
tree = etree.parse('input.xml', parser=parser)
# or alternatively set the parser as default:
# etree.set_default_parser(parser)
"
12243,50821,Get filepath from shell working directory in Python?,"import os
os.path.realpath(__file__)
"
24077,11813,Python- Get Stock Information for a company for a range of dates,"import urllib2
import csv

class GoogleFinanceAPI:
    def __init__(self):
        self.url = ""http://finance.google.com/finance/historical?client=ig&q={0}:{1}&output=csv""
    def get(self,symbol,exchange):
        page = urllib2.urlopen(self.url.format(exchange,symbol))
        content = page.readlines()
        page.close()
        reader = csv.reader(content)
        for row in reader:
            print row

c = GoogleFinanceAPI()
c.get(""MSFT"",""NASDAQ"")
"
37414,46726,Plots made with rpy sent to X11 suddenly close?,"raw_input()
"
18256,38531,How to create a Pandas DataFrame from String,"import sys
if sys.version_info[0] < 3: 
    from StringIO import StringIO
else:
    from io import StringIO

import pandas as pd

TESTDATA=StringIO(""""""col1;col2;col3
    1;4.4;99
    2;4.5;200
    3;4.7;65
    4;3.2;140
    """""")

df = pd.read_csv(TESTDATA, sep="";"")
"
39624,65399,Getting tag after tag?,"import bs4 as bs


content = '''<span class=""number"">5</span>
<span class=""b"">xxx</span><span class ""number"">10</span>'''

soup = bs.BeautifulSoup(content)
print(soup('span', {'class': 'b'})[0].next_sibling)
# <span class="""">10</span>

print(soup('span', {'class': 'b'})[0].next_sibling.string)
# 10
"
17883,79893,Hardcoded variables from database,"def calculate_tax_for_year(self, income, year):
    return _calculate_tax_for_year(self, income, tax_for_year(year)):

def tax_for_year(year): # solution 1
    if year < 2010: return .2
    if year < 2013: return .18
    # etc.

def tax_for_year(year): # solution 2
    with dbconn as cursor:
        cursor.execute(""SELECT rate FROM taxrate WHERE year == %s"", year)
        return cursor.fetch_one_row() # don't remember the syntax; something like this...

# solution 3:
def tax_for_year(year):
    # just describing the steps:
    with open(""path/to/taxfile"", ""r"") as f:
        taxdata = f.read()
    # parse table file, e. g. CSV
    # find the right entry
    return entry_matching_for_given_year

def update_tax_file():
    import urllib
    conn = urllib.urlopen(""http://my.taxfile/url.csv"")
    # check if the file has changed since last check
    # if so:
    data = conn.read()
    with open(""path/to/taxfile"", ""w"") as f:
        f.write(data)
"
3180,3473,Building Python 2.5 with full Sqlite3 as a user on linux,"$ mkdir -p ~/applications/src
$ cd ~/applications/src
$ wget http://www.sqlite.org/sqlite-autoconf-3070900.tar.gz
$ tar xvvf sqlite-autoconf-3070900.tar.gz
$ cd sqlite-autoconf-3070900
$ ./configure --prefix=~/applications
$ make
$ make install

$ cd ~/applications/src
$ wget http://www.python.org/ftp/python/2.5.2/Python-2.5.2.tgz
$ tar xvvf Python-2.5.2.tgz
$ cd Python-2.5.2
$ ./configure --prefix=~/applications
$ make
$ make install

$ ~/applications/bin/python
>>> import sqlite3
>>> # no error!
"
38510,56242,How to remove this special character?,">>> s = u'word1 \ufeffword2'
>>> s = s.replace(u'\ufeff', '')
>>> s
u'word1 word2'
"
4362,27976,how to simplify the so many question mark in the insert string ï¼,"parameters = "", "".join([""?""] * 30)
query = 'INSERT INTO the_table VALUES(%s);' % parameters
con.executemany(query, data)
"
29838,46877,Split large directory into subdirectories,"perl -e'
   my $base_dir_qfn = ""."";
   my $i = 0;
   my $dir;
   opendir(my $dh, $base_dir_qfn)
      or die(""Can'\''t open dir \""$base_dir_qfn\"": $!\n"");

   while (defined( my $fn = readdir($dh) )) {
      next if $fn =~ /^(?:\.\.?|dir_\d+)\z/;

      my $qfn = ""$base_dir_qfn/$fn"";

      if ($i % 1000 == 0) {
         $dir_qfn = sprintf(""%s/dir_%03d"", $base_dir_qfn, int($i/1000)+1);
         mkdir($dir_qfn)
            or die(""Can'\''t make directory \""$dir_qfn\"": $!\n"");
      }

      rename($qfn, ""$dir_qfn/$fn"")
         or do {
            warn(""Can'\''t move \""$qfn\"" into \""$dir_qfn\"": $!\n"");
            next;
         };

      ++$i;
   }
'
"
663,32612,Efficient way of removing keys of certain prefix from python dictionary,"for k in d.keys():
    if k.startswith('Prefix'):
        d.pop(k)
"
6541,71929,Python Pandas: Spread total values in dataframe based on percentages back to categories,">>> df_tot = df[df['Cat'] == 'tot cat'].reindex(index=df.index, method='backfill')
>>> for x in df.columns:
        if 'val' in x:
            df[x] = df['Percentage'] * df_tot[x] / 100

   Country State City      Cat  Total_amount  Percentage    val1     val2    val3     val4
0       US    FL  MIA     cat1           100       10.00    20.0    3.000   40.00   12.000
1       US    FL  MIA     cat2           850       85.00   170.0   25.500  340.00  102.000
2       US    FL  MIA     cat3            50        5.00    10.0    1.500   20.00    6.000
3       US    FL  MIA  tot cat          1000      100.00   200.0   30.000  400.00  120.000
4       US    GA  ATL     cat1           200       40.00    40.0   20.000    8.00   12.000
5       US    GA  ATL     cat2           300       60.00    60.0   30.000   12.00   18.000
6       US    GA  ATL  tot cat           500      100.00   100.0   50.000   20.00   30.000
7       US    NY   NY  tot cat           100      100.00     0.0   20.000    5.00   15.000
8   Canada    MB  WPG     cat1           250       50.00    25.0  275.000   20.00   80.000
9   Canada    MB  WPG     cat2           250       50.00    25.0  275.000   20.00   80.000
10  Canada    MB  WPG  tot cat           500      100.00    50.0  550.000   40.00  160.000
11  Canada    QC  YUL     cat1           500       33.33   333.3   83.325  166.65   19.998
12  Canada    QC  YUL     cat2          1000       66.66   666.6  166.650  333.30   39.996
13  Canada    QC  YUL  tot cat          1500      100.00  1000.0  250.000  500.00   60.000
"
2493,82505,Replacement of space to + in python,"my_string = ""this is my very first python program""
n = len(my_string.split(' '))
for i in range(n):
    my_string_split = [x.replace ("" "", ""+"") for x in my_string.split(' ', n-i-1)]
    print my_string_split
"
28455,51886,How to get all pickled data,"with open(pickle_file) as f:
    unpickled = []
    while True:
        try:
            unpickled.append(pickle.load(f))
        except EOFError:
            break
"
21783,59014,How many common English words of 4 letters or more can you make from the letters of a given word (each letter can only be used once),"from collections import defaultdict
from itertools import permutations

PRIMES = list(gen_primes(256)) # some arbitrary prime generator

def get_dict(path):
    res = defaultdict(list)
    with open(path, ""r"") as file:
        for line in file.readlines():
            word = line.strip().upper()
            hash = compute_hash(word)
            res[hash].append(word)
    return res

def compute_hash(word):
    hash = 1
    for char in word:
        try:
            hash *= PRIMES[ord(char) - ord(' ')]
        except IndexError:
            # contains some character out of range - always 0 for our purposes
            return 0
    return hash

def get_result(path, given_word):
    words = get_dict(path)
    given_word = given_word.upper()
    result = set()
    powerset = lambda x: powerset(x[1:]) + [x[:1] + y for y in powerset(x[1:])] if x else [x]
    for word in (word for word in powerset(given_word) if len(word) >= 4):
        hash = compute_hash(word)
        for equiv in words[hash]:
            result.add(equiv)
    return result

if __name__ == '__main__':
    path = ""dict.txt""
    given_word = ""textbook""
    result = get_result(path, given_word)
    print(result)
"
39847,59621,Blackjack program in python,">>> card_vals = {""Jack"" : 5, ""Queen"": 15, ""King"": 20, ""Ace"":10}
>>> card_vals.update({ x:x for x in range(2,11)})
>>> card_vals[""Jack""]
5
>>> card_vals[""Jack""]
5
>>> card_vals[2]
2
>>> card_vals[5]
5
"
23196,52341,Passing python dict to template,"return render_template('template.html', **content)
"
13242,21137,process the files in S3 based on their timestamp using python and boto,"import boto.s3
conn = boto.s3.connect_to_region('us-east-1')
bucket = conn.get_bucket('mybucket')
keys = list(bucket.list(prefix='folder1/folder2/'))
keys.sort(key=lambda k: k.last_modified)
"
30907,79069,How do I over-ride the save() method for my Django model so that it updates properly?,"from django.db.models import Sum

class Professor(models.Model):
    ...
    def save(self,*args,**kwargs):
        if self.pk: # prevent hitting the database unless professor already exists
            professor_reviews = Review.objects.filter(professor=self)
            # Adjusting the total_rating_points and number of reviews
            self.total_rating_points = professor_reviews.aggregate(Sum('rating'))
            self.number_of_reviews = professor_reviews.count()
            # Adjusting the rating
            self.rating = float(self.total_rating_points) / float(self.number_of_reviews)
        super(Professor,self).save(*args,**kwargs)

class Review(models.Model):
    ....         
    def save(self, *args, **kwargs):
        if self.pk: #already exists
            self.updated = timezone.now()
        super(Review, self).save(*args, **kwargs) 
        self.professor.save() # call after super writes the Review to the DB
"
14663,13593,Using Django Rest Framework as security layer for file system processing,"from django.conf import settings

from rest_framework.views import APIView
from rest_framework.response import Response
from rest_framework import permissions

from django.http import HttpResponse

import requests
import mimetypes


class Reports(APIView):
    permission_classes = (permissions.AllowAny,)

    def get(self, request, ssn, validity, file):
        response = requests.get(settings.PROXY_BASE_URL + ""/reports/"" + ssn + ""/"" + validity + ""/"" + file)
        mimetype = mimetypes.guess_type(settings.PROXY_BASE_URL + ""/reports/"" + ssn + ""/"" + validity + ""/"" + file) #Return an array
        return HttpResponse(response, content_type=mimetype[0])
"
33077,78055,raw_input that able to do detect multiple input,"s = raw_input(""Please input something: "")
# now I input ""f John Cleese"", so that is now the value of 's'
# printing the value of 's' will let you see what it is exactly.

command = s.split(' ', 1) 
# the above code will split the string 's' on a ' ' space, 
# and only do it once, and then create a list with the pieces
# so the value of 'command' will be ['f', 'John Cleese'] for your example.

# to access items in the command list use brackets []
command[0] # 'f'
command[1] # 'John Cleese'
"
32929,40311,Regular expression to test a limited palette of possible values for a string?,"def make_re(args):
    args = (re.escape(arg) for arg in args) #if you want to escape special characters
    return re.compile('^({0})$'.format('|'.join(args)) )

boolre = make_re(('true','false'))
"
33672,53903,How to configure Django database using Heroku?,"DATABASES = {'default': dj_database_url.config()}
DATABASES['default']['ATOMIC_REQUESTS'] = True
"
33415,48807,MatPlotLib: Multiple datasets on the same scatter plot,"import matplotlib.pyplot as plt

x = range(100)
y = range(100,200)
fig = plt.figure()
ax1 = fig.add_subplot(111)

ax1.scatter(x[:4], y[:4], s=10, c='b', marker=""s"", label='first')
ax1.scatter(x[40:],y[40:], s=10, c='r', marker=""o"", label='second')
plt.legend(loc='upper left');
plt.show()
"
18074,39665,Mean of a specific part of the matrix,"import random as rd
import numpy as np

l, w = 12, 12   # matrix has dimensions l=12, w=12
matriz= np.zeros([l, w])

for i in range(l):
    for j in range(w):
        matriz[i,j]=rd.randint(0,10) 

vals = []

for i in range(int(l/2)):     # iterate through rows 0 to 4
    for j in range(i+1, w-(i+1)):
        vals.append(matrix[i,j])

# get the mean:
print 'mean is {}'.format(sum(vals)/len(vals))
"
19723,59678,Get all unnamed groups in a Python match object,"named = dict()
unnamed = dict()
all = mo.groups()

# Index every named group by its span
for k,v in mo.groupdict().items():
    named[mo.span(k)] = v

# Index every other group by its span, skipping groups with same 
# span as a named group
for i,v in enumerate(all):
    sp = mo.span(i + 1)
    if sp not in named:
        unnamed[sp] = v

print(named)   # {(8, 9): '%'}
print(unnamed) # {(4, 8): '2321', (0, 4): 'aaba'}
"
32383,51188,How do I iterate through 2 CSV files and get data from one and add to the other?,"import csv
import sys

masterlst = open('masterlist.csv')
comparelst = open(sys.argv[1])

masterrdr = csv.DictReader(masterlst, dialect='excel')
comparerdr = csv.DictReader(comparelst, dialect='excel')

headers = comparerdr.fieldnames

with open('callcounts.csv', 'w') as outfile:
    wrtr = csv.DictWriter(outfile, fieldnames=headers, dialect='excel', quoting=csv.QUOTE_MINIMAL, delimiter=',', escapechar='\n')
    wrtr.writerow(dict((fn,fn) for fn in headers))
    for line in masterrdr:
        found = False
        with open(sys.argv[1]) as loopfile:
            looprdr = csv.DictReader(loopfile, dialect='excel')
            for row in looprdr:
                if row['Names'] == line['Names']:
                    line['Calls'] = row['Calls']
                    wrtr.writerow(line)
                    found = True
                    break

        if found == False:
            line['Calls'] = '0'
            wrtr.writerow(line)

masterlst.close()
comparelst.close()
"
19182,84454,How to use AND condtion in mongokit when a key has multiple values,"conditions['tag.slug'] = { '$in': tags }
"
36821,22380,Pylons Routes url_for for a map.resource,"url('user', id=1)
"
1447,60834,Named and default arguments class arguments in Python,"class xyz:
    def __init__ (self, a='1', b='2'):
        print a,b

xyz(b=3,a=4)
xyz(a=5,b=6)

>>4 3
>>5 6
"
28698,17296,resolving string (read from database) to list python,"str_db_bins_list = eval(str_db_bins)
str_db_lov_list  = eval(str_db_lov)
"
2757,34780,PyQt4.QtWebKit + Background Transparency,"from PyQt4 import QtGui, QtWebKit
from PyQt4.QtCore import Qt
a = QtGui.QApplication([])
view = QtWebKit.QWebView()
view.setAttribute(Qt.WA_TranslucentBackground)
# Works with and without that following line
view.setAttribute(Qt.WA_OpaquePaintEvent, False)
page = view.page()
palette = page.palette()
palette.setBrush(QtGui.QPalette.Base, Qt.transparent)
page.setPalette(palette)
page.currentFrame().documentElement().setInnerXml(""text"")
view.show()
a.exec_()
"
20212,34174,Python findall regex," re.findall('ABC-[0-9]+', string)
"
9695,53893,"Using scikit-learn (sklearn), how to handle missing data for linear regression?","from sklearn.preprocessing import Imputer
imputer = Imputer()
y_imputed = imputer.fit_tranform(y).
"
21799,13072,How to improve performance of python cgi that reads a big file and returns it as a download?,"def application(environ, start_response):
    status = '200 OK'
    output = 'Hello World!'

    response_headers = [('Content-type', 'text/plain')]
    start_response(status, response_headers)

    file = open('/usr/share/dict/words', 'rb')
    return environ['wsgi.file_wrapper'](file)
"
38561,16513,"Beginner - Python 2.7.2, ArcGIS 10.1 Multiple 'or' conditions, same action","for lyr in arcpy.mapping.ListLayers(mxd, """", df):
    if lyr.name() in ['name1', 'name2', 'name3']:
        arcpy.mapping.RemoveLayout(df, lyr)
"
34447,61539,How to combine two lists into pairs and then make those pairs one element in list?,"print([str(first[i])+second[i] for i in range(len(first))])
"
26587,34023,slicing numpy arrays by combining indices and expression masks,"import numpy as np
indices = [1, 3, 7]
mask = np.zeros(10, dtype=np.bool)
mask[indices] = True
print(mask) # [False  True False  True False False False  True False False]
"
14439,40772,How to make a list with elements to list with list with only one element?,"b = [[i] for i in a]
"
32275,55207,Insert a string before a substring of a string,"my_str = ""thisissometextthatiwrote""
substr = ""text""
inserttxt = ""XX""

idx = my_str.index(substr)
my_str = my_str[:idx] + inserttxt + my_str[idx:]
"
1233,17786,Python: preventing caching from slowing me down,"my_serialized_object = cPickle.dumps(my_object, cPickle.HIGHEST_PROTOCOL)
"
10130,22037,How to read special characters of a XML file with minidom,"NameValue = unicode(Item.getElementsByTagName(""Name"")[0].childNodes[0].data.encode(""latin-1""), ""utf-8"")
"
5982,69069,How can I do element-wise arithmetic on Numpy matrices?,">>> a = np.matrix(np.random.rand(3,3))
>>> b = np.matrix(np.random.rand(3,3))
>>> a * b
matrix([[ 1.29029129,  0.53126365,  2.12109815],
        [ 0.99370991,  0.55737572,  1.9167072 ],
        [ 0.76268194,  0.43509462,  1.48640178]])
>>> np.asarray(a) * np.asarray(b)
array([[ 0.67445535,  0.12609799,  0.7051103 ],
       [ 0.00131878,  0.42079486,  0.5223201 ],
       [ 0.65558303,  0.03020335,  0.16753354]])
>>> np.multiply(a, b)
matrix([[ 0.67445535,  0.12609799,  0.7051103 ],
        [ 0.00131878,  0.42079486,  0.5223201 ],
        [ 0.65558303,  0.03020335,  0.16753354]])
"
27952,74530,Changing plot scale by a factor in matplotlib,"from pylab import *

# Generate random test data in your range
N = 200
epsilon = 10**(-9.0)
X = epsilon*(50*random(N) + 1)
Y = random(N)

# X2 now has the ""units"" of nanometers by scaling X
X2 = (1/epsilon) * X

subplot(121)
scatter(X,Y)
xlim(epsilon,50*epsilon)
xlabel(""meters"")

subplot(122)
scatter(X2,Y)
xlim(1, 50)
xlabel(""nanometers"")

show()
"
15057,66710,Why is this mini program saying that the list index is out of range?,"from string import ascii_uppercase as uppercase

replacement_set = uppercase[13:] + uppercase[:13]
"
4174,77561,Storing a file in the clipboard in python,"from PythonMagick import Image
Image(""img.png"").write(""clipboard:"") 
"
5919,3415,Best Way to Calculate Column Percentage of Total Pandas,">>> print df.drop('Total', axis=1).divide(df.Total, axis=0)
   Group1  Group2
0   0.600   0.400
1   0.950   0.050
"
14930,20766,SqlAlchemy (Postgres + Flask ) : How to sum multiple columns?,"class Score(db.Model):
    __tablename__ = 'scores'
    item_id  = db.Column(db.Integer(), primary_key=True)
    score1 = db.Column(db.Integer(), nullable=False)
    score2 = db.Column(db.Integer(), nullable=False)
    score3 = db.Column(db.Integer(), nullable=False)
    score4 = db.Column(db.Integer(), nullable=False)

    @hybrid_method
    def total_score(self, fields):
        return sum(getattr(self, field) for field in fields)

    @total_score.expression
    def total_score(cls, fields):
        return sum(getattr(cls, field) for field in fields)


fields = ['score1', 'score2']
scores = db.session.query(Score.item_id, Score.total_score(fields).label('total_score')).order_by('total_score')
final_output = [score._asdict() for score in scores]
"
15699,45943,Foreach comma separated item,"shares = parser.get('profile', 'shares')
for share in shares.split(', ')
    username = parser.get(share, 'username')
"
33864,18454,Aliasing a class attribute to a function,"class Foo():

    @property
    def bar(self):
        # slow calculation
        return somefloat


f = Foo()

f.bar  # returns somefloat but doesn't require the empty parentheses
"
31358,20821,How can I write to an existing csv file from a dictionary to a specific column?,"import csv
import shutil


def createReferenceIdToPartNumberMap(csvToReadPath):
    result = {}
    print 'read part numbers to update from', csvToReadPath
    with open(csvToReadPath, 'rb') as csvInFile:
        csvReader = csv.DictReader(csvInFile)
        for row in csvReader:
            result[row['ReferenceID']] = row['PartNumber']
    return result


def updatePartNumbers(csvToUpdatePath, referenceIdToPartNumberMap):
    tempCsvPath = 'temp.csv'
    print 'update part numbers in', csvToUpdatePath
    with open(csvToUpdatePath, 'rb') as csvInFile:
        csvReader = csv.reader(csvInFile)

        # Figure out which columns contain the reference ID and part number.
        titleRow = csvReader.next()
        referenceIdColumn = titleRow.index('ReferenceID')
        partNumberColumn = titleRow.index('PartNumber')

        # Write tempoary CSV file with updated part numbers.
        with open(tempCsvPath, 'wb') as tempCsvFile:
            csvWriter = csv.writer(tempCsvFile)
            csvWriter.writerow(titleRow)
            for row in csvReader:
                # Check if there is an updated part number.
                referenceId = row[referenceIdColumn]
                newPartNumber = referenceIdToPartNumberMap.get(referenceId)
                # If so, update the row just read accordingly.
                if newPartNumber is not None:
                    row[partNumberColumn] = newPartNumber
                    print '  update part number for %s to %s' % (referenceId, newPartNumber)
                csvWriter.writerow(row)

        # TODO: Move the temporary CSV file over the initial CSV file.
        # shutil.move(tempCsvPath, csvToUpdatePath)


if __name__ == '__main__':
    referenceIdToPartNumberMap = createReferenceIdToPartNumberMap('Sheet1.csv')
    updatePartNumbers('Sheet2.csv', referenceIdToPartNumberMap)
"
15064,63245,Why should I use CamelCase for namedtuple?,"In [1]: from collections import namedtuple
In [2]: Point = namedtuple('Point', ['x', 'y'])
In [3]: type(Point)
Out[3]: type
"
35217,36517,Remove XML node if childnode's childnode contains specific value,"from xml.dom import minidom
import xml.etree.ElementTree as ET

tree = ET.parse('/tmp/input.xml').getroot()
namespaces = {'gml': 'http://www.opengis.net/gml', 'ogr':'http://ogr.maptools.org/'}
for child in tree.findall('gml:featureMember', namespaces=namespaces):
    if len(child.find('ogr:TZwards', namespaces=namespaces)):
        name = child.find('ogr:TZwards', namespaces=namespaces).find('ogr:Region_Nam', namespaces=namespaces).text
        if name != 'TARGET':
            tree.remove(child)

out = ET.ElementTree(tree)
out.write(""/tmp/out.xml"")
"
22291,63515,Removing Duplicates From Dictionary,"input_raw = {112762853378: 
   {'dst': ['10.121.4.136'], 
    'src': ['1.2.3.4'], 
    'alias': ['www.example.com']
   },
 112762853385: 
   {'dst': ['10.121.4.136'], 
    'src': ['1.2.3.4'], 
    'alias': ['www.example.com']
   },
 112760496444: 
   {'dst': ['10.121.4.136'], 
    'src': ['1.2.3.4']
   },
 112760496502: 
   {'dst': ['10.122.195.34'], 
    'src': ['4.3.2.1']
   }
}

result = {}

for key,value in input_raw.items():
    if value not in result.values():
        result[key] = value

print result
"
25219,25193,Django query: more on weekends or weekdays,"f = {
    'user_table': User._meta.db_table,
    'action_table': Action._meta.db_table,
    'user_id': User._meta.pk.get_attname_column()[1],
    'user_fk': Action._meta.get_field('user').get_attname_column()[1],
    'timestamp': Action._meta.get_field('timestamp').get_attname_column()[1],
}

query = ""(SELECT COUNT(*) FROM %(action_table)s \
    WHERE %(action_table)s.%(user_fk)s = %(user_table)s.%(user_id)s \
    AND DAYOFWEEK(%(action_table)s.%(timestamp)s IN (1,7)) \
    <= (SELECT COUNT(*) FROM %(action_table)s \ 
    WHERE %(action_table)s.%(user_fk)s = %(user_table)s.%(user_id)s \
    AND DAYOFWEEK(%(action_table)s.%(timestamp)s) NOT IN (1,7))"" % f
users = User.objects.extra(where=[query]))
"
12332,51428,python Reportlab two items in the same row on a Paragraph,"from reportlab.lib.pagesizes import A4
from reportlab.platypus import SimpleDocTemplate, Paragraph, Table
from reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle
from reportlab.lib.enums import TA_RIGHT

styles = getSampleStyleSheet()
style_right = ParagraphStyle(name='right', parent=styles['Normal'], alignment=TA_RIGHT)
doc = SimpleDocTemplate(""my_doc.pdf"", pagesize=A4)
Story=[]
# here you add your rows and columns, these can be platypus objects
tbl_data = [
    [Paragraph(""Hello"", styles[""Normal""]), Paragraph(""World (right)"", style_right)],
    [Paragraph(""Another"", styles[""Normal""]), Paragraph(""Row (normal)"", styles[""Normal""])]
]
tbl = Table(tbl_data)
Story.append(tbl)
doc.build(Story)
"
36448,28520,Traceback in dynamic programming implementation of Needleman-Wunsch algorithm,"def traceback_col_seq(self):
    """"""
    Traces back the column sequence to determine final global alignment.
    Recalculates the score using score_cell. 
    """"""
    i, j = self.maxI-1, self.maxJ-1
    self.traceback = list() #stores final sequence
    matrixDict = {0:'M',1:'Ic',2:'Ir'} #mapping between numeric value and matrix
    chars = self.col_seq[j-1] + self.row_seq[i-1] #store first characters
    thisM, thisC, thisR = self.score_cell(i,j, chars) 
    cell = max(thisM), max(thisC), max(thisR) #determine where to start
    prevMatrix = matrixDict[cell.index(max(cell))] #store where to go first
    while i > 0 or j > 0:
        #loop until the top left corner of the matrix is reached
        if prevMatrix == 'M':
            self.traceback.append(self.col_seq[j-1])
            i -= 1; j -= 1
            prevMatrix = matrixDict[thisM.index(max(thisM))]
        elif prevMatrix == 'Ic':
            self.traceback.append(self.col_seq[j-1].lower())
            j -= 1
            prevMatrix = matrixDict[thisC.index(max(thisC))]
        elif prevMatrix == 'Ir':
            self.traceback.append('-')
            i -= 1
            prevMatrix = matrixDict[thisR.index(max(thisR))]
        chars = self.col_seq[j-1] + self.row_seq[i-1] #store next characters
        thisM, thisC, thisR = self.score_cell(i,j, chars) #rescore next cell
    return ''.join(self.traceback[::-1])
"
39935,54673,"Pandas, Pivoting DataFrame By Multiple Hierarchical Columns","# Random data.
np.random.seed(0)
df = pd.DataFrame({'Area': ['A', 'A', 'A',  'B', 'B', 'B'], 
                   'Region': ['r', 's', 'r', 's', 'r', 'r'], 
                   'Item': ['car' ,'car', 'car', 'truck', 'bus', 'bus'], 
                   'CType': [3, 4, 3, 3, 5, 5], 
                   'USD': np.random.rand(6) * 100})

>>> df
  Area  CType   Item Region        USD
0    A      3    car      r  54.881350
1    A      4    car      s  71.518937
2    A      3    car      r  60.276338
3    B      3  truck      s  54.488318
4    B      5    bus      r  42.365480
5    B      5    bus      r  64.589411

>>> pd.pivot_table(df, 
                   index=['Item', 'Area', 'Region'], 
                   columns='CType', 
                   values='USD', 
                   aggfunc=sum)

CType                       3          4           5
Item  Area Region                                   
bus   B    r              NaN        NaN  106.954891
car   A    r       115.157688        NaN         NaN
           s              NaN  71.518937         NaN
truck B    s        54.488318        NaN         NaN
"
28664,26876,Python: Socket: Handling TCP connections over a cell network,"import pexpect as px
import sys

def send_this(child, retcode, COMMAND):
    if retcode == 2:
        child.sendline(COMMAND)
    else:
        raise RuntimeError, ""Could not complete login, due to socket error""

def expect_this(child, EXPR, timeout = 10):
    return child.expect([px.TIMEOUT, px.EOF, EXPR], timeout = timeout)

HOST = '192.168.49.49'
CMD1 = '1I'
PROMPT = '\*'     #Note: you might not need the backslash
TIMEOUT = 10

child = px.spawn('telnet %s' % HOST)
retcode = expect_this(child, PROMPT)
send_this(child, retcode, CMD1)
retcode = expect_this(child, PROMPT)
mydata1 = child.before    # mydata has the output from CMD1
"
32888,52231,Creating a decorator in a class with access to the (current) class itself,"class SpamMeta(type):

    def __new__(cls, name, bases, dct):
        SpamType = type.__new__(cls, name, bases, dct)
        SpamType.decorated = []
        return SpamType


class Spam(object):

    __metaclass__ = SpamMeta

    @classmethod
    def decorate(cls, funct):
        cls.decorated.append(funct)
        return funct


class Eggs(Spam):
    pass


@Eggs.decorate
def foo():
    print ""spam and eggs""


print Eggs.decorated # [<function foo at 0x...>]
print Spam.decorated # []
"
1623,16959,changing the format of a tab delimited csv file,"import re
import csv

lineformat = re.compile(
    r'^(?P<count>\d+)[\s:]*'
    r'test[\s:]*(?P<test>\d+)[\s:]*'
    r'width[\s:]*(?P<width>\d+)[\s:]*'
    r'distance[\s:]*(?P<distance>\d+)[\s:]*'
    r'time[\s:]*(?P<time>\d+)[\s:]*'
    r'x[\s:]*(?P<x>\d+\.\d+)[\s:]*'
    r'y[\s:]*(?P<y>\d+\.\d+)[\s:]*'
    r'target[\s:]*(?P<target>\d+-\d+)[\s:]*'
)
fields = ('count', 'test', 'width', 'distance', 'time', 'x', 'y', 'target')

with open(inputfile) as finput, open(outputfile) as foutput:
    csvout = csv.DictWriter(foutput, fields=fields)
    for line in finput:
        match = lineformat.search(line)
        if match is not None:
            csvout.writerow(match.groupdict())
"
35655,14867,"Splitting up a data file in Python, round 2","i = open('BGBiasRE_IM3_wCSrescaled.txt', 'r')

Xnames, Ynames = [], []

count = 0
for line in i:
    if count > 0:
        line_tmp = line.split()
        if line_tmp[0] == 'Step':
            step = (line_tmp[2].split('='))[1]
            varnameX = 'Temp' + str(step) +'_Xvals'
            varnameY = 'Temp' + str(step) +'_Yvals'
            globals()[varnameX] = []
            globals()[varnameY] = []
            Xnames.append(varnameX)
            Ynames.append(varnameY)
        else:
            globals()[varnameX].append(float(line_tmp[0]))
            globals()[varnameY].append(float(line_tmp[1]))
    count += 1
i.close()

for name in Xnames:
    print name + ' = ' + str(eval(name))

for name in Ynames:
    print name + ' = ' + str(eval(name))
"
30874,19263,Python: Writing File after modifying contents,"for aa in all_firm:
    r = open (aa,'r+')
    lines = r.readlines()
    r.close()
    w = open (aa,'w')
    for bb in lines:
        raw = nltk.clean_html(bb)
        raw2=str(raw)
        w.write(low_firm)
"
11511,23326,groupby - python pandas dataframe,"df.groupby(['date','uname','id']).size().reset_index()

         date             uname    id  size
0  2016-02-11         a@abc.com   111     1
1  2016-02-11         b@abc.com  1080     2
2  2016-02-11        ar@ata.com  5315     1
3  2016-02-11        ar@ata.com  5317     1
4  2016-02-11  aru628@gmail.com   536     2
5  2-16-02-12    ch45@gmail.com   588     1
6  2-16-02-12    ch45@gmail.com   593     2
7  2-16-02-12    doy5@gmail.com   322     1
"
30848,43368,How to remove unsafe characters to save file,">>> import re
>>> print re.sub(r'[\\/:""*?<>|]+', """", ""This\ ÄwesomÃ©_Song?Â©.mp3"")
This ÄwesomÃ©_SongÂ©.mp3
>>> 
"
32053,69562,boost python sleep wrapper causes whole python program to sleep,"#include <boost/python.hpp>
using namespace boost::python;
void waiter(int seconds) {
    Py_BEGIN_ALLOW_THREADS
    ::sleep(seconds);
    Py_END_ALLOW_THREADS
}
BOOST_PYTHON_MODULE( boostmod ) {
    def(""waiter"",&::waiter);
}
"
19341,31216,Fast code for finding the max value of a 2d array,"max(piece.get('id', 0) for row in self.board for cell in row for piece in cell['b'])
"
13039,13252,Copy columns from multiple text files in Python,"import glob

files = [open(f) for f in glob.glob(""*.txt"")]

# Given file, Read the 6th column in each line
def readcol5(f):
    return [line.split(' ')[5] for line in f]

filecols = [ readcol5(f) for f in files ]
maxrows = len(max(filecols, key=len))

# Given array, make sure it has maxrows number of elements.
def extendmin(arr):
    diff = maxrows - len(arr)
    arr.extend([''] * diff)
    return arr

filecols = map(extendmin, filecols)

lines = zip(*filecols)
lines = map(lambda x: ','.join(x), lines)
lines = '\n'.join(lines)

fout = open('output.csv', 'wb')
fout.write(lines)
fout.close()
"
25605,59922,"OO Patterns and/or Structured Approach for ""Self Healing""?","HealingProcessor.on(impure_data) {
  replace_bad_value :field => :some_prop, :bad_value => 'bad value', :good_value => 'good_default_value'
  # etc
}
"
38110,37156,Should I implement classes with constant interface in Python?,">>> from collections import namedtuple
>>> Point = namedtuple('Point', ['x', 'y'])
>>> p = Point(10,20)
>>> p.x
10
>>> p.y
20
>>> p.x = 100
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
AttributeError: can't set attribute
"
4853,71731,Django-mptt order,"class Category(MPTTModel):
    name = models.CharField()
    parent = models.ForeignKey(""self"", blank=True, null=True, 
             related_name=""sub_category"")

    class MPTTMeta:
        order_insertion_by = ['name']
"
14623,47429,Which way to determine empty string is better?,"if not s:
  # s is the empty string
"
7385,19508,python record separtor file iteration,"def records(textfile):
    record_lines = []
    for line in textfile:
        if line != '\n':
            record_lines.append(line)
        else:
            yield ''.join(record_lines)
            record_lines = []
    yield ''.join(record_lines)


for record in records(the_file):
    process(record)
"
18135,7050,Is it possible to do a wx.TextCtrl with no border?,"t1 = wx.TextCtrl(self, -1, ""my text"", style=wx.BORDER_NONE)
"
36064,64760,"Knowing if any key is pressed, wxPython","import pythoncom, pyHook 

def OnKeyboardEvent(event):
    print 'Ascii:', event.Ascii, chr(event.Ascii)
    print 'Key:', event.Key
    print 'KeyID:', event.KeyID
    print 'ScanCode:', event.ScanCode
    print 'Extended:', event.Extended

    return True #for pass through key events, False to eat Keys

hm = pyHook.HookManager()
hm.KeyDown = OnKeyboardEvent
hm.HookKeyboard()
pythoncom.PumpMessages()
"
14611,25464,is it possible to work with multiline statements using doctest?,">>> [s * t for s in [1, 2, 3] for t in [4, 5, 6]]
[4, 5, 6, 8, 10, 12, 12, 15, 18]
"
16331,42984,converted letters to number now convert to three letters over and over,"BASE = ord('a') - 1

def str_to_nums(s):
    return [ord(ch) - BASE for ch in s]

def nums_to_str(nums):
    return """".join(chr(n + BASE) for n in nums)

print(str_to_nums(""hi""))    # => [8, 9]
print(nums_to_str([8, 9]))  # => ""hi""

print(str_to_nums(""ca""))    # => [3, 1]
print(nums_to_str([3, 1]))  # => ""ca""
"
11001,69727,Can I raise a signal from python?,"import os, signal

os.kill(pid, signal.SIGHUP) # Unix version only...
"
20703,3913,shrink parents widgets after child size changed,"QWidget *w = <the widget you resized>->parentWidget();
while (w) {
  w->adjustSize();
  w = w->parentWidget();
}
"
27012,25316,set up the entry of a combobox (gtk),"import gtk

def set_active_name(combobox, col, name):
    liststore = combobox.get_model()
    for i in xrange(len(liststore)):
        row = liststore[i]
        if row[col] == name:
            combobox.set_active(i)

window = gtk.Window()
window.connect(""destroy"", gtk.main_quit)

liststore = gtk.ListStore(int, str)
liststore.append([0, 'Jack'])
liststore.append([1, 'Emily'])
liststore.append([2, 'Paul'])

combobox = gtk.ComboBox()
cell = gtk.CellRendererText()
combobox.pack_start(cell)
combobox.add_attribute(cell, 'text', 1)
combobox.set_model(liststore)

set_active_name(combobox, 1, 'Paul')

window.add(combobox)
window.show_all()

gtk.main()
"
18791,72553,Setting a default value in sqlalchemy,"from sqlalchemy.sql import select, func
...
Column('version', Integer, default=select([func.max(1,
    func.max(version_table.c.old_versions))]))
"
20224,39461,Convert Two column data frame to occurrence matrix in pandas,"import pandas as pd

# your data
# =======================
df

  col1 col2
0    A    a
1    A    b
2    B    f
3    B    g
4    B    e
5    B    h
6    C    d
7    C    e
8    C    f

# processing
# ===================================
pd.get_dummies(df.col2).groupby(df.col1).apply(max)

      a  b  d  e  f  g  h
col1                     
A     1  1  0  0  0  0  0
B     0  0  0  1  1  1  1
C     0  0  1  1  1  0  0
"
25054,81091,How do I join columns from diferent Pandas DataFrames?,"df_joined = df1.join(df2)
"
29073,60390,Grouping dictionaries by common keys,"from collections import defaultdict
dict_needed = defaultdict(list)
for d in dictlist:
    for k, v in d.iteritems():
        dict_needed[k].append(v)
"
25354,79688,Why won't my program work in python?,"import random

print(""Here is a quiz to test your knowledge"")
print("""")
print(""Question 1"")
print random.randint(1,10)
print (""times"")
print random.randint(1,10)
answer = raw_input (""Make your choice: "")

if answer == ran1*ran2:
  print ""That is correct""
  correct=correct +1
else:
  print ""That is incorrect!""
"
19727,53051,Matplotlib: same height for colorbar as for plot,"import numpy
import matplotlib.pyplot as plt
import matplotlib.mlab as mlab
from mpl_toolkits.axes_grid1 import make_axes_locatable

#Generate data
delta = 0.025

x = numpy.arange(-5.0, 5.0, delta)
y = numpy.arange(-5.0, 5.0, delta)

X, Y = numpy.meshgrid(x, y)

Z1 = mlab.bivariate_normal(X, Y, 1.0, 1.0, 0.0, 0.0)
Z2 = mlab.bivariate_normal(X, Y, 1.5, 0.5, 1, 1)
# difference of Gaussians
Z = 10.0 * (Z2 - Z1)

#Plot
fig = plt.figure()
ax1 = fig.add_subplot(1, 1, 1,  aspect='equal')

PC = ax1.pcolor(X, Y, Z)
CF = ax1.contour(X, Y, Z, 50, colors = ""black"")

plt.xlim(-4.0, 4.0)
plt.ylim(-2.0, 2.0)

divider = make_axes_locatable(ax1)
cax1 = divider.append_axes(""right"", size=""5%"", pad=0.05)

cbar = plt.colorbar(PC, cax = cax1)
cbar.add_lines(CF)

plt.show()
"
3293,20738,"NumPy array, change the values that are NOT in a list of indices","mask = np.ones(a.shape,dtype=bool) #np.ones_like(a,dtype=bool)
mask[indices] = False
a[~mask] = 999
a[mask] = 888
"
16141,31119,Test if two items in a set are found in a list element,"mySet = {str(i) for i in {1010101, 20202030}}
myList = [""1 1010101 20202030 15.3""]

result = any(all(s in l for s in mySet) for l in myList)

print(result)
"
28754,6144,How to kill a process using the window's name of this process with python or bat,"taskkill /fi ""WINDOWTITLE eq titleName""
"
9314,78796,Create counter for triples of subsequent letters,"def pairwise(iterable):
    it = iter(iterable)
    last = next(it)+next(it)
    for curr in it:
        yield last, curr
        last = last[1]+curr


def valid_pair((last, curr)):
    return last[0] in valid and last[1] in valid and curr in valid
"
5175,77327,How to access the request.user in a Piston classmethod,"try:                                                                    
    from threading import local                                         
except ImportError:                                                     
    from django.utils._threading_local import local                     

_thread_locals = local()                                                
def get_request():                                                
    return getattr(_thread_locals, 'request', None)                       

class ThreadLocals(object):                                             
    def process_request(self, request):                                 
        _thread_locals.request = request
"
30952,53590,Chain FormEncode Validators,"from formencode import FancyValidator, Invalid
from formencode.validators import Email

class EmailList(FancyValidator):
    """""" Takes a delimited (default is comma) string and returns a list of validated e-mails
        Set the delimiter by passing delimiter=""A_DELIMITER"" to the constructor.
        Also takes all arguments a FancyValidator does.  
        The e-mails will always be stripped of whitespace.
    """"""
    def _to_python(self, value, state):
        try:
            values = str(value).split(self.delimiter)
        except AttributeError:
            values = str(value).split(',')
        validator = formencode.ForEach(validators.Email())
        validator.to_python(values, state)
        return [value.strip() for value in values]
"
29687,48960,how to convert a datetime string back to datetime object?,"from datetime import datetime
datetime.strptime(""2010-11-13 10:33:54.227806"", ""%Y-%m-%d %H:%M:%S.%f"")
"
25816,20653,Python complex regex replace,"import re

def convert_vb_to_c(vb_code_lines):
    c_code = []
    current_with = """"
    for line in vb_code_lines:
        if re.search(r'^\s*With', line) is not None:
            current_with = line[5:] + "".""
            continue
        elif re.search(r'^\s*End With', line) is not None:
            current_with = ""{error_outside_with_replacement}""
            continue
        line = re.sub(r'(?<=[\s[({])\.', current_with, line)
        c_code.append(line)
    return ""\n"".join(c_code)


example = """"""
With Npclist[NpcIndex]
    .goTo(245)
End With
With hatla
    .matla.tatla[.matla.other] = .matla.other2
    dont.mind.me(.do.mind.me)
    .next()
End With
""""""
# use file_object.readlines() in real life
print(convert_vb_to_c(example.split(""\n"")))
"
2771,73163,Efficient parsing of strings in Python,">>> ast.literal_eval(text.split(' ', 1)[1])
{'Plot': 'Spanning over one thousand years, and three parallel stories, The Fountain is a story of love, death, spirituality, and the fragility of our existence in this world.', 'Votes': '100139', 'Rated': 'R', 'Response': 'True', 'Title': 'The Fountain', 'Poster': 'http://ia.media-imdb.com/images/M/MV5BMTU5OTczMTcxMV5BMl5BanBnXkFtZTcwNDg3MTEzMw@@._V1_SX320.jpg', 'Writer': 'Darren Aronofsky, Darren Aronofsky', 'ID': 'tt0414993', 'Director': 'Darren Aronofsky', 'Released': '22 Nov 2006', 'Actors': 'Hugh Jackman, Rachel Weisz, Sean Patrick Thomas, Ellen Burstyn', 'Year': '2006', 'Genre': 'Drama, Romance, Sci-Fi', 'Runtime': '1 hr 36 mins', 'Rating': '7.4'}

>>> json.loads(text.split(' ', 1)[1])
{u'Plot': u'Spanning over one thousand years, and three parallel stories, The Fountain is a story of love, death, spirituality, and the fragility of our existence in this world.', u'Votes': u'100139', u'Rated': u'R', u'Response': u'True', u'Title': u'The Fountain', u'Poster': u'http://ia.media-imdb.com/images/M/MV5BMTU5OTczMTcxMV5BMl5BanBnXkFtZTcwNDg3MTEzMw@@._V1_SX320.jpg', u'Writer': u'Darren Aronofsky, Darren Aronofsky', u'ID': u'tt0414993', u'Director': u'Darren Aronofsky', u'Released': u'22 Nov 2006', u'Actors': u'Hugh Jackman, Rachel Weisz, Sean Patrick Thomas, Ellen Burstyn', u'Year': u'2006', u'Genre': u'Drama, Romance, Sci-Fi', u'Runtime': u'1 hr 36 mins', u'Rating': u'7.4'}
"
32637,61354,Migrating from Amazon S3 to Azure Storage (Django web app),"DEFAULT_FILE_STORAGE='storages.backends.azure_storage.AzureStorage'
AZURE_ACCOUNT_NAME='myaccount'
AZURE_ACCOUNT_KEY='account_key'
AZURE_CONTAINER='mycontainer'
"
38124,57433,Can you return tags where condition is not met in BeautifulSoup?,"def input_not_type_hidden(tag):
    return tag.name == 'input' and tag.get('type') != 'hidden'

soup.find_all(input_not_type_hidden)
"
29170,83700,Changing encoding in csv file through python UTF-8 to UTF-16,"#!/usr/bin/python2.7

import codecs
import shutil

with codecs.open(""input_file.utf8.txt"", encoding=""utf-8"") as input_file:
    with codecs.open(
            ""output_file.utf16.txt"", ""w"", encoding=""utf-16"") as output_file:
        shutil.copyfileobj(input_file, output_file)
"
21,274,NumPy array indexing a 4D array,"p,m,n,r = a.shape
a.reshape(-1,r)[np.arange(p*m*n),b.ravel()] = 1
"
39979,13550,Python Pandas merge only certain columns,"df2[list('xab')]  # df2 but only with columns x, a, and b

df1.merge(df2[list('xab')])
"
32014,65641,How can I perform an action after mainloop() has been called in Tkinter?,"def print_console():
    print(console.get(""1.0"", ""end-1c""))
    main.after(1000, print_console)

print_console()

main.mainloop()
"
14336,50227,Get the current coordinates of an item on a Canvas widget given its item handle?,"coords = the_canvas.coords(item_id)
"
26110,77475,How to define a dynamic two-dimensional array in python?,"class DynamicList(list):

    def __getslice__(self, i, j):
        return self.__getitem__(slice(i, j))
    def __setslice__(self, i, j, seq):
        return self.__setitem__(slice(i, j), seq)
    def __delslice__(self, i, j):
        return self.__delitem__(slice(i, j))

    def _resize(self, index):
        n = len(self)
        if isinstance(index, slice):
            m = max(abs(index.start), abs(index.stop))
        else:
            m = index + 1
        if m > n:
            self.extend([self.__class__() for i in range(m - n)])

    def __getitem__(self, index):
        self._resize(index)
        return list.__getitem__(self, index)

    def __setitem__(self, index, item):
        self._resize(index)
        if isinstance(item, list):
            item = self.__class__(item)
        list.__setitem__(self, index, item)

>>> mat = DynamicList()
>>> mat[0] = ['row1','row1','row1']
>>> mat[1] = ['row2','row2']
>>> mat[2]= ['row3']
>>> mat
[['row1', 'row1', 'row1'], ['row2', 'row2'], ['row3']]
>>> print mat[1][1]
row2
>>> mat[5][5] = 'row5'
>>> mat
[['row1', 'row1', 'row1'], ['row2', 'row2'], ['row3'], [], [], [[], [], [], [], 
[], 'row5']]
>>> print mat[5]
[[], [], [], [], [], 'row5']
>>> print mat[5][5]
row5
"
280,76687,"How to add/subtract time (hours, minutes, etc.) from a Pandas DataFrame.Index whos objects are of type datetime.time?","pd.date_range('2014-01-01', periods=10) + pd.Timedelta(days=1)
"
22281,29884,How to prevent a for loop from advancing in Python?,"work_stack = list('abcde')

prev_item = ''
while work_stack:
    item = work_stack.pop(0)
    print item
    if prev_item=='a' and item == 'b':
        work_stack.insert(0,item)
    prev_item = item
"
35610,83559,"In python, any elegant way to refer to class method within the classes declaration scope?","class SomeObject:
    def __init__(self, values):
        self.values = values
    ...

SomeObject.columns = [
    (lambda x: x['type'], 'Type'),
    (lambda x: 'http://localhost/view?id=%s' % x['id'], 'Link'),
    (SomeObject.helper_function, 'Data'),
]
"
1362,24312,What is the best way to make the matrix operations more faster in python,"eij = rating_train[i, j] - np.dot(P[i, :], Q[:, j])
P[i, :] += alpha * (2 * eij * Q[:, j] - beta * P[i, :])
Q[:, j] += alpha * (2 * eij * P[i, :] - beta * Q[:, j])
"
146,13296,Python Selenium print out value of textfield is showing empty. The value is not printing,"from selenium.webdriver.common.by import By

# max records textfield has the value 1,000.000 as default
def print_maxrecords_textfield(self):
    max_records_textfield = self.driver.find_element((By.XPATH, '//span[@class=""gwt-InlineLabel myinlineblock marginbelow"" and contains(text(), ""Max records"")]/following-sibling::*'))
    print ""max_records_textfield = ""
    print max_records_textfield.get_attribute('value')
"
34252,82881,Issue with my Check Box in PyQt and Python,"def selectAll(self, state=QtCore.Qt.Checked):
    """"""Select All layers loaded inside the listView""""""

    model = self.dlg.selectAllCheckBox.model()
    for index in range(model.rowCount()):
        item = model.item(index)
        if item.isCheckable():
            item.setCheckState(state)
"
25712,44063,Tkinter adding label frames,"from Tkinter import *
def roll(): pass
def links(): pass
def create(): pass
root=Tk()
root.title(""CIME"")

rows = 0
def create_detail_frame():
    global rows
    step = LabelFrame(root,text=""Enter Details:"")
    step.grid(row=rows, columnspan=7, sticky='W',padx=5, pady=5, ipadx=5, ipady=5)
    Label(step,text=""Competitors"",font = ""Arial 8 bold italic"").grid(row=0,sticky='E', padx=5, pady=2)
    Label(step,text=""Keywords"",font = ""Arial 8 bold italic"").grid(row=1,sticky='E', padx=5, pady=2)
    Label(step,text=""Project Name"",font = ""Arial 8 bold italic"").grid(row=2,sticky='E', padx=5, pady=2)
    e1 = Entry(step)
    e2 = Entry(step)
    e3 = Entry(step)
    e1.grid(row=0,column=1,columnspan=7, sticky=""WE"", pady=3,padx=5)
    e2.grid(row=1,column=1,columnspan=7, sticky=""WE"", pady=3,padx=5)
    e3.grid(row=2,column=1,columnspan=7, sticky=""WE"", pady=3,padx=5)
    Button(step,text =""Search Words"",width=10,font = ""Arial 8 bold    italic"",activebackground=""red"",command=roll).grid(row=3,column=0,sticky=W,pady=4,padx=5)
    Button(step,text=""Google Search"",width=10,font = ""Arial 8 bold italic"",command=links).grid(row=3,column=2,sticky=W,pady=4,padx=5)
    Button(step,text=""Extraxt Text"",width=10,font = ""Arial 8 bold italic"",command = create).grid(row=3,column=4,sticky=W,pady=4,padx=5)
    rows += 1

    # Reposition text, scroll
    #scr.grid_forget()
    #tex.grid_forget()
    #scr.grid(row=rows, padx=1, column=7, rowspan=15, columnspan=1, sticky=NS)
    #tex.grid(row=rows,column=1)

    # Reposition text, scroll
    scr.grid(row=rows)
    tex.grid(row=rows)

tex = Text(master=root)
scr=Scrollbar(root,orient =VERTICAL,command=tex.yview)
scr.grid(row=1, padx=1, column=7, rowspan=15, columnspan=1, sticky=NS)
tex.grid(row=1,column=1)
tex.config(yscrollcommand=scr.set,font=('Arial', 8, 'bold', 'italic'))

Button(root, text='Add detail frame', command=create_detail_frame).grid(row=0, column=7)
create_detail_frame()

mainloop()
"
11500,43395,Can't change the values of fields of model objects in lists,"profile = list(profile)
"
18230,73856,Turn off a warning in sqlalchemy,"import warnings
from sqlalchemy import exc as sa_exc

with warnings.catch_warnings():
    warnings.simplefilter(""ignore"", category=sa_exc.SAWarning)
    # code here...
"
10188,39256,Apply transformation matrix to pixels in OpenCV image,"import numpy as np

M = np.random.random_sample((3, 3))

rgb = np.random.random_sample((5, 4, 3))

slow_result = np.zeros_like(rgb)
for i in range(rgb.shape[0]):
    for j in range(rgb.shape[1]):
        slow_result[i, j, :] = np.dot(M, rgb[i, j, :])

# faster method
rgb_reshaped = rgb.reshape((rgb.shape[0] * rgb.shape[1], rgb.shape[2]))
result = np.dot(M, rgb_reshaped.T).T.reshape(rgb.shape)

print np.allclose(slow_result, result)
"
13898,65787,How to simplify lambda to general python,"def pit(p, q, r):
    return min(A[p] - A[q], A[r] - A[q])
"
25809,12726,How to combine tuples from two generators in python,"def f1(arg):
    for i in range(10):
        yield 1, 2, 3, 4, 5

def f2(arg):
    for i in range(10):
        yield 6

arg = 1

for (a, b, c, d, e), f in zip(f1(arg), f2(arg)):
    print(a, b, c, d, e, f)
"
37195,15650,Frame object in tkinter not grouping widgets in python,"if operation == ""addition"":
    Label(app, text=""Addition:"").pack()
    self.num1 = Entry(self)
    ...
"
29381,55153,Manipulating the html source-code of a third party website using python,"dropdown = driver.find_element_by_css_selector(""div.frequency_select"")
dropdown.click()

once_a_week = driver.find_element_by_xpath(""//*[. = 'At most once a week']"")
once_a_week.click()
"
17612,76937,Python: how to create a file .txt and record information in it,"from Tkinter import *

raiz = Tk()
frame = Frame(raiz)
out = []

def cadastro():
    form = Toplevel(raiz)

    Label(form, text='Nome: ').grid(column=0, row=0, sticky=E)
    Label(form, text='Celular: ').grid(column=0, row=1, sticky=E)

    nome = StringVar()
    celular = StringVar()

    a=Entry(form, textvariable=nome, width=15)
    a.grid(column=1, row=0, sticky=W)
    Entry(form, textvariable=celular, width=15).grid(column=1, row=1, sticky=W)

    def onCancel():
        form.destroy()

    def onOk():
        with open('outt.txt','w') as txt:
            txt.write('Name : ' + str(nome.get()) + '  ' + 'Telephone No. : ' + str(celular.get()))
        onCancel()

    Button(form, text='OK', command=onOk).grid(column=0, row=2, sticky=E)
    Button(form, text='Cancel', command=onCancel).grid(column=1, row=2, sticky=W)

def listar():
    with open('outt.txt','r') as txt_read:
        print txt_read.read()




w = Button(raiz, text='Cadastrar',command=cadastro).grid()
x = Button(raiz, text='Listar' , command=listar).grid()


raiz.mainloop()
"
34429,15339,"Filter data, based on Latitude and Longitudes - Numpy","inside = np.logical_and(np.logical_and(lons >= west,
                                       lons <= east),
                        np.logical_and(lats >= south,
                                       lats <= north))
"
21135,26765,Select from dictionary using pandas series,">>> df['type'].map(type_dict)
0          foo
1          bar
2       foobar
3    foobarbar
4          foo
5          bar
6       foobar
7    foobarbar
8          foo
Name: type, dtype: object
"
20112,50456,Python: random module with sum accumulator for odd numbers,"def roll(sides, times):
    final_sum = 0
    for i in range(times):
        randnum = random.randrange(sides)
        final_sum += randnum if randnum % 2 else 0
    return final_sum
"
1972,76520,Iterating a loop with a pause,"import time
...
time.sleep(5)
"
8438,79132,Spark add new column to dataframe with value from previous row,"from pyspark.sql.functions import lag, col
from pyspark.sql.window import Window

df = sc.parallelize([(4, 9.0), (3, 7.0), (2, 3.0), (1, 5.0)]).toDF([""id"", ""num""])
w = Window().partitionBy().orderBy(col(""id""))
df.select(""*"", lag(""num"").over(w).alias(""new_col"")).na.drop().show()

## +---+---+-------+
## | id|num|new_col|
## +---+---+-------|
## |  2|3.0|    5.0|
## |  3|7.0|    3.0|
## |  4|9.0|    7.0|
## +---+---+-------+
"
9016,61599,Algorithm to determine the closest date to some date input,"SELECT MAX(Date)
FROM MyDates
WHERE Date <= InputDate;
"
1853,58941,Finding string in dictionary key where the string is not exactly the key in the dict,"print [k for k in d if string in k]
"
17172,39094,Is hash() randomization considered cryptographically strong?,"/* Fill buffer with pseudo-random bytes generated by a linear congruent
   generator (LCG):

       x(n+1) = (x(n) * 214013 + 2531011) % 2^32

   Use bits 23..16 of x(n) to generate a byte. */
static void
lcg_urandom(unsigned int x0, unsigned char *buffer, size_t size)
{
    size_t index;
    unsigned int x;

    x = x0;
    for (index=0; index < size; index++) {
        x *= 214013;
        x += 2531011;
        /* modulo 2 ^ (8 * sizeof(int)) */
        buffer[index] = (x >> 16) & 0xff;
    }
}
"
28767,2010,only download html page with urllib2,">>> import urllib2
>>>
>>> request = urllib2.Request('http://downloads.graboidvideo.com/download_filter
.php?file=GraboidVideoSetup.pkg&platform=Mac')
>>> response = urllib2.urlopen(request)
>>>
>>> print response.info().getheader('Content-Type')
application/octet-stream
>>>
>>>
>>> request = urllib2.Request('http://www.yahoo.com')
>>> response = urllib2.urlopen(request)
>>>
>>> print response.info().getheader('Content-Type')
text/html;charset=utf-8
"
8325,67877,Python RFC 3339 format for JSON serialization,"from datetime import datetime, time, timedelta

yesterday = datetime.utcnow() - timedelta(days=1)
dt = datetime.combine(yesterday.date(), time(0, 0)) # midnight
rfc3339str = dt.isoformat() + ""Z""
"
24973,9668,creating a list of in raw_input,"number_list = []
while True:
    line = raw_input('Enter number:')
    if line == 'done':
        break
    try:
        n = int(line)
        number_list.append(n)
    except ValueError:
        print 'invalid input'
print 'Done!'
print number_list
"
18843,43016,Django ORM query for month and year,"from collections import defaultdict
from decimal import Decimal
qs = Price_Report.objects.values_list(""created_at"", ""amount"")
tmp = defaultdict(Decimal)
for date, amount in qs:
   tmp[date.year, date.month] += amount
"
20671,74397,Remove background colour from image using Python/PIL,"import numpy as np
from PIL import Image

im = Image.open('my_file.tif')
im = im.convert('RGBA')
data = np.array(im)
# just use the rgb values for comparison
rgb = data[:,:,:3]
color = [246, 213, 139]   # Original value
black = [0,0,0, 255]
white = [255,255,255,255]
mask = np.all(rgb == color, axis = -1)
# change all pixels that match color to white
data[mask] = white

# change all pixels that don't match color to black
##data[np.logical_not(mask)] = black
new_im = Image.fromarray(data)
new_im.save('new_file.tif')
"
34475,78976,Django: No of Instances of a Foreign Key,"def num_of_choices(question):
    return question.choice_set.count()
"
35948,814,Can we use a self made corpus for training for LDA using gensim?,"import gensim
from gensim import corpora, similarities, models

.
.##Text Preprocessing is done here using nltk
.

##Saving of the dictionary and corpus is done here
##final_text contains the tokens of all the documents

dictionary = corpora.Dictionary(final_text)
dictionary.save('questions.dict');
corpus = [dictionary.doc2bow(text) for text in final_text]
corpora.MmCorpus.serialize('questions.mm', corpus)
corpora.SvmLightCorpus.serialize('questions.svmlight', corpus)
corpora.BleiCorpus.serialize('questions.lda-c', corpus)
corpora.LowCorpus.serialize('questions.low', corpus)

##Then the dictionary and corpus can be used to train using LDA

mm = corpora.MmCorpus('questions.mm')
lda = gensim.models.ldamodel.LdaModel(corpus=mm, id2word=dictionary, num_topics=100, update_every=0, chunksize=19188, passes=20)
"
27882,52946,Python List Split into a dict,"res = {}
for iskey, it in groupby(mylist, lambda s: s.endswith(':')):
    if iskey:
        for k in it:
            key = k[:-1]
            res[key] = []
    else:
        res[key].extend(it)

res
=> {u'Address': [u'Washington Street ', u'Chicago'], u'Name': [u'John', u'Doe']}
"
28222,131,Slicing a list advice,"# Input data
myList = [""hello.how.are.you"", ""hello.how.are.they"", ""hello.how.are.we""]

# Define a function to operate on a string
def get_last_part(s):
    return s.split(""."")[-1]

# Use a list comprehension to apply the function to each item
answer = [get_last_part(s) for s in myList]

# Sample output
>>> answer: [""you"", ""they"", ""we""]
"
8486,23410,How to parse multiple sub-commands using python argparse?,"import argparse

## This function takes the 'extra' attribute from global namespace and re-parses it to create separate namespaces for all other chained commands.
def parse_extra (parser, namespace):
  namespaces = []
  extra = namespace.extra
  while extra:
    n = parser.parse_args(extra)
    extra = n.extra
    namespaces.append(n)

  return namespaces

argparser=argparse.ArgumentParser()
subparsers = argparser.add_subparsers(help='sub-command help', dest='subparser_name')

parser_a = subparsers.add_parser('command_a', help = ""command_a help"")
## Setup options for parser_a

## Add nargs=""*"" for zero or more other commands
argparser.add_argument('extra', nargs = ""*"", help = 'Other commands')

## Do similar stuff for other sub-parsers
"
518,56454,Calculate similarity/distance between rows using pandas faster,"from sklearn.metrics.pairwise import euclidean_distances
import numpy as np

mat = np.random.rand(5, 5)
pairwise_dist_mat = euclidean_distances(mat)
pairwise_dist_mat
array([[ 0.        ,  1.19602663,  1.08341967,  1.07792121,  1.1245057 ],
   [ 1.19602663,  0.        ,  0.52135682,  0.82797734,  0.78247091],
   [ 1.08341967,  0.52135682,  0.        ,  0.87764513,  0.81903634],
   [ 1.07792121,  0.82797734,  0.87764513,  0.        ,  0.1386294 ],
   [ 1.1245057 ,  0.78247091,  0.81903634,  0.1386294 ,  0.        ]])
"
28753,81677,Variations with repetition,">>> import itertools
>>> ["""".join(item) for item in itertools.product(""10"", repeat=5)]
['11111', '11110', '11101', '11100', '11011', '11010', '11001', '11000', '10111', 
'10110', '10101', '10100', '10011', '10010', '10001', '10000', '01111', '01110', 
'01101', '01100', '01011', '01010', '01001', '01000', '00111', '00110', '00101', 
'00100', '00011', '00010', '00001', '00000']
"
18841,68239,How to stop subprocess.Popen waiting for user input in python,"import os
from subprocess import Popen
try:
    from subprocess import DEVNULL # Python 3
except ImportError:
    DEVNULL = open(os.devnull, 'r+b', 0)

Popen(['pdflatex', 'file.tex'], stdin=DEVNULL, stdout=DEVNULL, stderr=DEVNULL)
"
14164,60221,Django dynamic class cannot be updated,"def getModel(type, yyyymm):
    if type == 'duration':
        newModelClass = type(
            'newModelName', #It could be the table name you are going to search in. It must be different for every different db table you want to use. For example: 'orderTable' + yyyymm
            (baseModel, ), #Base class for your new model
            {
                'medianduration' : models.IntegerField(), #New model's attribute
                'avgduration' : models.IntegerField(), #New model's attribute
                '__module__':__name__, #This is required. If not given, type raises a KeyError
                'Meta': type(
                                'Meta',
                                (object,),
                                {
                                    'db_table':'orderTable' + yyyymm, #Here you put the table name you want to use
                                    '__module__':__name__,
                                }
                        )
            }
       )
       return newModelClass
"
19891,1647,Scrapy CSV export reside in 1 cell,"def parse(self, response):
    items = []
    item = gdpItem()
    driver = self.driver
    driver.get(response.url)
    driver.find_element_by_partial_link_text('Select all').click()
    driver.find_element_by_xpath('//option[contains(text(),""GDP (Million N.T.$,at Current Prices)"")]').click()
    driver.find_element_by_xpath('//option[contains(text(),""Data"")]').click()
    driver.find_element_by_xpath('//input[@type=""SUBMIT""]').click()

    hxs = HtmlXPathSelector(text=self.driver.page_source)
    data = hxs.xpath(""//table[@class='pxtable']//tbody//tr"")

    for datum in data:
        item [""date""] = datum.xpath('td[1]/text()').extract()
        item [""data""] = datum.xpath('td[2]/text()').extract()

        yield item
"
8043,49214,How can one pull every other value within a list?,">>> b = [(1, '12'), (2, '23'), (3, '34')]
>>> b[::2]
[(1, '12'), (3, '34')]
>>>
"
3868,2645,Converting a DNS packet to a string using Scapy,">>> from scapy.all import *
>>> import sys
>>> from cStringIO import StringIO
>>> old_stdout = sys.stdout
>>> sys.stdout = mystdout = StringIO()
>>> pkt = DNS()
>>> pkt.show()
>>> sys.stdout = old_stdout
>>> mystdout.getvalue()
'###[ DNS ]###\n  id        = 0\n  qr        = 0\n  opcode    = QUERY\n  aa        = 0\n  tc        = 0\n  rd        = 0\n  ra        = 0\n  z         = 0\n  rcode     = ok\n  qdcount   = 0\n  ancount   = 0\n  nscount   = 0\n  arcount   = 0\n  qd        = None\n  an        = None\n  ns        = None\n  ar        = None\n'
>>> 
"
25695,5393,numpy select fixed amount of values among duplicate values in array,">>> np.concatenate([a[a==i][:2] for i in np.unique(a)])
array([1, 2, 2, 3, 3])
"
32718,34923,Text File of Monthly Temps into Set,"months = ['January', 'Feburary', 'March', 'April', 'May', 'June', 'July',
          'August', 'September', 'October', 'November', 'December']

def open_weather():
    weather = open('yearly_temperatures.txt')
    year_weather = weather.readlines() 
    return year_weather

def month_temp(year_weather, months):
    output = []
    for i in range(len(months)):
        output.append((months[i], set(year_weather[i].lstrip(months[i] + "":"").strip(""\n"").split("",""))))
    return output

yw = open_weather()
print(month_temp(yw, months))
"
23358,1004,sorting large text data,"sort -t $'\t' -k 4 -o sorted.txt input.txt
"
14323,44361,Google App Engine Datastore / NoSQL example with ancestor queries,"#!/usr/bin/env python
# -*- coding: utf-8 -*-

import webapp2
from google.appengine.ext.webapp.util import run_wsgi_app
import logging
from google.appengine.ext import db

# MODELS
class Child_model(db.Model):
    name = db.StringProperty()

class Parent_model(db.Model):
    name = db.StringProperty()

class Root_model(db.Model):
    pass


# MAIN
class MainHandler(webapp2.RequestHandler):
    def get(self, url):
        if not Root_model.get_by_key_name(""root""):
            # Populate db on first run
            self.populate()

        logging.info(""-- Get all enteties recursivly --"")
        root        = Root_model.get_by_key_name(""root"")
        logging.info("" - %s"", root)

        parents     = Parent_model.all().ancestor(root)

        # Recursivly
        for p in parents:
            logging.info("" -- %s"" % p.name)
            children = list(Child_model.all().ancestor(p))
            [logging.info("" --- %s"" % c.name) for c in children]

        # Shortcut
        #children   = Child_model.all().ancestor(root)

        logging.info(""-- Get all children for a parent --"")
        [logging.info("" -- %s"" % c.name) for c in self.get_all_children_for_a_parent() ]    

        logging.info(""-- Get some children for a parent --"")
        [logging.info("" -- %s"" % c.name) for c in self.get_all_children_for_a_parent() if c.name == ""Child num 0 with parent Parent num 0"" or c.name == ""Doesn't exist"" ]

        logging.info(""-- Get parent for child --"")
        child = Child_model.all()[0]
        logging.info(""Child: %s"" % child.name)
        logging.info(""Parent: %s"" % child.parent().name)

    def get_all_children_for_a_parent(self):
        parent = Parent_model.all()[0]
        logging.info("" - %s"" % parent.name)
        return Child_model().all().ancestor(parent)


    def populate(self):
        root = Root_model(key_name=""root"")
        root.put()

        parents = []
        for i in range(3):
            parents.append( Parent_model(parent=root, name=""Parent num %d"" % i) )
        db.put(parents)

        import random
        children = []
        for p in parents:
            for i in range(random.randint(0,10)):
                children.append( Child_model(parent=p, name=""Child num %d with parent %s"" % (i, p.name)) )
        db.put(children)


app = webapp2.WSGIApplication([('/(.*)', MainHandler)],
                                debug=True)
def main():
    run_wsgi_app(app)

if __name__ == '__main__':
    main()
"
7631,23448,python for loop adding commas between items,"# 'n' is the number of tags you'll be returning, I suppose
', '.join(items.get_top_tags(i)[0].get_name() for i in range(n))
"
12007,17573,"Slice to "" ""space in python","In [1]: L = [['abc 1234',2], ['foo 1',2] , ['bar 12312434',2]]

In [2]: [x[0].split(' ')[0] for x in L]
Out[2]: ['abc', 'foo', 'bar']
"
13003,8283,Finding out if the current filesystem supports symbolic links,"import os

try:
    os.symlink(""src"", ""dest"")
except OSError:
    print ""cant do it :(""
"
25221,30151,Matplotlib: Remove scientific notation in subplot,"ax1.xaxis.get_offset_text().set_visible(False)
ax1.yaxis.get_offset_text().set_visible(False)
"
9055,75398,Adding units to heatmap annotation in Seaborn,"import matplotlib.pyplot as plt
import seaborn as sns
import numpy as np
from matplotlib.ticker import FuncFormatter

sns.set()
fig, ax0 = plt.subplots(1,1)
data = np.array([[10.01,20.20],[-0.23,0.],[23.1049,-100.000000]])
ax = sns.heatmap(data, annot=True, fmt = '.1f', square=1, linewidth=1.)
for t in ax.texts: t.set_text(t.get_text() + "" %"")
plt.show()
"
33299,18987,Create a dictionary from a csv file in python 3,"import csv

data={}
with open('/tmp/text.txt') as fin:
    reader=csv.reader(fin, skipinitialspace=True, quotechar=""'"")
    for row in reader:
        data[row[0]]=row[1:]

print(data)       
# {'Lisa plowed ': ['1A', 'field', 'field', 'field', 'field', 'field'], 'Tracy freed ': ['1A', 'animals', 'fish', 'slaves', 'slaves', 'slaves'], 'Paul alleged ': ['1A', 'truth', 'crime', 'facts', 'infidelity', 'incident'], 'John greased ': ['1A', 'axle', 'wheel', 'wheels', 'wheel', 'engine']}
"
21147,84143,Dictionaries in Python,"engToEstDict = {}

# The with statement automatically closes the file afterwards. Furthermore, one shouldn't
# overwrite builtin names like ""file"", ""dict"" and so on (even though it's possible).
with open(""dictionary.txt"", ""r"") as f:
    for line in f:
        if not line:
            break

        # Map the Estonian to the English word in the dictionary-typed variable
        pair = lines.split(""\t"")
        engToEstDict[pair[0]] = pair[1]

# Then, lookup of Estonian words is simple
print engToEstDict[""hello""] # should probably print ""tere"", says Google Translator
"
25213,55159,itertools.product() return value,"list(map(list, product([1, 2, 3], ['a', 'b'])))
"
38809,75016,What better ways could i have written this python code,"from random import randint

dice = [0 for i in range(6)]

for rolls in range(0, 10000):
    rand = randint(1, 6)
    dice[rand-1] += 1

print 'the result was'
print dice
"
3866,4973,Error comparing long string output in Python test,"myOutput = myOutput.strip()
self.assertEqual(myOutput, expOutput, ""Script output is not the expected"")
"
24199,71134,How to store static text on a website with django,"class Blurb(models.Model):
  ident = models.CharField(..., db_index=True)
  blurb = models.TextField(...)

PK  ident  text
1   main   Hey! Do you like this template? This...

{% load blurb %}
 ...
{% blurb main %}
"
20805,11956,Multidicts and Sets,"from collections import Counter
cnt = Counter()
for key, values in t.items():
    for item in values:
        cnt[item] += 1

print([comp for comp in cnt if cnt[comp] > 1])
"
18934,65765,Feedback on implementation of function which compares integer signs in Python,"def all_same_sign(ints):
    return all(x < 0 for x in ints) or all(x > 0 for x in ints)
"
27394,25914,Why does a decorated class looses its docstrings?,"from functools import wraps

class ClassDecorator:
    """"""ClassDecorator docstring
    """"""
    def __init__(self, enableCache=True):
        self.enableCache = enableCache

    def __call__(self, wrapper):
        @wraps(wrapper)                              # <-----------
        def numericalmathfunction(*args, **kwargs):
            func = wrapper(*args, **kwargs)
            return func
        return numericalmathfunction

@ClassDecorator(enableCache=True)
class Wrapper(object):
    """"""Wrapper docstring
    Instructions on how to use the Wrapper
    """"""
    def __init__(self, p):
        self.p = p
"
14376,13910,Finding minimum by passing a variable to recursive function with yield,"from operator import itemgetter

def dfs(space, fragments, path=None, cost=0):
    if path == None:
        path = []
        path_end = space[0]
    else:
        path_end = path[-1][1]

    for i, fragment in enumerate(fragments):
        if fragment[0] > path_end: # this fragment would leave a gap (as
            break                  # will all the rest) so we can stop
        elif path_end < fragment[1]: # useless fragments are skipped
            new_path = path + [fragment]
            new_cost = cost + get_marginal_cost(fragment)
            if fragment[1] == space[1]:  # this fragment reaches the end,
                yield new_path, new_cost # so this is a base case
            else:     # recursive case
                for result in dfs(space, fragments[i+1:], # slice frag list
                                  new_path, new_cost):
                    yield result # in Python 3.3 and later, you can skip the
                                 # loop and just use ""yield from dfs(...)""

def find_minimum_cost_path(space, fragments):
    fragments.sort(key=itemgetter(0)) # sort by start of the fragments
    path, cost = min(dfs(space, fragments), key=itemgetter(1))
    return path
"
39522,7426,Python beautifulsoup extract value without identifier,"html = """"""
        <span id=""07_lbl"" class=""lbl"">Price:</span>
        <span id=""07_content"" class=""content"">130  â¬</span>
        <span id=""08_lbl"" class=""lbl"">Value:</span>
        <span id=""08_content"" class=""content"">90000  â¬</span>


        <span id=""03_lbl"" class=""lbl"">Price:</span>
        <span id=""03_content"" class=""content"">130  â¬</span>
        <span id=""04_lbl"" class=""lbl"">Value:</span>
        <span id=""04_content"" class=""content"">90000  â¬</span>
""""""

from bs4 import BeautifulSoup
soup = BeautifulSoup(html)

price_texts = soup.find_all('span', text='Price:')
for element in price_texts:
    # .next_sibling() might work, too, with a parent element present
    price_value = element.find_next_sibling('span')
    print price_value.get_text()

# It prints:
# 130  â¬
# 130  â¬
"
3794,29272,getting test class instance in nose test object to sync up with instance in decorated generator target,"import inspect

def labelable_yielded_case(case):

    argspec = inspect.getargspec(case)
    if argspec.defaults is not None:
        defaults_list = [''] * (len(argspec.args) - len(argspec.defaults)) + argspec.defaults
    else:
        defaults_list = [''] * len(argspec.args)
    argument_defaults_list = zip(argspec.args, defaults_list)
    case_wrappers = []

    def add_description(wrapper_id, argument_dict):

        case_wrappers[wrapper_id].description = case.__doc__.format(**argument_dict)

    def case_factory(*factory_args, **factory_kwargs):

        def case_wrapper_wrapper():

            wrapper_id = len(case_wrappers)

            def case_wrapper(*args, **kwargs):

                argument_list = []
                for argument in argument_defaults_list:
                    argument_list.append(list(argument))
                for index, value in enumerate(args):
                    argument_list[index][1] = value
                argument_dict = dict(argument_list)
                argument_dict.update(kwargs)
                add_description(wrapper_id, argument_dict)
                return case(**argument_dict)

            case_wrappers.append(case_wrapper)
            case_name = case.__name__ + str(wrapper_id)
            case_wrapper.__name__ = case_name
            if factory_args:
                setattr(factory_args[0].__class__, case_name, case_wrapper)
                return getattr(factory_args[0].__class__, case_name)
            else:
                return case_wrapper

        return case_wrapper_wrapper()

    return case_factory


class TestTest(object):

    def __init__(self):

        self.data = None

    def setUp(self):

        self.data = (1,2,3)

    def test_all(self):

        for index, value in enumerate((1,2,3)):
            yield self.validate_equality(), index, value

    @labelable_yielded_case
    def validate_equality(self, index, value):
        '''element {index} equals {value}'''

        assert self.data[index] == value, 'expected %d got %d' % (value, self.data[index])
"
12527,67668,How to put values from several rows together in one row (separated by comma),"In [175]:
df.groupby(level=0)['col2'].apply(lambda x: ','.join(x))

Out[175]:
col1
a    ab,cd,ef
b     kj,jk,l
Name: col2, dtype: object
"
35481,54862,win32com equivalent of xlrd's sheet.ncols,"used = ws.UsedRange
nrows = used.Row + used.Rows.Count - 1
ncols = used.Column + used.Columns.Count - 1
"
32554,36778,Python - append to list of dicts while keeping order,"def add(item, aList):
    aList.append(item)
    return sorted(aList, key=lambda entry:""{}{}"".format(entry['last_name'], entry['first_name'])
"
35740,39814,Read little endian from file and convert to decimal,"import struct
decoded = []
with open(""some_bin_file.rt"",""rb"") as f:
     while True:
          try: 
             decoded.append(struct.unpack_from(""<Q"",f)[0])
             # `<` means little endian; `Q` means unsigned long long (8 bytes)            
          except struct.error:
             break

print decoded
"
26425,95,Listing files in a directory recursively - python,"import os

path = 'Root'
for root, dirnames, filenames in os.walk(path):
    print root
    for filename in filenames:
        print filename
    if not filenames:
        print 'No File Found'
    print
"
38830,25391,Python/mysolr : Select only one core,"solr = Solr(base_url='http://localhost:8080/solr/products', version=4)
"
14196,44896,Is it possible to access a previously-created variable without knowing its name?,"globals()[""a""] = ""asd""
print globals()[""a""]
"
8134,69681,markov chain python to processing,"HashMap<String, int> wordCount;

int createProbabilityHash(words):
    int numWords = words.size();
    wordCount = new HashMap<String, int>();
    for (int i = 0;i < numWords; ++i) {
        if wordCount.containsKey(words[i]) {
            wordCount.put(words[i], wordCount.get(words[i]) + 1);
        } else {
            wordCount.put(words[i], 1);
        }
    }
"
1931,35597,Infinite loop for widget button in tkinter,"def __init__(self, root):
    Frame.__init__(self, root)
    self.root = root
    self.butt_released = True

    button3 = Button(self.but_frame, text='Step', width=15, command=lambda :self.step_funct())
    button3.pack(side='right')
    button4 = Button(self.but_frame, text='Run', width=15)
    button4.pack(side='right')
    button4.bind(""<Button-1>"", self.butt_press)
    button4.bind(""<ButtonRelease-1>"", self.butt_release)

def butt_press(self, event):
    self.butt_released = False
    self.run_funct()

def run_funct(self):
    if not self.butt_released:
        self.step_funct()
        self.root.after(10, self.run_funct)

def butt_release(self, event):
    self.butt_released = True
"
5324,52038,How can I display text AND variables in a tkinter text widget,"ans_text.pack()
"
3918,1428,list of partial matches in very large lists of tuples,"#!/usr/bin/python
#-*- coding:utf-8 -*-

L1 = [('word1', 'page1'), ('word1', 'page2'), ('word3', 'page1'), ]
L2 = [('word1', 'page4'), ('word2', 'page2'), ('word3', 'page2'), ]

def func1():
    '''
    Time Complexity is O(n^2) 
    '''
    res = []
    for i in L1:
        for k in L2:
            if i[0] == k[0]:
                res.append(i)
                res.append(k)
    return list(set(res))

def func2():
    '''
    Time Complexity is O(n)
    '''
    d1 = {}
    for i in L1:
        if d1.has_key(i[0]):
            d1[i[0]].append(i[1])
        else:
            d1[i[0]] = [i[1]]
    d2 = {}
    for i in L2:
        if d2.has_key(i[0]):
            d2[i[0]].append(i[1])
        else:
            d2[i[0]] = [i[1]]
    d3 = {}
    for key in d1.keys():
        if d2.has_key(key):
            d3[key] = d2[key] + d1[key]

    return [(m,n) for m in d3.keys() for n in d3[m]]



if __name__ == '__main__':
    print func1()
    print func2()

    import timeit
    t = timeit.Timer(func1)
    print t.timeit(10000)
    t = timeit.Timer(func2)
    print t.timeit(10000)
"
8957,58971,Python: Tracing the Execution of a For Loop,"    1: def someFunc(aString):
            global numAs, numEs
    1:      s = aString
   10:      for i in range(len(aString)): 
    9:            if s[i] == 'a': 
    2:                numAs += 1 
    2:                continue 
    7:            if s[i] == 'e': 
    1:                numEs += 1 
    1:                if numEs > numAs:  
                           break

    1: numAs = 0
    1: numEs = 0
    1: someFunc('flammable')
"
36271,2563,Regular Expression Match/Replace,">>> x = re.search(""sub(\d+)\.domain\.com\/(\d+)"",""sub123.domain.com/546"").groups()
('123', '546')
>>> url = ""%s blah blah %s"" % x
"
28647,37605,Defined function in python gets rid of variable after finish,"def function(number):
    global accumulator
    accumulator = number
"
11414,29076,subprocess.check_output without high memory usage,"from multiprocessing import Process, Queue
from subprocess import check_output, CalledProcessError

def cmdloop(inQueue,outQueue):
    while True:
        command = inQueue.get()
        try:
            result = check_output(command,shell=True)
        except CalledProcessError as e:
            result = e

        outQueue.put(result)

inQueue = Queue()
outQueue = Queue()
cmdHostProcess = Process(target=cmdloop, args=(inQueue,outQueue,))
cmdHostProcess.start()

def callCommand(command):
    global inQueue,outQueue
    inQueue.put(command)
    return outQueue.get()

def killCmdHostProcess():
    global cmdHostProcess
    cmdHostProcess.terminate()
"
39959,82291,Using sys.exit in for loops,"exit_status = 0
for pods in content.get(""items""):
    try:
        block = get_content(pods)
        print block
    except KeyError:
        print 'Container Failed'
        exit(2)

    if block[""restartcount""] >= args.warning and block[""restartcount""] < args.critical:
        print ""WARNING | {} restart count  is {}"".format(block[""name""], block[""restartcount""])
        if exit_status < 1: exit_status = 1

    if block[""restartcount""] >= args.critical:
        print ""CRITICAL | {} restart count  is {}"".format(block[""name""], block[""restartcount""])
        exit_status = 2

sys.exit(exit_status)
"
29024,46428,Estimating aspect ratio of a convex hull,"import matplotlib.pyplot as plt
import numpy as np

# Random data
num = 100
xy = np.random.random((2,num)) + 0.01 * np.arange(num)

eigvals, eigvecs = np.linalg.eig(np.cov(xy))

fig, (ax1, ax2) = plt.subplots(nrows=2)
x,y = xy
center = xy.mean(axis=-1)
for ax in [ax1, ax2]:
    ax.plot(x,y, 'ro')
    ax.axis('equal')

for val, vec in zip(eigvals, eigvecs.T):
    val *= 2
    x,y = np.vstack((center + val * vec, center, center - val * vec)).T
    ax2.plot(x,y, 'b-', lw=3)

plt.show()
"
18475,50540,Python Dataframe conditionally drop_duplicates,"In [47]:

df['C'] = np.where(df.A.str.isnumeric(), 1, df.index)
print df
     A  B  C
0    3  4  1
1    3  4  1
2    3  5  1
3  yes  8  3
4   no  8  4
5  yes  8  5
In [48]:

print df.drop_duplicates()[['A', 'B']] #reset index if needed
     A  B
0    3  4
2    3  5
3  yes  8
4   no  8
5  yes  8
"
37990,79253,How to use meshgrid with large arrays in Matplotlib?,"X=np.zeros((100,85)) # just to get the right shape here

print X.shape
# (100, 85)

x=np.arange(X.shape[0])
y=np.arange(X.shape[1])

print x.shape
# (100,)
print y.shape
# (85,)

xx,yy=np.meshgrid(x,y,indexing='ij')

print xx.shape
#(100, 85)
print yy.shape
#(100, 85)
"
20428,20722,Conditionally show and hide a form field and set the field value,"class PersonnelForm(forms.Form):
    """"""
    Form for creating a new personnel.
    """"""
    username = forms.RegexField(
        required=True, max_length=30, label=_(""Name"")
    )
    is_manager = forms.BooleanField(
        required=True, label=_(""Is Manager"")
    )

    def __init__(self, *args, **kwargs):
        delete_some_field = kwargs.get('delete_some_field', False)
        if 'delete_some_field' in kwargs:
            del kwargs['delete_some_field']
        super(PersonnelForm, self).__init__(*args, **kwargs)
        if delete_some_field:
            del self.fields['is_manager']
            # or
            self.fields['is_manager'].widget = something_else

#views.py
form = PersonnelForm(...., delete_some_field=True)
"
38323,53050,Finding a Word in a File,"for i,listed in enumerate(open('input.txt')):
    sentence = listed.lower()
    a = sentence.count('a')
    # ... etc.
"
29547,61858,how to identify webp image type with python,"import imghdr

try:
    imghdr.test_webp
except AttributeError:
    # add in webp test, see http://bugs.python.org/issue20197
    def test_webp(h, f):
        if h.startswith(b'RIFF') and h[8:12] == b'WEBP':
            return 'webp'

    imghdr.tests.append(test_webp)
"
32897,2521,Python 3: convert a list into a dictionary,"leet =['a','4','b','l3','c','(','d','[)','e','3','g','6','l','1','o','0','s','5','t','7','w','\/\/']

lookup = dict(zip(*[iter(leet)] * 2))
text = 'how are you?'
blah = ''.join(lookup.get(ch, ch) for ch in text)
# h0\/\/ 4r3 y0u?
"
1677,46358,Merging CSV Files with missing columns in Pandas,"In [297]:
import pandas as pd
import io
t=""""""ID, Price, Name
1, $800, Jim""""""
df = pd.read_csv(io.StringIO(t), sep=',\s+')
t1=""""""ID, Price, Address, Name
2, $500, 1 Main St., Amanda""""""
df1 = pd.read_csv(io.StringIO(t1), sep=',\s+')
pd.concat([df,df1], ignore_index=True)

Out[297]:
      Address  ID    Name Price
0         NaN   1     Jim  $800
1  1 Main St.   2  Amanda  $500
"
29967,21785,How to improve my feature selection for a NB classifier?,"import numpy as np
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.feature_selection import SelectPercentile
from sklearn.naive_bayes import MultinomialNB
from sklearn.pipeline import Pipeline


def read_input(path):
    with open(path) as handle:
        lines = (line.rsplit("","", 1) for line in handle)
        return [text for text, label in lines]


# Assuming each line in ``neg5000.csv`` and ``pos5000.csv`` is a
# UTF-8-encoded tweet.
neg_tweets = read_input(""neg5000.csv"")
pos_tweets = read_input(""pos5000.csv"")

X = np.append(neg_tweets, pos_tweets)
y = np.append(np.full(len(neg_tweets), -1, dtype=int),
              np.full(len(pos_tweets), 1, dtype=int))


p = Pipeline([
    (""vectorizer"", CountVectorizer()),
    (""selector"", SelectPercentile(percentile=20)),
    (""nb"", MultinomialNB())
])

p.fit(X, y)
print(p.predict([""I love this car""]))
"
7812,21491,How to count sequences of repeated numbers in Python sequences?,">>> from itertools import groupby
for k,g in groupby(seq1):
    if k != 0:
        print list(g)
...         
[1, 1]
[2, 2]
[3, 3, 3]

for k,g in groupby(seq2):
    if k != 0:
        print list(g)
...         
[1, 1]
[1, 1]
"
23028,8199,What is a mult-dimensional dictionary?,"animals = {'pets': {'George': 'cat', 'Fred': 'dog'}}
"
33532,40596,Massage model data before save in Django,"class MyForm(models.ModelForm):
    ...
    def save(self):
        instance = super(MyForm, self).save(commit=False)
        if not self.deposit:
            self.amount = -self.amount
        instance.save()
        return instance
"
5729,10894,Retreiving data points from scipy interpolate/griddata,"xi_coords = {value: index for index, value in enumerate(xi)}
yi_coords = {value: index for index, value in enumerate(yi)}
xic = <your coordinate>
yic = <your coordinate>
zi[xi_coords[xic], yi_coords[yic]]
"
3316,47814,calculation then and insert results into a csv in python,"from collections import defaultdict

class_col = 3
data_col = 11

# Read in the data
with open('path/to/your/file.csv', 'r') as f:
    # if you have a header on the file
    # header = f.readline().strip().split(',')
    data = [line.strip().split(',') for line in f]

# Sum the data for each unique class.
# assuming integers, replace int with float if needed
count = defaultdict(int)
for row in data:
    count[row[class_col]] += int(row[data_col])

# Append the relevant sum to the end of each row
for row in xrange(len(data)):
    data[row].append(str(count[data[row][class_col]]))

# Write the results to a new csv file
with open('path/to/your/new_file.csv', 'w') as nf:
    nf.write('\n'.join(','.join(row) for row in data))
"
3941,69072,Using a variable outside of function in Python,"x = 0
def run_5():
    print ""5 minutes later""
    x += 5
    return x

x=run_5()
print x
"
33860,9219,python socket object accept time out,"import socket
print socket.getdefaulttimeout()
socket.setdefaulttimeout(60)
"
18285,76135,Include 0 values when using values() and Count() in django,"import datetime

def daterange(start_date, end_date):
    """""" 
    Generate an iterator of dates between the two given dates. 
    taken from http://stackoverflow.com/questions/1060279/
    """""" 
    for n in range(int ((end_date - start_date).days)):
        yield start_date + datetime.timedelta(n)

def get_graph_data(start_date, end_date):
    query = MyModel.objects.all().annotate(models.Count(""id""))
    data = query.values('created_at', 'id__count')

    # go through all the dates between start_date and end_date
    # and fill the missing gaps with 0 
    return dict((d, data[d] if d in data else 0) for d in daterange(t, to))        
"
13394,36423,How to ignore case while doing most_common in Python's collections.Counter?,">>> Counter(map(str.lower, names)).most_common(3)
[('juicy', 2), ('aish', 2), ('ash', 2)]
"
20126,32697,Pandas pivot table fixing value columns,"list_to_fill = [2,'else']
for col_name in list_to_fill:
    if col_name not in new_df.columns:
        new_df[col_name] = 0

In [252]: new_df
Out[252]:
subtype   1  2  else
type
A        25  0     0
B        12  0     0
C        40  0     0
"
3475,34645,Google App Engine: how to tell sort location for a user value?,"# get the rank of total_value compared to existing total_values (up to 1,000)
rank = Main.all().filter('total_value <', total_value).count(1000) + 1
"
24446,69479,Is it possible for two singleton subclasses to use their own instance of superclass in Python?,"class Base(object):
    def __init__(self, x):
        self.x = x

class Derived1(Base):
    def __init__(self, x, y):
        Base.__init__(self, x)
        self.y = y

class Derived2(Base):
    def __init__(self, x, z):
        Base.__init__(self, x)
        self.z = z

d1 = Derived1(10, 20)
d2 = Derived2(30, 40)
print d1.x   # Will show 10
print d2.x   # Will show 30
"
25261,27819,SQL join or R's merge() function in NumPy?,"In [1]: import numpy as np
   ...: import numpy.lib.recfunctions as rfn
   ...: a = np.array([(1, 10.), (2, 20.), (3, 30.)], dtype=[('id', int), ('A', float)])
   ...: b = np.array([(2, 200.), (3, 300.), (4, 400.)], dtype=[('id', int), ('B', float)])

In [2]: rfn.join_by('id', a, b, jointype='inner', usemask=False)
Out[2]: 
array([(2, 20.0, 200.0), (3, 30.0, 300.0)], 
      dtype=[('id', '<i4'), ('A', '<f8'), ('B', '<f8')])
"
34821,72373,Where are Man -pages for the module MySQLdb in Python?,"pydoc MySQLdb
"
37111,40641,What syntax is represented by an ExtSlice node in Python's AST?,">>> compile('o[x]', '<string>', 'exec', PyCF_ONLY_AST).body[0].value.slice
<_ast.Index object at 0xb72a9e6c>
>>> compile('o[x,y]', '<string>', 'exec', PyCF_ONLY_AST).body[0].value.slice
<_ast.Index object at 0xb72a9dac>
>>> compile('o[x:y]', '<string>', 'exec', PyCF_ONLY_AST).body[0].value.slice
<_ast.Slice object at 0xb72a9dcc>
>>> compile('o[x:y,z]', '<string>', 'exec', PyCF_ONLY_AST).body[0].value.slice
<_ast.ExtSlice object at 0xb72a9f0c>
>>> 
"
3607,49120,Associating multiple teams with multiple headers/values:,"from bs4 import BeautifulSoup
from urllib.request import urlopen

u = urlopen(""http://www.nhl.com/ice/teamstats.htm"")
soup = BeautifulSoup(u)
u.close()

for table in soup.find_all('table', class_='data stats'):
    row = table.find('tr')
    header = []
    for cell in row.find_all('th')[1:]:
        name = cell.string.strip()
        header.append(name)
    for row in table.find_all('tr')[1:]:
        for name, cell in zip(header, row.find_all('td')[1:]):
            value = cell.string.strip()
            print('{}: {}'.format(name, value), end=', ')
        print()
"
24093,52194,Efficient way to transpose the bit of an integer in python?,"mask = 0b100100

for i in range(2, -1, -1):
    tmp = x & mask
    print(((tmp >> 3 + i) << 1) + ((tmp & (1 << i)) >> i))
    mask >>= 1
"
21656,43844,wxPython wxListCtrl selected row color,"import sys
import wx
import wx.lib.mixins.listctrl  as  listmix

import win32api
import win32gui
import win32con
import win32gui_struct
import commctrl
import ctypes
from ctypes.wintypes import BOOL, HWND, RECT, UINT, DWORD, HDC, DWORD, LPARAM, COLORREF

LVM_FIRST = 0x1000
LVM_GETSUBITEMRECT=(LVM_FIRST + 56)
LVIR_BOUNDS             =0
LVIR_ICON               =1
LVIR_LABEL              =2
LVIR_SELECTBOUNDS       =3
DEFAULT_GUI_FONT    =17

#LPNMHDR
class NMHDR(ctypes.Structure):
    pass
INT = ctypes.c_int
NMHDR._fields_ = [('hwndFrom', HWND), ('idFrom', UINT), ('code', INT)]
LPNMHDR = ctypes.POINTER(NMHDR)

#LPNMCUSTOMDRAW
class NMCUSTOMDRAW(ctypes.Structure):
    pass
NMCUSTOMDRAW._fields_ = [('hdr', NMHDR), ('dwDrawStage', DWORD), ('hdc', ctypes.c_int), 
                         ('rc', RECT), ('dwItemSpec', DWORD), ('uItemState', UINT),
                         ('lItemlParam', LPARAM)]
LPNMCUSTOMDRAW = ctypes.POINTER(NMCUSTOMDRAW)

#LPNMLVCUSTOMDRAW
class NMLVCUSTOMDRAW(ctypes.Structure):
    pass
NMLVCUSTOMDRAW._fields_ = [('nmcd', NMCUSTOMDRAW), 
                           ('clrText', COLORREF),
                           ('clrTextBk', COLORREF),
                           ('iSubItem', ctypes.c_int),
                           ('dwItemType', DWORD),
                           ('clrFace', COLORREF),
                           ('iIconEffect', ctypes.c_int),
                           ('iIconPhase', ctypes.c_int),
                           ('iPartId', ctypes.c_int),
                           ('iStateId', ctypes.c_int),                           
                           ('rcText', RECT),
                           ('uAlign', UINT)
                           ]
LPNMLVCUSTOMDRAW = ctypes.POINTER(NMLVCUSTOMDRAW)


musicdata = {
1 : (""Bad English"", ""The Price Of Love"", ""Rock""),
2 : (""DNA featuring Suzanne Vega"", ""Tom's Diner"", ""Rock""),
3 : (""George Michael"", ""Praying For Time"", ""Rock""),
4 : (""Gloria Estefan"", ""Here We Are"", ""Rock""),
5 : (""Linda Ronstadt"", ""Don't Know Much"", ""Rock""),
6 : (""Michael Bolton"", ""How Am I Supposed To Live Without You"", ""Blues""),
7 : (""Paul Young"", ""Oh Girl"", ""Rock""),
8 : (""Paula Abdul"", ""Opposites Attract"", ""Rock""),
9 : (""Richard Marx"", ""Should've Known Better"", ""Rock""),
10 : (""Bobby Brown"", ""My Prerogative"", ""RnB""),
}




class MyListCtrl(wx.ListCtrl, listmix.ListCtrlAutoWidthMixin):
    def __init__(self, parent, ID, pos=wx.DefaultPosition,
                 size=wx.DefaultSize, style=0):
        wx.ListCtrl.__init__(self, parent, ID, pos, size, style)
        listmix.ListCtrlAutoWidthMixin.__init__(self)

    def ShouldCustomDraw(self, row):
        if self.IsSelected(row):
            listitem = self.GetItem(row, 2)
            genre = listitem.GetText()

            return genre != ""Rock""


    def CustomDraw(self, lpcd):        
        if lpcd.contents.nmcd.dwDrawStage == commctrl.CDDS_PREPAINT:
            return (True, commctrl.CDRF_NOTIFYITEMDRAW)

        if lpcd.contents.nmcd.dwDrawStage == commctrl.CDDS_ITEMPREPAINT:                
            if self.ShouldCustomDraw(lpcd.contents.nmcd.dwItemSpec):
                #do custom drawing for non Rock selected rows
                #paint the selection background
                color = win32api.RGB(255, 127, 0) #orange
                brush = win32gui.CreateSolidBrush(color)   
                r = lpcd.contents.nmcd.rc
                win32gui.FillRect(int(lpcd.contents.nmcd.hdc),  (r.left+4, r.top, r.right, r.bottom), brush)                
                win32gui.DeleteObject(brush)
                return (True, commctrl.CDRF_NOTIFYSUBITEMDRAW)                    

        if lpcd.contents.nmcd.dwDrawStage == commctrl.CDDS_ITEMPREPAINT|commctrl.CDDS_SUBITEM:                
            row = lpcd.contents.nmcd.dwItemSpec
            col = lpcd.contents.iSubItem
            item = self.GetItem(row, col)
            text = item.GetText()
            #paint the text
            rc = RECT()
            rc.top = col
            if col > 0:
                rc.left = LVIR_BOUNDS
            else:
                rc.left = LVIR_LABEL
            success = win32api.SendMessage(self.Handle, LVM_GETSUBITEMRECT, row, ctypes.addressof(rc))
            if col > 0:
                rc.left += 5
            else:
                rc.left += 2
            rc.top += 2

            if success:                
                oldColor = win32gui.SetTextColor(lpcd.contents.nmcd.hdc, win32gui.GetSysColor(win32con.COLOR_HIGHLIGHTTEXT))                
                win32gui.DrawText(lpcd.contents.nmcd.hdc, text, len(text), (rc.left, rc.top, rc.right, rc.bottom), win32con.DT_LEFT|win32con.DT_VCENTER)
                win32gui.SetTextColor(lpcd.contents.nmcd.hdc, oldColor)                                

            return (True, commctrl.CDRF_SKIPDEFAULT)


        # don't need custom drawing
        return (True, commctrl.CDRF_DODEFAULT)


class MyFrame(wx.Frame):
    def __init__(self, *args, **kwds):
        wx.Frame.__init__(self, *args, **kwds)
        self._sizer = wx.BoxSizer(wx.VERTICAL)
        tID = wx.NewId()
        self._ctl = MyListCtrl(self, tID,
                                 style=wx.LC_REPORT 
                                 #| wx.BORDER_SUNKEN
                                 | wx.BORDER_NONE
                                 | wx.LC_EDIT_LABELS
                                 | wx.LC_SORT_ASCENDING
                                 #| wx.LC_NO_HEADER
                                 #| wx.LC_VRULES
                                 #| wx.LC_HRULES
                                 #| wx.LC_SINGLE_SEL
                                 )
        self._sizer.Add(self._ctl, 1, wx.EXPAND, 3)
        self.PopulateList()

        self.oldWndProc = win32gui.SetWindowLong(self.GetHandle(), win32con.GWL_WNDPROC, self.MyWndProc)


    def MyWndProc(self, hWnd, msg, wParam, lParam):

        if msg == win32con.WM_NOTIFY:
            hwndFrom, idFrom, code = win32gui_struct.UnpackWMNOTIFY(lParam)
            if code == commctrl.NM_CUSTOMDRAW and hwndFrom == self._ctl.Handle:                
                lpcd = ctypes.cast(lParam, LPNMLVCUSTOMDRAW)
                retProc, retCode = self._ctl.CustomDraw(lpcd)

                if retProc:
                    return retCode


        # Restore the old WndProc.  Notice the use of wxin32api
        # instead of win32gui here.  This is to avoid an error due to
        # not passing a callable object.
        if msg == win32con.WM_DESTROY:
            win32api.SetWindowLong(self.GetHandle(),
                              win32con.GWL_WNDPROC,
                              self.oldWndProc)

        # Pass all messages (in this case, yours may be different) on
        # to the original WndProc
        return win32gui.CallWindowProc(self.oldWndProc,
                                  hWnd, msg, wParam, lParam)

    def PopulateList(self):
        self._ctl.InsertColumn(0, ""Artist"")
        self._ctl.InsertColumn(1, ""Title"")
        self._ctl.InsertColumn(2, ""Genre"")

        items = musicdata.items()

        for key, data in items:            
            index = self._ctl.InsertStringItem(sys.maxint, data[0])
            self._ctl.SetStringItem(index, 1, data[1])
            self._ctl.SetStringItem(index, 2, data[2])
            self._ctl.SetItemData(index, key)


        self._ctl.SetColumnWidth(0, wx.LIST_AUTOSIZE)
        self._ctl.SetColumnWidth(1, wx.LIST_AUTOSIZE)
        self._ctl.SetColumnWidth(2, 100)

        self.currentItem = 0

class MyApp(wx.App):
    def OnInit(self):
        frame = MyFrame(None, -1, 'wxListCtrl StackOverflow')
        frame.Show()
        self.SetTopWindow(frame)
        return 1

if __name__ == ""__main__"":
    app = MyApp(0)
    app.MainLoop()
"
18527,46459,Django: How to disable ordering in model,"People.objects.all().order_by()
"
14880,30276,Using multiple inputs at once,"def main():
    result = []

    while 1:
        dag = nx.Graph()
        order = int(input())
        if not order: # check if it's 0
            break # end the loop
        for i in range (order):
            dag.add_node(i)
        for j in range(order):
            vertexList = input().split() # no need to put this single string into a list
            for element in vertexList:
                dag.add_edge(j,int(element))
        result.append(nx.number_connected_components(dag))

    print (result)
"
23266,16597,"Python: accessing ""module scope"" vars","my_globals = {'var': None}

def my_func():
    my_globals['var'] = 'something else'
"
39088,49655,Why isn't setup.py dependency_links doing anything?,"dependency_links = ['git+https://github.com/liamzebedee/scandir.git#egg=scandir-0.1'],
install_requires = ['scandir'],
"
12755,26545,efficient calculation of distance to spline curve for all pixels on an image,"import numpy as np
from matplotlib.backends.backend_agg import RendererAgg
w, h = 256, 256
r = RendererAgg(w, h, 72)
arr = np.frombuffer(r.buffer_rgba(), np.uint8)
arr.shape = r.height, r.width, -1
t = np.linspace(0, 2*np.pi, 100)
x = np.sin(2*t) * w*0.45 + w*0.5
y = np.cos(3*t) * h*0.45 + h*0.5

from matplotlib.lines import Line2D
line = Line2D(x, y, linewidth=5, color=(1.0, 0.0, 0.0), alpha=0.3)
line.draw(r)
pl.imsave(""test.png"", arr)
"
21113,24042,NumPy: filter rows by np.array,">>> ar[np.where([i in another_ar for i in ar[:,0]])]
array([[  1,   2],
       [  6, -15]])
"
16509,54011,"Python 3, extract info from file problems",">>> import re
>>> 
>>> str = """"""
... Trying 10.40.81.167...
... 
...     Connected to 10.40.81.167.
... 
...     Escape character is '^]'.
... 
... 
... 
...     ####################################
...     #                                  #
...     # RADIUS authorization disabled    #
...     # Enter local login/password       #
...     #                                  #
...     ####################################
...     bt6000 login: admin
...     Password: 
...     Please, fill controller information at first time (Ctrl+C to abort): 
...     ^C
...     Controller information filling canceled.
...     ^Cadmin@bt6000# firmware info
...     Active boot partition:  1
...     Partition 0 (reserved):
...             Firmware:       Energomera-2.3.1
...             Version:        10117
...     Partition 1 (active):
...             Firmware:       Energomera-2.3.1_01.04.15c
...             Version:        10404M
...     Kernel version: 2.6.38.8 #2 Mon Mar 2 20:41:26 MSK 2015
...     STM32:
...             Version:        bt6000 10083
...             Part Number:    BT6024
...             Updated:        27.04.2015 16:43:50
...     admin@bt6000#
... """"""
>>> re.findall(r""Firmware:.*?([0-9].*)\s"", str)
['2.3.1', '2.3.1_01.04.15c']

>>> reserved_firmware = re.search(r""reserved.*\s*Firmware:.*?([0-9].*)\s"", str).group(1)
>>> reserved_firmware
'2.3.1'
>>> active_firmware = re.search(r""active.*\s*Firmware:.*?([0-9].*)\s"", str).group(1)
>>> active_firmware
'2.3.1_01.04.15c'
>>> 
"
21805,68288,"Parse from file to dictionary in correct order, in Python","from collections import OrderedDict
from Bio import SeqIO

s6633 = SeqIO.read(""6633_seq.embl"", ""embl"")

def make_dict_realgenes(x):
    dict = OrderedDict()   
...
"
35377,55524,Control screen brightness on Windows 10 with Python3.X,"wmi.WMI(namespace='wmi').WmiMonitorBrightnessMethods()[0].WmiSetBrightness(brightness, 0)
"
18609,47366,Subsetting RDDs in Spark- Python,"val filteringValues = //read the list of values, same as you do your points, just easier 
            .keyBy(_)

val filtered = parsedData
            .keyBy(_.something) // Get the number from your inner structure
            .rigthOuterJoin(filteringValues) // This select only from your subset
            .flatMap(x => x._2._1) // Map it back to the original type.
"
8393,10244,Equivalent of sys.exit() of Python in JavaScript,"throw ""stop execution"";
"
13914,77514,Finding elements in a numpy array with multiple criteria,">>> from numpy import *
>>> a = array([1,0,1,-1])
>>> nonzero(a!=0)
(array([0, 2, 3]),)
>>> nonzero((a != 0) and (a < 0))
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
>>> nonzero((a != 0) & (a < 0))
(array([3]),)
>>> where((a != 0) & (a < 0))
(array([3]),)
"
10721,73360,How to know if a SIGHUP signal has been handled?,"inotifywait --event access /tmp/foo.bar
"
9493,50067,Find largest difference between adjacent floats in ordered array,"np.diff(a).max()
"
5407,14722,BioPython: How to convert the amino acid alphlabet to,"# Import required alphabet
from Bio.Alphabet import IUPAC

# Pass imported alphabet as an argument for `SeqIO.parse`:
records = list(SeqIO.parse(handle, 'fasta', IUPAC.extended_protein))
"
30728,50374,Change the shape of an array using another array,">>> import numpy as np
>>> arr1 = np.arange(5).reshape(5, 1)
>>> arr2 = np.arange(5, 10).reshape(1, 5)
>>> arr1
array([[0],
       [1],
       [2],
       [3],
       [4]])
>>> arr2
array([[5, 6, 7, 8, 9]])
>>> arr1.reshape(arr2.shape)
array([[0, 1, 2, 3, 4]])
>>> arr2.reshape(arr1.shape)
array([[5],
       [6],
       [7],
       [8],
       [9]])
"
4233,59699,Using GET and POST with Autorization HTTP header in Python,"import urllib2

request = urllib2.Request('http://maps.google.com/maps/feeds/maps/default/full')
request.add_header('Authorization', 'GoogleLogin auth=%s' % authorization_token)
urllib2.urlopen(request).read()
"
31846,11694,Using Twitter API with Python (geocode),"import urllib, json, pprint

params = urllib.urlencode(dict(q='obama', rpp=10, geocode='37.781157,-122.398720,1mi'))
u = urllib.urlopen('http://search.twitter.com/search.json?' + params)
j = json.load(u)
pprint.pprint(j)
"
31831,11086,Find distance between 2 points on grid,"def minimum_distance(p1, p2):

    i1, i2 = int(p1[0]), int(p2[0])

    # if both x-coordinates are floats and they have the same integer part
    if i1 != p1[0] and i2 != p2[0] and i1 == i2:

        # find the decimal parts
        d1, d2 = p1[0] - i1, p2[0] - i2

        # find the smaller ""C""
        x = min(d1 + d2, (1-d1) + (1-d2))

        # add the y distance to the ""C"" distance
        return abs(p1[1] - p2[1]) + x

    # repeat with the ""y-coordinates are floats"" case
    i1, i2 = int(p1[1]), int(p2[1])
    if i1 != p1[1] and i2 != p2[1] and i1 == i2:
        d1, d2 = p1[1] - i1, p2[1] - i2
        y = min(d1 + d2, (1-d1) + (1-d2))
        return abs(p1[0] - p2[0]) + y

    # simple case, return the Manhattan distance
    return abs(p1[0] - p2[0]) + abs(p1[1] - p2[1])


print(minimum_distance([0.4, 1], [0.9, 3]))
# 2.7
"
4804,47797,Adding Event Listeners on multiprocessing.Manager,"class QueueManager(BaseManager):
"""""" multiprocessing queue manager object """"""
     pass

if __name__ == ""__main__"":
    QueueManager.register('get_queue')
    queue = m.get_queue()
    while 1:
       job_directory = queue.get()
       print job_directory
"
32640,50938,Python clear the screen code?,"import os
os.system('clear')
"
26442,11255,How to convert \xXY encoded characters to UTF-8 in Python?,"# saved encoding-sample to /tmp/encoding-sample
import codecs
fp= codecs.open(""/tmp/encoding-sample"", ""r"", ""utf8"")
data= fp.read()

import unicodedata as ud

chars= sorted(set(data))
for char in chars:
    try:
        charname= ud.name(char)
    except ValueError:
        charname= ""<unknown>""
    sys.stdout.write(""char U%04x %s\n"" % (ord(char), charname))
"
24554,76975,Breadth first search in python stuck in infinite loop,"from pprint import pprint

# pos is (row, column), not (x, y)
class Node:
    def __init__(self, val, pos):
        self.val = val
        # Position info is stored here and ALSO as index in graph -
        # this is a form of data duplication, which is evil!
        self.pos = pos
        self.visited = False
    def __repr__(self):
        # nice repr for pprint
        return repr(self.pos)

# You had mistake here, ""arena"" instead of ""graph""
# Before posting questions on stackoverflow, make sure your examples
# at least produce some incorrect result, not just crash.
# Don't make people fix syntax errors for you!
def bfs(graph, start):
    fringe = [[start]]
    # Special case: start == goal
    if start.val == 'g':
        return [start]
    start.visited = True
    # Calculate width and height dynamically. We assume that ""graph"" is dense.
    width = len(graph[0])
    height = len(graph)
    # List of possible moves: up, down, left, right.
    # You can even add chess horse move here!
    moves = [(-1, 0), (1, 0), (0, -1), (0, 1)]
    while fringe:
        # Print fringe at each step
        pprint(fringe)
        print('')
        # Get first path from fringe and extend it by possible moves.
        path = fringe.pop(0)
        node = path[-1]
        pos = node.pos
        # Using moves list (without all those if's with +1, -1 etc.) has huge benefit:
        # moving logic is not duplicated. It will save you from many silly errors.
        # The example of such silly error in your code:
        # graph[pos[0-1]][pos[1]].visited = True
        #           ^^^
        # Also, having one piece of code instead of four copypasted pieces
        # will make algorithm much easier to change (e.g. if you want to move diagonally).
        for move in moves:
            # Check out of bounds. Note that it's the ONLY place where we check it. Simple and reliable!
            if not (0 <= pos[0] + move[0] < height and 0 <= pos[1] + move[1] < width):
                continue
            neighbor = graph[pos[0] + move[0]][pos[1] + move[1]]
            if neighbor.val == 'g':
                return path + [neighbor]
            elif neighbor.val == 'o' and not neighbor.visited:
                # In your original code there was a line:
                # if neighbor is not neighbor.visited:
                # which was completely wrong. Read about ""is"" operator.
                neighbor.visited = True
                fringe.append(path + [neighbor])  # creates copy of list
    raise Exception('Path not found!')

if __name__ == '__main__':
    # Graph in convenient form: 0 is empty, 1 is wall, 2 is goal.
    # Note that you can have multiple goals.
    graph = [
        [0, 1, 0, 1],
        [0, 0, 0, 0],
        [0, 1, 0, 1],
        [0, 0, 2, 1]
    ]
    # Transform int matrix to Node matrix.
    TRANSLATE = {0: 'o', 1: 'x', 2: 'g'}
    graph = [[Node(TRANSLATE[x], (i, j)) for j, x in enumerate(row)] for i, row in enumerate(graph)]
    # Find path
    try:
        path = bfs(graph, graph[0][0])
        print(""Path found: {!r}"".format(path))
    except Exception as ex:
        # Learn to use exceptions. In your original code, ""no path"" situation
        # is not handled at all!
        print(ex)
"
26070,67619,Using items in a list as dictionary keys,"for name in found:
    print(name, useraccounts[name]['totalscore'])
"
31307,7210,How to send and receive SMS from python using usb modem?,"#!/usr/bin/env python
""""""
sms.py - Used to send txt messages.
""""""
import serial
import time

class TextMessage:
    def __init__(self, recipient=""0123456789"", message=""TextMessage.content not set.""):
        self.recipient = recipient
        self.content = message

    def setRecipient(self, number):
        self.recipient = number

    def setContent(self, message):
        self.content = message

    def connectPhone(self):
        self.ser = serial.Serial('/dev/ttyACM0', 460800, timeout=5)
        time.sleep(1)

    def sendMessage(self):
        self.ser.write('ATZ\r')
        time.sleep(1)
        self.ser.write('AT+CMGF=1\r')
        time.sleep(1)
        self.ser.write('''AT+CMGS=""''' + self.recipient + '''""\r''')
        time.sleep(1)
        self.ser.write(self.content + ""\r"")
        time.sleep(1)
        self.ser.write(chr(26))
        time.sleep(1)

    def disconnectPhone(self):
        self.ser.close()
"
1874,49310,How to split a string (input) and each section used as a dictionary value?,"mutated = False           # First, assume no mutation is present
for index in range(0, len(org), 3):
    if n[org[index:index+3]] != n[pat[index:index+3]]:
        mutated = True    # Set mutation flag to True
        break             # Abort the loop - no point in checking any further
if mutated:
    print(""The patient's amino acid sequence is mutated."")
else:
    print(""The patient's amino acid sequence is not mutated."")
"
16784,58755,Using Reportlab Canvas- How to create an Option to print the pdf generated from the browser itself?,"from reportlab.pdfbase import pdfdoc
pdfdoc.PDFCatalog.OpenAction = '<</S/JavaScript/JS(this.print\({bUI:true,bSilent:false,bShrinkToFit:true}\);)>>'
"
23121,12347,"Python, url from request","self.response.geturl()
"
30939,15998,Short code in python,"for _ in range(input()):print""%.15f""%sum(1/(2.0*i+1)for i in range(input()))
"
9213,50910,How to make a random array in Python?,">>> import random
>>> L = range(100)
>>> amount = 10
>>> [random.choice(L) for _ in range(amount)]
[31, 91, 52, 18, 92, 17, 70, 97, 17, 56]
"
18871,72576,Python 2.7 override the entire class definition in a different module,"import a
class A: # replacement A
    ...

a.A = A
"
31258,23216,How to specify a distance function for clustering?,"import numpy as np
from scipy.cluster.hierarchy import fclusterdata

# a custom function that just computes Euclidean distance
def mydist(p1, p2):
    diff = p1 - p2
    return np.vdot(diff, diff) ** 0.5

X = np.random.randn(100, 2)

fclust1 = fclusterdata(X, 2, metric=mydist)
fclust2 = fclusterdata(X, 2, metric='euclidean')

print(np.allclose(fclust1, fclust2))
# True
"
22059,22115,Python Parse Minecraft Packet,"packfmt = '>issiibBB'
output=struct.unpack(packfmt,response)
"
7864,29973,Check how many characters in input,"if len(cliente) == 14:
    print ""ID""


elif len(cliente) == 18:
    print ""Registration""

else:
    print ""You entered an incorrect option""
"
32222,45224,Using the or and not operators,"for member in list:
    if member not in ('a', 'b', 'c'):
        print member 
"
10057,4101,Python Post to form with anti-scrape protection,"jar = cookielib.CookieJar()
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(jar))
"
10217,77964,SST Python not waiting for page to load,"_author__ = 'Brenda'

import unittest
from sst.actions import
from sst import config

run_test('valid-login')
set_wait_timeout(60.0)
assert_link(get_element(text='View My Start Page'))
click_element(get_element(text='View My Start Page'),wait=True)
wait_for(assert_title, 'new page title')
take_screenshot('my-startpage.png',add_timestamp=True)
simulate_keys('white_border','BACK_SPACE')
wait_for(assert_title, 'new page after navigation')
assert_link(get_element(text='Make a Blog Entry'))

if __name__ == '__main__':
unittest.main()
"
25773,52773,How to set TTL index for collection in MongoKit?,"db.User.collection.ensure_index(""name"", 300)
"
12961,47237,Function with boolean input not printing the expected result,"def calcIncome(ticketSold,price):
    return price*ticketSold

totalIncome = calcIncome(ticketSold,cPrice)
print totalIncome
"
4346,44495,Syntax Error When Following Pygame/Python Tutorial on youtube,"import pygame
from pygame.locals import * 
#about: pygame boilerplate

class GameMain():
    # handles intialization of game and graphics, as well as game loop
    done = False

    def __init__(self, width=800, height=600):
        """"""Initialize PyGame window.

        variables:
            width, height = screen width, height
            screen = main video surface, to draw on

            fps_max = framerate limit to the max fps
            limit_fps = boolean toggles capping FPS, to share cpu, or let it run free.
            now = current time in Milliseconds. ( 1000ms = 1second)
        """"""
        pygame.init()

        # save w, h, and screen
        self.width, self.height = width, height
        self.screen = pygame.display.set_mode(( self.width, self.height ))
        pygame.display.set_caption( ""pygame tutorial code"" )        

        self.sprite_bg = pygame.image.load(""bg.jpg"").convert()
        self.sprite_ball = pygame.image.load(""ball.png"").convert_alpha()


    def main_loop(self):
        """"""Game() main loop.""""""
        while not self.done:
            self.handle_events()        
            self.update()
            self.draw()

    def draw(self):
        """"""draw screen""""""
        self.screen.fill(Color('darkgrey'))

        # draw your stuff here. sprites, gui, etc....        
        self.screen.blit(self.sprite_bg, (0,0))
        self.screen.blit(self.sprite_ball, (100,100))


        pygame.display.flip()

    def update(self):
        """"""physics/move guys.""""""
        pass

    def handle_events(self):
        """"""handle events: keyboard, mouse, etc.""""""
        events = pygame.event.get()
        kmods = pygame.key.get_mods()

        for event in events:
            if event.type == pygame.QUIT:
                self.done = True
            # event: keydown
            elif event.type == KEYDOWN:
                if event.key == K_ESCAPE: self.done = True

if __name__ == ""__main__"":         
    game = GameMain()
    game.main_loop()    
"
16915,62027,In NetworkX is it possible to define a node as a subgraph?,"In [1]: import networkx as nx

In [2]: square = nx.Graph()

In [3]: square.add_cycle([1,2,3,4])

In [4]: triangle = nx.Graph()

In [5]: triangle.add_cycle([10,20,30])

In [6]: shapes = nx.Graph()

In [7]: shapes.add_edge(triangle,square)

In [8]: shapes.edges()
Out[8]: 
[(<networkx.classes.graph.Graph at 0x962040c>,
  <networkx.classes.graph.Graph at 0x962042c>)]

In [9]: shapes.nodes()[0].edges()
Out[9]: [(1, 2), (1, 4), (2, 3), (3, 4)]

In [10]: shapes.nodes()[1].edges()
Out[10]: [(10, 20), (10, 30), (20, 30)]
"
18658,55998,Binary as list of 1s and 0s to int,">>> l = [1,1,0,1]
>>> 
>>> sum(j<<i for i,j in enumerate(reversed(l)))
13
"
27890,27693,Extract values from H mn s format time in python,"import re

mult = {'h': 60*60, 'mn': 60}
res = sum(int(num) * mult.get(val, 1) for num, val in re.findall('(\d+)(\w+)', '1h 34mn 2s'))
# 5642
"
3562,62680,Verify if a topic exists based on topic name,"topics = sns.get_all_topics()   
topic_list = topics['ListTopicsResponse']['ListTopicsResult']['Topics']
topic_names = [t['TopicArn'].split(':')[5] for t in topic_list]

if 'test' in topic_names:
   print(True)
"
28551,28559,pandas.dataframe.describe with text fields,"In [21]: series = pd.Series(list(""abcdefghijklmnop""*30))
In [22]: series.value_counts()
Out[22]:
 p    30
 n    30
 o    30
 l    30
 m    30
...
"
13862,58514,Is it possible to display the commands being executed when running a .sh script in the terminal,"+ echo 'Hello, World!'
Hello, World!
"
29808,24721,How to scatter plot one x data versus several unequal y data plots in matplotlib.pyplot,"x=[1,2,3,4]
y=([1,1.1,1.4,0.9,0.8],[2.1,2.2,2.3],[3.1,3.3],[4.4,4.5,4.3,4.22,4.2,4.1,4.4411])

w = [[x[i]] * len(y[i]) for i in range(len(y))]

In [555]: w
Out[555]: [[1, 1, 1, 1, 1], [2, 2, 2], [3, 3], [4, 4, 4, 4, 4, 4, 4]]

x_to_plot = [item for sublist in w for item in sublist]
y_to_plot = [item for sublist in y for item in sublist]
plt.scatter(x_to_plot, y_to_plot)
"
23515,21845,"pandas two dataframes, some sort of merge","import pandas as pd
import numpy as np

# your data
# ========================================
df = pd.DataFrame(dict(one=[1,2,3,4,5], two=[np.nan, 15, np.nan, 22, np.nan]))
print(df)


   one  two
0    1  NaN
1    2   15
2    3  NaN
3    4   22
4    5  NaN    


# processing
# ========================================    
df['result'] = np.where(df.two.isnull(), df.one, df.two)


   one  two  result
0    1  NaN       1
1    2   15      15
2    3  NaN       3
3    4   22      22
4    5  NaN       5    
"
14446,52251,How to create an array of image objects to use in a FOR loop?,"images = [Image.open(os.path.join(path, 'my_image_%d.png' % x)) for x in range(1, 6)]
"
37094,5038,add label to subplot in matplotlib,"import pylab as plt

fig = plt.figure()
ax1 = fig.add_subplot(121)
ax2 = fig.add_subplot(122)

def get_axis_limits(ax, scale=.9):
    return ax.get_xlim()[1]*scale, ax.get_ylim()[1]*scale

ax1.annotate('A', xy=get_axis_limits(ax1))
ax2.annotate('B', xy=get_axis_limits(ax2))
plt.show()
"
28255,31194,Python/postgres: Any advantage to converting mxDateTime to built in datetime objects?,">>>> date.fromtimestamp(0)
datetime.date(1969, 12, 31)
>>> date.fromtimestamp(-1)
Traceback (most recent call last):
File ""<stdin>"", line 1, in <module>
ValueError: timestamp out of range for platform localtime() function
"
156,84130,Append string to some dataframe rows with Pandas,"In [83]:

df.loc[~df['Name and rooms'].str.contains(':'),'Name and rooms'] = 'Whatever: ' + df['Name and rooms']
df
Out[83]:
      Name and rooms
0  Excalibur: 1 room
1      John: 2 rooms
2   Whatever: 1 room
3     Lucas: 5 rooms
4  Whatever: 4 rooms
5     Jeremy: 1 room
"
28199,30671,"Reducing log noise for http requests, contextmanager or custom logging level?","def init_logger(config_file=None, log_level=logging.INFO):
    # Configure the logging system
    if config_file:
        logging.config.fileConfig(config_file, disable_existing_loggers=False)
    else:
        logging.basicConfig(level=log_level)

    # Avoid output from the requests module
    logging.getLogger('requests').propagate = False


def main():
    init_logger(â¦)


if __name__ == '__main__':
    main()
"
14228,1334,"Pointers in python, v+=[] vs. v=v+[]",">>> v = [1,2,3]
>>> f=v
>>> id(v)
35713992L
>>> v+=[]
>>> id(v)
35713992L
>>> v=v+[]
>>> id(v)
35692232L
"
2266,27604,is there a pythonic way to try something up to a maximum number of times?,"conn = MySQLdb.connect(host, user, password, database)
cursor = conn.cursor()
attempts = 0

while attempts < 3:
    try:
        cursor.execute(query)
        rows = cursor.fetchall()
        for row in rows:
            # do something with the data
        break
    except MySQLdb.Error, e:
        attempts += 1
        print ""MySQL Error %d: %s"" % (e.args[0], e.args[1])
"
25015,642,Is it possible to search widget by name in Tkinter?,">>> from Tkinter import *
>>> win = Tk()
>>> button = Button( Frame( win, name = ""myframe"" ), name = ""mybutton"" )
>>> win.nametowidget(""myframe.mybutton"")
<Tkinter.Button instance at 0x2550c68>
"
16979,52887,Good examples of python-memcache (memcached) being used in Python?,"""""""
client module for memcached (memory cache daemon)

Overview
========

See U{the MemCached homepage<http://www.danga.com/memcached>} for more about memcached.

Usage summary
=============

This should give you a feel for how this module operates::

    import memcache
    mc = memcache.Client(['127.0.0.1:11211'], debug=0)

    mc.set(""some_key"", ""Some value"")
    value = mc.get(""some_key"")

    mc.set(""another_key"", 3)
    mc.delete(""another_key"")

    mc.set(""key"", ""1"")   # note that the key used for incr/decr must be a string.
    mc.incr(""key"")
    mc.decr(""key"")

The standard way to use memcache with a database is like this::

    key = derive_key(obj)
    obj = mc.get(key)
    if not obj:
        obj = backend_api.get(...)
        mc.set(key, obj)

    # we now have obj, and future passes through this code
    # will use the object from the cache.

Detailed Documentation
======================

More detailed documentation is available in the L{Client} class.
""""""
"
33293,14866,finding specific instances of substring in string in Python,"s= ""((Random filler goes here))""
print s[2:-2]
"
16644,11515,How to remove specific attributes from an ElementTree,"    dict = {}
    for parent in tree.iter():
        for child in parent:
               if 'key' in child.attrib:
                       if child.attrib['key'] == 'phc.filename':
                               dict[child] = parent
                       elif child.attrib['key'] == 'phc.line_number':
                               dict[child] = parent

    for child in dict:
        parent = dict[child]
        parent.remove(child)
"
10442,5262,How to use Python and matplotlib to customize a bar chart,"import matplotlib.pyplot as plt
from collections import OrderedDict

def chartmak (dic) :
    plt.barh(range(len(dic)), dic.values(), 0.95, align='center', color=""lightskyblue"")
    plt.yticks(range(len(dic)), [""{} GB"".format(v) for v in dic.values()])
    for index, label in enumerate(dic.keys()):
        plt.text(10, index, label, ha='left',va='center')
    plt.gca().invert_yaxis()
    plt.show()

Dic = OrderedDict([('PROFESSIONAL_SERVICES', 621), ('WEB_SEARCH', 381), ('REMOTE_ACCESS', 160), ('Microsoft Category', 141), ('INTERNET_SERVICES', 62)])
chartmak(Dic)
"
1945,6445,"How would I get numbers from the beginning of a line of text, split them and print them out"," for ln, line in enumerate(book):
      match = match = re.match(r'(\d+)\.(\d+)', line)
      if match:
           chapter, verse = match.group(1), match.group(2)

      if word_search in line:
           ...
           print 'Book %s %s:%s ...%s...' % (book, chapter, verse, line)
"
14547,35918,Replace values in iterable with values of another iterable to the same value,"from string import ascii_uppercase, ascii_lowercase, digits, maketrans
s = ""Testing123""

intab = ascii_uppercase + ascii_lowercase + digits
outtab = ('L' * 26) + ('l' * 26) + ('n' * 10)
trantab = maketrans(intab, outtab)

print s.translate(trantab)
"
26882,18366,How can I sort a complicated dictionary key,">>> (lambda x: tuple(y(z) for (y, z) 
                     in zip((int, str, str, int), 
                            x.split('_')[1::2])))('Q_122_SUB_A_COLUMN_C_NUMB_1')
(122, 'A', 'C', 1)
"
39428,4137,How to define a recursive function to merge two sorted lists and return a new list with a increasing order in Python?,"def combine(a, b):
    alist = []
    if a == [] and b == []:
       return alist
    if a != [] and b == []:
       return alist + a
    if a == [] and b != []:
       return alist + b
    if a != [] and b != []:
       if a[0] <= b[0]:
          alist.append(a[0])
          alist = alist +  combine(a[1:], b)
       if a[0] > b[0]:
          alist.append(b[0])
          alist = alist +  combine(a, b[1:])
    return alist
"
20084,33774,Python: How do I remove the formatting when joining items from a list into a string?,"new_name = ""{0}{1} {2}"".format(seg1[0], seg2[0], seg3[0])
"
15698,27299,"combination a of 6a +9b+20c =n when n is range (0, 100)","def inputNo( a, b, c ):
    result = {""isComb"":[], ""notComb"":[]}
    for i in range(1,100):
        if ((6*a)+(9*b)+(20*c) == i ):
            result['isComb'].append(i)
        else:
            result['notComb'].append(i)

    return result
"
22147,53409,How to extract various parts of a string into separate strings,"string = 'File ""/home/path/to/dir/filename.py"", line 888, in function_name'

search = re.search('File (.*), line (.*), in (.*)', string, re.IGNORECASE)
print search.group(1)
print search.group(2)
print search.group(3)
"
14983,54539,process multiple key down in python?,"def keyDown(self,e):
    if e.keystring == ""f2"":                
        selectedNumber = """"
    elif e.keystring == ""enter"":
        print int(selectedNumber) # If you are only printing you don't need int()
        selectedNumber = """"
    else:
        selectedNumber += e.keystring
"
7378,47280,Can't import a variable in Python/Django,"import os, sys, inspect
 # realpath() will make your script run, even if you symlink it :)
 cmd_folder = os.path.realpath(os.path.abspath(os.path.split(inspect.getfile( inspect.currentframe() ))[0]))
 if cmd_folder not in sys.path:
     sys.path.insert(0, cmd_folder)

 # use this if you want to include modules from a subfolder
 cmd_subfolder = os.path.realpath(os.path.abspath(os.path.join(os.path.split(inspect.getfile( inspect.currentframe() ))[0],""subfolder"")))
 if cmd_subfolder not in sys.path:
     sys.path.insert(0, cmd_subfolder)

 # Info:
 # cmd_folder = os.path.dirname(os.path.abspath(__file__)) # DO NOT USE __file__ !!!
 # __file__ fails if script is called in different ways on Windows
 # __file__ fails if someone does os.chdir() before
 # sys.argv[0] also fails because it doesn't not always contains the path
"
29385,11301,Unable to switch between options,"class App(Frame):

    def __init__(self, root):
        Frame.__init__(self, root)
        self.option_add('*Font', 'Verdana 10 bold')
        self.grid()
        self.create_widgets()
        self.show()

    def create_widgets(self):
        self.whichOne = IntVar()
        self.output = StringVar()
        self.whichOne.set(0)
        Radiobutton(self, text = 'Ethernet', padx = 10, pady = 10, variable = self.whichOne, value =0, command=self.show).grid(row=0, column=0, sticky=W)
        Radiobutton(self, text = 'Wi-Fi', padx = 10, pady = 10, variable = self.whichOne, value =1, command=self.show).grid(row=1, column=0, sticky=W)
        Button(self, text='QUIT', fg='red', command=self.quit).grid(row=0, column=1, sticky=W, rowspan=2, columnspan=2)

    def show(self):
        self.hexInt = interfaces()
        if True:
            self.nic = self.nicInfo(self.whichOne.get())
            selection = 'The MAC address of your device is %s\n' % (self.nic[0]) + '\nThe IP address of your device is %s\n' % (self.nic[1])
            Label(text=selection).grid(row=2, column=0, columnspan=2)

    def nicInfo(self, index):
        self.mac = 'unknown'
        for mainKey in ifaddresses(self.hexInt[index]): # a DICT which contains a LIST, in which is a DICT
            for subKey in ifaddresses(self.hexInt[index])[mainKey][0]: #this zero has to be here
                if match(r'([0-9a-f]{2}[:-]){5}([0-9a-f]{2})', ifaddresses(self.hexInt[index])[mainKey][0][subKey]):
                    self.mac = ifaddresses(self.hexInt[index])[mainKey][0][subKey].upper()
                elif match(r'((2[0-5]|1[0-9]|[0-9])?[0-9]\.){3}((2[0-5]|1[0-9]|[0-9])?[0-9])',
                           ifaddresses(self.hexInt[0])[mainKey][0][subKey]) and\
                           subKey == 'addr':
                    self.ip = ifaddresses(self.hexInt[index])[mainKey][0][subKey]
        return self.mac, self.ip

if __name__ == '__main__':
    root = Tk()
    root.title('MAC')
    app = App(root)
    app.mainloop()
"
2302,6784,copying files in python with check for duplicates,"import os, shutil

srcDir = 'Users/photos/2008/thumbnails/' #files in two more dir deep 
toDir = 'Users/external_drive/2008/'

try:
    os.makedirs(toDir)
except:
    pass

for root, dirs, files in os.walk(srcDir, topdown=True):
    for file in files:
        src = os.path.join(root, file)
        target = os.path.join(toDir, file)

        if file.lower().endswith('.jpg'):
            index = 1

            while os.path.exists(target):
                index +=1
                target = os.path.join(toDir, os.path.splitext(file)[0]+ ""_%d.jpg"" % index)

            print ""Copying: '%s'  to  '%s'"" % (src, target)
            shutil.copy(src, target)
"
9431,36975,python parse and print text before .(dot),"with open(""qwer.txt"", 'r') as my_file:
    for line in my_file:
        print line.split('=')[0].split('.')[1]
"
9087,11063,How do you create a translator in Python?,"words = {""woof"":A,""arf bark"":B}
input = ""woof,arf bark""
inputList = input.split(',')
for word in inputList:
    print words[word]
"
9996,35538,How can I adjust the spacing between labels in a factorplot in Seaborn,"df = pd.DataFrame(dict(x=np.repeat(np.arange(21), 10), y=np.random.randn(210)))
df.loc[df.x == 20, ""x""] = "">= 20""

g = sns.factorplot(x=""x"", y=""y"", data=df, kind=""box"")
g.axes[0, 0].set_xticks(range(20) + [20.5])
"
1624,54449,Manually call draw for matplotlib,"import matplotlib.pyplot as plt
from matplotlib.widgets import Button

def toggle(_):
    button.status ^= True

    color = [0, 1, 0] if button.status else [1, 0, 0]
    button.color = color
    button.hovercolor = color

    button.canvas.motion_notify_event(0,0)

button = Button(plt.axes([.1, .1, .8, .8]), 'Press me')
button.status = True
button.on_clicked(toggle)

plt.show() 
"
1101,51088,Generate continuous character strings in a range,">>> from itertools import product
>>> from string import ascii_lowercase
>>> [''.join(p) for p in product(ascii_lowercase, repeat=3)]
['aaa', 'aab', 'aac', 'aad', 'aae', ..., 'zzv', 'zzw', 'zzx', 'zzy', 'zzz']
"
38491,20042,"Using classmethods to implement alternative constructors, how can I add functions to those alternative constructors?","class A(object):
    def __init__(self, a, b):
        self.a = a
        self.b = b

    def __repr__(self):
        return 'A({}, {})'.format(self.a, self.b)

    class Empty(object):  # nested class
        def __new__(cls, b):
            return A(0, b)  # ignore cls & return instance of enclosing class

        @staticmethod
        def TypeI(b):
            return A(0, b-1)

        @staticmethod
        def TypeII(b):
            return A(0, b-2)

a = A(1, 1)
print('a: {}'.format(a))      # --> a: A(1, 1)
b = A.Empty(2)
print('b: {}'.format(b))      # --> b: A(0, 2)
bi = A.Empty.TypeI(4)
print('bi: {}'.format(bi))    # --> bi: A(0, 3)
bii = A.Empty.TypeII(6)
print('bii: {}'.format(bii))  # --> bii: A(0, 4)
"
22794,9550,How to run Django 1.6 LiveServerTestCase without HTTPS?,"class LiveServerTestCase(TransactionTestCase):
    static_handler = _StaticFilesHandler

    @property
    def live_server_url(self):
        return 'http://%s:%s' % (
            self.server_thread.host, self.server_thread.port)
"
14906,24931,"PyMongo - Search for a Range of Dates, skip Unavailable","db.apts.aggregate([
   // Produce one document for every unavailability record.
   {$unwind:""$unavailability""},
   // Reshape the results to spin the date around into sortable order.
   {$project:{ name:1,
               from : { $concat: [
                         {$substr:[""$unavailability.@date_from"",6,4]},
                         {$substr:[""$unavailability.@date_from"",3,2]},
                         {$substr:[""$unavailability.@date_from"",0,2]}
                               ]
                     },
               to : { $concat: [
                         {$substr:[""$unavailability.@date_to"",6,4]},
                         {$substr:[""$unavailability.@date_to"",3,2]},
                         {$substr:[""$unavailability.@date_to"",0,2]}
                               ]
                     }
               // Here, you could pass through additional fields from the original document.
             }
   },
   // For each name, produce a count for every time the target date falls within the range.
   {
      $group: {
         _id: ""$name"",
         count: { $sum: { $cond: [ { $and: [
                                              {$gte:[""20121207"",""$from""]},
                                              {$lte:[""20121207"",""$to""  ]}
                                           ]

                                    } , 1, 0
                                 ]
                         }
                }
         // Here, you could pass through additional fields from the original document.
      }
   },
   // Select only those documents for which the target date fell withiin none of the ranges
   {$match:{count: 0}}
])
"
9733,37079,Is it possible to make Django send data over tls protocol?,"[Django Application] <-> [uWSGI] <-> [nginx] <-> [web browser]
"
8743,57770,get aws_secret_access_key to store in ~/.boto,"conection = boto.iam.connect_to_region(""us-east-1"")
response = connection.create_access_key(username)
secret_access_key = response['create_access_key_response']['create_access_key_result']['access_key']['secret_access_key']
"
25011,73830,Python :sort list of dictionaries based on key,"l = [{'abc':1},{'abcd':2},{'ab':1}]
l.sort(key=lambda x: len(next(iter(x))), reverse=True)
print(l)
"
27097,21101,Setting Radiobutton to swich between lists,"import numpy as np
import matplotlib.pyplot as plt
from matplotlib.widgets import Slider, Button, RadioButtons

john_level1 = 10
john_level2 = 2
john_level3 = 18

daniel_level1 = 11
daniel_level2 = 0
daniel_level3 = 6

# plt.subplots_adjust(left=0.35, bottom=0.25)

people = (""John"", ""Daniel"")
y_pos = np.arange(len(people))

level1 = john_level1, daniel_level1
level2 = john_level2, daniel_level2
level3 = john_level3, daniel_level3

fig = plt.figure()
ax = fig.add_subplot(111)


ax.axis([0, 12, -1, 2])

axcolor = 'lightgoldenrodyellow'


ax.barh(y_pos, level1, align='center', alpha=0.5)
ax.set_yticks(y_pos, people)
ax.set_title('Individual Points', fontsize=14, fontweight='bold')

#################
# RADIO BUTTONS # Originally a color-changer from Matplotlib
#################
rax = fig.add_axes([0.015, 0.75, 0.25, 0.25], axisbg=axcolor)
radio = RadioButtons(rax, ('Score at Level 1', 'Score at Level 2', 'Score at Level 3'), active=0)
def raidfunc(label):

    if (label == 'Score at Level 1'):
        ax.clear()
        ax.axis([0, 12, -1, 2])
        ax.barh(y_pos, level1, align='center', alpha=0.5)
        fig.canvas.draw()

    if (label == 'Score at Level 2'):
        ax.clear()
        ax.axis([0, 12, -1, 2])
        ax.barh(y_pos, level2, align='center', alpha=0.5)
        fig.canvas.draw()

    if (label == 'Score at Level 3'):
        ax.clear()
        ax.axis([0, 12, -1, 2])
        ax.barh(y_pos, level3, align='center', alpha=0.5)
        fig.canvas.draw()

radio.on_clicked(raidfunc)

plt.show()
"
6668,6266,"Replace numbers ""4,16221E+13""","float('4,16221E+13'.replace(',', '.'))
>>> 41622100000000.0
"
6729,43350,matplotlib colorbar alternating top bottom labels,"import numpy
import matplotlib.pyplot as plt

#------------------Get some data------------------
X = numpy.arange(100)
Y = numpy.arange(100)
Z = numpy.arange(100**2).reshape((100,100))

levels=numpy.arange(0,100**2,1000)
ltop=levels[::2]           # labels appear on top
lbot=levels[1:][::2]       # labels appear at bottom

#-----------------------Plot-----------------------
f = plt.figure()
ax = f.gca()

cf = ax.contourf(X,Y,Z,100)
cbar=plt.colorbar(cf,orientation='horizontal',ticks=lbot,drawedges=True)

vmin=cbar.norm.vmin
vmax=cbar.norm.vmax

#-------------Print bottom tick labels-------------
cbar.ax.set_xticklabels(lbot)

#--------------Print top tick labels--------------
for ii in ltop:
    cbar.ax.text((ii-vmin)/(vmax-vmin), 1.5, str(ii), transform=cbar.ax.transAxes, va='bottom', ha='center')

plt.show(block=False)
"
39095,37285,requests.post to hastebin.com not working,"import requests

payload = ""s2345""

response = requests.post('http://hastebin.com/documents', data=payload)
if response.status_code == 200:
    print(response.json()['key'])
"
19593,82886,Taking 3 or more combinations using `combinations`,"sv = map(sum, v)
"
25718,35629,return something without the single quote,">>> self=[1,2,3,4,5,6,7,8]
>>> 
>>> def evens(self):
...     evens=[]
...     for item in self:
...         if item%2==0:
...             evens.append(item)
...     return 'intlist({})'.format(evens)
... 
>>> evens(self)
'intlist([2, 4, 6, 8])'
>>> print(evens(self))
intlist([2, 4, 6, 8])
"
18480,46842,Good design pattern(s) for extensible program,"fetcher_dict = {'X':XDataFetcher,'Y':YDataFetcher}
data_source = ...
fetcher = fetcher_dict[data_source]()
"
3100,10010,Build query from list of table names with unknown length using SQLAlchemy and Postgresql,"class Serie(Base):
    __tablename__ = 'serie'
    id = Column(Integer, primary_key=True)
    record_tables = Column(String(255))

    @property
    def get_records(self):
        sess = object_session(self)
        tables = [x.strip() for x in self.record_tables.split(',')]
        raw_query = '\nUNION ALL\n'.join(
            'SELECT * FROM ' + table for table in tables)
        results = sess.execute(raw_query).fetchall()
        return results
"
20790,35854,What is the recommended way to replace multiple strings in one large string in Python?,">>> d = dict(pairs)
>>> import re
>>> pattern = re.compile('|'.join(re.escape(k) for k in d))
>>> pattern.sub(lambda k:d[k.group()], s))
frsfsdBBsdfvsdfvrtdsff
"
37557,3882,flask route variable alters uriencoded string,">>> import urllib
>>> unescaped_url = '%5BB%40463336a0'
>>> escaped_url = urllib.quote(unescaped_url)
'%255BB%2540463336a0'
>>> unescaped_url == urllib.unquote(escaped_url)
True
"
20522,82157,Several colorbars instead one,"import matplotlib.pyplot as plt
import numpy as np

# Some fake data
outname10 = 'test.png'
convolution_locale = np.random.rand(250,250)
convolution_mask_locale = np.random.rand(250,250)
convolution_grande = np.random.rand(250,250)
convolution_mask_grande = np.random.rand(250,250)

# use a nice colormap
plt.viridis()

# Create the figure and subplot instances
fig10, (ax1, ax2, ax3) = plt.subplots(1,3)

step1 = convolution_locale - convolution_mask_locale
fig_step1 = ax1.imshow(step1, interpolation='nearest')
fig10.colorbar(fig_step1,ax=ax1)
ax1.set_xlabel(""X (arcmin)"")
ax1.set_ylabel(""Y (arcmin)"")

step2 = convolution_grande - convolution_mask_grande
fig_step2 = ax2.imshow(step2, interpolation='nearest')
fig10.colorbar(fig_step2,ax=ax2)
ax2.set_xlabel(""X (arcmin)"")
ax2.set_ylabel(""Y (arcmin)"")

S_N_map = step1 - step2
fig_S_N_map = ax3.imshow(S_N_map, interpolation='nearest')
fig10.colorbar(fig_S_N_map,ax=ax3)
ax3.set_xlabel(""X (arcmin)"")
ax3.set_ylabel(""Y (arcmin)"")

# Create space for labels between subplots
fig10.set_tight_layout(True)

fig10.savefig(outname10)
"
34625,76574,How to get a wxlistbox's styles?,"styleFlag =  self.listCtrl.GetWindowStyleFlag()
if styleFlag & wx.LC_SINGLE_SEL:
    printf ""is single select""
else:
    printf ""is multiple select""
"
39843,41190,Creating and reusing objects in python processes,"def init_process():
    global my_object
    my_object = create_costly_object()

def costly_function(task):
    global my_object
    solution = solve_task_using_my_object
    return solution

def psolve_problem():
    pool = multiprocessing.Pool(initializer=init_process)
    tasks = get_list_of_tasks()
    all_solutions = pool.map_async(costly_function, tasks)
    return all_solutions.get()
"
5818,47751,Drop all duplicate rows in Python Pandas,"import pandas as pd
df = pd.DataFrame({""A"":[""foo"", ""foo"", ""foo"", ""bar""], ""B"":[0,1,1,1], ""C"":[""A"",""A"",""B"",""A""]})
df.groupby([""A"", ""C""]).filter(lambda df:df.shape[0] == 1)
"
16538,43928,Creating a custom options widget in web2py,">>> db.mytable.myfield.requires = IS_IN_SET(['apple', 'banana', 'orange'])
>>> print db.mytable.myfield.requires.options()
[('', ''), ('apple', 'apple'), ('banana', 'banana'), ('orange', 'orange')]
"
29348,53131,Pythons many ways of string formatting â are the older ones (going to be) deprecated?,"""{greeting}, {0}"".format(world, greeting='Hello')
"
26266,39328,redirect to the same url from which request is sent,"def login_user(request):
    if request.POST:
        sform = LoginForm(request.POST)
        rform = UserForm()
        if sform.is_valid():
            username = request.POST.get('username')
            password = request.POST.get('password')
            user = authenticate(username = username,password = password)
            if user is not None:
                if user.is_active:
                    login(request,user)
                    return redirect(request.path)
                else:
                    state = ""Your account is not active.""
                    #or first set the user to is active and then log in 
                    return redirect(req.session['after_login_url'],user = user)
                return render_to_response('home.html',{'state':state,'user':user},context_instance = RequestContext(request))
            else:
                state = ""Incorrect Username or Password""
                #sform = LoginForm()
                form = LoginForm()
                return render_to_response('register.html',{'state':state,'sform':sform,'rform':rform,'form':form},context_instance = RequestContext(request))
        else:
            state = ""Invalid form""
            dLoginForm = LoginForm()
            rform = PartialSignupForm()
            return render_to_response('register.html',{'sform':sform,'rform':rform,'form':form},context_instance = RequestContext(request))
    else:
        dLoginForm = LoginForm()
        rform = PartialSignupForm()
        req.session['after_login_url'] = req.META.get('HTTP_REFERER')
        return render_to_response('category.html',{'dLoginForm':dLoginForm,'rform':rform},context_instance = RequestContext(request))
"
267,56059,i need to know exactly how to use string.maketrans,"import string
trans = string.maketrans('ae', 'bx') # a->b and e->x
text = 'abcdef'
print text.translate(trans)
# bbcdxf
"
16344,21619,Is it possible to recover __import__ after overwriting it?,"import sys
import importlib

import __builtin__ as old_builtins

class ExampleImporter(object):
    old_import = __import__
    def __init__(self):
       self.count = 0
    def new_import(self, *args, **kwargs):
        self.count += 1
        print(args, kwargs)
        return self.old_import(*args, **kwargs)
importer = ExampleImporter()

old_builtins.__import__ = importer.new_import
assert __import__ == importer.new_import

# remove builtins from modules so as to force its reimport
del sys.modules[""__builtin__""]
# in python3 the following bypasses __import__ entirely, but not in python2
new_builtins = importlib.import_module(""__builtin__"") 
# restore initial state of __builtin__ module (will not delete new names 
# added to __builtin__)
old_builtins.__dict__.update(new_builtins.__dict__)
# Replace new __builtin__ with old __builtin__ module. Otherwise you'll end up with a 
# mess where different modules have different a __builtin__ module.
sys.modules[""__builtin__""] = old_builtins
del new_builtins

assert __import__ == importer.old_import
assert importer.count == 1 # would be 0 in python3
"
11432,14729,How to perform right click using Selenium ChromeDriver?,"from selenium import webdriver
from selenium.webdriver import ActionChains

driver = webdriver.Chrome()
actionChains = ActionChains(driver)

actionChains.context_click(your_link).perform()
"
2958,73899,"Creating a restaurant/pizza menu in python, with a good layout","from collections import namedtuple

MenuEntry = namedtuple('MenuEntry', ['index','description','price'])
_menu = []
_menu.append(MenuEntry(1, 'Hawaiian', '$7.50'))
_menu.append(MenuEntry(2, 'Champagne Ham & Cheese', '$7.50'))
_menu.append(MenuEntry(3, 'Beef & Onion', '$7.50'))
_menu.append(MenuEntry(40, 'Pepperoni', '$10.50'))
_menu.append(MenuEntry(100, 'Simply Cheese', '$17.50'))

for entry in _menu:
    index = str(getattr(entry,'index')).ljust(5)
    descr = getattr(entry,'description').ljust(25)
    price = getattr(entry,'price').ljust(7)
    print '{0}{1}{2}'.format(index,descr,price)

"""""" Output: """"""

1    Hawaiian                 $7.50  
2    Champagne Ham & Cheese   $7.50  
3    Beef & Onion             $7.50  
40   Pepperoni                $10.50 
100  Simply Cheese            $17.50 

""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"
4737,62753,Making the while loop del guess from card[list],"answer = input('Pick a card:\n')
guess = random.choice(card)
guesses = 1
while guess != answer:
    if guess != card:            
        guess = random.choice(card)
        card.remove(guess)
    guesses += 1
print('\nWhoopy, I guessed right!\n')
print('It only took me %s guesses to guess %s.' % (guesses, answer))
"
2129,72131,How do I override a method object's __call__ method in Python?,"if (PyFunction_Check(func))
    x = fast_function(func, pp_stack, n, na, nk);
else
    x = do_call(func, pp_stack, na, nk);
"
1342,61846,Telnet automation / scripting,"import getpass
import sys
import telnetlib

HOST = ""localhost""
user = raw_input(""Enter your remote account: "")
password = getpass.getpass()

tn = telnetlib.Telnet(HOST)

tn.read_until(""login: "")
tn.write(user + ""\n"")
if password:
    tn.read_until(""Password: "")
    tn.write(password + ""\n"")

tn.write(""ls\n"")
tn.write(""exit\n"")

print tn.read_all()
"
5657,30767,Splitting multiple lined text file into a single list?,"words = [open('text.txt').read().split()]
"
26742,55888,Trying to use hex() without 0x,">>> format(3735928559, 'x')
'deadbeef'
"
29994,66246,Python: Activate window in OS X,"from Carbon import AppleEvents 
from Carbon import AE
target = AE.AECreateDesc(AppleEvents.typeApplicationBundleID, ""org.mozilla.FireFox"")
activateEvent  = AE.AECreateAppleEvent( 'misc', 'actv', target, AppleEvents.kAutoGenerateReturnID, AppleEvents.kAnyTransactionID)
activateEvent.AESend(AppleEvents.kAEWaitReply, AppleEvents.kAENormalPriority, AppleEvents.kAEDefaultTimeout)
"
25188,27120,Is HtmlParser.entityref actually a valid regex for matching html entity references?,"[61] reference end =
  ( refc | ;
    RE ) ? (13) CR
"
7789,45670,Proper way to iterate over a dict value that may or may not be present in Python,"for item in a_dict.get(""some_key"",[]):
    #do whatever
"
20371,27809,python programm to log into the web page,"       urllib.request
       import urllib.parse
       from http import cookiejar
       from bs4 import BeautifulSoup

      url = ""http://securityoverride.com/login.php""
      name = ""username""
      passw = ""password""

      def Login():
       cj = cookiejar.CookieJar()
       user_agent = 'Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)'
       headers = { 'User-Agent' : user_agent }
       redirect =urllib.request.HTTPRedirectHandler()
       opener = urllib.request.build_opener(urllib.request.HTTPCookieProcessor(cj))
       values = {'user_name': login, 'user_pass': password, 'login': 'Login'}
       data = urllib.parse.urlencode(values)
       binary_data = data.encode('utf-8')
       login = urllib.request.Request(url,binary_data,headers)
       login_response = opener.open(login)
       url2  = urlOpener.open('http://securityoverride.org/challenges/programmin/1/index.php')
       soup = BeautifulSoup(url2.read(), 'lxml')
       print soup.find_all('center')

Login()
"
25368,51981,Matching 3 out 5 fields - Django,"from django.db.models import Q
from itertools import combinations
# this -- the unicorn to be matched with
attr = ['horn_length', 'skin_color', 'average_speed', 'magical', 'affinity']
q = None
for c in combinations(attrs, 3):
    q_ = Q(**{c[0]: getattr(this, c[0])}) & Q(**{c[1]: getattr(this, c[1])}) & Q(**{c[2]: getattr(this, c[2])})
    if q is None:
        q = q_
    else:
        q = q | q_
Unicorn.objects.get(q)           
"
39586,39772,python zlib output to c++ string,"import string
....
safe_string = """"
for ch in compressed_string:
   if ch in string.printable and ch != '\\':
      safe_string += ch
   else:
      safe_string += ""\%o"" % ord(ch)
content = "".....\""%s\"" ...."" % safe_string
"
35009,64059,Is there a shortcut for self.assertNotEqual() in nose?,">>> from nose.tools import assert_not_equal
>>> assert_not_equal(1, 1)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py"", line 518, in assertNotEqual
    raise self.failureException(msg)
AssertionError: 1 == 1
"
27649,31231,How do i change a list element's value in a for loop in python?,"amount = 5
costFieldList = [amount]

for index, field in enumerate(costFieldList):
    if isinstance(field,int):  # use issinstance to check if field is an integer
        costFieldList[index] = field * 2
        print(costFieldList)
        amount=costFieldList[index] # set amount to value of costFieldList index 
print(amount,costFieldList ) 
(10, [10])
"
20917,48222,Most efficient way to subset a dataframe according to matching values between two dataframes,"merge(df1,df2)
  area  time
1    1 12138
2    1 12198
"
11677,75626,Django: Template context processor request variable,"{% if request.facebook.uid %}
"
22420,37207,Python Stemming words in a File,"def stemming_text_1():
    with open('test.txt', 'r') as f:
        for line in f:
            print line
            singles = []

            stemmer = PorterStemmer() #problem from HERE
            for plural in line.split():
                singles.append(stemmer.stem(plural))
            print ' '.join(singles)
"
28761,55756,Implementing a custom Python authentication handler,"import urllib2

class HTTPNxBasicAuthHandler(urllib2.HTTPBasicAuthHandler):

    def http_error_auth_reqed(self, authreq, host, req, headers):
        # host may be an authority (without userinfo) or a URL with an
        # authority
        # XXX could be multiple headers
        authreq = headers.get(authreq, None)
        if authreq:
            mo = AbstractBasicAuthHandler.rx.search(authreq)
            if mo:
                scheme, realm = mo.groups()
                if scheme.lower() == 'nxbasic':
                    return self.retry_http_basic_auth(host, req, realm)

    def retry_http_basic_auth(self, host, req, realm):
        user, pw = self.passwd.find_user_password(realm, host)
        if pw is not None:
            raw = ""%s:%s"" % (user, pw)
            auth = 'NxBasic %s' % base64.b64encode(raw).strip()
            if req.headers.get(self.auth_header, None) == auth:
                return None
            req.add_header(self.auth_header, auth)
            return self.parent.open(req)
        else:
            return None
"
16935,50020,Not printing a string if I have an empty list,"...
if not adventurousch:
      print ""Need to create object""
...
"
27410,75105,"How can I define a function called ""import"" in Python?","#!/usr/bin/env python3

import click

@click.group()
def cli():
    pass

@cli.command('import')
def my_import_func():
    click.echo(""Importing"")

if __name__ == '__main__':
    cli()
"
17416,8238,python run multi command in the same time,"processes = {}
for cmd in ['cmd1', 'cmd2', 'cmd3']:
    p = subprocess.Popen('cmd1', stdout=subprocess.PIPE)
    processes[p.stdout] = p

while len(processes):
    rfds, _, _ = select.select(processes.keys(), [], [])
    for fd in rfds:
        process = processses[fd]
        print fd.read()

        if process.returncode is not None:
            print ""Process {0} returned with code {1}"".format(process.pid, process.returncode)
            del processes[fd]
"
26179,68910,Pythonic way to get boolean value of object,"is_truthy = bool
"
1308,40024,"Convert from kilometers, (km), to decimal degrees","a = sinÂ²(ÎÏ/2) + cos(Ï1).cos(Ï2).sinÂ²(ÎÎ»/2)
c = 2.atan2(âa, â(1âa))
d = R.c
"
10750,77001,"2D-Array to tiled map PyGame, Python","tileX = 0
tileY = 0
tile_dict = {0: pygame.image.load(""C:\Users\Software Development\Desktop\Tile00.png""),    1: pygame.image.load(""C:\Users\Software Development\Desktop\Tile01.png"")}

map00 = [[0,0,0,0],
    [1,1,1,1], [1,0,1,0]]

for x in map00:
for x in x:
    if x == 0:
        screen.blit(tile_dict[0], (tileX, tileY))
        tileX = tileX+16
    if x == 1:
        screen.blit(tile_dict[1], (tileX, tileY))
        tileX = tileX+16
tileX = 0
tileY += 16
"
18133,41301,Python 3: Optimised Bubble Sort,"values = 100,101,102,103,104,105

start = 0
stop = len(values)-1

while stop > start:
    for i in range(start, stop):
        print i, ""compare"", values[i], ""with"", values[i+1]
    print ""moved a large value to index"", stop
    print

    stop = stop - 1
    if stop == start:
        break

    for i in range(stop, start, -1):
        print i, ""compare"", values[i], ""with"", values[i-1]
    print ""moved a small value to index"", start
    print

    start = start + 1
"
17355,59148,Making lists with different values Python 3.4.3,"import random

list1 = set()
list2 = set()
player = 0, 0

while len(list1) != 6:
    item1 = (random.randint(0, 5), random.randint(0, 5))
    if item1 == player:
        continue

    list1.add(item1)

while len(list2) != 6:
    item2 = (random.randint(0, 5), random.randint(0, 5))
    if (item2 == player) or (item2 in list1):
        continue

    list2.add(item2)

print list1
print list2
"
18918,21292,How to serialize groups of a user with Django-Rest-Framework,"class GroupSerializer(serializers.ModelSerializer):    
    class Meta:
        model = Group
        fields = ('name')

class UserSerializer(serializers.ModelSerializer):    
    groups = GroupSerializer(many=True)
    class Meta:
        model = User
        fields = ('url', 'username', 'email', 'is_staff', 'groups')
"
15622,80905,"Python pickle: Unclear ""AttributeError: can't set attribute""",">>> class Test(object):
...   def __init__(self, x, y):
...     self.x = x
...     self.y = y
... 
>>> x = (i for i in range(10))
>>> y = iter(range(10))
>>> 
>>> t = Test(x,y)
>>> 
>>> import dill
>>> dill.detect.errors(t)
PicklingError(""Can't pickle <type 'listiterator'>: it's not found as __builtin__.listiterator"",)
>>> dill.detect.badobjects(t) 
<__main__.Test object at 0x1086970d0>
>>> dill.detect.badobjects(t, 1)
{'__hash__': <method-wrapper '__hash__' of Test object at 0x1086970d0>, '__setattr__': <method-wrapper '__setattr__' of Test object at 0x1086970d0>, '__reduce_ex__': <built-in method __reduce_ex__ of Test object at 0x1086970d0>, 'y': <listiterator object at 0x108890d50>, '__reduce__': <built-in method __reduce__ of Test object at 0x1086970d0>, '__str__': <method-wrapper '__str__' of Test object at 0x1086970d0>, '__format__': <built-in method __format__ of Test object at 0x1086970d0>, '__getattribute__': <method-wrapper '__getattribute__' of Test object at 0x1086970d0>, '__delattr__': <method-wrapper '__delattr__' of Test object at 0x1086970d0>, '__repr__': <method-wrapper '__repr__' of Test object at 0x1086970d0>, '__dict__': {'y': <listiterator object at 0x108890d50>, 'x': <generator object <genexpr> at 0x108671f50>}, 'x': <generator object <genexpr> at 0x108671f50>, '__sizeof__': <built-in method __sizeof__ of Test object at 0x1086970d0>, '__init__': <bound method Test.__init__ of <__main__.Test object at 0x1086970d0>>}
>>> dill.detect.trace(True)
>>> dill.dumps(t)
T2: <class '__main__.Test'>
F2: <function _create_type at 0x10945c410>
T1: <type 'type'>
F2: <function _load_type at 0x10945c398>
T1: <type 'object'>
D2: <dict object at 0x10948b7f8>
F1: <function __init__ at 0x108894938>
F2: <function _create_function at 0x10945c488>
Co: <code object __init__ at 0x108873830, file ""<stdin>"", line 2>
F2: <function _unmarshal at 0x10945c320>
D1: <dict object at 0x1085b9168>
D2: <dict object at 0x10947e910>
D2: <dict object at 0x108898910>
T4: <type 'listiterator'>
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
#...snip...
pickle.PicklingError: Can't pickle <type 'listiterator'>: it's not found as __builtin__.listiterator
>>>
"
14390,68975,Python: process printing to the console multiple time after it is killed,"import os
import time
import signal
import sys


class ChildProcess:
  def __init__(self, m):
    self.pid = None
    self.ttl = 10
    self.master = m
    self.pipe_in = None
    self.pipe_out = None

  def hey(self):
    self.ttl -= 1
    self.pipe_out.write('Hello worker %d\n' % self.pid)
    self.pipe_out.flush()

  def tell_me(self):
    msg = self.pipe_in.readline()
    print '[M] Worker process %d says: %s' % (self.pid, msg),

  def live(self):
    r1, w1 = os.pipe()
    r2, w2 = os.pipe()
    pid = os.fork()
    self.pid = pid
    if pid:
      print('[M] Created worker process %d' % pid)
      os.close(w1)
      os.close(r2)
      self.pipe_in = os.fdopen(r1, 'rt')
      self.pipe_out = os.fdopen(w2, 'wt')
      self.master.add(self)
    else:
      print('[W] Worker process ready to rock')
      os.close(r1)
      os.close(w2)
      wr = os.fdopen(w1, 'wt')
      reader = os.fdopen(r2)
      try:
        while True:
          wr.write('Hello Master\n')
          wr.flush()
          msg = reader.readline()
          print('[W] Master says %s' % msg),
      except KeyboardInterrupt:
        sys.exit()

  def die(self):
    print('[W] aghhh ... %d' % self.pid)
    os.kill(self.pid, signal.SIGTERM)


class Master:
  def __init__(self):
    self.workers = []

  def add(self, worker):
    self.workers.append(worker)

  def rulez(self, nbr=2):
    for i in range(nbr):
      worker = ChildProcess(self)
      worker.live()
    while True:
      for w in self.workers:
        w.tell_me()
        time.sleep(1)
        w.hey()

  def reap(self):
    print len(self.workers)
    for w in self.workers:
      w.die()


if __name__ == '__main__':
  master = Master()

  try:
    master.rulez(4)
  except KeyboardInterrupt:
    master.reap()
"
26367,54095,Pull Tag Value using BeautifulSoup,"import BeautifulSoup
soup = BeautifulSoup.BeautifulSoup('<html><body><span title=""Funstuff"" class=""thisClass"">Fun Text</span></body></html>')
print soup.html.body.span['title']
print soup.find('span', {""class"": ""thisClass""})['title']
"
19272,338,I want a Django user to upload an arbitrary number of files,"class UserUpload(models.Model):
    file = models.FileField(...)
    description = models.CharField(...)
    user = models.ForeignKey(User)
"
35256,28330,Django foreign key object image in template,"# In models.py

class Venue(models.Model):
    ....
    name = models.CharField(max_length=100)
    ....
    images = models.ForeignKey(VenueImage)

class VenueImage(models.Model):
    image = models.ImageField(upload_to=VENUE_IMAGE_PATH)

# In views.py

def list(request):
    venues = Venue.objects.all()
    return render(request,
                  'venues/list.html',
                  {'venues': venues'})

# In template

{% for venue in venues %}
<a href '#'>{{ venue.name }}</a>
...
{% for image in venue.images %}
<img class='venue_image' src=''{{ image.url }}' alt=''>
{% endfor %}
{% endfor %}
"
27723,535,Upload resized image to S3,"import boto
import cStringIO
import urllib
import Image

#Retrieve our source image from a URL
fp = urllib.urlopen('http://example.com/test.png')

#Load the URL data into an image
img = cStringIO.StringIO(fp.read())
im = Image.open(img)

#Resize the image
im2 = im.resize((500, 100), Image.NEAREST)  

#NOTE, we're saving the image into a cStringIO object to avoid writing to disk
out_im2 = cStringIO.StringIO()
#You MUST specify the file type because there is no file name to discern it from
im2.save(out_im2, 'PNG')

#Now we connect to our s3 bucket and upload from memory
#credentials stored in environment AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
conn = boto.connect_s3()

#Connect to bucket and create key
b = conn.get_bucket('example')
k = b.new_key('example.png')

#Note we're setting contents from the in-memory string provided by cStringIO
k.set_contents_from_string(out_im2.getvalue())
"
5691,20018,Python: Best Way to remove duplicate character from string,">>> foo = ""SSYYNNOOPPSSIISS""
>>> import itertools
>>> ''.join(ch for ch, _ in itertools.groupby(foo))
'SYNOPSIS'
"
2137,76327,Parse a map of int -> list from a string,"dict((k, v.split(',')) for k,v in (x.split(':') for x in s.split('::')))
"
23322,81268,Python: if date is passed or not logic with strings,">>> import datetime
>>> cutoff = datetime.datetime.strptime('2015-2-19', '%Y-%m-%d')
>>> a = datetime.datetime.strptime('2015-3-20', '%Y-%m-%d')
>>> b = datetime.datetime.strptime('2015-1-2', '%Y-%m-%d')
>>> c = datetime.datetime.strptime('2015-2-9', '%Y-%m-%d')
>>> d = datetime.datetime.strptime('2015-2-09', '%Y-%m-%d')
>>> a>=cutoff
True
>>> b>=cutoff
False
>>> c>=cutoff
False
>>> d>=cutoff
False
"
17092,63709,changing file extension in python,"# renamee is the file getting renamed, pre is the part of file name before extension and ext is current extension
pre, ext = os.path.splitext(renamee)
os.rename(renamee, pre + new_extension)
"
26697,41116,How can I set up global for every imported file in Python automatically?,"# /myapp/enviroment/__init__.py

class ThatSingleInstanceClass: pass

# create the singleton object directly or have a function init the module
singleton = ThatSingleInstanceClass() 



# /myapp/somewhere.py

# all you need to use the object is importing it
from myapp.enviroment import singleton

class SomeClass:

    def __init__(self): # no need to pass that object
        print ""Always the same object:"", singleton
"
514,11284,Scrapy - switch from selenium/browser back to default mechanism in single spider,"def __init__(self):
    self.driver = webdriver.Firefox()

def parse(self, response):
    items = []
    self.driver.get(response.url)
    # get hidden menu urls
    yield scrapy.Request(hidden_menu_url, callback=self.parse_original_scrapy)

 def parse_original_scrapy(self, response):
    pass
"
30344,4770,"filter sqlalchemy joined query, constructed on parsed input","class IdentifierToken(object):
....
    def evaluate(self, env):
        """"""return pair (query, attribute)

        the value associated to the identifier is an altered query where the
        joinpoint is the one relative to the attribute, and the attribute
        itself.
        """"""

        query = env.session.query(env.domain)
        if len(self.value) == 1:
            # identifier is an attribute of the table being queried
            attr = getattr(env.domain, self.value[0])
        elif len(self.value) > 1:
            # identifier is an attribute of a joined table
            query = query.join(*self.value[:-1], aliased=True)
            attr = getattr(query._joinpoint['_joinpoint_entity'], self.value[-1])
        return query, attr

class IdentExpressionToken(object):
...
    def evaluate(self, env):
        q, a = self.operands[0].evaluate(env)
        clause = lambda x: self.operation(a, x)
        return q.filter(clause(self.operands[1].express()))
"
38607,79524,Recoding Pandas Index Objects from a Dictionary (for Non-Ordered Replacement),"df.rename(columns={'sales' : 'CurrentSales', 'cash' : 'US$' })
"
30327,76218,Python: Find all possible combinations of parts of a given number,"def sum_to_n(n, size, limit=None):
    """"""Produce all lists of `size` positive integers in decreasing order
    that add up to `n`.""""""
    if size == 1:
        yield [n]
        return
    if limit is None:
        limit = n
    start = (n + size - 1) // size
    stop = min(limit, n - size + 1) + 1
    for i in range(start, stop):
        for tail in sum_to_n(n - i, size - 1, i):
            yield [i] + tail

for partition in sum_to_n(6, 3):
    print (partition)

[2, 2, 2]
[3, 2, 1]
[4, 1, 1]
"
11919,76536,How to change xlabel in pandas matplotlib stacked bar,"df2.index = df2.labelcol
df2.plot(kind='bar', stacked=True)
"
23456,7422,Disable order email in Django-oscar,"# self.send_confirmation_message(order, self.communication_type_code)
"
21289,34986,twisted: how to communicate elegantly between reactor code and threaded code?,"@defer.inlineCallbacks
def procShutdownStuff(self):
    isWorking = yield deferToThread(self.stuff.isWorking)

    if isWorking:
        yield deferToThread(self.stuff.shutdown)

def cleanup(self):
    return self.procShutdownStuff()
"
32810,62228,python: dictionary comprehension with list index,">>> LL = [""this"",""is"",""a"",""sample"",""list""]
>>> dict(enumerate(LL))
{0: 'this', 1: 'is', 2: 'a', 3: 'sample', 4: 'list'}
"
5501,41645,How do I request and process JSON with python?,"import json
import urllib2

data = json.load(urllib2.urlopen('http://someurl/path/to/json'))
"
29901,6230,"Trying to call a shell command with Python, gets nothing","p = subprocess.Popen(command, shell=True, bufsize=0, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, universal_newlines=True)
"
20467,41160,Find the largest divisor of N that is less than sqrt(N),"prime_factors = factorize(N)      # [2,2,2,3,3,17,19]
clusters = [p**e for p, e in collections.Counter(prime_factors).items()]  # [8,9,17,19]
R = max(prod(group) for group in powerset(clusters) if prod(group) < math.sqrt(N))
F = N // R
"
33353,28280,Change models with function in Django,"from myapp.models import Stream

#To create object
Stream.objects.create(
                        city = 'Chennai',
                        ...
                     )

#To get a single object with a unique value
Stream.objects.get(id = 1)

#To update retrieved object
some_variable = Stream.objects.get(id = 1)
some_variable.city = 'Chennai'
some_variable.save()

#To filter objects with given value
Stream.objects.filter(city = 'Chennai')

#To update filtered objects
Stream.objects.filter(city = 'Chennai').update(country = 'India')
"
34416,18842,Smart type casting in python,"from dateutil.parser import parse

tests = [int, float, parse]

def smartcast(value):
     for test in tests:
         try:
             return test(value)
         except ValueError:
             continue
     # No match
     return value
"
3612,12178,"Within a Sphinx documentation, how can I revert the order of the toctree that is provided by the ""glob"" flag option?","def reverse_toctree(app, doctree, docname):
    """"""Reverse the order of entries in the root toctree if 'glob' is used.""""""
    if docname == ""index"":
        for node in doctree.traverse():
            if node.tagname == ""toctree"" and node.get(""glob""):
                node[""entries""].reverse()
                break

def setup(app):
    app.connect(""doctree-resolved"", reverse_toctree)
"
25376,35779,Best Python way to harvest user entropy from keystrokes a la PGP?,"def gen_user_random():
    from Fourganizical import pack8
    import time,sys
    print 'Hey there user, start a-bashing that keyboard to make some randomness.'
    keystimes = []
    lasttime = None
    while len(keystimes) < 20:
            key = getch()
            timenow = (time.time() + time.clock())
            if lasttime:
                    timesince = timenow-lasttime
                    keystimes.append(int(timesince*100000000000000000))
            lasttime = timenow
    print 'Check out this *nasty* random number you made!'
    rnum = int(''.join([str(x) for x in keystimes]))
    print rnum
    print 'And OMG here is that *nasty* set of bytes it made!'
    rbytes = pack8(rnum)
    print
    sys.stdout.write(''.join(rbytes))
    print
    print
    return keystimes
"
30823,60088,Return the x-th largest element from a list (Python),"int returnMlargest(int[] array, int m){

    int tempLargest, indexLargest;

    for(int x=0; x < m ; x++){ //remove m-1 of the largest elements

        tempLargest = indexLargest = 0; //reset largest counter

        for(int y=0; y< array.length; y++){

            if(array[y] > tempLargest){
                tempLargest = array[y];
                indexLargest = y;
            }
        }
        if( x == m - 1)
            return tempLargest; //result found

        //remove largest value from array, and repeat
    }
}
"
14782,58033,range(n)[x:y:z],"List element:     0  1  2  3  4
Index:            0  1  2  3  4
Backwards index: -5 -4 -3 -2 -1
"
13612,74423,How to Get a Window or Fullscreen Screenshot in Python 3k? (without PIL),"from PIL import ImageGrab
import win32gui

toplist, winlist = [], []
def enum_cb(hwnd, results):
    winlist.append((hwnd, win32gui.GetWindowText(hwnd)))
win32gui.EnumWindows(enum_cb, toplist)

firefox = [(hwnd, title) for hwnd, title in winlist if 'firefox' in title.lower()]
# just grab the hwnd for first window matching firefox
firefox = firefox[0]
hwnd = firefox[0]

win32gui.SetForegroundWindow(hwnd)
bbox = win32gui.GetWindowRect(hwnd)
img = ImageGrab.grab(bbox)
img.show()
"
1737,58418,"Python, pausing a subprocess based on the received messages","p = None #This initializes the variables globally.

def message_handler(connect_object, message_node):
    R = (message_node.getBody())
    if R== ""video"" :
        movie_path= '/home/pi/Desktop/media/video.mp4'
        p = subprocess.Popen(['omxplayer', movie_path],stdin=subprocess.PIPE)
    elif R== ""pause"":
        p.stdin.write('\x20') #Much cleaner alternative to named pipes...
    else:
        pass
"
39411,13647,Iterating over N dimensions in Python,"itertools.product(*[xrange(i, i+j) for i,j in zip(start, size)])
"
16934,70129,Add list data into Excel with Python,"Str = open(""file"").read()
lines =Str.count('\n')
Str= Str.replace('\n', '|')
words = Str.split(""|"")
for i in range(0,len(words)-1,3)
   date.append(words[i])
   hour.append(words[i+1])
   count.append(words[i+2])

for date, hour, count in zip(date,hour,count):
   incoming_images.write(row, col, date)
   incoming_images.write(row, col + 1, hour)
   incoming_images.write(row, col + 2, count)
   row +=1
"
10344,49628,Reverse Geocoding to get Location details,"$url=""http://maps.googleapis.com/maps/api/geocode/json?latlng="".$latlongArr.""&sensor=true"";

    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    $json = curl_exec($ch);
    curl_close($ch);      
    $data = json_decode($json, true);
    //echo $data['long_name'];
    //  var_dump($data);
    $city = '';
    $state = '';
    $pincode = '';
    foreach ($data[""results""] as $key => $val) {
        foreach($val as $k => $v)
        {
            if($k==""formatted_address"" && substr_count($v,',')==2)
            {
                //echo $v;
                $addressArray = explode(',',$v);

                $city = $addressArray[0];
                if(preg_match('/[0-9]/',$addressArray[1]))

                //if(substr_count(trim($addressArray[1]),' ')==1)
                {
                    //echo 'kk'.'->'.$addressArray[1].'->'.trim($addressArray[1]);
                    $tArray = explode(' ',trim($addressArray[1]));
                    $state = $tArray[0];
                    $pincode = $tArray[1];
                }

                //break;
            }   
        }


        //$placename = $val[""name""];
       // $countryname = $val['countryName'];
        //$countrycode = $val[""countryCode""];
      }
    echo $city.'<br>';
    echo $state.'<br>';
    echo $pincode.'<br>';
"
12828,35686,How can i compare a context variable with a SQL ID in a Django template?,"user_change = int(request.COOKIES.get('voted_or_added', -1))
return render(request, 'xbox_wishlist/wishlist.html', { 'user_change': user_change, })
"
34290,7107,Managing a fixed number of workers in Python,"class Slave(Process):
    def __init__(self):
        multiprocessing.Process.__init__(self)
        self.start()
    def run(self):
        Master.register(""getNextInput"", getNextInput)
        m = Master(('localhost', 5000))
        m.connect()
        while True:
            input = m.getNextInput()
            # Check for None first
            self.process(input)
    def process(self):
        print ""Processed "" + str(input)
"
22409,38230,Moving up one directory in Python,">>> import os
>>> print os.path.abspath(os.curdir)
C:\Python27
>>> os.chdir("".."")
>>> print os.path.abspath(os.curdir)
C:\
"
10469,19578,How to reliably check if I am above a certain CentOS version (CentOS 7) in a Python script?,"In [1]: import platform

In [2]: platform.linux_distribution()
Out[2]: ('Red Hat Enterprise Linux Server', '6.5', 'Santiago')

In [3]: dist = platform.linux_distribution()

In [4]: ""Red Hat"" in dist[0] and dist[1].split('.')[0] == '6'
Out[4]: True

In [5]:
"
31267,69881,Python - Pass Arguments to Different Methods from Argparse,"import argparse

def a(arg1, arg2, **kwargs):
    print arg1
    print arg2

if __name__ == ""__main__"":
        parser = argparse.ArgumentParser()
        parser.set_defaults(method = a)
        parser.add_argument('arg1', type = str)
        parser.add_argument('arg2', type = str)

        arguments = parser.parse_args()
        arguments.method(**vars(arguments))
"
39418,31296,Updating and clearing dictionaries in Python,"class Fruit:
    Apple = 0
    Banana = 0
    Grape = 0

    def __repr__(self):
         return ""You have {self.Apple} apples, {self.Banana} bananas, and {self.Grape} grapes"".format(**locals())

    def update(self):
       while 1:
         choice = raw_input('Please pick an option:\n1) Update number of food I have\n2) Clear all\n>>')
         if (int(choice) == 1):
            self.Add()
         elif (int(choice) == 2):
            self.Clear()
         else:
             print ""Input not valid""

    def Add(self):
       self.Apple += int(raw_input('How many apples do you want to add?\n>>'))
       self.Banana += int(raw_input('How many bananas do you want to add?\n>>'))
       self.Grape += int(raw_input('How many grapes do you want to add?\n>>'))
       print self

    def Clear(self):
       self.Apple = 0
       self.Banana = 0
       self.Grape = 0
       print self

if __name__ == ""__main__"":
    fruit = Fruit()
    fruit.update()         
"
35749,33586,Create a new object using an existing id,"def is_anonymous(self):
    return self.id == 0
"
37811,48023,Python: Comparing string variable against multiple sub-strings,"import re

def matchCity(city_name):
    if re.search('kyo|par|omba', city_name):
        print ""{} is a valid city name"".format(city_name)

matchCity('tokyo') # tokyo is a valid city name
matchCity('paris') # paris is a valid city name
matchCity('bombay') # bombay is a valid city name
matchCity('chicago') # Doesn't print anything
"
31907,53047,GetAuthSubToken returns None,"client.token_store.add_token(sessionToken)
"
11676,6610,Variable number of parameters for scipy optimize with L-BFGS-B algorithm,"def func_fixed(p_var, p_fixed):
    return func(p_var+p_fixed) 
# this will only work if both of them are lists. If they are numpy arrays, use hstack, append or similar

solution = optimize.fmin_l_bfgs_b(func_fixed,x0=guess_parameters,\
                                  approx_grad=your_grad,\
                                  bounds=your_bounds,\
                                  args=(your_fixed_parameters), \ #this is the deal
                                  other_things)
"
1836,50267,Python SQLAlchemy/Elixer Question,"class POC(Entity):
  # ...
  #declare the one-to-many relationships
  csas = OneToMany('SSP')
  actions = OneToMany('SSP')
  # ...

class SSP(Entity):
  # ...
  #Tell Elixir how to disambiguate POC/SSP relationships by specifying
  #the inverse explicitly.
  csa = ManyToOne('POC', colname = 'idPOCCSA', inverse='csas')
  action = ManyToOne('POC', colname = 'idPOCAction', inverse='actions')
  # ...
"
27366,63867,Refreshing a window in Tkinter,"from Tkinter import *

def changeMsg():
    label.configure(text=""I will self destruct in 2 secs"")
    label.after(2000, root.destroy)

root = Tk()
mainContainer = Frame(root)
label = Label(mainContainer, text="""")
label.configure(text=""msg will change in 3 secs"")
label.pack(side=LEFT, ipadx=5, ipady=5)
mainContainer.pack()
label.after(3000, changeMsg)
root.title(""Timed event"")
root.mainloop()
"
3779,59168,How do I fetch information (an account name) from a save file (N:\userFile) on Python,"f = open('N:\userFile', 'r')
for line in f:
        # process line
        print line
f.close()
"
39751,32336,convert list of dicts to list,">>> fields = [{'name':'count', 'label':'Count'},{'name':'type', 'label':'Type'}]
>>> [f['name'] for f in fields]
['count', 'type']
"
3874,80330,"matrix divided by rows of another matrix, without a loop in theano","import numpy as np
import theano
import theano.tensor as tt


def numpy_v1(a, b):
    ainvb = np.zeros((3, 2, 4))
    for i in range(4):
        ainvb[:, :, i] = a / b[:, i].T
    return ainvb


def numpy_v2(a, b):
    return a[:, :, None] / b


def compile_theano_v1():
    a, b = tt.matrices('a', 'b')
    return theano.function([a, b], a[:, :, None] / b)


def main():
    dt = np.dtype(np.float32)

    a = [[12, 3],
         [2, 4],
         [2, 4], ]

    b = [[12, 3, 2, 3],
         [2, 4, 4, 5]]

    a = np.asarray(a, dtype=dt)
    b = np.asarray(b, dtype=dt)
    print(a.shape)
    print(b.shape)

    theano_v1 = compile_theano_v1()

    numpy_v1_ainvb = numpy_v1(a, b)
    numpy_v2_ainvb = numpy_v2(a, b)
    theano_v1_ainvb = theano_v1(a, b)

    assert np.allclose(numpy_v1_ainvb, numpy_v2_ainvb)
    assert np.allclose(numpy_v2_ainvb, theano_v1_ainvb)


main()
"
19030,53007,Pandas Multi-Index - Can't convert non-uniquely indexed DataFrame to Panel,"-------------------------Summary of Regression Analysis-------------------------

Formula: Y ~ <x>

Number of Observations:         2763
Number of Degrees of Freedom:   4

R-squared:         0.0268
Adj R-squared:     0.0257

Rmse:             16.4732

F-stat (1, 2759):    25.3204, p-value:     0.0000

Degrees of Freedom: model 3, resid 2759

-----------------------Summary of Estimated Coefficients------------------------
      Variable       Coef    Std Err     t-stat    p-value    CI 2.5%   CI 97.5%
--------------------------------------------------------------------------------
             x     0.1666     0.0191       8.72     0.0000     0.1292     0.2041
---------------------------------End of Summary---------------------------------
"
37800,69488,NumPy: A General Vectorized Method to Apply a Function Returning a Matrix to Each Row of a Matrix,"def test_func_wrapper(*args, **kwargs):
    return test_func(*args, **kwargs).ravel()

output = np.apply_along_axis(test_func_wrapper, m=3, n=2, axis=1, arr=input_data)
np.allclose(output.reshape(5,3, -1), output_data)
# output: True
"
23347,3013,How to create full compressed tar file using Python?,"def make_tarfile(output_filename, source_dir):
    with tarfile.open(output_filename, ""w:gz"") as tar:
        tar.add(source_dir, arcname=os.path.basename(source_dir))
"
15024,55916,Executing shell mail command using python,"import subprocess

recipient = 'xxxxx@gmail.com'
subject = 'test'
body = 'testing mail through python'

def send_message(recipient, subject, body):
    try:
      process = subprocess.Popen(['mail', '-s', subject, recipient],
                               stdin=subprocess.PIPE)
    except Exception, error:
      print error
    process.communicate(body)

send_message(recipient, subject, body)

print(""sent the email"")
"
23300,83681,Python odeint usage,"from numpy import exp
from scipy.integrate import quad

def f(x):
    return exp(x)

result, error = quad(f, 0, 2)
"
38707,27030,Inspecting and live-modifying a call argument from a decorator," class AddOne(object):
    def __init__(self, param_name):
        self.param_name = param_name

    def __call__(self, func):
        self.argspec = inspect.getargspec(func)
        @wraps(func)
        def decorated(*args, **kwargs):
            callargs = inspect.getcallargs(func, *args, **kwargs)
            if callargs.has_key(self.param_name):
        callargs[self.param_name] += 1
        elif callargs[self.argspec.keywords].has_key(self.param_name):
        callargs[self.argspec.keywords][self.param_name] += 1
            new_args = [ callargs[i] for i in self.argspec.args
             ] + list(callargs[self.argspec.varargs])
            new_kwargs = callargs[self.argspec.keywords]
            return func(*new_args, **kwargs)
        return decorated
"
39721,6247,"Looping over 1st dimension of 3D numpy array to create a smaller 3D array, via slicing"," [dim1_start:dim1_stop:dim1_step,dim2_start:dim2_stop:dim2_step,...dimn_start:dimn_stop:dimn_step]
"
37899,72508,Python SQLite SELECT LIKE IN [list],"SELECT elements FROM SQLite_table WHERE element_name REGEXP 'name_1|name_2|name_3|â¦|name_n'
"
8379,48306,How to paste a Numpy array to Excel,"import win32clipboard as clipboard

def toClipboardForExcel(array):
    """"""
    Copies an array into a string format acceptable by Excel.
    Columns separated by \t, rows separated by \n
    """"""
    # Create string from array
    line_strings = []
    for line in array:
        line_strings.append(""\t"".join(line.astype(str)).replace(""\n"",""""))
    array_string = ""\r\n"".join(line_strings)

    # Put string into clipboard (open, clear, set, close)
    clipboard.OpenClipboard()
    clipboard.EmptyClipboard()
    clipboard.SetClipboardText(array_string)
    clipboard.CloseClipboard()
"
1224,25329,Splitting a string?,"string = raw_input(""String: "")
print(list(string))
"
4395,14643,Speed up the code,"for line in lst:
    ...
    d = collections.Counter(nline)
    m = d.most_common(1)
    print( ""None"" if m is None else m[0] )
"
528,33589,Performing custom actions on `scons -c`,"import subprocess

...

# Call make to clean
if env.GetOption('clean'):
    subprocess.call(['make', 'clean'])  
"
31106,82756,Django: Order by evaluation of whether or not a date is empty,"from django.db.models import IntegerField, Case, Value, When

MyModel.objects.all().order_by(
    Case(
        When(some_field=None, then=Value(1)),
        default=Value(0),
        output_field=IntegerField(),
    ).asc(),
    'some_other_field'
)
"
35022,11380,Summing columns in a text file,"import re

input = """"""
TOPIC:topic_0 2056
 ab  2.0
 cd  5.0
 ef  3.0
 gh  10.0

 TOPIC:topic_1 1000
 aa  3.0
 bd  5.0
 gh  2.0
""""""

result = {}
for line in input.splitlines():
    line = line.strip()
    if not line:
        continue

    columns = re.split(r""\s+"", line)
    value = columns[0]
    if value[:6] == 'TOPIC:':
        result[value] = []
        points = result[value]
        continue

    points.append(float(columns[1]))

for k, v in result.items():
    print k, sum(v)
"
10488,37779,How to copy a table from excel to word using pythonCOM,"sheet.Range(""A1:D20"").Copy()
doc.Content.PasteExcelTable(False,False,False)
"
12095,44948,"Using urllib2 for posting data, following redirects and maintaining cookies","import mechanize

br = mechanize.Browser()
br.open('http://somesite.com/account/signin/')

br.select_form('loginForm')    
br['username'] = 'jekyll'
br['password'] = 'bananas'
br.submit()
# At this point, you're logged in, redirected, and the 
#  br object has the cookies and all that.

br.geturl() # e.g. http://somesite.com/loggedin/
"
18569,69432,How to do stuff during and after a child process,"def run(self):
    self.runButton.setEnabled(False) # call it first because 
                                     # processes are not started instantly
    self.process = QtCore.QProcess(self) 
    self.process.started.connect(self.onstart) # connect ""start"" signal
    self.process.finished.connect(self.onfinish)
    self.process.start(exe_path, args) # then start
"
26424,67291,Python Pretty Table output to text file,"from prettytable import PrettyTable
x = PrettyTable([""City name"", ""Area"", ""Population"", ""Annual Rainfall""])
x.align[""City name""] = ""l"" # Left align city names
x.padding_width = 1 # One space between column edges and contents (default)
x.add_row([""Adelaide"",1295, 1158259, 600.5])
x.add_row([""Brisbane"",5905, 1857594, 1146.4])
x.add_row([""Darwin"", 112, 120900, 1714.7])
x.add_row([""Hobart"", 1357, 205556, 619.5])
x.add_row([""Sydney"", 2058, 4336374, 1214.8])
x.add_row([""Melbourne"", 1566, 3806092, 646.9])
x.add_row([""Perth"", 5386, 1554769, 869.4])
with open('file', 'w') as w:
    w.write(str(x))
"
7053,4580,Time measure script in python,">>> import time
>>> start = time.time()
>>> end = time.time()
>>> end - start
5.504057168960571
"
20656,42728,post request using python to asp.net page,"import urllib
from bs4 import BeautifulSoup

headers = {
    'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
    'Origin': 'http://www.indiapost.gov.in',
    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.17 (KHTML, like Gecko)  Chrome/24.0.1312.57 Safari/537.17',
    'Content-Type': 'application/x-www-form-urlencoded',
    'Referer': 'http://www.indiapost.gov.in/pin/',
    'Accept-Encoding': 'gzip,deflate,sdch',
    'Accept-Language': 'en-US,en;q=0.8',
    'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3'
}

class MyOpener(urllib.FancyURLopener):
    version = 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.57 Safari/537.17'

myopener = MyOpener()
url = 'http://www.indiapost.gov.in/pin/'
# first HTTP request without form data
f = myopener.open(url)
soup = BeautifulSoup(f)
# parse and retrieve two vital form values
viewstate = soup.select(""#__VIEWSTATE"")[0]['value']
eventvalidation = soup.select(""#__EVENTVALIDATION"")[0]['value']

formData = (
    ('__EVENTVALIDATION', eventvalidation),
    ('__VIEWSTATE', viewstate),
    ('__VIEWSTATEENCRYPTED',''),
    ('txt_offname', ''),
    ('ddl_dist', '0'),
    ('txt_dist_on', ''),
    ('ddl_state','1'),
    ('btn_state', 'Search'),
    ('txt_stateon', ''),
    ('hdn_tabchoice', '1'),
    ('search_on', 'Search'),
)

encodedFields = urllib.urlencode(formData)
# second HTTP request with form data
f = myopener.open(url, encodedFields)

try:
    # actually we'd better use BeautifulSoup once again to
    # retrieve results(instead of writing out the whole HTML file)
    # Besides, since the result is split into multipages,
    # we need send more HTTP requests
    fout = open('tmp.html', 'w')
except:
    print('Could not open output file\n')
fout.writelines(f.readlines())
fout.close()
"
8318,64213,How to log redirects in Pyramid?,"from wsgiref.simple_server import make_server

from pyramid.config import Configurator
from pyramid.httpexceptions import HTTPFound


def hello1(request):
    raise HTTPFound(request.route_url('hello2'))


def hello2(request):
    return {'boom': 'shaka'}


def redirect_logger(handler, registry):
    def redirect_handler(request):
        response = handler(request)
        if response.status_int == 302:
            print(""OMGZ ITS NOT GOING WHERE YOU THINK"")

        return response
    return redirect_handler


def main():
    config = Configurator()

    config.add_route('hello1', '/', view=hello1)
    config.add_route('hello2', '/hi', view=hello2, renderer='json')
    config.add_tween('__main__.redirect_logger')

    app = config.make_wsgi_app()
    return app

if __name__ == '__main__':
    app = main()
    server = make_server('0.0.0.0', 8080, app)
    print(""http://0.0.0.0:8080"")
    server.serve_forever()
"
25265,36714,matplotlib: default color cycle from style,">>> from matplotlib import pyplot as plt
>>> color_cycle = plt.rcParams['axes.color_cycle']
>>> color_cycle
[u'b', u'g', u'r', u'c', u'm', u'y', u'k']
"
2203,73312,"How do I find a variable within a string, and then give that variable a value","def VowelOne():
    var = (Word.count('a')*5)
    return var

def VowelTwo():
    var = (Word.count('e')*4)
    return var

Word = input(""Please enter a word (from the english dictionary) if you please "")
var = VowelOne()
VarTwo = VowelTwo()

print (Word)
print(VowelOne()+VowelTwo())
"
4008,55672,Python: keep game running after converting in py2exe,"should_run = True
print ""Let's do some Pig Latin!""
while should_run:
    pyg = 'ay'

    original = raw_input('Enter a word:')

    word = original.lower()
    first = word[0]
    new_word = word + first + pyg


    if len(original) > 0 and original.isalpha():
        print new_word [1:]
        again = raw_input('Would you like to play again? [Y/N] \n').upper()
        while again not in ""NY"":
            again = raw_input(""Invalid input. Play again? [Y/N] "").upper()

        should_run = ""NY"".index(again) # If again is Y, should_run is 1 (True).  Otherwise, it is 0 (False)
    else:
        print 'You were supposed to enter a word!,Try again'
"
7840,42748,Getting CDF of variable-sized numpy arrays in Python using same bins?,"bins = np.linspace(0, 1, 10)
v1 = cdf_a(bins)
v2 = cdf_b(bins)
"
37703,7717,Extract items from array: between given values/conditions,"item_c=item_a[(date_a >= (datetime(2000,1,3))) * (date_a <= (datetime(2000,1,4)))]
"
37433,56881,"Mysql IN clause parameterization in PHP, Python","$placeholders = str_repeat('?, ', count($array)-1) . '?';
$stmt = $pdo->prepare(""SELECT * FROM table WHERE field IN ($placeholders)"");
$stmt->execute($array);
"
14412,54060,Use a string (representing a logical operator) in a Python expression,"import operator

o = {item1: operator.or_}

if o[item1](i>4, i<0):
    ...
"
31698,44339,Flushing numpy memmap to npy file,"import numpy as np

# a 10GB memory-mapped array
x = np.memmap('/tmp/x.mm', mode='w+', dtype=np.ubyte, shape=(int(1E10),))

# create a memory-mapped .npy file with the same dimensions and dtype
y = open_memmap('/tmp/y.npy', mode='w+', dtype=x.dtype, shape=x.shape)

# copy the array contents
y[:] = x[:]
"
14572,70585,how does Python do the type checking compared to Java?,">>> x = 1
>>> x.__class__
<type 'int'>
>>> isinstance(x, int)
True
>>> isinstance(x, str)
False

>>> x = 'hello'
>>> x.__class__
<type 'str'>
>>> isinstance(x, int)
False
>>> isinstance(x, str)
True
"
29739,42657,Notepad++ cannot find filepath,"C:\Python32\python.exe C:\Users\Sam\Desktop\Test.py for python 3+
C:\Python27\python.exe C:\Users\Sam\Desktop\Test.py for python 2
"
10865,28807,Many-to-one Flask SqlAlchemy rendering,"@main.route('/category/<name>')
def view_posts_in_category(name):
    cat = Category.query.filter_by(name=name).first_or_404()
    return render_template('category.html', name=name, posts=cat.posts)
"
2425,3702,how can I extract the lines of a big log file in python,"logfile = r'C:\logfile.txt'
y = open(r'C:\extract.txt', 'a')
with open(logfile, 'r') as read:
  for line in read:
    if ""solver.cpp:189"" in line:
        loss = line.split(',')[1]
        y.write(loss)
    if ""solver.cpp:470"" in line:
        lr = line.split(',')[1]
        y.write(lr)
"
34326,70072,Iterating through an entire table with BeautifulSoup,"from bs4 import BeautifulSoup
import requests

senatorwiki = 'https://en.wikipedia.org/wiki/List_of_current_United_States_Senators'
html = requests.get(senatorwiki)
soup = BeautifulSoup(html.text, ""lxml"")
senatortable = soup.find('table',{'class':""sortable""})
rows = senatortable.findAll('tr')

for tr in rows:
    print tr.findAll('td')
    # to get next lines data of the list of tds is up to you ;)
    # print(state.text,ns.text,name.text,party.text,privsec.text)
"
9810,67439,How to build a list using a loop python,"list1 = ['Me','You','Sam']
list2 = ['Joe','Jen']

for item in list2:
   list1.append(item)

list1 now is ['Me', 'You','Sam','Joe','Jen']
"
15384,15506,ndarray to series python,"my_list = map(lambda x: x[0], z_r)
ser = pd.Series(my_list)
In [86]:
ser
Out[86]:
0      0.009093
1      0.023903
2      0.029988
"
13188,64289,python replace remove one tab from each line,">>> import re
>>> pattern = re.compile('^\t')  # match a tab in the beginning of the line
>>> pattern.sub('', '\tline1\t')
'line1\t'
>>> pattern.sub('', '\t\tline2\t')
'\tline2\t'
>>> pattern.sub('', 'line3\t')
'line3\t'
"
18729,71404,What is the average case performance of this permutation-generating algorithm?,"import copy

# Returns a list of all permutations of the given list.
def permutate(s):
    # A list of all found permutations, to be returned
    permutations = []

    # Takes a set which has all elements below index i fixed and finds all permutations
    def recurse(s, i):
        # If all elements are fixed, store the current permutation
        if i == len(s):
            # append a deepcopy of s
            permutations.append(copy.deepcopy(s))
        else:
            # Swap the ""first"" element with each other element to generate new permutations
            for element in xrange(i, len(s)):
                s[element], s[i] = s[i], s[element]
                recurse(s, i + 1)
                s[element], s[i] = s[i], s[element]

    # Use the recursive algorithm to find all permutations, starting with no fixed elements
    recurse(s, 0)
    return permutations

print permutate([1, 2, 3])
"
14738,71852,Need to modify files top to bottom using python's os walk. Generator object?,"import os
for top in ['/tmp/bar', '/tmp/baz', '/tmp/bat']:
    for dirpath, dirs, files in os.walk(top):
        for filename in files:
            with open(os.path.join(dirpath, filename), 'a') as fp:
                fp.write(""Kilroy\n"")
"
29172,68184,python web framework -- dynamic routes to extension modules,"import sys 

@GET(""/some/path/extensions/:module/:func/:params"")
def callmodule(module, func, params):
    D = dict(params)
    # Pull module instance from systems stack
    moduleInstance = sys.modules[module]
    # Grab method from module
    functionInstance = getattr(moduleInstance,func)
    # Pass ""D"" variable to function instance
    functionInstance(D)
"
22236,53348,Importing system modules in python,"from __future__ import absolute_import
"
28033,17705,how can limit the chracters in FloatField in django forms,"area = forms.DecimalField(max_digits=20)
"
28582,38198,Python - `break` out of all loops,"def myfunc():
    for i in range(1, 1001):
        for i2 in range(i, 1001):
            for i3 in range(i2, 1001):
                if i*i + i2*i2 == i3*i3 and i + i2 + i3 == 1000:
                    print i*i2*i3
                    return # Exit the function (and stop all of the loops)
myfunc() # Call the function
"
1108,55480,insert a list to a binary tree,"import heapq

class Item(object):
    def __init__(self, letter, value):
        self.letter = letter
        self.value = value

    def __repr__(self):
        return ""Item({0}, {1})"".format(self.letter, self.value)

    def __le__(self, other):
        # This is where you control whether it's a min heap or a max heap,
        # and also what you want to sort on: value, letter or both.
        return self.value > other.value

items = [Item(*x) for x in a]
heapq.heapify(items)
"
32348,13537,What is the easiest way to detect key presses in python 3 on a linux machine?,"import tty
import sys
import termios

orig_settings = termios.tcgetattr(sys.stdin)

tty.setraw(sys.stdin)
x = 0
while x != chr(27): # ESC
    x=sys.stdin.read(1)[0]
    print(""You pressed"", x)

termios.tcsetattr(sys.stdin, termios.TCSADRAIN, orig_settings)    
"
2456,29817,Deploying program to Heroku. Errors,"
port = int(os.environ.get(""PORT"", 5000))
app.run(host='0.0.0.0', port=port)
"
3715,57786,In sklearn elastic net how does the alpha and l1_ratio relate to lambda_1 and lambda_2,"1 / (2 * n_samples) * ||y - Xw||^2_2 + alpha * l1_ratio * ||w||_1 + 0.5 * alpha * (1 - l1_ratio) * ||w||^2_2
"
10173,24654,"Parse each file in a directory with BeautifulSoup/Python, save out as new file","def clean_dir(directory):

    os.chdir(directory)

    for filename in os.listdir(directory):
        clean_file(filename)

def clean_file(filename):

    tag_black_list = ['iframe', 'script']
    tag_white_list = ['p','div']
    attr_white_list = {'*': ['title']}

    with open(filename, 'r') as fhandle:
        text = BeautifulSoup(fhandle)
        text.encode(""utf-8"")

        # Step one, with BeautifulSoup: Remove tags in tag_black_list, destroy contents.
        [s.decompose() for s in text(tag_black_list)]
        pretty = (text.prettify())

        # Step two, with Bleach: Remove tags and attributes not in whitelists, leave tag contents.
        cleaned = bleach.clean(pretty, strip=""TRUE"", attributes=attr_white_list, tags=tag_white_list)

        # this appends -cleaned to the file; 
        # relies on the file having a '.'
        dot_pos = filename.rfind('.')
        cleaned_filename = '{0}-cleaned{1}'.format(filename[:dot_pos], filename[dot_pos:])

        with open(cleaned_filename, 'w') as fout:
            fout.write(cleaned.encode(""utf-8""))

    print ""Done""
"
2215,6102,Tkinter ISBN Converter Need a way of printing results on Tkinter page,"from tkinter import *


def find_isbn(isbn, lbl):
    if len(isbn) == 10:
        mult = 11
        total = 0
        for i in range(len(isbn)):
            total += int(isbn[i]) * mult
            mult -= 1
        digit_11 = 11 - (total % 11)
        if digit_11 == 10:
            digit_11 = 'X'
        isbn += str(digit_11)
        lbl.config(text=isbn)

top = Tk()
top.geometry(""450x450+500+300"")
top.title(""Test"")

button = Button(top, text=""OK"", command=lambda: find_isbn(mEntry.get(), mlabel2), fg=""red"", bg=""blue"")
button.pack()

label = Label(top, text=""Please enter the 10 digit number"")
label.pack()

mEntry = Entry(top)
mEntry.pack()

mlabel2 = Label(top, text='')
mlabel2.pack()

top.mainloop()
"
13825,63484,Python gaussian fit on simulated gaussian noisy data,"from scipy.optimize import curve_fit,fmin
import numpy
import pylab

# Create a gaussian function

def gaussian(x, a, b, c):
    val = a * numpy.exp(-(x - b)**2 / (2*c**2))
    return val

# Generate fake data.
zMinEntry = 80.0*1E-06
zMaxEntry = 180.0*1E-06
zStepEntry = 0.2*1E-06

x = numpy.arange(zMinEntry, 
                 zMaxEntry, 
                 zStepEntry, 
                 dtype = numpy.float64)    

n = len(x)                 

meanY = zMinEntry + (zMaxEntry - zMinEntry)/2
sigmaY = 10.0E-06

a = 1.0/(sigmaY*numpy.sqrt(2*numpy.pi))
y = gaussian(x, a, meanY, sigmaY) + a*0.1*numpy.random.normal(0, 1, size=len(x))

print a, meanY, sigmaY
# estimate starting values from the data
a = y.max()
b = x[numpy.argmax(a)]
c = b

# define a least squares function to optimize
def minfunc(params):
    return sum((y-gaussian(x,params[0],params[1],params[2]))**2)

# fit
popt = fmin(minfunc,[a,b,c])

# Print results
print(""Scale =  %.3f"" % (popt[0]))
print(""Offset = %.3f"" % (popt[1]))
print(""Sigma =  %.3f"" % (popt[2]))


pylab.plot(x, y, 'ro')
pylab.plot(x, gaussian(x, popt[0], popt[1], popt[2]),lw = 2)
pylab.xlim(x.min(),x.max())
pylab.grid(True)
pylab.show()
"
33035,15584,Scons Multi-Directory copying/zipping,"target = ""dir where you want to copy contents of source""
basedir = ""source dir containing content to be copied""
env.Accumulate(target, [os.path.join(basedir ,x) for x in os.listdir(basedir)])
"
25244,60510,find_all with camelCase tag names with BeautifulSoup 4,"from bs4 import BeautifulSoup

xml2 = """"""
<helloWorld>
    :-)
</helloWorld>
""""""
soup = BeautifulSoup(xml2, ""xml"")

for x in soup.find_all(""helloWorld""):
    print x
"
30311,18339,Regular expressions in SQLalchemy queries?,"session.query(Object).filter(Object.column.op('regexp')(REGEX))
"
2445,40926,How to select nodes in html from lxml?,"from lxml import html
import requests
import csv
page = requests.get('http://chem.sis.nlm.nih.gov/chemidplus/rn/75-07-0')
tree = html.fromstring(page.text)

if (""Name of Substance"" in page.text):
    chem_name = tree.xpath('//*[text()=""Name of Substance""]/..//div')[0].text_content()
else:
    chem_name = """"

if (""MeSH Heading"" in page.text):
    mesh_name = tree.xpath('//*[text()=""MeSH Heading""]/..//div')[1].text_content()
else:
    mesh_name = """"

names1 = [chem_name, mesh_name]
with open('testchem.csv', 'wb') as myfile:
    wr = csv.writer(myfile)
    wr.writerow(names1)
"
10680,17461,Sort list of lists with respect to specific columns,"ls = [[100,50],[100,49],[100,64]]
ls.sort()
# ls is sorted w.r.t. all ""columns"": [[100, 49], [100, 50], [100, 64]]
"
2119,34586,Arranging the panels automatically in wxPython,"import wx

########################################################################
class SubPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent, number):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)
        self.SetBackgroundColour(""red"")

        label = ""Sub panel-%s"" % number
        lbl = wx.StaticText(self, label=label)

        sizer = wx.BoxSizer()
        sizer.Add(lbl, 0, wx.ALL|wx.CENTER, 5)
        self.SetSizer(sizer)

########################################################################
class ColorPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent, number, color, sub_panels):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)
        self.SetBackgroundColour(color)

        label = ""Panel-%s"" % number
        lbl = wx.StaticText(self, label=label)

        v_sizer = wx.BoxSizer(wx.VERTICAL)
        for i in range(sub_panels):
            p = SubPanel(self, i+1)
            v_sizer.Add(p, 0, wx.ALL|wx.EXPAND|wx.CENTER, 10)

        sizer = wx.BoxSizer(wx.VERTICAL)
        sizer.Add(v_sizer, 0, wx.ALL, 5)
        sizer.Add(lbl, 0, wx.ALL|wx.CENTER, 5)
        self.SetSizer(sizer)

########################################################################
class MainPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)

        hsizer = wx.BoxSizer(wx.HORIZONTAL)
        v_sizer = wx.BoxSizer(wx.VERTICAL)

        colors = [(""green"", 3),
                  (""yellow"", 2),
                  (""light blue"", 2),
                  (""purple"", 2)]
        count = 1
        for color, subpanel in colors:
            panel = ColorPanel(self, count, color, subpanel)
            hsizer.Add(panel, 1, wx.EXPAND)
            count += 1

        orange_panel = ColorPanel(self, count, ""orange"", 0)
        v_sizer.Add(hsizer, 1, wx.EXPAND)
        v_sizer.Add(orange_panel, 1, wx.EXPAND)

        self.SetSizer(v_sizer)

########################################################################
class MainFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Panels!"", size=(600,400))
        panel = MainPanel(self)
        self.Show()

#----------------------------------------------------------------------
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MainFrame()
    app.MainLoop()
"
31348,51078,Webdriver. How to retrieve the xpath of found element?,"link = inputElement.find_element_by_xpath('./preceding-sibling::span/a')
"
6356,21034,Need help understanding XPATH in a specific XML example,"nsmap = {'xmlns': 'urn:tva:metadata:2010'}

for info in root.xpath('//xmlns:ProgramInformation', namespaces=nsmap):
    print info.get('programId') # retrieve crid
    print info.find('.//xmlns:Title', namespaces=nsmap).text # retrieve title
    print info.find('.//xmlns:Genre/xmlns:Name', namespaces=nsmap).text # retrieve genre
"
9817,80355,How to template like ERB in Python?,"this is a template
<%
    x = db.get_resource('foo')
    y = [z.element for z in x if x.frobnizzle==5]
%>
% for elem in y:
    element: ${elem}
% endfor
"
34330,42525,How to prevent a function from being overridden in python,"class Thing(object):
    x = 1
something = Thing()
something.y = something.x
"
11994,11732,Python: Stop Auto Exiting Cmd Prompt,"if __name__ == '__main__':
    print(approximate_size(1000000000000, False))
    print (approximate_size(1000000000000))

input('Press Enter to exit')
"
11666,18897,How to use QueryXML with SUDS and AutotaskAPI,"#! /usr/bin/env python

import sys
import os
from suds.client import Client

at_username = ""foo@bar.com""
at_password = ""foobar""

at_url = ""https://webservices4.autotask.net/atservices/1.5/atws.wsdl""

def main():
    client = Client(at_url, username=at_username, password=at_password)           # Instatiate a suds.client.Client instance and connect to webservices URL

    q = """"""
    <queryxml>
        <entity>Ticket</entity>
        <query>
            <condition>
                <field>Id
                    <expression op=""GreaterThan"">0</expression>
                </field>
            </condition>
            <condition>
                <field>Status
                    <expression op=""NotEqual"">5</expression>
                </field>
            </condition>
            <condition>
                <field>EstimatedHours
                    <expression op=""IsNull""></expression>
                </field>
            </condition>
        </query>
    </queryxml>""""""

    # Status value '5' == Complete

    response = client.service.query(q)

    if response.ReturnCode != 1:
        print ""Error code: %s"" % response.ReturnCode
        print ""Error response: %s"" % response.Errors
        sys.exit(1)
    else:
        os.system(""clear"")
        print ""Query successful...""
        print ""=============================""
        print response.EntityResults


main()
"
19599,11492,Python dataframes,"import pandas as pd
import difflib

df = pd.DataFrame({'Fruit': ['banana', 'apple', 'mango', 'melon'],
                   'Rank': [1, 2, 3, 4]})

top = df['Fruit'][df.Rank == 1][0]
df['similarity_score'] = df['Fruit'].apply(lambda x: difflib.SequenceMatcher(
                                           None, top, x).ratio())
"
31829,59400,"Pandas: Filtering only headers, first cell value, and cell value: if a cell(s) in row meets condition","In [20]: df[df > current_date]
Out[20]:
    Name   Activity1   Activity2   Activity3   Activity4
0  Timmy  2016-04-01  2016-12-30         NaN         NaN
1   John         NaN  2016-12-12  2016-05-14  2016-11-02
2   Paul  2016-05-11  2016-04-17  2016-04-19         NaN
"
17557,36376,python pandas dataframe change NaN to zeroes," In [10]: df
 Out [10]:
         one       two 
 a  2.472772  1.135219 
 b       NaN       NaN 
 c  0.863937  1.224622 
 d       NaN  0.012517 

 In [11]: df2 = df.fillna(0)

 In [12]: df2 
 Out [12]: 
         one       two 
 a  2.472772  1.135219 
 b  0.000000  0.000000 
 c  0.863937  1.224622 
 d  0.000000  0.012517 
"
24351,14609,Converting Command line argument to standard input in Python,"if __name__ == '__main__':
    if len(sys.argv) > 1:
        file_to_process = sys.argv[1]
    else:
        file_to_process = raw_input(""Enter file to process: "").strip()
"
33096,83088,Submitting a post request to an aspx page,"    browser= mechanize.Browser()
    browser.select_form(form_name)
    browser.set_value(""Page$Next"", name=""pagenumber"")     
"
4337,5845,Kivy Widget positioning in ScrollView,"with l.canvas: #l is my label
    Color(1.0, 0.0, 0.0)
    l.line = Line(points=[l.x, l.y, l.x+l.width, l.y+.height], width=1.2, cap='square')
l.bind(pos=line_reset_func, size=line_reset_func)
"
13651,78761,Python 2.7 sort list,"def somethingkey(k):
    k = k.lower()
    if k.startswith('something'):
        return (1, k)
    else:
        return (0, k)

a = ['something7375', 'something6375', 'something37573', 'something93746', 'Whatever22', 'whatever74', 'other837', 'other8394']

>>> print sorted(a, key=somethingkey)
['other837', 'other8394', 'Whatever22', 'whatever74', 'something37573', 'something6375', 'something7375', 'something93746']
"
567,20296,SQLAlchemy: limit in the same string as where," results = db.session.query(User).filter(User.name == ""Bob"").order_by(User.age.desc()).limit(10)
"
37230,23377,RGB cube of an image,"import random
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import axes3d, Axes3D

RGBlist = [(random.randint(0,255), random.randint(0,255), random.randint(0,255)) for i in range(100)]
paleta=zip(*RGBlist)
fig = plt.figure()
ax = Axes3D(fig)
ax.scatter(paleta[0],paleta[1],paleta[2], c=[(r[0] / 255., r[1] / 255., r[2] / 255.) for r in RGBlist])
ax.grid(False)
ax.set_title('grid on')
plt.savefig('blah.png')
"
3989,13451,"How do I use a for loop when reading from a dictionary that might contain a list of dicts, but might not?","lines = order['OrderLines']['OrderLine']
lines = [lines] if not isinstance(lines, list) else lines

for line in lines:
    ...
"
472,78234,How to display a system notification in Python?,"def popupError(s):
    popupRoot = Tk()
    popupRoot.after(2000, exit)
    popupButton = Button(popupRoot, text = s, font = (""Verdana"", 12), bg = ""yellow"", command = exit)
    popupButton.pack()
    popupRoot.geometry('400x50+700+500')
    popupRoot.mainloop()
"
6542,48869,Convert string to time format,"import datetime
def timeconverter(timestring):
   hour, min, sec = timestring.split(':')
   sec, usec = sec.split('.')
   time = datetime.time(*[int(x, 10) for x in (hour, min, sec, usec)])
   return time
"
36176,59025,Make a heatmap with a specified discrete color mapping with matplotlib in python,"plt.imshow(dat2, interpolation='none', aspect='auto', origin='upper',
           cmap=cmap, vmin=0, vmax=4)
"
5144,61011,How to abort App Engine pipelines gracefully?,"  def abort(self, abort_message=''):
    """"""Mark the entire pipeline up to the root as aborted.
    Note this should only be called from *outside* the context of a running
    pipeline. Synchronous and generator pipelines should raise the 'Abort'
    exception to cause this behavior during execution.

    Args:
      abort_message: Optional message explaining why the abort happened.

    Returns:
      True if the abort signal was sent successfully; False if the pipeline
      could not be aborted for any reason.
    """"""
"
4100,26197,Remove leading zero from time of day in Matplotlib DateFormatter,"# Set the default spec to use -- uglier is better than broken.
hour_fmt = '%I'

# If we're running on a platform that has an hour spec w/o leading zero
# then use that one instead.
if sys.platform.startswith('linux'):
    hour_fmt = '%l'
elif sys.platform.startswith('win'):
    hour_fmt = '%#I'
# etc

mydateformatter = DateFormatter(""%b %d "" + hour_fmt + "":%M %p"", self._tz)
"
32425,10480,Flask JQuery toggle text dynamically,"<!DOCTYPE html>
<html>
<head>
  <script src=""https://code.jquery.com/jquery-1.11.1.min.js""></script>
  <script type=""text/javascript"">
    $(document).ready(function() {
      // Get the table element by ID.
      $('#data-table')
      // Get all <a class=""toggle""> elements inside the table.
      .find('a.toggle')
      // Set a click handler for each.
      .click(function(e) {
        // The details of this will depend on 
        // where your toggle trigger element is 
        // relative to the date element that you 
        // want to toggle.
        //
        // In this example, the date is in the <span />
        // immediately preceding the <a /> toggle.
        //
        // So we can get the <a /> itself by $(e.target),
        // then the date element to toggle using $.prev().
        var date = $(e.target).prev();
        date.toggle();
      });
    });
  </script>
  <title>Toggling table cells dynamically</title>
</head>

<body>
  <table id=""data-table"">
    <tr>
      <td><h2>Header 1</h2></td>
      <td><h2>Header 2</h2></td>
    </tr>
    <tr>
      <td>Title 1</td>
      <td><span>Date 1</span> <a class=""toggle"" href=""#"">toggle</a></td>
    </tr>
    <tr>
      <td>Title 2</td>
      <td><span>Date 2</span> <a class=""toggle"" href=""#"">toggle</a></td>
    </tr>
    <tr>
      <td>Title 3</td>
      <td><span>Date 3</span> <a class=""toggle"" href=""#"">toggle</a></td>
    </tr>
    [ ...more rows... ]
  </table>
</body>

</html>
"
16739,35454,Dendrogram through scipy given a similarity matrix,"import scipy.spatial.distance as ssd
distVec = ssd.squareform(SimMatrix)
linkage = hcluster.linkage(1 - distVec)
dendro  = hcluster.dendrogram(linkage)
show()
"
15616,77510,"In Python, how do I remove the ""root"" tag in an HTML snippet?","def inner_html(el):
    return (el.text or '') + ''.join(tostring(child) for child in el)
"
20529,48216,Oauth1.0 API issue with Python,"import requests
from urllib import quote_plus as rawurlencode
import time
import string
import random
import operator
from hashlib import sha1
from hmac import new as hmac


def id_generator(size=6, chars=string.ascii_uppercase + string.digits):
    return ''.join(random.choice(chars) for _ in range(size))

# personal Info - taken from https://www.mkmapi.eu/ws/documentation/API:Auth_Overview
mkmAppToken = 'bfaD9xOU0SXBhtBP'
mkmAppSecret = 'pChvrpp6AEOEwxBIIUBOvWcRG3X9xL4Y'
mkmAccessToken = 'lBY1xptUJ7ZJSK01x4fNwzw8kAe5b10Q'
mkmAccessSecret = 'hc1wJAOX02pGGJK2uAv1ZOiwS7I9Tpoe'

# Url to access on mkm
# note that this deviates from the example in the header documentation (https://www.mkmapi.eu/ws/documentation/API:Auth_OAuthHeader) which uses
#accessUrl = 'https://www.mkmapi.eu/ws/v1.1/account'
accessUrl = 'https://www.mkmapi.eu/ws/v1.1/output.json/account'

#Method for access

MyMethod = ""GET""

baseString = MyMethod + ""&"" + rawurlencode(accessUrl) + ""&""

# create a random string
# the documentation in https://www.mkmapi.eu/ws/documentation/API:Auth_OAuthHeader uses
#nonce = 53eb1f44909d6
nonce = id_generator(8)

# what time is it?
# the documentation in https://www.mkmapi.eu/ws/documentation/API:Auth_OAuthHeader uses
#now = 1407917892

now = str(int(time.time()))

MyOauthmethod = ""HMAC-SHA1""
MyOauthver = ""1.0""

# define Parameters and values, order doesn't matter
paramDict ={""oauth_consumer_key"":mkmAppToken, ""oauth_token"" :mkmAccessToken, ""oauth_nonce"":nonce, ""oauth_timestamp"":now, ""oauth_signature_method"":MyOauthmethod, ""oauth_version"":MyOauthver}

# sorting of parameters is done here
sorted_paramDict = sorted(paramDict.items(), key=operator.itemgetter(0))

#collect the full parameters string
paramStr = ''

for kv in sorted_paramDict:
    paramStr = paramStr + kv[0] + ""="" + kv[1] + ""&""


# and get rid of the trailing ampersand
paramStr = paramStr[:-1]


#concatenate request and oauth parameters
baseString = baseString + rawurlencode(paramStr)

# concatenate both keys
signingKey = rawurlencode(mkmAppSecret) + ""&"" + rawurlencode(mkmAccessSecret)
# and create a hased signature with the key and the baseString
Signature = hmac(signingKey, baseString, sha1).digest().encode('base64')[:-1]


# construct the header from the parameters and the URL and the signature
MyHeader = 'OAuth ' + 'realm=""' + accessUrl + '"", ' 

for kv in sorted_paramDict:
    MyHeader += kv[0] + '=""' + kv[1] + '"",'

MyHeader += 'oauth_signature=""' + Signature +'""'

headers = {'Authorization': MyHeader}

# and now requests can do its magic (pun intended)

r = requests.get(accessUrl, headers=headers)

outjson = r.json()
"
8202,15772,How do I create a 'word stream' and 'document stream' in Python?,"strings = [ 'The cat sat on the mat',           # documents to process
            'The fox jumped over the dog' ]
docstream = []                                  # document indices
wordstream = []                                 # token indices
words = []                                      # tokens themselves

# Return an array of words in the given string. NOTE: this splits up by
# spaces, in real life you might want to split by multiple spaces, newlines,
# tabs, what you have. See regular expressions in the module 're' and
# 're.split(...)'
def tokenize(s):
    return s.split(' ')

# Lookup a token in the wordstream. If not present (yet), append it to the
# wordstream and return the new position. NOTE: in real life you might want
# to fold cases so that 'The' and 'the' are treated the same.
def lookup_token(token):
    for i in range(len(words)):
        if words[i] == token:
            print('Found', token, 'at index', i)
            return i
    words.append(token)
    print('Appended', token, 'at index', len(words) - 1)
    return len(words) - 1

# Main starts here
for stringindex in range(len(strings)):
    print('Analyzing string:', strings[stringindex])
    tokens = tokenize(strings[stringindex])
    for t in tokens:
        print('Analyzing token', t, 'from string', stringindex)
        docstream.append(stringindex)
        wordstream.append(lookup_token(t))

# Done.
print(wordstream)
print(docstream)
"
36536,2959,How do I search a list that is in a nested list (list of list) without loop in Python?,">>> sample=[[1,[1,0]],[1,1]]
>>> from itertools import chain
>>> print [1,0]  in chain(*sample)
True
"
10609,13795,How to read all text file contents in a folder and copy those contents as rows into one excel file,"import xlwt
import os
import fnmatch

wbk = xlwt.Workbook()
sheet = wbk.add_sheet('data')
row = 0

# sheet.write(1, 1, ""Hello"")

for (dir, dirs, files) in os.walk('.'):
     # print dir
     for file in files:
         # print "" "", file
         if fnmatch.fnmatch(file, '*.txt'):
             L = open(os.path.join(dir, file), ""r"").read()
             # print ""  "", L.__repr__()
             a = sheet.write(row,5,L[:-1])
             # sheet.write(row, 4, ""hello"")
             # print ""   "", a
             row += 1

wbk.save('read_all_txt_in_folders.xls')
"
23262,33484,Modify docx page margins with python-docx,"#Open the document
document = Document(args.inputFile)

#changing the page margins
sections = document.sections
for section in sections:
    section.top_margin = Cm(margin)
    section.bottom_margin = Cm(margin)
    section.left_margin = Cm(margin)
    section.right_margin = Cm(margin)

document.save(args.outputFile)
"
23395,24325,Select an item from a set in Python,"my_list = list(my_set)
my_list.sort()
chosen_element = my_list[0]
"
13819,2929,How to slice with date-index and multilevel columns (MultiIndex),"print df['2014-01-08' : '2014-01-10'].xs('CHF',level=2,axis=1)

bid        HELN SE Equity FHZN SE Equity
field          LAST_PRICE     LAST_PRICE
2014-01-08         422.65         511.46
2014-01-09         421.26         514.35
2014-01-10         423.35         514.83

#sort multicolumns
df = df.sort_index(axis=1)

he = tuple([s for s in df.columns.levels[0].tolist() if 'HE' in s[:2]])
print he
#('HELN SE Equity',)

print df.loc['2014-01-08' : '2014-01-10', (he, slice(None), ['CHF','EUR'])]

bid        HELN SE Equity
field          LAST_PRICE
currency              CHF
2014-01-08         422.65
2014-01-09         421.26
2014-01-10         423.35
"
5231,320,Get a preview JPEG of a PDF on Windows?,"gs -q -dQUIET -dPARANOIDSAFER -dBATCH -dNOPAUSE -dNOPROMPT \
-dMaxBitmap=500000000 -dLastPage=1 -dAlignToPixels=0 -dGridFitTT=0 \
-sDEVICE=jpeg -dTextAlphaBits=4 -dGraphicsAlphaBits=4 -r72x72 \
-sOutputFile=$OUTPUT -f$INPUT
"
32296,8247,Python: iterate through a list,"import itertools

for z, x, c, v in itertools.permutations(lst):
    if z+x-c==v:
        print z,x,c,v
"
25511,49931,Equivalent of adding a value in a new row/column to numpy that works like R's data.frame,"In [1]: import pandas

In [2]: y = pandas.Series([2,3])

In [3]: x = pandas.Series([4,5])

In [4]: z = pandas.DataFrame([x,y])

In [5]: z
Out[5]: 
   0  1
0  4  5
1  2  3

In [19]: z.loc[3,3] = 6

In [20]: z
Out[20]: 
    0   1   3
0   4   5 NaN
1   2   3 NaN
3 NaN NaN   6
"
11052,49165,Can django-tastypie display a different set of fields in the list and detail views of a single resource?,"class SomeResource(Resource):
    class Meta(...):
         ...
         field_list_to_remove = [ 'field1', 'field2' ]
         ...

    def alter_list_data_to_serialize(request, to_be_serialized):
        for obj in to_be_serialized['objects']:
            for field_name in self._meta.field_list_to_remove:
                del obj[field_name]
        return to_be_serialized
"
12626,55302,Addressing ranges in a Scipy sparse matrix,">>> m = sparse.lil_matrix((100,100))
>>> m[50:56,50:56]+=scipy.ones((6,6))
>>> m[50,50]  #1.0
"
1471,66228,Python: Reference an object attribute by variable name?,"property_name = getattr(Game, dictname)
"
38411,74526,Numpy array - change the next element based on a change on previous,">>> numpy.cumprod([1.0, 1.1, 1.05, 1.2, 1.25])
array([ 1.    ,  1.1   ,  1.155 ,  1.386 ,  1.7325])
"
34928,12632,How to pass data between django views,"def update_project_filter(request):
    ...
    selected_project_id = project_form.cleaned_data[""Project_Name""].id
    request.session['selected_project_id'] = selected_project_id
    ...

def update_project(request):
    ...
    selected_project_id = request.session.get('selected_project_id')
    ...
"
33967,21929,"sqlalchemy simple example of `sum`, `average`, `min`, `max`","from sqlalchemy.sql import func
qry = session.query(func.max(Score.score).label(""max_score""), 
                    func.sum(Score.score).label(""total_score""),
                    )
#qry = qry.group_by(Score.some_group_column)
for _res in qry.all():
    print _res
"
9751,71387,Can I memoize a Python generator?,"from itertools import tee
from types import GeneratorType

Tee = tee([], 1)[0].__class__

def memoized(f):
    cache={}
    def ret(*args):
        if args not in cache:
            cache[args]=f(*args)
        if isinstance(cache[args], (GeneratorType, Tee)):
            # the original can't be used any more,
            # so we need to change the cache as well
            cache[args], r = tee(cache[args])
            return r
        return cache[args]
    return ret
"
35879,76467,How can I control my Kivy scrollview by dragging the sliders?,"layout = GridLayout(cols=1, spacing=10, size_hint_y=None)
# Make sure the height is such that there is something to scroll.
layout.bind(minimum_height=layout.setter('height'))
for i in range(30):
    btn = Button(text=str(i), size_hint_y=None, height=40)
    layout.add_widget(btn) 
root = ScrollView(size_hint=(None, None), size=(400, 400),
                scroll_type=['bars'], bar_width='10dp') #you can use both ['bars','content']
root.add_widget(layout)
"
4385,50160,How can I make table header cells both bold and underline in python?,"run = hdr_cells[0].paragraphs[0].add_run('Date Filmed:')
run.bold = True
run.underline = True
"
35104,15074,Parsing user input in Python,"import re
s1 = '1321 .. 123123'
s2 = '-21323 , 1312321'
s3 = '- 12312.. - 9'

[int(x) for x in re.findall(r'[^,.]+', ''.join(s1.split()))]
=> [1321, 123123]

[int(x) for x in re.findall(r'[^,.]+', ''.join(s2.split()))]
=> [-21323, 1312321]

[int(x) for x in re.findall(r'[^,.]+', ''.join(s3.split()))]
=> [-12312, -9]
"
31029,10246,Best way to implement numpy.sin(x) / x where x might contain 0,"In [20]: x = 2.4

In [21]: np.sin(x)/x
Out[21]: 0.28144299189631289

In [22]: x_over_pi = x / np.pi

In [23]: np.sinc(x_over_pi)
Out[23]: 0.28144299189631289

In [24]: np.sinc(0)
Out[24]: 1.0
"
30161,74584,When are generators converted to lists in Dask?,"x = b.map(func1, b)
y = b.map(func2, b)
compute(x.frequencies(), b.frequencies())
"
36431,15022,Is there anything bad about having multiple imports on one line?,"Imports should usually be on separate lines, for e.g

Yes: import os
     import sys

No:  import sys, os 

It's okay to say this though:

from subprocess import Popen, PIPE
"
8570,16427,Getting hundredth integer from a tuple (python),"def get_hundredth(a,b,c):
    def hundreds(x):
        try:
            return (x // 100) % 10 if (isinstance(x, int) and x > 0) else None
        except TypeError:
            return None
    return tuple(map(hundreds, (a,b,c)))

print(get_hundredth(1234, 509, 80633)) # (2, 5, 6)
print(get_hundredth(-89, 81.85, 'test')) # (None, None, None)
"
35288,41410,Tkinter won't draw rectangles on Canvas,"try:
    import Tkinter
except ImportError:
    import tkinter as Tkinter
import sys
from math import floor

master = Tkinter.Tk()

xboxes = int(sys.argv[1])
yboxes = int(sys.argv[2])

winx = 800
winy = 600

w = Tkinter.Canvas(master, width=winx, height=winy)

squares = [[None]*xboxes for i in range(yboxes)] # <-- changed hard-coded 5; to use passed argument
w.pack()
for i in range(yboxes):
    for j in range(xboxes):
        initx = floor(winx / xboxes * j) # <--
        inity = floor(winy / yboxes * i) # <--
        endx = floor(winx / xboxes * (j+1)) # <-- with `j`, It draw dot instead of rectangle.
        endy = floor(winy / yboxes * (i+1)) # <--
        squares[i][j] = w.create_rectangle(initx, inity, endx, endy, fill=""red"")

master.mainloop()
"
25849,50675,ListProperty vs StringListProperty on Google App Engine,"class StringListProperty(ListProperty):
  def __init__(self, verbose_name=None, default=None, **kwds):
    super(StringListProperty, self).__init__(basestring,
                                             verbose_name=verbose_name,
                                             default=default,
                                             **kwds)
"
36102,70296,Arithmetic operations on datetime index in pandas,"# generate a sample time series
import pandas as pd
from datetime import datetime, timedelta

s = pd.Series([""A"", ""B"", ""C"", ""D"", ""E""], index=pd.date_range(""2000-01-01"", periods=5, freq=""12h""))
print(s)

# these two indices should access the same value (""C"")
integer_index = 2
# Converts the string into a datetime object
date_index = datetime.strptime(""2000-01-02 00:00"", ""%Y-%m-%d %H:%M"")
print(date_index) # 2000-01-02 00:00:00

print(s[integer_index])  # prints ""C""
print(s[date_index])  # prints ""C""


print(s[integer_index - 2])  # prints ""A""

one_day = timedelta(days=1)
print(s[date_index - one_day]) # prints ""A""
print(date_index - one_day) # 2000-01-01 00:00:00
"
37675,9994,"on django, request.GET[""paramName""] on ajax requests returns lists","request.GET.get('expr', [])[:1]
"
15518,39493,python random.sample stop sampling after all possible outcomes,">>> import itertools
>>> dataset = ['1','2','3A','4']
>>> list(itertools.combinations(dataset, 3))
[('1', '2', '3A'), ('1', '2', '4'), ('1', '3A', '4'), ('2', '3A', '4')]
"
20042,78534,python; asyncore handle_read; do I need a seperate thread?,"#! /usr/bin/env python3

import asyncore #https://docs.python.org/2/library/asyncore.html
import socket
import threading    
import queue
import time

fqueue = queue.Queue()

class Handler(threading.Thread):
    def __init__(self):
        threading.Thread.__init__(self)
        self.keep_reading = True

    def run(self):
        while self.keep_reading:
            if fqueue.empty():
                time.sleep(1)
            else: 
                #PROCESS
    def stop(self):
        self.keep_reading = False


class Listener(asyncore.dispatcher): #http://effbot.org/librarybook/asyncore.htm
    def __init__(self, host, port):
        asyncore.dispatcher.__init__(self)
        self.create_socket(socket.AF_INET, socket.SOCK_STREAM)
        self.connect((host, port))


    def handle_read(self):
        data = self.recv(40) #pretend it always waits for 40 bytes
        fqueue.put(data)

    def start(self):
        try:
            h = Handler()
            h.start()
            asyncore.loop()
        except KeyboardInterrupt:
            pass
        finally:
            h.stop() 
"
13906,71400,regex extract different parts of a string in consistent order," (?:
      .*? 
      (?:
           (?(1)(?!))
           \b 
           ( \d{4} - \d\d - \d\d )       # (1)
           \b 
        |  (?(2)(?!))
           with [ ] 
           ( \w+ )                       # (2)
      )
 ){2}
"
14255,19954,create list by -5 and + 5 from given number,">>> range(num - 5, num + 5)
[5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
"
34550,36707,Trouble resampling data in Pandas,">>> df[df.Time.notnull()].set_index('Time').astype(float).resample('5min')
                 TemperatureF  DewpointF  PressureIn  Humidity  HourlyPrecipIn  

dailyrainin  SolarRadiationWatts/m^2
Time                                                                                                                    
2016-01-01 00:00:00          31.9      22.20       30.51        67               0            0                        0
2016-01-01 00:05:00           NaN        NaN         NaN       NaN             NaN          NaN                      NaN
2016-01-01 00:10:00          32.2      22.50       30.52        67               0            0                        0
2016-01-01 00:15:00          32.5      23.10       30.51        68               0            0                        0
2016-01-01 00:20:00          32.5      22.80       30.52        67               0            0                        0
...
"
5926,4587,Simple Twisted Echo Client,"from twisted.internet.threads import deferToThread as __deferToThread
from twisted.internet import reactor

def mmprint(s):
    print(s)

class TwistedRAWInput(object):
    def start(self,callable,terminator):
        self.callable=callable
        self.terminator=terminator
        self.startReceiving()
    def startReceiving(self,s=''):
        if s!=self.terminator:
            self.callable(s)
            __deferToThread(raw_input,':').addCallback(self.startReceiving)


tri = TwistedRAWInput()
reactor.callWhenRunning(tri.start,mmprint,'q')
reactor.run()
"
34965,24958,Checking list values,">>> all(isinstance(x, Number) for x in mylist)
"
27562,83354,pyQt4 - How to select table rows and disable editing cells,"self.table.setEditTriggers(QtGui.QAbstractItemView.NoEditTriggers)
"
7972,27607,Variable inputs into a function in Pymongo,">>> words = [""dog"",""cat"",""mouse""]
>>> print(*words)
dog cat mouse
"
33764,13104,Matplotlib.pyplot: force exponential axis label notation,"# Set limits to x < 10^1 and x > 10^-1 
# (overlapping, thus all inclusive, hopefully)
gca().get_yaxis().get_major_formatter().set_powerlimits((0, 0))
"
31765,17427,Add column to a specific CSV row using Python pandas,"def getVal(x):
    try:
        return l[x][0]

    except KeyError:
        return 0

data['F'] = data['B'].map(getVal)
"
24227,83197,how to save json content from a web query,"import shutil

response=urllib2.urlopen('http://www.diffbot.com/api/article?token='+token+'&url='+url).read()
with open(file_out,'w') as outfile:
    shutil.copyfileobj(response, outfile)
"
24012,2903,Python - Try and Except not working,"while True:
        selected_piece = int(input(""Which piece would you like to move? (1/2):  ""))
        if selected_piece not in [1,2]:
            print(""Invalid input, please try again."")
            continue
        else:
            break
"
22029,304,Format a string later?,">>> someformat = 'Hello {}!'
>>> someformat
'Hello {}!'
>>> print someformat.format('World')
Hello World!
"
21830,37144,Writing a CSV on Windows,"import csv
now = 'Tue Apr 15 10:23:05 2014'
inorout = 'out'

with open('timeclock.csv', 'a', newline='') as timeclocklog:
    timeclockwriter = csv.writer(timeclocklog)
    timeclockwriter.writerow([now, inorout])
"
11637,34288,Complicated model item in PyQt,"import sys, random
from PyQt5 import QtGui, QtCore, QtWidgets

class ViewDelegate(QtWidgets.QStyledItemDelegate):
    def __init__(self):
        QtWidgets.QStyledItemDelegate.__init__(self) 
        self.padding = 2
        self.AlignmentFlag =  QtCore.Qt.AlignRight

    def paint(self, painter, option, index):
        x = option.rect.x()
        y = option.rect.y()
        width = option.rect.width()
        height = option.rect.height()
        iconList = index.data(256)                      # get the icons associated with the item
        text = index.data()                             # get the items text

        for a, i in enumerate(iconList):
            m = max([i.width(), i.height()]) 
            f = (height- 2*self.padding)/m                  # scalingfactor
            i = i.scaled(int(i.width()*f),int(i.height()*f))                    # scale all pixmaps to the same size depending on lineheight
            painter.drawPixmap(QtCore.QPoint(x,y+self.padding),i)
            x += height

        painter.drawText(QtCore.QRect(x + self.padding,y + self.padding, width - x - 2*self.padding, height - 2*self.padding),self.AlignmentFlag, text)

class MyWidget(QtWidgets.QWidget): 
    def __init__(self): 
        QtWidgets.QWidget.__init__(self) 
        self.setGeometry(200,100,200,220)
        self.icons = []
        for i in ('arrow_double.svg', 'asc.png', 'desc.png', 'checked.png'):
            icon = QtGui.QPixmap(i)
            self.icons.append(icon)

        self.listWidget = QtWidgets.QListView(self)
        self.delegate = ViewDelegate()
        self.listWidget.setGeometry(20,20,160,180)
        self.listWidget.setItemDelegate(self.delegate)
        self.model = QtGui.QStandardItemModel(self.listWidget)

        itemsTexts = ['abcde','fghij','klmno','pqrst','uvwxy','zABCD']

        for r, i in enumerate(itemsTexts):
            item = QtGui.QStandardItem(i)              
            self.model.setItem(r,0, item)
            self.model.setData(self.model.index(r,0), self.iconList(), 256) # save the items icons in userRole

        self.listWidget.setModel(self.model)

    def iconList(self):                             # creates a random iconList 
        r = random.randint(1,len(self.icons))                   # Anzahl icons in the list
        iconList = []
        for i in range(0,r):
            n = random.randint(0,len(self.icons)-1)
            icon = self.icons[n]
            iconList.append(icon)
        return iconList

app = QtWidgets.QApplication(sys.argv) 
widget = MyWidget()
widget.show()
sys.exit(app.exec_())
"
13265,8782,mount command pid,">>> import subprocess
>>> p = subprocess.Popen(""ls"", shell=True)
>>> p.pid
4136
>>>
"
39799,8314,How do I use ffmpeg with Python by passing File Objects (instead of locations to files on disk),"from subprocess import Popen, PIPE

with open(""test.avi"", ""rb"") as infile:
    p=Popen([""ffmpeg"", ""-i"", ""-"", ""-f"", ""matroska"", ""-vcodec"", ""mpeg4"",
        ""-acodec"", ""aac"", ""-strict"", ""experimental"", ""-""],
           stdin=infile, stdout=PIPE)
    while True:
        data = p.stdout.read(1024)
        if len(data) == 0:
            break
        # do something with data...
        print(data)
    print p.wait() # should have finisted anyway
"
2839,83426,How do I implement a sliding window in Python?,"a = a[1:] + [45]
"
28620,75410,How to get a part of a substring from a particular string in python,"string = '<iframe width=""420"" height=""315"" src=""https://www.youtube-nocookie.com/embed/jc8zayasOB8"" frameborder=""0"" allowfullscreen></iframe>'
start_src = string.find('src=""')
first_quote = string.find('""', start_src)
end_quote = string.find('""', first_quote+1)

print string[first_quote+1:end_quote]
"
10113,13448,difference between quit and exit in python,"def setquit():
    """"""Define new builtins 'quit' and 'exit'.

    These are objects which make the interpreter exit when called.
    The repr of each object contains a hint at how it works.

    """"""
    if os.sep == ':':
        eof = 'Cmd-Q'
    elif os.sep == '\\':
        eof = 'Ctrl-Z plus Return'
    else:
        eof = 'Ctrl-D (i.e. EOF)'

    class Quitter(object):
        def __init__(self, name):
            self.name = name
        def __repr__(self):
            return 'Use %s() or %s to exit' % (self.name, eof)
        def __call__(self, code=None):
            # Shells like IDLE catch the SystemExit, but listen when their
            # stdin wrapper is closed.
            try:
                sys.stdin.close()
            except:
                pass
            raise SystemExit(code)
    __builtin__.quit = Quitter('quit')
    __builtin__.exit = Quitter('exit')
"
8373,68355,"python matplotlib, get pixel value after colormap applied","import matplotlib.pyplot as plt
import numpy as np

# set a seed to ensure reproducability
np.random.seed(100)

# build a random image
img = np.random.rand(10,10)

# create the image and save the artist 
img_artist = plt.imshow(img, interpolation='nearest')

# plot a red cross to ""mark"" the pixel in question
plt.plot(5,5,'rx', markeredgewidth=3, markersize=10)

# get the color at pixel 5,5 (use normalization and colormap)
print img_artist.cmap(img_artist.norm(img[5,5]))

plt.axis('image')
plt.show()
"
22762,75059,Python: how does the functools cmp_to_key function works?,">>> def cmp_to_key(mycmp):
...     'Convert a cmp= function into a key= function'
...     class K(object):
...         def __init__(self, obj, *args):
...             print('obj created with ',obj)
...             self.obj = obj
...         def __lt__(self, other):
...             print('comparing less than ',self.obj)
...             return mycmp(self.obj, other.obj) < 0
...         def __gt__(self, other):
...             print('comparing greter than ',self.obj)
...             return mycmp(self.obj, other.obj) > 0
...         def __eq__(self, other):
...             print('comparing equal to ',self.obj)
...             return mycmp(self.obj, other.obj) == 0
...         def __le__(self, other):
...             print('comparing less than equal ',self.obj)
...             return mycmp(self.obj, other.obj) <= 0
...         def __ge__(self, other):
...             print('comparing greater than equal',self.obj)
...             return mycmp(self.obj, other.obj) >= 0
...         def __ne__(self, other):
...             print('comparing not equal ',self.obj)
...             return mycmp(self.obj, other.obj) != 0
...     return K
...
>>> def mycmp(a, b):
...     print(""In Mycmp for"", a, ' ', b)
...     if a < b:
...         return -1
...     elif a > b:
...         return 1
...     return 0
...
>>> print(sorted([3,4,2,5],key=cmp_to_key(mycmp)))
obj created with  3
obj created with  4
obj created with  2
obj created with  5
comparing less than  4
In Mycmp for 4   3
comparing less than  2
In Mycmp for 2   4
comparing less than  2
In Mycmp for 2   4
comparing less than  2
In Mycmp for 2   3
comparing less than  5
In Mycmp for 5   3
comparing less than  5
In Mycmp for 5   4
[2, 3, 4, 5]
"
27200,34977,Aggregate in SQLite or Python,"for key_val, group in itertools.groupby(curs.fetchall(), lambda r: r[2]):
    print key_val
    for item in group:
        print ""\t"", item
"
6663,16680,Password iteration with no similar characters?,"```python
from itertools import permutations
chars = 'ABCDEFGHIJKLMNOPQRSTUVXYZ' # chars to look for
try:
    while 1:
        # Iterate through possible keys
        for length in range(7,8):
            to_attempt = permutations(chars, length)
            for attempt in to_attempt:
                print(''.join(attempt))

except KeyboardInterrupt:
    print ""Keyboard interrupt, exiting gracefully anyway.""
    sys.exit()
```
"
37434,8503,wxPython - implementing a scrollable view on a page similar to Visio or MS Word's print layout view,"import wx
from wx.lib.scrolledpanel import ScrolledPanel

app = wx.PySimpleApp()
frame = wx.Frame(None, id=wx.ID_ANY, name=""Just one child"", size=(100,100))
scrollablePanel = ScrolledPanel(parent=frame, id=wx.ID_ANY, name=""scrolledPanel"", style=wx.ALWAYS_SHOW_SB)
scrollablePanel.SetupScrolling()
scrollablePanel.SetBackgroundColour(wx.Colour(128,128,128))
innerPanel = wx.Panel(parent=scrollablePanel, id=wx.ID_ANY, name=""innerPanel"", size=(250,100), style=wx.SIMPLE_BORDER)
innerPanel.SetBackgroundColour(wx.Colour(255,255,255))
vSizer = wx.BoxSizer(wx.VERTICAL)
vSizer.Add(innerPanel, proportion=0, flag=wx.ALL|wx.ALIGN_CENTER_HORIZONTAL, border=8)
hSizer = wx.BoxSizer(wx.HORIZONTAL)
hSizer.Add(vSizer, proportion=1, flag=wx.ALIGN_CENTER_VERTICAL)
scrollablePanel.SetSizer(hSizer)
frame.Show()
app.MainLoop()
"
31569,82084,Download image file from the HTML page source using python?,"""""""
dumpimages.py
    Downloads all the images on the supplied URL, and saves them to the
    specified output file (""/test/"" by default)

Usage:
    python dumpimages.py http://example.com/ [output]
""""""

from BeautifulSoup import BeautifulSoup as bs
import urlparse
from urllib2 import urlopen
from urllib import urlretrieve
import os
import sys

def main(url, out_folder=""/test/""):
    """"""Downloads all the images at 'url' to /test/""""""
    soup = bs(urlopen(url))
    parsed = list(urlparse.urlparse(url))

    for image in soup.findAll(""img""):
        print ""Image: %(src)s"" % image
        filename = image[""src""].split(""/"")[-1]
        parsed[2] = image[""src""]
        outpath = os.path.join(out_folder, filename)
        if image[""src""].lower().startswith(""http""):
            urlretrieve(image[""src""], outpath)
        else:
            urlretrieve(urlparse.urlunparse(parsed), outpath)

def _usage():
    print ""usage: python dumpimages.py http://example.com [outpath]""

if __name__ == ""__main__"":
    url = sys.argv[-1]
    out_folder = ""/test/""
    if not url.lower().startswith(""http""):
        out_folder = sys.argv[-1]
        url = sys.argv[-2]
        if not url.lower().startswith(""http""):
            _usage()
            sys.exit(-1)
    main(url, out_folder)
"
31291,13951,Is it possible to use python mock for complex multidimensional dictionary input?,"from mock import patch

m = dict()

with patch.dict(m, {'categories': [1, 2, 3]}):
    print(m['categories'])

print(m)
"
31599,80122,From Matlab to Python: N point with Gaussian Distribution inside a rectangle,"from scipy.stats import truncnorm
import numpy as np

N = 1000
L = 5.0
mu = 4.0
sigma = 0.8

lower, upper = 0, L

X = truncnorm(
    (lower - mu) / sigma, (upper - mu) / sigma, loc=mu, scale=sigma)

points = np.reshape(X.rvs(2*N), (N, 2))
"
28847,79107,Custom data types in numpy arrays,"kerneldt = np.dtype([('myintname', np.int32), ('myfloats', np.float64, 9)])
arr = np.empty(dims, dtype=kerneldt)
"
23377,53384,Converting from nested lists to a delimited string,"def lists_to_dyn(lst):
    return '|'.join(';'.join(','.join(lst3) for lst3 in lst2) for lst2 in lst)
"
10619,30243,"Python | Appengine: What is the bug in my code that is preventing me from getting output as ""Welcome, (username of the person)""?","from google.appengine.api import users
from google.appengine.ext import ndb  # Note, I'm using ndb rather than db

class Name(ndb.Model):
    username = ndb.StringProperty()

class MainHandler(BaseHandler):
    def get(self):
        self.render('input.html')
    def post(self):
        user = users.get_current_user()
        username = self.request.get('username')
        a = Name(id=user.id(), username=username)
        a.put()

        self.redirect('/welcome')

class WelcomeHandler(BaseHandler):
    def get(self):
        user = users.get_current_user()
        key = ndb.key(user.id())
        name_entity = key.get()
        self.render('welcome.html', username=name_entity.username)
"
31244,58223,Port this snippet from Matlab to Python,"for i in range(runs) :
    datamat = numpy.genfromtxt('data.txt',delimiter=' ', newline ='\n' ) 
    // Adapt the previous line to the format of your txt file
    // at this point you should have a numpy.array object with the right shape
    Limits_Area= numpy.array( [1,261,522,784,1045,1305,1565,1827,2088,2349,2610,2871,3131,3158] )
    for k in range(2000):
        for j in range(13):
            Year_Data = datmat[ Limits_Area(j):Limits_Area(j+1)-1 , 4:37 ]
            etc etc ...
"
17420,34941,iterating dictionary and fetching values from inner dictionaries,"for key,value in dic.iteritems():
    if key == datetime.today(): # or (datetime.today() - key).seconds == <any value you expect>
        # since value is a tuple(not a dict) and you want to get the first item you can use index 0
        slug = value[0]
"
8902,62921,POST single file in Python,"def sendFileToWebService(filename, subpage):
    error = None
    try:
        response = requests.post(WEBSERVICE_IP + subpage,
                                 data=open(filename, 'rb'))
        data = json.load(response)
(...)
"
29458,84399,Python list remove another list with unknown variable,"lst = [
    [1,2,3],
    [1,2,4],
    [1,2,6],
    [2,5,4],
    [2,5,5],
    [3,7,9],
]

search = [1, None, 6]
new = [a for a in lst if
    any(y is not None and x != y for x, y in zip(a, search))
]

print new
"
30859,17401,How to specify a global render() method of a python standard library object instances in django," import datetime

 class mydatetime(object):
     ...
     def render(self):
         ...

 datetime.datetime = mydatetime
"
14081,46848,django - model unicode() show foreignkey object attribute,"def __unicode__(self):
   return '%s %s' % (self.app_id.app_name, self.environ_name)     
"
4282,7855,How can I get a column from a 2D python array?,">>> import numpy as np
>>> a = np.array([[0,0,0,2,3,0],[3,2,4,0,0,1]])
>>> a[:,2:5]
array([[0, 2, 3],
       [4, 0, 0]])
"
24896,69698,django - view returning no value?,"return JSONResponse(operator.attrgetter('user_permissions', 'username', 'first_name')(request.user))
"
22024,77314,Overlayed plots without shared axes: left-bottom vs. top-right pairs (python/matplotlib),"import numpy as np
import matplotlib.pyplot as plt

x1 = np.arange(10)
y1 = x1**2
x2 = np.arange(100,200)
y2 = x2

fig = plt.figure()

ax1 = fig.add_axes([0.1, 0.1, 0.8, 0.8], label=""ax1"")
ax2 = fig.add_axes([0.1, 0.1, 0.8, 0.8], label=""ax2"", frameon=False)

ax1.yaxis.tick_left()
ax1.xaxis.tick_bottom()


ax2.yaxis.tick_right()
ax2.yaxis.set_label_position('right')
ax2.yaxis.set_offset_position('right')
ax2.xaxis.tick_top()
ax2.xaxis.set_label_position('top')

ax1.spines['right'].set_color('red')
ax1.spines['top'].set_color('red')

for ylabel, xlabel in zip(ax2.get_yticklabels(), ax2.get_xticklabels()):
     ylabel.set_color(""red"")
     xlabel.set_color(""red"")


ax1.plot(x1,y1)
ax2.plot(x2,y2, 'r')

plt.show()
"
25586,41280,How to update a number without changing lines or placement of output,"import time
import sys
for i in range(10):
    print ""\rworking on:"", i,
    sys.stdout.flush()
    time.sleep(1)
"
2275,34700,Resize Tkinter Window FROM THE RIGHT (python),"import Tkinter as Tk #tkinter

def toggle():
    if frame1.winfo_ismapped():
        frame1.grid_remove()
    else:
        frame1.grid()

root = Tk.Tk()
root.geometry('-450+250')
frame1 = Tk.Frame(root, width=200, height=100, bg='red')
frame1.grid(row=0, column=0)
frame2 = Tk.Frame(root, width=200, height=100, bg='blue')
frame2.grid(row=0, column=1)
Tk.Button(root, text='toggle', command=toggle).grid(row=1, column=1)

root.mainloop()
"
331,55846,How to take input of a directory,"srcpat = '/folderA/filename*.log'
dstdir = '/folderB'
for srcfile in glob.iglob(srcpat):
   if not os.path.isfile(srcfile): continue

   dstfile = os.path.join(dstdir, os.path.basename(srcfile))
   with open(srcfile) as src, open(dstfile, 'w') as dst:
       for line in src:
           parts = line.split()
           status = parts[8]  # value of 8th position in the log file
           if not status.isdigit():
               print "" Not A Number :"", status
               dst.write(status)  # Or print >>dst, status if you want newline
"
21999,35903,Sample size from mean() on groupby object,">> df.groupby(['formation']).aggregate([np.mean, np.size])
"
29821,78252,Python efficiently split currency sign and number in one string,">>> import re
>>> string = 'YAN300,000,000'
>>> match = re.search(r'([\D]+)([\d,]+)', string)
>>> output = (match.group(1), match.group(2).replace(',',''))
>>> output
('YAN', '300000000')
"
10340,24833,is there any equivalent code that get buckets from google storage faster,"def get_credentials():
   # Your code goes here... checkout the oauth2client documentation:
   # http://google-api-python-client.googlecode.com/hg/docs/epy/oauth2client-module.html
   # Or look at some of the existing samples for how to do this

def get_cloud_storage_service(credentials):
   return discovery.build('storage', 'v1', credentials=credentials)

def get_objects(cloud_storage, bucket_name, autopaginate=False):
   result = []
   # Actually, it turns out that request batching isn't needed in this
   # example, because the objects.list() operation returns not just
   # the URL for the object, but also its name, as well. If it had returned
   # just the URL, then that would be a case where we'd need such batching.
   projection = 'nextPageToken,items(name,selfLink)'
   request = cloud_storage.objects().list(bucket=bucket_name, fields=projection)
   while request is not None:
     response = request.execute()
     result.extend(response.items)
     if autopaginate:
        request = cloud_storage.objects().list_next(request, response)
     else:
        request = None
   return result

def main():
  credentials = get_credentials()
  cloud_storage = get_cloud_storage_service(credentials)
  bucket = # ... your bucket name ...
  for obj in get_objects(cloud_storage, bucket, autopaginate=True):
     print 'name=%s, selfLink=%s' % (obj.name, obj.selfLink)
"
28010,79820,What is a good converging colourmap for matplotlib,"inv = cmap_map(lambda x: 1-x, cm.PRGn)  # the ""transformation"" = 1-x

#  plot the original or modified for comparison
x,y=mgrid[1:2,1:10:0.1]
plt.imshow(y, cmap=cm.PRGn)
plt.title(""original"")
plt.figure()
plt.imshow(y, cmap=inv)
plt.title(""inverted"")
plt.show()
"
22172,55731,Different result upon shuffling a list,"while edges:
    current_edge = edges.pop(0)
    body = {current_edge[0], current_edge[1]}
    i = 0
    while i < len(edges):
        if edges[i][0] in body or edges[i][1] in body:
            body.add(edges[i][0])
            body.add(edges[i][1])
            edges.pop(i) # Edge added, no need to check it again
            i = 0 # Restart the loop
        else:
            i += 1
    bodylist.append(body)
"
23634,27643,Read data from one file and write to multiple files,"with open('path/to/input') as infile:
    i = 0
    f = open('outfile%d'%i, 'w')
    for line in infile:
        if line.lstrip().startswith(""MOLECULE""):
            f.close()
            i += 1
            f = open('outfile%d'%i, 'w')
        f.write(line)
"
33984,80641,Returning objects from methods in Python,"class Order(object):
    def __init__(self, number, amount):
        self.number = number
        self.amount = amount
        print self

    def __str__(self):
        return ""Order #%s: amount = %s"" % (self.number, self.amount)

    @property
    def order_number(self):
        return self.number

    def cancel(self):
        self.amount = 0
        print ""Order is cancelled.""
        print self


class PizzaHut(object):

    def __init__(self, price):
        self.price = price

    def order(self):
        return Order(42, self.price)

pizza = PizzaHut(4.99)
order = pizza.order()
print order.order_number
order.cancel()
"
35066,27677,regex to find these values?,"In [1]: a = ""switchport port-security mac-address 000a.1111.2222 vlan 43""

In [2]: splitted = a.split()

In [3]: [x for i,x in enumerate(splitted) if i > 0 and splitted[i-1] in [""mac-address"", ""vlan""]]
Out[3]: ['000a.1111.2222', '43']
"
27720,25724,Search by probabilistic fields in Xapian and Python,"import xapian
db = xapian.WritableDatabase(""my-db"", xapian.DB_CREATE_OR_OPEN)
tg = xapian.TermGenerator()

doc = xapian.Document()
tg.set_document(doc)
tg.index_text(""John Doe"", 1, ""A"")
db.add_document(doc)

qp = xapian.QueryParser()
qp.add_prefix(""author"", ""A"")
q = qp.parse_query('author:""John Doe""')

enq = xapian.Enquire(db)
enq.set_query(q)
for match in enq.get_mset(0, 10):
    print ""%8.8i: %f"" % (match.docid, match.weight,)
"
11401,56436,numpy interpolation to increase a vector size,"from scipy.interpolate import UnivariateSpline
old_indices = np.arange(0,len(a))
new_length = 11
new_indices = np.linspace(0,len(a)-1,new_length)
spl = UnivariateSpline(old_indices,a,k=3,s=0)
new_array = spl(new_indices)
"
25937,6657,Slow Big Int Output in python,"def p(x,n=0):
    if n == 0:
        n = int(x.bit_length() * 0.3)
    if n < 100:
        return str(x)
    n >>= 1
    l = 10**n
    a,b = divmod(x, l)
    upper = p(a,n)
    lower = p(b,n).rjust(n, ""0"")
    return upper + lower
"
1773,25270,How to use Python Web Scraping to download CSV file then convert it to Pandas Dataframe?,"import pandas as pd
pd.read_csv('http://vincentarelbundock.github.io/Rdatasets/csv/datasets/BJsales.csv')
"
7485,35964,Python split consecutive delimiters,"re.split(pattern, string[, maxsplit=0, flags=0])
"
12857,32082,Default configuration in python/django,"GLOBAL_1 = getattr(settings, 'GLOBAL_1', 'Def value for global 1')
"
16610,77661,Tkinter check if entry box is empty,"if len(the_entry_widget.get()) == 0:
    do_something()
"
28335,56278,python - does cx_Oracle allow you to force all columns to be cx_Oracle.STRING?,"r = cursor.execute(""select to_char( thetime, 'DD-MON-RR HH24.MI.SSXFF' ) from my_table"")
"
27561,67852,Python tkinter simpledialog. How to bind a key to the OK button in simpledialog,"import tkinter as tk
import tkinter.simpledialog 

class My_QueryString(tkinter.simpledialog._QueryString):

      def body(self, master):
          self.bind('<KP_Enter>', self.ok) # KeyPad Enter
          super().body(master)

def myaskstring(title, prompt, **kw):
    d = My_QueryString(title, prompt, **kw)
    return d.result

#---------------------------------------------------------

root = tk.Tk()

new_name = myaskstring(""Name Change"", ""New name"")
if new_name:
    print(new_name)

root.mainloop()
"
12910,1900,Export template function,"extern template<>
    CL_Slot connect<SomeClass> (SomeClass *instance, void(InstanceClass::*function)(Param1, Param2));
"
7099,74996,Filter/Update Python Dataframe by Data Type,"import pandas as pd

# create dummy df for this example
df=pd.DataFrame(['text','1234']*4, columns=['Value'])

df
Value
0  text
1  1234
2  text
3  1234
4  text
5  1234
6  text
7  1234

# convert the numbers first
df['Val_Num']=df.Value.convert_objects(convert_numeric=True)

# then use the null values in the Val_Num column to find the text values
df['Val_Text']=df.Value.ix[df.Val_Num.isnull()]

# delete the Value column
df.drop('Value', inplace=True, axis=1)

df
Val_Num Val_Text
0      NaN     text
1     1234      NaN
2      NaN     text
3     1234      NaN
4      NaN     text
5     1234      NaN
6      NaN     text
7     1234      NaN
"
18433,72361,Website Treating me as mobile when scraping from html in python,"import urllib2
opener = urllib2.build_opener()
opener.addheaders = [('User-agent', 'Mozilla/5.0')]
opener.open('http://www.example.com/')
"
25946,81059,Python: looping through a list?,">>> new_list = [s + ' letter' for s in mylist[:-1]] + mylist[-1:]
>>> new_list
['a letter', 'b letter', 'end']
"
3309,7371,RSA generate private key from data with python,"from Crypto.PublicKey import RSA

# assume d was correctly calculated
n = 1234....L
e = 65537L
d = 43434...L
private_key = RSA.construct((n, e, d))
dsmg = private_key.decrypt(msg)
"
16210,35533,Parsing html forms input tag with Beautiful Soup,"from BeautifulSoup import BeautifulSoup as beatsop


def html_parser(html_data):
    html_proc = beatsop(html_data)
    #We extract the text inputs.
    txtinput = html_proc.findAll('input', {'type':'text'})
    listform = [""radio"", ""checkbox"", ""password"", ""file"", ""image"", ""hidden""]
    otrimput = html_proc.findAll('input', {'type': listform})

    print('Text input names:')
    for elem in txtinput:
        print(elem['name'])

    print('Non-text input values:')
    for elem in otrimput:
        value = elem.get('value')
        if value:
            print(value)
        else
            print('{} has no value'.format(elem))

with open(""forms.html"") as html_data:
    html_parser(html_data)
"
3178,21336,Get frame object that function was defined in,"get_defining_frame(bar)
"
24521,4328,all arrangement of elements of string python,">>> a = 'aaa,bbb,ccc'
>>> b = a.split(',')
>>> import itertools
>>> list(itertools.permutations(b))
>>> [('aaa', 'bbb', 'ccc'), ('aaa', 'ccc', 'bbb'), ('bbb', 'aaa', 'ccc'), ('bbb', 'c
cc', 'aaa'), ('ccc', 'aaa', 'bbb'), ('ccc', 'bbb', 'aaa')]
"
24800,55517,calculate duplicate average python,"df = pd.DataFrame([[2,1],[2,32],[4,4512],[1,34],[2,323],[2,42],[1,23],[4,123]])
df.groupby(0).mean()

        1
0        
1    28.5
2    99.5
4  2317.5
"
36130,38923,Prevent TextIOWrapper from closing on GC in a Py2/Py3 compatible way,"class SaneTextIOWrapper(io.TextIOWrapper):
    def __init__(self, *args, **kwargs):
        self._should_close_buffer = True
        super(SaneTextIOWrapper, self).__init__(*args, **kwargs)

    def __del__(self):
        # Accept the inevitability of the buffer being closed by the destructor
        # because of this line in Python 2.7:
        # https://github.com/python/cpython/blob/2.7/Modules/_io/iobase.c#L221
        self._should_close_buffer = False
        self.close()  # Actually close for Python 3 because it is an override.
                      # We can't call super because Python 2 doesn't actually
                      # have a `__del__` method for IOBase (hence this
                      # workaround). Close is idempotent so it won't matter
                      # that Python 2 will end up calling this twice

    def close(self):
        # We can't stop Python 2.7 from calling close in the deconstructor
        # so instead we can prevent the buffer from being closed with a flag.

        # Based on:
        # https://github.com/python/cpython/blob/2.7/Lib/_pyio.py#L1586
        # https://github.com/python/cpython/blob/3.4/Lib/_pyio.py#L1615
        if self.buffer is not None and not self.closed:
            try:
                self.flush()
            finally:
                if self._should_close_buffer:
                    self.buffer.close()
"
1568,25157,Python: check if item exists in variable amount of lists,"index_list = [set() for i in range(4)]
index_list[0].update({1,2,3,4,5})
index_list[1].update({3,4,5,6,7})
index_list[2].update({4,5,6,7})

shortest_list = index_list[2]

print(shortest_list.intersection(*index_list[:2]))
set([4, 5])
"
7409,35039,How to add legend to imshow() in matplotlib,"import pylab as pl
mycmap = pl.cm.jet # for example
for entry in pl.unique(raw_data):
    mycolor = mycmap(entry*255/(max(raw_data) - min(raw_data)))
    pl.plot(0, 0, ""-"", c=mycolor, label=mynames[entry])

pl.imshow(raw_data)
pl.legend()
"
20775,83849,"Python: Writing output to text file, but text file does not contain the entire string and truncates randomly?","from mod2sbml import Parser    
p = Parser()    

with open('sbmlconvert.xml', 'w') as of:   
    s = open('sbmltest3.mod', 'r').read()    
    d = p.parse(s)
    of.write(d.toSBML())    
"
28005,5877,Batch editing of csv files with Python,"import os 
import csv


path=os.getcwd()

filenames = os.listdir(path)

for filename in filenames:

    if filename.endswith('.csv'):
        r=csv.reader(open(filename))
        new_data = []
        for row in r:
            row[-1] = row[-1].replace(""S-D"", ""S"")
            new_data.append(row)

        newfilename = """".join(filename.split("".csv"")) + ""_edited.csv""
        with open(newfilename, ""w"") as f:
            writer = csv.writer(f)
            writer.writerows(new_data)
"
612,68758,Using Multiline Regular Expressions in Python?,"(?<=var fooData = {)[^}]+(?=};)
"
8965,84067,Handling multi-variable and multi-station timeseries data in pandas,"import numpy as np
from pandas import Panel, date_range

index = date_range(start='2015-01-01', end='2015-02-01')
stations = ['Here', 'There', 'Everywhere']
variables = ['temperature', 'salinity', 'oxygen', 'pH']

data = np.empty((len(index), len(stations), len(variables)))
data.shape
(32, 3, 4)

p = Panel(data=data, items=index, major_axis=stations, minor_axis=variables)
p.shape
(32, 3, 4)

p
<class 'pandas.core.panel.Panel'>
Dimensions: 32 (items) x 3 (major_axis) x 4 (minor_axis)
Items axis: 2015-01-01 00:00:00 to 2015-02-01 00:00:00
Major_axis axis: Here to Everywhere
Minor_axis axis: temperature to pH

# Slice by date:
p.ix['2015-01-30']
# by variable
p.minor_xs('salinity')
# by station
p.major_xs('There')
# all together
p.ix['2015-01-30']['temperature']['Here']
"
34282,34338,Python Merging Ordered Lists' Output,"def succesfulTrials(List1, List2):
    List3 = {}
    # Grab data
    for item in List2:
        List3[item] = List1.count(item)

    # Print data
    for (key, value) in List3.items():
        print value, key,
"
30892,48313,"Using PIL or a Numpy array, how can I remove entire rows from an image?","from PIL import Image

def find_rows_with_color(pixels, width, height, color):
    rows_found=[]
    for y in xrange(height):
        for x in xrange(width):
            if pixels[x, y] != color:
                break
        else:
            rows_found.append(y)
    return rows_found

old_im = Image.open(""path/to/old/image.png"")
if old_im.mode != 'RGB':
    old_im = old_im.convert('RGB')
pixels = old_im.load()
width, height = old_im.size[0], old_im.size[1]
rows_to_remove = find_rows_with_color(pixels, width, height, (0, 0, 0)) #Remove black rows
new_im = Image.new('RGB', (width, height - len(rows_to_remove)))
pixels_new = new_im.load()
rows_removed = 0
for y in xrange(old_im.size[1]):
    if y not in rows_to_remove:
        for x in xrange(new_im.size[0]):
            pixels_new[x, y - rows_removed] = pixels[x, y]
    else:
        rows_removed += 1
new_im.save(""path/to/new/image.png"")
"
24307,4846,QMenu for QTableWidget in PySide/PyQt,"class Example(QtGui.QMainWindow):
    def __init__(self):
        ...

        header = self.table.horizontalHeader()
        header.setContextMenuPolicy(QtCore.Qt.CustomContextMenu)
        header.customContextMenuRequested.connect(self.handleHeaderMenu)

    def handleHeaderMenu(self, pos):
        print('column(%d)' % self.table.horizontalHeader().logicalIndexAt(pos))
        menu = QtGui.QMenu()
        menu.addAction('Add')
        menu.addAction('Delete')
        menu.exec_(QtGui.QCursor.pos())
"
39938,38506,Make @lru_cache ignore some of the function arguments,"from cachetools import cached, hashkey
from random import randint

@cached(cache={}, key=lambda db_handle, query: hashkey(query))
def find_object(db_handle, query):
    print(""processing {0}"".format(query))
    return query

queries = list(range(5))
queries.extend(range(5))
for q in queries:
    print(""result: {0}"".format(find_object(randint(0, 1000), q)))
"
11180,38218,Tornado async http client blocks,"@tornado.gen.coroutine
def Test2():
    while True:
        item = yield theQueue.get()
        print 'Test2:', item
        tmp = tornado.httpclient.AsyncHTTPClient(force_instance=True)
        response = yield tmp.fetch(item)
        print 'Test2:', str(response)

# Write another test function called `Test3` and do the exactly same thing with Test2.
@tornado.gen.coroutine
def Test3():
    while True:
        item = yield theQueue.get()
        print 'Test3:', item
        tmp = tornado.httpclient.AsyncHTTPClient(force_instance=True)
        response = yield tmp.fetch(item)
        print 'Test3:', str(response)

Test2()
Test3()
tornado.ioloop.IOLoop.instance().start()
"
18495,6806,Python Implementation of OPTICS (Clustering) Algorithm,"def cluster(order, distance, points, threshold):
    ''' Given the output of the options algorithm,
    compute the clusters:

    @param order The order of the points
    @param distance The relative distances of the points
    @param points The actual points
    @param threshold The threshold value to cluster on
    @returns A list of cluster groups
    '''
    clusters = [[]]
    points   = sorted(zip(order, distance, points))
    splits   = ((v > threshold, p) for i,v,p in points)
    for iscluster, point in splits: 
        if iscluster: clusters[-1].append(point)
        elif len(clusters[-1]) > 0: clusters.append([])
    return clusters

    rd, cd, order = optics(points, 4)
    print cluster(order, rd, points, 38.0)
"
8835,45286,Gdb Python API - Most efficient way to get the value of PC?,"gdb.selected_frame().pc()
"
8185,13622,PyQt image caputuring error,"#!/usr/bin/env python
import sys, itertools
import signal
from PyQt4.QtCore import *
from PyQt4.QtGui import *
from PyQt4.QtWebKit import QWebPage

urls = [""http://www.gouvernement.fr/"", ""http://www.google.com/""]
outputs = [""output1.png"", ""output2.png""]

def save_page(webpage, output):
    # Set the size of the (virtual) browser window
    webpage.setViewportSize(webpage.mainFrame().contentsSize())

    # Paint this frame into an image
    image = QImage(webpage.viewportSize(), QImage.Format_ARGB32)
    painter = QPainter(image)
    webpage.mainFrame().render(painter)
    painter.end()
    image.save(output)
    print "".png image successfully saved""
    #sys.exit(0)


app = QApplication(sys.argv)
signal.signal(signal.SIGINT, signal.SIG_DFL)

webpage = QWebPage()

def onLoadFinished(result):
    if not result:
        print ""Request failed""
        sys.exit(1)
    save_page(webpage, outputs.pop(0))   # pop output name from list and save
    if urls:
        url = urls.pop(0)   # pop next url to fetch from list
        webpage.mainFrame().load(QUrl(url))
    else:
        app.quit()  # exit after last url

webpage.connect(webpage, SIGNAL(""loadFinished(bool)""), onLoadFinished)
webpage.mainFrame().load(QUrl(urls.pop(0)))
sys.exit(app.exec_())
"
15248,75515,Find b'' in command output?,"if check == b'':
"
36779,77387,How do I get all the rows before a specific index in Pandas?,"def get_total(x):
    name = x[""NAME""]
    city = x[""CITY""]
    index = x.name
    records df.loc[0:index]
    return records.loc[(records['NAME'] == name) & (records['CITY']==city)].size
"
37692,23624,Is ALLOWED_HOSTS needed on Heroku?,"settings.py
# Parse database configuration from $DATABASE_URL
import dj_database_url
DATABASES['default'] =  dj_database_url.config()

# Honor the 'X-Forwarded-Proto' header for request.is_secure()
SECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')

# Allow all host headers
ALLOWED_HOSTS = ['*']

# Static asset configuration
import os
BASE_DIR = os.path.dirname(os.path.abspath(__file__))
STATIC_ROOT = 'staticfiles'
STATIC_URL = '/static/'

STATICFILES_DIRS = (
    os.path.join(BASE_DIR, 'static'),
)
"
3278,58163,Edit XML value based on Key,"foo_element = soup.find('macro', attrs={""name"" : ""foo""}) # returns the foo element
foo_element['value'] = ""baz"" # changes the value attribute
"
8628,11312,How to reach every single element which is not list in random nested list?,"sample = [[[""1""],""1""],[""2"",[[""123"",[[[""23""]]],23],[12.3,""23""]]],[[""5""],""1"",""1""]]
def traverse(l, f):
    result = []
    for item in l:
        if isinstance(item, list):
            result.append(traverse(item))
        else:
            result.append(f(item))
    return result
"
23949,21089,Transforming a Dataframe for statsmodels t-test,"ttest_ind(df[df['Treatment'] == 'a']['Performance'], df[df['Treatment'] == 'b']['Performance'])
"
23308,61260,setup.py install leaving files where they are,"pip install --user -e .
"
37859,45317,Transparent logical filter on entities - App Engine,"class Node(db.Model):
   # some properties and stuff

   @classmethod
   def active_nodes(cls):
       return cls.all().filter('active = ',True)
"
26996,39152,Django allauth allowed urls,"from django.contrib.auth.decorators import login_required
urlpatterns = patterns('',
   # MY PROFILE
   url(r'^$',
       login_required(MyProfileDetailView.as_view()),
       name=""my_profile""
   )
)
"
14265,27969,Python Mechanize Add Value to Form Input without ID or Name,"br.open(url)

# forms = [f for f in br.forms()]
# print forms[1]
# print forms[1].controls[0]

br.select_form(nr = 1)



br.form.set_all_readonly(False)


br.form.set_value(firstname, nr=0)
br.form.set_value(lastname, nr=1)
br.form.set_value(email, nr=2)
br.form.set_value(zip, nr=3)


br.submit()
"
5205,65024,Pyschopy Script That Uses Primary Display Monitor,"from psychopy import visual
win = visual.Window(screen=1)
"
14808,555,Big for inside for. How can I reduce time?,">>> from collections import Counter
>>> pay = [ [1,50], [1,100], [1,60], [2,50], [2,80], [2,50]]
>>> c = Counter()
>>> for idx, amt in pay:
    c[idx] += amt
...     
>>> c
Counter({1: 210, 2: 180})
"
25137,4181,Is it possible to make this Xpath shorter?,"//*[self::span|self::div][@id='top-icon']
"
38734,67135,How to make mpmath function return python float?,"besseli_vec = numpy.frompyfunc(lambda *a: float(mpmath.besseli(*a)), 2, 1)
"
26989,25013,Undeclared addition for two arrays in numba,"import numpy as np
import numba

@numba.njit
def add_numba(c, a, b):
    c = a + b
    return c

def add_no_numba(c, a, b):
    c = a + b
    return c

if __name__ == '__main__':
    print numba.__version__

    a = np.arange(10000, dtype=np.float64)
    b = np.arange(10000, dtype=np.float64)

    # numba
    c = np.zeros_like(a, dtype=np.float64)
    %timeit add_numba(c, a, b)
    print add_numba(c, a, b)

    # no numba
    c = np.zeros_like(a, dtype=np.float64)
    %timeit add_no_numba(c, a, b)
    print add_no_numba(c, a, b)

>> 0.19.1 
>> 10000 loops, best of 3: 24.8 Âµs per loop
>> [  0.00000000e+00   2.00000000e+00  ...,    1.99980000e+04]
>> 100000 loops, best of 3: 7.44 Âµs per loop
>> [  0.00000000e+00   2.00000000e+00  ...,    1.99980000e+04]
"
37067,19946,create random rectangle on canvas,"#!/usr/bin/env python
from tkinter import *
import random

root = Tk()

class Recta:
    def __init__(self, height, width):
        self.height=80
        self.width=100
    def randomRects(self,canvas):
        w = random.randrange(100)
        h = random.randrange(80)
        canvas.create_rectangle(0,0,h,w,fill='green')

c = Canvas(root)
c.pack()

tes = Recta(10,20)
tes.randomRects(c)

root.mainloop()
"
38981,42752,Seaborn: how to set bar borders' line width or color?,"fig, ax = plt.subplots()
ax = sns.barplot(data = data, x = 'var1', color = '#007b7f')
plt.setp(ax.patches, linewidth=0)
"
11298,22916,can i list methods in python?,"def set_function(self, external_function):
    self.F = external_function
"
11058,77518,Tkinter .after method freezing window?,"class Client(Frame):

    def __init__(self, **kwargs):
        self.client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.client.connect((""host"", port))
        self.client.setblocking(0)
        Frame.__init__(self, Tk())
        self.pack()

        self.lb = Listbox(self, width=100, height=30)
        self.lb.pack()

        self.show_data = self.lb.after(1000, self.chat_handle)

        self.entry = Entry(self)
        self.entry.bind('<Return>', self.input_handle)
        self.entry.pack(side=BOTTOM, fill=X)

    def input_handle(self, event):
        msg = self.entry.get()
        self.entry.delete(0, 'end')
        new_msg = 'privmsg %s :' % self.channel + msg + '\r\n'
        self.client.sendall(new_msg)
        self.lb.insert(END, self.nick + ' | ' + msg)

    def chat_handle(self):
        socket_data = select.select([self.client], [], [], 0.3) # set timeout on last arg
        if socket_data[0]:
            try:
                self.data = self.client.recvfrom(1024)
            except socket.error:
                self.lb.insert(END, ""Bad Connection!"")
                return
            if self.data and len(self.data[0]) > 0:
                self.lb.insert(END, self.data[0])
            elif self.data and len(self.data[0]) == 0:
                self.lb.insert(END, ""Connection Dropped!"")
                return
            self.show_data = self.lb.after(1000, self.chat_hand
"
16284,82504,Java equivalent to python's json.dumps,"  JSONObject obj=new JSONObject();
  obj.put(""name"",""foo"");
  obj.put(""num"",new Integer(100));
  obj.put(""balance"",new Double(1000.21));
  obj.put(""is_vip"",new Boolean(true));
  obj.put(""nickname"",null);
  System.out.print(obj);


Result: {""balance"":1000.21,""num"":100,""nickname"":null,""is_vip"":true,""name"":""foo""} 
"
13278,23182,Python OS X - get 'date added' info from file,"import subprocess
st = subprocess.check_output([""mdls"", ""-name"", ""kMDItemDateAdded"", ""-raw"", ""Untitled.gif""])
"
31053,20210,Exact time in server python,">>> from pytz import timezone
>>> tz= timezone('America/Guatemala')
>>> from datetime import datetime
>>> tz.fromutc( datetime.utcnow() )
datetime.datetime(2014, 4, 22, 12, 4, 37, 2229, tzinfo=<DstTzInfo 'America/Guatemala' CST-1 day, 18:00:00 STD>)
"
30041,65673,how to get auth_user in python web request,"import base64

class BasicAuthHandler(tornado.web.RequestHandler):
    def get_current_user(self):
        scheme, _, token= self.request.headers.get('Authorization', '').partition(' ')
        if scheme.lower()=='basic':
            user, _, pwd= base64.decodestring(token).partition(':')
            # if pwd matches user:
                return user
        return None

    def get(self):
        if not self.get_current_user():
            self.set_status(401)
            self.set_header('WWW-Authenticate', 'basic realm=""Example site""')
            # produce error/login page for user to see if they press escape to
            # cancel authorisation
            return
"
24377,35908,Find target values in pandas dataframe,"In [36]:
targets['t']=0

In [37]:
df2 = df.reset_index().set_index('case') - targets

In [38]:
df3 = df2.groupby(df2.index).transform(lambda x: x.abs()==np.min(x.abs()))

In [39]:
df4 = pd.DataFrame({'1': df2.t[df3[1]],
                    '2': df2.t[df3[2]],
                    '3': df2.t[df3[3]]})

print df4

           1       2       3
case                        
1014  0.3991  0.3991  0.3991
1015  0.1991  0.3991  0.3991
1016  0.0991  0.3991  0.3991
"
28029,10074,PyQt4 dropdownlist with actions,"class MemoryButton(QPushButton):
    def __init__(self, *args, **kw):
        QPushButton.__init__(self, *args, **kw)
        self.last_mouse_pos = None

    def mousePressEvent(self, event):
        self.last_mouse_pos = event.pos()
        QPushButton.mousePressEvent(self, event)

    def mouseReleaseEvent(self, event):
        self.last_mouse_pos = event.pos()
        QPushButton.mouseReleaseEvent(self, event)

    def get_last_pos(self):
        if self.last_mouse_pos:
            return self.mapToGlobal(self.last_mouse_pos)
        else:
            return None

button = MemoryButton(""Click Me!"")

def popup_menu():
    popup = QMenu()
    menu = popup.addMenu(""Do Action"")

    def _action(check):
        print ""Action Clicked!""

    menu.addAction(""Action"").triggered.connect(_action)                                                             
    popup.exec_(button.get_last_pos())

button.clicked.connect(popup_menu)
"
32223,3694,Python â files from folder to a dict,"import os

direc = os.getcwd() # Get current working directory
ext = '.txt' # Select your file delimiter

file_dict = {} # Create an empty dict

# Select only files with the ext extension
txt_files = [i for i in os.listdir(direc) if os.path.splitext(i)[1] == ext]

# Iterate over your txt files
for f in txt_files:
    # Open them and assign them to file_dict
    with open(os.path.join(direc,f)) as file_object:
        file_dict[f] = file_object.read()

# Iterate over your dict and print the key/val pairs.
for i in file_dict:
    print i, file_dict[i]
"
27150,75571,Remove items from a list in Python using conditions,"def passed(item):
    try:
       return int(item) > 28
    except ValueError:
       return False
result = [filter(passed, item) for item in a] 
"
37440,78744,pandas rolling on a shifted dataframe,"index = pd.date_range('2000-1-1', periods=100, freq='D')
df = pd.DataFrame(data=np.random.randn(100), index=index, columns=['A'])

df['rm']=pd.rolling_mean(df['A'],5)
df['shift'] = df['A'].shift(-5)
df['rm-5-shift_first']=pd.rolling_mean(df['A'].shift(-5),5)
df['rm-5-mean_first']=pd.rolling_mean(df['A'],5).shift(-5)

print( df.head(n=8))
print( df.tail(n=8))

                   A        rm     shift  rm-5-shift_first  rm-5-mean_first
2000-01-01 -0.120808       NaN  0.830231               NaN         0.184197
2000-01-02  0.029547       NaN  0.047451               NaN         0.187778
2000-01-03  0.002652       NaN  1.040963               NaN         0.395440
2000-01-04 -1.078656       NaN -1.118723               NaN         0.387426
2000-01-05  1.137210 -0.006011  0.469557          0.253896         0.253896
2000-01-06  0.830231  0.184197 -0.390506          0.009748         0.009748
2000-01-07  0.047451  0.187778 -1.624492         -0.324640        -0.324640
2000-01-08  1.040963  0.395440 -1.259306         -0.784694        -0.784694
                   A        rm     shift  rm-5-shift_first  rm-5-mean_first
2000-04-02 -1.283123 -0.270381  0.226257          0.760370         0.760370
2000-04-03  1.369342  0.288072  2.367048          0.959912         0.959912
2000-04-04  0.003363  0.299997  1.143513          1.187941         1.187941
2000-04-05  0.694026  0.400442       NaN               NaN              NaN
2000-04-06  1.508863  0.458494       NaN               NaN              NaN
2000-04-07  0.226257  0.760370       NaN               NaN              NaN
2000-04-08  2.367048  0.959912       NaN               NaN              NaN
2000-04-09  1.143513  1.187941       NaN               NaN              NaN
"
33297,40429,Arithmetic Operations on Numpy Array,"import numpy as np
a = np.array([[1,2,3],[10,20,30],[100,200,300]])
b = np.array([[1,2,3],[10,20,30]])
result_list = [np.subtract(a,b_x) for b_x in b]
#now you can use the result_list:
print result_list[0]
#>>> [[  0   0   0]
#     [  9  18  27]
#     [ 99 198 297]]

print result_list[1]
#>>>[[ -9 -18 -27]
#    [  0   0   0]
#    [ 90 180 270]]
"
15798,14183,String to DATETIME in MySQL,"myDatetime = datetime.strptime(myString.split(""."")[0], ""%Y-%m-%dT%H:%M:%S"")
"
5268,59994,Many-to-Many Relationships: Querying for Objects with a Single Value,"Album.objects.annotate(n_artists=Count(""artists')).filter(n_artists=1).filter(artist=some_awesome_artist)
"
36503,38779,Python 3.0 using turtle.onclick,"import turtle as t

def showTurtle():
    t.st()
    return

def getPos(x,y):
    print(""("", x, "","" ,y,"")"")
    return

def hideTurtle(x,y):
    t.ht()
    return

def main():
    t.speed(20)
    t.shapesize(1000,1000)
    t.up()
    t.goto(1000,0)
    t.ht()
    t.onkey(showTurtle,""a"")
    t.listen()
    t.onclick(getPos)
    t.onrelease(hideTurtle)
    t.mainloop()
main()
"
11535,57357,Can you tell if an array is a view of another?,"a = np.arange(10)
print a.base
None

b = a[2:9]
print b.base is a
True

c = b[:2]
print c.base is b
True
print c.base is a
False
"
4931,69676,Read text file and dump to json object,"import os
import sys
import json
from IPy import IP
filepath=""E:/Work/""
filename=""data.txt""
result = list()
with open(os.path.join(filepath+filename)) as file:
  for line in file:
     ip = line.strip()
     if ip.startswith(""0""):
        result.append({""ip"": line.strip(), ""status"": ""invalid""})
     else:
        try:
            ip_add=IP(ip)
            result.append({""ip"": line.strip(), ""status"": ""Valid""})
        except ValueError:
            result.append({""ip"": line.strip(), ""status"": ""invalid""})
print(json.dumps(result))
"
39881,82541,Arrows in Polar Matplotlib Plot,"import matplotlib
import numpy as np
import matplotlib.pyplot as plt

print ""matplotlib.__version__   = "", matplotlib.__version__
print ""matplotlib.get_backend() = "", matplotlib.get_backend()


# radar green, solid grid lines
plt.rc('grid', color='#316931', linewidth=1, linestyle='-')
plt.rc('xtick', labelsize=15)
plt.rc('ytick', labelsize=15)

# force square figure and square axes looks better for polar, IMO
width, height = matplotlib.rcParams['figure.figsize']
size = min(width, height)
# make a square figure
fig = plt.figure(figsize=(size, size))
ax = fig.add_axes([0.1, 0.1, 0.8, 0.8], polar=True, axisbg='#d5de9c')

r = np.arange(0, 3.0, 0.01)
theta = 2*np.pi*r
ax.plot(theta, r, color='#ee8d18', lw=3)
ax.set_rmax(2.0)
plt.grid(True)

ax.set_title(""And there was much rejoicing!"", fontsize=20)
#This is the line I added:
arr1 = plt.arrow(0, 0.5, 0, 1, alpha = 0.5, width = 0.015,
                 edgecolor = 'black', facecolor = 'green', lw = 2, zorder = 5)

# arrow at 45 degree
arr2 = plt.arrow(45/180.*np.pi, 0.5, 0, 1, alpha = 0.5, width = 0.015,
                 edgecolor = 'black', facecolor = 'green', lw = 2, zorder = 5)

plt.show()
"
26008,40771,Simple DER Cert Parsing in python,">>> with open(""cert.der"", ""rb"") as f:
...     der = f.read()
... 
>>> import OpenSSL.crypto
>>> x509 = OpenSSL.crypto.load_certificate(OpenSSL.crypto.FILETYPE_ASN1, der)
>>> pkey = x509.get_pubkey()
>>> dir(pkey)
['__class__', '__delattr__', '__doc__', '__format__', '__getattribute__', '__hash__', '__init__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', 'bits', 'check', 'generate_key', 'type']
>>> pkey.bits()
4096L
>>> pkey.type() == OpenSSL.crypto.TYPE_RSA
True
"
23769,21343,How can I simply calculate the rolling/moving variance of a timeseries in python?,"import pandas as pd
import numpy as np

# some sample data
ts = pd.Series(np.random.randn(1000), index=pd.date_range('1/1/2000', periods=1000)).cumsum()

#plot the time series
ts.plot(style='k--')

# calculate a 60 day rolling mean and plot
pd.rolling_mean(ts, 60).plot(style='k')

# add the 20 day rolling variance:
pd.rolling_std(ts, 20).plot(style='b')
"
38190,83856,Joining multiple iteratorars by a key,"a = (  2, 3, 4,  )
b = (1,          )
c = (          5,)
d = (1,   3,   5,)

iters = [iter(x) for x in (a, b, c, d)]

this = [next(i) for i in iters]

while True:
    try:
        key = min(i for i in this if i != None)
    except ValueError:
        break
    for i, val in enumerate(this):
        if val == key:
            print val,
            this[i] = next(iters[i], None)
        else:
            print None,
    print
"
17243,18492,Global vs local instances in Python,"import os

def LongComputation(sample):
    # do some stuff that results in a value
    return value

def main():
    Info = {}
    for sample in os.listdir("".""):
        Info[sample] = LongComputation(sample)

main()
"
5770,995,Tkinter: How to dynamically insert items to another listbox?,"from Tkinter import *

root = Tk()

parentlist = ['one','two','three']
l1 = Listbox()
for item in parentlist:
    l1.insert(END, item)

l1.grid(row=0, column=0)
l2 = Listbox()

l2.grid(row=0, column=1)

def onselect(event, test):
    w = event.widget
    index = w.curselection()[0]
    print ""You selected: {0} and test variable is {1}"".format(index, test) 
    l2.insert(END, index ) # Instead of returning it, why not just insert it here?

l1select = l1.bind('<<ListboxSelect>>',lambda event: onselect(event, 'Test'))

root.mainloop()
"
10630,67293,Remove leading and trailing spaces?,"s = '   abdcde   '
s.strip()
'abcde'
"
17911,18996,Order QComboBox items alphabetically regardless of index,"cb = QComboBox()
cb.addItem(""A"", 4)
cb.addItem(""B"")
cb.setItemData(1, 1, Qt.UserRole)

# To get the data. or cb.itemData(cb.currentIndex(), Qt.UserRole)
cb.itemData(0, Qt.UserRole)
"
21939,58213,"How can i read an image from an internet url in python cv2 , scikit image and mahotas?","import cv2
import urllib
import numpy as np

req = urllib.urlopen('http://answers.opencv.org/upfiles/logo_2.png')
arr = np.asarray(bytearray(req.read()), dtype=np.uint8)
img = cv2.imdecode(arr,-1) # 'load it as it is'

cv2.imshow('lalala',img)
if cv2.waitKey() & 0xff == 27: quit()
"
18460,27208,matplotlib: How to get imshow colors?,"import numpy as np
import matplotlib.pyplot as plt

im = plt.imshow(image)
colours = im.cmap(im.norm(np.unique(image))
"
35152,34223,Encoding arabic results from Google search,">>> import urllib 
>>> url='example.com?title=%D0%BF%D1%80%D0%B0%D0%B2%D0%BE%D0%B2%D0%B0%D1%8F+%D0%B7%D0%B0%D1%89%D0%B8%D1%82%D0%B0'
>>> urllib.unquote(url).decode('utf8') 
u'example.com?title=\u043f\u0440\u0430\u0432\u043e\u0432\u0430\u044f+\u0437\u0430\u0449\u0438\u0442\u0430'
>>> print urllib.unquote(url).decode('utf8')
example.com?title=Ð¿ÑÐ°Ð²Ð¾Ð²Ð°Ñ+Ð·Ð°ÑÐ¸ÑÐ°
"
31994,11927,numpy ufunc/arithmetic performance - integer not using SSE?,"  0.04 â27b:   movdqu (%rdx,%rax,1),%xmm0
 25.33 â       add    $0x1,%r10
       â       movdqu (%r8,%rax,1),%xmm1
       â       paddd  %xmm1,%xmm0
 23.17 â       movups %xmm0,(%rcx,%rax,1)
 34.72 â       add    $0x10,%rax
 16.05 â       cmp    %r10,%rsi
       â     â ja     27b
"
17077,75635,Python - exclude data with double quotes and paranthesis,"#!/usr/bin/env python3
Input_sentence = ['(telco_name_list.event_date','reference.date)',""'testwebsite.com'"",'data_flow.code',""'/long/page/data.jsp'""]

comma = False
result = []
for i in range(len(Input_sentence)):
  e = Input_sentence[i]
  if e.startswith(""'""): continue
  e = e.replace('(', '').replace(')', '') 
  if comma:
    print("","", end="""")
  comma = True
  print(e, end="""")
print()
"
38457,62439,How do you get the url from Submission object in PRAW?,"reddit = praw.Reddit(""Amos"")
submission = reddit.get_submission(submission_id=""XYZ"")
print submission.permalink
>>> www.reddit.com/r/subreddit/comments/XYZ
"
15534,51173,Accessing Root in Jupyter Notebook,"import jupyter_core
import os,glob,json

jrd = jupyter_core.paths.jupyter_runtime_dir()
with open(glob.glob(jrd+'/nbserver-*.json')[0]) as json_file:
    root_dir = json.load(json_file)['notebook_dir']
"
8658,34468,Python counter for counting the most commmon string listed in the output,"for line in a:
    print '%s, %s' % (line[0], line[1])
"
19287,31327,Procedurally Create-Generate a Raster Image with PyQt,"def create_image(width, height, path):
    img = QtGui.QImage(width, height, QtGui.QImage.Format_RGB32)
    img.fill(QtCore.Qt.red)
    img.save(path, 'JPG')
"
30397,20761,How to return index of lists in Python,">>> a = [[0,1,2],[0,0,0],[1,1,1]]
>>> [i for i, x in enumerate(a, 1) if 2 not in x]
[2, 3]
"
9713,74537,execute a python script in C#,"        string arg = string.Format(@""C:\Users\ayed\Desktop\IronPythonExamples\RunExternalScript\plot.py""); // Path to the Python code
    Process p = new Process();
    p.StartInfo = new ProcessStartInfo(@""D:\WinPython\WinPython-64bit-2.7.5.3\python-2.7.5.amd64\python.exe"", arg);
    p.StartInfo.UseShellExecute = false;
    p.StartInfo.CreateNoWindow = true; // Hide the command line window
    p.StartInfo.RedirectStandardOutput = false;
    p.StartInfo.RedirectStandardError = false;
    Process processChild = Process.Start(p.StartInfo); 
"
36812,32105,numpy.savetxt() stop newline on final line,"NEWLINE_SIZE_IN_BYTES = 1  # 2 on Windows?
with open('data.dat', 'w') as fout:
    np.savetxt(fout, model, delimiter="","", fmt='%.3f')
    fout.seek(NEWLINE_SIZE_IN_BYTES, 2)
    fout.truncate()
"
16790,41358,Complicated csv format: columns in two lines,"with open('data.csv') as f:
    headers = f.readline().strip().split(',') # get years
    headers[:3] = f.readline().strip().split(',') # update first three columns
    data = pd.read_csv(f, names=headers)
"
31745,49146,Finding valid IP addresses with regex,"import re
reValidIPv4 = re.compile(r""""""
    # Match a valid IPv4 in the wild.
    (?:                                         # Group two start-of-IP assertions.
      ^                                         # Either the start of a line,
    | (?<=\s)                                   # or preceeded by whitespace.
    )                                           # Group two start-of-IP assertions.
    (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)    # First number in range 0-255 
    (?:                                         # Exactly 3 additional numbers.
      \.                                        # Numbers separated by dot.
      (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)  # Number in range 0-255 .
    ){3}                                        # Exactly 3 additional numbers.
    (?=$|\s)                                    # End IP on whitespace or EOL.
    """""", re.VERBOSE | re.MULTILINE)

text = ""10.0.0.1.1 but 127.0.0.256 1.1.1.1""
l = reValidIPv4.findall(text)
print(l)
"
7920,37677,remove selected csv column in python,"fruit_wanted = ['fruit'] + [""'%s'"" % f for f in fruit_wanted.split(',')]
outfile = csv.DictWriter(open(outputfile, 'wb'), fieldnames=fruit_wanted)
fruit_wanted = set(fruit_wanted)

for row in csv.DictReader(open(inputfile, 'rb')):
    row = {k: row[k] for k in row if k in fruit_wanted}
    outfile.writerow(row)
"
13318,42889,How to access next line in a file(.txt) in Python,"b = open(a, 'r+')
for line in b:
    if line.startswith(""E PRAM"") and ""OOPS: 1"" in line:
        next_line = next(b)
        # do whatever you need
"
5837,29592,"How do I plot with my axis label as time (in hrs, mins etc.)","import datetime

figure()
plot((datetime.datetime(1970,1,1), datetime.datetime(2000,1,1)), (0,1))
xlim(datetime.datetime(1980,1,1), datetime.datetime(1990,6,5))
"
33744,2728,App as foreign key,"# blog/models.py

class Blog(Model):
    owner = ForeignKey(User, related_name=""blogs"")
    name = Charfield()

class Post(Model):
    blog = ForeignKey(Blog, related_name=""posts"")
    #Other fields ...

class Comment(Model):
    post = ForeignKey(Post, related_name=""comments"")
    #Other fields ...
"
10843,54730,why aren't both labels updated?,"import Tkinter

class Store1:
    def __init__(self):
        self.variable = Tkinter.IntVar()
        self.variable1 = Tkinter.IntVar()

    def add(self):
        counter1 = self.variable
        counter1.set(counter1.get() + 1)
        counter2 = self.variable1
        counter2.set(counter2.get() + 1)
        return counter1.get(), counter2.get()

class Main(Tkinter.Tk):
    def __init__(self, *args, **kwargs):
        Tkinter.Tk.__init__(self, *args, **kwargs)
        counter1 = Store1()
        counter2 = Store1()

        def both_counters():
            counter1.add()
            counter2.add()

        self.label  = Tkinter.Label(self, textvariable=counter1.variable)
        self.button = Tkinter.Button(self, command=both_counters, text='+1')
        self.label.pack()
        self.button.pack()

        self.label1  = Tkinter.Label(self, textvariable=counter2.variable1)
        self.button1 = Tkinter.Button(self, command=both_counters, text='+1')
        self.label1.pack()
        self.button1.pack()

root = Main()
root.mainloop()
"
12554,44720,SQLAlchemy: how to pass extra parameters when instantiating new object,"class DB(object):
    def __init__(self):
        self._register_event()

    def _get_created_by(self):
        return datetime.datetime.now()

    def _register_event(self):
        @event.listens_for(Item, 'load')
        def receive_load(target, context):
            target.created_by = self._get_created_by()

    def test_select(self):
        items = session.query(Item).all()
        for item in items:
            print(item)

db = DB()
db.test_select()
"
16566,43837,two y axis with same scale,"...
ax2 = ax1.twiny()
a,b = 0,25000
ax1.set_ylim(a,b)
ax2.set_ylim(a,b)
"
36507,25521,How can I get the argument spec on a decorated function?,"import inspect
import decorator

@decorator.decorator
def decor(my_func,*args,**kw):
    result=my_func(*args,**kw)
    return result

@decor
def my_func(key=1, value=False):
    pass
decorated_argspec = inspect.getargspec(my_func)
print(decorated_argspec)
# ArgSpec(args=['key', 'value'], varargs=None, keywords=None, defaults=(1, False))
"
14851,2144,Set window size for xlsxwriter,"    workbook.window_width = 16095
    workbook.window_height = 9660
"
35281,67258,Python django sqlalchemy and formencode,"from django.shortcuts import render_to_response

from sqlalchemy import *
from sqlalchemy.orm import *

import formencode
from formencode import validators, htmlfill

engine = create_engine(""mysql+mysqldb://root:@localhost/testdb"",echo = True)
#create database link

metadata = MetaData(engine)
session = create_session()

#database table 
person_table = Table('person', metadata,
                     Column('id', Integer, primary_key = True),
                     Column('name', String(40)),
                     Column('age', Integer),
                     Column('about', String(100))
                     )

metadata.create_all(engine)#create database if not exist

class Person(object):#create a class for mapping
    def __init__(self,name,age,about):
        self.name = name
        self.age = age
        self.about = about
    def __repr__(self):
        return self.name, self.age, self.about

mapper(Person, person_table) #define map

class PersonValid(formencode.Schema):#for validation
    name = validators.String(not_empty=True, min = 3, max = 40)
    age = validators.Int(not_empty = True, min=1, max=120)
    about = validators.String(not_empty=True, min = 5, max = 100)


def insert_d(request): #insert def

 #for template page
    out = """"""

    <table>
      <tr>
      <td>Name:</td>
      <td><input type=""text"" name = ""name""/>
      <form:error name = ""name""/>
      <!--form:iferror name=""name"">Horrible horror message</form:iferror-->
      <td>
      </tr>
      <tr>
      <td>Age:</td>
      <td><input type=""text"" name=""age""/>
      <form:error name=""age"" />
      <!--form:iferror name=""age"">Horrible horror message</form:iferror-->
      </td>
      </tr>
      <tr>
      <td>About</td>
      <td><textarea name=""about""></textarea>
      <form:error name=""about"" />
      <!--form:iferror name=""about"">Horrible horror message</form:iferror-->
      <td>
      </tr>
      <table>
      <input type = ""submit"" value = ""Submit"">

    """"""

    if request.method == 'POST':
        inp = {'name': request.POST['name'],
               'age': request.POST['age'],
               'about': request.POST['about']
               }
        try:
            PersonValid.to_python(inp)

            a_person = Person(['name'],
                              inp['age'],
                              inp['about']
                              )

            session.add(a_person)
            session.flush()
            return render_to_response('formencode/htmlfill.html',
                                      {'out': htmlfill.render(out,{} ),
                                       'text':""Saved OK""}
                                      )


        except validators.Invalid, e:

            val = htmlfill.render(out, e.error_dict or {})

    else:
        return render_to_response('formencode/htmlfill.html',
                                  {'out':out,'text':""POST NOT START""}
                                  )


    #html form

    #the htmlfill.html locate in ""templete/formencode/"" 
     directory contain the page below

<form name=""out"" method=""POST"" action=""/fcode_alch/"">

{%autoescape off%}    
{{text}}
{{out}}    
{%endautoescape%}
"
39510,23899,"Override Class Attribute, with a generic way to refer to class","class Company(models.Model):
    ...
    def save(self, *args, **kw):
       if self.employees is None:
            self.employees = self.DEFAULT_EMPLOYEES
       super(Company, self).save(*args, **kw)
"
36325,10580,Merge/Concat Issue,"df3 = dataframe1.merge(dataframe2, on='ID', how='left)
"
26548,51409,control stdin and stdout of a ruby program in python,"slave = Popen(['ruby', 'slave.rb'], stdin=pipe, stdout=pipe, stderr=out, bufsize=0)
"
7298,43459,"How can I write to the textfile with ""while""?","text_file = open(""write_it.txt"", ""w"")
while 1:
    word = input(""Please add to a text file: "")
    if not word:
        break
    text_file.write(word)
text_file.close()
"
9398,77656,Python Boto Download Questions,"def read_file(self, key_name):
    k = Key(self.__bucket)
    k.key = key_name
    if k.exists():
        rawData = k.read()
    else :
        rawData = None
    return rawData
"
3945,48292,pause system functionality until my python script is done,"import os

def set_exit_handler(func):
    import signal
    signal.signal(signal.SIGHUP, func) # on closing the terminal
    signal.signal(signal.SIGTERM, func) # on killing the process

    import atexit
    atexit.register(func) # on Ctrl-C, Ctrl-D and other proper exits

if __name__ == ""__main__"":
    def on_exit(a=None, b=None):
        print ""exit handler triggered""
        os.system(""gnome-session-quit --logout --no-prompt"")
    set_exit_handler(on_exit)

    print ""Enter password:""
    raw_input()
    # ... some verification/timeout code ...
"
35405,76809,Using Labels in HAVING() Clause in SQLAlchemy,"node = aliased(Category)
parent = aliased(Category)
sub_parent = aliased(Category)

sub_tree = DBSession.query(node.name,
    (func.count(parent.name) - 1).label('depth')).\
    join(parent, node.lft.between(parent.lft, parent.rgt)).\
    filter(node.name == category_name).\
    group_by(node.name).\
    order_by(node.lft).subquery()

depth = (func.count(parent.name) - (sub_tree.c.depth + 1)).label('depth')
children = DBSession.query(node.name, depth).\
    join(parent, node.lft.between(parent.lft, parent.rgt)).\
    join(sub_parent, node.lft.between(sub_parent.lft, sub_parent.rgt)).\
    join(sub_tree, sub_parent.name == sub_tree.c.name).\
    group_by(node.name, sub_tree.c.depth).\
    having(depth <= 1).\
    order_by(node.lft).all()
"
21449,60806,Pyplot zorder lost with animation,"#! /usr/bin/python
import numpy as np
from matplotlib import pyplot as plt
from matplotlib import animation
import random

def init():
    imobj.set_data(np.zeros((100, 100)))
    line_simu.set_data([], [])
    time_text.set_text('time = 0.0')

    return imobj , line_simu,  time_text,  l

def animate(i):
    global data
    imobj.set_data( data + np.random.random((100,1)) * 0.5 )

    imobj.set_zorder(0)
    y_simu = np.linspace(-100,-10, 100)
    x_simu = np.linspace(-10, 10, 100) 
    line_simu.set_data(x_simu, y_simu)
    time_text.set_text('time = %.1f' % i )


    return imobj , line_simu, time_text,  l


def forceAspect(ax,aspect=1):
    im = ax.get_images()
    extent =  im[0].get_extent()
    ax.set_aspect(abs((extent[1]-extent[0])/(extent[3]-extent[2]))/aspect)



fig = plt.figure()
ax = plt.axes(xlim=(-15,15), ylim=(-110, 0) , aspect=1)

data = np.random.random((100,100)) - .5
imobj = ax.imshow( data , extent=[-15,15, -110, 0.0], origin='lower', cmap=plt.cm.gray, vmin=-2, vmax=2, alpha=1.0, zorder=1, aspect=1)

line_simu, = ax.plot([], [],""r--"", lw=2, markersize=4 , label = ""Some curve"" ,  zorder= 1 )
time_text = ax.text(-14.0, -108, '', zorder=10)

forceAspect(ax,aspect=1)

l = plt.legend(loc='lower right', prop={'size':8} )

anim = animation.FuncAnimation(fig, animate, init_func=init,  frames=range( 50), interval=500, blit=True)

plt.show()
"
29509,26573,django: how to get a substring from django.utils.safestring.SafeUnicode,">>> from django.utils.safestring import SafeUnicode
>>> su = SafeUnicode(""This is my original <strong>Safe string</strong>"")
>>> just_the_strong = SafeUnicode(su[20:])
>>> print just_the_strong
u'<strong>Safe string</string>'
>>> type(just_the_strong)
<class 'django.utils.safestring.SafeUnicode'>
"
25654,52843,Django: Ordered list of model instances from different models?,"from itertools import chain
from operator import attrgetter

images = ImageItem.objects.filter(user=user)
video = VideoItem.objects.filter(user=user)
audio = AudioItem.objects.filter(user=user)
result_list = sorted(chain(images, video, audio),
                     key=attrgetter('upload_date'),
                     reverse=True)
"
31109,76695,howto extract simple string from tuple in python (newbie question),"tuples = [('and', 44023), ('cx', 37711), ('is', 36777) .... ]
strings, numbers = zip(*tuples)
"
15250,53950,Plot table and display Pandas Dataframe,"import matplotlib.pyplot as plt
ax = plt.subplot(111, frame_on=False) 
ax.xaxis.set_visible(False) 
ax.yaxis.set_visible(False)

the_table = plt.table(cellText=table_vals,
    colWidths = [0.5]*len(col_labels),
    rowLabels=row_labels, colLabels=col_labels,
    cellLoc = 'center', rowLoc = 'center')

plt.show()
"
415,35049,Sorting list of strings based on another list of strings,">>> sorted(y1, key=x.index)
['foo', 'qux', 'zox']
"
36848,77412,"loop through lists, finding minimum value greater than previous minimum","minimums = []
minimum = None
for sublist in my_list:
    try:
        minimum = min(x for x in sublist if minimum is None or x > minimum)
        minimums.append(minimum)
    except ValueError: # No numbers greater than minimum
        # Error handling
"
19434,75020,If string contains an list item,"test = ['he', 'she', 'them']
string = 'hello'
if any(test_item  in string for test_item in test):
    print 'yes'
"
8589,25156,launch program in new shell window from python,"import subprocess
import shlex
process = subprocess.Popen(
    shlex.split(""""""x-terminal-emulator -e 'bash -c ""test.py""'""""""), stdout=subprocess.PIPE)
process.wait()
print (process.returncode)
"
6369,62446,Pandas DataFrame - select rows that match one of many conditions,"new_df = my_df[my_df['Column'].isin(selected_items)]
"
21420,74590,maya close window signal,"class Handler(object):

    def __init__(self):
        self.handlers = []

    def add_handler (self, func):
        self.handlers.append(func)

    def __call__(self, *args, **kwargs):
        for eachfunc in handler:
            eachfunc(*args, **kwargs)

 hndl = Handler()
 hndl.add_handler(function1)  # do some ui work...
 hndl.add_handler(function2)  # do some scene work...
 hndl.add_handler(function3)  # do something over network, etc....

 b = cmds.button('twoFunctions', c = Hndl)
"
17373,10649,Lazy load / configure a class to inherit from,"def optional_inherit(cls):
    if use_option:
        from package.my_module import OptClass
        class ExampleClassWithOptClass(cls, OptClass):
            pass
        return ExampleClassWithOptClass
    else:
        return cls

...

@optional_inherit
class ExampleClass(base_module.BaseHandler):
    ...
"
3149,72988,"Python pandas: ""Empty Dataframe"" when selecting an interval of that Dataframe","date        open     high     low      close    volume    adj
2015-09-25  3113.16  3113.16  3113.16  3113.16       0    3113.16
2015-09-24  3019.34  3019.34  3019.34  3019.34       0    3019.34
2015-09-23  3079.99  3079.99  3079.99  3079.99       0    3079.99
2015-09-22  3076.05  3076.05  3076.05  3076.05       0    3076.05
2015-09-21  3184.72  3184.72  3184.72  3184.72       0    3184.72

import pandas as pd

df = pd.read_csv('test.txt', sep=""\s+"")
df['date'] = pd.to_datetime(df['date'])
df.set_index(['date',inplace=True])
df.ix['2015-09-25':'2015-09-22']
Out[15]: 
               open     high      low    close  volume      adj
date                                                           
2015-09-25  3113.16  3113.16  3113.16  3113.16       0  3113.16
2015-09-24  3019.34  3019.34  3019.34  3019.34       0  3019.34
2015-09-23  3079.99  3079.99  3079.99  3079.99       0  3079.99
"
29659,81618,Find text starting with ... endin with (shortcode style),"import re
t = 'foobar[[img src=""picture.jpg"" alt=""Description"" caption=""Caption here...""]]helloworld'
p = r'(\[\[img.*?\""\]\])'
foo = re.findall(p,t)

t = t.replace(foo[0],'bar')
print t
"
13226,68420,Is there an elegant way to count tag elements in a xml file using lxml in python?,"import lxml.etree
doc = lxml.etree.parse(xml)
count = doc.xpath('count(//author)')
"
16147,62650,"For each ""sub item"" in json array, get name, then the value for a sub item","import json
from pprint import pprint


text = '''{
""1"": {
    ""2"": {
        ""3"": {""9"": 10, ""8"": 11, ""7"": 12},
        ""4"": {""9"": 13, ""8"": 14, ""7"": 15},
        ""5"": {""9"": 16, ""8"": 17, ""7"": 18},
        ""6"": {""9"": 19, ""8"": 20, ""7"": 21}
        }
    }
}
'''

block = json.loads(text)
block2 = block['1']['2']
for key, sub_block in block2.iteritems():
    print '%s (%s)' % (key, sub_block['9'])
"
7875,569,Is it possible to edit the inline code in with BeautifulSoup?,"for link in soup.findAll('a'):
    if link['href'].startswith('/'):
        link['href']= 'http://www.foobarinc.com'+link['href']
"
37719,47343,How to convert timedelta column in pandas to string,"import pandas as pd

df = pd.DataFrame({'dates': pd.date_range('2015-01-01', '2015-01-10', freq='12H')})
df.dates.dt.strftime('%H:%S')
"
3829,69441,How loop an input over until correct answer is entered,"answer = ""John""
nameString = []

nameInput = raw_input(""Enter a name"")

while nameInput != answer:
    nameString.append(nameInput)
    print nameInput = raw_input(""Enter a name"")
print(""Incorrect Names: "", nameString)
"
28427,1530,Remove leading and trailing zeros from multidimensional list in Python,"for sub_list in my_list:
    for dx in (0, -1):
        while sub_list and sub_list[dx] == 0:
            sub_list.pop(dx)
"
7283,30148,how to write a function to split out elements in the list to string in python,"def print_var(variable_list):
    for i, element in enumerate(variable_list):
        print 'x' + str(i) + ' = ' + element

mylist = ['var','var1','var2','var3']
anotherlist = ['var','var1','var2','var4','var5']
print_var(mylist)
print_var(anotherlist)
"
33543,9991,"Declare array with ""where""","arr = [x for x in vec if x < 2]
"
15078,18829,search function for doubly linked list,"def search (self, element):
    current=self.head
    index=1
    while current != None:
        if current.data == element:
            return index
        current = current.next_node
        index += 1
    return -1
"
22268,23828,Concatenating pandas dataframes along time series index without duplicating columns,"unique_indices = np.setdiff1d(np.unioin1d(old_close.index.to_list(), new_close.index.to_list()), 
                              np.intersect1d(old_close.index.to_list(), new_close.index.to_list()))
merged_close = pd.concat([old_close, new_close]).ix[unique_indices]
"
2545,78828,Pandas select index from grouped dataframe,"res = grp['ColA'].reset_index()
# res is now a DataFrame with key and ColA as the columns
"
13502,60404,Pause Python program on the fly (and resume),"class Program():

    def run(self):
        while 1:
            try:
                self.do_something()
            except KeyboardInterrupt:
                break

    def do_something(self):
        print(""Doing something"")


# usage:

a = Program()
a.run()

# will print a lot of statements

#Â if you hit CTRL+C it will stop
# then you can run it again with a.run()
"
27793,21892,Pydev: Send stdout to a real (tty) terminal,"import subprocess
import sys
import os
args = [sys.executable] + sys.argv
new_environ = os.environ.copy()

if hasattr(subprocess, 'CREATE_NEW_CONSOLE'):
    popen = subprocess.Popen(args, env=new_environ, creationflags=subprocess.CREATE_NEW_CONSOLE)
    exit_code = popen.wait()
else:
    #On Linux, CREATE_NEW_CONSOLE is not available, thus, we use xterm itself.
    args = ['xterm', '-e'] + args
    popen = subprocess.Popen(args, env=new_environ)
    popen.wait() #This exit code will always be 0 when xterm is executed.
"
7979,72417,Drag and drop on script not behaving properly,"import os
import sys

args = sys.argv
path = ""\\"".join(args[1].split('\\')[:-1])
file_name = args[1].split(""\\"")[-1]

file_name = file_name.lower()
file_name = file_name.replace(' ','_')

file_name = path+'\\'+file_name
os.rename(args[1],file_name)
"
8712,44265,IPython forward slash documentation," You can force auto-parentheses by using '/' as the first character
     of a line.  For example::

          In [1]: /globals             # becomes 'globals()'

     Note that the '/' MUST be the first character on the line!  This
     won't work::

          In [2]: print /globals    # syntax error

     In most cases the automatic algorithm should work, so you should
     rarely need to explicitly invoke /. One notable exception is if you
     are trying to call a function with a list of tuples as arguments (the
     parenthesis will confuse IPython)::

          In [1]: zip (1,2,3),(4,5,6)  # won't work

     but this will work::

          In [2]: /zip (1,2,3),(4,5,6)
          ------> zip ((1,2,3),(4,5,6))
          Out[2]= [(1, 4), (2, 5), (3, 6)]

     IPython tells you that it has altered your command line by
     displaying the new command line preceded by -->.  e.g.::

          In [18]: callable list
          -------> callable (list)
"
3343,25963,Using class variable as non-default argument in python,"class a:

    def __init__(self):
        self.__variable = 6

    def b(self, value=None):
        if value is None:
            value = self.__variable
        print value
"
108,29084,How to write a program for multiplying list of numbers in shortest line?,"def calculate(oper, *nm):
    return reduce(oper, nm)

In [6]: import operator

In [7]: calculate(operator.add, 2, 34, 2)
Out[7]: 38

In [8]: calculate(operator.mul, 8, 5, 7)
Out[9]: 280
"
19709,82051,flask-sqlalchemy multiple relationship types between two tables,"from sqlalchemy import create_engine, Column, Integer, String, ForeignKey, Table
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker, relationship

engine = create_engine('sqlite:///:memory:', echo=True)
Session = sessionmaker(bind=engine)
session = Session()
Base = declarative_base(bind=engine)


class Product(Base):
    __tablename__ = 'product'

    id = Column(Integer, primary_key=True)
    name = Column(String, nullable=False)

    # cover image foreign key
    # use_alter=True along with name='' adds this foreign key after Image has been created to avoid circular dependency
    cover_id = Column(Integer, ForeignKey('image.id', use_alter=True, name='fk_product_cover_id'))

    # cover image one-to-one relationship
    # set post_update=True to avoid circular dependency during
    cover = relationship('Image', foreign_keys=cover_id, post_update=True)

class Image(Base):
    __tablename__ = 'image'

    id = Column(Integer, primary_key=True)
    path = Column(String, nullable=False)
    product_id = Column(Integer, ForeignKey(Product.id))

    # product gallery many-to-one
    product = relationship(Product, foreign_keys=product_id, backref='images')

    # nothing special was need in Image, all circular dependencies were solved in Product


Base.metadata.create_all()

# create some images
i1 = Image(path='img1')
i2 = Image(path='img2')
i3 = Image(path='img3')
i4 = Image(path='img4')

# create a product with those images, one of which will also be the cover
p1 = Product(name='sample', images=[i1, i2, i3, i4], cover=i2)

session.add(p1)
session.commit()

print 'cover:', p1.cover.path  # prints one cover image path
print 'images:', [i.path for i in p1.images]  # prints 4 gallery image paths

print 'image product:', p1.images[0].product.name  # prints product name from image perspective
"
710,1956,"Python: How to preserve Ã,Ã,Ã when writing to file","def parse(self, source, parser=None):
    if not hasattr(source, ""read""):
        source = open(source, ""rb"")
    if not parser:
        parser = XMLParser(target=TreeBuilder())
    while 1:
        data = source.read(65536)
        if not data:
            break
        parser.feed(data)
    self._root = parser.close()
    return self._root
"
23415,28709,How can I rescale the range of variables in a 2D plot?,"plt.imshow(grid1,
    extent=(x1.min(), x1.max(), y1.min(), y1.max()),
    origin='lower', vmin=-5, vmax=5, aspect='auto',
    interpolation='nearest', cmap=cm.gist_rainbow)
"
18181,7154,python: How to plot 2D discontinuous node-centered data?,"import numpy as np
import matplotlib.pyplot as plt
import matplotlib.tri as tri

x = np.array( [
[ [0.0, 1.0], [0.0, 1.0], [0.0, 1.0]  ],  #element 0
[ [1.0, 2.0], [1.0, 2.0], [1.0, 2.0]  ],  #element 1
[ [2.0, 3.0], [2.0, 3.0], [2.0, 3.0]  ],  #element 2
] )

y = np.array( [
[ [0.0, 0.0], [0.5, 0.5], [1.0, 1.0]  ],  #element 0
[ [0.0, 1.0], [0.5, 1.5], [1.0, 2.0]  ],  #element 1
[ [1.0, 1.0], [1.5, 1.5], [2.0, 2.0]  ],  #element 2
] )

z = np.array( [
[ [0.0, 0.5], [0.0, 0.8], [0.0, 1.0]  ],  #element 0
[ [0.3, 1.0], [0.6, 1.2], [0.8, 1.3]  ],  #element 1
[ [1.2, 1.5], [1.3, 1.4], [1.5, 1.7]  ],  #element 2
] )



global_num_pts =  z.size
global_x = np.zeros( global_num_pts )
global_y = np.zeros( global_num_pts )
global_z = np.zeros( global_num_pts )
global_triang_list = list()

offset = 0;
num_triangles = 0;

#process triangulation element-by-element
for k in range(z.shape[0]):
    points_x = x[k,...].flatten()
    points_y = y[k,...].flatten()
    z_element = z[k,...].flatten()
    num_points_this_element = points_x.size

    #auto-generate Delauny triangulation for the element, which should be flawless due to quadrilateral element shape
    triang = tri.Triangulation(points_x, points_y)
    global_triang_list.append( triang.triangles + offset ) #offseting triangle indices by start index of this element

    #store results for this element in global triangulation arrays
    global_x[offset:(offset+num_points_this_element)] = points_x
    global_y[offset:(offset+num_points_this_element)] = points_y
    global_z[offset:(offset+num_points_this_element)] = z_element

    num_triangles += triang.triangles.shape[0]
    offset += num_points_this_element


#go back and turn all of the triangle indices into one global triangle array
offset = 0
global_triang = np.zeros( (num_triangles, 3) )
for t in global_triang_list:
    global_triang[ offset:(offset+t.shape[0] )] = t
    offset += t.shape[0]

plt.figure()
plt.gca().set_aspect('equal')

plt.tripcolor(global_x, global_y, global_triang, global_z, shading='gouraud' )
#plt.tricontour(global_x, global_y, global_triang, global_z )
#plt.triplot(global_x, global_y, global_triang, 'go-') #plot just the triangle mesh

plt.xlim((-0.25, 3.25))
plt.ylim((-0.25, 2.25))
plt.show()
"
34516,40010,"Django Models: default callback: missing ""self""","from django.db.models.signals import post_save, pre_save

@receiver(pre_save, sender=Face)
def check_beard(sender, instance=None, created=False, **kwargs):
    if not instance.id and not instance.male: # Check instance id if it saving for first time, and set default
        instance.beard = False
"
4952,42595,PEP8 - 80 Characters - Big Strings,"s = ""this is my really, really, really, really, really, really,"" \
    "" really long string that I'd like to shorten.""
"
1641,14414,importing files residing in an unrelated path,"14:59 jsmith@upsidedownï£¿ pwd
/Users/jsmith/Test/Test2/root

14:59 jsmith@upsidedownï£¿ cat x/test.py
def hello():
  print ""hello""

14:59 jsmith@upsidedownï£¿ cat y/real.py
#!/usr/bin/python
from x import test
test.hello()

14:59 jsmith@upsidedownï£¿ y/real.py
Traceback (most recent call last):
  File ""y/real.py"", line 3, in <module>
    from x import test
ImportError: No module named x
"
2764,52200,How to Get a specific value from a list,"my_list = [1, 2, 3, 4, 5]

if 3 in my_list:
    print('you found it')
"
25149,27105,Pass large data structure in Python,"def foo(array):
    array[0] = 3 # do stuff to the array in place

huge_array = [1,2,3]
foo(huge_array) # returns None
print huge_array # [3,2,3]
"
29386,84652,"Python - csvwriter emprty result, but print works","# try rewriting this
data = []

for index, item in enumerate(titles):
    tmp = titles[index].encode(""utf-8"")
    replaced = re.sub(r'<font color=""#006633"" face=""Verdana"" size=""4"">', ' ', tmp)
    replaced = re.sub(r'\n', ' ', replaced)
    replaced = re.sub(r'\r', ' ', replaced)
    replaced = re.sub(r'</font>', ' ', replaced)
    replaced = re.sub(r'\s+', ' ', replaced)
    data.append(replaced) # use append to add replaced to the list
...
# and writerow with data
print data # if you want to see the data on each loop
w.writerow(data)
"
34819,1831,subprocess.Popen give real-time feedback in python,"def onRun(self, event):
    """"""""""""
    command1 = transporterLink + "" -m verify -f "" + indir1 + "" -u "" + username + "" -p "" + password + "" -o "" + indir1 + ""\\VerifyLog.txt -s ""
+ provider1 + "" -v eXtreme""
    master, slave = pty.openpty()
    process = Popen(command1, shell=True, stdin=PIPE, stdout=slave, stderr=slave, close_fds=True)
    stdout = os.fdopen(master)
    while True:
        line = stdout.readline()
        wx.Yield()
        print line.rstrip()
        if not line:
            break
    process.wait()
"
11672,80166,How to quickly fill the miss quarterly end record for Pandas dataframe?,">>> def func(df, date_list):
...     lb, ub = df.RPT_Date.min(), df.RPT_Date.max()
...     pred = lambda x: lb <= x <= ub
...     df = df.set_index('RPT_Date').reindex_axis(filter(pred, date_list))
...     df.index.name = 'RPT_Date'
...     return df
... 
>>> grb = df.reset_index().groupby('STK_ID')
>>> grb.apply(func, date_list=RPT_DATE_LIST).drop('STK_ID', axis=1)
                  sales  net_pft
STK_ID RPT_Date                 
876    20061231  35.737    2.195
       20070331     NaN      NaN
       20070630  20.247    1.653
       20070930     NaN      NaN
       20071231     NaN      NaN
       20080331  16.565    0.550
600141 20071231  15.915    0.440
       20080331     NaN      NaN
       20080630   7.907    0.172
       20080930  12.505    0.503
       20081231     NaN      NaN
       20090331   5.360    0.342
600809 20070331  15.274    2.606
       20070630   9.489    1.947
       20070930  13.017    2.464
       20071231     NaN      NaN
       20080331   3.156    0.280

[17 rows x 2 columns]
"
24131,7175,How to print selected elements from file?,"with open(""fk.txt"") as file:   # Use file to refer to the file object
    data = file.readlines()
column1, column2 = [], []
for line in data:
    try:
        entry1, entry2 = line.split(' ')
        column1.append(int(entry1))
        column2.append(int(entry2))
    except ValueError:
        pass
print column1, column2
"
18345,69051,Django Template: Comparing Dictionary Length in IF Statement,"{% if error_messages %}
    <div class=""error"">
        {% ifequal error_messages|length 1 %}
            error_messages[0]
        {% else %}
            Please fix the following errors:
            <div class=""erroritem"">
            {% for key, value in error_messages.items %}
                <br>{{ value }}
            {% endfor %}
            </div>
        {% endifequal %}
    </div>
{% endif %}
"
28710,47512,print line in specific order,"x = [1,2,3,4,5]
for i in xrange(len(x)):
    for j, xi in enumerate(x):
        if i == j:
            print xi,
        else:
            print -xi,
    print
"
13751,82432,Reportlab bold and normal text in one paragraph,"course_info = [
               ['<b>Course Code</b>' , c.course_code] ,
               ['<b>Course Title</b>' , c.course_name],
               ['<b>Prerequisites by Course(s) and Topics</b>', c.pre_reqs],
               ['<b>Assessment Instruments with Weights</b> (some desc)', c.grade_distribution]
            ]

for k in course_info: 
    headpara = Paragraph(k[0], styleN) 
    datas.append([headpara , Paragraph(clean_string(k[1]), styleN)])
"
25005,61781,"Django - how to display an object's field names and attributes, excluding null ones?","{% for key, value in dictionary.items %}
  {% if value %}
    <p>{{ key }}: {{ value }}</p>
  {% endif %}
{% endfor %}
"
16552,40499,DBus-Cherrypy merge issue,"dbus.mainloop.glib.DBusGMainLoop(set_as_default=True)
gobject.threads_init()
dbus.mainloop.glib.threads_init()    
DBUSMAINLOOP = gobject.MainLoop()

print 'Creating DBus Thread'
DBUSLOOPTHREAD = threading.Thread(name='glib_mainloop', target=DBUSMAINLOOP.run)
DBUSLOOPTHREAD.start()

print 'Starting REST'
cherrypy.config.update({ 'server.socket_host': Common.DBUS_SERVER_ADDR, 'server.socket_port': Common.DBUS_SERVER_PORT, })
cherrypy.quickstart(USBRest())
"
25131,65240,XML file as input,"xml = BytesIO(open(""/home/user1/test.xml"").read())
"
21862,19566,PyQt5 QDialog in subsequent threads,"import sys
from threading import Thread
from PyQt5 import QtWidgets, QtCore


class Ui_Dialog(object):
    def setupUi(self, Dialog):
        Dialog.setObjectName(""Dialog"")
        self.pushButton = QtWidgets.QPushButton(Dialog)
        self.pushButton.setGeometry(QtCore.QRect(100, 100, 100, 50))
        self.pushButton.setObjectName(""pushButton"")

        self.retranslateUi(Dialog)
        QtCore.QMetaObject.connectSlotsByName(Dialog)

    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate(""Dialog"", ""Test""))
        self.pushButton.setText(_translate(""Dialog"", ""OK""))


class Ui_MainWindow(object):
    def setupUi(self, mainWindow):
        mainWindow.setObjectName(""mainWindow"")
        self.pushButton = QtWidgets.QPushButton(mainWindow)
        self.pushButton.setGeometry(QtCore.QRect(30, 20, 100, 60))
        self.pushButton.setObjectName(""pushButton"")

        self.retranslateUi(mainWindow)
        QtCore.QMetaObject.connectSlotsByName(mainWindow)

    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate(""mainWindow"", ""Test""))
        self.pushButton.setText(_translate(""mainWindow"", ""Push Me!""))


class TestDialog(QtWidgets.QDialog):
    signal = QtCore.pyqtSignal()

    def __init__(self, parent=None):
        super(TestDialog, self).__init__(parent)
        self.ui = Ui_Dialog()
        self.ui.setupUi(self)
        # This message simply needs to go away
        self.ui.pushButton.clicked.connect(self.close)

    def show_message(self):
        # Use this to display the pop-up so the text can be altered
        super(TestDialog, self).exec_()
        self.signal.emit()


class Main(QtWidgets.QMainWindow):
    signal = QtCore.pyqtSignal()

    def __init__(self):
        super(Main, self).__init__()
        self.ui = Ui_MainWindow()
        self.ui.setupUi(self)

        self.dialog = TestDialog()
        self.dialog_done = False

        self.ui.pushButton.clicked.connect(self.start_thread)

    def complete_dialog(self):
        self.dialog_done = True

    def wait_for_dialog(self):
        while not self.dialog_done:
            pass
        self.dialog_done = False

    def start_thread(self):
        t = Thread(target=self.show_dialog)
        t.daemon = True
        t.start()

    def show_dialog(self):
        # Do lots of background stuff here
        self.signal.emit()
        # Wait for the dialog to get closed
        self.wait_for_dialog()


if __name__ == '__main__':
    app = QtWidgets.QApplication(sys.argv)
    window = Main()
    window.show()
    dialog = TestDialog()
    window.signal.connect(dialog.show_message)
    dialog.signal.connect(window.complete_dialog)
    sys.exit(app.exec_())
"
4479,66406,Convert faulty unicode string to bytes,"bytes(map(ord, u'\xf4\xfb\xe2'))
"
30207,14669,creating data for matplotlib,"matplotlib.pyplot.yscale('log')
"
383,43296,Filtering a dictionary + Tuple,"ticketdata = pickle.load(open(""tickets.p"", ""rb""))

for i in ticketdata:
    for j in ticketdata[i]['events']:
        if 'closed' in j:
            print i, ticketdata[i]['events']
"
6234,56776,Kivy: Multiple items in a popup wont work,"from kivy.uix.popup import Popup
from kivy.uix.textinput import TextInput
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.label import Label

box = BoxLayout()
box.add_widget(Label(text='Hello world'))
box.add_widget(TextInput(text='Hi'))

popup = Popup(title='Test popup', content=box, size_hint=(None, None), size=(400, 400))
"
34375,56913,How can I combine/nest EnumFields in Django?,"from django.db import models
from django_enumfield import enum

class DrinkStyle(enum.Enum):
    LAGER = (0, 'Beer')
    STOUT = (1, 'Beer')
    WEISSBIER = (2, 'Beer')
    COKE = (3, 'SoftDrink')
    LEMONADE = (4, 'SoftDrink')

    def __init__(self, id, drink_type):
        self.id = id    
        self.type = drink_type

    @property
    def type(self):
        return self.drink_type

class Drink(models.Model):
    style = enum.EnumField(DrinkStyle, default=DrinkStyle.LAGER)
"
13393,84897,counting combinations and permutations efficiently,"from itertools import izip

reduce(lambda x, y: x * y[0] / y[1], izip(xrange(n - r + 1, n+1), xrange(1, r+1)), 1)
"
29608,77714,Concurrency implications of EAFP/LBYL,"item = getattr(foo, 'bar', None)
if item is None:
    ....
else:
    ....
"
11600,12484,Django Multiple Views for index/dashboard template,"from status import Alert

context['list'] = Alert.objects.filter(All My Filters Here! (link below))[:8]
"
23552,27150,Accessing slider value directly in variable,"x = Slider.value()  # x contains the integer value of the slider
"
8811,81045,Django filebrowser - resize before upload,"from filebrowser import signals

def pre_upload_callback(sender, **kwargs):
    """"""
    Receiver function called before an upload starts.
    """"""
    print ""Pre Upload Callback""
    print ""kwargs:"", kwargs
    # your code HERE
signals.filebrowser_pre_upload.connect(pre_upload_callback)
"
1115,10803,QBoxLayouts with Python,"    subLayoutC=QtGui.QVBoxLayout()
    buttonFrame = QtGui.QFrame()
    buttonFrame.setFrameStyle(QtGui.QFrame.Plain |QtGui.QFrame.Box)
    buttonFrame.setLayout(subLayoutC)

    subLayoutC.addWidget(QtGui.QPushButton('PushButton 1'))
    subLayoutC.addWidget(QtGui.QPushButton('PushButton 2'))

    # now we add the QFrame widget - not subLayoutC to the tabLayout
    tabLayout.addWidget(buttonFrame) # I think your suggested edit was correct here
    self.setCentralWidget(tabWidget)
"
37850,43210,Is twitter-text-python thread-safe?," def parse(self, text, html=True):
        '''Parse the text and return a ParseResult instance.'''
        self._urls = []
        self._users = []
        self._lists = []
        self._tags = []

        reply = REPLY_REGEX.match(text)
        reply = reply.groups(0)[0] if reply is not None else None

        parsed_html = self._html(text) if html else self._text(text)
        return ParseResult(self._urls, self._users, reply,
                           self._lists, self._tags, parsed_html)
"
27138,14701,Tkinter Text Highlighting With Markers Like: [B] and [\B],"#!/usr/bin/env python3
from tkinter import *
from tkinter import ttk
from tkinter import messagebox
root = Tk()
tx = Text(root, background='white', font='Courier 12')
tx.grid(column=0, row=0, sticky=(N, W, E, S))
ybar = ttk.Scrollbar(root, orient=VERTICAL, command=tx.yview)
ybar.grid(column=1, row=0, sticky=(N, W, E, S))
xbar = ttk.Scrollbar(root, orient=HORIZONTAL, command=tx.xview)
xbar.grid(column=0, row=1, columnspan=2, sticky=(N, W, E, S))
tx[""yscrollcommand""] = ybar.set
tx[""xscrollcommand""] = xbar.set
tx.tag_config('hide', elide=1)
tx.tag_config('bold', font='Courier 12 bold')
lastplace=tx.index('1.0')
def boldit():
    global tx, lastplace
    nextplace = tx.search('[B]', lastplace, 'end')
    if nextplace:
        boldon = nextplace + ' +3c'
        tx.tag_add('hide', nextplace, boldon)
        boldoff = tx.search('[/B]', boldon, 'end')
        if boldoff:
            tx.tag_add('bold', boldon, boldoff) 
            codoff = boldoff + ' +4c'
            tx.tag_add('hide', boldoff, codoff)
        lastplace = codoff
        boldit()
    else:
        return
tx.insert('1.0', """"""When, in the course of [B]human events,[/B] it becomes [B]necessary[/B] for one people to [B]dissolve[/B] the political bands ..."""""")
boldit()        
root.mainloop()
"
7549,50794,Assistance with selenium web scraping,"from selenium import webdriver

driver = webdriver.Chrome()
driver.get('http://www.cmohs.org/search-results.php?q=&x=40&y=9&rank=Musician&organization=&division=&company=&conflict=')

# get hrefs
view_links = driver.find_elements_by_class_name('recipientView')
for index, view in enumerate(view_links):
    html = view.get_attribute('innerHTML')
    href = html.split('""')[1]

    view_links[index] = href

# visit each href and get data
for href in view_links:
    driver.get(href)

    detail_data = driver.find_elements_by_class_name('dataBar')
    for detail in detail_data:
        print(detail.text)
"
38257,35986,Coercing Date Columns in Pandas with null values,"In [51]:
d = {1: {'DateCol': '02/01/2014', 'NotDateCol': 12457}, 2: {'DateCol': np.nan, 'NotDateCol': 45677}}
df = pd.DataFrame.from_dict(d,orient='index').convert_objects(convert_dates='coerce')

In [52]:
df.dtypes

Out[52]:
NotDateCol             int64
DateCol       datetime64[ns]
dtype: object
"
2186,30880,Fillna in multiple columns in place in Python Pandas,"res = df.apply(lambda x: x.fillna(0) if x.dtype.kind in 'biufc' else x.fillna('.'))

print(res)
     A      B     City   Name
0  1.0   0.25  Seattle   Jack
1  2.1   0.00       SF    Sue
2  0.0   0.00       LA      .
3  4.7   4.00       OC    Bob
4  5.6  12.20        .  Alice
5  6.8  14.40        .   John
"
3246,63503,How to print the function name as a string in Python from inside that function,"import sys

def applejuice(q):
    func_name = sys._getframe().f_code.co_name
    print func_name
"
4117,40193,Reshaping after Interpolation,"from numpy.random import uniform, seed
from matplotlib.mlab import griddata
import matplotlib.pyplot as plt
import numpy as np

datatype = 'grid'

npts = 900
xs = uniform(-2, 2, npts)
ys = uniform(-2, 2, npts)

# define output grid.
xt = np.linspace(-2.1, 2.1, 2506)
yt = np.linspace(-2.1, 2.1, 2506)

#Input is a series of 900 points
if datatype is 'points':
    values = xs*np.exp(-xs**2 - ys**2)
    # grid the data.
    Z = griddata(xs, ys, values, xt, yt, interp='nn')

#Input is a 900 x 900 grid of x,y,z points 
elif datatype is 'grid':

    X, Y = np.meshgrid(xs,ys, indexing='ij')
    values = 2 - 2 * np.cos(X)*np.cos(Y) - np.cos(X - 2*Y)

    # grid the data.
    Z = griddata(X.ravel(), Y.ravel(), values.ravel(), xt, yt, interp='nn')


# contour the gridded data, plotting dots at the nonuniform data points.
CS = plt.contour(xt, yt, Z, 15, linewidths=0.5, colors='k')
CS = plt.contourf(xt, yt, Z, 15, cmap=plt.cm.RdYlBu_r)
plt.colorbar()

# plot data points.
plt.scatter(xs, ys, marker='o', c='b', s=5, zorder=10)
plt.xlim(-2, 2)
plt.ylim(-2, 2)
plt.show()
"
17378,28262,Selenium webdriver with python- how to reload page if loading takes too long?,"from selenium import webdriver
from selenium.common.exceptions import TimeoutException

driver = webdriver.Firefox()
driver.set_page_load_timeout(10)
while True:
    try:
        driver.get(""https://www.google.com/"")
    except TimeoutException:
        print ""Timeout, retrying...""
        continue
    else:
        break
"
21768,79677,Checking 2-dimensional array (like eight queens puzzle),"def collision(x1, y1, x2, y2):
    return x1 == x2 or y1 == y2 or abs(x1-x2) == abs(y1-y2)
"
31646,31242,how to make a grouped boxplot graph in matplotlib,"import matplotlib.pyplot as plt
import numpy as np
import random

data = {}
data['dataset1'] = {}
data['dataset2'] = {}
data['dataset3'] = {}

n = 500
for k,v in data.iteritems():
    upper = random.randint(0, 1000)
    v['A'] = np.random.uniform(0, upper, size=n)
    v['B'] = np.random.uniform(0, upper, size=n)
    v['C'] = np.random.uniform(0, upper, size=n)

fig, axes = plt.subplots(ncols=3, sharey=True)
fig.subplots_adjust(wspace=0)

for ax, name in zip(axes, ['dataset1', 'dataset2', 'dataset3']):
    ax.boxplot([data[name][item] for item in ['A', 'B', 'C']])
    ax.set(xticklabels=['A', 'B', 'C'], xlabel=name)
    ax.margins(0.05) # Optional

plt.show()
"
22331,5181,django running mutliple sites in development,"for site in settings_{a,b,c,d}; do
    python manage.py runserver --settings $site &
done
"
19087,39760,Cannot write to text file python 2.7 invalid syntax?,"#!/usr/bin/env python

#standard module, needed as we deal with command line args
import sys

from fractions import Fraction
import pyexiv2


#checking whether we got enough args, if not, tell how to use, and exits
#if len(sys.argv) != 2 :
#    print ""incorrect argument, usage: "" + sys.argv[0] + ' <filename>'
#    sys.exit(1)

#so the argument seems to be ok, we use it as an imagefile 
imagefilename = sys.argv[1]



#trying to catch the exceptions in case of problem with the file reading
try:
    metadata = pyexiv2.metadata.ImageMetadata(imagefilename)
    metadata.read();

#trying to catch the exceptions in case of problem with the GPS data reading
    try:
        latitude = metadata.__getitem__(""Exif.GPSInfo.GPSLatitude"")
        latitudeRef = metadata.__getitem__(""Exif.GPSInfo.GPSLatitudeRef"")
        longitude = metadata.__getitem__(""Exif.GPSInfo.GPSLongitude"")
        longitudeRef = metadata.__getitem__(""Exif.GPSInfo.GPSLongitudeRef"")

        # get the value of the tag, and make it float number
        alt = float(metadata.__getitem__(""Exif.GPSInfo.GPSAltitude"").value)


        # get human readable values
        latitude = str(latitude).split(""="")[1][1:-1].split("" "");
        latitude = map(lambda f: str(float(Fraction(f))), latitude)
        latitude = latitude[0] + u""\u00b0"" + latitude[1] + ""'"" + latitude[2] + '""' + "" "" + str(latitudeRef).split(""="")[1][1:-1]

        longitude = str(longitude).split(""="")[1][1:-1].split("" "");
        longitude = map(lambda f: str(float(Fraction(f))), longitude)
        longitude = longitude[0] + u""\u00b0"" + longitude[1] + ""'"" + longitude[2] + '""' + "" "" + str(longitudeRef).split(""="")[1][1:-1]

        ## Printing out, might need to be modified if other format needed
        ## i just simple put tabs here to make nice columns
        print "" \n A text file has been created with the following information \n""
        print ""GPS EXIF data for "" + imagefilename    
        print ""Latitude:\t"" + latitude 
        print ""Longitude:\t"" + longitude
        print ""Altitude:\t"" + str(alt) + "" m""
    except Exception, e:  # complain if the GPS reading went wrong, and print the exception
        print ""Missing GPS info for "" + imagefilename
        print e

    # Create a new file or **overwrite an existing file**
    text_file = open('textfile.txt', 'w')
    text_file.write(""Latitude"" + latitude)
    # Close the output file
    text_file.close()


except Exception, e:   # complain if the GPS reading went wrong, and print the exception
    print ""Error processing image "" + imagefilename
    print e;
"
8360,23559,Iterative to recursion function for non-tail recursive methods,"todo = [(0, 0)]
while todo:
    i, j = todo.pop()
    print ""processing "", i, j
    if i != 3 and j != 3:
        todo.append((i, j+1))
        todo.append((i+1, j))
"
33829,39602,looping with comma and - as delimiter python,"output_arr = []
for row in reader:
    # Get the mapping for A ranges
    idx_map = row[0].replace(""A"","""").split("","")
    for row_map in idx_map:
            # For each pair or #-#'s creating the min and max idxs
            mapping = [int(v) for v in row_map.split('-')]
            min_map = min(mapping)
            max_map = max(mapping)
            for idx in range(min_map,max_map+1):
                    # For each value in range min_map to max_map, set values of row.
                    output_arr.append([""A%i""%(idx),row[1],row[2]])

>>> import pprint
>>> pprint.pprint(output_arr)
[['A1', 'A,B', 'C'],
 ['A2', 'A,B', 'C'],
 ['A3', 'A,B', 'C'],
 ['A4', 'A,B', 'C'],
 ['A5', 'A,B', 'C'],
 ['A6', 'X', 'Y'],
 ['A7', 'X', 'Y'],
 ['A8', 'Z', 'D']]
"
32947,69579,Declaring uninterpreted polyadic functions with Z3Py,"sorts = [IntSort(), IntSort(), IntSort()]
return Function(fname, *sorts)
"
16396,12135,Python binary data reading,">>> data
'\x00\x00\x00\x01\x00\x04AMTD\x00\x00\x00\x00\x02A\x9733A\x99\\)A\x90=qA\x91\xd7\nG\x0f\xc6\x14\x00\x00\x01\x16j\xe0h\x80A\x93\xb4\x05A\x97\x1e\xb8A\x90z\xe1A\x96\x8fWF\xe6.\x80\x00\x00\x01\x16zS|\x80\xff\xff'
>>> from struct import unpack, calcsize
>>> scount, slength = unpack(""!IH"", data[:6])
>>> assert scount == 1
>>> symbol, error_code = unpack(""!%dsb"" % slength, data[6:6+slength+1])
>>> assert error_code == 0
>>> symbol
'AMTD'
>>> bar_count = unpack(""!I"", data[6+slength+1:6+slength+1+4])
>>> bar_count
(2,)
>>> bar_format = ""!5fQ""                                                         
>>> from collections import namedtuple
>>> Bar = namedtuple(""Bar"", ""Close High Low Open Volume Timestamp"")             
>>> b = Bar(*unpack(bar_format, data[6+slength+1+4:6+slength+1+4+calcsize(bar_format)]))
>>> b
Bar(Close=18.899999618530273, High=19.170000076293945, Low=18.030000686645508, Open=18.229999542236328, Volume=36806.078125, Timestamp=1195794000000L)
>>> import time
>>> time.ctime(b.Timestamp//1000)
'Fri Nov 23 08:00:00 2007'
>>> int(b.Volume*100 + 0.5)
3680608
"
27169,10900,Print list items in one line along with other things,"l = ['absolute', 'nicest']
print 'P', "" "".join(l), 'Score'
"
35162,10384,What would be a good Python data structure that can store lists of data that all have a common index and some minor metadata?,"data = {}
index = 123
data[index] = {}
data[index][""color""] = [""red"", ""green"", ""blue""]
data[index][""mass""]  = [100, 98, 90]
data[index][""speed""] = [10, 11, 9]
data[index][""metadata""] = {""event_type"": ""2015-12-11T1442Z""}
"
28716,67018,Is there an elegant way of seeing whether an entire string consists of nothing but matches?,"if re.match(ur'^((</?\d+>)|(<\d+/>))+$', str):
    print 'Matches the whole string'
else:
    print 'Doesn\'t match the whole string'
"
5047,39573,passing vars into mysql.connector.connect,"params = {
    'user': dbuser, 
    'password': dbpassword,
    'host': dbhost,
    'database': dbdatabase
}

cnx = mysql.connector.connect(**params)
"
7916,23110,"How do I find the length (or dimensions, size) of a numpy matrix in python?","A.shape
"
6081,22332,Cmd commands from within python script?,"wget -r -P /save/location -A jpeg,jpg,bmp,gif,png http://www.domain.com
"
25637,2347,"Django- why after using ajax, it becomes an empty page","class ResultView(FormView):

    context_object_name = 'result_list'
    template_name = 'result_list.html'
    form_class = InputForm

    def get_context_data(self, **kwargs):
        context = super(ResultView, self).get_context_data(**kwargs)
        context[""results""] = Result.objects.all()
        context[""sales""] = context.results.aggregate(Sum('sales'))
        return context

    def form_valid(self,form):
        company = form.cleaned_data['company']
        region = form.cleaned_data['region']
        queryset = Result.objects.filter(region=region).aggregate(Sum('sales'))
        return HttpResponse(json.dumps(queryset))
"
25977,40836,python module to decode OSX plist integer dates?,">>> import datetime
>>> datetime.datetime.fromtimestamp(1264001747)
datetime.datetime(2010, 1, 20, 10, 35, 47)
"
446,74662,How to sort list within a list?,"In [14]: fruits = [[""Mango"", 6,5,8.0],
         [""Banana"", 2.0,5,8.9,7],
         [""Pineapple"", 4,6.8,9],
         [""Apple"", 3.9,6,7,2]]

In [15]: fruits.sort()

In [16]: fruits
Out[16]: 
[['Apple', 3.9, 6, 7, 2],
 ['Banana', 2.0, 5, 8.9, 7],
 ['Mango', 6, 5, 8.0],
 ['Pineapple', 4, 6.8, 9]]
"
10770,1197,How to extract the track titles from this page with beautiful soup,"import requests
from bs4 import BeautifulSoup

r = requests.get('https://www.residentadvisor.net/dj/greggow/tracks')
html = r.content

soup = BeautifulSoup(html, 'html.parser')
div = soup.find_all('div', class_= ""title"")

for each in div:

    #3 options presented themselves, either with a href or not in title

    if each.find(""a""):
        #Either a link back to the track
        if ""track.aspx"" in each.find(""a"")[""href""]:
            each = each.find(""a"").get_text()

        #or to some other weird source
        else:
            each = str(each)
            each = each[each.find("">"") + 1 : each.find(""<br/>"") ]

    else:
        each = str(each)
        each = each[each.find("">"") + 1 : each.find(""<br/>"") ]
    print(each)
"
7284,27008,Need to change letters to other letters (Python 2.7),"orig = 'hello'
# table = {'h': 'L', 'e': 'O', 'l': 'A', 'o': 'W' }
# table_tr = dict( (ord(a), ord(b))  for a,b in table.items() ) 
table_tr = str.maketrans('helo', 'LOAW')
res = orig.translate(table_tr)
print(res)
"
1498,48745,Automatically scraping a dynamic URL that has a date 9 days in the future,"date = datetime.datetime.today()
date += datetime.timedelta(days=9)  
url = 'http://www.opentable.com/s/PopRestaurantList?covers=2&currentview=list&datetime={date}+19%3A00&metroid=15&onlypoptimes=true&personalizer=true&ref=2213&showmap=false&size=100&sort=Popularity'
html = urlopen(url.format(date=date.strftime('%Y-%m-%d')))
"
8106,61092,getting ranges of sequences of identical entries with minimum length in a numpy array,"# Append with `-1s` at either ends and get the differentiation
dfa = np.diff(np.hstack((-1,a,-1)))

# Get the positions of starts and stops of 1s in `a`
starts = np.where(dfa==2)[0]
stops = np.where(dfa==-2)[0]

# Get valid mask for pairs from starts and stops being of at least 3 in length
valid_mask = (stops - starts) >= 3

# Finally collect the valid pairs as the output
out = np.column_stack((starts,stops))[valid_mask].tolist()
"
31454,41770,python best way to insert 60k rows in mysql,"db = MySQLdb.connect(host=""your_host"", user=""your_user"", passwd=""your_password"", db=""your_database"")
write_cursor = db.cursor()
write_list = []
for obj in parsed_objs:
  key = 'randomstring'
  write_list.append( (key,obj[key]) )

sql = ""REPLACE INTO infos (`key`, `value`) VALUES (%s, %s)""
write_cursor.executemany(sql, write_list)
db.commit()
"
36690,17532,How to insert multiple values by index into list at one time,"list_a = [0,1,2,3,4]
list_b = [""a"", ""b"", ""c""]
pos    = [0, 2, 4]

assert(len(list_b) == len(pos))
acc = 0
for i in range(len(list_b)):
    list_a.insert(pos[i]+acc, list_b[i])
    acc += 1

print(list_a)
"
29799,82171,how to assign new values to variables in predefined equation?,"import sympy
a,b,c,d,e,f=sympy.symbols('abcdef')
e=a+b #equation 
print e.subs([(a,c),(b,d)])
# c + d
print e.subs([(a,d),(b,f)])
# d + f
"
33141,65030,"Change color of ""tab header"" in ttk.Notebook","import tkinter as tk
from tkinter import ttk

root = tk.Tk()

mygreen = ""#d2ffd2""
myred = ""#dd0202""

style = ttk.Style()

style.theme_create( ""yummy"", parent=""alt"", settings={
        ""TNotebook"": {""configure"": {""tabmargins"": [2, 5, 2, 0] } },
        ""TNotebook.Tab"": {
            ""configure"": {""padding"": [5, 1], ""background"": mygreen },
            ""map"":       {""background"": [(""selected"", myred)],
                          ""expand"": [(""selected"", [1, 1, 1, 0])] } } } )

style.theme_use(""yummy"")

note = ttk.Notebook(root)
f1 = ttk.Frame(note, width=300, height=200)
note.add(f1, text = 'First')
f2 = ttk.Frame(note, width=300, height=200)
note.add(f2, text = 'Second')
note.pack(expand=1, fill='both', padx=5, pady=5)

tk.Button(root, text='yummy!').pack(fill='x')

root.mainloop()
"
7981,76619,"Find ""best"" complete subgraphs","#!/usr/bin/env python

token_list = ['a', 'b', 'c']

contradictions = {
    'a': set(['b']),
    'b': set(['a']),
    'c': set()
}

result = []

while token_list:
    token = token_list.pop()
    new = [set([token])]
    for r in result:
        if token not in contradictions or not r & contradictions[token]:
            new.append(r | set([token]))
    result.extend(new)

print result
"
9422,6895,get nth item from for loop in a form - python/google app engine/jinja2,"  <table>
  {% for member in members %}
<form method=""post"" action=""add_member_to_list"">
    <tr>
      <th>{{ member.name }}</th>
      <td><input type=""checkbox"" name=""in_out""></td>
      <td><select name=""day"">
            <option>Monday</option>
            <option>Wednesday</option>
          </select>
      </td>
      <td><button type=""submit"" name=""id"" value=""{{ member.id }}"">Add</button></td>
    </tr>
</form>
  {% endfor %}
  </table>
"
806,64329,How to search strings with certain number of occurence using Regular Expression?,"Str1 = '""HHHHLLLHHHHHLLLLL""'
if Str1.count(""H"") >= 8 : print ""match""
"
35184,19553,Assigning variables using choices in TKInter dropdown menu - Python 2.7,"from Tkinter import *
import Tkinter as ttk 
from ttk import *

root = Tk()
root.title(""Age Selector"")

mainframe = Frame(root)                                 
mainframe.grid(column=0,row=0, sticky=(N,W,E,S) )
mainframe.columnconfigure(0, weight = 1)
mainframe.rowconfigure(0, weight = 1)
mainframe.pack(pady = 10, padx = 10)

var = StringVar(root)

# Use dictionary to map names to ages.
choices = {
    'Bob': '35',
    'Garry': '45',
    'John': '32',
    'Hank': '64',
    'Tyrone': '21',
}

option = OptionMenu(mainframe, var, *choices)
var.set('Bob')

option.grid(row = 1, column =1)

Label(mainframe, text=""Age"").grid(row = 2, column = 1)

age = StringVar()
# Bind age instead of var
age_ent = Entry(mainframe, text=age, width = 15).grid(column = 2, row = 2)

# change_age is called on var change.
def change_age(*args):
    age_ = choices[var.get()]
    age.set(age_)
# trace the change of var
var.trace('w', change_age)

root.mainloop()
"
11049,63547,Django haystack filter in search index,"class AnuncioSolucaoIndex(RealTimeSearchIndex):
    text = CharField(document=True,use_template=True)
    def read_queryset(self):
        super(AnuncioSolucaoIndex,self).read_queryset()
        return AnuncioSolucao.objects.filter(is_active=True)
"
17941,17943,collapsing several rows in a pandas dataframe into one array,"import pandas as pd
import numpy as np

data = pd.DataFrame([
    ['12/02/2007 23:23:00', 1443.75,  1444.00, 1443.75, 1444.00],
    ['12/02/2007 23:25:00', 1444.00,  1444.00, 1444.00, 1444.00],
    ['12/02/2007 23:26:00', 1444.25,  1444.25, 1444.25, 1444.25],
    ['12/02/2007 23:27:00', 1444.25,  1444.25, 1444.25, 1444.25],
    ['12/02/2007 23:28:00', 1444.25,  1444.25, 1444.25, 1444.25],
    ['12/02/2007 23:29:00', 1444.25,  1444.25, 1444.00, 1444.00],
    ['12/02/2007 23:30:00', 1444.25,  1444.25, 1444.00, 1444.00],
    ['12/02/2007 23:31:00', 1444.25,  1444.25, 1443.75, 1444.00],
    ['12/02/2007 23:32:00', 1444.00,  1444.00, 1443.75, 1443.75],
    ['12/02/2007 23:33:00', 1444.00,  1444.00, 1443.50, 1443.50]
])

window_size = 6

# Prime the DataFrame using the date as the index
result = pd.DataFrame(
    [data.iloc[0:window_size, 1:].values.flatten()],
    [data.iloc[window_size - 1, 0]])

for t in data.iloc[window_size:, 1:].itertuples(index=True):
    # drop the oldest values and append the new ones
    new_features = result.tail(1).iloc[:, 4:].values.flatten()
    new_features = np.append(new_features, list(t[1:]), 0)
    # turn it into a DataFrame and append it to the ongoing result
    new_df = pd.DataFrame([new_features], [t[0]])
    result = result.append(new_df)
"
19346,80812,Auto Update Django Model based on other model fields,"from django.db.models.signals import pre_save
from django.dispatch import receiver
from myapp.models import MyModel


@receiver(post_save, sender=ValidateResult)
def my_handler(sender, **kwargs):
    ...
"
37306,70143,adding column to pandas dataframe as list of other columns,">>> df['new_column'] = df[['lat', 'long']].values.tolist()
>>> df
   lat  long other_value new_column
0   50    50           x   [50, 50]
1   60    50           y   [60, 50]
2   70    50           z   [70, 50]
3   80    50           a   [80, 50]
"
18680,62265,removing duplicate rows in pandas DataFrame based on a condition,"#   a  b      c
#0  1  S   Blue
#1  2  M  Black
#2  2  L   Blue
#3  1  L  Green

#get first rows of groups, sort them and reset index; delete redundant col index
df1 = df.groupby('a').head(1).sort('a').reset_index()
del df1['index']

#get last rows of groups, sort them and reset index; delete redundant col index
df2 = df.groupby('a').tail(1).sort('a').reset_index()
del df2['index']
print df1
#   a  b      c
#0  1  S   Blue
#1  2  M  Black
print df2
#   a  b      c
#0  1  L  Green
#1  2  L   Blue

#if value in col c in df1 is 'Blue' replace this row with row from df2 (indexes are same)
df1.loc[df1['c'].isin(['Blue'])] = df2
print df1
#   a  b      c
#0  1  L  Green
#1  2  M  Black
"
29884,1039,How to refresh the GUI window in Tkinter,"def click():
    global clicks
    clicks += 1
    Number.config(text=clicks) # <------
    print 'ok', clicks
"
24148,65420,Writing and reading lists to text files in Python: Is there a more efficient way?,"import json

# writing
with open(""Recipe.txt"",""w"") as recipefile:
    json.dump({
        'name': name, 'numing': numing, 'orignumpep': orignumpep,
        'ingredient': ingredient, 'quantity': quantity, 'units': units},
        recipefile, sort_keys=True, indent=4, separators=(',', ': '))

# reading
with open(""Recipe.txt"") as recipefile:
    recipedata = json.load(recipefile)

# optional, but your code requires it right now
name = recipedata['name']
numing = recipedata['numing']
orignumpep = recipedata['orignumpep']
ingredient = recipedata['ingredient']
quantity = recipedata['quantity']
units = recipedata['units']
"
11621,81867,Raspberry PI with GPIO Input buttons,"started_23 = 0
while True:
    if GPIO.input(23) and time.time() - started_23 > 10:
        started_23 = time.time()
        print(""Button 23 Pressed"")
        os.system('omxplayer -o both /root/1.mp3 &')
    time.sleep(0.200)
"
17230,68415,Any python libs for parsing Bind zone files?,"    $TTL 86400
@   IN SOA ns1.first-ns.de. postmaster.robot.first-ns.de. (
    2006040800   ; serial
    14400        ; refresh
    1800         ; retry
    604800       ; expire
    86400 )      ; minimum

@

                    IN NS      ns1.first-ns.de.
"
31795,30793,Quick way to replace all occurences of a value in a pandas data frame with NA,"na_values=-99.9
"
8421,18747,Get first N key pairs from an Ordered Dictionary to another one in python,">>> dictionary={'a':10,'b':20,'c':30,'d':5}
>>> collections.Counter(dictionary).most_common(2)
[('c', 30), ('b', 20)]
"
34774,12194,string formatting and concatenation,"with open('sample.txt', 'r') as fin:
    lines = fin.readlines()

    with open('sample_output.txt', 'w') as fout:
        index = 1
        for line in lines:
            if line[0] == 'o':
                line = '*' + str(index) + line[1:]
                index += 1
            fout.write(line.rstrip() + '\n')
"
25049,80833,replace empty elements in list of list,"new_list = [[element or '0.00' for element in sublist] for sublist in big_list]
"
21039,25973,UnboundLocalError: local variable 'prod_Available' referenced before assignment,"    prod = Product.objects.get(id=product_id)

    prod_Available = 0 # !

    for x in range(start_date,end_date + 1):
        x = x - start_date
        delta = datetime.timedelta(days=x)
        all_date = check_in + delta
        sumOfQuantity = HotelCheck.objects.filter(date_booked=all_date, product=prod).aggregate(Sum('quantity'))['quantity__sum']
        if sumOfQuantity == None:
            sumOfQuantity = 0
        prod_Available = prod.quantity - sumOfQuantity
        #global prod_Available
    if prod_Available <= 0:
        status = 0
    else:
        status = 1

    return status
"
33333,70079,"Will dumping, creating a new database, and then restoring Django auth and system related tables cause any problems?","mysqldump -uusername -ppassword db_name table_name > xxxx.sql
mysql -uusername -ppassword new_db_name < xxxx.sql
"
301,54431,Parsing dictionaries within dictionaries,"def collect_names( node ):
    names = []
    while True:
        names.append(node[u'Name'])
        try:
            # deeper node
            node = node[u'Ancestors'][u'BrowseNode']
        except KeyError:
            # we are done, no ancestors 
            return names[::-1]

print collect_names(data[u'BrowseNode'])
# >> [u'Books', u'Subjects', u'Science', u'Physics', u'Electromagnetism']
"
9595,360,Python and sqlite3 - importing and exporting databases,"sql = f.read() # watch out for built-in `str`
cur.executescript(sql)
"
8243,36284,Cookie not accepted on IE when authenticating with Graph API (oauth) - iframe app,"response.headers['P3P'] = 'CP=""IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT""'
"
15936,10560,How do I do parsing in Django templates?,"from django.template import Library

register = Library()

@register.filter('titleofwidth')
def titleofwidth(post, width):
    """"""
    Get the title of a given width of a post.

    Sample usage: {{ post|titleofwidth:200 }}
    """"""

    for i in post['sizes']:
        if i['w'] == width:
            return i['title']
    return None
"
18969,51548,"globally capture, ignore and send keyevents with python xlib, recognize fake input","from Xlib.display import Display
import Xlib
from Xlib import X
import Xlib.XK
import sys
import signal 
import time
display = None
root = None

def handle_event(event):
    print ""handle!""
    if (event.type == X.KeyRelease):
        send_key(""x"")

# from http://shallowsky.com/software/crikey/pykey-0.1 
def send_key(emulated_key):
    shift_mask = 0 # or Xlib.X.ShiftMask
    window = display.get_input_focus()._data[""focus""]
    keysym = Xlib.XK.string_to_keysym(emulated_key)
    keycode = display.keysym_to_keycode(keysym)
    event = Xlib.protocol.event.KeyPress(
        time = int(time.time()),
        root = root,
        window = window,
        same_screen = 0, child = Xlib.X.NONE,
        root_x = 0, root_y = 0, event_x = 0, event_y = 0,
        state = shift_mask,
        detail = keycode
        )
    window.send_event(event, propagate = True)
    event = Xlib.protocol.event.KeyRelease(
        time = int(time.time()),
        root = display.screen().root,
        window = window,
        same_screen = 0, child = Xlib.X.NONE,
        root_x = 0, root_y = 0, event_x = 0, event_y = 0,
        state = shift_mask,
        detail = keycode
        )
    window.send_event(event, propagate = True)

def main():
    # current display
    global display,root
    display = Display()
    root = display.screen().root

    # we tell the X server we want to catch keyPress event
    root.change_attributes(event_mask = X.KeyPressMask|X.KeyReleaseMask)
    # just grab the ""1""-key for now
    root.grab_key(10, 0, True,X.GrabModeSync, X.GrabModeSync)

    signal.signal(signal.SIGALRM, lambda a,b:sys.exit(1))
    signal.alarm(10)
    while 1:
        event = display.next_event()
        print ""event""
        handle_event(event)
        display.allow_events(X.AsyncKeyboard, X.CurrentTime)            

if __name__ == '__main__':
    main()
"
12576,35719,"Cherrypy website does not work, where to find documentation?","python
>>> import cherrypy
>>> help(cherrypy)
"
7991,70040,root mean square in numpy and complications of matrix and arrays of numpy ,"U = np.zeros((N,N))
ind = 1
k = np.zeros(N)
k[:] = U[ind,:]
"
23912,58593,How to slice a pandas.Series of type int by length,"days = days_hours//100

hours = days_hours % 100
"
23383,33993,Form from Model with File Upload,"from django.http import HttpResponseRedirect
from django.shortcuts import render_to_response

# Imaginary function to handle an uploaded file.
from somewhere import handle_uploaded_file

def upload_file(request):
    if request.method == 'POST':
        form = UploadFileForm(request.POST, request.FILES)
        if form.is_valid():
            # you'll need to loop through the uploaded files here.
            handle_uploaded_file(request.FILES['file'])
            return HttpResponseRedirect('/success/url/')
    else:
        form = UploadFileForm()
    return render_to_response('upload.html', {'form': form})

def handle_uploaded_file(f):
    destination = open('some/file/name.txt', 'wb+')
    for chunk in f.chunks():
        destination.write(chunk)
    destination.close()
"
22272,19561,Python (PIL): Lighten transparent image and paste to another one,"from PIL import Image

overlay = Image.open('overlay.png')
base = Image.open('base.png')

bands = list(overlay.split())
if len(bands) == 4:
    # Assuming alpha is the last band
    bands[3] = bands[3].point(lambda x: x*0.4)
overlay = Image.merge(overlay.mode, bands)

base.paste(overlay, (0, 0), overlay)
base.save('result.png')
"
994,57469,Find words in lists using python by entering part of them,">>> import fnmatch
>>> my_list = [2345, 3245, 2343, 8746]
>>> fnmatch.filter(map(str, my_list), ""2*4*"")
['2345', '2343']
>>> my_list = ['barrow', 'yellow', 'green', 'red', 'mellow']
>>> fnmatch.filter(map(str, my_list), ""*ow"")
['barrow', 'yellow', 'mellow']
"
3617,48588,Tkinter Frame Resize one axis,"OuterFrame = Frame(root, height=500, width=400)
InnerFrame = Frame(OuterFrame, borderwidth=3, relief=RAISED)
InnerFrame.pack(side=TOP, fill=X)

# stuff that goes in the y-resizing InnerFrame

OuterFrame.pack_propogate(False)
OuterFrame.pack()
"
23161,58818,How to adapt my current splash screen to allow other pieces of my code to run in the background?,"import wx

def show_splash():
    # create, show and return the splash screen
    bitmap = wx.Bitmap('images/splash.png')
    splash = wx.SplashScreen(bitmap, wx.SPLASH_CENTRE_ON_SCREEN|wx.SPLASH_NO_TIMEOUT, 0, None, -1)
    splash.Show()
    return splash

def main():
    app = wx.PySimpleApp()
    splash = show_splash()

    # do processing/initialization here and create main window
    frame = MyFrame(...)
    frame.Show()

    splash.Destroy()
    app.MainLoop()

if __name__ == '__main__':
    main()
"
17599,28408,Split value of string within array of arrays in Python,"In [83]: arr = [['PROVEEDOR', '0-6', '11111'], ['tiempo ida pulidor', '6-14', '33333']]

In [84]: for i in arr:
    ...:     i[1:2]=i[1].split('-')

In [85]: arr
Out[85]: [['PROVEEDOR', '0', '6', '11111'], ['tiempo ida pulidor', '6', '14', '33333']]
"
33750,54998,Python: Find string in a file and print which line it was found on,"with open(myfile) as f:
    for index, line in enumerate(f, 1):
        if s in line:
            print(""'{0}' found on line {1}"".format(s, index))
"
38685,3051,How to print out an accuracy score for each combination within Gridsearch?,">>> clf = GridSearchCV(LogisticRegression(), {'C': [1, 2, 3]})
>>> clf.fit(np.random.randn(10, 4), np.random.randint(0, 2, 10))
GridSearchCV(cv=None,
       estimator=LogisticRegression(C=1.0, class_weight=None, dual=False, fit_intercept=True,
          intercept_scaling=1, penalty='l2', random_state=None, tol=0.0001),
       fit_params={}, iid=True, loss_func=None, n_jobs=1,
       param_grid={'C': [1, 2, 3]}, pre_dispatch='2*n_jobs', refit=True,
       score_func=None, scoring=None, verbose=0)
>>> from pprint import pprint
>>> pprint(clf.grid_scores_)
[mean: 0.40000, std: 0.11785, params: {'C': 1},
 mean: 0.40000, std: 0.11785, params: {'C': 2},
 mean: 0.40000, std: 0.11785, params: {'C': 3}]
"
35738,31705,speed up python nested loop,"length = int(input())
s = input()
count = 0
# i: the head index of substring
# j: the tail index of substring, and len(substring) <=length
for i in range(len(s)):
    for j in range(min(length, len(s) - i)):
        if s[i] == s[i + j]:
            count += 1

print(count)
"
7726,57640,print boolean True results of a regex match-Pandas Dataframe,"print df[df.Resource.str.contains('pdf',na=False)][['IP', 'Time', 'Resource']][0:5]
"
31731,40865,find all dictionaries that each have an indeterminate number of defined keys,"def defined(dct, keys):
    return zip(*[([k] + [v[m] for m in keys])
                 for k, v in dct.iteritems()
                 if all(m in v for m in keys)])
"
39057,30800,Sphinx-doc :automodule: with Mock imports,"# ReadTheDocs
ON_RTD = os.environ.get('READTHEDOCS', None) == 'True'
if not ON_RTD:

    #... do the normal import here ...

else:

    class QMockObject(object):
        def __init__(self, *args, **kwargs):
            super(QMockObject, self).__init__()

        def __call__(self, *args, **kwargs):
            return None

    class QApplication(QMockObject):
        pass

    class pyqtSignal(QMockObject):
        pass

    class pyqtSlot(QMockObject):
        pass

    class QObject(QMockObject):
        pass

    class QAbstractItemModel(QMockObject):
        pass

    class QModelIndex(QMockObject):
        pass

    class QTabWidget(QMockObject):
        pass

    class QWebPage(QMockObject):
        pass

    class QTableView(QMockObject):
        pass

    class QWebView(QMockObject):
        pass

    class QAbstractTableModel(QMockObject):
        pass

    class Qt(QMockObject):
        DisplayRole = None

    class QWidget(QMockObject):
        pass

    class QPushButton(QMockObject):
        pass

    class QDoubleSpinBox(QMockObject):
        pass

    class QListWidget(QMockObject):
        pass

    class QDialog(QMockObject):
        pass

    class QSize(QMockObject):
        pass

    class QTableWidget(QMockObject):
        pass

    class QMainWindow(QMockObject):
        pass

    class QTreeWidget(QMockObject):
        pass

    class QAbstractItemDelegate(QMockObject):
        pass

    class QColor(QMockObject):
        pass

    class QGraphicsItemGroup(QMockObject):
        pass

    class QGraphicsItem(QMockObject):
        pass

    class QGraphicsPathItem(QMockObject):
        pass

    class QGraphicsTextItem(QMockObject):
        pass

    class QGraphicsRectItem(QMockObject):
        pass

    class QGraphicsScene(QMockObject):
        pass

    class QGraphicsView(QMockObject):
        pass

    app = None
"
19263,64074,Collapsing dataframe column into a single string,"import pandas as pd 
import numpy as np
df = pd.DataFrame(np.array([['abc', 11], ['xyz', 21],['pqr',31]]),columns=['member','value'])

sql_string = ""select * from table1 where member in ""
members = tuple(df.member.tolist())
query = sql_string + str(members)
"
30501,12910,Prevent multiple toplevels from opening?,"def TopCloses():
    top.destroy()
    #Call the setTopLevel method and assign the attribute toplevel value None
    guiObject.setTopLevel(None)

top.protocol(""WM_DELETE_WINDOW"", TopCloses)
root.mainloop()
"
7365,45817,best way to parse a line in python to a dictionary,"import re, decimal
r= re.compile('([^ =]+) *= *(""[^""]*""|[^ ]*)')

d= {}
for k, v in r.findall(line):
    if v[:1]=='""':
        d[k]= v[1:-1]
    else:
        d[k]= decimal.Decimal(v)

>>> d
{'account': 'TEST1', 'subject': 'some value', 'values': '3=this, 4=that', 'price': Decimal('20.11'), 'Qty': Decimal('100.0')}
"
17894,67203,Get the place in one Qtreewidget and expand another to the same place,"from PyQt4 import QtGui, QtCore

class Window(QtGui.QWidget):
    def __init__(self):
        QtGui.QWidget.__init__(self)
        self.tree1 = QtGui.QTreeWidget(self)
        self.tree2 = QtGui.QTreeWidget(self)
        layout = QtGui.QHBoxLayout(self)
        for tree in (self.tree1, self.tree2):
            tree.header().hide()
            tree.itemExpanded.connect(self.handleExpanded)
            tree.itemCollapsed.connect(self.handleCollapsed)
            for text in 'one two three four'.split():
                item = QtGui.QTreeWidgetItem(tree, [text])
                for text in 'red blue green'.split():
                    child = QtGui.QTreeWidgetItem(item, [text])
            layout.addWidget(tree)

    def handleExpanded(self, item):
        self.syncExpansion(item, True)

    def handleCollapsed(self, item):
        self.syncExpansion(item, False)

    def syncExpansion(self, item, expand=True):
        if item is not None:
            tree = item.treeWidget()
            if tree is self.tree1:
                tree = self.tree2
            else:
                tree = self.tree1
            text = item.text(0)
            for other in tree.findItems(text, QtCore.Qt.MatchFixedString):
                other.setExpanded(expand)

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.setGeometry(300, 500, 300, 300)
    window.show()
    sys.exit(app.exec_())
"
1732,58916,Log Unittest output to a text file,"if __name__ == '__main__':
   log_file = 'log_file.txt'
   f = open(log_file, ""w"")
   runner = unittest.TextTestRunner(f)
   unittest.main(testRunner=runner)
   f.close()
"
33127,19651,Passing table name as a parameter in psycopg2,"SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' and table_name=%s LIMIT 1
"
32974,19736,Accessing other models through foreign keys in Django and Python,"event = Event.objects.get(id=1)
tickets = event.ticket_set.all()
"
27824,73558,Replace same line of pixels in dynamic images with Pillow in python,"import os.path
from PIL import Image

HORIZONTAL_BAND_1_Y = range(37, 64)
HORIZONTAL_BAND_2_Y = range(125, 149)

img = Image.open(filename)
img = img.convert('RGBA')
pixdata = img.load()

for band in HORIZONTAL_BAND_1_Y, HORIZONTAL_BAND_2_Y:
    for y in band:
        for x in range(img.size[0]):
            pixdata[x,y] = pixdata[x, band[0]-1]

new_filename = os.path.join(os.path.dirname(filename),
                   'new_{}'.format(os.path.basename(filename)))

img.save(new_filename)
"
1555,19056,How to store the output generated in python in a txt file,"f = open('outputfile', 'w')
for .....
    print >>f,name, ' ', 'Sequence:',' ', Sequence,' ', 'Disorder:',' ', Disorder
"
26432,75524,Python - arguments with white space,"-m ""The Mists""
"
38749,63523,Python: Asynchronous Cassandra Inserts,"import logging
from Queue import Queue #queue in python 3
from threading import Event #hmm... this needed?


insert_logger = logging.getLogger('async_insert')
insert_logger.setLevel(logging.INFO)

def handle_err(err):
  insert_logger.warning('Failed to insert due to %s', err)


#Designed to work in a high write environment. Chained callbacks for best performance and fast fail/stop when error
#encountered. Next insert should re-up the writing. Potential loss of failed write. Some guarantee on order of write
#preservation.
class CappedQueueInserter(object):
  def __init__(self, session, max_count=0):
    self.__queue = Queue(max_count)
    self.__session = session
    self.__started = Event()

  @property
  def started(self):
    return self.__started.is_set()

  def insert(self, bound_statement):
    if not self.started:
      self._begin(bound_statement)
    else:
      self._enqueue(bound_statement)

  def _begin(self, bound_statement):
    def callback():
      try:
        bound = self.__queue.get(True) #block until an item is added to the queue
        future = self.__session.execute_async(bound)
        future.add_callbacks(callback, handle_err)
      except:
        self.__started.clear()

    self.__started.set()
    future = self.__session.execute_async(bound_statement)
    future.add_callbacks(callback, handle_err)

  def _enqueue(self, bound_statement):
    self.__queue.put(bound_statement, True)


#Separate insert statement binding from the insertion loop
class InsertEnqueue(object):
  def __init__(self, prepared_query, insert, consistency_level=None):
    self.__statement = prepared_query
    self.__level = consistency_level
    self.__sink = insert

  def insert(self, *args):
    bound = self.bind(*args)
    self.__sink.insert(bound)

  @property
  def consistency_level(self):
    return self.__level or self.__statement.consistency_level

  @consistency_level.setter
  def adjust_level(self, value):
    if value:
      self.__level = value

  def bind(self, *args):
    bound = self.__statement.bind(*args)
    bound.consistency_level = self.consistency_level

    return bound
"
13213,79648,Building blogs RSS feeds using Django (Python),"<link rel=""alternate"" type=""application/atom+xml"" title=""Feed of questions tagged python"" href=""/feeds/tag/python"" />
"
8267,62929,Alternate Row Colors in Html Tables Using Django,"{% for o in some_list %}
  <tr class=""{% cycle 'red' 'green' %}"">
    ...
  </tr>
{% endfor %}
"
9746,11263,tkinter fixed canvas size,"from tkinter import *

class zoomer(Tk):

    def __init__(self):
        x=100
        y=100
        Tk.__init__(self)
        self.border = 10
        self.size_x = x
        self.size_y = y

        #SIZE
        self.app_sizex = 200
        self.app_sizey = 200
        fontSize=int(x/20)

        self.title(""Graphic"")
        self.geometry(str(self.app_sizex+10) + ""x"" + str(self.app_sizey+40))

        #CANVAS + BORDER
        self.canvas = Canvas(self, width = self.app_sizex, height = self.app_sizey, scrollregion=(0,0,x,y))
        self.canvas.grid(row=0, column=0, sticky=""nsew"")
        self.canvas.create_line(self.border, self.border, self.border, y-self.border)
        self.canvas.create_line(x-self.border, self.border, x-self.border, y-self.border)
        self.canvas.create_line(self.border,   self.border, x-self.border, self.border)
        self.canvas.create_line(self.border, y-self.border, x-self.border, y-self.border)
        self.canvas.create_line(self.border,   self.border, x-self.border, y-self.border)
        text1=self.canvas.create_text(50, 50, fill=""white"",font=(""Purisa"", fontSize))
        self.canvas.itemconfig(text1, text=""Graphic Text"")

        #SCROLLING BARS
        self.vbar=Scrollbar(self,orient=VERTICAL)
        self.vbar.grid(row=0, column=1, sticky=""ns"")
        self.vbar.config(command=self.canvas.yview)
        self.hbar=Scrollbar(self,orient=HORIZONTAL)
        self.hbar.grid(row=2, column=0, sticky=""ew"")
        self.hbar.config(command=self.canvas.xview)
        self.canvas.config(xscrollcommand=self.hbar.set, yscrollcommand=self.vbar.set)

        #zoom button
        save_button = Button(self, text = ""Zoom"")
        save_button[""command""] = lambda: self.zoom_in()
        save_button.grid(row=3, column = 0, pady = 5)

    def zoom_in(self):
        #Clean canvas
        self.canvas.delete(""all"")
        self.size_x = int(self.size_x * 1.1)
        self.size_y = int(self.size_y * 1.1)
        x=self.size_x
        y=self.size_y
        fontSize=int(x/20)
        self.canvas.create_line(self.border, self.border, self.border, y-self.border)
        self.canvas.create_line(x-self.border, self.border, x-self.border, y-self.border)
        self.canvas.create_line(self.border, self.border, x-self.border, self.border)
        self.canvas.create_line(self.border, y-self.border, x-self.border, y-self.border)
        self.canvas.create_line(self.border,   self.border, x-self.border, y-self.border)
        text1=self.canvas.create_text(self.size_x/2, self.size_y/2, fill=""white"",font=(""Purisa"", fontSize) )
        self.canvas.itemconfig(text1, text=""Graphic Text"")
        self.canvas.configure(scrollregion=self.canvas.bbox(""all""))

        #SCROLLING BARS
        self.vbar.config(command=self.canvas.yview)
        self.hbar.config(command=self.canvas.xview)
        self.canvas.config(xscrollcommand=self.hbar.set, yscrollcommand=self.vbar.set)


if __name__ == '__main__':
    my_gui=zoomer()
    my_gui.mainloop()
"
5198,54997,"Merge two lists,one as keys, one as values, into a dict in Python","dict(zip([""key1"",""key2"",""key3""], [""val1"",""val2"",""val3""]))
"
21012,38847,how to post data to sqs queue url through command Line using curl command,"curl -H 'Accept:application/json' -d ""key=value&key1=value1"" http://www.example.com/
"
14214,35709,Get a more precise timer in python,"import math
import time
from timeit import Timer

userInput = ""0""

while not userInput.isdigit() or int(userInput) <= 0:

    userInput = input(""Calcular la raiz de: "") #Get input from user (userInput)

userInput = int(userInput)

epsilon = 0.000001
x=1
count=0

setup = 'from __main__ import userInput, epsilon, x, count'

operations = '''
x = 1
count = 0
while (abs(x**2 - userInput) > epsilon):

    x = 0.5 * (x + (userInput/x))
    count = count+1
'''

print('The operations took %.4f microseconds.' % Timer(operations, setup).timeit(1))

#run the operations again to get the x and count values
x = 1
count = 0
while (abs(x**2 - userInput) > epsilon):

    x = 0.5 * (x + (userInput/x))
    count = count+1
print(""La raÃ­z de"", userInput, ""es:"",x,""implicÃ³"",count,""intentos"")
"
14208,11170,How to get all atrributes of a class/instance?,">>> import inspect
>>> filter(lambda x: not (x.startswith('__') and x.endswith('__')), [a for (a, b) in inspect.getmembers(MyClass, lambda x : (not inspect.ismethod(x) and not inspect.isbuiltin(x)) )])
['attr1', 'attr2', 'attr3']
"
24156,64714,Django Admin.py customize form,"class A(models.Model):
    name = models.CharField(max_length=60)
    def __unicode__(self):
        return self.name
"
8124,9992,GenericTreeModel with PyGObject Introspection Gtk+ 3?,">>> from gi.repository import Gtk
>>> dir(Gtk.TreeModel)
['__bool__', '__class__', '__delattr__', '__delitem__', '__dict__', '__doc__',
 '__format__', '__gdoc__', '__getattribute__', '__getitem__', '__gtype__', '__hash__', 
 '__info__', '__init__', '__iter__', '__len__', '__module__', '__new__', '__nonzero__',
 '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setitem__', '__sizeof__', 
 '__str__', '__subclasshook__', '__weakref__', '_convert_row', '_convert_value', 
 '_getiter', 'filter_new', 'foreach', 'get', 'get_column_type', 'get_flags', 'get_iter',
 'get_iter_first', 'get_iter_from_string', 'get_n_columns', 'get_path', 
 'get_string_from_iter', 'get_value', 'iter_children', 'iter_has_child', 
 'iter_n_children', 'iter_next', 'iter_nth_child', 'iter_parent', 'iter_previous', 
 'ref_node', 'row_changed', 'row_deleted', 'row_has_child_toggled', 'row_inserted', 
 'set_row', 'sort_new_with_model', 'unref_node']
"
37081,11601,matplotlib plotting multiple lines in 3D,"from mpl_toolkits.mplot3d.axes3d import Axes3D
import matplotlib.pyplot as plt
fig, ax = plt.subplots(subplot_kw={'projection': '3d'})

datasets = [{""x"":[1,2,3], ""y"":[1,4,9], ""z"":[0,0,0], ""colour"": ""red""} for _ in range(6)]

for dataset in datasets:
    ax.plot(dataset[""x""], dataset[""y""], dataset[""z""], color=dataset[""colour""])

plt.show()
"
23580,83224,Is it possible to create anonymous objects in Python?,">>> class MicroMock(object):
...     def __init__(self, **kwargs):
...         self.__dict__.update(kwargs)
...
>>> def print_foo(x):
...     print x.foo
...
>>> print_foo(MicroMock(foo=3))
3
"
12553,39403,Django changes image name before uploading to Amazon S3 bucket,"def change_filename(instance, filename):
    return 'bucket_name/' + filename

# inside the model class
cover_image = models.ImageField(upload_to=change_filename, null=True, blank=True)
"
3576,77650,Python itertools.groupby multiple values,"totalResults = [] 
totalClasses = []           
for key, location in groupby(rows, lambda k: k[0]):
    location = list(location)
    totalResults.append(dict(name=key, data=[x[2] for x in location]))
    totalClasses.append(dict(name=key, data=[x[3] for x in location]))
"
16081,83894,How to parse a CLI command output (table) in python?,"# Did this in Python 2.7
import re

# Assume your input is in this file
INPUT_FILE = 'text.txt'

# Regex to only pay attention to lines starting with Ib
# and capture the port info
regex = re.compile(r'^(Ib\s*\S+)')
result = [] # Store results in a list
with open(INPUT_FILE, 'r') as theFile:
  for line in theFile:
    match = regex.search(line)
    if not match: continue
    result.append(match.group())
print result
"
505,550,How do I insert this python code into my html template?,"...
{% for post in posts %}
    <div class=""art""><img src=""img?img_={{post.key()}}"" class=""art"" width=""500""></img></div>
    <div class=""art_title"">{{post.title}}</div>
...
"
14920,77991,How to print container object with unicode-containing values?,"In [25]: print str(x).decode('raw_unicode_escape')
(u'abc/Î±Î²Î³',)
"
27634,32074,DataFrame To user defined Format,"#pivot df, fill NaN by 0
df1 = df.pivot_table(index='department', columns='position', values='name', aggfunc='count').fillna(0).reset_index()
#reset column name - for nicer df 
df1.columns.name = None
print df1
  department  experienced employee  normal employee
0          x                     1                1
1          y                     1                1

#sum by groups by column department and rename column salary
df2 = df.groupby('department')['salary'].sum().reset_index().rename(columns={'salary':'total salary'})

df2['salary_percentage'] = df2['total salary'] / df['salary'].sum() 
print df2
  department  total salary  salary_percentage
0          x         45000           0.428571
1          y         60000           0.571429

print pd.merge(df1, df2, on=['department'])
  department  experienced employee  normal employee  total salary  \
0          x                     1                1         45000   
1          y                     1                1         60000   

   salary_percentage  
0           0.428571  
1           0.571429  
"
4084,9582,glob function in python with one wildcard,"import os
all_txt = []
root = r'C:\Users\EDV\Desktop\Peter\Models\Texte'
for d in os.listdir(root):
    abs_d = os.path.join(root, d)
    if os.path.isdir(abs_d):
        txt = os.path.join(abs_d, '002.txt')
        if os.path.isfile(txt):
            all_txt.append(txt)
"
9251,45315,How to set a variable equal to an object inside a dictionary in python,"count = 0
while word != None:
      wordObject = Word()
      wordObject.setWord(word)
      if dictionary.has_key(wordObject.getWord():
            setCount=dictionary[wordObject.getWord()]
            count += 1
"
7698,16777,Python multiple unmanaged resources and exception safety,"from contextlib import ExitStack

class Gizmo(object):
    def __init__(self, filepath1, filepath2):
        with ExitStack() as stack:
            # If opening the second file fails,
            # unwinding the stack will close the first file.

            self._file1 = stack.enter_context(open(filepath1, 'rb'))
            self._file2 = stack.enter_context(open(filepath2, 'rb'))

            # It worked! But we don't want to close the files when the with statement ends.
            # Take the files off the stack without closing them
            # (and put them on a new stack).
            self._exitstack = stack.pop_all()

    def __enter__(self):
        return self

    def __exit__(self):
        self.close()
        return False

    def __del__(self):
        self.close()

    def frob(self):
        ...manipulate the files...

    def close(self):
        # __del__ will try to close a Gizmo even if we couldn't set up its _exitstack,
        # so don't try to close a nonexistent _exitstack.
        if hasattr(self, '_exitstack'):
            # The stack calls __exit__ on all the files, exactly as if we were
            # exiting a ""with open(...) as file1, open(...) as file2"" block.
            # If closing one file fails, we'll still try to close the other.
            self._exitstack.close()
"
32651,34145,Parsing with beautifulsoup and getting an mp3 link,">>> import urllib2
>>> from bs4 import BeautifulSoup
>>> 
>>> url = 'http://endic.naver.com/search.nhn?isOnlyViewEE=N&query=Rule'
>>> page = urllib2.urlopen(url)
>>> soup = BeautifulSoup(page)
>>> 
>>> playlists = soup.find_all(""a"", {""playlist"": True})
>>> playlists
[<a class=""play3 N=a:wrd.listencom,r:3,i:85c05904f36749e6aa9f6fd3f461f63c"" href=""#"" playlist=""http://dn-naverdic.ktics.co.kr/naverdic/e883ec39de5d45840c2744705c2918c7/4ffee8ca/naverdic/endic/sound/clear/us/007/007582.mp3"">
<img alt=""play"" class=""play"" height=""18"" src=""http://dicimg.naver.com/endic/img/play.gif"" width=""19""/>
</a>, <a class=""play3 N=a:wrd.listenuk,r:3,i:85c05904f36749e6aa9f6fd3f461f63c"" href=""#"" playlist=""http://dn-naverdic.ktics.co.kr/naverdic/7001326345aadc53fa3911f9083065d7/4ffee8ca/naverdic/endic/sound/uk/0990000/0992050.mp3"">
<img alt=""play"" class=""play"" height=""18"" src=""http://dicimg.naver.com/endic/img/play.gif"" width=""19""/>
</a>]
>>> 
>>> playlists[0].get(""playlist"")
'http://dn-naverdic.ktics.co.kr/naverdic/e883ec39de5d45840c2744705c2918c7/4ffee8ca/naverdic/endic/sound/clear/us/007/007582.mp3'
"
23205,48883,Ctypes Text Input Box Help Using Python,"import ctypes
MessageBox = ctypes.windll.user32.MessageBoxW
MessageBox(None, 'Hello', 'Window title', 0)
"
38194,50402,Efficiently checking if number is in range of 2nd number +-10%?,"def IsCloseEnough(num1, num2 ):
     return abs(float(num1 - num2) / float(num1)) < 0.1 
"
34178,57032,Where is the best place to setup logger in Scrapy?,"import logging
logging.getLogger().addHandler(<YourCustomHandler>)
"
27109,21478,Using a single URL for GET and POST with Django REST Framework list_route,"get_picks = PickViewset.as_view({
    'get': 'update_picks',
    'post': 'update_picks',
})
"
18708,39702,Working with WCF and HBase,"using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using HBase.Thrift;
using Thrift.Protocol;
using Thrift.Transport;

namespace HBase.Example
{
    class Program
    {
        private static Hbase.Client _hbase;
        static byte[] table_name = Encoding.UTF8.GetBytes(""vadim_test"");
        static readonly byte[] ID = Encoding.UTF8.GetBytes(""Id"");
        static readonly byte[] NAME = Encoding.UTF8.GetBytes(""Name"");
        static int i = 0;

        static void Main(string[] args)
        {
            int port = 9090;

            string host = args.Length == 1 ? args[0] : ""localhost"";

            var socket = new TSocket(host, port);
            var transport = new TBufferedTransport(socket);
            var proto = new TBinaryProtocol(transport);
            _hbase = new Hbase.Client(proto);

            try
            {
                transport.Open();

                var names = _hbase.getTableNames();
                names.ForEach(msg => Console.WriteLine(Encoding.UTF8.GetString(msg)));

                CreateTable();
                Insert();
                Get();

                transport.Close();
            } catch(Exception e)
            {
                Console.Error.Write(e.Message);
            }
        }

        private static void Get()
        {
            var scanner = _hbase.scannerOpen(table_name, Guid.Empty.ToByteArray(),
                                             new List<byte[]>(){ID});
            for (var entry = _hbase.scannerGet(scanner); entry.Count > 0; entry = _hbase.scannerGet(scanner))
            {
                foreach (var rowResult in entry)
                {
                    Console.Write(""{0} => "", new Guid(rowResult.Row));
                    var res = rowResult.Columns.Select(c => BitConverter.ToInt32(c.Value.Value, 0));
                    foreach (var cell in res)
                    {
                        Console.WriteLine(""{0}"", cell);
                    }
                }
            }
        }

        private static void Insert()
        {
            _hbase.mutateRows(table_name, new List<BatchMutation>()
            {
                new BatchMutation()
                {
                    Row = Guid.NewGuid().ToByteArray(),
                    Mutations = new List<Mutation> {
                        new Mutation{Column = ID, IsDelete = false, Value = BitConverter.GetBytes(i++) }
                    }
                },
                new BatchMutation()
                {
                    Row = Guid.NewGuid().ToByteArray(),
                    Mutations = new List<Mutation> {
                        new Mutation{Column = ID, IsDelete = false, Value = BitConverter.GetBytes(i++) }
                    }
                }
            });
        }

        private static void CreateTable()
        {
            _hbase.disableTable(table_name);
            _hbase.deleteTable(table_name);

            _hbase.createTable(
                table_name,
                new List<ColumnDescriptor>()
                    {
                        new ColumnDescriptor {Name = ID, InMemory = true},
                        new ColumnDescriptor {Name = NAME, InMemory = true}
                    }
                );
        }
    }
}
"
25048,15883,Set equal aspect in plot with colorbar,"import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.axes_grid1 import make_axes_locatable

def col_plot(data):

    xarr, yarr, zarr = zip(*data)[0], zip(*data)[1], zip(*data)[2]
    xarr = [2*x for x in xarr]

    xmin, xmax = min(xarr), max(xarr)
    ymin, ymax = min(yarr), max(yarr)

    fig = plt.figure()

    ax0 = fig.add_subplot(111, aspect='equal')

    plt.xlim(xmin, xmax)
    plt.ylim(ymin, ymax)
    plt.xlabel('$x axis$', fontsize=20)
    plt.ylabel('$y axis$', fontsize=20)
    # Scatter plot.
    cm = plt.cm.get_cmap('RdYlBu_r')
    SC = ax0.scatter(xarr, yarr, marker='o', c=zarr, s=60, lw=0.25, cmap=cm,
        zorder=3)

    the_divider = make_axes_locatable(ax0)
    color_axis = the_divider.append_axes(""right"", size=""5%"", pad=0.1)

    # Colorbar.
    cbar = plt.colorbar(SC, cax=color_axis)
    cbar.set_label('$col bar$', fontsize=21, labelpad=-2)

# Generate data.
data0 = np.random.uniform(0., 1., size=(20, 3))

col_plot(data0)
"
11228,53039,How to make python random.random() incorporate negatives,"x = random.uniform(-1,1)
"
35616,84815,execute multiple commands in Linux using python in the same time,"import threading
import os

commands = ['ping www.google.com', 'ping www.yahoo.com', 'ping www.hotmail.com']

def worker_func():
    while commands:   # Checks if the the list is not-empty. Loop exits when list is becomes empty
        com = commands.pop(0)
        print ""Start execute commands..""
        os.system(com)
        count += 1
        print ""[OK] command ""+str(count)+"" runing successfully.""

workers = [threading.Thread(target=worker_func, args=tuple(), name='thread_'+str(i))  for i in range(5) ]  # Create 5 workers (consumers)
[worker.start() for worker in workers]  # Start working
[worker.join() for worker in workers]   # Wait for all workers to finish
"
6624,22622,Python find and replace with NA for delimited text files,"import csv

delim = '|'

def replace_NAs(row, NA_values=["""", ""."", ""-""]):
    if x in NA_values:
        return ""NA""
    else:
        return x

with open('infile') as csvfile:
    reader = csv.reader(csvfile, delimiter=delim)
    for row in reader:
        transformed_row = [replace_NAs(x) for x in row]
        print delim.join(transformed_row)

a|b|c|d|e
1|NA|NA|NA|NA
1.2|2.6|NA|NA|1.7
"
35072,76044,pandas: concat data frame with different column name,"   id  x      y
0   0  a  hello
1   0  b   test
2   1  c     hi
3   2  a     hi
4   3  d    bar

df.set_index('id', inplace=True)
pd.DataFrame(pd.concat([df.x, df.y]), columns=['xy']).reset_index()

   id     xy
0   0      a
1   0      b
2   1      c
3   2      a
4   3      d
5   0  hello
6   0   test
7   1     hi
8   2     hi
9   3    bar
"
22586,24160,I need to reverse the output format of a printed triangle using O's,">>> userRows=int(input(""Enter a positive number less than or equal to 20!""));
Enter a positive number less than or equal to 20!20
>>> for i in range(userRows):
...    print ' '*(userRows-i)+'0'*i
... 

                   0
                  00
                 000
                0000
               00000
              000000
             0000000
            00000000
           000000000
          0000000000
         00000000000
        000000000000
       0000000000000
      00000000000000
     000000000000000
    0000000000000000
   00000000000000000
  000000000000000000
 0000000000000000000
"
9500,67451,adding tuple elements in a list,"l1=[(2,1),(3,2),(4,5)]
l2=[(2,3),(3,6),(11,3)]

d1 = dict(l1)
d2 = dict(l2)
result = []

for k in d1:
    if k in d2:
        result.append((k,d1[k]+d2[k]))
    else:
        result.append((k,d1[k]))

for k in d2:
    if k not in d1:
        result.append((k,d2[k]))


>>>print result
[(2, 4), (3, 8), (4, 5), (11, 3)]
"
30883,32264,Pythonic multiple text tables within one text file to CSV conversion,"delimiter = '+--------'
try:
    while True:
        skip_junk(src, delimiter)
        table = read_table_name(delimiter)
        process_table(table, src, delimiter)
except ...
"
23795,45463,Integer (representing a sequence of bits) reinterpretation as Character Array in Python,"import struct

# Pack a Python long as if it was a C unsigned integer, little endian
bytes = struct.pack(""<I"", 0x78FF00AA)
print [hex(ord(byte)) for byte in bytes]

['0xaa', '0x0', '0xff', '0x78']
"
30840,35658,Python and App Engine project structure,"project 
  main.py
  README
  models
      bar.py
      foo.py
  views
      foolist.hml
      barlist.hml
  controllers
      controller1.py
      controller2.py
  api
      controllerapi.py
  helpers
      utilities.py
  lib
      extfoo.py
  db
     foo.db
  test
     test.py
"
39781,36758,_winreg CreateKey function in Python doesn't work,"keyVal= r'Software\Microsoft\Windows\CurrentVersion\Policies'
key2change= OpenKey(HKEY_CURRENT_USER, keyVal,0,KEY_ALL_ACCESS)
CreateKey(key2change,keyVal+""\System"", 0, KEY_ALL_ACCESS)

key2change= OpenKey(HKEY_CURRENT_USER, keyVal+""\System"",0,KEY_ALL_ACCESS)
SetValueEx(key2change, ""Wallpaper"",0,REG_SZ, ""D:\\test.jpg"")
SetValueEx(key2change, ""WallpaperStyle"",0,REG_SZ, ""2"")
"
4392,43513,How to read all files that name store in text file,"infile = ""name_path.txt""
d={}
with open(infile, ""r"") as f:
  for line in f:
    path,label = line.split("";"")
    d.setdefault(label,[]).append(path)
"
34518,7040,Tkinter: Changing a variable within a function,"from Tkinter import *
root = Tk()

aValue = ""5""
spam = StringVar()
spam.set(aValue)

class MyScale(Scale):
    def __init__(self,var,*args,**kwargs):
        self.var_pointer = var
        Scale.__init__(self,*args,**kwargs)
        self.bind(""<ButtonRelease-1>"",self.getValue)
        self.set(var.get())
    def getValue(self,event):
        ## spam gets changed to the new value set 
        ## by the user manipulating the scale
        self.var_pointer.set(self.get())

eggs = MyScale(spam)
eggs.pack(anchor=CENTER)
"
6069,26625,web2py - test for row with combination of two field values,"(db.table.field1==x)&(db.table.field2==y)
"
15297,60863,Remove element in a list with condition,"def remove_names(names_to_remove, info_list):
    return [info
            for info in info_list
            if info.getName() not in names_to_remove]
"
1950,54984,How do I get nose to discover dynamically-generated testcases?,"import unittest
import numpy

from somewhere import the_functions

def test_matrix_functions():
    for function in the_functions:
        yield check_matrix_function, function

def check_matrix_function(function)
    matrix1 = numpy.ones((5,10))
    matrix2 = numpy.identity(5)
    output = function(matrix1, matrix2)
    assert matrix1.shape == output.shape, \
           ""%s produces output of the wrong shape"" % str(function)
"
38012,38946,"Python, Flask - How to structure a restful web service method to manage uploaded files?","class  Fileupload(Resource):

    def get(self):
        pass

    def post(self, user_id):
        pass

    def delete(self, user_id, file_id):
        pass
"
32890,19816,Python Replace() function using an interval between two words,"import re
#the regular express .*? means match any characters,
#util it comes up with string ""bad""
print re.sub('not (.*?) bad', 'good', s)
"
34391,62570,Formating number string with commas for currency type dispaly,">>> a = 11222.33
>>> ""${:,.2f}"".format(a)
'$11,222.33'
>>> a = 111111111222.33
>>> ""${:,.2f}"".format(a)
'$111,111,111,222.33'
>>>
"
35519,29391,how to replace via regex with group enclosed in python,">>> re.sub(r'(.*s\s+=\s+"").*?("".*)', r""\g<1>123\2"", s)
's = ""123"";'
"
28438,79978,Make a dictionary out of values on a json file,"totalRent_dict = {}

for d in data:
    accountLabelType = None
    for (date, details) in d['nightlyDetails'].items():
        for (key, value) in details.items():
            if key == 'accountLabelType':
                accountLabelType = value
    if accountLabelType:
        try:
            totalRent_dict[accountLabelType] += d['totalRent']
        except KeyError:
            totalRent_dict[accountLabelType] = d['totalRent']
"
609,76643,How to find the deepest dict-level of a multilevel python dict?,"def nested_depth(d):
    if not isinstance(d, dict):
        return 0
    if not d:
        return 1
    return 1 + max(nested_depth(v) for v in d.values())
"
2025,44195,How does one implement a clock that updates every second with Python and Flask?,"<script>
function startTime()
{
var today=new Date();
var h=today.getHours();
var m=today.getMinutes();
var s=today.getSeconds();
// add a zero in front of numbers<10
m=checkTime(m);
s=checkTime(s);
document.getElementById('txt').innerHTML=h+"":""+m+"":""+s;
t=setTimeout(function(){startTime()},500);
}

function checkTime(i)
{
if (i<10)
  {
  i=""0"" + i;
  }
return i;
}
</script>
"
9578,80395,"Return values of Tkinter text entry, close GUI","import Tkinter


class Values(Tkinter.Tk):
    """"""docstring for Values""""""
    def __init__(self, parent):
        Tkinter.Tk.__init__(self,parent)
        self.parent = parent
        self.initialize()

    def initialize(self):
        self.grid()
        stepOne = Tkinter.LabelFrame(self, text="" 1. Enter Values "")
        stepOne.grid(row=0, columnspan=7, sticky='W',padx=5, pady=5, ipadx=5, ipady=5)
        self.Val1Lbl = Tkinter.Label(stepOne,text=""Value 1"")
        self.Val1Lbl.grid(row=0, column=0, sticky='E', padx=5, pady=2)
        self.Val1Txt = Tkinter.Entry(stepOne)
        self.Val1Txt.grid(row=0, column=1, columnspan=3, pady=2, sticky='WE')
        self.Val2Lbl = Tkinter.Label(stepOne,text=""Value 2"")
        self.Val2Lbl.grid(row=1, column=0, sticky='E', padx=5, pady=2)
        self.Val2Txt = Tkinter.Entry(stepOne)
        self.Val2Txt.grid(row=1, column=1, columnspan=3, pady=2, sticky='WE')

        self.val1 = None
        self.val2 = None

        SubmitBtn = Tkinter.Button(stepOne, text=""Submit"",command=self.submit)
        SubmitBtn.grid(row=4, column=3, sticky='W', padx=5, pady=2)

    def submit(self):
        self.val1=self.Val1Txt.get()
        if self.val1=="""":
            Win2=Tkinter.Tk()
            Win2.withdraw()

        self.val2=self.Val2Txt.get()
        if self.val2=="""":
            Win2=Tkinter.Tk()
            Win2.withdraw()

        self.quit()


if __name__ == '__main__':
    app = Values(None)
    app.title('Values')
    app.mainloop() #this will run until it closes
    #Print the stuff you want.
    print app.val1,app.val2
"
31095,31878,"How to tell Configparser to open the config file, that has the same name, as the module, opening it?","def module_config(mod):
    '''Loads the config residing next to the module.'''
    import configparser, os.path
    cp = configparser.ConfigParser()
    cp.read_file(open(os.path.splitext(mod.__file__)[0] + '.conf'))
    return cp

# load config for some module
import some_module
module_config(some_module)

# load config for current module
module_config(sys.modules(__name__))
"
8736,67791,Get all combinations of a word with repeat - python itertools.product too slow,"import numpy as np

word = 'papal'
length = 10

word_chars = list(set(word))
n = len(word)
m = len(word_chars)
states = [0] * (2*n)
states[0] = 1
jumps = np.zeros((n, m), dtype=np.int)
for i in range(n):
    for j in range(m):
        # We've seen the first i characters of word, and we see character word_chars[j]
        if word[i] == word_chars[j]:
            value = i+1
        else:
            for k in range(i+1):
                if word[k: i] + word_chars[j] == word[:i - k + 1]:
                    value = i - k + 1
                    break
            else:
                value = 0
        jumps[i, j] = value

for i in range(length):
   new_states = [0] * (2*n)
    for j in range(n):
        for jump in jumps[j]:
            new_states[jump] += states[j]
            if n+jump < 2*n:
                new_states[n+jump] += states[n+j]
    states = new_states

print(np.sum(states[n:]))
"
18614,65319,Count how many times a dictionary value is found with more than one key,"d = {'0': ['Pyrobaculum'], '1': ['Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium', 'Mycobacterium'], '3': ['Thermoanaerobacter', 'Thermoanaerobacter'], '2': ['Helicobacter', 'Mycobacterium'], '5': ['Thermoanaerobacter', 'Thermoanaerobacter'], '4': ['Helicobacter'], '7': ['Syntrophomonas'], '6': ['Gelria'], '9': ['Campylobacter', 'Campylobacter'], '8': ['Syntrophomonas'], '10': ['Desulfitobacterium', 'Mycobacterium']}

# Iterate through and find out how many times each key occurs
vals = {}                       # A dictonary to store how often each value occurs.
for i in d.values():
  for j in set(i):              # Convert to a set to remove duplicates
    vals[j] = 1 + vals.get(j,0) # If we've seen this value iterate the count
                                # Otherwise we get the default of 0 and iterate it
print vals

# Iterate through each possible freqency and find how many values have that count.
counts = {}                     # A dictonary to store the final frequencies.
# We will iterate from 0 (which is a valid count) to the maximum count
for i in range(0,max(vals.values())+1):
    # Find all values that have the current frequency, count them
    #and add them to the frequency dictionary
    counts[i] = len([x for x in vals.values() if x == i])

for key in sorted(counts.keys()):
  if counts[key] > 0:
     print key,"":"",counts[key]
"
5149,42508,Time dependent data in Mayavi,"from traits.api import HasTraits, Int, Instance, on_trait_change
from traitsui.api import View, Item, Group
from mayavi.core.ui.api import SceneEditor, MlabSceneModel, MayaviScene

class Data_plot(HasTraits):
  a = my_array
  t = Int(0)
  scene = Instance(MlabSceneModel, ())
  plot = Instance(PipelineBase)

  @on_trait_change('scene.activated')
  def show_plot(self):
    self.plot = something(self.a[self.t]) #something can be surf or mesh or other

  @on_trait_change('t')
  def update_plot(self):
    self.plot.parent.parent.scalar_data = self.a[self.t] #Change the data

  view = View(Item('scene', editor=SceneEditor(scene_class=MayaviScene),
                show_label=False),
                Group('_', 't'),
                resizable=True,
                )

my_plot = Data_plot(a=my_array)
my_plot.configure_traits()
"
32461,35434,SAS and Web Data,"filename cmap ""yldmap.map""; /* an xml map I created to parse the data */
filename curyld
      url ""http://www.ustreas.gov/offices/domestic-finance/debt-management/interest-rate/yield.xml"";

libname curyld xml xmlmap=cmap;
"
17205,22749,How to enumerate nested classes in python?,"import types


class A(object):
    class B(object):
        pass

    class C(object):
        pass

def enumerate_nested_classes(_class):
    return [getattr(_class, n) for n in dir(_class) if not n.startswith('__')
            and isinstance(getattr(_class, n), (type, types.ClassType))] 

assert enumerate_nested_classes(A) == [A.B, A.C]
"
30853,40859,How to catch when SQL UPDATE SETs not existing line,"def edit_resource(res_name, res_id):
    res = False
    with db_pool().manager() as conn:
        cursor = conn.cursor()
        sql = """"""UPDATE `resource` SET `resource_name` = %s WHERE id = %s;""""""
        if cursor.execute(sql, (res_name, res_id)) > 0:
          res = True
        conn.commit()
    return res
"
26571,17357,numpy: efficient execution of a complex reshape of an array,"idx = numpy.arange(M)
i = numpy.vectorize(f1)(idx)
j = numpy.vectorize(f2)(idx)
k = numpy.vectorize(f3)(idx)

# you can index arrays with other arrays
# that lets you specify this operation in one line.    
newfid[:, i,j,k] = tempfid.T
"
5048,44112,Convert a String into python list that is already in list format,"In [29]: text = ""['abc@gmai.com','abc@gmail.com','abc@gmail.com']""

In [30]: import ast

In [31]: ast.literal_eval(text)
Out[31]: ['abc@gmai.com', 'abc@gmail.com', 'abc@gmail.com']

In [32]: type(ast.literal_eval(text))
Out[32]: list
"
12666,25113,how to read japanese characters from request?,">In [1]: from urlparse import *
>
>In [2]: url = urlparse('http://localhost:8000/service/social/acc?auth=true&body=%7B%22site%22%3A%22twitter%22%2C%22account%22%3A%22twitter_1%22%2C%22name%22%3A%22%93X%95%DC1%22%7D')
>
>In [3]: url
>Out[3]: ParseResult(scheme='http', netloc='localhost:8000', path='/service/social/acc', params='', query='auth=true&body=%7B%22site%22%3A%22twitter%22%2C%22account%22%3A%22twitter_1%22%2C%22name%22%3A%22%93X%95%DC1%22%7D', fragment='')
>
>In [4]: parse_qs(url.query)
>Out[4]:
{'auth': ['true'],
 'body': ['{""site"":""twitter"",""account"":""twitter_1"",""name"":""\x93X\x95\xdc1""}']}
>
>In [5]: name = ""\x93X\x95\xdc1""
>
>In [5]: print name.decode('shift-jis')
>
>åºè1
"
12481,53829,How should I perform imports in a python module without polluting its namespace?,"__all__ = ('MyClass1', 'MyClass2', 'myvar1', â¦)
"
33313,6306,Python Text Encoding,"with open('foo.txt', 'rb') as f:
    contents = f.read().decode('utf-8-sig')   # -sig takes care of BOM if present
"
28692,47307,What is a faster way of merging the values of this Python structure into a single dictionary?,"from collections import defaultdict
all_classes = defaultdict(set)
for group in groups_and_classes.values():
    for c, vals in group.iteritems():
        all_classes[c].update(set(vals))
"
23586,16571,Matrix completion in Python,">>> from sklearn.preprocessing import Imputer
>>> imp = Imputer(strategy=""mean"")
>>> a = np.random.random((5,5))
>>> a[(1,4,0,3),(2,4,2,0)] = np.nan
>>> a
array([[ 0.77473361,  0.62987193,         nan,  0.11367791,  0.17633671],
       [ 0.68555944,  0.54680378,         nan,  0.64186838,  0.15563309],
       [ 0.37784422,  0.59678177,  0.08103329,  0.60760487,  0.65288022],
       [        nan,  0.54097945,  0.30680838,  0.82303869,  0.22784574],
       [ 0.21223024,  0.06426663,  0.34254093,  0.22115931,         nan]])
>>> a = imp.fit_transform(a)
>>> a
array([[ 0.77473361,  0.62987193,  0.24346087,  0.11367791,  0.17633671],
       [ 0.68555944,  0.54680378,  0.24346087,  0.64186838,  0.15563309],
       [ 0.37784422,  0.59678177,  0.08103329,  0.60760487,  0.65288022],
       [ 0.51259188,  0.54097945,  0.30680838,  0.82303869,  0.22784574],
       [ 0.21223024,  0.06426663,  0.34254093,  0.22115931,  0.30317394]])
"
16272,47261,L suffix in long integer in Python 3.x,"Python 2.7.6 (default, Apr 28 2014, 17:17:35) 
[GCC 4.2.1 Compatible Apple LLVM 5.1 (clang-503.0.40)] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> print repr(1L)
1L
>>> print str(1L)
1
"
33975,9001,Search Sqlite Database - All Tables and Columns,"import sqlite3
import os

filename = ...
with sqlite3.connect(filename) as conn:
    conn.row_factory = sqlite3.Row
    cursor = conn.cursor()    
    cursor.execute(""SELECT name FROM sqlite_master WHERE type='table'"")
    for tablerow in cursor.fetchall():
        table = tablerow[0]
        cursor.execute(""SELECT * FROM {t}"".format(t = table))
        for row in cursor:
            for field in row.keys():
                print(table, field, row[field])
"
11980,18009,networkx issue with write_pajek,"*network NetworkX
*vertices 4
1 ""multi part"" 0.0 0.0 ellipse
2 single 0.0 0.0 ellipse
3 12 0.0 0.0 ellipse 
4 13 0.0 0.0 ellipse
*arcs
1 3 1.0
2 3 1.0
"
19187,81441,Unique object identifiers from a for loop,"(...)

def acquire_data(): 
    with open('example.csv', 'rb') as f:
    reader = csv.reader(f)
    headers = reader.next()
    houses = {}
    for row in reader:
        housenumber = int(row[2])
        house = House(row[0],row[1],row[2],row[3])
        houses[housenumber] = house

    print houses[5]   # print house number 5
    print houses[5].price   # print price of house number 5
"
5341,47227,Programmatically generate requirements.txt file,"Ask pip to directly provide the list of distributions
Script myfreeze.py
import pip
with open(""requirements.txt"", ""w"") as f:
    for dist in pip.get_installed_distributions():
        req = dist.as_requirement()
        f.write(str(req) + ""\n"")
"
9758,381,Asserting something is a valid function in Python,"assert (callable(dist_fun))
"
22703,8420,Numpy Vectorized Function Over Successive 2d Slices,"new3dmat = np.array([func2dmat(slice) for slice in my3dmat])
"
15007,70702,"Python argparse, having two optional arguments with at least one which is mandatory","   parser.add_argument('foo', choices=['i', 'o'])
"
16913,6633,How to get the parameters' type and return type of a function?,"def strict(fun):
    # inspect annotations and check types on call

@strict
def funcA(a: int, b: int) -> int:
    return a + b 
"
3960,29456,"Call a function in python, getting '(function) is not defined'?","def ballone():
    # ...

if workout == ""y"":
    ballone()
elif workout == ""n"":
    print(""Okay."")
    sys.exit(""Not working out if you won"")
else:
    sys.exit(""Could not understand"")
"
14256,9254,Create a list by combining each index in 2 lists,"x = [1,2,3]
y = [7,8,9]

print zip(x, y)

# [(1, 7), (2, 8), (3, 9)]
"
18165,42191,Compare each item of two lists in Python,"import itertools
list_1 = [1,5,4]
list_2 = [2,3,4]
# using list comprehensions
comparisons = [a == b for (a, b) in itertools.product(list_1, list_2)]
sums = [a + b for (a, b) in itertools.product(list_1, list_2)]
# using map and lambda
comparisons = map(lambda (a, b): a == b, itertools.product(list_1, list_2))
sums = map(lambda (a, b): a + b, itertools.product(list_1, list_2))
"
4572,16354,Reading a csv (text) file with pkgutil.get_data,"MatFile = pkgutil.get_data('impy.implosions', 'LILAC_Materials.csv')
dataReader = csv.reader(MatFile.decode('utf-8').splitlines(), delimiter=',')
"
7060,71343,Confusion in re.escape('\n') of python,"
>>> import re
>>> re.escape('\n')
'\\\n'
 ^^^^
 | |
 | |__________________ The \n metacharacter
 | 
 |____________________ Returned backslash
"
26902,21772,Reverse the `pairwise` generator,"def unpair(iterable):
    p = iter(iterable)
    return chain(next(p, []), (x[1] for x in p))
"
26980,62895,static stylesheet with google app engine,"- url: /assets
  static_dir: templates/assets
"
16665,44801,How can I ignore specific files when I am parsing a directory?,"files_to_ignore = ('abc.txt', 'foo.txt', 'bar.txt')

for root,dirnames,filenames in os.walk('D:/datast12'):
    for filename in fnmatch.filter(filenames, '*.txt'):
        if filename in files_to_ignore: continue
        matches.append([root,filenames])
"
20745,1581,Passing Argument to function python,"b = Button(text=""click me"", command=self.callback)
# Or if you want to pass parameters
b = Button(text=""click me"", command=lambda: self.callback(""1""))
"
31601,16709,urllib2 to string,"f = urllib2.urlopen(""http://example.com/foo/bar"")
s = f.read()
# s now holds the contents of the site
"
28744,70898,Django remove unicode in values_list,"definitions_list = [definition.encode(""utf8"") for definition in definitions.objects.values_list('title', flat=True)]
"
25239,18570,Python - html2text write to file,"import html2text
html = open(""textFileWithHtml.txt"")
f = html.read()
w = open(""out.txt"", ""w"")
w.write(html2text.html2text(f).encode('utf-8'))
html.close()
w.close()
"
10398,60370,How do I make this python command line an alias in bash?,"alias myip=""python -c 'from urllib import urlopen; print urlopen(\""http://whatismyip.appjet.net\"").read()[:-1]'""
"
176,9683,where to position argparse in code,"class App(object):
    def __init__(self, args):
        ...
        self.args = self._parse_arguments(args)
        ...

    def _parse_arguments(args):
        parser = argparse.ArgumentParser()
        ...
        result = parser.parse_args(args)
        return result
"
4502,62539,Check if namedtuple with value x exists in list,">>> from collections import namedtuple
>>> A = namedtuple('A', 'x y')
>>> lis = [A(100, 200), A(10, 20), A(1, 2)]
>>> any(a.x==1 for a in lis)
True
>>> [getattr(a, 'x')==1 for a in lis]
[False, False, True]
"
5068,79478,Shuffle list with empty (or None) elements,"lst = [[[]], [1, None], 2, [[], 3], 4]
shuffle(lst) # Don't capture the return value
# lst is now shuffled and you can put it into `for` loop:
for x in lst:
    # something
"
5802,2842,Finding all instances of a pattern in a string in python,"def parseString(userInput):
    namePosition = userInput.find('-u')
    emailPosition = userInput.find('-e')
    passwordPosition = userInput.find('-p')

    if namePosition != -1 and emailPosition != -1 and passwordPosition != -1:
        nameText = userInput[namePosition+1:emailPosition] # will look like 'u peter'
        emailText = userInput[emailPosition+1:passwordPosition]
        passwordText = userInput[passwordPosition+1:]
        return [nameText,emailText,passwordText]
    else:
        print 'improper number or type of parameters given as input'

someText = '-u peter -e myemail@email.com -p password'

parsedText = parseString(someText)
print parsedText
"
20804,9468,Python enforce unicode escape,"print repr(u'a\u00e4').replace('\\x','\\u00')
"
8045,39588,List from string of digits question,"s = raw_input() # input() in Python 3
try:
  numbers = map(int, s.split())
except ValueError:
  print('Invalid format')
"
14787,31120,Tkinter threading,"from slice_setup import SLICE_SETUP
import Tkinter as tk
import threading
import Queue

class GuiPart:
    def __init__(self, master, queue):
        self.queue = queue
        self.master = master
        self.master.geometry(""300x100+400+250"")
        self.master.title(""RSAM BCT"")
        tk.Label(master, text=""REDCOM SLICE"", fg=""red"").pack()
        tk.Label(master, text=""BCT - Basic Configuration Test"", fg= ""red"").pack()
        tk.Label(master, text=""Please wait..."", fg= ""black"").pack()
        tk.Label(master, text=""Estimated time: 3 min 6 sec"", fg= ""black"").pack()

    def processIncoming(self):
        while self.queue.qsize():
            try:
                text = self.queue.get(0)
                Complete(self.master, text)
            except Queue.Empty:
                pass

class ThreadedClient:
    def __init__(self, master):
        self.master = master
        self.queue = Queue.Queue()
        self.gui = GuiPart(master, self.queue)
        self.running = True
        self.thread = threading.Thread(target=self.workerThread1)
        self.thread.start()
        self.periodicCall()

    def periodicCall(self):
        self.gui.processIncoming()
        if not self.running:
            return
        self.master.after(100, self.periodicCall)

    def workerThread1(self):
        obj_rcs = SLICE_SETUP()
        obj_rcs.SLICE()
        self.queue.put(""Configuration Complete!"")
        self.running = False

class Complete(tk.Toplevel):
    def __init__(self, master=None, completetext=""""):
        tk.Toplevel.__init__(self, master)
        self.geometry(""400x300+400+250"")
        self.title(""RSAM BCT"")
        tk.Label(self, text=""REDCOME SLICE"", fg=""red"").pack()
        tk.Label(self, text=""BCT - Basic Configuration Test"", fg=""red"").pack()
        tk.Label(self, text=completetext, fg=""dark green"").pack()
        tk.Label(self, text=""Trunk 1: Port 1: Phone 1: 760-450-4500"", fg=""black"").pack()
        tk.Label(self, text=""Trunk 1: Port 2: Phone 2: 760-450-4501"", fg=""black"").pack()
        tk.Button(self, text=""    Exit    "", command=self.destroy).pack()


if __name__ == ""__main__"":
    root = Tkinter.Tk()
    client = ThreadedClient(root)
    root.mainloop()
"
14823,26714,Selenium Python: Download PDF specified by DOM object,"webobj.find_elements_by_tag_name('a')[0].click()
"
1749,80818,Python ctypes.create_string_buffer Problem,"read_buff = ctypes.c_uint()
kernel32.ReadProcessMemory(hproc, lpbaseaddr, ctypes.byref(read_buff),
                           ctypes.sizeof(read_buff), ctypes.byref(bytread))
print read_buff.value
"
32949,72547,How to create a dynamic list in Python?,"x = []
n = 10
for i in range(1, n):
    x.append(i) # you push your element here, as of now I have push i

print x
"
35384,14905,Output loop result into a list,"alist = [ x['name'] for x in anime.info['Genre']]
"
18583,58219,How to select with ease several circular areas in a square array?,"xx,yy = np.meshgrid(np.arange(256),np.arange(256))

mask = ((xx-10)**2+(yy-10)**2 < 8**2) | ((xx-123)**2+(yy-35)**2 < 2**2)

target[mask] = 1
"
3336,73041,How to generate output as sound in python..?,"import pyttsx
import random
data = pyttsx.init()
d = str(random.randrange(100, 1000, 2))
data.say(d)
data.runAndWait()
"
6217,38184,Comparing XML in a unit test in Python,"    obj1 = objectify.fromstring(expect)
    expect = etree.tostring(obj1)        
    obj2 = objectify.fromstring(xml)
    result = etree.tostring(obj2)        
    self.assertEquals(expect, result)
"
21571,16461,Convert Python's base64.b64encode(hmac.new().hexdigest()) to Ruby,"require 'base64'
require 'openssl'
key = ''
text = ""GET\n\n\nSat, 22 Mar 2014 13:49:42 +0000\n""
# hex = Digest::HMAC.hexdigest(text, key, Digest::SHA1) # <-- discouraged
hex = OpenSSL::HMAC.hexdigest(OpenSSL::Digest.new('sha1'), key, text)
p Base64.urlsafe_encode64(hex)
# => ""ZmUxN2YxMDQxMTdlODg3MDljMTRjYjY0ZGU1NDk1MjgwNzI2Yjk1Zg==""
"
8645,53775,Stack overflow on logging python module,"__author__ = 'Girish'

import logging
import sys
import traceback
import logging.handlers


class StreamToLogger(object):
    def __init__(self, logger, log_level, std):

        self.logger = logger
        self.log_level = log_level
        self.linebuf = ''
        self.std = std

    def write(self, buf):
        for line in buf.rstrip().splitlines():
            # ^^STACK OVERFLOW^^
            self.logger.log(self.log_level, line.rstrip())
            self.std.write(line + ""\n"")
    def flush(self):
        self.std.flush()


logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s:%(levelname)s:%(name)s:%(message)s',
    filename=""history.log"",
    filemode='a'
)
hand = logging.handlers.TimedRotatingFileHandler(""bot.log"", when=""S"", interval=20)
# my attempt at handling


stdout_logger = logging.getLogger('STDOUT')

sl = StreamToLogger(stdout_logger, logging.INFO, sys.__stdout__)

stderr_logger = logging.getLogger('STDERR')
stderr_logger.addHandler(hand) #here

sl = StreamToLogger(stderr_logger, logging.ERROR, sys.__stderr__)
sys.stdout = sl
for i in range(2):
    sl.write(""is this working"")
"
28274,6251,Python make list of list contents,"bar = [ i.bar for i in foo ]
"
10074,39974,Writing word backwards,"def rev(h):
    counter=len(h) - 1 # indexes of h go from 0 to len(h) - 1
    reverse=""""
    while counter>=0: # changed to >=0
        reverse+=h[counter]
        counter -= 1
    return reverse

h=input('word\n\n');
revers = rev(h) # put rev(h) after the definition of rev!
print(revers) # actually print the result
# deleted your last line
"
28284,49784,Check if points lies inside a convex hull,"from scipy.spatial import ConvexHull
from matplotlib.path import Path

hull = ConvexHull( points )

hull_path = Path( points[hull.vertices] )

print hull_path.contains_point((1,2)) # Is (1,2) in the convex hull?
"
28232,49678,Want to read sequential lines in a file and do some mathematical calculation,"enter codefrom numpy import *
from math import *
import operator

f = open('Data_Genergy_26.txt', 'r')
lines = f.readlines()
# initialize some variable to be lists:
r = []
ro = []
E =[]

# scan the rows of the file stored in lines, and put the values into some variables:
for line in lines:
    p = line.split()
    r.append(float(p[0]))
    ro.append(float(p[1]))
#Subtracting the current and previous item in a list
def foo(it):
    it = iter(it)
    t = it.next()
    for s in it:
        yield t, s
        t = s        
list(foo(r))
E=[x[1] - x[0] for x in foo(r)]
#print E
#Cubing all elements in a list
def cube(E):
    return [i ** 3 for i in E]
#print cube(E)
#computing total energy
z =[a*b for a,b in zip(cube(E),ro)]
z[:] = [x*4/3*pi for x in z] 
z.append(0.0) #for making r, ro, and z of same dimension
#print z     

DataOut = column_stack((r,ro,z))
savetxt('output.dat', DataOut)
"
25495,33731,How to open multiple windows in Tkinter,"import Tkinter as tk

root = tk.Tk()
tk.Label(root, text=""this is the root window"").pack()
root.geometry(""200x200"")
for i in range(4):
    window = tk.Toplevel()
    window.geometry(""200x200"")

    tk.Label(window, text=""this is window %s"" % i).pack()

root.mainloop()
"
18437,32764,Write list of list to file and then retrieve it from the file as a list of list,">>> import pickle
>>> banana, beans = ['Banana' , .54 , 'No' , 'Food'], ['Beans' , 1.39, 'Yes', 'Food']
>>> food = [banana, beans]
>>> with open('data', 'wb') as f:
        pickle.dump(food, f)


>>> with open('data', 'rb') as f:
        print pickle.load(f)


[['Banana', 0.54, 'No', 'Food'], ['Beans', 1.39, 'Yes', 'Food']]
"
13081,14880,Python / PyPlot- How can I specify the x/y-axis on plt.imshow?,"import numpy as np
import matplotlib.pyplot as plt

R, P = np.mgrid[:10, :2*np.pi:np.pi/50]
N = 50
plt.contourf(R*np.cos(P), R*np.sin(P), R, N) # <--- need better function
plt.pcolormesh(R*np.cos(P), R*np.sin(P), R) # <--- exactly what I want
# plt.imshow(R*np.cos(P), R*np.sin(P), R) #      something like this
plt.show()
"
37458,44766,Creating Menu in Python,"menu = raw_input(""Please choose a operation from the menu:"")

if menu == '1':
  run_the_code()
elif menu == '2':
  exit_the_code()
else:
  print ""No such option!""
"
27449,13209,PIL changes file name while saving,">>>urllib.urlencode({'q':'7962716_41tlK2uT%2BSL.SL75.png'}) == ""q=7962716_41tlK2uT%252BSL.SL75.png""
True
"
37322,32843,xlwt write excel sheet on the fly,"import StringIO

f = StringIO.StringIO() # create a file-like object 

wbk = xlwt.Workbook()
earnings_tab = wbk.add_sheet('EARNINGS')

wbk.save(f) # write to stdout
"
38536,49685,Compilers: How to parse function calls and function definitions,"<digit>   ::= ""0""|""1""|...|""9""
<integer> ::= <digit>*
<expr>    ::= <integer> | <add> | <pow>
<add>     ::= ""add("" <expr> "","" <expr> "")""
<sub>     ::= ""sub("" <expr> "","" <expr> "")""
<pow>     ::= ""pow("" <expr> "","" <expr> "")""
"
21992,45066,Issues in save - load apollocaffe models,"import apollocaffe
from apollocaffe.layers import NumpyData, Convolution, EuclideanLoss
import numpy as np

def save():
    net = apollocaffe.ApolloNet()
    for i in range(1000):
        example = np.array(np.random.random()).reshape((1, 1, 1, 1)) 
        net.clear_forward()
        net.f(NumpyData('data', example))
        net.f(NumpyData('label', example*3))
        net.f(Convolution('conv', (1,1), 1, bottoms=['data']))
        net.f(EuclideanLoss('loss', bottoms=['conv', 'label']))
        net.backward()
        net.update(lr=0.1)
        if i % 100 == 0:
            print net.loss
        net.save(""model.h5"")


def load():
    print ""LOAD""
    net = apollocaffe.ApolloNet()
    net.load(""model.h5"")
    #example = np.array(np.random.random()).reshape((1, 1, 1, 1))
    example = np.asarray([[[[ 0.92890837]]]])
    net.clear_forward()
    net.f(NumpyData('data', example))
    net.f(NumpyData('label', example*3))
    net.f(Convolution('conv', (1,1), 1, bottoms=['data']))
    net.f(EuclideanLoss('loss', bottoms=['conv', 'label']))
    net.backward()
    net.update(lr=0.1)
    print net.loss

save()
load()
"
7720,29382,Simplest way to Import a shared python script relative to the current script,"import common
common.f1()
"
7293,42803,"Python Tkinter - Listbox custom class to return index, but there is no index","def CurSelect(self, a):
    indexes = self.root.listbox.curselection()
    items = [self.root.listbox.get(index) for index in indexes]
    print(""indexes:"", indexes)
    print(""items:"", items)
"
6505,47221,gql does not work for get paramters for keys,"mydbobject = DbModel.get_by_id(int(self.request.get(""selectedrow"")))
"
14619,57961,"How do I verify that a string only contains letters, numbers, underscores and dashes?","import re

...

if re.match(""^[A-Za-z0-9_-]*$"", my_little_string):
    # do something here
"
33305,18725,Python PySerial read-line timeout,"import re
import time
import serial

def doRead(ser,term):
    matcher = re.compile(term)    #gives you the ability to search for anything
    tic     = time.time()
    buff    = ser.read(128)
    # you can use if not ('\n' in buff) too if you don't like re
    while ((time.time() - tic) < tout) and (not matcher.search(buff)):
       buff += ser.read(128)

    return buff

if __name__ == ""__main__"":
    ser = serial.Serial(PORT, BAUD, timeout = TOUT)
    ser.write(CMD)
    print doRead(ser,term='\n')
"
31112,37987,pytest fixture params with monkeypatch,"@pytest.fixture
def data():
    now = datetime.datetime.now()
    data = Data(now)
    return data


@pytest.fixture
def patch_db(monkeypatch):
    class FakeDbConnection:
        def __init__(*args, **kwargs):
            pass

        def fetchall(self):
            return fetch_result.values

    monkeypatch.setattr(DbConnection, 'execute', FakeDbConnection)

    class FetchResult:
        pass

    fetch_result = FetchResult()
    fetch_result.values = None
    return fetch_result


def test_get_somevalue(patch_db, data):
    patch_db.values = [1,2,3]
    userids = data.get_userids()
    assert userids == [1,2,3]


def test_get_something_else(patch_db, data):
    patch_db.values = [6,7,8]
    userids = data.get_userids()
    assert userids == [6,7,8]
"
2243,21426,Change to a known directory name but unkown absolute path in Python,"def find_folders(start_path,needle):
   for cwd, folders, files,in os.walk(start_path):
       if needle in folders:
           yield os.path.join(cwd,needle)

for path in find_folders(""/"",""a_folder_named_x""):
    print path
"
14647,74215,Regular expression doesn't extract whole the id from a log file?,"import codecs
import re
RE_SID = re.compile(ur'id:(<<"")?(?P<sid>[A-Za-z\d._+]*)', re.U) # \d used to match non-ASCII digits, too
input_file = codecs.open(cfg.log_file, encoding='utf-8')  # Read the file with UTF8 encoding
for line in input_file: 
    fields = line.strip().split(u' ') # u prefix is important!
    if len(fields) >= 11: 
    try: 
        # ...... 
        sid = RE_SID.search(fields[7]).group('sid') # Or check if there is a match first
"
33468,37585,Using Variable Explorer in Spyder (Python) to View Other Namespaces,"import inspect

local_vars = {}

def main():
    global local_vars
    a = 2
    b = 4
    c = a+b
    local_vars = inspect.currentframe().f_locals
    return c

main()
"
32575,58633,python scikit-learn clustering with missing data,"import numpy as np
from sklearn.datasets import make_blobs
from sklearn.cluster import KMeans
from matplotlib import pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

gen = np.random.RandomState(0)
n_samples = 1500
n_features = 3
n_clusters = 5

# original data
X, t = make_blobs(n_samples, n_features, n_clusters, random_state=gen)

# with 30% missing values
Xm = np.where(gen.rand(*X.shape) > 0.3, X, np.nan)

# initially set missing values to column mean
valid = np.isfinite(Xm)
mu = np.nanmean(Xm, 0, keepdims=1)
X_hat = np.where(valid, Xm, mu)

for ii in range(10):

    # perform clustering on filled-in data
    cls = KMeans(n_clusters, n_jobs=-1)
    labels_hat = cls.fit_predict(X_hat)

    # update missing values based on cluster centroids
    X_hat[~valid] = cls.cluster_centers_[labels_hat][~valid]

# clustering on original data (without missing values)
cls = KMeans(n_clusters, n_jobs=-1)
labels = cls.fit_predict(X)

# plot results
fig, ax = plt.subplots(1, 2, subplot_kw={'projection':'3d', 'aspect':'equal'})

ax[0].scatter3D(X[:, 0], X[:, 1], X[:, 2], c=labels, cmap='gist_rainbow')
ax[1].scatter3D(X_hat[:, 0], X_hat[:, 1], X_hat[:, 2], c=labels,
                cmap='gist_rainbow')

ax[0].set_title('Original data')
ax[1].set_title('Imputed (30% missing values)')

fig.tight_layout()
"
38133,6375,"Draw, then re-draw lines in python code","import matplotlib.pyplot as plt
import numpy as np
from time import sleep
x1,x2,n,m,b = -50.,150.,11,0.,0.
x = np.r_[x1:x2:n*1j]
plt.ion()
plt.axis([ -50, 150, -50, 150])
line, = plt.plot(x, m*x + b)    # comma is needed because plot returns a tuple
for m in np.r_[1:0:-0.1]:
    line.set_ydata(m*x + b)
    plt.draw()
    sleep(0.5)
"
12928,49763,Threading issue in Python,"import socket
from threading import Thread


def wait_response(s):
    while True:
        data, addr = s.recvfrom(1024)
        if data:
            data = data.decode('utf-8')
            print(""Received from server: "" + data)


def main():
    host = ''
    port = 5000
    server = ('', 6000)

    s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    s.bind((host, port))

    d = Thread(target=wait_response, args = (s,))
    d.setDaemon(True)
    d.start()

    message = input(""->"")

    while message != 'q':
        s.sendto(message.encode('utf-8'), server)
        message = input(""->"")
    s.close()

if __name__ == '__main__':
        main() 
"
17087,33023,How to use lxml in Python to get the following elements?,"element.xpath('preceding-sibling::separator[1]')
"
7513,81426,write output file python from program,"file = open(""newfile.txt"", ""w"")

file.write(""This is a test\n"")

file.write(""And here is another line\n"")

file.close()
"
5684,17825,"Fab file, unable to remote curl a S3 .gzip file","sudo('curl -o /tmp/test.gz ""{}""'.format(url))
"
7955,24087,Python:Plotting a bubble chart of location data,"import matplotlib.pyplot as plt
import collections
import numpy as np

data = [tuple(pair)
        for pair in np.random.uniform(5, size=(20,2))
        for c in range(np.random.random_integers(50))]
count = collections.Counter(data)

points = count.keys()
x, y = zip(*points)
sizes = np.array(count.values())**2
plt.scatter(x, y, s=sizes, marker='o', c=sizes)
plt.show()
"
25852,49274,Python sqlite3.OperationalError: no such table:,"import os.path

BASE_DIR = os.path.dirname(os.path.abspath(__file__))
db_path = os.path.join(BASE_DIR, ""PupilPremiumTable.db"")
with sqlite3.connect(db_path) as db:
"
5099,55711,Scrapy output issue,"titles=hxs.select('//table[@id=""searchresults""]/tbody/tr')
items = []
for titles in titles:
    item['title']=titles.select('.//span[@class=""jobTitle""]/a/text()').extract()
    item['link']=titles.select('.//span[@class=""jobTitle""]/a/@href').extract()
    item['shifttype']=titles.select('.//span[@class=""jobShiftType""]/text()').extract()
    item['location']=titles.select('.//span[@class=""jobLocation""]/text()').extract()
    items.append(item)
return items
"
6911,59320,what does object's __init__() do in python?,"class Service(object):
    def __init__(self, host, binary, topic, manager, report_interval=None,
             periodic_interval=None, *args, **kwargs):
        print 'Initializing Service'
        super(Service, self).__init__(*args, **kwargs)

class Color(object):
    def __init__(self, color='red', **kwargs):
        print 'Initializing Color'
        self.color = color
        super(Color, self).__init__(**kwargs)

class ColoredService(Service, Color):
    def __init__(self, *args, **kwds):
        print 'Initializing Colored Service'
        super(ColoredService, self).__init__(*args, **kwds)

c = ColoredService('host', 'bin', 'top', 'mgr', 'ivl', color='blue')
"
16838,55119,write array starting from specific column to new workbook using xlwt,"wb = xlwt.Workbook()
ws = wb.add_sheet('Sheet1')
for r, row in enumerate(data):
    for c, col in enumerate(row):
        ws.write(r, 2 + c, label=col)
"
31115,40805,Inserting objects and using ids in SqlAlchemy,"from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy import Column, Integer, String
from sqlalchemy.orm import sessionmaker

engine = create_engine('sqlite:///example.db')
engine.echo = True
Base = declarative_base()

class Location(Base):
    __tablename__ = 'locations'

    locationid = Column(Integer, primary_key=True)
    name = Column(String)
    address = Column(String)

    def __init__(self, name, address):
        self.name = name
        self.address = address


Base.metadata.create_all(engine)

Session = sessionmaker(bind=engine)
session = Session()

def insertlocations(locationlist):
    session.add_all(locationlist)
    session.commit()


loc1 = Location('loc1', 'Foostreet 42')
loc2 = Location('loc2', 'Barstreet 27')

neighbourhoodlist = [loc1, loc2]

insertlocations(neighbourhoodlist)
for neighbourhood in neighbourhoodlist:
    print neighbourhood.locationid

session.close()
"
5124,5735,How to stop iterating over an iterator at the penultimate item?,"from itertools import product
from collections import namedtuple

param_list = []

Parameter = namedtuple(""Parameter"", ['bad', 'good'])
param1 = Parameter([""peanut"", ""gluten""], [""bacon"", ""pickle""])
param_list.append(param1)
param2 = Parameter([0], [1, 22])
param_list.append(param2)
param3 = Parameter([0, 1], [2, 3, 4, 9])
param_list.append(param3)
param4 = Parameter([""football""], [""running"", ""yoga""])
param_list.append(param4)

# Pulling one item ahead of loop so as to avoid the last item.
iterable = product(*param_list)
prev_prod = next(iterable)

for prod in iterable:
    for sub_prod in product(*prev_prod):  # Using 'prev_prod' instead of 'prod'
        prod_str = [str(x) if type(x) is not str else x for x in sub_prod]
        print "", "".join(prod_str)

    prev_prod = prod
"
36427,31752,Python how to get permutations one by one,">>> import itertools
>>> x = itertools.permutations(range(3))
>>> next(x)
(0, 1, 2)
>>> next(x)
(0, 2, 1)
>>> next(x)
(1, 0, 2)
"
15098,28933,Django: How to test if a user is currently logged in,"from django.contrib.auth.signals import user_logged_in, user_logged_out

def record_user_logged_in(sender, user, request, **kwargs):
    # Record the user logged in

def record_user_logged_out(sender, user, request, **kwargs):
    # Record the user logged out

user_logged_in.connect(record_user_logged_in)
user_logged_out.connect(record_user_logged_out)
"
2866,30605,Matplotlib heatmap: Image rotated when heatmap plot over it,"implot = plt.imshow(im,origin='upper')
...
extent = [xedges[0], xedges[-1], yedges[-1], yedges[0]]
plt.imshow(heatmap, extent=extent,alpha=.5,origin='upper')
"
35290,45531,Python beautifulsoup level 1 only text,"table = soup.find('div', class_='right1').table
rows = table.find_all('tr', {""class"" : re.compile('list.*')}, recursive=False)
"
17775,43651,How do I get Jinja2 to automatically squash all extraneous HTML whitespace?,"{% strip %}
<div>
    Whitespace will be removed
</div>
{% endstrip %}
"
8572,69212,How to execute sql lines in postgresql using pythonï¼,"import psycopg2

query = """"""
    select *
    from driving_distance ($$
        select
            gid as id,
            start_id::int4 as source,
            end_id::int4 as target,
            shape_leng::double precision as cost
        from network
        $$, %s, %s, %s, %s
    )
;""""""


conn = psycopg2.connect(""dbname=cpn"")
cur = conn.cursor()
cur.execute(query, (10, 1000000, False, False))
rs = cur.fetchall()
conn.close()
print rs
"
38415,78211,Django form ForeignKey database field not as dropdown,"from django import forms

class FoobarForm():
    class Meta:
        model = Foobar

    def __init__(self, *args, **kwargs):
        super(FoobarForm, self).__init__(*args, **kwargs)
        self.fields['foobar'].widget = forms.TextInput()
"
6752,1552,"python, changing functions into classes and objects","class Car():

    def __init__(self, mileage=0, mpg=10, tank_capacity=5):
        self.mileage = mileage
        self.mpg = mpg
        self.tank_capacity=tank_capacity
        self.tank_level = 0                

    def drive(self, miles):
        gallons_burned = float(miles) / self.mpg
        if self.tank_level < gallons_burned:
            miles_driven = float(self.tank_level) * self.mpg
            self.tank_level = 0
            self.mileage += miles_driven
            print ""You ran out of gas after %s miles."" % miles_driven
            return
        self.tank_level -= gallons_burned
        self.mileage += miles
        print ""You made it to your destination after %s miles."" % miles

    def pump_gas(self, gallons):
        self.tank_level += gallons
        if self.tank_level > self.tank_capacity:
            self.tank_level = self.tank_capacity
        print ""You now have %s gallons in your tank"" % self.tank_level

    def status(self):
        print ""Mileage:"", self.mileage
        print ""Tank level: %s gallons"" % self.tank_level

if __name__ == ""__main__"":
    my_car = Car(mileage=100, mpg=30, tank_capacity=3)
    my_car.pump_gas(4)
    my_car.status()
    my_car.drive(50)
    my_car.status()
    my_car.drive(60)
    my_car.status()

""""""
You now have 3 gallons in your tank
Mileage: 100
Tank level: 3 gallons
You made it to your destination after 50 miles.
Mileage: 150
Tank level: 1.33333333333 gallons
You ran out of gas after 40.0 miles.
Mileage: 190.0
Tank level: 0 gallons
""""""    
"
36831,22208,Is there a effective way to get only K combinations of a list?,">>> for c in itertools.combinations(stuff, 7):
...     print(c)
...     
(1, 2, 3, 4, 5, 6, 7)
(1, 2, 3, 4, 5, 6, 8)
(1, 2, 3, 4, 5, 7, 8)
(1, 2, 3, 4, 6, 7, 8)
(1, 2, 3, 5, 6, 7, 8)
(1, 2, 4, 5, 6, 7, 8)
(1, 3, 4, 5, 6, 7, 8)
(2, 3, 4, 5, 6, 7, 8)
"
8755,62239,Only allowing authenticated users to access certain pages in django,"@login_required(login_url='/')
def course(request):
    data = Students.objects.all()
    return render(request, 'login/course.html', {'data': data})
"
36268,60948,What is the most efficient way to get this kind of matrix from a 1D numpy array?,"import numpy

# create some random data for testing
sz = 100
a  = numpy.random.random(sz*sz/2 - sz/2).astype('S50')

# convert back to float for a test on minus signs,
# as it would be done if a is read as string values
amins = numpy.where(a.astype(float) <= 0, """", ""-"")

# get the values without minus signs
aplus = numpy.char.lstrip(a, ""-"")

# addup to negated string values
aminus = numpy.char.add(amins, aplus)

# create an empty matrix
m = numpy.zeros(shape=(sz,sz), dtype='S51')
# ids of the upper triangle
u_ids = numpy.triu_indices(sz,1)
# set upper values
m[u_ids] = a
# switch coordinates to set lower values
m[u_ids[1],u_ids[0]] = aminus
# fill diag with zeros
numpy.fill_diagonal(m, numpy.zeros(sz).astype('S51'))


print m
"
4465,11227,Compare two CSV files in Python,"csvwriter.writerow(header2+header1[2:4])

csv2copy=[]
for row2 in csv2reader: csv2copy.append(row2)

for row1 in csv1reader:
    for row2 in csv2copy:
        print row1,row2,counter
        if row1[0]==row2[0]:
            counter=counter+1
            csvwriter.writerow(row2+row1[2:4])
"
24733,24915,Displaying results from search API,"address = ""http://www.blekko.com/?q='%(query)s'+/html&auth=<mykey>"" % dict(query=request.vars.query)
"
808,8453,Shortest way to get a value from a dictionary or a default if the key is not present,"p = ui.get('padding', 0)
"
11848,80679,python plugin IPDB installation,"easy_install ipdb
"
20976,63239,How to create a record in a model while creating a record in another model in odoo,"class custom_sale_order(models.Model):
    _inherit='sale.order'

    time1 = fields.Date('TIme1')
    time2 = fields.Date('TIme2')

    @api.model
    def create(self, values):
        # here we call to the parent create method
        res = super(custom_sale_order, self).create(values)

        # here we create a record in the demo model
        # and we can access to the values of the current model
        self.env['demo'].create({
            'time3': values['time1'],
            'time4': values['time2']
        })

        return res
"
38631,82716,complex data manipulation in node.js using child processes,"var child = require('child_process').spawn('python', ['script.py']);
child.stdout.on('data', function(data)
{
    response = JSON.parse(data);
    console.log(response);
});
child.stdin.write(JSON.stringify(data));
"
31889,6626,send mail using python,"import smtplib
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText

fromaddr = 'demo@gmail.com'
toaddrs = 'demotest@gmail.com'

msg = MIMEMultipart('alternative')
msg['Subject'] = ""Link""
msg['From'] = ""good morning"" #like name
msg['To'] = ""GGGGGG""

body = MIMEText(""example email body"")
msg.attach(body)

username = 'demo@gmail.com'
password = ''
server = smtplib.SMTP_SSL('smtp.googlemail.com', 465)
server.login(username, password)
server.sendmail(fromaddr, toaddrs, msg.as_string())
server.quit()
"
32264,40356,Python and SQLite: insert into table,"conn = sqlite3.connect('/path/to/your/sqlite_file.db')
c = conn.cursor()
for item in my_list:
  c.execute('insert into tablename values (?,?,?)', item)
"
1990,74510,Python Beginners - Searching a text file for an array of text,"keywords = ['abc', 'def', 'ghi']

for line in f:
    if all(keyword in line for keyword in keywords):
        print line
"
17737,26886,Regular expression further checking,"(\w+\([^)]*\))(\s+|$)
"
28922,48998,Better coding: simple way to cover all writing possibilities?,"if easy_mode.lower() in {'yes','y'}:
    (...)
"
33404,56625,"Why is re.findall matching the string, but not returning the results correctly?","((?:[A-Z][0-9]+)+)
"
28836,53542,"Trying to unzip a zipfile, then within the folders that result, find and unzip any/all zipfiles","import os, os.path, zipfile, arcpy

in_Zip = r'D:\D_Drive_Documents\Student_Work_Sample_usecopy1\2012-09-18 Lab_2.zip'

outDir = r""D:\D_Drive_Documents\Student_Work_Sample_usecopy1""

z = zipfile.ZipFile(in_Zip,'r')

z.extractall(outDir)

zipContents = z.namelist()
z.close()

for item in zipContents:
    if item.endswith('.zip'):
        fullpath = os.path.join(outDir, item)
        x = zipfile.ZipFile(fullpath,'r')
        dest_path = os.path.dirname(fullpath)
        x.extractall(dest_path)
        x.close()
"
21823,84126,count the tuples of a pandas Dataframe,">>> res = df.groupby(list(df.columns)).size()
>>> res
val1  val2  val3  val4
0     2     5     7       1
1     4     5     4       2
5     7     5     3       1
6     8     1     0       1
7     8     3     2       3
dtype: int64
>>> res.index = [tuple(x) for x in res.index]
>>> res = res.reset_index().set_index(0)
>>> res
          index
0              
1  (0, 2, 5, 7)
2  (1, 4, 5, 4)
1  (5, 7, 5, 3)
1  (6, 8, 1, 0)
3  (7, 8, 3, 2)
"
955,28548,"Correct way use type hints / generics to describe arguments of type class (""type"")","T = TypeVar('T', bound=BaseModel)

def deserialize(data: Dict[str, Any], clazz: Callable[..., T]) -> T:
    """""" Deserialize dictionary into a model object of type clazz. """"""
"
6278,16621,Run a python program for a specific time,"proc = subprocess.Popen([""python"", my_program, arguments])
...
proc.terminate()
"
30096,60291,Creating a random string in Python without duplicating characters,"import string
import random

all_chars = list(string.digits + string.ascii_letters + string.punctuation)
random.shuffle(all_chars)
print ''.join(all_chars[:94])
"
36590,46820,What does this Python one-liner mean?,"# p = 1; s = p
s=p=1
#exec""if s%p*s%~-~p:print`p`+','+`p+2`\ns*=p*p;p+=2\n""*999
for i in range(999):
    # s%p = remainder of s/p
    # ~p = 1s complement of p
    if s%p*s%~-~p:
        # `p` = repr(p)
        print`p`+','+`p+2`
    # s = s*p*p
    s*=p*p
    # p = p+2
    p+=2
"
27232,50028,Python Clicker Game,"autoclickers=0 # start autoclickers at 0

def purchaseAutoClickerCommand():
    global click
    global autoclickers # declare global
    if click < 7:
        print(""Not enough clicks!"")
        blankLine()
    else:
        click -= 7 # pay for an autoclicker
        print(""Auto clicker purchased!"")
        autoclickers += 1 # receive an autoclicker

def autoclick():
    global master
    global click
    global autoclickers
    click += autoclickers # get clicks from autoclickers
    master.after(1000, autoclick) # do this again 1 second later

autoclick() # start benefiting from all existing autoclickers
"
1728,1254,Perl ssh Password,"  use strict;
  use warnings;
  use Expect;

  $exp= Expect->spawn(""ssh $host -l $user"");

  sleep(1);

  $exp->expect($timeout,""Password:"");
  $exp->send(""$pass\r"");

  $exp->expect($timeout,-re,'>');
  $exp->send(""ls -l\r"");

  $exp->expect($timeout,-re,'>');
  $exp->send(""mkdir aDir\r"");

  $exp->expect($timeout,-re,'>');
  $exp->send(""chmod 777 aDir\r"");

  $exp->expect($timeout,-re,'>');
  $exp->send(""exit\r"");
"
27963,28668,secure xml parsing in python,"import urllib2
import base64
theurl = 'http://abc.com/A.xml'

username='AAA'
password='BBB'

req = urllib2.Request(theurl)


base64string = base64.encodestring(
            '%s:%s' % (username, password))[:-1]
authheader =  ""Basic %s"" % base64string
req.add_header(""Authorization"", authheader)
try:
    handle = urllib2.urlopen(req)
except IOError, e:
    print ""It looks like the username or password is wrong.""
xml = handle.read()
inputXml  = etree.fromstring(xml)
"
32501,24300,Pyside: Pass a var generated in a function to another function,"def select(self):
    #snip ...
    if len(fileObjOpenName) > 1:
       self.path_to_pdf = fileObjOpenName

def save(self):
    #snip ...
    if len(fileNameSave) > 1:
       path_to_pdf = self.path_to_pdf
"
9458,2771,Python/Pandas - Convert type from pandas period to string,"print df

#        Seasonal
#Date             
#2014-12 -1.089744
#2015-01 -0.283654
#2015-02  0.158974
#2015-03  0.461538

print df.index

#PeriodIndex(['2014-12', '2015-01', '2015-02', '2015-03'],
#              dtype='int64', name=u'Date', freq='M')

df.index=df.index.to_series().astype(str)
print df

#         Seasonal
#Date             
#2014-12 -1.089744
#2015-01 -0.283654
#2015-02  0.158974
#2015-03  0.461538

print df.index

#Index([u'2014-12', u'2015-01', u'2015-02', u'2015-03'], dtype='object', name=u'Date')
"
39013,975,Error when trying to reuse Windows Notification class in Python,"class WindowsBalloonTip:
    def __init__(self):
        message_map = {
                win32con.WM_DESTROY: self.OnDestroy,
        }
        # Register the Window class.
        wc = WNDCLASS()
        self.hinst = wc.hInstance = GetModuleHandle(None)
        wc.lpszClassName = ""PythonTaskbar""
        wc.lpfnWndProc = message_map # could also specify a wndproc.
        self.classAtom = RegisterClass(wc)

    def ShowWindow(self,title, msg):
        # Create the Window.
        style = win32con.WS_OVERLAPPED | win32con.WS_SYSMENU
        self.hwnd = CreateWindow( self.classAtom, ""Taskbar"", style, \
                0, 0, win32con.CW_USEDEFAULT, win32con.CW_USEDEFAULT, \
                0, 0, self.hinst, None)
        UpdateWindow(self.hwnd)
        iconPathName = os.path.abspath(os.path.join( sys.path[0], ""balloontip.ico"" ))
        icon_flags = win32con.LR_LOADFROMFILE | win32con.LR_DEFAULTSIZE
        try:
           hicon = LoadImage(self.hinst, iconPathName, \
                    win32con.IMAGE_ICON, 0, 0, icon_flags)
        except:
          hicon = LoadIcon(0, win32con.IDI_APPLICATION)
        flags = NIF_ICON | NIF_MESSAGE | NIF_TIP
        nid = (self.hwnd, 0, flags, win32con.WM_USER+20, hicon, ""tooltip"")
        Shell_NotifyIcon(NIM_ADD, nid)
        Shell_NotifyIcon(NIM_MODIFY, \
                         (self.hwnd, 0, NIF_INFO, win32con.WM_USER+20,\
                          hicon, ""Balloon  tooltip"",msg,200,title))
        # self.show_balloon(title, msg)
        DestroyWindow(self.hwnd)

    def OnDestroy(self, hwnd, msg, wparam, lparam):
        nid = (self.hwnd, 0)
        Shell_NotifyIcon(NIM_DELETE, nid)
        PostQuitMessage(0) # Terminate the app.

w = WindowsBalloonTip()
w.ShowWindow(""Title1"",""Message One!"")
time.sleep(1) # some time later
w.ShowWindow(""Title2"",""Message Two!"")
"
12532,34354,Making web scraper yield more information,"from scrapy.http import Request
from scrapy.spider import BaseSpider
from scrapy.selector import XmlXPathSelector
from scrapy.item import Item, Field
import csv


class Road(Item):
    RoadNum = Field()
    RoadName = Field()
    PostNum = Field()


def unicode_csv_reader(utf8_data, dialect=csv.excel, **kwargs):
    csv_reader = csv.reader(utf8_data, dialect=dialect, **kwargs)
    for row in csv_reader:
        yield [unicode(cell, 'utf-8') for cell in row]


class Geospider(BaseSpider):
    name = 'Geospider'
    allowed_domains = [""http://kortforsyningen.kms.dk/""]
    start_urls = []

    def start_requests(self):
        reader = unicode_csv_reader(open('AddressesAndZipcodes.csv'))
        for row in reader:
            address, zip_code = row[:2]
            url = 'http://kortforsyningen.kms.dk/service?ServiceName=geoV&soegemetode=0&vejnavn=%s&kommunepost=%s&format=XML&max_hits=10&login=xxx&password=xxx' % (address, zip_code)

            yield Request(url=url, meta={'zip_code': zip_code})

    def parse(self, response):
        xxs = XmlXPathSelector(response)
        sites = xxs.select('//dokument/forekomst')

        item = Road()
        item['RoadNum'] = sites.select(""vejkode/text()"").extract()
        item['RoadName'] = sites.select(""vejnavn/text()"").extract()
        item['PostNum'] = response.meta['zip_code']

        yield item
"
16209,19783,Generate values for str.format style template strings from formatted output,">>> import re
>>> pattern = re.compile('(#[\da-fA-F]{3})')
>>> l = pattern.findall(output)
['#F00', '#0F0', '#00F']
>>> dict(zip(('red', 'green', 'blue'), l))
{'blue': '#00F', 'green': '#0F0', 'red': '#F00'}
>>>
"
32606,25937,execute python script multiple times,"import sys

def myscript(iteration_number):
    xfile_name = ""x%d.txt"" % iteration_number
    yfile_name = ""y%d.txt"" % iteration_number
    with open(xfile_name, ""w"") as xf:
        with open(yfile_name, ""w"") as yf:
            ... whatever your script does goes here

def main(unused_command_line_args):
    for i in xrange(1000):
        myscript(i)
    return 0

if __name__ == '__main__':
    sys.exit(main(sys.argv))
"
7123,84744,"How do I plot hexbin with Pandas and discrete axes? (alternatively, any color-based plotting)","import seaborn as sns

a2 = a.pivot_table( index='animal', columns='country', values='value', fill_value=0 )

sns.heatmap(a2)
"
5372,66530,Python Scapy wrpcap - How do you append packets to a pcap file?,"mergecap -w all_paks.pcap pak1.pcap pak2.pcap
"
11894,79626,python 2.7 : appending log return to csv,"import csv

sourceCode = urllib2.urlopen('http://coinmarketcap.com').read() 
mcapUSD = sourceCode.split('<strong>Total Market Cap: <span id=""total-marketcap"" data-usd=""')[1].split('""')[0]
mcap = float(mcapUSD.replace(',','')

# read previous value from the CSV first
with open('mcapdata.csv', 'rb') as infh:
    last = None
    for row in csv.reader(infh):
        last = row[1]  # second column

# Now calculate the log value based on the last value
logRe = log(mcap/float(last))

# write new values
with open(mcapdata.csv', 'ab') as outfh:
    date = strftime('%d %b %Y %H:%M:%S', gmtime())
    csv.writer(outfh).writerow([date, mcap, logRe])
"
29998,17393,Time Delta of Year Excluding Certain Days,"import pandas as pd
import numpy as np
import datetime as dt

np.random.seed(0)
val = np.random.randn(600)
date_rng = pd.date_range('2014-01-01', periods=600, freq='D')

df = pd.DataFrame(dict(dates=date_rng,col=val))
print(df)

        col      dates
0    1.7641 2014-01-01
1    0.4002 2014-01-02
2    0.9787 2014-01-03
3    2.2409 2014-01-04
4    1.8676 2014-01-05
5   -0.9773 2014-01-06
6    0.9501 2014-01-07
7   -0.1514 2014-01-08
8   -0.1032 2014-01-09
9    0.4106 2014-01-10
..      ...        ...
590  0.5433 2015-08-14
591  0.4390 2015-08-15
592 -0.2195 2015-08-16
593 -1.0840 2015-08-17
594  0.3518 2015-08-18
595  0.3792 2015-08-19
596 -0.4700 2015-08-20
597 -0.2167 2015-08-21
598 -0.9302 2015-08-22
599 -0.1786 2015-08-23

[600 rows x 2 columns]


print(df.dates.dtype)
datetime64[ns]


datetime_now = dt.datetime.now()
datetime_now_month_end = datetime_now + pd.tseries.offsets.MonthEnd(1)

print(datetime_now_month_end)
2015-07-31 03:19:18.292739


datetime_start = datetime_now_month_end - pd.tseries.offsets.DateOffset(years=1)

print(datetime_start)
2014-07-31 03:19:18.292739


print(df[(df.dates > datetime_start) & (df.dates < datetime_now)])

        col      dates
212  0.7863 2014-08-01
213 -0.4664 2014-08-02
214 -0.9444 2014-08-03
215 -0.4100 2014-08-04
216 -0.0170 2014-08-05
217  0.3792 2014-08-06
218  2.2593 2014-08-07
219 -0.0423 2014-08-08
220 -0.9559 2014-08-09
221 -0.3460 2014-08-10
..      ...        ...
550  0.1639 2015-07-05
551  0.0963 2015-07-06
552  0.9425 2015-07-07
553 -0.2676 2015-07-08
554 -0.6780 2015-07-09
555  1.2978 2015-07-10
556 -2.3642 2015-07-11
557  0.0203 2015-07-12
558 -1.3479 2015-07-13
559 -0.7616 2015-07-14

[348 rows x 2 columns]
"
13772,37310,"Running multiple Django projects under mod_python, without using VirtualHosts","
<VirtualHost *>
    ServerName www.example.com
    # ...
    <Location ""/something"">
        SetEnv DJANGO_SETTINGS_MODULE mysite.settings
        PythonInterpreter mysite
    </Location>

    <Location ""/otherthing"">
        SetEnv DJANGO_SETTINGS_MODULE mysite.other_settings
        PythonInterpreter othersite
    </Location>
</VirtualHost>
"
19412,76018,Hold is not working for pyplot,"fig,ax = subplots()
ax.plot(range(4))
ax.set_ylabel('my label')
...
"
20046,45870,Python - Why is my list turning into a tuple when passing it to a method with varargs (keywordonly),"foo.accept(*values)
"
2514,37095,Filtering a List of Objects by multiple Object Attributes,"def current_docs(docs):
  tmp = {}
  output = []
  for d in docs:
    if d['name'] in tmp:
      continue
    tmp[d['name']] = 1
    output.append(d)
  return output
"
15591,6213,Bug in pandas query() method?,"In [286]:

df = pd.DataFrame({'a':np.arange(5)})
df
Out[286]:
   a
0  0
1  1
2  2
3  3
4  4
In [287]:

df.query('a = 3')
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-287-41cfa0572737> in <module>()
----> 1 df.query('a = 3')

C:\WinPython-64bit-3.4.2.4\python-3.4.2.amd64\lib\site-packages\pandas\core\frame.py in query(self, expr, **kwargs)
   1923             # when res is multi-dimensional loc raises, but this is sometimes a
   1924             # valid query
-> 1925             return self[res]
   1926 
   1927     def eval(self, expr, **kwargs):

C:\WinPython-64bit-3.4.2.4\python-3.4.2.amd64\lib\site-packages\pandas\core\frame.py in __getitem__(self, key)
   1778             return self._getitem_multilevel(key)
   1779         else:
-> 1780             return self._getitem_column(key)
   1781 
   1782     def _getitem_column(self, key):

C:\WinPython-64bit-3.4.2.4\python-3.4.2.amd64\lib\site-packages\pandas\core\frame.py in _getitem_column(self, key)
   1785         # get column
   1786         if self.columns.is_unique:
-> 1787             return self._get_item_cache(key)
   1788 
   1789         # duplicate columns & possible reduce dimensionaility

C:\WinPython-64bit-3.4.2.4\python-3.4.2.amd64\lib\site-packages\pandas\core\generic.py in _get_item_cache(self, item)
   1066         res = cache.get(item)
   1067         if res is None:
-> 1068             values = self._data.get(item)
   1069             res = self._box_item_values(item, values)
   1070             cache[item] = res

C:\WinPython-64bit-3.4.2.4\python-3.4.2.amd64\lib\site-packages\pandas\core\internals.py in get(self, item, fastpath)
   2856                         loc = indexer.item()
   2857                     else:
-> 2858                         raise ValueError(""cannot label index with a null key"")
   2859 
   2860             return self.iget(loc, fastpath=fastpath)

ValueError: cannot label index with a null key
"
32342,7291,Django ORM Query - How to Subtract Time From Model Field?,"from datetime import timedelta

results = MyModel.objects.filter(
                id=pk,
                date__range=(start_time, end_time)
                ).values('my_id'
                ).annotate(max_time=Max('my_date_time'))
for result in results:
    result['max_time'] -= timedelta(minutes=60)
"
3373,3331,Django: use render_to_response and set cookie,"response = render_to_response(template_name, locals(), context-etc..)
response.set_cookie(""favorite_color"",request.GET[""favorite_color""])
return response
"
3294,23584,conditionally import module to shadow local implementation,"class myclass_fast():
    def __init__(self):
        print(""i'm myclass in module_x"")

def test(enable_a):
    if enable_a:
        try:
            from module_a import myclass
        except ImportError:
            enable_a = False
            myclass = myclass_fast
    else:
        myclass = myclass_fast
    i = myclass()
"
31619,28846,Python real time audio mixing," import struct
 import math
 import pyaudio
 from itertools import count

 pa = pyaudio.PyAudio()

 FORMAT = pyaudio.paFloat32
 CHANNELS = 1
 RATE = 44100

 OUTPUT_BLOCK_TIME = 0.05
 OUTPUT_FRAMES_PER_BLOCK = int(RATE*OUTPUT_BLOCK_TIME)


 def sine_gen():
     time = 0
     format = ""%df"" % OUTPUT_FRAMES_PER_BLOCK
     voices = []
     voices.append(lambda sampletime: math.sin(sampletime * math.pi * 2 * 440.0))

     for frame in count():
         block = []
         for i in xrange(OUTPUT_FRAMES_PER_BLOCK):
             sampletime = time + (float(i) / OUTPUT_FRAMES_PER_BLOCK) * OUTPUT_BLOCK_TIME
             sample = sum(voice(sampletime) for voice in voices) / len(voices)
             block.append(sample)
         yield struct.pack(format, *block)
         time += OUTPUT_BLOCK_TIME
         if frame == 20:
             voices.append(
                 lambda sampletime: math.sin(sampletime * math.pi * 2 * 880.0)
             )

 stream = pa.open(format=FORMAT,
     channels=CHANNELS, rate=RATE, output=1)

 for i, block in enumerate(sine_gen()):
     stream.write(block)
"
30065,77685,Extrapolate with LinearNDInterpolator,"import numpy as np
x,y=np.meshgrid(np.linspace(0,6,7),np.linspace(0,8,9)) # create x,y grid
z=x**2*y # and z values
# create larger versions with two more columns/rows
xlarge=np.zeros((x.shape[0]+2,x.shape[1]+2))
ylarge=np.zeros((x.shape[0]+2,x.shape[1]+2))
zlarge=np.zeros((x.shape[0]+2,x.shape[1]+2))
xlarge[1:-1,1:-1]=x # copy data on centre
ylarge[1:-1,1:-1]=y
zlarge[1:-1,1:-1]=z
# fill extra columns/rows
xmin,xmax=-50,50
ymin,ymax=-40,40
xlarge[:,0]=xmin;xlarge[:,-1]=xmax # fill first/last column
xlarge[0,:]=xlarge[1,:];xlarge[-1,:]=xlarge[-2,:] # copy first/last row
ylarge[0,:]=ymin;ylarge[-1,:]=ymax
ylarge[:,0]=ylarge[:,1];ylarge[:,-1]=ylarge[:,-2]
# for speed gain: store factor of first/last column/row
first_column_factor=(xlarge[:,0]-xlarge[:,1])/(xlarge[:,1]-xlarge[:,2]) 
last_column_factor=(xlarge[:,-1]-xlarge[:,-2])/(xlarge[:,-2]-xlarge[:,-3])
first_row_factor=(ylarge[0,:]-ylarge[1,:])/(ylarge[1,:]-ylarge[2,:])
last_row_factor=(ylarge[-1,:]-ylarge[-2,:])/(ylarge[-2,:]-ylarge[-3,:])
# extrapolate z; this operation only needs to be repeated when zlarge[1:-1,1:-1] is updated
zlarge[:,0]=zlarge[:,1]+first_column_factor*(zlarge[:,1]-zlarge[:,2]) # extrapolate first column
zlarge[:,-1]=zlarge[:,-2]+last_column_factor*(zlarge[:,-2]-zlarge[:,-3]) # extrapolate last column
zlarge[0,:]=zlarge[1,:]+first_row_factor*(zlarge[1,:]-zlarge[2,:]) # extrapolate first row
zlarge[-1,:]=zlarge[-2,:]+last_row_factor*(zlarge[-2,:]-zlarge[-3,:]) #extrapolate last row
"
8807,46835,Why is my ellipse not appearing?,"from matplotlib import pyplot as plt
from matplotlib.patches import Ellipse

fig = plt.figure()
ax = fig.add_subplot(111)
ax.add_artist(Ellipse(xy=(1, 1), width=2, height=2, facecolor='g', edgecolor='k', alpha=.1))
plt.show()
"
2463,57401,How can I extract an HTML form value?,"username = driver.find_element_by_id(""cu_first_name"")
value = username.get_attribute('value')

print value
"
23284,24937,"Fetch image from internet, modify and insert to database in python","from PIL import Image
from StringIO import StringIO

LargeData = urllib2.urlopen(PosterURL).read()

# read data from string
LargePoster = Image.open(StringIO(LargeData))

# After editing the image, turn it back into a string
# for saving in the database:
result = StringIO()
format = 'JPEG' # or whatever you want
SmallPoster.save(result, format)
SmallPosterString = result.getvalue()
"
33405,6699,Python split a large file to multiple file,"i += 1 # don't forget to initialize it before the loop, though
with open (""c://Extract"" + str(i/700) + "".bat"",""a+"") as infile:
"
12775,34075,Python asyncio buffer and process data,"import asyncio
import struct
from concurrent.futures.ProcessPoolExecutor
import threading


def handle_result_packets():
    """""" A function for handling packets to be distributed.

    This function runs in a worker thread in the main process.

    """"""
    while True:
        packet = result_queue.get()
        loop.call_soon_threadsafe(asyncio.async, distribute(packet))

def get_packet():  # CPU intensive
    """""" Handles processing all incoming packet data.

    This function runs in a separate process.

    """"""
    extra = bytearray()
    while True:
        data = data_queue.get()
        extra.extend(data)
        if len(data) > HEADER_SIZE:
            payload_size, = struct.unpack_from(HEADER_FORMAT, data)
            if len(data) >= HEADER_SIZE + payload_size:
                packet = data[:HEADER_SIZE + payload_size]
                del extra[:len(packet)]
                if verify_hash(packet):
                    result_queue.put(packet)


class Reader(asyncio.Protocol):
    def __init__(self):
        self.extra = bytearray()
        self.t = threading.Thread(target=handle_result_packets)
        self.t.start()

    def data_received(self, data):
        data_queue.put(data)


if __name__ == ""__main__"":
    loop = asyncio.get_event_loop()
    data_queue = multiprocessing.Queue()
    result_queue = multiprocessing.Queue()
    p = multiprocessing.Process(target=get_packet)
    p.start()
    loop.run_until_complete(loop.create_server(Reader, '0.0.0.0', 8000))
    loop.run_forever()
"
33909,37263,Extract substring from list of file names in Python or R,"[re.search(r'data_(.+?)_48P', i).group(1) for i in files if re.search(r'data_.+?_48P', i)]
"
26146,46077,OpenERP engine modification,"openerp.report.rml_parse = my_parser
"
26144,75684,Deleting Sprites in Pygame,"class Grass(Entity):
    def __init__(self, x, y, image_cache):
        Entity.__init__(self)
        self.image = functions.get_image(""data/images/Grass.png"", image_cache)
        self.image.convert()
        self.rect = Rect(x, y, 32, 32)
    def hit_test(self, x, y):
        return (self.rect.x <= x < self.rect.x+self.rect.width and 
                self.rect.y <= y < self.rect.y+self.rect.height) 
"
4756,82383,Yet for array indexing,">>> import numpy as np
>>> dataINeed = np.arange(3)
>>> dataINeed
array([0, 1, 2])
>>> data = np.array([5,7,9,1,5,3,7,1,2,0])
>>> dataINeedset = set(dataINeed)
>>> np.array([x in dataINeedset for x in data])
array([False, False, False,  True, False, False, False,  True,  True,  True], dtype=bool)
"
32841,77921,How to use joinedload/contains_eager for query-enabled relationships (lazy='dynamic' option) in SQLAlchemy,"class User(Base):
    id = Column(Integer, primary_key=True)
    name = Column(String, nullable=False, unique=True)
    created_at = Colmn(DateTime, nullable=False, default=func.now())

class Post(Base):
    id = Column(Integer, primary_key=True)
    user_id = Column(Integer, ForeignKey(User.id), nullable=False)
    user = relationship(User, backref=backref('posts'))
    title = Column(String, nullable=False)
    body = Column(Text, nullable=False)
    created_at = Colmn(DateTime, nullable=False, default=func.now())

User.post_query = relationship(Post, lazy=""dynamic"")
"
5773,17445,Pass more than 255 arguments to a function,"def z5(list_of_values):
    ...

z5([val1, val2, val3, ...])
"
21940,38950,Add cylinder to plot,"import matplotlib.pyplot as plt
import numpy as np
from mpl_toolkits.mplot3d import Axes3D

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

# Scatter graph
N = 100
X = np.random.uniform(-1, 1, N)
Y = np.random.uniform(-1, 1, N)
Z = np.random.uniform(-2, 2, N)
ax.scatter(X, Y, Z)

# Cylinder
x=np.linspace(-1, 1, 100)
z=np.linspace(-2, 2, 100)
Xc, Zc=np.meshgrid(x, z)
Yc = np.sqrt(1-Xc**2)

# Draw parameters
rstride = 20
cstride = 10
ax.plot_surface(Xc, Yc, Zc, alpha=0.2, rstride=rstride, cstride=cstride)
ax.plot_surface(Xc, -Yc, Zc, alpha=0.2, rstride=rstride, cstride=cstride)

ax.set_xlabel(""X"")
ax.set_ylabel(""Y"")
ax.set_zlabel(""Z"")
plt.show()
"
1720,71927,Finding first 0 in first row of numpy array,">>> n = numpy.ones(100)
>>> n[50] = 0
>>> n.argmin()
50
"
13717,77297,Finding multiple common starting strings,"def groupByPrefix(strings):
    stringsByPrefix = {}
    for string in strings:
            prefix, suffix = map(str.strip, string.split(""/"", 1))
            group = stringsByPrefix.setdefault(prefix, [])
            group.append(suffix)
    return stringsByPrefix
"
26551,47808,How to write a repeatable raw_input?,"texts = []
def notes():
    global texts
    txt = raw_input(""\nPlease enter any notes.\n>>> "")
    texts.append(txt) # Add the entered text inside the list
    print ""\Note added to report.""
    notes_menu()

def print_note():
    for txt in texts:
        new_report.write(""\nNotes: \n%r"" % txt)
"
11263,5837,Getting dot to move along curved trajectory,"# New stuff:
import numpy as np
frameN = 50  # To set angle in first loop iteration
speed = 14  # initial speed in whatever unit the stimulus use.
angle = 45  # initial angle in degrees
x_change = np.cos(angle) * speed  # initial
y_change = np.sin(angle) * speed  # initial

while True:
    # More new stuff: Change direction angle (in degrees)
    if frameN == 50:
        angle_current = np.rad2deg(np.arctan(y_change / float(x_change)))  # float to prevent integer division
        angle_change = np.random.randint(-180, 180)  # change interval to your liking or set to a constant value or something
        angle = angle_current + angle_change  # new angle

        x_change = np.cos(angle) * speed
        y_change = np.sin(angle) * speed
        frameN = 0
    frameN += 1

    dot1.pos+=(x_change,y_change)

    if dot1.pos[0] > 790 or dot1.pos[0] < -790:
        x_change = x_change * -1
    if dot1.pos[1] > 440 or dot1.pos[1] < -440:
        y_change = y_change * -1


    dot1.draw()
    win.flip()

    if event.getKeys(keyList=[""escape""]):
        core.quit()
"
29338,9841,Python finding text in items,"container = {
    'item1': {'test1', 'test2'},
    'item2': {'test3', 'test4'},
    'item3': {'test5'}
}
    }
check = 'test1'

for key in container:
    if check in container[key]:
        break

result = container[key]
print result
"
34352,37406,"How to get ""python http.server"" to work in Arch Linux","$  python3 -m http.server 9000
"
3492,55151,How to call a linux command in Python without waiting for the results (Linux),"from subprocess import Popen
process = Popen(['sleep', '10'])
print 'Returned immediately!'
"
33452,73157,How to make ToolTip using Kivy?,"from kivy.app import App
from kivy.lang import Builder
from kivy.uix.widget import Widget
from kivy.core.window import Window
from kivy.uix.actionbar import ActionButton
from kivy.uix.label import Label
from kivy.clock import Clock

Builder.load_string(""""""
<Tooltip>:
    size_hint: None, None
    size: self.texture_size[0]+5, self.texture_size[1]+5
    canvas.before:
        Color:
            rgb: 0.2, 0.2, 0.2
        Rectangle:
            size: self.size
            pos: self.pos

<MyWidget>
    ActionBar:
        ActionView:
            MyActionButton:
                icon: 'atlas://data/images/defaulttheme/audio-volume-high'
            MyActionButton:
                icon: 'atlas://data/images/defaulttheme/audio-volume-high'                
"""""")

class Tooltip(Label):
    pass

class MyActionButton(ActionButton):
    tooltip = Tooltip(text='Hello world')

    def __init__(self, **kwargs):
        Window.bind(mouse_pos=self.on_mouse_pos)
        super(ActionButton, self).__init__(**kwargs)

    def on_mouse_pos(self, *args):
        if not self.get_root_window():
            return
        pos = args[1]
        self.tooltip.pos = pos
        Clock.unschedule(self.display_tooltip) # cancel scheduled event since I moved the cursor
        self.close_tooltip() # close if it's opened
        if self.collide_point(*self.to_widget(*pos)):
            Clock.schedule_once(self.display_tooltip, 1)

    def close_tooltip(self, *args):
        Window.remove_widget(self.tooltip)

    def display_tooltip(self, *args):
        Window.add_widget(self.tooltip)


class MyWidget(Widget):
    pass

class ClientApp(App):
    def build(self):
        return MyWidget()

if __name__ == '__main__':
    ClientApp().run()
"
5154,51551,Diagonal stacking in numpy?,"def block_diag(*arrs):
    """"""Create a block diagonal matrix from the provided arrays.

    Given the inputs `A`, `B` and `C`, the output will have these
    arrays arranged on the diagonal::

        [[A, 0, 0],
         [0, B, 0],
         [0, 0, C]]

    If all the input arrays are square, the output is known as a
    block diagonal matrix.

    Parameters
    ----------
    A, B, C, ... : array-like, up to 2D
        Input arrays.  A 1D array or array-like sequence with length n is
        treated as a 2D array with shape (1,n).

    Returns
    -------
    D : ndarray
        Array with `A`, `B`, `C`, ... on the diagonal.  `D` has the
        same dtype as `A`.

    References
    ----------
    .. [1] Wikipedia, ""Block matrix"",
           http://en.wikipedia.org/wiki/Block_diagonal_matrix

    Examples
    --------
    >>> A = [[1, 0],
    ...      [0, 1]]
    >>> B = [[3, 4, 5],
    ...      [6, 7, 8]]
    >>> C = [[7]]
    >>> print(block_diag(A, B, C))
    [[1 0 0 0 0 0]
     [0 1 0 0 0 0]
     [0 0 3 4 5 0]
     [0 0 6 7 8 0]
     [0 0 0 0 0 7]]
    >>> block_diag(1.0, [2, 3], [[4, 5], [6, 7]])
    array([[ 1.,  0.,  0.,  0.,  0.],
           [ 0.,  2.,  3.,  0.,  0.],
           [ 0.,  0.,  0.,  4.,  5.],
           [ 0.,  0.,  0.,  6.,  7.]])

    """"""
    if arrs == ():
        arrs = ([],)
    arrs = [np.atleast_2d(a) for a in arrs]

    bad_args = [k for k in range(len(arrs)) if arrs[k].ndim > 2]
    if bad_args:
        raise ValueError(""arguments in the following positions have dimension ""
                            ""greater than 2: %s"" % bad_args) 

    shapes = np.array([a.shape for a in arrs])
    out = np.zeros(np.sum(shapes, axis=0), dtype=arrs[0].dtype)

    r, c = 0, 0
    for i, (rr, cc) in enumerate(shapes):
        out[r:r + rr, c:c + cc] = arrs[i]
        r += rr
        c += cc
    return out
"
26666,77150,"better way to iterate two , multiple lists at once","for x, y in zip(a, b):
    # x is from a, y is from b
"
19298,65965,PyQt4 - Python Image is repeated in toolbar,"    def initUI(self):
        self.centralWidget().setObjectName('CentralWidget')
        self.setStyleSheet(""""""
            #CentralWidget { background-image: url(./image.png) }
            """""")
"
28247,32254,(haystack + whoosh) {{ result.object.get_absolute_url }} is not working,"class Products(models.Model):
    ...
    def get_absolute_url(self):
        return ""/products/%s/"" % self.slug
"
21311,39299,Converting a file into a dictionary with one key and multiple values,"for line in f:
    items = line.split()
    key, values = int(items[0]), items[1:]
    my_dict.setdefault(key, []).extend(values)
"
11659,42483,acccumulate using pyparsing,"from pyparsing import *

text = 'abc123xyz456def789'
foo = Word(alphas)
bar = Word(nums)
fun = OneOrMore(Group(foo.setResultsName(""foo"") + bar.setResultsName(""bar"")))

results = fun.parseString(text)

#Print all foo
print [r.foo for r in results]
#Print all bar
print [r.bar for r in results]
"
16412,22810,"Trying to use Tweepy/Twitters Streaming API and psycopg2 to populate a PostgreSQL database. Very close, one line off","def retrieve_tweets(numtweets=10, *args):
    """"""
    This function optionally takes one or more arguments as keywords to filter tweets.
    It iterates through tweets from the stream that meet the given criteria and sends them 
    to the database population function on a per-instance basis, so as to avoid disaster 
    if the stream is disconnected.

    Both SampleStream and FilterStream methods access Twitter's stream of status elements.
    """"""   
    filters = []
    for key in args:
        filters.append(str(key))
    if len(filters) == 0:
        stream = tweetstream.SampleStream(username, password)  
    else:
        stream = tweetstream.FilterStream(username, password, track=filters)
    try:
        count = 0
        while count < numtweets:       
            for tweet in stream:
                # a check is needed on text as some ""tweets"" are actually just API operations
                # the language selection doesn't really work but it's better than nothing(?)
                if tweet.get('text') and tweet['user']['lang'] == 'en':   
                    if tweet['retweet_count'] == 0:
                        # bundle up the features I want and send them to the db population function
                        bundle = (tweet['id'], tweet['user']['screen_name'], tweet['retweet_count'], tweet['text'])
                        db_initpop(bundle)
                        break
                    else:
                        # a RT has a different structure.  This bundles the original tweet.  Getting  the
                        # retweets comes later, after the stream is de-accessed.
                        bundle = (tweet['retweeted_status']['id'], tweet['retweeted_status']['user']['screen_name'], \
                                  tweet['retweet_count'], tweet['retweeted_status']['text'])
                        db_initpop(bundle)
                        break
            count += 1
    except tweetstream.ConnectionError, e:
        print 'Disconnected from Twitter at '+time.strftime(""%d %b %Y %H:%M:%S"", time.localtime()) \
        +'.  Reason: ', e.reason

def db_initpop(bundle):
    """"""
    This function places basic tweet features in the database.  Note the placeholder values:
    these can act as a check to verify that no further expansion was available for that method.
    """"""
    #unpack the bundle 
    tweet_id, user_sn, retweet_count, tweet_text = bundle
    curs.execute(""""""INSERT INTO tblTweets VALUES (null,?,?,?,?,?,?)"""""", \
        (tweet_id, user_sn, retweet_count, tweet_text, 'cleaned text', 'cleaned retweet text'))
    conn.commit()
    print 'Database populated with tweet '+str(tweet_id)+' at '+time.strftime(""%d %b %Y %H:%M:%S"", time.localtime())
"
3489,52216,Combine arrays to raster (jpeg),"[...]

data1 = band1.ReadAsArray (0, 0, cols, rows).astype(np.float)

[...]

# Normalize data range
max1 = np.nanmax(data1)
min1 = np.nanmax(data1)

data1 = ((data1 - min1)/(max1 - min1)) * 255

[...]  

rgbArray[..., 0] = data1.astype(int)
"
34422,68003,How to sum specific columns based on dates,"df1['Start Date'] = pd.DatetimeIndex(df1['Start Date'])
df1.set_index('Start Date', inplace=True)

df2['DATE'] = pd.to_datetime(df2.DATE)
df2.set_index('DATE', inplace=True)

sums = df2.groupby(df1.index.asof).sum()
pd.concat([df1, sums], axis=1)
"
11766,54164,calling msdb.sp_send_dbmail via pyodbc,"def execute_commit_sproc(query, cnxn):
cursor = cnxn.cursor();
cursor.execute(query)           
cnxn.commit()
"
36489,73327,Transposing an irregular matrix without truncating it,">>> list(izip_longest(*b,fillvalue=0))
[(1, 4), (2, 5), (3, 0)]
"
29621,34756,Select columns in a pandas DataFrame,"df['total_emperical'] = df[E_cols].sum(axis=1)
"
17203,76714,"In python, find minimum subject to a constraint?","min((idx for idx in indexes if not visited[idx]), key=lambda idx: dist[idx])
"
22563,15260,Most efficient Django query to get the objects and their related,"name_query = Institution.objects.filter(name__icontains='term')
aliases_query = Institution.objects.filter(aliases__name__icontains='term')
final_query = list(name_query) + list(aliases_query)
"
38082,6046,Getting Cursor position in Tkinter entry widget,"from Tkinter import *

def get_info():
    print e.index(INSERT)

root = Tk()
e = Entry(root)
e.pack()
Button(root, text=""get info"", command=get_info).pack()
root.mainloop()
"
4154,14741,Python: Making raw_input execute,"command = raw_input("">>>    "")
exec(command)
"
18096,33777,Django VirtualEnv not properly working,"pip install Django==1.3 
"
39009,17639,How to exclude the occurence of alpha char at the end the string,"print re.findall(r""^(.+?)(?=\(\d{4}|\d{4})"",Name)
"
34957,44907,"How to check dict.has_key(k,x) with 2 variables","if (x, y) in my_dict:
    # whatever
"
14526,63510,how to set values to rows of boolean filtered dataframe column,"data.loc[data[""Brand""].isin(group_clients), ""FreeSec""] = True
"
13179,68991,Python unicode character codes?,"print u'This is a full block: \u2588'
"
39672,53026,Interleaving two lists in Python,"[val for pair in zip(l1, l2) for val in pair]
"
23133,60979,How can I write data from a dictionary to a CSV file in Python,"data = {'323503': [{'name': 'Derek', 'age': '21', 'race': 'white'}, {'name': 'Josh', 'age': '15', 'race': 'white'}, {'name': 'Adam', 'age': '32', 'weight': '180'}],
        '3802': [{'name': 'Abe', 'age': '12', 'weight': '132', 'race': 'black'}, {'name': 'Amy', 'age': '31', 'weight': '180'}],
        '290301': [{'name': 'Sally', 'age': '25'}, {'name': 'Joe', 'age': '18'}]
       }

rows = []
for id_ in data:
    for row in data[id_]:
        row.update({'id': id_})
        rows.append(row)
"
29866,1359,Using a variable to call a function in Python 3 and tkinter,"def afunc():
    foo.set('A')
    tempchoice.set('afuncaction')
    global myfunc
    myfunc = afuncaction # save a reference to this function

...

if messagebox.askyesno:
    myfunc()
"
20118,82765,Why is the output of my function in binary?,"def heaviside(x, epis):
    return np.piecewise(x, (x>=epis, x<-epis),
             (1, 0, lambda x: 0.5 + x/(2*epis) + np.sin(np.pi*x/epis)/(2*np.pi) ) )
"
26130,46245,Extending a numpy array up to a specific range with its own content,"def extend_array(arr, length):
    factor, fraction = divmod(length, len(arr))
    return np.concatenate([arr] * factor + [arr[:fraction]])

>>> extend_array(data, 10)

array([[ 0,  1,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11],
       [ 0,  1,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11],
       [ 0,  1,  2],
       [ 3,  4,  5]])
"
31667,2377,How to decide creating a child class without using 'if' statement,"import re
lookup = {re.search('([A-Z][A-Za-z_]*$)', cls.__name__).group(1): cls for cls in BaseCls.__subclasses__()}
# {'A': <class '__main__.ChildClsA'>, 'B': <class '__main__.ClildClsB'>}

input_str = raw_input('Please enter one of {}:'.format(', '.join(lookup)))
new_class = lookup[input_str]()
"
24081,17354,How to implement a ByteCountingStreamReader?,"def ByteCountingStreamReader(stream):
  fr = stream.read
  stream.count = 0

  def inner(size=-1):
      s = fr(size)
      stream.count += len(s)
      return s

  stream.read=inner
  return stream

# testing it
myStream = open('/etc/hosts', 'r') 
with ByteCountingStreamReader(myStream) as f:
  while True:
      s = f.read(20)
      if s == '':
          break
      print (s, end='')

  print (f.count)
"
14138,53020,How to launch and pass input to an external program,"s = subprocess.Popen(command, stdout=subprocess.PIPE, 
                     stderr=subprocess.PIPE) # The script is not blocked here

# Wait to finish
while s.poll() is None: # poll() checks if process has finished without blocking
    time.sleep(1)
    ... # do something

# Another way to wait
s.wait() # This is blocking

if s.returncode == 0:
    print ""Everything OK!""
else:
    print ""Oh, it was an error""
"
22588,13552,Python - Pymongo Insert and Update Documents,"from pymongo import MongoClient
cl = MongoClient()
coll = cl[""local""][""test2""]

data = [{""_id"" : 1, ""foo"" : ""HELLO""}, {""_id"" : 2, ""Blah"" : ""Bloh""}]
for d in data:
    coll.update({'_id':d['_id']}, d, True)
"
14222,9422,Extracting text from chart in Beautiful soup,"data = {}
for tag in soup.find_all('p'):
    if tag.get('id'):
        data[tag.get('id')] = tag.text

print(data)

>> print(data.get('programcompleters1'))
18
"
21541,11541,Can I connect to multiple databases in CherryPy?,"import cherrypy 
import MySQLdb 

def connect(thread_index): 
    # Create a connection and store it in the current thread 
    cherrypy.thread_data.db = MySQLdb.connect('host', 'user', 'password', 'dbname') 
    cherrypy.thread_data.db2 = MySQLdb.connect('host', 'user', 'password', 'dbname2') 

# Tell CherryPy to call ""connect"" for each thread, when it starts up 
cherrypy.engine.subscribe('start_thread', connect)


class Root: 
    def index(self): 
        # Sample page that displays the number of records in ""table"" 
        # Open a cursor, using the DB connection for the current thread 
        c = cherrypy.thread_data.db.cursor() 
        c.execute('select count(*) from table') 
        res = c.fetchone() 
        c.close() 

        c = cherrypy.thread_data.db2.cursor() 
        c.execute('select count(*) from table2') 
        res = c.fetchone() 
        return ""<html><body>Hello, you have %d records in your table</body></html>"" % res[0] 
    index.exposed = True 

cherrypy.quickstart(Root())
"
21082,45770,subprocess ignores bufsize argument,"for line in iter(proc.stdout.readline,''):
   print line
"
23346,78830,Python Class Inheritance: How to initialize a subclass with values not in the parent class,"class Person(Entity):
    def __init__(self, state, name, age, gender):
        self.gender = gender
        super(Person, self).__init__(state, name, age)
"
19662,34494,"Python, Flask - How to Use DHTML uploader to load a file","from flask import request
...

imgfile = request.files['file-id']
imgname = imgfile.filename
"
21241,23495,"Merge pandas dataframe, with column operation","df3 = pd.concat([df1, df2], join = ""outer"", axis=1)
df4 = df3.b.sum(axis=1)
"
30591,23081,How do I perform secondary sorting in python?,"sorted(list5, key=lambda vertex: (degree(vertex), vertex))
"
6612,6986,matplotlib - extracting data from contour lines,"p = cs.collections[0].get_paths()[0]
v = p.vertices
x = v[:,0]
y = v[:,1]
"
25721,57502,Python: How to sort and organize dictionary data,"crime_dict ={
    '100065070': ['64130', '18', 'VIC', 'VIC', 'VIC'], 
    '20003319': ['64130', '13', 'VIC'], 
    '60077156': ['64130', '18', 'VIC'],
    '100057708': ['99999', '17', 'VIC', 'VIC'], 
    '40024161': ['64108', '17', 'VIC', 'VIC']
    }

crimes_by_zip = {}
for k, v in crime_dict.items():
    zip = v[0]
    if zip not in crimes_by_zip.keys():
        crimes_by_zip[zip] = 0
    crimes_by_zip[zip] += 1

for zip in sorted(crimes_by_zip.keys()):
    print(zip, crimes_by_zip[zip])

64108 1
64130 3
99999 1
"
20377,9149,Execute background process from django that can't be interrupted by the web server,"os.system(""echo '/usr/bin/python /(somewhere)/scripts/backup/testbackup.py' | at now"")
"
33839,7944,"Python print unicode strings in arrays as characters, not code points","print repr(a).decode(""unicode-escape"")
"
18105,36063,How can I start an interactive python/ipython session from the middle of my python program?,"import IPython
# lots of code
# even more code
IPython.embed()
"
1582,30082,NRZ-S with Python,"NRZ = [0,0,1,0,1,1,0,1]
NRZS = []

state = NRZ[0]
for bit in NRZ:
    state ^= bit ^ 1
    NRZS.append(state)
"
20283,72270,Writing set of functions that will use data stored elsewhere,"towns = None

def _load_towns():
    global towns
    with open('path') as f:
        towns = json.load(f)

def address_parser(...):
    # load if towns is None
    if towns is None:
        _load_towns()
"
37411,15372,Automatically process numbers in e (scientific) notation in python,">>> float(""5.785e1"")
57.85
"
12284,5196,Python multiprocessing fails for example code,"def square(n):
    return n * n

if __name__ == ""__main__"":
    import multiprocessing
    multiprocessing.freeze_support()

    pool = multiprocessing.Pool(processes=5)

    print pool.map(square, range(10))   
"
3376,36828,Bash/Python : open url & print top 10 words,"#!/usr/bin/env python

from scrape import s
import sys, re

if len(sys.argv) < 2:
    print ""Usage: words.py url""
    sys.exit(0)

s.go(sys.argv[1]) # fetch content
text = s.doc.text # extract readable text
text = re.sub(""\W+"", "" "", text) # remove all non-word characters and repeating whitespace
print text
"
10320,45438,python parsing text file,"header = [""site"", ""ip"", ""date"", ""method"",""code"", ""browser"",""n1"", ""n2""]

# dict to store [ip] -> occurences
# this defaultdict returns 0 for unset keys
ip_freq = defaultdict(0)

with open(""filename.csv"", mode=""r"") as csvfile:
    reader = csv.DictReader(csvfile, header, delimiter="","", quoting=csv.QUOTE_ALL);
    for line in reader:
        # sets the ip and increments the number of occurences
        ip_freq[line[""ip""]] += 1
        # print: ""requestcount: 2   ip: 85.97.166.82""
        print(""requestcount: {}\tip: {}"".format(
                                        ip_freq[line[""ip""]], 
                                        line[""ip""]))
"
35315,48634,how to ignore order of values in a tuple with groupby - python,"In [6]: df.groupby(df['a'].apply(lambda x: tuple(sorted(x)))).aggregate('mean')
Out[6]: 
                b
a                
(299, 331)  50.50
(543, 829)  67.00
(777, 999)  33.25
"
15044,232,Making objects from a CSV file Python,"import csv

my_list = []

with open('file.csv', 'r') as f:
    reader = csv.reader(f)
    for row in reader:
        my_list.append(myClass(row[0], row[1], row[2:]))
"
16361,66391,"regex syntax in python, the r before the opening quote",">>> print('a\nb')
a
b
>>> print(r'a\nb')
a\nb
>>> 
"
19366,71524,Python: Remove html tag including content if next sibling is identical,"    else:
        children = item.findChildren()
        removeDuplicates(children)
"
34140,79499,Simpler way to create a matrix/list of indices?,">>> a = np.random.random((4,4,4))
>>> np.indices(a.shape).reshape((a.ndim, -1)).T
array([[0, 0, 0],
       [0, 0, 1],
       [0, 0, 2],
       [0, 0, 3],
       [0, 1, 0],
       [0, 1, 1],
[...]
       [3, 3, 2],
       [3, 3, 3]])
"
18068,30570,Python - sending http requests as strings,"import http.client
connection = http.client.HTTPConnection('www.python.org')

connection.request('GET', '/')
response = connection.getresponse()
print(response.status)
print(response.msg)
answer = response.read()
print(answer)
"
36987,37259,Python Script to find instances of a set of strings in a set of files,"import collections
files_by_str = collections.defaultdict(list)

thestrings = []
with open('Strings.txt') as f:
  for line in f:
    text = line.split('=', 1)[1]
    text = text.strip().replace('""', '')
    thestrings.append(text)

import os

for root, dirs, files in os.walk('/top/dir/of/interest'):
  for name in files:
    path = os.path.join(root, name)
    with open(path) as f:
      data = f.read()
      for text in thestrings:
        if text in data:
          files_by_str[text].append(path)
          break
"
13262,31630,How do you add a calculated column to a pandas dataframe using set-based logic?,"df['C'] = df.A > df.B
"
2576,56747,Double integral with variable boundaries in python Scipy + sympy (?),"from sympy import *

x, y = symbols(""x y"")
f = (x ** 2 + y ** 2)
res = integrate(f, (y, 20, x-2), (x, 22, 30))
"
7859,13903,python text file variable search,">>> with open('example.txt') as f:
...     result = {k:int(v) for k,v in re.findall('([^:\s]+):\s*(\d+)', f.read())}
... 
>>> result
{'Grapes': 7, 'Plums': 15, 'Apples': 1, 'Oranges': 33}
>>> 'Grapes' in result
True
>>> 'Bananas' in result
False
>>> result['Grapes']
7    
"
13028,25354,Placing a Python variable inline,"template = ""{}({})""
functionName = ""function""  # e.g. input from user
arg = ""arg""  # e.g. input from user
formatted = template.format(functionName, arg)
assert formatted == ""function(arg)""
kodi.executebuiltin(formatted)
"
3856,47103,Hadoop streaming with multiple python files,"hadoop jar $streamingJar -D mapreduce.map.memory.mb=4096 -files python_files 
-input $input -output $output -mapper ""python_files\python parse.py"" -reducer NONE
"
10108,6552,Adding Cookies working with Firefox webdriver but not in PhantomJS,"def save_cookies(driver, file_path):
    LINE = ""document.cookie = '{name}={value}; path={path}; domain={domain}; expires={expires}';\n""
    with open(file_path, 'w') as file :
        for cookie in driver.get_cookies() :
            file.write(LINE.format(**cookie))

def load_cookies(driver, file_path):
    with open(file_path, 'r') as file:
        driver.execute_script(file.read())


from selenium import webdriver

driver = webdriver.PhantomJS()

# load the domain
driver.get(""https://stackoverflow.com/users/login"")

# save the cookies to a file
save_cookies(driver, r""cookies.js"")

# delete all the cookies
driver.delete_all_cookies()

# load the cookies from the file
load_cookies(driver, r""cookies.js"")
"
1735,72529,How to apply an image to Widget Background (superimposing),"self.listA.setStyleSheet(""""""
    color: white; 
    background-image: url(./your_image.jpg);
    background-attachment: scroll;
"""""");
"
574,51782,Send JSON data to the front end in Flask,"return flask.jsonify(**Dict)
"
14934,80600,Referencing the ith element of each list in a 2d list,"i = 1
data = [[1,10],[2,20],[3,30]]
result = [d[i] for d in data]  # [10, 20, 30]
"
31933,45660,How can I generate a BigQuery result without JSON formatting?,"for page in paging(service,
                   service.jobs().getQueryResults,
                   num_retries=num_retries,
                   **query_job['jobReference']):
  for row in page['rows']:
    # Each row is a dict with fields, 'f', containing
    # an array of table cells, one for each column
    # of the query output. Each cell is a dict
    # containing a value, 'v'.
    yield row['f'][0]['v']  # This query generates 1 column.
"
26093,64833,Unexplained space in QTableWidget,"myTable->horizontalHeader()->setStretchLastSection(true);
"
26712,73786,How to control sorting arrow indicator on QTableView,"tableView.sortByColumn(1, QtCore.Qt.DescendingOrder)
"
16371,51814,Splitting list according to criteria (gender),"df = pd.read_csv('brainweight.csv')
w = list(df['Weight'])
s = list(df['Sex'])
def list_by_gender():
    females = []
    males = []
    for sex, weight in zip (s, w):
        if sex == 'f':
            females.append(weight)
        else:
            males.append(weight)
    return males,females

male_list,female_list=list_by_gender()
"
16225,77118,Decorate GET URL using forms,"$('#form').submit(function(){
    //Get form data
    //Transform into my custom set of vars
    //Redirect to form's ACTION with my querystring appended.
});
"
33288,26165,"If cell[2,5] is not cell[5,5] in pandas (not value but cell)","for index, row in df.iterrows():
    rownum = 1
    for cell in row:
        if index==5 and rownum==5:
           do_stuff()
        rownum+=1
"
13484,41564,Else statement is executing along with if statement,"def tokenize(usr_string):
    """"""
    (str) -> list
    Takes a string, and tokenizes it.  Basically turning the string
    representing a mathimatical formual and making it into a list, eliminating
    the white spaces
    >>> '3 + 5 + (-4)
    [3, +, 5, +, (, -4, )]
    """"""
    token_list = []
    i = 0
    while i < len(usr_string):
#Add values to the list that arent white space, + or -
        if usr_string[i] != ' ' and usr_string[i] != '+' and usr_string[i] != '-':
            token_list.append(usr_string[i])
            i += 1
        elif usr_string[i] == '+' or usr_string[i] == '-':
#Determine if that + or - is an operator or pos / neg
            sign = positive_or_add(usr_string, i)
            if sign == True: #Operator
                token_list.append(usr_string[i])
                i += 1
            elif sign == False: #pos / neg
                token_list.append(usr_string[i] + usr_string[i + 1])
                i += 2
        elif usr_string[i] == ' ':
            i += 1
            continue
        else:
            print('something messed up')
            i += 1
    return token_list
"
34791,72262,python imaplib to get gmail inbox subjects titles and sender name,"    c.select('INBOX', readonly=True)

    for i in range(1, 30):
        typ, msg_data = c.fetch(str(i), '(RFC822)')
        for response_part in msg_data:
            if isinstance(response_part, tuple):
                msg = email.message_from_string(response_part[1])
                for header in [ 'subject', 'to', 'from' ]:
                    print '%-8s: %s' % (header.upper(), msg[header])
"
21898,33855,"Python multiprocessing pool, join; not waiting to go on?","from multiprocessing import Pool

foo = {1: []}

def f(x):
    return x

def main():
    pool = Pool()
    foo[1] = pool.map(f, range(100))
    pool.close()
    pool.join()
    print foo

if __name__ == '__main__':
    main()
"
20223,16755,"Connect to a running instance of Visual Studio 2003 using COM, build and read output","def build_active_solution(progid=""VisualStudio.DTE.7.1""):
    from win32com.client import GetActiveObject
    dte = GetActiveObject(progid)
    sb = dte.Solution.SolutionBuild
    sb.Build(True)

    output = dte.Windows['Output'].Object.ActivePane.TextDocument.Selection
    output.SelectAll()
    return output.Text
"
11393,52094,Ping FeedBurner in Django App,"import xmlrpclib
from django.db.models.signals import post_save
from app.models import MyModel

def ping_handler(sender, instance=None, **kwargs):
    if instance is None:
        return
    rpc = xmlrpclib.Server('http://ping.feedburner.google.com/')
    rpc.weblogUpdates.ping(instance.title, instance.get_absolute_url())

post_save.connect(ping_handler, sender=MyModel)
"
6112,75293,Python Stack Corruption?,"class Node:
    #children = [] # not here...
    parent = 0     # might want to rethink where you initialize these
    visited = 0
    cost = 0
    position = (0, 0)
    leaf = 0

    def __init__(self, parent, pos):
        self.parent = parent
        self.position = pos
        self.children = [] # ...but here

    def addChild(self, node):
        self.children += [node]
"
16305,26088,concatenating multiple items in list,"n=2  # or 5, or 10
output = [ ''.join(input[i:i+n]) for i in range(0, len(input), n)]
"
25449,39342,Storing list variables as a string and storing it as a variable,"def b():
    ID = [0, 1, 2]
    ID2 = ('ID=%d.%d.%d' % tuple(ID))
    return ID2

if __name__ == '__main__': ID2 = b()

def c(ID2):
    print ID2

if __name__ == '__main__': myObject = c(ID2)
"
7329,56614,Whatâs a good Python profanity filter library?,"""""""
Module that provides a class that filters profanities

""""""

__author__ = ""leoluk""
__version__ = '0.0.1'

import random
import re

class ProfanitiesFilter(object):
    def __init__(self, filterlist, ignore_case=True, replacements=""$@%-?!"", 
                 complete=True, inside_words=False):
        """"""
        Inits the profanity filter.

        filterlist -- a list of regular expressions that
        matches words that are forbidden
        ignore_case -- ignore capitalization
        replacements -- string with characters to replace the forbidden word
        complete -- completely remove the word or keep the first and last char?
        inside_words -- search inside other words?

        """"""

        self.badwords = filterlist
        self.ignore_case = ignore_case
        self.replacements = replacements
        self.complete = complete
        self.inside_words = inside_words

    def _make_clean_word(self, length):
        """"""
        Generates a random replacement string of a given length
        using the chars in self.replacements.

        """"""
        return ''.join([random.choice(self.replacements) for i in
                  range(length)])

    def __replacer(self, match):
        value = match.group()
        if self.complete:
            return self._make_clean_word(len(value))
        else:
            return value[0]+self._make_clean_word(len(value)-2)+value[-1]

    def clean(self, text):
        """"""Cleans a string from profanity.""""""

        regexp_insidewords = {
            True: r'(%s)',
            False: r'\b(%s)\b',
            }

        regexp = (regexp_insidewords[self.inside_words] % 
                  '|'.join(self.badwords))

        r = re.compile(regexp, re.IGNORECASE if self.ignore_case else 0)

        return r.sub(self.__replacer, text)


if __name__ == '__main__':

    f = ProfanitiesFilter(['bad', 'un\w+'], replacements=""-"")    
    example = ""I am doing bad ungood badlike things.""

    print f.clean(example)
    # Returns ""I am doing --- ------ badlike things.""

    f.inside_words = True    
    print f.clean(example)
    # Returns ""I am doing --- ------ ---like things.""

    f.complete = False    
    print f.clean(example)
    # Returns ""I am doing b-d u----d b-dlike things.""
"
6076,42320,Most efficient method to extract data from this XML file,"In [1]: from lxml import etree

In [2]: tree = etree.parse('awful.xml')

In [3]: data = {int(node.attrib['id']): node.tail.strip()
   ...: for node in tree.xpath('//TextWithNodes/Node') if node.tail.strip()}

In [4]: data
Out[4]: 
{0: 'MESSAGE SET',
 20: '1. 1/1/09 - sample text 1',
 212: 'sample text 2',
 223: 'sample text 3'}
"
29615,3136,Python - String search,"a = ""IAMASTRIPETHA-IWANTTOIGN-RE""
b = ""IAMA-TRIPETHATIWA-TTOIGNORE""

all(x==y or x==""-"" or y==""-"" for x, y in zip(a, b))
>> True
"
15002,38796,Combine columns from two dataframes into one,"result = df_oo.append(df_aa).sort()
print(result)

  term annotations
0  oo1        too1
1  oo2        too2
2  oo3        too3
3  aa1        taa1
4  aa2        taa2
5  oo4        too4
"
