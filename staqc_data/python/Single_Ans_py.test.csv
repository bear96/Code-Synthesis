,Unnamed: 0,NL,Code
18229,62175,Understanding Matplotlib's quiver plotting,"import numpy as np
import matplotlib.pyplot as plt

fig = plt.figure()
ax = fig.add_subplot(111)
ax.quiver((0,0), (0,0), (1,0), (1,3), units = 'xy', scale = 1)
plt.axis('equal')
plt.xticks(range(-5,6))
plt.yticks(range(-5,6))
plt.grid()
plt.show()
"
295,26774,How to close file objects when downloading files over FTP using Twisted?,"from twisted.python import log
from twisted.internet import interfaces
from zope.interface import implements

class FTPFile(object):
    """"""
    A consumer for FTP input that writes data to a file.

    @ivar filename: a filename to be opened for writing.
    """"""

    implements(interfaces.IProtocol)

    def __init__(self, filename):
        self.fObj = None
        self.filename = filename

    def makeConnection(self,transport)
        self.fObj = open(self.filename,'wb')
        log.info('Opened %s for writing' % self.filename)

    def connectionLost(self,reason):
        self.fObj.close()
        log.info('Closed %s' % self.filename)

    def dataReceived(self, bytes):
        self.fObj.write(bytes)
"
27881,69369,Python - Neaten up Code - Loops and Recursive features,"from collections import Counter

def isValidWord(word, hand, wordList):
    # Check for membership first and early out if fails
    # Otherwise, see if the count of any letter in word exceeds that of the hand
    return word in wordList and all(hand.get(let, -1) >= cnt for let, cnt in Counter(word).items())        
"
20783,38948,How access individual element in a tuple on a RDD in pyspark?,"new_data = data.filter(lambda x: x[1][0] == ""ABC"")
"
25766,15179,Django: Keep order when translating list to custom dictionary,"from collections import OrderedDict

anyname = OrderedDict()
"
2555,2894,Fast 1D linear np.NaN interpolation over large 3D array,"from numba import jit

@jit(nopython=True)
def interpolate_numba(arr, no_data=-32768):
    """"""return array interpolated along time-axis to fill missing values""""""
    result = np.zeros_like(arr, dtype=np.int16)

    for x in range(arr.shape[2]):
        # slice along x axis
        for y in range(arr.shape[1]):
            # slice along y axis
            for z in range(arr.shape[0]):
                value = arr[z,y,x]
                if z == 0:  # don't interpolate first value
                    new_value = value
                elif z == len(arr[:,0,0])-1:  # don't interpolate last value
                    new_value = value

                elif value == no_data:  # interpolate

                    left = arr[z-1,y,x]
                    right = arr[z+1,y,x]
                    # look for valid neighbours
                    if left != no_data and right != no_data:  # left and right are valid
                        new_value = (left + right) / 2

                    elif left == no_data and z == 1:  # boundary condition left
                        new_value = value
                    elif right == no_data and z == len(arr[:,0,0])-2:  # boundary condition right
                        new_value = value

                    elif left == no_data and right != no_data:  # take second neighbour to the left
                        more_left = arr[z-2,y,x]
                        if more_left == no_data:
                            new_value = value
                        else:
                            new_value = (more_left + right) / 2

                    elif left != no_data and right == no_data:  # take second neighbour to the right
                        more_right = arr[z+2,y,x]
                        if more_right == no_data:
                            new_value = value
                        else:
                            new_value = (more_right + left) / 2

                    elif left == no_data and right == no_data:  # take second neighbour on both sides
                        more_left = arr[z-2,y,x]
                        more_right = arr[z+2,y,x]
                        if more_left != no_data and more_right != no_data:
                            new_value = (more_left + more_right) / 2
                        else:
                            new_value = value
                    else:
                        new_value = value
                else:
                    new_value = value
                result[z,y,x] = int(new_value)
    return result
"
25373,13577,Confused by which XML processing option to use,"from lxml import etree

contacts = etree.parse(open(""1234.xml""))

for c in contacts.xpath('//contact'):
    if c.xpath('/name')[0].text == 'Johnny Appleseed':
        c.xpath('/phone')[0].text = NEW_PHONE_NUMBER

print >> open(""1234.xml"", ""w""), etree.tostring(contacts)
"
27529,31504,Run function from Python 2 Tkinter button when pressed then run another when released,"import Tkinter as tk

root = tk.Tk()

def clicked(event):
    var.set('Clicked the button')

def released(event):
    var.set('Released the button')

var = tk.StringVar()
var.set('Nothing to see here')
label = tk.Label(root, textvar=var)
label.pack()

but = tk.Button(root, text='Button')
but.bind(""<Button-1>"", clicked)
but.bind(""<ButtonRelease-1>"", released)
but.pack()

root.mainloop()
"
26765,73009,regex for catching only upper-case matches,"""((\s|^)#[A-Z']+\b)""
"
34859,57000,Can argparse associate positional arguments with named arguments?,"import argparse
import sys
import copy
import os

def split_list(lst,condition):
    current=[]
    out=[current]
    for arg in lst:
        current.append(arg)
        if(condition(arg)):
            current=[]
            out.append(current)

    return out


parser=argparse.ArgumentParser()
parser.add_argument('-m',action='store')
parser.add_argument('-r',default='0',action='store')
#pieces=split_list(sys.argv[1:],os.path.isfile)
pieces=split_list(sys.argv[1:],lambda x: x in ('foo','bar','baz','quux'))
options={} #use collections.OrderedDict if order matters -- or some more suitable data structure.
default=argparse.Namespace()
for args in pieces:
    if(not args):
        continue
    ns=copy.deepcopy(default)
    default=parser.parse_args(args[:-1],namespace=ns)
    options[args[-1]]=default

print (options)
"
35345,63678,there must be a better way to do this,"from commands.shVersionCmd import shVersionCmd
from commands.shVRFCmd import shVRFCmd

# An explicit list of allowed commands to prevent malicious activity.
commands = ['shVersionCmd', 'shVRFCmd']

def CommandFactory(commandnode):
    cmd = commandnode.attrib['name']
    if cmd in commands:
        fn = globals()[cmd]
        fn(commandnode)
"
5412,53422,"How to test or mock ""if __name__ == '__main__'"" contents","[report]

exclude_lines =
    if __name__ == .__main__.:
"
12068,59624,Group a dataframe and calculate normalised standard deviation by group?,"df.groupby('product').apply(lambda x: np.std(x) / np.mean(x))
"
3080,57218,How To Mask Out Lower 'x' Bits of Python Integer Of Unknown Size,"number &= ~0xf
"
25414,58094,What is the simplest way to find the difference between 2 times in python?,"t1, t2 = datetime.time(...), datetime.time(...)

t1_ms = (t1.hour*60*60 + t1.minute*60 + t1.second)*1000 + t1.microsecond
t2_ms = (t2.hour*60*60 + t2.minute*60 + t2.second)*1000 + t2.microsecond

delta_ms = max([t1_ms, t2_ms]) - min([t1_ms, t2_ms])
"
20872,75360,get_serving_url in Google App Engine fails in Production Caught InvalidBlobKeyError while rendering,"from google.appengine.api import images

...

@register.simple_tag
def media_file_url(file_obj):
    try:
        return images.get_serving_url(file_obj.file.blobstore_info)
    except:
        return None
"
7231,68336,Need to select a formatted string in Python,">>> bla = re.compile(u'^[A-Za-z]{5}\d{6}$')
>>> bla.match('abcde123456').group()
'abcde123456'
"
27099,18912,Delimiting choices in ModelChoiceField,"class DeudaForm(forms.ModelForm):

    class Meta:
        model = Deuda
        exclude = ('propietario',)

    def __init__(self, propietario):
        forms.ModelForm.__init__(self)
        self.fields['adeudado'].queryset = User.objects.exclude(pk=d.propietario.pk)
"
34829,30920,Multiple integrations of a data-function over a small portion of its domain - accuracy and efficiency,"import scipy as sp
import scipy.integrate

xp = sp.linspace(0, 1000, 1000)
yp = sp.randn(1000)

datafunc = lambda x: sp.interp(x, xp, yp)

sp.integrate.quad(datafunc, 3, 1000)
"
28473,74857,Using Matplotlib sliders with multiple plots on the same axes,"# run your simulation like usual
runSimulation()

#create a ordered grid of axes, not one in top of the others
axcolor = 'lightgoldenrodyellow'
fig = p.figure()
axdata = p.subplot2grid((7,4),(0,0),colspan=4,rowspan=4)
axpos = p.subplot2grid((7,4),(-2,0),colspan=4, axisbg=axcolor)
axvel = p.subplot2grid((7,4),(-1,0),colspan=4, axisbg=axcolor)

# create your plots in the global space.
# you are going to reference these lines, so you need to make them visible
# to the update functione, instead of creating them inside a function 
# (and thus losing them at the end of the function)
x = range(width)
lpos, = axdata.plot(x,yPosition,'r')
lvel, = axdata.plot(x,yVelocity,'g')
ltarget, = axdata.plot(x,yTarget,'k')
lforce, = axdata.plot(x,yForce,'b')

# same as usual
spos = Slider(axpos, 'Position Gain', 1.0, 20.0, valinit=1.5)
svel = Slider(axvel, 'Velocity Gain', 5.0, 500.0, valinit=60.0)


def update(val):
    # you don't need to declare the variables global, as if you don't
    # assign a value to them python will recognize them as global
    # without problem
    runSimulation(round(spos.val,2),round(svel.val,2))
    lpos.set_ydata(yPosition)
    lvel.set_ydata(yVelocity)
    ltarget.set_ydata(yTarget)
    lforce.set_ydata(yForce)
    # you need to update only the canvas of the figure
    fig.canvas.draw()

spos.on_changed(update)
svel.on_changed(update)
p.show()
"
17394,54608,Matplotlib: How to convert a histogram to a discrete probability mass function?,"x=np.arange(0.1,1.1,0.1)
array([ 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1. ])

# Bin size
bins = np.arange(0.05, 1.15, 0.1)
np.histogram(x,bins=bins,normed=1)[0]
[ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.]
np.histogram(x,bins=bins,normed=0)[0]/float(len(x))
[ 0.1,  0.1,  0.1,  0.1,  0.1,  0.1,  0.1,  0.1,  0.1,  0.1]

# Change the bin size
bins = np.arange(0.05, 1.15, 0.2)
np.histogram(x,bins=bins,normed=1)[0]
[ 1.,  1.,  1.,  1.,  1.]
np.histogram(x,bins=bins,normed=0)[0]/float(len(x))
[ 0.2,  0.2,  0.2,  0.2,  0.2]
"
13666,58408,How can I use a string with the same name of an object in Python to access the object itself?,">>> dct = {'pasta': [1,2,3]}
>>> x = 'pas' + 'ta'
>>> dct[x]
[1, 2, 3]
"
37463,68652,Is it possible to have an admin inline without original data being shown?,"{% load i18n %}
<div class=""inline-group"">
  <div class=""tabular inline-related {% if forloop.last %}last-related{% endif %}"">
{{ inline_admin_formset.formset.management_form }}
<fieldset class=""module"">
   <h2>{{ inline_admin_formset.opts.verbose_name_plural|capfirst }}</h2>
   {{ inline_admin_formset.formset.non_form_errors }}
   <table>
     <thead><tr>
     {% for field in inline_admin_formset.fields %}
       {% if not field.is_hidden %}
         <th {% if forloop.first %}colspan=""2""{% endif %}>{{ field.label|capfirst }}</th>
        {% endif %}
     {% endfor %}
     {% if inline_admin_formset.formset.can_delete %}<th>{% trans ""Delete?"" %}</th>{% endif %}
     </tr></thead>

     <tbody>
     {% for inline_admin_form in inline_admin_formset %}
     {% if not inline_admin_form.original %}
        {% if inline_admin_form.form.non_field_errors %}
        <tr><td colspan=""{{ inline_admin_form.field_count }}"">{{ inline_admin_form.form.non_field_errors }}</td></tr>
        {% endif %}
        <tr class=""{% cycle row1,row2 %} {% if inline_admin_form.original or inline_admin_form.show_url %}has_original{% endif %}"">

        <td class=""original"">
          {% if inline_admin_form.original or inline_admin_form.show_url %}<p>
          {% if inline_admin_form.original %} {{ inline_admin_form.original }}{% endif %}
          {% if inline_admin_form.show_url %}<a href=""../../../r/{{ inline_admin_form.original_content_type_id }}/{{ inline_admin_form.original.id }}/"">{% trans ""View on site"" %}</a>{% endif %}
            </p>{% endif %}
          {% if inline_admin_form.has_auto_field %}{{ inline_admin_form.pk_field.field }}{% endif %}
          {{ inline_admin_form.fk_field.field }}
          {% spaceless %}
          {% for fieldset in inline_admin_form %}
            {% for line in fieldset %}
              {% for field in line %}
                {% if field.is_hidden %} {{ field.field }} {% endif %}
              {% endfor %}
            {% endfor %}
          {% endfor %}
          {% endspaceless %}
        </td>

        {% for fieldset in inline_admin_form %}
          {% for line in fieldset %}
            {% for field in line %}
              <td class=""{{ field.field.name }}"">
              {{ field.field.errors.as_ul }}
              {{ field.field }}
              </td>
            {% endfor %}
          {% endfor %}
        {% endfor %}

        {% if inline_admin_formset.formset.can_delete %}
          <td class=""delete"">{% if inline_admin_form.original %}{{ inline_admin_form.deletion_field.field }}{% endif %}</td>
        {% endif %}

        </tr>

     {% endif %}
     {% endfor %}
     </tbody>
   </table>

</fieldset>
  </div>

  {# <ul class=""tools""> #}
  {#   <li><a class=""add"" href="""">Add another {{ inline_admin_formset.opts.verbose_name|title }}</a></li> #}
  {# </ul> #}

</div>
"
4092,69639,Why is the IN statement true when it obviously shouldn't be? (lots of sense (once you know it)),"if ""screen"" in y or ""display"" in y or ""crack"" in y or ""smash"" in y
"
8249,42670,How to change authentication type on Twitter API,"auth = tweepy.AppAuthHandler(token, secret)
api = tweepy.API(auth)
"
1135,41432,How to add the int elements of 2 lists python,"vel = [4, 3]
lst = [[4, 5]  # changed this identifier. Don't shadow Python built-ins
       [6, 4]
       [7, 5]
       [3, 4]]

lst = [[vel[0]+sublst[0], vel[1]+sublst[1]] for sublst in lst]
"
31404,54408,Python string extraction from array of strings,"strings = [""and"",""the"",""woah""]
#Get a null set to be filled in
new = ["""" for x in range(max([len(m) for m in strings]))]
#Cycle through new list
for index,item in enumerate(new):
    for w in strings:
        try: 
            item += w[index]
            new[index] = item
        except IndexError,err:
            pass
print new
"
10943,28164,pandas how to batch process all the values,"In [136]:
df = pd.DataFrame({'a':['asdas','asdasdsadas','123124'],'b':['554653645','546456453634','uyiyasdhnfjnas']})
df

Out[136]:
             a               b
0        asdas       554653645
1  asdasdsadas    546456453634
2       123124  uyiyasdhnfjnas

In [138]:    
df.apply(lambda x: x.str[:4])

Out[138]:
      a     b
0  asda  5546
1  asda  5464
2  1231  uyiy
"
38476,83650,Scrapy spider yields several items but pipeline is called only for first per request,"# my_spider.py
class MySpider(CrawlSpider):
    name = 'my_spider'
    ...

    def parse(self, response):
        x = HtmlXPathSelector(response)

        headings = x.select('//h2/text()').extract()
        for h in headings:
            item = MyDjangoItem()
            item['name'] = h
            yield item

        url = 'http://example.com/next'  # I have custom rules for constructing (not extracting) next url
        yield Request(url, callback=self.parse)
"
33668,66537,How do i check if a string in a set is part of another string in python 2.7?,"words = [ ""happy"", ""sad"", ""good"", ""bad""]
for word in words:
    if (""happy"" in word.lower()):
        print ""yes""
"
15709,84039,Python dictionary very slow(2-D hash table),"from collections import defaultdict
hash = defaultdict(dict)
hash[1][2] = 1
"
33291,59193,Execute script after `python manage.py shell` is up,"#!/bin/bash

export PYTHONSTARTUP=""$1""      # Set the startup script python will run when it start.
shift                          # Remove the first argument, don't want to pass that.
python manage.py shell ""$@""    # Run manage.py with the startup script. 
"
27975,29910,pyQt4 QTabWidget setMovable crashes with custom QTabBar,"class CTabWidget(QTabWidget):
    def __init__(self, parent=None):
        super(CTabWidget, self).__init__(parent)
        self.tabBar = CTabBar(self)
        self.setTabBar(self.tabBar)
        self.setTabPosition(QTabWidget.West)
        self.tab1 = QWidget(self)
        self.tab2 = QWidget(self)
        self.addTab(self.tab1, ""Foo"")
        self.addTab(self.tab2, ""Bar"")

class CTabBar(QTabBar):
    def __init__(self, parent=None):
        super(CTabBar, self).__init__(parent)
        self.setMovable(True)

    def mouseDoubleClickEvent(self, event):
        print ""Change name""
"
25444,44289,check for event midway through running while loop?,"uif = ""images/userGray.png""
bif = ""images/bg.jpg""
cif = ""images/chair3.png""
i = 0
playerX = 1
playerY = 1
pX = 1
pY = 1
bX = 0
bY = 0
moveX = 0
moveY = 0
windowX = 640
windowY = 480
lowerY = 1024
lowerX = 1024
bullets = []
x = 0
y = 0
rotate = False

objects = []

objects.append([256,260,410,511])

import pygame, sys
from pygame.locals import *

pygame.init()

screen = pygame.display.set_mode((640,480),0,32)

background = pygame.image.load(bif).convert()
user = pygame.image.load(uif).convert_alpha()
chair = pygame.image.load(cif).convert_alpha()
chair1 = pygame.image.load(cif).convert_alpha()

pygame.time.set_timer(USEREVENT + 1, 100)

def shoot(inLoc, clLoc, weapon):
    bulletId = len(bullets)
    bullets[bulletId] = [inLoc, clLoc, 200, 3]

moveSpeed = .1

while True:



    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
        if event.type == USEREVENT + 1:
            rotate = True;
        if event.type == KEYDOWN:
            if event.key == K_LEFT or event.key == K_a:
                moveX = -1*moveSpeed
            elif event.key == K_RIGHT or event.key == K_d:
                moveX = moveSpeed
            if event.key == K_DOWN or event.key == K_s:
                moveY = moveSpeed
            elif event.key == K_UP or event.key == K_w:
                moveY = -1*moveSpeed
        if event.type == KEYUP:
            if event.key == K_LEFT or event.key == K_a or event.key == K_RIGHT or event.key == K_d:
                moveX = 0
            if event.key == K_DOWN or event.key == K_s or event.key == K_UP or event.key == K_w:
                moveY = 0

    dontMoveX = 0
    dontMoveY = 0

    for obj in objects:

        if playerX + moveX > obj[0]-user.get_width() and playerX + moveX < obj[1] and playerY + moveY > obj[2]-user.get_height() and playerY + moveY < obj[3]:
            if playerY + moveY == obj[2]-user.get_height()-1 or playerY + moveY == obj[3]+1:
                dontMoveX = 0
            else:
                dontMoveX = 1

        if playerX + moveX > obj[0]-user.get_width() and playerX + moveX < obj[1] and playerY + moveY > obj[2]-user.get_height() and playerY + moveY < obj[3]:
            if playerX + moveX == obj[0]-user.get_width()-1 or playerX + moveX == obj[1]+1:
                dontMoveY = 0
            else:
                dontMoveY = 1

    if dontMoveX == 0:
        playerX += moveX

        if (playerX >= 0 and playerX <= windowX/2) or (playerX >= lowerX-(windowX/2) and playerX <= lowerX-user.get_width()):
            pX+=moveX
        if playerX > windowX/2 and playerX < lowerX-(windowX/2):
            bX+=-1*moveX

    if dontMoveY == 0:
        playerY += moveY

        if (playerY >= 0 and playerY <= windowY/2) or (playerY >= lowerY-(windowY/2) and playerY <= lowerY-user.get_width()):
            pY+=moveY
        if playerY > windowY/2 and playerY < lowerY-(windowY/2):
            bY+=-1*moveY

    screen.blit(background,(bX,bY))



    screen.blit(user,(pX,pY))


    pygame.mouse.set_visible(False);

    if rotate == True:    

        if i < 360:
            i = i + 18
        else:
            i = 0

        orig_chair_rect = chair.get_rect()
        chair1 = pygame.transform.rotate(chair, i);
        rot_chair_rect = orig_chair_rect.copy()
        rot_chair_rect.center = chair1.get_rect().center
        chair1 = chair1.subsurface(rot_chair_rect).copy()

        rotate = False

    x,y = pygame.mouse.get_pos()
    x -= chair.get_width()/2
    y -= chair.get_height()/2

    screen.blit(chair1,(x,y))

    pygame.display.update()
"
26848,26218,creating a python dictionary like object from protocol buffers for use in pandas,"import ProtoText
print person_obj['name']       # print out the person_obj.name 
person_obj['name'] = 'David'   # set the attribute 'name' to 'David'
# again set the attribute 'name' to 'David' but in batch mode
person_obj.update({'name': 'David'})
print ('name' in person_obj)  # print whether the 'name' attribute is set in person_obj 
# the 'in' operator is better than the google implementation HasField function 
# in the sense that it won't raise Exception even if the field is not defined  
"
18395,12668,Assign string elements as integers to variables in single line,"In [14]: var1, var2, var3 = (int(i) for i in a)

In [15]: var1, var2, var3
Out[15]: (32132, 654654, 89765464)
"
28538,18850,Get N lines from file,"seen = dict()
for row in data:
    n = seen.setdefault(row[0], 0)
    if n < 2:
        print row
    seen[row[0]] += 1
"
5762,14588,Create a set from a list using {},">>> my_list = [1,2,3,4,5]
>>> my_set = {*my_list}
>>> my_set
   {1, 2, 3, 4, 5}
"
3757,16039,Comparing image in url to image in filesystem in python,"import numpy
from scipy.signal import fftconvolve

def ssim(im1, im2, window, k=(0.01, 0.03), l=255):
    """"""See https://ece.uwaterloo.ca/~z70wang/research/ssim/""""""
    # Check if the window is smaller than the images.
    for a, b in zip(window.shape, im1.shape):
        if a > b:
            return None, None
    # Values in k must be positive according to the base implementation.
    for ki in k:
        if ki < 0:
            return None, None

    c1 = (k[0] * l) ** 2
    c2 = (k[1] * l) ** 2
    window = window/numpy.sum(window)

    mu1 = fftconvolve(im1, window, mode='valid')
    mu2 = fftconvolve(im2, window, mode='valid')
    mu1_sq = mu1 * mu1
    mu2_sq = mu2 * mu2
    mu1_mu2 = mu1 * mu2
    sigma1_sq = fftconvolve(im1 * im1, window, mode='valid') - mu1_sq
    sigma2_sq = fftconvolve(im2 * im2, window, mode='valid') - mu2_sq
    sigma12 = fftconvolve(im1 * im2, window, mode='valid') - mu1_mu2

    if c1 > 0 and c2 > 0:
        num = (2 * mu1_mu2 + c1) * (2 * sigma12 + c2)
        den = (mu1_sq + mu2_sq + c1) * (sigma1_sq + sigma2_sq + c2)
        ssim_map = num / den
    else:
        num1 = 2 * mu1_mu2 + c1
        num2 = 2 * sigma12 + c2
        den1 = mu1_sq + mu2_sq + c1
        den2 = sigma1_sq + sigma2_sq + c2
        ssim_map = numpy.ones(numpy.shape(mu1))
        index = (den1 * den2) > 0
        ssim_map[index] = (num1[index] * num2[index]) / (den1[index] * den2[index])
        index = (den1 != 0) & (den2 == 0)
        ssim_map[index] = num1[index] / den1[index]

    mssim = ssim_map.mean()
    return mssim, ssim_map


def nrmse(im1, im2):
    a, b = im1.shape
    rmse = numpy.sqrt(numpy.sum((im2 - im1) ** 2) / float(a * b))
    max_val = max(numpy.max(im1), numpy.max(im2))
    min_val = min(numpy.min(im1), numpy.min(im2))
    return 1 - (rmse / (max_val - min_val))


if __name__ == ""__main__"":
    import sys
    from scipy.signal import gaussian
    from PIL import Image

    img1 = Image.open(sys.argv[1])
    img2 = Image.open(sys.argv[2])

    if img1.size != img2.size:
        print ""Error: images size differ""
        raise SystemExit

    # Create a 2d gaussian for the window parameter
    win = numpy.array([gaussian(11, 1.5)])
    win2d = win * (win.T)

    num_metrics = 2
    sim_index = [2 for _ in xrange(num_metrics)]
    for band1, band2 in zip(img1.split(), img2.split()):
        b1 = numpy.asarray(band1, dtype=numpy.double)
        b2 = numpy.asarray(band2, dtype=numpy.double)
        # SSIM
        res, smap = ssim(b1, b2, win2d)

        m = [res, nrmse(b1, b2)]
        for i in xrange(num_metrics):
            sim_index[i] = min(m[i], sim_index[i])

    print ""Result:"", sim_index
"
1013,2863,python 3.5.1 won't return strings from functions,"outp = fun()
"
36984,21787,"What's the best way to create datetime from ""%H:%M:%S""",">>> time = datetime.datetime.strptime(""04:35:45"", ""%H:%M:%S"").time()
>>> time
datetime.time(4, 35, 45)
>>> day = datetime.datetime.now().date()
>>> day
datetime.date(2016, 1, 6)
>>> datetime.datetime.combine(day, time)
datetime.datetime(2016, 1, 6, 4, 35, 45)
>>> 
"
32122,84765,"Two identical methods ""vertex_disjoint_paths"" and ""cohesion"" in the library?",">>> from igraph import Graph
>>> Graph.adhesion == Graph.edge_connectivity == Graph.edge_disjoint_paths
True
>>> Graph.cohesion == Graph.vertex_connectivity == Graph.vertex_disjoint_paths
True
"
21093,25472,How to make this Battleship game more user friendly in terms of values?,"Guess_Battleship_Board_Row = int(input(""Guess the X coordinate:"")) - 1
Guess_Battleship_Board_Column = int(input(""Guess the Y coordinate:"")) - 1
"
16869,34858,Python dice game (closed),"play = 'y'
while play == 'y'

    Do your game logic here

    play = input('Would you like to play in-between [y|n]? ')
"
37900,61535,"How to split script and option at space, if script path can contain escaped spaces?",">>> l=re.split(r'[\\ ]+',path_options)
>>> l=[' '.join(l[:-1]),l[-1]]
>>> l
['just a dir/my script.sh', '--option']
"
9855,51651,How can I query a numpy array to find the minimum multiplication of the first two columns?,"import numpy as np
x = np.array([[10, 1], [2, 12], [3, 5]])
multi_cols = x[:,0] * x[:,1]
print x[multi_cols.argmin()]
"
7556,79945,"Plotting a ""signals"" series on a Matplotlib chart",">>> import numpy as np
>>> x = np.array([1,2,3,4,5])
>>> b = np.array([True,False,False,True,False]) # this is your boolean data array
>>> markers_on = x[~b]
>>> markers_on
array([2, 3, 5])
"
12109,54175,Assigning Values to Variables from List in Python 2.7,"header_row = 0

# build list of lists that represents row values in worksheet,
# including column names from header row
rows = [worksheet.row_values(row) for row in range(worksheet.nrows)]

# extract list of column names to use for insert statement, values to be inserted remain
columns = rows.pop(header_row)

cnxn = pyodbc.connect(r""DRIVER={SQL Server};SERVER=XXXXXXXXXX\DEV_CON1;DATABASE=GGG;UID=AAA_dbo;PWD=XXXXXXXXX;"")
cursor = cnxn.cursor()

# list of column names used to build SQL statement, including parameter placeholders (?)
populate_db = ""insert into tblSnap_TEST ({}) values ({})"".format(', '.join(columns),
                                                                 ', '.join('?' * len(columns)))

# insert is executed once for each sequence of parameter values
cursor.executemany(populate_db, rows)
cnxn.commit()
cnxn.close()
"
34289,75530,first order differences along a given axis in NumPy array,"x = numpy.arange(10)
y = numpy.zeros(x.shape)

y[1:] = x[1:] - x[:-1]

print y
"
36713,13353,How to use webbrowser module open a web site but at background in python 3?,">>> r = subprocess.getoutput(""google-chrome-stable https://www.google.com/"")
>>> r
Created new window in existing browser session.'
>>> 
"
35730,44412,Matplotlib make tick labels font size smaller,"import matplotlib.pyplot as plt
import numpy as np

def xticklabels_example():
    fig = plt.figure() 

    x = np.arange(20)
    y1 = np.cos(x)
    y2 = (x**2)
    y3 = (x**3)
    yn = (y1,y2,y3)
    COLORS = ('b','g','k')

    for i,y in enumerate(yn):
        ax = fig.add_subplot(len(yn),1,i+1)

        ax.plot(x, y, ls='solid', color=COLORS[i]) 

        if i != len(yn) - 1:
            # all but last 
            ax.set_xticklabels( () )
        else:
            for tick in ax.xaxis.get_major_ticks():
                tick.label.set_fontsize(14) 
                # specify integer or one of preset strings, e.g.
                #tick.label.set_fontsize('x-small') 
                tick.label.set_rotation('vertical')

    fig.suptitle('Matplotlib xticklabels Example')
    plt.show()

if __name__ == '__main__':
    xticklabels_example()
"
25629,21908,How to get sum of each row and sum of each column in Scipy sparse matrices (csr_matrix and csc_matrix)?,"In [2]: row = array([0,0,1,2,2,2])

In [3]: col = array([0,2,2,0,1,2])

In [4]: data = array([1,2,3,4,5,6])

In [5]: a = csr_matrix((data, (row, col)), shape=(3,3))

In [6]: a.A
Out[6]: 
array([[1, 0, 2],
       [0, 0, 3],
       [4, 5, 6]])

In [7]: a.sum(axis=0)  # sum the columns
Out[7]: matrix([[ 5,  5, 11]])

In [8]: a.sum(axis=1)  # sum the rows
Out[8]: 
matrix([[ 3],
        [ 3],
        [15]])
"
30836,25967,Python - Mocking an object's attribute with multiple values?,"class MyTestClass(unittest.TestCase):
    def setUp(self):
        self.my_obj = MyClass()
        self.my_obj_mock = flexmock(self.my_obj)

    def my_test_case(self):
        self.my_obj_mock.should_receive('other_method').and_return(1).and_return(2).and_return(3)
        self.my_obj.method_to_test()
"
13115,27286,Python CSV row value based flow control,"import csv
from collections import defaultdict, Counter
from datetime import datetime
from urlparse import urlsplit

indiv = Counter()

domains = defaultdict(lambda: defaultdict(int))
with open(""history.csv"", ""rb"") as f:
    for timestr, url in csv.reader(f):
        dt = datetime.strptime(timestr, ""%Y-%m-%d %H:%M:%S"")
        if 6 <= dt.hour < 11: # between 6am and 11am
            today_domains = domains[dt.date()]
            domain = urlsplit(url).hostname
            if len(today_domains) < 5 and domain not in today_domains:
                today_domains[domain] += 1
                indiv += Counter([domain])
for domain in indiv:
    print '%s,%d' % (domain, indiv[domain])
"
19783,7851,django user model - override labels in model form,"class UserForm(ModelForm):
    first_name = forms.CharField(label='Vorname')
    # ...

    class Meta:
        model = User
        fields = [""first_name"", ""last_name"", ""username"", ""email"", ""password""]
"
2571,27164,Python simple string method,"In [33]: filename = ""sciPHOTOf105w0.fits""

In [34]: filename.rpartition('.')[0]
Out[34]: 'sciPHOTOf105w0'

In [35]: filename.rsplit('.', 1)[0]
Out[35]: 'sciPHOTOf105w0'
"
36893,82855,selenium iterate through options in dropdown select,"select = Select(driver.find_element_by_id(""dropDown""))
options = select.options
for index in range(0, len(options) - 1):
    select.select_by_index(index)
    # do stuff
"
16301,24419,Convert wide-form pandas DataFrame with hierarchical column index to tidy format,"dat1.unstack().reset_index([""foo"", ""bar""], name=""obs"")


  foo bar       obs
0   a   c  0.716688
1   a   c  0.945587
2   a   c  0.388928
3   a   c  0.597745
0   a   d  0.201622
1   a   d  0.267941
2   a   d  0.575878
3   a   d  0.632626
0   b   c  0.143869
1   b   c  0.499576
2   b   c  0.860764
3   b   c  0.369183
0   b   d  0.857490
1   b   d  0.048870
2   b   d  0.804838
3   b   d  0.230868
"
4772,33355,Python iterator that generates combinatorial splits,"import itertools
import numpy as np

my_array = np.array([[0,1,2],[3,4,5],[6,7,8]])

n = len(my_array)

for r in itertools.combinations(xrange(n), 2):
    rows = np.array(r)
    on = np.zeros(n, dtype=bool)
    on[rows] = True
    print my_array[on]
    print my_array[~on]
"
39236,46127,Scrapy Getting Start_Urls,"self.cursor.execute(""INSERT INTO items (title, url) VALUES (%s, %s)"",
                    (item['title'][0], item['link']))
"
13687,60733,Python subprocess not executing program correctly,"from subprocess import Popen, PIPE

p = Popen([""/path/to/FORTRAN/program""], stdin=PIPE,
          bufsize=1, close_fds=True)
p.communicate(""INPUT_FILE1\r\nINPUT_FILE2"")
rc = p.returncode
"
2331,80838,"Using loops in django templates, the way you use them in python",">>> from django.template import Template, Context
>>> t = Template('''
...     {% for first in firstList %}
...         {% for second in firstList %}
...             {% if first == second %}
...                 {{ first }}
...             {% endif %}
...         {% endfor %}
...     {% endfor %}
... ''')
>>> t.render(Context({'firstList': ['foo', 'bar'], 'secondList': ['foo', 'bar']}))
u'\n    \n        \n            \n                foo\n            \n        \n            \n        \n    \n        \n            \n        \n            \n                bar\n            \n        \n    \n'
>>> print(t.render(Context({'firstList': ['foo', 'bar'], 'secondList': ['foo', 'bar']})))


                foo



                bar
"
2963,39720,Strip an ordered sequence of characters from a string,"def strip_string(string, to_strip):
    if to_strip:
        while string.startswith(to_strip):
            string = string[len(to_strip):]
        while string.endswith(to_strip):
            string = string[:-len(to_strip)]
    return string
"
29545,65,How do we represent a network as a dictionary in Python when using networkx?,">>> import networkx as nx
>>> net = nx.Graph()
>>> net.add_edge(""user_42"", ""user_9"", trust=9)
>>> net.adj
{'user_42': {'user_9': {'trust': 9}}, 'user_9': {'user_42': {'trust': 9}}}
"
23563,64310,How to clean up strings with regex from list,"import re

strings = """"""String1_Todelete_restofstring.txt
String2_Alsotoremove_restofstring.txt
String3_2013_restofstring.txt
String4_2011_restofstring.txt
String5_restofstring_tosuppress.txt"""""".split()

keywords = set((""Todelete"", ""2013"",""2011"", ""Alsotoremove"",""tosuppress""))

for s in strings:
    print re.sub(""_[^_.]+"", lambda m: """" if m.group(0)[1:] in keywords else m.group(0), s)
"
37571,74280,how to urlencode a value that is a python dictionary with encoded unicode characters,">>>urllib.urlencode({""param"":""val"", ""items"":[json.dumps(item) for item in items] }, True)
"
28183,3276,Recursive thread creation in python,"def fib(n, r):
    if n < 2:
        r[0] = n
    else:
        r1 = [None]
        r2 = [None]
        # Start fib() threads that use r1 and r2 for results.
        ...

        # Sum the results of the threads.
        r[0] = r1[0] + r2[0]

def FibonacciThreads(n):
    r = [None]
    fib(n, r)
    return r[0]
"
23837,63783,"Cython, confusion regarding the vector (size) constructor","from libcpp.vector cimport vector                                                                                                                                                                          


ctypedef vector[int] int_vec                                                        
ctypedef vector[int_vec] int_vec_vec                                                


def test():                                                                         
    cdef int_vec v                                                                  
    v = int_vec(5)                                                                  

    cdef int_vec_ve vv                                                              
    vv = int_vec_vec(5, v)   
"
2434,65491,counting number of words between two strings python regexp,">>> re.search(""brown fox\W+(?:\w+\W+){1,4}lazy dog"", s)
<_sre.SRE_Match at 0x3045850>

>>> re.search(""brown fox\W+(?:\w+\W+){1,3}lazy dog"", s)
<_sre.SRE_Match at 0x3045920>

>>> re.search(""brown fox\W+(?:\w+\W+){1,2}lazy dog"", s)
(None)
"
39922,27628,Passing python class object as parameter to c library,"class POINT(Structure):
    _fields_ = [(""x"", c_int),
               (""y"", c_int)]
"
14378,62876,Force Python function to return type 'tuple',">>> def test():
...     return (1, 2)
... 
>>> thing = test()
>>> thing
(1, 2)
>>> type(thing)
<type 'tuple'>
>>> type(thing).__name__
'tuple'
"
20570,16546,Break indentation for nested loop,"def func():
    im1 = Image.open(""C:\\Users\\Poos\\Desktop\\G\\green_pixel.bmp"")
    A = list(im1.getdata())

    x = 0
    y = 0

    im2 = ImageGrab.grab()
    B = list(im2.getdata())

    for x in range(0,1024, 50):
        for y in range(0,600, 20):
        if(B != A):
            im3 = im2.crop((x,y,x+1,y+1))
            B = list(im3.getdata())
            print(x, y)

        else:
            print(""hooray!"")
            return

        return
"
29,7298,Python 3 - open file from console,"txt = open(""C:\\user\\documents\\python\\ex15_sample.txt"")
"
8694,15133,Python: Convert entire string to lowercase except for substrings in quotes,">>> s = ""I am Enrolled in a course, 'MPhil' since 2014. I LOVE this 'SO MuCH'""
>>> re.sub(r""\b(?<!')(\w+)(?!')\b"", lambda match: match.group(1).lower(), s)
""i am enrolled in a course, 'MPhil' since 2014. i love this 'SO MuCH'""
"
17315,57015,Changing datetime value in python,"from datetime import timedelta

createdate_mongo += timedelta(days=1)
"
34322,57396,Can I use a function passed by parameters?,"def func1(a, b):
    pass

def func2(a, b):
    pass

def functionA(val1, val2, func):
    func(val1, val2)

# now call functionA passing in a function
functionA(""foo"", ""bar"", func1)
"
29477,7572,Incrementing for loop in python when condition matched,"for x in OrderedList:
    if x in ResultList1:
        print x, '1'
        continue
    if x in ResultList2:
        print x, '2'
        continue
    if x in ResultList3:
        print x, '3'
        continue
"
26735,20063,How to get the resolution of a monitor in Pygame?,"infoObject = pygame.display.Info()
pygame.display.set_mode((infoObject.current_w, infoObject.current_h))
"
31052,6342,Overlapping community detection with igraph or other libaries,"#!/usr/bin/env python
from itertools import combinations

import igraph
import optparse

parser = optparse.OptionParser(usage=""%prog [options] infile"")
parser.add_option(""-k"", metavar=""K"", default=3, type=int,
        help=""use a clique size of K"")

options, args = parser.parse_args()

if not args:
    parser.error(""Required input file as first argument"")

k = options.k
g = igraph.load(args[0], format=""ncol"", directed=False)
cls = map(set, g.maximal_cliques(min=k))

edgelist = []
for i, j in combinations(range(len(cls)), 2):
    if len(cls[i].intersection(cls[j])) >= k-1:
        edgelist.append((i, j))

cg = igraph.Graph(edgelist, directed=False)
clusters = cg.clusters()
for cluster in clusters:
    members = set()
    for i in cluster:
        members.update(cls[i])
    print ""\t"".join(g.vs[members][""name""])
"
36650,24544,how to submit query to .aspx page in python,"import urllib
import urllib2

uri = 'http://legistar.council.nyc.gov/Legislation.aspx'

#the http headers are useful to simulate a particular browser (some sites deny
#access to non-browsers (bots, etc.)
#also needed to pass the content type. 
headers = {
    'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.13) Gecko/2009073022 Firefox/3.0.13',
    'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml; q=0.9,*/*; q=0.8',
    'Content-Type': 'application/x-www-form-urlencoded'
}

# we group the form fields and their values in a list (any
# iterable, actually) of name-value tuples.  This helps
# with clarity and also makes it easy to later encoding of them.

formFields = (
   # the viewstate is actualy 800+ characters in length! I truncated it
   # for this sample code.  It can be lifted from the first page
   # obtained from the site.  It may be ok to hardcode this value, or
   # it may have to be refreshed each time / each day, by essentially
   # running an extra page request and parse, for this specific value.
   (r'__VSTATE', r'7TzretNIlrZiKb7EOB3AQE ... ...2qd6g5xD8CGXm5EftXtNPt+H8B'),

   # following are more of these ASP form fields
   (r'__VIEWSTATE', r''),
   (r'__EVENTVALIDATION', r'/wEWDwL+raDpAgKnpt8nAs3q+pQOAs3q/pQOAs3qgpUOAs3qhpUOAoPE36ANAve684YCAoOs79EIAoOs89EIAoOs99EIAoOs39EIAoOs49EIAoOs09EIAoSs99EI6IQ74SEV9n4XbtWm1rEbB6Ic3/M='),
   (r'ctl00_RadScriptManager1_HiddenField', ''), 
   (r'ctl00_tabTop_ClientState', ''), 
   (r'ctl00_ContentPlaceHolder1_menuMain_ClientState', ''),
   (r'ctl00_ContentPlaceHolder1_gridMain_ClientState', ''),

   #but then we come to fields of interest: the search
   #criteria the collections to search from etc.
                                                       # Check boxes  
   (r'ctl00$ContentPlaceHolder1$chkOptions$0', 'on'),  # file number
   (r'ctl00$ContentPlaceHolder1$chkOptions$1', 'on'),  # Legislative text
   (r'ctl00$ContentPlaceHolder1$chkOptions$2', 'on'),  # attachement
                                                       # etc. (not all listed)
   (r'ctl00$ContentPlaceHolder1$txtSearch', 'york'),   # Search text
   (r'ctl00$ContentPlaceHolder1$lstYears', 'All Years'),  # Years to include
   (r'ctl00$ContentPlaceHolder1$lstTypeBasic', 'All Types'),  #types to include
   (r'ctl00$ContentPlaceHolder1$btnSearch', 'Search Legislation')  # Search button itself
)

# these have to be encoded    
encodedFields = urllib.urlencode(formFields)

req = urllib2.Request(uri, encodedFields, headers)
f= urllib2.urlopen(req)     #that's the actual call to the http site.

# *** here would normally be the in-memory parsing of f 
#     contents, but instead I store this to file
#     this is useful during design, allowing to have a
#     sample of what is to be parsed in a text editor, for analysis.

try:
  fout = open('tmp.htm', 'w')
except:
  print('Could not open output file\n')

fout.writelines(f.readlines())
fout.close()
"
27144,20676,For Loop Timer Function in Python,"import sys
def Time_Function(i,rows,counter,start,var):

    if  i==start or i% round(rows/10) ==0 and counter <=100:
        sys.stdout.write(str(counter))
        counter=counter+10
        var=0
    if i% round((rows/10)/3) ==0 and counter <=100 and var<3:  
        sys.stdout.write('.')
        var=var+1
    return [counter,var] 

def Project(array,rows,cols):
    counter=var=0
    for i in range(0,rows):
        for j in range(0,cols):
            array=3 #just an arbitrary number
        [counter,var]=Time_Function(i,rows,counter,0,var)

array1=1
array2=2
Project(array1,2018,486)
print ""\n""
Project(array2,2023,486)
"
19949,42078,dynamic sqlalchemy columns on class,"from sqlalchemy import Column, Boolean, Integer

def c_id():
    return Column(Integer, primary_key=True)

def c_bool():
    return Column(Boolean, nullable=False, default=False)

def c_string(len):
    return Column(String(len), nullable=False, default='')

class Thing(Base):
    id = c_id()
    thing = c_bool()
    tag = c_string(255)
"
5191,51968,Convert date to floating number since epoch,">>> import time
>>> time.mktime(time.strptime('02-12-2012', '%d-%m-%Y'))
1354424400.0
"
12482,73291,find and replace with multiple for loops in Python,"for line in ActiveFileR:
    newline = line
    for ReChr1 in CapAlphabet:
        for ReChr2 in CapAlphabet:
            newline = newline.replace(ReChr1 + ReChr2, ReChr1 + "" "" + ReChr2)
    ActiveFileW.write(newline)
"
17183,52616,Cutting out row and column of an array,">>> np.column_stack((A[1:,:3],A[1:,4:]))
array([[ 6,  7,  8, 10],
       [11, 12, 13, 15],
       [16, 17, 18, 20],
       [21, 22, 23, 25]])
"
1825,41753,python set of tuple intersection,"first_set, second_set = {(""A"", 23), (""B"", 15)}, {(""X"", 23), (""B"", 42)}

# Group items based on the first elements, as dictionaries
d1, d2 = {}, {}
for item in first_set:
    d1.setdefault(item[0], []).append(item)
for item in second_set:
    d2.setdefault(item[0], []).append(item)

# Merge the dictionaries to form a list of grouped items
s = [d1.get(key, []) + d2.get(key, []) for key in d1.viewkeys() | d2]

# Filter out all the groups if the length is lesser than 1
print [item for item in s if len(item) > 1]
# [[('B', 15), ('B', 42)]]
"
34782,73681,Compare strings based on alphabetical ordering,"if len(x)==len(y):
   return min(x,y)
"
10799,28949,Retain unchanged data when saving Numpy array to image with Scipy imsave,"import numpy as np
import scipy.misc

a = np.random.uniform(0, 2**16 - 1, (500, 500)).astype('int32')
img = scipy.misc.toimage(a, high=np.max(a), low=np.min(a), mode='I')
img.save('my16bit.png')

# check that you got the same values
b = scipy.misc.imread('my16bit.png')
b.dtype
# dtype('int32')
np.array_equal(a, b)
# True
"
25032,14046,basic python vlookup equivalent,"import numpy
import glob

for f in glob.glob(""*.csv""):
    print f

    r = numpy.recfromcsv(f)
    print numpy.interp(5, r.depth, r.temp)
"
36651,34777,Chained list comprehension in python,">>> import numpy
>>> import numpy.random
>>> x = numpy.random.rand(100, 3, 4)
>>> mask = numpy.random.rand(*x.shape)
>>> result = numpy.where(mask < 0.5, 0, x)
"
31090,77214,"How do i remove trailing whitespace in python code , using python script","with open(""test.txt"") as file:
    for line in file:
        line = line.rstrip()
        if line:
            print line
"
11501,82985,Flask app.add_url_rule in decorator error,"def route(route, method):
    def decorator(f):
        print 'decorator defined'
        print 'defining route'
        @wraps(f)
        def wrapper(*args, **kwargs):
            print 'Hello'
            # do stuff here such as authenticate, authorise, check request json/arguments etc.
            # these will get passed along with the route and method arguments above.
            return f(*args, **kwargs)

        app.add_url_rule(route, methods=method, view_func=wrapper)
        print 'route defined'
        return wrapper
    return decorator
"
9465,75721,Changing property of a QLE in python,"    self.qleTextBoxCam1Focus.editingFinished.connect(self.qleCam1Focus)
"
5375,4819,large matrix diagonalization python,"import numpy as np
A = np.array([[3,1,-1], [1,3,-1], [-1,-1,5]])
w,v =  np.linalg.eig(A)
print w
idx = w.argsort()[::-1] #large to small
# idx = w.argsort() #small to large
w = w[idx]
v = v[:,idx]
print w # now they are ordered and you can iterate through your results to write them to your file
"
17913,68836,How to automatically run Python script AFTER Raspberry Pi fully boots?,"all_interfaces_up() {
    /your/code/path/codename.py
    # return true if all interfaces listed in /etc/network/interfaces as 'auto'
    # are up.  if no interfaces are found there, then ""all [given] were up""
"
9172,37264,Passing a string from a form in html-file to a python-script respecting utf-8 encoding,"#!/usr/bin/python

import cgi;
import codecs;

form = cgi.FieldStorage()
my_a = form.getvalue(""a"","""")

wFile = codecs.open(""test.txt"", ""w"", ""utf8"")
wFile.write(my_a);
wFile.close()

print(""Content-Type: text/plain"")
print(""Location: ../plain.html"")
print()
"
17589,63042,Algorithm for resolving conflicts with overlapping choices,"def backtracking(domains):
    if any(len(dom) == 0 for var, dom in domains.iteritems()):
        return None
    if all(len(dom) == 1 for var, dom in domains.iteritems()):
        return domains

    # minimum remaining values heuristic: process variables with few possible
    # values first (fail-first strategy)
    order = sorted(domains.iteritems(), key=lambda (var, dom): len(dom))
    for var, dom in order:
        if len(dom) == 1:
            continue

        for value in list(dom):
            doms = {v: d - {value} for v, d in domains.iteritems()
                                   if v != var}
            doms[var] = {value}

            solution = backtracking(doms)
            if solution is not None:
                return solution

print(backtracking({v: set(d) for v, d in options.iteritems()}))
"
6998,80913,How to read out tc result verdict in an xml file with Python and ElementTree,"import xml.etree.ElementTree as ET

def openEmptyXML():
    doc = ET.parse(""Automatimport.xml"")
    for atc in doc.findall("".//ATC""):   
        versionname = atc.find(""OriginalTestVersionName"") 
        tcName = versionname.text
        if tcName == 'REQPROD 232 Read IO':
            verdict1 = atc.find(""Verdict"")
            verdict2 = atc.find(""Procedure/Verdict"")
            verdict3 = atc.find(""Procedure/Result/Verdict"")
            print tcName
            print verdict1.text
            print verdict2.text
            print verdict3.text

openEmptyXML()
"
10096,37387,List within List alteration,">>> test_out = [['I am monkey free.'], ['I explained my life free.']]
>>> A = ""monkey free""
>>> replacement = ""xxxxxx""
>>> [[string.replace(A, replacement) for string in sublist] for sublist in test_out]
[['I am xxxxxx.'], ['I explained my life free.']]
"
8066,80766,Return elements not referenced by array of indices in Python,">>> import numpy as np
>>> a = np.random.random(10)  # set up a random array to play with
>>> a
array([ 0.20291643,  0.89973074,  0.14291639,  0.53535553,  0.21801353,
        0.05582776,  0.64301145,  0.56081956,  0.85771335,  0.6032354 ])
>>>
>>> b = np.array([0,5,6,9])  # indices we *don't want*
>>> mask = np.ones(a.shape,dtype=bool)
>>> mask[b] = False          # Converted to a mask array of indices we *do want*
>>> mask
array([False,  True,  True,  True,  True, False, False,  True,  True, False], dtype=bool)
>>>
>>> np.arange(a.shape[0])[mask]  #This gets you the indices that aren't in your original
array([1, 2, 3, 4, 7, 8])
>>> a[mask]  #This gets you the elements not in your original.
array([ 0.89973074,  0.14291639,  0.53535553,  0.21801353,  0.56081956,
        0.85771335])
"
7924,24524,Fetch two objects beside eachother in Django,"models.ForeignKey('DiscussionPost', null=True)
"
3594,55885,Wrapper to write to multiple streams,"import sys

def _call_for_all_streams(func_name):
    def wrapper(self, *args, **kwargs):
        result = []
        for stream in self._streams:
            func = getattr(stream, func_name)
            result.append(func(*args, **kwargs))
        return result
    return wrapper

class OStreamWrapper(object):
    def __init__(self, *streams):
        self._streams = streams

for method in filter(lambda x: not x.startswith('_'), dir(file)):
    setattr(OStreamWrapper, method, _call_for_all_streams(method))

if __name__ == '__main__':
    file1 = open(""file1.txt"", ""w"")
    file2 = open(""file2.txt"", ""w"")
    ostream = OStreamWrapper(file1, file2, sys.stdout)
    ostream.write(""ECHO!"")
    ostream.close()
"
21373,29205,Wxpython - remove tabs in application,"import wx
import wx.stc as stc
import os
import platform
import time
systemType = platform.system()
if systemType == ""Windows"":
    import win32wnet

class MainWindow(wx.Frame):
    def __init__(self, parent, id, title):

        run_params = {}
        self.run_params = run_params

        # OS dependent info
        self.run_params[""systemType""] = systemType
        if systemType == ""Windows"":
            self.run_params[""fontSize""] = 8
            self.run_params[""fontSize2""] = 7
        else:
            self.run_params[""fontSize""] = 10
            self.run_params[""fontSize2""] = 9

        wx.Frame.__init__(self, parent, id, title, size=(900, 710), style=wx.DEFAULT_FRAME_STYLE & ~ (wx.RESIZE_BORDER | 
                                                wx.RESIZE_BOX | 
                                                wx.MAXIMIZE_BOX))

        ##########################################################
        # Passed self here and removed the unnecessary second self
        ##########################################################
        self.submissions = SubmissionPane(self, run_params) 
        self.CreateStatusBar()

        menuBar = wx.MenuBar()

        self.Centre()
        self.Show()

class SubmissionPane(wx.Panel):
    ################################################
    # changed the init here
    ################################################
    def __init__(self, parent, run_params):
        wx.Panel.__init__(self, parent)

        self.parent = parent
        self.selected_folders = None
        self.params = run_params
        ################################################
        # changed the ref below
        ################################################
        self.frame = self  

        main_sizer = wx.BoxSizer(wx.VERTICAL)
        self.top_row_sizer = wx.BoxSizer(wx.HORIZONTAL);
        radio_static_box = wx.StaticBox(self, label='Some Text')
        radio_static_box_sizer = wx.StaticBoxSizer(radio_static_box, wx.HORIZONTAL)

        job_static_box = wx.StaticBox(self, label='Some Text')
        job_static_box_sizer = wx.StaticBoxSizer(job_static_box, wx.HORIZONTAL)

        '''
        radio_labels = ['Some Text', 'Some Text2']
        self.radio_box = wx.RadioBox(
                self, -1, """", 
                choices=radio_labels,
        )
        '''
        self.radio1 = wx.RadioButton(self, label='Some Text', style=wx.RB_GROUP)
        self.radio2 = wx.RadioButton(self, label='Some Text')
        self.radio1.SetValue(True)

        radio_static_box_sizer.Add(self.radio1, flag=wx.BOTTOM, border=0)
        radio_static_box_sizer.Add(self.radio2, flag=wx.LEFT, border=10)
        self.top_row_sizer.Add(radio_static_box_sizer, flag=wx.LEFT, border=10)

        self.check_box = wx.CheckBox(self, label=""Some Text"")
        self.check_box.SetValue(False)

        if self.params[""systemType""] == ""Windows"":
            self.txtTitle = wx.TextCtrl(self, style=wx.SUNKEN_BORDER, value=""Some Text..."", size=(200, -1), pos=(306, 14))
        else:
            self.txtTitle = wx.TextCtrl(self, style=wx.SUNKEN_BORDER, value=""Some Text..."", size=(200, -1), pos=(350, 19))

        job_static_box_sizer.Add(self.check_box, flag=wx.LEFT, border=0)

        self.top_row_sizer.Add(job_static_box_sizer, flag=wx.LEFT, border=10);
        self.txtTitle.Show(False)

        main_sizer.Add(self.top_row_sizer);
        main_sizer.Add((-1, 10))

        job_static_box2 = wx.StaticBox(self, label='Some Text')

        third_row_sizer = wx.StaticBoxSizer(job_static_box2, wx.HORIZONTAL);
        self.tc_files = wx.TextCtrl(self, size=(375, 25))
        self.buttonGo = wx.Button(self, label='Go')
        self.buttonGo.Bind(wx.EVT_BUTTON, self.OnSubmit)
        third_row_sizer.Add(self.tc_files, flag=wx.RIGHT, border=8)

        if self.params[""systemType""] == ""Windows"":
            third_row_sizer.Add(self.buttonGo, flag=wx.LEFT | wx.TOP, border=0)
        else:
            third_row_sizer.Add(self.buttonGo, flag=wx.LEFT | wx.TOP, border=2)

        main_sizer.Add(third_row_sizer, flag=wx.LEFT, border=10)

        self.log_text22 = wx.ListCtrl(self,size=(875,275),
                         style=wx.LC_REPORT | wx.BORDER_SUNKEN | wx.LC_SINGLE_SEL | wx.LC_VRULES | wx.LC_HRULES)

        font = wx.Font(self.params[""fontSize2""], wx.FONTFAMILY_DEFAULT, wx.FONTSTYLE_NORMAL, wx.FONTWEIGHT_NORMAL)
        self.log_text22.SetFont(font)

        self.log_text22.InsertColumn(1, '1', width=40, format=wx.LIST_FORMAT_CENTRE)
        self.log_text22.InsertColumn(2, '2', width=50, format=wx.LIST_FORMAT_CENTRE)
        self.log_text22.InsertColumn(3, '3', width=156)
        self.log_text22.InsertColumn(4, '4', width=332)
        self.log_text22.InsertColumn(5, '5', width=100, format=wx.LIST_FORMAT_CENTRE)
        self.log_text22.InsertColumn(6, '6', width=82, format=wx.LIST_FORMAT_CENTRE)
        self.log_text22.InsertColumn(7, '7', width=60, format=wx.LIST_FORMAT_CENTRE)
        self.log_text22.InsertColumn(8, '8', width=50, format=wx.LIST_FORMAT_CENTRE)

        main_sizer.Add((-1, 10))
        list_sizer = wx.BoxSizer(wx.VERTICAL)
        list_sizer.Add(self.log_text22, flag=wx.LEFT, border=10)
        main_sizer.Add(list_sizer)

        self.running_log1 = wx.stc.StyledTextCtrl(self, -1, size=(875,175))
        self.running_log1.StyleSetFont(wx.stc.STC_STYLE_DEFAULT, font)
        self.running_log1.SetMarginWidth(1, 0)
        self.running_log1.StyleSetBackground(wx.stc.STC_STYLE_DEFAULT, (0,0,0))
        self.running_log1.StyleSetForeground(wx.stc.STC_STYLE_DEFAULT, (0,255,0))
        self.running_log1.StyleClearAll()

        main_sizer.Add((-1, 5))
        list_sizer = wx.BoxSizer(wx.VERTICAL)
        list_sizer.Add(self.running_log1, flag=wx.LEFT, border=10)
        main_sizer.Add(list_sizer)

        list_sizer.Add((-1, 10))
        self.buttonClose = wx.Button(self, -1, ""Quit"")
        list_sizer.Add(self.buttonClose, flag=wx.ALIGN_CENTER | wx.TOP | wx.LEFT, border=10)

        self.SetBackgroundColour(""Light Grey"")

        self.SetSizer(main_sizer)

        self.Layout()

    def OnSubmit(self, event):
        msg = ""Running""
        jobSubmitmsg = wx.BusyInfo(msg, self)
        time.sleep(3)
        jobSubmitmsg = None

app = wx.App(redirect=False)
MainWindow(None, -1, 'Application')
app.MainLoop()
"
6713,79630,BeautifulSoup4 missing elements?,"from bs4 import BeautifulSoup

data = '''<html><body><table><tr><td>1562375XXXX</td><td>2 minutes ago</td><td class=""span10"" style=""word-wrap: break-word;"">1234567: hi honney, trust trying how to use globfone. glad u told me about this site. it will be<br />
useful to me in the future. /check globfone.com<br /></td></tr></table></body></table>'''

def grab_smss(soup):   # soup = the web page, parsed after applying
    """"""                # html_doc = html_doc.replace(""\n"", """")
    Extracts SMSs from page, in form [From, Ago, Msg]
    """"""
    sms_list = []
    in_smss = False
    [s.extract() for s in soup('br')]
    for row in soup.body.table.find_all('tr'):
        sms_row = [' '.join(unicode(subchild.string) for subchild in child) for child in row.children]
        sms_list.append(sms_row)
        if ""From Number"" in sms_row:
            in_smss = True
    return sms_list


print grab_smss(BeautifulSoup(data))
"
1679,58978,How to wait until matplotlib animation ends?,"import numpy as np
import matplotlib
import matplotlib.pyplot as plt
from multiprocessing import Process
import time # optional for testing only
import matplotlib.animation as animation

# A. First we define some useful tools:

def wait_fig(): 
    # Block the execution of the code until the figure is closed.
    # This works even with multiprocessing.
    if matplotlib.pyplot.isinteractive():
        matplotlib.pyplot.ioff() # this is necessary in mutliprocessing
        matplotlib.pyplot.show(block=True)
        matplotlib.pyplot.ion() # restitute the interractive state
    else:
        matplotlib.pyplot.show(block=True) 

    return    


def wait_anim(anim_flag, refresh_rate = 0.1):    
    #This will be used in synergy with the animation class in the example
    #below, whenever the user want the figure to close automatically just 
    #after the animation has ended.
    #Note: this function uses the controversial event_loop of Matplotlib, but 
    #I see no other way to obtain the desired result.

    while anim_flag[0]: #next code extracted from plt.pause(...)
        backend = plt.rcParams['backend']
        if backend in plt._interactive_bk:
            figManager = plt._pylab_helpers.Gcf.get_active()
            if figManager is not None:
                figManager.canvas.start_event_loop(refresh_rate)  


def draw_fig(fig = None):    
    #Draw the artists of a figure immediately.
    #Note: if you are using this function inside a loop, it should be less time 
    #consuming to set the interactive mode ""on"" using matplotlib.pyplot.ion()
    #before the loop, event if restituting the previous state after the loop.

    if matplotlib.pyplot.isinteractive():
        if fig is None:
            matplotlib.pyplot.draw()
        else: 
            fig.canvas.draw()            
    else:   
        matplotlib.pyplot.ion() 
        if fig is None:
            matplotlib.pyplot.draw()
        else: 
            fig.canvas.draw() 
        matplotlib.pyplot.ioff() # restitute the interactive state

    matplotlib.pyplot.show(block=False)
    return


def pause_anim(t): #This is taken from plt.pause(...), but without unnecessary 
                   #stuff. Note that the time module should be previously imported.
                   #Again, this use the controversial event_loop of Matplotlib. 
    backend = matplotlib.pyplot.rcParams['backend']
    if backend in matplotlib.pyplot._interactive_bk:
        figManager = matplotlib.pyplot._pylab_helpers.Gcf.get_active()
        if figManager is not None:
            figManager.canvas.start_event_loop(t)
            return
    else: time.sleep(t) 


#--------------------------

# B. Now come the particular functions that will do the job.
def f(x, y):
    return np.sin(x) + np.cos(y)


def plot_graph():
    fig = plt.figure()
    x = np.linspace(0, 2 * np.pi, 120)
    y = np.linspace(0, 2 * np.pi, 100).reshape(-1, 1)
    im = fig.gca().imshow(f(x, y))    
    draw_fig(fig)
    n_frames = 50

    #==============================================    
    #First method - direct animation: This use the start_event_loop, so is 
    #somewhat controversial according to the Matplotlib doc.
    #Uncomment and put the ""Second method"" below into comments to test.

    '''for i in range(n_frames): # n_frames iterations    
        x += np.pi / 15.
        y += np.pi / 20.
        im.set_array(f(x, y))
        draw_fig(fig)  
        pause_anim(0.015) # plt.pause(0.015) can also be used, but is slower

    wait_fig() # simply suppress this command if you want the figure to close 
               # automatically just after the animation has ended     
    '''    
    #================================================
    #Second method: this uses the Matplotlib prefered animation class.    
    #Put the ""first method"" above in comments to test it.
    def updatefig(i, fig, im, x, y, anim_flag, n_frames):
        x = x + i * np.pi / 15.
        y = y + i * np.pi / 20.
        im.set_array(f(x, y))        

        if i == n_frames-1:
            anim_flag[0] = False

    anim_flag = [True]    
    animation.FuncAnimation(fig, updatefig, repeat = False, frames = n_frames, 
         interval=50, fargs = (fig, im, x, y, anim_flag, n_frames), blit=False) 
                            #Unfortunately, blit=True seems to causes problems

    wait_fig()  
    #wait_anim(anim_flag) #replace the previous command by this one if you want the 
                     #figure to close automatically just after the animation 
                     #has ended                                                                
    #================================================           
    return

#--------------------------

# C. Using multiprocessing to obtain the desired effects. I believe this 
# method also works with the ""threading"" module, but I haven't test that.

def main() # it is important that ALL the code be typed inside 
           # this function, otherwise the program will do weird 
           # things with the Ipython or even the Python console. 
           # Outside of this condition, type nothing but import
           # clauses and function/class definitions.
    if __name__ != '__main__': return                      
    p = Process(target=plot_graph)
    p.start()
    print('hello', flush = True) #just to have something printed here
    p.join() # suppress this command if you want the animation be executed in
             # parallel with the subsequent code
    for i in range(3): # This allows to see if execution takes place after the 
                       #process above, as should be the case because of p.join().
        print('world', flush = True) 
        time.sleep(1)        

main()
"
7933,40044,Python: Bind an Unbound Method?,"bound_handler = handler.__get__(self, MyWidget)
"
16996,4326,Push an element to an array if it is not present (no duplicates),"self.users.update({""user_id"": event['userid']}, {'$addToSet': {'campaigns': UserCampaigns[i]}})
"
21724,43463,Grouping Tuples that Share Elements into Separate Lists,"def group(items):
  iterator = iter(items)
  group = [next(iterator)]
  result =[group]
  for item in iterator:
    (a, b), (c, d) = item, group[-1]
    if a in (c, d) or b in (c, d):
      group.append(item)
    else:
      group = [item]
      result.append(group)
  return result

print(group([(1,2),(2,3),(3,4),(7,8),(8,9),(2,1),(2,3),(1,4)]))
"
3018,69195,Python plot dates using matplotlib,"import csv
import matplotlib.pyplot as plt

### Making test CSV file ###
data = [['2011/12/15,5'],['2011/12/11,4'],['2011/12/19,2'],['2011/12/16,3'],['2011/12/20,8'],['2011/12/14,4'],['2011/12/10,10'],['2011/12/9,7']]
with open('test.csv', 'wb') as f:
    writer = csv.writer(f)
    for i in data:
        writer.writerow(i)


### Extract data from CSV ###
with open('test.csv', 'rb') as n:
    reader = csv.reader(n)
    dates = []
    freq = []
    for row in reader:
        values = row[0].split(',')
        dates.append(values[0])
        freq.append(values[1])          


### Do plot ###
false_x = [x for x in range(len(dates))]
plt.plot(false_x,freq, 'o-')
plt.xticks(range(len(dates)), (dates), rotation=45)
# plt.axis([xmin, xmax, ymin, ymax]) - sets axes limits on graph
plt.axis([-1, 8, 0, 11])
plt.show()
"
23965,18870,Mocking Googleads for Unit Tests,"import unittest
import mock


class TestCaseName(unittest.TestCase):

    @mock.patch('path_to_module.AdWordsClient', autospec=True)
    @mock.patch('path_to_module.GoogleRefreshTokenClient', autospec=True)
    @mock.patch('path_to_module.tz', autospec=True)
    def test_get_account_timezone(self, tz_mock, adwords_client_mock, grefresh_token_client_mock):
        adwards_client_instance = mock.Mock()
        adwords_client_mock.return_value = test_get_account_timezone
        instance = AdWords(...)
        instance.get_account_timezone()
        adwards_client_instance.GetService.assert_called_with(...)
"
23545,56172,How to display tiff file in color?,"img = plt.imread('latest_0013679_caz.tiff')
plt.imshow(img[:, :, 0], cmap=plt.cm.coolwarm)
"
1380,78021,Python: how to create dictionary from lists with only certain values using a for loop?,"C = {}
dist_km=[]
returned_values=[]

for row in product(zip(latA, longA), zip(latB, longB)):
    e=(list(chain(*row)))
    distance= distance_function(e[0],e[1],e[2],e[3])
    dist_kilo=(distance*6373)
    dist_km.append(dist_kilo)

    if dist_kilo<1.01: 
        C  ={
            ""clat"":row[0][0],
            ""clong"": row[0][1],
            ""tlat"":row[1][0],
            ""tlong"": row[1][1],
            ""distance_km"": dist_kilo
        }
        returned_values.append(C)
"
12166,81445,Django restframework: Validate a related field with a list of IDs,"def validate_parkings(self, value):
    user_parkings = set(self.context['request'].user.parkings.all())
    post_parkings = set(value)
    if not post_parkings.issubset(user_parkings):
        raise serializers.ValidationError(""parking doesn't belong to you"")
    return value
"
6927,31166,Better way of merging two json strings in Python for ansible callback_plugin,"res = {""cmd"": ""echo \""Hello World\"" "", ""end"": ""2014-08-01 19:32:38.714584"", ""stdout"": ""Hello World"", ""changed"": True, ""start"": ""2014-08-01 19:32:38.707510"", ""delta"": ""0:00:00.007074"", ""stderr"": """", ""rc"": 0, ""invocation"": {""module_name"": ""shell"", ""module_args"": ""echo \""Hello World\""""}}

def json_log(res, host):
    if isinstance(res,dict) and 'verbose_override' not in res:  
           res.update({""host"": host})        
           combined_json  = JSONEncoder().encode(res)
           print(combined_json)

In [73]: json_log(res,""centos"")
{""cmd"": ""echo \""Hello World\"" "", ""end"": ""2014-08-01 19:32:38.714584"", ""stdout"": ""Hello World"", ""changed"": true, ""rc"": 0, ""start"": ""2014-08-01 19:32:38.707510"", ""host"": ""centos"", ""stderr"": """", ""delta"": ""0:00:00.007074"", ""invocation"": {""module_name"": ""shell"", ""module_args"": ""echo \""Hello World\""""}}
"
23152,71955,Finding string between 2 specific character,"s = ""C:\level1\level2\level3\level4\level5\level6\level7""
l = s.split('\\')
print l[4], l[5]
"
2953,12520,Split IPython Magic Shell Multiple Lines,"In [1]: !ls \
   ...: *.txt
aws-forum.txt  encyclic.txt

In [2]: 
"
11299,61844,Python: Non repeating random values from list,"
In [13]: ""+"".join(random.sample(sentences,3))
Out[13]: 'a+b+c'
"
10848,47701,Gensim LDA - Default number of iterations,"def __init__(self, corpus=None, num_topics=100, id2word=None,
                 distributed=False, chunksize=2000, passes=1, update_every=1,
                 alpha='symmetric', eta=None, decay=0.5, offset=1.0,
                 eval_every=10, iterations=50, gamma_threshold=0.001)
"
35486,37343,prevent sphinx from executing inherited doctests,"def _dont_doctest_inherited_docstrings(docstring):
    docstring_disabled = """"
    for line in docstring.splitlines():
        docstring_disabled += line + ""#doctest: +DISABLE""
    return docstring_disabled

class _frommethod:
    """"""
    Adapted from numpy.ma._frommethod
    """"""

    def __init__(self, func_name):
        self.__name__ = func_name
        docstring = getattr(MaskedArray, func_name).__doc__
        self.__doc__ = _dont_doctest_inherited_docstrings(docstring)
        self.obj = None
"
18706,49280,match a substing in a list of substrings,">>> HOSTS = ['backup-ros', 'backupa-files', 'print-server1','print-server2']
>>> backups = [x for x in HOSTS if x.startswith('backup-')]
>>> backups
['backup-ros']
"
23137,33836,LXML itertree parsing tag information,">>> elem.tag
'line'
>>> elem.get('number')
'2'
>>> elem.text
'Line 3'`
"
33491,76828,Django - Database design for many to many relationship involving an attribute of the relationship,"class Page:
   #attributes

class Questions:
   #attributes
   pages = models.ManyToManyField(through = 'PageQuestions', ...)

class PageQuestions:
    page = models.ForeignKey(Page)
    question = models.ForeignKey(Question)
    ordinal_number = models.IntegerField()

    class Meta:
        unique_together = (('page', 'question')) #optional
"
14351,71643,python open config file located inside the package,"import pkg_resources
my_data = pkg_resources.resource_string(__name__, ""config.yml"")
"
24543,23331,Opening vi from Python,"import os, subprocess, tempfile
f, fname = tempfile.mkstemp()
f.write('default')
f.close()
cmd = os.environ.get('EDITOR', 'vi') + ' ' + fname
subprocess.call(cmd, shell=True)
with open(fname, 'r') as f:
    #read file
os.unlink(fname)
"
3861,31453,Is it possible to create a nested function with state in Python?,"def main_func()
    ...
    def callback():
        current_time = time.time()
        if current_time - callback.start_time > 1.0:
            print 'working'
            callback.start_time = time.time()
    callback.start_time = time.time()
    work_function(args, callback)
"
16126,12069,Pandas - Indexing dataframes created with aggregator like .sum(),"In [2]:

df = pd.DataFrame({'Recipient_State':['AL', 'AR', 'AZ','CA','CO'], 'Total_Amount_of_Payment_USDollars':np.random.randn(5)})
df
Out[2]:
  Recipient_State  Total_Amount_of_Payment_USDollars
0              AL                           0.401242
1              AR                           1.333060
2              AZ                          -0.515762
3              CA                           0.740358
4              CO                          -0.900249
In [3]:

gp = df.groupby('Recipient_State')['Total_Amount_of_Payment_USDollars'].sum()
gp
Out[3]:
Recipient_State
AL                 0.401242
AR                 1.333060
AZ                -0.515762
CA                 0.740358
CO                -0.900249
Name: Total_Amount_of_Payment_USDollars, dtype: float64
In [4]:

gp.index
Out[4]:
Index(['AL', 'AR', 'AZ', 'CA', 'CO'], dtype='object')
In [5]:

gp.reset_index()
Out[5]:
  Recipient_State  Total_Amount_of_Payment_USDollars
0              AL                           0.401242
1              AR                           1.333060
2              AZ                          -0.515762
3              CA                           0.740358
4              CO                          -0.900249
"
16579,15949,python element-wise multiplication of two lists,"[a*b for a,b in zip(lista,listb)]
"
11650,4236,Python XML Parsing with ElementTree,"import elementtree.ElementTree as ET

def getCVE(nessus_file):
try:
    tree = ET.parse(nessus_file)
    doc = tree.getroot()
    walk = doc.getiterator('cve')
    for cve in walk:
        print cve.text
except:
    pass

getCVE('file.nessus')
"
27521,29184,"Starting an http request, but dropping out if no response after a certain time","urllib2.urlopen(url[, data][, timeout])
"
15897,32651,Adding up time durations in Python,">>> import datetime
>>> d1 = datetime.datetime.strptime(""00:08:30.291"", ""%H:%M:%S.%f"")
>>> d1
datetime.datetime(1900, 1, 1, 0, 8, 30, 291000)
>>> d2
datetime.datetime(1900, 1, 1, 0, 2, 30, 291000)
>>> dt1 = datetime.timedelta(minutes=d1.minute, seconds=d1.second, microseconds=d1.microsecond)
>>> dt2 = datetime.timedelta(minutes=d2.minute, seconds=d2.second, microseconds=d2.microsecond)
>>> fin = dt1 + dt2
>>> fin
datetime.timedelta(0, 660, 582000)
>>> str(fin)
'0:11:00.582000'
"
459,80776,Python Window Activation,"import win32gui
import re

class WindowMgr:
    """"""Encapsulates some calls to the winapi for window management""""""
    def __init__ (self):
        """"""Constructor""""""
        self._handle = None

    def find_window(self, class_name, window_name = None):
        """"""find a window by its class_name""""""
        self._handle = win32gui.FindWindow(class_name, window_name)

    def _window_enum_callback(self, hwnd, wildcard):
        '''Pass to win32gui.EnumWindows() to check all the opened windows'''
        if re.match(wildcard, str(win32gui.GetWindowText(hwnd))) != None:
            self._handle = hwnd

    def find_window_wildcard(self, wildcard):
        self._handle = None
        win32gui.EnumWindows(self._window_enum_callback, wildcard)

    def set_foreground(self):
        """"""put the window in the foreground""""""
        win32gui.SetForegroundWindow(self._handle)

w = WindowMgr()
w.find_window_wildcard("".*Hello.*"")
w.set_foreground()
"
20381,1889,"lstrip(), rstrip() for lists",">>> L = [0, 0, 1, 1, 2, 2, 0]
>>> list(itertools.dropwhile(lambda x: x == 0, L))
[1, 1, 2, 2, 0]
"
11427,61250,PostgreSQL how to append multiple results of execute query?,"create or replace function func1(listof_id integer[])
  returns setof func_type as
$body$  

x = []
for item in listof_id:
    query = ""select {0} as x, {0} * 2 as y, {0} * 3 as z, {0} * 4 as zz"".format(item)
    result_set = plpy.execute(query)
    x.extend([[l['x'], l['y'], l['z'], l['zz']] for l in result_set])

return x
$body$ language plpythonu
;

select * from func1(array[1,2]);
 x | y | z | zz 
---+---+---+----
 1 | 2 | 3 |  4
 2 | 4 | 6 |  8
"
35005,35897,How to process information from multiple lines in python?,"with open(""input.txt"") as f:
    lastmarkedline = None
    for line in f:
        if line.startswith('>'):
            lastmarkedline = line
        elif lastmarkedline is not None:
            field1 = lastmarkedline.split()[1]
            field2 = line.split()[1]
            print ""{0}\t{1}"".format(field1, field2)
"
20092,59747,How to compare two strings with the same letter and different number?,">>> 's1' > 's2'
False
>>> 's1' < 's2'
True
"
1166,43187,python array.array with strings as data type,"def list_to_string(lst):
    return ""\0"".join(l) + ""\0""

def string_to_list(s):
    return s.split(""\0"")[:-1]
"
22532,80678,Sum intersection of two lists in Python,"res = [
    e +  # filter list itself
    [
        sum( # sum all
            l[4]  # get fourth item if contains all
            for l in data  # take each element of data
            if all(i in l for i in e)  # check if contains all filter list
        )
    ]  # concat sum to list itself
    for e in ls  # take each element of filter list 
]
"
15163,65269,How to address an earlier element in a list/string with for?,"for i, each in enumerate(test_text):
    print each, test_text[i-5]
"
2730,21988,What's a good way to handle url parameters types?,"def param_type(**type_spec):
    def deco(f):
        def view(request, **kwargs):
            for k, type_ in type_spec.items():
                kwargs[k] = type_(kwargs[k])
            return f(request, **kwargs)
        return view
    return deco

@param_type(number=int)
def double(request, number=42):
    return HttpResponse(2*number)
"
2468,2896,Trouble with curve fitting - matplotlib,"import matplotlib.pyplot as plt
import numpy as np
from numpy.random import normal
from scipy.optimize import curve_fit

x_data = np.linspace(0, 2*np.pi, 30)
y_data = np.sin(x_data) + normal(0, 0.2, 30)


def func(x, a, b, c, d):
    return a * np.sin(b*x + c) + d

parameter, covariance_matrix = curve_fit(func, x_data, y_data)

x = np.linspace(min(x_data), max(x_data), 1000)
plt.plot(x_data, y_data, 'rx', label='data')
plt.plot(x, func(x, *parameter), 'b-', label='fit')   # the star is to unpack the parameter array
plt.show()
"
10128,41026,Read CSV file with comma within fields in Python,">>> s = StringIO.StringIO('1, ""text1,text2"", ""text3, text4"", a, b, c')
>>> list(csv.reader(s, skipinitialspace=True))
[['1', 'text1,text2', 'text3, text4', 'a', 'b', 'c']]
"
12924,63455,Python and HTMLParser.handle_data() - How to get data from tags?,"html_code = urllib2.urlopen(""xxx"")
html_code_list = html_code.readlines()
data = """"
for line in html_code_list:
    line = line.strip()

    if line.startswith(""<h2""):
       data = data+line

hp = MyHTMLParser()
hp.feed(data)
hp.close()
"
4042,56922,Select values in Pandas groupby dataframe that are present in n previous groups,"def filter_unique(df, n):
    data_by_date = df.groupby('date')['ID'].apply(lambda x: x.tolist())

    filtered_data = {}
    previous = []
    for i, (date, data) in enumerate(data_by_date.items()):
        if i >= n:
            if len(previous)==1:
                filtered_data[date] = list(set(previous[i-n]).intersection(data))
            else:
                filtered_data[date] = list(set.intersection(*[set(x) for x in previous[i-n:]]).intersection(data))
        else:
            filtered_data[date] = data
        previous.append(data)

    result =  pd.DataFrame.from_dict(filtered_data, orient='index').stack()
    result.index = result.index.droplevel(1)

filter_unique(df, 2)

1/31/15     2
1/31/15     3
1/31/15     4
11/30/14    1
11/30/14    2
11/30/14    3
12/31/14    2
12/31/14    3
2/28/15     1
2/28/15     3
3/31/15     1
3/31/15     4
4/30/15     4
4/30/15     5
"
36612,10255,removing part of a string (up to but not including) in python,">>> a = 'xyz-abc'
>>> a.find('-')  # return the index of the first instance of '-'
3
>>> a[a.find('-'):]   # return the string of everything past that index
'-abc'
"
19320,69957,Search for string in text file in-between two key words,"text=""""""<script type=""text/javascript"" language=""JavaScript"">
ArtistName = ""FUN."";
SongName = ""We Are Young"";
</script> """"""

import re

print dict(re.findall(r'((?:Artist|Song)Name)\s=\s""([^""]*)""', text))
# {'ArtistName': 'FUN.', 'SongName': 'We Are Young'}
"
11097,13376,Normalize different date data into single format in Python,">>> s = """"""12/31/1991
... December 10, 1980
... September 25, 1970
... 2005-11-14
... December 1990
... October 12, 2005
... 1993-06-26""""""

>>> from dateutil import parser
>>> for i in s.splitlines():
...     d = parser.parse(i)
...     print(d.strftime(""%Y-%m-%d""))
...
1991-12-31
1980-12-10
1970-09-25
2005-11-14
1990-12-10
2005-10-12
1993-06-26
"
36576,62645,How do I add a placeholder on a CharField in Django?,"q = forms.CharField(label='search', 
                    widget=forms.TextInput(attrs={'placeholder': 'Search'}))
"
35586,8324,Create an object of another class python,"# in student.py
class Student:
    Id=""""

    def __init__(self, Id):
        self.Id = Id

# in main.py, assume main.py and student.py are in the same folder.
def main():
    from student import Student
    print(""is workign"")
    temp =  Student(""50"")  ## I want to create the object of class Student and send an attribute

if __name__ == '__main__':
    main()
"
15917,54789,Python automatically simplifies floats to ints during set construction,">>> 1 == 1.0
True
>>> hash(1) == hash(1.0)
True
"
25823,16874,List of JSON records into Pandas Panel?,"In [11]: pd.Panel(dict(enumerate([pd.DataFrame(x) for x in data])))
Out[11]:
<class 'pandas.core.panel.Panel'>
Dimensions: 2 (items) x 2 (major_axis) x 2 (minor_axis)
Items axis: 0 to 1
Major_axis axis: buy to sell
Minor_axis axis: eurcny to eurusd

In [12]: pd.Panel(dict(enumerate([pd.DataFrame(x) for x in data])), items=['buy', 'sell'], major_axis=[0, 1], minor_axis=['eurusd', 'eurcny'])
Out[12]:
<class 'pandas.core.panel.Panel'>
Dimensions: 2 (items) x 2 (major_axis) x 2 (minor_axis)
Items axis: buy to sell
Major_axis axis: 0 to 1
Minor_axis axis: eurusd to eurcny
"
28660,64759,How can I display my code input alongside code output like I see on stackoverflow answers?,"bash-3.2$ python
Python 2.7.5 (default, Mar  9 2014, 22:15:05) 
[GCC 4.2.1 Compatible Apple LLVM 5.0 (clang-500.0.68)] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> mylist = [x*x for x in range(3)]
>>> for i in mylist:
...     print i
... 
0
1
4
>>> exit()
bash-3.2$ 
"
19082,35849,Converting (and back) discontinuous values to continuous values in Python 2,"lst = [5, 10, 10, 20, 50, 50, 20]

# Convert (and build reverse mapping)
mapping = {}
reverse_mapping = {}
conv = []
for i in lst:
    v = mapping.setdefault(i, len(mapping))
    reverse_mapping[v] = i
    conv.append(v)

# Convert back
back = [reverse_mapping[v] for v in conv]
"
39100,16091,Put checkboxes with files and folders in a directory using wxPython GUI toolkit,"import os
import wx
import wx.lib.agw.hypertreelist as HTL

class MyFrame(wx.Frame):

def __init__(self, parent):

    wx.Frame.__init__(self, parent, -1, pos = (0,0), size=(700, 900), title= ""HyperTreeList Demo"")


    # ------------------------------------------
    # Algo for creating Files' List Starts here
    # ------------------------------------------
    allFiles = []       
    for root, dirs, files in os.walk(""D:\\DIRECTORY"", topdown = True):  
        for name in files:  
            location = os.path.join(root, name)                 
            allFiles.append(location)       

    treeList= HTL.HyperTreeList(self, agwStyle= wx.TR_DEFAULT_STYLE| 0x4000 )
    treeList.AddColumn(""List View"")
    treeList.SetColumnWidth(0, 600)

    TLRoot = treeList.AddRoot (""D:"", ct_type= 1)
    allDirs = []
    allDirsItem = []
    allDirs.append (""D:"")
    allDirsItem.append(TLRoot)


    # --------------------------------------
    # Algo for filling Tree List Starts here
    # --------------------------------------
    for eachName in allFiles:
        nameSplit = eachName.split(os.sep)
        matchingDirFound = 0

        lenNS= len(nameSplit)    
        i=lenNS -1
        for eachNameSplit in reversed(nameSplit):       
            for eachDoneDir in reversed(allDirs):
                if eachNameSplit == eachDoneDir:
                    matchingDirFound = 1
                    break     

            if matchingDirFound == 1: 
                break   
            i= i-1              

        if matchingDirFound ==1:
            for k in range(i, lenNS-1):
                allDirsItem.append([])
                allDirsItem[k+1] = treeList.AppendItem (allDirsItem[k], nameSplit[k+1], ct_type= 1)

                if len(allDirs)> k+1:
                    allDirs[k+1] = nameSplit[k+1]
                else:
                    allDirs.append (nameSplit[k+1])
"
19764,54906,importing modules' files into submodules,"from .. import myFile2
"
36033,20267,Modify loading website html code with Selenium,"PROXY = ""127.0.0.1:4321""

webdriver.DesiredCapabilities.CHROME['proxy'] = {
    ""httpProxy"":PROXY,
    ""ftpProxy"":PROXY,
    ""sslProxy"":PROXY,
    ""socksProxy"":None #You probably don't want this
    ""proxyType"":""MANUAL"",
}
driver = webdriver.Chrome()
"
36898,45656,Why is python shell not printing,"def donuts(count):
    if count < 10:
     return 'Number of donuts: ' + str(count)
    else: return 'Number of donuts: many'

print donuts(8)
"
22099,26305,How can I interact with rather long python scripts?,"import pdb; pdb.set_trace()
"
7383,62714,execute 'ls' command as a different User within python script,"def my_preexec_fn():
    os.setuid(10033)
process = subprocess.Popen(cmdstr,stdout=subprocess.PIPE, stderr=subprocess.STDOUT, preexec_fn=my_preexec_fn)
"
9547,51495,Pandas Single Timestamp with index of offsets,"print df
   Time  Input A
0     0   3.3337
1   500   3.3096
2  1001   3.3044
3  1501   3.3630
4  2004   3.2822
5  2504   3.3335

d = pd.to_datetime('Tue Mar 08 11:20:40 EST 2016')
print d
2016-03-08 11:20:40

print df['Time'].apply(lambda x: pd.offsets.Milli(x) + d )
0   2016-03-08 11:20:40.000
1   2016-03-08 11:20:40.500
2   2016-03-08 11:20:41.001
3   2016-03-08 11:20:41.501
4   2016-03-08 11:20:42.004
5   2016-03-08 11:20:42.504
Name: Time, dtype: datetime64[ns]
"
20731,30052,Python Flask Intentional Empty Response,"return ('', 204)
"
37786,3025,Python make simple string computation,">>> a = ""9300.1 9600.6 9300.2 9300.1 9600.5 9600.7""
>>> b = a.split()
>>> adict = {}
>>> for item in b:
        index = item.find('.')
        ast = item[:index]
        bst = item[index + 1:]
        if ast in adict:
            adict[ast] = adict[ast] + int(bst)
        else:
            adict[ast] = int(bst)
>>> adict
{'9600': 18, '9300': 4}
>>> c = ''
>>> for item in adict.keys():
        c += '.'.join([item, str(adict[item])])
        if item != adict.keys()[-1]:
            c += "" ""    
>>> c
'9600.18 9300.4'
"
17116,4170,Python - get all permutation of a list w/o repetitions,">>> from itertools import combinations
>>> lis = [1,2,3,4]
for i in xrange(1, len(lis)+1):  #xrange will return the values 1,2,3,4 in this loop
    print list(combinations(lis, i))
...     
[(1,), (2,), (3,), (4,)]
[(1, 2), (1, 3), (1, 4), (2, 3), (2, 4), (3, 4)]
[(1, 2, 3), (1, 2, 4), (1, 3, 4), (2, 3, 4)]
[(1,2,3,4)]
"
3990,66116,How can I open a file from a location that everyone has but under a different name?,"import os
subpath =""filedir/filename.txt""
print os.path.join(os.getenv(""LOCALAPPDATA""), subpath)
"
17454,76562,List of all functions used in python program as string,">>> def foo():
...     pass
... 
>>> def bar():
...     pass
... 
>>> import inspect
>>> [member.__name__ for member in globals().values() \
...                  if inspect.isfunction(member)]
['bar', 'foo']
"
10274,60064,Python2.7: Saving executed program steps and read them one by one,"directions = []
directions.append('forward')
#execute command here
directions.append('right')
#execute command here then turn car 180 degrees
#at this point directions = ['forward', 'right'] now you need to just pop the commands to execute
issueCommand(directions.pop()) #sends 'right'
issueCommand(directions.pop()) #sends 'forward'
"
36138,69419,Avoid Circular Model Imports in Django Apps,"tags = models.ManyToManyField('tags.Tag', ...)
"
15463,79741,How to create a multidimensional list from list with Python Numpy?,">>> np.column_stack((a, b))
array([[ 1,  6],
       [ 2,  7],
       [ 3,  8],
       [ 4,  9],
       [ 5, 10]])
"
12609,16493,How to implement Circular Permutation (left and right shift) of CSR_Matrix in Scipy Python Sparse Matrices?,"from scipy.sparse import csr_matrix
rows = [0, 0, 0]
columns = [100, 47, 150]
data = [-1, +1, -1]
m = csr_matrix( (data,(rows, columns)), shape=(1, 300) )

indices = m.indices

# right permutation
m.indices = (indices + 1) % m.shape[1]

# left permutation
m.indices = (indices - 1) % m.shape[1]
"
37608,52256,utf-8 coding in python gui,"if language == ""hun"":
    LOGIN_LABEL_USERNAME_STR                    = u'Felhasználó'
    LOGIN_LABEL_PASSWORD_STR                    = u'Jelszó'
"
5110,8840,Graph and ipywidget cannot be in same code cell when using %matplotlib notebook,"import matplotlib.pyplot as plt
from matplotlib.patches import Circle
from IPython.display import display
%matplotlib notebook

fig = plt.figure(figsize=(6, 6))
ax1 = plt.subplot(111, aspect='equal')
ax1.set_xlim(-5,5)
ax1.set_ylim(-5,5)
circ = Circle((0,0), radius=1)
ax1.add_patch(circ)

def change_radius(r=1):
    circ.set_radius(r)
    display(fig)

from ipywidgets import interact
interact(change_radius, r=(1.0, 5))
"
27753,22333,How to check if list variable exists in python mako template?,"% if mydict.get('somekey'):
    ${mydict['somekey'][0]['hellothere']}</td></tr>
% endif
"
1898,15303,Procedure for explicit type conversion in python from a float to int,"import math
int(math.round((((year2 - year1) * 12) + (month2 - month1)) * 30.4375 + (day2 - day1)))
"
15421,34231,Create Array of found words in Python,"words = set(message.split("" ""))
result = [int(word in words) for word in terms]
"
29355,61717,Setting and getting variables in .Net hosted IronPython script,"        var engine = Python.CreateEngine();
        var scope = engine.CreateScope();
        scope.SetVariable(""foo"", 42);
        engine.Execute(""print foo; bar=foo+11"", scope);
        Console.WriteLine(scope.GetVariable(""bar""));
"
16667,83598,How to break this line properly to match PEP 8 style guide?,"training_data_without_sports, test_data_without_sports, feature_cols_all = (
    divide_data('../data/feature_without_sports.csv', training_ratio))
"
31509,40159,input variable into python call subprocess,"call(['function1', file1,  file2,  'data.labels=%s' % input])
"
9775,23077,Convert all objects in a list to a child class.,"def parent_to_child(parent):
    newchild= child()
    newchild.property= parent.property
    #...

list_of_children= map(parent_to_child, list_of_parents)
"
39300,15651,How to use mako template for divide?,">>> from mako.template import Template
>>> print Template(""${a/b}"").render(a=1, b=2)
0
>>> print Template(""${a/b}"", future_imports=['division']).render(a=1, b=2)
0.5
>>> print Template(""${'{0:.2f}'.format(a/b)}"", future_imports=[""division""]).render(a=1, b=2)
0.50
"
18928,13865,Data not passing back to Pandas from nested function,"def Fin_adj(row, field):
    if field == 'Cr':
        if row[field] <= .7:
            return Range_eval(row[field],0.,.69,.0,.25)
        elif row[field] <= .9:
            return Range_eval(row[field],.7,.89,.25,.5)
        elif row[field] <= 1.1:
            return Range_eval(row[field],.9,1.10,.9,.95)
        elif row[field] <= 1.5:
            return Range_eval(row[field],1.1,1.49,.95,1)
        elif row[field] <= 3.:
            return 1
        else:
            return Range_eval(row[field],3.,df[field].max(),.95,1)

def Range_eval (val_in, Oldmin, Oldmax, Newmin, Newmax):
    return (((val_in - Oldmin) * (Newmax - Newmin)) / (Oldmax - Oldmin)) + Newmin
"
14434,27826,Is it safe to mix readline() and line iterators in python file processing?,"with open('myfile.txt') as f:
    try:
        header = next(f)
    except StopIteration as e:
        print ""File is empty""
    for line in f:
        # do stuff with line
"
21057,72151,Python unicode errors while writing to file,"        import sys
        reload(sys)
        sys.setdefaultencoding('utf8')
"
37609,45949,Finding the largest power of 2?,"def largestPowerOfTwoThatIsAFactorOf(num):
    if num % 2 != 0: return 1
    factor = 0
    while num % 2 == 0:
        num /= 2
        factor += 1
    return 2 ** factor
    ## or return factor; as per your requirement
"
23306,52600,In python is there an easier way to write 6 nested for loops?,"from itertools import product
for y, x in product(range(3), repeat=2):
  do_something()
  for y1, x1 in product(range(3), repeat=2):
    do_something_else()
"
22686,9020,Fastest way to create a numpy array from text file,"points = []
for line in file:
    x,y = eval(line)
    points.append((x,y))
result = np.array(points)
"
17600,7636,Using Praw how do you get comment linked by a URL,"def getObjectFromLink(url):
    global r
    obj=praw.objects.Submission.get_info(r, url)
    if len(url.split('/'))==6:
        return obj
    else:
        return obj.comments[0]
"
9179,33553,Variable elimination in Z3,"(set-option :auto-config false)
(declare-const x Int)
(declare-const y Int)
(assert (or (= x 1) (= y 1)))
(check-sat)
(get-model)
"
13936,53188,Resampling Pandas Series with integer index (add missing index),"max_range = max(s.index) + 1
s = s.reindex(index=range(1, max_range), fill_value=0)
"
6840,4153,Parsing C Structs in Python,"# Setup test data based on incomplete sample
bytes = ""\x16\x00\x00\x00\xdc\x5a\x9f\xd2\x31\x04\xca\x01\xba\x81\x89\x1a\x81\xe2\xcd\x01\xba\x81\x89\x1a\x81\xe2\xcd\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x24\x00\x52\x00\x65\x00\x63\x00\x79\x00\x63\x00\x6c\x00\x65\x00\x2e\x00\x42\x00\x69\x00\x6e\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00""
bytes = bytes + ""\x00""*(592-len(bytes))

import struct
import codecs

# typedef struct _WIN32_FIND_DATA {
#   DWORD    dwFileAttributes;
#   FILETIME ftCreationTime;
#   FILETIME ftLastAccessTime;
#   FILETIME ftLastWriteTime;
#   DWORD    nFileSizeHigh;
#   DWORD    nFileSizeLow;
#   DWORD    dwReserved0;
#   DWORD    dwReserved1;
#   TCHAR    cFileName[MAX_PATH];
#   TCHAR    cAlternateFileName[14];


fmt = ""<L3Q4L520s28s""

attrs, creation, access, write, sizeHigh, sizeLow, reserved0, reserved1, name, alternateName = struct.unpack(fmt, bytes)
name = codecs.utf_16_le_decode(name)[0].strip('\x00')
alternateName = codecs.utf_16_le_decode(alternateName)[0].strip('\x00')
print name
"
22592,43650,Convert python codec to text,"import sys
outfile = 'file path'

with open(outfile, 'r') as f:
    lines = f.readlines()
    for line in lines:
        sys.stdout.write(line)
"
37805,48559,Assigning a Variable to a String - Print String while maintaining Value,"cardValue = { 'J': 11, 'Q': '12', 'K': 13, 'A': 14}
def getCardValue(c)
    return cardValue[c] if c in cardValue else c

while i <= len(aDeck):
    print(""Player A: {}\nPlayer B: {}"".format(aDeck[i],bDeck[i]))
    cardA = getCardValue(aDeck[i])
    cardB = getCardValue(bDeck[i])
    if  cardA > cardB:
        print(""Player A wins!\n"")
    elif cardA < cardB:
        print(""Player B wins!\n"")
    else:
        print(""It's a tie!\n"")
    i += 1
"
16910,49425,Loading bigger than memory hdf5 file in pyspark,"h5file_path=""/absolute/path/to/file""

def readchunk(v):
    empty = h5.File(h5file_path)
    return empty['/mydata'][v,:]

foo = sc.parallelize(range(0,100)).map(lambda v: readchunk(v))
foo.count()
"
8212,33427,Quick checkup on python list comprehension,"[i for i in xrange(no_jobs) for x in xrange(T)]
"
36215,13155,How can I read a block from a binary file and extract structs using unpack using Python or Perl?,"#!/usr/bin/env perl

use strict; use warnings;
use autodie;

use Fcntl qw(:seek);
use List::Util qw( sum );

my ($input_file) = @ARGV;
die ""Need input file\n"" unless defined $input_file;

my $HEADER_SIZE = 4_096;

my @typedef = (
    {
        fields => [
            qw(
                TS_INCR_LO
                TS_INCR_HI
                SEQID
                OP
                LUN
                NBLKS
                LBA_LO
                LBA_HI
            )
        ],
        tmpl => 'LLLSSLLL',
        start => 0,
        size => 28,
    },
    {
        fields => [
            qw(
                TS_INCR_LO
                TS_INCR_HI
                SEQID
                OP
                LUN
                LATENCY_TICKS
                HOST_ID
                HOST_LUN
            )
        ],
        tmpl => 'LLLSSLSS',
        start => 28,
        size => 24,
    },
);

open my $input, '<:raw', $input_file;

seek $input, $HEADER_SIZE, SEEK_SET;

my $BLOCK_SIZE = sum map $_->{size}, @typedef;
read $input, my($buffer), $BLOCK_SIZE;

my @structs;

for my $t ( @typedef ) {
    my %struct;
    @struct{ @{ $t->{fields}} } = unpack(
        $t->{tmpl},
        substr($buffer, $t->{start}, $t->{size})
    );
    push @structs, \%struct;
}

use Data::Dumper;
print Dumper \@structs;
"
12252,54880,How do I open Excel Application using xlrd or xlwt?,"# Note, your path probably differs
subprocess.call(r""C:\Program Files\Microsoft Office\Office12\EXCEL.exe"")

# The script will wait until Excel is closed and then continue
"
6553,68075,Convert function arguments that are floats to numpy array,"import numpy as np

def f(*args, **kwargs):
  length = kwargs.get(""length"", 1)
  ret = []
  for arg in args:
    if isinstance(arg, (float, int)):
      ret.append(np.repeat(arg, length))
    else:
      ret.append(arg)
  return tuple(ret)

print f(1, 2, length=4)
"
20259,23576,"gtk.Builder, container subclass and binding child widgets","class MyDialog(gtk.Dialog, gtk.Buildable):
    __gtype_name__ = ""MyDialog""

    def do_parser_finished(self, builder):
        self.treeview = builder.get_object(""treeview1"")
        # Do any other associated post-initialization
"
8062,60016,parallel generation of random forests using scikit-learn,"def combine(all_ensembles):
    """"""Combine the sub-estimators of a group of ensembles

        >>> from sklearn.datasets import load_iris
        >>> from sklearn.ensemble import ExtraTreesClassifier
        >>> iris = load_iris()
        >>> X, y = iris.data, iris.target

        >>> all_ensembles = [ExtraTreesClassifier(n_estimators=4).fit(X, y)
        ...                  for i in range(3)]
        >>> big = combine(all_ensembles)
        >>> len(big.estimators_)
        12
        >>> big.n_estimators
        12
        >>> big.score(X, y)
        1.0

    """"""
    final_ensemble = copy(all_ensembles[0])
    final_ensemble.estimators_ = []

    for ensemble in all_ensembles:
        final_ensemble.estimators_ += ensemble.estimators_

    # Required in old versions of sklearn
    final_ensemble.n_estimators = len(final_ensemble.estimators_)

    return final_ensemble
"
2410,65506,"Function in python that justifies string (to either left, center or right)","def justify(s, pos):
    if len(s)<=70:
        if pos == l:
            print 30*' ' + s
        elif pos == c:
            print ((70 - len(s))/2)*' ' + s
        elif pos == r:
            #you missed it here...
            print (40 - len(s))*' ' + s
        else:
            print('You entered invalid argument-(use either r, c or l)')
    else:
        print(""The entered string is more than 70 character long. Couldn't be justified."")
"
36654,69746,How to add equation of a line onto a plot in python,"text(0, 1,'matplotlib', horizontalalignment='center',
     verticalalignment='center',
     transform=ax.transAxes)
"
36501,41901,"Creating Pandas Dataframe between two Numpy arrays, then draw scatter plot","import numpy as np
import pandas as pd
x = np.random.randn(5)
y = np.sin(x)
df = pd.DataFrame({'x':x, 'y':y})
df.plot('x', 'y', kind='scatter')
"
31140,24161,Finding the index values where a certain value occurs in an array in Python,">>> l = np.array([-3, -2, -1, 0, 1, 2, 3, 4, 3, 2, 1, 0, -1, -2, -3, 4, -3, -2, -1, 0, 1, 2])
>>> epsilon = 1
>>> inds = np.argwhere(np.abs(l) < epsilon) # indices of “almost zero” items
>>> left = inds[0] # index of the first “almost zero” value
>>> right = inds[-1] # -//- last
>>> l[:left + 1] = 0 # zero out everything to the left and including the first “almost zero”
>>> l[right:] = 0 # -//- last
>>> l
  >
array([ 0,  0,  0,  0,  1,  2,  3,  4,  3,  2,  1,  0, -1, -2, -3,  4, -3,
   -2, -1,  0,  0,  0])
"
35763,58577,Sympy expression as ratio of polynomials,">>> (1/1/1/1/x + 2/(1+1/x)).normal()
(2*x**2 + x + 1)/(x*(x + 1))
"
38545,57458,Make sorted representation of dict of lists,"dic = {'p1':[0,0,0,0,7], 'p2': [0,0,0,0,5], 'p3': [0,0,0,0,8]}
sorted_keys = sorted(dic, key=lambda k: dic[k][4])
print sorted_keys
# ['p2', 'p1', 'p3']
"
31197,81808,What's incorrect about my sollution in this google code jam exercise?,"protected string Solve(string Line1, string Line2)
{
    string[] Inputs = Line1.Split();
    uint A = uint.Parse(Inputs[0]);
    byte N = byte.Parse(Inputs[1]);
    Inputs = Line2.Split();
    List<uint> Motes = new List<uint>(N);
    foreach (string Size in Inputs)
    {
        Motes.Add(uint.Parse(Size));
    }
    Motes.Sort();
    List<Action> Actions = new List<Action>();

    while (Motes.Count > 0)
    {
        if (A > Motes[0])
        {
            A += Motes[0];
            Motes.RemoveAt(0);
        }
        else if(A > 1)
        {
            uint I;
            for (I = 0; A <= Motes[0]; I++)
            {
                A = (A << 1) - 1;
            }
            Actions.Add(new Action(I, Motes.Count));
        }
        else
        {
            Actions.Add(new Action(101, Motes.Count));
            break;
        }
    }

    uint TotalInserts = 0;
    int TotalRemoved = 0;
    for (int I = Actions.Count - 1; I >= 0; I--)
    {
        int StepRemaining = Actions[I].Remaining - TotalRemoved;
        uint StepInsert = Actions[I].Inserts;
        if (StepInsert >= StepRemaining)
        {
            TotalRemoved += StepRemaining;
            TotalInserts = 0;
        }
        else
        {
            TotalInserts += StepInsert;
            if (TotalInserts >= Actions[I].Remaining)
            {
                TotalRemoved = Actions[I].Remaining;
                TotalInserts = 0;
            }
        }
    }

    return (TotalInserts + TotalRemoved).ToString();
}
struct Action
{
    public uint Inserts;
    public int Remaining;
    public Action(uint inserts, int remaining)
    {
        Inserts = inserts;
        Remaining = remaining;
    }
}
"
25893,64062,'Animated' 2D scatter,"import itertools

def covnersion_Anim(xPos,trueVal,*args):
    mTuple = args
    plt_bulk_lst = []
    plt_head_lst = []
    color_list = ['Green','Blue','Orchid','Cyan','Goldenrod','Salmon','Orange','Violet','Magenta']
    f = plt.figure(figsize =(17,8))
    ax = plt.gca()
    ax.set_xlim([min(xPos),max(xPos)])
    ax.set_ylim([0,1])
    ms = 5
    for j,c in zip(range(len(mTuple)),itertools.cycle(color_list)):
        plt_bulk_lst.append(ax.plot([],[],color=c,ms=ms,marker='x',linestyle='none')[0])
        plt_head_lst.append(ax.plot([xPos[0]],[mTuple[j][0]],color='Dark'+c,ms=ms,marker='o',linestyle='none')[0])
    real_plt, = plot([],[],color='red')

    for j in range(1,len(xPos)):
        print j
        for hd_plt,blk_plt,m in zip(plt_head_lst,plt_bulk_lst,mTuple):
            hd_plt.set_xdata([xPos[j]])
            hd_plt.set_ydata([m[j]])

            blk_plt.set_ydata(m[:j])
            blk_plt.set_xdata(xPos[:j])

            real_plt.set_xdata(xPos[:j])
            real_plt.set_ydata(trueVal[:j])

        plt.pause(1)

    return f
covnersion_Anim(range(12),rand(12),rand(12),rand(12),rand(12))
"
5883,72730,Holiday files for G20 countries,"""""""
>>> from datetime import date
>>> from workalendar.europe import France
>>> cal = France()
>>> cal.holidays(2013)
[(datetime.date(2013, 1, 1), 'New year'),
 (datetime.date(2013, 4, 1), 'Easter Monday'),
 (datetime.date(2013, 5, 1), 'Labour Day'),
 (datetime.date(2013, 5, 8), 'Victory in Europe Day'),
 (datetime.date(2013, 5, 9), 'Ascension Thursday'),
 (datetime.date(2013, 5, 20), 'Whit Monday'),
 (datetime.date(2013, 5, 30), 'Corpus Christi'),
 (datetime.date(2013, 7, 14), 'Bastille Day'),
 (datetime.date(2013, 8, 15), 'Assumption of Mary to Heaven'),
 (datetime.date(2013, 11, 1), 'All Saints Day'),
 (datetime.date(2013, 11, 11), 'Armistice Day'),
 (datetime.date(2013, 12, 25), 'Christmas Day')]
>>> cal.is_working_day(date(2013, 12, 25))  # it's Christmas
False
>>> cal.is_working_day(date(2013, 12, 29))  # it's Sunday
False
>>> cal.is_working_day(date(2013, 12, 26))
True
"
29208,43065,Histogram with stacked components,"fig, ax = plt.subplots(1, 1, figsize=(9, 5))
ax.hist([data.ix[low:high, 'values'] for low, high in [(0, 70), (70, 85), (85, 90)]],
         bins=15,
         stacked=True,
         rwidth=1.0,
         label=['first70', 'next15', 'last5'])
ax.legend()
"
3540,28864,Do built in POS Taggers within NLTK have a Confidence Value for it's decisions?,"tagger = ClassifierBasedPOSTagger(train=training_sentences, cutoff_prob=0.95)
"
15245,11362,Vectorised code for sampling from truncated normal distributions with different intervals,"import numpy as np
from scipy.stats import truncnorm, norm

a_s = np.random.uniform(0, 1, size=100)
b_s = a_s + 0.2

cdf_start = norm.cdf(a_s)
cdf_stop = norm.cdf(b_s)
cdf_samples = np.random.uniform(0, 1, size=(100, 100))
cdf_samples *= (cdf_stop - cdf_start)[:, None]
cdf_samples +=  cdf_start[:, None]
truncnorm_samples = norm.ppf(cdf_samples)
"
3510,49145,How can the line wrapping width on Sphinx with alabaster be increased?,"html_theme_options = {
    'page_width': 'auto',
}
"
27088,36149,App Engine Entity to Dictionary,"foo.__dict__
"
39325,3763,Selenium: Iterating through groups of elements,"persons = []
for person in driver.find_elements_by_class_name('person'):
    title = person.find_element_by_xpath('.//div[@class=""title""]/a').text
    company = person.find_element_by_xpath('.//div[@class=""company""]/a').text

    persons.append({'title': title, 'company': company})
"
17262,37939,Convert string representation of list to list in Python,">>> import ast
>>> x = u'[ ""A"",""B"",""C"" , "" D""]'
>>> x = ast.literal_eval(x)
>>> x
['A', 'B', 'C', ' D']
>>> x = [n.strip() for n in x]
>>> x
['A', 'B', 'C', 'D']
"
747,42251,Python traitsui save file dialogue - overwriting,"from traits.api import HasTraits, Button
from traitsui.api import View, Item
import numpy

##you may need to uncoment these 2 lines to prevent 
##ImportErrors due to missing backends
#from traits.etsconfig.api import ETSConfig
#ETSConfig.toolkit = 'qt4' # or 'wx'    

from pyface.api import FileDialog, OK


class ArrayToBeSaved(HasTraits):
    save_as = Button('save as')

    traits_view = View(Item('save_as'))

    def __init__(self):
        self.my_array = numpy.ones(3)

    def _save_as_changed(self):
        dlg = FileDialog(action='save as')
        if dlg.open() == OK:
            numpy.save(dlg.path, self.my_array)
            self.my_array = numpy.zeros(3)

atbs = ArrayToBeSaved()

atbs.configure_traits()
"
23450,63537,django - form field will not update without server reset... instantiating a class again,"class RecordForm(forms.Form):
    name = forms.CharField(max_length=255)
    domain = forms.TypedChoiceField(choices=[])
    type = forms.TypedChoiceField(choices=...)
    content = forms.CharField()
    ttl = forms.CharField()
    comment = forms.CharField()

    def __init__(self, *args, **kwargs):
        super(RecordForm, self).__init__(*args, **kwargs)
        self.fields['type'].choices = [(c.id, c.name) for c in Domain.objects.all()]
"
20555,74307,Calculation of age of domain by passing value in URL using POST method,">>> import requests
>>> from bs4 import BeautifulSoup
>>> import re
>>> url = ""http://www.webconfs.com/domain-age.php""
>>> domain = 'youtube.com' 
>>> r = requests.post(url, {'domains': domain, 'submit': 'submit'})
>>> soup = BeautifulSoup(r.content)
>>> for item in soup.find_all('a', href=re.compile('website-history')):
...     print item.text
... 
9 years 0 months old
"
17735,32607,How to display tree structure with hyperlinks in django views,"#urls.py

urlpatterns = patterns('',

    url(r'^downloads/(?P<parent_id>\d+)/$', ParentView.as_view(), name='parents_list'),
    url(r'^downloads/(?P<parent_id>\d+)/(?P<child_id>\d+)/$', ChildView.as_view(),
                                    name='childs_list'),
)
"
306,84647,"SQLAlchemy, eager loading on object refresh","from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class Foo(Base):
    __tablename__ = 'foo'
    id = Column(Integer, primary_key=True)
    status = Column(String)
    barId = Column(Integer, ForeignKey(""bar.id""))
    bar = relationship(""Bar"", lazy=""joined"")

class Bar(Base):
    __tablename__ = 'bar'
    id = Column(Integer, primary_key=True)

e = create_engine(""sqlite://"", echo=True)
Base.metadata.create_all(e)

s = Session(e)

s.add(Foo(id=1, bar=Bar()))
s.commit()

f1 = s.query(Foo).get(1)
f1.status = 'done'
s.commit()

assert 'bar' not in f1.__dict__
s.refresh(f1)
assert 'bar' in f1.__dict__
s.close()

assert f1.bar.id == 1
"
35335,32076,Switchable Radio Buttons (editing a command),"from functools import partial
import maya.cmds as cmds

def one (*args):
    print '1'

def two (*args):
    print '2'

def radioSwitch (a, state, *args):
    if state:
        cmds.radioButtonGrp(a, e=True, enable=False)
    else:
        cmds.radioButtonGrp(a, e=True, enable=True)

winID = 'xx'
if cmds.window(winID, exists=True):
    cmds.deleteUI(winID)


window = cmds.window(winID, sizeable = False, title=""Resolution Switcher"", widthHeight=(300, 100) )

cmds.columnLayout( )
cmds.text (label = '')
cmds.text (label = '')
cb_disable = cmds.checkBoxGrp( cat = (1,'left', 20), ncb = 1, l1='  DISABLE', offCommand = """" , onCommand = """" )
a = cmds.radioButtonGrp( cat = [(1,'left', 90),(2, 'left', 100)], enable=True, numberOfRadioButtons=2,   on1 = one , on2 = two )
cmds.checkBoxGrp(cb_disable, e=1, offCommand = partial(radioSwitch, a, False))
cmds.checkBoxGrp(cb_disable, e=1, onCommand = partial(radioSwitch, a, True))
cmds.text (label = '')
cmds.showWindow( window )
"
22039,49688,Creating new binary columns from single string column in pandas,"In [37]: df = pd.DataFrame(['Slow', 'Normal', 'Fast', 'Slow'], columns=['Speed'])

In [38]: df
Out[38]:
    Speed
0    Slow
1  Normal
2    Fast
3    Slow

In [39]: pd.get_dummies(df['Speed'])
Out[39]:
   Fast  Normal  Slow
0     0       0     1
1     0       1     0
2     1       0     0
3     0       0     1
"
29571,10085,How to access attributes using through-model in Django?,"if UserProfileLanuage.objects.filter(user=user, language=A).exists():
    # do something
"
11699,48751,Accessing a variable outside a loop Python,"keywords = []

...
        keywords.append(row[0].strip())
"
6011,66013,Python Real Time Binning of data,"from bisect import bisect

d = {""A"": 0, ""B"": 0, ""C"": 0, ""D"": 0, ""E"": 0, ""F"": 0}


def grade(score, breakpoints=[70, 80, 90, 100], grades='FBCDA'):
    i = bisect(breakpoints, score)
    return grades[i]


for n in [66, 67, 77, 88, 80, 90, 91,100]:
    d[grade(n)] += n
print(d)
{'A': 100, 'C': 168, 'B': 77, 'E': 0, 'D': 181, 'F': 145}
"
15562,63670,Python relative imports within a package not on the path,"import dir1
if __name__ == '__main__':
    __package__ = 'dir1.dir2'
    from .. import in_dir1
"
13439,65067,"Convert ""little endian"" hex string to IP address in Python",">>> import socket
>>> import struct
>>> addr_long = int(""0200A8C0"",16)
>>> hex(addr_long)
'0x200a8c0'
>>> struct.pack(""<L"", addr_long)
'\xc0\xa8\x00\x02'

>>> socket.inet_ntoa(struct.pack(""<L"", addr_long))
'192.168.0.2'
>>> 
"
35271,74508,Passing parameterized build parameter to Jython plugin in Jenkins,"import sys

for arg in sys.argv:
    print arg 
"
11917,81837,Django transactions: managing two different transactions atomically inside the overriding of save() method,"from django.db import models
from django.db import transaction

class MyModel(models.Model):
    # model definition

    @transaction.commit_on_success()
    def save(self, *args, **kwargs):
        try:
            super(MyModel, self).save(*args, **kwargs)
            do_other_things()
            obj2 = MySecondModel(mymodel = self, foo = ""bar"")
            obj2.save()
        except:
            print 'exception'
            raise
        else:
            print 'job done'



class MySecondModel(models.Model):
    myModelId = models.ForeignKey(MyModel)
    # other fields defining this model
"
30206,14910,How can I programmatically find the list of codecs known to Python?,"import encodings
import os
import pkgutil

modnames=set([modname for importer, modname, ispkg in pkgutil.walk_packages(
    path=[os.path.dirname(encodings.__file__)], prefix='')])
aliases=set(encodings.aliases.aliases.values())

print(modnames-aliases)
# set(['charmap', 'unicode_escape', 'cp1006', 'unicode_internal', 'punycode', 'string_escape', 'aliases', 'palmos', 'mac_centeuro', 'mac_farsi', 'mac_romanian', 'cp856', 'raw_unicode_escape', 'mac_croatian', 'utf_8_sig', 'mac_arabic', 'undefined', 'cp737', 'idna', 'koi8_u', 'cp875', 'cp874', 'iso8859_1'])

print(aliases-modnames)
# set(['tactis'])

codec_names=modnames.union(aliases)
print(codec_names)
# set(['bz2_codec', 'cp1140', 'euc_jp', 'cp932', 'punycode', 'euc_jisx0213', 'aliases', 'hex_codec', 'cp500', 'uu_codec', 'big5hkscs', 'mac_romanian', 'mbcs', 'euc_jis_2004', 'iso2022_jp_3', 'iso2022_jp_2', 'iso2022_jp_1', 'gbk', 'iso2022_jp_2004', 'unicode_internal', 'utf_16_be', 'quopri_codec', 'cp424', 'iso2022_jp', 'mac_iceland', 'raw_unicode_escape', 'hp_roman8', 'iso2022_kr', 'cp875', 'iso8859_6', 'cp1254', 'utf_32_be', 'gb2312', 'cp850', 'shift_jis', 'cp852', 'cp855', 'iso8859_3', 'cp857', 'cp856', 'cp775', 'unicode_escape', 'cp1026', 'mac_latin2', 'utf_32', 'mac_cyrillic', 'base64_codec', 'ptcp154', 'palmos', 'mac_centeuro', 'euc_kr', 'hz', 'utf_8', 'utf_32_le', 'mac_greek', 'utf_7', 'mac_turkish', 'utf_8_sig', 'mac_arabic', 'tactis', 'cp949', 'zlib_codec', 'big5', 'iso8859_9', 'iso8859_8', 'iso8859_5', 'iso8859_4', 'iso8859_7', 'cp874', 'iso8859_1', 'utf_16_le', 'iso8859_2', 'charmap', 'gb18030', 'cp1006', 'shift_jis_2004', 'mac_roman', 'ascii', 'string_escape', 'iso8859_15', 'iso8859_14', 'tis_620', 'iso8859_16', 'iso8859_11', 'iso8859_10', 'iso8859_13', 'cp950', 'utf_16', 'cp869', 'mac_farsi', 'rot_13', 'cp860', 'cp861', 'cp862', 'cp863', 'cp864', 'cp865', 'cp866', 'shift_jisx0213', 'johab', 'mac_croatian', 'cp1255', 'latin_1', 'cp1257', 'cp1256', 'cp1251', 'cp1250', 'cp1253', 'cp1252', 'cp437', 'cp1258', 'undefined', 'cp737', 'koi8_r', 'cp037', 'koi8_u', 'iso2022_jp_ext', 'idna'])
"
3176,13650,pandas - add new column to dataframe from dictionary,"In [248]:

d = {112: 'en', 113: 'es', 114: 'es', 111: 'en'}
df['D'] = df['U'].map(d)
df
Out[248]:
     U   L   D
0  111  en  en
1  112  en  en
2  112  es  en
3  113  es  es
4  113  ja  es
5  113  zh  es
6  114  es  es
"
31512,43795,"Label and buttons overlapping when using different classes, tkinter","class App(Frame):
    def __init__(self, master):
        self.matrix = Grid(self, 10, 10)
        self.label = Label(self, text=""Hello"")
        self.matrix.grid(row=0, column=0, sticky=""nsew"")

        self.label.grid(row=0, column=1, sticky=""nsew"")
        self.grid_rowconfigure(0, weight=1)
        self.grid_columnconfigure(0, weight=1)
"
39622,69858,Nose test runner finding all tests except a tag," # coding: utf-8
 from nose.plugins.attrib import attr


 @attr(""foo"", ""bar"", ""baz"")
 def test1():
     print ""I'm test1""


 @attr(""foo"")
 def test_2():
     print ""I'm test2""
"
20644,53377,How to simulate file upload to blobstore using GAE dev server testbed for python,"self.testbed.init_blobstore_stub()
self.testbed.init_files_stub()
from google.appengine.api import files
file_name = files.blobstore.create(mime_type='application/octet-stream')
with files.open(file_name, 'a') as f:
    f.write('blobdata')
files.finalize(file_name)
blob_key = files.blobstore.get_blob_key(file_name)
"
23331,41243,Want to print maxm entry of every email against it in another column,"#!/usr/bin/python
email = """" # Initialize the email
count = 0  # and counter
import fileinput

for line in fileinput.input(""word.txt""): # Interator: process a line at a time
  myArr = line.split("","")
  if (email != myArr[0]): # New email; print and reset count, email
    for n in range(0,count):
      print email + "","" + str(n+1) + "","" + str(count)
    email = myArr[0]
    count = 1  
  else: # Same email, increment count
    count = count + 1

# Print the final email
for n in range(0,count):
  print email + "","" + str(n+1) + "","" + str(count)
"
19204,28171,Django/Python: how can i filter with Model's custom method?? Is this possible?,"import datetime
queryset = MyModel.objects.filter(\
     time_created__lt=(datetime.now()-datetime.timedelta(minutes=3)))
"
38452,20286,IGraph python get neighbour Vetrices from Vertex,">>> neis = g.neighbors(""a"", mode=""out"")
>>> g.vs[neis][""name""]
"
25521,18592,python can I suppy username and password to os.listdir?,"net use \\computername\path\to\dir /user:username password
"
16998,4807,python networkx making nodes that are integers unique,"In [4]: df = pd.read_csv('triangle.csv', header=None)

In [5]: df
Out[5]: 
    0   1   2   3   4   5   6   7   8   9   10  11  12  13  14
0   75 NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN
1   95  64 NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN
2   17  47  82 NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN
3   18  35  87  10 NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN
4   20   4  82  47  65 NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN
5   19   1  23  75   3  34 NaN NaN NaN NaN NaN NaN NaN NaN NaN
6   88   2  77  73   7  63  67 NaN NaN NaN NaN NaN NaN NaN NaN
7   99  65   4  28   6  16  70  92 NaN NaN NaN NaN NaN NaN NaN
8   41  41  26  56  83  40  80  70  33 NaN NaN NaN NaN NaN NaN
9   41  48  72  33  47  32  37  16  94  29 NaN NaN NaN NaN NaN
10  53  71  44  65  25  43  91  52  97  51  14 NaN NaN NaN NaN
11  70  11  33  28  77  73  17  78  39  68  17  57 NaN NaN NaN
12  91  71  52  38  17  14  91  43  58  50  27  29  48 NaN NaN
13  63  66   4  68  89  53  67  30  73  16  69  87  40  31 NaN
14   4  62  98  27  23   9  70  98  73  93  38  53  60   4  23

In [24]: for row in df.iterrows():
   ....:     for item in row[1]:
   ....:         if np.isnan(item) == False:
   ....:             l.append((n, item))
   ....:             n += 1


In [26]: import networkx as nx

In [27]: G = nx.Graph()

In [28]: G.add_nodes_from(l)

In [29]: G.nodes()
Out[29]: 
[(113, 73.0),
 (74, 39.0),
 (64, 51.0),
 (111, 70.0),
 (72, 17.0),
 (69, 28.0),
 (102, 87.0),
 (46, 48.0),
 (118, 4.0),
 (105, 4.0),
 (92, 66.0),
 (55, 53.0),
 (19, 3.0),
 (17, 23.0),
 (90, 48.0),
 (18, 75.0),
 (27, 67.0),
 (37, 41.0),
 (8, 87.0),
 (59, 25.0),
 (43, 70.0), etc......
"
19902,49079,How do I make one instance in Python that I can access from different modules?,"request.db = ...connect...
"
37710,15045,Remove a number using regex,"re.sub(r'\d+""', """", strin)
"
11869,32654,Show y_ticklabels in a seaborn pairplot with shared axes,"import seaborn as sns
iris = sns.load_dataset(""iris"")
x_vars = ['sepal_length', 'sepal_width', 'petal_length']
y_vars = ['petal_width']
pp = sns.pairplot(data=iris, x_vars=x_vars, y_vars=y_vars)
_ = plt.setp(pp.axes[0,1].get_yticklabels(), visible=True) #changing the 2nd plot
"
10526,44047,How to sort list of lists according to length of sublists,"In [6]: a = [['a', 'b', 'c'], ['d', 'e'], ['f', 'g', 'h'], ['i', 'j', 'k', 'l'], ['m', 'n'], ['o']]

In [7]: a.sort(key=len)

In [8]: print a
[['o'], ['d', 'e'], ['m', 'n'], ['a', 'b', 'c'], ['f', 'g', 'h'], ['i', 'j', 'k', 'l']]
"
3220,45180,QTableView intercepts Key_Down and Key_Up events,"class ViewPerso (QtGui.QTableView):
    def __init__(self, parent = None):
        super(ViewPerso, self).__init__(parent)
        self.parent = parent

    def currentChanged (self, current, previous):
        index = current.sibling(current.row(), 4)
        try:
            if not index.data() or len(self.parent.vidsSelected()) > 1:
                return
        except AttributeError:
            pass
        self.clicked.emit(current)
        self.scrollTo(current)

    def keyboardSearch (self, search):
        pass

    def keyPressEvent (self, e):
        super(ViewPerso, self).keyPressEvent(e)
        e.ignore()
"
27178,59092,Regex parse string in python,">>> p = ""^[a-z]{2}:(\w+)$""
>>> re.match(p, ""eu:road"").group(1)
'road'
>>> re.match(p, ""road:eu"")
None
"
16297,80740,CSRF With Ajax Polling,"$.ajaxSetup({
    beforeSend: function(xhr, settings) {
        function getCookie(name) {
            var cookieValue = null;
            if (document.cookie && document.cookie != '') {
                var cookies = document.cookie.split(';');
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = jQuery.trim(cookies[i]);
                    // Does this cookie string begin with the name we want?
                    if (cookie.substring(0, name.length + 1) == (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {
            // Only send the token to relative URLs i.e. locally.
            xhr.setRequestHeader(""X-CSRFToken"", getCookie('csrftoken'));
        }
    }
});
"
16032,22035,Python Polish character encoding issues,">>> text = ""Racławicka Rógé""
>>> text.encode('1252', 'ignore').decode('1252')
'Racawicka Rógé'
"
31830,7803,Query to check if size of collection is 0 or empty in SQLAlchemy?,"q = session.query(Person)
q = q.filter(Person.building == g.current_building)
q = q.filter(~Person.groups.any())
"
4404,37935,computing spell lengths of data based on equality in pandas,"In [153]:

def num_spells(x):
    t = list(x.unique())
    return [t.index(el)+1 for el in x]

d1.apply(num_spells, axis=1)

Out[153]:
    1962  1963  1964  1965
c1     1     1     1     2
c2     1     1     2     2
c3     1     1     1     1

In [144]:
from itertools import chain, repeat
def spell_len(x):
    t = list(x.value_counts())
    return list(chain.from_iterable(repeat(i,i) for i in t))

d1.apply(spell_len, axis=1)
Out[144]:
    1962  1963  1964  1965
c1     3     3     3     1
c2     2     2     2     2
c3     4     4     4     4
"
37292,27915,Converting an imperative algorithm into functional style,"(defn extract-data
  ""extract 4 integer from a string line according to a package name""
  [pkg line]
  (map read-string
       (rest (first
              (re-seq
               (re-pattern
                (str pkg "".*>(\\d+)/(\\d+).*>(\\d+)/(\\d+)""))
               line)))))

(defn scan-lines-by-pkg
  ""scan all string lines and extract all data as integer sequences
    according to package names""
  [pkgs lines]
  (filter seq (for [pkg pkgs
                    line lines]
                (extract-data pkg line))))

(defn sum-data
  ""add all data in valid lines together""
  [pkgs lines]
  (apply map + (scan-lines-by-pkg pkgs lines)))

(defn get-percent
  [covered all]
  (str (format ""%.2f"" (float (/ (* covered 100) all))) ""%""))

(defn get-cov
  [pkgs lines]
  {:line-cov (apply get-percent (take 2 (sum-data pkgs lines)))
    :branch-cov (apply get-percent (drop 2 (sum-data pkgs lines)))})

(get-cov [""d"" ""f""] [""abc"" ""d>11/23d>34/89d"" ""e>25/65e>13/25e"" ""f>36/92f>19/76""])
"
32301,46170,python non-blocking non-messing-my-tty key press detection,"import sys
import select
import tty
import termios

class NonBlockingConsole(object):

    def __enter__(self):
        self.old_settings = termios.tcgetattr(sys.stdin)
        tty.setcbreak(sys.stdin.fileno())
        return self

    def __exit__(self, type, value, traceback):
        termios.tcsetattr(sys.stdin, termios.TCSADRAIN, self.old_settings)


    def get_data(self):
        if select.select([sys.stdin], [], [], 0) == ([sys.stdin], [], []):
            return sys.stdin.read(1)
        return False


if __name__ == '__main__':
    # Use like this
    with NonBlockingConsole() as nbc:
        i = 0
        while 1:
            print i
            i += 1

            if nbc.get_data() == '\x1b':  # x1b is ESC
                break
"
14273,37070,How to get the result of a query executed by plpy,"query=""select 1<2 as val;""
result=plpy.execute(query)
if result[0][""val""]: 
   print 'of corse: 1 < 2'
else:
   print 'this will never be printed'
"
6962,8100,Add count value to set,"from django.db.models import Count

Tag.objects.annotate(action_count=Count('action'))
"
29223,42649,Reading csv file as dictionary using pandas,"dt = pandas.read_csv('file.csv', index_col=1, skiprows=1).T.to_dict()
"
23072,36322,How to find all positions of the maximum value in a list?,">>> m = max(a)
>>> [i for i, j in enumerate(a) if j == m]
[9, 12]
"
23184,47049,Remove unused Amazon EC2 Snapshots,"import json, subprocess

def remove_unused_snaps(region):
    line = 'aws ec2 describe-images --region {} --owners self'.format(region)
    p = subprocess.Popen(line.split(),
                         stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    out, err = p.communicate()
    obj = json.loads(out.decode(""utf-8""))

    snaps_used = set(i['BlockDeviceMappings'][0]['Ebs']['SnapshotId'] for i in obj['Images'])

    line = 'aws ec2 describe-snapshots --region {} --owner-ids self'.format(region)
    p = subprocess.Popen(line.split(),
                         stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    out, err = p.communicate()
    obj = json.loads(out.decode(""utf-8""))

    snaps_old = set(i['SnapshotId'] for i in obj['Snapshots'])

    line = 'aws ec2 delete-snapshot --region {} --snapshot-id'.format(region)
    for snap in list(snaps_old - snaps_used):
        p = subprocess.Popen(line.split() + [snap],
                             stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        out, err = p.communicate()
        print(snap, out, err)
"
32549,80925,Does python support decorator in runtime?,"logger(level=""debug"")(repeat(5)(foo))(var)
"
12371,49203,Convert dictionary to tuple with additional element inside tuple,">>> [(k, '=', v) for k, v in d.items()]
[('a', '=', 1), ('c', '=', 3), ('b', '=', 2)]
"
39901,42391,Removing quotes from keys of dicts when rendering to template,"class MyDict(dict):
    def __repr__(self):
        s = ""{""
        for key in self:
            s += ""{0}:{1}, "".format(key, self[key])
        if len(s) > 1:
            s = s[0: -2]
        s += ""}""
        return s

MyDict({'a': 1, 'b': 2})
{a:1, b:2}
"
27745,19616,Create lists of dictionaries from .CSV file using header words as keys,"import csv

with open('summ.csv') as csvfile:
    reader = csv.DictReader(csvfile)
    kept2 = [row for row in reader]
"
20073,37463,Performing calculations on every pair of fields,"awk '{for(i=1;i<=NF;i+=2)$(i+1)=$(i+1)OFS sprintf(""%.3f"",1-$(i+1)-$i)}1' OFS='\t' file
0.800   0.200   0.000   0.000   0.200   0.800   0.800   0.200   0.000
0.000   0.900   0.100   0.000   0.900   0.100   0.000   0.900   0.100
0.900   0.010   0.090   0.900   0.010   0.090   0.770   0.010   0.220
"
13664,53589,Python: Pickle and Qt (PyQT),"QByteArray
QChar
QColor
QDate
QDateTime
QKeySequence
QLatin1Char
QLatin1String
QLine
QLineF
QMatrix
QPoint
QPointF
QPolygon
QRect
QRectF
QSize
QSizeF
QString
QTime
"
24881,68732,Gmail Python multiple attachments,"import os 
import smtplib
from email.MIMEMultipart import MIMEMultipart
from email.MIMEText import MIMEText
from email.MIMEImage import MIMEImage
from email.MIMEBase import MIMEBase
from email import Encoders


#Set up crap for the attachments
files = ""/tmp/test/dbfiles""
filenames = [os.path.join(files, f) for f in os.listdir(files)]
#print filenames


#Set up users for email
gmail_user = ""joe@email.com""
gmail_pwd = ""somepasswd""
recipients = ['recipient1','recipient2']

#Create Module
def mail(to, subject, text, attach):
   msg = MIMEMultipart()
   msg['From'] = gmail_user
   msg['To'] = "", "".join(recipients)
   msg['Subject'] = subject

   msg.attach(MIMEText(text))

   #get all the attachments
   for file in filenames:
      part = MIMEBase('application', 'octet-stream')
      part.set_payload(open(file, 'rb').read())
      Encoders.encode_base64(part)
      part.add_header('Content-Disposition', 'attachment; filename=""%s""' % file)
      msg.attach(part)

   mailServer = smtplib.SMTP(""smtp.gmail.com"", 587)
   mailServer.ehlo()
   mailServer.starttls()
   mailServer.ehlo()
   mailServer.login(gmail_user, gmail_pwd)
   mailServer.sendmail(gmail_user, to, msg.as_string())
   # Should be mailServer.quit(), but that crashes...
   mailServer.close()

#send it
mail(recipients,
   ""Todays report"",
   ""Test email"",
   filenames)
"
2946,1220,Program structure using asyncio,"import asyncio

@asyncio.coroutine
def echo_server():
    yield from asyncio.start_server(handle_connection, 'localhost', 8000)

@asyncio.coroutine
def handle_connection(reader, writer):
    while True:
        data = yield from reader.read(8192)
        if not data:
            break
        writer.write(data)

loop = asyncio.get_event_loop()
loop.run_until_complete(echo_server())
try:
    loop.run_forever()
finally:
    loop.close()
"
6148,29464,Start processing files from N-th file in folder,"for f in glob.glob(...)[n:]:
    with open(f) as inputfile:
"
561,51439,What's the proper usage of cmp argument in built-in sorted function? [python 2.7],">>> def numeric_compare(x, y):
        return x - y
>>> sorted([5, 2, 4, 1, 3], cmp=numeric_compare)
[1, 2, 3, 4, 5]
"
38808,29754,merge dictionaries in python with common key/value,"dict3 = {k: [dict2[i] for i in v] for k, v in dict1.items()}
"
33210,2457,Python-How to write blocks of data in columns?,">>> from itertools import izip_longest
>>> data=[[('a1','b1'),('c1','d1')],[('a2','b2'),('c2','d2'),('e2','f2')],[('a3','b3'),('c3','d3'),('e3','f3')]]
>>> for columns in izip_longest(*data,fillvalue=''):
        print '\t'.join(map(' '.join,columns))


a1 b1   a2 b2   a3 b3
c1 d1   c2 d2   c3 d3
        e2 f2   e3 f3
"
6865,65968,Transparent background file download from S3,"import boto
import threading
import tempfile
import os

DEFAULT_CHUNK_SIZE = 2**20 * 64 # 64 MB per request

class BigFile(object):
    def __init__(self, file_obj, file_size, chunksize=DEFAULT_CHUNK_SIZE, start=True):
        self._file_obj = file_obj
        self._file_size = file_size
        self._lock = threading.RLock()
        self._load_condition = threading.Condition(self._lock)
        self._load_run = True
        self._loc = 0
        self._chunk_size = chunksize
        chunk_count = self._file_size // self._chunk_size
        chunk_count += 1 if self._file_size % self._chunk_size else 0
        self._chunks = [None for _ in xrange(chunk_count)]
        self._load_thread = threading.Thread(target=self._load)
        if start:
            self._load_thread.start()

    def _chunk_loc(self):
        ' Returns (chunk_num, chunk_offset) for a given location in the larger file '
        return self._loc // self._chunk_size, self._loc % self._chunk_size

    def _load_chunk(self, chunk_num):
        tf = tempfile.TemporaryFile()
        start_idx = chunk_num * self._chunk_size
        self._file_obj.seek(start_idx)
        tf.write(self._file_obj.read(self._chunk_size))
        with self._lock:
            self._chunks[chunk_num] = (tf, tf.tell()) # (tempfile, size)
            self._load_condition.notify()

    def _load(self):
        while self._load_run:
            # check current chunk, load if needed
            with self._lock:
                chunk_num, _ = self._chunk_loc()
                chunk_and_size = self._chunks[chunk_num]
            if chunk_and_size is None:
                self._load_chunk(chunk_num)

            # find next empty chunk
            for i in xrange(len(self._chunks)):
                cur_chunk = chunk_num + i
                    cur_chunk %= len(self._chunks) # loop around
                if self._chunks[cur_chunk] is None:
                    self._load_chunk(cur_chunk)
                    break
            else:
                # all done, stop thread
                break

    def seek(self, loc, rel=os.SEEK_SET):
        with self._lock:
            if rel == os.SEEK_CUR:
                self._loc += loc
            elif rel == os.SEEK_SET:
                self._loc = loc
            elif rel == os.SEEK_END:
                self._loc = self._file_size + loc

    def read(self, bytes_to_read):
        ret = []
        with self._lock:
            chunk_num, chunk_offset = self._chunk_loc()
            while (bytes_to_read > 0 or bytes_to_read == -1) and chunk_num < len(self._chunks):
                while not self._chunks[chunk_num]:
                    self._load_condition.wait()
                chunk, size = self._chunks[chunk_num]
                cur_chunk_bytes = min(self._chunk_size-chunk_offset, bytes_to_read, size)
                chunk.seek(chunk_offset, os.SEEK_SET)
                data = chunk.read(cur_chunk_bytes)
                ret.append(data)
                bytes_to_read -= len(data)
                chunk_num += 1
        return ''.join(ret)

    def start(self):
        self._load_thread.start()

    def join(self):
        self._load_thread.join()

    def stop(self):
        self._load_run = False

class S3RangeReader:
    def __init__(self, key_obj):
        self._key_obj = key_obj
        self.size = self._key_obj.size
        self._pos = 0

    def __len__(self):
        return self.size

    def seek(self, pos, rel=os.SEEK_SET):
        if rel == os.SEEK_CUR:
            self._pos += pos
        elif rel == os.SEEK_SET:
            self._pos = pos
        elif rel == os.SEEK_END:
            self._pos = self.size + pos

    def read(self, bytes=-1):
        if bytes == 0 or self._pos >= self.size:
            return ''
        else:
            if bytes == -1:
                bytes = self.size
            headers = {'Range': 'bytes=%s-%s' % (self._pos, self._pos + bytes - 1)} # S3 ranges are closed ranges: [start,end]
            return self._key_obj.get_contents_as_string(headers=headers)

if __name__ == '__main__':
    key = boto.s3_connect().get_bucket('mybucket').get_key('my_key')
    reader = S3RangeReader(key)
    bf = BigFile(reader, len(reader)) # download starts by default
    bf.seek(1000000)
    bf.read(100) # blocks
    bf.seek(0)
    bf.read(100) # should not block
"
23280,79214,load array 'columns' into array variables quickly,"lst1, lst2, lst3 = map(list, zip(*tuple_of_lists))
"
33188,79363,Better way of getting information from a table using XPath in python?,"rows_xpath = XPath(""//*[@id='content-primary']/table/tbody/tr[td[1]/span/span//text()='%s']"" % (date))
"
3881,83969,extract excel columns into python array,"import csv
cr = csv.reader(open(""temp.csv"",""rb""))
arr = range(100) #adjust to needed
x = 0
for row in cr:    
    arr[x] = row
    x += 1

print arr[:22] #adjust to needed
"
38125,19722,Scientific notation colorbar in matplotlib,"import matplotlib.pyplot as plt
import numpy as np
import matplotlib.ticker as ticker

img = np.random.randn(300,300)
myplot = plt.imshow(img)

def fmt(x, pos):
    a, b = '{:.2e}'.format(x).split('e')
    b = int(b)
    return r'${} \times 10^{{{}}}$'.format(a, b)

plt.colorbar(myplot, format=ticker.FuncFormatter(fmt))
plt.show()
"
31038,58819,Matplotlib + Seaborn - two lines with the same color?,"t = np.arange(0.0, 2.0, 0.01)
s = np.sin(2*np.pi*t)
plt.plot(t, s, c=seaborn.color_palette()[2])
plt.plot(t, 2*s, c=seaborn.color_palette()[2])
"
5284,54157,generalized series splitting (one to many mapping) in pandas,"In [11]: ds.map(json.loads).apply(lambda x: pd.Series([x[""a""] if ""a"" in x else None, x[""b""] if ""b"" in x else None]))
Out[11]:
             0    1
TNFRSF18   0.0  0.0
SDF4       NaN  0.0
TNFRSF4    0.0  NaN
B3GALT6    0.0  0.0
C1orf159   3.0  NaN
BC033949   NaN  2.0
ISG15      5.0  3.0
WASH7P     0.0  NaN
NOC2L      0.0  NaN
LOC643837  0.0  4.0
"
25848,17186,"Random sprite movement, logic issue","    if e_move_count <= 500:
        self.enemy.move(e_xMove, e_yMove)
        e_move_count += 1

    if e_move_count >= 500:
        e_xMove = random.randint(-1,1)
        e_yMove = random.randint(-1,1)
        self.enemy.move(e_xMove, e_yMove)
        e_move_count = 0
"
26245,15958,Strange behavior of matplotlib's griddata,"data = data.reshape(81, 201, 3)
x = data[...,0]
y = data[...,1]
z = data[...,2]

CS = plt.contourf(x,y,z,200,cmap=plt.cm.jet,rasterized=True)
plt.colorbar()

plt.show() 
"
39238,12652,How to add string representation of hex?,"result = format(int(strvalue, 16) + 37, 'x')
"
17842,22964,Python populating input arguments for a function with *args,">>> def fn(*args):
...     print args
...     
>>> fn([1, 2, 3])
([1, 2, 3],)
>>> fn(*[1, 2, 3])
(1, 2, 3)
>>> 
"
25737,18587,Calculating cumulative minimum with numpy arrays,">>> numpy.minimum.accumulate([5,4,6,10,3])
array([5, 4, 4, 4, 3])
"
2268,77742,Python - Little beginner code confusion,"while True:
    try:
        speed_limit = int(input(""What is your speed zone? ""))
        break
    except ValueError:
        print(""That is not a number! "")
        continue

while True:
    print(""What speed is the car going?"")
    try:
        pass_car_speed = int(input( ""Enter speed, or 0 to quit: ""))
    except ValueError:
        print(""Invalid number! "")
        continue

    if not pass_car_speed: # 0 is False, non-zero True
        break # quit loop (and program)

    if pass_car_speed <= speed_limit:
        print(""This car is under the limit. No ticket needed!"")
    else:
        fine = (pass_car_speed - speed_limit) * 10
        name = input(""What is the car model name? "")
        print(""____________________________________________"")
        print(""   | P O L I C E   T I C K E T |   "")
        print(""   | Speed: "",pass_car_speed,""   "")
        print(""   | Fine Cost: "",fine,""    "")
        print(""   | Car Name: "",name,""  "")
        print(""____________________________________________"")

print(""Goodbye!"")
"
22313,69154,Delete multiple files matching a pattern,"import os, re

def purge(dir, pattern):
    for f in os.listdir(dir):
    	if re.search(pattern, f):
    		os.remove(os.path.join(dir, f))
"
6925,38990,How can I get the full file path of an icon name?,"import gtk
icon_theme = gtk.icon_theme_get_default()
icon_info = icon_theme.lookup_icon(""my-icon-name"", 48, 0)
print icon_info.get_filename()
"
8742,9545,gmpy2: How do I track precision of mpc operations?,"import gmpy2

def matching_bits(x, y):
    '''Returns the number of bits that match between x and y. The
    sign of x and y are ignored. x and y must be of type mpfr.'''

    # Force both values to be positive, and x >= y.
    x = abs(x)
    y = abs(y)
    if x < y:
        x, y = y, x

    if not isinstance(x, type(gmpy2.mpfr(0))) or not isinstance(y, type(gmpy2.mpfr(0))):
        raise TypeError(""Arguments must be of type 'mpfr'."")

    x_bits, x_exp, x_prec = x.digits(2)
    y_bits, y_exp, y_prec = y.digits(2)

    # (x_exp - y_exp) is the number of zeros that must be prepended
    # to x to align the mantissas. If that is greater than the precision
    # y, then no bits in common.
    if (x_exp - y_exp) > x_prec:
        return 0

    x_bits = ""0"" * (x_exp - y_exp) + x_bits

    count = 0
    while count < min(x_prec, y_prec) and x_bits[count] == y_bits[count]:
        count += 1
    return count
"
20737,1960,How to dynamically change depth in Django Rest Framework nested serializers?,"class DynamicModelSerializer(serializers.ModelSerializer):
""""""
A ModelSerializer that takes an additional `fields` argument that
controls which fields should be displayed, and takes in a ""nested""
argument to return nested serializers
""""""

def __init__(self, *args, **kwargs):
    fields = kwargs.pop(""fields"", None)
    exclude = kwargs.pop(""exclude"", None)
    nest = kwargs.pop(""nest"", None)

    if nest is not None:
        if nest == True:
            self.Meta.depth = 1

    super(DynamicModelSerializer, self).__init__(*args, **kwargs)

    if fields is not None:
        # Drop any fields that are not specified in the `fields` argument.
        allowed = set(fields)
        existing = set(self.fields.keys())
        for field_name in existing - allowed:
            self.fields.pop(field_name)

    if exclude is not None:
        for field_name in exclude:
            self.fields.pop(field_name)
"
8873,50704,Flipping a picture in Jython,"def flip(picture):
    width = getWidth(picture)
    height = getHeight(picture)
    for y in range(0, height/2):
      for x in range(0, width):
        **p1 = getPixel(picture, width - 1 - x, y)**
        p2 = getPixel(picture, x, height - 1 - y,)
        color = getColor(p1)
        setColor(p1, getColor(p2))
        setColor(p2, color)
"
36912,35932,Django Tastypie: including relationship with the same model,"# api.py
class CustomCommentResource(ModelResource):
    children = fields.ToManyField('self', lambda bundle: bundle.obj.customcomment_set.all(), null=True, blank=True, full=True)

    class Meta:
        queryset = CustomComment.objects.filter(parent_comment=None, active=True)
        resource_name = 'comment'
"
14587,36544,Pygame set window on top without changing it's position,"#!/usr/bin/python
# -*- coding: utf-8 -*-


from ctypes import windll, Structure, c_long, byref #windows only


class RECT(Structure):
    _fields_ = [
    ('left',    c_long),
    ('top',     c_long),
    ('right',   c_long),
    ('bottom',  c_long),
    ]
    def width(self):  return self.right  - self.left
    def height(self): return self.bottom - self.top


def onTop(window):
    SetWindowPos = windll.user32.SetWindowPos
    GetWindowRect = windll.user32.GetWindowRect
    rc = RECT()
    GetWindowRect(window, byref(rc))
    SetWindowPos(window, -1, rc.left, rc.top, 0, 0, 0x0001)
"
31898,27093,How to make FactoryBoy's ImageField generate image before save() is called?,"class ImageFactory(factory.django.DjangoModelFactory):
    class Meta:
        model = Image

    image = factory.LazyAttribute(
            lambda _: ContentFile(
                factory.django.ImageField()._make_data(
                    {'width': 1024, 'height': 768}
                ), 'example.jpg'
            )
        )
"
15108,80705,Django override default functionalities,"class MyAuthenticationForm(AuthenticationForm):
    username = forms.CharField(label=_(""Username""), max_length=64)
"
25594,55481,How can you convert a list of poorly formed data pairs into a dict?,">> s = ""banana 4 apple 2 orange 4""
>> lst = s.split()
>> dict(zip(lst[::2], lst[1::2]))
"
34644,37129,Python force a condition,"import ctypes

def deref(addr, typ):
    return ctypes.cast(addr, ctypes.POINTER(typ))

deref(id(4), ctypes.c_int)[6] = 5

2 + 2
#>>> 5

2 + 2 == 5
#>>> True
"
4160,49808,Is it possible to capture optional argument for handlers in Tornado,"(r'/browse/article/([a-zA-Z0-9_-]+)(?:/([0-9]*))?', ArticleHandler),
"
32230,84966,python empty class object,"class Employee: pass
def foo(self): pass
Employee.foo = foo
"
26597,13019,Shortest way to find if a string matchs an object's attribute value in a list of objects of that type in Python,"dict( (o.name,o) for o in obj_list )[name]
"
7771,76324,Upload file using python requests,"files_url = ""%s/files/content"" % (settings.BOX_API_HOST)
headers = {""Authorization"": ""BoxAuth api_key=%s&auth_token=%s"" % 
              (settings.BOX_API_KEY, self.doctor.box_auth_token)
          }

file_root, file_suffix = os.path.splitext(str(self.document))
filename = ""%s%s"" % (slugify(self.description), file_suffix)
files = {
        'filename1': open(settings.MEDIA_ROOT + str(self.document), 'rb'),
        }
data = {
        'filename1': filename,
        'folder_id': str(self.patient.get_box_folder()),
       }

r = requests.post(files_url,
                  headers=headers,
                  files=files,
                  data=data)

file_response = simplejson.loads(r.text)

try:
    if int(file_response['entries'][0]['id']) > 0:
        box_file_id = int(file_response['entries'][0]['id'])

        #Update the name of file
        file_update_url = ""%s/files/%s"" % (settings.BOX_API_HOST, box_file_id) 
        data_update = {""name"":  filename}
        file_update = requests.put(file_update_url,
                                   data=simplejson.dumps(data_update),
                                   headers=headers)

        LocalDocument.objects.filter(id=self.id).update(box_file_id=box_file_id)
except:
    pass
"
28952,49443,Python - How to read webpage content after authentication or login?,"[~]$ python
Python 2.7.5+ (default, Sep 17 2013, 17:31:54) 
[GCC 4.8.1] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> 
>>> import requests
>>> 
>>> r = requests.get('http://www.google.com')
>>> 
>>> r.status_code
200
>>> r.content
'<!doctype html><html itemscope="""" itemtype=""http://schema.org/WebPage"" lang=""en""><head><meta content=""Search the world\'s information, including webpages, images, videos and more. Google has many special features to help you find exactly what you\'re looking for."" name=""description""><meta content=""noodp"" name=""robots""><meta content=""/logos/doodles/2015/eiji-tsuburayas-114th-birthday-4809204506296320.2-hp.jpg"" itemprop=""image""><meta content=""Make a movie with Eiji Tsuburaya! #GoogleDoodle"" property=""og:description""><meta content=""http://www.google.com/logos/doodles/2015/eiji-tsuburayas-114th-birthday-4809204506296320.2-hp.jpg"" property=""og:image""><meta content=""356"" property=""og:image:width""><meta content=""200"" property=""og:image:height""><title>Google</title><script>(function(){window.google={kEI:\'QuybVeO7Osy4sAXDxIKQCg\',kEXPI:\'18168,3700062,3700306,4020727,4029815,4032235,4032500,4032678,4033307,4033344,4034631,4034882,4036363,4036366,4036470,4036848,4036948,4037333,4037457,4037855,4037921,4037960,4038777,4039047,4039280,4039379,4039386,4039403,4039706,4039878,4040028,4040117,4040135,4040240,8300096,8300200,8300202,8500394,8501295,8501406,8501489,10200083,10201088,10201270,10201302,10201304\',authuser:0,kscs:\'c9c918f0_10\'};google.kHL=\'en\';})();(function(){google.lc=[];google.li=0;google.getEI=function(a){for(var b;a&&(!a.getAttribute||!(b=a.getAttribute(""eid"")));)a=a.parentNode;return b||google.kEI};google.getLEI=function(a){for(var b=null;a&&(!a.getAttribute||!(b=a.getAttribute(""leid"")));)a=a.parentNode;return b};google.https=function(){return""https:""==window.location.protocol};google.ml=function(){return null};google.time=function(){return(new Date).getTime()};google.log=function(a,b,d,e,g){a=google.logUrl(a,b,d,e,g);if(""""!=a){b=new Image;var c=google.lc,f=google.li;c[f]=b;b.onerror=b.onload=b.onabort=function(){delete c[f]};window.google&&window.google.vel&&window.google.vel.lu&&window.google.vel.lu(a);b.src=a;google.li=f+1}};google.logUrl=function(a,b,d,e,g){var c="""",f=google.ls||"""";if(!d&&-1==b.search(""&ei="")){var h=google.getEI(e),c=""&ei=""+h;-1==b.search(""&lei="")&&((e=google.getLEI(e))?c+=""&lei=""+e:h!=google.kEI&&(c+=""&lei=""+google.kEI))}a=d||""/""+(g||""gen_204"")+""?atyp=i&ct=""+a+""&cad=""+b+c+f+""&zx=""+google.time();/^http:/i.test(a)&&google.https()&&(google.ml(Error(""a""),!1,{src:a,glmm:1}),a="""");return a};google.y={};google.x=function(a,b){google.y[a.id]=[a,b];return!1};google.load=function(a,b,d){google.x({id:a+k++},function(){google.load(a,b,d)})};var k=0;})();google.kCSI={};var _gjwl=location;function _gjuc(){var a=_gjwl.href.indexOf(""#"");if(0<=a&&(a=_gjwl.href.substring(a),0<a.indexOf(""&q="")||0<=a.indexOf(""#q=""))&&(a=a.substring(1),-1==a.indexOf(""#""))){for(var d=0;d<a.length;){var b=d;""&""==a.charAt(b)&&++b;var c=a.indexOf(""&"",b);-1==c&&(c=a.length);b=a.substring(b,c);if(0==b.indexOf(""fp=""))a=a.substring(0,d)+a.substring(c,a.length),c=d;else if(""cad=h""==b)return 0;d=c}_gjwl.href=""/search?""+a+""&cad=h"";return 1}return 0}\nfunction _gjh(){!_gjuc()&&window.google&&google.x&&google.x({id:""GJH""},function(){google.nav&&google.nav.gjh&&google.nav.gjh()})};window._gjh&&_gjh();</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}\n</style><style>body,td,a,p,.h{font-family:arial,sans-serif}body{margin:0;overflow-y:scroll}#gog{padding:3px 8px 0}td{line-height:.8em}.gac_m td{line-height:17px}form{margin-bottom:20px}.h{color:#36c}.q{color:#00c}.ts td{padding:0}.ts{border-collapse:collapse}em{font-weight:bold;font-style:normal}.lst{height:25px;width:496px}.gsfi,.lst{font:18px arial,sans-serif}.gsfs{font:17px arial,sans-serif}.ds{display:inline-box;display:inline-block;margin:3px 0 4px;margin-left:4px}input{font-family:inherit}a.gb1,a.gb2,a.gb3,a.gb4{color:#11c !important}body{background:#fff;color:black}a{color:#11c;text-decoration:none}a:hover,a:active{text-decoration:underline}.fl a{color:#36c}a:visited{color:#551a8b}a.gb1,a.gb4{text-decoration:underline}a.gb3:hover{text-decoration:none}#ghead a.gb2:hover{color:#fff !important}.sblc{padding-top:5px}.sblc a{display:block;margin:2px 0;margin-left:13px;font-size:11px}.lsbb{background:#eee;border:solid 1px;border-color:#ccc #999 #999 #ccc;height:30px}.lsbb{display:block}.ftl,#fll a{display:inline-block;margin:0 12px}.lsb{background:url(/images/srpr/nav_logo80.png) 0 -258px repeat-x;border:none;color:#000;cursor:pointer;height:30px;margin:0;outline:0;font:15px arial,sans-serif;vertical-align:top}.lsb:active{background:#ccc}.lst:focus{outline:none}</style><script></script><link rel=""stylesheet"" type=""text/css"" media=""all"" href=""/searchahead-js/css/searchaheadbox.css""/>\r\n<!--[if IE 6]>\r\n<link rel=""stylesheet"" type=""text/css"" media=""all"" href=""/searchahead-js/css/searchaheadbox_ie6.css""/>\r\n<![endif]-->\r\n<!--[if IE 7]>\r\n<link rel=""stylesheet"" type=""text/css"" media=""all"" href=""/searchahead-js/css/searchaheadbox_ie7.css""/>\r\n<![endif]-->\r\n\r\n<script type=""text/javascript"" src=""/searchahead-js/searchaheadAll.min.js""></script></head><body bgcolor=""#fff""><script>(function(){var src=\'/images/nav_logo199.png\';var iesg=false;document.body.onload = function(){window.n && window.n();if (document.images){new Image().src=src;}\nif (!iesg){document.f&&document.f.q.focus();document.gbqf&&document.gbqf.q.focus();}\n}\n})();</script><div id=""mngb"">    <div id=gbar><nobr><b class=gb1>Search</b> <a class=gb1 href=""http://www.google.com/imghp?hl=en&tab=wi"">Images</a> <a class=gb1 href=""http://maps.google.com/maps?hl=en&tab=wl"">Maps</a> <a class=gb1 href=""https://play.google.com/?hl=en&tab=w8"">Play</a> <a class=gb1 href=""http://www.youtube.com/?tab=w1"">YouTube</a> <a class=gb1 href=""http://news.google.com/nwshp?hl=en&tab=wn"">News</a> <a class=gb1 href=""https://mail.google.com/mail/?tab=wm"">Gmail</a> <a class=gb1 href=""https://drive.google.com/?tab=wo"">Drive</a> <a class=gb1 style=""text-decoration:none"" href=""http://www.google.com/intl/en/options/""><u>More</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a href=""http://www.google.com/history/optout?hl=en"" class=gb4>Web History</a> | <a  href=""/preferences?hl=en"" class=gb4>Settings</a> | <a target=_top id=gb_70 href=""https://accounts.google.com/ServiceLogin?hl=en&continue=http://www.google.com/"" class=gb4>Sign in</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div>    </div><center><span id=""prt"" style=""display:block""> <div><style>.pmoabs{background-color:#fff;border:1px solid #E5E5E5;color:#666;font-size:13px;padding-bottom:20px;position:absolute;right:2px;top:3px;z-index:986}#pmolnk{border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px}.kd-button-submit{border:1px solid #3079ed;background-color:#4d90fe;background-image:-webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#4787ed));background-image:-webkit-linear-gradient(top,#4d90fe,#4787ed);background-image:-moz-linear-gradient(top,#4d90fe,#4787ed);background-image:-ms-linear-gradient(top,#4d90fe,#4787ed);background-image:-o-linear-gradient(top,#4d90fe,#4787ed);background-image:linear-gradient(top,#4d90fe,#4787ed);filter:progid:DXImageTransform.Microsoft.gradient(startColorStr=\'#4d90fe\',EndColorStr=\'#4787ed\')}.kd-button-submit:hover{border:1px solid #2f5bb7;background-color:#357ae8;background-image:-webkit-gradient(linear,left top,left bottom,from(#4d90fe),to(#357ae8));background-image:-webkit-linear-gradient(top,#4d90fe,#357ae8);background-image:-moz-linear-gradient(top,#4d90fe,#357ae8);background-image:-ms-linear-gradient(top,#4d90fe,#357ae8);background-image:-o-linear-gradient(top,#4d90fe,#357ae8);background-image:linear-gradient(top,#4d90fe,#357ae8);filter:progid:DXImageTransform.Microsoft.gradient(startColorStr=\'#4d90fe\',EndColorStr=\'#357ae8\')}.kd-button-submit:active{-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,0.3);box-shadow:inset 0 1px 2px rgba(0,0,0,0.3)}#pmolnk a{color:#fff;display:inline-block;font-weight:bold;padding:5px 20px;text-decoration:none;white-space:nowrap}.xbtn{color:#999;cursor:pointer;font-size:23px;line-height:5px;padding-top:5px}.padi{padding:0 8px 0 10px}.padt{padding:5px 20px 0 0;color:#444}.pads{text-align:left;max-width:200px}</style> <div class=""pmoabs"" id=""pmocntr2"" style=""behavior:url(#default#userdata);display:none""> <table border=""0""> <tr> <td colspan=""2""> <div class=""xbtn"" onclick=""google.promos&&google.promos.toast&& google.promos.toast.cpc()"" style=""float:right"">&times;</div> </td> </tr> <tr> <td class=""padi"" rowspan=""2""> <img src=""/images/icons/product/chrome-48.png""> </td> <td class=""pads"">A faster way to browse the web</td> </tr> <tr> <td class=""padt""> <div class=""kd-button-submit"" id=""pmolnk""> <a href=""/chrome/index.html?hl=en&amp;brand=CHNG&amp;utm_source=en-hpp&amp;utm_medium=hpp&amp;utm_campaign=en"" onclick=""google.promos&&google.promos.toast&& google.promos.toast.cl()"">Install Google Chrome</a> </div> </td> </tr> </table> </div> <script type=""text/javascript"">(function(){var a={s:{}};a.s.va=50;a.s.ra=10;a.s.aa=""body"";a.s.Ra=!0;a.s.Ua=function(b,c){var d=a.s.Ha();a.s.Ja(d,b,c);a.s.Va(d);a.s.Ra&&a.s.Sa(d)};a.s.Va=function(b){(b=a.s.ca(b))&&0<b.forms.length&&b.forms[0].submit()};a.s.Ha=function(){var b=document.createElement(""iframe"");b.height=0;b.width=0;b.style.overflow=""hidden"";b.style.top=b.style.left=""-100px"";b.style.position=""absolute"";document.body.appendChild(b);return b};a.s.ca=function(b){return b.contentDocument||b.contentWindow.document};a.s.Ja=function(b,c,d){b=a.s.ca(b);b.open();d=[""<"",a.s.aa,\'><form method=POST action=""\',d,\'"">\'];for(var e in c)c.hasOwnProperty(e)&&d.push(\'<textarea name=""\',e,\'"">\',c[e],""</textarea>"");d.push(""</form></"",a.s.aa,"">"");b.write(d.join(""""));b.close()};a.s.ea=function(b,c){c>a.s.ra?google&&google.ml&&google.ml(Error(""ogcdr""),!1,{cause:""timeout""}):b.contentWindow?a.s.Ta(b):window.setTimeout(function(){a.s.ea(b,c+1)},a.s.va)};a.s.Ta=function(b){document.body.removeChild(b)};a.s.Sa=function(b){a.s.Fa(b,""load"",function(){a.s.ea(b,0)})};a.s.Fa=function(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent&&b.attachEvent(""on""+c,d)};var m={Ya:0,G:1,H:2,M:5};a.o={};a.o.O={na:""i"",L:""d"",pa:""l""};a.o.C={P:""0"",I:""1""};a.o.R={N:1,L:2,K:3};a.o.A={ha:""a"",la:""g"",F:""c"",Ba:""u"",Aa:""t"",P:""p"",ta:""pid"",ja:""eid"",Ca:""at""};a.o.oa=window.location.protocol+""//www.google.com/_/og/promos/"";a.o.ka=""g"";a.o.Da=""z"";a.o.V=function(b,c,d,e){var f=null;switch(c){case m.G:f=window.gbar.up.gpd(b,d,!0);break;case m.M:f=window.gbar.up.gcc(e)}return null==f?0:parseInt(f,10)};a.o.Na=function(b,c,d){return c==m.G?null!=window.gbar.up.gpd(b,d,!0):!1};a.o.S=function(b,c,d,e,f,h,k,l){var g={};g[a.o.A.P]=b;g[a.o.A.la]=c;g[a.o.A.ha]=d;g[a.o.A.Ca]=e;g[a.o.A.ja]=f;g[a.o.A.ta]=1;k&&(g[a.o.A.F]=k);l&&(g[a.o.A.Ba]=l);if(h)g[a.o.A.Aa]=h;else return google.ml(Error(""knu""),!1,{cause:""Token is not found""}),null;return g};a.o.Y=function(b,c,d){if(b){var e=c?a.o.ka:a.o.Da;c&&d&&(e+=""?authuser=""+d);a.s.Ua(b,a.o.oa+e)}};a.o.Ia=function(b,c,d,e,f,h,k){b=a.o.S(c,b,a.o.O.L,a.o.R.L,d,f,null,e);a.o.Y(b,h,k)};a.o.La=function(b,c,d,e,f,h,k){b=a.o.S(c,b,a.o.O.na,a.o.R.N,d,f,e,null);a.o.Y(b,h,k)};a.o.Qa=function(b,c,d,e,f,h,k,l,g,n){switch(c){case m.M:window.gbar.up.dpc(e,f);break;case m.G:window.gbar.up.spd(b,d,1,!0);break;case m.H:g=g||!1,l=l||"""",h=h||0,k=k||a.o.C.I,n=n||0,a.o.Ia(e,h,k,f,l,g,n)}};a.o.Oa=function(b,c,d,e,f){return c==m.G?0<d&&a.o.V(b,c,e,f)>=d:!1};a.o.Ka=function(b,c,d,e,f,h,k,l,g,n){switch(c){case m.M:window.gbar.up.iic(e,f);break;case m.G:c=a.o.V(b,c,d,e)+1;window.gbar.up.spd(b,d,c.toString(),!0);break;case m.H:g=g||!1,l=l||"""",h=h||0,k=k||a.o.C.P,n=n||0,a.o.La(e,h,k,1,l,g,n)}};a.o.Pa=function(b,c,d,e,f,h){b=a.o.S(c,b,a.o.O.pa,a.o.R.K,d,e,null,null);a.o.Y(b,f,h)};var p={Wa:""a"",Za:""l"",Xa:""c"",ia:""d"",K:""h"",N:""i"",jb:""n"",I:""x"",gb:""ma"",hb:""mc"",ib:""mi"",$a:""pa"",ab:""pc"",cb:""pi"",fb:""pn"",eb:""px"",bb:""pd"",kb:""gpa"",mb:""gpi"",nb:""gpn"",ob:""gpx"",lb:""gpd""};a.i={};a.i.w={qa:""hplogo"",za:""pmocntr2""};a.i.C={ya:""0"",I:""1"",ga:""2""};a.i.v=document.getElementById(a.i.w.za);a.i.ma=16;a.i.wa=2;a.i.xa=20;google.promos=google.promos||{};google.promos.toast=google.promos.toast||{};a.i.J=function(b){a.i.v&&(a.i.v.style.display=b?"""":""none"",a.i.v.parentNode&&(a.i.v.parentNode.style.position=b?""relative"":""""))};a.i.fa=function(b){try{if(a.i.v&&b&&b.es&&b.es.m){var c=window.gbar.rtl(document.body)?""left"":""right"";a.i.v.style[c]=b.es.m-a.i.ma+a.i.wa+""px"";a.i.v.style.top=a.i.xa+""px""}}catch(d){google.ml(d,!1,{cause:a.i.B+""_PT""})}};google.promos.toast.cl=function(){try{a.i.T==m.H&&a.o.Pa(a.i.W,a.i.D,a.i.C.ga,a.i.$,a.i.X,a.i.Z),window.gbar.up.sl(a.i.D,a.i.B,p.K,a.i.U(),1)}catch(b){google.ml(b,!1,{cause:a.i.B+""_CL""})}};google.promos.toast.cpc=function(){try{a.i.v&&(a.i.J(!1),a.o.Qa(a.i.v,a.i.T,a.i.w.ba,a.i.W,a.i.Ga,a.i.D,a.i.C.I,a.i.$,a.i.X,a.i.Z),window.gbar.up.sl(a.i.D,a.i.B,p.ia,a.i.U(),1))}catch(b){google.ml(b,!1,{cause:a.i.B+""_CPC""})}};a.i.da=function(){try{if(a.i.v){var b=276,c=document.getElementById(a.i.w.qa);c&&(b=Math.max(b,c.offsetWidth));var d=parseInt(a.i.v.style.right,10)||0;a.i.v.style.visibility=2*(a.i.v.offsetWidth+d)+b>document.body.clientWidth?""hidden"":""""}}catch(e){google.ml(e,!1,{cause:a.i.B+""_HOSW""})}};a.i.Ea=function(){var b=[""gpd"",""spd"",""aeh"",""sl""];if(!window.gbar||!window.gbar.up)return!1;for(var c=0,d;d=b[c];c++)if(!(d in window.gbar.up))return!1;return!0};a.i.Ma=function(){return a.i.v.currentStyle&&""absolute""!=a.i.v.currentStyle.position};google.promos.toast.init=function(b,c,d,e,f,h,k,l,g,n,q,r){try{if(!a.i.Ea())google.ml(Error(""apa""),!1,{cause:a.i.B+""_INIT""});else if(a.i.v)if(e==m.H&&!l==!g)google.ml(Error(""tku""),!1,{cause:""zwieback: ""+g+"", gaia: ""+l}),a.i.J(!1);else if(a.i.w.F=""toast_count_""+c+(q?""_""+q:""""),a.i.w.ba=""toast_dp_""+c+(r?""_""+r:""""),a.i.B=d,a.i.D=b,a.i.T=e,a.i.W=c,a.i.Ga=f,a.i.$=l?l:g,a.i.X=!!l,a.i.Z=k,a.o.Na(a.i.v,e,a.i.w.ba,c)||a.o.Oa(a.i.v,e,h,a.i.w.F,c)||a.i.Ma())a.i.J(!1);else{a.o.Ka(a.i.v,e,a.i.w.F,c,f,a.i.D,a.i.C.ya,a.i.$,a.i.X,a.i.Z);if(!n){try{window.gbar.up.aeh(window,""resize"",a.i.da)}catch(u){}window.lol=a.i.da;window.gbar.elr&&a.i.fa(window.gbar.elr());window.gbar.elc&&window.gbar.elc(a.i.fa);a.i.J(!0)}window.gbar.up.sl(a.i.D,a.i.B,p.N,a.i.U())}}catch(t){google.ml(t,!1,{cause:a.i.B+""_INIT""})}};a.i.U=function(){var b=a.o.V(a.i.v,a.i.T,a.i.w.F,a.i.W);return""ic=""+b};})();</script> <script type=""text/javascript"">(function(){var sourceWebappPromoID=144002;var sourceWebappGroupID=5;var payloadType=5;var cookieMaxAgeSec=2592000;var dismissalType=5;var impressionCap=25;var gaiaXsrfToken=\'\';var zwbkXsrfToken=\'\';var kansasDismissalEnabled=false;var sessionIndex=0;var invisible=false;window.gbar&&gbar.up&&gbar.up.r&&gbar.up.r(payloadType,function(show){if (show){google.promos.toast.init(sourceWebappPromoID,sourceWebappGroupID,payloadType,dismissalType,cookieMaxAgeSec,impressionCap,sessionIndex,gaiaXsrfToken,zwbkXsrfToken,invisible,\'0612\');}\n});})();</script> </div> </span><br clear=""all"" id=""lgpd""><div id=""lga""><a href=""/search?site=&amp;ie=UTF-8&amp;q=Eiji+Tsuburaya&amp;oi=ddle&amp;ct=eiji-tsuburayas-114th-birthday-4809204506296320&amp;hl=en&amp;sa=X&amp;ei=QuybVeO7Osy4sAXDxIKQCg&amp;ved=0CAMQNg""><img alt=""Eiji Tsuburaya&#8217;s 114th Birthday"" border=""0"" height=""200"" src=""/logos/doodles/2015/eiji-tsuburayas-114th-birthday-4809204506296320.2-hp.jpg"" title=""Eiji Tsuburaya&#8217;s 114th Birthday"" width=""356"" id=""hplogo"" onload=""window.lol&&lol()""><br></a><br></div><form action=""/search"" name=""f""><table cellpadding=""0"" cellspacing=""0""><tr valign=""top""><td width=""25%"">&nbsp;</td><td align=""center"" nowrap=""""><input name=""ie"" value=""ISO-8859-1"" type=""hidden""><input value=""en"" name=""hl"" type=""hidden""><input name=""source"" type=""hidden"" value=""hp""><input name=""biw"" type=""hidden""><input name=""bih"" type=""hidden""><div class=""ds"" style=""height:32px;margin:4px 0""><input style=""color:#000;margin:0;padding:5px 8px 0 6px;vertical-align:top"" autocomplete=""off"" class=""lst"" value="""" title=""Google Search"" maxlength=""2048"" name=""q"" size=""57""></div><br style=""line-height:0""><span class=""ds""><span class=""lsbb""><input class=""lsb"" value=""Google Search"" name=""btnG"" type=""submit""></span></span><span class=""ds""><span class=""lsbb""><input class=""lsb"" value=""I\'m Feeling Lucky"" name=""btnI"" onclick=""if(this.form.q.value)this.checked=1; else top.location=\'/doodles/\'"" type=""submit""></span></span></td><td class=""fl sblc"" align=""left"" nowrap="""" width=""25%""><a href=""/advanced_search?hl=en&amp;authuser=0"">Advanced search</a><a href=""/language_tools?hl=en&amp;authuser=0"">Language tools</a></td></tr></table><input id=""gbv"" name=""gbv"" type=""hidden"" value=""1""></form><div id=""gac_scont""></div><div style=""font-size:83%;min-height:3.5em""><br></div><span id=""footer""><div style=""font-size:10pt""><div style=""margin:19px auto;text-align:center"" id=""fll""><a href=""/intl/en/ads/"">Advertising&nbsp;Programs</a><a href=""/services/"">Business Solutions</a><a href=""https://plus.google.com/116899029375914044550"" rel=""publisher"">+Google</a><a href=""/intl/en/about.html"">About Google</a></div></div><p style=""color:#767676;font-size:8pt"">&copy; 2015 - <a href=""/intl/en/policies/privacy/"">Privacy</a> - <a href=""/intl/en/policies/terms/"">Terms</a></p></span></center><script>(function(){window.google.cdo={height:0,width:0};(function(){var a=window.innerWidth,b=window.innerHeight;if(!a||!b)var c=window.document,d=""CSS1Compat""==c.compatMode?c.documentElement:c.body,a=d.clientWidth,b=d.clientHeight;a&&b&&(a!=google.cdo.width||b!=google.cdo.height)&&google.log("""","""",""/client_204?&atyp=i&biw=""+a+""&bih=""+b+""&ei=""+google.kEI);})();})();</script><div id=""xjsd""></div><div id=""xjsi"" data-jiis=""bp""><script>(function(){function c(b){window.setTimeout(function(){var a=document.createElement(""script"");a.src=b;document.getElementById(""xjsd"").appendChild(a)},0)}google.dljp=function(b,a){google.xjsu=b;c(a)};google.dlj=c;})();(function(){window.google.xjsrm=[];})();if(google.y)google.y.first=[];if(!google.xjs){window._=window._||{};window._._DumpException=function(e){throw e};if(google.timers&&google.timers.load.t){google.timers.load.t.xjsls=new Date().getTime();}google.dljp(\'/xjs/_/js/k\\x3dxjs.hp.en_US.n4Isykx1pOI.O/m\\x3dsb_he,d/rt\\x3dj/d\\x3d1/t\\x3dzcms/rs\\x3dACT90oGruBlRL4zSGyBzh4XK8InqnND9gA\',\'/xjs/_/js/k\\x3dxjs.hp.en_US.n4Isykx1pOI.O/m\\x3dsb_he,d/rt\\x3dj/d\\x3d1/t\\x3dzcms/rs\\x3dACT90oGruBlRL4zSGyBzh4XK8InqnND9gA\');google.xjs=1;}google.pmc={""sb_he"":{""agen"":true,""cgen"":true,""client"":""heirloom-hp"",""dh"":true,""ds"":"""",""fl"":true,""host"":""google.com"",""jam"":0,""jsonp"":true,""msgs"":{""cibl"":""Clear Search"",""dym"":""Did you mean:"",""lcky"":""I\\u0026#39;m Feeling Lucky"",""lml"":""Learn more"",""oskt"":""Input tools"",""psrc"":""This search was removed from your \\u003Ca href=\\""/history\\""\\u003EWeb History\\u003C/a\\u003E"",""psrl"":""Remove"",""sbit"":""Search by image"",""srch"":""Google Search""},""ovr"":{},""pq"":"""",""refoq"":true,""refpd"":true,""rfs"":[],""scd"":10,""sce"":5,""stok"":""zjtqyOq-JYCOTkhf-6zvDRQ7OsI""},""d"":{}};google.y.first.push(function(){if(google.med){google.med(\'init\');google.initHistory();google.med(\'history\');}});if(google.j&&google.j.en&&google.j.xi){window.setTimeout(google.j.xi,0);}\n</script></div></body></html>'
>>>
"
9436,51234,Creating a contour plot in paraview from a numpy array,">>> from vtk.util import numpy_support as npvtk
>>> vtkarray = npvtk.numpy_to_vtk(numpy_array)
>>> numpy_array = npvtk.vtk_to_numpy(vtkarray)
"
31501,9769,Create function to retrieve ID from table,"def getCourseID(s):
    cur.execute('SELECT id FROM students WHERE name = ? ', (s, ))
    results = list(cur)
    if results:
        return results[0][0]
    return None # nothing was found...
"
16236,31378,"Match an element in a list, then return `n` elements before it and `m` elements after it","from collections import deque

def item_with_context(predicate, seq, before=0, after=0):
    q = deque(maxlen=before)
    it = iter(seq)

    for s in it:
        if predicate(s):
            return list(q) + [s] + [x for _,x in zip(range(after), it)]
        q.append(s)
"
35081,82203,Non blocking event scheduling in python,"import threading

def hello():
    t = threading.Timer(10.0, hello)
    t.start()
    print ""hello, world"" 

t = threading.Timer(10.0, hello)
t.start() 
"
4532,53583,Regex for matching any occurrence of ABC following XYZ anywhere in the string ,"s = ""Some ABC text followed by XYZ followed by multiple ABC, more ABC, more ABC""

pattern = re.compile(r'(?<=XYZ)(.*?)ABC')
while pattern.search(s):
   s = pattern.sub(r'\1REPLACED', s)

print s
"
7030,72068,How to open a large number of file with for loop?,"import collections

file_data = collections.defaultdict(list)

with open(""you_file"") as f
    for line in file:
        tag, data  = line.split('\t', 1)
        file_data[tag].append(data) 

for file_name, data in file_data.items():
    with open(file_name, 'w') as f:
         f.write(""\n"".join(data))
"
20204,54865,Tkinter Calculator Python 3.4.2,"import sys
from tkinter import *
from PIL import Image, ImageTk

def clear():
    txtDisplay.delete(0,END);
    return;

#Parent Window.
root = Tk();
root.title('Calculator ++ [1.7.2]');
root.geometry('350x450');

#Main entry.
num1 = StringVar();
txtDisplay = Entry(root, textvariable = num1, relief=RIDGE, bd = 10, width=33,    insertwidth = 1, font = 40);
txtDisplay.place(x=15, y=10);
txtDisplay.focus();


def update_entry(v):
    current_value = num1.get()
    num1.set(current_value + v)

#Buttons:
zeroButton = Button(root, text='0', width=20, height=3, bg='LightBlue', fg='red', command = lambda: update_entry('0')).place(x=17,y=382);
oneButton = Button(root, text='1', width=8, height=3, bg='LightBlue', fg='red', command = lambda: update_entry('1')).place(x=17, y=302);
twoButton = Button(root, text='2', width=8, height=3, bg='LightBlue', fg='red').place(x=100, y=302);
threeButton = Button(root, text='3', width=8, height=3, bg='LightBlue', fg='red').place(x=182, y=302);
fourButton = Button(root, text='4', width=8, height=3, bg='LightBlue', fg='red').place(x=17, y=222);
fiveButton = Button(root, text='5', width=8, height=3, bg='LightBlue', fg='red').place(x=100, y=222);
sixButton = Button(root, text='6', width=8, height=3, bg='LightBlue', fg='red').place(x=182, y=222);
sevenButton = Button(root, text='7', width=8, height=3, bg='LightBlue', fg='red').place(x=17, y=142);
eightButton = Button(root, text='8', width=8, height=3, bg='LightBlue', fg='red').place(x=100, y=142);
ninthButton = Button(root, text='9', width=8, height=3, bg='LightBlue', fg='red').place(x=182, y=142);

decimalButton = Button(root, text='.', width=8, height=3, bg='powder blue').place(x=182, y=382);
equalButton = Button(root, text='=', width=8, height=8, bg='Lightgreen').place(x=264, y=307);
plusButton = Button(root, text='+', width=8, height=3, bg='gray', command = lambda: update_entry('+')).place(x=264, y=222);
minusButton = Button(root, text='-', width=8, height=3, bg='gray').place(x=264, y=142);
multiplyButton = Button(root, text='x', width=8, height=3, bg='gray').place(x=264, y=66);
divideButton = Button(root, text='÷', width=8, height=3, bg='gray').place(x=182, y=66);
clearButton = Button(root, text='Clear (CE)', width=20, height=3, command =      clear, bg='Orange').place(x=17, y=66);

#Locks the parent windows size.
root.maxsize(350,450);
root.minsize(350,450);

#Parent window's background color:
root.configure(background = 'black');
root.mainloop();
"
26913,74484,Serach in list string element by value,"tlist = ['Hello world',
   'Hello world print',
   'Text',
   'World hello print']

print [i for i in tlist if ""print"" in i]
"
14388,48109,How to implement a persistent Python `list`?,"class PersistentList(list):
    def __init__(self, *args, **kwargs):
        for attr in ('append', 'extend', 'insert', 'pop', 'remove', 'reverse', 'sort'):
            setattr(self, attr, self._autosave(getattr(self, attr))
        list.__init__(self, *args, **kwargs)
    def _autosave(self, func):
        @wraps(func)
        def _func(*args, **kwargs):
            ret = func(*args, **kwargs)
            self._save()
            return ret 
        return _func
"
22261,71708,How can I enumerate rows in groups with Spark/Python?,"from pyspark.sql.functions import row_number
from pyspark.sql import Window

w = Window.partitionBy(""some_column"").orderBy(""some_other_column"")
df.withColumn(""rn"", row_number().over(w))
"
1545,19923,Custom sorting on a namedtuple class,"@total_ordering
class B_ordering(object):
    __slots__ = ()                 # see Raymond's comment
    def __lt__(self, other):
        return self.y < other.y

class B(B_ordering, namedtuple('B', 'x y')):
    pass
"
35369,6073,how to rewrite python dicts to get default values,"from collections import defaultdict

a = defaultdict(lambda:None)
print a[100]
"
26276,23286,Pandas variable numbers of columns to binary matrix,"import pandas as pd

# read your csv data, separate must not be ',', for example, set tab `\t`
# =======================================================================
# I just read from clipboard
df = pd.read_clipboard(header=None, sep='\t')

df
                   0
0          a,b,x,z,y
1  b,e,w,t,u,o,s,z,i
2              z,o,w
3          o,p,w,z,a

# step 1
# =========================
df1 = df.groupby(level=0).apply(lambda group: pd.Series(group.values.ravel().tolist()[0].split(',')))

df1

0  0    a
   1    b
   2    x
   3    z
   4    y
1  0    b
   1    e
   2    w
   3    t
   4    u
       ..
   7    z
   8    i
2  0    z
   1    o
   2    w
3  0    o
   1    p
   2    w
   3    z
   4    a
dtype: object


# step 2
# =========================
pd.get_dummies(df1).groupby(level=0).agg(max)

   a  b  e ...  x  y  z
0  1  1  0 ...  1  1  1
1  0  1  1 ...  0  0  1
2  0  0  0 ...  0  0  1
3  1  0  0 ...  0  0  1

[4 rows x 13 columns]

# step 3, to_csv()
# =========================
"
15375,55272,How can I parse the json string in javascript,"var mydata = {{indexdata}};
"
36582,4372,Save IPython notebook directly to RST format?,"ipython nbconvert --to rst your.ipynb
"
26296,56274,Input popup window for input into interactive python game,"from Tkinter import *

class MyDialog:

    def __init__(self, parent):

        top = self.top = Toplevel(parent)

        Label(top, text=""Value"").pack()

        self.e = Entry(top)
        self.e.pack(padx=5)

        b = Button(top, text=""OK"", command=self.ok)
        b.pack(pady=5)

    def ok(self):

        print ""value is"", self.e.get()

        self.top.destroy()


root = Tk()
Button(root, text=""Hello!"").pack()
root.update()

d = MyDialog(root)

root.wait_window(d.top)
root.mainloop()
"
33448,80512,python curses textbox widget,"#!/usr/bin/env python

import curses
import curses.textpad as textpad

try:
    mainwindow = curses.initscr()
    # Some curses-friendly terminal settings
    curses.cbreak(); mainwindow.keypad(1); curses.noecho()
    textpad.Textbox(mainwindow).edit()
finally:
    # Reverse curses-friendly terminal settings
    curses.nocbreak(); mainwindow.keypad(0); curses.echo()
    curses.endwin()
"
14549,31467,How do I sort unicode strings alphabetically in Python?,">>> import icu # pip install PyICU
>>> sorted(['a','b','c','ä'])
['a', 'b', 'c', 'ä']
>>> collator = icu.Collator.createInstance(icu.Locale('de_DE.UTF-8'))
>>> sorted(['a','b','c','ä'], key=collator.getSortKey)
['a', 'ä', 'b', 'c']
"
15159,66115,Run a test multiple times from another test,"for i in xrange(10):
    args = ['python', 'testrun.py', 'HWStatus']
    p = subprocess.Popen(args)
    while p.poll() != 0:
        time.sleep(amount_of_time)
"
12566,11081,Python: Find number of occurrences of given array within two-dimensional array,">>> haystack = np.array([[1, -1, 1, -1],
...                      [1, 1, -1, 1],
...                      [1, -1, 1, -1]])
>>> needle = np.array([1, -1, 1, -1])
>>> haystack.dot(needle)
array([ 4, -2,  4])
>>> np.sum(haystack.dot(needle) == len(needle))
2
"
20035,73365,reverse dataframe's rows' order with pandas,"reversed_df = df.iloc[::-1]
"
7984,10321,Can't install new python module [Ubuntu 15.10],"from bugland import bug
"
11821,11679,Discerning class parameters in documentation/class reference,"button = Gtk.Button(label='Some text')
"
10295,59337,Asynchronous listening/iteration of pipes in python,"read_pipes = [pipe_fd0, pipe_fd1, ... ]

while True:
    read_fds, write_fds, exc_fds =  select.select(read_pipes, [], [] )
    for read_fd in read_fds:
        # read from read_fd pipe descriptor
"
11704,12785,Identity quirk with string split(),"Py_LOCAL_INLINE(PyObject *)
STRINGLIB(split_whitespace)(PyObject* str_obj,
                           const STRINGLIB_CHAR* str, Py_ssize_t str_len,
                           Py_ssize_t maxcount)
{
    ...
#ifndef STRINGLIB_MUTABLE
        if (j == 0 && i == str_len && STRINGLIB_CHECK_EXACT(str_obj)) {
            /* No whitespace in str_obj, so just use it as list[0] */
            Py_INCREF(str_obj);
            PyList_SET_ITEM(list, 0, (PyObject *)str_obj);
            count++;
            break;
        }
"
21607,9025,How can I access the integer held in a variable which is defined by a separate definition,"def enterPiece(aBoard, aColour, aPoint):
    c = aBoard
    if 0 < aPoint <= aBoard.size:
        for j in range(aPoint):
            c.removePieceFromPoint(aColour, 0)
            c.addPieceToPoint(aColour, aPoint)
            return True
        else:
            return False
"
12710,57530,How to convert all data in dataframe column to dates [Python/Pandas],"In [67]:

df=pd.read_clipboard(header=None, na_values=['0'])
print df
            0
0  22/05/2014
1  22/05/2014
2         NaN
3  22/05/2014
In [68]:

pd.to_datetime(df[0])
Out[68]:
0   2014-05-22
1   2014-05-22
2          NaT
3   2014-05-22
Name: 0, dtype: datetime64[ns]
"
36108,21117,Follow up: Execute .sql files from python,"with open(scriptPath, 'r') as inp:
    for line in inp:
        if line == 'GO\n':
            c.execute(sqlQuery)
            sqlQuery = ''
        elif 'PRINT' in line:
            disp = line.split(""'"")[1]
            print(disp, '\r')
        else:
            sqlQuery = sqlQuery + line
inp.close()
"
25387,47162,Sort numpy array according to tags,"starts=numpy.intersect1d(numpy.where(a<44)[0]+1,numpy.where(a>44)[0])
print(numpy.split(a,starts))
"
26222,26373,How do I set permissions (attributes) on a file in a ZIP file using Python's zipfile module?,"buffer = ""path/filename.zip""  # zip filename to write (or file-like object)
name = ""folder/data.txt""      # name of file inside zip 
bytes = ""blah blah blah""      # contents of file inside zip

zip = zipfile.ZipFile(buffer, ""w"", zipfile.ZIP_DEFLATED)
info = zipfile.ZipInfo(name)
info.external_attr = 0777 << 16L # give full access to included file
zip.writestr(info, bytes)
zip.close()
"
31511,53845,Extract Outer Text with Scrappy,"In [1]: text = '''
   ...: <span>    Lekhwiya&nbsp;v&nbsp;<strong class=""winner-strong"">Zobahan</strong></span>
   ...: <span>    <strong class=""winner-strong"">Sepahan</strong>&nbsp;v&nbsp;Al&nbsp;Nasr&nbsp;(UAE)</span>
   ...: '''

In [2]: import scrapy

In [3]: selector = scrapy.Selector(text=text, type=""html"")

In [4]: for span in selector.xpath('//span'):
   ...:     print(span.xpath('string(.)').extract_first())
   ...:     
    Lekhwiya v Zobahan
    Sepahan v Al Nasr (UAE)

In [5]: for span in selector.xpath('//span'):
    print(span.xpath('normalize-space(.)').extract_first())
   ...:     
Lekhwiya v Zobahan
Sepahan v Al Nasr (UAE)
"
39730,19006,problem with python xgoogle library. How to increase the limit of 10 results?,"from xgoogle.search import GoogleSearch, SearchError
try:
  page = 1
  gs = GoogleSearch(""foo bar"")  
  gs.results_per_page = 100
  results = []
  while page < 10:
      gs.page = page
      results += gs.get_results()
      page += 1
except SearchError, e:
  print ""Search failed: %s"" % e
for res in results:
    print res.url
"
4930,36102,Convert Selenium IDE Syntax to Python Webdriver,"def change_window(browser):
    """"""
    Simple window switcher without the need of playing with ids.
    @param browser: Current browser instance
    """"""
    curr = browser.current_window_handle
    all_handles = browser.window_handles
    for handle in list(set([curr]) - set(all_handles)):
        return browser.switch_to_window(handle)
"
39857,64236,Django: admin.site.register issue,"class DeviceAdmin(AjaxSelectAdmin):
    ... code that you have above ...

class DeviceAdminWithHistory(DeviceAdmin, SimpleHistoryAdmin):
    pass

admin.site.register(Device, DeviceAdminWithHistory)
"
7882,32952,How do I sort records which are like `a | b | c | 8` and `n | 8 | p | 4` in Python?,"sorted(yourArray, key=lambda x: x[3])
#sort yourArray by the 4th value in every list
"
21669,42373,How to extract nested level of a HTML element using BeautifulSoup?,">>> for elem in soup.findAll():
    path = '.'.join(reversed([p.name for p in elem.parentGenerator() if p]))
    print ""{:10}|{:60}|{:10}"".format(elem.name,elem.attrs, path)


html      |[]                                                          |[document]
head      |[]                                                          |[document].html
title     |[]                                                          |[document].html.head
body      |[]                                                          |[document].html
div       |[(u'id', u'abc')]                                           |[document].html.body
ol        |[(u'id', u'def')]                                           |[document].html.body.div
li        |[(u'class', u'testItem')]                                   |[document].html.body.div.ol
a         |[(u'href', u'http://testpage.html')]                        |[document].html.body.div.ol.li
li        |[(u'class', u'testItem')]                                   |[document].html.body.div.ol
table     |[(u'id', u'testTable')]                                     |[document].html.body.div.ol.li
tr        |[]                                                          |[document].html.body.div.ol.li.table
td        |[]                                                          |[document].html.body.div.ol.li.table.tr
div       |[(u'id', u'testDiv')]                                       |[document].html.body.div.ol.li.table.tr.td
>>> 
"
20820,27539,"List of tables, db schema, dump etc using the Python sqlite3 API","sqlite> .tab
job         snmptarget  t1          t2          t3        
sqlite> select name from sqlite_master where type = 'table';
job
t1
t2
snmptarget
t3

sqlite> .schema job
CREATE TABLE job (
    id INTEGER PRIMARY KEY,
    data VARCHAR
);
sqlite> select sql from sqlite_master where type = 'table' and name = 'job';
CREATE TABLE job (
    id INTEGER PRIMARY KEY,
    data VARCHAR
)
"
23638,26515,"Python Stacktrace: calledfuncs dictionary with strange syntax: ""Class'>.method""","    ...
        clsname = str(classes[0])
    ...
    if clsname is not None:
        # final hack - module name shows up in str(cls), but we've already
        # computed module name, so remove it
        clsname = clsname.split(""."")[1:]
        clsname = ""."".join(clsname)
        funcname = ""%s.%s"" % (clsname, funcname)
"
10147,9444,cx_freeze fails to include Cython .pyx module,"from cx_Freeze import Executable
from cx_Freeze import setup as cx_setup
from distutils.core import setup
from Cython.Build import cythonize

setup(options={'build_ext': {'compiler': 'mingw32'}},
      ext_modules=cythonize(""fx.pyx""))

cx_setup(name='myproject',
      version='0.0',
      description='',
      options={""build_exe"": {""packages"":[""pygame"",""fx""]}},
      executables=[Executable('main.py',targetName=""myproject.exe"",base = ""Win32GUI"")],
      requires=['pygcurse','pyperclip','rsa','dill','numpy']
      )
"
9306,44775,How to refer to a standard library in a logging configuration file?,"import logging
import socket

# The next line allows 'socket' in the logging package's namespace to pick up
# the stdlib socket module
logging.socket = socket
...
# when the config file is processed, it should work as expected
logging.config.fileConfig(...)
# remove the mapping from the logging package, as not needed any more
# (optional)
del logging.socket
"
37535,28633,"Django: Best way to implement ""status"" field in modules","PENDING = 0
DONE = 1
STATUS_CHOICES = (
    (PENDING, 'Pending'),
    (DONE, 'Done'),
)
"
36554,55419,Beautiful Soup: Copy a table to a new file,"with open('file_output.html', 'w') as f:
  for tag in soup.select(""#ModelTable""):
    f.write(tag.prettify())
"
31772,73922,passing variables from python to bash shell script via os.system,"In [2]: os.environ['probe1'] = 'hello'

In [3]: os.system('echo $probe1')
hello
"
12788,2767,csv to xlsx - when import its always blank?,"import csv
from xlsxwriter.workbook import Workbook

workbook = Workbook(""test.xlsx"")
worksheet = workbook.add_worksheet(""Raw_Data"")

with open(""C:\Console2\\csv.test"",'r') as f:
    reader = csv.reader(f)
    for r, row in enumerate(reader):
        for c, col in enumerate(row):
            worksheet.write(r, c, col)

workbook.close()
"
31064,51853,Selenium Webdriver halting with [Errno 10054],"from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from Tkinter import *
import Tkinter as tk
from tkFileDialog import askopenfilename
import time
from selenium.webdriver.firefox.firefox_binary import FirefoxBinary

#out
out = open(""n_grams_outfile.txt"", ""w"")
out.write(""search string"" + ""\t"" + ""pub year"" + ""\t"" + ""frequency"" + ""\n"")

#create a function that will return the filepath for a file provided by the user
user_defined_filepath = {}
def selectfile():
    user_defined_filepath['filename'] = askopenfilename(filetypes=[(""Text"",""*.txt"")]) # user_defined_filepath['filename'] may now be accessed in the global scope.

#create function we'll call when start button is pressed
def query_n_grams(event = ""<Button>""):

    #create binary switch we'll use to only start new browser in first pass. Set default to true
    first_pass = 1

    #identify the input file
    inputfile = user_defined_filepath['filename']
    readinputfile = open(inputfile).read()
    stringinputfile = str(readinputfile)

    #assume input file = tsv. Left hand column = string of len <= 6; right hand column = pub year of text
    split_by_row = stringinputfile.split(""\n"")
    for row in split_by_row:

        #because the program will yelp if it reaches the end of the input file and then tries to split an empty line on ""\t"", wrap call in try/except
        try:
            search_terms = row.split(""\t"")[0]
            actual_pub_year = row.split(""\t"")[1]
        except IndexError:
            pass

        pub_year_minus_five = int(actual_pub_year) - 5
        pub_year_plus_five = int(actual_pub_year) + 5        

        #you now have terms and pub yaer. Fire up webdriver and ride, cowboy
        if first_pass == 1:

            binary = FirefoxBinary('C:\Text\Professional\Digital Humanities\Programming Languages\Python\Query Literature Online\LION 3.0\Firefox Versions\Firefox23\FirefoxPortable.exe')
            driver = webdriver.Firefox(firefox_binary=binary)

            first_pass = 0

        #otherwise, use extant driver
        driver.implicitly_wait(10)
        driver.get(""https://books.google.com/ngrams"")
        driver.refresh()
        driver.implicitly_wait(10)

        #send keys
        driver.implicitly_wait(10)
        keyword = driver.find_element_by_class_name(""query"")
        driver.implicitly_wait(10)
        keyword.clear()
        driver.implicitly_wait(10)
        keyword.send_keys(str(search_terms))
        driver.implicitly_wait(10)

        #find start year
        driver.implicitly_wait(10)
        start_year = driver.find_element_by_name(""year_start"")
        driver.implicitly_wait(10)
        start_year.clear()
        driver.implicitly_wait(10)
        start_year.send_keys(str(pub_year_minus_five))
        driver.implicitly_wait(10)

        #find end year
        driver.implicitly_wait(10)
        end_year = driver.find_element_by_name(""year_end"")
        driver.implicitly_wait(10)
        end_year.clear()
        driver.implicitly_wait(10)
        end_year.send_keys(pub_year_plus_five)
        driver.implicitly_wait(10)

        #click enter
        driver.implicitly_wait(10)
        submit_button = driver.find_element_by_class_name(""kd_submit"")
        driver.implicitly_wait(10)
        submit_button.click()
        driver.implicitly_wait(10)

        #grab html
        driver.implicitly_wait(10)
        html = driver.page_source
        driver.implicitly_wait(10)

        #if you run a search that yields no hits, can't split the html, so use try/except
        try:

            #we want the list object that comes right after timeseries and before the comma
            desired_percent_figures = html.split('""timeseries"": [')[1].split(""]"")[0]

            #now desired_percent_figures contains comma-separated list of percents (which we still need to convert out of mathematical notation). Convert out of mathematical notation (with e)
            percents_as_list = desired_percent_figures.split("","")

            #convert to ints
            percent_list_as_ints = [float(i) for i in percents_as_list]

            #take your list and find mean
            mean_percent = sum(percent_list_as_ints) / float(len(percent_list_as_ints))

            out.write(str(search_terms) + ""\t"" + str(actual_pub_year) + ""\t"" + str(mean_percent) + ""\n"")

        #you'll get IndexError if you run a query like ""Hello Garrett"" for which there are no entries in the database at all. (Other queries, like 'animal oeconomy' for year 1700, yields result 0, but because search string is in database elsewhere, won't throw IndexError)
        except IndexError:

            mean_percent = ""0.0""

            #because we got an index error, we know that the search yielded no results. so let's type 0.0 as percent
            out.write(str(search_terms) + ""\t"" + str(actual_pub_year) + ""\t"" + str(mean_percent) + ""\n"")

#create TK frame
root = tk.Tk()
canvas = tk.Canvas(root, width=157, height=100)
canvas.pack()

#create label for tk
ngram_label = tk.Button(root, text = ""Google N-Gram API"", command = """", anchor = 'w', width = 14, activebackground = ""#33B5E5"")
ngram_label_canvas = canvas.create_window(20, 20, anchor='nw', width = 119, window=ngram_label)

#create a button that allows users to find a file for analysis
file_label = tk.Button(root, text = ""Input file"", command = selectfile, anchor = 'w', width = 7, activebackground = ""#33B5E5"")
file_label_canvas = canvas.create_window(20, 60, anchor='nw', window=file_label)

#create a start button that allows users to submit selected parameters and run the ""startviewing"" processes
start_label = tk.Button(root, text = ""Go!"", command = query_n_grams, anchor = 'w', width = 3, activebackground = ""#33B5E5"")
start_label_canvas = canvas.create_window(107, 60, anchor='nw', window=start_label)

root.mainloop()
"
2790,13291,Using __init__ to create a class for four vectors,"class FourVector:
    def __init__(self, ct = 0, x = 0, y = 0, z = 0, r = None):
        self.a = (ct, x, y, z)
        if r is not None:
            self.a = (ct, r[0], r[1], r[2])

P0 = FourVector()
print P0.a

P1 = FourVector(ct = 9, x = 1, y = 2, z = 4)
print P1.a

P2 = FourVector(ct = 99.9, r = [1, 2, 4])
print P2.a
"
39054,49350,What does <py3fix> mean?,">>> eval(compile('def _raise(*a): raise a[0], a[1], a[2]', '<py3fix>', 'exec'))
>>> _raise(Exception, ""error message"", None)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""<py3fix>"", line 1, in _raise
Exception: error message

>>> eval(compile('def _raise(*a): raise a[0], a[1], a[2]', '<my_source_file>', 'exec'))
>>> _raise(Exception, ""error message"", None)Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""<my_source_file>"", line 1, in _raise
Exception: error message
"
21654,1398,"Exposing a ""dumbed-down"", read-only instance of a Model in GAE","class User(db.Model):
    def readonly(self):
        return ReadOnlyUser(self.name, self.id);
"
28825,56356,Adding a condition,"def replace(a,b): 
while True:
    c = input(""Enter a letter you would like to replace"") 
    d = """" 
    charfound = False
    for char in a: 
        if char == c: 
            charfound = True    
            d += b 
        else: 
            d+= char 
    if charfound:
        print(d)
        break
    else:
        print('Letter must be in phrase!')
"
31591,3000,Multiplying two 2D numpy arrays to a 3D array,"C=np.einsum('ij,ik->jik',A,B)
"
13969,25312,Display text when cursor is placed over button in python,"class Example(...):
    def __init__(...):
        ...
        self.l1.description = ""This is label 1""
        self.l2.description = ""This is label 2""
        self.b1.description = ""This is the OK button""

        for widget in (self.l1, self.l2, self.b1):
            widget.bind(""<Enter>"", self.on_enter)
            widget.bind(""<Leave>"", self.on_leave)
        ...

    def on_enter(self, event):
        description = getattr(event.widget, ""description"", """")
        self.l2.configure(text=description)
"
37321,37217,Django ManyToMany Query intersection,"Event.objects.filter(groups__person=person)
"
1823,78498,Importing string as an ordered dictionary,"import re
import ast
from collections import OrderedDict

def read(f):
    for s in f:
        m = re.match(r'^OrderedDict\((.+)\)$', s)
        if m:
            yield OrderedDict(ast.literal_eval(m.group(1)))

...
for d in read(snap_fh):
    print type(d)
"
39595,61004,How to get the equation of the boundary line in Linear Discriminant Analysis with sklearn,"np.dot(clf.coef_, x) - clf.intercept_ = 0
"
14263,84680,python how can I sort a list by a pattern matching with variable names,"import re

data=['test_140815080910_data.p',
'other_test_140815081010_data.p',
'other_test_140815081111_other_data.p']

data.sort(key=lambda L: (re.findall('\d{10}', L), L))
# ['test_140815080910_data.p', 'other_test_140815081010_data.p', 'other_test_140815081111_other_data.p']
"
17655,38349,Adding a round down feature on a program,">>> import math
>>> print (math.floor(5.6))
5.0
"
32468,3449,"How to make model, django","class Lessons(models.Model):
    name = models.CharField()

class Exercises(models.Model):
    lesson = models.ForeignKey(Lessons)
    name = models.CharField()
    text = models.CharField()
"
34561,42079,How to escape char in Python 3 ''' string?,"'''This is a test {{ <-- escape these ---> }} and the value is {0}'''.format(42)
"
12916,85196,Count the occurrence of same words in a csv file which occurs in the same row in python,"import csv
from collections import Counter

with open('words.csv') as f:
    next(f)  # skip header
    occurrence = Counter(tuple(row[1:3]) for row in csv.reader(f))

with open('occurrence.csv', 'w') as f:
    writer = csv.writer(f)
    writer.writerow(['Destination', 'Source', 'Counts'])
    for (dest, src), cnt in occurrence.items():
        writer.writerow([dest, src, cnt])
"
17704,48082,"Selecting all users who subscribe to a particular user, but to whom that user does not subscribe","SELECT
    u.id
FROM
    subscriptions sub  JOIN
    users u ON u.id = sub.subscriber_id LEFT JOIN
    subscriptions unsub
        ON unsub.subscribee_id = sub.subscriber_id
        AND unsub.subscriber_id= sub.subscribee_id 
WHERE
    sub.subscribee_id = :user_id
    AND unsub.subscribee_id IS NULL
"
24872,64703,Logging errors to two different files,"def _get_logger(pdir,ldir,lname,level,fmt):
    try:
        logs_dir = os.path.join(pdir, ldir)
        if not os.path.exists(logs_dir):
            os.makedirs(logs_dir)
    except Exception as e:
        print e
        exit(1)

    logging.basicConfig(
        filename=os.path.join(logs_dir, lname),
        level=level,
        format=fmt
    )
    return logging.getLogger('cli.log')


exec_file = os.path.abspath(argv[0])
exec_dir = os.path.dirname(exec_file)
#build a dict with default configuration values for the logger
default_logger = dict(pdir=exec_dir,ldir='logs',lname='cli.log',level='ERROR',
                fmt='%(asctime)s %(levelname)s: %(message)s')

try:
    log_filename = args.logfile if args.logfile else config.get('Logging', 'filename')
    level = config.get('Logging', 'log_level')
    format = config.get('Logging', 'format')
except (NoOptionError, NoSectionError) as e:
    #unpack the configuration dict and call _get_logger
    logger = _get_logger(**default_logger)
    logger.error(repr(e))
    exit(1)
else:
    # we have successfully read configuration from file, so update
    # configuration dict to reflect new settings
    default_logger.update(fmt=format,level=level,lname=log_filename)
if os.path.isabs(log_filename):
    # log_filename is an absolute one. split it to get filename and dirname
    # and update configuration dict
    bdir, log_filename = os.path.split(log_filename)
    default_logger.update(pdir='',ldir=bdir,lname=log_filename)
logger = _get_logger(**default_logger)
"
14444,5003,Remove items from a list while iterating without using extra memory in Python,"def walk_list(list_of_g):
    to_idx = 0
    for g_current in list_of_g:
        if not subtle_condition(g_current):
            list_of_g[to_idx] = g_current
            to_idx += 1
    del list_of_g[to_idx:]
"
27607,69675,Having Django serve downloadable files,"from django.utils.encoding import smart_str

response = HttpResponse(mimetype='application/force-download') # mimetype is replaced by content_type for django 1.7
response['Content-Disposition'] = 'attachment; filename=%s' % smart_str(file_name)
response['X-Sendfile'] = smart_str(path_to_file)
# It's usually a good idea to set the 'Content-Length' header too.
# You can also set any other required headers: Cache-Control, etc.
return response
"
19843,73765,Python Scrapy override content type to be multipart/form-data on post Request,"import scrapy
from scrapy.http import FormRequest

class MySpider(scrapy.Spider):
    # ...
    def start_requests(self):
        yield FormRequest(some_post_url,
                          formdata=dict(param1='value1', param2='value2'))
"
22654,83237,sorting a list of dictionary values by date in python,"list.sort(key=lambda item:item['date'], reverse=True)
"
15232,30437,Any Idea on how Should I analyze this Algorithm?,"function checkdata(code) { 
  var dig = 0; 
  var test = 1; 
  for(var i=0; i<code.length-1;i++) { 
    dig=dig+(char2number(code.charAt(i))*test);
    test*=2;
  }
  dig = mod(dig,9);
  alert(dig);
  if(dig==code.charAt(code.length-1)) return true; 
  else return false;}
"
34565,33177,Writing multi-dimensional list value to a file in Python,"import csv
with open(filename, 'w') as f:
   writer = csv.writer(f, delimiter=',')
   writer.writerows(my_list)  #considering my_list is a list of lists.
"
28475,19850,Matplotlib imshow: how to apply a mask on the matrix,"import numpy as np
import matplotlib.pyplot as plt

lowerBound = 0.25
upperBound = 0.75
myMatrix = np.random.rand(100,100)

myMatrix =np.ma.masked_where((lowerBound < myMatrix) & 
                             (myMatrix < upperBound), myMatrix)


fig,axs=plt.subplots(2,1)
#Plot without mask
axs[0].imshow(myMatrix.data)

#Default is to apply mask
axs[1].imshow(myMatrix)

plt.show()
"
23762,58583,Python for loop with condition,"id_array = [x.id for x in _get_object_array() if x.id % 2 == 0]
"
35681,15727,"How to flatten a list with various data types (int, tuple)",">>> from itertools import chain
>>> l = [0, 2, (1, 2), 5, 2, (3, 5)]
>>> list(chain(*(i if isinstance(i, tuple) else (i,) for i in l)))
[0, 2, 1, 2, 5, 2, 3, 5]
"
7516,40117,Splitting a range of numbers up recursively with Python,"def cutter(seq):
    n = len(seq)
    if n <= 20:
        # here the recursion stops, do your stuff with the sequence
        return
    a = cutter(seq[:n/2])
    b = cutter(seq[n/2:])
    # combine the answer from both subsequences
    return
"
5799,23357,Outputting a list one element per line,"for elem in cmp_data['company']:
    print elem
"
21691,14170,Is there a pythonic way to group range based segmented functions into a single function?,"funcs = (
    (20, f),
    (40, g),
    (float('inf'), h),
)

def superFunction(x):
    for limit, f in funcs:
        if x <= limit:
            return f(x)
"
2691,63541,"I need to get tuples of x,y coordinates from a file and add it to a list","import sys
def test(filename):
    f = open(filename)
    lines = f.readlines()
    lines = [item.rstrip(""\n"") for item in lines]
    newList = list()
    for item in lines:
            item = item.split("","")
            item = tuple(int(items) for items in item)
            newList.append(item)                
    f.close()
    print newList

if __name__ == ""__main__"":
    test(sys.argv[1])

O/P:
techie@gateway2:myExperiments$ python test.py /export/home/techie/myExperiments/test.txt
[(68, 125), (113, 69), (65, 86), (108, 149), (152, 53), (78, 90), (54, 160), (20, 137), (107, 90), (48, 12)]
"
31232,7643,Check if a list element is in a list when one of it's elements is unknown,">>> data = [[1, 3, ""String1""], [3, 2, ""String2""]]
>>> class AnyString(str):
...     def __eq__(self, other):
...         return isinstance(other, str)
...     
>>> check = [1, 3, AnyString()]
>>> check in data
True
"
31134,26614,"Python Pandas, one dict column, create new rows for each key/value pair",">>> df_tags = df.apply(lambda x: pd.Series(x['Tags']),axis=1).stack().reset_index(level=1, drop=False)
>>> df_tags.columns = ['Key', 'Value']
>>> df_tags
          Key   Value
0        Type      12
0  background  orange
0      circle    blue
>>> df.drop('Tags', axis=1).join(df_tags)
     ID  Name         Key   Value
0  4345  Bill        Type      12
0  4345  Bill  background  orange
0  4345  Bill      circle    blue
"
29561,59383,python csv help,"In [1]: import sys,csv

In [2]: csv.writer(sys.stdout).writerow(['one"", f""', 'two', 'three'])  
""one"""", f"""""",two,three

In [3]: csv.reader(['""one"""", f"""""",two,three']).next()  
Out[3]: ['one"", f""', 'two', 'three']
"
37611,49417,I want to add 'show more comments..' button in my odoo | openerp module,"$('.load_comments').on('click', function () {

openerp.jsonRpc(""/slides/expand_comment"", + $(this).attr('slide-id'), 'call', {
    'values': comments,
}).then(function (data) {
        $(data.target).closest('.list_comment').html($('<div class=""media""</div>'));
        // slides: data
});
"
12890,11117,Passing a column name as a variable to a select statement in a function in python / pandas,"querysting = ""select Year, {} from table where Year={}"".format(c,y)
df = pd.read_sql(querystring,db)
"
25634,8229,Flask-Admin: Form scaffolding per-request,"class InstitutionView(ModelView):
    ...

    # _handle_view called every request
    def _handle_view(self, name, **kwargs):
        if not flask_login.current_user.is_authenticated():
            return self.inaccessible_callback(name, **kwargs)

        # re-scaffold views every request
        self._refresh_cache()

        return super(InstitutionView, self)._handle_view(name, **kwargs)

    # _refresh_cache called once when view is added to admin interface
    def _refresh_cache(self):
        # do not _refresh_cache outside of a request context
        if not flask_login.current_user:
            # init members with empty tuples to avoid instantiation error
            self._list_columns = ()
            return
        super(InstitutionView, self)._refresh_cache()
"
7724,62230,Need help with python list manipulation,"class Unit:
  """"""Very simple class to track a unit name, and an associated count.""""""
  def __init__(self, name, amount):
   self.name = name
   self.amount = amount

# Pre-existing lists of types and amounts.    
list1 = [""Infantry"", ""Tanks"", ""Jets""]
list2 = [ 10, 20, 30]

# Create a list of Unit objects, and initialize using
# pairs from the above lists.    
units = []
for a, b in zip(list1, list2):
  units.append(Unit(a, b))
"
4575,6242,How to change 2nd level index into 2nd level column in pandas DataFrame?,"df.unstack(level=-1)
"
7937,40527,Subtracting after groupby,"difference = lambda x: ['x['Allotment'][0], x.ix[1]['NDII_Mean'] - x.ix[0]['NDII_Mean']]
df_diffs = DataFrame([difference(x[1].reset_index(drop = True)) for x in df.groupby(['Allotment'])])
df_diffs.columns = ['Allotment', 'NDII_Mean']
print df_diffs

  Allotment  NDII_Mean
0   A_Annex    0.55756
1  Arnstson   -0.02747
"
1838,81207,python3 zip result used twice,"for j in range(123) :
    for x,y in zip(list1,list2) :
        doSomething()
....
for x,y in zip(list1,list2) :
    doSomethingElse()
"
16620,37431,How do I get rid of make_xxx() method?,"import os
import abc

class Path(object):
    __metaclass__ = abc.ABCMeta

    def __new__(cls, path):       
        imp = cls._get_subclass_for(path)
        instance = super(Path, cls).__new__(imp)
        return instance

    def __init__(self, path):
        self.path = path

    @classmethod
    def _get_subclass_for(cls, path):
        #import pdb; pdb.set_trace()
        for subclass in cls.__subclasses__():
            if subclass.match(path):
                return subclass
        raise LookupError(""No matching subclass for path '%s'"" % path)

    @staticmethod
    @abc.abstractmethod
    def match(path):
        return False


@Path.register
class FilePath(Path):
    @staticmethod
    def match(path):
        return os.path.isfile(path)


@Path.register
class DirectoryPath(Path):
    @staticmethod
    def match(path):
        return os.path.isdir(path)
"
23215,68198,Python POST request can't find data attribute,"response = requests.post(url, data=data, headers=headers)
"
23618,57564,python how can I generate new random numbers each time a loop iterates?,"import random

while True:

    first_num = random.randint(1,500)
    second_num = random.randint(1,500)

    print (first_num)
    print (second_num)

    answer = int(input('Entrer la somme des deux nombres: '))

    if answer == first_num + second_num:
        print(""It's correct!"")
        break
    else:
        print(""It's wrong!"")
        tryAgain = raw_input('Try again? [(y)/n] ')
        if tryAgain.lower() == 'n':
            break
"
18737,72770,move through lines after using readline() python,"line2 = new_file.next() # now pointing at line 3
if line2[0] == ""P"":
    for _ in xrange(4):
        new_file.next() # skip lines 3, 4, 5, 6
else:
    new_file.next() # skip line 3 only
"
28775,50497,python - Change multiple files of same extensions,"for filename in glob.iglob(""*.hgx""):
    with open(filename) as f:
        # process file f here
"
33433,74517,Python [ ] notation in list,"In [38]: x='a'

In [39]: lis=[]

In [40]: id(lis)
Out[40]: 154680492

In [41]: lis=lis+[x]

In [42]: lis
Out[42]: ['a']

In [43]: id(lis)
Out[43]: 154749100
"
26672,78949,List - How to find number of times an item appears,"#initializing a variable with some mock poll data
option1 = ""general store""
option2 = ""supermarket""
option3 = ""mall""
option4 = ""small store""

sample_data = [option1,option2,option1,option1,option3,option3,option4,option4,option4,option2]

#a dict that will store the poll results
results = {}

for response in sample_data:
    results[response] = results.setdefault(response, 0) + 1
"
1691,61704,Sqlalchemy many-to-many relationships: delete the child only if there are no more references?,"
def maybeExpungeTag(self, tag):
    """"""
    Delete /tag/ from the tags table if it is no longer referenced by
    any bookmarks.

    Return:
        True if the tag was deleted.
        False if the tag is still referenced and was not deleted.
    """"""
    if not len(tag.bookmarks):
        self.session.delete(tag)
        return True
    else:
        return False

# and for the actual delete...
mark = # ...get the bookmark being deleted
tags = mark.tags_rel
self.session.delete(mark)
for tag in tags:
    self.maybeExpungeTag(tag)
self.session.commit()
"
21431,7525,Google app engine terminate my functions,"from google.appengine.ext import deferred

  def do_something_expensive(a, b, c=None):
    logging.info(""Doing something expensive!"")
    # Do your work here

  # Somewhere else
  deferred.defer(do_something_expensive, ""Hello, world!"", 42, c=True)
"
26231,33656,Checking the created time for the date and comparing to todays date?,"import os.path, time
from datetime import datetime
from time import mktime

fulldate = time.ctime(os.path.getctime(""file.xlsx""))
struct = time.strptime(fulldate)
filetime = datetime.fromtimestamp(mktime(struct))
filedate = filetime.replace(hour=0, minute=0, second=0, microsecond=0)

if filetime < datetime.now():
  print ""The file is quite old""
else:
  print ""The file is not so old""
"
10882,25755,How to generate exponentially increasing range in Python,"numbers_sizes = (i*10**exp for exp in range(2, 9) for i in range(1, 10))
for n in numbers_sizes:
    test(n)
"
2530,33699,Add a minute to a string,"import dateutil.parser as p

(p.parse(""02:20:03"")+datetime.timedelta(minutes=2)).time()
"
9521,47681,How can I find the highest poker hand from a 9 card hand between 4 players?,"STRAIGHT_FLUSH = 9
...
TWO_PAIR = 2
ONE_PAIR = 1
HIGH_CARD = 0

hand_score('A7532')  # I omit suits here
# => (HIGH_CARD, 14,7,5,3,2)
hand_score('KK333')
# => (FULL_HOUSE, 3, 13)
hand_score('33444')
# => (FULL_HOUSE, 4, 3)
hand_score('AKQJ0')
# => (STRAIGHT, 14)

# Tuples can be easily compared:
(HIGH_CARD, 14,7,5,3,2) < (STRAIGHT, 14)
# => True
"
1607,67173,How to get a list of most popular pages from Google Analytics in Python (Django)?,"import httplib2

from apiclient.discovery import build
from oauth2client.client import SignedJwtAssertionCredentials

# Email of the Service Account.
SERVICE_ACCOUNT_EMAIL = '<some-id>@developer.gserviceaccount.com'

# Path to the Service Account's Private Key file.
SERVICE_ACCOUNT_PKCS12_FILE_PATH = '/path/to/<public_key_fingerprint>-privatekey.p12'

def createAnalyticsService():
  f = file(SERVICE_ACCOUNT_PKCS12_FILE_PATH, 'rb')
  key = f.read()
  f.close()

  credentials = SignedJwtAssertionCredentials(SERVICE_ACCOUNT_EMAIL, key,
      scope='https://www.googleapis.com/auth/analytics.readonly')
  http = httplib2.Http()
  http = credentials.authorize(http)

  return build('analytics', 'v3', http=http)
"
3161,19012,Test which Numpy function argument has more than one element,"import numpy as np

a=np.array([1,])
b=np.array([1,])
c=np.array([1,2,3])

def foo(a,b,c):
    args=locals()
    return args.items()[np.array([i[1].size for i in args.items()]).argmax()][1]

biggest = foo(a,b,c)
print biggest
# [1,2,3]
"
583,69767,How to create a list with inputs in python 3.4?,"Lst =[]
if entData != ""stop"":
    Lst.append(entData)
"
15416,49997,What is the difference of objects and filter in mongoengine?,"def filter(self, *q_objs, **query):
    """"""An alias of :meth:`~mongoengine.queryset.QuerySet.__call__`
    """"""
    return self.__call__(*q_objs, **query)
"
37912,46191,"Key Signature Validates in Python, Won't in Java?","import java.math.BigInteger;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class SignatureFromPython {
    private static final Pattern PAT = Pattern.compile(""\\[(\\d+)\\]"");

    private static byte[] i2osp(final BigInteger i, final int bitSize) {
        if (i == null || i.signum() == -1) {
            throw new IllegalArgumentException(
                    ""input parameter should not be null or negative"");
        }

        if (bitSize < Byte.SIZE) {
            throw new IllegalArgumentException(
                    ""bitSize parameter should not be negative and a multiple of 8"");
        }

        final int byteSize = (bitSize - 1) / Byte.SIZE + 1;
        final byte[] signedBigEndian = i.toByteArray();
        final int signedBigEndianLength = signedBigEndian.length;
        if (signedBigEndianLength == byteSize) {
            return signedBigEndian;
        }

        final byte[] leftPadded = new byte[byteSize];

        if (signedBigEndianLength == byteSize + 1) {
            System.arraycopy(signedBigEndian, 1, leftPadded, 0, byteSize);
        } else if (signedBigEndianLength < byteSize) {
            System.arraycopy(signedBigEndian, 0, leftPadded, byteSize
                    - signedBigEndianLength, signedBigEndianLength);
        } else {
            throw new IllegalArgumentException(
                    ""Integer i is too large to fit into "" + bitSize + "" bits"");
        }
        return leftPadded;
    }

    public static String toHex(final byte[] data) {
        final StringBuilder hex = new StringBuilder(data.length * 2);
        for (int i = 0; i < data.length; i++) {
            hex.append(String.format(""%02X"", data[i]));
        }
        return hex.toString();
    }

    public static void main(String[] args) {
        String sigString = ""[68830459489863257411523011520104203035626147084548742757940226446079486348431212041096334237130703774949375015187747280487790006116898192460644067270457728626039524097117092304115366780581423597886886987279231850120937691165013216970647150989646220735762034864029622135210042186666476516651349805320771941650]"";
        Matcher sigMatcher = PAT.matcher(sigString);
        if (!sigMatcher.matches()) {
            throw new IllegalArgumentException(""Whatever"");
        }
        BigInteger sigBI = new BigInteger(sigMatcher.group(1));
        // requires bouncy castle libraries
        System.out.println(toHex(i2osp(sigBI, 1024)));
    }
}
"
14308,65676,wx.TextCtrl and wx.Validator,"import wx

class TextObjectValidator(wx.PyValidator):
     """""" This validator is used to ensure that the user has entered something
         into the text object editor dialog's text field.
     """"""
     def __init__(self):
         """""" Standard constructor.
         """"""
         wx.PyValidator.__init__(self)



     def Clone(self):
         """""" Standard cloner.

             Note that every validator must implement the Clone() method.
         """"""
         return TextObjectValidator()


     def Validate(self, win):
         """""" Validate the contents of the given text control.
         """"""
         textCtrl = self.GetWindow()
         text = textCtrl.GetValue()

         if len(text) == 0:
             wx.MessageBox(""A text object must contain some text!"", ""Error"")
             textCtrl.SetBackgroundColour(""pink"")
             textCtrl.SetFocus()
             textCtrl.Refresh()
             return False
         else:
             textCtrl.SetBackgroundColour(
                 wx.SystemSettings_GetColour(wx.SYS_COLOUR_WINDOW))
             textCtrl.Refresh()
             return True


     def TransferToWindow(self):
         """""" Transfer data from validator to window.

             The default implementation returns False, indicating that an error
             occurred.  We simply return True, as we don't do any data transfer.
         """"""
         return True # Prevent wxDialog from complaining.


     def TransferFromWindow(self):
         """""" Transfer data from window to validator.

             The default implementation returns False, indicating that an error
             occurred.  We simply return True, as we don't do any data transfer.
         """"""
         return True # Prevent wxDialog from complaining.

#----------------------------------------------------------------------

class TestValidateDialog(wx.Dialog):
    def __init__(self, parent):
        wx.Dialog.__init__(self, parent, -1, ""Validated Dialog"")

        self.SetAutoLayout(True)
        VSPACE = 10

        fgs = wx.FlexGridSizer(0, 2)

        fgs.Add((1,1));
        fgs.Add(wx.StaticText(self, -1,
                             ""These controls must have text entered into them.  Each\n""
                             ""one has a validator that is checked when the Okay\n""
                             ""button is clicked.""))

        fgs.Add((1,VSPACE)); fgs.Add((1,VSPACE))

        label = wx.StaticText(self, -1, ""First: "")
        fgs.Add(label, 0, wx.ALIGN_RIGHT|wx.CENTER)

        fgs.Add(wx.TextCtrl(self, -1, """", validator = TextObjectValidator()))

        fgs.Add((1,VSPACE)); fgs.Add((1,VSPACE))

        label = wx.StaticText(self, -1, ""Second: "")
        fgs.Add(label, 0, wx.ALIGN_RIGHT|wx.CENTER)
        fgs.Add(wx.TextCtrl(self, -1, """", validator = TextObjectValidator()))


        buttons = wx.StdDialogButtonSizer() #wx.BoxSizer(wx.HORIZONTAL)
        b = wx.Button(self, wx.ID_OK, ""OK"")
        b.SetDefault()
        buttons.AddButton(b)
        buttons.AddButton(wx.Button(self, wx.ID_CANCEL, ""Cancel""))
        buttons.Realize()

        border = wx.BoxSizer(wx.VERTICAL)
        border.Add(fgs, 1, wx.GROW|wx.ALL, 25)
        border.Add(buttons)
        self.SetSizer(border)
        border.Fit(self)
        self.Layout()



app = wx.App(redirect=False)
f = wx.Frame(parent=None)
f.Show()
dlg = TestValidateDialog(f)
dlg.ShowModal()
dlg.Destroy()

app.MainLoop()
"
17646,65932,How to delete all rows in a dataframe?,">>> import numpy as np
>>> import pandas as pd
>>> index = np.arange(0, 10)
>>> df = pd.DataFrame(index=index, columns=['foo', 'bar'])
>>> df
Out[268]: 
   foo  bar
0  NaN  NaN
1  NaN  NaN
2  NaN  NaN
3  NaN  NaN
4  NaN  NaN
5  NaN  NaN
6  NaN  NaN
7  NaN  NaN
8  NaN  NaN
9  NaN  NaN
"
26316,21800,SqlAlchemy cache with dogpile,"from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base
from examples.dogpile_caching.caching_query import query_callable, FromCache, RelationshipCache
from hashlib import md5
from dogpile.cache.region import make_region

Base = declarative_base()

class Person(Base):
    __tablename__ = 'person'
    id = Column(Integer, primary_key=True)
    name = Column(String(100), nullable=False)
    type = Column(String(50))
    __mapper_args__ = {
        'polymorphic_identity': 'object',
        'polymorphic_on': type
        }

class Man(Person):
    __tablename__ = 'man'
    id = Column(Integer, ForeignKey('person.id'), primary_key=True)
    age = Column(String(100), nullable=False)
    __mapper_args__ = {'polymorphic_identity': 'man'}

class SomethingElse(Person):
    __tablename__ = 'somethingelse'

    id = Column(Integer, ForeignKey('person.id'), primary_key=True)
    age = Column(String(100), nullable=False)
    __mapper_args__ = {'polymorphic_identity': 'somethingelse'}

class Config(Base):
    __tablename__ = ""config""
    id = Column(Integer, primary_key=True)
    person = Column(Integer, ForeignKey('person.id'))
    address = Column(String)
    person_ref = relationship(Person)

e = create_engine(""sqlite://"", echo=True)
Base.metadata.create_all(e)

def md5_key_mangler(key):
    """"""Receive cache keys as long concatenated strings;
    distill them into an md5 hash.

    """"""
    return md5(key.encode('ascii')).hexdigest()

regions = {}
regions['default'] = make_region(
            key_mangler=md5_key_mangler
            ).configure(
                'dogpile.cache.memory_pickle',
            )

Session = scoped_session(
                sessionmaker(
                    bind=e,
                    query_cls=query_callable(regions)
                )
            )

sess = Session()
sess.add(Config(person_ref=SomethingElse(age='45', name='se1')))
sess.add(Config(person_ref=Man(age='30', name='man1')))
sess.commit()

all_types = with_polymorphic(Person, ""*"", aliased=True)

conf = sess.query(Config).options(joinedload(Config.person_ref.of_type(all_types)), FromCache(""default"")).first()
sess.commit()
sess.close()

print ""_____NO MORE SQL!___________""


conf = sess.query(Config).options(joinedload(Config.person_ref.of_type(all_types)), FromCache(""default"")).first()
print conf.person_ref.age
"
36103,78989,How to get shell prompt in Python,"echo $PS1
"
2492,25315,Python check exit status of a shell command,"def OSinfo(runthis):
    osstdout = subprocess.Popen(runthis, shell=True, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.STDOUT, close_fds=True)

    theInfo = osstdout.communicate()[0].strip()

    return (theInfo, osstout.returncode)
"
7427,28300,Can a hashed password using BCrypt in Java be recognised by Python?,">>> 'hello world'.encode('hex')
'68656c6c6f20776f726c64'
>>> '68656c6c6f20776f726c64'.decode('hex')
'hello world'
"
5983,77161,Python: Kill Thread,"def subthread1(stop):
    while not stop:
        time.sleep(1)
        print(' 1...')

def main_thread(q):
    stop = [] # list rather than boolean because we need it ""by reference""

    t1 = Thread(target=subthread1, args=(stop,))
    t1.daemon = True
    t1.start()

    while True:
        msg = q.get()
        if msg == 0:
            print(""EXITING THREAD"")
            stop.append(True)
            break
"
29169,37906,Python middleware call on a particular request,"def process_request(self, request):
    full_path = request.get_full_path()
    if full_path.startswith('/users/login'):
        return
"
32387,74621,How do I make Django admin URLs accessible to localhost only?,"<Location /admin>
    Order Deny, Allow
    Deny from all
    Allow from 127.0.0.1
</Location>
"
31142,32739,How to read from an os.pipe() without getting blocked?,"import os, fcntl
fcntl.fcntl(thePipe, fcntl.F_SETFL, os.O_NONBLOCK) 
"
24867,31766,Concatenate sparse matrices in Python using SciPy/Numpy,"from scipy.sparse import hstack
hstack((X, X2))
"
31705,18817,Check memory usage of subprocess in Python,"subprocess.Popen('ulimit -v 1024; ls', shell=True)
"
12445,80489,Split one large .xml file in more .xml files (python),">>> tcs = root.findall('Testcase')
>>> tcs
[<Element 'Testcase' at 0x23e14e0>, <Element 'Testcase' at 0x23e1828>]
>>> len(tcs)
2
>>> r = ET.Element('Root')
>>> r.append(tcs[0])
>>> ET.tostring(r, 'utf-8')
'<Root><Testcase>\n          <Info1>[]</Info1>\n          <Info2>[]</Info2>\n     </Testcase>\n     </Root>'
"
739,40346,merging two tables with millions of rows in python,"A = HDFStore('A.h5')
B = HDFStore('B.h5')

nrows_a = A.get_storer('df').nrows
nrows_b = B.get_storer('df').nrows
a_chunk_size = 1000000
b_chunk_size = 1000000

def merge_a_b(a,b):
    # function that returns an operation on passed
    # frames a and b
    # could be a merge, join, concat, or other operation that 
    # results in a single frame


for a in xrange(int(nrows_a / a_chunk_size) + 1):

    a_start_i = a * a_chunk_size
    a_stop_i  = min((a + 1) * a_chunk_size, nrows_a)

    a = A.select('df', start = a_start_i, stop = a_stop_i)

    for b in xrange(int(nrows_b / b_chunk_size) + 1):

        b_start_i = b * b_chunk_size
        b_stop_i = min((b + 1) * b_chunk_size, nrows_b)

        b = B.select('df', start = b_start_i, stop = b_stop_i)

        # this is your result store
        m = merge_a_b(a, b)

        if len(m):
            store.append('df_result', m)
"
33169,47144,Stripping a string and getting start index and end index,">>> import re
>>> s = '  hello world!   '
>>> match = re.search(r""^\s*(\S.*?)\s*$"", s)
>>> match.group(1), match.start(1), match.end(1)
('hello world!', 2, 14)
"
16894,70787,PyMC3 regression with change point,"with Model() as sw_model:

    sigma = HalfCauchy('sigma', beta=10, testval=1.)

    switchpoint = DiscreteUniform('switchpoint', lower=0, upper=90, testval=45)

    # Priors for pre- and post-switch intercepts and slopes
    intercept_u1 = Uniform('Intercept_u1', lower=-10, upper=10, testval = 0)
    intercept_u2 = Uniform('Intercept_u2', lower=-10, upper=10, testval = 0)
    x_coeff_u1 = Normal('x_u1', 0, sd=20)
    x_coeff_u2 = Normal('x_u2', 0, sd=20)

    intercept = switch(switchpoint < x, intercept_u1, intercept_u2)
    x_coeff = switch(switchpoint < x, x_coeff_u1, x_coeff_u2)

    likelihood = Normal('y', mu=intercept + x_coeff * x, sd=sigma, observed=y)

    start = find_MAP() 

    step1 = NUTS([intercept_u1, intercept_u2, x_coeff_u1, x_coeff_u2])
    step2 = Metropolis([switchpoint])

    trace = sample(20000, step=[step1, step2], start=start, njobs=4,progressbar=True)
"
4564,17968,XMPPPY unable to connect to the server,"import xmpp

ipaddress='<server-ip>'
user='<new-user>' #without @<server-ip>
passwd='<password>'

c = xmpp.Client(ipaddress)
c.connect((ipaddress,5222), secure=0)
c.auth(user,passwd,sasl=1)
c.sendInitPresence()
c.isConnected()
c.send(xmpp.protocol.Message('<jid of receiver user with @<domain> >',""hello world""))
"
32876,39838,Efficient bit-testing conditional iteration over distinct array-elements,"pixels, = np.where(bitflags & FLAG)
for i, pixel in zip(pixels, array[pixels]):
    do_something(i, pixel)
"
17675,12656,Python - Find a word into n lists (without knowing how many are),"list1 = [""a"", ""b"", ""c"", ""xc""]
list2 = [""d"", ""e"", ""to"", ""xc""]
list3 = [""f"", ""g"", ""h"", ""i"", ""j"", ""xc""]

print list(set(list1) & set(list2) & set(list3)) # it will print ['xc']
"
26858,60797,Python Change Output Folder of Java Executable,"#!/usr/bin/env python3
import subprocess

def run_command(command, **kwargs):
    with subprocess.Popen(command,
                          stdout=subprocess.PIPE,
                          stderr=subprocess.STDOUT,
                          bufsize=1,
                          **kwargs) as p:
        yield from p.stdout
    # close p.stdout, call p.wait() automatically

for line in run_command(r'java -jar c:\jar\minecraft.jar',
                        cwd=r'D:\working directory',
                        universal_newlines=True):
    print(line, end='')
"
6528,5411,Make an infinite list of natural numbers pasted together and find index python,"def natural_numbers():
    n = 0
    while True:
        n += 1
        yield n

def find_nth_character(n):
    numbers = """"
    gen = natural_numbers()

    while len(numbers) < n:
        numbers += str(gen.next())

    print numbers
    return numbers[n-1]


def main():
    print find_nth_character(15)

if __name__ == '__main__':
    main()
"
33262,29330,How to Strip Python Output,">>> import platform
>>> platform.linux_distribution()
('Ubuntu', '11.04', 'natty')
>>> "" "".join(platform.linux_distribution())
'Ubuntu 11.04 natty'
>>> 
"
2252,15768,Not able to decode escaped strings python,">>> tgt
'https:\\/\\/pbs.twimg.com\\/profile_banners\\/2604140473\\/1404508267'
>>> tgt.replace('\\', '')
'https://pbs.twimg.com/profile_banners/2604140473/1404508267'
"
21995,27132,Thrift - One way messaging,"service MyService {
    //returns immediately
    oneway void onewayMethod(<params>);

    //blocks until completion
    void normalMethod(<params>);
}
"
11018,17304,Format continously updating output to variable then query string,"import fileinput

pattern = 'UUID={}&Major={}&Minor={}&Power={}&RSSI={}'

for line in fileinput.input():
  query = pattern.format(*line.strip().split(' '))
  # now do something with query
"
25342,40905,How to 're-run' the mainloop in Tkinter,"def check_for_messages():

    <your code here>

    root.after(10000, check_for_messages)
"
22865,23700,using scrapy to scrap asp.net website with javascript buttons and ajax requests,"start_urls = ['http://www.e3050.com/Items.aspx?cat=SON']
pro_urls = [] # all product Urls

def parse(self, response): # select 50 products on each page
    yield FormRequest.from_response(response,
        formdata={'ctl00$ctl00$ContentPlaceHolder1$ItemListPlaceHolder$pagesddl': '50',
                  'ctl00$ctl00$ContentPlaceHolder1$ItemListPlaceHolder$sortddl': 'Price(ASC)'},
        meta={'curr': 1, 'total': 0, 'flag': True},
        dont_click=True,
        callback=self.page_rs_50)

def page_rs_50(self, response): # paginate the pages
    hxs = HtmlXPathSelector(response)
    curr = int(response.request.meta['curr'])
    total = int(response.request.meta['total'])
    flag = response.request.meta['flag']
    self.pro_urls.extend(hxs.select(
        ""//td[@class='name']//a[contains(@id,'ctl00_ctl00_ContentPlaceHolder1_ItemListPlaceHolder_itemslv_ctrl')]/@href""
    ).extract())
    if flag:
        total = hxs.select(
            ""//span[@id='ctl00_ctl00_ContentPlaceHolder1_ItemListPlaceHolder_lbl_pagesizeBtm']/text()"").re('\d+')[0]
    if curr < total:
        curr += 1
        yield FormRequest.from_response(response,
            formdata={'ctl00$ctl00$ContentPlaceHolder1$ItemListPlaceHolder$pagesddl': '50',
                      'ctl00$ctl00$ContentPlaceHolder1$ItemListPlaceHolder$sortddl': 'Price(ASC)',
                      'ctl00$ctl00$ScriptManager1': 'ctl00$ctl00$ScriptManager1|ctl00$ctl00$ContentPlaceHolder1$ItemListPlaceHolder$pager1$ctl00$ctl01'
                , '__EVENTTARGET': 'ctl00$ctl00$ContentPlaceHolder1$ItemListPlaceHolder$pager1$ctl00$ctl01',
                      'ctl00$ctl00$ContentPlaceHolder1$ItemListPlaceHolder$hfVSFileName': hxs.select(
                          "".//input[@id='ctl00_ctl00_ContentPlaceHolder1_ItemListPlaceHolder_hfVSFileName']/@value"").extract()[
                                                                                          0]},
            meta={'curr': curr, 'total': total, 'flag': False},
            dont_click=True,
            callback=self.page_rs_50
        )
    else:
        for pro in self.pro_urls:
            yield Request(""http://www.e3050.com/%s"" % pro,
                callback=self.parse_product)


def parse_product(self, response):
    pass
    #TODO Implementation Required For Parsing
"
33865,48215,Changing an value in a dictionary python 2.7,"bank['bob'][1] = 10  # 'bob' is the key
"
23369,34642,Smoothing Edges of a Binary Image,"cv::Mat vesselImage = cv::imread(filename); //the original image
cv::threshold(vesselImage, vesselImage, 125, 255, THRESH_BINARY);
cv::Mat blurredImage; //output of the algorithm
cv::pyrUp(vesselImage, blurredImage);

for (int i = 0; i < 15; i++)
    cv::medianBlur(blurredImage, blurredImage, 7);

cv::pyrDown(blurredImage, blurredImage);
cv::threshold(blurredImage, blurredImage, 200, 255, THRESH_BINARY);
"
29990,4353,Looping in the GUI,"class MyThread(Thread):
    def __init__(self):
        Thread.__init__(self)
        self.ToKill = False
    def run(self):
        while True:
            self.FooHandler()
            if self.ToKill:
                return None
    def FooHandler(self):
        """""" your function here """"""
        print 3

class Panel(wx.Panel):
    def __init__(self, parent):
        wx.Panel.__init__(self, parent, id=-1, style=wx.RAISED_BORDER)
        Bsizer = wx.BoxSizer(wx.VERTICAL)
        button=wx.ToggleButton(self, label=""Click To Enable"")

        Bsizer.Add(button,1,wx.ALL | wx.EXPAND)
        self.SetSizer(Bsizer)
        self.Bind(wx.EVT_TOGGLEBUTTON,self.buttonEvt,id=button.GetId())

    def buttonEvt(self, evt):
        clickedToggleButton = evt.GetEventObject()
        if clickedToggleButton.GetValue():
            self.thread = MyThread()
            self.thread.start()
            clickedToggleButton.SetLabel(""Click To Disable"")
        else:
            self.thread.ToKill = True
            clickedToggleButton.SetLabel(""Click To Enable"")
"
9668,22615,Reading an X509 Certificate in Python,"import json
import requests
from OpenSSL import crypto

P12_CERT_FILE = 'C:/Users/mryan/Documents/Code/SampleApps/bundle.p12'
p12_cert = crypto.load_pkcs12(open(P12_CERT_FILE).read(), 'passphrase')
pem_cert = crypto.dump_certificate(crypto.FILETYPE_PEM, p12_cert.get_certificate())

# remove PEM header, footer, and new lines to produce raw cert data
raw_data = ''.join(pem_cert.split('\n')[1:-2])
cert_data = json.dumps({'RawData': raw_data})
result = requests.post(apiRoot + ""/Accounts/"" + accId + ""/certs"", data=cert_data)
"
31851,74437,How to convert a 3D vtkDataSet into a numpy array?,"    pixelspace = reader.GetPixelSpacing()
    spacing = image.GetSpacing()

    vtk_data = image.GetPointData().GetScalars()

    numpy_data = numpy_support.vtk_to_numpy(vtk_data)

    numpy_data = numpy_data.reshape(dims[0], dims[1], dims[2])
    numpy_data = numpy_data.transpose(2,1,0)

    dims = numpy_data.shape

    dataImporter = vtkImageImport()
    dataImporter.SetDataScalarTypeToFloat() 
    dataImporter.SetNumberOfScalarComponents(1)
    dataImporter.SetDataExtent(0, dims[2]-1, 0, dims[1]-1, 0, dims[0]-1)
    dataImporter.SetWholeExtent(0, dims[2]-1, 0, dims[1]-1, 0, dims[0]-1)
    dataImporter.SetDataSpacing(spacing[0],spacing[1],spacing[2])
    dataImporter.CopyImportVoidPointer(numpy_data, numpy_data.nbytes)
"
12698,14343,Defining a dictionary with a very large amount of columns,"dict(zip(col_names, p))
"
15515,77971,Merging sets within sets in Python,"def get_member(a,the_list):
    if a in the_list:
        return a
    else:
        for elem in the_list:
            if isinstance(elem,list):
                if a in elem:
                    return elem
    return None

def merge_member(a,b,the_list):
    get_member_a = get_member(a,the_list)
    get_member_b = get_member(b,the_list)
    if get_member_a and get_member_b:
        the_list.remove(get_member_a)
        the_list.remove(get_member_b)
        if isinstance(get_member_b,list):
            get_member_b.extend(get_member_a)
            the_list.append(get_member_b)
        elif isinstance(get_member_a,list):
            get_member_a.extend(get_member_b)
            the_list.append(get_member_a)
        else:
            the_list.append([get_member_b,get_member_a])
    return the_list
"
35086,7452,reading the response in python requests,">>> import requests
>>> response = requests.get(""http://www.google.com"")
>>> print response.content
'<!doctype html><html itemscope="""" itemtype=""http://schema.org/WebPage""><head>....'
>>> print response.content == response.text
True
"
35286,16366,How to get 2 values with recursion?,"def print_binary(prefix,n):
if n==0:
    print (prefix)
else:
    print_binary((prefix+'0'),n-1)
    print_binary((prefix+'1'),n-1)
"
1904,36578,Python Twisted How To Set the SSL Method for twisted.web.client.Agent using new IPolicyForHTTPS?,"from OpenSSL import SSL
from twisted.internet import reactor, ssl
from twisted.web import client

class MyPolicy(client.BrowserLikePolicyForHTTPS):
    def creatorForNetloc(self, hostname, port):
        return ssl.optionsForClientTLS(
            hostname.decode(""ascii""),
            extraCertificateOptions={'method': SSL.SSLv3_METHOD},
            trustRoot=self._trustRoot
        )

myAgent = client.Agent(reactor, contextFactory=MyPolicy())
"
24772,53304,How to expose a function which returns a variant vector?,"#include <boost/python.hpp>
#include <boost/python/suite/indexing/vector_indexing_suite.hpp>
#include <Python.h>
#include <vector>
#include <boost/variant.hpp>

typedef boost::variant<int> number;
typedef std::vector<number> vector;

vector function()
{
   return vector{1};
}

struct number_to_object : boost::static_visitor<PyObject*>
{
   static result_type convert(number const& v)
   {
      return apply_visitor(number_to_object(), v);
   }

   template<typename T>
   result_type operator () (T const& v) const
   {
      return boost::python::incref(boost::python::object(v).ptr());
   }
};

void init_module() {}

BOOST_PYTHON_MODULE(pyexc_test)
{
   using namespace boost::python;

   class_<vector>(""vector"").def(vector_indexing_suite<vector, true>());

   to_python_converter<number, number_to_object>();
   implicitly_convertible<int, number>();

   def(""function"", function);
   def(""init_module"", init_module);
}
"
37576,76529,python dynamic array access [:0],"array[n-i:-i or None]
"
18401,55628,how to search efficiently items in the list?,"# data source
l0 = [{""num"": 60, ""name"": ""A""}, {""num"": 50, ""name"": ""B""}, {""num"": 49, ""name"": ""C""}]

# initialization, length of data source, void data destination,
# start from beginning of data source
ll0, l1, nl = len(l0), [], 0

# the loop is downwards, because we want to match the numbers
# in data source from high to low
for n in range(l0[0]['num'], 0, -1):
    # first test avoids IndexError, second test is your condition
    if nl < ll0 and l0[nl]['num'] == n:
        l1.append([n, l0[nl]])
        # if we had a match, we switch our attention to the next item
        # in data source, hence increment the index in data source
        nl += 1
    else:
        l1.append([n, {}])

# we built the data destination list from top to bottom,
# you want from bottom to top, hence
l1.reverse()
"
25815,17814,Timers in Python,"import time
from random import randint

def print_data():
    print ""Hello World!""
    time.sleep(randint(30, 45))

def print_data_for(total_time):
    start_time = time.time()
    while time.time() < start_time + total_time:
        print_data()

print_data_for(60*60)  # 1 hour
"
19894,45844,Reorder composite primary key in sqlalchemy,"class OtherTable(DeclarativeBase, DatetimeBase):
    __tablename__ = 'other_table'

    blah = Column(Integer, primary_key=True)
    other_column = Column(Text)

    __table_args__ = (PrimaryKeyConstraint(""blah"", ""inserted""),)
"
33728,40004,Python: How to make my 4-coloring checker more readable,"import itertools

def has_monochromatic_rectangles(grid):
  # use range instead of xrange here (xrange is not in Python 3)
  points = list(itertools.product(range(len(grid)), range(len(grid[0]))))
  # check if for any rectangle, all 4 colors are equal
  # (this is more brute-force than necessary, but you placed simplicity
  # above efficiency. Also, for 17x17, it doesn't matter at all ;)
  return any(grid[x1][y1] == grid[x1][y2] == grid[x2][y1] == grid[x2][y2]
             for (x1,y1), (x2,y2) in itertools.product(points, points)
             if x1 != x2 and y1 != y2)

def has_max_colors(grid, most):
  # collect all grid values and uniquify them by creating a set
  return len(set(sum(grid, []))) <= most

if __name__ == '__main__':
  # read from STDIN (could easily be adapted to read from file, URL, ...)
  import sys
  grid = [map(int, line.split(',')) for line in sys.stdin]

  assert has_max_colors(grid, 4)
  assert not has_monochromatic_rectangles(grid)
"
12112,27581,How to determine CPU and memory cost of a function?,"  2706 function calls (2004 primitive calls) in 4.504 CPU seconds

Ordered by: standard name

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     2    0.006    0.003    0.953    0.477 pobject.py:75(save_objects)
  43/3    0.533    0.012    0.749    0.250 pobject.py:99(evaluate)
...
"
16427,876,break text file into multiple text files,"#!/usr/bin/perl
open(FI,""file.txt"");
read(FI,$_,10000000);
close(FI);
@arr = split('--###--');
$cnt=0;
for $c (@arr)
{
    open(FO,"">$cnt.txt"");
    print FO $c;
    close(FO);
    $cnt++;
}
"
32266,16423,"""__globals__"" getting merged when using decorators?","# func1 is not in func2's globals
>>> func2.__globals__['func1']
Traceback (most recent call last):
  File ""<pyshell#6>"", line 1, in <module>
    func2.__globals__['func1']
KeyError: u'func1'

# func1 is in the globals of the internally-stored wrapped version of func2
>>> func2.__closure__[0].cell_contents.__globals__['func1']
<function func1 at 0x0000000002B2B358>
"
21546,82510,Convert string values to list python,"thelist = [int(s) for s in thestring.split()]
"
7642,58706,Returning Key matching Value -- Adding Constraint,">>> data = defaultdict(set)
>>> data['a'].add(1)
>>> data['b'].add(2)
>>> data['b'].add(3)
>>> min(data.items(), key=lambda x: min(x[1]))
('a': {1})
>>> min(data.items(), key=lambda x: max(len(x[1])))
('b': {2, 3})
"
2967,9455,calculate amount of time intersection when all sequences fullfill certain criteria?,"last_time = 0 # starting time of data, 0 is here as example
total_time = 0 # 0 seconds

for time, switch, state in state_switches:
    if a_on and b_on and c_on:
        total_time += time - last_time

    if switch == ""A"":
        a_on = state
    if switch == ""B"":
        b_on = state
    if switch == ""C"":
        c_on = state

    last_time = time
"
34713,64725,Python code optimization (20x slower than C),"def main():
        maxNumber = 5000
        diff = 1000

        p = {}
        quickCache = {}

        for i in range(maxNumber):
            p[i] = i * (3 * i - 1 ) / 2

        def quickCheck(n):
            if n in quickCache: return quickCache[n]
            partial_c = (sqrt(1 + 24 * (n)))/-6 
            c = 1/6 + partial_c
            if int(c.real) == c.real:
                    quickCache[n] = True
                    return True
            c = c - 2*partial_c
            if int(c.real) == c.real:
                    quickCache[n] = True
                    return True
            quickCache[n] = False
            return False

        for i in range(1, maxNumber):
                mi = p[i]
                for g in range(i+1, maxNumber):
                        ma = p[g]
                        if ma - mi < diff and quickCheck(ma - mi) and quickCheck(ma + mi):
                                print('New couple ', ma, mi)
                                diff = ma - mi
"
11308,29163,Python: Adding dictionary values to form new tuple-keyed dictionary,"new_d = {}
for k, v in d.items():
   u, n, r = k.split('_')
   new_d[(n, r)] = v + new_d.get((n, r), 0)
"
10575,71160,Problems with custom time widget,"class StoryForm(ModelForm):

    fecha_cierre = forms.TypedChoiceField(
       choices=DAYS_CHOICES, widget=forms.Select)

    class Meta:
        models = Story
        exclude = ('deadline',)

    def save(self):
        story = super(StoryForm, self).save(commit=False)
        story.deadline = datetime.datetime.now() + \
                         datetime.timedelta(days=self.cleaned_data['fecha_cierre']))
        story.save()
        return story
"
15925,40995,django pre-calculate and cache a view,"from celery import task
from django.core.cache import cache

def page_two_calculation(arg1, arg2):
    return arg1 + arg2

@task
def page_two_task(arg1, arg2):
    result = page_two_calculation(arg1, arg2)
    cache_key = ""page-two-%s-%s"" (arg1, arg2)
    cache.set(cache_key, result)

def page_one(request, arg1, arg2):

    # Start the page two task
    page_two_task.delay(arg1, arg2)

    # Return the page one response
    return HttpResponse('page one')

def page_two(request, arg1, arg2)
    cache_key = ""page-two-%s-%s"" (arg1, arg2)
    result = cache.get(cache_key)
    if result is None:
         # the result will only be None if the page 2 calculation
         # doesn't exist in the cache, in which case we'll have to
         # return the value synchronously.
         result = page_two_calculation(arg1, arg2)
    return result
"
33207,49142,Check if widget exist(Tkinter),"if item in my_canvas.find_all():
   my_canvas.delete(item)
else:
   print(""Item not on canvas"")
"
3911,32329,Django csrf in ajax POST (csrf cookie not set until {{csrf}} used),"var csrftoken == getCookie('csrftoken') || $("":input[name='csrfmiddlewaretoken']"").val();
"
7527,40757,Plotting distance arrows in technical drawing,"import matplotlib.pyplot as plt

plt.hlines(7, 0, 2, linestyles='dashed')
plt.hlines(11, 0, 2, linestyles='dashed')
plt.hlines(10, 0, 2, linestyles='dashed')
plt.hlines(8, 0, 2, linestyles='dashed')
plt.annotate(
    '', xy=(1, 10), xycoords='data',
    xytext=(1, 8), textcoords='data',
    arrowprops={'arrowstyle': '<->'})
plt.annotate(
    'D = 1', xy=(1, 9), xycoords='data',
    xytext=(5, 0), textcoords='offset points')

# alternatively,
# plt.text(1.01, 9, 'D = 1')

plt.show()
"
20448,81015,Why scrapy is not going to next page and only getting first page items?,"    def parse(self, response):
        hxs = HtmlXPathSelector(response)
        links = hxs.select('//a[@class=""prodLink ListItemLink""]/@href')
        for link in links:
            href = link.extract()
            yield Request('http://www.walmart.com/' + href, self.parse_data)
        #
        #                                                    here
        #                                                      |
        #                                                      v
        next_link = hxs.select('//li[@class=""btn-nextResults""]/a/@href').extract()
        if next_link:
            # and as hxs.select() will return a list, you should select the first element
            yield Request('http://www.walmart.com/search/search-ng.do' + next_link[0], self.parse)
        else:
            print ""last Page""
"
20764,42737,How do I start reading a file from the top in python?,"file_content = set([line.rstrip() for line in file_handler])
only_in_platform = set(platform_specific_req).difference(file_content)
"
27089,74693,my prime number function keeps a returning a TypeError,"def is_prime(num):
    # returns false if num is not an integer
    if not isinstance(num, int):
        return None
    # returns false is divisible by any number 
    # between 1 and num return False
    for i in range(2, num):
        if num % i == 0:
            return False
    # if none of the numbers divide num return True
    return True.
"
38965,57692,widgets are not expandig according to window size,"import sys

from PyQt4.QtCore import *
from PyQt4.QtGui import *

class FeedbackWindow(QWidget):
    def __init__(self):
        QWidget.__init__(self)
        self.main_layout = QVBoxLayout(self)
        #self.main_widget = QWidget(self)              # main_widget is not used.
        #self.main_widget.setLayout(self.main_layout)
        self.setLayout(self.main_layout)
        self.title_label = QLabel(""Tell us what you think:"")
        self.feedback_text_editor = QTextEdit()
        self.send_button = QPushButton(""Send"")

        self.main_layout.addWidget(self.title_label)
        self.main_layout.addWidget(self.feedback_text_editor)
        self.main_layout.addWidget(self.send_button)

        self.setWindowTitle(""Feedback"")
        self.setGeometry(200,120,300,300)

if __name__ == ""__main__"":
    app = QApplication(sys.argv)
    w = FeedbackWindow()
    w.show()
    app.exec_()
"
10717,56828,Mismatched strings in Python -- how to continue process?,"#! /usr/bin/env python3


def main():
    print(find_mismatch('Hello, world!', 'Hello, world'))
    print(find_mismatch('Hello, world!', 'Hello, world!'))
    print(find_mismatch('Hello, world!', 'Hallu, world!'))
    print(find_mismatch('Hello, world!', 'Hello, world.'))


def find_mismatch(string_a, string_b):
    if len(string_a) != len(string_b):
        return 2
    folded_a, folded_b = string_a.casefold(), string_b.casefold()
    if folded_a == folded_b:
        return 0
    found_difference = False
    for character_a, character_b in zip(folded_a, folded_b):
        if character_a != character_b:
            if found_difference:
                return 2
            found_difference = True
    return 1


def find_mismatch(a, b):
    """"""Find mismatches in strings a and b.

    Returns 0 when strings are the same.
    Returns 1 when strings differ in one character.
    Returns 2 any other time (different lengths or more mismatches).""""""
    if len(a) != len(b):
        return 2
    a, b = a.casefold(), b.casefold()
    if a == b:
        return 0
    error = False
    for a, b in zip(a, b):
        if a != b:
            if error:
                return 2
            error = True
    return 1


if __name__ == '__main__':
    main()
"
6451,1228,Python: Creating combinations from a list of lists in a tree-like data structure,"def directed_graph_from_edges(edges):
    graph = {}
    for a,b in edges:
        graph.setdefault(a,set())
        graph[a].add(b)
    return graph
"
16986,18248,Information extraction with Python using huge list of entity names,"import htql; 
address = '88-21 64th st , Rego Park , New York 11374'
states=['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 
    'Delaware', 'District Of Columbia', 'Florida', 'Georgia', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 
    'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts', 'Michigan', 
    'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 
    'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma', 
    'Oregon', 'PALAU', 'Pennsylvania', 'PUERTO RICO', 'Rhode Island', 'South Carolina', 'South Dakota', 
    'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 
    'Wyoming']; 

a=htql.RegEx(); 
a.setNameSet('states', states);

state_zip1=a.reSearchStr(address, ""&[s:states][,\s]+\d{5}"", case=False)[0]; 
# state_zip1 = 'New York 11374'

state_zip2=a.reSearchList(address.split(), r""&[ws:states]<,>?<\d{5}>"", case=False)[0]; 
# state_zip2 = ['New', 'York', '11374']
"
9884,62305,Python object deletion detection,">>> class Foo(object):
...     def __del__(self):
...         print ""Bye bye!""
... 
>>> spam = Foo()
>>> bar = spam
>>> del spam
>>> del bar
Bye bye!
"
24594,29602,What's the most elegant way to write this for loop in Python?,"startValue = -1.0
intervalLength = 2.0
numberOfSteps = 14
increasePerStep = intervalLength / numberOfSteps

print startValue

x = startValue
for i in range (numberOfSteps):
    x += increasePerStep
    print x


-1.0
-0.857142857143
-0.714285714286
-0.571428571429
-0.428571428571
-0.285714285714
-0.142857142857
-2.22044604925e-16
0.142857142857
0.285714285714
0.428571428571
0.571428571429
0.714285714286
0.857142857143
1.0
"
25723,83660,Django form for a model create object of another model,"if form.is_valid():
    c = form.cleaned_data[""category""]
    category = Category.objects.filter(name=c).first()
    if not category:
        category = Category.objects.create(name=c)
    product = form.save(commit=False)
    product.category = category
    product.save()
"
12010,34915,Creating a variable number of list in Python,"x[1].T
x[2] - Y
"
26242,38408,Type hints in namedtuple,"
>>> import typing
>>> point = typing.NamedTuple(""Point"",[('x',int),('y',int)])
"
11034,65017,String trend-analysis (suggestions for data structure),"from collections import defaultdict

words_seen = defaultdict(list)

for word,filedate in get_words():
    words_seen[word].append(filedate)
"
14385,5139,Cloning a private Github repo using a script,">>> from pygit2 import clone_repository
>>> repo_url = 'git://github.com/libgit2/pygit2.git'
>>> repo_path = '/path/to/create/repository'
>>> repo = clone_repository(repo_url, repo_path) # Clones a non-bare repository
>>> repo = clone_repository(repo_url, repo_path, bare=True) # Clones a bare repository
"
20945,56824,Python and C++ code comparison,"#include <iostream>
#include <list>
#include <utility>
#include <vector>
using namespace std;

void likeCPlusPlus()
{
    int i = 666, j = 666, width = 666, height = 666, image[666][666];

    for( int dy = 1;  dy >= -1;  --dy )
    {
        int const   dx  = -1;
        int const   x   = i + dx;
        int const   y   = j + dy;

        if(
            0 <= x && x < width &&
            0 <= y && y < height &&
            image[x][y] == 0
            )
        {}
    }
}

void likePythonInCPlusPlus()
{
    int i = 666, j = 666, width = 666, image[666][666];

    std::vector<std::pair<int,int> > direction;
    direction.push_back(std::make_pair(-1,1));
    direction.push_back(std::make_pair(-1,0));
    direction.push_back(std::make_pair(-1,-1));
    for ( std::vector<std::pair<int,int> >::iterator itr = direction.begin(); 
                       itr != direction.end(); ++itr)
    {
        int m = (*itr).first;
        int n = (*itr).second;
        if ( (0 <= i + m && i + m < width ) && 
                       (0 <= j + n && j + n < width ) && 
                       image[i + m][j + n ] == 0)
        {}
    }
}

int main()
{}
"
4540,69486,Diagonalising a Pandas series,"In [107]: pd.DataFrame(np.diag(s),index=s.index,columns=s.index)
Out[107]: 
          a         b         c         d         e
a  0.630529  0.000000  0.000000  0.000000  0.000000
b  0.000000  0.360884  0.000000  0.000000  0.000000
c  0.000000  0.000000  0.345719  0.000000  0.000000
d  0.000000  0.000000  0.000000  0.796625  0.000000
e  0.000000  0.000000  0.000000  0.000000 -0.176848
"
38679,59748,Python3 unidecode can't convert Cyrillic alphabet,"$ echo $LANG
en_US.utf-8
$ python3
Python 3.3.2 (default, Aug 22 2013, 12:33:42)
[GCC 4.2.1 Compatible Apple Clang 4.0 ((tags/Apple/clang-421.0.60))] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> from unidecode import unidecode
>>> print(unidecode(u""Cœur""))
Coeur
>>> print(unidecode(u""сообще́ния""))
soobshcheniia
"
14416,29620,Can I inspect a sqlalchemy query object to find the already joined tables?,"joined_tables = [mapper.class_ for mapper in query._join_entities]
"
581,54388,How do I make my Python extension take additional arguments?,"#include <Python.h>

static PyObject * 
do_something(PyObject *self, PyObject *args, PyObject *kwargs)
{
   char *filename;
   int mode = 2;
   static char *keywords[] = {""filename"", ""mode"", NULL};

   if (!PyArg_ParseTupleAndKeywords(args, kwargs, ""s|i"", keywords, &filename, &mode))
      return NULL;

   char *result = do_somethingelse(filename);
   return Py_BuildValue(""s"", result);
}

static PyMethodDef
module_functions[] = {
    { ""do_something"", (PyCFunction)do_something, METH_VARARGS | METH_KEYWORDS, ""do something"" },
    { NULL }
};


PyMODINIT_FUNC
initmyext(void)
{
    Py_InitModule(""myext"", module_functions);
}
"
26020,80383,Postgres Advisory Locks not working,"; When server connection is released back to pool:
;   session      - after client disconnects
;   transaction  - after transaction finishes
;   statement    - after statement finishes
pool_mode = session
"
5585,83631,Calculating multiplier based on distance between 2 numbers,"import math 
def multiplier(x, y):
    dist = x - y
    return 1 + dist/math.sqrt(1+dist**2)
"
17102,79877,How can I get a ranked list from a dictionary?,"def rank(toSort):
    #importing from the string library
    from string import lowercase as alph

    #temporary list
    _ranks=[]

    #populate with empty dictonaries
    for i in range(len(toSort)):
        _ranks.append({})

    #the actual sorting algorithm
    for i in range(len(toSort)-1):
        #iterate all k/v pairs in the supplied dictionary
        for k,v in toSort.iteritems():
            #iterate all k/v pairs in v element
            for a,b in v.iteritems():
                #if the alpha index of an element is equal to
                #the max alpha index of elements in its containing dictionary...
                if alph.index(b)==max(map(alph.index,v.values())):
                    _ranks[i][k]=a
                #if it isn't..
                else:
                    try:
                        _ranks[i+1][k]=a
                    except IndexError:
                        _ranks[-1][k]=a
    return _ranks
"
5897,10629,Trouble with the legend,"import matplotlib.pyplot as plt
import numpy as np

X1=np.random.rand(10,10)
X2=np.random.rand(10,10)
K,sigma=10,1.5

vmin = np.minimum(X1,X2).min()
vmax = np.maximum(X1,X2).max()

fig, axes = plt.subplots(1,2)

axes[0].set_title(""$K = "" + str(K) + "" , \sigma = "" + str(sigma) + ""$"")
heatmap1 = axes[0].imshow(X1, interpolation='none',  cmap=plt.get_cmap(""seismic""),
                          vmin=vmin,vmax=vmax)


axes[1].set_title(r""$K = "" + str(K) + "", \sigma = "" + str(sigma) + ""$"")
heatmap2 = axes[1].imshow(X2, interpolation='none',   cmap=plt.get_cmap(""seismic""),
                          vmin=vmin,vmax=vmax)

plt.subplots_adjust(left=None, bottom=None, right=0.8, top=None,
                    wspace=0.4, hspace=.4)

fig.savefig('test.png')
cpos = [axes[0].get_position().bounds[1],
        axes[0].get_position().bounds[3]]

cax = fig.add_axes([0.9,cpos[0],0.01,cpos[1]])

fig.colorbar(heatmap1,cax=cax)

fig.savefig('test.png')
"
10199,36657,Changing name of files with zipfile python,"zip_file = zipfile.ZipFile('toto.zip')
target_path = 'C:\test\object'

for i, filename in enumerate(zip_file.namelist()):
    target = os.path.join(target_path, ""%05d_%s"" % (i, filename))
    file_obj = open(target, 'wb')
    try:
        shutil.copyfileobj(zip_file.open(filename, 'r'), file_obj)
    finally:
        file_obj.close()
"
16721,79803,"Controlling a ""daemon-like"" linux script from Python","import subprocess, time, signal

p = subprocess.Popen(['python', '-u', 'myscript.py'], stdout=subprocess.PIPE)
time.sleep(5)
p.send_signal(signal.SIGTERM)
output = p.communicate()[0]

print('Process has exited with code %d' % p.wait())
print('Output is %s' % str(output))
"
37001,27425,"How to match two text files, find matches and replace with original content?","with open('file_a','r') as fa:  # open file a --> read the files into lists
    list_a = fa.read().splitlines()
with open('file_b','r') as fb:  # open file b --> read the files into lists
    list_b = fb.read().splitlines()

# get element in list_b if list_a contain the element(only first 24 characters)
match_list = [n for n in list_b if n[:24] in list_a]

with open('file_c','w+') as fc:  # write the matching list to the new file
    fc.write('\n'.join(match_list))
"
3890,12493,MATLAB version of python iterator,"figure;

set(gca, 'ColorOrder', hsv(5));
set(gca, 'LineStyleOrder', '-|--|:');

hold on;

t = 0:pi/20:2*pi;
for i = 1:15
    plot(t, sin(t-i/5));
end
"
18696,19217,many threads to write log file at same time python,"import threading
lock = threading.Lock()

def write_to_file(f, text, file_size):
    lock.acquire() # thread blocks at this line until it can obtain lock

    # in this section, only one thread can be present at a time.
    print >> f, text, file_size

    lock.release()

def filesize(asset):  
    f = open(""results.txt"", 'a+')  
    c = wmi.WMI(asset)  
    wql = 'SELECT FileSize,Name FROM CIM_DataFile where (Drive=""D:"" OR Drive=""E:"") and Caption like ""%file%""'  
    for item in c.query(wql):  
        write_to_file(f, item.Name.split(""\\"")[2].strip().upper(), str(item.FileSize))
"
31213,49253,"Scikit-learn parameters oob_score, oob_score_, oob_prediction_","    predictions /= n_predictions
    self.oob_prediction_ = predictions

    if self.n_outputs_ == 1:
        self.oob_prediction_ = \
            self.oob_prediction_.reshape((n_samples, ))

    self.oob_score_ = 0.0

    for k in range(self.n_outputs_):
        self.oob_score_ += r2_score(y[:, k],
                                    predictions[:, k])

    self.oob_score_ /= self.n_outputs_
"
13509,5372,matplotlib: deliberately block code execution pending a GUI event,"from matplotlib import pyplot as pp

class FigEventLoopDemo(object):

    def __init__(self):

        self.fig,self.ax = pp.subplots(1,1,num='Event loop demo')
        self.clickme = self.ax.text(0.5,0.5,'click me',ha='center',va='center',color='r',fontsize=20,picker=10)

        canvas = self.fig.canvas

        # add a callback that triggers when the text is clicked
        self.cid = canvas.mpl_connect('pick_event',self.on_pick)

        print ""entering a blocking loop""

        # start a blocking event loop
        self.fig.canvas.start_event_loop(timeout=-1)

    def on_pick(self,event):

        if event.artist is self.clickme:

            # exit the blocking event loop
            self.fig.canvas.stop_event_loop()

            print ""now we're unblocked""
"
7561,37814,Tastypie: Directing overidden urls depending on request method,"class FooResource(ModelResource):
    class Meta:
        # The usual stuff

    def dispatch(self, request_type, request, **kwargs):
        # Do whatever
"
454,10041,loading strings with spaces as numpy array,">>> import numpy as np
>>> np.loadtxt('/tmp/sample.txt', dtype=str, delimiter='##', comments=None)
array(['826', '25733', 'Emanuele Buratti', ' ', 'Mammalian cell expression'], 
      dtype='|S25')
"
32263,31322,issue recognizing NEs with StanfordNER in python NLTK,"alltext = myfile.read()
tokenized_sentences = nltk.word_tokenize(alltext)
"
29721,26543,How to Catch Hover and Mouse Leave Signal In PyQt5,"class Button(QPushButton):

    def __init__(self, parent=None):
        super(Button, self).__init__(parent)
        # other initializations...

    def enterEvent(self, QEvent):
        # here the code for mouse hover
        pass

    def leaveEvent(self, QEvent):
        # here the code for mouse leave
        pass
"
4449,53688,Removing specific sequences from a string,"In [8]: result = ""10['1', '0']0""

In [9]: re.sub(r'\[[^\]]*\]', '', result)
Out[9]: '100'
"
11102,47085,Numpy stick arrays horizontally,">>> import numpy as np
>>> a = np.array([[1, 2, 3], [4, 5, 6]])
>>> b = np.array([[7, 8, 9], [10, 11, 12]])
>>> np.hstack( (a, b) )
array([[ 1,  2,  3,  7,  8,  9],
       [ 4,  5,  6, 10, 11, 12]])
"
36297,61214,How to add persistent headers in requests calls?,"s = requests.Session()
s.auth = ('user', 'pass')
s.headers.update({'x-test': 'true'})

# both 'x-test' and 'x-test2' are sent
s.get('http://httpbin.org/headers', headers={'x-test2': 'true'})
"
25497,40204,"Numpy 2D dot operation, indexing and iteration. How to optimize?",">>> import numpy as np
>>> wds = np.random.rand(550800, 8)
>>> z = np.random.rand(212065)
>>> ixs = np.random.randint(212065, size=(550800, 8))

>>> np.einsum('ij,ij->i', wds, z[ixs])
array([ 1.65069924,  3.26203701,  3.16035664, ...,  1.76963986,
        2.09727537,  1.94905991])

>>> np.vdot(wds[0], z[ixs[0]])
1.6506992361953157
>>> np.vdot(wds[1], z[ixs[1]])
3.2620370116548827
"
6873,72293,"HTML Generator, Gallery Generator or Templating?","from jinja2 import Template

my_template = Template(""""""
<html>
<body>
<table border=""0"">
<tr>
{% for url in urls %}
<td><a href=""{{ url }}"">{{ url }}</td>
{% endfor %}
</tr>
</table>
"""""")

urls = [""http://.....jpg"",""http://.....jpg"",""http://.....jpg"",""http://.....jpg""]
rendered_html = my_template.render(urls=urls)
"
21660,6360,Remove one char from a string,"import random

index = random.randint(0, len(yourstring)-1)
yourstring = yourstring[:index] + yourstring[index+1:]

print yourstring[index]
"
31919,54612,matplotlib - How do you keep the axes constant while adding new data?,"import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

X_MAX = 50
Y_MAX = 50
Z_MAX = 50
fig = plt.figure(1)
ax = fig.add_subplot(111, projection='3d')
ax.set_title(""My Title"")
ax.set_xlim3d([0, X_MAX])
ax.set_ylim3d([0, Y_MAX])
ax.set_zlim3d([0, Z_MAX])
ax.set_autoscale_on(False)
plt.ion()
plt.show()

a = 0
sct = None
while a < 50:
  a += 1
  if sct is not None:
      sct.remove()
  sct = ax.scatter( a, a/2+1, 3, s=1 )
  fig.canvas.draw()
  plt.pause(0.001)
"
17125,16069,Ajax request in flask not working,"$.ajax({
     type: ""GET"",
     url : ""/repl"",
     data: {url : ""print \""hello\""""},
     contentType: 'application/json;charset=UTF-8',
     success: function(result){
         alert(result.output);
    }
  });
"
1417,71269,How to make Python refuse negative index values?,"class mylist (list):

    def __getitem__(self, n):
        if n < 0:
            raise IndexError(""..."")
        return list.__getitem__(self, n)

keyboard = mylist() # instead of []
"
9723,69225,Django Aggregation: Summation of Multiplication of two fields,"from django.db.models import Sum

total = ( Task.objects
            .filter(your-filter-here)
            .aggregate(
                total=Sum('progress', field=""progress*estimated_days"")
             )['total']
         )
"
11580,79196,How to run the same test-case for different classes?,"class PartitionerInvariantsFixture(object):
    def setUp(self):
        self.testDataSet = range(100) # create test-data-set
        super(PartitionInvariantsFixture, self).setUp()

    def test_partitioner(self):
        TestCase.assertEqual(self.testDataSet, 
                     chain.from_iterable(self.partitioner(self.testDataSet))

class MyClassTests(TestCase, PartitionerInvariantsFixture):
    partitioner = Partitioner
"
18311,73234,python pandas: how to loop over dateframe and add columns,"import numpy as np
from pandas import Timestamp

months = range(1, 13)
df['ep0'] = df.opdate.where(df.opdate > Timestamp('20140101'), Timestamp('20140101'))
for month in months:
    colname = 'ep%d' % month
    prev_colname = 'ep%d' % (month - 1)
    df[colname] = df[prev_colname] + np.timedelta64(40, 'D')
"
4673,13656,Python any number to non-scientific string,"from decimal import Decimal

def number2string(a):
    b = format(Decimal(str(a)).normalize(), 'f')
    print a,""->"",b
"
35442,26034,How can I know where the file pointer is so I can identify a starting position in a file,"def generate_values(f):
    buf = """" # a buffer of data read from the file
    pos = 0  # the position of our buffer within the file

    while True: # loop until we return at the end of the file
        new_data = f.read(4096) # read up to 4k bytes at a time

        if not new_data: # quit if we got nothing
            if buf:
                yield pos, buf.split("","") # handle any data after last newline
            return

        buf += new_data
        line_start = 0 # index into buf

        try:
            while True: # loop until an exception is raised at end of buf
                line_end = buf.index(""\n"", line_start) # find end of line
                line = buf[line_start:line_end] # excludes the newline

                if line: # skips blank lines
                    yield pos+line_start, line.split("","") # yield pos,data tuple

                line_start = line_end+1
        except ValueError: # raised by `index()`
            pass

        pos += line_end + 1
        buf = buf[line_end + 1:] # keep left over data from end of the buffer
"
25430,51902,"Shuffle an array with python, randomize array item order with python","import random
random.shuffle(array)
"
25645,21767,What is wrong with my nested loops in Python?,"def PrintProductsBelowNumber(number):
    number1 = 1
    while number1 <= number:
        number2 = 1
        while number2 <= number:
            print(number1, ""*"", number2, ""="", number1 * number2)
            number2 += 1
        number1 += 1

PrintProductsBelowNumber(2)
"
14517,16765,Add a string at the insertion point cursor location - Python,"self.e = tk.Entry(...)
...
self.e.insert(""insert"", ""new text"")
"
19385,75643,Google Cloud Storage + Python : Any way to list obj in certain folder in GCS?,"from apiclient import discovery

# Auth goes here if necessary. Create authorized http object...
client = discovery.build('storage', 'v1beta2') # add http=whatever param if auth
request = client.objects().list(
    bucket=""mybucket"",
    prefix=""abc/myfolder"")
while request is not None:
  response = request.execute()
  print json.dumps(response, indent=2)
  request = request.list_next(request, response)
"
11202,43946,Sum values according to an index array,"In [36]: np.bincount(a, weights=b)
Out[36]: array([  13.,  103.,    6.])
"
13662,48820,PyQt class inheritance,"import sys
from PyQt4.Qt import *

class MyPopup(QWidget):
    def __init__(self, mainWindow):
        QWidget.__init__(self)

        # use the mainWindow passed as parameter
        mainWindow.label1.setText('hello')


class MainWindow(QMainWindow):
    def __init__(self, *args):
        QMainWindow.__init__(self, *args)
        self.cw = QWidget(self)
        self.setCentralWidget(self.cw)
        self.btn1 = QPushButton(""Click me"", self.cw)
        self.btn1.setGeometry(QRect(50, 50, 100, 30))
        self.label1 = QLabel(""No Commands running"", self.cw)
        self.connect(self.btn1, SIGNAL(""clicked()""), self.doit)
        self.w = None

    def doit(self):
        self.w = MyPopup(self) #when creating the popup pass in the main window
        self.w.setGeometry(QRect(100, 100, 400, 200))
        self.w.show()

if __name__ == ""__main__"":
    app = QApplication(sys.argv)
    myapp = MainWindow()
    myapp.show()
    sys.exit(app.exec_())
"
17059,8347,How to separate strings and tuples from list?,">>> tup = [lst[x+1] for x in range(0, len(lst), 2)]
>>> names = [lst[x] for x in range(0, len(lst), 2)]
>>> b = []
>>> [b.append(x) for x in tup if x not in b]
>>> b
[(['1000.0'], None), (['1001.0'], None)]
>>> list(set(names))
['ACER', 'HP']
"
8626,77617,matplotlib contourf: get Z value under cursor,"plt.figure()
CS = plt.contour(X, Y, Z) 
plt.clabel(CS, inline=1, fontsize=10)
plt.title('Simplest default with labels')
"
30936,82484,Calculating a SHA hash with a string + secret key in python,"import hmac
import hashlib
import base64
dig = hmac.new(b'1234567890', msg=your_bytes_string, digestmod=hashlib.sha256).digest()
base64.b64encode(dig).decode()      # py3k-mode
'Nace+U3Az4OhN7tISqgs1vdLBHBEijWcBeCqL5xN9xg='
"
38944,50797,python - How to remove some tags,"In [32]: text
Out[32]: u' A <EM ID=""5103"" CATEG=""ORGANIZACAO"" TIPO=""INSTITUICAO"">Legi\xe3o da Boa    Vontade</EM> comemora amanh\xe3 o <EM ID=""5104"" CATEG=""VALOR"" TIPO=""CLASSIFICACAO"">10\xba.</EM> anivers\xe1rio da sua implanta\xe7\xe3o em <EM ID=""5105"" CATEG=""LOCAL"" TIPO=""HUMANO"">Portugal</EM> com cerim\xf3nias de car\xe1cter religioso e de conv\xedvio -- disse ontem fonte da organiza\xe7\xe3o. '

In [33]: re.sub(r'<EM[^C]*(CATEG=""[^""]+"")[^>]*>', r'<\1>', text).replace(r'</EM>', '')
Out[33]: u' A <CATEG=""ORGANIZACAO"">Legi\xe3o da Boa    Vontade comemora amanh\xe3 o <CATEG=""VALOR"">10\xba. anivers\xe1rio da sua implanta\xe7\xe3o em <CATEG=""LOCAL"">Portugal com cerim\xf3nias de car\xe1cter religioso e de conv\xedvio -- disse ontem fonte da organiza\xe7\xe3o. '
"
38969,7093,How to control order of result from iterator in python,"from pathlib import Path
for subdir in sorted(Path('/some/path').iterdir()):
    print(subdir)
"
16821,28456,"I have parsed all ""href"" links from a webpage. I want to open only one of them with my browser. How can I do that?","for pos, link in enumerate(soup.find_all('a', href=re.compile(""bangladesh""))):
    tip = link.get('href')
    print(tip)
    if (pos + 1) == 2:
        webbrowser.open(tip)
"
29102,70718,Python: How to create a common element between a list and a dict," d = {}
 l = llist.dllist()

 # insert 'foo' and obtain the link
 lnk = l.append('foo')
 # insert the link to the dictionary
 d['foo'] = lnk
"
10024,44812,How to get form field names and values in Python?,"variable = """"
value = """"
r = """"
for key in form.keys():
        variable = str(key)
        value = str(form.getvalue(variable))
        r += ""<p>""+ variable +"", ""+ value +""</p>\n"" 

fields = ""<p>""+ str(r) +""</p>""        
"
27120,42684,How make a singleton using Python?,"class OnlyOne:
    class __OnlyOne:
        def __init__(self, arg):
            self.val = arg
        def __str__(self):
            return repr(self) + self.val
    instance = None
    def __init__(self, arg):
        if not OnlyOne.instance:
            OnlyOne.instance = OnlyOne.__OnlyOne(arg)
        else:
            OnlyOne.instance.val = arg
    def __getattr__(self, name):
        return getattr(self.instance, name)
"
5552,36450,Loop by n-elements with generator in python,"In [103]: def lst():
    i = 1
    while i <= 10:
        yield i
        i += 1

In [104]: g = lst()

In [105]: while True:
    try:
        v1, v2 = next(g), next(g)
        print(v1,v2)
    except StopIteration:
        break
   .....:     
(1, 2)
(3, 4)
(5, 6)
(7, 8)
(9, 10)
"
11822,47522,What is a good size (in bytes) for a log file?,"RotatingFileHandler(filename, maxBytes=10*1024*1024, backupCount=5)
"
37950,28465,test suite python - webdriver,"class Test01(unittest.TestCase):

    def test_login(self):
        self.page = ""https://myWebPageAddress""
        self.username = ""userName""
        self.password = ""Password""
        self.browser_label = ['firefox', 'chrome', 'ie']

        for index in range(len(self.browser_label)):
            self.browser_name = self.browser_label[index]


            if self.browser_name == 'firefox':
                logger.debug(""Opening ["" + self.browser_name + ""] ..."")
                self.driver = webdriver.Firefox()
            if self.browser_name == 'chrome':
                logger.debug(""Opening ["" + self.browser_name + ""] ..."")
                self.driver = webdriver.Chrome()
            if self.browser_name == 'ie':
                logger.debug(""Opening ["" + self.browser_name + ""] ..."")
                self.driver = webdriver.Ie()

            try:
                logger.info(""Test_01::Case_01::Login OK"")
                Test01.case_01(self)
            except BaseException as e:
                logger.fatal(e.value)
        logger.info(""End"")
        self.driver.close()

    def case_01(self):
    ....
    ....
"
27185,5704,replace column in data frame with elements from another column - python,"In [58]: df.pivot_table(index='c2', columns='c1', values='v').reset_index()
Out[58]:
c1 c2  g1  g2
0   x  72  53
1   y  44  97
2   z  13  32
"
15147,78453,Tkinter (python 2.7.2) Help needed,"
#Dev by Mkee
import Tkinter as tk
import sys

class Shuffle(object):
    def __init__(self,master=None):
        self.master=master
        self.text=tk.Text(master)
    def hide(self):
        self.text.pack_forget()
    def show(self):
        self.text.pack(side=tk.LEFT, padx=5, pady=5)

class Buttons(object):
    def __init__(self,master=None):
        self.master=master
        self.red = tk.Button(self.master, text=""Red"", bg=""red"", fg=""white"")
        self.green = tk.Button(self.master, text=""Green"", bg=""green"", fg=""black"")
        self.blue = tk.Button(self.master, text=""Blue"", bg=""blue"", fg=""white"")
    def hide(self):
        self.red.pack_forget()
        self.green.pack_forget()
        self.blue.pack_forget()                
    def show(self):
        self.red.pack(side=tk.LEFT,expand=tk.YES,fill=tk.BOTH)
        self.green.pack(side=tk.LEFT,expand=tk.YES,fill=tk.BOTH)
        self.blue.pack(side=tk.LEFT,expand=tk.YES,fill=tk.BOTH)

class MainApp(object):
    def __init__(self,master=None):
        self.master=master
        app=self.app=tk.Tk()
        app.title(""Mkee's Tools"")
        app.geometry('300x200')
        self.shuffle=Shuffle(master)
        self.buttons=Buttons(master)
        self.current=None
        menubar=tk.Menu(app)
        program_menu=tk.Menu(menubar)
        program_menu.add_command(label='Shuffle',
                                 command=lambda: self.show(self.shuffle))
        program_menu.add_command(label='Buttons',
                                 command=lambda: self.show(self.buttons)) 
        program_menu.add_command(label='Quit',command=sys.exit) 
        menubar.add_cascade(label='Programs', menu=program_menu)
        app.config(menu=menubar)
    def show(self,obj):
        if self.current != obj:
            try: self.current.hide()
            except AttributeError: pass
            self.current=obj
            obj.show()

def main():
    m=MainApp()
    m.app.mainloop()

if __name__=='__main__':
    main()
"
37872,47352,Smart replace repeated values python,"import re
text = """"""UINT32 CacheSize() const { return _cacheSize; }
    UINT32 LineSize() const { return _lineSize; }
    UINT32 Associativity(UINT64 obj, INT8 obj2) const { return _associativity; }
    VOID SplitAddress(const ADDRINT addr, CACHE_TAG & tag, UINT32 & setIndex) const
    VOID SplitAddress(const ADDRINT addr, CACHE_TAG & tag, UINT32 & setIndex, UINT32 & lineIndex) const
    {
        const UINT32 lineMask  = _lineSize - 1 INT8;
""""""
for line in text.split(""\n""):
    print re.sub(r'(U?INT\d+?)',r'PIN_\1', line)
"
12262,18068,Having issues with mutable default values in python,"tmp_vis = []

frame_tracker = []

while True:
  for i in xrange(8):
     rets, frame = cap[i].read()
     try:
       tmp_vis.append(cv2.resize(frame, (self.w, self.h)))
     except:
       continue

  print ""\nbreak""

  frame_tracker.append(tmp_vis)

  print hashlib.sha1(frame_tracker[0][0].view(np.uint8)).hexdigest()

  if len(frame_tracker) > 1:
    print hashlib.sha1(frame_tracker[1][0].view(np.uint8)).hexdigest()   

  if len(frame_tracker) > 2:
    print hashlib.sha1(frame_tracker[2][0].view(np.uint8)).hexdigest() 
"
34899,52968,Getting some response from a python socket server,"# Server code
import xmlrpclib
from SimpleXMLRPCServer import SimpleXMLRPCServer

def is_even(n):
    return n%2 == 0

server = SimpleXMLRPCServer((""localhost"", 8000))
print ""Listening on port 8000...""
server.register_function(is_even, ""is_even"")
server.serve_forever()


# Client code
import xmlrpclib

proxy = xmlrpclib.ServerProxy(""http://localhost:8000/"")
print ""3 is even: %s"" % str(proxy.is_even(3))
print ""100 is even: %s"" % str(proxy.is_even(100))
"
36225,47084,Self-referential class: How to get jerarchical structure of employees in a company?,"postgres=# select * from employees ;
 empid | supervisorid 
-------+--------------
     1 |             
     2 |             
     3 |            1
     4 |            2
     5 |            3
     6 |            4
(6 rows)

WITH RECURSIVE emp(empid,supervisorid) AS (
     SELECT empid, supervisorid  FROM employees where empid=1
     UNION ALL
     SELECT e.empid, e.supervisorid
     FROM emp s, employees e
     WHERE e.supervisorid = s.empid 
   )
SELECT * 
 FROM emp
 ;
 empid | supervisorid 
-------+--------------
     1 |             
     3 |            1
     5 |            3
(3 rows)
"
19634,14823,Pulling specific words out of a line of a text file in python,"with open('ipaddr.txt', ""r"") as f:
    lines=f.readlines()
    table = [line.split(""\t"") for line in lines]
    print table[22][39:]
    print table[18][39:]
    print table[26][39:]
    f.close()
"
34803,21480,Persistent objects in recursive python functions,"def recursivemethod(obj_to_act_on, persistent_obj=None):

    if persistent_obj == None:
        persistent_obj = set()

    # Act on your object

    return recursivemethod(newobj, persistent_obj)
"
14913,6049,Interpolation differences on polar contour plots in Matplotlib,"from scipy.interpolate import griddata


Angles = [-180, -90, 0 , 90, 180, -135, 
          -45,45, 135, 180,-90, 0, 90, 180 ]

Radii = [0,0.33,0.33,0.33,0.33,0.5,0.5,
         0.5,0.5,0.5,0.6,0.6,0.6,0.6]

Angles = np.array(Angles)/180.*np.pi
x = np.array(Radii)*np.sin(Angles)
y = np.array(Radii)*np.cos(Angles)

Values = [30.42,24.75, 32.23, 34.26, 26.31, 20.58, 
          23.38, 34.15,27.21, 22.609, 16.013, 22.75, 27.062, 18.27]

Xi = np.linspace(-1,1,100)
Yi = np.linspace(-1,1,100)

#make the axes
f = plt.figure()
left, bottom, width, height= [0,0, 1, 0.7]
ax  = plt.axes([left, bottom, width, height])
pax = plt.axes([left, bottom, width, height], 
                projection='polar',
                axisbg='none')
cax = plt.axes([0.8, 0, 0.05, 1])
ax.set_aspect(1)
ax.axis('Off')


# grid the data.
Vi = griddata((x, y), Values, (Xi[None,:], Yi[:,None]), method='cubic')
cf = ax.contour(Xi,Yi,Vi, 15, cmap=plt.cm.jet)

#make a custom colorbar, because the default is ugly
gradient = np.linspace(1, 0, 256)
gradient = np.vstack((gradient, gradient))
cax.xaxis.set_major_locator(plt.NullLocator())
cax.yaxis.tick_right()
cax.imshow(gradient.T, aspect='auto', cmap=plt.cm.jet)
cax.set_yticks(np.linspace(0,256,len(cf1.get_array())))
cax.set_yticklabels(map(str, cf.get_array())[::-1])
"
27781,5778,PIL - are there a any PIL solutions that will allow you to take a screenshot of a specified web page?,"import sys
from PyQt4.QtCore import *
from PyQt4.QtGui import *
from PyQt4.QtWebKit import *

app = QApplication(sys.argv)

web = QWebView()
web.load(QUrl(""http://www.google.com""))
#web.show()

printer = QPrinter()
printer.setPageSize(QPrinter.A4)
printer.setOutputFormat(QPrinter.PdfFormat)
printer.setOutputFileName(""file.pdf"")

def convertIt():
    web.print_(printer)
    print ""Pdf generated""
    QApplication.exit()

QObject.connect(web, SIGNAL(""loadFinished(bool)""), convertIt)

sys.exit(app.exec_())
"
11197,7809,What's the fastest way to make string combinations out of lists in python?,">>> lsta = ['a','b','c']
>>> lstb = ['1','2','3','4']
>>> lstc = ['x','y']
>>> from itertools import product
>>> ["""".join(t) for t in product(lsta, lstb, lstc)]
['a1x', 'a1y', 'a2x', 'a2y', 'a3x', 'a3y', 'a4x', 'a4y', 
 'b1x', 'b1y', 'b2x', 'b2y', 'b3x', 'b3y', 'b4x', 'b4y', 
 'c1x', 'c1y', 'c2x', 'c2y', 'c3x', 'c3y', 'c4x', 'c4y']
"
31394,39623,What's a good way to find relative paths in Google App Engine?,"path = os.path.join(os.path.dirname(__file__), '..', 'templates', 'myPage.html')
"
779,82799,how to make a selection from multiple fields?,"from django.db.models import Q

@login_required 
def friends_search(request):
    search_result = None

    if request.method == 'POST':    
        if request.POST.get('fld_name'):
            try:
                fld_name = request.POST.get('fld_name')
                q = Q(nickname__icontains=fld_name) | Q(family__icontains=fld_name)
                search_result = UserProfile.objects.filter(q)     
                if not search_result:
                    search_result = 'По вашему запросу ничего не найдено.'
            except Exception as exc:
                search_result = 'В данный момент доступ к базе данных невозможен. Попробуйте повторить ваш запрос позже.'   

    t = loader.get_template('friends_search.html')
    c = RequestContext(request, {
    'search_result': search_result,
}, [custom_proc])   
    return HttpResponse(t.render(c))
"
35125,81501,Prevent user from entering the same input twice,"import random
correct = 0
incorrect = 0
usedwords = []
print 'Welcome to text twist, you have 14 guesses to get 7 words made up of 4, 5 or 6 letters. Good Luck!'

for i in range(14):
    print ""Your letters are 'E' 'P' 'L' 'B' 'E' 'B', what is your guess?""
    answer = raw_input()
    if answer in usedwords:
        print ""Sorry, you've already used this word""
    else: #Newly added
        usedwords.append(answer) #We have to add the input words to the list if they are new
        if answer == 'belle' or answer == 'bleep' or answer == 'pebble' or answer == 'beep' or answer == 'bell' or answer == 'peel' or answer == 'peep':
            if answer in usedwords:
                print 'Nice that was one of the words!'
            usedwords.append(answer)
            correct = correct + 1
        if answer != 'belle' and answer != 'bleep' and answer != 'pebble' and answer != 'beep' and answer != 'bell' and answer != 'peel' and answer != 'peep':
            print 'Sorry, that was not one of the words.'
            incorrect = incorrect + 1


print 'Your final score was', correct, 'correct and', incorrect, 'wrong.'
"
7487,65681,Python - Simultaneously iterate through two lists without moving to the next row in both on each iteration,"listb_iter = iter(ListB)
item_b = next(listb_iter) #we're assuming that ListB as at least one item.
for item_a in ListA:
    if ...: #condition to move on to the next item in ListB
        try:
            item_b = next(listb_iter)
        except StopIteration:
            #went through all of ListB

    #other logic
"
37163,14063,How to explode a list inside a Dataframe cell into separate rows,"df = (pd.DataFrame({'name': ['A.J. Price'] * 3, 
                    'opponent': ['76ers', 'blazers', 'bobcats'], 
                    'nearest_neighbors': [['Zach LaVine', 'Jeremy Lin', 'Nate Robinson', 'Isaia']] * 3})
      .set_index(['name', 'opponent']))

>>> df
                                                    nearest_neighbors
name       opponent                                                  
A.J. Price 76ers     [Zach LaVine, Jeremy Lin, Nate Robinson, Isaia]
           blazers   [Zach LaVine, Jeremy Lin, Nate Robinson, Isaia]
           bobcats   [Zach LaVine, Jeremy Lin, Nate Robinson, Isaia]

df.reset_index(inplace=True)
rows = []
_ = df.apply(lambda row: [rows.append([row['name'], row['opponent'], nn]) 
                         for nn in row.nearest_neighbors], axis=1)
df_new = pd.DataFrame(rows, columns=df.columns).set_index(['name', 'opponent'])

>>> df_new
                    nearest_neighbors
name       opponent                  
A.J. Price 76ers          Zach LaVine
           76ers           Jeremy Lin
           76ers        Nate Robinson
           76ers                Isaia
           blazers        Zach LaVine
           blazers         Jeremy Lin
           blazers      Nate Robinson
           blazers              Isaia
           bobcats        Zach LaVine
           bobcats         Jeremy Lin
           bobcats      Nate Robinson
           bobcats              Isaia
"
12713,68744,Assigning IDs to instances of a class (Pythonic),"class CounterExample(object):

    instances_created = 0

    def __init__(self):
        CounterExample.instances_created += 1

    def __del__(self):
        """""" If you want to track the current number of instances
            you can add a hook in __del__. Otherwise use
            __init__ and just count up.
        """"""
        CounterExample.instances_created -= 1
"
15920,14025,How to create a list within a loop that only stores the previous n values of the loop,"last_three = []
for j in range(1, its + 2):
    ...
    k2 = cost(candidate1, candidate2)
    if k2 in last_three:
        continue
    elif k2 < k1:
        ...
    last_three[(j%3)-1] = k2
"
5930,24416,How to bind the values between two classes,"from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.properties import StringProperty, NumericProperty, ListProperty
from kivy.graphics.context import Clock
from kivy.uix.widget import Widget

class Controls(BoxLayout):   
    def __init__(self, **kwargs):
        self.temp_solar=NumericProperty()
        self.temp_pool=NumericProperty()
        self.delta_value=NumericProperty()
        self.max_value=NumericProperty()
        self.hysteresis=NumericProperty()
        #super(Controls, self).__init__(**kwargs)
        #Clock.schedule_interval(self.set_value, 1)

    def PID_an_aus(self, instance, value):
        if value is True:
           pass
        else:
            pass

    def set_value(self, *args):
        print(""Temperature"",self.temp_solar, self.temp_pool )
        print(""Delta"",self.delta_value)
        print(""Max"", self.max_value)
        print(self.hysteresis)

class Tempar():
    def __init__(self):
        self.temperature=[111,222]
        self.temp_sensor = []
        self.temp_solar=NumericProperty(0.0)
        self.temp_pool=NumericProperty(0.0)
        #self.temp_sensor.start()
        #Clock.schedule_interval(self.read_temperature, 0)

    def read_temperature(self, temperature):
        self.temp_solar=self.temperature[0]
        self.temp_pool=self.temperature[1]
        self.tmp=[self.temp_solar,self.temp_pool]
        return self.tmp


class PoolApp(App):
    #create object for each class and exchange values
    t=Tempar()
    c=Controls()
    c.temp_solar=t.read_temperature(t.temperature)[0]
    c.temp_pool=t.read_temperature(t.temperature)[1]
    print(c.temp_solar)
    print(c.temp_pool)
    #and here are your printouts
    c.set_value()        

if __name__ == '__main__':
    PoolApp().run()
"
21050,79361,How can I determine sensible thread number in python?,"import multiprocessing

multiprocessing.cpu_count()
"
22321,79068,Escaping XPath literal with Python,"def toXPathStringLiteral(s):
    if ""'"" not in s: return ""'%s'"" % s
    if '""' not in s: return '""%s""' % s
    return ""concat('%s')"" % s.replace(""'"", ""',\""'\"",'"")

""//span[@class='error'][contains(.,%s)]"" % toXPathStringLiteral(message)
"
38740,30838,How can I manipulate a list of lists?,">>> import numpy as np
>>> from scipy import ndimage
>>> a = np.array([[0,0,0,0,0,0,0,0],
                  [0,0,0,0,0,0,0,0],
                  [0,0,0,1,0,0,0,0],
                  [0,0,0,0,0,0,0,0]], dtype=int)
>>> ndimage.binary_dilation(a, structure=ndimage.generate_binary_structure(2, 2)).astype(a.dtype)
array([[0, 0, 0, 0, 0, 0, 0, 0],
       [0, 0, 1, 1, 1, 0, 0, 0],
       [0, 0, 1, 1, 1, 0, 0, 0],
       [0, 0, 1, 1, 1, 0, 0, 0]])
"
12497,61905,Creating time lapse images in python,"import time
endTime = time.time() + 12*60*60 # 12 hours from now
while time.time() < endTime:
    captureImage()
    time.sleep(30)
"
39329,22726,Upload image with python,"    F=open(""Simple.png"",""rb"")
    ftp.storbinary('STOR image.png',F,1024)
"
37902,403,SqlAlchemy: Refer to the bound session from an object?,"from sqlalchemy.orm.session import object_session
# ...

def set_other_object_value(self, value):
    if self.other_object is None:
        value = OtherObject(...)
    self.other_object.value = value
    object_session(self).add(value)
"
3502,79802,Multidimensional list match in python,">>> a1 = [1, 2, 3, 4, 5]
>>> a2 = [10, 20, 30, 40, 50]
>>> b1 = [5, 7, 3, 1]
>>> b2 = [50, 20, 30, 20]
>>> a12 = set(zip(a1, a2))
>>> [i for i, e in enumerate(zip(b1, b2)) if e in a12]
[0, 2]
"
36076,81115,Accept list of ints in Flask url instead of one int,"@app.route('/users/', methods=['POST'])
def get_users():
    ids = request.form.getlist('user_ids', type=int)
    users = []

    for id in ids:
        try:
            user = whatever_user_method(id)
            users.append(user)
        except:
            continue

    returns users
"
29469,33153,Formatting data from a python array,"import datetime

projects = [{'code': 'demo',
 'created_at': datetime.datetime(2008, 6, 11, 7, 35, 19),
 'created_by': None,
 'id': 4,
 'image': 'https://website.com/files/0000/0000/blah.jpg',
 'name': 'Demo Project',
 'description': 'This is for demonstration purposes',
 'due': '2009-05-30',
 'start': '2009-05-06',
 'status': 'Active',
 'stype': 'Demo',
 'tag_list': [],
 'type': 'Project',
 'updated_at': datetime.datetime(2009, 5, 27, 1, 41, 55),
 'updated_by': {'id': 24, 'name': 'Test', 'type': 'HumanUser'},
 'users': [{'id': 19, 'name': 'User 1', 'type': 'HumanUser'},
           {'id': 18, 'name': 'User 2', 'type': 'HumanUser'},
           {'id': 17, 'name': 'User 3', 'type': 'HumanUser'},
           {'id': 16, 'name': 'User 4', 'type': 'HumanUser'},
           {'id': 15, 'name': 'User 5', 'type': 'HumanUser'},
           {'id': 14, 'name': 'User 6', 'type': 'HumanUser'},
           {'id': 13, 'name': 'User 7', 'type': 'HumanUser'},
           {'id': 12, 'name': 'User 8', 'type': 'HumanUser'},
           {'id': 20, 'name': 'Client 1', 'type': 'HumanUser'}]},
 ]

from lxml import etree

def E(tag, parent=None, content=None, children=None, **kw):
  e = etree.Element(tag)
  if not content is None:
    e.text = str(content)
  for k,v in kw.items():
    e.set(k, str(v))
  if not parent is None:
    parent.append(e)
  if not children is None:
    for c in children:
      e.append(c)
  return e

def processProject(data):
  attrs = ('name','type','id')
  p = E('Project')
  for item in attrs:
    p.set(item,str(data[item]))
  for k,v in [ x for x in data.items() if x[0] not in attrs ]:
    if v is None:
      E(k,parent=p)
    elif isinstance(v,basestring):
      E(k,content=v,parent=p)
    elif isinstance(v,(float,long,int)):
      E(k,content=str(v),parent=p)
    elif isinstance(v,datetime.datetime):
      E(k,content=v.strftime('%Y-%m-%d %H%M'),parent=p)
    elif k == 'users':
      users = E(k,parent=p)
      for u in v:
        E('user',parent=users,**dict([ (x,str(y)) for (x,y) in u.items()]))
    elif k in ('updated_by','created_by'):
      E(k,parent=p,**dict([ (x,str(y)) for (x,y) in v.items()]))
    elif k == 'tag_list':
      taglist = E(k,parent=p)
      for t in v:
        E('tag',parent=taglist,content=t)
  return p

>>> projxml = processProject(projects[0])
>>> etree.dump(projxml)
<Project name=""Demo Project"" type=""Project"" id=""4"">
  <status>Active</status>
  <code>demo</code>
  <created_at>2008-06-11 0735</created_at>
  <due>2009-05-30</due>
  <created_by/>
  <updated_at>2009-05-27 0141</updated_at>
  <start>2009-05-06</start>
  <image>https://website.com/files/0000/0000/blah.jpg</image>
  <updated_by type=""HumanUser"" id=""24"" name=""Test""/>
  <users>
    <user type=""HumanUser"" id=""19"" name=""User 1""/>
    <user type=""HumanUser"" id=""18"" name=""User 2""/>
    <user type=""HumanUser"" id=""17"" name=""User 3""/>
    <user type=""HumanUser"" id=""16"" name=""User 4""/>
    <user type=""HumanUser"" id=""15"" name=""User 5""/>
    <user type=""HumanUser"" id=""14"" name=""User 6""/>
    <user type=""HumanUser"" id=""13"" name=""User 7""/>
    <user type=""HumanUser"" id=""12"" name=""User 8""/>
    <user type=""HumanUser"" id=""20"" name=""Client 1""/>
  </users>
  <tag_list/>
  <stype>Demo</stype>
  <description>This is for demonstration purposes</description>
</Project>
"
24913,71999,Distinguish modules from packages,"# __package__ is not guaranteed to be defined or could be set to None
# to represent that it's proper value is unknown
package = globals.get('__package__')
if package is None:
    package = globals['__name__']
    if '__path__' not in globals:
        package = package.rpartition('.')[0]
module = _gcd_import(name, package, level)
"
30980,29539,Filtering CSV file of URLS based on String Match,"import csv 
with open('speechurls.csv', 'r') as f:
    for row in csv.reader(f):
        if 'remarks-president' in row[0]:
            with open('remarks-president_urls.csv','a') as f1: f1.write(""{}\n"".format(row[0]))
        elif 'remarks-first-lady' in row[0]:
            with open('remarks-first-lady_urls.csv', 'a') as f2: f2.write(""{}\n"".format(row[0]))
        else:
            pass
"
18818,55577,Python Django Template: Iterate Through List,"<div id=""right_pod"">
{% for i in c %}
    <div class=""user_pod"">
        {{ i.0.from_user }}
    </div>
{% endfor %}
"
10297,82810,Multiple having statements in a SQLAlchemy query,"query.filter(...).having(...)
"
2960,73199,Stripping headers and footers,"private_key = private_key.replace('-----BEGIN RSA PRIVATE KEY-----', '')
private_key = private_key.replace('-----END RSA PRIVATE KEY-----', '')
"
14909,21474,Hide script extension,"RewriteEngine On
RewriteRule ^/test/$ /test.py 
"
1747,1728,using locals() inside dictionary comprehension,"def f(): 
    a = 1 
    b = 2 
    list_ = ['a', 'b'] 
    locals_ = locals()
    dict_ = dict((x, locals_[x]) for x in list_)
"
20765,11337,Convert Python array('B') to array('H') - always little-endian?,"data = f.read()
c = struct.unpack_from('<8H', data, 16)
"
37619,77615,Is it possible to monitor every file creation on a Windows drive?,"import watcher
w = watcher.Watcher(dir, callback)
w.flags = watcher.FILE_NOTIFY_CHANGE_FILE_NAME
w.start()
"
38686,46954,Graphing any rational functions in python considering the asymptotes,"# setup x and y ranges and precision
xx = np.arange(-0.5,5.5,0.01)

max_tolerance = 100.
min_tolerance = -100.

yy = 1/(xx-2)
yy[yy > max_tolerance] = np.inf
yy[yy < min_tolerance] = -np.inf

ax.plot(xx, yy, zorder=100, linewidth=3, color='red') 
"
16958,75082,python - an alternative way to not have repetitive elements print without break command?,"myList = [1,9,16,24]

num = int(input(""Enter a number: ""))

condition = True

for index, x in enumerate(myList):
    if condition and num < x:
        myList.insert(index, num)
        condition = False

if condition:
    myList.append(num)

print(myList)
"
34079,76095,Browse files to open and run using GUI python,"def callback():
    abc = askopenfilename()
    execfile(""abc.py"")
"
30669,82359,Compare patterns of bars,"A:   1.00 | 1.42 |  2.17 | 2.13
B:   1.00 | 1.40 |  2.20 | 2.10
A-B: 0.00 | 0.02 | -0.03 | 0.03

0^2  + 0.02^2 + -0.03^2 + 0.03^2 = 0.0022
"
8146,32701,Update multiple objects at once in Django?,"from django.db import transaction

with transaction.atomic():
    for i, row in df.iterrows():
        mv = MeasureValue.objects.get(org=row.org, month=month)

        if (row.percentile is None) or np.isnan(row.percentile): 
            # if it's already None, why set it to None?
            row.percentile = None

        mv.percentile = row.percentile
        mv.save()
"
28407,34588,Actions before close python script," import signal
 import sys

 def signal_handler(signal, frame):
     print 'You pressed Ctrl+C - or killed me with -2'
     #.... Put your logic here .....
     sys.exit(0)

 signal.signal(signal.SIGINT, signal_handler)
"
34297,4877,Using self in a Python class (in Nuke making a GUI),"class notePanel(nukescripts.PythonPanel):
    def __init__(self):
        nukescripts.PythonPanel.__init__(self, 'Note Panel', 'com.ohufx.notePanel')

        self.sgpage = nuke.PyScript_Knob('sgpage', 'Open SG page', '')

    def knobChanged(self, knob):
        if knob is self.sgpage:
            self.launchSGPage()

    def launchSGPage(self):
        pr = self.proj.value()
        sh = self.shot.value()
        url = shotgun.getURL(pr,sh)
        webbrowser.get('/usr/bin/google-chrome %s').open(url)
"
19113,27995,Update the Listbox/Treeview instead of creating a new one each time,"import tkinter as tk
import tkinter.font as tkFont
import tkinter.ttk as ttk
from tkinter import *
def parse_csv(content, delimiter = ';'):  ##We use here "";"" to parse CSV because of the European way of dealing with excel-csv
  csv_data = []
  for line in content.split('\n'):
    csv_data.append( [x.strip() for x in line.split( delimiter )] ) # strips spaces also
  return csv_data

canvas=parse_csv(open('canvas.csv','rU',encoding=""ISO-8859-1"").read())
#fediaf_requirements is a list containing where fediaf has a 
fediaf_requirements=[]
for i in range(0,len(canvas)):
               if canvas[i][1]==""FEDIAF"":
                  fediaf_requirements.append(canvas[i][0])

car_header = ['Used Nutrients in the Profession', 'Nutrients used in this PetFood (Source : Official Website)', 'FEDIAF Requirement']


#Create the Data to be put into the table
def FromCSV_to_Tree(liste_croq):
    global car_list
    car_list=[]
    value=str(liste_croq.get(liste_croq.curselection()))
    for i in range(0,len(Remplissage)):
               if Remplissage[i][0]==""Name"":
                  for j in range(1,len(Remplissage[i])):
                      if Remplissage[i][j]==value:
                          for k in range(0,len(Remplissage)-1):
                              if Remplissage[k][0] in fediaf_requirements :
                                  a=""Required""
                              else :
                                  a=""""


                              if Remplissage[k][j]!=""ND"":
                                     car_list.append([Remplissage[k][0],""OK"",a])
                              else:
                                  car_list.append([Remplissage[k][0],"""",a])



def CurSelet_croq(evt,container):
    global car_list
    FromCSV_to_Tree(liste_croq)
    car_header = ['Used Nutrients in the Profession', 'Nutrients used in this PetFood (Source : Official Website)', 'FEDIAF Requirement']
    print(car_list)


    #create a treeview with dual scrollbars

    #Container and container.pack detached to update the tree with the new datas. 
    container.pack(fill='both', expand=True)




    tree = ttk.Treeview(columns=car_header, show=""headings"")
    vsb = ttk.Scrollbar(orient=""vertical"",
                        command=tree.yview)
    hsb = ttk.Scrollbar(orient=""horizontal"",
                        command=tree.xview)
    tree.configure(yscrollcommand=vsb.set,
                   xscrollcommand=hsb.set)
    tree.grid(column=0, row=0, sticky='nsew', in_=container)
    vsb.grid(column=1, row=0, sticky='ns', in_=container)
    hsb.grid(column=0, row=1, sticky='ew', in_=container)

    container.grid_columnconfigure(0, weight=1)
    container.grid_rowconfigure(0, weight=1)

    def sortby(tree, col, descending):
        """"""sort tree contents when a column header is clicked on""""""
        # grab values to sort
        data = [(tree.set(child, col), child) \
            for child in tree.get_children('')]
        # if the data to be sorted is numeric change to float
        #data =  change_numeric(data)
        # now sort the data in place
        data.sort(reverse=descending)
        for ix, item in enumerate(data):
            tree.move(item[1], '', ix)
        # switch the heading so it will sort in the opposite direction
        tree.heading(col, command=lambda col=col: sortby(tree, col, \

            int(not descending)))

##Put data into the tree
    for col in car_header:
        tree.heading(col, text=col.title(),
                     command=lambda c=col: sortby(tree, c, 0))
        # adjust the column's width to the header string
        tree.column(col,
                    width=tkFont.Font().measure(col.title()))

    for item in car_list:
        tree.insert('', 'end', values=item)
        # adjust column's width if necessary to fit each value
        for ix, val in enumerate(item):
            col_w = tkFont.Font().measure(val)
            if tree.column(car_header[ix],width=None)<col_w:
               tree.column(car_header[ix], width=col_w)










Remplissage=parse_csv(open('Remplissage.csv','rU',encoding=""ISO-8859-1"").read())
root = tk.Tk()
root.wm_title(""Visualizer"")

container = ttk.Frame()

liste_croq = Listbox(root,width=70, height=10)
for i in range(0,len(Remplissage)):
               if Remplissage[i][0]==""Name"":
                  for j in range(1,len(Remplissage[i])):
                      liste_croq.insert(i,Remplissage[i][j])
                      liste_croq.bind('<<ListboxSelect>>', lambda evt, container=container : CurSelet_croq(evt,container))
                      liste_croq.pack()


root.mainloop()
"
37585,71696,Django haystack indexing many to many field but search failing if there are more than one word,"  books = searchQuerySet().filter(content=haystack.inputs.AutoQuery(query))
"
38778,46019,Read lines from multiple files python,"from itertools import zip_longest

files = [open(filename) for filename in file_list]

for lines in zip_longest(*files, fillvalue=''):
    print("" "".join(lines))
"
15732,59712,Compare two images the python/linux way,"h1 = Image.open(""image1"").histogram()
h2 = Image.open(""image2"").histogram()

rms = math.sqrt(reduce(operator.add,
    map(lambda a,b: (a-b)**2, h1, h2))/len(h1))
"
32703,3184,Pythonic way to set module-wide settings from external file,"class Config(object):
    setting1 = ""default_value""
    setting2 = ""default_value""

    @staticmethod
    def load_config(json_file):
        """""" load settings from config file """"""
        with open(json_file) as f:
            config = json.load(f)
        for k, v in config.iteritems():
            setattr(Config, k, v)
"
31627,64643,Is there a way to use the Python package import path as class specifier?," from .Line import Line
"
20374,18708,Does a function which takes iterable as parameter always accept iterator?,"container
    Has a __contains__ method

generator
    A function which returns an iterator.

iterable
    An object with an __iter__() or __getitem__() method. Examples of
    iterables include all sequence types (such as list, str, and
    tuple) and some non-sequence types like dict and file. When an
    iterable object is passed as an argument to the builtin function
    iter(), it returns an iterator for the object. This iterator is
    good for one pass over the set of values.

iterator
    An iterable which has a next() method.  Iterators are required to
    have an __iter__() method that returns the iterator object
    itself. An iterator is good for one pass over the set of values.

sequence
    An iterable which supports efficient element access using integer
    indices via the __getitem__() special method and defines a len()
    method that returns the length of the sequence. Note that dict
    also supports __getitem__() and __len__(), but is considered a
    mapping rather than a sequence because the lookups use arbitrary
    immutable keys rather than integers.  sequences are orderable
    iterables.

    deque is a sequence, but collections.Sequence does not recognize
    deque as a sequence.
    >>> isinstance(collections.deque(), collections.Sequence)
    False
"
1160,74765,Is there a more agile way to re-factor the following string formating code,"result = ' ' * 8
width = house.get_width() - 4 # subtract 4 to allow for 'CAT '
for i in range(house.get_cat_count()): # or xrange
    result += 'CAT %-*c' % (width, ord('A') + i)
"
4109,62689,How do I actually use WSGI?,"def main():
   run_wsgi_app(app2)
"
17958,4258,Converting simple python method(s) to C++,"#include<iostream>
#include<string>
#include<sstream>

using namespace std;

string compress(string data) {
    int letter_counter = 1, i=0;
    ostringstream new_data;
    for (i; i<data.length()-1; i++) {
        if (data[i] == data[i+1]) {
            letter_counter += 1;
        } else {
            new_data<<letter_counter;
            new_data<<data[i];
            letter_counter = 1;
        }
    }
    new_data<<letter_counter;
    new_data<<data[i];

    return new_data.str();
}

int main() {
    string data = string(""wwwwwbbbcdee"");
    string data2 = string(""wwwwwwwwwwwwww"");
    cout << compress(data) <<endl;
    cout << compress(data2) <<endl;
}
"
38811,39705,Postpone code for later execution in python (like setTimeout in javascript),"import signal, sys

# install a SIGALRM handler 

def handler(signum, frame):
    print ""got signal, exiting""
    sys.exit(1)

signal.signal(signal.SIGALRM, handler)

# emit SIGALRM after 5 secs

signal.setitimer(signal.ITIMER_REAL, 5)

# do stuff

i = 1
while True:
    if i % 100000 == 0:
        print i
    i += 1
"
4334,17933,How to install twitter4j package(java) alternative in python?,"#no of tweets you want to request
max_tweets = 500
#make initial request for most recent tweets (200 is the maximum allowed count)
new_tweets = api.GetUserTimeline(screen_name = screen_name,count=max_tweets)

#save most recent tweets
alltweets.extend(new_tweets)


#save the id of the oldest tweet less one
oldest = alltweets[-1].id - 1
#loop for remaining tweets
while(len(alltweets)<max_tweets):
    alltweets.extend(api.GetUserTimeline(screen_name = screen_name,count=(max_tweets-len(alltweets)),max_id=oldest))
    oldest = alltweets[-1].id - 1
"
19231,3007,Error when using Python to create hyperlink within a worksheet in Excel,"def CreateLink():
    excel.Worksheets(1).Cells(1,1).Value = '=HYPERLINK(A21,""Cell A21"")'
"
17370,41797,How to get the next specific day of the month in Python?,"import datetime
from dateutil.rrule import * 

now = datetime.datetime.today().date()
days = rrule(MONTHLY, dtstart=now, bymonthday=25)
print (days[0])  # datetime.datetime(2016, 2, 25, 0, 0)
print (days[1])  # datetime.datetime(2016, 3, 25, 0, 0)
"
24826,40620,Moving non-overlapping window in Numpy,"import numpy as np

a = np.array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])

# get length of flat array
a_length, =  a.shape

# reshape array 
#(column by row must respect number of elements)
b = a.reshape(( 2, a_length/2 ))

# assign array except last column to a variable
result = b[:,:-1]
print result
"
12612,37449,Parsing HTML Tables with BS4,"import urllib2
from bs4 import BeautifulSoup
import csv

url = ('http://nflcombineresults.com/nflcombinedata.php?year=2000&pos=&college=')

page = urllib2.urlopen(url).read()

soup = BeautifulSoup(page)
table = soup.find('table')

f = csv.writer(open(""2000scrape.csv"", ""w""))
f.writerow([""Name"", ""Position"", ""Height"", ""Weight"", ""40-yd"", ""Bench"", ""Vertical"", ""Broad"", ""Shuttle"", ""3-Cone""])
# variable to check length of rows
x = (len(table.findAll('tr')) - 1)
# set to run through x
for row in table.findAll('tr')[1:x]:
    col = row.findAll('td')
    name = col[1].getText()
    position = col[3].getText()
    height = col[4].getText()
    weight = col[5].getText()
    forty = col[7].getText()
    bench = col[8].getText()
    vertical = col[9].getText()
    broad = col[10].getText()
    shuttle = col[11].getText()
    threecone = col[12].getText()
    player = (name, position, height, weight, forty, bench, vertical, broad, shuttle, threecone, )
    f.writerow(player)
"
10598,24611,Removing a file with only the python file object,"import os
f = open('/tmp/test.txt', 'w')
os.unlink(f.name)
# You can still use f here, it's just only visible for people having a handle.
# close it when you're finished.
"
13490,62219,twilio API: Make a function sending SMSs with python,"class Messages(ListResource):
    name = ""Messages""
    key = ""messages""
    instance = Message

    def create(self, from_=None, **kwargs):
        """"""
        Create and send a Message.

        :param str to: The destination phone number.
        :param str `from_`: The phone number sending this message
            (must be a verified Twilio number)
        :param str body: The message you want to send,
            limited to 1600 characters.
        :param list media_url: A list of URLs of images to include in the
            message.
        :param status_callback: A URL that Twilio will POST to when
            your message is processed.
        :param str application_sid: The 34 character sid of the application
            Twilio should use to handle this phone call.
        """"""
        kwargs[""from""] = from_
        return self.create_instance(kwargs)
"
1672,81141,Check for user Input on stdin during whole execution time,"while True:
    if select.select([sys.stdin], [], [], 10)[0]:
        ...
"
1436,49670,How to access pubmed data for forms with multiple pages in python crawler,"Back in Section 8.7 we mentioned ELink can be used to search for citations of a given paper. Unfortunately this only covers journals indexed for PubMed Central (doing it for all the journals in PubMed would mean a lot more work for the NIH). Let’s try this for the Biopython PDB parser paper, PubMed ID 14630660:

>>> from Bio import Entrez
>>> Entrez.email = ""A.N.Other@example.com""
>>> pmid = ""14630660""
>>> results = Entrez.read(Entrez.elink(dbfrom=""pubmed"", db=""pmc"",
...                                    LinkName=""pubmed_pmc_refs"", from_uid=pmid))
>>> pmc_ids = [link[""Id""] for link in results[0][""LinkSetDb""][0][""Link""]]
>>> pmc_ids
['2744707', '2705363', '2682512', ..., '1190160']
Great - eleven articles. But why hasn’t the Biopython application note been found (PubMed ID 19304878)? Well, as you might have guessed from the variable names, there are not actually PubMed IDs, but PubMed Central IDs. Our application note is the third citing paper in that list, PMCID 2682512.

So, what if (like me) you’d rather get back a list of PubMed IDs? Well we can call ELink again to translate them. This becomes a two step process, so by now you should expect to use the history feature to accomplish it (Section 8.15).

But first, taking the more straightforward approach of making a second (separate) call to ELink:

>>> results2 = Entrez.read(Entrez.elink(dbfrom=""pmc"", db=""pubmed"", LinkName=""pmc_pubmed"",
...                                     from_uid="","".join(pmc_ids)))
>>> pubmed_ids = [link[""Id""] for link in results2[0][""LinkSetDb""][0][""Link""]]
>>> pubmed_ids
['19698094', '19450287', '19304878', ..., '15985178']
This time you can immediately spot the Biopython application note as the third hit (PubMed ID 19304878).

Now, let’s do that all again but with the history …TODO.

And finally, don’t forget to include your own email address in the Entrez calls.
"
10797,80560,How to add a string as the artist in matplotlib legend?,"import matplotlib.pyplot as plt
import matplotlib.text as mpl_text

class AnyObject(object):
    def __init__(self, text, color):
        self.my_text = text
        self.my_color = color

class AnyObjectHandler(object):
    def legend_artist(self, legend, orig_handle, fontsize, handlebox):
        print orig_handle
        x0, y0 = handlebox.xdescent, handlebox.ydescent
        width, height = handlebox.width, handlebox.height
        patch = mpl_text.Text(x=0, y=0, text=orig_handle.my_text, color=orig_handle.my_color, verticalalignment=u'baseline', 
                                horizontalalignment=u'left', multialignment=None, 
                                fontproperties=None, rotation=45, linespacing=None, 
                                rotation_mode=None)
        handlebox.add_artist(patch)
        return patch

obj_0 = AnyObject(""A"", ""purple"")
obj_1 = AnyObject(""B"", ""green"")

plt.legend([obj_0, obj_1], ['Model Name A', 'Model Name B'],
           handler_map={obj_0:AnyObjectHandler(), obj_1:AnyObjectHandler()})

plt.show()
"
3864,18313,What is the preferred way to handle basic arrays in Python?,"import numpy as np
a = np.random.rand(10,1)
b = np.random.rand(10,1)
c = b > 0.5
d = a * b # Note that * in NumPy is always elementwise (use .dot for matrix multiplication)
e = a + b
f = a.mean() # Can also use np.mean(a)
g = b.sum() # Can also use np.sum(b)
"
32025,30097,Django View / Template how to know the max value from a model,"{% get_max_votes poll.choice_set.all as leader %}
{% for choice in poll.choice_set.all %}
    {% ifequal choice leader %}
    {% endif %}
{% endfor %}
"
14469,63610,Convert python to c#,"class Program
{
    static void Main()
    {
        var secret = ""secret"";
        var data = ""data"";
        var hmac = new HMACSHA1(Encoding.UTF8.GetBytes(secret));
        var hash = hmac.ComputeHash(Encoding.UTF8.GetBytes(data));
        Console.WriteLine(BitConverter.ToString(hash));
    }
}
"
1130,34388,Get the name of a variable,">>> class C:
        def function(self):
            text = inspect.stack()[1][4][0].strip().split('.')
            return '{0} calls {1}'.format(*text)

>>> myVar = C()
>>> myVar.function()
'myVar calls function()'
"
30101,82215,Python/Regex - How to extract date from filename using regular expression?,"re.search(""([0-9]{2}\-[0-9]{2}\-[0-9]{4})"", fileName)
"
2330,14597,python remove keys whose values add up to a total,"values_sum = 0
for key in sorted(dict1,reverse=True):
    values_sum +=dict1[key]
    del dict1[key]
    if values_sum >= 6:
        break    
"
10940,16345,DataFrame.combine example,"import pandas as pd
import numpy as np
# This will add the 'a' columns.
>> pd.DataFrame({'a': range(4), 'b': range(2, 6)}).\
    combine(pd.DataFrame({'a': range(1, 5)}), func=lambda a, b: a + b)
       a   b
0  1 NaN
1  3 NaN
2  5 NaN
3  7 NaN
"
766,73439,Project Euler #3 with python - MOST EFFICIENT METHOD,"n = 600851475143
i = 2
while i * i < n:
    while n % i == 0:
        n = n / i
    i = i + 1
print n
"
2663,51588,Python Reportlab Paragraph not crossing over next page,"question = Paragraph('What color is the sky?', style)
answer1 = Paragraph('Red', style)
answer2 = Paragraph('Green', style)
answer3 = Paragraph('Blue', style)

Story.append(KeepTogether([question, answer1, answer2, answer3]))
"
15134,53958,What is the purpose in Python's itertools.repeat?,"class ZipExhausted(Exception):
    pass

def izip_longest(*args, **kwds):
    # izip_longest('ABCD', 'xy', fillvalue='-') --> Ax By C- D-
    fillvalue = kwds.get('fillvalue')
    counter = [len(args) - 1]
    def sentinel():
        if not counter[0]:
            raise ZipExhausted
        counter[0] -= 1
        yield fillvalue
    fillers = repeat(fillvalue)
    iterators = [chain(it, sentinel(), fillers) for it in args]
    try:
        while iterators:
            yield tuple(map(next, iterators))
    except ZipExhausted:
        pass
"
5579,78633,Is there a Python builtin for determining if an iterable contained a certain sequence?,"from itertools import islice

def window(seq, n=2):
    """"""
    Returns a sliding window (of width n) over data from the iterable
    s -> (s0,s1,...s[n-1]), (s1,s2,...,sn), ...                   
    """"""
    it = iter(seq)
    result = list(islice(it, n))
    if len(result) == n:
        yield result    
    for elem in it:
        result = result[1:] + [elem]
        yield result

def contains_sequence(all_values, seq):
    return any(seq == current_seq for current_seq in window(all_values, len(seq)))            

test_iterable = [1,2,3]
search_sequence = [1,2]

result = contains_sequence(test_iterable, search_sequence)
"
34209,7526,Pygtk color for drag_highlight,"#!/usr/bin/env python

# example eventbox.py

import pygtk
pygtk.require('2.0')
import gtk

class EventBoxExample:
    def __init__(self):
        window = gtk.Window(gtk.WINDOW_TOPLEVEL)
        window.set_title(""Event Box"")
        window.connect(""destroy"", lambda w: gtk.main_quit())
        window.set_border_width(10)

        # Create an EventBox and add it to our toplevel window
        frame = gtk.EventBox() # gtk.Frame()
        window.add(frame)
        frame.show()
        frame.set_border_width(2)
        frame.modify_bg(gtk.STATE_NORMAL,
                            frame.get_colormap().alloc_color(""blue""))

        event_box = gtk.EventBox()
        frame.add(event_box)
        event_box.set_border_width(10)
        event_box.show()

        # Create a long label
        label = gtk.Label(""Click here to quit, quit, quit, quit, quit"")
        event_box.add(label)
        label.show()

        # Clip it short.
        label.set_size_request(110, 20)

        # And bind an action to it
        event_box.set_events(gtk.gdk.BUTTON_PRESS_MASK)
        event_box.connect(""button_press_event"", lambda w,e: gtk.main_quit())

        # More things you need an X window for ...
        event_box.realize()
        event_box.window.set_cursor(gtk.gdk.Cursor(gtk.gdk.HAND1))

        # Set background color to green
        event_box.modify_bg(gtk.STATE_NORMAL,
                            event_box.get_colormap().alloc_color(""green""))

        window.show()

def main():
    gtk.main()
    return 0

if __name__ == ""__main__"":
    EventBoxExample()
    main()
"
23320,53667,import an array in python,">>> from numpy import *
>>>
>>> data = loadtxt(""myfile.txt"")                       # myfile.txt contains 4 columns of numbers
>>> t,z = data[:,0], data[:,3]                         # data is 2D numpy array
>>>
>>> t,x,y,z = loadtxt(""myfile.txt"", unpack=True)                  # to unpack all columns
>>> t,z = loadtxt(""myfile.txt"", usecols = (0,3), unpack=True)     # to select just a few columns
>>> data = loadtxt(""myfile.txt"", skiprows = 7)                    # to skip 7 rows from top of file
>>> data = loadtxt(""myfile.txt"", comments = '!')                  # use '!' as comment char instead of '#'
>>> data = loadtxt(""myfile.txt"", delimiter=';')                   # use ';' as column separator instead of whitespace
>>> data = loadtxt(""myfile.txt"", dtype = int)                     # file contains integers instead of floats
"
28609,18406,Map only certain parts of the class to a database using SQLAlchemy?,"mapper(User, users_table, include_properties=['user_id', 'user_name'])

mapper(Address, addresses_table, exclude_properties=['street', 'city', 'state', 'zip'])
"
20219,12200,datatype in python (looking for something similar to str in R),">>> import pandas as pd
>>> df = pd.DataFrame({'foo': [1, 2, 3], 'bar': [1.0, 2.0, 3.0], 'baz': ['qux', 'quux', 'quuux']})
>>> df.dtypes
bar    float64
baz     object
foo      int64
dtype: object
"
10583,11660,python regex re.sub with strings,"regex_result += ""\\2""
"
38587,61588,Python: How to traverse a List[Dict{List[Dict{}]}],"for elem in data:
    for val in elem.itervalues():
        for item in val['data']:
"
34397,44571,Efficient way to find the largest key in a dictionary with non-zero value,">>> x = {0: 5, 1: 7, 2: 0}
>>> max(k for k, v in x.iteritems() if v != 0)
1
"
30732,49202,Show icon or color in Gtk TreeView tree,"from gi.repository import Gtk, Gdk, GdkPixbuf

class MyWindow(Gtk.Window):
    def __init__(self):
        Gtk.Window.__init__(self)
        self.set_default_size(200, 200)

        self.liststore = Gtk.ListStore(str, str)
        self.treeview = Gtk.TreeView(model=self.liststore)

        self.liststore.append([""icon.png"", ""This is a symbol1""])

        px_renderer = Gtk.CellRendererPixbuf()
        px_column = Gtk.TreeViewColumn('')
        px_column.pack_start(px_renderer, False)
        str_renderer = Gtk.CellRendererText()
        px_column.pack_start(str_renderer, False)
        # set data connector function/method
        px_column.set_cell_data_func(px_renderer, self.get_tree_cell_pixbuf)
        px_column.set_cell_data_func(str_renderer, self.get_tree_cell_text)
        self.treeview.append_column(px_column)

        self.add(self.treeview)

    def get_tree_cell_text(self, col, cell, model, iter, user_data):
        cell.set_property('text', model.get_value(iter, 1))

    def get_tree_cell_pixbuf(self, col, cell, model, iter, user_data):
        cell.set_property('pixbuf', GdkPixbuf.Pixbuf.new_from_file(model.get_value(iter, 0)))

if __name__ == '__main__':
    win = MyWindow()
    win.connect(""delete-event"", Gtk.main_quit)
    win.show_all()
    Gtk.main()
"
34606,52398,QDate into QString,">>> date = QtCore.QDate.fromString('20130916', 'yyyyMd')

# PySide
>>> date.toString('MMMM d, yyyy')
u'September 16, 2013'

# PyQt4
>>> date.toString('MMMM d, yyyy')
PyQt4.QtCore.QString(u'September 16, 2013')
>>> unicode(date.toString('MMMM d, yyyy'))
u'September 16, 2013'
"
31774,54725,mysqldb converts timestamp data to None,"try:
    import MySQLdb.converters
except ImportError:
    _connarg('conv')

def connect(host='abc.dev.local', user='abc', passwd='def', db='myabc', port=3306):

    try:
        orig_conv = MySQLdb.converters.conversions
        conv_iter = iter(orig_conv)
        convert = dict(zip(conv_iter, [str,] * len(orig_conv.keys())))
        print ""Connecting host=%s user=%s db=%s port=%d"" % (host, user, db, port)
        conn = MySQLdb.connect(host, user, passwd, db, port, conv=convert)
    except MySQLdb.Error, e:
        print ""Error connecting %d: %s"" % (e.args[0], e.args[1])
    return conn
"
22913,23429,Why does laplacian computed by Networkx and by incidence matrix is different,"In [1]: import networkx as nx

In [2]: G = nx.path_graph(4)

In [3]: I = nx.incidence_matrix(G,oriented=True)

In [4]: I.todense()
Out[4]: 
matrix([[-1.,  0.,  0.],
        [ 1., -1.,  0.],
        [ 0.,  1., -1.],
        [ 0.,  0.,  1.]])

In [5]: L = nx.laplacian_matrix(G)

In [6]: L.todense()
Out[6]: 
matrix([[ 1, -1,  0,  0],
        [-1,  2, -1,  0],
        [ 0, -1,  2, -1],
        [ 0,  0, -1,  1]])

In [7]: (I*I.T).todense()
Out[7]: 
matrix([[ 1., -1.,  0.,  0.],
        [-1.,  2., -1.,  0.],
        [ 0., -1.,  2., -1.],
        [ 0.,  0., -1.,  1.]])
"
9508,2039,Prevent bs4 from truncating html,"soup = BeautifulSoup(htmlcontent, 'html5')
"
22528,64898,"Python pattern-matching. Match 'c[any number of consecutive a's, b's, or c's or b's, c's, or a's etc.]t'","from itertools import groupby

words = ['ct', 'cat', 'cbbt', 'caaabbct', 'cbbccaat',  'cbcbbaat', 'caaccbabbt']
for w in words:
    match = False
    if w.startswith('c') and w.endswith('t'):
        temp = w[1:-1]
        s = set(temp)
        match = s <= set('abc') and len(s) == len(list(groupby(temp)))
    print w, ""matches"" if match else ""doesn't match""
"
28223,41749,Python regular expression that replaces test before a particular pattern,">>> s = re.search(r"".*\/(app.*)"", ""/home/python/app/index.html"")
>>> s.groups()[0]
'app/index.html'
"
26695,54435,Sorting CSV file with delimiter in Python,"with open('test.csv') as in_file, open('new.csv', 'w') as out_file:
    for line in csv.reader(in_file, delimiter='$'):
        out_file.write(','.join(sorted(line)[2:])+'\n')
"
37891,21948,Pythonic way of handling multiple possible file locations? (Without using nested trys),"for location in locations:
    try:
        try_to_connect(location)
        break
    except IOError:
        continue
else:
    # this else is optional
    # executes some code if none of the locations is valid
    # for example raise an Error as suggested @eumiro
"
11214,18422,(Unix/Python) Activity Monitor % CPU,"while True:
    files = os.path.listdir('./sub_directory/')

    if files != []:
        do_something()
"
37424,65746,Pandas : first datetime field gets automatically converted to timestamp type,"x = {'cusip': np.array(['10553M10', '67085120', '67085140'], dtype='|S8'), 
     'vstop': np.array([dt.datetime(2012, 2, 28, 0, 0), dt.datetime(2014, 12, 22, 0, 0), dt.datetime(2020, 12, 31, 0, 0)], dtype=object),
     'vstart': np.array([dt.datetime(2001, 11, 16, 0, 0),dt.datetime(2012, 2, 28, 0, 0), dt.datetime(2014, 12, 22, 0, 0)], dtype=object), 
     'id': np.array(['EQ0000000000041095', 'EQ0000000000041095', 'EQ0000000000041095'], dtype='|S18')}

In [27]:
df = pd.DataFrame(x)
df
Out[27]:
cusip                   id          vstart  vstop
10553M10    EQ0000000000041095  2001-11-16  2012-02-28
67085120    EQ0000000000041095  2012-02-28  2014-12-22
67085140    EQ0000000000041095  2014-12-22  2020-12-31

In [25]:
type(df.vstart[0])
Out[25]:
pandas.tslib.Timestamp

In [26]:
type(df.vstop[0])
Out[26]:
pandas.tslib.Timestamp
"
21930,54004,Finding closest values in a list of dictionary keys Python,"dist = sqrt((x1 - x2)**2 + (y1 - y2)**2 + (z1 - z2)**2)
"
34208,20271,Convert Pandas dataframe to csv string,"In [10]: df = pd.DataFrame({'A' : [0, 1], 'B' : [1, 6]})

In [11]: import StringIO

In [12]: s = StringIO.StringIO()

In [13]: df.to_csv(s)

In [14]: s.getvalue()
Out[14]: ',A,B\n0,0,1\n1,1,6\n'
"
25240,18254,Efficient way to find if a short string is present in a longer string in python,"shortlen = 150
shortset = set()
for i in xrange(len(seq)-shortlen+1):
    shortset.add(seq[i:i+shortlen])

for line in short:
    count1 += 1
    if line in shortset:
        count2 += 1
"
18111,66864,django admin inlines: get object from formfield_for_foreignkey,"class ProjectGroupMembershipInlineForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
        super(ProjectGroupMembershipInlineForm, self).__init__(*args, **kwargs)
        self.fields['group'].queryset = Group.objects.filter(some_filtering_here=self.instance)
"
29201,4931,"How to check for adjacency in list, then fix adjacency in python","row = [""0"",""0"",""0"",""0"",""0"",""0"",""0"",""0"",""0"",""01"",""01"",""01"",""01"",""01"",""01""]
random.shuffle(row)
print (map(int, list("""".join(row)[1:])))
"
6705,5034,map a method over list of different objects,">>> map(lambda x: x.foo(), [B(1), C(1)])
>>> [2, 0]
"
34171,42963,"chr() equivalent returning a bytes object, in py3k","# Python2
>>> x = bytearray((32,33))
>>> x
bytearray(b' !')
>>> bytes(x)
' !'

# Python3
>>> x = bytearray((32,33))
>>> x
bytearray(b' !')
>>> bytes(x)
b' !'
"
38330,53077,"Python, CSV, skipping lines based on content","with open(fileName, 'rb') as inf, open(""out_""+fileName, 'wb') as outf:
    reader = csv.reader(inf)
    # find header row
    for row in reader:
        if '' not in row:
            fieldnames = row
            break
    else:
        # oops, *only* rows with empty cells found
        raise ValueError('Unable to determine header row')

    # rewind, switch to DictReader, skip past header
    inf.seek(0)
    reader = csv.DictReader(inf, fieldnames)
    for row in reader:
        if row.keys() == row.values()
            break

    # copy all rows across with extra two columns
    writer = csv.DictWriter(outf, ['url_source','downloaded_at'] + fieldnames)
    writer.writeheader()
    writer.writerows(dict(r, url_source=csvUrl, downloaded_at=today)
                     for r in reader)
"
20605,10625,Spawning WSGI example (practical approach to WSGI),"spawn helloworld.simple_app
spawn helloworld.simple_app middleware.Upperware
"
5172,7541,How to disable button until check box is checked in pyqt?,"connect(checkbox, SIGNAL(stateChanged(int)), button, SLOT(buttonStateChanged(int)));
"
11044,2724,share a global variable in multi threading doesn't work in python,">>> import threading
>>> import time
>>> def func():
...     global l
...     i = 0
...     while i < 15:
...             l.append(i)
...             i += 1
...             time.sleep(1)
>>> def foo(t):
...     t.start()
...     i = 20
...     while i > 0:
...             print(l)
...             i -= 1
...             time.sleep(0.5)
>>> l = []
>>> t = threading.Thread(target=func)
>>> foo(t)
[0]
[0]
[0]
[0, 1]
[0, 1]
[0, 1, 2]
[0, 1, 2, 3]
[0, 1, 2, 3]
[0, 1, 2, 3, 4]
[0, 1, 2, 3, 4]
[0, 1, 2, 3, 4, 5]
[0, 1, 2, 3, 4, 5]
[0, 1, 2, 3, 4, 5, 6]
[0, 1, 2, 3, 4, 5, 6]
[0, 1, 2, 3, 4, 5, 6, 7]
[0, 1, 2, 3, 4, 5, 6, 7]
[0, 1, 2, 3, 4, 5, 6, 7, 8]
[0, 1, 2, 3, 4, 5, 6, 7, 8]
[0, 1, 2, 3, 4, 5, 6, 7, 8]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
"
25784,74776,Python Pandas: Boolean indexing on multiple columns,"d[(d['x']>2) & (d['y']>7)]
"
22846,51924,Converts old style lists to the new easier to understand format,"test = ['Item 1', [['Item 1.1', []], ['Item 1.2', []]]]

def convert(oldlist, newlist):
    for i in range(len(oldlist)):
        if type(oldlist[i]) == list and type(oldlist[i][0]) != list:
            newlist.append(oldlist[i][0])
        elif type(oldlist[i]) != list:
            newlist.append(oldlist[i])
        else:
            newlist.append([])
            convert(oldlist[i], newlist[-1])
    return newlist

print(convert(test, []))
"
27694,51576,Remove a portion of HTML text using Python,"from bs4 import BeautifulSoup

test_html = """"""<div>
    <div>
        <p>Paragraph 1 Lorem ipsum dolor... long text... </p>
        <p>Paragraph 2 Lorem ipsum dolor... long text... </p>
        <p>Paragraph 3 Lorem ipsum dolor... long text... </p>
    </div>
</div>""""""

test_html = test_html[0:50]
soup = BeautifulSoup(test_html, 'html.parser')

print(soup.prettify())
"
19358,62047,"Seeking Feedback, Infinite loop","COINS = ((""Dollars"", 1.), 
         (""Quarters"", .25), 
         (""Dimes"",    .10), 
         (""Nickels"",  .05), 
         (""Pennies"",  .01))

def changeCalc(cost, pmt):
    change = pmt - cost
    print(""Total Change: %.2f"" % change)
    if (pmt - cost) < 0:
        print(""The customer needs to pay %.2f more."" % abs(change))
    else:
        runningTotal = 0
        for (name, value) in COINS:
            number = int((change - runningTotal) / value)
            if number > 0:
                print(""Number of %s: %d"" % (name, number))
                runningTotal += number * value
        print runningTotal, change, (runningTotal - change)
"
37284,52183,gevent and snmp in python,"while True:
    eventlet.sleep(dispatcher.getTimerResolution())
    try:
        dispatcher.handleTimerTick(time.time())
    except Exception:
        print 'Error while handling dispatcher tick!'
        raise
"
17761,79496,What is the benefit of using django.conf.urls.patterns versus a list of url in Django,"def patterns(prefix, *args):
    warnings.warn(
        'django.conf.urls.patterns() is deprecated and will be removed in '
        'Django 1.10. Update your urlpatterns to be a list of '
        'django.conf.urls.url() instances instead.',
        RemovedInDjango110Warning, stacklevel=2
    )
"
24432,21367,Introspecting a given function's nested (local) functions in Python,"import inspect
import new

def f():
    x, y = 1, 2
    def get():
        print 'get'
    def post():
        print 'post'

for c in f.func_code.co_consts:
    if inspect.iscode(c):
        f = new.function(c, globals())
        print f # Here you have your function :].
"
20036,2131,Print DataFrame as table in iPython Notebook,"from IPython.display import display, HTML

# Assuming that dataframes df1 and df2 are already defined:
print ""Dataframe 1:""
display(df1)
print ""Dataframe 2:""
HTML(df2.to_html())
"
8256,54186,Randomly add buttons to Tkinter GUI?,"from Tkinter import *
from random import random

root = Tk()
frame = Frame(root, height=200, width=200)

for i in range(10):
    Button(frame, text=str(i)).place(x=random() * 150, y=random() * 180)

frame.pack()
root.mainloop()
"
12841,11944,"How to reshape this numpy array to exclude the ""extra dimension""?"," arr2 = arr1.reshape((100,20))
"
4183,80591,Query Q() is not working as 'set contain' for related field in Django?,"from django.db import connection
print connection.queries
u'SELECT DISTINCT ""market_basket"".""id"", ""market_basket"".""weight"" FROM ""market_basket"" INNER JOIN ""market_fruit"" ON (""market_basket"".""id"" = ""market_fruit"".""inbasket_id"") INNER JOIN ""market_fruitname"" ON (""market_fruit"".""ofkind_id"" = ""market_fruitname"".""id"") WHERE (""market_fruitname"".""name"" IN (\'apple\') AND ""market_fruitname"".""name"" IN (\'banana\')) LIMIT 21'
"
32306,62236,querying relation does not give back related object in sqlalchemy,"token = Session.query(AuthToken).options(eagerload('user')).filter(...).one()
user = token.user
"
20576,35900,How to display line count where regex match was found,"  regex = re.compile(r'(?:3\d){6}')
  for root,dirname, files in os.walk(directory):
     for file in files:
       if file.endswith("".log"") or file.endswith("".txt""):
          f=open(os.path.join(root,file))
          for i, line in enumerate(f.readlines()):
              searchedstr = regex.findall(line)
              for word in searchedstr:
                 print ""String found: "" + word
                 print ""Line: ""+str(i)
                 print ""File: "" + os.path.join(root,file)
                 break
          f.close()
"
14689,35281,Preserve default arguments of wrapped/decorated Python function in Sphinx documentation,"# Monkey-patch functools.wraps
import functools

def no_op_wraps(func):
    """"""Replaces functools.wraps in order to undo wrapping.

    Can be used to preserve the decorated function's signature
    in the documentation generated by Sphinx.

    """"""
    def wrapper(decorator):
        return func
    return wrapper

functools.wraps = no_op_wraps
"
18855,65734,"Pygame, how to draw a shape to the screen and delete the previous surface?","import sys, random, pygame
from pygame.locals import *

pygame.init()

w = 640
h = 480

screen = pygame.display.set_mode((w,h))
morphingShape = pygame.Surface((20,20))
morphingShape.fill((255, 137, 0)) #random colour for testing
morphingRect = morphingShape.get_rect()

# clock object that will be used to make the animation
# have the same speed on all machines regardless
# of the actual machine speed.
clock = pygame.time.Clock()

def ShapeSizeChange(shape, screen):
    x = random.randint(-21, 20)
    w = shape.get_width()
    h = shape.get_height()
    if w + x > 0 and h + x > 0:
        shape = pygame.transform.smoothscale(shape, (w + x, h + x))
    else:
        shape = pygame.transform.smoothscale(shape, (w - x, h - x))
    shape.fill((255, 137, 0))
    rect = shape.get_rect()
    screen.blit(shape, rect)
    return shape


while True:
    # limit the demo to 50 frames per second
    clock.tick( 50 );

    # clear screen with black color
    # THIS IS WHAT WAS REALLY MISSING...
    screen.fill( (0,0,0) )

    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
            sys.exit()
    morphingShape = ShapeSizeChange(morphingShape, screen)
    pygame.display.update()
"
35085,27032,python string replace digits,"from lxml import html
t = html.fromstring(text)
tds = t.xpath(""table/tbody/tr[2]/td"")
for td in tds:
    if tds.text.startswith(""0.""):
        td.getparent().remove(td)
text = html.tostring(t)
"
8170,67037,python: dot separated versions comparizon,"from distutils.version import StrictVersion # Or LooseVersion, if you prefer

if StrictVersion('10.2.3') > StrictVersion('10.2'):
    print ""10.2.3 is newer""
"
10270,64510,Redirecting stdout and stderr to a PyQt4 QTextEdit from a secondary thread,"import sys
from Queue import Queue
from PyQt4.QtCore import *
from PyQt4.QtGui import *

# The new Stream Object which replaces the default stream associated with sys.stdout
# This object just puts data in a queue!
class WriteStream(object):
    def __init__(self,queue):
        self.queue = queue

    def write(self, text):
        self.queue.put(text)

# A QObject (to be run in a QThread) which sits waiting for data to come through a Queue.Queue().
# It blocks until data is available, and one it has got something from the queue, it sends
# it to the ""MainThread"" by emitting a Qt Signal 
class MyReceiver(QObject):
    mysignal = pyqtSignal(str)

    def __init__(self,queue,*args,**kwargs):
        QObject.__init__(self,*args,**kwargs)
        self.queue = queue

    @pyqtSlot()
    def run(self):
        while True:
            text = self.queue.get()
            self.mysignal.emit(text)

# An example QObject (to be run in a QThread) which outputs information with print
class LongRunningThing(QObject):
    @pyqtSlot()
    def run(self):
        for i in range(1000):
            print i

# An Example application QWidget containing the textedit to redirect stdout to
class MyApp(QWidget):
    def __init__(self,*args,**kwargs):
        QWidget.__init__(self,*args,**kwargs)

        self.layout = QVBoxLayout(self)
        self.textedit = QTextEdit()
        self.button = QPushButton('start long running thread')
        self.button.clicked.connect(self.start_thread)
        self.layout.addWidget(self.textedit)
        self.layout.addWidget(self.button)

    @pyqtSlot(str)
    def append_text(self,text):
        self.textedit.moveCursor(QTextCursor.End)
        self.textedit.insertPlainText( text )

    @pyqtSlot()
    def start_thread(self):
        self.thread = QThread()
        self.long_running_thing = LongRunningThing()
        self.long_running_thing.moveToThread(self.thread)
        self.thread.started.connect(self.long_running_thing.run)
        self.thread.start()

# Create Queue and redirect sys.stdout to this queue
queue = Queue()
sys.stdout = WriteStream(queue)

# Create QApplication and QWidget
qapp = QApplication(sys.argv)  
app = MyApp()
app.show()

# Create thread that will listen on the other end of the queue, and send the text to the textedit in our application
thread = QThread()
my_receiver = MyReceiver(queue)
my_receiver.mysignal.connect(app.append_text)
my_receiver.moveToThread(thread)
thread.started.connect(my_receiver.run)
thread.start()

qapp.exec_()
"
5664,38930,BaseSpider and CrawlSpider together,"class MySpider(CrawlSpider):
    ...
    start_urls_crawlspider = (url1, url2,)
    start_urls_basespider = (url3,)

    def start_requests(self):
        for url in self.start_urls_crawlspider :
            yield Request(url, callback=self.parse) # ""parse"" is the default anyway

        for url in self.start_urls_basespider:
            yield Request(url, callback=self.parse_base)

    def parse_base(self, response):
        ...
"
29703,5452,Reading an image from the clipboard with wxPython,"import wx
class MyFrame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None, -1, 'test frame',size=(790, 524))
        self.Bind(wx.EVT_LEFT_DOWN, self.OnClick)
        self.Bind(wx.EVT_PAINT, self.OnPaint)
        self.clip = wx.Clipboard()
        self.x = wx.BitmapDataObject()
        self.bmp = None

    def OnClick(self, evt):
        self.clip.Open()
        self.clip.GetData(self.x)
        self.clip.Close()
        self.bmp = self.x.GetBitmap()
        self.Refresh()

    def OnPaint(self, evt):
        if self.bmp:
            dc = wx.PaintDC(self)
            dc.DrawBitmap(self.bmp, 20, 20, True)

if __name__ == '__main__':
    app = wx.App()
    frame = MyFrame()
    frame.Show()
    app.MainLoop()
"
4933,28207,Continuous check for VPN Connectivity - Python,"import logging, os, time

PING_HOST='10.10.10.10'  # some host on the other side of the VPN

while True:
    retcode = os.system('ping -c 1 %s' % PING_HOST)

    if retcode:  
       # perform action for lost connection
       logging.warn('Lost visibility with %s' % PING_HOST)

    time.sleep(10)  # sleep 10 seconds
"
36326,15186,Which is the best way to get the tags from Youtube with python?,"def PrintEntryDetails(entry):
   print 'Video title: %s' % entry.media.title.text
   print 'Video published on: %s ' % entry.published.text
   print 'Video description: %s' % entry.media.description.text
   print 'Video category: %s' % entry.media.category[0].text
   print 'Video tags: %s' % entry.media.keywords.text
   print 'Video watch page: %s' % entry.media.player.url
   print 'Video flash player URL: %s' % entry.GetSwfUrl()
   print 'Video duration: %s' % entry.media.duration.seconds
"
32679,11163,Assigning local variable in recursion,"def tree_max(node):
    maxleft  = float('-inf') if not node.left  else tree_max(node.left)
    maxright = float('-inf') if not node.right else tree_max(node.right)
    return max(node.value, maxleft, maxright)
"
8784,40141,unique combinations of values in selected columns in pandas data frame and count,"In [26]:

df1.groupby(['A','B']).size().reset_index().rename(columns={0:'count'})
Out[26]:
     A    B  count
0   no   no      1
1   no  yes      2
2  yes   no      4
3  yes  yes      3
"
12760,53980,Beautiful Soup - Cannot find the tags,"import urllib
from BeautifulSoup import BeautifulSoup as BS

soup = BS(urllib.urlopen(""http://item.taobao.com/item.htm?id=13015989524""))

a = []
for textarea in soup.findAll(""textarea""):
    textsoup = BS(textarea.text)  # parse the contents as html
    a.extend(textsoup.findAll(""a"", attrs={""href"":""http://item.taobao.com/item.htm?id=13015989524""}))

for tag in a:
    print tag

# outputs
# <a href=""http://item.taobao.com/item.htm?id=13015989524"" target=""_blank""><img ...
# <a href=""http://item.taobao.com/item.htm?id=13015989524"" title=""901 ...
"
10508,77218,regex match last occurence,"\d+(?=\D*$)
"
17242,52824,Python and unicode code point extraction,">>> ord(u""ć"")
263
>>> u""café""[2]
u'f'
>>> u""café""[3]
u'\xe9'
>>> for c in u""café"":
...     print repr(c), ord(c)
... 
u'c' 99
u'a' 97
u'f' 102
u'\xe9' 233
"
13541,13991,How to empty a numeric value from a form built with WTForm,"@app.route('/', methods=['GET', 'POST'])
def index():
    form = NameForm()  # Auto-populates from request data.
    name = None
    age = None
    if form.validate_on_submit():
        name = form.name.data
        age  = form.age.data

        # Lets now create a form, but ignore the request data, so it's empty:
        form = NameForm(formdata=None)
    return render_template('index.html', form = form, name = name, age = age)
"
39548,2273,Extracting Data from a .txt file using python,">>> from xml.etree.ElementTree import ElementTree
>>> tree = ElementTree()
>>> tree.parse(""your_xml_file.xml"")
"
13912,61867,Does threading.Timer open a function in a separate thread?,"def Timer(*args, **kwargs):
    """"""Factory function to create a Timer object.

    Timers call a function after a specified number of seconds:

        t = Timer(30.0, f, args=[], kwargs={})
        t.start()
        t.cancel()     # stop the timer's action if it's still waiting

    """"""
    return _Timer(*args, **kwargs)

class _Timer(Thread):
    """"""Call a function after a specified number of seconds:

            t = Timer(30.0, f, args=[], kwargs={})
            t.start()
            t.cancel()     # stop the timer's action if it's still waiting

    """"""

    def __init__(self, interval, function, args=[], kwargs={}):
        Thread.__init__(self)
        self.interval = interval
        self.function = function
        self.args = args
        self.kwargs = kwargs
        self.finished = Event()
"
28587,29064,How to capture first line from XML response in Python?,"   r.readline()
   'This is the first line of the file.\n'
   r.readline()
   'Second line of the file\n'
   r.readline()
   ''
"
22357,23143,Pass empty/noop function/lambda as default argument,"def execute(func=None, *args, **kwargs):
    if func:
        func(*args, **kwargs)
"
39521,18316,"Python Number to Word e.g 10K, 10.65M","(6, lambda number: (
    ungettext('%(value).1f million', '%(value).1f million', number),
    ungettext('%(value)s million', '%(value)s million', number),
)),
"
9591,9321,how to make youtube videos embed on your webpage when a link is posted,"<iframe width=""560"" height=""315"" src=""http://www.youtube.com/embed/DU0Q0U08gAc"" frameborder=""0"" allowfullscreen></iframe>
"
34656,8356,How do you find a url behind an html submit button?,"<html>
<body>
<form action=""/submit.php"">
<input type=""text"" name=""Name""></input>
<input type=submit""></input>
</body>
</html>
"
39551,63288,delete not cascaded to table in sqlalchemy,"engine = create_engine(database_url)

def on_connect(conn, record):
    conn.execute('pragma foreign_keys=ON')

from sqlalchemy import event
event.listen(engine, 'connect', on_connect)
"
38202,79737,How to add widgets dynamically after parent is created,"self.widgets[-1].show()
"
3965,33137,What threading algorithm(s) does Python's IMAP library support?,"* OK [CAPABILITY IMAP4rev1 UIDPLUS CHILDREN NAMESPACE THREAD=ORDEREDSUBJECT THREAD=REFERENCES SORT QUOTA IDLE AUTH=PLAIN ACL ACL2=UNION ID] Courier-IMAP ready. Copyright 1998-2011 Double Precision, Inc.  See COPYING for distribution information.
"
37806,43755,Dynamically resizing and adding widgets to Tkinter window,"import Tkinter as tk
import tkFileDialog

class SampleApp(tk.Tk):
    def __init__(self, *args, **kwargs):
        tk.Tk.__init__(self, *args, **kwargs)
        self.button = tk.Button(text=""Pick a file!"", command=self.pick_file)
        self.button.pack()
        self.entry_frame = tk.Frame(self)
        self.entry_frame.pack(side=""top"", fill=""both"", expand=True)
        self.entry_frame.grid_columnconfigure(0, weight=1)

    def pick_file(self):
        file = tkFileDialog.askopenfile(title=""pick a file!"")
        if file is not None:
            entry = tk.Entry(self)
            entry.insert(0, file.name)
            entry.grid(in_=self.entry_frame, sticky=""ew"")
            self.button.configure(text=""Pick another file!"")

app = SampleApp()
app.mainloop()
"
652,1336,print highest value in dict with key,"maximum = max(mydict, key=mydict.get)  # Just use 'min' instead of 'max' for minimum.
print(maximum, mydict[maximum])
# D 87
"
36234,40528,Modify image extension to use later,"import os
filename, extn = os.path.splitext(kid.image_url)
thumb_filename = filename + "".thumb"" + extn
"
33660,64801,Creating xml file in django,"from django.core import serializers
data = serializers.serialize(""xml"", SomeModel.objects.all())
"
6800,13676,Proper way to handle two different types of user session in one app in flask,"@auth_blueprint.route('/login', methods=['GET', 'POST'])
def login():
    form = LoginForm()
    if form.validate_on_submit():

        user = User.query.filter_by(username=form.username.data).first()

        if user is not None and user.verify_password(form.password.data):
            login_user(user, True)
            next = request.args.get('next')
            #if not next_is_valid('next'):
            #    return abort(400)

            return redirect(next or url_for('simple.index'))
        flash('Invalid username or password')

    return render_template('/auth/login.html', form=form)
"
1208,46552,beautiful soup extract a href from google search,">>> import urlparse
>>> url = '/url?q=http://www.amazon.com/Quantitative-Trading-Build-Algorithmic-Business/dp/0470284889&sa=U&ei=P2ycT6OoNuasiAL2ncV5&ved=0CBIQFjAA&usg=AFQjCNEo_ujANAKnjheWDRlBKnJ1BGe'
>>> data = urlparse.parse_qs(
...     urlparse.urlparse(url).query
... )
>>> data
{'ei': ['P2ycT6OoNuasiAL2ncV5'],
 'q': ['http://www.amazon.com/Quantitative-Trading-Build-Algorithmic-Business/dp/0470284889'],
 'sa': ['U'],
 'usg': ['AFQjCNEo_ujANAKnjheWDRlBKnJ1BGe'],
 'ved': ['0CBIQFjAA']}
>>> data['q'][0]
'http://www.amazon.com/Quantitative-Trading-Build-Algorithmic-Business/dp/0470284889'
"
22529,1191,How do I execute a command after some time but with a cancel button,"from tkinter import *
import ctypes, os

def callback():
    active.set(False)
    #root.destroy()         # Uncoment this to close the window

def sleep():
    if not active.get(): return
    root.after(1000, sleep)
    timeLeft.set(timeLeft.get()-1)
    timeOutLabel['text'] = ""Time Left: "" + str(timeLeft.get())  #Update the label
    if timeLeft.get() == 0:                                     #sleep if timeLeft = 0
        os.system(""Powercfg -H OFF"")
        os.system(""rundll32.exe powrprof.dll,SetSuspendState 0,1,0"")
        callback()

root = Tk()
root.geometry(""400x268"")
root.title(""Alert"")
root.configure(background='light blue')

timeLeft = IntVar()
timeLeft.set(10)            # Time in seconds until shutdown

active = BooleanVar()
active.set(True)            # Something to show us that countdown is still going.

label = Label(root, text=""ALERT this device will go to sleep soon!"",   fg=""red"")
label.config(font=(""Courier"", 12))
label.configure(background='light blue')
label.pack()
timeOutLabel = Label(root, text = 'Time left: ' + str(timeLeft.get()), background='light blue') # Label to show how much time we have left.
timeOutLabel.pack()
quitButton = Button(root, text=""do not sleep!"", command=callback)
quitButton.pack()   
quitButton.place(x=150, y=150)      

root.after(0, sleep)
root.mainloop()  
"
9064,40315,Why is shallow copy needed for my values dictionary to correctly update?,"# You update your copy here, so the original will be used unchanged, which is not the 
# case if you don't have the copy
valuesCopy.update({state: convergedValue})

# If you have the copy, you'll be using the old value stored in self.value here, 
# not the updated one
qValue += probability * (reward + (self.discount * self.values[successor]))
"
17180,34633,Finding indices of elements in vector,"In [1]: orig = [1,2,3,4,5]

In [2]: sampled_vec = [3,1,3]

In [3]: indices = [orig.index(i) for i in sampled_vec]

In [4]: indices
Out[4]: [2, 0, 2]
"
26412,73737,Python compute running sum of values in one-line,"def values_incremented(some_data):
    return [{'value': current_sum, 'date': element['date']}
      for element, current_sum
      in zip(some_data,
           reduce(lambda x, y: [y['value']] if not x else x + [x[-1] + y['value']], some_data, []))]
"
5291,73323,recursive function for a django model instance,"def get_thread(msg):
    messages = [] # empty message set

    while msg.response_to:  
         messages.append(msg)
         msg = msg.response_to

    messages.append(msg) # will append the original message

    return messages
"
28140,81182,Matplotlib: how to get image color bar to show up when using plt.figure() and figure.addaxes(),"import numpy as np
from matplotlib import pyplot as plt
from mpl_toolkits.axes_grid1 import ImageGrid

figuresizex = 9.0
figuresizey = 6.1

# generate images
image1 = np.identity(5)
image2 = np.arange(16).reshape((4,4))



fig = plt.figure(figsize=(figuresizex,figuresizey))

# create your grid objects
top_row = ImageGrid(fig, 311, nrows_ncols = (1,3), axes_pad = .25,
                    cbar_location = ""right"", cbar_mode=""single"")
middle_row = ImageGrid(fig, 312, nrows_ncols = (1,3), axes_pad = .25,
                       cbar_location = ""right"", cbar_mode=""single"")
bottom_row = ImageGrid(fig, 313, nrows_ncols = (1,3), axes_pad = .25,
                       cbar_location = ""right"", cbar_mode=""single"")

# plot the images            
for i in range(3):
    vmin, vmax = image1.min(),image1.max()
    ax = top_row[i]
    im1 = ax.imshow(image1, vmin=vmin, vmax=vmax)

for i in range(3):
    vmin, vmax = image2.min(),image2.max()
    ax =middle_row[i]
    im2 = ax.imshow(image2, vmin=vmin, vmax=vmax)

# Update showing how to use identical scale across all 3 images
# make some slightly different images and get their bounds
image2s = [image2,image2 + 5,image2 - 5]

# inelegant way to get the absolute upper and lower bounds from the three images
i_max, i_min = 0,0
for im in image2s:
    if im.max() > i_max: 
        i_max= im.max()
    if im.min() < i_min: 
        i_min = im.min()
# plot these as you would the others, but use identical vmin and vmax for all three plots
for i,im in enumerate(image2s):
    ax = bottom_row[i]
    im2_scaled = ax.imshow(im, vmin = i_min, vmax = i_max)

# add your colorbars
cbar1 = top_row.cbar_axes[0].colorbar(im1)
middle_row.cbar_axes[0].colorbar(im2)       
bottom_row.cbar_axes[0].colorbar(im2_scaled)

# example of titling colorbar1
cbar1.set_label_text(""label""))

# readjust figure margins after adding colorbars, 
# left and right are unequal because of how
# colorbar labels don't appear to factor in to the adjustment
plt.subplots_adjust(left=0.075, right=0.9)

plt.show()
"
26,67860,Using Python pool inside loop,"def calculateCorrelation(data_1, data_2, dist):
    """"""
    Fill the correlation matrix between data_1 and data_2
    :param data_1: dictionary {key : [coordinates]}
    :param data_2: dictionary {key : [coordinates]}
    :param dist: minimum distance between coordinates to be considered, in kilometers.
    :return: numpy array containing the correlation between each complaint category.
    """"""
    pool = Pool(processes=20)
    results = []

    data_1 = collections.OrderedDict(sorted(data_1.items()))
    data_2 = collections.OrderedDict(sorted(data_2.items()))
    data_1_size = len(data_1)                                          
    data_2_size = len(data_2)

    corr = numpy.zeros((data_1_size, data_2_size))

    for index_1, key_1 in enumerate(data_1):
        for index_2, key_2 in enumerate(data_2):  # Forming pairs
            type_1 = data_1[key_1]  # List of data in data_1 of type *i*
            type_2 = data_2[key_2]  # List of data in data_2 of type *j*
            result = pool.apply_async(correlation, args=[type_1, type_2, dist])
            results.append((result, index_1, index_2))
    for result, index_1, index_2 in results:
        corr[index_1, index_2] = result.get()
    pool.close()
    pool.join()
"
33646,21877,Python 3.2: How to setup versioning for a project,"
from distutils.core import setup

setup(
    name='TowelStuff',
    version='0.1dev',
    packages=['towelstuff',],
    license='Creative Commons Attribution-Noncommercial-Share Alike license',
    long_description=open('README.txt').read(),
)
"
36691,53063,how to add a new column every time i run a python program,"select s.name, t.value
from Student s
left join Thing t on t.student = s.rollno
where t.when == 'whenever'
"
29281,60918,using a while loop instead of for loop,"secret_word = ""python""
correct_word = ""yo""
count = 0

while count < len(secret_word):
    print(secret_word[count] if secret_word[count] in correct_word else '_', end="" "")
    count += 1
"
31490,65286,Web Scraping Rap lyrics on Rap Genius w/ Python,"from urlparse import urljoin
from bs4 import BeautifulSoup
import requests


BASE_URL = ""http://genius.com""
artist_url = ""http://genius.com/artists/Andre-3000/""

response = requests.get(artist_url, headers={'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/35.0.1916.153 Safari/537.36'})

soup = BeautifulSoup(response.text, ""lxml"")
for song_link in soup.select('ul.song_list > li > a'):
    link = urljoin(BASE_URL, song_link['href'])
    response = requests.get(link)
    soup = BeautifulSoup(response.text)
    lyrics = soup.find('div', class_='lyrics').text.strip()

    # tokenize `lyrics` with nltk
"
9706,83221,Python debugging by invoking the keyboardinput in a script,"import pdb; pdb.set_trace()
"
31173,33322,How to extract certain csv data based on the header in python,">>> import csv
>>> with open(""hwa.csv"", ""rb"") as fp:
...     reader = csv.DictReader(fp)
...     data = next(reader)
...     
>>> data
{'Age': '25', 'Weight': '78', 'Height': '6.0'}
>>> data[""Age""]
'25'
>>> float(data[""Age""])
25.0
"
10941,67246,rpy2: Convert FloatVector or Matrix back to a Python array or list?,"import rpy2.robjects.numpy2ri as rpyn
vector=rpyn.ri2numpy(vector_R)
"
5357,29746,Flattening list of dictionaries,"from collections import defaultdict

res = defaultdict(list)
for dic in data:
    for key, value in dic.items():
        old_value = res[key]
        if isinstance(value, list):
            old_value.extend(value)
        else:
            old_value.append(value)

        # alternatively:
        old_value += [value] if not isinstance(value, list) else value
"
14410,3366,How to delete a locked (flock) file without race condition: before or after releasing the lock?,"import os
import sys
import time

# acquire: open file for write, create if possible, exclusive access guaranteed
fname = 'my_lock_file.pid'
try:
    fd = os.open(fname, os.O_CREAT|os.O_WRONLY|os.O_EXCL)
except OSError:
    # failed to open, another process is running
    with open(fname) as f:
        print ""other process running:"", f.readline()
        sys.exit()

try:
    os.write(fd, '%d\n' % os.getpid())
    os.fsync(fd)
    # do something
    time.sleep(5)
finally:
    os.close(fd)
    # release: delete file
    os.remove(fname)
"
38688,34865,Why the List is not appending the dictionary data into my list?,"def abc(hello, hi):
    myli = []
    for i in xrange(len(hello)):
        for j in xrange(len(hi)):
            myli.append([hello[i], hi[j], {""Mydata"": str(j)}])
    return myli

hello = [""hello "", ""cruel ""]
hi = [""hi"", ""world""]
print abc(hello, hi)
"
10612,3193,Nosetests failing when no file is specified,"@mock.patch('os.path.exists')
def test_vm_exists(self, mock_exists):
    mock_exists.return_value = True
    fake_path = 'fake/path'

    response = self._VixConnection.vm_exists(fake_path)

    mock_exists.assert_called_with(fake_path)
    self.assertEqual(response, True)
"
37876,44181,"grep each line of a file, and increment values","def incrementKeys(infilepath, outfilepath, keys, incrementBy):
    with open(infilepath) as infile, open(outfilepath, 'w') as outfile:
        for line in infile:
            if any(line.startswith(key) for key in keys):
                k, tail = line.split(',')
                k, val = k.split("":"")
                val = int(val)+incrementBy
                line = ""%s:%d,%s\n"" %(k, val, tail)
            outfile.write(line)
"
15372,13433,Convert curl command to pycurl," import requests
 import json

 myurl= 'https://api.twitter.com/1.1/mutes/users/create.json'
 to_post = {""label"":""value""}
 to_post = json.dumps(to_post)  #Convert to json if that is the correct content-type
 r = requests.post(myurl,data = to_post , auth = ('username', 'password'))
"
23872,46671,Python regex for Python function signatures,"""def (\w+)\s*\((.*?)\):""
"
38433,25548,"""Backspace"" over last character written to file","f.seek(-1, os.SEEK_CUR)
f.write("";"")
"
4757,15682,Python ArgParse,"parser.add_argument('-t', '--type', choices=('type1', 'type2', 'type3'), 
                    help='type1/type2/type3')
"
34780,43390,Setting variables with Django signals without using globals,"from django.core.cache import cache

CHOICES_CACHE_KEY = 'choice_cache_key'

def get_cached_choices():
    choices = cache.get(CHOICES_CACHE_KEY)
    if choices is None:
        choices = ...  # Query the DB here
        cache.set(CHOICES_CACHE_KEY, choices, None)  # None caches forever
    return choices

def construct_forms(choices):
    forms = ...  # build forms with choices
    return forms

@receiver((post_save, post_delete), sender=TheModel, dispatch_uid='change')
def clear_choices_cache(sender, **kwargs):
    cache.delete(CHOICES_CACHE_KEY)

def some_view(request):
    # Do something with the forms
    forms = construct_forms(get_cached_choices())
"
15364,46648,Concatenate list and number in a sublist in Python,">>> import itertools
>>> l = [[['a','b','c'], '2'], [['d','e','f'], '3']]
>>> [list(itertools.chain.from_iterable(i)) for i in l]
[['a', 'b', 'c', '2'], ['d', 'e', 'f', '3']]
"
23209,4359,extract table from html by position using Python,"table_name = ""TABLE 1"" 

table = soup.find(text=lambda x: x and table_name in x).find_parent('table')
"
37849,30295,"In python, subprocess call using string values","process = subprocess.Popen(['cshift', str(file), str(x_c), str(y_c), str(area)], 
                           stdout=subprocess.PIPE)
output = process.stdout.read()
"
12956,54039,Most efficient way to get several hashes in Redis?,"import redis

r = redis.Redis(host='localhost', port=6379, db=0)
p = r.pipeline()
for key in keys:
    p.hgetall(key)

for h in p.execute():
    print h
"
20972,70354,"SQLAlchemy - Filter query, exclude parent where one of many children meet criteria","q = (session.query(Parent)
     .filter(Parent.children.any(Child.value.ilike('%{}%'.format(value1))))
     .filter(Parent.children.any(Child.value.ilike('%{}%'.format(value2))))
     .filter(~Parent.children.any(
         db.or_(Child.value.ilike('%{}%'.format(value3)),
                Child.value.ilike('%{}%'.format(value4)),
                )
     ))
)
"
3537,34477,3d plotting: cylindrical coordinate function,"import numpy as np
from scipy.special import binom as binom 
from mpl_toolkits.mplot3d import Axes3D 
from matplotlib import pyplot
plt = pyplot
from matplotlib import cm
import matplotlib

'''Define A_(pm)  (Gauss-laguerre polinomials) '''

def Ln(p,m,xj):
    Ln=0.
    for i in range(p+1):#el p+1 es por la indexacion
        Ln=Ln+((-1)**i)*binom(p+m,p-i)*(xj**i)/np.math.factorial(i)
    return Ln

def A(p, m, r, phi):#defino G-L

    A0=np.zeros((len(phi),len(r)))
    for j, rn in enumerate(r):
            A0[:,j]=np.exp(-rn**2)*Ln(p,0,2*rn**2)

    A1=np.zeros_like(A0)
    for j, rn in enumerate(r):
         for k, phin in enumerate(phi):
            A1[k,j]=2*((2*rn**2)**(m/2))*np.sqrt(np.math.factorial(p)/np.math.factorial(p+m))*np.exp(-rn**2)*Ln(p,m,2*(rn**2))*np.sin(m*phin)

    A2=np.zeros_like(A0)

    for j, rn in enumerate(r):
        for k, phin in enumerate(phi):
            A2[k,j]=2*(2*rn**2)**(m/2)*np.sqrt(np.math.factorial(p)/np.math.factorial(p+m))*np.exp(-rn**2)*Ln(p,m,2*rn**2)*np.cos(m*phin)


    return A0, A1, A2

pi=np.pi
r=np.linspace(0,6,50)
phi=np.linspace(0,2*pi,40)

A0, A1, A2=A(5,1,r,phi)#

fig = pyplot.figure(figsize=(11,9), dpi=100)
ax = pyplot.subplot(111, projection='3d')
R, P = np.meshgrid(r, phi)
X, Y = R*np.cos(P), R*np.sin(P)
ax.plot_surface(X, Y, A0)

plt.show()
"
9416,69483,Unpacking Sympy variables from dictionary,"Px, Py, m = symbols(""Px Py m"")
"
29298,24631,"If ""this"" is the answer, go back to a previous line","decision = ""no""
while decision.lower() == ""no"":
    example = input(""Blah blah blah: "")
    if 10 < example <= 20:
        decision = raw_input(""Are you sure this is your answer?: "")
"
31446,65996,Broadcasting a function over two vectors to get a 2d numpy array,"def f(x, y):
    return x + y
v = numpy.array([1,2,3])
# vectorize the function
vf = numpy.vectorize(f)
# ""transposing"" the vector by producing a view with another shape
vt = v.reshape((v.shape[0], 1)
# calculate over all combinations using broadcast
vf(v, vt)

Output:
array([[ 2.,  3.,  4.],
       [ 3.,  4.,  5.],
       [ 4.,  5.,  6.]])
"
39290,11223,pandas - linear regression of dataframe columns values,"x = pd.np.tile(xi, 3)
y = pd.np.r_[df['A'], df['B'], df['C']]

slope, intercept, r_value, p_value, std_err = stats.linregress(x, y)
line4 = intercept + slope * xi

plt.plot(line4,'k-')
"
21642,59153,Python array to 1-D Vector,"In [15]: import numpy as np

In [16]: x = np.array([(9,), (1,), (1, 12), (9,), (8,)])

In [17]: np.hstack(x)
Out[17]: array([ 9,  1,  1, 12,  9,  8])
"
21803,81851,How do I insert a string element into a regular expression in Python?,"myregex=re.compile('{} is (not)? very good at python'.format(mystring))

myregex=re.compile('{s} is (not)? very good at python'.format(s=mystring))

myregex=re.compile('%s is (not)? very good at python'% (mystring))

myregex=re.compile('%(mystring)s is (not)? very good at python' % locals())

myregex=re.compile(mystring+' is (not)? very good at python')

myregex=re.compile(' '.join([mystring,'is (not)? very good at python']))
"
12490,14595,How do I automate an environment variable dependent benchmark of BLAS in python/numpy?,"import subprocess

os.environ['OMP_NUM_THREADS'] = '{:d}'.format(thread)
proc = subprocess.Popen([""numpy_test""], stdout=subprocess.PIPE, stderr=subprocess.PIPE)
stdout, stderr = proc.communicate()
"
4017,3887,How do I convert dates into ISO-8601 DateTime format in a Pandas dataframe,">>> df['q_date'].apply(
        lambda x: pd.datetools.parse(x).strftime('%Y%m%dT%H:%M%SZ'))
0    20120210T00:0000Z
1    20120210T00:0000Z
2    20120210T00:0000Z
3    20120210T00:0000Z
4    20120210T00:0000Z
Name: q_date, dtype: object
"
14050,48835,Python won't rewrite file with first line removed using readlines() and for loop,"def delete_used_id():
    # open and save all ids
    id_file_r = open('C:/Users/my.name/Documents/IDs.txt', 'r')
    lines = id_file_r.readlines()
    first_line_unf = lines[0][3:]
    first_line = first_line_unf.strip()
    id_file_r.close()
    # reopen in write mode
    id_file_w = open('C:/Users/my.name/Documents/IDs.txt','w')
    for line in lines[1:]:
        id_file_w.write(line)
    id_file_w.close()
    print(""Deleting used ID: "" + first_line)
"
25384,8820,Python 2 to 3 conversion: iterating over lines in subprocess stdout,"p = subprocess.Popen(call, stdout=subprocess.PIPE, shell=True, universal_newlines=True)
for line in iter(p.stdout.readline, ''):
    print(line, end='')
"
27830,32031,PyQt5: one signal comes instead of two as per documentation,"    self.spb.valueChanged[int].connect(self.onValueChanged)
    self.spb.valueChanged[str].connect(self.onValueChanged)
    ...

def onValueChanged(self, x):
    print(""QSpinBox: value changed! "", x, type(x))
"
13645,34151,Check if username is admin OR is in csv file,"csv = open('login.csv', 'r').read().split('\n')[6].split(';')
username = input(""Put your username here: "")
if username == ""admin"" or username in csv:
    print ""Username Found""
else:
    print ""Username Not Found""
"
35878,54259,Read line by line from text file,"file = open(""user.txt"", ""r"")
for login in file:
    login = login.split('#')
    if user == login[2] and password == login[3]:
        print 'Correct username/password'
        break
else:
    print 'Invalid username/password'
"
20319,27700,Python regex split multiline inclusive of pattern,"season = ''
for line in data.splitlines():
    if line.startswith('=== Season'):
        season = line
    elif season:
        do something
"
38470,49027,Compare output from check_output() with text in file,"with open(EMCMD_INCORRECT_PARAMS, 'r') as fd_usage:
    usageLines = fd_usage.read().replace('\n', fd_usage.newline)
"
29457,76309,Python regular expressions repeated sequence of decimal number followed by whitespaces,"re.findall(r""\d+(?=\s)"", ""1323 323 434 "")
"
37808,38350,Does Cython have something like std::unique_ptr?,"from cpython cimport pycapsule

cdef const char* CAPNAME = ""ExtClassName"" 
cdef void del_capsule(object o):
  cdef ExtClass* cobject = <ExtClass*>pycapsule.PyCapsule_GetPointer(o, CAPNAME)
  del cobject

def mk_cpp_object():
  return pycapsule.PyCapsule_New(cp, CAPNAME, del_capsule)
"
22375,41712,Regex for matching this string,">>> import regex
>>> s = 'cuacducucibcl'
>>> regex.sub(r'((?:a|(?<!^)\G)[^abc\n]*)c', r'\1x', s)
'cuaxduxuxibcl'
"
9229,37852,basic python flask two page form input and update,"from flask import Flask, session, abort, request, render_template

@app.route('/results', methods=['POST'])
def results():
    if request.form['channelname'] in ALLOWED_CHANNELS:
        session['channel'] = request.form['channelname']
    if 'channel' in session:
        return render_template('results.html', channel=session['channel'])
    else:
        abort(400)
"
15022,80069,Python - Not executing function,"def Loans(x):
    x = int(input(""What is your FICO score? ""))
    if x >= 760:
           print (""Rate = 3.080"")
    elif x >= 700:
           print (""Rate = 3.302"")
    elif x >= 680:
           print (""Rate = 3.479"")
    elif x >= 660:
           print (""Rate = 3.693"")
    elif x >= 640:
           print (""Rate = 4.123"")
    elif x >= 620:
           print (""Rate = 4.66"")
    else:
           print ('Approval = No')

Loans(10)
"
9168,15301,How to run OS shell commands in IronPython/Mono?,">>> from System.Diagnostics import Process
>>> p = Process()
>>> p.StartInfo.UseShellExecute = False
>>> p.StartInfo.RedirectStandardOutput = True
>>> p.StartInfo.FileName = 'uname'
>>> p.StartInfo.Arguments = '-m -r'
>>> p.Start()
True
>>> p.WaitForExit()
>>> p.StandardOutput.ReadToEnd()
'9.6.0 i386\n'
>>> p.ExitCode
0
>>>
"
11128,77104,Opening Files with Loop in Python/SPSS,"begin program.
import spss, spssaux
import os
schoollist = ['brow']
for x in schoollist:
   school = 'brow'
   school2 = school + '06.sav'
   #opens the file
   filename = os.path.join(""Y:\...\Data"", school2) #In this instance, Y:\...\Data\brow06.sav
   spssaux.OpenDataFile(filename)

   #creates the variable
   cur=spss.Cursor(accessType='w')
   cur.SetVarNameAndType(['name'],[8])
   cur.CommitDictionary()
   for i in range(cur.GetCaseCount()):
      cur.fetchone()
      cur.SetValueChar('name', school)
      cur.CommitCase()
   cur.close()


   spss.Submit(""""""save outfile=""%s""."""""" % filename)

end program.
"
32242,83341,delete rows by date and add file name column for multiple csv,"import csv
import os
import sys

def open_csv(filename, mode='r'):
    """""" Open a csv file in proper mode depending on Python verion. """"""
    return (open(filename, mode=mode+'b') if sys.version_info[0] == 2 else
            open(filename, mode=mode, newline=''))

def process_file(filename, start_date=None, new_dir=None):
    # Read the entire contents of the file into memory skipping rows before
    # any start_date given (assuming row[0] is a date column).
    with open_csv(filename, 'r') as f:
        reader = csv.reader(f)
        header = next(reader)  # Save first row.
        contents = [row for row in reader if start_date and row[0] >= start_date
                                                or not start_date]

    # Create different output file path if new_dir was specified.
    basename = os.path.basename(filename)  # Remove dir name from filename.
    output_filename = os.path.join(new_dir, basename) if new_dir else filename
    if new_dir and not os.path.isdir(new_dir):  # Create directory if necessary.
        os.makedirs(new_dir)

    # Open the output file and create a CSV writer for it.
    with open_csv(output_filename, 'w') as f:
        writer = csv.writer(f)

        # Add name of new column to header.
        header = ['Pipe'] + header  # Prepend new column name.
        writer.writerow(header)

        # Data for new column is the base filename without extension.
        new_column = [os.path.splitext( os.path.split(basename)[1] )[0]]

        # Process each row of the body by prepending data for new column to it.
        writer.writerows((new_column+row for row in contents))
"
3463,83989,"HDFStore.append(string, DataFrame) fails when string column contents are longer than those already there","# this is the new behavior (after code updates)
n [340]: dfs = DataFrame(dict(A = 'foo', B = 'bar'),index=range(5))

In [341]: dfs
Out[341]: 
     A    B
0  foo  bar
1  foo  bar
2  foo  bar
3  foo  bar
4  foo  bar

# A and B have a size of 30
In [342]: store.append('dfs', dfs, min_itemsize = 30)

In [343]: store.get_storer('dfs').table
Out[343]: 
/dfs/table (Table(5,)) ''
  description := {
  ""index"": Int64Col(shape=(), dflt=0, pos=0),
  ""values_block_0"": StringCol(itemsize=30, shape=(2,), dflt='', pos=1)}
  byteorder := 'little'
  chunkshape := (963,)
  autoIndex := True
  colindexes := {
    ""index"": Index(6, medium, shuffle, zlib(1)).is_CSI=False}

# A is created as a data_column with a size of 30
# B is size is calculated
In [344]: store.append('dfs2', dfs, min_itemsize = { 'A' : 30 })

In [345]: store.get_storer('dfs2').table
Out[345]: 
/dfs2/table (Table(5,)) ''
  description := {
  ""index"": Int64Col(shape=(), dflt=0, pos=0),
  ""values_block_0"": StringCol(itemsize=3, shape=(1,), dflt='', pos=1),
  ""A"": StringCol(itemsize=30, shape=(), dflt='', pos=2)}
  byteorder := 'little'
  chunkshape := (1598,)
  autoIndex := True
  colindexes := {
    ""A"": Index(6, medium, shuffle, zlib(1)).is_CSI=False,
    ""index"": Index(6, medium, shuffle, zlib(1)).is_CSI=False}
"
5904,13926,How can I add a version/build information to my project and setup.py?,"# Stuff

import subprocess

__version__ = '1.2.3'
__build__ = subprocess.check_output('git describe --tags --always HEAD'
                                    .split()).decode().strip()

with open('mypkg/_version.py', 'w') as f:
    f.write('''\
# I will destroy any changes you make to this file.
# Sincerely,
# setup.py ;)

__version__ = '{}'
__build__ = '{}'
'''.format(__version__, __build__))

# other stuff

settings.update(
    version=__version__,
# more stuff
)
"
10645,27037,Reverse sort of Numpy array with NaN values,"a = np.array([  1.,  -1.,   np.nan,  0.,  np.nan], dtype=np.float32)
sa = np.sort(a)[::-1]
np.roll(sa,-np.count_nonzero(np.isnan(a)))

array([  1.,   0.,  -1.,  nan,  nan], dtype=float32)
"
11931,48569,Python 3.5 - Connection reset by peer,"import certifi
import ssl
import requests

from requests.adapters import HTTPAdapter
from requests.packages.urllib3.poolmanager import PoolManager

class Ssl3HttpAdapter(HTTPAdapter):
    def init_poolmanager(self, connections, maxsize, block=False):
        # specify the version of SSL you want to use below
        self.poolmanager = PoolManager(num_pools=connections, maxsize=maxsize, block=block, 
                                       ssl_version=ssl.PROTOCOL_SSLv3)

s = requests.Session()

# May or may not need this. I needed it since I didn't need to route through a proxy to get to local services.
s.trust_env = False

s.verify = certifi.where()
s.auth = (user, password)  # Basic-Auth username/password

s.mount(base_url_of_your_service, Ssl3HttpAdapter())

req = s.get(your_service_url)
print(req.text)
"
12215,70541,Matplotlib 3D plot - 2D format for input data?,"import numpy
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import axes3d

def peaks(x,y):
    return x * numpy.sin(y)

fig = plt.figure()
ax = fig.gca(projection='3d')
X = Y= numpy.arange(-3, 3, 0.1).tolist()
X, Y = numpy.meshgrid(X, Y)

Z = []
for i in range(len(X)):
    Z.append(peaks(X[i],Y[i]))

ax.plot_surface(X, Y, Z, rstride=8, cstride=8, alpha=0.3)
cset = ax.contour(X, Y, Z, zdir='z', offset=-8)
cset = ax.contour(X, Y, Z, zdir='x', offset=-8)
cset = ax.contour(X, Y, Z, zdir='y', offset=8)

ax.set_xlabel('X')
ax.set_xlim(-8, 8)
ax.set_ylabel('Y')
ax.set_ylim(-8, 8)
ax.set_zlabel('Z')
ax.set_zlim(-8, 8)

plt.show()
"
22494,11184,Python. Number inserting,"    inserted_code = input(""insert postcode"")
    import re
    if re.match('^[1-9][0-9]{4}$', inserted_code): 
       print(""Estonian postcode"")
    else:
       print(""Not an estonian code"")
"
13866,37913,"Python, MySQL and SELECT output to dictionary with column names for keys","cursor = conn.cursor (MySQLdb.cursors.DictCursor)
"
27299,52836,Python Requests Recreate Post Request with Cookies,"cookie = http.cookies.BaseCookie(cookie_string)
"
35692,59780,"Python C API, High reference count for new Object","import gc


def run():
    return 1

s = run()
print len(gc.get_referrers(s))  # prints a rather big number, 41 in my case

obj = object()
print len(gc.get_referrers(obj))  # prints 1

lst = [obj]
print len(gc.get_referrers(obj))  # prints 2

lst = []
print len(gc.get_referrers(obj))  # prints 1 again
"
24727,77548,Why this django ModelForm is not valid?,"if pdForm.is_valid():
    cleanform = pdForm.save(commit = False).
    cleanform.resource = rd
    cleanform.save()
"
8337,78772,Retrieving scripted page urls via web scrape,"# Import 3rd Party libraries
from selenium                                       import webdriver
from selenium.webdriver.common.desired_capabilities import DesiredCapabilities

class requester_firefox(object):
    def __init__(self):
        self.selenium_browser = webdriver.Firefox()
        self.selenium_browser.set_page_load_timeout(30)

    def __del__(self):
        self.selenium_browser.quit()
        self.selenium_browser = None

    def __call__(self, url):
        try:
            self.selenium_browser.get(url)
            the_page = self.selenium_browser.page_source
        except Exception:
            the_page = """"
        return the_page

test = requester_firefox()
print test(""http://www.seek.com.au/jobs/in-australia/#dateRange=999&workType=0&industry=&occupation=&graduateSearch=false&salaryFrom=0&salaryTo=999999&salaryType=annual&advertiserID=&advertiserGroup=&keywords=police+check&page=1&isAreaUnspecified=false&location=&area=&nation=3000&sortMode=Advertiser&searchFrom=quick&searchType="").encode(""ascii"", ""ignore"")
"
16247,6262,Optimize tic tac toe checks,"first_i, first_j = sequence_indices[0]
board[first_i][first_j]
"
26355,63006,Convert String back to List,">>> from ast import literal_eval
>>> 
>>> literal_eval( ""['Ethnicity', 'Sex', 'Cause of Death', 'Count', 'Percent']"")
['Ethnicity', 'Sex', 'Cause of Death', 'Count', 'Percent']
"
3285,52505,re.split doesnt work properly with a string coming from excel cell,"# -*- coding: utf-8 -*-
import re
import xlrd

book = xlrd.open_workbook(""liste1.xlsx"")

# get the first worksheet
first_sheet = book.sheet_by_index(0)

# read a cell
cell = first_sheet.cell(1,5)

text= re.sub(r""[\r\n\t\x07\x0b]"", """", cell.value)
match = re.split(r' (?=\d{2}-\d{2}-\d{4})', text)

print match[0]
print match[1]
print match[2]
"
20719,7551,Remove multiple occurrence except for particular values?,"seen = set()
res = []
for line in textlines:
    if line not in seen:
        res.append(line)
        if not line.strip():
            seen.add(line)
textlines = res
"
9633,56113,How to set timeout to pyplot.show() in matplotlib?,"import matplotlib.pyplot as plt

def close_event():
    plt.close() #timer calls this function after 3 seconds and closes the window 

fig = plt.figure()
timer = fig.canvas.new_timer(interval = 3000) #creating a timer object and setting an interval of 3000 milliseconds
timer.add_callback(close_event)

plt.plot([1,2,3,4])
plt.ylabel('some numbers')

timer.start()
plt.show()
print ""Am doing something else""
"
31915,66714,Trying to convert .txt to PDF using convertapi.com - Python 3.2.2,"import requests

txtPdf(filename):
    url = ""http://do.convertapi.com/text2Pdf""
    archivo =  open(""temp.pdf"", ""wb"")

    response = requests.post(url,
        files={'filename': open(filename,'rb')}
    )

    archivo.write(response.content)
    archivo.close()

txtPdf('test.txt')
"
376,34855,python replace with capture group,"awk -v text='.nmv-fas' '
    /<title>/ {title=$0; gsub(/<\/?title>/, """", title); replace=1}
    replace {gsub(text, title)}
    {print}
' file > file.tmp && mv file.tmp file
"
33657,10785,Making two classes reference eachother,"class Home(object):
    pass

class Club(object):
    pass

PLACES = {
   'home': Home(),
   'club': Club()
}

class Manager(object):
    def display_plot_and_get_option(self):
        return raw_input('Where do you want to go?')
   def get_next_place(self, place_name):
        return PLACES[place_name]

m = Manager()
while 1:
    place_name = m.display_plot_and_get_option()
    m.get_next_place(place_name)
"
15490,46173,What's a good way to provide additional decoration/metadata for Python function parameters?,"def takes(*args):
    def _takes(fcn):
        fcn.params = args
        return fcn
    return _takes

@takes(""time"", ""temp"", ""time"")
def do_stuff(start_time, average_temp, stop_time):
    pass
"
37156,20814,How do I update a query from Google App Engine NDB?,"features = Feature.gql(""ORDER BY date_created"")

if (self.request.get(""add_a_new_feature"") == ""true""):
    if (Feature.gql(""WHERE feature_name=:1 ORDER BY last_modified DESC LIMIT 1"", NEW_FEATURE_NAME).count() == 0):
        new_feature = Feature(feature_name=NEW_FEATURE_NAME)
        new_feature.put()
        features.append(new_feature)
...

if (features.count() > 0):
    features_list = features.fetch()
    for feature in features_list:
        ... # the list now contain the new_feature at the end
"
1668,10790,Running a UNIX command via python script,"subprocess.call(['/dir6/dir5/dir4/openssl', 'enc', '-d', '-aes-256-cbc', '-a', '-in', '/home/dir2/dir3/XXX.enc' ,'-pass' , 'pass:password'])
"
13152,21031,python numpy parse array to get items,"out = set()

for inner in alist:
    out.update(inner)

out = map(int, out) # in your example you have a list of ints

>>> print out
[1, 2, 3, 5, 15, 657]
"
7366,28868,Find all occurences of an element in a matrix in Python,">>> my_list = [[1,2,3,1, 3], [1,3,2]]
>>> [(i,j) for i,x in enumerate(my_list) for j,y in enumerate(x) if y == 3]
[(0, 2), (0, 4), (1, 1)]
"
34153,84115,Trim / strip zeros of a numpy array,">>> import numpy as np
>>> a = np.array([0,0,0,3,2,-1,0,0,7,9,13,0,0,0,0,0,0,0])
>>> np.trim_zeros(a)
array([ 3,  2, -1,  0,  0,  7,  9, 13])
"
30489,67898,Changing Label in toolbar using wxPython,"#!/usr/bin/env python
# encoding: utf-8
""""""
logClient2.py    
Created by Allister on 2010-11-30.
""""""

import wx
import sqlite3

WINDOW_SIZE = (900,400)

class logClient(wx.Frame):
    def __init__(self, parent, id, title):

        wx.Frame.__init__(self, parent, id, title, size=WINDOW_SIZE)        

        self.toolbar = self.CreateToolBar()
        self.startLiveUpdate(None)

        self.Show(True)

    def startLiveUpdate(self, event):
        self.createToolbarItem(""Refresh"", ""refresh.jpg"", self.stopLiveUpdate)

    def stopLiveUpdate(self, event):
        self.createToolbarItem(""Stop"", ""refresh2.jpg"", self.startLiveUpdate)


    def createToolbarItem(self, label, imageName, method):
        self.toolbar.RemoveTool(1)
        self.toolbar.AddLabelTool(1, label, wx.Bitmap(imageName))
        self.toolbar.Realize()
        self.Bind(wx.EVT_TOOL, method, id=1)


if __name__ == '__main__':
    app = wx.App(False)
    logClient(None, -1, ""Log Event Viewer"")
    app.MainLoop()
"
30407,75374,How to keep child frames on top of parent,"import wx

########################################################################
class GenericPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent, showChild=False):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)

        if showChild:
            btn = wx.Button(self, label=""Show Child"")
            btn.Bind(wx.EVT_BUTTON, self.onShowChild)

    #----------------------------------------------------------------------
    def onShowChild(self, event):
        """"""""""""
        frame = ChildFrame(self.GetParent())
        frame.Show()

########################################################################
class ChildFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Frame.__init__(self, parent, title=""Child frame"", 
                          style=wx.FRAME_FLOAT_ON_PARENT|wx.DEFAULT_FRAME_STYLE)
        panel = GenericPanel(self)
        self.Show()

########################################################################
class MainFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Main Frame"", size=(800,600))
        panel = GenericPanel(self, showChild=True)
        self.Show()

#----------------------------------------------------------------------
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MainFrame()
    app.MainLoop()
"
29209,30654,python midpoint line clipping algorithm,"# algorithm
def average_point(rect, p1, p2, count=0):
    returnArray = []
    code_a = vcode(rect, p1)
    code_b = vcode(rect, p2)
    if math.sqrt((p2.x - p1.x) * (p2.x - p1.x) + (p2.y - p1.y) * (p2.y - p1.y)) < EPS:
        returnArray.append(count)
        returnArray.append(p1)
        returnArray.append(p2)
        return returnArray
    if not (code_a | code_b):
        returnArray.append(count)
        returnArray.append(p1)
        returnArray.append(p2)
        return returnArray
    if code_a & code_b:
        returnArray.append(count)
        returnArray.append(p1)
        returnArray.append(p2)
        return returnArray
    mid = Point((p2.x+p1.x)/2.0, (p2.y+p1.y)/2.0)
    count += 1
    returnArray = average_point(rect, p1, mid, count)
    mid.x = mid.x+1
    mid.y = mid.y+1
    returnArray = average_point(rect, mid, p2, count)
    return returnArray
"
12222,18222,Combining the required fields from two different models,"class FilePage(models.Model):
    file = models.ForeignKey(File, on_delete=models.CASCADE, related_name='file_pages')
    file_page_number = models.IntegerField()
    patient = models.ManyToManyField(Patient, null=True, blank=True)
    document_type = models.ManyToManyField(DocumentType, null=True, blank=True)
"
29130,75898,How to handle many users in slack app for in Python? How to use the multiple tokens?,"for team in teams:
    for event in team.client.rtm_read():
        # process the event for that team
"
31529,21999,python how to trim trailing spaces in csv DictReader keys,"with open('file.csv') as fh:
    header = [h.strip() for h in fh.next().split(',')]
    reader = csv.DictReader(fh, fieldnames=header)
"
24192,63544,Parsing multiple files (same format) use `for` loop in Python,"import os
for root, dirs, files in os.walk(r'path to open'):
    for file in files:
        if file.endswith('.log'):
            with open(os.path.join(root, file)) as stream:
                for lin in stream:
                    # lin containg the content of each line in the file
"
23313,1592,Convert a string to preexisting variable names,"print eval('self.post.id') # Prints the value of self.post.id
"
4038,37141,How to read the content of an website?,">>> import urllib
>>> from bs4 import BeautifulSoup
>>> 
>>> url = ""http://aqicn.org/city/shenyang/usconsulate/json""
>>> soup = BeautifulSoup(urllib.urlopen(url), ""html.parser"")
>>> soup.find(""div"", class_=""aqivalue"").get_text()
u'171'
"
35877,32956,Python GUI Events,"def __RecursiveBinding(self, parent):
    try:
        parent.Bind(wx.EVT_CHAR, self.CharInputCallback)
        parent.SetWindowStyleFlag(wx.WANTS_CHARS)
        parent.Refresh()

        children = parent.GetChildren()

        if(children):
            for child in children:
                self.__RecursiveBinding(child)
"
6825,33860,activating a Function from another function in a different class,"class MyTCPHandler(SocketServer.BaseRequestHandler):
      def handle(self):
            self.DriveSend = self.request.recv(1024).strip()
            self.SteeringSend = self.request.recv(1024).strip()
            MotorControl(self)
            return (self.DriveSend,self.SteeringSend)

def MotorControl(motor_var):
      print(motor_var.DriveSend)
      print(motor_var.SteeringSend)
      print('test')
"
3710,48384,Iterate over all possible numpy binary arrays with restrictions using python,"rows = []
r = np.zeros((n,), dtype=np.int)
rows.append(r)
for i in range(n):
    r = np.zeros((n,), dtype=np.int)
    r[i] = 1
    rows.append(r)

rows = np.array(rows)

arr = np.zeros((m,n), dtype=np.int)
idx = [0]*m
base = np.array([(n+1)**j for j in range(m)])
for i in xrange(0, (n+1)**m):
    idx = (i / base) % (n+1)
    print rows[idx]
"
22257,83073,Python - Find and destroy duplicate items in a list,">>>lis = [""foo"", ""foo"", ""bar""]
>>>lis=list(set(lis))
>>>print(lis)
['foo','bar']
"
30547,38840,Is there a way other than 'try...except' and '.isdigit()' to check user input in Python 2?,"for every letter in the string:
    check that it is one of ""0"", ""1"", ""2"", ..., ""9""
    if it is not, this is not a number, so return false

if we are here, everything was satisfied, so return true
"
15593,62983,How should I shorten this line of Python code?,"tree_top = os.path.abspath(
    os.path.expanduser(
        os.path.expandvars(
            sys.argv[1]
        )
    )
)
"
30457,49053,convert csv file to list of dictionaries,">>> import csv
>>>
>>> with open('test.csv') as f:
...     a = [{k: int(v) for k, v in row.items()}
...          for row in csv.DictReader(f, skipinitialspace=True)]
...
>>> a
[{'col2': 2, 'col3': 3, 'col1': 1}, {'col2': 5, 'col3': 6, 'col1': 4}]
"
12244,38081,Is a file on the same filesystem as another file in python?,"import os

def same_fs(file1, file2):
    dev1 = os.stat(file1).st_dev
    dev2 = os.stat(file2).st_dev
    return dev1 == dev2
"
12712,66940,Order a QuerySet by aggregate field value,"Contest.objects.get(pk=id).image_set.annotate(score=Sum('vote__value')).order_by( 'score' )
"
24265,44060,Use python to get friendslists on facebook,"https://graph.facebook.com/me/friends will get a list of your friends then
https://graph.facebook.com/{{ID}}/friends will get the friends of your friend with id {{ID}}
"
2700,66077,Python: Indexing a list of lists,"for l in x:
    print ', '.join(map(str, l))
"
3756,83257,Sort a Document by first character," from operator import itemgetter
    filenames = ['1.txt', '2.txt', '3.txt']
    with open('output.txt', 'w') as outfile:
        total_lines = []

        for fname in filenames:
            with open(fname) as infile:
                total_lines += map(lambda s: s.strip(' '), infile.readlines())

        for line in sorted(total_lines):
            outfile.write(line)
"
6371,9898,Generate dataset for Binary Classification in k-NN using Python,"import numpy as np
N = 100

mean1, mean2, std1, std2 = 1, 5, 2, 3
x0 = np.random.normal(loc=[mean1, mean2], scale=[std1, std2], size=(N, 2))

mean3, mean4, std3, std4 = 2, -2, 1, 0.1
x1 = np.random.normal(loc=[mean3, mean4], scale=[std3, std4], size=(N, 2))
"
28426,55570,Getting object's parent namespace in python?,">> a.im_self
<__main__.test object at 0x782d0>
>> a.im_self.b = 2
>> obj.b
2
"
28436,43144,How to check if the name doesn't contain two dots going together with regex?,"if re.search(r'(?<!\.)\.\.(?!\.)', s):
    print 'Contain two dots'
"
751,25159,Printing the class object in python,"LOG.info('attr=%s, content=%s', dir(context), context.__dict__) 
"
10926,29063,Checking for matches in a txt file before writing in Python,"authorList = ['Shakes.','Scott']
already_seen = {} # dict to keep track of what has been seen

with open('/Users/Adam/Desktop/Poetrylist.txt','w') as output_file:
    with open('/Users/Adam/Desktop/2e.txt','r') as open_file:
            the_whole_file = open_file.read()
            for x in authorList:
                start_position = 0 
                while True:
                   start_position = the_whole_file.find('<A>'+x+'</A>', start_position)
                   if start_position < 0:
                       break
                   end_position = the_whole_file.find('</W>', start_position)
                   author_data = the_whole_file[start_position:end_position+4]
                   if author_data not in already_seen:
                       output_file.write(author_data + ""\n"")
                       already_seen[author_data] = True
                   start_position = end_position + 4
"
38518,14747,How to put the legend out of the plot,"   from matplotlib.font_manager import FontProperties

   fontP = FontProperties()
   fontP.set_size('small')
   legend([plot1], ""title"", prop = fontP)
"
27114,76156,Incrementing sub-sets of matrices in Python," a[3:5,4:7] += 1
"
4734,10657,Disable mousewheel events on wx.ComboBox widget,"import wx

class Myframe(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None)
        pan = wx.Panel(self)
        self.cbx = wx.ComboBox(pan, -1, pos=(10,30),
                                choices=[""SEARCH"", ""SELECT"",
                                         ""PASS"", ""LOG"", ""DATABASE""],
                                style=wx.CB_DROPDOWN )
        self.cbx_2 = wx.ComboBox(pan, -1, pos=(10,60),
                            choices=[""LOOK"", ""GO"", ""FILL""],
                            style=wx.CB_DROPDOWN )

        self.cbx.Bind(wx.EVT_MOUSEWHEEL, self.do_nothing)
        self.cbx.Bind(wx.EVT_COMBOBOX, self.on_selection)
        self.cbx_2.Bind(wx.EVT_MOUSEWHEEL, self.do_nothing)
        self.cbx_2.Bind(wx.EVT_COMBOBOX, self.on_selection_2)

    def on_selection(self, evt):
        """"""I do not want this to be executed inadvertently when 
         moving mousewheel""""""
        print self.cbx.GetStringSelection()

    def on_selection_2(self, evt):
        """"""this is another combobox. dont mind if mouse move it or not""""""
        print self.cbx.GetStringSelection()

    def do_nothing(self, evt):
        print 'on events pit'

if __name__ == ""__main__"":  
    App = wx.PySimpleApp()
    Myframe().Show()
    App.MainLoop()
"
38150,75710,Django: How can I make Form Wizard take in a request object when it creates the forms?,"def process_form_data(form_list):
    form_data = [form.cleaned_data for form in form_list]

    print form_data[0]
    print form_data[1]

    return form_data
class ReviewWizard(SessionWizardView):
    template_name = ""review_form.html""

    def done(self, form_list, **kwargs):
        form_data = process_form_data(form_list)

        return render(""done.html"", {""form_data"": form_data})

    def get_form_kwargs(self, step):
        kwargs = super(ReviewWizard, self).get_form_kwargs(step)
        kwargs['request'] = self.request
        return kwargs
"
13196,1421,If Statement Has Invalid Syntax,"try:
    while True:
        #Get the block hit events
        blockHits = mc.events.pollBlockHits()
        # if a block has been hit
        if blockHits:
            # for each block that has been hit
            for blockHit in blockHits:
                #Create and run the exploding block class in its own thread
                # pass the position of the block, fuse time in seconds and blast radius
                # threads are used so multiple exploding blocks can be created
                explodingBlock = ExplodingBlock(blockHit.pos, 3, 3)
                explodingBlock.daemon
                explodingBlock.start()
        time.sleep(0.1)
except KeyboardInterrupt:
    print(""stopped"")
"
5714,69624,Pandas Optimized Way to Create Dummy-Variable?,"dstk['dropflag'] = np.where(dstk.col <= criteria, 1, 0)
"
16352,30007,Need help understanding python snippet with regex and cURL,"#get auth cookie for sso
def getAuthCookie( self ):
    buffer = BytesIO()
    c = pycurl.Curl()
    c.setopt(c.SSL_VERIFYPEER, False)
    c.setopt(c.FOLLOWLOCATION, True)
    c.setopt(c.TIMEOUT, 60)
    c.setopt(c.USERPWD, self.user+"":""+cred.getpasswd( self.encPasswd ) )
    # curling sso.sample.com, which I assume promts a login dialog box and curl will set that with the varible provide above
    c.setopt(c.URL, 'https://sso.sample.com')
    # save the cookie to cookieDir
    c.setopt(c.COOKIEJAR, self.cookieDir)
    c.setopt(c.COOKIEFILE, self.cookieDir )
    c.setopt(c.WRITEFUNCTION, buffer.write)
    # perform all the previous curl commands
    c.perform()
    c.unsetopt(c.USERPWD)
    # curl new site sample.com
    c.setopt(c.URL, 'https://sample.com')
    c.perform()
    # save output as html var
    html = str(buffer.getvalue())    

----------------------------------------------------------
# The following three if statments
# if ""some string is found"" in varible-html: then do the lines indented lines that follow
if ""RelayState"" in html:
    # setup a regex to look for ""input type=""hidden"" name=""RelayState"" value=""[and captures everything here this will become the RELAY var]""
    rex = re.compile( ""input type=\""hidden\"" name=\""RelayState\"" value=\""(.*)\"""" )
    # this executes the regex expression on the html var
    RELAY = rex.search( html ).groups()[0]
if ""SAMLResponse"" in html:
    rex = re.compile( ""input type=\""hidden\"" name=\""SAMLResponse\"" value=\""(.*)\"""" )
    # same thing is happening here capturing the value as SAML
    SAML =  rex.search( html ).groups()[0]
    # contructing a new var with strings and the newly contructed vars
    datastuff = {'SAMLResponse':SAML,'RelayState':RELAY,'redirect':'Redirect','show_button':'true'}
if ""form method=\""POST\"" action="" in html:
    rex = re.compile( ""form method=\""POST\"" action=\""(.*)\"" "" )
    # again action=""[postURL]""
    postUrl = rex.search( html ).groups()[0]
---------------------------------------------------------- 

#post our saml obtained, get to our final dest
    c.setopt(c.URL, postUrl ) # setup curl with url found above
    c.setopt(c.POST, True) # use post method
    c.setopt(c.POSTFIELDS, urlencode( datastuff )) # post fields found above with newly contructed vars
    c.perform()
    c.close()
"
35059,61353,concise way to match filenames that end in certain extension in Python?,">>> import glob
>>> glob.glob(""testdir/*"")
['testdir/a.txt', 'testdir/b.txt', 'testdir/d.ext', 'testdir/c.ExT2']
>>> [f for f in glob.glob(""testdir/*"") if f.lower().endswith(("".ext"", "".ext2""))]
['testdir/d.ext', 'testdir/c.ExT2']
"
5259,47228,Extracting information from 2 separate lists,"with open(colA_file, ""rb"") as file_h:
    noun_a = set(line.strip() for line in file_h)

with open(colB_file, ""rb"") as file_h:
    noun_b = set(line.strip() for line in file_h)

with open(output_file, ""wb"") as outfile:
    with open(input_file, ""rb"") as opened_input:
        for line in opened_input:
            split_line = line.split()
            if split_line[0] in noun_a and split_line[1] in noun_b:
                outfile.write(line)
"
1334,52045,How to query any constraint's target list without knowing the constraint type?,"string $cons[] = `ls -type ""constraint""`;
for ( $con in $cons ){
    string $targetAttrString = ( $con+ "".target"" );
    string $connections[] = `listConnections $targetAttrString`;
    string $connectionsFlattened[] = stringArrayRemoveDuplicates($connections);
    for ( $f in $connectionsFlattened )
        if ( $f != $con )
            print ( $f+ "" is a target\n"" );
}
"
29554,20133,initing a pytest fixture with a parameter,"@pytest.fixture
def my_object(priority):
    return MyObj(priority)    

def test_foo(my_object):
    obj_1 = my_object(1)
    assert something # 1
    obj_2 = my_object(2)
    assert something # 2
"
787,55157,How to set/get ridge of symbol edges in matplotlib scatterplot?,"import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

carr = np.array([[0,0,0,1],[0,0,1,1],[0,1,0,1]]) # RGBA color array
ax = plt.axes(projection='3d')
h = ax.scatter([1,2,3],[1,2,3],[1,2,3], c=carr, edgecolors=carr)
plt.show()
"
23530,60456,Create a copy of an object rather that reinitialising inside of a new multiprocessing process,"import multiprocessing, copy
from foo import really_expensive_to_compute_object

## Create a really complicated object that is *hard* to initialise.
T = really_expensive_to_compute_object(10) 

def f(t, x):
  return t.cheap_calculation(x)

P = multiprocessing.Pool(processes=64)
results = P.map(f, (copy.deepcopy(T) for _ in range(1000000)), range(1000000))

print results
"
7081,41411,How to write a nested dictionary to json,"d = {
 ""Laptop"": {
            ""sony"": 1,
            ""apple"": 2,
            ""asus"": 5,
          },
 ""Camera"": {
            ""sony"": 2,
            ""sumsung"": 1,
            ""nikon"" : 4,
           },
}
with open(""my.json"",""w"") as f:
    json.dump(d,f)
"
29344,74000,python - count files (can't count values in a dictionary),"for ext in extension_list:
    mydict[ext] += 1
"
29782,36130,Dataframe not getting ordered by column names,"import pandas as pd
from collections import OrderedDict

entity_dict = OrderedDict()
entity_dict['bam'] = 1.0
entity_dict['ham'] = 1.0
entity_dict['jam'] = 0.82390874094431876
entity_dict['kam'] = 1.0
entity_dict['lam'] = 1.0
entity_dict['mam'] = 0.82390874094431876
entity_dict['pam'] = 1.0
entity_dict['ram'] = 1.0
entity_dict['sam'] = 0.82390874094431876
entity_dict['tam'] = 1.0

entity_df = pd.DataFrame.from_dict(entity_dict, orient='index').T 

print(entity_df)
"
38990,11960,"How do I get an image w/ the exact size in pixels, when using bbox_inches='tight' in matplotlib?","import matplotlib as mlp
import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure()
ax = fig.add_subplot(111)
x = y = np.arange(0, 1, 0.1)
plt.plot(x, y, label='my function')
plt.title('title')
ax.set_xlabel('xAxis')
ax.set_ylabel('yAxis')

#print fig.get_size_inches()
fig.set_size_inches(8, 6, forward=True)
fig.tight_layout()
plt.savefig('exact_size_test.png', dpi=100)
"
5180,74987,Effectively requesting and processing multiple HTML files with Python,"import requests
from multiprocessing import Pool

def process_html(url):
    url_response = requests.get(url)
    text = url_response.text
    print(text[:500])
    print('-' * 30)

urls = [
    'http://www.apple.com',
    'http://www.yahoo.com',
    'http://www.google.com',
    'http://www.apple.com',
    'http://www.yahoo.com',
    'http://www.google.com',
    'http://www.apple.com',
    'http://www.yahoo.com',
    'http://www.google.com',
]

with Pool(None) as p:  #None => uses cpu.count()
    p.map(process_html, urls)  #This blocks until all return values from process_html() have been collected.
"
26844,29134,How to skip a variable value in eval,"a = {'aaa': 1, 'bbb': 2, 'ccc': 3}
b = ['aaa', 'bbb', 'ddd', 'eee']
c = dict([(x, a.get(x, 0)) for x in a])

print ""%(aaa)s %(bbb)s %(ccc)s"" % c
"
31783,51690,How can I reference a dictionary with boolean terms as values in a while-loop statement?,"while any(flips_left.itervalues()):
"
4642,19769,Stripping numbers dates until first alphabet is found from string,"import re    
line_inp = ""12.abd23yahoo 04/44 231""
r = re.compile('^(.*[a-zA-Z])')
m = re.match(r, line_inp)
line_out = m.group(0) # 12.abd23yahoo
"
17678,83080,Recursive backtracking in Python -- balancing weights on a scale,"def balanceable_rec(L, R, weights):

    print(""L ="", L, ""  R ="", R, ""  weights ="", weights)

    if (L == 0  or  L==R  or L in weights):
        return True
    if (len(weights) == 0):
        return False

    w = weights.pop(0)
    if balanceable_rec(L + w, R, weights[:]):  return True
    if balanceable_rec(L, R, weights[:]):      return True
    if balanceable_rec(L, R + w, weights[:]):  return True

    return False
"
1606,71984,Multiple colors in the one graph in Matplotlib,"import numpy as np
import pylab as pl

def threshold_plot(x, y, th, fmt_lo, fmt_hi):
    idx = np.where(np.diff(y > th))[0]
    x_insert = x[idx] + (th - y[idx]) / (y[idx+1] - y[idx]) * (x[idx+1] - x[idx])
    y_insert = np.full_like(x_insert, th)

    xn, yn = np.insert(x, idx+1, x_insert), np.insert(y, idx+1, y_insert)

    mask = yn < th
    pl.plot(np.ma.masked_where(mask, xn), np.ma.masked_where(mask, yn), fmt_hi, lw=2)

    mask = yn > th
    pl.plot(np.ma.masked_where(mask, xn), np.ma.masked_where(mask, yn), fmt_lo)
    pl.axhline(th, color=""black"", linestyle=""--"")

x = np.linspace(0, 3 * np.pi, 50)
y = np.random.rand(len(x))
threshold_plot(x, y, 0.7, ""b"", ""r"")
"
11213,13099,What is the right way to assign/reassign a reference to an object in Python 2.x?,"class Something:
    def __init__(self):
        self.parent = None

    def setParent(self, parent=None):
        self.parent = self if not parent else parent

inst = Something()
print inst # prints <__main__.Something instance at 0xblah>
print inst.parent # prints None
inst.setParent()
print inst.parent # prints <__main__.Something instance at 0xblah>
inst.setParent(inst)
print inst.parent # prints <__main__.Something instance at 0xblah>
"
16318,35150,Django - Invalid Syntax with my view,"queryresults = serializers.serialize(""python"", queryset, fields=('jobmst_id', 'jobmst_prntid', 'jobmst_name', 'jobdtl_cmd'))
#                                                                                                                    here--^
"
25037,71241,Draw moving polygons with matplotlib,"import matplotlib.pyplot as plt
from matplotlib.path import Path
import matplotlib.patches as patches

import numpy as np
import math
import time

verts = np.array([[0.,0.],[0.,1.],[1.,1.],[1.,0.],[0.,0.]])

codes = [Path.MOVETO,
         Path.LINETO,
         Path.LINETO,
         Path.LINETO,
         Path.CLOSEPOLY,
         ]

path = Path(verts, codes)

fig = plt.figure()
ax = fig.add_subplot(111)
ax.set_xlim(-2,2)
ax.set_ylim(-2,2)
plt.show(block=False)
i=0.0
while i<100:
#for i in range(100):
    ax.clear()
    x=math.sin(i)
    y=math.cos(i)

    print x, y

    verts2=np.copy(verts)
    for j in range(len(verts)):
        verts2[j]=verts[j]+np.array([x,y])
    path = Path(verts2, codes)
    patch = patches.PathPatch(path, facecolor='orange', lw=2)
    ax.add_patch(patch)
    plt.draw()
    i+=0.1
"
5749,47677,Export variable into python from C++ using boost.python,"boost::python::scope().attr(""Pi"") = Pi; 
"
26833,79471,Adding date labels to a reportlab LinePlot chart,"#!/usr/bin/python
from reportlab.graphics.charts.lineplots import LinePlot
from reportlab.graphics.shapes import Drawing
from reportlab.lib import colors
from random import randint
from datetime import date, timedelta

# Generate some testdata
data = [
    [(x,randint(90,100)) for x in range(0,2001,100)],
    [(x,randint(30,80)) for x in range(0,2001,100)],
    [(x,randint(5,20)) for x in range(0,2001,100)],
    ]

# Create the drawing and the lineplot
drawing = Drawing(400, 200)
lp = LinePlot()
lp.x = 50
lp.y = 50
lp.height = 125
lp.width = 300
lp._inFill = 1
lp.data = data
for i in range(len(data)):
    lp.lines[i].strokeColor = colors.toColor('hsl(%s,80%%,40%%)'%(i*60))

# Specify where the labels should be
lp.xValueAxis.valueSteps = [5, 500, 1402, 1988]
# Create a formatter that takes the value and format it however you like.
def formatter(val):
    #return val
    #return 'x=%s'%val
    return (date(2010,1,1) + timedelta(val)).strftime('%Y-%m-%d')

# Use the formatter
lp.xValueAxis.labelTextFormat = formatter
drawing.add(lp)

from reportlab.graphics import renderPDF
renderPDF.drawToFile(drawing, 'example.pdf', 'lineplot with dates')
"
39128,26983,Get worker ID in Celery,"from billiard import current_process
from celery import task

@task
def print_info():
    # This will print an int in [0..concurrency[
    print current_process().index
"
26817,8423,How to I change line color after calling matplotlib plot?,"l1, = plt.plot(x_series, y_series_1, 'r-')
l2, = plt.plot(x_series, y_series_2, 'c--')

# Some time later...
l1.set_color('b')
l2.set_color('g')
"
15142,2200,Convert a complex string to a list in python,"data = json.loads('[1, 2, 3, 4]')
"
26718,15832,Insert a newline character every 14 numbers using Python,"str_list = str1.split()
num = len(str_list)
all_lines = [str_list[i:i+14] for i in range(0, num, 14)]
all_lines = ["" "".join(line)+""\n"" for line in all_lines]
fp = open(""outfile.txt"", 'w')
fp.writelines(all_lines)
fp.close()
"
3859,72274,Sort a list then give the indexes of the elements in their original order,">>> a = [1,4,6,2,3]
>>> [b[0] for b in sorted(enumerate(a),key=lambda i:i[1])]
[0, 3, 4, 1, 2]
"
26516,38342,Cast int to enum in Python for my program?,"import enum

class Color(enum.IntEnum):
    green = 1
    blue = 2
    red = 3
    yellow = 4

color_code = 4
# cast to enum
color = Color(color_code)

# cast back to int
color_code = int(color)
"
8418,53988,Python: generate a string array based on indexing,"SeasonIdentifier =  ['Summer' if x in Summer else 'Winter' if x in Winter else 'Other' for x in GivenMonths]
"
24399,84352,matplotlib: How to buffer label text?,"import matplotlib.pyplot as plt
import matplotlib.patheffects as pe

plt.figure()
ax = plt.gca()
txt = ax.text(0.5, 0.5, ""test"",
              size=20,
              color='white',
              path_effects=[pe.withStroke(linewidth=4, foreground=""red"")])
plt.show()
"
30139,72509,Can I change the title bar in Tkinter?,"root = Tk()

def move_window(event):
    root.geometry('+{0}+{1}'.format(event.x_root, event.y_root))

root.overrideredirect(True) # turns off title bar, geometry
root.geometry('400x100+200+200') # set new geometry

# make a frame for the title bar
title_bar = Frame(root, bg='white', relief='raised', bd=2)

# put a close button on the title bar
close_button = Button(title_bar, text='X', command=root.destroy)

# a canvas for the main area of the window
window = Canvas(root, bg='black')

# pack the widgets
title_bar.pack(expand=1, fill=X)
close_button.pack(side=RIGHT)
window.pack(expand=1, fill=BOTH)

# bind title bar motion to the move window function
title_bar.bind('<B1-Motion>', move_window)

root.mainloop()
"
37387,57722,summing up the values of particular range of second column in a data file,"VALUES = {-4: 0.1, -3: 0.2, -2: 0.3, -1: 0.4,
    0: 0.5, 1: 0.6, 2: 0.7, 3:  0.8, 4: 0.9}

def sum_part(start_point, diff):
    sum = 0.0
    for i in range(start_point - diff, start_point + diff + 1):
        try:
            sum += VALUES[i]
        except KeyError:
            pass
        #print('%d: %.2f' % (i, sum))
    return sum

def test_sum(start_point, diff):
    sum = sum_part(start_point, diff)
    print('sum(%d, %d): %.2f' % (start_point, diff, sum))

test_sum(1, 3)
"
9267,40331,unicode string formatting,">>> class foo(object):
    def __init__(self, val):
        self.val = val

    def __str__(self):
        return ""str: %s"" % self.val
    def __unicode__(self):
        return ""unicode: %s"" % self.val


>>> f = foo(""bar"")
>>> u'%s' % f
u'unicode: bar'
>>> unicode(f)
u'unicode: bar'
>>> '%s' % f
'str: bar'
"
16383,43183,Search for string with wildcard in file python,"f = open(""template.file"", ""r"")
t = open(""File1"").read()

for line in f:
    if line.rstrip() in t:
        print ""found "" + line
    else:
        print line + "" Not found""
"
6986,58012,Powershell Python: Change version used,"$Env:PY_PYTHON = 2
"
32989,26478,django File download issue,"    def download(request):
        #Get object(file) using swiftclient
        url = str(request.values['url'])
        token = str(request.values['token'])
        container = str(request.values['container'])
        name = str(request.values['name'])
        header, data = Client.get_object(url, token, container, object_name)

        #Send object data to browser
        result = data
        response = Response(result)
        response.headers['Content-Type'] = content['header']['content-type']
        response.headers['Content-Disposition'] = 'attachment; filename=""'+filename+'""'
        return response
"
5105,68888,"In Python + Pylons, simple way to copy uploaded file to disk","tempfile = request.POST['file']
file_path = 'uploaded_files/' + tempfile.filename # for the original filename
permanent_file = open( file_path, 'wb')
shutil.copyfileobj(tempfile.file, permanent_file)
"
19534,57289,Add a sequence number to each element in a group using python,"rows = ...# your source data

def date_to_sortable_string(date):
  # use datetime package to convert string to sortable date.
  pass

# Assume x[0] === patient_id and x[1] === encounter date

# Sort by patient_id and date
rows_sorted = sorted(rows, key=lambda x: ""%0.5d-%s"" % (x[0], date_to_sortable_string(x[1])))

for row in rows_sorted:
  print row
"
7717,47035,Why does `getattr` not support consecutive attribute retrievals?,"getattr(getattr(a, ""b""), ""c"")
"
39264,9740,python csv library always uses dos end-of-line character?,"writer = csv.writer(f, lineterminator=""\n"")
"
3257,15849,How to set twistd.py ILogObserver when using IPlugin?,"# mylogger.py
from twisted.python import log

def logger():
    return log.PythonLoggingObserver().emit
"
24066,75561,Change directory to the directory of a Python script,"os.chdir(os.path.dirname(__file__))
"
29796,19224,Simple way to run two while loops at the same time using threading?,"from threading import Thread

t1 = Thread(target = firstFunction)
t2 = Thread(target = secondFunction)

t1.start()
t2.start()
"
173,48377,use python requests library to post data to search box,"from urllib import urlencode
import requests
params = {'search': '7420 Westlake Ter #1210 20817'}
search_url = 'http://www.trulia.com/submit_search/?'
url = search_url + urlencode(params)
r = requests.get(url)
# now you get your desired response.
"
17681,80988,How to reset the timer using tkinter,"from Tkinter import *
import time

class App():
    def __init__(self):
        self.window = Tk()
        self.root = Frame(self.window, height=200,width=200)
        self.root.pack()
        self.root.pack_propagate(0)
        self.window.title('Timer')
        self.label = Label(text="""")
        self.label.pack()
        self.sec = 11
        self.timerupdate()
        self.root.mainloop()
    def timerupdate(self):
        if self.sec!=0:
            self.sec-=1
            self.label.configure(text=self.sec)
            self.root.after(1000, self.timerupdate)
        if self.sec == 0:
          self.sec = 11

app=App()
app.mainloop()
"
7816,13377,how to assign a new element in array.array,">>> L = []
>>> L[0] = 'a'
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
IndexError: list assignment index out of range
"
23058,6289,itertools.repeat VS itertools.cycle,"from itertools import repeat, cycle

for i in repeat('abcd'): print(i)
# abcd, abcd, abcd, abcd, ...

for i in cycle('abcd'): print(i)
# a, b, c, d, a, b, c, d, ...
"
38931,41412,How can I dynamically get the set of classes from the current python module?,"import sys
getattr(sys.modules[__name__], 'A')
"
30268,9489,Including None values in ordered NDB query,"class ExampleModel(ndb.Model):
    DEFAULT_CREATED = datetime(2000, 1, 1)
    property1 = ndb.StringProperty()
    property2 = ndb.StringProperty()
    created = ndb.DateTimeProperty(auto_now_add=True)

    def created2(self):
        if self.created == DEFAULT_CREATED:
            return None
        else:
            return self.created

    def created2(self, value):
        if value is None:
            self.created = DEFAULT_CREATED
        else:
            self.value = value
"
27620,84777,implement decorator who will be substitute one class with another implementation,"try:
    from unittest.mock import patch
except ImportError:
    # Python < 3.4
    from mock import patch

with patch('module.class1') as class1_mock:
    mocked_instance = class1_mock.return_value
    mocked_instance.method_to_be_called.return_value = 'Test return value'

    method()

    mocked_instance.method_to_be_called.assert_called_with('Foo', 'bar')
"
24386,4032,How to construct a key in Python?,"Example:
var1 = '12591'
var2 = 'CNB'
var3 = 'YPR'
var4 = '2A'
var5 = 'GN'
var6 = '1'
var7 = '8'
var8 = '3A'

key = (
    var1 + ""_"" + var2 + ""_"" + var3 + ""_"" + var4 + ""_"" + var5 + ""_"" + var6 + ""-"" + var7 + ""~"" +
    var1 + ""_"" + var2 + ""_"" + var3 + ""_"" + var8 + ""_"" + var5 + ""_"" + var6 + ""-"" + var7 + ""~"")

print key
"
22233,71573,How would I write this program without using conditionals,"min(max(x,lo),hi)
"
32857,11335,Grouping totals in SQLAlchemy,"from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base
import random

Base= declarative_base()

class Customer(Base):
    __tablename__ = 'customer'
    id = Column(Integer, primary_key=True)
    name = Column(Unicode)
    orders = relationship(""Order"", backref=""customer"")

class Order(Base):
    __tablename__ = ""order""

    id = Column(Integer, primary_key=True)
    customer_id= Column(Integer, ForeignKey('customer.id'))
    amount = Column(Integer)

e = create_engine(""sqlite://"", echo=True)
Base.metadata.create_all(e)

session = Session(e)

session.add_all([
    Customer(name=""c%d"" % i, orders=[
        Order(amount=random.randint(10, 100))
        for j in xrange(random.randint(0, 5))
    ])
    for i in xrange(100)
])

amount_sum = func.sum(Order.amount).label('totalamount')
amount = session.query(Order.customer_id, amount_sum).\
            group_by(Order.customer_id).\
            order_by(amount_sum.desc()).\
            limit(10).\
            subquery()

for a, b in session.query(Customer, amount.c.totalamount).\
    join(amount, amount.c.customer_id==Customer.id):
    print a.name, b
"
9258,50323,How do I order this list in Python?,">>> a = [(u'we', 'PRP'), (u'saw', 'VBD'), (u'you', 'PRP'), (u'bruh', 'VBP'), (u'.', '.')]
>>> import operator
>>> a.sort(key = operator.itemgetter(1))
>>> a
[(u'.', '.'), (u'we', 'PRP'), (u'you', 'PRP'), (u'saw', 'VBD'), (u'bruh', 'VBP')]
"
32565,37861,How to terminate an infinite process with an specific time duration,"# Starts encoding in a subprocess
proc = subprocess.Popen(['ffmpeg', '-i' 'myinput', 'myoutput'])

duration = 3
sleeptime = 0
while proc.poll() is None and sleeptime < 3: 
    # Wait for the specific duration or for the process to finish
    sleep(1)
    sleeptime += 1

# If process is not terminated
if proc.poll() is None:
    # Cancels process, waits for it to complete
    proc.communicate(""q"")
"
19258,54201,"setattr with kwargs, pythonic or not?","def __init__(self, **kwargs):
    self.__dict__.update( kwargs )
"
23071,11951,Python socket server - continue to receive client data,"import socket

address = ('', 7777)
server_socket = socket.socket(AF_INET, SOCK_STREAM)
server_socket.setsockopt(SOL_SOCKET, SO_REUSEADDR, 1)
try:
    server_socket.bind(address)
except Exception, e:
    print colored(""Address already in use"", 'red')

server_socket.listen(2)

print colored(""Socket ready"", 'blue')
while True:
    client_socket, addr = server_socket.accept()
    hostIP = addr[0]
    port = addr[1]

    try:
        host = gethostbyaddr(hostIP)[0]
    except:
        host = hostIP
    print colored(""Got connection from: "" + host, 'blue')
    while True:
        try:
            recv_data = client_socket.recv(2048)
            if not recv_data:
                break
            print(""Got: "" + recv_data)
        except socket.error, e:
            print ""nothing""
            recv_data = """" # this is because I test what it is later, but that's irrevlevant.
"
15169,29911,Trying to get a solid Python install working on my Mac?,"virtualenv --python=/path/to/python/2.6 virtualenvname
"
32285,19504,How to remove all the white space from string in Python,"s = 'This is the                                     Sample text I need to get       all this               but only with single spaces'
' '.join(s.split())
#'This is the Sample text I need to get all this but only with single spaces'
"
4741,49829,python struct unpack into a dict,">>> import struct
>>> from collections import namedtuple
>>> record = 'raymond   \x32\x12\x08\x01\x08'
>>> Student = namedtuple('Student', 'name serialnum school gradelevel')
>>> Student._asdict(Student._make(struct.unpack('<10sHHb', record)))
{'school': 264, 'gradelevel': 8, 'name': 'raymond   ', 'serialnum': 4658}
>>> 
"
29467,73707,How to convert numeric string ranges to a list in Python,">>> def f(x):
...     result = []
...     for part in x.split(','):
...         if '-' in part:
...             a, b = part.split('-')
...             a, b = int(a), int(b)
...             result.extend(range(a, b + 1))
...         else:
...             a = int(part)
...             result.append(a)
...     return result
... 
>>> f('1,2,5-7,10')
[1, 2, 5, 6, 7, 10]
"
13694,28710,Parsing through a file from database and adding info to dictionary,"output = {}

in_list = False
current_name = None

for line in open('actors.list'):
    if in_list:
        if line.startswith('-'):
            break
        if '\t' not in line:
            continue
        name, title = line.split('\t', 1)
        name = name.strip()
        title = title.strip()
        if name:
            if ',' in name:
                name = name.split(',', 1)
                name[0] = name[0].rstrip()
                name[1] = name[1].lstrip()
                name.reverse()
                name = ' '.join(name)
            current_name = name
        if title:
            output.setdefault(
                current_name, []).append(title)
    else:
        if line.startswith('-'):
            in_list = True
"
28114,59178,How to display a message box on PyQT4?,"from PyQt4.QtCore import *
from PyQt4.QtGui import *


class AppForm(QMainWindow):
    def __init__(self, parent=None):
        QMainWindow.__init__(self, parent)
        self.create_main_frame()       

    def create_main_frame(self):        
        page = QWidget()        

        self.button = QPushButton('joy', page)
        self.edit1 = QLineEdit()
        self.edit2 = QLineEdit()

        vbox1 = QVBoxLayout()
        vbox1.addWidget(self.edit1)
        vbox1.addWidget(self.edit2)
        vbox1.addWidget(self.button)
        page.setLayout(vbox1)
        self.setCentralWidget(page)

        self.connect(self.button, SIGNAL(""clicked()""), self.clicked)

    def clicked(self):
        QMessageBox.about(self, ""My message box"", ""Text1 = %s, Text2 = %s"" % (
            self.edit1.text(), self.edit2.text()))



if __name__ == ""__main__"":
    import sys
    app = QApplication(sys.argv)
    form = AppForm()
    form.show()
    app.exec_()
"
27676,401,django migration creates table with only one field,"You are trying to add a non-nullable field 'name' to module without a default; we can't do that (the database needs something to populate existing rows).
Please select a fix:
 1) Provide a one-off default now (will be set on all existing rows)
 2) Quit, and let me add a default in models.py
Select an option: 
"
19303,49536,How to use TermQuery to do an AND query across multiple terms?,"q1 = pyes.TermQuery(""title"", ""rainbow"")
q2 = pyes.TermQuery(""artist"", ""kermit"")
query = BooleanQuery(must=[q1, q2])
search = pyes.Search(query)
results = conn.search(search, index_name, doc_type)
"
9079,40040,"Separating a list of (X,Y)",">>> chainpos.append((chainid,x, y, z))
>>> chainpos 
[('A', 1.719, -25.217, 8.694), ('A', 2.934, -21.997, 7.084)]
>>> import itertools
>>> for id, coor in itertools.groupby(chainpos,lambda x:x[0]):
...     print(id, [c[1:] for c in coor])
"
2539,20610,How to print file contents with filename before each line?,"perl -pe 'print ""$ARGV,""' a b c
"
1808,84449,Python Reverse Find in String,">>> s = ""Hello, I am 12! I like plankton but I don't like Baseball.""
>>> index = 34 #points to the 't' in 'but'
>>> index_of_2nd_I = s.rfind('I', 0, index)
>>>
>>> index_of_2nd_I
16
"
32475,18314,How to edit flask-admin to support multi tenancy?,"class MyDealModelView(ModelView):
    form_excluded_columns = ('merchant_id',)

    def on_model_change(form, model, is_created):
        model.merchant_id = login.current_user.merchant_id;
"
35557,21162,What is the best way to store integers mapped to strings so that the keys can be ranges in python?,"doodahs = (
    (0, ""FOO""),
    (257, ""BAR""),
    (258, ""FISH""),
    (279, ""MOOSE""),
    (280, ""Darth Vader""),
    (65535, ""Death to all newbies"")
)
"
3204,17369,IRC Bot anti swear,"badwords = [""love"", ""peace"", ""hello""]
message = ""hi I love you""
for badword in badwords:
  if (badword in message.lower()):
   print ""oh thats bad /ban""
"
26143,59529,Extracting each list of a lists,"Z_level, XD1, XD2, ... = list_sample
"
18668,9861,"make an ""always relative to current module"" file path?","import os

TEST_FILENAME = os.path.join(os.path.dirname(__file__), 'test.txt')
"
21276,58204,python+raspberry pi gpio invalid syntax,"GPIO.setmode(GPIO.BCM)
GPIO.Setup (17, GPIO.IN, pull_up_down = GPIO.PUD_DOWN)
GPIO.Setup (18, GPIO.IN, pull_up_down = GPIO.PUD_DOWN)
GPIO.Setup (21, GPIO.IN, Pull_up_down = GPIO.PUD_DOWN)
GPIO.Setup (22, GPIO.IN, pull_up_down = GPIO.PUD_DOWN)
GPIO.setup (23, GPIO.IN, pull_up_down = GPIO.PUD_DOWN)
GPIO.Setup (24, GPIO.IN, pull_up_down = GPIO.PUD_DOWN) 

while True:
    try:
        if GPIO.input(17) == 1: # all `if` should be lowercase and the `try` 
            writeTexts(+1,-370,55) # don't need `()` in if statements.
            writeTexts(today + difference1,-100,-200)
        if GPIO.input(18) == 1:
            WriteTexts(-1,-370,55)
        if GPIO.input(21) == 1:
            writeTexts(0,-370,55)
        if GPIO.Input(22) == 1:
            writeTexts(+1,280,55)
        if GPIO.input(23) == 1:
            writeTexts(-1,280,55)
            writeTexts(today + difference1,550,-200)
        if GPIO.input(24) == 1:
            writeTexts(0,280,55)
            sleep(.01)
    except KeyboardInterrupt: # missing `:`
        exit()

GPIO.Cleanup ()
"
36383,46852,What is wrong with this python program? It hangs after asking for the first characters name,"import math, random
name1 = """"
name2 = """"
strength1 = 0
strength2 = 0
skill1 = 0
skill2 = 0

def Character1():
    global strength1, skill1, name1
    name1 = raw_input(""Please enter a name for the first character : "")
    strength1 = math.floor(random.randint(1,12)/random.randint(1,4))+10
    skill1 = math.floor(random.randint(1,12)/random.randint(1,4))+10

def Character2():
    global strength2, skill2, name2
    name2 = raw_input(""Please enter a name for the second character : "")
    strength2 = math.floor(random.randint(1,12)/random.randint(1,4))+10
    skill2 = math.floor(random.randint(1,12)/random.randint(1,4))+10

def printStats():
    print ""The first character is called "" + name1 + "" and has a skill level of "" + str(skill1) + "" and a strength level of "" + str(strength1) 
    print ""The first character is called "" + name2 + "" and has a skill level of "" + str(skill2) + "" and a strength level of "" + str(strength2) 

Character1()
Character2()
printStats()
"
33632,52575,Gittle. How to get a true list of modified files?,"import os
path = '/path/to/repo' # or use input from command line
savedPath = os.getcwd()

# do init stuff

os.chdir(path)

# do repo stuff
repo_path = '.'
repo_url = 'git@github.com:username/myfolder.git'
repo = Gittle(repo_path, origin_uri=repo_url)

print repo.modified_files

# finish repo stuff

os.chdir(savedPath)

# do other stuff
"
2968,19741,How to use PyCharm to debug Scrapy projects,"#!/usr/bin/python

from scrapy.cmdline import execute
execute()
"
32496,67811,Readline functionality on windows with python 2.7,"try:
  import readline
except ImportError:
  import pyreadline as readline
"
38115,62780,Load fixture.json through python script,"from django.core.management import call_command
call_command('loaddata', 'data.json', stdout=out, verbosity=0)
"
21838,48125,Does a True value exist in a list of dictionaries?,">>> lst = []
>>>
>>> for i in xrange(4):
...     lst.append({})
...     lst[i]['a'] = False
...
>>> any(d['a'] for d in lst)
False

>>> lst[1]['a'] = True
>>> any(d['a'] for d in lst)
True
"
35959,7567,Removing a list item from another list,"def deleteList(listo1, listo2):
    for insidelist in listo1:
        if listo2[0] == insidelist[0]:
             listo1.remove(insidelist)
    print(listo1)

def main():
    deleteList([[1000, 1],[2000, 2],[3000, 3]], [1000, 77])
"
21982,8178,matplotlib: update position of patches (or: set_xy for circles),"import matplotlib.pyplot as plt
from matplotlib.patches import Circle

class InteractiveCircle(object):
    def __init__(self):
        self.fig, self.ax = plt.subplots()
        self.ax.axis('equal')

        self.circ = Circle((0.5, 0.5), 0.1)
        self.ax.add_artist(self.circ)
        self.ax.set_title('Click to move the circle')

        self.fig.canvas.mpl_connect('button_press_event', self.on_click)

    def on_click(self, event):
        if event.inaxes is None:
            return
        self.circ.center = event.xdata, event.ydata
        self.fig.canvas.draw()

    def show(self):
        plt.show()


InteractiveCircle().show()
"
20151,51227,Is there a way to make python become interactive in the middle of a script?,"from IPython import embed
embed()
"
16603,24249,How to do a column sum in Tensorflow?,"# 'x' is [[1, 1, 1]
#         [1, 1, 1]]
tf.reduce_sum(x) ==> 6
tf.reduce_sum(x, 0) ==> [2, 2, 2]
tf.reduce_sum(x, 1) ==> [3, 3]
tf.reduce_sum(x, 1, keep_dims=True) ==> [[3], [3]]
tf.reduce_sum(x, [0, 1]) ==> 6
"
12201,30905,Why does an object allocation local to a Python subprocess increase heap size for main?,"$ python2.7
>>> def f():
...     temp = 'a' * 10
...
>>> f.__code__.co_consts
(None, 'a', 10, 'aaaaaaaaaa')
>>> import dis
>>> dis.dis(f)
  2           0 LOAD_CONST               3 ('aaaaaaaaaa')
              3 STORE_FAST               0 (temp)
              6 LOAD_CONST               0 (None)
              9 RETURN_VALUE
"
18197,4649,google datastore - does it do lazy loading?,"# Any reference properties not loaded yet
customer = Customer.get_by_id(1)
print customer.name
print customer.address

# Assuming customer.order is a ReferenceProperty, now is when it
# would be loaded from the datastore.
print customer.order.created_at
"
32821,13904,Pandas: sample each group after groupby,"In [2]:
df = pd.DataFrame({'a': [1,2,3,4,5,6,7],
                   'b': [1,1,1,0,0,0,0]})
​
grouped = df.groupby('b')
grouped.apply(lambda x: x.sample(frac=0.3))

Out[2]:
     a  b
b        
0 6  7  0
1 2  3  1
"
4212,8862,How to alphabetically sort the values in a many-to-many django-admin box?,"class Article(models.Model):
    ....

    class Meta:
        ordering = ['surname', 'name']
"
12070,27190,recursive function in python that returns copy of list given as argument with a's replaced by b's and does not alter the list given as argument,"def replace(thelist,a,b):

 assert type(thelist)==list, `thelist` + ' is not a list'

 assert type(a)==int, `a` + ' is not an integer'

 assert type(b)==int, `b` + ' is not an integer'
 if len(thelist)==0:
     return []
 return ([b] if thelist[0]==a else [thelist[0]])+replace(thelist[1:],a,b)
"
10356,42256,Converting a python numeric expression to LaTeX,"
import ast

class LatexVisitor(ast.NodeVisitor):

    def prec(self, n):
        return getattr(self, 'prec_'+n.__class__.__name__, getattr(self, 'generic_prec'))(n)

    def visit_Call(self, n):
        func = self.visit(n.func)
        args = ', '.join(map(self.visit, n.args))
        if func == 'sqrt':
            return '\sqrt{%s}' % args
        else:
            return r'\operatorname{%s}\left(%s\right)' % (func, args)

    def prec_Call(self, n):
        return 1000

    def visit_Name(self, n):
        return n.id

    def prec_Name(self, n):
        return 1000

    def visit_UnaryOp(self, n):
        if self.prec(n.op) > self.prec(n.operand):
            return r'%s \left(%s\right)' % (self.visit(n.op), self.visit(n.operand))
        else:
            return r'%s %s' % (self.visit(n.op), self.visit(n.operand))

    def prec_UnaryOp(self, n):
        return self.prec(n.op)

    def visit_BinOp(self, n):
        if self.prec(n.op) > self.prec(n.left):
            left = r'\left(%s\right)' % self.visit(n.left)
        else:
            left = self.visit(n.left)
        if self.prec(n.op) > self.prec(n.right):
            right = r'\left(%s\right)' % self.visit(n.right)
        else:
            right = self.visit(n.right)
        if isinstance(n.op, ast.Div):
            return r'\frac{%s}{%s}' % (self.visit(n.left), self.visit(n.right))
        elif isinstance(n.op, ast.FloorDiv):
            return r'\left\lfloor\frac{%s}{%s}\right\rfloor' % (self.visit(n.left), self.visit(n.right))
        elif isinstance(n.op, ast.Pow):
            return r'%s^{%s}' % (left, self.visit(n.right))
        else:
            return r'%s %s %s' % (left, self.visit(n.op), right)

    def prec_BinOp(self, n):
        return self.prec(n.op)

    def visit_Sub(self, n):
        return '-'

    def prec_Sub(self, n):
        return 300

    def visit_Add(self, n):
        return '+'

    def prec_Add(self, n):
        return 300

    def visit_Mult(self, n):
        return '\\;'

    def prec_Mult(self, n):
        return 400

    def visit_Mod(self, n):
        return '\\bmod'

    def prec_Mod(self, n):
        return 500

    def prec_Pow(self, n):
        return 700

    def prec_Div(self, n):
        return 400

    def prec_FloorDiv(self, n):
        return 400

    def visit_LShift(self, n):
        return '\\operatorname{shiftLeft}'

    def visit_RShift(self, n):
        return '\\operatorname{shiftRight}'

    def visit_BitOr(self, n):
        return '\\operatorname{or}'

    def visit_BitXor(self, n):
        return '\\operatorname{xor}'

    def visit_BitAnd(self, n):
        return '\\operatorname{and}'

    def visit_Invert(self, n):
        return '\\operatorname{invert}'

    def prec_Invert(self, n):
        return 800

    def visit_Not(self, n):
        return '\\neg'

    def prec_Not(self, n):
        return 800

    def visit_UAdd(self, n):
        return '+'

    def prec_UAdd(self, n):
        return 800

    def visit_USub(self, n):
        return '-'

    def prec_USub(self, n):
        return 800
    def visit_Num(self, n):
        return str(n.n)

    def prec_Num(self, n):
        return 1000

    def generic_visit(self, n):
        if isinstance(n, ast.AST):
            return r'' % (n.__class__.__name__, ', '.join(map(self.visit, [getattr(n, f) for f in n._fields])))
        else:
            return str(n)

    def generic_prec(self, n):
        return 0

def py2tex(expr):
    pt = ast.parse(expr)
    return LatexVisitor().visit(pt.body[0].value)

"
34048,32830,Friendly URL with get request form,"def test_view(request):
  return HttpResponseRedirect('/test/%s/%s/%s/' % request.POST['first'],
                                                  request.POST['second'],
                                                  request.POST['third])
"
38160,64764,How to dynamically clone class methods but be able to tell them apart in Python,"import string

class X(object):
  def __getattr__(self, name):
    if name in string.lowercase and len(name) == 1:
      def call_into_module(arg):
        return module.do(arg, name)
      return call_into_module

    return super(X, self).__getattr__(name)
"
30034,61408,Pandas data frame to dictionary of lists,"In [199]: df2.reset_index().to_dict(orient='list')
Out[199]: 
{'date': ['2014-10-1', '2014-10-2', '2014-10-3', '2014-10-4', '2014-10-5'],
 'foo': [8, 1, 8, 8, 1],
 'temp': [10, 10, 8, 3, 10],
 'time': [1, 2, 3, 4, 5]}
"
13810,40768,Determining the number of integers with a certain amount of factors between two numbers,"def n_factors(x, lower, upper):
    int_counter = 0 # integer counter
    div_count = 0 # divisor counter
    for i in range(lower, upper+1):
        for j in range(1, i + 1):
            if (i%j)==0:
                div_count += 1
        if div_count == x:
            print i
            int_counter += 1
        div_count = 0
    return int_counter
"
35396,40017,Fastest way of deleting certain keys from dict in Python,"dict((k, v) for (k, v) in somedict.iteritems() if not k.startswith('someprefix'))
"
11317,80255,How to apply drop_duplicates to grouped dataframe?,"In [273]:
df.groupby(level='first', group_keys=False).apply(lambda d: d.drop_duplicates())

Out[273]:
              0  1
first second      
bar   one     1  1
baz   one     1  1
foo   one     1  1
qux   one     1  1
"
18003,25742,smtplib sending multiple messages instead of one,"msg.attach(attachment)
"
29632,61473,Python MessageBox with Icons using ctypes and windll,"import ctypes
MB_OK = 0x0
MB_OKCXL = 0x01
MB_YESNOCXL = 0x03
MB_YESNO = 0x04
MB_HELP = 0x4000
ICON_EXLAIM=0x30
ICON_INFO = 0x40
ICON_STOP = 0x10

result = ctypes.windll.user32.MessageBoxA(0, ""Your text?"", ""Your title"", MB_HELP| MB_YESNO | ICON_STOP)
"
6390,81901,Finding k closest numbers to a given number,">>> from heapq import nsmallest
>>> s = [1,2,3,4,5,6,7]
>>> nsmallest(3, s, key=lambda x: abs(x-6.5))
[6, 7, 5]
"
8703,36635,"Pandas lookup, mapping one column in a dataframe to another in a different dataframe","df1 = df1.merge(df2[['weeknum', 'datetime']], on=['weeknum'])
"
8748,44066,Why does this memoizer work on recursive functions?,"def fib(n):
    return n if n in (0, 1) else globals()['fib'](n-1) + globals()['fib'](n-2)
"
14889,11712,Printing number of items from a data file,"with open('file.txt', 'r') as f:
    print(len(f.readlines()))
"
6041,74139,Python: Get most frequent item in list,"from collections import Counter
import random

tups = [ (1,2), (3,4), (5,6), (1,2), (3,4) ]
lst = Counter(tups).most_common()
highest_count = max([i[1] for i in lst])
values = [i[0] for i in lst if i[1] == highest_count]
random.shuffle(values)
print values[0]
"
178,24142,Python regex for dollar amounts including commas and decimals,"import re
blockOfText = 'two thousand may be represented as 2000 2000.00 2,000 and 2k'
' '.join([ ''.join(x[0]) for x in re.findall(r'(\$?\d+([,\.]\d+)?k?)', blockOfText) ])
"
17539,11538,Adding variably named fields to Python classes,">>> class A(object):
...     pass
... 
>>> a = A()
>>> f = 'field'
>>> setattr(a, f, 42)
>>> a.field
42
"
463,18463,Generate a random date between two other dates,"import random
import time

def strTimeProp(start, end, format, prop):
    """"""Get a time at a proportion of a range of two formatted times.

    start and end should be strings specifying times formated in the
    given format (strftime-style), giving an interval [start, end].
    prop specifies how a proportion of the interval to be taken after
    start.  The returned time will be in the specified format.
    """"""

    stime = time.mktime(time.strptime(start, format))
    etime = time.mktime(time.strptime(end, format))

    ptime = stime + prop * (etime - stime)

    return time.strftime(format, time.localtime(ptime))


def randomDate(start, end, prop):
    return strTimeProp(start, end, '%m/%d/%Y %I:%M %p', prop)

print randomDate(""1/1/2008 1:30 PM"", ""1/1/2009 4:50 AM"", random.random())
"
11449,63084,django view method signature is it possible to match GET parameters?,"def edit_notification(request):
    foo = request.GET.get('foo')
    ...
"
38227,68137,How to convert values in a numpy matrix based on a condition?,"new_training_data = new_training_data.astype(np.float64)
new_training_data[new_training_data == 0] = -1
"
39101,10283,PyCharm run select unittests,"def load_tests(loader, tests, pattern):
    return suite()
"
11611,30110,Group and count unique values in Python pandas dataframe,">>> pd.crosstab(df.index, df['Crime type'])
Crime type      Anti-social behaviour  Burglary  Other theft  Shoplifting  ...

E01006687                           0         1            0            0
E01007229                           3         1            2            1
E01007230                           6         0            0            0
"
7715,77014,OS X: Determine Trash location for a given path,"url = NSURL.fileURLWithPath(path)
finder = SBApplication.applicationWithBundleIdentifier(""com.apple.Finder"")
item = finder.items.objectAtLocation(url)
item.delete
"
38746,7024,Pandas DataFrame: How to get a min value in a vectorized way?,"import numpy
import pandas

# your data
# ===================================
numpy.random.seed(0)
df1         = abs((pandas.DataFrame(numpy.random.randn(20, 8))*100).astype(int))
df1.columns = list('abcdefgh') 
df1.index   = pandas.date_range('1/1/2014', periods=20)

# processing
# ===================================

df1['custom_min'] = pandas.concat([df1[df1.columns[:5]], df1[df1.columns[-3:]].shift(1)], axis=1).min(axis=1)

print(df1)

              a    b    c    d    e    f    g    h  custom_min
2014-01-01  176   40   97  224  186   97   95   15          40
2014-01-02   10   41   14  145   76   12   44   33          10
2014-01-03  149   20   31   85  255   65   86   74          12
2014-01-04  226  145    4   18  153  146   15   37           4
2014-01-05   88  198   34   15  123  120   38   30          15
2014-01-06  104  142  170  195   50   43  125   77          30
2014-01-07  161   21   89   38   51  118    2   42          21
2014-01-08    6   30   63   36   67   35   81  172           2
2014-01-09   17   40  163   46   90    5   72   12          17
2014-01-10  113  123   40   68   87   57   31    5           5
2014-01-11  116   90   46  153  148  189  117   17           5
2014-01-12  107  105   40  122   20   97   35   70          17
2014-01-13    1  178   12   40  188  134  127   96           1
2014-01-14  117  194   41   74  192  148  186   90          41
2014-01-15   86  191   26   80   94   15   61   92          26
2014-01-16   37  109   29  132   69   14   43  184          15
2014-01-17   67   40   76   53   67    3   63   67          14
2014-01-18   57   20   39  109  149   43   16   63           3
2014-01-19  238   94   91  111  131   46    6  171          16
2014-01-20   74   82    9   66  112  107  114   43           6
"
17830,82736,Unique features between multiple lists,"from itertools import chain

A_1 = [1, 2, 3, 4]
A_2 = [3, 4, 5, 6]
A_3 = [3, 4, 7, 8]

# Collect the input lists for use with chain below
all_lists = [A_1, A_2, A_3]

for A in (A_1, A_2, A_3):
  # Combine all the lists into one
  super_list = list(chain(*all_lists))
  # Remove the items from the list under consideration
  for x in A:
    super_list.remove(x)
  # Get the unique items remaining in the combined list
  super_set = set(super_list)
  # Compute the unique items in this list and print them
  uniques = set(A) - super_set
  print(sorted(uniques))
"
33086,50352,How to call a Python Script from PHP?,"$mystring = system('python myscript.py myargs', $retval);
"
22722,53945,Converting int to byte streams in python,"individual_bytes = struct.unpack(""BB"", struct.pack(""<H"", 1024))
"
11721,36993,Python 2.7 division not showing exact result,">>> import decimal
>>> decimal.Decimal('1') / (decimal.Decimal('5') / decimal.Decimal('1000000'))
Decimal('2E+5')
"
18087,34285,Blockproc like function for Python image processing,"io.use_plugin('pil', 'imread')
a = io.imread('C:\Users\Dimitrios\Desktop\polimesa\\arizona.jpg')

B = np.zeros((len(a)/2 +1, len(a[0])/2 +1))


for i in xrange(0, len(a), 2):
    for j in xrange(0, len(a[0]), 2):
        x.append(a[i][j])
        if i+1 < len(a):
            x.append(a[i+1][j])
        if j+1 < len(a[0]):
           x.append(a[i][j+1])
        if i+1 < len(a) and j+1 < len(a[0]):
           x.append(a[i+1][j+1])
        B[i/2][j/2] = np.std(x)
        x[:] = []         
"
15614,80688,optimizing python performance in function calls,"$ python -V
Python 2.7.1 
$ python so18736473.py
names[0]: ('f_a', ([1, 1],))
done, elapsed wall clock time (win32) in seconds:  5.418259
$ pypy -V
Python 2.7.2 (341e1e3821fff77db3bb5cdb7a4851626298c44e, Jun 09 2012, 14:24:11)
[PyPy 1.9.0]
$ pypy so18736473.py
names[0]: ('f_a', ([1, 1],))
done, elapsed wall clock time (win32) in seconds:  0.648846
"
36792,41587,Remove consecutive duplicate rows on the basis of a column,"$ awk 'p!=$1{p=$1; print}' file

+   5     1364182    TTGC
-   5     1364204    GATG
+   1     9372980    TTCA
-   1     9373028    GGAA
+   2     14029383   ACCA
-   2     14029437   ACCA
+   4     13475195   AGCA
-   4     13475251   TCTC
+   1     9372980    TTCA
-   1     9373028    GGAA
+   2     14029383   ACCA
"
28947,8584,Running python script with arguments in microsoft visual studio,"import sys
import getopt

def main(argv):
    try:
        opts, args = getopt.getopt(argv,""hi:"",[""ifile=""])
    except getopt.GetoptError:
      print 'test.py -i <inputfile>'
      sys.exit(2)
    for opt, arg in opts:
        if opt in (""-i"", ""--ifile""):
            inputfile = arg
    print 'Input file is ""', inputfile

if __name__ == ""__main__"":
   main(sys.argv[1:])
"
11148,41230,how to get file's type under a directory in Python,"import os

def get_file_types(directory):
    file_ext = set()
    for root, directories, files in os.walk(directory):
        for filename in files:
            filepath = os.path.join(root, filename)
            fileName, fileExtension = os.path.splitext(filepath)


    return sorted(file_ext)  # Self-explanatory.


file_types = get_file_types(""d:\\Development\\"")
for ty in file_types:
    print ty
"
37154,77796,finding index in a nested list,"[(k,i) for k,m in enumerate(ref, 1) for i,j in enumerate(m, 1) if 'yellow' in j]
"
21342,77274,Can I pre-compile a python script?,"  1. nginx + gnunicorn
  2. apache2 + mod-wsgi
  3. something else
  4. anything else
  ...
n-1. fcgi
  n. cgi
"
29925,18184,How do I retrieve the output of a previous command and save it in a variable inside the Python interactive shell?,">>> 1 + 1
2
>>> x = _
>>> x
2
"
22436,30704,How to loop until EOF in Python?,"for block in iter(lambda: file_obj.read(4), """"):
  use(block)
"
25148,3462,How do I convert from a .NET DateTime to an IronPython datetime?,"import datetime
from System import DateTime
datetime.datetime(DateTime.Now)
"
18095,36823,Write from http request to jpg directly,"import io
from PIL import Image

if response.status_code is requests.codes.ok:
    io = io.BytesIO(response.content)
    im = Image.open(io).convert('RGB').save('test.jpg)
"
35441,35197,python telnet server crash,"import string
valid_chars = ""-_.() %s%s"" % (string.ascii_letters, string.digits)

[...]

        data = c.recv(BUFFER_SIZE)
        data=''.join(c for c in data if c in valid_chars)
        print 'requested website: '+data
        if len(data)>0:
            try:
                urllib2.urlopen('localhost:2020/?id='+data ).read()
                print x
                c.send(x)
            except:
                pass
        c.close()                # Close the connection
"
22144,43532,Am I using Gio GFile monitor_file wrong?,"import os
from gi.repository import Gtk, Gio

# This allows Ctrl+C to exit the program
import signal
signal.signal(signal.SIGINT, signal.SIG_DFL)

def callback(m, f, o, event):
    # Without this check, multiple 'ok's will be printed for each file change
    if event == Gio.FileMonitorEvent.CHANGES_DONE_HINT:
        print ('ok')

gio_file = Gio.File.new_for_path(os.environ['HOME']+'/temp')
monitor = gio_file.monitor_file(Gio.FileMonitorFlags.NONE, None)
monitor.connect(""changed"", callback)

Gtk.main()
"
39215,58665,"How to avoid being a black hat, while doing Google SERP parsing","Free quota
Usage is free for all users, up to 100 queries per day.
"
33934,67467,How to apply a custom formula over a group element in a grouped.apply().unstack() method?,"def get_stats(group):
    return {'mean': group.mean(), 'std': group.std(),
            'hit_r': group.apply(lambda x: x >= 0).sum() / float(group.count())}
"
16924,38200,How do I draw a reverse triangle using characters and nested while loops in Python code?,"chr = ""*""
size = 5
row = 1
while row <= size:
    col = size - row + 1
    while col <= size:
        print ' ', 
        col = col + 1
    col = 0
    while col <= size-row:
        print chr, 
        col = col + 1
    row = row + 1
    print ''
print ''
"
8773,42879,Python: 2.6 and 3.1 string matching inconsistencies,"    for i in d:
    # The keys in D contain quotes and a newline which need                                                                                                                                                                              
    # to be removed. In v3, newline = 1 char and in v2,                                                                                                                                                                                  
    # newline = 2 char.                                                                                                                                                                                                                  
    if sys.version_info[0] < 3:
        if i[1:-3] != d[i].get('id'):
            print('%s %s' % (i[1:-3], d[i].get('id')))
    else:
        if i[1:-2] != d[i].get('id'):
             print('%s %s' % (i[1:-2], d[i].get('id')))
"
26688,61395,Calling an instance of same class inside class,"class Student(models.Model):
  name = models.CharField(max_length=128, unique=True)
  friends = models.ManyToManyField('self', blank = True)
"
10141,19082,Tornado: Identify / track connections of websockets?,"class WSHandler(tornado.websocket.WebSocketHandler):
    clients = []

    def open(self):
        self.clients.append(self)
        print 'new connection'
        self.write_message(""Hello World"")

    def on_message(self, message):
        print 'message received %s' % message

    def on_close(self):
        self.clients.remove(self)
        print 'closed connection'
"
18058,9236,Returning every instance of whatever's between two strings in a file [Python 3],">>> s = 'testing[\x06I""text in between 1\x06;filler text[\x06I""text in between 2\x06;more filler[\x06I""text in between \n with some line breaks \n included in the text\x06;ending'

>>> import re
>>> p = re.compile('\[\x06I""(.+?)\x06;', re.DOTALL)
>>> print(p.findall(s))
['text in between 1', 'text in between 2', 'text in between \n with some line breaks \n included in the text']
"
7517,82422,How can I serialise a recursive function?,"def create_closure_and_function(*args):
    func = None
    def create_function_closure():
         return func

    closure = create_function_closure.__closure__
    func = types.FunctionType(*args[:-1] + [closure])
    return func
"
32445,38684,Plotting non-numeric x-axis away from the y-axis,"ax.set_xticks(x_range)
"
225,72795,Computing a column from other columns django-tables2," result = tables.Column(verbose_name='The Result', empty_values=())
"
22984,37740,How to plot square function with matplotlib," plt.plot(input_amp, marker='d', color='blue', drawstyle='steps-pre')
"
35093,59365,"Django ""dynamic"" verification form (updated)","class QuestionForm(Form):
    questions = ChoiceField()

    def __init__(self, *args, **kwargs):
        super(QuestionForm, self).__init__(*args, **kwargs)
        self.fields['questions'].choices = set_up_choices() # function that creates list

    clean_questions(self):
        # do your validation of the question selection
        # here you could check whether the option selected matches
        # a correct value, if not throw a form validation exception
        return self.cleaned['questions']
"
25162,65656,"Convert string to list by special symbol including this symbol, miss double symbols (as escaped character)",">>> string = ""^h^c^04^^^13/     \^d^b  /   \^u^u^u^u^u^u^u^l^l\^o^b^r/""
>>> import re
>>> re.findall(r'\^.+?(?=\^|$)', string)
['^h', '^c', '^04', '^^', '^13/     \\', '^d', '^b  /   \\', '^u', '^u', '^u',
 '^u', '^u', '^u', '^u', '^l', '^l\\', '^o', '^b', '^r/']
"
22135,28672,Python regex to get n characters before and after a keyword in a line of text,"with open(file, 'r') as temp:
    for num, line in enumerate(temp, 1):
        for string in lookup:

            # Regex
            searchObj = re.finditer(string, line, re.M | re.I)

            if searchObj:
                for match in searchObj:

                    # Find the start index of the keyword
                    start = match.span()[0]

                    # Find the end index of the keyword
                    end = match.span()[1]

                    # Truncate line to get only 'n' characters before and after the keyword
                    tmp = line[start-n:end+n] + '\n'            
                    print tmp
"
21631,72219,Determine if PyQt is running within Maya,"try:
    from maya import cmds
except ImportError:
    print 'Not Maya'
"
37386,64773,Split string by n when n is random,"string = '123456789'
splitted = []

prev = 0
while True:
    n = random.randint(1,3)
    splitted.append(string[prev:prev+n])
    prev = prev + n
    if prev >= len(string)-1:
        break
print splitted
"
19083,12287,Pyplot - change color of line if data is less than zero?,"import matplotlib.pyplot as plt
import numpy as np

signal = 1.2*np.sin(np.linspace(0, 30, 2000))
pos_signal = signal.copy()
neg_signal = signal.copy()

pos_signal[pos_signal <= 0] = np.nan
neg_signal[neg_signal > 0] = np.nan

#plotting
plt.style.use('fivethirtyeight')
plt.plot(pos_signal, color='r')
plt.plot(neg_signal, color='b')
plt.savefig('pos_neg.png', dpi=200)
plt.show()
"
9945,6107,How to add a set of numbers that the user inputted in Python?,"n1=input('Enter first number ')
n2=input('Enter second number ')
print sum(range(min(n1,n2)+1,max(n1,n2)))
"
13296,27257,Python: Can I have a subclass return instances of its own type for operators defined in a superclass?,"# I stole this decorator from another stackoverflow recipe :) 
def returnthisclassfrom(specials):
  specialnames = ['__%s__' % s for s in specials.split()]
  def wrapit(cls, method):
    return lambda *a: cls(method(*a))
  def dowrap(cls):
    for n in specialnames:
      method = getattr(cls, n)
      setattr(cls, n, wrapit(cls, method))
    return cls
  return dowrap

def int_getslice(self, i, j):
    # NON-pythonic, will return everything inclusive i.e. x[5:3] returns 3 bits, not 2.
    # Because that's what users normally expect.
    # If you're a purist, modify below.
    if i > 1000000 or j > 1000000:
        raise ValueError, 'BitSize limited to 1 million bits'
    lo = min(i,j)
    hi = max(i,j)
    mask = (1<<((hi-lo)+1))-1

    return (self>>lo) & mask

def int_getitem(self, i):
    # Safety limit
    if i > 1000000:
        raise ValueError, 'BitSize limited to 1 million bits'
    return (self>>i)&1

def int_iter(self):
    # since getitem makes it iterable, override
    raise AttributeError, 'int object is not iterable'

@returnthisclassfrom('abs add and div floordiv lshift mod mul neg or pow radd rand rdiv rdivmod rfloordiv rlshift rmod rmul ror rpow rrshift rshift rsub rxor rtruediv sub truediv xor trunc')
class BitSliceInt(long):
  __getslice__ = int_getslice
  __getitem__ = int_getitem
  __iter__ = int_iter
"
9937,80457,Heat map of binary data using R or Python,"library(reshape)
library(ggplot2)

dat <- data.frame(weather=c(""Rain"",""Hail"",""Sunny""), Germany = c(0,1,0), Italy = c(1,0,0))

melt.data<-melt(dat, id.vars=""weather"", variable_name=""country"")

qplot(data=melt.data,
      x=country,
      y=weather,
      fill=factor(value),
      geom=""tile"")+scale_fill_manual(values=c(""0""=""white"", ""1""=""red""))
"
16534,33101,How to take elements by Selenium which created by JS script,"driver.switch_to.frame(driver.find_element_by_tag_name(""iframe""))
driver.find_element_by_id(""user_email"").send_keys(""username"")
driver.find_element_by_id(""user_password"").send_keys(""password"")
// do whatever else
driver.switch_to.default_content()
"
37493,66131,Editing the contents of tuples,"m = []
for i,(k, v) in enumerate(n):
    n[i] = (str(k)+'B', str(v) + 'B')
    m.append(n[i])
"
33898,19593,How to speed up: opening a data file in python,"import xlrd
try:
    work_book = xlrd.open_workbook('file_name.xls', on_demand=True)
finally:
    work_book.release_resources()
"
22875,32474,How to map data from Parent table to its child table on change function,"def create(self, cr, uid, vals, context=None):
    obj_master = super(parent_table,self).create(cr,uid, vals, context=context)
    obj_child = self.pool.get('child.table') 
    obj_child.create(cr, uid,{'field_name':obj_child.field_value......})
"
14411,80362,pygtk: how to force message dialogs to show up in the center of the screen?,"#!/usr/bin/env/python
par = self.gui.get_widget('your_parent_window')

msg = gtk.MessageDialog(type=gtk.MESSAGE_INFO, buttons = gtk.BUTTONS_OK, parent=par)
if msg.run():
    msg.destroy()
    return None
"
8857,650,Fill a HDD with charcter 0,"format e: /fs:NTFS /p:2
"
14318,68620,How to convert a 1 channel image into a 3 channel with opencv2?,"img = cv2.imread(""D:\\img.jpg"")
gray = cv2.cvtColor(img, cv.CV_BGR2GRAY)

img2 = np.zeros_like(img)
img2[:,:,0] = gray
img2[:,:,1] = gray
img2[:,:,2] = gray

cv2.circle(img2, (10,10), 5, (255,255,0))
cv2.imshow(""colour again"", img2)
cv2.waitKey()
"
29063,47664,"In PyMongo, how to get the _id of the document if found, else insert and get the _id of the inserted document","story = ""this is a very long story""
id = stories_col.find_one_and_update({
    'story': story,
}, {
    '$setOnInsert': { 'story': story }
}, upsert=True, return_document=ReturnDocument.AFTER)
"
16709,31342,Plotting contour and wireframe plots with Matplotlib,"# Number of uniformly ditributed random numbers
n = 2000

def func_vec(x1s, x2s):
    return x1s * x1s + 4 * x2s * x2s

np.random.seed()
x1s = np.random.uniform(-1, 1, n)
x2s = np.random.uniform(-1, 1, n)
ys = func_vec(x1s, x2s)

fig = plt.figure(22)

# Scatter
ax1 = fig.add_subplot(1, 2, 1)
ax1.scatter(x1s, x2s, color = 'g', s = 2, edgecolor = 'none')
ax1.set_ylim([-1,1])
ax1.set_xlim([-1,1])

# Contour
xi = np.linspace(-1,1,20)
yi = np.linspace(-1,1,20)
zi = griddata((x2s, x1s), ys, (xi[None,:], yi[:,None]), method = 'cubic')
ax1.contour(xi, yi, zi, 6, linewidths = 1, colors = ('#0000ff', '#0099ff', '#009999', '#999900', '#ff9900', '#ff0000'))

# 3D visualization
ax2 = fig.add_subplot(1, 2, 2, projection = '3d')
X, Y = np.meshgrid(xi, yi)
ax2.plot_wireframe(X, Y, zi, rstride = 1, cstride = 1)
ax2.view_init(28, -144) 

plt.show()
"
31503,19934,only parse a specific subtree of an XML file,"context = etree.iterparse(xmlfile, tag=""yourSubTree"")
action, elem = context.next()
etree.iterwalk(elem, ...)...
"
35325,13758,"Python Multithreading, run two functions at the same time","import socket 
import threading

class Client(threading.Thread):

    def __init__(self):
        self.socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        self.socket.connect(('127.0.0.1', 1234))
        print('Client connected to server')

        t = threading.Thread(target = self.read)
        t.daemon = True # helpful if you want it to die automatically
        t.start()

        t2 = threading.thread(target = self.write)
        t2.daemon = True
        t2.start()

    def read(self):
        while True:
            data = self.socket.recv(1024)
            if data:
                print('Received:', data)

    def write(self):
        while True:
            message = input()
            self.socket.send(bytes(message, 'utf-8'))


client = Client()
"
126,26717,How can I open a Text file and find a specific strings value?,"f=open(""somesettings.ini"", ""r"")
for l in f.readlines():
    If ""Minimum Free Space"" in l:
        index=l.find('=')
        res=l[index+1:]
        break
f.close()
"
18156,79225,Factorial calculation using Python,"while True:
    N = input(""Please input factorial you would like to calculate: "")
    try: # try to ...
        N = int(N) # convert it to an integer.
    except ValueError: # If that didn't succeed...
        print(""Invalid input: not an integer."")
        continue # retry by restarting the while loop.
    if N > 0: # valid input
        break # then leave the while loop.
    # If we are here, we are about to re-enter the while loop.
    print(""Invalid input: not positive."")
"
10757,29524,Why is set_xlim() not setting the x-limits in my figure?,"fig=plt.figure()
ax=fig.add_subplot(111)
ax.plot(x_data,y_data)
ax.set_xlim(xmin=0.0, xmax=1000)
plt.savefig(filename)
"
5360,68826,Why python argparse module does not parse hash mark?,"python filename.py -hashtags \#one \#two \#three
"
30089,18907,"Add axis label to plot in matplotlib, by passing them as arguments to plot()","import matplotlib.pyplot as plt
def plot_something(x, y, **kwargs):
    title  = kwargs.pop( 'title'  )
    xlabel = kwargs.pop( 'xlabel' )
    ylabel = kwargs.pop( 'ylabel' )
    plt.figure()
    plt.plot(x, y, **kwargs)
    fig = plt.gcf()
    for axis in fig.axes:
        axis.set_title( title )
        axis.xaxis.set_label( xlabel )
        axis.yaxis.set_label( ylabel )
    return axis


plot_conf = {'title': 'Blabla', 'xlabel':'Time (s)', 'ylabel': 'Speed (m/s)'}
x = [1.,2.,3.]
y = [1.,4.,9.]
axis = plot_something(x=x,y=y, **plot_conf)
"
7595,62553,Sqlalchemy array_length function,"data = ssn.query(models.MedicationLog.dose_date,
                         func.sum(func.array_length(
                             models.MedicationLog.dose_taken_times, ARRAY_DEPTH
                         )).label('dose_taken_times')).order_by(models.MedicationLog.dose_date).\
        group_by(models.MedicationLog.dose_date).all()
"
12537,61130,How to create a filename with a trailing period in Windows?,"open('\\\\?\\C:\\whatever\\test.','w')
"
35387,64286,Spark Streaming application uses all the workers,"spark.cores.max=<value>
"
35475,64813,Pandas Dataframe - How to combine multiple rows to one,"df = pd.DataFrame({'A': [30, 30, 26, 26, 26, 26], 
                   'B': [60538815980, 7410811099, 2238403510, 
                         2006613744, 2006618783, 2006613743]})

gb = df.groupby('A')
df2 = pd.DataFrame([df.ix[gb.groups[n], 'B'].values for n in gb.groups], 
                   index=gb.groups.keys())
df2.columns = [""C_"" + str(i + 1) for i in df2.columns]
df2.index.name = ""A""

>>> df2
            C_1         C_2         C_3         C_4
A
26   2238403510  2006613744  2006618783  2006613743
30  60538815980  7410811099         NaN         NaN
"
9018,64334,Python newbie: creating an empty set,">>> s = set()
"
7251,2512,Print character to a certain point on console in Python?,"import curses

stdscr = curses.initscr()

def print_char(x, y, char):
    stdscr.addch(y, x, char)
"
3233,31920,place top x-axis label on the inside of the graph,"import matplotlib.pyplot as plt

fig=plt.figure()
ax1=fig.add_subplot(111)
ax2=ax1.twiny()

ax1.set_xlabel('xlabel 1')
ax2.set_xlabel('xlabel 2')

ax2.xaxis.set_label_coords(0.5,0.95)

ax1.set_title('my title')

plt.show()
"
16531,3714,Limiting scope of Python import,"def prepare_parser():
    from pyparsing import Word, alphas, Optional, ...
    # do stuff, and get the final thing to return
    return ...

parser = prepare_parser()
"
28746,70489,Split a phrase into words and write a TXT,"def writetxt(phrase):
    f = open(""file.txt"", ""a"")
    phrase = f.read()
    palabras = phrase.split()
    for word in palabras:
        print (word)
        f.write(word)
    f.close()
"
26104,45945,"Python: How to create a dictionary that contains some functions, without running them on assignment?","function_list = {0:{""func"":power_off},
                 1:{""func"":image_capture, ""args"":(100,1000,100,100)},
                 2:{""func"":video_record, ""args"":(100,100)},
                 3:{""func"":image_settings},
                 4:{""func"":video_settings},
                 5:{""func"":device_settings} }

f = function_list[current_selection]
if ""args"" in f:
    f[""func""](*f[""args""])
else:
    f[""func""]()
"
6431,27273,Python - Efficiently building a dictionary,"import os

data_path = '/data'

# option 1 using nested list comprehensions**
data_files = (os.path.join(root,f) for (root, dirs, files) in os.walk(data_path)
                                   for f in files)   # can use [] instead of ()

# option 2 using nested for loops
data_files = []
for root, dirs, files in os.walk(data_path):
    for f in files:
        data_files.append(os.path.join(root, f))

for data_file in data_files:
    # ... process data_file ...
"
2537,69099,Conversion a hex string adding 0x30 to each byte,">>> chrmap = {'A': '\x3a', 'B': '\x3b', 'C': '\x3c', 'D': '\x3d', 'E': '\x3e', 'F': '\x3f'}
>>> ''.join(chrmap.get(c, c) for c in '03FE5')
'03?>5'
"
32198,24054,generate update query using django orm,"Model.objects.filter(id=id).update(field=F('field') +1))
"
15594,53343,Split list of tuples where second elment is greater than threshold,"import itertools
A = [list(group) for val, group in itertools.groupby(zp, lambda x: x[1] > 1) if val]

# [[(1.36, 2), (1.37, 3), (1.37, 4), (1.39, 5), (1.38, 6), (1.4, 7), (1.41, 8), (1.42, 9), (1.43, 10)], 
#  [(1.49, 2), (1.5, 3), (1.51, 4)],
#  [(1.55, 2), (1.56, 3), (1.57, 4)], 
#  [(1.63, 2), (1.64, 3), (1.65, 4)], 
#  [(1.69, 2), (1.7, 3), (1.71, 4)]]
"
27716,69459,Using matplotlib and point to specific value on the x-axis,"import numpy as np

import matplotlib.pyplot as plt

# Generate some data
x = np.linspace(0, 10, 1000)
y = np.sin(np.exp(0.3*x))

fig, ax = plt.subplots()

ax.plot(x, y)

ax.set_ylim(-2,2)

ax.annotate('First maxima', 
            xy=(np.pi/2., 2), 
            xytext=(np.pi/2., 2.3), 
            arrowprops = dict(facecolor='black', shrink=0.05))

plt.show()
"
7169,8038,cPickle file using protocol option,"import cerealizer
#import cPickle as cerealizer

def save(data, filename):
    f = open(filename,""wb"")
    cerealizer.dump(data, f, protocol=2)
    f.close()

def load(filename):
    f = open(filename,""rb"")
    p = cerealizer.load(f)
    f.close()
    return(p)

if __name__ == ""__main__"":
    import PIL.Image
    import cStringIO as StringIO

    stringIO = StringIO.StringIO()
    im = PIL.Image.open(""picture.jpg"")
    im.save(stringIO, ""JPEG"")

    stringIO.seek(0)
    save(stringIO.read(), ""testCerealizerIm.txt"")

    binaryImageData = load(""testCerealizerIm.txt"")

    stringIO2 = StringIO.StringIO()
    stringIO2.write(binaryImageData)

    stringIO2.seek(0)
    im = PIL.Image.open(stringIO2)
    im.show()
"
39659,20655,python autopy problems/confusion,"import autopy
from time import sleep

def color_checker():
    color_grabber = hex(autopy.bitmap.Bitmap.open(""screen1.png"").get_color(292,115))
    return color_grabber

def mouse_move_click():
    autopy.mouse.smooth_move(433,320)
    autopy.mouse.click()

def screen_grab():
    autopy.bitmap.capture_screen().save(""screen1.png"")  

def the_ifs(color):
    if color == ""0xffcb05"":
        mouse_move_click()

while 1==1:
    sleep(1)
    screen_grab()
    color = color_checker()
    the_ifs(color)
    print color
"
23629,18607,How to copy multiple XML nodes to another file in Python,"import xml.etree.ElementTree as ET

def find_child(node, with_name):
    """"""Recursively find node with given name""""""
    for element in list(node):
        if element.tag == with_name:
            return element
        elif list(element):
            sub_result = find_child(element, with_name)
            if sub_result is not None:
                return sub_result
    return None

def replace_node(from_tree, to_tree, node_name):
    """"""
    Replace node with given node_name in to_tree with
    the same-named node from the from_tree
    """"""
    # Find nodes of given name ('car' in the example) in each tree
    from_node = find_child(from_tree.getroot(), node_name)
    to_node = find_child(to_tree.getroot(), node_name)

    # Find where to substitute the from_node into the to_tree
    to_parent, to_index = get_node_parent_info(to_tree, to_node)

    # Replace to_node with from_node
    to_parent.remove(to_node)
    to_parent.insert(to_index, from_node)

def get_node_parent_info(tree, node):
    """"""
    Return tuple of (parent, index) where:
        parent = node's parent within tree
        index = index of node under parent
    """"""
    parent_map = {c:p for p in tree.iter() for c in p}
    parent = parent_map[node]
    return parent, list(parent).index(node)

from_tree = ET.ElementTree(file='sample1.xml')
to_tree = ET.ElementTree(file='sample2.xml')

replace_node(from_tree, to_tree, 'car')

# ET.dump(to_tree)
to_tree.write('output.xml')
"
15172,70613,getting variable,"class A():
    def __init__(self):
        self.var1 = 12
        self.var2 = C()

    def start(self):
        self.var1=11
        B(self)             # pass this instance into the initialisation of B

class B():
    def __init__(self, a):
        self.a = a          # save reference to the A() instance

    def doSomething(self):
        varXX = self.a.var2 
"
39431,67593,"Django add an underscore in Foreign key field, is there a way to remove it?","role = models.ForeignKey(UserRole, on_delete=models.CASCADE, default=None, blank=True, db_column='roleid')
"
16792,40114,Split the strings in two parts,"converts_time = time.strftime(""%I"").lstrip('0') + str("":"") + str(stop_time.split("":"")[0]) + time.strftime(""%p"")
"
2925,3563,"Reading text file using python, and matching against a value threshold","subjects = [allmyfilenames]
    for subj in subjects:
        with open('C:/%s.txt' %subj, 'r') as datafile:
            data = json.load(datafile)
            if data[0]['parameter']['mean'] > 0.5:
                print subj
"
3282,10942,PEP8 formatting: long line with indentation and nested brackets,"d = self.monster_deaths.pop(...)
print(""{}! The {} {} {}"".format(self.monster.battlecry(),
                                self.monster.color,
                                type(self.monster).name,
                                d))
"
39700,56330,Initialising the flask-wtf form when the page loads,"@app.route('/index')
def index():
    form = AddExpenses()
    allnames = getSalesman()
    form.salesperson.choices = [names for names in allnames]
    ...
"
14293,68479,Get parent function,"import inspect

def first():
    return second()

def second():
    return inspect.getouterframes( inspect.currentframe() )[1]

first()[3] # 'first'
"
729,27170,"Add DataFrame column with particular numeric index, not in-place",">>> a.join(pd.DataFrame({6: [1,2]}))
   4  0  1  2  3  6
0  1  1  2  3  4  1
1  2  2  3  5  4  2

>>> a
   4  0  1  2  3
0  1  1  2  3  4
1  2  2  3  5  4
"
7850,77641,FAiled to attach Visual Studio 2008 to an application with IronPython on Vista,"using System.Diagnostics;

         Process p = new Process();

         ProcessStartInfo pp = new ProcessStartInfo();

         pp.Verb = ""runas"";//Invoke as Admin

         //Do other initialzation.

         p.StartInfo = pp;

         p.Start();
"
76,10235,parsing list in python,"[names[0]] + [n for n in names[1:] if n != names[0]]
"
18856,2000,Python matplotlib superimpose scatter plots,"import numpy as np
import pylab as plt

X = np.linspace(0,5,100)
Y1 = X + 2*np.random.random(X.shape)
Y2 = X**2 + np.random.random(X.shape)

plt.scatter(X,Y1,color='k')
plt.scatter(X,Y2,color='g')
plt.show()
"
5237,3690,How to add a value to a specific line in a file in python?,"def replace_score(file_name, line_num, text):
  f = open(file_name, 'r')
  contents = f.readlines()
  f.close()

  contents[line_num] = text+""\n""

  f = open(file_name, ""w"")
  contents = """".join(contents)
  f.write(contents)
  f.close()

replace_score(""file_path"", 10, ""replacing_text"")
"
25597,34196,How do I wrap a string in a file in Python?,">>> from cStringIO import StringIO
>>> f = StringIO('foo')
>>> f.read()
'foo'
"
6594,62595,QPushButton FocusIn generates which signal?,"class FocusEmittingButton(QPushButton):
    #...
    def focusInEvent(self, event):
        # emit your signal
"
21745,66526,how to copy some csv file colums into another csv file with python?,"colNums = [0, 2, 6]
to_write = [ col for i, col in enumerate(zip(*my_reader)) if i in colNums ]
"
8548,9022,Django. Best way to have unique email in User model?,"# These are not needed in your view method
username = form.clean_username()
email = form.clean_email()
password = form.clean_password2()
"
11305,35319,"using configparser in python class, good or bad?","class Configuration(object):
    def __init__(self, config_parser):
        self.optionA = config_parser.get(""root"", ""AProperty"")
        self.optionB = config_parser.get(""root"", ""BProperty"")
        self.optionX = config_parser.get(""root"", ""XProperty"")

    @property
    def optionY(self):
        return self.optionX == 'something' and self.optionA > 10


class FooClass(object):
    def __init__(self, config):
        self._config = config

    def _foo_bar_method(self):
        some_property = self._config.optionY
        ....

config = Configuration(config_parser)
foo = FooClass(config)
"
21186,26905,pandas - count size and frequency of different groupby levels,"df.groupby(['GridCode','DLang']).count().unstack().fillna(0)

         User_ID            
DLang         ca en es ja zh
GridCode                    
3              0  0  1  1  1
4              0  0  1  0  0
6              0  1  0  0  0
9              3  1  0  0  0
"
28929,18950,sqlalchemy with dynamic mapping and complex object querying,"t_query = session.query(func.strftime('%Y-%m-%d', getattr(MyBaseClass, ""period"")),
                        func.sum(getattr(MyBaseClass, ""foo"")),
                        func.sum(getattr(MyBaseClass, ""other_name"") * getattr(MyBaseClass, ""value_one""))
                        )
"
2892,4944,Python datetime.strptime() Eating lots of CPU Time,"month_abbreviations = {'Jan': 1, 'Feb': 2, 'Mar': 3, 'Apr': 4,
                       'May': 5, 'Jun': 6, 'Jul': 7, 'Aug': 8,
                       'Sep': 9, 'Oct': 10, 'Nov': 11, 'Dec': 12}
year = int(line[7:11])
month = month_abbreviations[line[3:6]]
day = int(line[0:2])
hour = int(line[12:14])
minute = int(line[15:17])
second = int(line[18:20])
new_entry['time'] = datetime.datetime(year, month, day, hour, minute, second)
"
36493,23693,Memory intensive Python program,"kill_list = []
try:
    while True:
        kill_list.append(1)
except MemoryError:
    pass
"
27422,79829,Python urllib2 Progress Hook,"import urllib2, sys

def chunk_report(bytes_so_far, chunk_size, total_size):
   percent = float(bytes_so_far) / total_size
   percent = round(percent*100, 2)
   sys.stdout.write(""Downloaded %d of %d bytes (%0.2f%%)\r"" % 
       (bytes_so_far, total_size, percent))

   if bytes_so_far >= total_size:
      sys.stdout.write('\n')

def chunk_read(response, chunk_size=8192, report_hook=None):
   total_size = response.info().getheader('Content-Length').strip()
   total_size = int(total_size)
   bytes_so_far = 0

   while 1:
      chunk = response.read(chunk_size)
      bytes_so_far += len(chunk)

      if not chunk:
         break

      if report_hook:
         report_hook(bytes_so_far, chunk_size, total_size)

   return bytes_so_far

if __name__ == '__main__':
   response = urllib2.urlopen('http://www.ebay.com');
   chunk_read(response, report_hook=chunk_report)
"
19920,62408,Printing json results in python,"#First you need to see what is the response for your login call
login_response = s.login(username, password)
print str(login_response)

#if you wish to access some value in this response
value = login_response.get(""the_value"", {the default value})

if value: #incase you want to make sure you logged in correctly   
    json_response = s.add_friend(friend)
    print str(json_response)
"
21357,56918,Hadoop MapReduce how to pass a string argument to the Mapper,"-mapper '/usr/lib/python_2.7.3/bin/python mapper.py myargs'
"
13231,22614,Django Grab Apache User,"MIDDLEWARE_CLASSES = (
    '...',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.auth.middleware.RemoteUserMiddleware',
    '...',
)

AUTHENTICATION_BACKENDS = (
    'django.contrib.auth.backends.RemoteUserBackend',
)
"
8286,34917,Showing and returning the number of a repeated string on a function?,"x=[""fizz"",""bear"",""fizz""]

def fizz_count(x):
    count= 0
    for e in x:
        if e=='fizz':
            count = count + 1
    return count

print fizz_count(x)
"
1663,55275,"A Label in a Frame in a window won't stretch, why?","upper_frame.grid(row=0, column=0, sticky='ew')
..
mylabel.grid(row=0, column=0, sticky='ew')
"
6020,28444,Parsing Multipart emails in python and saving attachments,"mail = email.message_from_string(email_body)
    for part in mail.walk():
        c_type = part.get_content_type()
        c_disp = part.get('Content-Disposition')

        if c_type == 'text/plain' and c_disp == None:
            body = body + '\n' + part.get_payload()
        else:
            continue
"
21478,24088,Running two threads which are dependent on each other in a loop,"import socket
from multiprocessing import Process, Queue, Value
from ctypes import c_bool

HOST = '198.51.100.0'
PORT = 8080

# This function will be run in a child process
def update_proc(data_queue, update_queue, quit_flag):
    while not quit_flag.value:
        data = data_queue.get()
        # do something with the data...
        update_queue.put(data)
    print ""Closing child update process""

# This function will be run in a child process
def activate_proc(update_queue, quit_flag):
    while not quit_flag.value:
        data = update_queue.get()
        # do something with the data...
    print ""Closing child activate process""

# main process begins execution here, if module is run from the terminal
if __name__ == ""__main__"":
    # Connect to remote host over TCP
    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client.connect((HOST,PORT))

    # Set up a Queue to pass data to the update process, and another one
    # for the two children to communicate
    data_queue = Queue()
    update_queue = Queue()

    # The quit_flag Value is a *very* primitive way to signal the child 
    # processes to quit. I'm sure there are better ways to do this, but I'm 
    # tired and can't think of any right now.
    quit_flag = Value(c_bool, False)

    # Create two child processes, pass a reference to the Queue to each
    update = Process(target=update_proc, args=(data_queue, update_queue, quit_flag))
    activate = Process(target=activate_proc, args=(update_queue, quit_flag))

    update.start()
    activate.start()

    # Read data from the TCP socket, push it onto the data_queue
    while True:
        client.sendall(""loc\n"")
        data = client.recv(8192)
        if not data:
            print ""network connection closed by client""
            break
        data_queue.put(data)

    # Join with child processes before closing
    print ""All done, closing child processes""
    update.join()
    activate.join()
"
12877,65993,Comparison of bigrams between lists,"List2 = {' '.join(x) for x in List2}
isct = set(List1) & List2
"
10242,31218,Use findall and sub functions from regex to search and replace exact string,"import re
# must use raw strings for paths, otherwise we need to
# escape \ characters
input1 = r""C:\Users\sony\Desktop\PBUSH1.BDF"" 
input2 = r""C:\Users\sony\Desktop\PBUSH2.BDF""

with open(input1) as f1, open(input2) as f2:
    dat1 = f1.read()
    dat2 = f2.read()

# use finditer instead of findall so that we will get 
# a match object for each match.
# For each matching line we also have one subgroup, containing the
# ""PBUSH   NNN     "" part, whereas the whole regex matches until
# the next end of line
matches = re.finditer('^(PBUSH\s+[0-9]+\s+).*$', dat1, flags=re.MULTILINE)

for match in matches:
    # for each match we construct a regex that looks like
    # ""^PBUSH   123      .*$"", then replace all matches thereof
    # with the contents of the whole line
    dat2 = re.sub('^{}.*$'.format(match.group(1)), match.group(0), dat2, flags=re.MULTILINE)

with open(input2, 'w') as outf:
    outf.write(dat2)
"
31497,22898,"How can I determine a Unicode character from its name in Python, even if that character is a control character?",">>> u""\N{NO-BREAK SPACE}""
u'\xa0'
"
1321,7365,Python decorator internally calls wrong function,"from functools import wraps

def require_auth(roles=(Roles.USER,), *args, **kwargs):

    def call(f, *args, **kwargs):
        return f(*args, **kwargs)

    def deco(f):
        @wraps(f)
        def wrapped_f(request, *a, **kw):
            # do your authentication here
            return call(f, request, *a, **kw)

        return wrapped_f

    return deco
"
37221,28324,How to process GET Query String with Flask,"from flask import Flask, jsonify, request

app = Flask(__name__)

@app.route(""/"")
def hello():
    all_args = request.args.lists()
    return jsonify(all_args)
"
37068,56962,Running an long-running Python function from Django,"from django.shortcuts import render
from multiprocessing import Process
import time

def do_job(seconds):
    """"""
    This is the function that will run your three-hour job.
    """"""
    time.sleep(seconds)                     # just sleep to imitate a long job
    print 'done!'                           # will go to stdout, so you will see this
                                            # most easily in test on local server

def test(request):
    """"""
    This is your view.
    """"""
    # In place of this comment, check the database.
    # If job already running, return appropriate template.
    p = Process(target=do_job, args=(15,))  # sleep for 15 seconds
    p.start()                               # but do not join
    message = 'Process started.'
    return render(request, 'test.html',
                  {'message': message})
"
5005,15349,Script for opening up a Google search in a specific browser,"import webbrowser
url = ""https://www.google.com.tr/search?q={}"".format(""Raspberry Pi"") 
b = webbrowser.get('lynx')
b.open(url)
"
25443,82661,Using iterator to sum arrays in python,"sum = np.zeros(len(data[0]))

for vector in data[1:]:
    vector = map(float, vector)
    sum = np.add(vector, sum)
"
31758,44717,How to I modify a class of a library to get it to use my extension of another library class?,"from django.forms import forms

class MyBoundField(object):
    pass

forms.BoundField = MyBoundField
"
18805,16302,Unique Function Iterator for Scheme and Python,"def unique(*args):
    result = set()  # A set guarantees the uniqueness of elements
    result = result.union(*args)  # Include elements from all args
    result = list(result)  # Convert the set object to a list
    return result
"
32928,66399,Sorting Values in a dictionary to retrieve the maximum value for each key,"In [29]: dic = {'bob':[0,5,1], 'annie':[2,4,0], 'charles':[0,7,0]}

In [30]: for k in sorted(dic.keys()):
    print k, max(dic[k])
   ....:     
annie 4
bob 5
charles 7
"
10315,56661,Python: display the time in a different time zone,">>> from datetime import datetime, timedelta
>>> from pytz import timezone
>>> import pytz
>>> utc = pytz.utc
>>> utc.zone
'UTC'
>>> eastern = timezone('US/Eastern')
>>> eastern.zone
'US/Eastern'
>>> amsterdam = timezone('Europe/Amsterdam')
>>> fmt = '%Y-%m-%d %H:%M:%S %Z%z'

>>> loc_dt = eastern.localize(datetime(2002, 10, 27, 6, 0, 0))
>>> print loc_dt.strftime(fmt)
2002-10-27 06:00:00 EST-0500

>>> ams_dt = loc_dt.astimezone(amsterdam)
>>> ams_dt.strftime(fmt)
'2002-10-27 12:00:00 CET+0100'
"
25828,22723,ManyToOneField in Django,"class Group(models.Model):
    name = models.CharField(max_length=64)

class User(models.Model):
    name = models.CharField(max_length=64)
    group = models.ForeignKey(Group)

g = Group.objects.get(id=1)
print g.user_set.all()  # prints list of all users in the group
"
20881,35865,"Python: Trying to identify specific row/column in csv and store it as a variable, then print to a txt file in a sentence.","import csv

with open('linklist.csv', 'rb') as input_file, \
        open('Link Statements9.txt', 'w') as output_file:

    for row in csv.reader(input_file, delimiter=',', quoting=csv.QUOTE_NONE):
        link_name, from_unit, to_unit, rate = row
        output_file.write(""Establish link %s at %s Kbps to Unit %s.\n""
                          % (link_name, rate, to_unit))
        output_file.write(""Establish link %s at %s Kbps from Unit %s.\n""
                          % (link_name, rate, from_unit))
"
13831,42511,Iterating over zipped lists in python,"for i, (entry, exit, met) in enumerate(t.stats):
    t.stats[i] = (entry, exit, 1)
"
26900,33409,Using ufw (UncomplicatedFirewall) as an api,"simon@mymachine:~$ python
Python 2.6.5 (r265:79063, Apr 16 2010, 13:57:41) 
[GCC 4.4.3] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> import ufw
>>> ufw.__file__
'/usr/lib/python2.6/dist-packages/ufw/__init__.pyc'
>>> 
"
25036,5076,Send additional variables to page response in Django CMS,"context = {'books': Books.objets.all()}
"
9632,77552,Adding a small photo/image to a large graph in Matplotlib/Python,"import matplotlib, scipy
fig = matplotlib.figure()
ax = fig.add_axes([0.1,0.1,0.8,0.8])
axicon = fig.add_axes([0.4,0.4,0.1,0.1])
ax.plot(range(5), [4,2,3,5,1])
axicon.imshow(scipy.randn(100,100))
axicon.set_xticks([])
axicon.set_yticks([])
fig.show()
"
5233,28745,Return or break as a side effect in python mock?,"import sys
import threading
import unittest
from unittest.mock import patch

class T(threading.Thread):
    def __init__(self,  *args, **kwargs):
        super(T, self).__init__(*args, **kwargs)
        self._interrupt = threading.Event()
        self.started = threading.Event() #Used to be sure that we test run() behavior 
        self.started.clear()
        self.terminated = False

    def interrupt(self):
        self._interrupt.set()

    def run(self, *args, **kwargs):
        self._interrupt.clear()
        self.started.set()
        while not self._interrupt.is_set():
            self._interrupt.wait(timeout=1)
        self.terminated = True
        sys.exit()


class TestInterrupt(unittest.TestCase):

    @patch(""sys.exit"", side_effect=Exception(""Ignore it... just close thread""))
    def test_interrupt(self, mock_sys_exit):
        t = T()
        t.start()
        if not t.started.is_set():
            t.started.wait(timeout=0.2)
        self.assertTrue(t.started.is_set(), ""t not started!"")
        #Ok t is in run() main cycle: we can test interrupt
        t.interrupt()
        t.join(0.1)
        self.assertTrue(t.terminated)
        self.assertFalse(t.isAlive())
"
25564,39520,Accessing values in nested dictionary,">>> d= {('ALEXANDER', 'MALE'): {'2010': ('2619', None), '2011': ('2494', None), '2009': ('2905', None)}}
>>> for mainKey in d:
    print(mainKey)
    for key,val in d[mainKey].items():
        print(key,val[0])


('ALEXANDER', 'MALE')
2011 2494
2009 2905
2010 2619
"
2911,44580,ssh using python without RSA keys,"import pexpect

child = pexpect.spawn('ssh myname@host.example.com')
child.expect('Password:')
child.sendline(mypassword)
child.interact()
"
7452,2397,Split line by +-*/() (as delimeters) without omitting them in python,">>> re.findall(r'\d+|[-+/*()]', infix)
['(', '22', '+', '33', ')', '*', '44', '/', '300']
"
21495,25307,Python script to reboot server N times,"#!/usr/bin/env bash
COUNTER=$1
SERVER=$2
COMMAND=""sudo reboot""
SLEEP_DURATION=60

echo ""Working on $SERVER $COUNTER times""

while (( $COUNTER > 0 )); do
    ping -c 1 -t 5 $SERVER;
    _ping_r=$?
    if (( $_ping_r < 1 )); then
        echo ""Rebooting $SERVER""
        ssh $SERVER $COMMAND;
        let COUNTER=COUNTER-1
    else
        echo ""Couldn't ping $SERVER.  Taking a quick nap and trying again.""
        sleep 5
    fi
    sleep $SLEEP_DURATION;
done

echo ""Done working on $SERVER""
"
22030,32949,Check for a string in if-statement,"while True:
    inp = raw_input(""Enter a value between 1 and 10 million: "")

    if not inp.isdigit():
        print ""Must be an integer value!""
        continue # each of these continue statements acts like a ""failed, try again""

    inp = int(inp)

    if inp < 1:
        print ""Must be higher than 1""
        continue # same for this one

    if inp > 10000000:
        print ""Must be less than 10.000.000""
        continue # and this one

    # execute the rest of the code
"
2604,56646,ReferenceFields with MongoEngine,"account_ids = [item.pk for item in group.accounts]
accounts_not_in_group = UserAccount.objects(_id__nin=account_ids)
"
2985,39533,When to use ast.literal_eval,"import timeit as tt

lst_size = 10**5

# Set the percentages of input tried by user.
percentages = {'ints': .10,
               'floats': .10,
               'strings': .80}
assert 1 - sum(percentages.values()) < 0.00000001

ints_floats_strings = {k: int(v*lst_size) for k, v in percentages.items()}

setup = """"""
import ast

def f(x):
    try:
        float(x)
    except:
        pass

def g(x):
    try:
        ast.literal_eval(x)
    except:
        pass

l = [str(i) for i in range({ints})]
l += [str(float(i)) for i in range({floats})]
l += [']9' for _ in range({strings}//2)] + ['a' for _ in range({strings}//2)]
"""""".format(**ints_floats_strings)

stmt1 = """"""
for i in l:
    f(i)
""""""

stmt2 = """"""
for i in l:
    g(i)
""""""


reps = 10**1
t1 = tt.timeit(stmt1, setup, number=reps)
t2 = tt.timeit(stmt2, setup, number=reps)

print(t1)
print(t2)

print(t2/t1)
"
27311,77854,Getting a datetime in this format and converting to 4 byte hex,"import time
print hex(int(time.mktime(time.strptime('1999-12-31 15:00:00', '%Y-%m-%d %H:%M:%S'))) - time.timezone)
"
21145,55189,convert dec number to 6 bit binary number,"'{0:06b}'.format(63)
"
10226,15363,Matplotlib: -- how to show all digits on ticks?,"import matlplotlib is plt

plt.plot([1000, 1001, 1002], [1, 2, 3])
plt.gca().get_xaxis().get_major_formatter().set_useOffset(False)
plt.draw()
"
25596,78029,"PYTHON - ""If a=3 remove list number 3""",">>> lst = [6, 5, 4, 3, 2, 1]
>>> variable = 3
>>> if variable == 3:
        del lst[1]
>>> lst
[6, 4, 3, 2, 1]
"
10458,19489,is there a pythonic way to change scalar and 0d-array to 1d array?,"def foo3(a):
    return a * (a >= 5)

foo3(4)
=> 0

foo3(6)
=> 6

foo3(np.array(3))
=> 0

foo3(np.array(6))
=> 6

foo3(np.array([1, 5]))
=> array([0, 5])
"
34590,30900,How to write the resulting RDD to a csv file in Spark python,"def toCSVLine(data):
  return ','.join(str(d) for d in data)

lines = labelsAndPredictions.map(toCSVLine)
lines.saveAsTextFile('hdfs://my-node:9000/tmp/labels-and-predictions.csv')
"
23614,60995,Django Bounded forms in Class based views - CreateView class,"def get_initial(self):
    if request.GET.get('codereview-get'):
        initial = {'stream_name': 'TROI'}
    else:
        initial = {}
    return initial
"
4405,31884,Python - Execute command set results as variable,">>> blah=""ajsdlk akajl <ajksd@ajksldf.com>""
>>> blah.split('<')[1].split('>')[0]
'ajksd@ajksldf.com'
"
30200,39356,Python clock function on FreeBSD,">>> import time
>>> time.clock()
0.11
>>> time.clock()
0.11
>>> time.clock()
0.11
>>> for x in xrange(100000000): pass
... 
>>> time.clock()
7.7800000000000002
>>> time.clock()
7.7800000000000002
>>> time.clock()
7.7800000000000002
"
19032,30581,Random sample from list of lists,"lists = random.sample(x, 2)
# now we swap two random elements between lists[0], lists[1]
"
20182,37765,Flask-Sqlalchemy setup engine configuration,"class SQLiteAlchemy(SQLAlchemy):
    def apply_driver_hacks(self, app, info, options):
        options.update({
            'isolation_level': 'AUTOCOMMIT', 
            'encoding': 'latin1', 
            'echo': True
        })
        super(SQLiteAlchemy, self).apply_driver_hacks(app, info, options)

db = SQLiteAlchemy(app)
"
4088,80341,Python: How to read a data file with uneven number of columns,"with open(""hk_L1.ref"") as f:
    data = numpy.array(f.read().split(), dtype=float).reshape(7000, 8)
"
37750,28776,Pygame: Set alpha level for shapes,"import pygame

pygame.init()

screen = pygame.display.set_mode((800, 600), 0, 32)

surface1 = pygame.Surface((100,100))
surface1.set_colorkey((0,0,0))
surface1.set_alpha(128)
pygame.draw.circle(surface1, (0,255,0), (50,50), 50)

surface2 = pygame.Surface((100,100))
surface2.set_colorkey((0,0,0))
surface2.set_alpha(128)
pygame.draw.circle(surface2, (255,0,0), (50,50), 50)

screen.blit(surface1, (100,100))
screen.blit(surface2, (120,120))

pygame.display.update()

RUNNING = True

while RUNNING:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            RUNNING = False

pygame.quit()
"
3005,52065,Replace a tag with another tag in BeautifulSoup,"In [8]: from bs4 import BeautifulSoup

In [9]: tree = BeautifulSoup('<html><body><div>Foo</div><div>Bar</div><para>Some text.</para></body></html>', 'xml')

In [10]: newpara = '<para>Some <emph type=""bold"">new</emph> text.</para>'

In [11]: newpara = BeautifulSoup(newpara, 'xml')

# here I use newpara.para as a shortcut to get the <para> element
# as a new BeautifulSoup will include wrapping tags
In [12]: tree.find('para', text='Some text.').replaceWith(newpara.para)
Out[12]: <para>Some text.</para>

In [13]: print tree
<?xml version=""1.0"" encoding=""utf-8""?>
<html><body><div>Foo</div><div>Bar</div><para>Some <emph type=""bold"">new</emph> text.</para></body></html>
"
39151,56107,How to remove unicode character from a list in Django?,"u'12.23.21.23'.encode('utf8')
"
3478,40183,Move pivot_table values to rows,">>> df.pivot_table(index=['A','B','C'], columns='F', values=['D','E']).stack(0)

F              2013-01-01  2013-02-01
A     B C                            
one   A bar D         NaN   -0.326106
            E         NaN   -0.882319
        foo D    0.147015         NaN
            E   -0.121944         NaN
      B bar D    0.133723         NaN
            E    0.182735         NaN
        foo D         NaN    0.158913
            E         NaN    0.365275
      C bar D         NaN    0.495230
            E         NaN    1.098515
        foo D   -0.624333         NaN
            E    0.214979         NaN
three A bar D         NaN    0.101431
            E         NaN   -0.352368
      B foo D         NaN    0.405091
            E         NaN    0.389888
      C bar D         NaN    0.804457
            E         NaN   -0.572397
two   A foo D    0.127069         NaN
            E    0.105038         NaN
      B bar D   -1.052195         NaN
            E    0.728630         NaN
      C foo D   -0.643464         NaN
            E   -0.440381         NaN
"
4926,36698,Set initial value for dynamically created ModelChoiceField in Class Based View,"{% for device in form.devices.field.choices.queryset %}
    <input type=""radio"" name=""devices"" value=""{{ device.pk }}"" class=""radio-device""
        {% ifequal form.devices.value device.pk %}checked{% endifequal %}
    />
{% endfor %}
"
22550,42481,Tkinter getting key pressed event from a function,"import Tkinter as tk
from guiLoop import guiLoop # https://gist.github.com/niccokunzmann/8673951#file-guiloop-py

direction = 0
pos = 0 # the position should increase and decrease depending on left and right
# I assume pos can be ... -3 -2 -1 0 1 2 3 ...

@guiLoop
def move_dir():
    global pos
    while True: # edit 1: now looping always
        print 'moving', direction 
        pos = pos + direction
        yield 0.5 # move once every 0.5 seconds

def kp(event):
    global direction # edit 2
    if event.keysym == 'Right':
        direction  = 1 # right is positive
    elif event.keysym == 'Left':
        direction = -1
    elif event.keysym == 'Space':
        direction = 0 # 0 is do not move
    elif event.keysym == 'Escape':
        root.destroy()

def kr(event):
    global direction
    direction = 0

root = tk.Tk()
print( ""Press arrow key (Escape key to exit):"" )
root.bind_all('<KeyPress>', kp)
root.bind_all('<KeyRelease>', kr)
move_dir(root)
root.mainloop()
"
34920,63611,Python: raw image data to grayscale,"import numpy as np
import matplotlib.pyplot as plt


if __name__=='__main__':

    rows = 144
    columns = 175

    camera_image = np.loadtxt(r'path/to/filename')
    if(not camera_image.size == rows * columns):
        raise Exception('Size mismatch!')

    my_image = np.reshape(camera_image, (rows, columns)) / 255.0

    figure = plt.figure()
    axes = figure.add_subplot(1, 1, 1)

    axes.imshow(my_image)

    plt.show()
"
24084,14003,Translate several lines of C to Python,"def ff7_checksum(data): # data used to be 'qw'
  all_bits = 0xFFFF # a 16-bit value with all bits set.
  result = all_bits # result used to be 'r'
  pbit = 0x8000 # the highest-order bit in a 16-bit value.

  for byte in data: # byte used to be 't'
    result ^= byte << 8
    for i in range(8):
      result = (result << 1) ^ (0x1021 if result & pbit else 0)
    result &= all_bits
  return result ^ all_bits # the original &-mask is not necessary
"
39245,23786,can't get correct python regex with this string that contains unicode,">>> regex = re.compile(ur""""""
...     ((?:\w+\s+)+?)((?:min|max|mon)\.?)?
...     ([0-9., ]+)(%|[^\W\d_]+/[^\W\d_]+)
...     """""", re.X | re.I | re.U)
>>> pprint(regex.findall(s))
[(u'vitamin a ', u'min.', u' 14,053 ', u'iu/kg'),
 (u'vitamin c ', u'', u'13,000', u'iu/kg'),
 (u'vitamin d ', u'max.', u' 10,000', u'\u03bc/kg'),
 (u'copper ', u'', u'1', u'mg/kg'),
 (u'vitamin e ', u'mon', u' 10.00', u'iu/kg')]
"
28326,52521,pandas srt.lower() not working on dataframe column,"df['sex'] = df.sex.str.lower()
"
2772,73522,Replacing an element in an OrderedDict?,"od = OrderedDict({i:i for i in range(4)})
# od = OrderedDict([(0, 0), (1, 1), (2, 2), (3, 3), (4, 4)])

# Replace the key and value for key == 0:
d = OrderedDict(('replace','key') if key == 0 else (key, value) for key, value in od.items())
# d = OrderedDict([('replace', 'key'), (1, 1), (2, 2), (3, 3), (4, 4)])

# Single value replaces are done easily:
d[1] = 20  # and so on..
"
15189,74418,Can one grab instantiated objects that were not assigned to a variable?,">>> import time
>>> time.time()
1336296696.824
>>> _
1336296696.824
"
39464,53919,How to make a mouse event for clicks on a masked image [Pygame],"for event in pygame.event.get():
    if event.type == pygame.QUIT:
       sys.exit()
    elif event.type == KEYDOWN and event.key == K_ESCAPE:
       sys.exit()
    elif event.type == MOUSEBUTTONDOWN:
        click_position = event.pos
        if rock.point_collide(click_position):
            print('Clicked within the rock')
            clicks += 1
            # Any other events that have to happen
            #   when the rock is clicked
"
15933,35294,Aggregate the result from two files using Python Spark code using joins,"(filea,fileb).zipped.map((x,y)=> ((x.c_val+y.c_val)))
"
36535,14470,Python urllib2() functions with international/UTF-8 characters,"s = urllib2.urlopen(""http://www.bing.com/search?""
              + urllib.urlencode({ 'q' : u'我爸是李刚' .encode('utf8') } )
"
15632,83493,Python plotting 2d data on to 3d axes,"import numpy as np
from matplotlib import pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')

x = np.linspace(-50,50,100)
y = np.arange(25)
X,Y = np.meshgrid(x,y)
Z = np.zeros((len(y),len(x)))

for i in range(len(y)):
    damp = (i/float(len(y)))**2
    Z[i] = 5*damp*(1 - np.sqrt(np.abs(x/50)))
    Z[i] += np.random.uniform(0,.1,len(Z[i]))
ax.plot_surface(X, Y, Z, rstride=1, cstride=1000, color='w', shade=False, lw=.5)

ax.set_zlim(0, 5)
ax.set_xlim(-51, 51)
ax.set_zlabel(""Intensity"")
ax.view_init(20,-120)
plt.show()
"
9882,7281,Compare string and floats in python,"def floatstrcmp(left, right):
   try:
      return cmp(float(left), float(right))
   except ValueError:
      return cmp(left, right)
"
34139,6498,Python default values for tuple in function arguments,"def func(self, args):
    defaultargs = (1, 2, 3)
    args = tuple(map(lambda x, y: y if y is not None else x, defaultargs, args))
"
36920,42352,Get TypeError('Index must be DatetimeIndex') when trying to filter data on time,"In [170]:
t=""""""Date_Time,Open,High,Low,Close,Volume        
2015-05-21 15:30,2128.00,2132.00,2127.25,2128.50,160643
2015-05-21 14:30,2129.25,2130.25,2126.25,2128.25,68195
2015-05-21 13:30,2128.50,2129.50,2125.75,2129.00,59661
2015-05-21 12:30,2129.75,2130.75,2128.00,2128.25,40547
2015-05-21 11:30,2130.00,2130.50,2127.75,2129.50,73274""""""
​
ESData=pd.read_csv(io.StringIO(t), index_col=""Date_Time"", parse_dates=[0])
df_initial_balance = ESData.between_time(start_time=""12:30"",end_time=""14:30"")
df_initial_balance

Out[170]:
                        Open     High      Low    Close  Volume        
Date_Time                                                              
2015-05-21 14:30:00  2129.25  2130.25  2126.25  2128.25           68195
2015-05-21 13:30:00  2128.50  2129.50  2125.75  2129.00           59661
2015-05-21 12:30:00  2129.75  2130.75  2128.00  2128.25           40547
"
8854,46343,Python: Printing json element in a loop until the JSON is done.,"data = json.load(data_file)
for obj in data:
  pprint(obj['objectId'])
"
17904,47926,local variable value is not used - python,"cursor = arcpy.SearchCursor(my_table)
for _ in cursor:
    count += 1
print count
"
10061,81179,Can a method within a class be generator?,"class SomeContainer(object):
    def __iter__(self):
        for elem in self._datastructure:
            if elem.visible:
                yield elem.value
"
10150,43444,converting dates and times with list comprehension,"datetime_column = [datetime.datetime.strptime('{} {}'.format(d, t),
                                              '%Y-%m-%d %H:%M:%S')
                   for d, t in zip(date, time)]
"
10514,14671,Unexpected behavior serializing Numpy array,"class Test():
    def __init__(self):
        self.base = numpy.zeros(6)
        self.slice = slice(-3, self.base.size)
        self.view = self.base[self.slice]

    def __len__(self):
        return len(self.view)

    def update(self):
        self.view[0] += 1

    def add(self):
        self.slice = slice(-len(self.view) - 1, self.base.size)
        self.view = self.base[self.slice]        
        self.view[0] = 1

    def __getstate__(self):
        return {'base': self.base, 'slice': self.slice}

    def __setstate__(self, state):
        self.base = state['base']
        self.slice = state['slice']
        self.view = self.base[self.slice]

    def __repr__(self):
        return str(self.view)
"
9659,72858,pandas map and join multiple columns,">>> def CleanVSSET_apply(x):
        # in my case CleanVSSET just returns the same values
        d = CleanVSSET(*x.values)
        r = d[0]
        r['Cleaned'] = d[1]
        return pd.Series(r)
>>>
>>> df_cleaned = df.apply(CleanVSSET_apply, axis=1)
        BP Cleaned  Pain Pulse  RR  Temp
0  111/111    True     9    75  13  97.1
1     None    True  None  None  18    98
2   164/87    True     6    79  15  None
3   120/72    True     5    77  18    97

>>> pd.merge(df, df_cleaned, left_index=True, right_index=True, suffixes=['', 'cleaned'])
        BP  Pain Pulse  RR  Temp BP_cleaned Cleaned Pain_cleaned  \
0  111/111     9    75  13  97.1    111/111    True            9   
1     None  None  None  18    98       None    True         None   
2   164/87     6    79  15  None     164/87    True            6   
3   120/72     5    77  18    97     120/72    True            5   

  Pulse_cleaned  RR_cleaned Temp_cleaned  
0            75          13         97.1  
1          None          18           98  
2            79          15         None  
3            77          18           97  
"
29390,20878,Using argparse arguments in different ways,"import argparse
import os
import glob

version = ""0.1.1""

parser = argparse.ArgumentParser(
    description = 'cldir: clear a directory from .meta and other unwanted files')

# arguments list

parser.add_argument('-v', '--version', action='version', version = version)

parser.add_argument('-d', '--directory', default=os.path.expanduser('~/downloads'),
                    help='directory to be cleaned')

parser.add_argument('-e', default='meta', help='extension')

args = parser.parse_args()
print(args)
path = os.path.join(args.directory)
files = glob.glob(path + '*.{}'.format(args.e))

if len(files) == 0:
    print('No .meta files found in ~/downloads')
else:
    for f in files:
        os.remove(f)
    print('%d file(s) deleted' %len(files))
"
15553,37573,Groupby and sum rows to aggregate multiple values of PRODUCT column,"grouped_products = ['PLYC', 'PLYN']
gb = (df[df.PRODUCT.isin(grouped_products)]
      .groupby(['PERIOD', 'REGION2', 'REGION'])
      .sum()
      .reset_index())
gb['PRODUCT'] = 'PLY'

result = pd.concat([gb, df.loc[~df.PRODUCT.isin(grouped_products), :]], ignore_index=True)
result.set_index(['PERIOD', 'REGION2', 'REGION', 'PRODUCT'], inplace=True)
>>> result.loc[:, ['Production', 'NSLOG', 'CHIPS', 'SSAW']]
                               Production  NSLOG  CHIPS     SSAW
PERIOD REGION2 REGION PRODUCT                                   
2010   FRANC   cw_eu  NaN             330  10.00  35.00      NaN
2011   FINLA   n_eu   NaN            1000   1.00   4.00      NaN
       FRANC   cw_eu  NaN             300  10.00   2.00      NaN
2010   AUSTR   cw_eu  CWC             248  57.04  78.78      NaN
                      CWF            1017    NaN    NaN    58.11
                      DissP           282  93.60    NaN  1056.00
"
26084,61114,Force .ix to return a DataFrame in pandas,"> x = df.ix[[0]]
> y = df.ix[[1]]
> type(x)
pandas.core.frame.DataFrame
> type(y)
pandas.core.frame.DataFrame
"
27815,4426,Decode image file to extract image header information and modify it (with python),"b = bytearray(your_byte_data)
big_endian = (b[0] == 0x52)
offset = 768 + big_endian
current_orientation = b[offset]  # get current orientation
b[offset] = new_offset           # set it to something new
open('out_file', 'wb').write(b) 
"
15888,37593,php - need help converting a python command to php code,"$string = 'my string'
$encoded_string = md5($string);
"
33317,24866,SQL Alchemy Building an ORM,"from sqlalchemy import create_engine, Column, Integer, String, DateTime, Float, UnicodeText, VARCHAR, NVARCHAR, TEXT, DATE, distinct, ForeignKey, Table
import sqlalchemy
from sqlalchemy.orm import sessionmaker, relationship
from sqlalchemy.ext.declarative import declarative_base
engine = create_engine(""sqlite:///./P_case.db"", 
                       echo=False)

Session = sessionmaker( bind=engine )
session = Session()

Base = declarative_base()
metadata = Base.metadata #########################
class Bus(Base):

    __tablename__ = ""bus_info""
    id = Column( Integer, primary_key = True )

    ## Bus
    number = Column( Integer)

metadata.create_all( engine )    ######################
"
24712,431,Function field not getting called from within wizard,"def _partial_move_for(self, cr, uid, move):
    partial_move = {
        'product_id' : move.product_id.id,

        # Add product description
        'product_description' : move.name,

        'quantity' : move.product_qty if move.state in ('assigned','draft','confirmed') else 0,
        'product_uom' : move.product_uom.id,
        'prodlot_id' : move.prodlot_id.id,
        'move_id' : move.id,
        'location_id' : move.location_id.id,
        'location_dest_id' : move.location_dest_id.id,
    }
    return partial_move

# Add the product description to the wizard.
# The values get filled in from stock_partial_picking._partial_move_for
class stock_partial_picking_line(osv.TransientModel):
    _inherit = ""stock.partial.picking.line""

    _columns = {
        'product_description': fields.char('Description'),
    }
"
23699,13981,pulp (python) - objective function depends on the result,"objective = (price[channel_id] * is_channel_assigned[channel_id])
"
16658,24760,reuse generators,"import random

def die_roller(throws):
    """"""generates throws rolls of a die""""""
    for _ in xrange(throws):
        yield random.randint(1, 6)

roller = die_roller(10)
print type(roller)      # => <type 'generator'>
print list(roller)      # => [6, 6, 3, 1, 6, 3, 1, 5, 4, 4]
print sum(roller)       # roller was exhausted, generates null list thus 0 sum

big_roller = die_roller(10**5)
print sum(big_roller)   # => 3500238
"
19283,40281,Qt: How to place widgets in layout with minWidth and percentage based proportions all together,"layout->setStretchFactor(label, 15)
layout->setStretchFactor(line, 100)
"
2894,81186,Storing JSON into sqlite database using Python,"@csrf_exempt
def save(request):
    if request.method == 'POST':
        rawdata1 = request.body
        rawdata2 = json.loads(rawdata1)
        length = len(rawdata2)
        for i in range(0,length,1):
            x = meterdata(time_elapsed=rawdata2[i]['time_elapsed'], volts=rawdata2[i]['volts'], amps=rawdata2[i]['amps'], kW=rawdata2[i]['kW'], kWh=rawdata2[i]['kWh'], session=rawdata2[i]['session'])
            x.save()        
    return HttpResponse(""Success!"")
"
35249,51673,Python class method - Is there a way to make the calls shorter?,"from config.TestClass import TestClass
TestClass.add_key( ""mykey"", ""newvalue"" )
"
22312,66092,How to replace a text using the found expression with regex?,"awk '{print NR"".""$1}' file
1.AAIT
2.AAL
3.AAME
4.AAOI
5.AAON
"
13693,28955,python multiprocessing to receive snmp alerts,"def getCbFun(queue): # closure
    def cbFun(snmpEngine,stateReference,
          contextEngineId, contextName,
          varBinds,
          cbCtx):
        ...
        queue.add(varBinds)
        ...
    return cbFun

...

# Shared queue object
queue = Queue()

# Register SNMP Application at the SNMP engine
ntfrcv.NotificationReceiver(snmpEngine, getCbFun(queue))

...
"
22656,52785,Write output in csv format in python,"import csv
with open('desired-filename-here.csv', 'w', newline='') as csvfile:
    csvwriter = csv.writer(csvfile, delimiter=' ',
                           quotechar='|', quoting=csv.QUOTE_MINIMAL)
    row_info = [productName.get_text(), productDesc.get_text(), 
                productPrice.get_text()]
    csvwriter.writerow(row_info)
"
13736,38745,Killing a python script in C#," foreach (Process process in Process.GetProcesses().Where(p => 
                                                         p.ProcessName == ""calc""))
 {
     process.Kill();
 }
"
4119,41348,Remove spaces between/after td elements using BeautifulSoup,"row = soup.find(""tr"", class_=""soup-target"")
for text_node in row.find_all(text=True, recursive=False):
    text_node.extract()
"
34340,20841,"Python 3.4 transmiting table, columns and values as variables using MySQLdb","sql = ""INSERT INTO {} ({}) VALUES ({})"".format(table, ','.join(columns), ','.join('[%s]' * len(columns)))
# Generates: INSERT INTO my_table (column1,column2) VALUES (?,?)
cursor.execute(sql, values)
"
39337,41671,Measuring user acting time in python,"elapsed_time = end - start

if elapsed_time > 20:
    # code
else:
    # other code
"
7584,58681,2 SSL certificates in twisted,"from txsni.snimap import SNIMap
from txsni.tlsendpoint import TLSEndpoint

from twisted.web.server import Site
from twisted.web.static import Data
from twisted.internet import reactor
from twisted.internet.ssl import Certificate, KeyPair, PrivateCertificate
from twisted.internet.endpoints import serverFromString

def main(reactor):
    root = Data("""", ""text/plain"")
    site = Site(root)

    def load(key_path, cert_path):
        with open(key_path) as key_file:
            key = KeyPair.loadPEM(key_file.read())

        with open(cert_path) as cert_file:
             cert = cert.read()

        return PrivateCertificate.fromCertificateAndKeyPair(cert, key)

    snimap = SNIMap({
        ""DEFAULT"": load('/etc/apache2/ssl/wc.key', '/etc/apache2/ssl/wc.crt').options(),
        ""another.host.name"": load(another_key, another_cert).options(),
        ...
    })

    endpoint = TLSEndpoint(serverFromString(reactor, ""tcp:80""))
    endpoint.listen(site)

    reactor.run()
"
39053,67407,"Setting the RGB levels of pixels (Python, Jython)","import random

for pixel in pic.get_pixels(): # Replace with appropiate way of getting the pixels
    if random.random() < 0.25:
        pixel.red = random.randint(256)
        pixel.green = random.randint(256)
        pixel.blue = random.randint(256)
"
32233,16444,Fill pygame font with custom pattern,"import pygame
pygame.init()
screen = pygame.display.set_mode((490, 160))
font = pygame.font.SysFont('Arial', 150)
pattern = pygame.image.load('t.bmp').convert()
text = font.render('FooBar', True, (255, 255, 255), (0, 0, 0))

pattern.blit(text, (0, 0), special_flags = pygame.BLEND_MULT)

screen.blit(pattern, (0, 0))
pygame.display.flip();
while True:
    if pygame.event.get(pygame.QUIT):
        break
"
22647,63061,Assign glob.iglob() results to a list,"list(glob.iglob('*'))
"
32484,13866,Python string interpolation: only show necessary decimal places,"""{0}\"""".format(str(round(x, 1) if x % 1 else int(x)))
"
27524,31248,how to convert this nested JSON in columnar form into Pandas dataframe,"In [205]: from pandas.io.json import json_normalize

In [206]: data = [{'state': 'Florida',
   .....:           'shortname': 'FL',
   .....:           'info': {
   .....:                'governor': 'Rick Scott'
   .....:           },
   .....:           'counties': [{'name': 'Dade', 'population': 12345},
   .....:                       {'name': 'Broward', 'population': 40000},
   .....:                       {'name': 'Palm Beach', 'population': 60000}]},
   .....:          {'state': 'Ohio',
   .....:           'shortname': 'OH',
   .....:           'info': {
   .....:                'governor': 'John Kasich'
   .....:           },
   .....:           'counties': [{'name': 'Summit', 'population': 1234},
   .....:                        {'name': 'Cuyahoga', 'population': 1337}]}]
   .....: 

In [207]: json_normalize(data, 'counties', ['state', 'shortname', ['info', 'governor']])
Out[207]: 
         name  population info.governor    state shortname
0        Dade       12345    Rick Scott  Florida        FL
1     Broward       40000    Rick Scott  Florida        FL
2  Palm Beach       60000    Rick Scott  Florida        FL
3      Summit        1234   John Kasich     Ohio        OH
4    Cuyahoga        1337   John Kasich     Ohio        OH
"
16399,72623,Python glob multiple filetypes,">>> import glob
>>> types = ('*.pdf', '*.cpp') # the tuple of file types
>>> files_grabbed = []
>>> for files in types:
...     files_grabbed.extend(glob.glob(files))
... 
>>> files_grabbed   # the list of pdf and cpp files
"
24496,10177,Replacing words in a document,"for line in fin1:
    for word in line.split():
"
4173,59907,wxpython textctrl line and column,"import wx

class TextFrame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None, -1, 'Text Editor', size=(300, 250))

        self.panel = wx.Panel(self, -1) 

        self.multiText = wx.TextCtrl(self.panel, -1,"""",size=(200, 100), style=wx.TE_MULTILINE|wx.EXPAND)

        sizer = wx.BoxSizer()
        sizer.Add(self.multiText, proportion=1, flag=wx.CENTER|wx.EXPAND)
        self.panel.SetSizer(sizer)

        self.CreateStatusBar()

        self.multiText.Bind(wx.EVT_KEY_UP, self.updateLineCol)
        self.multiText.Bind(wx.EVT_LEFT_DOWN, self.updateLineCol)

    def updateLineCol(self, event):
        #lineNum = len(self.multiText.GetRange( 0, self.multiText.GetInsertionPoint() ).split(""\n""))
        l,c = self.multiText.PositionToXY(self.multiText.GetInsertionPoint())

        stat = ""col=%s, row=%s"" % (l,c)

        self.StatusBar.SetStatusText(stat, number=0)

        event.Skip()

app = wx.App(False)
frame = TextFrame()
frame.Show()
app.MainLoop()
"
33659,55930,Python Regex text and time same line,">>>re.findall(r'([\d:]*)([A-Z]+)\s*([A-Z]+)(?=</a>)','tabindex=""1"" >Game: Wild at Blackhawks 8:00PM ET</a>')
>>>[('8:00', 'PM', 'ET')]
"
38788,29187,How to add value for same keys in a dict in python,"result_map = {}
for item in response:
    if item['country'] is None:
        continue
    if item['country'] not in result_map:
        result_map[item['country']] = item['percent']
    else:
        result_map[item['country']] += item['percent']

results = [
    {'country': country, 'percent': percent}
    for country, percent in result_map.items()
]
"
26409,24827,Manipulating string input from CSV in Python,"for row in csv_doc:
     for cell in row:
          csv_array.append(cell)
"
31328,11057,Issue with modifying string with python,"import re

expr = re.sub(r'\b' + ip + r'\b', ""(""+ip+"".~""+ip+"")"", expr)
"
4838,66302,GUI wait until BooleanVar() changes,"self.sensor = tk.BooleanVar()
self.sensor.trace(""w"", self.on_sensor_change)
...
def on_sensor_change(self, *args):
    print ""the sensor changed:"", self.sensor.get()
"
5297,79555,pyqt: how to remove elements from a QVBoxLayout?,"widget = QWidget()    
layout = QVBoxLayout()

btn = QPushButton(""To be removed"")
layout.addWidget(btn)
widget.setLayout(layout)

# later
btn.setParent(None)
"
17747,31213,Filtering for Dataframe - columns and rows,"print df
   C1  C2  C3  C4  C5
0   1   1   1   1   4
1   1   2   1   2   5
2   1   1   3   1   4

print ~(df == 2)
     C1     C2    C3     C4    C5
0  True   True  True   True  True
1  True  False  True  False  True
2  True   True  True   True  True

df = df.loc[:, ~(df == 2).any(axis=0)]
print df
   C1  C3  C5
0   1   1   4
1   1   1   5
2   1   3   4

df = df.loc[~(df == 5).any(axis=1)]
print df
   C1  C3  C5
0   1   1   4
2   1   3   4
"
9728,6800,Extract the tuple with the largest item from sublist (find most recent report in directory),"for key,group in itertools.groupby(dirtup2,operator.itemgetter(2)):
    newlist=sorted(group,key=operator.itemgetter(1),reverse=True)
    tuple_with_max=newlist[0]
    print tuple_with_max
"
28056,25465,App Engine Python: How to properly redirect to a template,"import urllib
self.redirect(""sites.htm?%s"" % urllib.urlencode(dict(a=""this and that"", b=""back and forth)))
"
8008,15313,Python3 project remove __pycache__ folders and .pyc files,"    No command 'pycclean' found, did you mean:
     Command 'py3clean' from package 'python3-minimal' (main)
     Command 'pyclean' from package 'python-minimal' (main)
    pycclean: command not found
"
1734,68554,'LIKE' function for Lists,"[m for m in abc if 'on' in m]
"
10773,8386,Extracting subimage with a specified aspect ratio,"obj_width = xmax - xmin
obj_height = ymax - ymin
if (obj_width / obj_height > ratio)
{
    height_adjustment = ((obj_width / ratio) - (ymax - ymin)) / 2;
    ymin -= height_adjustment;
    ymax += height_adjustment;
    if (ymin < 0)
    {
        ymax -= ymin;
        ymin = 0;
    }
    if (ymax >= image_height)
        ymax = image_height - 1;
}
else if (obj_width / obj_height < ratio)
{
    width_adjustment = ((obj_height * ratio) - (xmax - xmin)) / 2;
    xmin -= width_adjustment;
    xmax += width_adjustment;
    if (xmin < 0)
    {
        xmax -= xmin;
        xmin = 0;
    }
    if (xmax >= image_width)
        xmax = image_width - 1;
}
"
23075,14953,Compute a confidence interval from sample data,"import numpy as np
import scipy as sp
import scipy.stats

def mean_confidence_interval(data, confidence=0.95):
    a = 1.0*np.array(data)
    n = len(a)
    m, se = np.mean(a), scipy.stats.sem(a)
    h = se * sp.stats.t._ppf((1+confidence)/2., n-1)
    return m, m-h, m+h
"
555,46438,Combination of 1 and 0 in an array in Python,"n = 8
n1 = 4
for x in itertools.combinations( xrange(n), n1 ) :
    print [ 1 if i in x else 0 for i in xrange(n) ] 

[1, 1, 1, 1, 0, 0, 0, 0]
[1, 1, 1, 0, 1, 0, 0, 0]
[1, 1, 1, 0, 0, 1, 0, 0]
[1, 1, 1, 0, 0, 0, 1, 0]
...
[0, 0, 0, 1, 1, 1, 0, 1]
[0, 0, 0, 1, 1, 0, 1, 1]
[0, 0, 0, 1, 0, 1, 1, 1]
[0, 0, 0, 0, 1, 1, 1, 1]
"
27270,32370,how to use designed template in django using sendgrid API?,"import sendgrid

sg = sendgrid.SendGridClient('sendgrid_apikey')

message = sendgrid.Mail()
message.add_to('John Doe <john@email.com>')
message.set_subject('Example')
message.set_html('Body')
message.set_text('Body')
message.set_from('Doe John <doe@email.com>')

# This next section is all to do with Template Engine

# You pass substitutions to your template like this
message.add_substitution('-thing_to_sub-', 'Hello! I am in a template!')

# Turn on the template option
message.add_filter('templates', 'enable', '1')

# Tell SendGrid which template to use
message.add_filter('templates', 'template_id', 'TEMPLATE-ALPHA-NUMERIC-ID')

# Get back a response and status
status, msg = sg.send(message)
"
34890,45469,Filter whitespace and newlines with Pygments,"from BeautifulSoup  import BeautifulSoup
from django import template
from django.template.defaultfilters import stringfilter
import pygments
import pygments.formatters
import pygments.lexers


register = template.Library()
wanted = {'br': '<br />', 'BR': '<BR />', 'nbsp': '&nbsp;', 'NBSP': '&NBSP;', '/&gt;': ''}

def uglyfilter(html):
    content = BeautifulSoup(html)
    for node in content.findAll('span'):
        data = ''.join(node.findAll(text=True))
        if wanted.has_key(data):
            node.replaceWith(wanted.get(data))
    return unicode(content)     


@register.filter
@stringfilter
def pygmentized(html):
    soup = BeautifulSoup(html)
    codeblocks = soup.findAll('pre')
    for block in codeblocks:
        if block.has_key('class'):
            try:
                code = ''.join([unicode(item) for item in block.contents])
                lexer = pygments.lexers.get_lexer_by_name(block['class'], stripall=True)
                formatter = pygments.formatters.HtmlFormatter()
                code_hl = pygments.highlight(code, lexer, formatter)
                clean = uglyfilter(code_hl)
                block.contents = [BeautifulSoup(clean)]
                block.name = 'pre'
            except:
                raise
    return unicode(soup)
"
30601,79173,Enter/Return command in Shell script,"<for loop:>
    os.system('yes Y | <external command>')
"
13002,6808,Content of text file as a input to python script,"with open (""data.txt"", ""r"") as myfile:
    data=myfile.read().replace('\n', '')
"
11075,29994,How to run two non-terminating scripts in parallel in a GUI?,"#python 3
#from tkinter import *
#from tkinter import ttk

#python 2
from Tkinter import *
import ttk

import time
import subprocess
import paramiko

import threading

# keep track of widgets for event handlers
widget_track = {}

# event handler creates connect thread
def connect_evt():
    t = threading.Thread(target=connect)
    t.daemon = True
    t.start()
    widget_track['connect'].config(text=""Connected"", state=""disabled"", command=None)

def connect():
  time.sleep(5)   # todo: temporary for test
  return
  ssh = paramiko.SSHClient()
  ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
  ssh.connect('192.168.1.2', username='pi', password='raspberry')
  stdin, stdout, stderr = ssh.exec_command('cd')
  stdin, stdout, stderr = ssh.exec_command('roscore &')
  time.sleep(20)
  stdin, stdout, stderr = ssh.exec_command('\n')
  stdin, stdout, stderr = ssh.exec_command('cd scripts')
  stdin, stdout, stderr = ssh.exec_command('python /home/pi/scripts/listener2.py')
  return

# event handler creates run thread
def run_evt():
    t = threading.Thread(target=run)
    t.daemon = True
    t.start()
    widget_track['run'].config(text=""Running"", state=""disabled"", command=None)

def run():
  time.sleep(5)     # todo: temporary for test
  return
  stdin, stdout, stderr = ssh.exec_command('python ES96_Vivaldi/talker2.py')


root = Tk()

mainframe = ttk.Frame(root, padding=""3 3 12 12"")
mainframe.grid(column=0, row=0, sticky=(N, W, E, S))
mainframe.columnconfigure(0, weight=1)
mainframe.rowconfigure(0, weight=1)

# connect button starts connect background thread
btn = ttk.Button(mainframe, text=""Connect"", command=connect_evt)
btn.grid(column=1, row=3, sticky=S)
widget_track['connect'] = btn

# run button start run background thread
btn = ttk.Button(mainframe, text=""Run"", command=run_evt)
btn.grid(column=3, row=3, sticky=S)
widget_track['run'] = btn

ttk.Label(mainframe, text=""Click 'Connect' to establish link."").grid(column=1, row=1, sticky=W)
ttk.Label(mainframe, text=""Click 'Run' to control using the arrow keys"").grid(column=1, row=2, sticky=W)

for child in mainframe.winfo_children(): child.grid_configure(padx=5, pady=5)


root.mainloop()
"
20868,22230,wxPython - Prevent the same warning dialog from appearing twice,"    import sys; print sys.version
    import wx; print wx.version()


    class TestFrame(wx.Frame):

        def __init__(self):
            wx.Frame.__init__(self, None, -1, ""hello frame"")
            self.inspected = True
            self.txt = wx.TextCtrl(self, style=wx.TE_PROCESS_ENTER)
            self.txt.SetLabel(""this box must contain the word 'hello' "")
            self.txt.Bind(wx.EVT_TEXT_ENTER, self.onEnter)
            self.txt.Bind(wx.EVT_KILL_FOCUS, self.onLostFocus)
            self.txt.Bind(wx.EVT_TEXT, self.onText)

        def onEnter(self, e):
            self.inspectText()

        def onLostFocus(self, e):
            self.inspectText()

        def onText(self, e):
            self.inspected = False

        def inspectText(self):
            if not self.inspected:
                self.inspected = not self.inspected
                if 'hello' not in self.txt.GetValue():
                    self.failedInspection()
            else:
                print ""no need to inspect or warn user again""

        def failedInspection(self):
            dlg = wx.MessageDialog(self,
                                   ""The word hello is required before hitting enter or changing focus"",
                                   ""Where's the hello?!"",
                                   wx.OK | wx.CANCEL)
            result = dlg.ShowModal()
            dlg.Destroy()
            if result == wx.ID_OK:
                pass
            if result == wx.ID_CANCEL:
                self.txt.SetLabel(""don't forget the 'hello' !"")

    mySandbox = wx.App()
    myFrame = TestFrame()
    myFrame.Show()
    mySandbox.MainLoop()
    exit()
"
14101,25010,How to create a new (persistent) Firefox profile with Selenium in Python?,"firefox[.exe] -CreateProfile <profile_name>
"
24723,47912,random values with uneven distribution,"len_counts = [
    (1, 24), # 24 1-length words
    (2, 39), # 39 2-length words
    ...
]
"
33024,44823,Access data in Excel - Reuter from python,"import os
from win32com.client import GetObject

os.startfile(r'C:\path\to\ReutersExcel.exe')
xlApp = GetObject(None, 'Excel.Application')
"
37915,26161,Getting repeated data - screenscraping using bs4,"from string import punctuation, whitespace
import urllib2
import datetime
import re
from bs4 import BeautifulSoup as Soup

today = datetime.date.today()
html = urllib2.urlopen(""http://www.99acres.com/property-in-velachery-chennai-south-ffid"").read()

soup = Soup(html)
print ""INSERT INTO Property (URL,Rooms, Place, Phonenumber1,Phonenumber2,Phonenumber3,Typeofperson, Name)""
print ""VALUES (""
re_digit = re.compile('(\d+)')
properties = soup.findAll('a', title=re.compile('Bedroom'))

for eachproperty in soup.findAll('div', {'class':'sT'}):
  a      = eachproperty.find('a', title=re.compile('Bedroom'))
  pdate  = eachproperty.find('i', {'class':'pdate'})
  pdates = re.sub('(\s{2,})', ' ', pdate.text)
  div    = eachproperty.find('div', {'class': 'sT_disc grey'})
  try:
    project = div.find('span').find('b').text.strip()
  except:
    project = 'No project'        
  area = re.findall(re_digit, div.find('i', {'class': 'blk'}).text.strip())
  print today,"",""+""http:/""+ (a['href'] if a else '')+"","", (a.string if a else '')+ "","" +"","".join(re.findall(""'([a-zA-Z0-9,\s]*)'"", (a['onclick'] if a else '')))+"",""+ "", "".join([project] + area),"",""+pdates
"
27242,21169,python datetime extract hour minute fast,"train['Year'] = train.Dates.dt.year
train['Month'] = train.Dates.dt.month
"
31339,51549,how to select data frame according to index NOT in a list,"In [6]:

df = pd.DataFrame({'a':randn(10), 'b':randn(10)})
df
Out[6]:
          a         b
0 -0.498370  0.350204
1 -0.484727 -0.977876
2 -0.319675 -0.781217
3  0.618511  0.416958
4 -0.834304  1.606860
5  0.768302 -0.394504
6 -0.033161 -1.539782
7 -0.062261  1.411695
8 -0.227656 -0.527440
9  0.843263  0.927568
In [7]:

index = [0, 7, 8, 9]
df[~df.index.isin(index)]
Out[7]:
          a         b
1 -0.484727 -0.977876
2 -0.319675 -0.781217
3  0.618511  0.416958
4 -0.834304  1.606860
5  0.768302 -0.394504
6 -0.033161 -1.539782
"
6263,43298,Detect being hovering over specific widgets in PyQt4,"class mainWindow(QtGui.QWidget):
    def __init__(self):
        super(mainWindow, self).__init__()
        self.layout = QtGui.QVBoxLayout()

        self.label1 = QtGui.QLabel()
        self.label1.setText(""Name"")
        self.lineEdit1 = QtGui.QLineEdit()
        self.lineEdit1.setToolTip(""This is a ToolTip"")

        self.label2 = QtGui.QLabel()
        self.label2.setText(""Age"")
        self.lineEdit2 = QtGui.QLineEdit()
        self.lineEdit2.setToolTip(""This is another ToolTip"")
"
16070,999,Finding the index of a string within another string in a list in Python,"(i for i,v in enumerate(l) if MyString in i).next()
"
1025,12260,Opposite of Python for ... else,"for n in range(15): 
    if n == 100:
        print(n)  
        break
"
21567,33668,Searching for import location,"for pkg in given_pkg:
    for module_or_class in pkg:
        for attribute in module_or_class:
"
21734,69989,Django Form validation including the use of session data,"class MyForm(forms.Form):
    def __init__(self, request, *args, **kwargs)
        self.request = request
        super(MyForm, self).__init__(*args, **kwargs)

    def clean(self):
        if not self.request.session.get('file_downloaded', False):
            raise ValidationError('File not downloaded!')

def my_view(request):
    form = MyForm(request, data=request.POST)
"
19309,79615,Python - subprocesses and the python shell,"subprocess.Popen(whatever, stdin=sys.stdout, stdout=sys.stdin)
"
34242,74189,python-pypdf split pdf based a list of page ranges,"for arry, name in zip(pglist, deptNames5):
    NewPdf = PdfFileWriter()
    for page in arry:
        pagenumber = pdfDoc.getPage(page)
        NewPdf.addPage(pagenumber)
    with open(name + b'.pdf', 'wb') as f:
        NewPdf.write(f)
"
2643,24744,Split requirements files in pip,"-r req-1.txt
-r req-2.txt
"
3734,70955,Python adding dictionary values with same key within a list,">>> from collections import Counter
>>> myword = [{'a': 2}, {'b':3}, {'c':4}, {'a':1}]
>>> c = Counter()
>>> for d in myword:
...     c.update(d)
...
>>> [{key: value} for key, value in c.items()]
[{'a': 3}, {'c': 4}, {'b': 3}]

>>> [{key: value} for key, value in sorted(c.items())]
[{'a': 3}, {'b': 3}, {'c': 4}]
"
12331,12431,Finding an Insertion in a String,">>> import difflib
>>> s = difflib.SequenceMatcher(None, ""GHSKWITNIFSI"", ""GHSKWAGDITNIFSI"")
>>> s.get_matching_blocks()[:-1]
[(0, 0, 5), (5, 8, 7)]
>>> s = difflib.SequenceMatcher(None, ""GHSKWITNIFSI"", ""GHSKWITNIFSI"")
>>> s.get_matching_blocks()[:-1]
[(0, 0, 12)]
"
5754,53036,How to write a python script to keep trying a webpage until it opens,"from selenium import webdriver


driver = webdriver.Firefox()
while True:
    driver.get(""http://www.nbe.gov.in/asr/neet_pdf/"")

    if 'NEET-PG' in driver.title:
        break
"
26456,35632,Taking a fullpage screenshot using Selenium server in python,"sel.capture_entire_page_screenshot(""entirePageScreenshot.png"", """")
"
9904,49108,Iterating through a dictionary of a class object without mixin - python,"def __iter__(self):
    for k in self.keys():
        yield k
"
25889,66271,Backtracking permuting a list,"def swap(a, i, j):
    a[i], a[j] = a[j], a[i]

def permute(a, i, n):
    if i == n:
        print(a)
        return
    for j in range(i, n+1):
        swap(a, i, j)
        permute(a, i+1, n)
        swap(a, i, j)  # backtrack

def main():
    a = list('ABC')
    permute(a, 0, 2)

if __name__ == '__main__':
    main()
"
4987,29612,Python - from file to data structure?,"with open('myfile', 'r') as f:
    data = [line.split() for line in f]
"
34443,50816,Printing times tables: How do I add a new line between results?,"def table_all():
    for line in range(1,13):
        for table in range(1,13):
            print(line * table, end="" "")
        print(""\n"") 
"
21742,29437,How can you get real time copy progress of a large file with Python?,"# Python_2

def copy_with_callback(sourceFile, destinationFile, callbackFunction):
    chunk = 4*1024
    sourceSize = os.path.getsize(sourceFile)
    destSize = 0
    with open(sourceFile, 'rb') as fSrc:
        with open(destinationFile, 'wb') as fDest:
            data = fSrc.read(chunk)
            if len(data) == 0:
                break
            fDest.write(data)
            destSize += len(data)
            callbackFunction(sourceSize, destSize)

def example_callback_function(srcSize, dstSize):
    ''' Just an example with print.  Your viewer code will vary '''
    print 'Do something with these values:', srcSize, dstSize
    print 'Percent?', 100.0 * dstSize / srcSize

def main():
    src = '/tmp/A/path/to/a/file.txt'
    dest = '/tmp/Another/path/to/a/file.txt'
    copy_with_callback(src, dest, example_callback_function)
"
21258,84915,How to get multiple ovals moving around the canvas?,"import Tkinter, random

class BubbleFrame:

    def __init__(self, root):
        root.title(""Math Bubbles"")
        Tkinter.Button(root, text=""Add Bubbles"", width=8, command=self.bubble).pack()
        Tkinter.Button(root, text=""Quit"", width=8, command=quit).pack()
        self.canvas = Tkinter.Canvas(root, width=800, height=650, bg = '#afeeee')
        self.canvas.pack()
        self.bubbles = {} # this will hold bubbles ids, positions and velocities

    def bubble(self):
        # add bubbles for numbers from 1 to 20
        for number in range(1, 20+1):
            xval = random.randint(5,765)
            yval = random.randint(5,615)
            s1 = self.canvas.create_oval(xval,yval,xval+30,yval+30, fill=""#00ffff"",outline=""#00bfff"",width=5)
            s2 = self.canvas.create_text(xval+15,yval+15, text=number)
            self.bubbles[(s1, s2)] = (xval, yval, 0, 0) # add bubbles to dictionary

    def loop(self, root):
        for (s1, s2), (x, y, dx, dy) in self.bubbles.items():
            # update velocities and positions
            dx += random.randint(-1, 1)
            dy += random.randint(-1, 1)
            # dx and dy should not be too large
            dx, dy = max(-5, min(dx, 5)), max(-5, min(dy, 5))
            # bounce off walls
            if not 0 < x < 770: dx = -dx
            if not 0 < y < 620: dy = -dy
            # apply new velocities
            self.canvas.move(s1, dx, dy)
            self.canvas.move(s2, dx, dy)
            self.bubbles[(s1, s2)] = (x + dx, y + dy, dx, dy)
        # have mainloop repeat this after 100 ms
        root.after(100, self.loop, root)

if __name__ == ""__main__"":
    root = Tkinter.Tk()
    frame = BubbleFrame(root)
    frame.loop(root)
    root.mainloop()
"
16222,80222,Pandas: apply returns list,"print frame
#   player_id  season_id   game_id  points  mean_to_date
#0        200      21999  29900007      10             0
#1        200      21999  29900023      20             0
#2        200      21200  29900042      10             0
#3        200      21200  29900059      20             0
#4        200      21200  29900081      30             0
#5        300      21999  29900089      10             0
#6        300      22111  29900108      10             0
#7        300      22111  29900118      20             0
#8        300      22111  29900143      30             0


frame['mean_to_date'] = frame.groupby(['player_id','season_id']).apply(
          lambda x: pd.expanding_mean(x['points'], 1).shift(1)
                                                     .fillna(0))
                                                     .reset_index(drop=True)
print frame

#   player_id  season_id   game_id  points  mean_to_date
#0        200      21999  29900007      10             0
#1        200      21999  29900023      20            10
#2        200      21200  29900042      10             0
#3        200      21200  29900059      20            10
#4        200      21200  29900081      30            15
#5        300      21999  29900089      10             0
#6        300      22111  29900108      10             0
#7        300      22111  29900118      20            10
#8        300      22111  29900143      30            15
"
9066,14857,Python WxWidgets : how to add hook called when window close button is pressed,"def __init__(self,parent,title,...):
      wx.Frame.__init__(self, parent, title=title, style=wx.DEFAULT_FRAME_STYLE ^ wx.RESIZE_BORDER)
      self.Bind(wx.EVT_CLOSE,self.OnClose)

def OnClose(self,evt):
      print ""CLOSE!!!""
      self.Destroy()
"
25329,54168,Multiply digits in list,"def multiply_digits(lst):
    res = []
    for x in lst:
        if res and res[-1] * x < 10:
            res[-1] *= x
        else:
            res.append(x)
    return res
"
13753,43697,"How can I combine abc.abstractproperty with a classmethod to make an ""abstract class property""?","class Impl(Base):
    @ClassProperty
    @classmethod
    def foo(cls):
        return 5

In [11]: Impl.foo
Out[11]: 5
"
8065,45280,Determining if stdout for a Python process is redirected,"$ cat test.py
import os
print os.fstat(0) == os.fstat(1)
$ python test.py
True
$ python test.py > f
$ cat f
False
$
"
8597,7978,Does deleting/reassigning a python list allow for garbage collection?,">>> import sys
>>> class Person(object):
    pass

>>> list1 = [Person() for _ in range(5)]
>>> sys.getrefcount(list1[0])
2  # list1 and getrefcount
>>> list2 = list1[:]
>>> sys.getrefcount(list2[0])
3  # list1, list2 and getrefcount
>>> del list1  # or just reassign e.g. list1 = None
>>> sys.getrefcount(list2[0])
2  # list2 and getrefcount
"
18431,59548,Fast conversion of time string (Hour:Min:Sec.Millsecs) to float,"def to_seconds(s):
    hr, min, sec = [float(x) for x in s.split(':')]
    return hr*3600 + min*60 + sec
"
25858,66370,python asynchronization,"from threading import Thread
from Queue import Queue


def produce(queue, n_items):
    for d in range(n_items):
        queue.put(d)
        print ""put {0} in queue"".format(d)

def consume(queue, n_items):
    d = 0
    while d != n_items -1: # You need some sort of stop condition
        d = queue.get()
        print ""got {0} from queue"".format(d)

def start_producer_and_consumer(wait):
    q = Queue()
    consumer_thread = Thread(target = consume, args = (q, 10))
    producer_thread = Thread(target = produce, args = (q, 10))
    producer_thread.start()
    consumer_thread.start()
    if wait:
        producer_thread.join()
        consumer_thread.join()

if __name__ == '__main__':
    start_producer_and_consumer(True)
"
18507,14468,"Python: ""@"" followed by a function -> What does it stand for?","def f(...):
    ...
f = staticmethod(f)

@staticmethod
def f(...):
    ...
"
6678,57420,Python: How can I return a function as True and apply it to an earlier function to change the true/false statement,"prompt = ""> ""
decision = ""What do you do?""
not_assigned = ""Say wa?""

class Game:

    def __init__(self):
        self.bodySearched = False
        self.engine_room()

    def engine_room(self):
        print ""You are in a dark room with the sound of moaning engines.""
        print ""You see a corridor to your left and one to your right and an elevator straight ahead of you.""
        print decision
        self.choice = raw_input(prompt)

        if self.choice == ""go left"":
            self.viewing_room()

        elif self.choice == ""go right"":
            self.right_corridor_dead_end()

        elif self.choice == ""use elevator"":
            print ""you get in the elevator and go up.""
            self.main_hallway()

        else:
            print not_assigned
            self.engine_room()


    def right_corridor_dead_end(self):
        print ""You walk down the corridor only to be blocked by a collapsed ceiling.""
        print decision
        self.choice = raw_input(prompt)

        if choice == ""go back"":
            self.engine_room()

        else:
            print not_assigned

    def viewing_room(self): 
        print ""You walk down the corridor and enter and a large room with a window covering the size of the wall.""
        print ""Straight ahead is another door""
        print decision
        self.choice = raw_input(prompt)

        if not self.bodySearched:
            if self.choice == ""open door"":
                print ""The door is locked""
                self.viewing_room()

            elif self.choice == ""go back"":
                self.engine_room()

            else:
                print not_assigned

        if self.bodySearched:
            if self.choice == ""open door"":
                print ""The door opens you walk through""
                self.storage_room()

            else:
                print not_assigned
                self.viewing_room()


    def main_hallway(self):
            print ""You enter a large brightly lit room with 3 rooms connected to it and another elevator straight ahead.""
            print ""The rooms are named, the two on the left are the armoury and lab rooms and to the right are the cabins.""
            print decision
            self.choice = raw_input(prompt)

            if choice == ""go to lab room"":
                self.lab_room()

            elif choice == ""go back"":
                self.engine_room()



    def lab_room(self):
        print ""You enter the lab room which is cluttered with unexplainable machines.""
        print ""To the back of the room you see the dead body of a man with no obvious cause""
        print ""He might have something useful on him""
        print decision
        self.choice = raw_input(prompt)

        if self.choice == ""search body"":
            self.bodySearched = True
            print ""You find a keycard that says 'storage' on it.""
            self.lab_room()

        elif self.choice == ""go back"":
            self.main_hallway()

newGame = Game()
"
7138,52872,Python 2.7 Mode of list without using built-in functions,"def quickSrt(lst):
    if len(lst) < 2:
        return lst
    pivot = lst[0]
    l = quickSrt([x for x in lst[1:] if x < pivot])
    r = quickSrt([x for x in lst[1:] if x >= pivot])
    return l + [pivot] + r

k = [1,2,3,5,3,1,6,3]
d = {}
for i in k:
 if i in d:
   d[i] += 1
 else:
   d[i] = 1

values = [value for key, value in d.items()]
val = quickSrt(values)

for x,y in d.items():
  if y == val[-1]:
    print(x)
"
1509,15579,What is causing urllib2.urlopen() to connect via proxy?,"opener = urllib.FancyURLopener({})
f = opener.open(""http://london.mycompany/mydir/"")
f.read()
"
15916,12655,Custom value for list_display item on Django admin,"class MyModelAdmin(admin.ModelAdmin):
    list_display = ('get_sub_title',)

    def get_sub_title(self, obj):
        if obj.sub_title:
            return obj.sub_title
        else:
            return 'Not Available'

    get_sub_title.short_description = 'Subtitle'
"
32040,77809,How to achieve data search in python list,">>> from collections import defaultdict
>>> d = defaultdict(list)
>>> l = [('admincases', 'test_case_6'), ('admincases', 'test_case_8'),('admincases1', 'test_case_8'),('admincases1', 'test_case_9'),('admincases1', 'test_case_10')]
>>> for k,v in l:
...    d[k].append(v)
... 
>>> d['admincases']
['test_case_6', 'test_case_8']
"
13248,49793,Creating a namedtuple with a custom hash function,"In [1]: from collections import namedtuple

In [2]: Foo = namedtuple('Foo', ['item1', 'item2'], verbose=False)

In [3]: class ExtendedFoo(Foo):
   ...:     def __hash__(self):
   ...:         return hash(self.item1) * hash(self.item2)
   ...: 

In [4]: foo = ExtendedFoo(1, 2)

In [5]: hash(foo)
Out[5]: 2
"
14595,78768,Pandas: how to use query to select closest values,"value_to_find = 0.15
Min = df['A'] <= value_to_find
Max = df['A'] >= value_to_find
idx_Min = df.ix[Min, 'A'].idxmax()
idx_Max = df.ix[Max, 'A'].idxmin()
df.ix[idx_Min:idx_Max, ['A','B']]

       A   B
A           
0.1  0.1  11
0.2  0.2  12
"
25820,31551,Convert time strings to integers,"hourlist,minutelist,secondlist=[],[],[]

f = open(""newtext.txt"", 'r')
for line in f:
    line = line.strip()
    columns = line.split()
    time = columns[0]
    hourlist.append(int(time[0:2]))
    minutelist.append(int(time[2:4]))
    secondlist.append(int(time[4:6])) 
f.close()

hour = int(time[0:2])
minute = int(time[2:4])
second = int(time[4:6])

print hourlist, minutelist,secondlist
"
19480,67750,Boto s3 get_metadata,"for key in bucket.list():
   akey = bucket.get_key(key.name)
   print akey.get_metadata(""company"")
"
18298,29715,Rename files in directory that are found in CSV that match a column then insert header row with name and date,"mv server server.bk &&
mkdir server &&
awk -F, '
NR==FNR { map[""server.bk/""$2"".csv""]=$1; next }
FNR==1 { close(out); out=""server/""map[FILENAME]"".csv""; print ""date,""map[FILENAME] > out }
{ print > out }
' servers.csv server.bk/*.csv
"
24983,33000,ArcMap Data Driven Pages Dynamic Feature Labels,"from arcpy import mapping

## Load the map from disk
mxdFilePath = ""C:\\GIS_Maps_Folder\\MyMap.mxd""
mapDoc = mapping.MapDocument(mxdFilePath)

## Load map elements
dataFrame = mapping.ListDataFrames(mapDoc)[0]   #assumes you want the first dataframe; you can also search by name
mxdLayers = mapping.ListLayers(dataFrame)

## Adjust layers
for layer in mxdLayers:
    if (layer.name == 'zip'):
        zip_lyr = layer
    elif(layer.name == 'sample_units'):
        labels_lyr = layer

## Print zip code map
zip_lyr.visible = True
zip_lyr.showLabels = True
labels_lyr.visible = False
labels_lyr.showLabels = False

zip_path = ""C:\\Output_Folder\\Zips.pdf""
mapping.ExportToPDF(mapDoc, zip_path, layers_attributes=""NONE"", resolution=150)

## Print labels map
zip_lyr.visible = False
zip_lyr.showLabels = False
labels_lyr.visible = True
labels_lyr.showLabels = True

labels_path = ""C:\\Output_Folder\\Labels.pdf""
mapping.ExportToPDF(mapDoc, labels_path, layers_attributes=""NONE"", resolution=150)

## Combine files (if desired)
pdfDoc = mapping.PDFDocumentCreate(""C:\\Output_Folder\\Output.pdf"""")
pdfDoc.appendPages(zip_path)
pdfDoc.appendPages(labels_path)
pdfDoc.saveAndClose()
"
18492,82542,"matplotlib, pyplot : custom color for a specific data value","import numpy
import matplotlib.pyplot as plt

#Random data
data = numpy.random.random((10, 10))

#Set all data points equal to zero to NaN
#data[data == 0.] = float(""NaN"")

#Set single data value to nan
data[2][2] = float(""NaN"")

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)

ax.imshow(data, interpolation = ""nearest"")

plt.show()
"
36985,24106,undistorting/ dewarping a picture with 4 points on a plane,"cv2.getPerspectiveTransform(src, dst)
"
6555,45211,Cartesian product of different size,">>> from itertools import product, combinations
>>> lists = [['A', 'B'], ['1', '2'], ['x', 'y']]
>>> for i in xrange(2, len(lists)+1):
    for c in combinations(lists, i):
        print list(product(*c))
...         
[('A', '1'), ('A', '2'), ('B', '1'), ('B', '2')]
[('A', 'x'), ('A', 'y'), ('B', 'x'), ('B', 'y')]
[('1', 'x'), ('1', 'y'), ('2', 'x'), ('2', 'y')]
[('A', '1', 'x'), ('A', '1', 'y'), ('A', '2', 'x'), ('A', '2', 'y'), ('B', '1', 'x'), ('B', '1', 'y'), ('B', '2', 'x'), ('B', '2', 'y')]
"
1460,26521,self-assign a dict-comprehension to a class from dict,"def __init__(self, init_dict, init_val=0):
    super().__init__()
    self.init_val = init_val
    self.update(init_dict)
    # Here init_dict is a dictionary or a dictionary like object
"
36269,22772,The unicode can not be demonstrated in python,"3>> print(mystery)

"
25559,46689,Emit signal in standard python thread,"from PyQt4 import Qt, QtCore, QtGui
import threading
import socket
import Queue
import time

# Object of this class has to be shared between
# the two threads (Python and Qt one).
# Qt thread calls 'connect',   
# Python thread calls 'emit'.
# The slot corresponding to the emitted signal
# will be called in Qt's thread.
class SafeConnector:
    def __init__(self):
        self._rsock, self._wsock = socket.socketpair()
        self._queue = Queue.Queue()
        self._qt_object = QtCore.QObject()
        self._notifier = QtCore.QSocketNotifier(self._rsock.fileno(),
                                                QtCore.QSocketNotifier.Read)
        self._notifier.activated.connect(self._recv)

    def connect(self, signal, receiver):
        QtCore.QObject.connect(self._qt_object, signal, receiver)

    # should be called by Python thread
    def emit(self, signal, args):
        self._queue.put((signal, args))
        self._wsock.send('!')

    # happens in Qt's main thread
    def _recv(self):
        self._rsock.recv(1)
        signal, args = self._queue.get()
        self._qt_object.emit(signal, args)

class PythonThread(threading.Thread):
    def __init__(self, connector, *args, **kwargs):
        threading.Thread.__init__(self, *args, **kwargs)
        self.connector = connector
        self.daemon = True

    def emit_signal(self):
        self.connector.emit(QtCore.SIGNAL(""test""), str(time.time()))

    def run(self):
        while True:
            time.sleep(1)
            self.emit_signal()

if __name__ == '__main__':
    app = QtGui.QApplication([])
    mainwin = QtGui.QMainWindow()
    label = QtGui.QLabel(mainwin)
    mainwin.setCentralWidget(label)

    connector = SafeConnector()
    python_thread = PythonThread(connector)
    connector.connect(QtCore.SIGNAL(""test""), label.setText)
    python_thread.start()

    mainwin.show()
    app.exec_()
"
5768,1124,Python: Class definition without arguments,"class SoapCall(object):
    def __init__(self):
        self.client = None
        self.response = None

    def setup_client(self):
        credentials = {'username': 'stuff', 'password': 'stuff'}
        url = 'stuff'
        t = HttpAuthenticated(**credentials)
        if self.client is None:
            self.client = suds.client.Client(url, transport=t)

    def use_client(self):
        if self.client is None:
            self.client = self.setup_client()

        self.response = self.client.service.whatever
        print self.response
"
34046,64112,Django-oscar installation as new project with oscar files on project directory,"git clone https://github.com/tangentlabs/django-oscar.git
make sandbox
python sites/sandbox/manage.py runserver
"
28314,80106,How to load a contact sheet of images with PySide?,"import os
import sys
from PySide import QtGui, QtCore

class Example(QtGui.QWidget):

    def __init__(self):
        super(Example, self).__init__()
        self.initUI()

    def initUI(self):
        self.img_fold = r""C:\Users\abhishek.garg\Desktop\New folder""

        self.widget_layout = QtGui.QVBoxLayout(self)
        self.scrollarea = QtGui.QScrollArea()
        self.scrollarea.setWidgetResizable(True)
        self.widget_layout.addWidget(self.scrollarea)
        self.widget = QtGui.QWidget()
        self.layout = QtGui.QVBoxLayout(self.widget)
        self.scrollarea.setWidget(self.widget)

        self.layout.setAlignment(QtCore.Qt.AlignHCenter)

        for img in os.listdir(self.img_fold):
            img_path = os.path.join(self.img_fold, img)

            pixmap = QtGui.QPixmap(img_path)
            lbl = QtGui.QLabel(self)
            lbl.setPixmap(pixmap)

            self.layout.addWidget(lbl)


        self.setGeometry(300, 300, 280, 170)
        self.setWindowTitle('Image viewer')
        self.show()

def main():

    app = QtGui.QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())


if __name__ == '__main__':
    main()
"
13890,11203,Calculating the number of specific consecutive equal values in a vectorized way in pandas,">>> df['in'].groupby((df['in'] != df['in'].shift()).cumsum()).cumsum()
0    0
1    1
2    0
3    0
4    1
5    2
6    0
7    1
8    2
9    3
dtype: int64
"
24566,76702,Python: summarizing data in dataframe using a series,">>> df.groupby(['ser_no', 'CTRY_NM']).date.agg(
        {'start_dt': min, 
         'end_dt': max, 
         'number_of_dt': 'count'})
                number_of_dt   start_dt     end_dt
ser_no CTRY_NM                                    
1      a                   2 2016-01-01 2016-01-02
       b                   1 2016-03-01 2016-03-01
2      a                   1 2016-06-05 2016-06-05
       b                   1 2016-07-01 2016-07-01
       e                   2 2016-01-01 2016-01-02
3      b                   2 2016-01-01 2016-01-02
       d                   1 2016-08-02 2016-08-02
"
35549,46021,Python: creating class instance without calling initializer,">>> class MetaInit(type):

    def __call__(cls, *args, **kwargs):
        if args or kwargs:
            return super().__call__(*args, **kwargs)
        return cls.__new__(cls)

>>> class String(metaclass=MetaInit):

    def __init__(self, string):
        self.__string = tuple(string.split())
        self.__simple = tuple(self.__simple())

    def __simple(self):
        letter = lambda s: ''.join(filter(lambda s: 'a' <= s <= 'z', s))
        return filter(bool, map(letter, map(str.lower, self.__string)))

    def __eq__(self, other):
        assert isinstance(other, String)
        return self.__simple == other.__simple

    def __getitem__(self, key):
        assert isinstance(key, slice)
        string = String()
        string.__string = self.__string[key]
        string.__simple = self.__simple[key]
        return string

    def __iter__(self):
        return iter(self.__string)

>>> String('Hello, world!')[1:]
<__main__.String object at 0x02E78830>
>>> _._String__string, _._String__simple
(('world!',), ('world',))
>>> 
"
12743,81277,What is the Python equivalent of Ruby's fork block?,"child_pid = os.fork()
if child_pid == 0:
    print ""This is the child.""
    sys.exit(0)
print ""This is the parent.""
"
5244,43143,How can I convert frame count to hh:mm:ss:msec format in Python?,"from datetime import timedelta

FPS = 24.0
frame_count = 12345
td = timedelta(seconds=(frame_count / FPS))

>>> print td
0:08:34.375000
"
39729,76198,how to remove an element in lxml,"tree=et.fromstring(xml)

for bad in tree.xpath(""//fruit[@state=\'rotten\']""):
  bad.getparent().remove(bad)     # here I grab the parent of the element to call the remove directly on it

print et.tostring(tree, pretty_print=True, xml_declaration=True)
"
16409,35794,Python Convert String to List of Lists of Strings,">>> [list(x) for x in output.split('\n')]
[['S', '.', '#', '#', '.', '.', '.', '.', '.', '.'],
 ['#', '.', '#', '#', '.', '.', '#', '#', '#', '.'],
 ['#', '.', '#', '#', '#', '.', '#', '#', '#', '.'],
 ['#', '.', '.', '.', '.', '.', '#', '#', '#', '.'],
 ['#', '#', '#', '.', '#', '#', '#', '#', '#', 'S']]
"
33566,27834,Instantiate all functions in Python,"from util import *
"
14774,41141,Counting random numbers,"sum(1 for _ in iter(lambda: randint(0, 9), 5))
"
7709,31460,PYTHON: Annotate boxes disapear dependant on range,"def anno_example(sigma, mu):
    Sample = np.random.normal(mu, sigma, 10000)

    figHS = plt.figure(figsize=(9,6)) 
    axHS = figHS.add_subplot(1, 1, 1)
    n, histbins, patches = axHS.hist(Sample,100, histtype='step', normed=1) 

    axHS.plot(histbins, plt.mlab.normpdf(histbins, mu, sigma))

    axHS.annotate(""$\mu=%.3f$ \n $\sigma=%.3f$ \n $N=%i$""%
                  (Sample.mean(), Sample.std(), len(Sample)),
                  xytext=(0.8, 0.85), bbox=dict(boxstyle=""sawtooth"", fc=""w""),
                  xy=(0.8, 0.85), xycoords=axHS.transAxes)
    axHS.annotate("" $\mu=%.3f$ \n $\sigma=%.3f$ \n $N=%s$""%(mu,sigma,""--""),
                  xytext=(0.6, 0.85), bbox=dict(boxstyle=""round"", fc=""w""),
                  xy=(0.6, 0.85), xycoords=axHS.transAxes)

anno_example(0.12, 0.5)
anno_example(0.1,  0.3)
anno_example(0.05, 0.2)
"
25685,8401,Find php string concatenation using python regex,"text = ""$email = 'hello '.$user1_35.' we would like to annoy you '.$Tod-ay.' for 20 minutes.';""
res = re.findall(""'\.(\$[\w-]*)\.'"", text)
print res #['$user1_35', '$Tod-ay']
"
34135,39816,Grouping a list into a nested list under a condition - Python,"from itertools import tee, islice, izip
A = [1.10,1.11,1.12,1.21,1.22,1.48]
groups = izip(*[islice(el, n, None) for n, el in enumerate(tee(A, 3))])
print list(groups)
# [(1.1, 1.11, 1.12), (1.11, 1.12, 1.21), (1.12, 1.21, 1.22), (1.21, 1.22, 1.48)]
"
19206,144,Extracting and integrating data from separate lists in Python,"cluster_to_tag = defaultdict(list)
#May want to assert that length of tags and T is same
for tag,cluster in zip(tags, T):
    cluster_to_tag[cluster].append(tag)

#cluster_to_tag now maps cluster ti list of tags
"
35992,12882,"match pattern between symbols, after given pattern","    re.findall(r""vcxproj.*?\{(.*?)\}"", text)
"
13545,69840,Can I design a button like the one given in pic using Kivy?,"<YourRule@BoxLayout>:
    text: 'something'  # define a property to hold the button text, 
                       # could also be done in python
    Image:
        size_hint_x: None
        width: self.height  # make it square
        source: 'whatever'
    Label:
        text_size: self.size  # the text wrapping bounds
        text: root.text
        halign: 'left'
    Image:
        size_hint_x: None
        width: dp(10)
        source: 'right_arrow.png'  # assuming you have a picture of the button arrow
                                   # you could also draw one manually with kivy canvas instructions
"
3017,83156,Reading and comparing lines in a file using Python,"import datetime

def getStatus(log_list, dt, tm):
 #filter the list
 log_list = [a_log_entry for a_log_entry in log_list if a_log_entry[0] == dt and a_log_entry[1] <= tm]

    #sort it
 log_list.sort(cmp=lambda x,y: cmp(x[1], y[1]))
 if log_list is []:
     return 'No status available for this day and time.'

    #pull out the status
 status_to_return = log_list[-1][2].split('_')[-1].strip()

 return status_to_return

if __name__ == '__main__':
 in_file = open('a.log', 'rU')
 a_list = []

 for line in in_file:
  if line.strip() is not '': #handle whitespace
   a_list.append(line.split(' '))

 #convert string dates and times to datetime objects
 a_list = [ [datetime.datetime.strptime(el[0], '%d/%m/%Y'),
    datetime.datetime.strptime(el[1], '%H:%M:%S'), 
    el[2]] for el in a_list]


 a_date = datetime.datetime(2010, 7, 15)
 a_time = datetime.datetime(1900, 1, 1, 16, 1, 0)
 print getStatus(a_list, a_date, a_time)
"
34313,67708,Django JSON string to json object,"data = list(Data.objects.all().values('deviceId','payload'))
"
31309,32506,win32: simulate a click without simulating mouse movement?,"POINT pt;
    pt.x = 30; // This is your click coordinates
    pt.y = 30;

HWND hWnd = WindowFromPoint(pt);
LPARAM lParam = MAKELPARAM(pt.x, pt.y);
PostMessage(hWnd, WM_RBUTTONDOWN, MK_RBUTTON, lParam);
PostMessage(hWnd, WM_RBUTTONUP, MK_RBUTTON, lParam);
"
5165,55433,"Without pointers, can I pass references as arguments in Python?","def my_func(foo):
    foo.append(3)  # now the source list also has the number 3
    foo = [3]      # we've re-bound 'foo' to something else, severing the relationship
    foo.append(4)  # the source list is unaffected
    return foo


original = [1, 2]
new = my_func(original)

print original     # [1, 2, 3]
print new          # [3, 4]
"
27888,26833,Django SECRET_KEY,">grep -Inr SECRET_KEY *
conf/global_settings.py:255:SECRET_KEY = ''
conf/project_template/settings.py:61:SECRET_KEY = ''
contrib/auth/tokens.py:54:        hash = sha_constructor(settings.SECRET_KEY + unicode(user.id) +
contrib/comments/forms.py:86:        info = (content_type, object_pk, timestamp, settings.SECRET_KEY)
contrib/formtools/utils.py:15:    order, pickles the result with the SECRET_KEY setting, then takes an md5
contrib/formtools/utils.py:32:    data.append(settings.SECRET_KEY)
contrib/messages/storage/cookie.py:112:        SECRET_KEY, modified to make it unique for the present purpose.
contrib/messages/storage/cookie.py:114:        key = 'django.contrib.messages' + settings.SECRET_KEY
contrib/sessions/backends/base.py:89:        pickled_md5 = md5_constructor(pickled + settings.SECRET_KEY).hexdigest()
contrib/sessions/backends/base.py:95:        if md5_constructor(pickled + settings.SECRET_KEY).hexdigest() != tamper_check:
contrib/sessions/backends/base.py:134:        # Use settings.SECRET_KEY as added salt.
contrib/sessions/backends/base.py:143:                       settings.SECRET_KEY)).hexdigest()
contrib/sessions/models.py:16:        pickled_md5 = md5_constructor(pickled + settings.SECRET_KEY).hexdigest()
contrib/sessions/models.py:59:        if md5_constructor(pickled + settings.SECRET_KEY).hexdigest() != tamper_check:
core/management/commands/startproject.py:32:        # Create a random SECRET_KEY hash, and put it in the main settings.
core/management/commands/startproject.py:37:        settings_contents = re.sub(r""(?<=SECRET_KEY = ')'"", secret_key + ""'"", settings_contents)
middleware/csrf.py:38:                % (randrange(0, _MAX_CSRF_KEY), settings.SECRET_KEY)).hexdigest()
middleware/csrf.py:41:    return md5_constructor(settings.SECRET_KEY + session_id).hexdigest()
"
15118,1905,How to temporary hide stdout or stderr while running a unittest in Python,">>> import sys, os
>>> _stderr = sys.stderr
>>> _stdout = sys.stdout
>>> null = open(os.devnull,'wb')
>>> sys.stdout = sys.stderr = null
>>> print ""Bleh""
>>> sys.stderr = _stderr
>>> sys.stdout = _stdout
>>> print ""Bleh""
Bleh
"
33467,52237,Model Creation by SQLAlchemy database reflection,"table = Table('anExistingTable', Base.metadata, autoload=True, autoload_with=Session.bind)
Extension = type('Extension', (BaseClass,), {
    '__table__' : table,
    '__mapper_args__' : {
        'inherits': BaseClass,
        'polymorphic_identity': 'extension'
    }
})
"
38283,77325,"User defined type checking in python: ""type(A()) is A"" returns false","class A(object):
    pass
"
6220,51276,Python Object Reference,"import copy

class A:

    def __init__(self):
        self.x = 1

    def changeX(self,num):
        self.x = num


class B:

    def __init__(self,classA):
        self.x = classA

class C:
    def __init__(self,classA):
        self.x = classA

    def ChangeA(self,num):
        self.x.changeX(num)

c_a = A()
c_b = B(c_a)
c_c = copy.deepcopy(C(c_a))


c_c.ChangeA(2)

c_a.x #1
c_b.x.x #1
c_c.x.x #2
"
34220,3704,How to open a program from a text file in Python,"import subprocess

with open(""inputfile"", ""rb"") as f:
    subprocess.call(f.read())
"
31,15037,Date Validity and Leap Year Checker,"import datetime
import calendar


def validate_date(year, month, date):
    """"""Returns True if valid date else False""""""
    try:
        datetime.datetime(year, month, date)
        return True
    except ValueError:
        return False
"
19539,9368,Regex uniform pattern requirements,"r""""""
\d{2}(?P<separator>[-:\s]?)
\d{2}(?P=separator)
\d{3}(?P=separator)
\d{3}(?:(?P=separator)\d{4})?""""""
"
10499,65085,How to change for loop to store items in a list for writing,"print user_alias
for user in user_alias:
    for row in Dict_list:    
        if user in row.values():
            print row

UserIDs = [] # This is the change.
for user in user_alias:
    for row in Dict_list:
        if row.has_key('_akq6p') and row.has_key('_cn6ca'):
            if user == row['_akq6p'] or user == row['_chk2m']:
                UserID = row['_cn6ca']
                print UserID
                UserIDs.append(UserID)

print UserIDs
"
17980,13514,how to add new record to pandas dataframe,"In [1]: df = pd.DataFrame(columns = ['COL1', 'COL2'])
In [2]: df.ix['test1'] = [20, 30]
In [3]: df
Out[3]:
       COL1  COL2
test1    20    30

[1 rows x 2 columns]
"
25050,31781,Renaming the keys of a dictionary,">>> d = {1:'a',2:'b'}
>>> d[3] = d.pop(1)
>>> d
{2: 'b', 3: 'a'}
"
6140,49741,How can I get the x and y dimensions of a ndarray - Numpy / Python,"y, x = a.shape
"
23050,17243,Why in comparing python tuples of objects is __eq__ and then __cmp__ called?,"print min(timeit.Timer(""""""
l =list()
for i in range(5): 
    l.append((A(),A(),A()))
    l[-1][0].s='foo'
    l[-1][1].s='foo2'
for _ in sorted(l): pass 
print A.eq_calls
print A.cmp_calls"""""", setup=setup).repeat(1, 1))
"
5863,35857,How do I display sentences from a website?,"import lxml.html as html
import mechanize

br = mechanize.Browser()
page = br.open(""http://www.urbandictionary.com/"")

br.select_form(nr=0)
br[""term""] = ""skid""
br.submit()

fragment = html.fromstring(br.response().read())

print fragment.find_class('definition')[0].text_content()
"
17289,64071,How to detect CPU speed and H.D.D rpm in objective-c or python,"import _winreg

key = _winreg.OpenKey(
    _winreg.HKEY_LOCAL_MACHINE,
    r""HARDWARE\DESCRIPTION\System\CentralProcessor\0"")

value, type = _winreg.QueryValueEx(key, ""~MHz"")
print 'CPU speed is:', value
"
2364,52075,Formatting json converted datetime string returned from github v3 in python,"import datetime
datetime.datetime.strptime('2011-12-11T22:37:18Z', '%Y-%m-%dT%H:%M:%SZ')`
"
484,51577,How to use join to fill missing values of a column - Python Pandas?,"In [8]: df2 = df2.rename(columns={'B':'A'})

In [9]: df1.combine_first(df2)
Out[9]:
          A
12/1/14   3
12/2/14  20
12/2/14  20
12/3/14   2
12/4/14  30
12/6/14   5
"
9796,60627,python - list last index,"class MyList(list):
    def last_index(self):
        return len(self)-1


>>> l=MyList([1, 2, 33, 51])
>>> l.last_index()
3
"
3401,4726,Python Subclass Builtin List,"class MyList(list):
    #your stuff here

    def __getslice__(self, i, j):
        return MyList(list.__getslice__(self, i, j))
"
21543,3562,Solving system of nonlinear equations with python,"In [1]: import sympy as sp
In [2]: x, y, z = sp.symbols('x, y, z')
In [3]: rho, sigma, beta = sp.symbols('rho, sigma, beta')
In [4]: f1 = sigma * (y - x)
In [5]: f2 = x * (rho - z) - y
In [6]: f3 = x * y - beta * z
In [7]: sp.solvers.solve((f1, f2, f3), (x, y, z))
Out[7]: 
[(0, 0, 0),
 (-sqrt(beta*rho - beta), -sqrt(beta*(rho - 1)), rho - 1),
 (sqrt(beta*rho - beta), sqrt(beta*(rho - 1)), rho - 1)]
"
4278,82483,returning multiple objects from py.test fixture,"@pytest.yield_fixture
def event():
    ...
    yield <event_properties>

@pytest.yield_fixture
def listener(event):
    ...
    yield <listener_properties>
"
24224,42888,"Returning value when instance ""called""","class foo(pygame.Surface):
    def __init__(self):
        pygame.Surface.__init__(self, (20, 20))
        more_data = ""You should be able to extend this class freely""
"
18079,26093,python: comparing 2 lists of instances,"set1 = set((x.id,x.name,...) for x in list1)
difference = [ x for x in list2 if (x.id,x.name,...) not in set1 ]
"
25928,61200,Saving the results as LUT,"In [37]:

a = np.array([calculate(a,b,c) for a,b,c in products])
np.savetxt(r'c:\data\lut.txt', a)
In [39]:

b = np.loadtxt(r'c:\data\lut.txt')
np.all(a==b)
Out[39]:
True
"
2059,64084,Python: Grab the A record of any URI?,"py> import urlparse,socket
py> p = urlparse.urlparse(""http://stackoverflow.com/questions/1480183"")
py> p
('http', 'stackoverflow.com', '/questions/1480183', '', '', '')
py> host=p[1]
py> ai=socket.gethostbyname(host)
py> socket.gethostbyname(host)
'69.59.196.211'
"
19909,56718,How to read complete IP frames from TCP socket in Python?,"pkts_rxd = []
def process_and_send(pkt):
    pkts_rxd.append(pkt)
    sendp(pkt, 'eth1')
sniff(prn=process_and_send, iface='eth0', count=100)
"
27343,14991,"3d integral, python, integration set constrained","from scipy.integrate import quad
from math import sqrt
from math import pi

def x_max(y,r):
    return sqrt(r**2-y**2)

def x_min(y,r):
    return max(-sqrt(r**2 - y**2), -sqrt(R**2 - y**2) + b) 

def y_max(r):
    if (R<b and b-R<r) or (R>b and b-R>r):
        return sqrt( R**2 - (R**2-r**2+b**2)**2/(4.*b**2) )
    elif r+R<b:
        return 0.
    else: #r+b<R
        return r

def z_max():
    if R>b:
        return R
    else:
        return sqrt(2.*b*R - b**2) 

def delta_x(y, r):
    return  x_max(y,r) - x_min(y,r)

def int_xy(z):
    r = sqrt(R**2 - z**2)
    return quad(delta_x, 0., y_max(r), args=(r))

def int_xyz():
    return quad(lambda z: int_xy(z)[0], 0., z_max())

R=1.
Rprim=1.
b=0.5
print 4*int_xyz()[0]
"
28394,17721,how to re-define the `__add__` method for `int`?,"In [126]: class myint(int):
    def __add__(self,a):
        print ""{0} plus {1}"".format(self,a)
   .....:         

In [127]: a=myint(5)

In [128]: b=myint(6)

In [129]: a+b
5 plus 6
"
25117,18307,How to make Python do something every half an hour?,"from time import sleep
from threading import Thread


def func():
    your actual code code here


if __name__ == '__main__':

    Thread(target = func).start()
    while True:
        sleep(1800)
        Thread(target = func).start()
"
13177,58513,Moving every string in a list with a specific first word to another list,"for card in computer_hand[:]:
"
5951,69512,Floating point operation again,"In [2]: '%.20f' % (3.3 + 1.1)
Out[2]: '4.40000000000000035527'
"
31796,72154,prevent the sub windows to open multiple times,"import wx
from wx.lib import sized_controls


class MultiMessageFrame(sized_controls.SizedFrame):

    def __init__(self, *args, **kwargs):
        super(MultiMessageFrame, self).__init__(*args, **kwargs)
        pane = self.GetContentsPane()
        text_ctrl = wx.TextCtrl(
            pane, style=wx.TE_READONLY | wx.TE_CENTRE | wx.TE_MULTILINE)
        text_ctrl.SetSizerProps(proportion=1, expand=True)
        text_ctrl.SetBackgroundColour('White')
        self.text_ctrl = text_ctrl

        pane_btns = sized_controls.SizedPanel(pane)
        pane_btns.SetSizerType('horizontal')
        pane_btns.SetSizerProps(align='center')

        button_ok = wx.Button(pane_btns, wx.ID_OK)
        button_ok.Bind(wx.EVT_BUTTON, self.on_button_ok)

    def append_msg(self, title_text, msg_text):
        self.SetTitle(title_text)
        self.text_ctrl.AppendText(msg_text)

    def on_button_ok(self, event):
        self.Close()


class MainFrame(sized_controls.SizedFrame):

    def __init__(self, *args, **kwargs):
        super(MainFrame, self).__init__(*args, **kwargs)
        self.SetInitialSize((800, 600))
        self.CreateStatusBar()
        menubar = wx.MenuBar()
        self.SetMenuBar(menubar)
        menu_file = wx.Menu()
        menu_file.Append(
            wx.ID_NEW, 'Show msg', 'Add a new message to message frame')
        menubar.Append(menu_file, '&File')
        self.Bind(wx.EVT_MENU, self.on_new, id=wx.ID_NEW)

        self.count = 1
        self.multi_message_frame = None

    def on_new(self, event):
        title_text = 'MultiMessageFrame already exists'

        if not self.multi_message_frame:
            title_text = 'Newly created MultiMessageFrame'
            self.multi_message_frame = MultiMessageFrame(
                self, style=wx.DEFAULT_FRAME_STYLE | wx.FRAME_FLOAT_ON_PARENT)
            self.multi_message_frame.Bind(
                wx.EVT_CLOSE, self.on_multi_message_frame_close)
            self.multi_message_frame.Center()
            self.multi_message_frame.Show()

        self.multi_message_frame.append_msg(
            title_text, 'message no.{}\n'.format(self.count))
        self.count += 1

    def on_multi_message_frame_close(self, event):
        self.multi_message_frame = None
        event.Skip()


if __name__ == '__main__':
    app = wx.App(False)
    main_frame = MainFrame(None)
    main_frame.Show()
    app.MainLoop()
"
34167,57043,psychopy logging time when participant stopped moving cursor,"timer = core.CountdownTimer(TrialDuration)
stepSize = 1
for eachPic in catPictures:
    prevPos = 0  # keeps track of the slider position
    rts=[]  # used to keep track of what the latest reaction time was. Reset in the beginning of every trial.

    timer.reset()
    event.clearEvents() # get rid of other, unprocessed events
    while timer.getTime() > 0:
    for key, rt in event.getKeys(timeStamped=timer):  # time keys to this clock
        rts += [rt]  # add this reaction time to the list
        if key in ['escape']:
            core.quit() # quit if they press escape
        if key in ['b']:
            # add keypress to list for each keypress. then move cursor proportionally to length of this list
            prevPos+=stepSize
        if key in ['t']:
            prevPos-=stepSize

    # Log here instead of print
    print rts[-1]
"
29097,49378,python3.3 bubble sort: returning None if list already sorted,"def bubble_sort_2nd_value(tuples_list):

    NEWLIST = []
    itemMoved=0
    for i in tuples_list:
        NEWLIST.append(i)
    for i in range(len(NEWLIST)):
         for j in range(i+1, len(NEWLIST)):
             if(NEWLIST[j][1]<NEWLIST[i][1]):
                 itemMoved=1
                 NEWLIST[j],NEWLIST[i] = NEWLIST[i],NEWLIST[j]

    if(itemMoved==0): print(""None"")
    else: print(NEWLIST)

tuples_list = [(""h1"",1),(""h2"",2),(""h3"", 3), (""hi"" , 4)]

bubble_sort_2nd_value(tuples_list)
"
19221,1084,Data transformation - Python,"In [8]: l
Out[8]: 
[['a', 'b', 'c'],
 ['b', '', ''],
 ['a', '', ''],
 ['a', 'c', 'd'],
 ['b', 'c', ''],
 ['b', 'c', '']]

In [9]: [ filter(None, a) for a in l]
Out[9]: [['a', 'b', 'c'], ['b'], ['a'], ['a', 'c', 'd'], ['b', 'c'], ['b', 'c']]
"
4097,65239,See Queue items in Pydev debug,">>> q = Queue()
>>> q.put(1)
>>> q.queue
deque([1])
"
13256,22771,Read FORTRAN formatted numbers with Python,"In [47]: strs=""4.500000+1 1.894719-3 4.600000+1 8.196721-3 4.700000+1 2.869539-3""

In [48]: [float(x.replace(""+"",""e+"").replace(""-"",""e-"")) for x in strs.split()]

Out[48]: [45.0, 0.001894719, 46.0, 0.008196721, 47.0, 0.002869539]
"
37330,13920,Unable to check if queryset is a subset,"PermissionValidatorMap.objects.exclude(
    validator_set__in=ValidatorMetaData.objects.exclude(id__in=validator_list))
"
621,1982,How to run Python Library Module as a script from another python file? (Python 3.5.1),"subprocess.Popen(['python3', '-m', 'path.to.python.file', '--option1=OPTION_VALUE'])
"
19645,51688,How to write a copyright message using matplotlib," text(x, y, s, fontdict=None, **kwargs)
"
32072,52320,Execute another Python instance from different instance,"execl(file, *args)
execle(file, *args, env)
execlp(file, *args)
execlpe(file, *args, env)
execv(path, args)
execve(path, args, env)
execvp(file, args)
execvpe(file, args, env)
"
3305,84585,How to Quit Current Program and recreate the original Gui? Also creating a secret code to close program,"import Tkinter as TK

font = ('Times New Roman', 14, 'bold')
font2 = ('Times New Roman',12, 'bold')

class example3(TK.Toplevel):
    def __init__(self, parent):
        TK.Toplevel.__init__(self)
        self.geometry('380x100')
        self.parent=parent
        self.initalize()

    def initalize(self):
        self.grid()

        def restart():
            self.parent.do_restart = True
            self.parent.destroy()

        Yes = TK.Button(self, text = 'Yes', font = font2, command = restart)
        Yes.grid(column = 0, row = 0, sticky = 'we', padx = (10, 10))

class example2(TK.Toplevel):
    def __init__(self, parent):
        TK.Toplevel.__init__(self)
        self.geometry('770x150')
        self.parent = parent
        self.initalize()

    def initalize(self):
        self.grid()

        #Creates Label Frame
        MstepOne = TK.LabelFrame(self, font = font2)
        MstepOne.grid(row=0, columnspan=7, sticky='w', padx=5, pady=5, ipadx=5, ipady=5)

        def gatherinfo2():
            #self.destroy() #Not sure why your do this
            example3(self.parent) # You need to pass self.parent here

        #Creates Label 
        MLabel1 = TK.Label(MstepOne, text = ""First Name"", font = font)
        MLabel1.grid(column = 2, row = 0, sticky = 'w', padx = (10, 10))
        MLabel2 = TK.Label(MstepOne, text = ""Last Name"", font = font)
        MLabel2.grid(column = 4, row = 0, sticky = 'w', padx = (10, 10))

        #Creates Button
        MSubmit = TK.Button(self, text = 'Submit', font = font2, command = gatherinfo2)
        MSubmit.grid(column = 3, row = 3, sticky = 'we', padx = (10, 10))


class example(TK.Tk):   
    def __init__(self, parent):
        TK.Tk.__init__(self, parent)
        self.parent = parent
        self.do_restart=True
        self.initialize()

    def initialize(self):
        self.grid() 

        def gatherinfo():
            example2(self)

        def terminate(event=None):
            self.do_restart = False
            self.destroy()            

        self.bind(""<Escape>"", terminate) # Press ESC to escape the program
        MSubmit = TK.Button(self, text = 'Submit', font = font2, command = gatherinfo)
        MSubmit.grid(column = 3, row = 3, sticky = 'we', padx = (10, 10))

def main():
    do_loop = True        # Loop so we can restart the program if not terminating it
    while do_loop:
        app = example(None)
        app.geometry('400x400')
        app.mainloop()
        do_loop = app.do_restart # Gets if we should restart or terminate
        if do_loop:
            print(""Restarting"")
        else:
            print(""Terminating"")

if __name__ == '__main__':
    main()
"
11339,73340,use IDs instead of instances to create new objects with foreign keys,"a = models.Object1.get_or_create(f__pk=foreign_object_id)
"
11669,71536,Python str to file type,"output = StringIO.StringIO(r.content)
"
8050,47210,Python truncate string at regex defined index,">>> import re
>>>
>>> l = [""2007 ford falcon xr8 ripcurl bf mkii utility 5.4l v8 cyl 6 sp manual bionic "", ""2004 nissan x-trail ti 4x4 t30 4d wagon 2.5l 4 cyl 5 sp manual twilight "", ""2002 subaru liberty rx my03 4d sedan 2.5l 4 cyl 5 sp manual silver""]
>>> for item in l:
...     print(re.sub(r""(\b[0-9.]+l\b|\d+d (?:wagon|sedan)).*$"", """", item))
... 
2007 ford falcon xr8 ripcurl bf mkii utility 
2004 nissan x-trail ti 4x4 t30 
2002 subaru liberty rx my03 
"
18522,64103,BeautifulSoup4: how to find a HTML element whose text contains an accented character?,"soup.find(text=u'Prévu')
"
29315,66697,Python: Removing unnecessary brackets?,"def prime_list(X, Y):
    Z = []
    while X <= Y:
        if is_prime(X):
            Z.append(X)
        X = X + 1
    return Z
"
9101,84374,Referencing List Positions of Words,"[WordsUsed.index(word) for word in Phrase]
"
35665,62015,Transforming Pandas dataframe,"df.pivot(index='date', columns='variable', values='value')
"
18321,23753,"Lucene or Python: Select both ""Hilary Clinton"" and ""Clinton, Hilary"" name entries","import re
t1 = 'Hilary Clinton'
t2 = 'Clinton, Hilary'
re.search(r'(?:\s?Hilary()|\s?Clinton(),?){2}', t1)
re.search(r'(?:\s?Hilary()|\s?Clinton(),?){2}', t2)
"
23954,962,How to log some data on console?,"payload = request.json
print payload
#if using py3 print(payload)
"
24231,77441,PyGame Main Menu,"initialize all menu variables

draw menu pix and selections

while a selection has not been made:
    look for key inputs (arrow keys/enter/esc)
        if down arrow pressed:
            move selection box to next option and note that the selection is on the next object down
        if up arrow pressed:
            move selection box to previous option and note that the selection is on the previous object up
        if escape pressed:
            quit the game
        if enter pressed:
            process which option in the menu was highlighted (quit of quit was selected, etc) and tell the while loop to stop

    update the display

set up the game variables and such

main while loop
    run the game and get an A+
"
4932,57161,search specific tuples in list and dictionaries,">>> liste=[(0,1,45), (0,2,90), (0,3,60), (1,2,50), (1,3,20), (2,3,25)]
>>> number_list=(0,2)
>>> d = {str(x):[item for item in liste if x in item] for x in number_list}
>>> d
{'0': [(0, 1, 45), (0, 2, 90), (0, 3, 60)], '2': [(0, 2, 90), (1, 2, 50), (2, 3, 25)]}
"
7636,7065,zeromq zmq.Poller & stdin,"poller = zmq.Poller()
poller.register(sys.stdin, zmq.POLLIN)
poller.register(mysocket, zmq.POLLIN)
evts = dict(poller.poll(1000))
stdin_ready = evts.get(sys.stdin.fileno(), False)
socket_ready = evts.get(mysocket, False)
"
19997,6162,Python functools.lru_cache eviction callback or equivalent,"class LRUCache2(LRUCache):
    def __init__(self, maxsize, missing=None, getsizeof=None, evict=None):
        LRUCache.__init__(self, maxsize, missing, getsizeof)
        self.__evict = evict

    def popitem(self):
        key, val = LRUCache.popitem(self)
        evict = self.__evict
        if evict:
            evict(key, val)
        return key, val
"
32596,75445,can't return a variable outside the function,"pagination_urls = [""http://google.com""]

def oss(url):
    data = url
    return data


for url in pagination_urls:
    data = oss(url)
    spider = data
    print spider
"
37821,8278,Is it efficent to use lists for data reading before assigning them to a numpy array?,"# To load only columns 1 (time), 19 (velocity x), and 21 (velocity z).
numpy.loadtxt('data.csv', delimiter=',', usecols=(1,19,21))
"
14118,4835,Strategies for searching through strings in python?,">>> import re
def count(s):
    return sum(1 for m in re.finditer(r'co.e', s))
... 
>>> count('aaacodebbb')
1
>>> count('codexxcode')
2
>>> count('cozexxcope')
2
"
26196,26016,how to create dummies for certain columns by pandas get_dummies() method?,"In [294]: pd.get_dummies(df, prefix=['A', 'D'], columns=['A', 'D'])
Out[294]: 
   B  C  A_x  A_y  D_j  D_l
0  z  1  1.0  0.0  1.0  0.0
1  u  2  0.0  1.0  0.0  1.0
2  z  3  1.0  0.0  1.0  0.0
"
2834,43881,get value from dict when looping via ng-repeat,"<span data-ng-repeat=""field in  fields"">
   {{ field.name.field_name }}<!-- this should print ""date"" at first -->
    : {{ field.name[field.name.field_name] }} <!-- this should print ""00000"" at first -->
</span>
"
635,45101,While loop that prints a random number between 1 and 10 and stops when the number is N,"import random

x = random.randint(0,10)
y = 7
while x != y:
    print(x)   #Print old (non-7) random number
    x = random.randint(0,10)  #pick a new number.  I hope it's 7 so we can end this madness

print(""You found {0}.  Congrats.  Go have a beer."".format(y))
"
28336,41634,Python - recursive loop within a dict,"import itertools
mydict = {'a': 10, 'b': 20, 'c':30}
result = [mydict[x] + mydict[y] for x, y in itertools.combinations(d, 2)]
"
3138,70629,django: Is there anyway to serve a file directly from memory,"docfile = instance.decoder(segments)
response = HttpResponse()
response.write(docfile)
response['Content-Disposition'] = 'attachment; filename={0}'.format(file_name)
return response
"
16767,36646,Returning only No. of Google Search Results via Python,"{'cursor': {'currentPageIndex': 0,
            'estimatedResultCount': '168000000',
            'moreResultsUrl': 'http://www.google.com/search?oe=utf8&ie=utf8&source=uds&start=0&hl=en&q=cars',
            'pages': [{'label': 1, 'start': '0'},
                      {'label': 2, 'start': '4'},
                      {'label': 3, 'start': '8'},
                      {'label': 4, 'start': '12'},
                      {'label': 5, 'start': '16'},
                      {'label': 6, 'start': '20'},
                      {'label': 7, 'start': '24'},
                      {'label': 8, 'start': '28'}]},
 'results': [ <<list of 4 dicts>> ]}
"
25396,65077,Minimalistic example of IPython kernel javascript bi-directional communication,"var callbacks = { 'output': $.proxy(output_area.handle_output, output_area) };
"
3274,29418,Converting a dynamic PHP/mySQL website to an archived HTML version?,"wget --mirror -w 2 -p --html-extension --convert-links -P folder_to_save_to http://mysite.com
"
21244,26011,Python sort data every nth line?,"import numpy as np
full = [line for line in open(""foo4"",'r').readlines() if not line.startswith(""#"")]
datablocks = np.split(np.array(full), len(full)/4081)
for block in datablocks:
    #lines is a dataset, sorted by first column
    lines = sorted(block, key= lambda line : int(line.split()[0]))
    print lines
"
16293,6977,histtype='stepfilled' option using bar function,"import numpy as np
import matplotlib.pyplot as plt

fig,ax = plt.subplots(1)

# Generate some random data
hist1,bins1 = np.histogram(np.random.normal(2,1,1000),bins=np.arange(-2,8,0.5))
hist2,bins2 = np.histogram(np.random.normal(4,1,1000),bins=np.arange(0,10,0.5))

# 'step' draws the lines, 'bar' fills them
ax.step(bins1[:-1],hist1,'k',linestyle='-',linewidth=2,where='post')
ax.bar(bins1[:-1],hist1,width=0.5,linewidth=0,facecolor='k',alpha=0.3)
ax.step(bins2[:-1],hist2,'k',linestyle='--',linewidth=2,where='post')
ax.bar(bins2[:-1],hist2,width=0.5,linewidth=0,facecolor='k',alpha=0.1)

plt.show()
"
9627,24251,Create 2d array from csv file in python 3,"log = [line.split(',') for line in open('log.csv')]
"
4718,19192,Making a backup file + appending date time + moving file if the file exists. PYTHON,"FilePath = 'temp' # replace the temp with your file path/name
modifiedTime = os.path.getmtime(FilePath) 

timeStamp =  datetime.datetime.fromtimestamp(modifiedTime).strftime(""%b-%d-%y-%H:%M:%S"")
os.rename(FilePath,FilePath+""_""+timeStamp)
"
26073,42167,Python File Upload If statement and user cancelation,"tk=Tk()
tk.withdraw()

def fileupload():
    while True:
        uploadedfilenames = askopenfilenames(multiple=True)
        if uploadedfilenames == '':
            tkMessageBox.showinfo(message=""File Upload has been cancelled program will stop"")
            return
        uploadedfiles = tk.splitlist(uploadedfilenames)
        if len(uploadedfiles)!=2:
           tkMessageBox.showinfo(message=""2 files have not been selected!"")
        else:
            return uploadedfiles

print fileupload()
"
17689,8414,Optimization of prime number code,"N = 10000

# initialize an array of flags
is_prime = [1 for num in xrange(N)]
is_prime[0] = 0 # this is because indexing starts at zero
is_prime[1] = 0 # one is not a prime, but don't mark all of its multiples!

def set_prime(num):
    ""num is a prime; set all of its multiples in is_prime to zero""
    for x in xrange(num*2, N, num):
        is_prime[x] = 0

# iterate over all integers up to N and update the is_prime array accordingly
for num in xrange(N):
    if is_prime[num] == 1:
        set_prime(num)

primes = [num for num in xrange(N) if is_prime[num]]
"
23114,52879,processing speed - editing large 2GB text file python,"with open('100temp.txt') as in_file, open('new_100temp.txt', 'w') as out_file:
    for line1, line2, line3, line4 in grouper(in_file, 4):
         # modify 4 lines
         out_file.writelines([line1, line2, line3, line4])
"
5489,12670,How do you access Gstreamer Registry to get a list of what plugins are available programatically,"#!/usr/bin/python
#Access the registry to find out what plugins are available
#list elements within a plugin
#list all elements within a Klass
from gi.repository import Gst
Gst.init()
reg = Gst.Registry.get()

print ""List Available Plugins\n""
for x in reg.get_plugin_list():
    print x.get_name()
print ""End Available Plugins\n""

print ""List Plugins in AudioVisual\n""
for x in reg.get_feature_list_by_plugin(""audiovisualizers""):
    print x.get_name(), ""\t"", x.get_longname()
print ""END\n""

print ""All Available visualisations\n""
vis_list = [filt for filt in reg.get_feature_list(Gst.ElementFactory) \
        if (filt.get_klass().find(""Visualization"") >= 0)]
for x in vis_list:
    short = x.get_name()
    name = x.get_longname()
    print (short + ""\t\t"" + name)
print ""END\n""

print ""All Available Audio filters\n""
audio_filter_list = [filt for filt in reg.get_feature_list(Gst.ElementFactory) \
        if (filt.get_klass().find(""Filter/Effect/Audio"") >= 0)]
for x in audio_filter_list:
    short = x.get_name()
    name = x.get_longname()
    print (short + ""\t\t"" + name)
print ""END\n""
"
32127,83278,How to send user agent with httplib," Example: Using the httplib module to post data

# File: httplib-example-2.py

import httplib

USER_AGENT = ""httplib-example-2.py""

def post(host, path, data, type=None):

    http = httplib.HTTP(host)

    # write header
    http.putrequest(""PUT"", path)
    http.putheader(""User-Agent"", USER_AGENT)
    http.putheader(""Host"", host)
    if type:
        http.putheader(""Content-Type"", type)
    http.putheader(""Content-Length"", str(len(data)))
    http.endheaders()

    # write body
    http.send(data)

    # get response
    errcode, errmsg, headers = http.getreply()

    if errcode != 200:
        raise Error(errcode, errmsg, headers)

    file = http.getfile()
    return file.read()

if __name__ == ""__main__"":

    post(""www.spam.egg"", ""/bacon.htm"", ""a piece of data"", ""text/plain"")
"
24412,18712,Re-format items inside list read from CSV file in Python,"import csv
reader = csv.reader(open('IN.csv', 'r'))
writer = csv.writer(open('OUT.csv', 'w')
for row in reader:
 # do stuff to the row here
 # row is just a list of items
 writer.writerow(row)
"
34867,4682,Python/Matplotlib - Contour Plot with Bilinear Interpolation,"import matplotlib
import numpy as np
import matplotlib.cm as cm
import matplotlib.pyplot as plt
from scipy.interpolate import interp2d

# http://en.wikipedia.org/wiki/File:Bilininterp.png
xi = np.array([0.0, 1.0])
yi = np.array([0.0, 1.0])
zi = np.array([[0.0, 1.0], [1.0, 0.5]])

# Another example
xi = np.array([0.0, 0.25, 1.0])
yi = np.array([0.0, 0.75, 1.0])
zi = np.array([[0.0, 0.5, 1.0], [0.5, 0.7, 0.5], [1.0, 1.0, 1.0]])

# I want 20 ""levels"" to be shown
contour_breaks = 20
ticks = np.linspace(zi.min(), zi.max(), contour_breaks, endpoint=True)

# Attempt 4 (interp2d does to correct bilinear interpolation)
fig = plt.figure()
axes = fig.add_subplot(111, aspect='equal')
f = interp2d(xi, yi, zi, kind='linear')
xi2 = np.linspace(0., 1., 100)
yi2 = np.linspace(0., 1., 100)
zi2 = f(xi2, yi2)
axes.contour(xi2, yi2, zi2, ticks[1:-1], colors='k')
fill = axes.contourf(xi2, yi2, zi2, ticks, cmap=cm.jet)
fig.colorbar(fill, ticks=ticks)

# Show the plots
plt.show()
"
35602,30678,Python mechanize: read table element next to input,"import mechanize
import lxml.etree as etree

url = 'something'

br = mechanize.Browser()
resp = br.open(url)
parser = etree.parser()
tree = etree.parse(resp,parser)
forms = list(br.forms())
id_info = {}
for form in forms:
    elements = form.controls
    for element in elements:
        id_info[element.attrs['id']]=''

inputs = tree.findall('.//input')
for i in inputs:
    index = list(i.getparent()).index(i)
    id_info[i.attrib['id']] = list(i.getparent)[index+1]

for j in id_info:
    print j,id_info(j)
"
30776,3465,missing data in Dataframe,"from pandas import DataFrame
df1 = DataFrame([[1]], columns=['a'])
df2 = DataFrame([[3],[4]], columns=['b'])

In [4]: df1
Out[4]: 
   a
0  1

In [5]: df2
Out[5]: 
   b
0  3
1  4

In [6]: df1.join(df2)
Out[6]: 
   a  b
0  1  3

In [7]: df1.join(df2, how='outer')
Out[7]: 
    a  b
0   1  3
1 NaN  4
"
1163,1369,Instantiate children class from parent without changing parent code,"class childclass(parentclass):
    def somefunction(self):
        with patch('somemodule.parentclass', childclass):
            super(childclass, self).somefunction()
"
39134,23048,How to save to different pickles from same python program?,"filename = ""NNa{0}b{1}.pk1"".format(a,b)
pickle.dump(nn, open(filename,'wb'))
"
35841,29268,Python - Convert List,"In [78]: lst=[u'FACE     64:     48     49     50     51     52     54     64     74     84     94    104 \n']

In [79]: [int(i) for i in lst[0].split(':')[1].split()]
Out[79]: [48, 49, 50, 51, 52, 54, 64, 74, 84, 94, 104]
"
3774,41211,Tkinter window changing size becuase items in listbox,"import Tkinter as tk

class Example(tk.Frame):
    def __init__(self, parent):
        tk.Frame.__init__(self, parent, borderwidth=1, relief=""sunken"")
        b = tk.Button(self, text=""search"", command=self.add_one)

        self.lb = tk.Listbox(self, borderwidth=0)
        self.lb.pack(fill=""both"", expand=True)
        vsb = tk.Scrollbar(self, orient=""vertical"", command=self.lb.yview)
        hsb = tk.Scrollbar(self, orient=""horizontal"", command=self.lb.xview)
        self.lb.configure(yscrollcommand=vsb.set, xscrollcommand=hsb.set)

        b.grid(row=0, column=0, columnspan=2)
        vsb.grid(row=1, column=1, sticky=""ns"")
        self.lb.grid(row=1, column=0, sticky=""nsew"")
        hsb.grid(row=2, column=0, sticky=""ew"")
        self.grid_rowconfigure(1, weight=1)
        self.grid_columnconfigure(0, weight=1)

    def add_one(self):
        self.lb.insert(""end"", ""hello world!"")

if __name__ == ""__main__"":
    root = tk.Tk()
    Example(root).pack(fill=""both"", expand=True)
    root.mainloop()
"
9957,34539,How to do Obj-C Categories in Python?,"""""""
This module implements Obj-C-style categories for classes for Python

Copyright 2009 Ulrik Sverdrup <ulrik.sverdrup@gmail.com>
License: Public domain
""""""

def Category(toclass, clobber=False):
    """"""Return a class decorator that implements the decorated class'
    methods as a Category on the class @toclass

    if @clobber is not allowed, AttributeError will be raised when
    the decorated class already contains the same attribute.
    """"""
    def decorator(cls):
        skip = set((""__dict__"", ""__module__"", ""__weakref__"", ""__doc__""))
        for attr in cls.__dict__:
            if attr in toclass.__dict__:
                if attr in skip:
                    continue
                if not clobber:
                    raise AttributeError(""Category cannot override %s"" % attr)
            setattr(toclass, attr, cls.__dict__[attr])
        return cls
    return decorator
"
4397,35971,Square roots in python,"def my_sqrt(x):
    root1 = math.sqrt(x)
    root2 = -root1
    return root1,root2
"
3010,46499,strip timestamp/syntax-sequence from python string,">>> import re
>>> s = '<2006-12-20 00:10:24 Cattle is a tree>'
>>> re.sub(r'\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2} ', '', s)
'<Cattle is a tree>'
"
32235,53415,How to make a parallelogram on python,"def print_rect(l, w, c):
    for a in range(w):
        print(a*"" "", l*c)
"
37730,788,Python Detect Keystrokes Sent to Another Application,"import pythoncom, pyHook 

def OnKeyboardEvent(event):
  print 'MessageName:',event.MessageName
  print 'Message:',event.Message
  print 'Time:',event.Time
  print 'Window:',event.Window
  print 'WindowName:',event.WindowName
  print 'Ascii:', event.Ascii, chr(event.Ascii)
  print 'Key:', event.Key
  print 'KeyID:', event.KeyID
  print 'ScanCode:', event.ScanCode
  print 'Extended:', event.Extended
  print 'Injected:', event.Injected
  print 'Alt', event.Alt
  print 'Transition', event.Transition
  print '---'

# return True to pass the event to other handlers
  return True

# create a hook manager
hm = pyHook.HookManager()
# watch for all mouse events
hm.KeyDown = OnKeyboardEvent
# set the hook
hm.HookKeyboard()
# wait forever
pythoncom.PumpMessages()
"
30172,58245,best way to implement privacy on each field in model django,"FIELD_NAME_CHOICES = (
    (1, Foo._meta.get_field('telephone_number')),
    (2, Foo._meta.get_field('name')),
    .
    .
)
"
39994,59715,Use a parameter attribute as a default value for another parameter?,"def supplier_default_product(region, supplier=None):
    if supplier is None:
        supplier = region.default_supplier.id
    default_product_instance = Product.objects.get(name=default_product, supplier=supplier)
"
15209,40835,Initializing an extended class with an instance when the parent class can't take itself as argument for the constructor,"class child(pandas.Panel4D):
    def __init__ (self, d=None):
        if isinstance(d, pandas.Panel4D):
            d = d._data
            super(child, self).__init__(d)
        else:
            super(child, self).__init__(d)
"
29136,18649,Python code to use a regular expression to make sure a string is alphanumeric plus . - _,">>> re.match(""^[a-zA-Z0-9_.-]+$"", ""hello"")
<_sre.SRE_Match object at 0xb7600250>
>>> re.match(""^[a-zA-Z0-9_.-]+$"", ""    "")
>>> print re.match(""^[a-zA-Z0-9_.-]+$"", ""    "")
None
"
11039,55612,Splitting a Python list based on criteria,"mylist = [('Item A','CA','10'),('Item B','CT','12'),('Item C','CA','14')]

filtered_list = [item for item in mylist if item[1]=='CA']
"
22429,24692,Normalize histogram2d by bin area,"x, y = np.random.rand(2, 1000)
xbin = np.logspace(-1, 0, 101)
ybin = np.logspace(-1, 0, 201)

# raw bin counts
counts, xe, ye = np.histogram2d(x, y, [xbin, ybin])

# size of each bin in x and y dimensions
dx = np.diff(xbin)
dy = np.diff(ybin)

# compute the area of each bin using broadcasting
area = dx[:,  None] * dy

# normalized counts
manual_norm = counts / area / x.shape[0]

# using normed=True
counts_norm, xe, ye = np.histogram2d(x, y, [xbin, ybin], normed=True)

print(np.allclose(manual_norm, counts_norm))
# True
"
7471,34806,Show Progress Bar during a system call in tkinter,"import time
import threading
class App:
    def function1(self):
        pb = ttk.Progressbar(self.detail_frame1, orient='horizontal', mode='indeterminate')
    pb.pack()
    pb.start(1)

    #get the paper code of the paper to be checked
    input1 = self.input1.get()

    # system call based on the value of input1
    t = threading.Thread(target=call, args="""")
    t.start()

    self.function2()

    def function2(self):
        self.detail_frame1.pack_forget()
        self.detail_frame2.pack()
def call():
    time.sleep(2)
"
16916,56755,How do you iterate through a gzipped carriage-return file using python 2.7?,"import gzip
import io

with io.TextIOWrapper(io.BufferedReader(gzip.open(filename))) as file:
    for line in file:
        print line,
"
1721,11904,Is there a way to identify an inherited method in Python?,"def magicmethod(clazz, method):
    if method not in clazz.__dict__:  # Not defined in clazz : inherited
        return 'inherited'
    elif hasattr(super(clazz), method):  # Present in parent : overloaded
        return 'overloaded'
    else:  # Not present in parent : newly defined
        return 'newly defined'
"
35166,7889,My own OCR-program in Python,"import sys
from PIL import Image, ImageDraw

class Region():
    def __init__(self, x, y):
        self._pixels = [(x, y)]
        self._min_x = x
        self._max_x = x
        self._min_y = y
        self._max_y = y

    def add(self, x, y):
        self._pixels.append((x, y))
        self._min_x = min(self._min_x, x)
        self._max_x = max(self._max_x, x)
        self._min_y = min(self._min_y, y)
        self._max_y = max(self._max_y, y)

    def box(self):
        return [(self._min_x, self._min_y), (self._max_x, self._max_y)]

def find_regions(im):
    width, height  = im.size
    regions = {}
    pixel_region = [[0 for y in range(height)] for x in range(width)]
    equivalences = {}
    n_regions = 0
    #first pass. find regions.
    for x in xrange(width):
        for y in xrange(height):
            #look for a black pixel
            if im.getpixel((x, y)) == (0, 0, 0, 255): #BLACK
                # get the region number from north or west
                # or create new region
                region_n = pixel_region[x-1][y] if x > 0 else 0
                region_w = pixel_region[x][y-1] if y > 0 else 0

                max_region = max(region_n, region_w)

                if max_region > 0:
                    #a neighbour already has a region
                    #new region is the smallest > 0
                    new_region = min(filter(lambda i: i > 0, (region_n, region_w)))
                    #update equivalences
                    if max_region > new_region:
                        if max_region in equivalences:
                            equivalences[max_region].add(new_region)
                        else:
                            equivalences[max_region] = set((new_region, ))
                else:
                    n_regions += 1
                    new_region = n_regions

                pixel_region[x][y] = new_region

    #Scan image again, assigning all equivalent regions the same region value.
    for x in xrange(width):
        for y in xrange(height):
                r = pixel_region[x][y]
                if r > 0:
                    while r in equivalences:
                        r = min(equivalences[r])

                    if not r in regions:
                        regions[r] = Region(x, y)
                    else:
                        regions[r].add(x, y)

    return list(regions.itervalues())

def main():
    im = Image.open(r""c:\users\personal\py\ocr\test.png"")
    regions = find_regions(im)
    draw = ImageDraw.Draw(im)
    for r in regions:
        draw.rectangle(r.box(), outline=(255, 0, 0))
    del draw 
    #im.show()
    output = file(""output.png"", ""wb"")
    im.save(output)
    output.close()

if __name__ == ""__main__"":
    main()
"
30105,19552,Standard python classes that support math operators?,">>> [i for i in dir(__builtins__) if hasattr(getattr(__builtins__, i), ""__add__"")]
['False', 'True', '__debug__', '__doc__', '__name__', 'bool', 'bytearray', 'bytes', 'complex', 'float', 'int', 'list', 'str', 'tuple']
"
25431,49599,Pandas: Separating grouping and indexing,"In [194]: cache = {}

In [195]: df.groupby(lambda d: cache.setdefault(d.isocalendar()[:2], d)).agg(agg)
Out[195]:
             close    high     low    open     volume
2012-02-13  0.3546  0.3592  0.3271  0.3476  648333934
2012-02-20  0.3575  0.3682  0.3524  0.3590  264673454
"
35440,48460,Numpy how to iterate over columns of array?,"for column in array.T:
   some_function(column)
"
37254,72499,"Check rows in first table, compare them with rows from the second table and output a match","SELECT *
FROM Timetable t
WHERE in_dates = 0 OR
  (
    in_dates = 1 AND
    EXISTS (
     SELECT 1
     FROM Dates d
     WHERE d.subject = t.subject AND
       d.date = t.date
    )
  )
"
39065,37978,Return a list of lines as list of tuple with formatting the value with $,"def format_Dollar_sign(list):

    lines=['book, 400.2\n', 'pen, 5\n', 'food,  200.5\n', 'gas, 20\n', 
            'food, 100\n', 'pen, 10\n', 'insurance, 171.35\n', 'gas, 35\n', 
            'book, 100\n', 'pen, 12\n', 'food, 320\n', 
            'gas,23.55\n', 'insurance, 110.25']

    my_dictionary = {}
    for line in lines:
        item, price= line.strip().split(',')

        my_dictionary[item.strip()] = my_dictionary.get(item.strip(),0) + float(price)

    dic={}
    for k,v in my_dictionary.items():
        dic[k]='${0:.2f}'.format(round(v,2))

    L=([(k,v) for k, v in dic.iteritems()])
    L.sort()

    return L
print(format_Dollar_sign(list))
"
25513,39031,editing using regular expressions,">>> import re
>>> re.sub(r""(\w+) (\w+)"", r""john \2"", ""Isaac Newton, physicist"")
'john Newton, physicist'
"
18278,33571,Tkinter OptionMenu DisplayOptions and Assignment Values,"import Tkinter as tk
master = tk.Tk()
variable = tk.StringVar(master)
options = {""one"": 1, ""two"": 2}
tk.OptionMenu(master, variable, *options.keys()).pack()
...
wanted = options[variable.get()]
"
22649,52861,Generating all possible rgb colors,"allcolors = range(0xFFFFFF+1):
"
9697,6028,Implement a tree where children and parents can refer to each other,"class node(object):
    def __init__(self, value, children = None):
        self.value = value
        self.children = children or []
        self.parent = None
        for child in self.children:
            child.parent = self
"
32953,30684,Pinging first available host in network subnets,"from Queue import Queue
import time
import socket

#wraps system ping command
def ping(i, q):
    """"""Pings address""""""
    while True:
        subnet = q.get()
        # each IP addresse in subnet 
        for ip in (subnet=str(x) for x in range(1,254)):
            #print ""Thread %s: Pinging %s"" % (i, ip)
            result = subprocess.call(""ping -n 1 %s"" % ip, shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)
            #Avoid flooding the network with ping requests
            time.sleep(3)
            if result == 0:

                try:
                    hostname=socket.gethostbyaddr(ip)
                    print ""%s (%s): alive"" % (ip,hostname[0]  
                except:
                    print ""%s: alive""%ip
                break
        q.task_done()

num_threads = 100
queue = Queue()

#Put all possible subnets on wireless network into a queue
for i in range(1,255):
    queue.put('128.119.%s.'%i)

#Spawn thread pool
for i in range(num_threads):
    worker = Thread(target=ping, args=(i, queue))
    worker.setDaemon(True)
    worker.start()

#Wait until worker threads are done to exit    
queue.join()
"
37779,55130,Django Tables 2 Field Accessor backward relationship,"class Event(models.Model):
    publicID = models.CharField(max_length=128)

    @property
    def time_data(self):
        origins= self.origin.all()

        return ' '.join([ str(x.time.value) for x in origins])


class EventsTable(tables.Table):
    time = tables.Column(accessor='time_data')

    class Meta:
        model = Event
        fields = ('time')
"
30329,30699,"Implementing a Pythonc ""i, j"" style for loop in Python 3?","previous = lst[-1]           # j = len(lst) - 1
for current in lst:          # i = 0; i < len(lst); i++
    print current, previous  # lst[i], lst[j]
    # do stuff
    previous = current       # j = i before incrementing
"
38339,13721,Using polyval and polyfit to plot linear regression on semi-log charts,"p = np.polyfit(np.log(xm), mcherryp, 1)
ax1.semilogx(xm, p[0] * np.log(xm) + p[1], 'r-')
"
36229,5009,Unique by domains urls list,">>> urls = ['http://www.doopa.pl/1','http://www.doopa.pl/2',
...     'http://www.dupa2.pl/4/php.pl', 'http://www.dupa3.pl/4/php?gfdgfd=44',
...     'www.dupa4.pl/4/php.pl']
>>> from urlparse import urlparse
>>> dict((urlparse(u).netloc, u) for u in urls).values()
['www.dupa4.pl/4/php.pl', 'http://www.dupa2.pl/4/php.pl', 'http://www.doopa.pl/2', 'http://www.dupa3.pl/4/php?gfdgfd=44']
"
19460,11341,Out of Scope Objects Python,"class pdf(object):
    def __init__(self,path):
      self.S_Linc = []
      self.Short_Legal = []
      self.Title_Number = []
      self.Legal_Description = []

       operations, mostly appends onto the above variables
    ....
"
25369,58291,How to convert this Python script to a shell script?,"#!/usr/bin/env python
"
25176,48016,django unique relations not unique table,"class Meta:
    unique_together = (('bar', 'name'),)
"
5689,50869,How should I print a string that matches this pattern in a file?,"import re
import urllib

infile = open('test2.txt')
outfile = open('test3.txt', 'w')

pattern = r'""resource"": ""(?P<path>.+/(?P<filename>.+)\.jpg)""'
replacement = '""resource"": ""../img/\g<filename>.jpg""'
prog = re.compile(pattern)

for line in infile:
    match = prog.match(line)
    if match:
        print (match.group('path'))
    text = prog.sub(replacement, line)
    outfile.write(text)
infile.close()
outfile.close
"
20174,26288,"What does a Python decorator do, and where is its code?","def your_view_function(request):
    # Function body

your_view_function = login_required(your_view_function)
"
360,41418,Read size of linux disk with python,"BLOCK_SIZE_BYTES = 512 # usually?  always?  *shrug*

def get_disk_size(blockdev):
    blocks = int(open('/sys/block/{blockdev}/size'.format(**locals())).read())
    return blocks * BLOCK_SIZE_BYTES
"
23438,53440,Django URL not changing even after redirection,"def add(request):
    # Do something
    return redirect('/register/')
"
5881,1558,Python convert a list of nested tuples into a dict,"class le:
    def __init__(self, n):
        self.sn = (n, 0.6), 
        #                 ^ make self.sn a tuple of tuples in all cases

class lf:
    def __init__(self, n, m, o):
        self.sn = (n, 0.7), (m, 0.8), (o, 0.9)

l1 = le(""Ka"")
l2 = le(""La"")
l3 = lf(""Ma"",""Na"",""Oa"")
theList = [l1, l2, l3]
result = dict([tup for thing in theList for tup in thing.sn])
# result == {'Na': 0.8, 'Ka': 0.6, 'Ma': 0.7, 'Oa': 0.9, 'La': 0.6}
"
15969,18482,Relabeling one level of a Columns MultiIndex,"In [18]:
df.columns.set_levels([df.columns.levels[0], ['a', 'b', 'c', 'd']])
print df
    strategy              firm            
           a   b   c   d     a   b   c   d
0                                         
2          1 NaN NaN NaN   NaN NaN NaN NaN
3          1   1 NaN NaN     1   2 NaN NaN
4          3   1 NaN NaN     2   3 NaN NaN
5        NaN NaN   2 NaN     1   6   3 NaN
6          1  13   1 NaN     1  13   6 NaN
7        NaN  17  18 NaN     1   8  11 NaN
8        NaN   5  16   1   NaN   7  23   2
9        NaN   1  12   5   NaN NaN   6   5
10       NaN   1 NaN   2   NaN NaN NaN   1
"
9243,66631,Django - random file in jquery in template,"var js_array = [{% for f in filelist %}""{{ f }}"",{% endfor %}];
"
28558,62267,removing particular rows from DataFrame in python pandas,"In [45]: names = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l']

In [46]: df = pd.read_csv(StringIO(data), header=None, names=names)

In [47]: mask = df.applymap(lambda x: x in ['X', 'XX', None, np.nan])

In [48]: df[-mask.any(axis=1)]
Out[48]: 
<class 'pandas.core.frame.DataFrame'>
Int64Index: 5 entries, 0 to 9
Data columns:
a    5  non-null values
b    5  non-null values
c    5  non-null values
d    5  non-null values
e    5  non-null values
f    5  non-null values
g    5  non-null values
h    5  non-null values
i    5  non-null values
j    4  non-null values
k    5  non-null values
l    5  non-null values
dtypes: float64(6), int64(1), object(5)
"
3726,83823,Elegant way to remove fields from nested dictionaries,"def delete_keys_from_dict(dict_del, lst_keys):
    for k in lst_keys:
        try:
            del dict_del[k]
        except KeyError:
            pass
    for v in dict_del.values():
        if isinstance(v, dict):
            delete_keys_from_dict(v, lst_keys)

    return dict_del
"
35252,27804,Convert String to Python List of Dictionary,"import re
inp = 'data[0][value]=123&data[0][Type]=Range&data[1][value]=345&data[1][Type]=Fixed'

matches = re.findall(r'\[([0-9]+)\]\[([a-zA-Z]+)\]=([a-zA-Z0-9]+)', inp)

out = {}
for match in matches:
    index, key, value = match
    if out.get(index) is None:
        out[index] = {}
    out[index][key] = value

data = out.values()
"
4840,39655,music player playlist,"from Tkinter import *
import mp3play
import tkFileDialog
import Tkinter
import tkFont
import Tkinter as tk

class musicplay:
    def __init__(self):
        self.music = None
        self.play_list = []
        self.trackLocations = []

        self.root = tk.Tk()
        self.root.title(""EmoPlayer"")

        self.root.configure(background='black')
        self.root.geometry('300x100+750+300')

        self.filename = Tkinter.StringVar()
        self.name = Tkinter.StringVar()
        self.play_list = Tkinter.StringVar()

        menubar = Menu(self.root)
        filemenu = Menu(menubar, tearoff=0, bg=""black"", fg=""Orange"")
        menubar.add_cascade(label='File', menu = filemenu)
        filemenu.add_command(label='Open', command = self.open_file)
        filemenu.add_separator()
        filemenu.add_command(label='Exit', command = self.Exit)
        self.root.config(menu=menubar)

        open_file = Button(self.root, width = 6, height = 1,
                           text = 'Mood',fg='Orange', bg='black')
        open_file.grid(row=0, column=3)

        play_button = Button(self.root, width = 5, height = 1, text='Play',
                             fg='Orange', command = self.play, bg=""black"")
        play_button.grid(row=0, column=0, sticky = W)

        stop_button = Button(self.root, width = 5, height = 1, text='Stop',
                             fg='Orange', command = self.stop, bg=""black"")
        stop_button.grid(row=0, column=1, sticky = W)

        pause_button = Button(self.root, width = 5, height = 1, text='Pause',
                              fg='Orange', command = self.pause, bg=""black"")
        pause_button.grid(row=0, column=2)

        self.volume_slider = Scale(self.root, label='Volume',
                              orient = 'horizontal', fg = 'Orange', 
                              command = self.vol, bg=""black"")
        self.volume_slider.grid(row=0, column=4)

        file_name_label = Label(self.root, font=('Comic Sans', 8),
                                fg = 'Orange', wraplength = 300,
                                textvariable=self.name, bg=""black"")
        file_name_label.grid(row=3, column=0, columnspan=8)

        play_list_window = Toplevel(self.root, height = 150, width = 100)
        play_list_window.title(""Playlist"")
        self.play_list_display = Listbox(play_list_window, selectmode=EXTENDED,
                                    width = 50, bg=""Dark Slate grey"",
                                    fg=""Orange"")
        self.play_list_display.bind(""<Double-Button-1>"", self.tune_changed)
        self.play_list_display.pack()
        play_list_window.mainloop()

        self.root.mainloop()        

    def open_file(self):                                
        """"""
        Opens a dialog box to open .mp3 filemusic,
        then sends filename to file_name_label.
        """"""
        self.filename.set(tkFileDialog.askopenfilename(
            defaultextension = "".mp3"",
            filetypes=[(""All Types"", "".*""), (""MP3"", "".mp3"")]))
        self.playlist = self.filename.get()
        playlist_pieces = self.playlist.split(""/"")
        self.play_list.set (playlist_pieces[-1])
        playl = self.play_list.get()
        self.play_list_display.insert(END, playl)
        print self.filename.get()
        self.music = mp3play.load(self.filename.get())
        pieces = self.filename.get().split(""/"")
        self.trackLocations += [self.filename.get()]
        self.name.set(pieces[-1])

    def play(self):
        """"""Plays the .mp3 file""""""
        self.music.play()

    def stop(self):
        """"""Stops the .mp3 file""""""
        self.music.stop()                

    def pause(self):
        """"""Pauses or unpauses the .mp3 file""""""
        if self.music.ispaused():
            self.music.unpause()
        else:
            self.music.pause()

    def vol(self, event):
        """"""Allows volume to be changed with the slider""""""
        v = Scale.get(self.volume_slider)
        try:
            self.music.volume(v)
        except:
            pass

    def tune_changed(self, event):
        idx = event.widget.curselection()[0]
        self.music = mp3play.load(self.trackLocations[int(idx)])
        print (""Now playing %s"" % event.widget.get(idx))

    def Exit(self):
        exit()

if __name__ == ""__main__"":
    musicplay()
"
30494,27310,"NUMPY create, fill with random binary data","import numpy as np
row, col = 10, 5
matrix = np.random.randint(2, size=(row,col))
"
39504,17926,Setting up foreignkeys in loaddata for Django,"[
{
    ""fields"": {
        ""first_name"": ""John"",
        ""last_name"": ""Doe"",
        ""middle_name"": ""G"",
        ""birthday"": ""1900-07-21"",
        ""password"": ""goforit123"",
        ""email"": ""John.Doe@gmail.com""
    },
    ""model"": ""account_data.user"",
    ""pk"": 1  // This is the pk you have to use
},
{
    ""fields"": {
        ""user"": 1,  // Use the pk, in this case you're referencing to John Doe
        ""type"": ""dog"",
        ""color"": ""blue""
    },
    ""model"": ""account_data.pets"",
    ""pk"": 1
}
]
"
11089,59792,Compare two lists in python and obtain non-equality,"def analizarRT():
    timeline = []
    fileRT = openFile('rt.txt')
    for status in api.user_timeline('cnn', count='6'):
        timeline.append(status)
    for i in range(6):
        for b in range(6):
            if timeline[i].id == fileRT[b].id:
                pass
            else:
                newlist.append(timeline[i].id)
    print newlist
"
1863,11371,Redrawing plot on Basemap in Python,"# When plotting initially, save the handle
plot_handle, = self.map.plot(x,y,'ro') 
...

# When changing the data, change the xdata and ydata and redraw
plot_handle.set_ydata(new_y)
plot_handle.set_xdata(new_x)
self.figure.canvas.draw()
"
35298,52425,jquery lightbox with django,"$(""#feedback"").dialog({model:true,
                height: 250,
                width: 350,
                autoOpen:false,
                title:""Candidate Feedback"",
                Buttons:{
                'Submit': function() {
                 $(""#myform"").submit();
                 $(this).dialog('close');
                 /* submit = true;
                  submitForm();*/
                  return true;
                }
                },
"
7953,36124,Multi-mapping a value while saving intermediate values,"def multimap(value, f, count):
    for _ in range(count):
        value = f[value]
        yield value

print(list(multimap('a', {'a': 'b', 'b': 'c', 'c': 'd', 'd': 'a'}, 4)))
"
31958,81157,Passing a variable into Python from Jinja2 Drop-down menu,"<select name=""activity"">
  {% for activity in activities %}
      <option value=""{{ activity }}"">{{ activity }}</option>
  {% endfor %}
</select>
"
768,4824,Can Regex be used for this particular string manipulation?,">>> import re
>>> re.sub(r""x(?=[^']*'([^']|'[^']*')*$)"", ""P"", ""axbx'cxdxe'fxgh'ixj'k"")
""axbx'cPdPe'fxgh'iPj'k""
"
2606,7703,"Loading JSON dataset into Spark, then use filter, map, etc","import json
f = sc.textFile('/path/to/file')
d = lines.map(lambda line: json.loads(line))
"
6171,80314,time.strptime() python3 best way to use it?,"#!/usr/bin/env python
import sys
from datetime import datetime

known_systems = {'MIDRANGE_PROD', 'MIDRANGE_TEST'}

try:
    date_string, system_string = sys.argv[1:]
except ValueError:
    sys.exit('Usage: queue_cleaner <date> <system>')

if system_string not in known_systems:
   sys.exit('wrong system, expected: %s, got: %r' % (
       ' or '.join(known_systems), system_string))

try:
    input_date = datetime.strptime(date_string, '%Y%m%d').date()
except ValueError:
    sys.exit('expected date in YYYYMMDD format, got: %r' % date_string)
"
38277,73016,Get the GMT time given date and UTC offset in python,">>> from dateutil.parser import parse
>>> dt = parse('19981024103115+0100')
>>> dt
datetime.datetime(1998, 10, 24, 10, 31, 15, tzinfo=tzoffset(None, 3600))
>>> dt.utctimetuple()
time.struct_time(tm_year=1998, tm_mon=10, tm_mday=24, tm_hour=9, tm_min=31, tm_sec=15, tm_wday=5, tm_yday=297, tm_isdst=0)
"
38146,75573,Angle between two pairs of azimuth and altitude?,"a = ephem.separation((panel_az, panel_alt), (sun_az, sun_alt))
print a
"
30801,80127,Process xml input with python regex,"import re

xml = re.sub(r'.*<root>', '<root>', xml, flags=re.DOTALL)    # Remove leading junk
xml = re.sub(r'\\par[^<]*<', '<', xml)                       # Middle junk
xml = re.sub(r'</root>.*', '</root>', xml, flags=re.DOTALL)  # Trailing junk
"
13486,76393,Modifying file name of a file in a Django ModelForm on save,"class MyModel(models.Model):
    # other fields
    my_file = models.FileField(upload_to='uploaddir')

    def save(self, *args, **kwargs):
        new_name = 'file_name-random-chars.ext'
        self.my_file.name = new_name
        super(MyModel, self).save(*args, **kwargs)
"
28838,63888,change the colorbar width,"ax.set_position((left, bottom, width, height))
"
8917,26695,How to limit the number of Threads,"import Queue
import threading, time

class MyThread(threading.Thread):
    def __init__(self, theQueue=None):
        threading.Thread.__init__(self)        
        self.theQueue=theQueue

    def run(self):
        while True:
            thing=self.theQueue.get()
            self.process(thing) 
            self.theQueue.task_done()

    def process(self, thing):
        time.sleep(1)
        print 'processing %s'%thing

queue=Queue.Queue()
THINGS = ['Thing%02d'%i for i in range(101)]
AVAILABLE_CPUS=3

for OneOf in range(AVAILABLE_CPUS):
    thread=MyThread(theQueue=queue)
    thread.start() # thread started. But since there are no tasks in Queue yet it is just waiting.

for thing in THINGS:       
    queue.put(thing) # as soon as task in added here one of available Threads picks it up
"
16154,12556,Select an item of the row in Django,"<body>
  <table>
    {%for row in a%}
    <tr style=""margin:10px"">
      {%for item in row%}
        {%if forloop.counter == 3 %}
          <td style=""margin:10px"" class=""marked"">{{item}}</td>
        {%else%}
          <td style=""margin:10px"">{{item}}</td>
        {%endfor%}
    </tr>
    {%endfor%}
  </table>
</body>
"
9569,11798,Location of contour lines,"import matplotlib
import matplotlib.mlab as mlab
import matplotlib.cm as cm
import matplotlib.pyplot as plt
import numpy as np
#%matplotlib inline

delta = 0.00025
A=0
x = np.arange(0, 0.10, delta)
y = np.arange(0, 0.1, delta)
X, Y = np.meshgrid(x, y)
Z = A*(X**2+Y**2)+2*X*Y

manual_locations = [(0.1,0.1), (0.2,0.2), (0.3,0.3), 
                    (0.015, 0.015), (0.00255, 0.0025), (0.00005,0.00005)]
line_widths = (1, 1, 1, 1, 1, 1)

plt.figure()
CS = plt.contour(X, Y, Z, 6,                        # add 6 contour lines
                 linewidths=line_widths, 
                 #levels=np.linspace(0, .003, 20))   
                 levels=np.logspace(-5, -2, 20))

plt.clabel(CS, inline=1,                            # add labels
          fontsize=10,
          fmt=""%.5f"")
plt.title('Indifference Map')        # title

plt.show()
"
33306,52072,Pandas data frame: resample with linear interpolation,"df1 = df.resample(rule='5Min',how='last',closed='left').reset_index().fillna(method='ffill')
df2 = df.resample(rule='5Min',how='first',closed='left').reset_index().fillna(method='ffill')

dt = df1.datetime - df2.datetime
px_fld = df1.price + ...
"
22015,7667,Traceback: AttributeError: Symbol not Found,">>> import pysodium
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/Library/Python/2.7/site-packages/pysodium/__init__.py"", line 34, in <module>
    sodium.crypto_pwhash_scryptsalsa208sha256_strprefix.restype = ctypes.c_char_p
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ctypes/__init__.py"", line 366, in __getattr__
    func = self.__getitem__(name)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ctypes/__init__.py"", line 371, in __getitem__
    func = self._FuncPtr((name_or_ordinal, self))
AttributeError: dlsym(RTLD_DEFAULT, crypto_pwhash_scryptsalsa208sha256_strprefix): symbol not found

>>> import ctypes
>>> import ctypes.util
>>> 
>>> sodium = ctypes.cdll.LoadLibrary(ctypes.util.find_library('sodium') or ctypes.util.find_library('libsodium'))
>>> sodium
<CDLL 'None', handle fffffffffffffffe at 103e967d0>
>>> ctypes.util.find_library('libsodium')
>>> ctypes.util.find_library('sodium')
"
33330,75518,Matplotlib apply xaxis and yaxis number formatting,"fig, axes = plt.subplots(2, 2, figsize=(8,6), sharex=True)

for ax, plot in zip(axes.flat, plots):
    ax.plot(df.index, df[plot])
    ma = pd.rolling_mean(df[plot], window)
    ax.plot(df.index, ma)
    mstd = pd.rolling_std(df[plot], window)
    ax.fill_between(df.index, ma - 2*mstd, ma + 2*mstd, color='b', alpha=0.1)
    ax.set_title(plot)
    ax.yaxis.set_major_formatter(FuncFormatter(lambda x, p: '{:.0f}'.format(x)))
    ax.xaxis.set_major_formatter(DateFormatter('%d-%H:%M')) # or '%d.%m.%y'

fig.autofmt_xdate()  # This will rotate the xticklabels by 30 degrees so that all dates are readable.
fig.tight_layout()  # no need to call this inside the loop.
"
86,54751,Convert mac path to posix in python,"#!/usr/bin/python

import subprocess

def asExec(ascript):

    osa = subprocess.Popen(['osascript', '-'],
                           stdin=subprocess.PIPE,
                           stdout=subprocess.PIPE)
    return osa.communicate(ascript)[0]

def asConv(astr):

    astr = astr.replace('""', '"" & quote & ""')
    return '""{}""'.format(astr)

def aScript(aspath):

    ascript = '''
    set posixPath to POSIX path of {0}
    '''.format(asConv(aspath))
    return ascript

aliasPath = ""Main HD:Users:sasha:Documents:SomeText.txt""
print(asExec(aScript(aliasPath)))
"
36169,10851,How to resize an image an cut the excess area of it in Python?,"from cStringIO import StringIO
from PIL import Image, ImageOps, ImageDraw

size = (591, 608)
mask = Image.new('L', size, 0)
draw = ImageDraw.Draw(mask)
draw.rectangle((0, 0) + size, fill=255)

# From base64 to PIL
image_string = StringIO(my_image.decode('base64'))
im = Image.open(image_string)
output = ImageOps.fit(im, mask.size, centering=(0.5, 0.5))
output.putalpha(mask)

# From PIL to base64
output2 = StringIO()
output.save(output2, format='PNG')
im_data = output2.getvalue()
im_data = im_data.encode('base64')
# data_url = 'data:image/png;base64,' + im_data.encode('base64')
"
24453,12177,Setting max_length of a form field using a parameter in Django,"from django.core import validators

class StepTwoForm(forms.Form):
    number = forms.CharField()

    def __init__(self, *args, **kwargs):
        config = kwargs.pop('config', {})
        super(StepTwoForm, self).__init__(*args, **kwargs)
        if 'MAX_LENGTH' in config:
            validator = validators.MaxLengthValidator(config['MAX_LENGTH'])
            self.fields['number'].validators.append(validator)
"
32785,83956,SQL dealing with duplicate records by date difference,"DECLARE @ TABLE (ID INT, start_date DATE, end_date DATE);
INSERT @ VALUES (1,'2012-03-15','2012-04-02')
, (1,'2012-04-05','2012-05-12')
, (1, '2012-04-12', '2012-05-21')
, (2, '2012-03-05', '2012-06-13')
, (3, '2012-03-09', '2012-03-19')
, (3, '2012-04-03', '2012-05-02')
, (3, '2012-05-01', '2012-08-01')
, (3, '2012-05-16', '2012-08-02')
, (3, '2012-06-08', '2012-09-09');

WITH T AS (
    SELECT id, start_date, end_date, RN
    FROM (
        SELECT id, start_date, end_date, ROW_NUMBER() OVER (PARTITION BY id ORDER BY start_date) RN
        FROM @) S
    WHERE RN = 1

    UNION ALL

    SELECT S.id
         , CASE WHEN DATEDIFF(dd, T.start_date, S.start_date) <= 31 THEN T.start_date ELSE S.start_date END
         , CASE WHEN DATEDIFF(dd, T.start_date, S.start_date) <= 31 THEN T.end_date ELSE S.end_date END
         , S.RN
    FROM (
        SELECT id, start_date, end_date, ROW_NUMBER() OVER (PARTITION BY id ORDER BY start_date) RN
        FROM @) S
    JOIN T ON T.id = S.id
    WHERE S.RN = T.RN+1
    )
SELECT id, start_date, end_date
FROM T
GROUP BY id, start_date, end_date;
"
18776,34386,Conditionals on replacement in a string,"countries = ['foo', 'bar', 'baz']
takes = [re.compile(r'of\s+(the)?\s*%s$' % (c), re.I) for c in countries]
subs = [re.compile(r'%s$' % (c), re.I) for c in countries]

def remove_country(s):
    for regex in takes:
        if regex.search(s):
            return s
    for regex in subs:
        s = regex.sub('', s)
    return s

print remove_country('the bank of foo')
print remove_country('the bank of the baz')
print remove_country('the nation bar')

''' Output:
    the bank of foo
    the bank of the baz
    the nation
'''
"
35376,63234,"Python, connecting vertical lists",">>> import re                                                             
>>> r = re.compile(r'(?<=L).*(?=L)')                     
>>> def rep(m):                                           
    return m.group().replace('.', '#')
... 
>>> zipped = (r.sub(rep, ''.join(x)) for x in zip(*chars))
>>> for x in zip(*zipped):
    print ''.join(x)
...     
.....U......
L...L.######
.S..#.#.....
....L.......
"
19267,14679,How to use fn Object in Peewee ORM,"query = User.select(User, fn.Count(Tweet.id).alias('num_tweets'))
for user in query:
    print user.username, user.num_tweets
users = list(query)
"
24541,60972,how to replace punctuation in a string python?,"import string
replace_punctuation = string.maketrans(string.punctuation, ' '*len(string.punctuation))
text = text.translate(replace_punctuation)
"
1353,5625,Making a multi-table inheritance design generic in Django,"from django.db import models
from django.contrib.contenttypes.models import ContentType

class BaseModel(models.Model):
    type = models.ForeignKey(ContentType,editable=False)
    # other base fields here

    def save(self,force_insert=False,force_update=False):
        if self.type_id is None:
            self.type = ContentType.objects.get_for_model(self.__class__)
        super(BaseModel,self).save(force_insert,force_update)

    def get_instance(self):
        return self.type.get_object_for_this_type(id=self.id)
"
11684,19083,Search for a pattern in a lot of scramble letters (upper & lower cases),">>> a='alRfflkafdfaeGlkAYEuRFSbbvvcbF'
>>> import re
>>> r=re.compile(""[A-Z]{3}[a-z][A-Z]{3}"")
>>> r.findall(a)
['AYEuRFS']
"
39443,49787,Most pythonic way to find the maximum elements out of list of np.array?,"x=np.array([3,4,5])
y=np.array([2,50,-1])
z=np.array([30,0,3])
mya = [x,y,z] 
maximum = np.amax(mya, axis=0)
# maximum will store a list as [maximumofx, maximumofy, maximumofz] -> [30,50,5]
"
12165,22347,How to send in command line arguments for a python file execution in command line?,"def main():
    number = int(sys.argv[1])  # this line will fail if you pass an argument that's not an integer
    print(number)

if __name__ == ""__main__"":
    main()
"
3747,42994,Python ASCII to binary,"bin(ord('P'))
# 0b1010000
"
6151,80403,Python - Print high if all word-comparisons are true,"[[False], [True], [True], [True]]
"
20833,47321,How to save a Java object in Jython/Python,"from java import io

def saveObject(x, fname=""object.bin""):
    outs = io.ObjectOutputStream(io.FileOutputStream(fname))
    outs.writeObject(x)
    outs.close()

def loadObject(fname=""object.bin""):
    ins = io.ObjectInputStream(io.FileInputStream(fname))
    x=ins.readObject()
    ins.close()
    return x
"
5653,9819,python QtWebkit: nextSibing doesn't return null or None,"while not curr_node.nextSibling().isNull():
     print curr_node, len(children)
     children.append(curr_node.nextSibling())
     curr_node = curr_node.nextSibling()
"
12229,73748,How to convert (typemap) a jagged C++ vector of vectors to Python in SWIG,"%typemap(out) std::vector<std::vector<int>>& 
{
    for(int i = 0; i < $1->size(); ++i)
    {       
        int subLength = $1->data()[i].size();
        npy_intp dims[] = { subLength };
        PyObject* temp = PyArray_SimpleNewFromData(1, dims, NPY_INT, $1->data()[i].data());
        $result = SWIG_Python_AppendOutput($result, temp);
    }       
}
"
34172,69848,Selenium - Python - Select dropdown meun option - No ID or Name,"from selenium.webdriver.support.select import Select

option_value = ""Malicious E-mail""

select_element = browser.find_element_by_xpath(""//select[option[@value = '%s']]"" % option_value)
select = Select(select_element)
select.select_by_value(option_value)
"
32142,26607,trouble setting up GtkTreeViews in PyGtk,"self.columnButton = \
    gtk.TreeViewColumn ('Enabled', self.buttonRenderer, 
                        active = 0)  # 0 is the tree store column index
"
16162,17367,Python Tkinter: Color changing grid of buttons?,"import Tkinter

color=""red""
default_color=""white""

def main(n=10):
    window = Tkinter.Tk()
    last_clicked = [None]
    for x in range(n):
        for y in range(n):
            b = Tkinter.Button(window, bg=default_color, activebackground=default_color)
            b.grid(column=x, row=y)
            # creating the callback with ""b"" as the default parameter bellow ""freezes"" its value pointing
            # to the button created in each run of the loop.
            b[""command""] = lambda b=b: click(b, last_clicked)
    return window

def click(button, last_clicked):
    if last_clicked[0]:
        last_clicked[0][""bg""] = default_color
        last_clicked[0][""activebackground""] = default_color
    button[""bg""] = color
    button[""activebackground""] = color
    last_clicked[0] = button

w = main()
Tkinter.mainloop()
"
23628,57308,Scraping with Mechanize,"import mechanize

store_url = 'http://store.nike.com'
cart_url = 'http://store.nike.com/us/services/jcartService?callback=nike_Cart_hanleJCartResponse&action=addItem&lang_locale=en_US&country=US&catalogId=1&productId=463712&price=00.0&siteId=null&line1=Nike+Air+Max+1+Ultra+Moire&line2=Men%27s+Shoe&passcode=null&sizeType=null&skuAndSize=10661133%3A10&qty=1&rt=json&view=3&skuId=10661133&displaySize=14&_=142655682313'

br = mechanize.Browser()
response = br.open(store_url)
response = br.open(cart_url)
data = response.read()
print data
"
6087,2776,How to grab all the lines with readline function in python?,"h = ""#a7bd7a""
t = 167,189,122
""#%02x%02x%02x"" % t                              # color tuple to hex string
[int(h[i:i+2], 16) for i in range(1, len(h), 2)] # hex string to color tuple
"
36077,2360,Case Insensitive findall in Python ElementTree,"import xml.etree.ElementTree as ET
def to_parseable(tree):
    t = ET.tostring(tree)
    t = t.lower()
    return ET.fromstring(t)
"
22292,61444,sorts in python,"string = ""baggage""
count = [0] * 256  # This should be big enough to hold counters for every 8 bit character

for x in string:
    num_value = ord(x)
    count[num_value] += 1

for i in range(256):  # loop through all the possible 8 numbers
    if count[i]: 
        print chr(i)*count[i]

# you can join them all back into a string like this
newstr = ''.join(chr(i)*c for i,c in enumerate(count))
"
30839,40098,gdb python scripting: where has `parse_and_eval` gone?,"def parseAndEvaluate(exp):
        if gdb.VERSION.startswith(""6.8.50.2009""):
            return gdb.parse_and_eval(exp)
        # Work around non-existing gdb.parse_and_eval as in released 7.0
        gdb.execute(""set logging redirect on"")
        gdb.execute(""set logging on"")
        gdb.execute(""print %s"" % exp)
        gdb.execute(""set logging off"")
        return gdb.history(0)
"
7619,64957,Tornado Async HTTP returning results incrementally,"class GenAsyncHandler2(tornado.web.RequestHandler):
    @tornado.web.asynchronous
    @tornado.gen.engine
    def get(self):
        http_client = AsyncHTTPClient()
        http_client.fetch(""http://google.com"",
                          callback=(yield tornado.gen.Callback(""google"")))

        http_client.fetch(""http://python.org"",
                          callback=(yield tornado.gen.Callback(""python"")))

        http_client.fetch(""http://tornadoweb.org"",
                          callback=(yield tornado.gen.Callback(""tornado"")))
        keys = set([""google"", ""tornado"", ""python""])
        while keys:
            key, response = yield tornado.gen.WaitAny(keys)
            keys.remove(key)
            # do something with response
            self.write(str(key)+""        "")
            self.flush()
        self.finish() 
"
20564,23498,How to access a method in one inherited tkinter class from another inherited tkinter class,"import Tkinter as tk

class Testing(tk.LabelFrame):
    def __init__(self, parent, main):

        self.buttonWidth = 10

        self.parent=parent
        self.main = main # save the instantiating class

        tk.LabelFrame.__init__(self, self.parent, 
            text=""Test Operations"",
            padx=10,
            pady=10
        )

        self.taskButton = tk.Button(
            self, 
            text=""Do A Task"", 
            width=self.buttonWidth,
            command=self.doATask,
        )

        self.taskButton.pack()

    def doATask(self):
        #want to execute function in Results.getResult() but don't know how
        self.main.results.getResult()  #<--what you can do

class Results(tk.LabelFrame):

    def __init__(self, parent, main):
        self.parent = parent
        self.main = main # save the instantiating class
        tk.LabelFrame.__init__(self, self.parent, text=""Visual Results"")

        self.resultLbl = tk.Label(self, text=""Result"")

        self.resultLbl.pack()

    def getResult(self):
        self.resultLbl.config(bg='yellow')

class Application(tk.Frame):

    def __init__(self, parent):
        self.parent = parent
        tk.Frame.__init__(self, self.parent)

        self.testing = Testing(self.parent, self)
        self.results = Results(self.parent, self)

        self.testing.pack(fill=tk.X)
        self.results.pack(fill=tk.X)

if __name__ == ""__main__"":
    root = tk.Tk()
    root.title(""Modular GUI App"")

    Application(root).pack()
    root.mainloop()
"
31545,43220,Product of a list python,">>> from operator import mul
>>> reduce(mul, [1, 2, 3], 1)
6
"
30833,78740,creating list of empty lists - Python,"test = [[] for e in range(len(foobar)/2)]
"
6137,40086,How to implement indeterminate Progressbar in Tkinter?,"import threading

class MyApp(ttk.Frame):
    def __init__(self, master):
        ttk.Frame.__init__(self, master)
        fname = 'test.txt'
        self.build_ui()
        self.process_file(fname)

    def process_file(self, fname):
        self.show_progress(True)

        # Start thread to process file.
        self.thread = threading.Thread(target=self.process_file_worker, args=(fname,))
        self.thread.daemon = True # Allow the program to terminate without waiting for the thread to finish.
        self.thread.start()

        # Start checking the thread.
        self.process_file_check()

    def process_file_check(self):
        if self.thread.is_alive():
            # Thread is still running, check thread again in 10 milliseconds.
            self.after(10, self.process_file_check)

        else:
            # Thread finished, handle processed results.
            # Do something with `self.fdata`.
            self.show_progress(False)

    def process_file_worker(self, fname):
        # This is run inside the thread.
        fdata = self.read_file(fname)
        fdata = self.spellcheck(fdata)
        self.fdata = fdata

    def show_progress(self, start):
        if start:
            self.prog_win = tk.Toplevel()
            self.prog_win.title('Working...')
            self.prog_win.resizable(0, 0)
            self.progress_bar = ttk.Progressbar(self.prog_win,
                                                orient=tk.HORIZONTAL,
                                                mode='indeterminate',
                                                takefocus=True)
            self.progress_bar.grid()
            self.progress_bar.start()
        else:
            self.progress_bar.stop()
            self.prog_win.destroy()


root = tk.Tk()
root.update()
gui = MyApp(root)
gui.mainloop()
"
36346,34750,Fastest way to sort in Python,"def qsort(inlist):
    if inlist == []: 
        return []
    else:
        pivot = inlist[0]
        lesser = qsort([x for x in inlist[1:] if x < pivot])
        greater = qsort([x for x in inlist[1:] if x >= pivot])
        return lesser + [pivot] + greater
"
33538,54561,what is the valid format for a tiff image in python,"img = Image()
# any editing of 'img'
img.save( 'mytiff.tif' )
"
18577,58731,How can I make homebrew's python and pyenv live together?,"ln -s $(brew --cellar python) ~/.pyenv/versions
"
14415,30911,Test Apache config file from Python,"from subprocess import Popen, PIPE

args = ['/usr/bin/apachectl','configtest']

result = Popen(args,stdout=PIPE,stderr=PIPE).communicate()
# result[0] will be the standard output, result[1] will be the stderr output
"
25375,13489,Python xml.dom.minidom schema validation,"from lxml import etree

xmlschema_doc = etree.parse('schema.xsd')
xml_doc = etree.parse('my.xml')
xmlschema = etree.XMLSchema(xmlschema_doc)

if xmlschema.validate(xml_doc):
   print 'Valid xml'
else:
   print 'Invalid xml'
"
32207,35777,Intersection of a set and list of dictionaries,"In [1]: my_set = set([""a"",""b"",""c"",""d"",""z""])
In [2]: my_list=[{""a"":0.5},{""c"":0.6},{""b"":0.9},{""z"":0.5},{""m"":0.0}]
In [3]: [d for d in my_list if all(k in my_set for k in d)]
Out[3]: [{'a': 0.5}, {'c': 0.6}, {'b': 0.9}, {'z': 0.5}]
"
28871,74668,How to set focus to a specific child in a ttk.Treeview similar to clicking on it?,"def c_to_nex(self, event):#Hitting 'Return' on 'c' calls this, setting focus back to 'dirdisplay' treeview, giving focus to child immediately below what was originally clicked.
    #Do whatever with data in c
    print('Focus acknowledged')
    print(self.nextID)#Feedback to show me the nextID actually exists when I hit 'Return'
    self.dirdisplay.focus_set()
    self.dirdisplay.selection_set((self.nextID, self.nextID))
    self.dirdisplay.focus(self.nextID)
"
22694,2480,How to test Python readline completion?,"child = pexpect.spawn('ftp ftp.openbsd.org')
child.expect('(?i)name .*: ')
child.sendline('anonymous')
child.expect('(?i)password')
child.sendline('pexpect@sourceforge.net')
child.expect('ftp> ')
"
20143,55704,What is the proper way to handle multiple conditionals in a wxpython file dialog?,"dialogStatus = dlg.ShowModal()
if dialogStatus == wx.ID_OK:
    ...
"
7386,34220,python-requests hook similar to pycurl.WRITEFUNCTION?,"import requests

def tide_on(url):
    r = requests.get(url, stream=True, **kwargs)

    for line in r.iter_lines():
        # wish to stop after consuming just one line
        print(line)
        break

    r.close()
"
4596,76432,How does this interleaving recursive function work?,"([1, 2], [3, 4]) -> [1] + ([3, 4], [2])
    ([3, 4], [2]) -> [3] + ([2], [4])
        ([2], [4]) -> [2] + ([4], [])
            ([4], []) -> return [4]  # lst2 is empty, return lst1
        return [2] + [4]
    return [3] + [2, 4]
return [1] + [3, 2, 4]
"
7432,48895,Unexpected behaviour while iterating directories in python,"from os.path import basename, dirname
import openpyxl

def crearlista (*arg, **kw):
    inventario = openpyxl.Workbook(encoding = ""Utf-8"")
    sheet = inventario.active
    i = 1

    for dirpath, subdirs, files in os.walk(""//media//rayeus/Datos/Mis Documentos/Nueva carpeta/"", topdown=False):    
        file_dir = basename(dirpath) or dirname(basename(dirpath))
        for name in files:
            sheet.cell(row=i, column=1).value = dirpath
            sheet.cell(row=i, column=2).value = file_dir
            sheet.cell(row=i, column=3).value = name
            i += 1
"
34912,11478,Loading contents of a webpage sequentially,"var loaded = true;
for (var i = 0 ; loaded ; i++) {
    var div = 'contentDiv' + i;
    $(body).append('<div id=' + div + '></div>');
    $('#contentDiv' + i).load('otherpage.html #' + div, function(response, status, xhr) { 
        if (status == 'error') {
            loaded=false;
        }});  // assumes you have the #contentDiv[i] already in otherpage.html
}
"
18442,24803,Python: how to do basic data manipulation like in R?,"import csv
from itertools import izip

with open('source.csv') as f:
    reader = csv.reader(f)
    # filter data
    data = (row for row in reader if row[1].strip() in ('5', '8'))
    # make a new variable
    data = (row + [int(row[2]) * 3] for row in data)
    # transpose data
    data = izip(*data)
    # write data to a new csv file
    with open('destination.csv', 'w') as fw:
        csv.writer(fw).writerows(data)
"
4681,54316,Is there a way I can close an exe from python,"p = subprocess.Popen(['path/to/long/runnning/process', 'arg1', 'arg2'])
...
p.terminate()  # kill the process.
"
13055,25188,Cross-platform resource usage on subprocess.Popen,"import random
import psutil # $ pip install psutil

p = psutil.Process(random.choice(psutil.pids()))
print(p.name())
print(p.cpu_times())
print(p.memory_info())
"
19818,80719,Python - writing in a file from an infinity loop,"open(""logfile.txt"", ""a"")
"
1020,9535,Python: increment dictionary keys,"keys = list(d.keys())
keys.sort(reverse=True)
increased_k = keys[0] + 1  # use +1 to increment the largest key 
for k in keys:
    if k < new_key: break
    d[increased_k] = d[k]
    increased_k = k

d[new_key] = new_value  # insert the new item
"
30039,39390,Find least frequent value in dictionary,"d={'Alyssa':22, 'Char':25, 'Dan':25, 'Jeff':20, 'Kasey':20, 'Kim':20, 'Mogran':25, 'Ryan':25, 'Stef':22}
import collections
print collections.Counter(d.values()).most_common()[-1][0]
22
"
34961,72071,Sort distributed couples from two lists,"from itertools import islice, izip, cycle

list_1 = ['a','b','c']
list_2 = [1,2]

list(islice(izip(cycle(list_1), cycle(list_2)), len(list_1)*len(list_2)))
"
24534,3558,How to include regular expression in tn.read_until()?,"tn.expect([r""\w+ login: ""])
"
14321,39821,Convert .CSV file to point feature class using python 2.7,"import csv

cursor = arcpy.InsertCursor(pointFC)
with open('yourcsvfile.csv', 'rb') as csvfile:
    reader = csv.reader(csvfile)
    for row in reader:
        point = arcpy.CreateObject(""Point"")
        point.X, point.Y = float(row[5]), float(row[27])  # take the 6th and 28th columns from the row
        cursor.insertRow(point)        
"
14667,81793,filename sequence extraction python,"from collections import defaultdict

input_list = [
    ""test00_take1_00001.dpx"",
    ""test00_take1_00002.dpx"",
    ""another_take_ver1-0001_3.dpx"",
    ""another_take_ver1-0002_3.dpx""]

results_dict = defaultdict(lambda: defaultdict(list))
matches = (re.match(r""(.*?[\W_])\d+([\W_].*)"", item) for item in input_list)
for match in matches:
    results_dict[match.group(1)][match.group(2)].append(match.group(0))

results_list = [d2 for d1 in results_dict.values() for d2 in d1.values()]

>>> results_list
[['another_take_ver1-0001_3.dpx', 'another_take_ver1-0002_3.dpx'], ['test00_take
1_00001.dpx', 'test00_take1_00002.dpx']]
"
10756,63184,Is there a Python module to parse line break notation in a raw string?,">>> print ""foo\\nbar\\n\\tbaz""
foo\nbar\n\tbaz
>>> print ""foo\\nbar\\n\\tbaz"".decode('string_escape')
foo
bar
        baz
"
21304,68402,"Handling a url which fails to open, error handling using urllib","error = 0
while error < 2:
  try:
    motgift = spider_xml(motgift_url, extract_xml_item, motgift_xpath,   motgift_pipeline, motgift_table, motgift_model
    break
  except:
    error += 1
    sleep(10)
"
18537,51632,Python code to accept many different formats of US phone numbers?,"import re
pnumber = re.sub(""[^0-9]"", """", input_number)
if pnumber[0] == 1:
    pnumber = pnumber[1:]#strip 1st char if it's a 1

#insert the dashes
if len(pnumber) == 10:
    pnumber = ""%s-%s-%s"" % (pnumber[:3],pnumber[3:6],pnumber[6:])
else:
    #throw error
"
20651,59706,TTK progress bar blocked when sending email,"import Tkinter
import threading
import Queue

class GuiPart:
    def __init__(self, master, queue, endCommand):
        self.queue = queue
        # Do GUI set up here (i.e. draw progress bar)

        # This guy handles the queue contents
        def  processIncoming(self):
            while self.queue.qsize():
                try:
                    # Get a value (email progress) from the queue 
                    progress = self.queue.get(0)
                    # Update the progress bar here.

                except Queue.Empty:
                    pass

class ThreadedClient:
    # Launches the Gui and does the sending email task
    def __init__(self, master):
        self.master = master
        self.queue = Queue.Queue()

        # Set up the Gui, refer to code recipe
        self.gui = GuiPart(master, self.queue, ...)

        # Set up asynch thread (set flag to tell us we're running)
        self.running = 1        
        self.email_thread = threading.Thread(target = self.send_emails)
        self.email_thread.start()

        # Start checking the queue
        self.periodicCall()

     def periodicCall(self):
         # Checks contents of queue
         self.gui.processIncoming()
         # Wait X milliseconds, call this again... (see code recipe)

     def send_emails(self): # AKA ""worker thread""
         while (self.running):
             # Send an email
             # Calculate the %age of email progress

             # Put this value in the queue!
             self.queue.put(value)

     # Eventually run out of emails to send.
     def endApplication(self):
         self.running = 0


root = Tkinter.Tk()
client = ThreadedClient(root)
root.mainloop()
"
2342,77494,Probability of consecutive occurrences of characters,"from collections import defaultdict

data = [['A','B','C','D','E'],
        ['A','B','C'],
        ['A','B','C','E'],
        ['C','D','E'],
        ['C','D','E','B','A']]
characters = [i for j in data for i in j]
counts = {}
combinations = defaultdict(int)
for character in set(characters):
    counts[character] = characters.count(character)
    for character2 in set(characters):
        for entry in data:
            combination = [character, character2]
            if """".join(combination) in """".join(entry):
                combinations[tuple(combination)] += 1
probability = {i: combinations[i]/float(counts[i[0]]) for i in combinations}
probability

{('A', 'B'): 0.75,
  ('B', 'A'): 0.25,
  ('B', 'C'): 0.75,
  ('C', 'D'): 0.6,
  ('C', 'E'): 0.2,
  ('D', 'E'): 1.0,
  ('E', 'B'): 0.25}
"
7770,63936,Specifying formatting for csv.writer in Python,"class TypedWriter:
    """"""
    A CSV writer which will write rows to CSV file ""f"",
    which uses ""fieldformats"" to format fields.
    """"""

    def __init__(self, f, fieldnames, fieldformats, **kwds):
        self.writer = csv.DictWriter(f, fieldnames, **kwds)
        self.formats = fieldformats

    def writerow(self, row):
        self.writer.writerow(dict((k, self.formats[k] % v) 
                                  for k, v in row.iteritems()))

    def writerows(self, rows):
        for row in rows:
            self.writerow(row)
"
26246,41515,Relationship to different tables in SQLalchemy,"def _foreign_id_rel(Cls):
    return relationship(
        Cls,
        uselist=False,
        lazy=False,  # This is just my use case, not needed
        primaryjoin=lambda: and_(
            Diff.foreign_table == Cls.__tablename__,
            foreign(Diff.foreign_id) == Cls.id,
        ),
        backref=backref(
            'diffs',
            uselist=True,
            lazy=True,  # This is just my use case, not needed
            primaryjoin=lambda: and_(
                Diff.foreign_table == Cls.__tablename__,
                foreign(Diff.foreign_id) == Cls.id,
            ),
        ),
    )


class Diff(Model):
    ...

    foo = _foreign_id_rel(Foo)
    bar = _foreign_id_rel(Bar)
    baz = _foreign_id_rel(Baz)

    @property
    def foreign(self):
        if self.foreign_table:
            return getattr(self, self.foreign_table)

    @foreign.setter
    def foreign(self, value):
        if value is None:
            self.foreign_table = None
            self.foreign_id = None
        else:
            tbl_name = value.__tablename__
            self.foreign_table = tbl_name
            setattr(self, tbl_name, value)
"
31572,62899,Psycopg2 query returning Decimal('value'),"In [7]: str(decimal.Decimal('0.1'))
Out[7]: '0.1'

In [13]: ""{0:0.6f}"".format(decimal.Decimal('0.1'))
Out[13]: '0.100000'
"
16360,10066,Insert into mysql using dictionary,"from collections import OrderedDict

d = OrderedDict([(""name"", ""David""), (""year"", 2016)])

values_tuple = tuple([v for v in d.values()])
q = r'INSERT INTO myTable (%s'
for i in range(len(values_tuple)-1):  # I added first one above so -1
    q += r', %s'
q += ')'

cursor.execute(q, values_tuple)
"
26964,66921,Python not parsing JSON API return prettily,"date = {}
data = urllib2.urlopen(url)
data_obj = json.loads(data.read())
s = json.dumps(data_obj, sort_keys=True, indent=4)
print s
"
11447,24938,Python time.sleep,"from time import time, sleep
from Tkinter import *

def empty_textbox():
    textbox.delete(""1.0"", END)

root = Tk()

frame = Frame(root, width=300, height=100)
textbox = Text(frame)

frame.pack_propagate(0)
frame.pack()
textbox.pack()

textbox.insert(END, 'This is a test')
textbox.after(5000, empty_textbox)

root.mainloop()
"
30339,32878,How to get an absolute file path in Python,">>> import os
>>> os.path.abspath(""mydir/myfile.txt"")
"
16516,60582,How do I write to the console from a pytest plugin during the collection phase?,"def pytest_generate_tests(metafunc):
    [...]
    if warning_condition:
        metafunc.config._warn(""Warning condition encountered."")
    [...]
"
29714,36694,search for string in json file,"import json
import sys
import os
data = []
if os.stat(""data.txt"").st_size != 0 :
    file = open('data.txt', 'r')
    data = json.load(file)
    print(data)

choice = input(""What's your choice ?"")
if choice == 'a':
    # Add a new joke.
    # See Point 3 of the ""Requirements of admin.py"" section of the assignment brief.
    jokeSetup = input('Enter setup of joke: ')
    jokePunchLine = input('Enter punchline of joke: ')
    entry = {'setup': jokeSetup , 'punchline': jokePunchLine}
    data.append(entry)
    file = open('data.txt', 'w')
    json.dump(data, file)
    file.close()
    print('Joke Added.')
    pass


elif choice == 's':
    # Search the current jokes.
    # See Point 5 of the ""Requirements of admin.py"" section of the assignment brief.
    searchTerm = input('Enter search term: ')
    file = open('data.txt', 'r')
    data = json.load(file)
    file.close()

    for sub_dict in data:
        if searchTerm in sub_dict['setup']:
            print(sub_dict['punchline'])
    pass
# or you could modify the last for loop, like this:
    for dict in data:
        if searchTerm in dict['setup'] or searchTerm in dict['punchline']:
            print('found!')
    pass
"
32583,76974,How to cPickle dump and load separate dictionaries to the same file?,"with open(filename,'wb') as fp:
    pickle.dump(dict1,fp)
    pickle.dump(dict2,fp)
    pickle.dump(dict3,fp)

with open(filename,'rb') as fp:
    d1=pickle.load(fp)
    d2=pickle.load(fp)
    d3=pickle.load(fp)
"
11383,68731,Merge two DataFrames with some equal columns,"df1.set_index(['id', 'noteId'], inplace=True)
df1.update(df2)
"
29887,17866,Django ORM join without explicit Foriegn Key,"businesses = Business.objects.extra(
  select={
    ""lat"": ""SELECT latitude FROM property_table WHERE  business_table.address = property_table.address"",
    ""lon"": ""SELECT longitude FROM property_table WHERE business_table.address = property_table.address""
  }
)
"
10452,40558,boost::python passing argv to C++,"char **list_to_argv_array(PyObject *lst)
{
  assert (PyList_Check(lst));       // use better error handling here
  size_t cnt = PyList_GET_SIZE(lst);
  char **ret = new char*[cnt + 1];
  for (size_t i = 0; i < cnt; i++) {
    PyObject *s = PyList_GET_ITEM(lst, i);
    assert (PyString_Check(s));     // likewise
    size_t len = PyString_GET_SIZE(s);
    char *copy = new char[len + 1];
    memcpy(copy, PyString_AS_STRING(s), len + 1);
    ret[i] = copy;
  }
  ret[cnt] = NULL;
  return ret;
}
"
32687,59406,SQLAlchemy Eager Loading with Relationships,"session.query(A).options(subqueryload(A.b).subqueryload(B.c))
"
3596,13669,Python sort array of string with integers inside,">>> fmts =[""12 sheet"",""4 sheet"",""48 sheet"",""6 sheet"", ""busrear"", ""phonebox"",""train""]
>>> fmts.sort(key=lambda x: (int(x.split(None, 1)[0]) if x[:1].isdigit() else 999, x))
>>> fmts
['4 sheet', '6 sheet', '12 sheet', '48 sheet', 'busrear', 'phonebox', 'train']
"
11136,24790,Creating an 'all day' event using google calendar api in python,"event = {
    'summary': calendar_event_form.cleaned_data['name'],
    'location': calendar_event_form.cleaned_data['location'],
    'description': calendar_event_form.cleaned_data['description'],
    'start': {
        'date': start_string, #date here
        'timeZone': tz_str,
    },
    'end': {
        'date': end_string, #date here
        'timeZone': tz_str,
    },
}
"
6664,24344,Finding the most frequent occurrences of pairs in a list of lists,"from collections import Counter
from itertools import combinations

d  = Counter()
for sub in a:
    if len(a) < 2:
        continue
    sub.sort()
    for comb in combinations(sub,2):
        d[comb] += 1

print(d.most_common())
[(('Jennifer', 'John'), 3), (('John', 'Mark'), 2), (('Jennifer', 'Mark'), 2), (('Anna', 'John'), 1), (('Joe', 'Mark'), 1), (('Anna', 'Jennifer'), 1)]
"
1405,81430,"New to PyDev, question about auto completion","list = [1,2,3]
list. # auto-complete will recognize list is a list
"
16282,67821,Function to find local maximum,"import numpy as np

def local_max(a, start, finish):
    local = a[start:finish+1]
    loc_max = max(local)
    loc_pos = local.index(loc_max) + start
    return loc_max, loc_pos

data = [3, np.nan, 5.3, 7.0, 8, 5.0, 0, 1, 3, 5.0, 2.4, 0.1, 0.3, 0.5]

print local_max(data, 7, 11)
print local_max(data, 0, 5)
"
5809,9718,"How should I pass a matplotlib object through a function; as Axis, Axes or Figure?","import numpy as np
import matplotlib.pyplot as plt

def _profile(ax, x, y):
    ln, = ax.plot(x, y)
    # return the Artist created
    return ln


def profile_matrix(n, m):
    fig, ax_array = plt.subplots(n, m, sharex=True, sharey=True)
    for ax in np.ravel(ax_array):
        _profile(ax, np.arange(50), np.random.rand(50))

profile_matrix(3, 3)
"
34642,45210,python unittests with multiple setups?,"class FixtureSuite(unittest.TestSuite):
    def run(self, result, debug=False):
        socket.setdefaulttimeout(30)
        super().run(result, debug)
        socket.setdefaulttimeout(None)
...
suite1 = unittest.TestSuite(testCases)
suite2 = FixtureSuite(testCases)
fullSuite = unittest.TestSuite([suite1,suite2])
unittest.TextTestRunner(verbosity=2).run(fullSuite)
"
38815,74251,"Scraper implemented with python, using scrapy and selenium launches but shuts down","import scrapy
from selenium import webdriver

class product_spiderItem(scrapy.Item):
    title = scrapy.Field()
    price=scrapy.Field()
    pass

class ProductSpider(scrapy.Spider):
    name = ""product_spider""
    allowed_domains = ['ebay.com']
    start_urls = ['http://www.ebay.com/sch/i.html?_odkw=books&_osacat=0&_trksid=p2045573.m570.l1313.TR0.TRC0.Xpython&_nkw=python&_sacat=0&_from=R40']

    def __init__(self):
        self.driver = webdriver.Firefox()

    def parse(self, response):
        self.driver.get(response.url)

        while True:

            sel = scrapy.Selector(text=self.driver.page_source)

            for prod in sel.xpath('//ul[@id=""GalleryViewInner""]/li/div/div'):
                item = product_spiderItem()
                item['title'] = prod.xpath('.//div[@class=""gvtitle""]/h3/a/text()').extract()
                item['price'] = prod.xpath('.//div[@class=""prices""]//span[@class="" bold""]/text()').extract()
                yield item

            next = self.driver.find_element_by_xpath('//td[@class=""pagn-next""]/a')

            try:
                next.click()

            except:
                break

    def closed(self, reason):
        self.driver.close()
"
26235,55701,How to get a list of local drives without SUBST'ituted ones in Python / Windows?,">>> import win32file
>>> win32file.GetVolumeNameForVolumeMountPoint(""C:\\"")
'\\\\?\\Volume{50c800a9-c62e-11df-b5bb-806e6f6e6963}\\'
>>> win32file.GetVolumeNameForVolumeMountPoint(""K:\\"")
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
pywintypes.error: (87, 'GetVolumeNameForVolumeMountPoint', 
                       'The parameter is incorrect.')
"
38973,20466,Match everything inside multiple instances of a tag in a string in python,"import xml.etree.ElementTree as ET

str = ""<sec>John</sec> said hi to a woman (named <sec>Mary</sec>)""

doc = ET.fromstring(""<root>"" + str + ""</root>"")
result = [x.text for x in doc.findall("".//sec"")]

# >>> ['John', 'Mary']
"
24056,34682,adding dict2 to dict1 in python,">>> dict1 = {""good authors"": {""john"" : {}, ""jack"" : {}}, ""average authors"" : {""kim"" : {}, ""peter"" : {}} }

>>> dict2 = {""john"" : [{""2008"" : ""book1""}, {""2009"" : ""book2""}], ""peter"" : [{""2008"" : ""book3""}, {""2009"" : ""book4""}]}
>>> for key, value in dict1.items():
...     for dict2key, dict2value in dict2.items():
...         if dict2key in value:
...             value[dict2key] = dict2value
...
>>> dict2
{'john': [{'2008': 'book1'}, {'2009': 'book2'}], 'peter': [{'2008': 'book3'}, {'2009': 'book4'}]}
"
11790,55317,Pandas sort list of str.split(),"In [70]: s.str.split(',').map(lambda x: ','.join(sorted(x)))
Out[70]:
0    abc,def,ghi
1        abc,ghi
dtype: object
"
21240,68227,assert_has_calls does not stub the method call,"assert_equal(mock.call.method_to_be_mocked.call_count, 2)
"
2681,4439,Better way to call a chain of functions in python?,"out = initial_input
for func in [function1, function2, function3, function4]:
    out = func(out)
"
6616,47452,How to parallelize this situation with robots,"#!/usr/bin/env python
import numpy
import pylab
from mpi4py import MPI

class Robot(object):
    def __init__(self, id, x, y, vx, vy, mass):
        self.id = id
        self.x = x
        self.y = y
        self.vx = vx
        self.vy = vy
        self.ax = 0.
        self.ay = 0.
        self.mass = mass
    def rPrint(self):
        print ""Robot "",self.id,"" at ("",self.x,"","",self.y,"")""
    def interact(self, robot2):
        dx = (self.x-robot2.x)
        dy = (self.y-robot2.y)
        eps = 0.25
        idist3 = numpy.power(numpy.sqrt(dx*dx +dy*dy + eps*eps),-3)
        numerator = -self.mass*robot2.mass
        self.ax += numerator*dx*idist3
        self.ay += numerator*dy*idist3
        robot2.ax -= numerator*dx*idist3
        robot2.ay -= numerator*dy*idist3
    def updatePos(self, dt):
        self.x += 0.5*self.vx*dt
        self.y += 0.5*self.vy*dt
        self.vx += self.ax*dt
        self.vy += self.ay*dt
        self.x += 0.5*self.vx*dt
        self.y += 0.5*self.vy*dt
        self.ax = 0.
        self.ay = 0.



def init(nRobots):
    myRobotList = []
    vx = 0.
    vy = 0.
    mass = 1.
    for i in range(nRobots):
        randpos = numpy.random.uniform(-3,+3,2)
        rx = randpos[0]
        ry = randpos[1]
        myRobotList.append(Robot(i, rx, ry, vx, vy, mass))
    return myRobotList

def selfForces(robotList):
    nRobots = len(robotList)
    for i in range(nRobots-1): 
       for j in range (i+1, nRobots):
            robotList[i].interact(robotList[j])

def otherRobotForces(myRobotList, otherRobotList):
    for i in myRobotList:
        for j in otherRobotList:
            i.interact(j)

def plotRobots(robotList):
    xl = []
    yl = []
    vxl = []
    vyl = [] 
    for i in robotList:
       xl.append(i.x)
       yl.append(i.y)
       vxl.append(i.vx)
       vyl.append(i.vy)
    pylab.subplot(1,1,1)
    pylab.plot(xl,yl,'o')
    pylab.quiver(xl,yl,vxl,vyl)
    pylab.show()

if __name__ == ""__main__"":
    comm = MPI.COMM_WORLD
    nprocs = comm.Get_size()
    rank   = comm.Get_rank()

    if (nprocs != 2):
        print ""Only doing this for 2 for now..""
        sys.exit(-1)
    neigh = (rank + 1) %  nprocs

    robotList = init(50)

    for i in range (10):
        print ""["",rank,""] Doing step "", i
        selfForces(robotList)

        request = comm.isend(robotList, dest=neigh, tag=11)
        otherRobotList = comm.recv(source=neigh, tag=11)

        otherRobotForces(robotList,otherRobotList)

        request.Wait()

        for r in robotList:
            r.updatePos(0.05)



    if (rank == 0):
        print ""plotting Robots""
        plotRobots(robotList + otherRobotList)
"
7421,60115,how to dynamically insert data in a list in python,"# create an empty list
a = [];
# take limt as input
lim = raw_input(""Enter limit"")

# this is python style of for loop
# here i will start from 0 and will go upto limit
for i in range (0, int(lim)):
    # take input from user one by one and append to list
    elem = raw_input("""")
    a.append(int(elem))
"
4402,26032,How to escape all unescaped slashes in Python,"result = re.sub(r""""""(?x)
    (?<!\\)     # Make sure that there is no backslash before the current position
    \\          # Match a backslash
    (?=         # only if...
     (?:\\\\)*  # an even number of backslashes follows (including zero)
     (?!\\)     # and no further backslashes follow after that
    )           # (End of lookahead assertion)"""""", 
    r""\\\\"", subject)
"
33555,38417,Pandas: boolean indexing with 'item in list' syntax,"In [212]: df = pd.DataFrame([['a', 1], ['b', 2], ['c', 3], ['d', 4]],
                            columns=['col1', 'col2'])


In [213]: df['col1'].isin(['a', 'b', 'c'])
Out[213]:
0     True
1     True
2     True
3    False
Name: col1, dtype: bool

In [214]: df.ix[df['col1'].isin(['a', 'b', 'c']), :]
Out[214]:
  col1  col2
0    a     1
1    b     2
2    c     3
"
18659,21309,Avoid running GeoIP on every page,"set $country $cookie_country;

if ($country == '') {
    set $country $geoip_country_code;
    add_header Set-Cookie country=$geoip_country_code; 
}

uwsgi_param GEOIP_COUNTRY $country;
"
8792,35376,Get all places with more than one tuple of geocoordinates,"PREFIX dbpedia-owl: <http://dbpedia.org/ontology/>
PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>
SELECT ?subject,
?longitude_counter,
?latitude_counter,
(group_concat(?latitude ; separator = ""||"") AS ?latitude_set),
(group_concat(?longitude ; separator = ""||"") AS ?longitude_set)
WHERE
{
    {
        SELECT DISTINCT * WHERE
        {
            SELECT DISTINCT ?subject (COUNT(?latitude) as ?latitude_counter) (COUNT(?longitude) as ?longitude_counter) 
            WHERE 
            {
                ?subject geo:lat ?latitude; geo:long ?longitude .
            }
        } 
    }
    ?subject geo:lat ?latitude; geo:long ?longitude .
    FILTER(?latitude_counter > 1 or ?longitude_counter > 1)
}
ORDER BY DESC(?longitude_counter)
"
21648,44726,"Python loop through two files, do computation, then output 3 files","# Sorry but was not able to check code below
def get_diff(fileObj1, fileObj2):
    f1Diff = []
    f2Diff = []
    outputData = []
    # x is one row
    f1Data = set(x.strip() for x in fileObj1)
    f2Data = set(x.strip() for x in fileObj2)
    f1Column1 = set(x.split('\t')[0] for x in f1Data)
    f2Column1 = set(x.split('\t')[0] for x in f2Data)
    l1Col1Diff = f1Column1 ^ f2Column1
    l2Col1Diff = f2Column1 ^ f1Column1
    commonPart = f1Column1 & f2column1
    for line in f1Data.union(f2Data):
        lineKey = line.split('\t')[0]
        if lineKey in common:
            outputData.append(line)
        elif lineKey in l1ColDiff:
            f1Diff.append(line)
        elif lineKey in l2ColDiff:
            f2Diff.append(line)
    return outputData, f1Diff, f2Diff

outputData, file1Missed, file2Missed = get_diff(open(file1, 'r'), open(file2, 'r'))
"
6776,44592,Fastest algorithm for finding overlap between two very large lists?,"small_list_set = set(small_list)
for line in big_list:
    for item in line:
        if item in small_list_set:
            bucket.append(line)
"
11947,39542,get file path using backslash (\) in windows in python,"import os, glob
files = glob.glob('*.jpg')
files = [os.path.join(""C:\\data"", file) for file in files]
result = ""( "" + "" "".join(files) + "" )""
print result  # Prints ( C:\data\a.jpg C:\data\b.jpg C:\data\c.jpg )
"
22728,15209,How to implement ScrollView in kv language?,"ScrollView:

    GridLayout:
        cols: 1
        padding: 10
        spacing: 10
        size_hint: None, None
        width: 500
        height: self.minimum_height
"
21080,71954,How do I change the current line highlight background in Pycharm?,"IDE Settings
    |
    Editor
       |
       Colors & Fonts
           |
           General
              |
              Caret Row
"
39312,39875,music21: How to append a chord to a stream simultaneously?,"s = stream.Stream()
n = note.Note('C4') # qtr note default
s.append(n)

c = chord.Chord('E4 G4') # qtr
s.insertIntoNoteOrChord(0.0, c)
s.show('t')
{0.0} <music21.chord.Chord C4 E4 G4>
"
25041,83893,How to copy a file using python?,"import os
import shutil

srcfile = 'a/long/long/path/to/file.py'
dstroot = '/home/myhome/new_folder'


assert not os.path.isabs(srcfile)
dstdir =  os.path.join(dstroot, os.path.dirname(srcfile))

os.makedirs(dstdir) # create all directories, raise an error if it already exists
shutil.copy(srcfile, dstdir)
"
36343,32733,Calculate Hitting Time between 2 nodes using NetworkX,"from numpy import *

hit_idx = (0,4)

# Define a graph by edge list
edges = [[0,1],[1,2],[2,3],[2,4]]

# Create adj. matrix
A = zeros((5,5))
A[zip(*edges)] = 1
# Undirected condition
A += A.T

# Make the final state an absorbing condition
A[hit_idx[1],:] = 0
A[hit_idx[1],hit_idx[1]] = 1

# Make a proper Markov matrix by row normalizing
A = (A.T/A.sum(axis=1)).T

B = A.copy()
Z = []
for n in xrange(100):
    Z.append( B[hit_idx] )
    B = dot(B,A)

from pylab import *
plot(Z)
xlabel(""steps"")
ylabel(""hit probability"")
show()    
"
16876,21392,How do I get access to parts of my url/path in a tornado request handler,"class MyHandler(tornado.web.RequestHandler):
    def get(self, *args, **kwargs):
        components = [x for x in self.request.path.split(""/"") if x]
        # results in ['myroute', 'something']
"
38022,35622,Speed up code in python,"n,m = map(int,raw_input().split())
s = n
aux = 0
while n>=m:
    n, aux = divmod(n, m)
    s +=n
    n +=aux
print s
"
10148,75203,"Performing tasks before insert, remove, etc. in flask-sqlalchemy","class Employee(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    employee_name = db.Column(db.String(120))
    parent = db.Column(db.Integer, db.ForeignKey('employee.id'), index=True)
    # implements nested intervals with fractions
    created = db.Column(db.DateTime, index=True)
    left_num = db.Column(db.Integer, nullable=False)
    left_den = db.Column(db.Integer, nullable=False)
    right_num = db.Column(db.Integer, nullable=False)
    right_den = db.Column(db.Integer, nullable=False)
    level = db.Column(db.Integer, nullable=False)

    def __init__(self, employee_name, parent):
        self.created = datetime.datetime.now()
        self.employee_name = employee_name
        self.parent = parent

        # handle case of first addition
        if not parent:
            self.level = 1
            left_node_num = 0
            left_node_den = 1
            right_node_num = 1
            right_node_den = 1
        else:
            parent_employee = Employee.query.get(self.parent)
            # if the parent exists, set level to 1 more
            self.level = parent_employee.level + 1
            # find the most recent sibling
            most_recent_sibling = Employee.query\
                .filter_by(parent=self.parent)\
                .order_by(Employee.id.desc())\
                .first()
            if not most_recent_sibling:
                # if no sibling, use parent boundaries
                left_node_num = parent_employee.left_num
                left_node_den = parent_employee.left_den
            else:
                left_node_num = most_recent_sibling.right_num
                left_node_den = most_recent_sibling.right_den
            right_node_num = parent_employee.right_num
            right_node_den = parent_employee.right_den
        left_boundary = fractions.Fraction(numerator=left_node_num + right_node_num,
                                           denominator=left_node_den + right_node_den)
        right_boundary = fractions.Fraction(numerator=left_boundary.numerator + right_node_num,
                                            denominator=left_boundary.denominator + right_node_den)
        self.left_num = left_boundary.numerator
        self.left_den = left_boundary.denominator
        self.right_num = right_boundary.numerator
        self.right_den = right_boundary.denominator
"
38295,45861,Ansible - putting facts in SQLite via Callback,"from ansible.plugins.callback import CallbackBase
import os
import time
import sqlite3

dbname = './test.db'
TIME_FORMAT='%Y-%m-%d %H:%M:%S'

try:
    con = sqlite3.connect(dbname)
    cur = con.cursor()
    cur.execute('CREATE TABLE `test` (`now` TEXT, `host` TEXT UNIQUE)')
    con.commit()
except:
    pass

def log(host, data):

    if type(data) == dict:
        invocation = data.pop('invocation', None)
        if invocation.get('module_name', None) != 'setup':
            return

    facts = data.get('ansible_facts', None)

    now = time.strftime(TIME_FORMAT, time.localtime())

    try:
        # `host` is a unique index
        cur.execute(""REPLACE INTO test (now, host) VALUES(?,?);"",
        (
            now,
            facts.get('ansible_hostname', None)
        ))
        con.commit()
    except:
        pass

class CallbackModule(CallbackBase):
    def runner_on_ok(self, host, res):
        log(host, res)
"
38807,79410,Xpath not finding elements past the first,"for node in page.xpath('.//table[@class=""gridtable""]/tr'):
"
4598,56004,Appending results of an element related if function to the last column of a csv,"with open(""input.csv"", ""r"") as input_file:
    header = input_file.readline()[:-1] #this is to remove trailing '\n'
    header += "",Table exists?""
    output_lines = [header]

    for line in input_file:
         output_lines.append(line[:-1])
         if 'table' in line.split("","")[3]:
             output_lines[-1]+="",table exists""
         else:
             output_lines[-1]+="",No table found""

with open(""output.csv"", ""w"") as output_file:
    output_file.write(""\n"".join(output_lines))
"
8608,16615,Calculate how many years need your money to duplicate in the bank inputing the interest,">>> def inversio(interes_fix_anual):
...     interes_fix_anual=float(interes_fix_anual)
...     money = input('Write here your credit ')
...     interes = interes_fix_anual / 100.0
...     years = 0
...     inversion = money
...     while inversion <= (money * 2):
...         inversion = inversion + (inversion * interes)
...         years = years+1
...         print 'money=' + str(money) + ' inversion=' + str(inversion) + ' years=' + str(years)
...     return years
...
>>> inversio(4)
Write here your credit 100
money=100 inversion=104.0 years=1
money=100 inversion=108.16 years=2
money=100 inversion=112.4864 years=3
money=100 inversion=116.985856 years=4
money=100 inversion=121.66529024 years=5
money=100 inversion=126.53190185 years=6
money=100 inversion=131.593177924 years=7
money=100 inversion=136.856905041 years=8
money=100 inversion=142.331181242 years=9
money=100 inversion=148.024428492 years=10
money=100 inversion=153.945405632 years=11
money=100 inversion=160.103221857 years=12
money=100 inversion=166.507350731 years=13
money=100 inversion=173.16764476 years=14
money=100 inversion=180.094350551 years=15
money=100 inversion=187.298124573 years=16
money=100 inversion=194.790049556 years=17
money=100 inversion=202.581651538 years=18
18
"
35857,74110,"Turning a Variable into a Function? (Code works, interesting behavior)","class A:
    pass

a = A() # instantiate an object of class A
"
18639,3211,Store dynamic values in a data structure,"import pickle
data = [int(el) for el in raw_input().split()]
try:
    new = pickle.load(open(""save.p"", ""rb"")) + data
except IOError:
    new = data
pickle.dump(new, open(""save.p"", ""wb""))
print pickle.load(open(""save.p"", ""rb""))
"
2383,58043,Expand vector in terms of others,"from numpy import allclose,zeros_like
from numpy.random import rand    
from numpy.linalg import solve

# generate the 5 vectors as random arrays
mat = rand(5,5)
v1,v2,v3,v4,v5 = mat.T
v0 = rand(5)
x= solve(mat,v0)

#first check
assert allclose(dot(mat,x),v0)

#2nd check, which is the equation of the OP
res = zeros_like(v0)
for xj,vj in zip([v1,v2,v3,v4,v5],x):
    res+= xj*vj

assert allclose(res,v0)
"
18671,48527,Get 'unc' path in OSX of mounted share,"from subprocess import Popen, PIPE

df = Popen('df -P /Volumes/link/to/some/folder', shell=True, stdout=PIPE)
serverAddress = df.stdout.readlines()[1:][0]
serverAddress = serverAddress.split('@')[1]
serverAddress = serverAddress.split('/')[0]
print serverAddress
"
35647,37794,How to delete an object from a numpy array without knowing the index,"x = np.array([1,2,3,4,5])
index = np.argwhere(x==3)
y = np.delete(x, index)
print(x, y)
"
13730,47392,Open new window after click button,"driver.find_element_by_css_selector('description').click()

# extract the data

driver.back()
"
39388,61564,IPython: Protecting {} brackets in shell invocations,"In [5]: !echo {filename}.bak
mytxtfile.txt.bak
"
18734,51832,MQTT Paho Python reliable reconnect,"mqttc = mqtt.Client(machine_id, clean_session=False)
mqttc.username_pw_set(mqtt_user, mqtt_pwd)
mqttc.connect(mqtt_host, mqtt_port)
mqttc.subscribe(mqtt_topic, qos=1)

def on_disconnect(client, userdata, rc):
    if rc != 0:
        print ""Unexpected MQTT disconnection. Will auto-reconnect""

mqttc.on_connect = on_connect
mqttc.on_message = on_message
mqttc.on_disconnect = on_disconnect
mqttc.loop_forever()
"
14350,74055,List of Dictionary to xlwt,"data = [
    {'id':u'1','name':u'Jeff'},
    {'id':u'2','name':'Carlo'},
]

import xlwt

w = xlwt.Workbook()
ws = w.add_sheet('sheet1')

columns = list(data[0].keys()) # list() is not need in Python 2.x
for i, row in enumerate(data):
    for j, col in enumerate(columns):
        ws.write(i, j, row[col])

w.save('data.xls')
"
165,43583,Filtering dictionary by values,"# input data
lst = [{'A':'BBB', 'C':'DDD', 'D':'EEE'},
       {'A':'BBB', 'C':'DDD', 'D':'ESS'},
       {'A':'BBB', 'C':'ASD', 'D':'EEE'},
       {'C':'ASD', 'D':'EEE'}]

# list of filters
flt = [('A', 'BBB'), ('D', 'EEE')]

# a list comprehension + all() will do the trick
[x for x in lst if all(x.get(k, None) == v for k, v in flt)]
=> [{'A': 'BBB', 'C': 'DDD', 'D': 'EEE'}, {'A': 'BBB', 'C': 'ASD', 'D': 'EEE'}]
"
5685,68353,How do you stored screen_name from the twiiter api in python?,"dictionary['screen_name'] = tweet['user']['screen_name']
"
36828,35991,How to find the name of a list,"other_lists = {
    'bannana': [""white"", ""red"", ""blue""],
    'tomato': [""red"", ""shiny"", ""grey""],
    'peach': [""séché"", ""mure"", ""moisi""]
}

randomlist = random.choice(['bannana', 'tomato', 'peach'])
for i in other_lists[randomlist]:
    if i in ab:
        if 'bannana' == randomlist:  # use 'in' for substring
            ...
"
13895,70376,Loading hdf5 matlab strings into Python,"strlist = [u''.join(unichr(c) for c in h5file[obj_ref]) for obj_ref in dataset])
"
3588,48602,Executing python scripts-windows,"Run_program.bat:

python script1.py
python script2.py
run_program.exe
"
15543,5445,Increment server number in double loop with separator every 5 servers,"numservers = 15 # put anything you want here
for i in range(1,numservers+1):
    print('server{}'.format(i))
    if i%5 == 0:
        print('*'*22)            
"
24975,28530,How can I read tsv files and store them as hdf5 without running out of memory?,"import pandas as pd
import numpy as np

# I use python3.4
# if your python version is 2.x, replace it with 'import StringIO'
import io


# generate some 'large' tsv
raw_data = pd.DataFrame(np.random.randn(10000, 5), columns='A B C D E'.split())
raw_tsv = raw_data.to_csv(sep='\t') 
# start to read csv in chunks, 50 rows per chunk (adjust it to the potential of your PC)
# the use of StringIO is just to provide a string buffer, you don't need this
# if you are reading from an external file, just put the file path there
file_reader = pd.read_csv(filepath_or_buffer=io.StringIO(raw_tsv), sep='\t', chunksize=50)
# try to show you what's inside each chunk
# if you type:      list(file_reader)[0]
# exactly 50 rows
# don't do this in your real processing, file_reader is a lazy generator
# and it can only be consumed once

    Unnamed: 0       A       B       C       D       E
0            0 -1.2553  0.1386  0.6201  0.1014 -0.4067
1            1 -1.0127 -0.8122 -0.0850 -0.1887 -0.9169
2            2  0.5512  0.7816  0.0729 -1.1310 -0.8213
3            3  0.1159  1.1608 -0.4519 -2.1344  0.1520
4            4 -0.5375 -0.6034  0.7518 -0.8381  0.3100
5            5  0.5895  0.5698 -0.9438  3.4536  0.5415
6            6 -1.2809  0.5412  0.5298 -0.8242  1.8116
7            7  0.7242 -1.6750  1.0408 -0.1195  0.6617
8            8 -1.4313 -0.4498 -1.6069 -0.7309 -1.1688
9            9 -0.3073  0.3158  0.6478 -0.6361 -0.7203
..         ...     ...     ...     ...     ...     ...
40          40 -0.3143 -1.9459  0.0877 -0.0310 -2.3967
41          41 -0.8487  0.1104  1.2564  1.0890  0.6501
42          42  1.6665 -0.0094 -0.0889  1.3877  0.7752
43          43  0.9872 -1.5167  0.0059  0.4917  1.8728
44          44  0.4096 -1.2913  1.7731  0.3443  1.0094
45          45 -0.2633  1.8474 -1.0781 -1.4475 -0.2212
46          46 -0.2872 -0.0600  0.0958 -0.2526  0.1531
47          47 -0.7517 -0.1358 -0.5520 -1.0533 -1.0962
48          48  0.8421 -0.8751  0.5380  0.7147  1.0812
49          49 -0.8216  1.0702  0.8911  0.5189 -0.1725

[50 rows x 6 columns]

# set up your HDF5 file with highest possible compress ratio 9
h5_file = pd.HDFStore('your_hdf5_file.h5', complevel=9, complib='blosc')

h5_file
Out[18]: 
<class 'pandas.io.pytables.HDFStore'>
File path: your_hdf5_file.h5
Empty


# now, start processing
for df_chunk in file_reader:
    # must use append method
    h5_file.append('big_data', df_chunk, complevel=9, complib='blosc')

# after processing, close hdf5 file
h5_file.close()


# check your hdf5 file, 
pd.HDFStore('your_hdf5_file.h5')
# now it has all 10,000 rows, and we did this chunk by chunk

Out[21]: 
<class 'pandas.io.pytables.HDFStore'>
File path: your_hdf5_file.h5
/big_data            frame_table  (typ->appendable,nrows->10000,ncols->6,indexers->[index])
"
28389,50048,Mac OS Quit Application menu label same as python script name,"class MyApp(wx.App):
    def OnInit(self):
        # Set application name before anything else
        self.SetAppName(""My App Name"")
        mainframe = MyMainFrame(None, wx.ID_ANY, """")
        self.SetTopWindow(mainframe)
        mainframe.Show()
        return 1

if __name__ == '__main__':
    myapp = MyApp()
    myapp.MainLoop()
"
14723,72905,How to construct a timedelta object from a simple string,"import re
from datetime import timedelta


regex = re.compile(r'((?P<hours>\d+?)hr)?((?P<minutes>\d+?)m)?((?P<seconds>\d+?)s)?')


def parse_time(time_str):
    parts = regex.match(time_str)
    if not parts:
        return
    parts = parts.groupdict()
    time_params = {}
    for (name, param) in parts.iteritems():
        if param:
            time_params[name] = int(param)
    return timedelta(**time_params)


>>> from parse_time import parse_time
>>> parse_time('12hr')
datetime.timedelta(0, 43200)
>>> parse_time('12hr5m10s')
datetime.timedelta(0, 43510)
>>> parse_time('12hr10s')
datetime.timedelta(0, 43210)
>>> parse_time('10s')
datetime.timedelta(0, 10)
>>> 
"
9236,49985,__setattr__ only when attribute does not exist,"object.__setattr__(self, name, value)
"
29564,81478,Scipy quickly initialise sparse matrix from list of coordinates,"A = coo_matrix((values, coords.T))
"
20034,84026,Create excel-compatable CSV file with python?,"import csv
import re

data = [ ['9-1', '9-2', '9-3'] ]


def quoteCsvData(data):
    for x, row in enumerate(data):
        for y, item in enumerate(row):
             if data[x][y] != '':
                 data[x][y] = r'=""' + data[x][y] + r'""'
    return data

def unquoteCsvData(data):
    for x, row in enumerate(data):
        for y, item in enumerate(row):
            if data[x][y] != '':
                m = re.match(r'=""([^""]*)""',data[x][y])
                if m:
                    data[x][y] =  m.group(1)
    return data


fd = open('test2.csv', 'wb')
data = quoteCsvData(data)
try:
    writer = csv.writer(fd, delimiter=',',
                            quotechar='|', 
                            quoting=csv.QUOTE_NONE, 
                            escapechar='\\')
    writer.writerows(data)

finally:
    fd.close()

fd = open('test2.csv', 'rb')
try:
    reader = csv.reader(fd, delimiter=',', 
                            quotechar='|', 
                            quoting=csv.QUOTE_NONE, 
                            escapechar='\\')
    data = []
    for row in reader:
        data.append(row)

finally:
    fd.close()

data = unquoteCsvData(data)

print data
"
12403,13542,Simple math on OpenERP,"  def _addition(self, cr, uid, ids, fields, arg, context):
      r = {}
      for record in self.browse(cr, uid, ids):
          r[record.id] = record.num1 + record.num2
      return r

  'num1' : fields.integer('Num1'),
  'num2' : fields.float('Num2'),
  'total' : fields.function(_addition, string='Tot',type='float'),
"
23988,15535,Python XML Sax to dictionary,"#!/usr/bin/env python
# -*- coding: utf-8 -*-

import simplejson as json
from xml import sax
try:
    from cStringIO import StringIO
except ImportError:
    from StringIO import StringIO

xml_string = '''<?xml version=""1.0"" encoding=""iso-8859-1""?>
<n1:products xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:n7=""http://foo.bar.tld"" xmlns:n1=""http://foo.bar.tld"">
  <n1:product>
    <n1:status>
      <n7:created>2005-02-08T18:18:30.53</n7:created>
      <n7:updated>2008-09-18T10:29:58.26</n7:updated>
    </n1:status>
    <n1:productid>28321503</n1:productid>
    <n1:producttext>
      <n7:text>Some product info</n7:text>
      <n7:type>Info</n7:type>
    </n1:producttext>
    <n1:terms>
      <n7:term>
        <n7:number>1</n7:number>
        <n7:name>Term1</n7:name>
      </n7:term>
      <n7:term>
        <n7:number>2</n7:number>
        <n7:name>Term2</n7:name>
      </n7:term>
    </n1:terms>   
  </n1:product>
</n1:products>
'''

def display(data):
    import pprint
    pp = pprint.PrettyPrinter(depth=10)
    pp.pprint(data)

class Element:
    def setData(self, key, value):
        self.__dict__[key] = value

    def setObject(self, key, object):
        if key in self.__dict__ and not isinstance(self.__dict__[key], (list, tuple)):
            prev_object = self.__dict__[key]
            self.__dict__[key] = []
            self.__dict__[key].append(prev_object)
            self.__dict__[key].append(object)
        elif key in self.__dict__:
            self.__dict__[key].append(object)
        else:
            self.__dict__[key] = object

    def jsonable(self):
        return self._traverse(self.__dict__)

    # http://stackoverflow.com/questions/1036409/recursively-convert-python-object-graph-to-dictionary/1118038#1118038
    def _traverse(self, obj):
        if isinstance(obj, dict):
            for k in obj.keys():
                obj[k] = self._traverse(obj[k])
            return obj
        elif hasattr(obj, ""__iter__""):
            return [self._traverse(v) for v in obj]
        elif hasattr(obj, ""__dict__""):
            data = dict([(key, self._traverse(value))
                for key, value in obj.__dict__.iteritems()
                if not callable(value) and not key.startswith('_')])
            return data
        else:
            return obj

class ObjBuilder(sax.ContentHandler):
    def __init__(self, node):
        sax.ContentHandler.__init__(self)
        self.obj = []
        self.node = node
        self.fetch = False
        self.__buffer = ''

    def startElementNS(self, name, qname, attrs):
        (ns, localname) = name
        if self.node == localname:
            self.fetch = True
            o = Element()
            self.rootobject = o
            self.obj.append(o)
        elif self.fetch:
            self.__buffer = ''
            o = Element()
            self.obj[-1].setObject(localname, o)
            self.obj.append(o)

    def characters(self,contents):
        if self.fetch:
            self.__buffer += contents.strip()

    def endElementNS(self, name, qname):
        (ns, localname) = name
        if self.node == localname:
            self.fetch = False
            display(self.rootobject.jsonable())
            data = self.rootobject.jsonable()
        elif self.fetch:
            if self.__buffer != '':
                self.obj[-2].setData(localname, self.__buffer)
            del self.obj[-1]
            self.__buffer = ''

if __name__ == '__main__':
    parser = sax.make_parser()
    parser.setContentHandler(ObjBuilder('product'))
    parser.setFeature(sax.handler.feature_namespaces, 1)

    inpsrc = sax.xmlreader.InputSource()
    inpsrc.setByteStream(StringIO(xml_string))
    parser.parse(inpsrc)
"
2187,45129,Efficient two dimensional numpy array statistics,"import numpy as np
a = np.random.rand(100,100)
b = np.random.rand(100,100)
c = np.random.rand(100,100)
d = np.dstack((a,b,c))
result = np.median(d,axis=2)
"
18176,20867,How can I report the API of a class programmatically?,">>> class Foo:
...     def bar(hello=None):
...          return hello
...     def baz(world=None):
...          return baz
...
>>> import inspect
>>> members = inspect.getmembers(Foo)
>>> print members
[('__doc__', None), ('__module__', '__main__'), ('bar', <unbound method Foo.bar>
), ('baz', <unbound method Foo.baz>)]
>>> inspect.getargspec(members[2][1])
(['hello'], None, None, (None,))
>>> inspect.getargspec(members[3][1])
(['world'], None, None, (None,))
"
1072,85004,"How do I place an image (.png) within a `LabelFrame`, and resize it, in Tkinter?","import Tkinter
from Tkinter import *
from PIL import Image, ImageTk

root = Tk()

make_frame = LabelFrame(root, text=""Sample Image"", width=100, height=100)
make_frame.pack()

stim_filename = ""image.png""

# create the PIL image object:
PIL_image = Image.open(stim_filename)

width = 100
height = 100

# You may prefer to use Image.thumbnail instead
# Set use_resize to False to use Image.thumbnail
use_resize = True

if use_resize:
    # Image.resize returns a new PIL.Image of the specified size
    PIL_image_small = PIL_image.resize((width,height), Image.ANTIALIAS)
else:
    # Image.thumbnail converts the image to a thumbnail, in place
    PIL_image_small = PIL_image
    PIL_image_small.thumbnail((width,height), Image.ANTIALIAS)

# now create the ImageTk PhotoImage:
img = ImageTk.PhotoImage(PIL_image_small)
in_frame = Label(make_frame, image = img)
in_frame.pack()

root.mainloop()
"
37774,71455,While loop issue - Python,"def play_music():
    while True:
        if not ch.get_queue():
            for x in range(BUFFERSIZE):
                    if x % BLOCKSIZE == 0:
                        outbuf = m.process(inbuf)
                    samples[selector][x][0] = outbuf[(x % BLOCKSIZE) * 2]
                    samples[selector][x][1] = outbuf[(x % BLOCKSIZE) * 2 + 1]
            ch.queue(sounds[selector])
            selector = int(not selector)
        libpd_release()

play_music_thread = threading.Thread(target=play_music)
play_music_thread.daemon = True
play_music_thread.start()

while True:
    command = raw_input().lower()

    if command == ""commands"":
        print '""look around""'
        print '""explore""'
        print '""inventory""'
        print '""examine""'
        print '""take""'
        print '""combine""'
        print '""quit""'
    elif command == ""look"" or command == ""look around"":
        char.look()
"
5222,64194,Django rest update object from other model,"def create(self, request, *args, **kwargs):
    data = request.data
    cart = Cart.objects.get(id=data['id'],user_id=data['user_id'])
    serializer = self.get_serializer(data=data)
    serializer.is_valid(raise_exception=True)
    order = Order.objects.create(**serializer.validated_data)
    cart.to_be_deleted = True
    cart.save()
    headers = self.get_success_headers(serializer.data)
    return Response(serializer.data, status=status.HTTP_201_CREATED, headers=headers)
"
12266,46464,"Python, elegant way to test for a set/list/tuple, expecting strings","if isinstance(iterable, basestring):
    iterable = iterable.split(',')
"
31934,1523,Python attribute of combination of two objects,"d = {}  
d[(Character1, Room1)] = (10, 4)
"
16674,11645,deprecation of apply decorator,"@property
def myattr(self):
    """"""This is the doc string.""""""
    return self._half * 2

@myattr.setter
def myattr(self, value):
    self._half = value / 2

@myattr.deleter
def myattr(self):
    del self._half
"
27816,62387,itertools and selection from partitioned sets,"def combos(data):
    for i in xrange(1, len(data) + 1):
        for item in itertools.combinations(data, i):
            for j in itertools.product(*item):
                yield j
"
14437,72829,How do you use setRamImage in panda3d?,"PTAUchar.setData(string data)
"
21998,70176,Regarding condition on code,">>> c = [0.50, 0.52, 0.54, 0.56, 0.58, 0.60]
>>> a = np.array(c)
>>> a[(0.5 < a) & (a < 0.6)]
array([0.52, 0.54, 0.56,  0.58])
"
540,47610,Python: Terminating a file download if it is too large,"resp = urllib2.urlopen('http://www.google.com')
file_read = resp.read(max_wanted_size)
if resp.read(1) != '':
    #file is bigger than expected code
"
11670,46863,Gstreamer Editing Services. Playing real video file. GESAsset element (translation from Python to C),"#include <ges/ges.h>

int main (int argc, gchar ** argv)
{
  GESAsset *src_asset;
  GESPipeline *pipeline;
  GESTimeline *timeline;
  GESClip *source;
  GESLayer *layer;
  GMainLoop *mainloop;
  GError **error;
  gchar *uri;
  GESUriClipAsset *asset;
  /* Initialize GStreamer (this will parse environment variables and commandline
   * arguments. */
  gst_init (&argc, &argv);

  /* Initialize the GStreamer Editing Services */
  ges_init ();

  /* Setup of a A/V timeline */

  /* This is our main GESTimeline */
  timeline = ges_timeline_new_audio_video ();

  /* We are only going to be doing one layer of clips */
  layer = ges_layer_new ();

  /* Add the tracks and the layer to the timeline */
  if (!ges_timeline_add_layer (timeline, layer))
    return -1;

  /* We create a simple asset able to extract GESTestClip */
  uri = gst_filename_to_uri (argv[1], NULL);
  asset = ges_uri_clip_asset_request_sync(uri,error);
  src_asset = GES_ASSET(asset);

  /* Add sources to our layer */
  ges_layer_add_asset (layer, src_asset, 0, 0, 4*GST_SECOND,
      GES_TRACK_TYPE_UNKNOWN);

  /* In order to view our timeline, let's grab a convenience pipeline to put
   * our timeline in. */
  pipeline = ges_pipeline_new ();

  /* Add the timeline to that pipeline */
  if (!ges_pipeline_set_timeline (pipeline, timeline))
    return -1;

  /* The following is standard usage of a GStreamer pipeline (note how you haven't
   * had to care about GStreamer so far ?).
   *
   * We set the pipeline to playing ... */
  gst_element_set_state (GST_ELEMENT (pipeline), GST_STATE_PLAYING);

  /* .. and we start a GMainLoop. GES **REQUIRES** a GMainLoop to be running in
   * order to function properly ! */
  mainloop = g_main_loop_new (NULL, FALSE);

  /* Simple code to have the mainloop shutdown after 4s */
  g_timeout_add_seconds (4, (GSourceFunc) g_main_loop_quit, mainloop);
  g_main_loop_run (mainloop);

  return 0;
}
"
34051,67604,How to check for palindrome using while loop python,"def palindrome(s):
    i = 0
    while i <= len(s) / 2:
        if s[i] != s[-i - 1]:
            return False
        i += 1
    return True
"
10334,71988,How do I get a Cron like scheduler in Python?,"import schedule
import time

def job():
    print(""I'm working..."")

schedule.every(10).minutes.do(job)
schedule.every().hour.do(job)
schedule.every().day.at(""10:30"").do(job)

while 1:
    schedule.run_pending()
    time.sleep(1)
"
16421,46117,Write xml response to multiple csv files in Python,"import lxml.etree as et
import csv


xml=""""""<?xml version=""1.0"" encoding=""UTF-8""?>
<OASISReport>
    <MessageHeader>
        <TimeDate>2015-11-05T07:50:48-00:00</TimeDate>
        <Source>OASIS</Source>
        <Version>v20131201</Version>
    </MessageHeader>
    <MessagePayload>
        <RTO>
            <name>CAISO</name>
            <REPORT_ITEM>
                <REPORT_HEADER>
                    <SYSTEM>OASIS</SYSTEM>
                    <TZ>PPT</TZ>
                    <REPORT>PRC_LMP</REPORT>
                    <MKT_TYPE>DAM</MKT_TYPE>
                    <UOM>US$/MWh</UOM>
                    <INTERVAL>ENDING</INTERVAL>
                    <SEC_PER_INTERVAL>3600</SEC_PER_INTERVAL>
                </REPORT_HEADER>
                <REPORT_DATA>
                    <DATA_ITEM>LMP_PRC</DATA_ITEM>
                    <RESOURCE_NAME>TH_SP15_GEN-APND</RESOURCE_NAME>
                    <OPR_DATE>2015-10-12</OPR_DATE>
                    <INTERVAL_NUM>2</INTERVAL_NUM>
                    <INTERVAL_START_GMT>2015-10-12T08:00:00-00:00</INTERVAL_START_GMT>
                    <INTERVAL_END_GMT>2015-10-12T09:00:00-00:00</INTERVAL_END_GMT>
                    <VALUE>29</VALUE>
                </REPORT_DATA>
                <REPORT_DATA>
                    <DATA_ITEM>LMP_PRC</DATA_ITEM>
                    <RESOURCE_NAME>TH_SP15_GEN-APND</RESOURCE_NAME>
                    <OPR_DATE>2015-10-12</OPR_DATE>
                    <INTERVAL_NUM>12</INTERVAL_NUM>
                    <INTERVAL_START_GMT>2015-10-12T18:00:00-00:00</INTERVAL_START_GMT>
                    <INTERVAL_END_GMT>2015-10-12T19:00:00-00:00</INTERVAL_END_GMT>
                    <VALUE>35.67227</VALUE>
                </REPORT_DATA>
</REPORT_ITEM>
<REPORT_ITEM>
    <REPORT_HEADER>
        <SYSTEM>OASIS</SYSTEM>
        <TZ>PPT</TZ>
        <REPORT>PRC_LMP</REPORT>
        <MKT_TYPE>DAM</MKT_TYPE>
        <UOM>US$/MWh</UOM>
        <INTERVAL>ENDING</INTERVAL>
        <SEC_PER_INTERVAL>3600</SEC_PER_INTERVAL>
    </REPORT_HEADER>
    <REPORT_DATA>
        <DATA_ITEM>LMP_PRC</DATA_ITEM>
        <RESOURCE_NAME>TH_SP15_GEN-APND</RESOURCE_NAME>
        <OPR_DATE>2015-10-12</OPR_DATE>
        <INTERVAL_NUM>2</INTERVAL_NUM>
        <INTERVAL_START_GMT>2015-10-12T08:00:00-00:00</INTERVAL_START_GMT>
        <INTERVAL_END_GMT>2015-10-12T09:00:00-00:00</INTERVAL_END_GMT>
        <VALUE>29</VALUE>
    </REPORT_DATA>
    <REPORT_DATA>
        <DATA_ITEM>LMP_PRC</DATA_ITEM>
        <RESOURCE_NAME>TH_SP15_GEN-APND</RESOURCE_NAME>
        <OPR_DATE>2015-10-12</OPR_DATE>
        <INTERVAL_NUM>12</INTERVAL_NUM>
        <INTERVAL_START_GMT>2015-10-12T18:00:00-00:00</INTERVAL_START_GMT>
        <INTERVAL_END_GMT>2015-10-12T19:00:00-00:00</INTERVAL_END_GMT>
        <VALUE>35.67227</VALUE>
    </REPORT_DATA>
</REPORT_ITEM>
<REPORT_ITEM>
    <REPORT_HEADER>
        <SYSTEM>OASIS</SYSTEM>
        <TZ>PPT</TZ>
        <REPORT>PRC_LMP</REPORT>
        <MKT_TYPE>DAM</MKT_TYPE>
        <UOM>US$/MWh</UOM>
        <INTERVAL>ENDING</INTERVAL>
        <SEC_PER_INTERVAL>3600</SEC_PER_INTERVAL>
    </REPORT_HEADER>
    <REPORT_DATA>
        <DATA_ITEM>LMP_PRC</DATA_ITEM>
        <RESOURCE_NAME>TH_SP15_GEN-APND</RESOURCE_NAME>
        <OPR_DATE>2015-10-12</OPR_DATE>
        <INTERVAL_NUM>2</INTERVAL_NUM>
        <INTERVAL_START_GMT>2015-10-12T08:00:00-00:00</INTERVAL_START_GMT>
        <INTERVAL_END_GMT>2015-10-12T09:00:00-00:00</INTERVAL_END_GMT>
        <VALUE>29</VALUE>
    </REPORT_DATA>
    <REPORT_DATA>
        <DATA_ITEM>LMP_PRC</DATA_ITEM>
        <RESOURCE_NAME>TH_SP15_GEN-APND</RESOURCE_NAME>
        <OPR_DATE>2015-10-12</OPR_DATE>
        <INTERVAL_NUM>12</INTERVAL_NUM>
        <INTERVAL_START_GMT>2015-10-12T18:00:00-00:00</INTERVAL_START_GMT>
        <INTERVAL_END_GMT>2015-10-12T19:00:00-00:00</INTERVAL_END_GMT>
        <VALUE>35.67227</VALUE>
    </REPORT_DATA>
</REPORT_ITEM>
<DISCLAIMER_ITEM>
    <DISCLAIMER>The contents of these pages are subject to change without notice.  Decisions based on information contained within the California ISO's web site are the visitor's sole responsibility.</DISCLAIMER>
    </DISCLAIMER_ITEM>
    </RTO>
    </MessagePayload>
</OASISReport>""""""

tree = et.fromstring(xml)



itms = tree.xpath(""//REPORT_ITEM"")

data = []      
for i in itms:
    d= [[k.text for k in j] for j in i]
    print d
    data.append(d)



for item in data:
    for i in range(len(data)):
        with open(""D:\\_"" + str(i) + "".csv"", 'w') as f:
            csv_writer = csv.writer(f)
            csv_writer.writerows(item)
"
7224,51436,python class attributes and sql alchemy relationships,"class BaseDataType(object):
    parent_operation = relationship(Operation, backref=""datatype"")

class DataTypeA(Base, BaseDataType):
    id = Column(Integer, primary_key=True)

class DataTypeB(Base, BaseDataType):
    id = Column(Integer, primary_key=True)
"
1420,51935,"Python's super(), abstract base classes, and NotImplementedError",">>> import abc
>>> class B(object):
...     __metaclass__ = abc.ABCMeta
...     @abc.abstractmethod
...     def foo(self):
...             print 'In B'
... 
>>> class C(B):
...     def foo(self):
...             super(C, self).foo()
...             print 'In C'
... 
>>> C().foo()
In B
In C
"
18687,82503,How to extract a substring from a string in Python?,">>> import os
>>> help(os.path.split)
Help on function split in module ntpath:

split(p)
    Split a pathname.

    Return tuple (head, tail) where tail is everything after the final slash.
    Either part may be empty.

>>> os.path.split(r'c:\users\sony\desktop\f.html')
('c:\\users\\sony\\desktop', 'f.html')
>>> path,filename = os.path.split(r'c:\users\sony\desktop\f.html')
>>> path
'c:\\users\\sony\\desktop'
>>> filename
'f.html'
"
27646,8568,Is this simple python code thread safe?,"import time
class something(object):
    def __init__(self,c):
        self.c=c
    def inc(self):
        new = self.c+1 
        # if the thread is interrupted by another inc() call its result is wrong
        time.sleep(0.001) # sleep makes the os continue another thread
        self.c = new


x = something(0)
import threading

for _ in range(10000):
    threading.Thread(target=x.inc).start()

print x.c # ~900 here, instead of 10000
"
9481,73953,"Flask, Keep getting 404 serving static files using send_static_file","from flask import send_from_directory

@app.route('/js/<path:filename>')
def serve_static(filename):
    root_dir = os.path.dirname(os.getcwd())
    return send_from_directory(os.path.join(root_dir, 'static', 'js'), filename)
"
12595,36008,Sum of Square Differences (SSD) in numpy/scipy,"s = numpy.sum((A[:,:,0:3]-B[:,:,0:3])**2)
"
17643,69995,Write multiple NumPy arrays into CSV file in separate columns?,"output = np.column_stack((arrA.flatten(),arrB.flatten(),arrC.flatten()))
np.savetxt('output.dat',output,delimiter=',')
"
25595,35478,Class Inheritance from same Class,"class BaseTask(object):
    '''change object to BaseProject whenever you figure out what your `Project`
    class should be, or if you need it at all'''

    def __init__(self, title):
        self.title = title
        self.description=""""

class Task(BaseTask):
    def __init__(self, title):
        super(Task, self).__init__(title)
        self.subtasks = []
        self.default_hours = 1

    @property
    def hours(self):
        if len(self.subtasks) < 1:
            return self.default_hours
        return sum(subtask.hours for subtask in self.subtasks)

class SubTask(BaseTask):
    def __init__(self, title):
        super(SubTask, self).__init__(title)
        self.hours = 0
"
25542,44824,Comparing one record with all other to remove duplicates - python or R,"df['team_tuple'] = df.apply(
    lambda row: tuple(
        sorted((row['Team A'], row['Team B']))
    ), 
    axis='columns'
)
df
Out[17]: 
          DATE     Team A     Team B          team_tuple
0  24-May-1983      India  Australia  (Australia, India)
1  24-May-1983  Australia      India  (Australia, India)

duplicates = df.loc[:, ['DATE', 'team_tuple']].duplicated()
cleaned_df = df.loc[~ duplicates, :]
In [16]: cleaned_df
Out[16]: 
          DATE Team A     Team B          team_tuple
0  24-May-1983  India  Australia  (Australia, India)
"
23868,26512,Finding the positions of the max element in a numpy array if there are more than one,">>> a
array([2, 5, 4, 4, 4, 2, 1, 1, 2, 2, 5, 4, 1, 4, 0, 0, 5, 1, 4, 1])
>>> np.nonzero(a == a.max())[0]
array([ 1, 10, 16])
>>> a[_]
array([5, 5, 5])
"
11239,55219,Alternative approaches to comparing values,"def close_far(a, b, c):
  x, y, z = sorted([a, b, c])
  delta_close, delta_far = sorted([y - x, z - y])
  return delta_close <= 1 and delta_far >= 2
"
12638,20374,How can I delete regex substrings in Python?,"import re
input = 'ABC @XYZ ABC @Python ABC http://www.stackoverflow.com ABC'
output = re.sub(r'(http|@)\S*\s', '', input) 
print output  # 'ABC ABC ABC ABC'
"
17971,26823,Optimising a simple mathematical calculation over list,"from itertools import imap
from operator import mul
def sumsquared(arr):
    return sum(imap(mul, arr, arr))
"
35498,26684,Place image over PDF,"from pyPdf import PdfFileWriter, PdfFileReader

output = PdfFileWriter()
input1 = PdfFileReader(file(""document1.pdf"", ""rb""))
watermark = PdfFileReader(file(""watermark.pdf"", ""rb""))

page4.mergePage(watermark.getPage(0))

# finally, write ""output"" to document-output.pdf
outputStream = file(""document-output.pdf"", ""wb"")
output.write(outputStream)
outputStream.close()
"
6246,49400,Matrix of array creation in numpy,"import numpy as np
A = np.ndarray(shape=(2,2), dtype=float, order='F')
B = np.ndarray(shape=(2,2), dtype=float, order='F')
C = np.ndarray(shape=(2,2), dtype=float, order='F')
D = np.ndarray(shape=(2,2), dtype=float, order='F')

T = np.array([[A,B],[C,D]])
"
11952,70737,Placeholder class methods Python 3,"class Game(threading.Thread):
    def update(self):
        pygame.display.update()
        self.screen.fill(self.fillcolour)

    def setup(self):
        """"""Placeholder for setup""""""
        pass

    def frame(self):
        """"""Placeholder for frame""""""
        pass

    def handleEvent(self, event):
        """"""Placeholder for input handling""""""
        pass

    def handleInputs(self):
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                self.quit()
            self.handleEvent(event)

    def run(self):
        self.setup()

        while True:
            if self.FRAMERATE:
                self.clock.tick(self.FRAMERATE)

            self.frame()
            self.update()
            self.handleInputs()
"
23681,52266,Authenticate with twitter tastypie python social auth return 403,"# setup redirect uri in order to load strategy
    uri = redirect_uri = ""social:complete""
    if uri and not uri.startswith('/'):
        uri = reverse(redirect_uri, args=(backend,))

    # load the strategy
    try:
        strategy = load_strategy(
            request=request, backend=backend,
            redirect_uri=uri, **kwargs
        )
    except MissingBackend:
        raise Http404('Backend not found')
"
7001,18601,`document.lastModified` in Python,"import urllib2          
req = urllib2.urlopen(""http://example.com/file.zip"")
total_size = int(req.info().getheader('last-modified'))
"
1065,52778,"Django: how to make an ""order by"" filter based on a foreign key","l = []
for m in Message.objects.filter(dst=p).order_by('-date_last_modif'):
    for c in m.conversations.all():
        if c not in l:
            l.append(c.pk)
conversations_read = [c for c in Conversation.objects.filter(pk__in=l)]
"
26734,74534,How to identify button click event of template page in view page of django?,"# form snippet
<input type=""submit"" value=""Edit Summary"" name=""summary"" />
<input type=""submit"" value=""Edit Due Date"" name=""due_date"" />

# view snippet
if request.POST.get('summary'):
    print('user clicked summary')
elif request.POST.get('due_date'):
    print('user clicked due date')
"
30754,6164,How to use zip file which have all the package of nltk?,"import sys
sys.path.insert(0, '/my/path/file.zip')
import my_module
my_module.caLL_something()
"
30684,3026,"Complex query (subqueries, window functions) with sqlalchemy","from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class Content(Base):
    __tablename__ = 'contents'

    grandma_id = Column(Integer, primary_key=True)
    author_id = Column(Integer, primary_key=True)


s = Session()

unique_users_contents = s.query(Content).distinct(
                            Content.grandma_id, Content.author_id).\
                            subquery('c')

q = s.query(
        Content,
        func.row_number().over(
                partition_by=Content.grandma_id,
                order_by=func.random()).label(""row_number"")
    ).select_entity_from(unique_users_contents).subquery()

q = s.query(Content).select_entity_from(q).filter(q.c.row_number <= 4)

print q
"
10930,17143,Deploying application with Python or another embedded scripting language,"Py_NoSiteFlag = 1;  // Disable importing site.py
Py_Initialize();    // Create a python interpreter
"
19614,71498,What is the simplest way of monitoring when a wxPython frame has been resized?,"import wx

class Frame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self,None)
        self.resized = False # the dirty flag
        self.Bind(wx.EVT_SIZE,self.OnSize)
        self.Bind(wx.EVT_IDLE,self.OnIdle)

    def OnSize(self,event):
        self.resized = True # set dirty

    def OnIdle(self,event):
        if self.resized: 
            # take action if the dirty flag is set
            print ""New size:"", self.GetSize()
            self.resized = False # reset the flag

app = wx.PySimpleApp()
frame = Frame().Show()
app.MainLoop()
"
18059,63395,nltk tokenize measurement units,"words_s1 = nltk.regexp_tokenize(s1, r'(?u)\d+(?:\.\d+)?|\w+')
"
19055,15741,Prepairing list from a django query,"list_col_b, list_col_c = zip(*MyModel.objects.values_list('col_b', 'col_c'))
"
27141,6208,Pandas dataframe: Check if data is monotonically decreasing,"In [10]: months = ['Jan', 'Feb', 'Mar', 'Apr']

In [11]: df.loc[:, months].apply(lambda x: pd.algos.is_monotonic_float64(-x)[0],
                                       axis=1)
Out[11]:
0    False
1     True
2    False
3     True
4    False
dtype: bool
"
35559,59445,Using the Join command to eliminate extra paragraph breaks,"results = soup.findAll('div', class_='name')
for each in results:
    if each.text:
        worksheet.write(row,1,each.text)
        row += 1
"
15722,41157,How to pass python variable to html variable?,"class Server(object):
    _cp_config = {
        'tools.sessions.on': True,
        'tools.auth.on': True
    }   
    auth = AuthController()      
    @cherrypy.expose
    @require()
    def index(self):
        f = open (""file.txt"",""r"")
        link = f.read()
        f.close()
        myText = ""Hello World"" 
        html = """"""
        <html>
            <body>
                <p>%s</p>          
                <a href=""%s"" ><img src=""images/go_online.png""></a>
            </body>
        </html>
        """""" %(myText, link)        
        return html
    index.exposed = True
"
34776,22114,writing string to a file on a new line everytime?,"file.write(""My String\n"");
"
14752,49669,Printing the contents and index location of one file by matching it with other file using python,"# Read the whole ""second file"" into a set X.
with open('foo') as fp:
    names = set(fp)

# Read the ""first"" file line by line.
with open('bar') as fp:
    for line in fp:

        # For each line, extract the part before the comma.
        name = line.split(',')[0]

        # If this part is in the set X, print whatever is desired.
        if name in names:
             print line
"
22882,32993,How to add variables into a string?,"str_location = '({0}, {1}, {2})'.format(x, y, z)
"
10316,75083,Precision in python,"x = 4.12121212
print '%.2f' % x
"
25185,48102,arangodb verify _users password,"var users = require('org/arangodb/users');
controller.post('/checkpw', function (req, res) {
  var credentials = req.params('credentials');
  res.json({
    valid: users.isValid(
      credentials.username,
      credentials.password
    )
  });
})
.bodyParam('credentials', joi.object({
  username: joi.string().required(),
  password: joi.string().required()
}).required());
"
5791,5948,"Can I do math inside Python's string formatting ""language""?","N = { 'd' : 3 }
four = Template(u'number:{{ d + 1 }}').render(**N)
"
10492,48580,Python click pass unspecified number of kwargs,"@click.command(context_settings=dict(
    ignore_unknown_options=True,
    allow_extra_args=True,
))
@click.pass_context
def runner(ctx, tgt, fun):
    d = dict()
    for item in ctx.args:
        d.update([item.split('=')])
    req = pyaml.p(meh.PostAdapter(tgt, fun, d))
    click.echo(req)
"
19261,64781,multiple values for class attribute,">>> url.find(lambda tag: tag.name == 'span' and tag.get('class', []) == ['bday'])
<span class=""bday"">1899-08-04</span>
"
20547,22107,Slice a broadcast object?,">>> from numpy.lib.stride_tricks import as_strided
>>> mask = np.random.randint(2, size=(101, 100)).astype(bool)
>>> mask_view  = as_strided(mask, shape=(500,)+mask.shape,
...                         strides=(0,)+mask.strides)
>>> mask_view.shape
(500, 101, 100)
>>> np.array_equal(mask_view[0], mask_view[499])
True
>>> np.all(mask_view == 0)
False
>>> mask[:] = 0
>>> np.all(mask_view == 0)
True
"
7024,36959,Create Multidimensional Zeros Python,">>> import numpy as np
>>> N=2
>>> np.zeros((N,)*1)
array([ 0.,  0.])
>>> np.zeros((N,)*2)
array([[ 0.,  0.],
       [ 0.,  0.]])
>>> np.zeros((N,)*3)
array([[[ 0.,  0.],
        [ 0.,  0.]],

       [[ 0.,  0.],
        [ 0.,  0.]]])
"
9501,35559,Python PIL remove sections of an image based on its colour,"source = im.split()
mask = source[2].point(lambda i: i < 100 and 255)
im = Image.merge(im.mode, source)
"
31981,61109,What is the difference between dict and collections.defaultdict?,"Help on class defaultdict in module collections:

class defaultdict(__builtin__.dict)
 |  defaultdict(default_factory) --> dict with default factory
 |  
 |  The default factory is called without arguments to produce
 |  a new value when a key is not present, in __getitem__ only.
 |  A defaultdict compares equal to a dict with the same items.
 |  
"
37599,50448,Ensuring a test case can delete the temporary directory it created,"local_path = tempfile.mkdtemp().decode(""utf-8"")
self.addCleanup(shutil.rmtree, local_path)
acl = ""d:u:{0}:rwX"".format(os.geteuid())
subprocess.check_call([""setfacl"", ""-m"", acl, local_path])
"
4411,11241,"Count bitmasks, enumerate 0s","N = 4

def supers(number):
    zeros = sum(1 for bit in xrange(N) if (number >> bit) & 1 == 0)
    return 2**zeros


def solve(a,b,c):
    total = supers(a) + supers(b) + supers(c)
    total -= supers(a | b) # counted twice, remove one
    total -= supers(b | c) # counted twice, remove one
    total -= supers(a | c) # counted twice, remove one
    total += supers(a | b | c) # counted three times, removed three times, add one

    return total


print solve(0b1001,0b0011,0b0110)
"
19978,70711,Accessing API via WebSockets using Python,"from websocket import create_connection
ws = create_connection(""wss://coinsecure.in/websocket"")
ws.send('{""method"": ""recentbuytrades""}')

while True:
  result =  ws.recv()
  print (""Received '%s'"" % result)

ws.close()
"
38997,33156,Use cases of RequestHandler.initialize() in Tornado,"def initialize(self):
    """"""Hook for subclass initialization.

    A dictionary passed as the third argument of a url spec will be
    supplied as keyword arguments to initialize().

    Example::

        class ProfileHandler(RequestHandler):
            def initialize(self, database):
                self.database = database

            def get(self, username):
                ...

        app = Application([
            (r'/user/(.*)', ProfileHandler, dict(database=database)),
            ])
    """"""
    pass
"
2559,42166,How to get node web client to talk to REST API on Heroku?,"heroku config:set QUOTE_REST_API=https://quote-api.herokuapp.com/
"
22741,39462,Accessing a dictionary member within the same dictionary,"_dict = {""foo"" : 1234}
_dict[""bar""] = _dict[""foo""] + 1
"
32000,28124,Python Caesar Cipher Decoder,"x = input()
NUM_LETTERS = 26 #Can't import modules I'm using a web based grader/compiler
def SpyCoder(S, N):
   y = """"
   for i in S:
      if(i.isupper()):
         x = ord(i)
         x += N
         if x > ord('Z'):
            x -= NUM_LETTERS
         elif x < ord('A'):
            x += NUM_LETTERS
         y += chr(x)
      else:
         y += "" ""
   return y

def GoodnessFinder(S):
   y = 0
   for i in S:
      if i.isupper():
         x = ord(i)
         x -= ord('A')
         y += letterGoodness[x]
      else:
         y += 1
   return y

def GoodnessComparer(S):
   goodnesstocompare = GoodnessFinder(S)
   goodness = 0
   v = ''
   best_v = S
   for i in range(0, 26):
     v = SpyCoder(S, i)
     goodness = GoodnessFinder(v)
     if goodness > goodnesstocompare:
         best_v = v
         goodnesstocompare = goodness
   return best_v


print(GoodnessComparer(x))
"
15383,26961,How to make links in a QWizard's subtitle clickable?,"for label in wizard.findChildren(QLabel):
    label.setOpenExternalLinks(True)
"
9353,79843,Speeding up a code to filter a matrix in python,"ind_set = set(ind)
retain = [i for i in range(len(d1)) if i not in ind_set]
d2 = [[d1[k][j] for j in retain] for k in retain]
"
36662,45898,python function that creates HTML for a row containing two cells,"def makeHTMLRow(d, 'title'):
    s =  ""<tr>\n\t""
    s += ""<td>%(year)d</td>\n\t""
    s += ""<td>%(director)s</td>\n""
    s += ""</tr><tr>\n\t""
    s += ""<td>%(title)s></td>\n""
    s += ""</tr>""
    return s % d
"
33383,46739,How to plot different graphs in different canvas in PyQt4 in a window?,"from matplotlib.figure import Figure

class FlightData(QtGui.QDialog, Ui_Dialog):
    def __init__(self, parent=None):
        QtGui.QDialog.__init__(self, parent)
        self.setupUi(self)
        self.figs = {}
        self.canvas = {}
        self.axs = {}
        plot_names = ['speed', 'height', 'map', 'angle']
        for pn in plot_names:
            fig = Figure()
            self.canvas[pn] = FigureCanvas(fig)
            ax = fig.add_subplot(1, 1, 1)

            self.figs[pn] = fig
            self.axs[pn] = ax

        # -------------------------------------------------------------
        self.speedLayout.addWidget(self.canvas['speed'])
        self.heightLayout.addWidget(self.canvas['height'])
        self.mapLayout.addWidget(self.canvas['map'])
        self.angleLayout.addWidget(self.canvas['angle'])

    def draw_plot(self, target, data):
        self.axs[target].plot(data, '-*')
        self.canvas[target].draw_idle()
"
1562,66842,Python dict print One per line with Key in each line,"for k, v in dict.iteritems():
        for item in v:
            print item, k
"
3704,55590,reading library method definitions,"import inspect
inspect.getsource(random.gauss)
"
1960,15514,Use Python regular expression to extract special strings,"import re
str = '12-1 abcd fadf adfad'
m   = re.search('(\d+-\d+)', str)
if m:
    found = m.group(0)
    print found
"
21004,23543,Have Celery broadcast return results from all workers,"from celery import Celery
from kombu import Exchange

results_exchange = Exchange('myres', type='fanout')

app = Celery()

@app.task(ignore_result=True)
def something():
    res = do_something()
    with app.producer_or_acquire(block=True) as producer:
        producer.send(
            {'result': res},
            exchange=results_exchange,
            serializer='json',
            declare=[results_exchange],
        )
"
19040,78212,using indexes in lists in an if statment,"infile = open(""bowlingscores.txt"", ""r"")
name=0
score=0
averagescore=0
count=0
bowlersinfo=[]
for line in infile:
   bowler,score= line.split()
   score = int(score)
   averagescore += score
   bowlersinfo.append([bowler,score])
print (bowlersinfo)


infile.close()

averagescore /= float(len(bowlersinfo))

outfile = open(""bowlingaverages.txt"", ""w"")

for name,score in bowlersinfo:
 if score==300:
     outcome= ""Perfect""
 elif score > averagescore:
     outcome= ""Above Average""
 elif score== averagescore:
     outcome= ""Average""
 else:
     outcome= ""Below Average""
 print (""%s, %0.0f, %s"" % (name, float(score), outcome))
 outfile.write(name+"": "" ) 
 outfile.write(outcome+""\n"")
outfile.close()
"
14044,32368,database field created by a relational field in flask sqlalchemy models,"q_sum = (session.query(
            Projects.id.label(""project_id""),
            func.sum(case([(Tasks.complete == True, 1)], else_=0)).label(""x""),
            func.sum(case([(and_(
                Tasks.deadline != None,
                Tasks.completeDate != None,
                Tasks.deadline > Tasks.completeDate), 1)],
                else_=0)).label(""y""),
            func.count(Tasks.id).label(""total""),
            )
        .join(Goals, Projects.goals)
        .join(Strategies, Goals.strategies)
        .join(Tasks, Strategies.tasks)
        .group_by(Projects.id)
        )

# (project_id, x, y, total)
for p in q_sum:
    print(p)
"
28166,56912,Python more elegant way to write this IF OR statement?,"if imagename[0].lower().endswith(("".jpg"", "".jpeg"", "".png"")):
    # whatever
"
6596,61423,Python 2 csv files parser that outputs what is in file1.csv but not in file2.csv,"codfiscal_in_f1_set = set()
with open(""file1.csv"", 'r') as f1:
    for line in f1:
        line = line.strip()
        if not line:
            continue

        codfiscal_in_f1_set.add(line.split("";"")[1])

with open(""file2.csv"", 'r') as f2, open(""file3.csv"", ""w"") as output_file:
    for line in f2:
        line = line.strip()
        if not line:
            continue

        codfiscal = line.split("";"")[1]
        if codfiscal not in codfiscal_in_f1_set:
            output_file.write(line + ""\n"")
"
36345,42260,Fuzzy regex matching with python returns empty list,">>> import regex
>>> m = regex.findall('(ATCT){e<=1}', 'ATCGATCGGCATGCAGTGCAGAAGTGACGAT')
>>> print(m)
['ATCG', 'ATCG']
"
26866,18699,How do I prevent suds from fetching xml.xsd over the network?,"from suds.xsd.sxbasic import Import

file_url = 'file://<path to xml.xsd>'
Import.bind('http://www.w3.org/XML/1998/namespace', file_url)
"
9763,5509,"Python read from file, split each line into different segments, assign to keys","dictionary[""territory""], dictionary[""numeric_id""], dictionary[""continent""] = line.split(',')
"
12844,29982,How to intercept transparently stdin/out/err,"#!/usr/bin/python2

import sys, os
import subprocess
import fcntl

dump = open(""/tmp/dump"", ""w"")
dump.write(""### starting %s ###"" % "" "".join(sys.argv))

proc = subprocess.Popen([""<real app>""] + sys.argv[1:], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)

def nonblocking(fd):
  fl = fcntl.fcntl(fd, fcntl.F_GETFL)
  fcntl.fcntl(fd, fcntl.F_SETFL, fl | os.O_NONBLOCK)

nonblocking(proc.stdin)
nonblocking(proc.stdout)
nonblocking(proc.stderr)

nonblocking(sys.__stdin__)
nonblocking(sys.__stdout__)
nonblocking(sys.__stderr__)

def me_to_proc():
  x_to_y(sys.__stdin__, proc.stdin, ""~in> "")

def proc_to_me():
  x_to_y(proc.stdout, sys.__stdout__, ""<out~ "")

def proc_to_me_err():
  x_to_y(proc.stderr, sys.__stderr__, ""<err~ "")

def x_to_y(x, y, prefix=""""):
  try:
    while True:
       line = x.readline()
       to_dump = ""%s%s"" % (prefix, line)
       print >> dump, to_dump
       print to_dump
       y.write(line)
       y.flush()
       dump.flush()
  except:
    pass

recode = None
while recode is None:
  proc_to_me()
  #proc_to_me_err()
  me_to_proc()

  retcode = proc.poll()

exit(retcode)
"
13035,48604,how to define IronPython static property?,"class StaticGetter(object):
    def __init__(self, attr):
        self.attr = attr
    def __get__(self, instance, owner):
        # owner is the class, your getter code here
        return getattr(owner, attr)

class Test(object):
    __staticField = 0
    staticField = StaticGetter('_Test__staticField')
"
13001,58724,Lookup and combine data in Python,"def loadDictionaryFromAFile( aFile ):
    dictionary = {}
    for line in aFile:
        fields = line.split('\t')
        dictionary[fields[0]]= fields

dict2 = loadDictionaryFromAFile( open(""file2"",""r"" )
dict3 = loadDictionaryFromAFile( open(""file3"",""r"" )

for line in open(""file1"",""r""):
    fields = line.split(""/t"")
    d2= dict2.get( fields[0], None )
    d3= dict3.get( fields[0], None )
    print fields, d2, d3
"
35657,14404,SQLAlchemy polymorphic many-to-many relation with abstract base in declarative syntax,"from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base

BaseModel = declarative_base()

association = Table(""message_component_association"", BaseModel.metadata,
Column(""message_id"", Integer, ForeignKey(""message.id"")),
Column(""component_id"", Integer, ForeignKey(""component.id"")))

class Message(BaseModel):
    __tablename__ = ""message""
    id = Column(Integer, primary_key=True)
    components = relationship(""Component"", secondary=association, backref=""messages"")  # backref instead of back_populates

class Component(BaseModel):
    __tablename__ = ""component""
    __mapper_args__ = dict(polymorphic_on=""type"")  # Polymorphic identity removed
    id = Column(Integer, primary_key=True)
    type = Column(String(32))

    # relationship removed

class Component1(Component):
    __tablename__ = ""component1""
    __mapper_args__ = dict(polymorphic_identity=""component1"")
    id = Column(Integer, ForeignKey(""component.id""), primary_key=True)

    # relationship removed

engine = create_engine(""sqlite://"", echo=True)
BaseModel.metadata.create_all(engine)
session = Session(engine)

component_1 = Component1(id=1)
session.commit()
"
8564,12275,How to generate a fixed-length hash based on current date and time in Python?,"import hashlib
import time

hash = hashlib.sha1()
hash.update(str(time.time()))
print hash.hexdigest()
print hash.hexdigest()[:10]
"
30873,49878,Modifying Pandas DF Class outside of Class?,"DF.eval('Percent = Earned / Total')
"
1676,40892,Whats the efficient way to test if-elif-else conditions in python,"| # month | day | sign
| 1       | 1   | capricorn
| 1       | 20  | capricorn
| 1       | 21  | aquarius
| 5       | 1   | taurus
| 5       | 21  | taurus
| 5       | 22  | gemini
"
14940,7894,ZeroMQ ROUTER socket can not send message to REP socket,"import zmq

if __name__=='__main__':
    context = zmq.Context()
    socket = context.socket(zmq.ROUTER)       # Changed
    socket.setsockopt(zmq.IDENTITY, ""R1"")
    socket.connect(""tcp://127.0.0.1:6660"")
    while True:
        print(""Wating for request..."")

        me = socket.recv()       # New
        empty = socket.recv()    # New
        toAddr = socket.recv()
        empty = socket.recv()
        req = socket.recv()
        print(""%s received!"" % str(req))

        socket.send(me, zmq.SNDMORE)       # New
        socket.send(empty, zmq.SNDMORE)    # New
        socket.send(toAddr, zmq.SNDMORE)
        socket.send(empty, zmq.SNDMORE)
        socket.send(""Reply to %s"" % str(req))
"
680,48494,how to parse this string in Python?,"import re
s = ""('-1259656819525938837', 598679497)\t0.036787946""
re.findall(r'[-+]?[0-9]*\.?[0-9]+', s)
% gives: ['-1259656819525938837', '598679497', '0.036787946']
"
31215,45248,Fix Process ID For Python Script,"#!/bin/sh
#Kill my python process called myPython
kill `ps -A | grep myPython | nawk '{ print $1}'`
# Or
kill `ps -U myname | grep myPython | nawk '{ print $1}'`
"
4815,7379,How to apply a randomized transformation to a DataFrame column in Spark?,"data.join(rate, data.col1 == rate.id)
  .rdd.map(lambda row: (row.id, (row.value, row.target, row.rate))
  .groupByKey()
  .map(lambda (k, v): RandomOperation(v))
"
18824,3377,Python multiprocessing issue with arguments set/list completion of processes,"def sim_function(row_set, set_from_listofsets): # Note that the arguments are reversed from what you had before
    pass

def find_similar(db, num, listofsets):
    pool = Pool()
    threshold = 0.49

    similar_db_rows=[]
    for row in db.execute(""SELECT thing1, thing2, thing3 FROM table WHERE num !={n};"".format(n=num)):
            func = partial(sim_function, set(row[3].strip().split(',')))
            list_process_results = pool.map(func, listofsets)
            print list_process_results

            if any(t < threshold for t in list_process_results):
                #print ""appending a row""
                similar_db_rows.append(row)
    pool.close()
    pool.join()
"
8408,11843,Disabling buttons after click in Tkinter,"from Tkinter import Tk, Button, GROOVE

root = Tk()

def appear(index, letter):
    # This line would be where you insert the letter in the textbox
    print letter

    # Disable the button by index
    buttons[index].config(state=""disabled"")

letters=[""A"", ""T"", ""D"", ""M"", ""E"", ""A"", ""S"", ""R"", ""M""]

# A collection (list) to hold the references to the buttons created below
buttons = []

for index in range(9): 
    n=letters[index]

    button = Button(root, bg=""White"", text=n, width=5, height=1, relief=GROOVE,
                    command=lambda index=index, n=n: appear(index, n))

    # Add the button to the window
    button.grid(padx=2, pady=2, row=index%3, column=index/3)

    # Add a reference to the button to 'buttons'
    buttons.append(button)

root.mainloop()
"
26991,82517,read data form xml to list,"lst_lvl1 = [] # Top level list

for i, project in enumerate(root):
    projects[i] = project

    print(project.get('name'))
    lst_lvl1.append(project.get('name')) # Append to the top level list

    lst_lvl2 = [] # Create an empty 2nd level list

    for u, design in enumerate(project):
        designs[u] = design
        print(design.get('name'))
        lst_lvl2.append(design.get('name')) # Append to the 2nd level list

        lst_lvl3 = [] # Create a 3rd level list...
        for x, param in enumerate(design):
            params[x] = param
            print(param.get('name'))
            lst_lvl3.append(param.get('name'))
            lst_lvl4 = []
            for x, info in enumerate(param):
                print(info.text)
                lst_lvl4.append(info.text)
            lst_lvl3.append(lst_lvl4) # At the end of level 4, append what you got to the level-3 list
        lst_lvl2.append(lst_lvl3) # At the end of level 3, append what you got to the level-2 list... etc
    lst_lvl1.append(lst_lvl2)

print lst_lvl1
"
3765,52808,Partitioning a string in Python,"import re

m = re.search(r""(NM_\d+)\s+range"", name2)
if m:
   print(m.group(1))
"
33476,15545,repeat elements of an array according to other array with the same length? like repelem for numpy,"In [21]: np.repeat(np.array([1,5,2]), np.array([2,3,4]))
Out[21]: array([1, 1, 5, 5, 5, 2, 2, 2, 2])
"
15299,39102,How to allow inputs above a certain number in python,"x = int(input(""What would you like x to be? ""))
while x<0:
    print(""Sorry, x must be positive. Please try again."")
    x = int(input(""What would you like x to be? ""))
y = int(input(""What would you like y to be? ""))
while y<0:
    print(""Sorry, y must be positive. Please try again."")
    y = int(input(""What would you like y to be? ""))
z = int(input(""What would you like z to be? ""))
while z<0:
    print(""Sorry, z must be positive. Please try again. "")
    z = int(input(""What would you like z to be? ""))
"
27199,23914,Working with Password Protected Excel Sheets in Python on Linux,"unoconv -p p4ssw0rd -f csv  protectedFile.xls
"
12018,35679,PPM to JPEG/JPG conversion for Python 3.4.1,"from PIL import Image

im = Image.open(""sweet_pic.ppm"")
im.save(""sweet_pic.jpg"")
"
9838,83227,Python CSV encoding,">>> x = b""\u00f3""
>>> print x
\u00f3
>>> print x.decode('unicode_escape')
ó
"
2418,45300,How to map integers to colors in matplotlib?,"import matplotlib.pyplot as plt
from matplotlib import colors
import numpy as np

def plot_matrix(rm, title='Robot World', cmap=plt.cm.Blues):
    plt.imshow(rm, interpolation='nearest', cmap=cmap)
    plt.title(title)
    plt.tight_layout()
    plt.show()

cmap = colors.ListedColormap(['k','b','y','g','r'])
bounds=[0,1,2,3,4]
norm = colors.BoundaryNorm(bounds, cmap.N)

rm = np.random.randint(0,4,(5,5))
plot_matrix(rm,cmap=cmap)
"
34865,80516,Apply formatting after string formatting,"""%s%d"" % (""&nbsp;"" * (4 - len(str(y))), y)
"
15366,50529,Move items from one QListWidget to another,"source_list = new QListWidget();
dest_list = new QListWidget();
new QListWidgetItem(tr(""Oak""), source_list);
new QListWidgetItem(tr(""Birch""), source_list);
connect(source_list, SIGNAL(clicked(QModelIndex)), this, SLOT(swapEntry(QModelIndex)));


void MyWidget::swapEntry(QModelIndex index)
{
    dest_list->insertItem(dest_list->count(), source_list->takeItem(index.row()));
}
"
13198,57489,how do i export PDF file attachments via python,"from subprocess import call
call([""pdfdetach"", ""-saveall"", ""file.pdf""])
"
21060,67678,Can/How do I create a class panel and use it in my main frame (wxpython),"import wx

class NoteBookPage(wx.Panel):
    def __init__(self,parent,message):
        wx.Panel.__init__(self,parent)
        sizer= wx.BoxSizer(wx.VERTICAL)
        message= wx.StaticText(self,label=message)
        sizer.Add(message,1,wx.ALIGN_CENTRE)
        self.SetSizer(sizer)


class AppFrame(wx.Frame):
    def __init__(self,parent,id=-1,title='program'):
        wx.Frame.__init__(self,parent,id,title,size=((400,400)))
        # Panels
        self.AppPanel = wx.Panel(self,-1)
        self.AppPanel.SetBackgroundColour('grey')

        main_sizer= wx.BoxSizer(wx.HORIZONTAL)

        button_sizer= wx.BoxSizer(wx.VERTICAL)

        #buttons
        self.button1= wx.Button(self.AppPanel,label=""Button 1"")
        button_sizer.Add(self.button1,0,wx.EXPAND)
        self.button2= wx.Button(self.AppPanel,label=""Button 2"")
        button_sizer.Add(self.button2,0,wx.EXPAND)
        self.button3= wx.Button(self.AppPanel,label=""Button 3"")
        button_sizer.Add(self.button3,0,wx.EXPAND)
        main_sizer.Add(button_sizer,0,wx.ALL,5)

        #notebook
        self.Notebook= wx.Notebook(self.AppPanel)
        page1= NoteBookPage(self.Notebook,""I'm on page 1"")
        page2= NoteBookPage(self.Notebook,""I'm on page 2"")
        self.Notebook.AddPage(page1,""Page 1"")
        self.Notebook.AddPage(page2,""Page 2"")
        main_sizer.Add(self.Notebook,1,wx.ALL|wx.EXPAND,5)

        #panel on the right (I'm just re-using the NoteBookPage panel to save making a new one)
        right_panel= NoteBookPage(self.AppPanel,""right panel"")
        main_sizer.Add(right_panel,0,wx.ALL,5)

        self.AppPanel.SetSizer(main_sizer)

        self.Show()

if __name__ == ""__main__"":
    app= wx.App(False)
    frame= AppFrame(None)
    app.MainLoop()
"
22370,78602,Sort documents in Mongodb query by dates closest to a field,"db.events.aggregate([
    { '$match':
        { 'end':
            { '$gte': datetime.utcnow() - timedelta(days=3) } 
        }
    },
    { '$project':
        {
            'timeDelta': { 
                '$subtract': ['$end', datetime.utcnow()]
            }
        }
    },
    { '$project':
        {               
            'absTimeDelta' : { 
                '$cond' : [
                    { '$lte': ['$timeDelta', 0] },
                    { '$multiply' : ['$timeDelta', -1 ] },
                    '$timeDelta'
                ]
            }
        }
    },
    { '$sort':
        {
            'absTimeDelta' : 1
        }
    }
])
"
35520,56594,subtracting and dividing all the elements of the list in python,"foo_list = [ (ele - k) / j for ele in foo_list]
"
12923,54212,Visualizing a decision tree ( example from scikit-learn ),"...
>>> print out.getvalue()

digraph Tree {
0 [label=""X[2] <= 2.4500\nerror = 0.666667\nsamples = 150\nvalue = [ 50.  50.  50.]"", shape=""box""] ;
1 [label=""error = 0.0000\nsamples = 50\nvalue = [ 50.   0.   0.]"", shape=""box""] ;
0 -> 1 ;
2 [label=""X[3] <= 1.7500\nerror = 0.5\nsamples = 100\nvalue = [  0.  50.  50.]"", shape=""box""] ;
0 -> 2 ;
3 [label=""X[2] <= 4.9500\nerror = 0.168038\nsamples = 54\nvalue = [  0.  49.   5.]"", shape=""box""] ;
2 -> 3 ;
4 [label=""X[3] <= 1.6500\nerror = 0.0407986\nsamples = 48\nvalue = [  0.  47.   1.]"", shape=""box""] ;
3 -> 4 ;
5 [label=""error = 0.0000\nsamples = 47\nvalue = [  0.  47.   0.]"", shape=""box""] ;
4 -> 5 ;
6 [label=""error = 0.0000\nsamples = 1\nvalue = [ 0.  0.  1.]"", shape=""box""] ;
4 -> 6 ;
7 [label=""X[3] <= 1.5500\nerror = 0.444444\nsamples = 6\nvalue = [ 0.  2.  4.]"", shape=""box""] ;
3 -> 7 ;
8 [label=""error = 0.0000\nsamples = 3\nvalue = [ 0.  0.  3.]"", shape=""box""] ;
7 -> 8 ;
9 [label=""X[0] <= 6.9500\nerror = 0.444444\nsamples = 3\nvalue = [ 0.  2.  1.]"", shape=""box""] ;
7 -> 9 ;
10 [label=""error = 0.0000\nsamples = 2\nvalue = [ 0.  2.  0.]"", shape=""box""] ;
9 -> 10 ;
11 [label=""error = 0.0000\nsamples = 1\nvalue = [ 0.  0.  1.]"", shape=""box""] ;
9 -> 11 ;
12 [label=""X[2] <= 4.8500\nerror = 0.0425331\nsamples = 46\nvalue = [  0.   1.  45.]"", shape=""box""] ;
2 -> 12 ;
13 [label=""X[0] <= 5.9500\nerror = 0.444444\nsamples = 3\nvalue = [ 0.  1.  2.]"", shape=""box""] ;
12 -> 13 ;
14 [label=""error = 0.0000\nsamples = 1\nvalue = [ 0.  1.  0.]"", shape=""box""] ;
13 -> 14 ;
15 [label=""error = 0.0000\nsamples = 2\nvalue = [ 0.  0.  2.]"", shape=""box""] ;
13 -> 15 ;
16 [label=""error = 0.0000\nsamples = 43\nvalue = [  0.   0.  43.]"", shape=""box""] ;
12 -> 16 ;
}
"
3403,15541,Django: how to use upload_to property of an ImageField,"class UploadImageForm(forms.ModelForm):
    class Meta:
        model = GallryImage
...
# Sample view
def upload_file(request):
    if request.method == 'POST':
        form = UploadImageForm(request.POST, request.FILES)
        if form.is_valid():
            form.save()
            return HttpResponseRedirect('/success/url/')
    else:
        form = UploadImageForm()
    return render_to_response('upload.html', {'form': form})
"
12884,39231,Integer division & modulo operation with negative operands in Python,"10/3  -> floor(3.33)  ->  3
-10/3 -> floor(-3.33) -> -4
"
38176,24850,bool and int types in boolean contexts,"1 and 2 will evaluate to 2
1 or 2 will evaluate to 1 (short-circuit)
1 and ""hello"" will evaluate to ""hello""
"
35337,70117,How can write scraped content to a CSV file?,"import urllib2

listOfStocks = [""AAPL"", ""MSFT"", ""GOOG"", ""FB"", ""AMZN""]

urls = []

for company in listOfStocks:
    urls.append('http://real-chart.finance.yahoo.com/table.csv?s=' + company + '&d=6&e=28&f=2015&g=m&a=11&b=12&c=1980&ignore=.csv')

Output_File = open('C:/Users/rshuell001/Historical_Prices.csv','w')

New_Format_Data = ''

for counter in range(0, len(urls)):

    Original_Data = urllib2.urlopen(urls[counter]).read()

    if counter == 0:
        New_Format_Data = ""Company,"" + urllib2.urlopen(urls[counter]).readline()

    rows = Original_Data.splitlines(1)

    for row in range(1, len(rows)):

        New_Format_Data = New_Format_Data + listOfStocks[counter] + ',' + rows[row]

Output_File.write(New_Format_Data)
Output_File.close()
"
23855,74433,Best way to retrieve data attributes in Python?,"class Thing(object): # New-style class
    def __init__(self, whatever):
        self._whatever = whatever

    @property
    def whatever(self):
        return self._whatever # Insert complicated calculation here
"
28332,48051,Dot product Matrices,"def dotProduct(x,y):
    prod=0
    for i in range(len(x)):
        prod=prod+x[i]*y[i]
    return prod
"
39839,57272,Module and Parameter with the same name,"import x as y
"
29758,75483,Cannot unregister functions from atexit in python 2.7,"import atexit
import weakref

class CallableMethodWeakRef:
    def __init__(self, object, method_name):
        self.object_ref = weakref.ref(object)
        self.method_name = method_name
    def __call__(self):
        object = self.object_ref()
        if object:
            getattr(object, self.method_name)()

class Recorder:
    def __init__(self, *args):
        atexit.register(CallableMethodWeakRef(self, 'flush'))

    def flush(self):
        print 'flushing'
"
20769,18744,Python: what is the proper way to pass arguments to threading.Thread instance,"class StateManager(threading.Thread):
    def __init__(self, lock, state):
        threading.Thread.__init__(self)
        self.lock = lock
        self.state = state            

    def run(self):
        lock = self.lock
        state = self.state
        while True:
            lock.acquire()
            self.updateState(state)
            lock.release()
            time.sleep(60)
"
17997,74100,How to generate sound signal through a GPIO pin on BeagleBone,"#!/usr/bin/python
# Circuit:
# * A Piezo is connected to pin 12 on header P8.        - GPIO1_12
# * A LED is connected to pin 14 on header P8.          - GPIO0_26
# * A button is connected to pin 45 on header P8.       - GPIO2_6
#   Use a pull-down resistor (around 10K ohms) between pin 45 and ground. 
#       3.3v for the other side of the button can be taken from pins 3 or 4 
#       on header P9. Warning: Do not allow 5V to go into the GPIO pins.
# * GND - pin 1 or 2, header P9.

def setup(): # this function will run once, on startup
    pinMode(PIEZO, OUTPUT) # set up pin 12 on header P8 as an output - Piezo
    pinMode(LED, OUTPUT) # set up pin 14 on header P8 as an output - LED
    pinMode(BUTTON, INPUT) # set up pin 45 on header P8 as an input - Button

def loop(): # this function will run repeatedly, until user hits CTRL+C
    if (digitalRead(BUTTON) == HIGH): 
        # was the button pressed? (is 3.3v making it HIGH?) then do:
            buzz()
    delay(10) # don't ""peg"" the processor checking pin

def delay(j):  #need to overwrite delay() otherwise, it's too slow
    for k in range(1,j):
            pass

def buzz():    #this is what makes the piezo buzz - a series of pulses
               # the shorter the delay between HIGH and LOW, the higher the pitch
    limit = 500     # change this value as needed; 
                    # consider using a potentiometer to set the value
    for j in range(1, limit):
            digitalWrite(PIEZO, HIGH)
            delay(j)
            digitalWrite(PIEZO, LOW)
            delay(j)
            if j==limit/2:
                    digitalWrite(LED, HIGH)
    digitalWrite(LED, LOW) # turn it off

run(setup, loop)
"
30419,6812,Best hashing method before saving password into database table for django,"import bcrypt

# Hash a password for the first time
hashed = bcrypt.hashpw(password, bcrypt.gensalt())

# gensalt's log_rounds parameter determines the complexity
# the work factor is 2**log_rounds, and the default is 12
hashed = bcrypt.hashpw(password, bcrypt.gensalt(10))

# Check that an unencrypted password matches one that has
# previously been hashed
if bcrypt.hashpw(plaintext, hashed) == hashed:
    print ""It matches""
else:
    print ""It does not match""
"
13008,72867,Event loop implementation for Python 3?,"while True:
    while queue:
        queue.pop()()
"
28678,36628,Find most distant points in contour curve,"from __future__ import division
import scipy as sp
from scipy import stats
import pylab as pl

x = [1.81,1.715,1.78,1.613,1.629,1.714,1.62,1.738,1.495,1.669,1.57,1.877,1.385,2.129, \
     2.016,1.606,1.444,2.103,1.397,1.854,1.327,1.377,1.798,1.684,2.186,2.079,1.32, \
     1.452,2.272,1.313,1.762,2.308,2.285,2.328,2.288,2.345,2.237,2.078,2.057,1.505, \
     2.595,2.176,2.501,0.942,2.424,2.49,2.65,1.303,2.43,2.241,0.897,1.731,2.464,1.638, \
     0.867,2.392,3.248,2.608,2.733,0.745,2.715,3.078,2.571,0.771,1.071,2.574,3.343, \
     2.835,2.629,3.421,0.642,2.571,2.698,0.595,2.912,0.563,2.832,2.636,3.149,2.522, \
     0.836,0.894,0.447,1.304,1.132,2.488,3.363,2.961,1.317,2.387,0.036,2.199,0.356, \
     3.036,2.103,2.894,-0.097,0.069,2.688,-0.083,0.653,3.247,3.045,3.197,2.963,2.473, \
     2.571,3.333,3.009,1.281,3.257,3.116,2.673,2.901,2.903,2.634,-0.291,-0.29,0.212]
y = [0.924,0.915,0.914,0.91,0.909,0.905,0.905,0.893,0.886,0.881,0.873,0.873,0.844, \
     0.838,0.83,0.817,0.811,0.809,0.807,0.803,0.802,0.792,0.777,0.774,0.774,0.77,0.748, \
     0.746,0.742,0.734,0.729,0.726,0.722,0.677,0.676,0.672,0.635,0.62,0.62,0.608,0.605, \
     0.587,0.586,0.578,0.571,0.569,0.549,0.544,0.535,0.53,0.529,0.513,0.499,0.497, \
     0.496,0.496,0.49,0.486,0.482,0.476,0.474,0.473,0.471,0.47,0.459,0.444,0.438,0.435, \
     0.428,0.419,0.411,0.4,0.396,0.384,0.378,0.368,0.362,0.362,0.361,0.357,0.347,0.346, \
     0.344,0.33,0.322,0.319,0.318,0.305,0.296,0.296,0.289,0.288,0.288,0.288,0.287, \
     0.286,0.283,0.283,0.278,0.274,0.264,0.259,0.248,0.244,0.241,0.239,0.238,0.237, \
     0.23,0.222,0.221,0.218,0.214,0.212,0.207,0.205,0.196,0.19,0.182]

xmin, xmax = min(x), max(x)
ymin, ymax = min(y), max(y)

# Generate KDE
x1, y1 = sp.mgrid[xmin:xmax:100j, ymin:ymax:100j]
positions = sp.vstack([x1.ravel(), y1.ravel()])
values = sp.vstack([x, y])
kernel = stats.gaussian_kde(values)
kde = sp.reshape(kernel(positions).T, x1.shape)

# plotting
CS = pl.contour(x1,y1,kde)

# ----------------------------------- our solution ------------------------------------
# processing the distances
for i,clc in enumerate(CS.collections):
    for j,pth in enumerate(clc.get_paths()):
        cts = pth.vertices
        d = sp.spatial.distance.cdist(cts,cts)
        x,y = cts[list(sp.unravel_index(sp.argmax(d),d.shape))].T
        pl.plot(x,y,':o')
        print 'Contour Level %d, Part %d'%(i,j)
# ----------------------------------- our solution ------------------------------------

pl.clabel(CS, inline=1, fontsize=10, zorder=6)
pl.axis('image')                   # don't forget using this to fix aspect ratio to 1,1

pl.show()
"
817,76286,cython - distutils vs cmake: linking against libpython?,"function( cython_add_module _name _dynamic_lookup )
  set( pyx_module_sources """" )
  set( other_module_sources """" )
  foreach( _file ${ARGN} )
    if( ${_file} MATCHES "".*\\.py[x]?$"" )
      list( APPEND pyx_module_sources ${_file} )
    else()
      list( APPEND other_module_sources ${_file} )
    endif()
  endforeach()
  compile_pyx( ${_name} generated_file ${pyx_module_sources} )
  include_directories( ${PYTHON_INCLUDE_DIRS} )
  python_add_module( ${_name} ${generated_file} ${other_module_sources} )
  ### Added here ##
  if( ${_dynamic_lookup} )
    message( STATUS ""Not linking target ${_name} against libpython"" )
    set_target_properties( ${_name} PROPERTIES LINK_FLAGS ""-undefined dynamic_lookup"")
  else()
    target_link_libraries( ${_name} ${PYTHON_LIBRARIES} )
  endif()
endfunction()
"
3525,9439,matplotlib plotting dictionary keys as column labels,"import matplotlib.pyplot as plt
import numpy as np

data = {'Alex': 20, 'Jason': 35}
x = np.arange(len(data))
y = data.values()

plt.bar(x, y)
plt.xticks(x + 0.5, data.keys(), rotation='vertical')
plt.show()
"
7131,6001,How to initialize 2D numpy array,"# generate grid
    a = [ ]
    allZeroes = []
    allOnes = []

    for i in range(0,800):
        allZeroes.append(0)
        allOnes.append(1)

    # append 400 rows of 800 zeroes per row.
    for i in range(0, 400):
        a.append(allZeroes)

    # append 400 rows of 800 ones per row.
    for i in range(0,400):
        a.append(allOnes)


#So this is a 2D 800 x 800 array of zeros on the top half, ones on the bottom half.
array = numpy.array(a)

# Need to flip the array so my other code that draws 
# this array will draw it right-side up
array = numpy.flipud(array)
"
30831,30384,How to convert a gdb Value to a python numeral object while debugging C program,"(gdb) python print int(gdb.Value(0))
0
(gdb) python print float(gdb.Value(0.0))
0.0
"
21759,22219,Simplify roots in sympy,"In [2]: dginvdy
Out[2]: 2*(y**2)**(1/3)/(3*y)
In [3]: factor(dginvdy)
Out[3]: 2/(3*y**(1/3))
"
34857,36804,Custom django auth backend not logging the user with base login view,"def get_user(self, user_id):
    try:
        return User.objects.get(pk=user_id)
    except User.DoesNotExist:
        return None
"
22730,47951,Boost-python How to pass a c++ class instance to a python class,"#include <boost/python.hpp>
#include <string>
#include <iostream>

using namespace boost::python;
using namespace std;

class World
{
private:
    string name;
public:
    void set(string name) {
        this->name = name;
    }
    void greet() {
        cout << ""hello, I am "" << name << endl;
    }
};

typedef boost::shared_ptr< World > world_ptr;

BOOST_PYTHON_MODULE(hello)
{
    class_<World>(""World"")
        .def(""greet"", &World::greet)
        .def(""set"", &World::set)
    ;
};

int main(int argc, char **argv)
{
    Py_Initialize();
    try {
        PyRun_SimpleString(
            ""class Person:\n""
            ""    def sayHi(self):\n""
            ""        print 'hello from python'\n""
            ""    def greetReset(self, instance):\n""
            ""        instance.set('Python')\n""
          );

        world_ptr worldObjectPtr (new World);
        worldObjectPtr->set(""C++!"");

        inithello();
        object o_main 
            = object(handle<>(borrowed(PyImport_AddModule(""__main__""))));
        object o_person_type = o_main.attr(""Person"");
        object o_person = o_person_type();
        object o_func1 = o_person.attr(""sayHi"");
        o_func1();
        object o_func2 = o_person.attr(""greetReset"");
        o_func2(boost::python::ptr(worldObjectPtr.get()));
        worldObjectPtr->greet();
    }
    catch (error_already_set) {
        PyErr_Print();
    }

    Py_Finalize();

    return 0;
}
"
22894,51176,How to test the validity of your Sphinx documentation?,"class DocTest(unittest.TestCase):
    source_dir = u'docs/source'
    config_dir = u'docs/source'
    output_dir = u'docs/build'
    doctree_dir = u'docs/build/doctrees'
    all_files = 1

    def test_html_documentation(self):
        app = Sphinx(self.source_dir,
                     self.config_dir,
                     self.output_dir,
                     self.doctree_dir,
                     buildername='html',
                     warningiserror=True,
        )
        app.build(force_all=self.all_files)
        # TODO: additional checks here if needed

    def test_text_documentation(self):
        # The same, but with different buildername
        app = Sphinx(self.source_dir,
                     self.config_dir,
                     self.output_dir,
                     self.doctree_dir,
                     buildername='text',
                     warningiserror=True,
        )
        app.build(force_all=self.all_files)
        # TODO:  additional checks if needed

    def tearDown(self):
        # TODO: clean up the output directory
        pass
"
24831,20263,"How, I can change Excel sheet tab background colour by python","xl = Dispatch( ""Excel.Application"")

xl.Visible = False

xlFile = ""C:/tab_colour.xls""

wkb = xl.Workbooks.Open(xlFile)

sheet = xl.Worksheets.Item(""SVP INFO"")

sheet.Tab.Color = 255

wkb.Save()

wkb.Close()

xl.Quit()

xl = None
"
786,78925,How to perform efficient concatentation (merge) in Python,"#!/usr/bin/env python

import glob, gzip, re

data_files = [ gzip.open(name) for name in sorted(
    glob.glob('*_txt.gz')
) ]

# we'll use the two header columns from the first file
firstf = data_files.pop(0)

outf = gzip.open('all_c_all_k_concatenated.txt.gz', 'w')
for recnum,fline in enumerate( firstf ):

    print 'record', recnum+1

    # output header columns plus first batch of data
    outf.write( fline.rstrip() )

    # separate first file's values from others
    outf.write( ' ' )

    # for each input, read one line of data, write values
    for dataf in data_files:
        # read line with headers and values
        line = dataf.next()

        # zap two header columns
        line = re.sub(r'^\S+\s+\S+\s+', '', line)

        outf.write( line.rstrip() )

        # separate this file's values from next
        outf.write( ' ' )

    # finish the line of data
    outf.write( '\n' )

outf.close()
"
2557,61194,Iterating over Python objects,"import itertools

for start, stop in itertools.combinations(zipList, 2):
    print start, stop
    # now pass start, stop to your function
"
8135,13223,ZMQ pair (for signaling) is blocking because of bad connection,"    self.socket = self.context.socket(zmq.DEALER)
    self.socket.setsockopt(zmq.SNDHWM, 200000)
"
10461,74642,Merge dictionaries by key with dictionary names as subkeys,"combo = {k: {i: eval(i)[k] for i in dicts} for k in eval(dicts[0]).keys()} 
"
18652,66279,formatting a string where variable does not always exist in Python,"import re

pin_pattern = re.compile(r'^(\d{1,2})(\d{3})(\d{4})(\d{3})?$')

pin_formats = {
    3: '{0:02d}-{1:03d}-{2:04d}',
    4: '{0:02d}-{1:03d}-{2:04d}-{3:03d}'
}

def parse_pin(s):
    groups = [int(d) for d in pin_pattern.search(s).groups() if d is not None]
    return pin_formats[len(groups)].format(*groups)
"
4887,71210,What does signal handling EXACTLY mean?,"import signal, os

def handler(signum, frame):
    print 'Signal handler called with signal', signum
    raise IOError(""Couldn't open device!"")

# Set the signal handler and a 5-second alarm
signal.signal(signal.SIGALRM, handler)
signal.alarm(5)

# This open() may hang indefinitely
fd = os.open('/dev/ttyS0', os.O_RDWR)

signal.alarm(0)          # Disable the alarm
"
38998,73674,Create a CSV file directly on an FTP server,"import csv
from ftplib import FTP
from cStringIO import StringIO

...
ftp = FTP(host, user, passwd)
ftp.login()
output = StringIO()
data = csv.writer(output)
data.writerow([""data""] * 5)
output.seek(0)
ftp.storbinary(""STOR data.txt"", output)
...
"
12900,24365,Upload pdf file with gdata docs python v3.0 with ocr,"def UploadResourceSample(filename, filepath, fullpath):
  """"""Upload a document, and convert to Google Docs.""""""
  client = CreateClient()
  doc = gdata.docs.data.Resource(type='document', title=filename)

  path = fullpath
  print 'Selected file at: %s' % path

  # Create a MediaSource, pointing to the file
  media = gdata.data.MediaSource()
  media.SetFileHandle(path, 'application/pdf')

  # Pass the MediaSource when creating the new Resource
  create_uri = gdata.docs.client.RESOURCE_UPLOAD_URI + '?ocr=true&ocr-language=de'
  doc = client.CreateResource(doc, create_uri=create_uri, media=media)
  print 'Created, and uploaded:', doc.title.text, doc.resource_id.text
"
6125,61826,"Count frequencies of x, y coordinates, display in 2D and plot","import matplotlib.pyplot as plt
import numpy as np

from matplotlib.table import Table

def table_plot(data):
    fig, ax = plt.subplots()
    ax.set_axis_off()

    tb = Table(ax, bbox=[0,0,1,1])

    nrows, ncols = data.shape
    width, height = 1.0 / ncols, 1.0 / nrows

    for (i, j), val in np.ndenumerate(data):
        tb.add_cell(i, j, width, height, text=str(val) if val else '', loc='center')

    for i in range(data.shape[0]):
        tb.add_cell(i, -1, width, height, text=str(i), loc='right',
                    edgecolor='none', facecolor='none')
    for i in range(data.shape[1]):
        tb.add_cell(-1, i, width, height/2, text=str(i), loc='center',
                    edgecolor='none', facecolor='none')

    tb.set_fontsize(16)
    ax.add_table(tb)
    return fig

coords = ((1,2), (2,5), (1,2), (5, 5), (4, 5))

# get maximum value for both x and y to allocate the array
x, y = map(max, zip(*coords))
data = np.zeros((x+1, y+1), dtype=int)

for i, j in coords:
    data[i,j] += 1

table_plot(data)
plt.show()
"
30609,9288,XML RPC client for C# over secured socket (https),"ServicePointManager.ServerCertificateValidationCallback = (a, b, c, e) => true ;
"
33813,38529,"How do I convert characters like ""&#58;"" to "":"" in python?",">>> import re
>>> re.sub(""&#(\d+);"",lambda x:unichr(int(x.group(1),10)),""&#58; or &#46;"")
u': or .'
"
28150,68723,Python communicate with a subprocess,"def f_a(s): pass
def f_b(s): pass

consumers = [f_a, f_b]

while True:
    chunk = process.stdout.read(100)
    if chunk == '': break # or something like that
    for c in consumers: c(chunk)
"
14018,11252,efficient way for replacing sub-arrays within numpy array - numpy.put or similar?,"colours = np.array(colours)
colours[indices, :] = (1, 0, 0, 1)
"
36068,61562,python - efficient way of checking if part of string is in the list,"text  = ""The Dormouse's story. Once upon a time there were three little sisters; and their names were Elsie, Lacie and Tillie; and they lived at the bottom of a well....badword...""

badwords = set([""badword"", ""badword1"", ....])

textwords = set(word for word in text.split())
for badword in badwords.intersection(textwords):
    print(""The bad word '{}' was found in the text"".format(badword))
"
19048,32737,How to convert a multiline string into a list of lines?,"import re
r = re.compile(r'^[a-zA-Z0-9]') # match @ beginning anything that's not alpha numeric 
s = '#abc\ndef\nghi'
l = [r.sub('', x) for x in s.split()]
# join this list with comma (if that's required else you got the list already)
','.join(l)
"
23020,51501,Django-ckeditor not displaying correctly in html,"{{ article.content|safe }}
"
35479,24321,split some string items in a list by a particular word in python,">>> res = [""FAV_VENUE_CITY_NAME == 'Mumbai' & EVENT_GENRE == 'KIDS' & count_EVENT_GENRE >= 1"",
""FAV_VENUE_CITY_NAME == 'Mumbai' & EVENT_GENRE == 'FANTASY' & count_EVENT_GENRE >= 1"",
""FAV_VENUE_CITY_NAME =='Mumbai' & EVENT_GENRE == 'FESTIVAL' & count_EVENT_GENRE >= 1"",
""FAV_VENUE_CITY_NAME == 'Mumbai' & EVENT_GENRE == 'WORKSHOP' & count_EVENT_GENRE >= 1"",
""FAV_VENUE_CITY_NAME == 'Mumbai' & EVENT_GENRE == 'EXHIBITION' & count_EVENT_GENRE >= 1"",
""FAV_VENUE_CITY_NAME == 'Mumbai' & FAV_GENRE == '|DRAMA|'"",
""FAV_VENUE_CITY_NAME = 'Mumbai' &  & FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'"",
""FAV_VENUE_CITY_NAME == 'Mumbai' & FAV_GENRE == '|COMEDY|'"",
""FAV_VENUE_CITY_NAME == 'Mumbai' & FAV_LANGUAGE == 'Hindi'""]
>>> [' & '.join(x for x in i.split(' & ') if not x.startswith('count_')) for i in res]
[""FAV_VENUE_CITY_NAME == 'Mumbai' & EVENT_GENRE == 'KIDS'"", ""FAV_VENUE_CITY_NAME == 'Mumbai' & EVENT_GENRE == 'FANTASY'"", ""FAV_VENUE_CITY_NAME =='Mumbai' & EVENT_GENRE == 'FESTIVAL'"", ""FAV_VENUE_CITY_NAME == 'Mumbai' & EVENT_GENRE == 'WORKSHOP'"", ""FAV_VENUE_CITY_NAME == 'Mumbai' & EVENT_GENRE == 'EXHIBITION'"", ""FAV_VENUE_CITY_NAME == 'Mumbai' & FAV_GENRE == '|DRAMA|'"", ""FAV_VENUE_CITY_NAME = 'Mumbai' &  & FAV_GENRE == '|ACTION|ADVENTURE|SCI-FI|'"", ""FAV_VENUE_CITY_NAME == 'Mumbai' & FAV_GENRE == '|COMEDY|'"", ""FAV_VENUE_CITY_NAME == 'Mumbai' & FAV_LANGUAGE == 'Hindi'""]
"
18369,85099,How to replace punctuation with HTML entities,"def htmlentities(string):
  def char_htmlentities(c):
    return '&#%d;' % ord(c) if c in html_symbols else c

  html_symbols =  set(',\'"".<>?;:')
  return ''.join(map(char_htmlentities, string))
"
27107,72333,Accessing extended User class fields,"list_display = ('email', 'first_name', 'last_name','userprofile')
"
26439,55122,Python index like MATLAB's end/2,"def half_list(l):
    return l[:len(l)/2]
"
32384,4469,python file manipulation,"import os,glob,fileinput
root=""/tmp""
path=os.path.join(root,""dir"")
alines=[""line 1\n"",""line 2\n"",""line 3\n"",""line 4\n""]
os.chdir(path)
# for clients
for clientfile in glob.glob(""*.client.log""):
    data=open(clientfile).readlines()
    data.append(alines)
    open(""temp"",""w"").write(''.join(data))
    os.rename(""temp"",clientfile)
for svrfile in glob.glob(""*.server.log""):
    f=0
    for line in fileinput.FileInput(svrfile,inplace=1):
         ind=line.find(""After-this"")
         if ind!=-1 and not f:
             line=line[:ind+10] + ''.join(alines) + line[ind+10:]
             f=1
         print line
"
32232,23379,Python: Emit signal to all instances if class method is called?,"class MyButton(QPushButton):

    BigSwitch = SomeQObjectThatDefinesTheSignal()

    def __init__(self, ...):
        ...
        BigSwitch.the_signal.connect(self.some_slot)

    def some_slot(self, ...):
        #handle the change of the property

    @classmethod
    def enable(cls):
        cls.BigSwitch.the_signal.emit(...)
"
39417,31819,Animate a matplotlib sankey diagram,"import numpy as np
import matplotlib.pyplot as plt
from matplotlib import animation
from matplotlib import sankey
import subprocess

N = 10
time = np.linspace(0, np.pi * 2, N)
flow_in = 4 * np.ones_like(time)
flow_out_a = 2 + np.sin(time)
flow_out_b = flow_in - flow_out_a

fig, ax = plt.subplots()
sk = sankey.Sankey(ax=ax, scale=1 / max(flow_in), format=u'%0.3g')
diags_text = ax.text(0.05, 0.9, '', transform=ax.transAxes)

def init():
    a = flow_in[0]
    b = -flow_out_a[0]
    c = -flow_out_b[0]
    sk.add(flows=[a, b, c],
           orientations=[0, 0, -1],
           alpha=0.2, lw=2.0, trunklength=1, pathlengths=[1, 1, 1])
    diags = sk.finish()
    return []

def anim(idx):
    for diag in sk.diagrams:
        # remove called instead of set_visible(False) to keep 
        # `len(ax.get_children())` constant
        diag.patch.remove()
        diag.text.remove()
        for txt in diag.texts:
            txt.remove()
    sk.diagrams = []

    a = flow_in[idx]
    b = -flow_out_a[idx]
    c = -flow_out_b[idx]

    sk.add(flows=[a, b, c],
           orientations=[0, 0, -1],
           alpha=0.2, lw=2.0, trunklength=1, pathlengths=[1, 1, 1])
    diags = sk.finish()
    diags_text.set_text('len(sk.diagrams) = {l} | len(ax.get_children()) = {gc}'
                        .format(l=len(sk.diagrams), gc=len(ax.get_children())))
    ax.set_xlim(-2, 3)
    ax.set_ylim(-3, 2)
    fig.savefig('frame_{:03d}.png'.format(idx))
    return []

ax.set_xlim(-2, 3)
ax.set_ylim(-3, 2)

anim = animation.FuncAnimation(fig, anim, init_func=init, repeat=False,
                               frames=N, interval=20, blit=True)

# anim.save('mymovie.mp4', writer='mencoder')
plt.show()
subprocess.call(['convert', '-delay', '10', '-loop', '0', '*.png', 'out.gif'])
"
31212,14723,Alternatives to keeping large lists in memory (python),"import os

# no more than 100 million items in memory at a time
MAXINMEM = int(1e8)

class bigarray(object):
  def __init__(self):
    self.f = open('afile.dat', 'w+')
    self.a = array.array('L')
  def append(self, n):
    self.a.append(n)
    if len(self.a) > MAXINMEM:
      self.a.tofile(self.f)
      del self.a[:]
  def pop(self):
    if not len(self.a):
      try: self.f.seek(-self.a.itemsize * MAXINMEM, os.SEEK_END)
      except IOError: return self.a.pop()  # ensure normal IndexError &c
      try: self.a.fromfile(self.f, MAXINMEM)
      except EOFError: pass
      self.f.seek(-self.a.itemsize * MAXINMEM, os.SEEK_END)
      self.f.truncate()
    return self.a.pop()
"
17456,15637,How to split python 3 unittests into separate file with script to control which one to run?,"if __name__ == '__main__':
    unittest.main(defaultTest='suite')
"
23052,7656,raspberrypi email notifier - py command not found,"g4ur4v@g4ur4v:~$ cat ./r.py 
#!/usr/bin/env python
print 'hii'    

g4ur4v@g4ur4v:~$ sudo ./r.py
sudo: ./r.py: command not found

g4ur4v@g4ur4v:~$ sudo /home/g4ur4v/Desktop/junk/r.py
sudo: /home/g4ur4v/Desktop/junk/r.py: command not found

g4ur4v@g4ur4v:~$ pwd
/home/g4ur4v/Desktop/junk

g4ur4v@g4ur4v:~$ ll /home/g4ur4v/Desktop/junk/r.py
-rw-rw-r-- 1 g4ur4v g4ur4v 33 Sep 22 03:29 /home/g4ur4v/Desktop/junk/r.py

g4ur4v@g4ur4v:~$ chmod +x /home/g4ur4v/Desktop/junk/r.py

g4ur4v@g4ur4v:~$ sudo /home/g4ur4v/Desktop/junk/r.py
hii

g4ur4v@g4ur4v:~$ sudo ./r.py
hii
"
26115,68381,Scrapy: Use Feed Exporter to store Items without using return,"def listpage(self, response):
    # Parses the entries on the page, and stores them
    sel = Selector(response)
    entries = sel.xpath(""//table[@id='gv_Subsribers']"").css(""tr"")
    items = []
    for entry in entries:
        item = Contact()
        item['name'] = entry.xpath('/td[0]/text()')
        yield item

    # remember get next has to return Request with callback=self.listpage
    yield self.getNext10()
"
19528,64141,Python script accepting optional multiple inputs,">>> import argparse
>>> parser = argparse.ArgumentParser()
>>> parser.add_argument('-i', nargs='+')
>>> parser.parse_args('-i input1.txt input2.txt input3.txt'.split())
Namespace(i=['input1.txt', 'input2.txt', 'input3.txt'])
"
35451,43664,Using OAuth2.o protocol python for social authentication,"email =('email')
pwd  = ('pwd')
data = urllib.parse.urlencode({'email': email, 'pwd':pwd, 'service': 'nudge'})
data = data.encode('utf-8')
request = urllib.request.Request(""https://jawbone.com/user/signin/login"")
# adding charset parameter to the Content-Type header.
request.add_header(""Content-Type"",""application/x-www-form-urlencoded;charset=utf-8"")
f = urllib.request.urlopen(request, data)

#print(f.read().decode('utf-8'))
j=(f.read().decode('utf-8'))
b=json.loads(j)
"
1938,52964,Finding max element in a list,"numTimes = dict()
target = (len(a)//2)+1

for ele in a:
    if ele not in numTimes:
        numTimes[ele] = 1
    else:
        numTimes[ele] +=1

    if numTimes[ele] == target:
        return ele
"
15785,67673,Capturing **vars() pattern in string formatting,"import inspect
def lfmt(s):
    caller = inspect.currentframe().f_back
    return s.format(**caller.f_locals)

a = 3
b = 'foo'
c = dict(mykey='myval')

print(lfmt('a is {a}, b is {b}, mykey is {c[mykey]}'))
# a is 3, b is foo, mykey is myval
"
32214,34714,How turn {{ fieldset.fields }} in Django template into a string?,"{% for fieldset in adminform %}
    {% for field in fieldset.fields %}
    <li> {{ field }} </li>
        {% if ""nanoadded"" in field  %}
            <li> nanoadded is here </li>
        {% else %}
            <li> nanoadded is NOT here </li>
        {% endif %}       
    {% endfor %} 
{% endfor %}
"
19728,58061,Find largest file inside of tarball,"import tarfile
archive = tarfile.TarFile('/path/to/my/tarfile.tar')
max_size = 0
max_name = None
for file in archive.getmembers():
    if file.size > max_size:
        max_size = file.size
        max_name = file.name

print(max_size)
print(max_name)
"
33281,39504,Get all table names in a Django app,"from django.db import connection
tables = connection.introspection.table_names()
seen_models = connection.introspection.installed_models(tables)
"
993,22295,Elegant & short (pythonic) way to find the lowest unused number,"from itertools import count

def next_available(base):
    for ext in count(start=1):
        name = '{}.{:03d}'.format(base, ext)
        if not os.path.exists(name):
            return name
"
22213,52224,Get individual hostnames from round-robin DNS record,"import dns.resolver

answers = dns.resolver.query('WSCLUSTER', 'A')
for rdata in answers:
    print rdata
"
20618,23779,What is the difference between Python's re.search and re.match?,"# example code:
string_with_newlines = """"""something
someotherthing""""""

import re

print re.match('some', string_with_newlines) # matches
print re.match('someother', 
               string_with_newlines) # won't match
print re.match('^someother', string_with_newlines, 
               re.MULTILINE) # also won't match
print re.search('someother', 
                string_with_newlines) # finds something
print re.search('^someother', string_with_newlines, 
                re.MULTILINE) # also finds something

m = re.compile('thing$', re.MULTILINE)

print m.match(string_with_newlines) # no match
print m.match(string_with_newlines, pos=4) # matches
print m.search(string_with_newlines, 
               re.MULTILINE) # also matches
"
34886,33723,Python image creation loops,"def displayTrack(position):

    output='|'#value given to output
    track=[' ']*20# track is initially just a bunch of empty spaces
    track[position]= 'r'#AND track also contains an r icon
    print(' -'*20)#these are the top and bottom borders
    print(' 0 1 2 3 4 5 6 7 8 9 A B C D E F G H I J')#these represent each individual cell

    for i in range(len(track)):
        output= output +track[i] +'|'#append a ""|"" before and after each empty space "" ""
    print (output)#print the result
    print(' -'*20)
"
20166,43977,Parsing an HTML file with selectorgadget.com,"<div id=""pcraSpecs"">
  <script type=""text/javascript"">...</script>
  <TABLE cellpadding=""0"" cellspacing=""0"" class=""specification"">
    <TR>
      <TD colspan=""2"" class=""title"">Model</TD>
    </TR>
    <TR>
      <TD class=""name"">Brand</TD>
      <TD class=""desc""><script type=""text/javascript"">document.write(neg_specification_newline('Intel'));</script></TD>
    </TR>
    <TR>
      <TD class=""name"">Processors Type</TD>
      <TD class=""desc""><script type=""text/javascript"">document.write(neg_specification_newline('Desktop'));</script></TD>    
    </TR>
    ...
  </TABLE>
</div>
"
29361,11769,Fastest permutations implementation in Python,">>> timeit.timeit(""sum([1 for i in permutations([1, 2, 3, 4, 5])])"", setup=""from itertools import permutations"", number=1000)
0.0829811965812155

>>> timeit.timeit(""sum([1 for i in perms([1, 2, 3, 4, 5])])"", setup=""from test import perms"", number=1000)
0.4672438746438843
"
31604,23260,Finding most frequent values in column of array in SQL Alchemy,"from sqlalchemy import func, desc
session.query(
    func.count(tablename.id).label('qty')
    ).group_by(tablename.category
    ).order_by(desc('qty'))
"
34102,25187,How to make sure that a user inputs a number?,"intweight = 0
while True:
    try: 
        weight = float(input())
    except ValueError:
        print ""Please enter a number""
    else:
        break
        intweight = weight
"
10089,76014,mpld3: How to change the location of the toolbar using a plugin?,"class TopToolbar(plugins.PluginBase):
    """"""Plugin for moving toolbar to top of figure""""""

    JAVASCRIPT = """"""
    mpld3.register_plugin(""toptoolbar"", TopToolbar);
    TopToolbar.prototype = Object.create(mpld3.Plugin.prototype);
    TopToolbar.prototype.constructor = TopToolbar;
    function TopToolbar(fig, props){
        mpld3.Plugin.call(this, fig, props);
    };

    TopToolbar.prototype.draw = function(){
      // the toolbar svg doesn't exist
      // yet, so first draw it
      this.fig.toolbar.draw();

      // then change the y position to be
      // at the top of the figure
      this.fig.toolbar.toolbar.attr(""y"", 2);

      // then remove the draw function,
      // so that it is not called again
      this.fig.toolbar.draw = function() {}
    }
    """"""
    def __init__(self):
        self.dict_ = {""type"": ""toptoolbar""}
"
5088,55493,Requests and File cookiejar not working in a class,"import requests
import http.cookiejar


class Parent:

    CookieFile = 'tmp/cookies.txt'

    def __init__(self):
        self.cj = http.cookiejar.LWPCookieJar(Parent.CookieFile)
        self.cj.load(ignore_discard=True)
        self.session = requests.Session()
        self.session.cookies = self.cj

    def save_cookies(self):
        self.cj.save(Parent.CookieFile, ignore_discard=True)


class Child(Parent):

    def __init__(self):
        Parent.__init__(self)

    def main(self):
        # Do stuff, connect if necessary
        self.save_cookies()

a = Child
a.main()
"
9337,53655,How to convert raw_input() into a directory?,"Enter Input Directory's full path [eg. c:\vid\]: C:\Users\Dino\ 
In: C:\Users\Dino\ 
Out: C:\Users\Dino\ipod\ 
C:\Users\Dino\x.avi
-i ""C:\Users\Dino\x.avi"" -t 1 -c 1 -o ""C:\Users\Dino\ipod\x.mp4"" --preset=""iPod""
"
34950,51993,"python : read a line, then instantiate a class named in the line","class Monster(yaml.YAMLObject):
    yaml_tag = u'!Monster'
    def __init__(self, name, hp, ac, attacks):
        self.name = name
        self.hp = hp
        self.ac = ac
        self.attacks = attacks
    def __repr__(self):
        return ""%s(name=%r, hp=%r, ac=%r, attacks=%r)"" % (
            self.__class__.__name__, self.name, self.hp, self.ac, self.attacks)

print yaml.load(""""""
--- !Monster
name: Cave spider
hp: [2,6]    # 2d6
ac: 16
attacks: [BITE, HURT]
"""""")
"
14024,67147,How to get the system wide list separator on Windows,"with open('example.csv', 'rb') as csvfile:

    #detect the delimiter used
    dialect = csv.Sniffer().sniff(csvfile.read(1024))

    #return to the beginning of the file
    csvfile.seek(0)

    #file should now open with the correct delimiter.
    reader = csv.reader(csvfile, dialect)
"
31049,18913,How to use ctypes.windll.Wininet.InternetQueryOptionW in python,"#-*- coding: utf-8 -*-
#!python

from ctypes import *
from ctypes.wintypes import *

# stick to unicode version
LPWSTR = POINTER(WCHAR)
HINTERNET = LPVOID

INTERNET_PER_CONN_FLAGS = 1
INTERNET_PER_CONN_AUTOCONFIG_URL = 4
INTERNET_PER_CONN_AUTODISCOVERY_FLAGS = 5
INTERNET_OPTION_REFRESH = 37
INTERNET_OPTION_SETTINGS_CHANGED = 39
INTERNET_OPTION_PER_CONNECTION_OPTION = 75

PROXY_TYPE_AUTO_PROXY_URL = 4

class INTERNET_PER_CONN_OPTION(Structure):
    class Value(Union):
        _fields_ = [
            ('dwValue', DWORD),
            ('pszValue', LPWSTR),
            ('ftValue', FILETIME),
        ]

    _fields_ = [
        ('dwOption', DWORD),
        ('Value', Value),
    ]

class INTERNET_PER_CONN_OPTION_LIST(Structure):
    _fields_ = [
        ('dwSize', DWORD),
        ('pszConnection', LPWSTR),
        ('dwOptionCount', DWORD),
        ('dwOptionError', DWORD),
        ('pOptions', POINTER(INTERNET_PER_CONN_OPTION)),
    ]

InternetSetOption = windll.wininet.InternetSetOptionW
InternetSetOption.argtypes = [HINTERNET, DWORD, LPVOID, DWORD]
InternetSetOption.restype  = BOOL

if __name__ == '__main__':
    proxy = create_unicode_buffer('http://127.0.0.1:8086/proxy.pac')
    List = INTERNET_PER_CONN_OPTION_LIST()
    Option = (INTERNET_PER_CONN_OPTION * 2)()
    nSize = c_ulong(sizeof(INTERNET_PER_CONN_OPTION_LIST))

    Option[0].dwOption = INTERNET_PER_CONN_AUTOCONFIG_URL
    Option[0].Value.pszValue = proxy
    Option[1].dwOption = INTERNET_PER_CONN_FLAGS
    Option[1].Value.dwValue = PROXY_TYPE_AUTO_PROXY_URL

    List.dwSize = sizeof(INTERNET_PER_CONN_OPTION_LIST)
    List.pszConnection = None
    List.dwOptionCount = 2
    List.dwOptionError = 0
    List.pOptions = Option

    assert InternetSetOption(None, INTERNET_OPTION_PER_CONNECTION_OPTION, byref(List), nSize) == True
    assert InternetSetOption(None, INTERNET_OPTION_SETTINGS_CHANGED, None, 0) == True
    assert InternetSetOption(None, INTERNET_OPTION_REFRESH, None, 0) == True
"
32076,75531,pyreadline configuration through script,"from readline import rl as readline
readline.mode.show_all_if_ambiguous(""on"")
"
12261,25605,Combining REST dispatcher with the default one in a single CherryPy app,"class Root(object):

    @cherrypy.expose
    def index(self):
        return 'Hello world'


class RestAPI(object):

    exposed = True

    def POST(self):
        return 'post'

    def GET(self):
        return 'get'


cherrypy.config.update({
    'global': {
        'environment': 'test_suite',
        'server.socket_host': '127.0.0.1',
        'server.socket_port': 8080,
    }
})

cherrypy.tree.mount(Root())

cherrypy.tree.mount(RestAPI(), '/api',
    {'/':
        {'request.dispatch': cherrypy.dispatch.MethodDispatcher()}
    }
)

cherrypy.engine.start()
cherrypy.engine.block()
"
30137,83375,Python: dict comprehensions: making a new dictionary with new values from old dictionary ids,"new_dict = { k: len(v) for k, v in old_dict.iteritems()}
"
29237,24049,How to replace value of variable within function in python 3,"def testfunc():
    ok = False
    while not ok:
        testvar = input('Select Option\n\n[1] Option 1\n[2] Option 2\n\n    >')
        if testvar in ('1', 'Option 1', 'option 1'):
            print(""\nYou selected Option 1"")
            ok = True
        elif testvar in ('2', 'Option 2', 'option 2'):
            print(""\nYou Selected Option 2"")
            ok = True
        else:
            print(""\n\nThat is not an option, please select another option"")

    print(testvar)

testfunc()
"
37136,81507,Iteration over dict in list,"data = [{u'name': u'xxx', u'age': u'11'}, {u'name': u'myname', u'age': u'2'}, {u'name': u'cat', u'age': u'8'}]
for obj in data:
    mydata.details.add(MyDetails.objects.create(name=obj['name']), age=obj['age'])
"
20757,47836,How to replace non-character surrounded string in python,"newArgs = re.sub(argVariable+r'=\S*', item, newArgs)
"
3891,29194,Python Pandas Dataframe update values efficently,"print df
   a  b  c
0  0  1  2
1  0  1  2
2  1  1  2
3  1  0  1
4  1  1  2
5  0  0  1

mean_value = df.mean(axis=1)
print mean_value
0    1.000000
1    1.000000
2    1.333333
3    0.666667
4    1.333333
5    0.333333

mask = df.ge(mean_value, axis=0)
print mask
       a      b     c
0  False   True  True
1  False   True  True
2  False  False  True
3   True  False  True
4  False  False  True
5  False  False  True
print df.mask(mask, 1)
   a  b  c
0  0  1  1
1  0  1  1
2  1  1  1
3  1  0  1
4  1  1  1
5  0  0  1
"
4110,72030,Departure_time on Google Maps Distance Matrix API (Web Service) WITH Business license,"query_args = { 'origins':'2097 Honeysuckle Lane Southwest, Atlanta, GA 30311, USA',
           'destinations':'67 Fitzgerald Street Southeast, Atlanta, GA 30312, USA',
           'client':client_id,
           'departure_time':calendar.timegm(time.gmtime())
     } 
"
39638,10462,How to make translucent sprites in pygame,"import pygame, os.path
from pygame.locals import *

class TranslucentSprite(pygame.sprite.Sprite):
  def __init__(self):
    pygame.sprite.Sprite.__init__(self, TranslucentSprite.container)
    self.image = pygame.image.load(os.path.join('data', 'image.bmp'))
    self.image = self.image.convert()
    self.image.set_colorkey(-1, RLEACCEL)
    self.rect = self.image.get_rect()
    self.rect.center = (320,240)

def main():
  pygame.init()
  screen = pygame.display.set_mode((640,480))
  background = pygame.Surface(screen.get_size())
  background = background.convert()
  background.fill((250,250,250))
  clock = pygame.time.Clock()
  transgroups = pygame.sprite.Group()
  TranslucentSprite.container = transgroups

  """"""Here's the Translucency Code""""""
  transsurface = pygame.display.set_mode(screen.get_size())
  transsurface = transsurface.convert(screen)
  transsurface.fill((255,0,255))
  transsurface.set_colorkey((255,0,255))
  transsurface.set_alpha(50)

  TranslucentSprite()
  while 1:
    clock.tick(60)
    for event in pygame.event.get():
      if event.type == QUIT:
        return
      elif event.type == KEYDOWN and event.key == K_ESCAPE:
        return
    transgroups.draw(transsurface)
    screen.blit(background,(0,0))
    screen.blit(transsurface,(0,0))
    pygame.display.flip()

if __name__ == '__main__' : main()
"
2877,53744,Is there a way to run 2to3 with pip install?,"setup(
    name='your.module',
    version = '1.0',
    description='This is your awesome module',
    author='You',
    author_email='your@email',
    package_dir = {'': 'src'},
    packages = ['your', 'your.module'],
    test_suite = 'your.module.tests',
    use_2to3 = True,
    convert_2to3_doctests = ['src/your/module/README.txt'],
    use_2to3_fixers = ['your.fixers'],
    use_2to3_exclude_fixers = ['lib2to3.fixes.fix_import'],
)
"
4296,20203,Python: print out all values of a complicated data structure (excluding hash keys),"d = {'tom':'stats', 'keys':[{'tim': 'doc', 'year': 1999},{'mum':'veg', 'nba':'qweqwe'}] }

def print_all_values(input):
    if isinstance(input, dict):
        for key, value in input.items():
            print_all_values(value)
    elif isinstance(input, list):
        for value in input:
            print_all_values(value)
    else:
        print(input)

print_all_values(d)
"
3985,61241,Python XML Remove Some Elements and Their Children but Keep Specific Elements and Their Children,"from lxml import etree as ET

def filter_by_itemid(doc, idlist):
    rowset = doc.xpath(""/api/result/rowset[@name='assets']"")[0]
    for elem in rowset.getchildren():
        if int(elem.get(""itemID"")) not in idlist:
            rowset.remove(elem)
    return doc

doc = ET.parse(""test.xml"")
filter_by_itemid(doc, [1004072840841])

print(ET.tostring(doc))
"
33428,45734,python string split,"commands = ['foo', 'bar', 'exit', 'hello world', 'add number']
"
5805,51335,How to compare all items in a list with an integer without using for loop,">>> lol = [[1,2,3],[4,40],[10,20,30]]
>>> 
>>> for l in lol:
...     if max(l) > 30:
...         continue
...     print l
... 
[1, 2, 3]
[10, 20, 30]
"
36986,23403,Define variables using a list of names,"def transform(model, **kwargs):
    for p in ('alpha', 'theta', ...):
        if 'p' not in kwargs and hasattr(model, p):
            kwargs[p] = getattr(model, p)
"
592,81043,Python & OpenCV: Second largest object,"import numpy as np
import cv2
im = cv2.imread('Photos/test.jpg')
im_ycrcb = cv2.cvtColor(im, cv2.COLOR_BGR2HSV)

ball_ycrcb_mint = np.array([0, 90, 100],np.uint8)
ball_ycrcb_maxt = np.array([25, 255, 255],np.uint8)
ball_ycrcb = cv2.inRange(im_ycrcb, ball_ycrcb_mint, ball_ycrcb_maxt)
#cv2.imwrite('Photos/output2.jpg', ball_ycrcb) # Second image
areaArray = []
count = 1

contours, _ = cv2.findContours(ball_ycrcb, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
for i, c in enumerate(contours):
    area = cv2.contourArea(c)
    areaArray.append(area)

#first sort the array by area
sorteddata = sorted(zip(areaArray, contours), key=lambda x: x[0], reverse=True)

#find the nth largest contour [n-1][1], in this case 2
secondlargestcontour = sorteddata[1][1]

#draw it
x, y, w, h = cv2.boundingRect(secondlargestcontour)
cv2.drawContours(im, secondlargestcontour, -1, (255, 0, 0), 2)
cv2.rectangle(im, (x, y), (x+w, y+h), (0,255,0), 2)
cv2.imwrite('Photos/output3.jpg', im)
"
17650,46074,python `print` does not work in loop,"import sys

def my_print(text):
    sys.stdout.write(str(text))
    sys.stdout.flush()
"
13022,51751,Read multiple times lines of the same file Python,"with open(name, 'r+') as file:
    for line in file:
        # Do Something with line
    file.seek(0)
    for line in file:
        # Do Something with line, second time
"
33680,40393,Increase resolution of figure for saving,"import matplotlib.pyplot as plt
plt.rcParams['savefig.dpi'] = 500
"
18887,9333,Generating string primary keys with sequence in SQLAlchemy,"class WorkPackage(Base):
    __tablename__ = 'work_package'
    int_id = Column(Integer, primary_key=True)
    wp_prefix = Column(Unicode, default=u'DIVISION_ABC_REQUEST_', primary_key=True)
    data = Column(Unicode)

    @hybrid_property
    def wp_id(self):
        return self.wp_prefix + str(self.int_id)

    @wp_id.expression
    def wp_id(cls):
        return cls.wp_prefix.concat(cls.int_id)
"
38444,79039,How to pass escaped string to shell script in Python,"pr = subprocess.Popen(['js2coffee'], 
                      stdin=subprocess.PIPE,  
                      stdout=subprocess.PIPE)
result, stderrdata = pr.communicate('var myNumber = 100;')
"
22395,34292,Get Path to Item on a TreeCtrl,"pieces = []
item = self.tree.GetSelection()

while self.tree.GetItemParent(item):
  piece = self.tree.GetItemText(item)
  pieces.insert(0, piece)
  item = self.tree.GetItemParent(item)
"
707,13567,google storage api put file problem in python,"        conn = httplib.HTTPConnection(""mustafa-yontar.commondatastorage.googleapis.com"")
        conn.set_debuglevel(2)
        f = open(filename,""r"")
        m = hashlib.md5()
        m.update(f.read())
        h = m.hexdigest()
        has = h
        dd = ""%s"" % datetime.datetime.utcnow().strftime(""%a, %d %b %Y %H:%M:%S GMT"")
        strToSign = ""PUT\n""+h+""\n\n""+dd+""\nx-goog-acl:public-read\n/mustafa-yontar/x.jpg""

        sig = base64.b64encode(hmac.new(self.secret, strToSign, hashlib.sha1).digest())
        total = os.path.getsize(filename)

        header = {""Date"":dd,""x-goog-acl"":""public-read"",""Content-MD5"":h,'Content-Length':total,'Authorization':""GOOG1 %s:%s"" % (self.key,sig)}

        conn.putrequest('PUT', ""/x.jpg"")
        for h in header:
            conn.putheader(h, header[h])
        conn.endheaders()
        bytess = open('x.jpg', 'rb').read()
        f = StringIO(bytess)
        f.seek(0)


        while True:
            bytes = f.read(1024)
            if not bytes: break

            length = len(bytes)
            conn.send('%X\r\n' % length)
            conn.send(bytes + '\r\n')
        conn.send('0\r\n\r\n')

        #errcode, errmsg, headers = conn.getresponse()
        #h.close()


        #conn.request(""PUT"",""/mustafa-yontar/x.jpg"",f.read(),header)
        r1 = conn.getresponse()
        print r1.status, r1.reason
        print r1.read()
        conn.close()
        print has
"
24336,23832,Iterator for both lists and dictonaries,"def parse_data:

    if isinstance(value, dict):
        iterator = value.items()
    elif isinstance(value, list):
        iterator = enumerate(value)
    else:
        return

    for key, item in iterator:
        parse_data(value, key, item)

    # do some cool stuff with the rest
"
13163,62846,Best way to find the most maximum sum of a range in array,"def largest(sequence):
    """"""
    This is based on Bentley's Programming Pearls chapter 8.
    My modification: if the sequence is all negatives
    then max is the largest element    
    """"""
    max_so_far = max_up_to_here = 0
    largest_element = sequence[0]
    all_negatives = True

    for element in sequence:
        max_up_to_here= max(max_up_to_here + element, 0)
        max_so_far = max(max_so_far, max_up_to_here)
        largest_element = max(largest_element, element)
        if element >= 0:
            all_negatives = False

    if all_negatives:
        return largest_element
    return max_so_far    
"
15535,69082,Python 3: Removing brackets from a list,"multiply = multiply.replace('[','').replace(']','')
"
12025,52498,Efficient way of checking similar possible inputs?,"valid = [""Yes"", ""yes"", ""y"", ""ok""]

if answer in valid:
    print ""You said yes""
else:
    print ""You did not say yes""
"
35322,47273,How to replace part of string via regex with saving part of pattern?,">>> s = ""chapter1 in chapters""
>>> re.sub(r'chapter(\d+)',r'chapter \1',s)
'chapter 1 in chapters'
"
23831,79804,Go back to a broken loop in python,"def first_loop():
    while True:
    if something:
        # do something
    else:
        break

# call loop for first time
first_loop()

while True:
    if something:
        #do something
    else:
        break

# return back to the loop
first_loop()
"
32686,34326,How to extract slug from URL with regular expression in Python?,">>> m = re.search('/([0-9]+)-', url)
>>> m.group(1) 
123456
"
18945,60667,determining repeated values in numpy array and adding them in another column python,"w = np.array([1, 3, 4, 5, 6, 2, 9, 2, 4, 2, 1, 3, 3, 6])
uvals, idx, counts = np.unique(w, return_counts=True, return_inverse=True)
out = np.vstack((w, counts[idx])).T

print(out)
# [[1 2]
#  [3 3]
#  [4 2]
#  [5 1]
#  [6 2]
#  [2 3]
#  [9 1]
#  [2 3]
#  [4 2]
#  [2 3]
#  [1 2]
#  [3 3]
#  [3 3]
#  [6 2]]
"
33539,132,Parsing output of svn list command - Cannot get attribute,"import os
import os.path
import sys
import lxml.etree

if len(sys.argv) == 2:
    in_filename = str(sys.argv[1])
    if os.path.isfile (in_filename):
        for ent in lxml.etree.parse (in_filename).iter ('entry'):
            get = ent.xpath
            if ent.get (""kind"") == ""file"":
                log_filename = get ('string(name)')
                log_revision = get('string(commit/@revision)') # Fixed ;)
                log_date = get ('string(commit/date)')
                print('{0},{1},{2}'.format(log_revision,log_date[:10],log_filename))
"
23055,68898,"In python, What does it mean if I assign a variable to a method?","In [2]: def foo():pass
   ...: 

In [3]: foo.bar=""text""

In [4]: foo.bar
Out[4]: 'text'
"
24293,55988,Using SHGetImageList : how to use HImageList?,"SHFILEINFO sfi;
SHGetFileInfo(L""c:\file.txt"", 0, &sfi, sizeof(sfi), 
              SHGFI_SYSICONINDEX);

HIMAGELIST hil;
SHGetImageList(SHIL_JUMBO, IID_IImageList, &hil);

ImageList_DrawEx(hil, sfi.iIcon, hdc, x, y, 0, 0, 
                 CLR_NONE, CLR_NONE, ILD_NORMAL);
"
39292,16893,Python How To Import And Use Module With One Line,"from urllib.request import urlopen; print(int(str(urllib.request.urlopen(""http://ir.eia.gov/ngs/wngsr.txt"").read()).split(""\\n"")[4].split("" "")[2]))
#              note the semi-colon ^
"
2392,84193,Python After 5:00pm,"if datetime.datetime.now().hour >= 17:
    pass
"
38692,19393,Using Python to Merge Single Line .dat Files into one .csv file,"import os

# this function splits the attribute=value into two lists
# the first list are all the attributes
# the second list are all the values
def getAttributesAndValues(line):
    attributes = []
    values = []

    # first we split the input over the &
    AtributeValues = line.split('&')
    for attrVal in AtributeValues:
        # we split the attribute=value over the '=' sign
        # the left part goes to split[0], the value goes to split[1]
        split = attrVal.split('=')
        attributes.append(split[0])
        values.append(split[1])

    # return the attributes list and values list
    return attributes,values

# test the function using the line beneath so you understand how it works
# line = ""Attribute1=Value&Attribute2=Value&Attribute3=Vale&AttibuteN=Value""
# print getAttributesAndValues(line)

# this function writes a single file to an output file
def writeToCsv(inFile='', wfile=""outFile.csv"", delim="",""):
    f_in = open(inFile, 'r')    # only reading the file
    f_out = open(wfile, 'ab+')  # file is opened for reading and appending

    # read the whole file line by line
    lines = f_in.readlines()

    # loop throug evert line in the file and write its values
    for line in lines:
        # let's check if the file is empty and write the headers then
        first_char = f_out.read(1)
        header, values = getAttributesAndValues(line)

        # we write the header only if the file is empty
        if not first_char:
            for attribute in header:
                f_out.write(attribute+delim)
            f_out.write(""\n"")

        # we write the values
        for value in values:
            f_out.write(value+delim)
        f_out.write(""\n"")

# Read all the files in the path (without dir pointer)
allInputFiles = os.listdir('input/')
allInputFiles = allInputFiles[1:]

# loop through all the files and write values to the csv file
for singleFile in allInputFiles:
    writeToCsv('input/'+singleFile)
"
34348,39518,wxPython: Show Frame while doing something in other thread,"def thread1():
     time.sleep(5)
     return True

def thread2(t1,gui):
    while thread.is_alive():
        pass
    print ""Fertig""
    wx.CallAfter(gui.ThreadDone)

class MyFrame(wx.Frame):
   def startThread(self):
      calcThread = threading.Thread(target=thread1)
      checkThread = threading.Thread(target=thread2, args=(calcThread,self))
   def ThreadDone(self):
       print ""Both threads done???""
       print ""Now modify gui from main thread(here!)""
"
33157,31479,Plot each number array element as a horizontal line,"some_array = [2, 4, 5, 8, 4, 3]
plt.hlines(some_array, 0, 1, colors=['b', 'g', 'r', 'y', 'c', 'm'])
plt.ylim(1, 9)
"
26673,84105,Calculations on Python lists?,"In [1]: arr = [[54.1757, 57.7807], [61.5786, 64.1535], [67.9584, 83.0], [104.4185, 120.377]]

In [2]: arr2 = [ ""{}:{}"".format(a, a-b) for a, b in arr ]

In [3]: arr2
Out[3]:
['54.1757:-3.605', '61.5786:-2.5749', '67.9584:-15.0416', '104.4185:-15.9585']
"
5340,15960,"Django Multiple Authentication Backend for one project, HOW?","AUTHENTICATION_BACKENDS = (
    'django.contrib.auth.backends.ModelBackend',
    'django_openid_auth.auth.OpenIDBackend',
    )
"
16299,42620,Python: How to avoid 'list assignment index out of range',"class MyList(list):

    def __getitem__(self, index):
        try:
            return super(MyList, self).__getitem__(index)
        except IndexError:
            return None

mylist = MyList([1,2,3,4,5])
print mylist[4] #prints 5
print mylist[6] is None #prints True
"
12535,76406,how to use dorpi5 or dop853 in python,"import numpy as np
import matplotlib.pyplot as plt
from scipy.integrate import ode


def fun(t, z, omega):
    """"""
    Right hand side of the differential equations
      dx/dt = -omega * y
      dy/dt = omega * x
    """"""
    x, y = z
    f = [-omega*y, omega*x]
    return f

# Create an `ode` instance to solve the system of differential
# equations defined by `fun`, and set the solver method to 'dop853'.
solver = ode(fun)
solver.set_integrator('dop853')

# Give the value of omega to the solver. This is passed to
# `fun` when the solver calls it.
omega = 2 * np.pi
solver.set_f_params(omega)

# Set the initial value z(0) = z0.
t0 = 0.0
z0 = [1, -0.25]
solver.set_initial_value(z0, t0)

# Create the array `t` of time values at which to compute
# the solution, and create an array to hold the solution.
# Put the initial value in the solution array.
t1 = 2.5
N = 75
t = np.linspace(t0, t1, N)
sol = np.empty((N, 2))
sol[0] = z0

# Repeatedly call the `integrate` method to advance the
# solution to time t[k], and save the solution in sol[k].
k = 1
while solver.successful() and solver.t < t1:
    solver.integrate(t[k])
    sol[k] = solver.y
    k += 1

# Plot the solution...
plt.plot(t, sol[:,0], label='x')
plt.plot(t, sol[:,1], label='y')
plt.xlabel('t')
plt.grid(True)
plt.legend()
plt.show()
"
16159,47034,Python: Override default SIGTERM handler,"shutdown_mode=False

def alarm_handler(signum, frame):
        sys.exit(0)

def sigterm_handler(signum):
     global shutdown_mode
     if not shutdown_mode:
            shutdown_mode=True
            signal.signal(signal.SIGALRM, alarm_handler)
            signal.alarm(10)
"
38369,62461,Undo `lazyload()` with the relationship default,"q = s.query(User)  # lazy loads 'addresses'
q = s.query(User).options(contains_eager('addresses'))  # eager loads
q = s.query(User).options(contains_eager('addresses'))\
        .options(lazyload('addresses'))  # lazy loads
q = s.query(User).options(contains_eager('addresses'))\
        .options(lazyload('addresses'))\
        .options(contains_eager('addresses'))  # eager loads
"
36009,27095,How to make a bounded map of queue in python?,"from functools import partial

d = defaultdict(partial(deque, maxlen=10))
"
11030,10210,File Uploads with Turbogears 2,"file.name = slugify(myfile.filename)
name, ext = os.path.splitext(file.name)
while os.path.exists(os.path.join(permanent_store, file.name)):
    name += '_'
    file.name = name + ext

raw_file = os.path.join(permanent_store, file.name)
"
36838,74974,Set row of csr_matrix,"def set_row_csr(A, row_idx, new_row):
    '''
    Replace a row in a CSR sparse matrix A.

    Parameters
    ----------
    A: csr_matrix
        Matrix to change
    row_idx: int
        index of the row to be changed
    new_row: np.array
        list of new values for the row of A

    Returns
    -------
    None (the matrix A is changed in place)

    Prerequisites
    -------------
    The row index shall be smaller than the number of rows in A
    The number of elements in new row must be equal to the number of rows in matrix A
    '''
    assert sparse.isspmatrix_csr(A), 'A shall be a csr_matrix'
    assert row_idx < A.shape[0], \
            'The row index ({0}) shall be smaller than the number of rows in A ({1})' \
            .format(row_idx, A.shape[0])
    try:
        N_elements_new_row = len(new_row)
    except TypeError:
        msg = 'Argument new_row shall be a list or numpy array, is now a {0}'\
        .format(type(new_row))
        raise AssertionError(msg)
    N_cols = A.shape[1]
    assert N_cols == N_elements_new_row, \
            'The number of elements in new row ({0}) must be equal to ' \
            'the number of rows in matrix A ({1})' \
            .format(N_elements_new_row, N_cols)

    idx_start_row = A.indptr[row_idx]
    idx_end_row = A.indptr[row_idx + 1]
    additional_nnz = N_cols - (idx_end_row - idx_start_row)

    A.data = np.r_[A.data[:idx_start_row], new_row, A.data[idx_end_row:]]
    A.indices = np.r_[A.indices[:idx_start_row], np.arange(N_cols), A.indices[idx_end_row:]]
    A.indptr = np.r_[A.indptr[:row_idx + 1], A.indptr[(row_idx + 1):] + additional_nnz]
"
18350,3305,Remove certain rows from dataframe based on index,"In [46]: df = pd.DataFrame(np.random.randn(4,2), index=pd.MultiIndex.from_arrays([['a', 'a', 'b', 'b'],[1,1,2,2]]))

In [47]: df
Out[47]:
            0         1
a 1  0.510701  0.534342
  1  0.229360 -1.403280
b 2 -0.218433  0.619108
  2 -0.679179 -0.195241

In [48]: df.drop([('a', 1)])
Out[48]:
            0         1
b 2 -0.218433  0.619108
  2 -0.679179 -0.195241
"
22678,7434,Python random N lines from large file (no duplicate lines),"#! /usr/bin/python
# coding: utf-8

import random, os


CHUNK_SIZE = 1000
PATH = ""/var/log/cron""

def pick_next_random_line(file, offset):
    file.seek(offset)
    chunk = file.read(CHUNK_SIZE)
    lines = chunk.split(os.linesep)
    # Make some provision in case yiou had not read at least one full line here
    line_offset = offset + len(os.linesep) + chunk.find(os.linesep) 
    return line_offset, lines[1]

def get_n_random_lines(path, n=5):
    lenght = os.stat(path).st_size
    results = []
    result_offsets = set()
    with open(path) as input:
        for x in range(n):
            while True:
                offset, line = pick_next_random_line(input, random.randint(0, lenght - CHUNK_SIZE))
                if not offset in result_offsets:
                    result_offsets.add(offset)
                    results.append(line)
                    break
    return results

if __name__ == ""__main__"":
    print get_n_random_lines(PATH)
"
13528,12051,Twisted: tcp server with push producer example?,"thedata = '''
Questa mattina
mi son svegliato
o bella ciao, bella ciao,
bella ciao, ciao, ciao
questa mattina
mi son svegliato
ho trovato l'invasor!
'''.splitlines(True)

class Push(protocol.Protocol):
    """"""This is just about the simplest possible protocol""""""
    def connectionMade(self):
        for line in thedata:
          if not line or line.isspace():
            continue
          self.transport.write(line)
          time.sleep(1.0)
        self.transport.loseConnection()
"
12307,62032,How to get the name of a function (plus its module) in Python?,"def get_fun(fn):
    return '.'.join([fn.__module__, fn.__name__])
"
4863,41447,Discern infinite value from array of floats,"if np.isfinite(pcov).all():
    print 'valid'
else:
    print 'invalid'
"
19860,54484,Cannot find element using Selenium find_element_by_partial_link_text,"from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC


driver = webdriver.Firefox()
driver.get(""http://www.chadbourne.com/search/people?az[b]=b"")

wait = WebDriverWait(driver, 20)

# get more results
more_results = wait.until(
    EC.element_to_be_clickable((By.CSS_SELECTOR, "".load-more-pager-wrapper .pager-next""))
)
more_results.click()
"
36484,32189,Split a string only by first space in python,">>> s = ""238 NEO Sports""
>>> s.split("" "", 1)
['238', 'NEO Sports']
"
12825,28515,Python: Open Outlook Email (.msg) file in read write mode,"  set Session = CreateObject(""Redemption.RDOSession"")
  set Msg = Session.GetMessageFromMsgFile(""C:\Users\abc.msg"")
  Msg.SentOn = #5/17/2016#
  Msg.Save
"
37000,37646,Matplotlib subplots_adjust hspace so titles and xlabels don't overlap?,"import matplotlib.pyplot as plt
import matplotlib.transforms as mtransforms
fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(range(10))
ax.set_yticks((2,5,7))
labels = ax.set_yticklabels(('really, really, really', 'long', 'labels'))

def on_draw(event):
   bboxes = []
   for label in labels:
       bbox = label.get_window_extent()
       # the figure transform goes from relative coords->pixels and we
       # want the inverse of that
       bboxi = bbox.inverse_transformed(fig.transFigure)
       bboxes.append(bboxi)

   # this is the bbox that bounds all the bboxes, again in relative
   # figure coords
   bbox = mtransforms.Bbox.union(bboxes)
   if fig.subplotpars.left < bbox.width:
       # we need to move it over
       fig.subplots_adjust(left=1.1*bbox.width) # pad a little
       fig.canvas.draw()
   return False

fig.canvas.mpl_connect('draw_event', on_draw)

plt.show()
"
3264,29964,How do I create an arbitrary theano tensor given a dtype and a shape?,"def arbitrary_tensor(dtype, shape, name=None):
    # create the type.
    var_type = theano.tensor.TensorType(
        dtype=dtype,
        broadcastable=[False]*len(shape))

    # create the variable from the type.
    return var_type(name)
"
32427,46373,TinyMCE replacing < with &lt;,"INSTALLED_APPS = (
...
'cms.plugins.snippet',
'cms.plugins.flash',
...
)
"
5636,65524,Python Mutagen: add cover photo/album art by url?,"fd = urllib.urlopen(cover)
# Drop the entire PIL part
covr = MP4Cover(fd.read(), getattr(
            MP4Cover,
            'FORMAT_PNG' if cover.endswith('png') else 'FORMAT_JPEG'
        ))
fd.close() # always a good thing to do

audio['covr'] = [covr] # make sure it's a list
audio.save()
"
16650,10069,How do I check for open transactions on a psycopg2 connection?,"SELECT * FROM pg_stat_activity WHERE state = 'idle in transaction';
"
8031,31152,Is there a cleaner way to iterate through all binary 4-tuples?,"itertools.product(range(2), repeat=4)
"
27051,67330,Convert a pandas dataframe in the form of a matrix into a table,"df = df.stack().reset_index()
df.columns = ['a','b','c']
print df
    a  b  c
0   A  P  0
1   A  Q  2
2   A  R  1
3   A  S  1
4   B  P  2
5   B  Q  0
6   B  R  1
7   B  S  1
8   C  P  1
9   C  Q  1
10  C  R  0
11  C  S  0
12  D  P  1
13  D  Q  1
14  D  R  0
15  D  S  0
"
11384,72232,Dictionary with classes?,"shapes = {'1':Square, '2':Circle, '3':Triangle} # just the class names in the dict

x = shapes[raw_input()]() # get class from dict, then call it to create a shape instance.
"
11645,8539,Python PDB set_trace not working,"python program.py 2>&1 | tee out.log
"
11329,1661,Readable names for python objects as dictionary keys,">>> class myClass(object):
...     def __init__(self,foo,bar):
...         self.foo = foo
...         self.bar = bar
...     def __repr__(self):
...         return 'myClass({0.foo},{0.bar})'.format(self)
... 
>>> item = myClass(1,2)
>>> item
myClass(1,2)
>>> myDict = {}
>>> myDict[item] = 10
>>> myDict
{myClass(1,2): 10}
"
16184,30785,Pandas date_range starting from the end date to start date,"from pandas.tseries.offsets import DateOffset

end = datetime.datetime(2018 , 6, 1)
start = datetime.datetime(2016 ,2, 8)
#Get the range of months to cover
months = (end.year - start.year)*12 + end.month - start.month
#The frequency of periods
period = 6 # in months

pd.DatetimeIndex([end - DateOffset(months=e) for e in range(0, months, period)][::-1]).insert(0, start)
"
21619,35184,RPi2 - Taking images while recording video,"import picamera

with picamera.PiCamera() as camera:
    camera.resolution = (800, 600)
    camera.start_preview()
    camera.start_recording('foo.h264')
    camera.wait_recording(10)
    camera.capture('foo.jpg', use_video_port=True)
    camera.wait_recording(10)
    camera.stop_recording()
"
14853,31052,How can I define custom validator in CKAN 2.2,"import ckan.plugins as plugins
import ckan.plugins.toolkit as tk  
from ckan.plugins.toolkit import Invalid

def date_str_validator(value, context):
    valid_date = tk.get_validator('isodate')(value, context)
    if not valid_date or not isinstance(valid_date, datetime.datetime):
        raise Invalid(""Invalid date"")
    return value

class MyPlugin(plugins.SingletonPlugin, tk.DefaultDatasetForm):

    plugins.implements(plugins.IDatasetForm, inherit=False)

    def _modify_package_schema(self, schema):
        schema.update({
            # Custom extras
            'origination_date':[tk.get_validator('ignore_missing'),
                                date_str_validator,
                                tk.get_converter('convert_to_extras')]
        })
        return schema

    def create_package_schema(self):
        schema = super(MyPlugin, self).create_package_schema()
        schema = self._modify_package_schema(schema)

        return schema

    def update_package_schema(self):
        schema = super(MyPlugin, self).update_package_schema()
        schema = self._modify_package_schema(schema)
        return schema

    def show_package_schema(self):
        schema = super(MyPlugin, self).show_package_schema()

        schema.update({
            # Custom extras
            'origination_date':[tk.get_converter('convert_from_extras'),
                                tk.get_validator('ignore_missing'),
                                date_str_validator]
        })

        return schema
"
38759,11446,matplotlib add legend from csv title row to line graph,"import matplotlib.pyplot as plt
import numpy as np

# Make dummy csv file for this example
from io import StringIO 
result_csv = StringIO(u""""""
xstuff, data1, data2, data3
0, 1, 2, 3
1, 1, 3, 4
2, 2, 1, 3
3, 1, 2, 5
"""""")

# Read in csv. Use names=True to also store column headers
per_data=np.genfromtxt(result_csv,delimiter=',',names=True)

# Loop over columns. Here I assume you have the x-data in the first column, so skip that one
for name in per_data.dtype.names[1:]:
    # Set the line's label to the column name
    plt.plot(per_data['xstuff'],per_data[name],label=name)

# Add a legend
plt.legend(loc=0)

plt.xlabel ('x stuff')
plt.ylabel ('y stuff')
plt.title('my test result')
plt.grid()
plt.show()
"
7216,46354,Subtract DataFrame rows from other's dataframe specific rows,"df[columns_to_sub] = df[columns_to_sub] - means.loc[df.absorb,columns_to_sub].values
>>> df
    absorb         a         b         c
0        2 -0.060540 -0.270233  0.416213
1        9  0.597084  0.136158  0.415023
2        1 -0.131393 -0.535288  0.158465
3        3  0.282902 -0.008801  0.872598
4        9 -0.236306 -0.337588  0.297589
5        6  0.000000  0.000000  0.283559
6        3  0.022021 -0.110693  0.671295
7        7  0.042000 -0.327157  0.736395
8        1  0.097912  0.119899  0.409241
9        1 -0.460052  0.280302  0.341200
10       1  0.002855 -0.013902  0.648113
11       1  0.490679  0.148989  0.626300
12       8  0.000000  0.000000  0.986039
13       3 -0.304923  0.119494  0.553210
14       0  0.000000  0.000000  0.626576
15       5  0.000000  0.000000  0.105102
16       2 -0.166760 -0.122624  0.750912
17       2  0.227300  0.392857  0.498822
18       7 -0.042000  0.327157  0.323361
19       9 -0.360778  0.201430  0.521043
"
2440,58712,How to do scheduled sending of email with django-mailer,"         for message in prioritize():
            if DontSendEntry.objects.has_address(message.to_address):
                logging.info(""skipping email to %s as on don't send list "" % message.to_address)
                MessageLog.objects.log(message, 2) # @@@ avoid using literal result code
                message.delete()
                dont_send += 1
            elif message.when_to_send > datetime.datetime.now():
                continue
            else:
                try:
                  ... the rest of your code ...
"
5293,9905,Downloading pdfs with python?,"import requests


links = ['link.pdf']
for link in links:
    book_name = link.split('/')[-1]
    with open(book_name, 'wb') as book:
        a = requests.get(link, stream=True)

        for block in a.iter_content(512):
            if not block:
                break

            book.write(block)
"
26560,79543,Large list generation optimization,"import re

r = re.compile(r""(\w+)\[(\d+)(?::(\d+))?\]"")

def expand_seq(seq):
    result = []
    for item in seq:
        m = r.match(item)
        name, start, end = m.group(1), int(m.group(2)), m.group(3)
        rng = xrange(start, int(end)) if end else (start,)
        t = name + ""[""
        result.extend(t + str(i) + ""]"" for i in rng)
    return result
"
32403,31672,Modifying Python dictionary keys,"new_dict = {my_mod(key): my_dict[key] for key in my_dict}
"
30320,36311,can I return data in python twisted's dataRecieved method,"from __future__ import print_function
from collections import deque
import threading
import time
from twisted.internet import reactor
from twisted.internet.protocol import Factory, Protocol

class MsgReceiver(Protocol):
    def __init__(self, myQueue):
        self.myQueue = myQueue

    def connectionMade(self):
        print(""Connection made!"")

    def dataReceived(self, msg):
        self.myQueue.append(msg)

class MsgReceiverFactory(Factory):
    def __init__(self, myQueue):
        self.myQueue = myQueue

    def buildProtocol(self, addr):
        return MsgReceiver(self.myQueue)

def showMessages(myQueue):
    while True:
        time.sleep(1)
        try:
            msg = myQueue.popleft()
            print(msg)
        except IndexError:
            print(""No messages in the queue"")

myQueue = deque()

factory = MsgReceiverFactory(myQueue)
p = threading.Thread(target=showMessages, args=(myQueue,))
p.daemon = True
p.start()

reactor.listenTCP(42000, factory)
reactor.run()
"
17834,60375,Python - direct a functions output to a set,"ones = []
pos = 0
while val:
   if val & 1:
      ones.append(pos)
   pos += 1
   val >>= 1
"
5410,55431,extract uuid from url,">>> import re
>>> data = """"""
... /posts/eb8c6d25-8784-4cdf-b016-4d8f6df64a62?mc_cid=37387dcb5f&mc_eid=787bbeceb2
... /posts/d78fa5da-4cbb-43b5-9fae-2b5c86f883cb/uid/7034
... /posts/5ff0021c-16cd-4f66-8881-ee28197ed1cf
... """"""
>>> 
>>> re.findall(r""/posts/([A-Za-z0-9\-]+)"", data)
['eb8c6d25-8784-4cdf-b016-4d8f6df64a62', 
 'd78fa5da-4cbb-43b5-9fae-2b5c86f883cb', 
 '5ff0021c-16cd-4f66-8881-ee28197ed1cf']
"
34860,24107,plotting categorical data on world map,"from mpl_toolkits.basemap import Basemap
import matplotlib.pyplot as plt
import numpy as np
import csv

mark_font=3
lats=lons=population=[]
filename = 'D:/22_sept_14/mvsf.csv'
with open(filename) as f:
    reader = csv.reader(f)
    for row in reader:
        lats.append(float(row[0]))
        lons.append(float(row[1]))
        population.append(float(row[2]))

m = Basemap(projection='robin', resolution = 'l', area_thresh = 10000.0,
              lat_0=0, lon_0=0)
m.drawcoastlines()
m.drawcountries()
m.fillcontinents(color = 'gray')
m.drawmapboundary(fill_color='aqua')
m.drawmeridians(np.arange(0, 360, 30))
m.drawparallels(np.arange(-90, 90, 30))
# fill continents, set lake color same as ocean color.
# draw parallels and meridians.
# label parallels on right and top
# meridians on bottom and left
parallels = np.arange(0.,81,10.)
# labels = [left,right,top,bottom]
m.drawparallels(parallels,labels=[False,True,True,False])
meridians = np.arange(10.,351.,20.)
m.drawmeridians(meridians,labels=[True,False,False,True])
# plot blue dot on Boulder, colorado and label it as such.
lon, lat = -100.237, 49.125 # Location of Boulder
# convert to map projection coords.
# Note that lon,lat can be scalars, lists or numpy arrays.
xpt,ypt = m(lon,lat)
# convert back to lat/lon
lonpt, latpt = m(xpt,ypt,inverse=True)
m.plot(xpt,ypt,'go',markersize=17*mark_font,alpha=.8)  # plot a blue dot there
# put some text next to the dot, offset a little bit
# (the offset is in map projection coordinates)
plt.text(xpt,ypt,'17%' , fontsize=17,color='w')


lon, lat = -104.237, 40.125 # Location of Boulder
# convert to map projection coords.
# Note that lon,lat can be scalars, lists or numpy arrays.
xpt,ypt = m(lon,lat)
# convert back to lat/lon
lonpt, latpt = m(xpt,ypt,inverse=True)
m.plot(xpt,ypt,'ro',markersize=16*mark_font,alpha=.8)  # plot a blue dot there
# put some text next to the dot, offset a little bit
# (the offset is in map projection coordinates)
plt.text(xpt,ypt,'16%' , fontsize=16,color='w')

plt.show()
"
2930,3583,Python Multiprocessing a for loop,"from multiprocessing import Pool

def process_image(name):
    sci=fits.open('{}.fits'.format(name))
    <process>

if __name__ == '__main__':
    pool = Pool(processes=4)              # process per core
    pool.map(process_image, data_inputs)  # proces data_inputs iterable with pool
"
3753,49123,How to tell which FloatSpin is firing the EVT_FLOATSPIN event in wxPython?,"firstFS = FS.FloatSpin(self, -1, min_val=0, max_val=None, increment=1, value=1, agwStyle=FS.FS_RIGHT)
firstFS.SetName('firstFS')  # for example
secondFS = FS.FloatSpin(self, -1, min_val=0, max_val=None, increment=1, value=1, agwStyle=FS.FS_RIGHT)
secondFS.SetName('secondFS')  # for example

self.Bind(FS.EVT_FLOATSPIN, self.OnFloatSpin)

def OnFloatSpin(self, event):
    floatspin = event.GetEventObject()
    floatspinID = event.GetId()  # grab the widgets id that is firing the event
    '''OR'''
    floatspinName = event.GetEventObject().GetName()  # grab the widget name
"
39125,69076,python check unique id in file and count,"from collections import defaultdict
counts = defaultdict(int)
with open(""file.txt"") as f:
    for line in f:
        id, content = line.split(""\\t"")
        if ""$"" in content:
            counts[id] += 1
"
2452,85292,How to only print lines with unique fields?,"sort input-file.txt | uniq -u -w 3
"
1527,76245,update the value in set Python?,">>> x = {}
>>> x['A1760ulorenaf0821x151031175821564'] = [1, 0]
>>> x['A1760ulorenaf0821x151031175821564'][1] += 1  # increment the second element.
>>> x
{'A1760ulorenaf0821x151031175821564': [1, 1]}
"
15693,26178,Bizarre looping in python?,"from random import randint;

class MatterEnergyData:
    def __init__(self, inputMatter, inputEnergy, resultMatter, resultEnergy):
        self.inputMatter = inputMatter
        self.inputEnergy = inputEnergy
        self.resultMatter = resultMatter
        self.resultEnergy = resultEnergy

    def __str__(self):
        return ""Result matter: %s\r\nResult energy: %s"" % \ 
            self.resultMatter, self.resultEnergy

class simpleAI:
    matterEnergyDataPoints = []

    def cycle(self):
        inputMatter = int(input(""Matter: ""))
        inputEnergy = int(input(""Energy: ""))
        resultObj = None
        for obj in self.matterEnergyDataPoints:
            if obj.inputEnergy == inputEnergy and obj.inputMatter == inputMatter:
                print(""Found positive pair from memory"")
                resultObj = obj
                break

        if resultObj == None:
            print(""Creating new pair..."")
            resultObj = MatterEnergyData(inputMatter, inputEnergy, randint(0, 256), randint(0, 256))
            self.matterEnergyDataPoints.append(resultObj)

        print resultObj
"
15668,60591,Finding a key in a dictionary without knowing its full name,"for k,v in d.iteritems():
    if k.startswith('ev'):
        result = v
        break
else:
    raise KeyError()  # or set to default value
"
22644,20960,csvjoin on multiple columns,"import pandas as pd

data = pd.read_csv(""test_rand.csv"")
fare = pd.read_csv(""test_fare.csv"")

merged = pd.merge(data, fare, how='left', on=['medallion', 'hack_license', 'pickup_datetime'])
merged.to_csv(""merged.csv"", index=False)
"
27374,53794,Spider for parsing JSON in scrapy,"jsonresponse = json.loads(response.body_as_unicode())
"
3770,79621,Python scripts that depend on binaries... how to distribute?,"data_files=[(""/usr/local/bin"", glob(""bin/*""))], ...
"
11307,11290,"Grepping through logs to get user, path","grep -P '^(?=.*\bdavid@gmail\.com\b)(?=.*/api/upitem/)' ./file.log
"
32120,60977,How for loop works in python?,"lists = [[7, 6, 1, 8, 3],
[1, 7, 2, 4, 2],
[5, 6, 4, 2, 3],
[0, 3, 3, 1, 6],
[3, 5, 2, 14, 3],
[3, 11, 9, 1, 1],
[1, 10, 2, 3, 1]]

for i in range(0, len(lists[1])):
    for j in range(0, len(lists)):
        print lists[j][i],
    print ""\n""
"
33296,82495,Creating a database from a .csv file,"import csv
from collections import defaultdict

db = defaultdict(list)
with open('csvfile.csv') as f:
     csvreader = csv.reader(f)
     for row in csvreader:
         db[row[0]].append((row[1], row[4], row[5], row[6]))

return db
"
5732,53725,python string join performance,"s1='*'*100000
s2='+'*100000
"
20812,17262,"subprocess, Popen to run command in a module","name = os.path.join(os.path.dirname(__file__) or  ""."", ""binary_file.out"")
subprocess.Popen(name)
"
25705,52897,Can not extend django bootstrapped module,"TEMPLATE_DIRS = (
os.path.join(BASE_DIR,  'templates'),
"
27251,49010,Sending HTTP GET request using urllib,"urllib.urlopen('http://localhost:8082/v3/nodes?{}'.format(query))
"
34155,21570,Scale python kivy line,"from kivy.core.window import Window
with self.canvas:
    self.translate = Translate(Window.width / 2, Window.height / 2.)
"
15881,66114,Python: Dumping Database Data with Peewee,"for field in User._meta.get_sorted_fields():
    print field.name
"
38132,3306,Can't disable example app on Web2Py,"raise HTTP(503, '<html><body>Down for maintenance</body></html>')
"
8163,50376,Javascript with Selenium,"from selenium import webdriver

browser = webdriver.Chrome() # Get local session of Chrome
browser.get(""http://www.somepage.com"") # Load page

elem = browser.find_element_by_id(""show_links"") # Find javascript button
elem.click() # Click on the button that 'populates the div'
"
9492,3662,How to input an integer tuple from user?,"tuple(int(x.strip()) for x in raw_input().split(','))
"
7223,48018,How to get all combinations of 1 to n lists of lists in Python,"lst = [['a', 'b', 'c'], [1, 2, 3], ['x', 'y']]
result = []  # collect your products

# n sublists: iterate over all 'sub_lengthes'
for length in xrange(1, len(lst)+1):
    # iterate over all possible combinations of sublists
    for c in itertools.combinations(lst, length):
        # iterate over all products for each combination
        for res in itertools.product(*c):
            result.append(res)

print(result)

>>> result
# 3 + 3 + 2 = 8 singletons 
[('a',), ('b',), ('c',), (1,), (2,), (3,), ('x',), ('y',), 
# 3*3 + 3*2 + 3*2 = 21 pairs
('a', 1), ('a', 2), ('a', 3), ('b', 1), ('b', 2), ('b', 3), ('c', 1), ('c', 2), ('c', 3), 
('a', 'x'), ('a', 'y'), ('b', 'x'), ('b', 'y'), ('c', 'x'), ('c', 'y'),
(1, 'x'), (1, 'y'), (2, 'x'), (2, 'y'), (3, 'x'), (3, 'y'), 
# 3*3*2 = 18 triplets
('a', 1, 'x'), ('a', 1, 'y'), ('a', 2, 'x'), ('a', 2, 'y'), ('a', 3, 'x'), ('a', 3, 'y'), ('b', 1, 'x'), ('b', 1, 'y'), ('b', 2, 'x'), ('b', 2, 'y'), ('b', 3, 'x'), ('b', 3, 'y'), ('c', 1, 'x'), ('c', 1, 'y'), ('c', 2, 'x'), ('c', 2, 'y'), ('c', 3, 'x'), ('c', 3, 'y')]
"
5806,34038,Elegant pythonic solution for a simple loop,"[foo.bar for foo in foos]
"
18722,20515,Combine multiple filters in RethinkDB and merge results from each filter with a ranking field," (r.expr(list_)
   .concatMap(lambda filts_rank:
      r.table(...)
       .has_fields(r.args(filts_rank[0]))
       .merge({'ranking': filts_rank[1]}))
 ).run(...)
"
21256,25471,Very slow interpolation using `scipy.interpolate.griddata`,"import cv2
new_data = data.T[::-1]

# calculate the pixel coordinates of the
# computational domain corners in the data array
w,e,s,n = map_extent
dx = float(e-w)/new_data.shape[1]
dy = float(n-s)/new_data.shape[0]
x = (lon.ravel()-w)/dx
y = (n-lat.ravel())/dy

computational_domain_corners = np.float32(zip(x,y))

data_array_corners = np.float32([[0,new_data.shape[0]],
                                 [0,0],
                                 [new_data.shape[1],new_data.shape[0]],
                                 [new_data.shape[1],0]])

# Compute the transformation matrix which places
# the corners of the data array at the corners of
# the computational domain in data array pixel coordinates
tranformation_matrix = cv2.getPerspectiveTransform(data_array_corners,
                                                   computational_domain_corners)

# Make the transformation making the final array the same shape
# as the data array, cubic interpolate the data placing NaN's
# outside the new array geometry
mapped_data = cv2.warpPerspective(new_data,tranformation_matrix,
                                  (new_data.shape[1],new_data.shape[0]),
                                  flags=2,
                                  borderMode=0,
                                  borderValue=np.nan)
"
3924,24203,SettingWithCopyWarning in pandas: how to set the first value in a column?,"In [102]:

df = pd.DataFrame({'detect':np.random.randn(5), 'event':np.arange(5)})
df
Out[102]:
     detect  event
0 -0.815105      0
1 -0.656923      1
2 -1.417722      2
3  0.210070      3
4  0.211728      4
In [103]:

df.ix[0,'detect'] = df.ix[0,'event']
df
Out[103]:
     detect  event
0  0.000000      0
1 -0.656923      1
2 -1.417722      2
3  0.210070      3
4  0.211728      4
"
11792,46761,Why is OrderedDict() ~10x slower than dict() and list()?,"def __setitem__(self, key, value, dict_setitem=dict.__setitem__):
    'od.__setitem__(i, y) <==> od[i]=y'
    # Setting a new item creates a new link at the end of the linked list,
    # and the inherited dictionary is updated with the new key/value pair.
    if key not in self:
        root = self.__root
        last = root[0]
        last[1] = root[0] = self.__map[key] = [last, root, key]
    return dict_setitem(self, key, value)
"
3974,1812,Adding new values to a filtered pandas DataFrame,">>> cmap = dict(zip(df.prime.unique(), colors))
>>> cmap
{23: 'Purple', 2: 'DarkOrange', 3: 'DeepSkyBlue', 7: 'Yellow'}
>>> df[""color""] = df[""prime""].replace(cmap)
>>> df
   prime        color
0      2   DarkOrange
1      2   DarkOrange
2      2   DarkOrange
3      3  DeepSkyBlue
4      7       Yellow
5      7       Yellow
6     23       Purple
"
30525,6804,Python Socket - Send/Receive messages at the same time,"def recv():
    while True:
         data = s.recv(1024)
         if not data: sys.exit(0)
         print data

Thread(target=recv).start()
"
10748,82037,Python - extracting a SQL Server database schema to a file,"select *
from sys.tables

select *
from sys.all_columns

select *
from sys.views

select *
from sys.syscomments
"
20980,64594,Python/Tkinter make a custom window,"def main():
    root = Tk()
    root.overrideredirect(1)
    root.geometry('500x250+500+200')
    app = Application(root)
    app.parent.configure(background = 'gray32')
    root.resizable(width=FALSE, height=FALSE)
    app.mainloop()
"
4103,37667,exiting a running command in python,"from subprocess import Popen
p = Popen(['/full/path/to/ppshelper', '-sms', '15062929382','warning'])
p.terminate()
"
36958,29740,How to take a python list index containing multiple strings and split it,">>> l = [(1, 2, 3, 4, 5)]
>>> [item for tup in l for item in tup]
[1, 2, 3, 4, 5]
"
23090,67157,How to count words (and also those with accents !) in a text file in Python?,"text = u'étourdi, etourdi, étourdi, préchauffer'
words = re.findall(r'\w+', text, re.U)
cap_words = [unidecode.unidecode(word).upper() for word in words]
"
19019,17566,PNG optimisation tools,"  pngcrush -rem gAMA -rem cHRM -rem iCCP -rem sRGB -brute -l 9 -max -reduce -m 0 -q IMAGE
  optipng -o7 -q pngout.png
  pngout pngout.png -q -y -k0 -s0
  advpng -z -4 pngout.png > /dev/null
"
36273,63211,Create Class Implicitly In Python,"from collections import namedtuple
MyType= namedtuple(""MyType"", ""field1 method1"")
x = MyType(field1=""3"", method1=lambda x: x+1)
print x.field1, x.method1(3)
"
12249,44463,Python: How to pass list as a parameter to a function?,"In [3]: def importCSVtoTable(file, table, columns):
   ...:     # 'mock' data to simulate a reader
   ...:     reader = [{'SEGMENT': 2, 'Comp 1': 'dogs'}, {'Comp 2': 'cats', 'OTHERTHING': 4}
   ...:     print [[row[label] for label in columns if label in row] for row in reader]
   ...:

In [4]: importCSVtoTable(None, None, ['SEGMENT', 'Comp 1'])
[[2, 'dogs'], []]

In [5]: importCSVtoTable(None, None, ['SEGMENT', 'Comp 1', 'Comp 2'])
[[2, 'dogs'], ['cats']]
"
24627,41187,Import XML dictionary in Python,"pl = readPlist(pathOrFile)
print(pl[""1""])
"
1174,11006,Convert 'yyyy-mm-dd' string to 3-tuple datetime objects in python 2.7,"from datetime import datetime

dates = ['2014-01-01', '2014-03-07']
date_objects = [datetime.strptime(date, '%Y-%m-%d').date()
                     for date in dates]
"
6535,14129,Drawing multiple Images to a tiff file in python,"import Image

images = ['image.jpg','image.jpg','image.jpg','image.jpg','image.jpg','image.jpg','image.jpg']

hsize = min(5,len(images))
vsize = (len(images)/5) + 1

print hsize,vsize

vspace = 10
hspace = 10

(h,w) = Image.open(images[0]).size

im = Image.new('RGB',((hsize*(h+hspace)),(vsize*(w+vspace)) ))

for i,filename in enumerate(images):
    imin = Image.open(filename).convert('RGB')
    xpos = i % hsize
    ypos = i / hsize
    print xpos,ypos
    im.paste(imin,(xpos*(h+hspace),ypos*(w+vspace)))
im.save('output.jpg')
"
24300,70405,How to get second matched object while using .find method in Python,"title2 = planTitle.findAll(""h3"")[1]
"
37089,14111,Comparing output to a list/array,"import dns.resolver
domain = 'bbc.co.uk'
results = []
for x in dns.resolver.query(domain,'MX',):
    results.append(x.to_text().split(' ')[1])
print results

>>> ['cluster1.eu.messagelabs.com.', 'cluster1a.eu.messagelabs.com.']
"
29846,29878,The correct use of a python decorator,"from functools import wraps


def yourdecorator(func):
    @wraps(func):
    def wrapper(*args, **kw):
        result = func(*args, **kw)
        if result in certain_values:
            adjust_other_configuration()
        return result
    return wrapper
"
26063,64695,Relational condition check in Django Rest Framework,"class WorkloadPutSerializer(serializers.Serializer):

    vdi = VdiSerializer(required = False)
    db = DbSerializer(required = False)
    pk = serializers.IntegerField(read_only=True)

    def validate(self, data):
        """"""
        Check if at least one of data['vdi'] or data['vm']
        exists and then return the data. Otherwise raise 
        ValidationError. 
        """"""
        if data['vdi'] or data['vm']:
            return data
        else:
            raise serializers.ValidationError(""No No No"")
"
27385,78456,SQL Alchemy Closure Table Relationship Definition,"areas = relationship('DbArea',
    backref = backref('routes', order_by = 'DbRoute.name'),
    secondary = area_relationship_table,
    primaryjoin = area_id == area_relationship_table.c.descendent,
    secondaryjoin = DbArea.area_id == area_relationship_table.c.ancestor,
    innerjoin = True, order_by = DbArea.name,
    foreign_keys =
       [area_relationship_table.c.ancestor,
            area_relationship_table.c.descendent]) 
"
31885,57676,How can I remove all trailing dashes from a string?,"string1.rstrip(""-"")
# ""title""
string2.rstrip(""-"")
# ""title""
string3.rstrip(""-"")
# ""title-is-a-title""
"
35808,13897,int variable increment from function,"Choice1 = input("" Pick up the box or leave it alone? (p or l): "").lower()
RepGain(Choice1)
print(Advent, curAdvRep)


# Function for gain 
def RepGain (Choice):
    global curAdvRep
    global curCrmRep
    global Advent
    global Crimson

    if Choice in PathSelDict:
        if Choice == 'p':
            print('Reputation Gain\nAdvent + 100')
            curAdvRep += 100
            return curAdvRep
        elif Choice == 'l':
            print('Crimson + 100')
            curCrmRep += 100
            return curCrmRep 
        else:
            print(Dismiss)
            sys.exit(0)

Output:
Reputation Gain
Advent + 100
Advent of Chaos reputation: 100
"
23198,59877,csv output is incomplete," with open(""output.csv"", ""w"") as f:
     w = csv.writer(f)
"
33850,80682,Installing packages from local source,"pip install modulename --download ~/folder_to_store_downloads
"
7800,33603,Calculate frequency of function words,"''' Returns frequency of function words '''
def get_func_word_freq(words,funct_words):
    fdist = nltk.FreqDist([funct_word for funct_word in funct_words if funct_word in words]) 
    funct_freq = {}    
    for key,value in fdist.iteritems():
        funct_freq[key] = value
    return funct_freq

''' Read LIWC 2007 English dictionary and extract function words '''
def load_liwc_funct():
    funct_words = set()
    data_file = open(liwc_dict_file, 'rb')
    lines = data_file.readlines()
    for line in lines:
        row = line.rstrip().split(""\t"")
        if '1' in row:
            if row[0][-1:] == '*' :
                funct_words.add(row[0][:-1])
            else :
                funct_words.add(row[0])
    return list(funct_words)
"
16617,42656,Quick way to reject a list in Python,"if any(isInvalid(x) for x in myList):
   #reject
"
25022,3669,How to use python to ETL between databases?,"sql_insert = 'INSERT INTO ""tempHoods"" (nbhd_id, nbhd_name, typology, notes, geom) values '
sql_values = ['(%s, %s, %s, %s, %s)']


data_values = []
# you can make this larger if you want
# ...try experimenting to see what works best
batch_size = 100 
sql_stmt = sql_insert + ','.join(sql_values*batch_size) + ';'
for i, row in enumerate(rows, 1):
    data_values += row[:5]
    if i % batch_size == 0:
        curQa.execute (sql_stmt , data_values )
        data_values = []
if (i % batch_size != 0):
    sql_stmt = sql_insert + ','.join(sql_values*(i % batch_size)) + ';'
    curQa.execute (sql_stmt , data_values )
"
28104,32423,Python initializing a memoizing decorator with settings,"class DecoratorFactory(object):
    def __init__(self, value):
        self._value = value

    def decorator(self, function):
        def wrapper(*args, **kwargs):
            print(self._value)
            return function(*args, **kwargs)
        return wrapper

factory = DecoratorFactory(""shared between all decorators"")

@factory.decorator
def dummy1():
    print(""dummy1"")

@factory.decorator    
def dummy2():
    print(""dummy2"")

# prints:
# shared between all decorators
# dummy1
dummy1()

# prints:
# shared between all decorators
# dummy2
dummy2()
"
5471,59465,Python TimeDelta Add Day to Supplied Argument,"import datetime
...
date=time.strptime(argv[1], ""%y-%m-%d"");
newdate=date + datetime.timedelta(days=1)
"
4771,70211,kivy spinner widget with multiple selection,"from kivy.base import runTouchApp
from kivy.lang import Builder
from kivy.factory import Factory
from kivy.properties import ListProperty, ObjectProperty
from kivy.uix.dropdown import DropDown
from kivy.uix.button import Button

class MultiSelectSpinner(Button):
    """"""Widget allowing to select multiple text options.""""""

    dropdown = ObjectProperty(None)
    """"""(internal) DropDown used with MultiSelectSpinner.""""""

    values = ListProperty([])
    """"""Values to choose from.""""""

    selected_values = ListProperty([])
    """"""List of values selected by the user.""""""

    def __init__(self, **kwargs):
        self.bind(dropdown=self.update_dropdown)
        self.bind(values=self.update_dropdown)
        super(MultiSelectSpinner, self).__init__(**kwargs)
        self.bind(on_release=self.toggle_dropdown)

    def toggle_dropdown(self, *args):
        if self.dropdown.parent:
            self.dropdown.dismiss()
        else:
            self.dropdown.open(self)

    def update_dropdown(self, *args):
        if not self.dropdown:
            self.dropdown = DropDown()
        values = self.values
        if values:
            if self.dropdown.children:
                self.dropdown.clear_widgets()
            for value in values:
                b = Factory.MultiSelectOption(text=value)
                b.bind(state=self.select_value)
                self.dropdown.add_widget(b)

    def select_value(self, instance, value):
        if value == 'down':
            if instance.text not in self.selected_values:
                self.selected_values.append(instance.text)
        else:
            if instance.text in self.selected_values:
                self.selected_values.remove(instance.text)

    def on_selected_values(self, instance, value):
        if value:
            self.text = ', '.join(value)
        else:
            self.text = ''


kv = '''
BoxLayout:
    orientation: 'vertical'

    BoxLayout:

        Label:
            text: 'Select city'

        MultiSelectSpinner:
            id: city
            values: 'Sydney', 'Moscow', 'Warsaw', 'New York', 'Tokio'

    BoxLayout:

        Label:
            text: 'Select your favorite food'

        MultiSelectSpinner:
            id: food
            values: 'Fish and chips', 'Hot-dog', 'Hamburger'

    Label:
        text: 'You selected {} cities and {} as your favourite food.'.format(city.text, food.text)

<MultiSelectOption@ToggleButton>:
    size_hint: 1, None
    height: '48dp'

'''

runTouchApp(Builder.load_string(kv))
"
38138,73730,How to scrolling QGraphicsScene in QGraphicsView by middle mouse?,"class MyView(QtGui.QGraphicsView):
    def mousePressEvent(self, event):
        if event.button() == Qt.MidButton:
            self.__prevMousePos = event.pos()
        else:
            super(MyView, self).mousePressEvent(event)

    def mouseMoveEvent(self, event):
        if event.buttons() == Qt.MidButton:
            offset = self.__prevMousePos - event.pos()
            self.__prevMousePos = event.pos()

            self.verticalScrollBar().setValue(self.verticalScrollBar().value() + offset.y())
            self.horizontalScrollBar().setValue(self.horizontalScrollBar().value() + offset.x())
        else:
            super(MyView, self).mouseMoveEvent(event)
"
30385,72657,How to capture characters and newlines from serial and print to file in Python,"if re.match(""[A-Za-z0-9,.$:<>&=-]|\n"", char):
"
7011,38416,Create columns based on sequent row values in Pandas,"In [17]:
g = np.cumsum(df.iloc[: , 0] == 'name')

In [15]:
df.groupby(g).apply(lambda x : pd.DataFrame(x.set_index([0]).T , columns=['name' , 'gender' , 'year' , 'country' , 'city']) )
Out[15]:
        name    gender  year   country  city
0                       
1   1   Jack    M      1993    USA      Odessa
2   1   John    M      1992    NaN      NaN
3   1   Sam    NaN      NaN    Canada   Toronto
"
1684,34180,Python GAE urlfetch credentials,"result = urlfetch.fetch(""http://www.domain.com/"",
                        headers={""Authorization"": 
                                 ""Basic %s"" % base64.b64encode(""username:password"")})
"
14833,81290,Fast/Optimize N-gram implementations in python,"import timeit
from itertools import tee, izip, islice

def isplit(source, sep):
    sepsize = len(sep)
    start = 0
    while True:
        idx = source.find(sep, start)
        if idx == -1:
            yield source[start:]
            return
        yield source[start:idx]
        start = idx + sepsize

def pairwise(iterable, n=2):
    return izip(*(islice(it, pos, None) for pos, it in enumerate(tee(iterable, n))))

def zipngram(text, n=2):
    return zip(*[text.split()[i:] for i in range(n)])

def zipngram2(text, n=2):
    words = text.split()
    return pairwise(words, n)


def zipngram3(text, n=2):
    words = text.split()
    return zip(*[words[i:] for i in range(n)])

def zipngram4(text, n=2):
    words = isplit(text, ' ')
    return pairwise(words, n)


s = ""Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.""
s = s * 10 ** 3

res = []
for n in range(15):

    a = timeit.timeit('zipngram(s, n)', 'from __main__ import zipngram, s, n', number=100)
    b = timeit.timeit('list(zipngram2(s, n))', 'from __main__ import zipngram2, s, n', number=100)
    c = timeit.timeit('zipngram3(s, n)', 'from __main__ import zipngram3, s, n', number=100)
    d = timeit.timeit('list(zipngram4(s, n))', 'from __main__ import zipngram4, s, n', number=100)

    res.append((a, b, c, d))

a, b, c, d = zip(*res)

import matplotlib.pyplot as plt

plt.plot(a, label=""zipngram"")
plt.plot(b, label=""zipngram2"")
plt.plot(c, label=""zipngram3"")
plt.plot(d, label=""zipngram4"")
plt.legend(loc=0)
plt.show()
"
29340,59078,How to measure download speed and progress using requests?,"import requests
import sys
import time

def downloadFile(url, directory) :
  localFilename = url.split('/')[-1]
  with open(directory + '/' + localFilename, 'wb') as f:
    start = time.clock()
    r = requests.get(url, stream=True)
    total_length = r.headers.get('content-length')
    dl = 0
    if total_length is None: # no content length header
      f.write(r.content)
    else:
      for chunk in r.iter_content(1024):
        dl += len(chunk)
        f.write(chunk)
        done = int(50 * dl / total_length)
        sys.stdout.write(""\r[%s%s] %s bps"" % ('=' * done, ' ' * (50-done), dl//(time.clock() - start)))
        print ''
  return (time.clock() - start)

def main() :
  if len(sys.argv) > 1 :
        url = sys.argv[1]
  else :
        url = raw_input(""Enter the URL : "")
  directory = raw_input(""Where would you want to save the file ?"")

  time_elapsed = downloadFile(url, directory)
  print ""Download complete...""
  print ""Time Elapsed: "" + time_elapsed


if __name__ == ""__main__"" :
  main()
"
22287,14019,Humanizing django-tables2 output?,"from django.contrib.humanize.templatetags.humanize import intcomma

class ProductMaxIPPortEldCountMonthlyTable(tables.Table):                      
    ip_count = tables.Column()

    def render_ip_count(self, value):
        return intcomma(value)
"
39267,32813,regular expression search in python,"import re
string = ""blabla Oxygen:      10.10 blabla""
regex_oxygen = re.compile('''Oxygen:\W+([0-9.]*)''')
result = re.findall(regex_oxygen,string)
print result
"
35476,19637,Create SQL query for the following tables," SELECT * FROM Table1 AS t1 
    JOIN table3 as t3 ON t1.ID_table1 = t3.ID_table1
    JOIN table2 as t2 ON t1.ID_table1 = t2.ID_table1
    JOIN table4 as t4 ON t2.ID_table2 = t4.ID_table2
"
29176,37753,quotes within a string,"f = r""""""awk -F""\t"" '{print$5"" ""$6"" ""$7}' file.txt | sort | uniq -c""""""
"
9239,69864,How to do a custom insert inside a python-eve app,"def telnet_service(resource, documents):
    """""" 
        fetch data from telnet device;
        update 'documents' accordingly 
    """"""
    pass

app = Eve()
app.on_insert += telnet_service

if __name__ == ""__main__"":
    app.run()
"
1084,34881,Keeping the N first occurrences of,"In [11]: df = pd.DataFrame([[1, 2], [1, 4], [1, 6], [2, 8]], columns=['A', 'B'])

In [12]: df
Out[12]:
   A  B
0  1  2
1  1  4
2  1  6
3  2  8

In [13]: df.head(2)  # the first two rows
Out[13]:
   A  B
0  1  2
1  1  4

In [14]: df.groupby('A').head(2)  # the first two rows in each group
Out[14]:
   A  B
0  1  2
1  1  4
3  2  8
"
20058,42713,Does urllib encrypt authentication data?,"import urllib2

try:
    response = urllib2.urlopen('https://example.com') 
    print 'response headers: ""%s""' % response.info()
except IOError, e:
    if hasattr(e, 'code'): # HTTPError
        print 'http error code: ', e.code
    elif hasattr(e, 'reason'): # URLError
        print ""can't connect, reason: "", e.reason
    else:
        raise
"
20150,15793,Get first element of Series without have information on index,"In [11]: df = pd.DataFrame([[1, 2], [3, 4]], ['a', 'b'], ['A', 'B'])

In [12]: df
Out[12]: 
   A  B
a  1  2
b  3  4

In [13]: df.iloc[0]  # first row in a DataFrame
Out[13]: 
A    1
B    2
Name: a, dtype: int64

In [14]: df['A'].iloc[0]  # first item in a Series (Column)
Out[14]: 1
"
1,28865,How to get the filesize and SHA-1 digest of an uploaded file?,"import hashlib
class Image(models.Model):
#...
    def save(self, *args, **kwargs):
        super(Image, self).save(*args, **kwargs)
        f = self.image_file.open('rb')
        hash = hashlib.sha1()
        if f.multiple_chunks():
           for chunk in f.chunks():
              hash.update(chunk)
        else:    
              hash.update(f.read())
        f.close()
        self.sha1 =  hash.hexdigest()
        self.filesize = self.image_file.size 
"
8657,57432,scrapy xpath help needed,"normalize-space(//tr[contains(td,""Description"")]/following-sibling::tr[1]/td)
"
20927,10349,Testing python memo decorator,"def test_memo__function_should_be_called_once_for_same_arg(self):
    @memo
    def f(arg):
        f.call_count += 1
        return arg
    f.call_count = 0

    self.assertEqual(f(1), 1)
    self.assertEqual(f(1), 1)
    self.assertEqual(f.call_count, 1)

    self.assertEqual(f(2), 2)
    self.assertEqual(f(2), 2)
    self.assertEqual(f(2), 2)
    self.assertEqual(f.call_count, 2)
"
4825,62634,cPickle.dump always dumping at end of file,"file = open(""test"",""ab"")
file.seek(50,0)
dumped= cPickle.dumps(object)
file.write(dumped)
file.close()
"
17148,16212,Can you place an instance of a member of a list within a regex to match in python?,"from collections import defaultdict

date_parse = re.compile(r'Date:\s+(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)')

c = defaultdict(int)

for line in sys.stdin:
    m = date_parse.match(line)
    if m is None:
        # pattern did not match
        # could handle error or log it here if desired
        continue # skip to handling next input line
    month = m.group(1)
    c[month] += 1
"
37775,55034,how to auto resize in pyqt4 python?,"1. Add layout to your main window.
2. Right click main window and click 'layout vertically' as you want button below 
   the text area
3. Then add(drag-n-drop) your text area inside vertical area.
4. Add button and what not....
5. Have a look at  'http://doc.qt.io/qt-4.8/designer-layouts.html' google for    
   properties of layout like alignment of element. size, orientation.
"
7091,63368,Same PHP variable having 2 different values,"data: {steamid: ""<?php echo $steamprofile['steamid']?>""},
"
32489,7009,"Python exec() command working in IDLE, not in program","v = [8.4, 12.1, 36.2]
print(""What v do you want to be zero?"")
print(""    1 = v1"")
print(""    2 = v2"")
print(""    3 = v3"")
a = int(input(""Enter your choice: ""))
v[a - 1] = 0
print(v)
"
3304,38723,matplotlib retrieve color from plt.plot command,"import matplotlib.pyplot as plt
import numpy as np
def plotStuff():
    lines = plt.plot(np.random.rand(20))
    color = lines[0].get_color()
    plt.plot(np.random.rand(20),color = color,label = ""_nolegend_"" )
plotStuff()
"
26421,13534,python regular expressions to return complete result,">>> re.findall(""a+"", 'sdaaddaa')
['aa', 'aa']
"
34411,36301,How to convert date with suffix to another format in python,">>> from dateutil.parser import parse
>>> s = 'Mar 31st, 2014'
>>> parse(s)
datetime.datetime(2014, 3, 31, 0, 0)
"
15924,84639,3D plot with categorical axis [Python/Matplotlib],"ax.axes.set_zticks(regions_num)
"
35686,57306,Letter followed by some letters or numbers ending with a period,"\b[a-zA-Z]\w*\.
"
7380,21428,Inverse of a matrix 3x3 using symbols,"A = Matrix( [[a1,a2,a3],[b1,b2,b3],[c1,c2,c3]]) # Creates a matrix.
B = Matrix( [[x],[y],[z]])
"
16112,49100,Override class methods to check for emptyness,"class C(object):
    def __init__(self,c):
         self.content = c
    def __nonzero__(self):
        return bool(self.content)

c1 = C(None)
c2 = C([])
c3 = C([1])
print 1 if c1 else 0 #result: 0
print 1 if c2 else 0 #result: 0
print 1 if c3 else 0 #result: 1
"
13540,31175,Print the reverse of an arrow pattern in Python,"for x in range(1, columns):
    for x in range(x):
        print("" "", end="""")
    print(""*"")

for x in range(columns,0,-1): 
    for x in range(x):
        print("" "", end="""")
    print(""*"")
"
20523,40395,How to check if given variable exist in jinja2 template?,"{% if variable is defined %}
    value of variable: {{ variable }}
{% else %}
    variable is not defined
{% endif %}
See the default() filter for a simple way to set undefined variables.
"
29283,80412,Python: Get random value from a array dimension,">>> import numpy as np
>>> np.array([[ 0.29889882, 0.84955019, 0.52989055, 0.57220576, 0.16841406]])
array([[ 0.29889882,  0.84955019,  0.52989055,  0.57220576,  0.16841406]])
>>> 
>>> 
>>> ar = np.array([[ 0.29889882, 0.84955019, 0.52989055, 0.57220576, 0.16841406]])
>>> ar[:, random.randint(0,4)]
array([ 0.29889882])
>>> ar[:, random.randint(0,4)]
array([ 0.52989055])
"
4171,45904,Django form not valid (form.is_valide() return False) on AJAX request,"$('#form').submit(function(e){
        e.preventDefault();

        //fill FormData with form fields

        var data = new FormData($(this));
        data.append(""photo"", $(""#id_photo"")[0].files[0]);
        data.append(""description"",$(""#id_description"").val());

        $.ajax({
            url:'/',
            type: 'POST',
            data: data,
            cache:false,
            processData: false,
            contentType: false, 
            //part related to Django crsf token
            beforeSend: function(xhr, settings) {
                if (!csrfSafeMethod(settings.type) && sameOrigin(settings.url)) {
                 // Send the token to same-origin, relative URLs only.
                 // Send the token only if the method warrants CSRF protection
                 // Using the CSRFToken value acquired earlier
                    xhr.setRequestHeader(""X-CSRFToken"", csrftoken);
            }
            },
            success: function(data){
                var parseData = $.parseJSON(data);
                console.log(parseData.message);
            }
        });

    });
"
25532,64457,"Python Walk, but Tread Lightly","from ctypes import CDLL, c_char_p, c_int, c_long, c_ushort, c_byte, c_char, Structure, POINTER, byref, cast, sizeof, get_errno
from ctypes.util import find_library

class c_dir(Structure):
    """"""Opaque type for directory entries, corresponds to struct DIR""""""
    pass

class c_dirent(Structure):
    """"""Directory entry""""""
    # FIXME not sure these are the exactly correct types!
    _fields_ = (
        ('d_ino', c_long), # inode number
        ('d_off', c_long), # offset to the next dirent
        ('d_reclen', c_ushort), # length of this record
        ('d_type', c_byte), # type of file; not supported by all file system types
        ('d_name', c_char * 4096) # filename
        )
c_dirent_p = POINTER(c_dirent)
c_dirent_pp = POINTER(c_dirent_p)
c_dir_p = POINTER(c_dir)

c_lib = CDLL(find_library(""c""))
opendir = c_lib.opendir
opendir.argtypes = [c_char_p]
opendir.restype = c_dir_p

readdir_r = c_lib.readdir_r
readdir_r.argtypes = [c_dir_p, c_dirent_p, c_dirent_pp]
readdir_r.restype = c_int

closedir = c_lib.closedir
closedir.argtypes = [c_dir_p]
closedir.restype = c_int

import errno

def listdirx(path):
    """"""
    A generator to return the names of files in the directory passed in
    """"""
    dir_p = opendir(path)

    if not dir_p:
        raise IOError()

    entry_p = cast(c_lib.malloc(sizeof(c_dirent)), c_dirent_p)

    try:
        while True:
            res = readdir_r(dir_p, entry_p, byref(entry_p))
            if res:
                raise IOError()
            if not entry_p:
                break
            name = entry_p.contents.d_name
            if name not in (""."", ""..""):
                yield name
    finally:
        if dir_p:
            closedir(dir_p)
        if entry_p:
            c_lib.free(entry_p)

if __name__ == '__main__':
    import sys
    path = sys.argv[1]
    max_per_dir = int(sys.argv[2])
    for idx, entry in enumerate(listdirx(path)):
        if idx >= max_per_dir:
            break
        print entry
"
17024,55494,How to retrieve submitted changelists in a day using Perforce Python API,"from P4 import P4, P4Exception
p4 = P4()
p4.port = ""1""
p4.user = ""User""
p4.client = ""Client""

try:
    p4.connect()
    changelist = p4.run_filelog('//server/folder/...@yyyy/mm/dd,@now')
    for r in changelist:
      print r.depotFile
      print r.revisions[0].time

except P4Exception:
    for e in p4.errors:
        print e

finally:
    p4.disconnect()
"
13902,79061,Python interactive after reading sys.stdin,"parser = argparse.ArgumentParser()
parser.add_argument('input', type=argparse.FileType(), nargs='?', default=sys.stdin)
args = parser.parse_args()
G = defaultdict(list)
for line in args.input:
    ...
"
35241,82703,If statement to cycle through individual elements in array in Python,"t = Image.open(""IMG_1.jpg"").convert('L') #grayscale image
f = array(t) #Convert test image into an array

OD = 0.51*((f-22.08)/(176.09-f))**(1./-1.519) #Empirical Rodbard formula
OD[np.isnan(OD)] = 0

thB = 0.02
ththin = 0.11
ththick = 0.15

GSb = 162
GSthin = 150
GSthick = 145

if np.where(OD < ththin):
    thresholded = threshold(f, GSthin, GSb)
def to_rgb1(thresholded):
    thresholded.resize((thresholded.shape[0], thresholded.shape[1], 1))
    return np.repeat(thresholded.astype(np.uint8), 3, 2)       
cmap = plt.get_cmap('jet')
rgba_img1 = cmap(thresholded)
rgb_img1 = np.delete(rgba_img1, 3, 2)
view = rgb_img1[:, :, 2]
view[view < 0.1] += 128 
thin = rgb_img1

if np.where(OD > ththick):
    thresholded2 = threshold(f, threshmax = GSthick)
def to_rgb2(thresholded2):
    thresholded2.resize((thresholded2.shape[0], thresholded2.shape[1], 1))
    return np.repeat(thresholded2.astype(np.uint8), 3, 2)       
cmap = plt.get_cmap('jet')
rgba_img2 = cmap(thresholded2)
rgb_img2 = np.delete(rgba_img2, 3, 2)
view2 = rgb_img2[:, :, 0]
view2[view2 > 0] += 128  
thick = rgb_img2
"
12280,66380,Anyone Know How to Calculate the Area/Perimeter/Height of a Triangle?,"
a, b, c = 1, 1, 1 # sides of a triangle
if a + b >= c and b + c >= a and c + a >= b:
    # calculate area and height here
else:
    print('Not a valid triangle')
"
8877,4919,Rounding Decimal to configurable decimal places in python,">>> the_number = decimal.Decimal(1.23456789)
>>> round(the_number, 2)
Decimal('1.23')
>>> d=decimal.Decimal(""31.100"")
>>> d
Decimal('31.100')
>>> round(d, 10)
Decimal('31.1000000000')
>>> round(d, 20)
Decimal('31.10000000000000000000')
>>> round(d, 24)
Decimal('31.100000000000000000000000')
>>> round(d, 26)
Decimal('31.10000000000000000000000000')
>>> round(d, 1)
Decimal('31.1')
>>> round(d, 0)
Decimal('31')
"
26625,34933,Get pixel's RGB using PIL,"im = Image.open('image.gif')
rgb_im = im.convert('RGB')
r, g, b = rgb_im.getpixel((1, 1))

print r, g, b
(65, 100, 137)
"
10554,39215,convert raw binary 8 bit unsigned file to 16 bit unsigned with the python imaging library,"import numpy as np

# create example file
np.arange(256).astype('uint8').tofile('uint8_file.bin')

# read example file and convert to uint16
u1 = np.fromfile('uint8_file.bin', 'uint8')
u2 = u1.astype('uint16')
u2 *= 257  # scale to full 16 bit range
u2.tofile('uint16_file.bin')
"
758,30772,Use pyExcelerator to generate dynamic Excel file with Django. Ensure unique temporary filename,"from django.http import HttpResponse
import xlwt

def my_view(request):
    response = HttpResponse(mimetype=""application/ms-excel"")
    response['Content-Disposition'] = 'attachment; filename=""foo.xls""'
    wb = xlwt.Workbook()
    wb.save(response)
    return response
"
30705,68840,How to change the color of certain words in the tkinter text widget?,"#!/usr/bin/env python3

import tkinter as tk
from tkinter.font import Font

class Pad(tk.Frame):

    def __init__(self, parent, *args, **kwargs):
        tk.Frame.__init__(self, parent, *args, **kwargs)

        self.toolbar = tk.Frame(self, bg=""#eee"")
        self.toolbar.pack(side=""top"", fill=""x"")

        self.bold_btn = tk.Button(self.toolbar, text=""Bold"", command=self.make_bold)
        self.bold_btn.pack(side=""left"")

        self.clear_btn = tk.Button(self.toolbar, text=""Clear"", command=self.clear)
        self.clear_btn.pack(side=""left"")

        # Creates a bold font
        self.bold_font = Font(family=""Helvetica"", size=14, weight=""bold"")

        self.text = tk.Text(self)
        self.text.insert(""end"", ""Select part of text and then click 'Bold'..."")
        self.text.focus()
        self.text.pack(fill=""both"", expand=True)

        # configuring a tag called BOLD
        self.text.tag_configure(""BOLD"", font=self.bold_font)

    def make_bold(self):
        # tk.TclError exception is raised if not text is selected
        try:
            self.text.tag_add(""BOLD"", ""sel.first"", ""sel.last"")        
        except tk.TclError:
            pass

    def clear(self):
        self.text.tag_remove(""BOLD"",  ""1.0"", 'end')


def demo():
    root = tk.Tk()
    Pad(root).pack(expand=1, fill=""both"")
    root.mainloop()


if __name__ == ""__main__"":
    demo()
"
26941,65798,String replace utility conversion from Python to F#,"let lines = 
  File.ReadAllLines(""tclscript.do"")
  |> Seq.map (fun line ->
      let newLine = line.Replace(""{"", ""{{"").Replace(""}"", ""}}"")
      // Implement additional string processing here
      newLine )

File.WriteAllLines(""tclscript.txt"", lines)
"
22969,7489,Python: read text file into array - unequal row distrubution,"x = []
with open('my_file.txt', 'r') as f:
    temp_list = []
    for line in f:
        if line.strip(): #line is not blank
            temp_list.append(line)
        else: #line is blank, i.e., it contains only newlines and/or whitespace
            if temp_list: #check if temp_list contains any items
                x.append(temp_list)
            temp_list = []
"
24438,74563,Converting Python class object instance to mongodb BSON string,">>> import bson
>>> class Example(object):
...     def __init__(self):
...             self.a = 'a'
...             self.b = 'b'
...     def set_c(self, c):
...             self.c = c
... 
>>> e = Example()
>>> e
<__main__.Example object at 0x7f9448fa9150>
>>> e.__dict__
{'a': 'a', 'b': 'b'}
>>> e.set_c(123)
>>> e.__dict__
{'a': 'a', 'c': 123, 'b': 'b'}
>>> bson.BSON.encode(e.__dict__)
'\x1e\x00\x00\x00\x02a\x00\x02\x00\x00\x00a\x00\x10c\x00{\x00\x00\x00\x02b\x00\x02\x00\x00\x00b\x00\x00'
>>> bson.BSON.encode(e)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/local/lib/python2.7/dist-packages/bson/__init__.py"", line 566, in encode
    return cls(_dict_to_bson(document, check_keys, uuid_subtype))
TypeError: encoder expected a mapping type but got: <__main__.Example object at         0x7f9448fa9150>
>>> 
"
22230,82993,OrderedDict comprehension?,"import requests
from bs4 import BeautifulSoup
from collections import OrderedDict


soup = BeautifulSoup(html, 'html.parser')
tables = soup.find_all('table')
rows = tables[1].find_all('tr')
t_data = OrderedDict((row.th.text, row.td.text) for row in rows if row.td)
"
34162,83135,Python: Need to add chosen filenames into an array,"import glob
files = glob.glob('C:\\python34\\*.txt')
"
39313,56568,Timedelta on Django DateTimeField reverts changes after save,"new_event.save()
"
26970,77180,deleting old folders with datetime function,"import datetime
import os
import shutil

threshold = datetime.datetime.now() + datetime.timedelta(days=-7)
file_time = datetime.datetime.fromtimestamp(os.path.getmtime('/folder_name'))

if file_time < threshold:
    shutil.rmtree('/folder_name')
"
27227,74948,Filter() on DictReader,">>> from io import StringIO
>>> import csv
>>> demo = StringIO('''\
... foo,bar,baz
... 42,88,131
... 17,19,23
... ''')
>>> reader = csv.DictReader(demo)
>>> def only_answers(row):
...     return '42' in row.values()
... 
>>> for row in filter(only_answers, reader):
...     print(row)
... 
{'baz': '131', 'bar': '88', 'foo': '42'}
"
19840,71558,Tracking application launched with a python file,"import os
import subprocess


def launch_app():
    os.environ['APPLICATION_ENVIRON'] = 'usr/path'
    application_path = 'path/to/application'
    return subprocess.Popen([application_path])


def _purge_finished_apps(apps):
    still_running = set()
    for app in apps:
        return_code = app.poll()
        if return_code is not None:
            print ""  PID {} no longer running (return code {})"".format(app.pid, return_code)
        else:
            still_running.add(app)
    return still_running


def ui():
    apps = set()

    while True:
        print
        print ""1. To launch new instance""
        print ""2. To view all instances""
        print ""3. To exit, terminating all running instances""
        print ""4. To exit, leaving instances running""
        opt = int(raw_input())

        apps = _purge_finished_apps(apps)

        if opt == 1:
            app = launch_app()
            apps.add(app)
            print ""  PID {} launched"".format(app.pid)

        elif opt == 2:
            if not apps:
                print ""There are no instances running""
            for app in apps:
                print ""  PID {} running"".format(app.pid)

        elif opt == 3:
            for app in apps:
                print ""Terminating PID {}"".format(app.pid)
                app.terminate()
            for app in apps:
                app.wait()
                print ""PID {} finished"".format(app.pid)
            return

        elif opt == 4:
            return


if __name__ == ""__main__"":
    ui()
"
16848,19872,Program in Python,"def starts_with_vowel(word):
    # return True if the word starts with a vowel and False otherwise
    return word[0] in ['a', 'e', 'i', 'o', 'u']

def encode(word):
    # translate a single word to the secret language
    # call starts with vowel to decide which pattern to follow
    if starts_with_vowel(word):
        return word[1:] + word[0] + 'ar'
    else:
        return word + 'way'

def translate(message):
    # translate the whole text to the secret language
    # call encode to translate individual words in text
    return ' '.join(encode(word) for word in message)
"
38933,1332,Documenting `tuple` return type in a function docstring for PyCharm type hinting,"""""""
:rtype: (string, int, int)
""""""
"
29648,29002,"Django, how to make a download button for a script displayed on the website","response = HttpResponse(my_data, content_type='text/x-python')
response['Content-Disposition'] = 'attachment; filename=""foo.py""'
"
4065,58529,how to change xml element name in django-piston?,"from piston.emitters import Emitter, XMLEmitter

class ProductXMLEmitter(XMLEmitter):
    def _to_xml(self, xml, data):
        if isinstance(data, (list, tuple)):
            for item in data:
                attrs = {}
                # if item contains id value, use it as an attribute instead
                if isinstance(item, dict):
                    attrs[""id""] = unicode(item.pop(""id""))
                xml.startElement(""product"", attrs)
                self._to_xml(xml, item)
                xml.endElement(""product"")
        else:
            super(BetterXMLEmitter, self)._to_xml(xml, data)

# replace default XMLEmitter with ours
Emitter.register('xml', ProductXMLEmitter, 'text/xml; charset=utf-8')
"
38879,13474,How to replace a word in a csv file in specific column with python,"replaced = row[0].replace('word','changed word')  # I want to replace in first column=row[0] 'word' with 'changed word'
row[0] = replaced
writer.writerow(row)
"
10495,32467,How to poll for GPIO interrupts in python?,"while 1:
    events = po.poll(30000)
    if not events:
        print ('TIMEOUT!')
    for fd, flag in events:
        # check what's been done with os.lseek and os.read
"
4625,19029,How to make live connection between two objects,">>> dictVar={'one':1,'two':2,'three':3}
>>> listVar=dictVar.viewvalues()
>>> listVar
dict_values([3, 2, 1])
>>> dictVar['one']=100
>>> listVar
dict_values([3, 2, 100])
>>> dictVar['four']=4
>>> listVar
dict_values([4, 3, 2, 100])
>>> list(listVar)==dictVar.values()
True
"
32528,64961,Can Scrapy be used with the Chrome Browser?,"$ sudo docker run -p 5023:5023 -p 8050:8050 -p 8051:8051 scrapinghub/splash --disable-private-mode
"
31139,29245,Evaluating a member in an evaluated mathematical expression using python,"#!/usr/bin/env python
from __future__ import absolute_import, division, print_function


def main():
    code = compile('x = (5*y + 8) if z<3 else (4*y+9)', '<main>', 'exec')
    namespace = {'y': 10, 'z': 8}
    exec code in namespace
    print(namespace['x'])


if __name__ == '__main__':
    main()
"
1630,75392,Use result from one dataframe to find data in another dataframe in pandas,"B = B.set_index('Date')
B = B.stack()
res = merge(A,B,on='Date')
"
13900,82866,Convert Unicode string to nested list,">>> [[i.encode('ascii', 'ignore').replace('[', '') for i in x] for x in value]
[['Seba', '10'], ['Gianfranco', '80'], ['Marco', '20'], ['Massimo', '125']]
"
38869,77559,Accessing nested structures in python,"d={'ports': [{'hw_addr': 'ee:b1:ab:b1:0e:a0', 'name': 's1-eth1', 'port_no': '00000001', 'dpid': '0000000000000201'},
            {'hw_addr': 'f6:83:4d:e4:41:7d', 'name': 's1-eth2', 'port_no': '00000002', 'dpid': '0000000000000201'}
                       ], 'dpid': '0000000000000201'}

for i in d[""ports""][0]:
    print ""{} : {}"".format(i,d[""ports""][0][i])
hw_addr : ee:b1:ab:b1:0e:a0
name : s1-eth1
port_no: 00000001
dpid : 0000000000000201
"
25543,79251,how to avoid IOError while looping through a long list that opens many files in threads?,"from multiprocessing.dummy import Pool

def download_logs(self):
    """"""
    Downloads logs from S3 using Boto.
    """"""
    if self.aws_keys:
        conn = S3Connection(*self.aws_keys)
    else:
        conn = S3Connection()

    files = []
    mybucket = conn.get_bucket(self.input_bucket)
    pool = Pool(20) # 20 threads in the pool. Tweak this as you see fit.
    with tempdir.TempDir() as directory:
        results = pool.imap_unordered(item.get_contents_to_filename,
                                      [os.path.join(directory, item.key.split(""/"")[-1]
                                          for item in mybucket.list(prefix=self.input_prefix)]

        for result in results:
            yield result
"
4713,67192,wxPython: How to get sizer from wx.StaticText?,"import wx

########################################################################
class MyApp(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Example"")
        panel = wx.Panel(self)

        lbl = wx.StaticText(panel, label=""I'm a label!"")
        txt = wx.TextCtrl(panel, value=""blah blah"")
        btn = wx.Button(panel, label=""Clear"")
        btn.Bind(wx.EVT_BUTTON, self.onClear)

        self.sizer = wx.BoxSizer(wx.VERTICAL)
        self.sizer.Add(lbl, 0, wx.ALL, 5)
        self.sizer.Add(txt, 0, wx.ALL, 5)
        self.sizer.Add(btn, 0, wx.ALL, 5)

        panel.SetSizer(self.sizer)

    #----------------------------------------------------------------------
    def onClear(self, event):
        """"""""""""
        children = self.sizer.GetChildren()

        for child in children:
            widget = child.GetWindow()
            print widget
            if isinstance(widget, wx.TextCtrl):
                widget.Clear()

if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MyApp()
    frame.Show()
    app.MainLoop()
"
27054,22528,Why grep returns all output in subprocess stdin?,"[root@ichristo_dev]# cat process.py  -- A program that reads stdin for input
#! /usr/bin/python

inp = 0  
while(int(inp) != 10):  
    print ""Enter a value: ""  
    inp = raw_input()  
    print ""Got"", inp  


[root@ichristo_dev]# cat communicate.py
#! /usr/bin/python

from subprocess import Popen, PIPE  

p = Popen(""./process.py"", stdin=PIPE, stdout=PIPE, stderr=PIPE, shell=True)  
o, e = p.communicate(""10"")  
print o  


[root@ichristo_dev]#./communicate.py  
Enter a value:   
Got 10
"
33036,58698,Keeping Session in PowerShell After Restarting,"Set-Location C:\Python\MyProject
"
39794,70121,Float formatting to 3 or 4 decimal places,"def fmt_3or4(v):
    """"""Format float to 4 decimal places, or 3 if ends with 0.""""""
    s = '{:.4f}'.format(v)
    if s[-1] == '0':
        s = s[:-1]
    return s

>>> fmt_3or4(1.02345)
'1.0234'
>>> fmt_3or4(1.023)
'1.023'
>>> fmt_3or4(1.02)
'1.020'
"
2162,36535,Pythonic way to increment and assign ids from dictionary,"for row in reader:
    id1 = ids.setdefault(row[0], len(ids))
"
21697,63939,combine lines (deleting line numbers) to make a paragraph from text file in python,"In [69]: with open('fn') as infile:
    data = [line.strip().split(None,1)[1] for line in infile]
   ....:     

In [70]: data
Out[70]: 
[""It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, co"",
 ""Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover ."",
 'Limit of Liability and Disclaimer of Warranty: e authors have used their best e orts in preparing this book, and the information provided herein as is. e information provided is sold without warranty, either express or implied.',
 'Neither the authors nor Cartwheel Web will be held liable for any damages to be caused either directly or indirectly by the contents of this book.',
 'Trademarks: Rather than indicating every occurence of a trademarked name as such, this book uses the names only in an editorial fashion and to the bene t of the trademark owner with no intention of infringement of the trademark.']
"
2956,62733,Django templates: forloop.first and forloop.last,"$ ./manage.py shell

>>> from django import template
>>> t = template.Template(""""""{% for f in friendslist %}
...                         {% if forloop.first %}
...                             First of the loop                            
...                         {% endif %}
...                         {{ f }}
...                         {% if forloop.last %}
...                             Last of the loop
...                         {% endif %}
...                 {% endfor %}"""""")

>>> c = template.Context({'freindslist' : ['one element',]})
>>> t.render(c)


                        First of the loop

                    one element

                         Last of the loop
"
5281,83446,Can we create interactive PDF forms using reportlab?,"Support for Acrobat Forms in ReportLab documents

This module is somewhat experimental at this time.

Includes basic support for
    textfields,
    select fields (drop down lists), and
    check buttons.

The public interface consists of functions at the moment.
At some later date these operations may be made into canvas
methods. (comments?)

The ...Absolute(...) functions position the fields with respect
to the absolute canvas coordinate space -- that is, they do not
respect any coordinate transforms in effect for the canvas.
"
690,1454,PyQT4 Combobox changes the list of another combobox,"def __init__(self):
    ...
    self.items = {'1':['a','b','c'],'2':['d','e','f'],'3':['g','h','i']}
    self.Combobox_1.activated[str].connect(self.on_combo_activated)
    ...

...

def on_combo_activated(self, text):
    self.Combobox_2.clear()
    self.Combobox_2.addItems(self.items[text])
"
32941,27830,Changing up the contents of a list,">>> l=[1,2,3]
>>> ' '.join(map(str,l))
'1 2 3'
>>> string=' '.join(map(string,l))
>>> map(int,string.split())
[1, 2, 3]
"
14506,62673,does imdbpy2sql.py export soundtracks to mysql?,"from imdb import IMDb
ia = IMDb('sql', uri='mysql://username:password@localhost/imdb')
inglorious = ia.search_movie('Inglorious Basterds')[0]
ia.update(inglorious)
print inglorious['soundtrack']
"
2469,7475,How can I sort a list of Python classes by inheritance depth?,"class A(object): pass
class X(object): pass
class B(A, X): pass
class C(B): pass
class D(C): pass

sorted([B, C, A, D, X], key = lambda cls: len(cls.mro()))
=> [__main__.A, __main__.X, __main__.B, __main__.C, __main__.D]
"
15805,72854,Encoding for ZMQ,"print repr(message)
"
6117,5763,Are Django Model instances Hashable?,"class Model(object):

    ...

    def __hash__(self):
        return hash(self._get_pk_val())

    ...

    def __eq__(self, other):
        return isinstance(other, self.__class__) and \
               self._get_pk_val() == other._get_pk_val()
"
35300,33110,How do you make linked sliders in Qt?,"class MainWindow(QWidget):
    def __init__(self):
        QWidget.__init__(self)
        layout = QGridLayout()
        self.sliders = []
        slider_amount = 3
        slider_precision = 10000 # sliders work only with ints, so large ints are used and mapped to floats
        for i in range(slider_amount):
            slider = QSlider(Qt.Horizontal)
            slider.setRange(0, slider_amount*slider_precision)
            slider.setSingleStep(slider.maximum()/100.0)
            slider.setPageStep(slider.maximum()/20.0)
            slider.valueChanged.connect(self.on_slider_value_changed)
            slider.float_value = (i+1)/((1+slider_amount)/2.0*slider_amount) # provide your own default values
            slider.label = QLabel()
            self.sliders.append(slider)
            layout.addWidget(slider, i, 0)
            layout.addWidget(slider.label, i, 1)
        self.update_slider_values()
        self.setLayout(layout)
        self.show()

    def on_slider_value_changed(self, value):
        changed_slider = self.sender()
        changed_slider.float_value = float(value)/changed_slider.maximum()
        delta = sum(slider.float_value for slider in self.sliders)-1
        while abs(delta)>0.00001:
            d = len(self.sliders)-1
            for slider in self.sliders:
                if slider is changed_slider:
                    continue
                old_value = slider.float_value
                slider.float_value = min(max(0, old_value-delta/d), 1)
                delta -= old_value-slider.float_value
                d -= 1
        self.update_slider_values()

    def update_slider_values(self):
        for slider in self.sliders:
            slider_signals_blocked = slider.blockSignals(True)
            slider.setValue(round(slider.float_value*slider.maximum()))
            slider.blockSignals(slider_signals_blocked)
            slider.label.setText('{:.2f}'.format(slider.float_value))

app = QApplication(sys.argv)
mw = MainWindow()
app.exec_()
"
32212,12990,How to specify install order for python pip?,"#!/bin/bash
for line in $(cat requirements.txt)
do
  pip install $line -E /path/to/virtualenv
done
"
30783,1843,Python - check if a system is 32 or 64 bit to determine whether to run the function or not?,"is_64bits = sys.maxsize > 2**32
"
35663,57818,Prevent interruption of wand display method on Raspbian,"import subprocess, tempfile
from wand.image import Image

with Image(filename='wizard:') as imageOBJ:
    tempOBJ = tempfile.NamedTemporaryFile(suffix='.jpg',
                                          prefix='/tmp/myProject-',
                                          delete=False)
    imageOBJ.save(file=tempOBJ)
    subprocess.call('xdg-open {}'.format(tempOBJ.name), shell=True)
"
13207,30784,"How to print a table based on an average of multiple scores (SQLite, Python)","select
    firstname, lastname, avg(score) as score
from
    class1
group by
    firstname, lastname
order by
    avg(score) desc
"
10679,58461,python removing lines from file,"cntent = re.sub('<[^>]+>',""\n"", str(cntent))
with open(os.path.join('/Users/Brian/Documents/test', titles), ""wb"") as f: 
    f.writelines(line for line in cntent.splitlines(True) if line.strip())
"
36477,74538,Condense multiple if statements,"response = {
    ""con"": con_getinfo,
    ""neg"": neg_getinfo,
    ...
}
print ""%.6f"" % (response[imput][""balance""])
"
32840,75182,PyQt Frame with text,"self.frame = QtGui.QGroupBox(self)    
self.frame.setTitle(""Hello World"")
"
6416,17442,how to send asynchronous email using django  ,"class EmailThread(threading.Thread):
    def __init__(self, subject, html_content, recipient_list):
        self.subject = subject
        self.recipient_list = recipient_list
        self.html_content = html_content
        threading.Thread.__init__(self)

    def run (self):
        msg = EmailMessage(self.subject, self.html_content, EMAIL_HOST_USER, self.recipient_list)
        msg.content_subtype = ""html""
        msg.send()

def send_html_mail(subject, html_content, recipient_list):
    EmailThread(subject, html_content, recipient_list).start()
"
532,12381,Converting Indices of Series to Columns,"In [87]: pd.DataFrame(s).T
Out[87]: 
   1983-05-15  1983-11-15  1984-05-15  1984-11-15
0           1           1           1         101
"
36144,77153,Python subprocess: stderr only saving the first line. Why?,">>> tcpdumpProcess = subprocess.Popen(['tcpdump',
                        '-w', 'myPackets.cap', '-i', 'eth0', '-n','ip'],
                        stdout=subprocess.PIPE,
                        stderr=subprocess.PIPE)
>>> tcpdumpProcess.terminate()
# stdout in [0], stderr in [1]
>>> tcpdump_stderr = tcpdumpProcess.communicate()[1]
>>> print tcpdump_stderr
tcpdump: listening on eth2, link-type EN10MB (Ethernet), capture size 65535 bytes
40 packets captured
40 packets received by filter
0 packets dropped by kernel
"
18226,49191,"why do you need ""if instance is None"" in __get__ of a descriptor class?",">>> class DemoDescriptor:
...     def __get__(self, instance, type_):
...         if instance is None:
...             print('Accesing descriptor on the class')
...             return self
...         print('Accessing descrtor on the instance')
...         return 'Descriptor value for instance {!r}'.format(instance)
... 
>>> class DemoClass(object):
...     foo = DemoDescriptor()
... 
>>> DemoClass.foo  # on the class
Accesing descriptor on the class
<__main__.DemoDescriptor object at 0x1041d3c50>
>>> DemoClass.__dict__['foo']  # bypassing the descriptor protocol
<__main__.DemoDescriptor object at 0x1041d3c50>
>>> DemoClass().foo  # on the instance
Accessing descrtor on the instance
'Descriptor value for instance <__main__.DemoClass object at 0x1041d3438>'
"
26508,58845,carving 2D numpy array by index,"xdim,ydim = data.shape
k = 2
a, b = np.meshgrid(range(ydim),range(xdim))
mask = (b - a -k) < 0

new_data = data[mask]

new_data2 = np.array(data) # to force a copy
new_data2[~mask] = 0
"
28193,41776,Calling a filter plugin from an action plugin,">>> from ansible.plugins.filter import ipaddr
>>> dir(ipaddr)
['FilterModule', '_6to4_query', '__builtins__', '__doc__', '__file__', '__metaclass__', '__name__', '__package__', '_bare_query', '_bool_hwaddr_query', '_bool_ipaddr_query', '_broadcast_query', '_cidr_lookup_query', '_cidr_query', '_cisco_query', '_empty_hwaddr_query', '_empty_ipaddr_query', '_gateway_query', '_host_query', '_hostmask_query', '_int_query', '_ip_query', '_ipv4_query', '_ipv6_query', '_link_local_query', '_linux_query', '_loopback_query', '_multicast_query', '_need_netaddr', '_net_query', '_netmask_query', '_network_query', '_postgresql_query', '_prefix_query', '_private_query', '_public_query', '_revdns_query', '_size_query', '_subnet_query', '_type_query', '_unicast_query', '_unix_query', '_version_query', '_win_query', '_wrap_query', 'absolute_import', 'division', 'errors', 'hwaddr', 'ipaddr', 'ipsubnet', 'ipv4', 'ipv6', 'ipwrap', 'macaddr', 'netaddr', 'nthhost', 'partial', 'print_function', 'slaac', 'types']
"
6259,39619,Using login info to scrape a website with python,"import selenium
from selenium import webdriver

# I used Firefox, but you could use Chrome or IE
browser = webdriver.Firefox()

browser.get('http://www.SomeWebsite.com/login')
# I needed to stop the script here to actually login.
# I tried to use an existing profile w/ my username & password but the website
# rejected my profile info and locked me out of the account

browser.get('http://www.SomeWebsite.com/blah/blah/blah.html')

element = browser.find_element_by_id(""TheElementYouNeed"").text
# This downloads all the text from the article at this particle 'id' element
"
19461,9084,Trying to display a whole image in tkinter,"import Tkinter as tkinter

root = tkinter.Tk()

canvas = tkinter.Canvas(root)
canvas.pack(fill=tkinter.BOTH, expand=1) # expand

photo = tkinter.PhotoImage(file = 'img1.gif')
root.geometry(""450x450"")
root.update()

img = canvas.create_image(225,225, image=photo)
#root.after(20000, lambda: canvas.delete(img))

root.mainloop()
"
10590,11581,Finding All Possible Combinations of Letters using an API and Python,"import itertools
letters = ('',' ', 'abc','def','ghi','jkl','mno','pqrs','tuv','wxyz')
reverse_dict = dict((str(ind), group)
                    for ind,group in enumerate(letters)
                    for c in group
                    if letters)

print reverse_dict
end_nums = '3965'
print end_nums, 'can produce', tuple(''.join(w) for w in itertools.product(*map(reverse_dict.get, end_nums)))
word = 'word'
print('%r = %s' % (word,''.join(key for c in word for key, item in reverse_dict.items() if c in item)))
"
6065,35833,python/Flask: Route with dynamic first component,"from functools import partial

def actual_handler(page):
    return u'hello'

for page in session.query(Page):
    route = u'/{0}/{1}/{2}'.format(page.id1, page.id2, page.id3)
    app.add_url_rule(
        route,
        page.name,  # this is the name used for url_for
        partial(actual_handler, page=page),
    )
"
7426,61227,Generating XML in Python,"my_list = [""Value1"", ""Value2""]
json = simplejson.dumps(my_list)
# send json
"
11753,3203,Call to operating system to open url?,"import webbrowser

webbrowser.open(url[, new=0[, autoraise=True]])
"
11355,47481,Pandas data frame from dictionary,"import pandas

sample={'user1': {'item1': 2.5, 'item2': 3.5, 'item3': 3.0, 'item4': 3.5, 'item5': 2.5, 'item6': 3.0},
        'user2': {'item1': 2.5, 'item2': 3.0, 'item3': 3.5, 'item4': 4.0},
        'user3': {'item2':4.5,'item5':1.0,'item6':4.0}}

df = pandas.DataFrame([
    [col1,col2,col3] for col1, d in sample.items() for col2, col3 in d.items()
])
"
37860,71706,"In Numpy, find Euclidean distance between each pair from two arrays","distances = (a-b)**2
distances = distances.sum(axis=-1)
distances = np.sqrt(distances)
"
35688,11458,XPATH: Specific word in paragraph,">>> response.xpath('//p/text()').re('\w+')[2]
u'some'
"
4656,39820,Effect of the position of 'not' in python statement on performance,">>> import dis
>>> def f(x, y):
...     return not x in y
...
>>> def g(x, y):
...     return x not in y
...
>>> dis.dis(f)
  2           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 COMPARE_OP               7 (not in)
              9 RETURN_VALUE
>>> dis.dis(g)
  2           0 LOAD_FAST                0 (x)
              3 LOAD_FAST                1 (y)
              6 COMPARE_OP               7 (not in)
              9 RETURN_VALUE
"
19707,44272,Import urls in urls.py based on INSTALLED_APPS Django,"# define necessary urls of your app which should always be present
urlpatterns = patterns('',
    url(r'^$', 'myapp.views.home', name='home'),
)

# then add urls of external apps if the app is present in INSTALLED_APPS
if 'social_networks' in settings.INSTALLED_APPS:
    urlpatterns += patterns('',
        url(r'^social/', include('social_networks.urls')),
    )
"
5331,17552,"time.clock(), Odd result when used inside function-definition","def timer_compare(time1, time2='', note='@', time3=None):
    if time3 is None:
        time3 = time.clock()
"
33689,33398,How can I pipe a string to a script when using subprocess.call without a shell,"proc = subprocess.Popen(['prog', 'arg'], shell=False, stdin=subprocess.PIPE)
out, err = proc.communicate('some input')
"
1529,57538,How to find when a string's letter matches a another's letter?,"import string

alpha = ""ABCDEFGHIJKLMNOPQRSTUVWXYZ""
key = ""XPMGTDHLYONZBWEARKJUFSCIQV""
comp = ""this is an example""

tr = string.maketrans(alpha, key)
print string.translate(comp.upper(), tr)
# -> ULYJ YJ XW TIXBAZT
"
15079,26914,Memmap in MATLAB for huge arrays,"size=[140000,3504];
filesize=0;
datatype='float64';
filename='my_array.dat';
fid=fopen(filename,'w+');
max_chunk_size=1000000;
%fills an empty file
while filesize<prod(size)
    to_write=min(prod(size)-filesize,max_chunk_size);
    filesize=filesize+fwrite(f, zeros(to_write,1), datatype);
end   
fclose(fid);
m = memmapfile(filename,'Format','double', 'Writable',true);
"
18486,25818,How to override join_multivalued option of CsvItemExporter,"from scrapy.conf import settings
from scrapy.contrib.exporter import CsvItemExporter

class CSVkwItemExporter(CsvItemExporter):

    def __init__(self, *args, **kwargs):
        kwargs['fields_to_export'] = settings.getlist('EXPORT_FIELDS') or None
        kwargs['encoding'] = settings.get('EXPORT_ENCODING', 'utf-8')

        super(CSVkwItemExporter, self).__init__(*args, **kwargs)

        self._join_multivalued = settings.get('MY_CSV_DELIMITER', ',')
"
10570,82825,How can I change this function call and algorithm to find the string with the smallest value in a list of size n. w/o the min function,">>> def lowest(sequence):
        'Find the lowest value in a sequence in just one-pass'
        best = sequence[0]
        for i in range(1, len(sequence)):
            if sequence[i] < best:
                best = sequence[i]
        return best

>>> lowest(['stack', 'over', 'flow', 'please', 'help'])
'flow'
"
15034,26504,Python: Best way to keep track of particular values within dictionary,"# Results container
results = {}

# Collect the data
for item in data:
    # key here is just for later, 
    # you could use anything unique to the entry 
    # (username for example)
    key = ""{0}.{1}"".format(item.get('user_name'), item.get('question'))
    if key in results:
        results[key] += item.get('value', 0)
    else:
        results[key] = item.get('value', 0)

# Prints the results as you would like.
for key, count in results.iteritems():
   name, question = key.split('.')
   print [name, question, count]
"
17940,41314,Mapping a a column of data frame to Another existing data frame DataFrame,"pd.merge(df1, df2, how='outer', on=['Progcode', 'Season'])
"
22212,44202,Mercurial hook precommit get repository path,"[hooks]
precommit = python ~/tools/check_syntax.py $($HG root)
"
508,46914,Open file from explorer onto python application,"ftype txtfile=""c:\path\to\pythonw.exe"" ""c:\path\to\my\editor.py"" ""%1""
"
18738,50446,Three 2d profiles to 3d array,">>> x[np.newaxis, :, :] & y[:, np.newaxis, :] & z[:, :, np.newaxis]
array([[[0, 0, 0],
        [0, 1, 1],
        [0, 1, 1]],

       [[0, 0, 0],
        [0, 1, 1],
        [0, 1, 1]],

       [[0, 0, 0],
        [0, 0, 0],
        [0, 1, 1]],

       [[0, 0, 0],
        [0, 0, 0],
        [0, 0, 0]]])
>>> 
"
10405,32466,Django memory leak,"CHUNK_SIZE = 23000
ports_list_save = []
for host in results['hosts']:
    for protocol in results['hosts'][host]['protocols']:
        for port in results['hosts'][host]['protocols'][protocol]:
            current_port = history.Port(number=int(port), 
                                        protocol=protocol, 
                                        state=results['hosts'][host]['protocols'][protocol][port]['state'], 
                                        service='', 
                                        version='', 
                                        address=history.Ip.objects.get(scan=self.scan, address=host))
            ports_list_save.append(current_port)
            if len(ports_list_save) > CHUNK_SIZE:
                history.Port.objects.bulk_create(ports_list_save)
                ports_list_save = []
if ports_list_save:   
    history.Port.objects.bulk_create(ports_list_save)
"
11550,84239,Pandas DataFrame Apply,"In [22]: df
Out[22]:
   A  B  C  D
0  8  3  5  8
1  9  4  0  4
2  5  4  3  8
3  4  8  5  1

In [23]: bi = df.C==0

In [24]: df.ix[bi, 'C'] = df[bi][['A', 'D']].apply(max, axis=1)

In [25]: df
Out[25]:
   A  B  C  D
0  8  3  5  8
1  9  4  9  4
2  5  4  3  8
3  4  8  5  1
"
27809,1828,Setting POST or GET request data to a QueryDict in the manage.py shell,"(stackoverflow)➜  my_project  python ./manage.py shell
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
(InteractiveConsole)
>>> from django.http import HttpRequest
>>> req = HttpRequest()
>>> print req
<HttpRequest
path:,
GET:{},
POST:{},
COOKIES:{},
META:{}>
>>> req.GET['test'] = 'hello world'
>>> print req
<HttpRequest
path:,
GET:{'test': 'hello world'},
POST:{},
COOKIES:{},
META:{}>
>>>
"
32056,48853,How to return only visible text when using Scrapy,"from scrapy.utils.markup import remove_tags

# it'll print 'hello, world'
print remove_tags('<p>hello, world</p>')
"
26721,49899,Python app to serve a webpage and detect when someone visits it?,"...
def get(self):
    self.write(""Hello, world"")
    light_the_leds()
...
"
22430,56097,How to convert datatype string to file?,"f = open(""a.txt"", ""r"")
sf = f.read()
f.close()

sf += ""some more text""
f = open(""a.txt"", ""w"")
f.write(sf)
f.close()
"
3379,62398,Aligning Separate Parts of Print,"def justified(title, amount, titlewidth=20, amountwidth=10):
    return title.ljust(titlewidth) + "" = $ "" + ('%.2f' % amount).rjust(amountwidth)

print(justified('Parts', 12.45))
print(justified('Labor', 100))
print(justified('Tax', 2.5))
print(justified('Total', 114.95))
"
17071,27276,How to update quiver plot after moving object on it?,"from pylab import *
from scipy import *
import matplotlib.pyplot as plt
import matplotlib.patches as patches
import scipy.constants as const

skr = const.pi*const.epsilon_0*4

class DraggablePoint:
    global Polje
    def __init__(self, p, q0, ind):
        self.q = q0
        self.point = p
        self.c_kruznice = p.center
        self.press = None
        self.indeks = ind

    def connect(self):
        self.cidpress = self.point.figure.canvas.mpl_connect('button_press_event', self.button_press_event)
        self.cidrelease = self.point.figure.canvas.mpl_connect('button_release_event',self.button_release_event)  
        self.cidmotion = self.point.figure.canvas.mpl_connect('motion_notify_event', self.motion_notify_event)  

    def disconnect(self):
        self.point.figure.canvas.mpl_disconnect(self.cidpress)
        self.point.figure.canvas.mpl_disconnect(self.cidrelease)
        self.point.figure.canvas.mpl_disconnect(self.cidmotion)

    def button_press_event(self,event):
        if event.inaxes != self.point.axes:
            return
        contains = self.point.contains(event)[0]
        if not contains: return
        self.press = self.point.center, event.xdata, event.ydata

    def button_release_event(self,event):
        self.press = None
        self.point.figure.canvas.draw()
        # This is the part which will erase field
        # and draw for us new one
        self.c_kruznice = self.point.center[0], self.point.center[1]
        if self.indeks == 0:
            racun = polje(drs, X, Y)
            ax.cla()
            circles = []
            circles.append(ax.add_patch(circle1))
            circles.append(ax.add_patch(circle))
            circles.append(ax.add_patch(circle2))
            circles.append(ax.add_patch(circle3))
            ax.quiver(X,Y,racun[0],racun[1], color='r',  alpha=0.5)
            ax.quiver(X,Y,racun[0],racun[1], edgecolor='k', facecolor='None', linewidth =.5)
            plt.draw()

    def motion_notify_event(self, event):
        if self.press is None: return
        if event.inaxes != self.point.axes: returnO
        self.point.center, xpress, ypress = self.press
        dx = event.xdata - xpress
        dy = event.ydata - ypress
        self.point.center = (self.point.center[0]+dx, self.point.center[1]+dy)
        self.point.figure.canvas.draw()


if __name__ == '__main__':
    f_s=0.3
    def R(x,y):
        r=np.sqrt(x**2+y**2)+f_s
        return r

    def polje(tela, X, Y):
        Ex = 0
        Ey = 0
        for i in range(len(tela)):
            r = R(tela[i].c_kruznice[0] - X, tela[i].c_kruznice[1] - Y )
            ex = X - tela[i].c_kruznice[0]
            ey = Y - tela[i].c_kruznice[1]
            Ex += (tela[i].q/skr)*(1/(r+f_s)**3)*ex
            Ey += (tela[i].q/skr)*(1/(r+f_s)**3)*ey
        return Ex, Ey


    fig = plt.figure(figsize=(8,8))
    ax = fig.add_axes([0.05,0.05,0.92,0.92])
    ax.set_xlim(-6,6)
    ax.set_ylim(-6,6)
    scale = 0.2
    X,Y=np.mgrid[-5:5:scale, -5:5:scale]

    circles = []
    q=3*const.e
    s=abs(q)
    sx=sqrt(s/np.pi)*1e8*5
    circle2 = patches.Circle((2,3), 0.3, fc='r', alpha=0.5, picker=True)
    circle1 = patches.Circle((2,-3), 0.3, fc='r', alpha=0.5, picker=True)
    circle = patches.Circle((-2,3), 0.3, fc='b', alpha=0.5, picker=True)
    circle3 = patches.Circle((-2,-3), 0.3, fc = 'b', alpha = 0.5, picker = True )
    circles.append(ax.add_patch(circle1))
    circles.append(ax.add_patch(circle))
    circles.append(ax.add_patch(circle2))
    circles.append(ax.add_patch(circle3))
    drs = []

    i = 0
    q = [-1, 1, -1, 1]
    for c in circles:
        dr = DraggablePoint(c, q[i], i)
        dr.connect()
        drs.append(dr)
        i += 1

    racun = polje(drs, X, Y)
    ax.quiver(X,Y,racun[0],racun[1], color='r',  alpha=0.5)
    ax.quiver(X,Y,racun[0],racun[1], edgecolor='k', facecolor='None', linewidth =.5)
    plt.show()
"
19211,8542,interfacing wxpython and bash script,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

import wx, os

script = ""/path/to/script""

class myFrame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None, wx.ID_ANY, 'wxButton')
        self.button = wx.Button(self, id=-1, label='Click Me!')
        self.button.Bind(wx.EVT_BUTTON, self.on_button_click)

        self.Show(True)

    def on_button_click(self, event):
        os.system(script)

app  = wx.PySimpleApp()
main = myFrame()
app.MainLoop()
"
32756,33304,How do I construct a tuple in Cython?,"a = np.array([1, 2, 3])
t = tuple(a)
"
245,65501,how do you add multiple json files to elasticsearch,"from pyelasticsearch import ElasticSearch
import json
import os

es = ElasticSearch(ES_CLUSTER)

json_docs = []
for filename in os.listdir(os.getcwd()):
    if filename.endswith('.json'):
        with open(filename) as open_file:
            json_docs.append(json.load(open_file))

es.bulk(ES_INDEX, ES_TYPE, json_docs) 
"
37193,58209,Calculating the times into minutes,"from datetime import timedelta

start = timedelta(hours=1)
end = timedelta(hours=6)
duration = end - start
print duration.total_seconds() / 60
"
21666,54045,Django: How to programatically change superuser and/or staff status of a user,"user.save()
"
12191,12161,How can I remove elements from a list only knowing part of the string?,"def find_domains(txt):

    # Regex out domains   
    lines = txt.split('\n')
    domains = []
    unwanted_extensions = ('.exe', '.net', '.csv') # tuple containing unwanted extensions, add more if you want.

    for line in lines:
        line  = line.rstrip()
        results = re.findall('([\w\-\.]+(?:\.|\[\.\])+[a-z]{2,6})', line)
        for item in results:
            # check if item is not in domains already and if item doesn't end with any of the unwanted extensions.
            if item not in domains and not item.endswith(unwanted_extensions):
                domains.append(item)
"
38469,67961,interprocess communication in python,"import argparse
import zmq

parser = argparse.ArgumentParser(description='zeromq server/client')
parser.add_argument('--bar')
args = parser.parse_args()

if args.bar:
    # client
    context = zmq.Context()
    socket = context.socket(zmq.REQ)
    socket.connect('tcp://127.0.0.1:5555')
    socket.send(args.bar)
    msg = socket.recv()
    print msg
else:
    # server
    context = zmq.Context()
    socket = context.socket(zmq.REP)
    socket.bind('tcp://127.0.0.1:5555')
    while True:
        msg = socket.recv()
        if msg == 'zeromq':
            socket.send('ah ha!')
        else:
            socket.send('...nah')
"
12409,37856,Bottle.py serving larger images with a short delay results to zero length response,"import shutil

createImage(locA, filename)
shutil.move(os.path.join(locA, filename), locB)
"
27689,50623,(python) colour printing with decorator in a function,"#!/usr/bin/python2

import sys

def colorize(stdoutColor, stderrColor):
  defaultColor = '\033[0;0m'

  def applyColorize(f):
    class colorWrapper(object):
      def __init__(self, wrapee, color):
        self.wrapee = wrapee
        self.color = color
      def __getattr__(self, attr):
        if attr == 'write' and self.wrapee.isatty():
          return lambda x: self.wrapee.write(self.color + x + defaultColor)
        else:
          return getattr(self.wrapee, attr)

    def wrapper(*args, **kwds):
      oldStdout = sys.stdout
      oldStderr = sys.stderr
      sys.stdout = colorWrapper(oldStdout, stdoutColor)
      sys.stderr = colorWrapper(oldStderr, stderrColor)
      try:
        f(*args, **kwds)
      finally:
        sys.stdout = oldStdout
        sys.stderr = oldStderr

    return wrapper

  return applyColorize


greenColor = '\033[01;32m'
redColor = '\033[01;31m'

def foo():
  print ""I'm ordinary and boring!""
  print >> sys.stderr, 'Writing to stderr!'

@colorize(greenColor, redColor)
def colorFoo():
  print ""I'm colorful and exciting!""
  print >> sys.stderr, 'Writing to stderr!'

if __name__ == '__main__':
  foo()
  colorFoo()
  foo()
"
24136,70987,How to login user during Given step using django-behave,"from django.test import Client

@given('I am logged in')
def impl(context):
    c = Client()
    c.login(email='test@email.com',password='password')

    cookie = c.cookies['sessionid']

    b = context.browser
    b.get(context.server_url + '/404-loads-fastest/') # selenium will set cookie domain based on current page domain
    b.add_cookie({'name': 'sessionid', 'value': cookie.value, 'secure': False, 'path': '/'})
"
19451,54241,Issue scraping javascript generated content with Selenium and python,"from selenium import webdriver
from selenium.webdriver import DesiredCapabilities
from selenium.webdriver.common.by import By
from selenium.webdriver.support.wait import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

# set a custom user-agent
user_agent = ""Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.57 Safari/537.36""
dcap = dict(DesiredCapabilities.PHANTOMJS)
dcap[""phantomjs.page.settings.userAgent""] = user_agent

driver = webdriver.PhantomJS(desired_capabilities=dcap)
driver.get(""http://www.seloger.com/list.htm?cp=40250&org=advanced_search&idtt=2&pxmin=50000&pxmax=200000&surfacemin=20&surfacemax=100&idtypebien=2&idtypebien=1&idtypebien=11"")

# wait for arcitles to be present
wait = WebDriverWait(driver, 10)
wait.until(EC.presence_of_element_located((By.TAG_NAME, ""article"")))

# get articles
for article in driver.find_elements_by_tag_name(""article""):
    print(article.text)
"
21069,83212,Finding the most popular words in a list,"import collections
words = ['all', 'awesome', 'all', 'yeah', 'bye', 'all', 'yeah']
counter = collections.Counter(words)
print(counter.most_common())
>>> [('all', 3), ('yeah', 2), ('bye', 1), ('awesome', 1)]
"
12866,62737,Add __getitem__ to module,"class MyModule(object):
    def __init__(self, namespace):
        self.__dict__.update(namespace)
    def __getitem__(name):
        return self.__dict__[name]

import other
import sys
sys.modules[other.__name__] = MyModule(other.__dict__)
"
23859,63838,overloaded __iter__ is bypassed when deriving from dict,"static int
dict_update_common(PyObject *self, PyObject *args, PyObject *kwds, char *methname)
{
    PyObject *arg = NULL;
    int result = 0;

    if (!PyArg_UnpackTuple(args, methname, 0, 1, &arg))
        result = -1;

    else if (arg != NULL) {
        _Py_IDENTIFIER(keys);
        if (_PyObject_HasAttrId(arg, &PyId_keys))
            result = PyDict_Merge(self, arg, 1);
        else
            result = PyDict_MergeFromSeq2(self, arg, 1);
    }
    if (result == 0 && kwds != NULL) {
        if (PyArg_ValidateKeywordArguments(kwds))
            result = PyDict_Merge(self, kwds, 1);
        else
            result = -1;
    }
    return result;
}
"
16968,81498,How do I get the URL of an HTTP redirect's target?,"response = urlfetch.fetch(your_url, follow_redirects=False)
location = response.headers['Location']
"
36499,75844,How to make a script execute just after python shell starts and before customuer's input?,"import numpy as np
import scipy as sp
"
4126,38502,How to display an image in a scrolled pannel,"#!/usr/bin/env python

import sys, os
import wx
import wx.lib.scrolledpanel as scrolled

class ImgPanel(scrolled.ScrolledPanel):
    def __init__(self, parent):
        super(ImgPanel, self).__init__(parent, 
                                       style = wx.SUNKEN_BORDER)

        self.bitmap=wx.StaticBitmap(parent=self)
        image = wx.Bitmap('image.jpg')
        self.bitmap.SetBitmap(image)

        self.imgSizer = wx.BoxSizer(wx.VERTICAL)        
        self.imgSizer.Add(self.bitmap, 1, wx.EXPAND)
        self.SetSizer(self.imgSizer)

        self.SetAutoLayout(1)
        self.SetupScrolling()    
        self.Bind(wx.EVT_PAINT, self.OnPaint)
        self.bitmap.Bind(wx.EVT_MOTION, self.OnMove)
        self.bitmap.Bind(wx.EVT_LEFT_DOWN, self.OnLeftDown)
        self.bitmap.Bind(wx.EVT_LEFT_UP, self.OnLeftUp)
        self.IsRectReady = False
        self.newRectPara=[0,0,0,0]

class  WinFrame(wx.Frame):
    def __init__(self, parent, title, width, height):
        super(WinFrame, self).__init__(parent, 
                                       title=title,
                                       size=(width, height))

        self.imgPanel = ImgPanel(self)
        self.frameSizer = wx.BoxSizer(wx.HORIZONTAL)        
        self.frameSizer.Add(self.imgPanel, 1, wx.EXPAND)        
        self.SetAutoLayout(True)
        self.SetSizer(self.frameSizer)
        self.Layout()      

        self.Centre()
        self.Show(True)        


class MyApp(wx.App):
    def __init__(self, width, height):
        super(MyApp, self).__init__(0)

        self.width = width
        self.height = height

    def createFrame(self):
        self.frame = WinFrame(None, ""test"", self.width, self.height)
        self.SetTopWindow(self.frame)    

def main():
    app = MyApp(640, 480)
    app.createFrame()
    app.MainLoop()

if ""__main__"" == __name__ :
    main()
"
24547,3254,"read file into a dictionary so that columns become keys and values, Python","from collections import defaultdict

d = defaultdict(set)

with open('data.csv','r') as r:
    for line in r:
        splitted = line.strip().split(',')
        name = splitted[3].strip()
        value = splitted[4].strip()
        d[name].add(value)
"
9333,29183,Python .avi to .mp4,"import os

def convert_avi_to_mp4(avi_file_path):
    os.popen(""ffmpeg -i '{input}' -ac 2 -b:v 2000k -c:a aac -c:v libx264 -b:a 160k -vprofile high -bf 0 -strict experimental -f mp4 'output.mp4'"".format(input = avi_file_path)
return True
"
32778,56414,Get n-th bit precision of integer,"windows command prompt>\python27\python -mtimeit -s""a=10**20;n=3"" ""(a>>n)&1""
1000000 loops, best of 3: 0.238 usec per loop

-s""a=10**20;n=3"" ""(a>>n)&1""
0.238 usec 

-s""a=10**20;n=3"" ""not not(a & (1 << n))""
0.154 usec 

-s""a=10**200;n=3"" ""(a>>n)&1""
0.382 usec 

-s""a=10**200;n=3"" ""not not(a & (1 << n))""
0.155 usec 

-s""a=10**10;n=3"" ""(a>>n)&1""
0.231 usec 

-s""a=10**10;n=3"" ""not not(a & (1 << n))""
0.156 usec 

-s""a=10**9;n=3"" ""(a>>n)&1""
0.0801 usec

-s""a=10**9;n=3"" ""not not(a & (1 << n))""
0.0938 usec

-s""a=2**1000;n=64"" ""(a>>n)&1""
0.446 usec

-s""a=2**1000;n=64"" ""not not(a & (1 << n))""
0.255 usec
"
24182,55751,Finding the columns which are unique to a row in a datafame in python,"In [19]:
df.columns[df.sum(axis=0) == 1]

Out[19]:
Int64Index([5, 6, 7, 8], dtype='int64')
"
915,48436,Eager load partial relationship in SQLAlchemy,"stmt = session.query(Address).\
                 limit(5).\
                 subquery()
adalias = aliased(Address, stmt)
for user, address in session.query(User, adalias).\
         join(adalias, User.addresses): 
     print user
     print address
"
11614,74992,How do I convert a python list comprehension to a map/filter function calls?,"return map(lambda x: x.doSomething(), 
           filter(lambda x: x[0] == ""z"", getIterator()))
"
29347,69949,"nonlinear colormap, matplotlib","import numpy as np
import matplotlib.pyplot as plt

x = y = np.linspace(1, 10, 10)

t1mean, t2mean = 2, 9
sigma1, sigma2 = .3, .01
t1 = np.random.normal(t1mean, sigma1, 10)
t2 = np.random.normal(t2mean, sigma2, 10)

class nlcmap(object):
    def __init__(self, cmap, levels):
        self.cmap = cmap
        self.N = cmap.N
        self.monochrome = self.cmap.monochrome
        self.levels = np.asarray(levels, dtype='float64')
        self._x = self.levels
        self.levmax = self.levels.max()
        self.transformed_levels = np.linspace(0.0, self.levmax,
             len(self.levels))

    def __call__(self, xi, alpha=1.0, **kw):
        yi = np.interp(xi, self._x, self.transformed_levels)
        return self.cmap(yi / self.levmax, alpha)

tmax = max(t1.max(), t2.max())
#the choice of the levels depends on the data:
levels = np.concatenate((
    [0, tmax],
    np.linspace(t1mean - 4 * sigma1, t1mean + 4 * sigma1, 5),
    np.linspace(t2mean - 4 * sigma2, t2mean + 4 * sigma2, 5),
    ))

levels = levels[levels <= tmax]
levels.sort()

cmap_nonlin = nlcmap(plt.cm.jet, levels)

fig, (ax1, ax2) = plt.subplots(1, 2)

ax1.scatter(x, y, edgecolors=cmap_nonlin(t1), s=15, linewidths=4)
ax2.scatter(x, y, edgecolors=cmap_nonlin(t2), s=15, linewidths=4)

fig.subplots_adjust(left=.25)
cbar_ax = fig.add_axes([0.10, 0.15, 0.05, 0.7])

#for the colorbar we map the original colormap, not the nonlinear one:
sm = plt.cm.ScalarMappable(cmap=plt.cm.jet, 
                norm=plt.Normalize(vmin=0, vmax=tmax))
sm._A = []

cbar = fig.colorbar(sm, cax=cbar_ax)
#here we are relabel the linear colorbar ticks to match the nonlinear ticks
cbar.set_ticks(cmap_nonlin.transformed_levels)
cbar.set_ticklabels([""%.2f"" % lev for lev in levels])

plt.show()
"
5417,67575,Reorder Columns Based on a Dictionary,"df = df.rename(columns=month_dict).sort_index(axis=1)
"
26677,79987,python email encoding problem,"from email.parser import FeedParser
f = FeedParser()
f.feed(""<insert mail message here, including all headers>"")
rootMessage = f.close()

# Now you can access the message and its submessages (if it's multipart)
print rootMessage.is_multipart()

# Or check for errors
print rootMessage.defects

# If it's a multipart message, you can get the first submessage and then its payload
# (i.e. content) like so:
rootMessage.get_payload(0).get_payload(decode=True)
"
28112,39861,efficiently splitting one file into several files by value of column,"awk '{ print >> $5 }' yourfile
"
13893,27248,How can I reference the __init__ method of a derived class in Python from the base class?,"valid_kwargs = get_valid_kwargs(cls.__init__, config_dict)
"
34673,30423,How to get data in a histogram bin,"import numpy as NP
A = NP.random.randint(0, 10, 100)

bins = NP.array([0., 20., 40., 60., 80., 100.])

# d is an index array holding the bin id for each point in A
d = NP.digitize(A, bins)     
"
20876,40496,How can one plot time-related information with python in a natural human-readable way?,"import matplotlib.dates as mdates
import matplotlib.mlab as mlab
import matplotlib.pyplot as plt
import datetime as dt
import sys

def main( datafile ):
    np_rec_array = mlab.csv2rec( datafile, delimiter='\t' )
    np_rec_array.sort() # in-place sort
    # a `figure` is a starting point for MPL visualizations
    fig = plt.figure( figsize=(8,6) ) 
    # add a set of `axes` to above `figure`
    ax = fig.add_subplot(111)
    x = np_rec_array.visit_time
    y = np_rec_array.total_visits
    # `plot_date` is like `plot` but allows for easier x-axis formatting
    ax.plot_date(x, y, 'o-', color='g') 
    # show time every 30 minutes
    ax.xaxis.set_major_locator( mdates.MinuteLocator(interval=30) )
    # specify time format
    ax.xaxis.set_major_formatter( mdates.DateFormatter(""%H:%M"") )
    # set x-axis label rotation (otherwise they can overlap)
    for l in ax.get_xticklabels():
        l.set_rotation(60)
    plt.title( 'Website Visits' )
    plt.show()

if __name__ == '__main__':
    if len( sys.argv ) == 1:
        sys.stderr.write( 'need a filename, exiting...' )
        sys.exit(-1)
    main( sys.argv[1] )
"
27105,83703,PySide (or PyQt) signals and slots basics,"class MyMainWindow(QWidget):
    def __init__(self):
        QWidget.__init__(self, None)

        vbox = QVBoxLayout(self)

        self.sone = QSlider(Qt.Horizontal)
        self.sone.setRange(0,99)
        self.sone.setValue(0)
        vbox.addWidget(self.sone)

        self.stwo = QSlider(Qt.Horizontal)
        self.stwo.setRange(0,99)
        self.stwo.setValue(99)
        vbox.addWidget(self.stwo)

        self.sone.valueChanged.connect(self.sliderChanged)

    def sliderChanged(self, val):
        self.stwo.setValue(self.stwo.maximum() - val)
"
29438,4461,Order of evaluation in Python is not clear,">>> import dis
>>> def test(x, y):
...     x, y = y, x
... 
>>> dis.dis(test)
  2           0 LOAD_FAST                1 (y)
              3 LOAD_FAST                0 (x)
              6 ROT_TWO             
              7 STORE_FAST               0 (x)
             10 STORE_FAST               1 (y)
             13 LOAD_CONST               0 (None)
             16 RETURN_VALUE     
"
27003,8277,how to set maxlen when subclassing a deque,"class dequePlus(collections.deque):
    def __init__(self, iterable):
        collections.deque.__init__(self, iterable, 100)
"
8022,66505,Python tarfile extractall except files matching string,"def custom_files(members):
    for tarinfo in members:
        if os.path.splitext(tarinfo.name)[1] != "".html"":
            yield tarinfo

tar = tarfile.open(""sample.tar.gz"")
tar.extractall(members=custom_files(tar))
tar.close()
"
20323,17753,Python Process Pool non-daemonic?,"#!/usr/bin/env python
# -*- coding: UTF-8 -*-

import multiprocessing
# We must import this explicitly, it is not imported by the top-level
# multiprocessing module.
import multiprocessing.pool
import time

from random import randint


class NoDaemonProcess(multiprocessing.Process):
    # make 'daemon' attribute always return False
    def _get_daemon(self):
        return False
    def _set_daemon(self, value):
        pass
    daemon = property(_get_daemon, _set_daemon)

# We sub-class multiprocessing.pool.Pool instead of multiprocessing.Pool
# because the latter is only a wrapper function, not a proper class.
class MyPool(multiprocessing.pool.Pool):
    Process = NoDaemonProcess

def sleepawhile(t):
    print(""Sleeping %i seconds..."" % t)
    time.sleep(t)
    return t

def work(num_procs):
    print(""Creating %i (daemon) workers and jobs in child."" % num_procs)
    pool = multiprocessing.Pool(num_procs)

    result = pool.map(sleepawhile,
        [randint(1, 5) for x in range(num_procs)])

    # The following is not really needed, since the (daemon) workers of the
    # child's pool are killed when the child is terminated, but it's good
    # practice to cleanup after ourselves anyway.
    pool.close()
    pool.join()
    return result

def test():
    print(""Creating 5 (non-daemon) workers and jobs in main process."")
    pool = MyPool(5)

    result = pool.map(work, [randint(1, 5) for x in range(5)])

    pool.close()
    pool.join()
    print(result)

if __name__ == '__main__':
    test()
"
19405,79959,Downloading files from the other side of a login,"import urllib2
from cookielib import CookieJar

cookiejar = CookieJar()
opener = urllib2.build_opener()
cookieproc = urllib2.HTTPCookieProcessor(cookiejar)
opener.add_handler(cookieproc)
"
35790,28599,Passing in constructor values into a method?,"class MyClass(object):
    def __init__(self, ...):
        self._session = ...

    def insert_stuff(self, table):
        self._session.add(table)


c = MyClass(...)
t = MyTableClass(...)
c.insert_stuff(t)
"
3835,16642,Using a class-object's function output later in the program [Python 2.7],"final = myClassObject.getPlays()
print final 
"
37717,68609,Python - How to use underlying object's constructor as class method?,"class Foo:
    def __init__(self):
        self.bars = []

    def append_bar(self, *args, **kwargs):
        self.bars.append(Bar(*args, **kwargs))

class Bar:
    def __init__(self, a, b, c, d):
        self.a = a
        self.b = b
        self.c = c
        self.d = d

f=Foo()
f.append_bar(1,2,3,4)
"
8336,53412,How can I do 'a' + 1 #=> 'b' in python?,"chr(ord('b') + 1)
"
29474,15979,Python3 subprocess output,"import subprocess
stdoutdata = subprocess.getoutput(""wc --lines /var/log/syslog"")
print(""stdoutdata: "" + stdoutdata.split()[0])
"
8578,82491,Reply to Message Skype4Py,"def OnMessageStatus(msg, status):
    if status == Skype4Py.cmsReceived:
        msg.Chat.SendMessage(""n/a"")
"
22662,37007,filter choices for many to many field in modelform django,"class PollForm(forms.ModelForm): # used in manage view
                    class Meta:
                        model = StandardWork
                        exclude = ('cbs_and_role','publish', 'standard_work_number')
                        widgets = {
                          'system_description': forms.Textarea(attrs={'rows':3}),
                        } 
                    def __init__(self, *args, **kwargs):
                        super(PollForm, self).__init__(*args, **kwargs)
                        if self.instance:
                            print ""printing in form""
                            print self.instance.id
                            self.fields['ideal_behaviour'].queryset = IdealBehaviour.objects.filter(cbs__exact=cbsobject)
"
16258,72549,Operations on pandas dataframe between values of specific columns / rows,"def func(df1):
    idx = df1.index.get_level_values(0)[0]
    df1 = df1.loc[idx]
    return (df1['Values'] / df1.loc['Calc']['Values']).to_frame()

df.groupby(level=0).apply(func)
"
4538,25007,Check if a function returns false in Python,"if user_can_read(request.user, b):
    ## do stuff
"
21007,64678,"How to publish module ""__main__"" when hosting IronPython 2.0?","/// <summary>
/// Set up an IronPython environment - for interactive shell or for canned scripts
/// </summary>
public void SetupEnvironment(ScriptEngine engine, ScriptScope scriptScope)
{
    // add variables from Revit
    scriptScope.SetVariable(""__revit__"", _commandData.Application);
    scriptScope.SetVariable(""__commandData__"", _commandData);
    scriptScope.SetVariable(""__message__"", _message);
    scriptScope.SetVariable(""__elements__"", _elements);
    scriptScope.SetVariable(""__result__"", (int)Result.Succeeded);           

    // add preconfigures variables
    scriptScope.SetVariable(""__vars__"", RevitPythonShellApplication.GetVariables());

    // add the current scope as module '__main__'
    var languageContext = Microsoft.Scripting.Hosting.Providers.HostingHelpers.GetLanguageContext(engine);
    var pythonContext = (IronPython.Runtime.PythonContext)languageContext;
    var module = pythonContext.CreateModule(null, GetScope(scriptScope), null, IronPython.Runtime.ModuleOptions.None);            
    pythonContext.PublishModule(""__main__"", module);

    // add the search paths
    AddSearchPaths(engine);
}

/// <summary>
/// Be nasty and reach into the ScriptScope to get at its private '_scope' member,
/// since the accessor 'ScriptScope.Scope' was defined 'internal'.
/// </summary>
private Microsoft.Scripting.Runtime.Scope GetScope(ScriptScope scriptScope)
{
    var field = scriptScope.GetType().GetField(
        ""_scope"", 
        System.Reflection.BindingFlags.NonPublic | System.Reflection.BindingFlags.Instance);
    return (Microsoft.Scripting.Runtime.Scope) field.GetValue(scriptScope);
}
"
12873,72085,Speeding Ticket Fine Calulation,"def main():
    done = False
    while not done:
        limit = ask_limit()
        speed = ask_speed()
        findfine(speed, limit)

        done = raw_input(""Done? "") == ""yes""
"
36088,18952,Python: How do I clear a .txt file with the open() function?,"with open('your_file', 'w') as f:
    f.write('Some text\n')
"
7980,26109,Find word vertically from 2D crosswords or 2D lists,"def find_word_vertical(crosswords,word):
    z=[list(i) for i in zip(*crosswords)]   
    for rows in z:          
        row_index = z.index(rows)
        single_row = ''.join(rows)      
        column_index = single_row.find(word)        
        if column_index >= 0:
            return([column_index, row_index])
"
23168,76610,How to test a regex password in Python?,"import re
password = raw_input(""Enter string to test: "")
if re.match(r'[A-Za-z0-9@#$%^&+=]{8,}', password):
    # match
else:
    # no match
"
32675,42289,Why does scipy.optimize rely so heavily on start values?,"import numpy as np
from scipy.optimize import fmin_l_bfgs_b

# do the math by hand, it's quite simple in this case
def target_fun(p, k, n):
    f = - k* np.log(p) - (n-k)*np.log(1-p)
    g =  - k/p + (n-k) / (1-p)
    return f, g

f = lambda p: target_fun(p, k=6, n=9)
epsilon = 1e-9
fmin_l_bfgs_b(f, 0.999, bounds=[(epsilon,1-epsilon)])
"
15685,51731,Django URL regex question,"/env/<env>/artifact/<artifact>?verbose=1&noformat=1
"
26038,13683,Python assignment to conditional LHS,"def decider(x, y, condition, val):
    if condition:
        return val, y
    return x, val

a, b = decider(a, b, cond, value)
"
23575,53604,How to make a copy of the list?,"import copy
new_list = copy.deepcopy(old_list)
"
19394,60868,Django meta field ordering VS Django Rest Framework OrderingFilter,"http://example.com/api/users?ordering=-time
http://example.com/api/users?ordering=username
"
241,42148,optimize word by word comparison,"for i in range(len(words)):
    for j in range(i+1, len(words)):
        word, other_word = words[i], words[j]
        ...
"
2749,65117,How do you join two KeyedTuple objects in sqlalchemy?,">>> from sqlalchemy.util import KeyedTuple
>>> res = KeyedTuple(a + b, a.keys() + b.keys())
"
19550,60833,How to get the python.exe location programmatically?,">>> import sys
>>> print sys.executable
/usr/bin/python
"
39986,65191,Create a mix of string and digit with Factory Boy in django,"def generate_serial():
    return random.choice(string.ascii_uppercase) + random.choice(string.digits)

class CardFactory(DjangoModelFactory):
    class Meta:
        model = Card
    serial_number = FuzzyAttribute(generate_serial)
"
30805,8825,Python Requests - Inserting credentials as variables in FORM_DATA,"FORM_DATA = {
    '__EVENTTARGET': '',
    '__EVENTARGUMENT': '',
    '__VIEWSTATE': '/wEPDwUKMTA5NTA5ODU1MQ9kFgJmD2QWAgIGDxBkDxYFZgIBAgICAwIEF***REMAINDER REMOVED***',
    '__EVENTVALIDATION': '/wEdAAp4d3BHvSTs+Kv6cxGP3xEbBr8xrgRYad2tj4YCyRIw5qUAjimf****REMAINDER REMOVED****',
    'jsCheck': '',
    'ddlEngine': 'REMOVED:13008',
    'Username': uname,
    'Password': passw,
    'btnLogin.x': '42',
    'btnLogin.y': '9',
    'btnLogin': 'Login',
}
"
1835,46101,List.pop() in Django Template without for loop,"{% for user in all_entries_user %}
    Do your thing with {{ user }}
{% endfor %}
"
31517,38858,How can I get the externalname of a column using IronPython in Spotfire?,"col_ext_name = Document.ActiveDataTableReference.Columns[""I_id""].Properties[""ExternalName""]

print(col_ext_name)

>> index_id
"
6813,44785,Updating the x-axis values using matplotlib animation,"import matplotlib.pylab as plt
import matplotlib.animation as animation
import numpy as np

#create image with format (time,x,y)
image = np.random.rand(100,10,10)

#setup figure
fig = plt.figure()
ax1 = fig.add_subplot(1,2,1)
ax2 = fig.add_subplot(1,2,2)
#set up viewing window (in this case the 25 most recent values)
repeat_length = (np.shape(image)[0]+1)/4
ax2.set_xlim([0,repeat_length])
#ax2.autoscale_view()
ax2.set_ylim([np.amin(image[:,5,5]),np.amax(image[:,5,5])])

#set up list of images for animation


im = ax1.imshow(image[0,:,:])
im2, = ax2.plot([], [], color=(0,0,1))

def func(n):
    im.set_data(image[n,:,:])

    im2.set_xdata(np.arange(n))
    im2.set_ydata(image[0:n, 5, 5])
    if n>repeat_length:
        lim = ax2.set_xlim(n-repeat_length, n)
    else:
        # makes it look ok when the animation loops
        lim = ax2.set_xlim(0, repeat_length)
    return im, im2

ani = animation.FuncAnimation(fig, func, frames=image.shape[0], interval=30, blit=False)

plt.show()
"
282,50388,Solve for constants of 4-parameter (Rodbard Equation) using Python,"def f(x1, a1, b1, c1, d1):
    return c1 * (((x1 - a1)/(d1 - x1))**1/b1)

x_data = np.array([176.5, 161.333, 66.1667, 40.833])
y_data = np.array([0., 0.1, 0.9, 2.5])
p0 = np.array([168., -0.01, -7.4, 35000.])

popt, pcov = opt.curve_fit(f, x_data, y_data, p0, None, False, True, ftol = 0.00001)
"
22669,78145,how to control output format when chinese characters and ascii mixed?,"table='''乘客姓名,性别,出生日期
HuangTianhui,男,1948/05/28
姜翠云,女,1952/03/27
李红晶,女,1994/12/09
LuiChing,女,1969/08/02
宋飞飞,男,1982/03/01
唐旭东,男,1983/08/03
YangJiabao,女,1988/08/25
提江·阿布拉,男,1979/07/10
安文兰,女,1949/10/20
胡偲婠(婴儿),女,2011/02/25
(有待确定姓名),男,1985/07/20
'''
table = table.encode('gb18030')
data = [[cell  for cell in row.split(b"","")]
        for row in table.split(b""\n"")  if row]
len0 = max([len(x[0]) for x in data])
len1 = max([len(x[1]) for x in data])
len2 = max([len(x[2]) for x in data])

for cell in data:
    print(""_"" * (len0+len1+len2+4))
    line = (
        b""|"" + cell[0].rjust(len0) +
        b""|"" + cell[1].rjust(len1) +
        b""|"" + cell[2].rjust(len2) + b""|""
    )
    print(line.decode('gb18030'))
"
29009,52580,get numpy array of matplotlib tricontourf,"cs = tricontourf(tri,height)
for collection in cs.collections:
    for path in collection.get_paths():
        print path.to_polygons()
"
26057,79549,Python Noob issue with populating dictionary from file. Then updating dict and writing back to file,"#!/usr/bin/python

import sys

d = {}
line_list=[]
alist=[]
f = open(sys.argv[3], 'r') # Persisted Dictionary File

for line in f:
    line = line.strip()
    if line =="""":
        continue
    alist = line.split()
    key = alist[0]
    value = alist[1]
    d[str(key)] = str(value)
    alist=[]
f.close()

fr = open(sys.argv[1], 'r') # source file
fw = open(sys.argv[2]+""/masked_""+sys.argv[1], 'w') # Target Directory Location

for line in fr:
    line = line.strip()
    if line == """":
        continue
    columns = line.strip().split('|')
    if columns[0].find(""@"") > 1:
        looking_for = columns[0] # this is what we need to search
    else:
        looking_for = ""Dummy@dummy.com""
    if looking_for in d:
        # by default, iterating over a dictionary will return keys
            new_line = d[looking_for]+'|'+'|'.join(columns[1:])
            line_list.append(new_line)
    else:
        new_idx = str(len(d)+1)
        d[looking_for] = new_idx
        kv = open(sys.argv[3], 'a')
        kv.write(looking_for+"" ""+new_idx+'\n')
        kv.close()
        new_line = d[looking_for]+'|'+'|'.join(columns[1:])
        line_list.append(new_line)
fw.writelines(line_list)
"
31204,25280,Making a Python program handle mailto links,"import urllib.parse
parsed = urllib.parse.urlparse(sys.argv[1])
mail_addr = parsed.path
fields = urllib.parse.parse_qs(parsed.query)
"
12214,13878,Can I make a regular expression negative lookbehind assertion apply to the whole expression?,"re.findall(r'(?<![!])\b\w+', ' !Hai  Yo!')
"
4509,33268,How to query Elasticsearch to boost by specific field,"{
""query"": {
    ""function_score"": {
        ""query"": {  
            ""match"": {
                ""text"": ""how now brown cow""
            }
        },
        ""functions"": [{
            ""script_score"": { 
                ""script"": ""doc['weight'].value""
            }
        }],
        ""score_mode"": ""multiply""
    }
}
}
"
14868,22532,Python Regular Expression pattern,"pattern = r""\w.\d{3}\-\w+.(jpg|Jpg|JPG)""


for filename in FileList:
    if displaymatch(re.match(pattern, filename)) is None:
        os.rename(filename, ""P."" + str(""{0:0=3d}"".format(num)) + ""-"" + filename)
        num+= 1
"
34676,1256,Multiple characters in Python ord function,"your_sum = sum([ord(i) for i in '\xff\x1a'])
"
3452,55755,kill subprocesses using bash script,"timeout 100 ./myprocess.py
"
20495,45360,Generate a random letter in Python,">>> import string
>>> string.letters
'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'
>>> import random
>>> random.choice(string.letters)
'j'
"
35895,74487,Rotating logs using RotatingFileHandler by date in Python,"my_handler = TimedRotatingFileHandler(LOG_PATH, when='midnight', backupCount=20)
"
29660,74219,Read .txt file attachment in Google App Engine email,"def receive(self, message):
    plaintext_body = ''
    for plain in message.bodies('text/plain'):
        plaintext_body = plain[1].decode()

    if not plaintext_body and hasattr(message, 'attachments'):
        for attachment in message.attachments:
            if attachment[0].endswith('.txt'):
                plaintext_body = attachment[1].decode()
                if plaintext_body:
                    break
"
5081,29764,Python SQL query to retrieve data from relational DB,"#!/usr/bin/env python

import MySQLdb

# Open databse connection
db = MySQLdb.connect(host=""****"",user=""****"",passwd=""****"",db=""****"")

#Prepare a cursor object using cursor() method
cur = db.cursor(MySQLdb.cursors.DictCursor)

#Execute SQL query using execute() method
cur.execute(""SELECT sensor_id, sensor_types.type_name FROM sensors INNER JOIN sensor_types ON sensors.type_id=sensor_types.type_id"")

#Fetch the results
data = cur.fetchall()

#Print out results
for row in data:
    print row[""sensor_id""],row[""type_name""]

#Disconnect from server
db.close()
"
4639,22967,Can you polymorph a python unittest test case?,"class baseTest(unittest.TestCase):
    def setUp(self):
        print('base setup')
        self.A = 100

    def testSomething(self):
        print('base test')
        self._DoTestSomething(self)

    def _DoTestSomething(self)
        # Do something with self.A

class subTest(baseTest):
    def setUp(self):
        print('sub setup')
        self.A = 999

    def _DoTestSomething(self)
        # Do something with self.A
"
17269,80066,Check array for values equal or very close to zero,"np.any(np.absolute(my_array) < eps)
"
28406,79879,Finding/Replacing substrings with annotations in an ASCII file in Python,"motifs = [ x.strip() for x in open('final motifs_11SGLOBULIN','r') ]
redact = '*****'

with open('11sglobulin.seqs','r') as data_in, open('11sglobulin.seqs.new','w') as data_out:
  for seq in data_in:
    for motif in motifs:
      while True:
        x = seq.find(motif)
        if x >= 0:
          seq = seq[:x] + redact + seq[x+len(motif):]
        else:
          break
  data_out.write(seq)
"
274,21939,Python 3.4.3.: sum of all the lengths of strings in binary string tree,"def total_len(bst):
    if isinstance(bst, tuple):
        if bst == ():
            return 0
        else:
            return total_len(bst[0]) + total_len(bst[1:])
    else:
        return len(bst)
"
12030,30487,How do I select all text nodes in a document?,">>> import lxml.html
>>> text_string = '''<html>
...   <body>
...     <p>Hello World!</p>
...     <p>Goodbye!</p>
...   </body>
... </html>'''
>>> root = lxml.html.document_fromstring(text_string)
>>> text_elements = root.xpath('//text()')
>>> for t in text_elements:
...     print t.getparent(), type(t), repr(t)
... 
<Element body at 0x193b170> <class 'lxml.etree._ElementStringResult'> '\n    '
<Element p at 0x193b1d0> <class 'lxml.etree._ElementStringResult'> 'Hello World!'
<Element p at 0x193b1d0> <class 'lxml.etree._ElementStringResult'> '\n    '
<Element p at 0x193b290> <class 'lxml.etree._ElementStringResult'> 'Goodbye!'
<Element p at 0x193b290> <class 'lxml.etree._ElementStringResult'> '\n  '
"
22786,6109,Python combine multiple lists of tuples,"l1 = [('A', 1, 3), ('B', 2, 5), ('C', 3, 16), ('D', 4, 19), ('E', 5, 20)];
l2 = [('A', 1), ('C', 2), ('F', 8), ('D', 15), ('X',21)];
l3 = [('C', 1), ('F', 4), ('R', 16), ('D', 19), ('Z', 31)]

for k in l1,l2,l3:
    # 'dummy to keep track of tuple size'
    k.append(('dummy',len(k[0][1:])))

dict_lx =  [ dict(map(lambda x: (x[0], x[1:]), l)) for l in l1,l2,l3 ]
sorted_keys = sorted(set(reduce(lambda x,y : x + y.keys(), dict_lx, [])))

final = map(lambda key: tuple(
    [key] + reduce(lambda x,y: x + list(y.get(key, y.get('dummy')[0]*[0])), dict_lx, [])), sorted_keys)

final = filter(lambda x: x[0] != 'dummy', final)
print final
#[('A', 1, 3, 1, 0), ('B', 2, 5, 0, 0), ('C', 3, 16, 2, 1), ('D', 4, 19, 15, 19), ('E', 5, 20, 0, 0), ('F', 0, 0, 8, 4), ('R', 0, 0, 0, 16), ('X', 0, 0, 21, 0), ('Z', 0, 0, 0, 31)]
"
23870,16922,Mapping nested dictionaries in python,"indices = [['islink',], ['authors', 0, 'name']]
result = []
for index in indices:
  value = input_dict
  for single_index in index:
    value=value[single_index]
  result.append(value)
"
29671,39540,What checks should be performed on user data from forms?,"# this basic string query is safe
query = Song.all()
query.filter('title =', self.request.get('title'))

# a GqlQuery version of the previous example
query = GqlQuery(""SELECT x FROM Song WHERE title = :1"",self.request.get('title'))

# sanitize/validate when you have requirements: e.g., year must be a number
query = Song.all()
try:
    year = int(self.request.get('year'))  # make sure we got a number
except:
    show error msg
query.filter('year =', year)
"
830,18710,Python numpy exponential notation,"r=1.220536239336080619e+01
print ""%-.24f""%(r)

12.205362393360806194664292
"
19672,3991,Twisted Python script on Raspberry Pi (Debian) to communicate with Arduino via USB,"class USBclient(Protocol):
    def connectionMade(self):
        global serServ
        serServ = self
        print 'Arduino device: ', serServ, ' is connected.'

    def cmdReceived(self, cmd):
        serServ.transport.write(cmd)
        print cmd, ' - sent to Arduino.'
        pass

    def dataReceived(self,data):      
        print 'USBclient.dataReceived called with:'
        print str(data)
"
12174,46701,Python: convert string to packed hex ( '01020304' -> '\x01\x02\x03\x04' ),"import binascii, doctest

def ascii_to_packed_hex(string_data): 
    r""""""
    >>> binascii.a2b_hex('01')
    '\x01'
    >>> binascii.a2b_hex('0102030405')
    '\x01\x02\x03\x04\x05'
    >>> binascii.a2b_hex('fafbfcfd')
    '\xfa\xfb\xfc\xfd'
    >>> binascii.a2b_hex('31323334')
    '1234'
    """"""
    doctest.testmod()
"
37083,1305,5×5 dimensional matrix from m×n matrix,"def give_matrix(arr,i,j):
    res = []
    for ii in range(i-2,i+3): 
        inner_res = []
        for jj in range(j-2,j+3):
            if (ii-2<0 or ii+3>n or jj-2<0 or jj+3>n): # manage borders
                inner_res.append('x')
            else:
                inner_res.append(arr[ii][jj])
        res.append(inner_res)
    return res
"
35604,84750,Can glob be used in conjuction with os.system?,"import os
import glob
for filename in glob.glob('*.apk'):
    os.system(""java -Xmx4g -cp soot-trunk.jar;soot-infoflow.jar;soot-infoflow-android.jar;slf4j-api-1.7.5.jar;s‌​lf4j-simple-.7.5.jar;axml-2.0.jar soot.jimple.infoflow.android.TestApps.Test C:\\Users\\Admin\\Downloads\\DroidBench-master\\DroidBench-master\\apk\\nf\\%s C:\\Users\\Admin\\Downloads\\EnSoft\\EnSoft\\android-sdk\\platforms"" % filename)
"
17292,57644,python library for splitting video,"import cv

capture = cv.CaptureFromFile(filename)
while Condition1:
    # Need a frame to get the output video dimensions
    frame = cv.RetrieveFrame(capture) # Will return None if there are no frames
    # New video file
    video_out = cv.CreateVideoWriter(output_filenameX, CV_FOURCC('M','J','P','G'), capture.fps, frame.size(), 1)
    # Write the frames
    cv.WriteFrame(video_out, frame)
    while Condition2:
        frame = cv.RetrieveFrame(capture) # Will return None if there are no frames
        cv.WriteFrame(video_out, frame)
"
29267,45621,python matplotlib: add labels and set their colours correctly for a stackplot,"fields = ax.stackplot(df.index,df.field1,df.field2)
colors = [field.get_facecolor()[0] for field in fields]
patch1=mpl.patches.Patch(color=colors[0],label= 'field 1')
patch2=mpl.patches.Patch(color=colors[1], label ='field 2')
"
19029,31246,Converting a Ruby hash string to a Python dictionary,"# Sometimes MCO gives us a ruby hash as a string, We can coerce this into json then into dictionary
def convert_hash_to_dict(self,ruby_hash):
    dict_str = ruby_hash.replace("":"",'""')    # Remove the ruby object key prefix
    dict_str = dict_str.replace(""=>"",'"" : ') # swap the k => v notation, and close any unshut quotes 
    dict_str = dict_str.replace('""""','""')    # strip back any double quotes we created to sinlges
    return json.loads(dict_str) 
"
14093,57804,Adding text over existing PDFs using reportlab,"String formFile = ""/path/to/myform.pdf""
String newFile = ""/path/to/output.pdf""
PdfReader reader = new PdfReader(formFile);
FileOutputStream outStream = new FileOutputStream(newFile);
PdfStamper stamper = new PdfStamper(reader, outStream);
AcroFields fields = stamper.getAcroFields();

// fill the form
fields.setField(""name"", ""Shane"");
fields.setField(""url"", ""http://stackoverflow.com"");

// PDF infos
HashMap<String, String> infoDoc = new HashMap<String, String>();
infoDoc.put(""Title"", ""your title here"");
infoDoc.put(""Author"", ""JRE ;)"");
stamper.setMoreInfo(infoDoc);

// Flatten the PDF & cleanup
stamper.setFormFlattening(true);
stamper.close();
reader.close();
outStream.close();
"
8782,68225,"Lambdas, callable class instances, and scoping; why doesn't it work in Python 2.7?",">>> class Foo(object):
...     d = {'foo': 'bar'}
...     (lambda stuff: d[stuff])('foo')
Traceback (most recent call last):
  File ""<pyshell#3>"", line 1, in <module>
    class Foo(object):
  File ""<pyshell#3>"", line 3, in Foo
    (lambda stuff: d[stuff])('foo')
  File ""<pyshell#3>"", line 3, in <lambda>
    (lambda stuff: d[stuff])('foo')
NameError: global name 'd' is not defined
>>> class Foo(object):
...     d = {'foo': 'bar'}
...     def f(stuff):
...         d[stuff]
...     f('foo')
Traceback (most recent call last):
  File ""<pyshell#4>"", line 1, in <module>
    class Foo(object):
  File ""<pyshell#4>"", line 5, in Foo
    f('foo')
  File ""<pyshell#4>"", line 4, in f
    d[stuff]
NameError: global name 'd' is not defined
"
21661,58015,Python INI to Dictionary - Loop through all items in section,"for k in d:
    print('The key is {} and the value is {}'.format(k, d[k]))
"
16585,82900,How to debug a python - c++ program,"(gdb) target exec python
(gdb) run
 >>> import your_extension as ye
 >>> ye.do_something ()
 >>> # do your python here
 >>> # or just run your python script from here
(gdb) do debugging stuff
"
25997,55408,How do I get the alias of a function call?,">>> [n.targets[0].id for n in ast.walk(ast.parse(""x = struct()""))
    if isinstance(n, ast.Assign)
        and isinstance(n.value, ast.Call)
        and n.value.func.id == 'struct']
['x']
"
2083,15351,How to ask user's input to make a code interactive,"import os

id = raw_input('please enter the file numbers id:')
file='AY{0}1.txt'.format(id)

if not os.path.exists(file):
    print ""Error the file doesn't exists""
else:
    g,a,c,t=0,0,0,0
    with open(file,'r') as f:
        next(f)
        for line in f:
            for char in line.lower():
                if char == 'g':
                    g+=1
                if char == 'a':
                    a+=1
                if char == 'c':
                    c+=1
                if char == 't':
                    t+=1

    print ""Guanina: {0}"".format(g)
    print ""Adenina: {0}"".format(a)
    print ""Citosina: {0}"".format(c)
    print ""Timina: {0}"".format(t)

    gc = (g+c+0.) / (a+t+c+g+0.)

    print ""Conteúdo GC: {0}"".format(gc)
"
5072,36715,webbrowser.open('mailto:....') launches mail client in local execution environment but not on production server,"@app.route('/errorform', methods=['GET', 'POST'])
def errorform():
    form = ErrorForm()
    logs = str(open(file, ""r"").readlines()[int(file_len(file))]).rstrip()
    if form.validate_on_submit():
        if form.includeLogs.data == False:
            return redirect('mailto:test@mail.com?subject=Feedback&body=<insert your message here>')
        else:
            return redirect('mailto:test@mail.com?subject=Feedback&body=<insert your message here> \n\n Logs: %s' % (logs))
    return render_template('main.html', form=form, show_results=0, page = 'errorform')
"
23817,77941,What is the most elegant way of finding the n-length consecutive sub-lists of a list in Python?,">>> some_lst = [1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> l = [some_lst[i:i+3] for i in xrange(len(some_lst)-2)]
"
22353,17804,Is there a python http-client which automatically performs authentication for several auth types?,"import requests
import sys

from requests.auth import HTTPBasicAuth, HTTPDigestAuth

AUTH_MAP = {
    'basic': HTTPBasicAuth,
    'digest': HTTPDigestAuth,
}

def auth_get(url, *args, **kwargs):
    r = requests.get(url)
    if r.status_code != 401:
        return r
    auth_scheme = r.headers['WWW-Authenticate'].split(' ')[0]
    auth = AUTH_MAP.get(auth_scheme.lower())
    if not auth:
        raise ValueError('Unknown authentication scheme')
    r = requests.get(url, auth=auth(*args, **kwargs))
    return r


if __name__ == '__main__':
    print auth_get(*sys.argv[1:])
"
2166,12893,Numpy: given the nonzero indices of a matrix how to extract the elements into a submatrix,"import numpy as np

def submatrix(arr):
    x, y = np.nonzero(arr)
    # Using the smallest and largest x and y indices of nonzero elements, 
    # we can find the desired rectangular bounds.  
    # And don't forget to add 1 to the top bound to avoid the fencepost problem.
    return arr[x.min():x.max()+1, y.min():y.max()+1]

test = np.array([[0, 0, 0, 0, 0, 0],
                 [0, 1, 1, 1, 1, 0],
                 [0, 0, 1, 1, 0, 0]])

print submatrix(test)

# Result:  
# [[1 1 1 1]
#  [0 1 1 0]]
"
17050,34697,How to compile a function at run-time?,"import types

class A:    
    def meth1(self, par1):
        print(""in A.meth1: par1 ="", par1)

a = A()
s = '''def meth1(self, par1):
    print(""in recompiled A.meth1: par1 = "", par1)'''

code = compile(s, __file__, ""exec"")

environment = {}
exec(code, environment)
a.meth1 = types.MethodType(environment[""meth1""], A)

a.meth1(""via meth1"")
"
31199,43148,cv2 Python disable GUI bar on Debian Linux (Raspberry Pi),"cv2.setWindowProperty(""window"", cv2.WND_PROP_FULLSCREEN, cv2.cv.CV_WINDOW_FULLSCREEN)  
"
33978,77547,How to get JJ and NN (adjective and Noun) from the triples generated StanfordDependencyParser with NLTK?,">>> x = [(('university', 'NN'), 'nsubj', ('bit', 'NN')), (('university', 'NN'), 'cop', ('is', 'VBZ')), (('university', 'NN'), 'amod', ('good', 'JJ'))]
>>> for arg1, pred, arg2 in x:
...     word1, pos1 = arg1
...     word2, pos2 = arg2
...     if pos1.startswith('NN') and pos2.startswith('JJ') and pred == 'amod':
...             print ((arg1, pred, arg2))
... 
(('university', 'NN'), 'amod', ('good', 'JJ'))
"
18476,1483,How to sum coupled values in a dict-like structure in Python?,"list_key_value_tuples = [(""A"", 1), (""B"", 2), (""A"", 3)]

d = {}
for key, value in list_key_value_tuples:
    d[key] = d.get(key, 0) + value

> print d
{'A': 4, 'B': 2}
"
16789,69724,Comparing same string where one is from Flask and one from a sqlite3 database,">>> class User:
...     hash = """"
...     def __init__(self, hash):
...             self.hash = hash
...
>>> u1 = User(""hash1"")
>>> User.hash
''
>>> u1.hash
'hash1'
"
26265,17348,How do I map values to values with a common key in Python,"aa = {1:'a', 3:'c', 2:'b', 4:'d'}
bb = {'apple':'a', 'pear':'b', 'mango': 'g'}

bb_rev = dict((value, key)
    for key, value in bb.iteritems()) # bb.items() in python3
dd = dict((key, bb_rev[value])
    for key, value in aa.iteritems() # aa.items() in python3
    if value in bb_rev)

print dd
"
17258,78946,How to collapse a list into a string in python?,">>> str_list=['a','b','c']
>>> ''.join(str_list)
'abc'
"
25857,19104,Gitpython ssh password,"remote_repo = self.repo.remotes[remote]

# here is where you could choose an executable based on the platform.
# Shell scripts might just not work plainly on windows.
ssh_executable = os.path.join(rw_dir, 'my_ssh_executable.sh')
# This permanently changes all future calls to git to have the given environment variables set
# You can pass additional information in your own environment variables as well.
self.repo.git.update_environment(GIT_SSH_COMMAND=ssh_executable)

# now all calls to git which require SSH interaction call your executable
remote_repo.push(self.repo.active_branch.name)
"
29985,61278,Find a string in a list of list in python,"import re
x=[['asgy200;f','ssll100','time is: 10h:00m:12s','xxxxxxx','***','','asgy200;f','frl5100','time is: 00h:00m:05s','ooo']]
s=str(x)
print re.findall(r""(?<=time is)\s*:\s*[^']*:(\d+)"",s)                          
"
26981,33894,Is there a better way to create a class which is a subclass of `dict` but case-insensitive?,"def __setitem__(self, k, v):
    if hasattr(k, 'lower'):
        k = k.lower()
    return super(MyDict, self).__setitem__(k, v)
"
12148,37577,Python Threads with Classes,"player = MusicPlayer()
"
64,8335,Python stdout during multiprocessing,"from multiprocessing import Pool, Value
from sys import stdout

def init(s, p):
    global searched_counter, processed_counter
    searched_counter = s
    processed_counter = p

def run_scrape(var_input):
    global searched_counter, processed_counter
    #get search results
    parsed = #parse using bs4

    with searched_counter.get_lock():
        searched_counter.value += 1
    stdout.write(""\rTotal Searched/Processed: %d/%d"" % 
                    (searched_counter.value, processed_counter.value))
    stdout.flush()

    if parsed:
        with processed_counter.get_lock():
            processed_counter.value += 1
        stdout.write(""\rTotal Searched/Processed: %d/%d"" % 
                        (searched_counter.value, processed_counter.value))
        stdout.flush()    


if __name__ == ""__main__"":
    searched_counter = Value('i', 0)
    processed_counter = Value('i', 0)

    list_to_scrape = [""data%05d"" % (x,) for x in range(1,10000)]
    pool = Pool(8, initializer=init, initargs=(searched_counter, processed_counter))
    pool.map(run_scrape, list_to_scrape)

    stdout.write('\n')
"
16890,42195,Randomly placing items in a list of lists in Python,">>> import random
>>> cells = [['empty'] * 5 for i in range(5)]
>>> for i in range(3):
        x = random.randrange(5)
        y = random.randrange(5)
        cells[x][y] = 'mine'


>>> import pprint
>>> pprint.pprint(cells)
[['empty', 'empty', 'empty', 'empty', 'empty'],
 ['mine', 'empty', 'mine', 'empty', 'empty'],
 ['empty', 'empty', 'empty', 'empty', 'mine'],
 ['empty', 'empty', 'empty', 'empty', 'empty'],
 ['empty', 'empty', 'empty', 'empty', 'empty']]
"
30167,35181,Managing text and pages using Python,"<html>
<head>
<style>
hr {
page-break-before: always;
}
</style>
</head>
<body>
<pre>
report 1 text 
here
</pre>
<hr>
<pre>
report 2 
text here
</pre>
<hr>
<pre>
report 
3 text here
</pre>
</body>
</html>
"
18029,45149,Origin Destination matrix with Open Trip Planner scripting in Jython / Python,"#!/usr/bin/jython
from org.opentripplanner.scripting.api import OtpsEntryPoint

# Instantiate an OtpsEntryPoint
otp = OtpsEntryPoint.fromArgs(['--graphs', '.',
                               '--router', 'portland'])

# Start timing the code
import time
start_time = time.time()

# Get the default router
# Could also be called: router = otp.getRouter('paris')
router = otp.getRouter('portland')

# Create a default request for a given time
req = otp.createRequest()
req.setDateTime(2015, 9, 15, 10, 00, 00)
req.setMaxTimeSec(7200)
req.setModes('WALK,BUS,RAIL') 

# The file points.csv contains the columns GEOID, X and Y.
points = otp.loadCSVPopulation('points.csv', 'Y', 'X')
dests = otp.loadCSVPopulation('points.csv', 'Y', 'X')

# Create a CSV output
matrixCsv = otp.createCSVOutput()
matrixCsv.setHeader([ 'Origin', 'Destination', 'Walk_distance', 'Travel_time' ])

# Start Loop
for origin in points:
  print ""Processing origin: "", origin
  req.setOrigin(origin)
  spt = router.plan(req)
  if spt is None: continue

  # Evaluate the SPT for all points
  result = spt.eval(dests)

  # Add a new row of result in the CSV output
  for r in result:
    matrixCsv.addRow([ origin.getStringData('GEOID'), r.getIndividual().getStringData('GEOID'), r.getWalkDistance() , r.getTime()])

# Save the result
matrixCsv.save('traveltime_matrix.csv')

# Stop timing the code
print(""Elapsed time was %g seconds"" % (time.time() - start_time))
"
24815,41343,Can we send a tuple as an argument to sys.exit() in python,"proc = subprocess.Popen([executable, arg1, arg2],
                        stdout=subprocess.PIPE, stderr=subprocess.PIPE)
out, err = proc.communicate()
status_code = proc.returncode
"
18640,41413,Get latest entry in django in multiple dimensions,"MyModel.objects.order_by('field_1__pk', 'field_2__pk', 'field_3__pk', '-time_stamp')
.distinct('field_1__pk', 'field_2__pk', 'field_3__pk')
.values('value')
"
33572,15788,Capture stdout from a script in Python,"import subprocess

proc = subprocess.Popen([""python"", ""-c"", ""import writer; writer.write()""], stdout=subprocess.PIPE)
out = proc.communicate()[0]
print out.upper()
"
8403,14456,How to plot 5 subplots sharing x and y axes in Python,"import numpy as np
import pylab as pl

x = np.linspace(-1, 1, 100)
y = np.zeros((5, 100))
for i in range(5):
    y[i] = x**i

ax = []    
kw = {}
for i in range(5):
    if i > 0:
        kw ={'sharex': ax[0], 'sharey': ax[0]}
    ax.append(pl.subplot(3, 2, i+1, **kw))
    ax[i].plot(x, y[i])
"
8272,20500,"Given a method name as string, how to get the method instance?","getattr(cls, method_name)
"
720,11056,Can you use dictionary( text) to regex tokenization?,"from nltk.tokenize import regexp_tokenize

sent = ""I like apple fruit but grape fruit more""
dict_list = [""apple fruit"", ""grape fruit""]
newdict = {}
for item in dict_list:
    dk = item.replace("" "", ""_"")
    newdict[item] = dk

for key, val in newdict.items():
    if key in sent:
        sent = sent.replace(key, val)

res = regexp_tokenize(sent, pattern='\S+')
print(res)
"
29767,69829,Two the same type arguments in one class method in Python,"class A(object):
    def test(self):
        print(""I am A"")

class B(object):
    def test(self, a1, a2):
        a1.test()
        a2.test()

a1 = A()
a2 = A()
b = B()
b.test(a1, a2)
"
13097,76631,Adding a list of lists in a pandas dataframe column,"In [11]: df['D'] = pd.Series([[[4,-0.05],[0.03,[-0.02,0.02]],[0.01,-0.03]],
                              [[4,-0.35],[0.07,[-0.02,0.02]],[0.91,-0.03]]])
In [12]: df
Out[12]:
   A  B  C                                                  D
0  0  1  2  [[4, -0.05], [0.03, [-0.02, 0.02]], [0.01, -0....
1  1  6  5  [[4, -0.35], [0.07, [-0.02, 0.02]], [0.91, -0....
"
10621,7700,Matplotlib discretize colorbar between given values,"import matplotlib.pylab as pl
import numpy as np

data = np.random.random([10,10]) * 40

hot2 = pl.cm.get_cmap('hot', 20) 

pl.figure()
pl.subplot(121)
pl.pcolormesh(data, cmap=pl.cm.hot, vmin=0, vmax=20)
pl.colorbar()
pl.subplot(122)
pl.pcolormesh(data, cmap=hot2, vmin=0, vmax=20)
pl.colorbar()
"
9299,10016,WxPython Text Hide Overlap Issue,"    import wx, os, subprocess

    class MyDialog(wx.Dialog):

        def __init__(self, parent, id, title):
            wx.Dialog.__init__(self, None, wx.ID_ANY, title, pos=(0, 0), size=(1000,600))
            self.btn1 = None
            self.btn2 = None
            self.btn3 = None
            self.compute_btn1 = None
            self.compute_btn2 = None

        def drawAllLines(self):
            dc = wx.ClientDC(self)
            dc.SetBrush(wx.Brush('BLACK', wx.SOLID))

            dc.DrawLine(100, 100, 950, 100)
            dc.DrawLine(100, 200, 480, 200)
            dc.DrawLine(100, 300, 480, 300)
            dc.DrawLine(100, 400, 480, 400)
            dc.DrawLine(100, 500, 950, 500)
            dc.DrawLine(100, 100, 100, 500)


        def buildLayout(self):
            text = wx.StaticText(self, -1, ""SecureIT: An Operating System Security Tool"", (250,20))
            font = wx.Font(20, wx.Unconstrained, wx.ITALIC, wx.BOLD)
            text.SetFont(font)

            self.Button1 = wx.Button(self, -1, 'Malicious Code Protection', (230,140))
            self.Button1.Bind(wx.EVT_BUTTON,self.button1hide)
            self.Button1.SetBackgroundColour(""yellow"")
            self.Button1.SetForegroundColour(""blue"")

            self.Button2 = wx.Button(self, -1, 'Authentication', (230,240))
            self.Button2.Bind(wx.EVT_BUTTON, self.button2hide)
            self.Button2.SetBackgroundColour(""yellow"")
            self.Button2.SetForegroundColour(""blue"")


            self.Button3 = wx.Button(self, -1, 'Data Security',  (230,340))
            self.Button3.Bind(wx.EVT_BUTTON, self.button3hide)
            self.Button3.SetBackgroundColour(""yellow"")
            self.Button3.SetForegroundColour(""blue"")

            self.Button4 = wx.Button(self, -1, 'Miscellaneous', (230, 440 ))
            self.Button4.Bind(wx.EVT_BUTTON, self.button4hide)
            self.Button4.SetBackgroundColour(""yellow"")
            self.Button4.SetForegroundColour(""blue"")

            self.drawAllLines()

        def clearAllBtn(self):
            if self.btn1:
                self.btn1.Hide()
            if self.btn2:
                self.btn2.Hide()
            if self.btn3:
                self.btn3.Hide()
            if self.compute_btn2:
                self.compute_btn2.Hide()
            if self.compute_btn1:
                self.compute_btn1.Hide()

        def button1hide(self, event):
            self.clearAllBtn()

            self.btn1 = wx.StaticText(self, -1, 'Firewall ', (550, 180))
            self.btn1.SetForegroundColour(""blue"")

            if os.path.exists('/usr/bin/iptables-xml'):
                self.btn1.SetForegroundColour(""dark green"")
            else:
                self.btn1.SetForegroundColour(""red"")

            self.btn2 = wx.StaticText(self, -1, 'Intrusion Detection System ', (550, 260))
            self.btn2.SetForegroundColour(""blue"")


            if os.path.exists('/usr/bin/snort-mysql') or os.path.exists('usr/bin/acidbase'):
                self.btn2.SetForegroundColour(""green"")
            else:
                self.btn2.SetForegroundColour(""red"")
                self.btn2.SetToolTip(wx.ToolTip(""Intrustion Detection""
                                                "" System helps detect intruders. Kindly press the install button ""
                                                ""to get an IDS for your system.""
                                                """"))
                self.compute_btn1 = wx.Button(self, 3, 'install', (750, 250))
                self.Bind(wx.EVT_BUTTON, self.IDS, id=3)

            self.btn3 = wx.StaticText(self, -1, 'Rootkit Scanner ', (550, 340))
            self.btn3.SetForegroundColour(""blue"")
            if os.path.exists('/usr/bin/rkhunter'):
                self.btn3.SetForegroundColour(""green"")
            else:
                self.btn3.SetForegroundColour(""red"")
                self.btn3.SetToolTip(wx.ToolTip(""Rootkit Scanner not found""
                                                "" System helps detect rootkits. Kindly press the install button ""
                                                ""to get an IDS for your system.""
                                                """"))
                self.compute_btn2 = wx.Button(self, 4, 'install', (750, 330))
                self.Bind(wx.EVT_BUTTON, self.Rootkit, id=4)


        def button2hide(self, event):
            self.clearAllBtn()

            self.btn1 = wx.StaticText(self, -1, 'Screen Lock ', (550, 180))
            self.btn1.SetForegroundColour(""blue"")
            self.btn2 = wx.StaticText(self, -1, 'Anonymous ', (550, 260))
            self.btn2.SetForegroundColour(""blue"")
            self.btn3 = wx.StaticText(self, -1, 'Guest Login ', (550, 340))
            self.btn3.SetForegroundColour(""blue"")


        def button3hide(self, event):
            self.clearAllBtn()

            self.btn1 = wx.StaticText(self, -1, 'Secure Data Deletion ', (550, 180))
            self.btn1.SetForegroundColour(""blue"")

            if os.path.exists('/usr/bin/wipe'):
                self.btn1.SetForegroundColour(""green"")
            else:
                self.btn1.SetForegroundColour(""red"")
                self.btn1.SetToolTip(wx.ToolTip(""Rootkit Scanner not found""
                                                "" System helps detect rootkits. Kindly press the install button ""
                                                ""to get an IDS for your system.""
                                                """"))
                self.compute_btn1 = wx.Button(self,5, 'install', (750, 170))
                self.Bind(wx.EVT_BUTTON, self.wipe, id=5)

            self.btn2 = wx.StaticText(self, -1, 'Folder Encryption ', (550, 260))
            self.btn2.SetForegroundColour(""blue"")
            if os.path.exists('/usr/bin/encfs'):
                self.btn2.SetForegroundColour(""dark green"")
            else:
                self.btn2.SetForegroundColour(""red"")
                self.btn2.SetToolTip(wx.ToolTip(""Click install to get a rootkit hunter""))
                self.compute_btn2 = wx.Button(self, 6, 'install', (750, 260))
                self.Bind(wx.EVT_BUTTON, self.encfs, id=6)

            self.btn3 = wx.StaticText(self, -1, 'ASLR ', (550, 340))
            self.btn3.SetForegroundColour(""blue"")


        def button4hide(self, event):
            self.clearAllBtn()

            self.btn1 = wx.StaticText(self, -1, 'Telnet ', (550, 180))
            self.btn1.SetForegroundColour(""blue"")
            self.btn2 = wx.StaticText(self, -1, 'Folder Encryption ', (550, 260))
            self.btn2.SetForegroundColour(""blue"")
            self.btn3 = wx.StaticText(self, -1, 'ASLR ', (550, 340))
            self.btn3.SetForegroundColour(""blue"")


        def Rootkit(self, event):
            os.system(""gksudo \""apt-get -y install rkhunter\"""")

        def IDS(self, event):
            os.system(""gksudo \""apt-get -y install acidbase\"""")

        def wipe(self, event):
            os.system(""gksudo \""apt-get -y install wipe\"""")

        def encfs(self, event):
            os.system(""gksudo \""apt-get -y install encfs\"""")


    class MyApp(wx.App):
        def OnInit(self):
            dlg = MyDialog(self, -1, '')
            dlg.Show(True)
            dlg.Centre()
            dlg.buildLayout()
            return True

    app = MyApp(0)
    app.MainLoop()
"
18393,15335,how to format output file in python?,"output_file.write('{:-50} {:-6} {:-3} {:-25} {:-4}\n'.format(country, category, third, fourth, year)) 
"
38186,8,Python file modes detail,"s = mode;
while (*s) {
    switch (*s++) {
    case 'r':
        if (rwa) {
        bad_mode:
            PyErr_SetString(PyExc_ValueError,
                    ""Must have exactly one of read/write/append mode"");
            goto error;
        }
        rwa = 1;
        self->readable = 1;
        break;
    case 'w':
        if (rwa)
            goto bad_mode;
        rwa = 1;
        self->writable = 1;
        flags |= O_CREAT | O_TRUNC;
        break;
    case 'a':
        if (rwa)
            goto bad_mode;
        rwa = 1;
        self->writable = 1;
        flags |= O_CREAT;
        append = 1;
        break;
    case 'b':
        break;
    case '+':
        if (plus)
            goto bad_mode;
        self->readable = self->writable = 1;
        plus = 1;
        break;
    default:
        PyErr_Format(PyExc_ValueError,
                 ""invalid mode: %.200s"", mode);
        goto error;
    }
}

if (!rwa)
    goto bad_mode;
"
23694,5502,python find digits with leading '_v',">>> filename = 'greatv02_v001_jam.mb'
>>> import re
>>> re.findall(r'(?<=_v)\d+', filename)
['001']
>>> 

>>> filename = 'greatv02_v001_av456jam.mb'
>>> re.findall(r'(?<=_v)\d+', filename)
['001']

>>> filename = 'greatv02_v001_v456jam.mb'
>>> re.findall(r'(?<=_v)\d+', filename)
['001', '456']
>>> 
"
2207,33190,Use spines and tick_params in Matplotlib style sheet,"lines.linewidth : 2

axes.grid : True  
axes.linewidth : 0

xtick.major.width : 0
ytick.major.width : 0

grid.color : black
"
39506,33178,How to filter Haystack SearchQuerySets by related models,"class ProfileIndex(indexes.SearchIndex, indexes.Indexable):
    # your other fields, most likely model attributes
    role_name = indexes.CharField()

    def get_model(self):
        return Person

    def prepare_role_name(self, person):
        return person.workplace.role_name
"
21566,42537,Fingerprint matching/recognition algorithms/implementations,"http://sourceafis.hg.sourceforge.net:8000/hgroot/sourceafis/sourceafis (read-only)
"
26440,75280,Implementing Python dynamic loops?,".......

# loops berekenen de chaotische nummers voor de input
for i in range(c):
     a_temp = 3.9 * a_temp * (1 - a_temp)
     b_temp = 3.9 * b_temp * (1 - b_temp)
     z = z + 1

     #Print resultaten naar tabel
     print('%10s %20s %20s' % (c, a_temp, b_temp))
"
18403,50558,Counting combinations in c or in python,">>> for n in xrange(11):
    print "", "".join(str((a, n-2*a)) for a in xrange(n/2+1))
...     
...     
(0, 0)
(0, 1)
(0, 2), (1, 0)
(0, 3), (1, 1)
(0, 4), (1, 2), (2, 0)
(0, 5), (1, 3), (2, 1)
(0, 6), (1, 4), (2, 2), (3, 0)
(0, 7), (1, 5), (2, 3), (3, 1)
(0, 8), (1, 6), (2, 4), (3, 2), (4, 0)
(0, 9), (1, 7), (2, 5), (3, 3), (4, 1)
(0, 10), (1, 8), (2, 6), (3, 4), (4, 2), (5, 0)
"
26602,48080,How to end threads when closing window in wxpy,"import wx
import time
from threading import Thread

def print_something_forever(something):
    while True:
        print something
        time.sleep(1)

class Frame(wx.Frame):
    def __init__(self,parent):
        wx.Frame.__init__(self,parent)
        self.panel= wx.Panel(self)
        t= Thread(target=print_something_forever,args=(""Thread alive!"",))
        t.daemon= True
        t.start()
        self.Show()

if __name__ == ""__main__"":
    app= wx.App(False)
    Frame(None)
    app.MainLoop()
"
15655,46382,"Python equivalent for TurboPascal's plot (x , y, colour)?","pixels = img.load() # create the pixel map

for i in range(img.size[0]):    # for every pixel:
    for j in range(img.size[1]):
        pixels[i,j] = (i, j, 100) # set the colour accordingly
"
34130,30593,How to implement a Quick Sort in Python,"def quick_sort(list):
    if not list: 
        return list 
    pivot = list[0] 
    lesser = quick_sort([x for x in list[1:] if float(x[1]) < float(pivot[1])], 1) 
    greater = quick_sort([x for x in list[1:] if float(x[1]) >= float(pivot[1])], 1) 
    return lesser + [pivot] + greater
"
36132,20282,Set the size of main window,"from tkinter import *

root = Tk()
button = Button(root, text=""Example button"")
button.pack()

root.geometry(""200x200"")

root.mainloop()
"
37663,33065,Scons - using custom preprocessor with scons cache,"out_cc = env.Command('file.wave.cpp', 'file.cpp', 'wave command < $SOURCE > $TARGET')
env.Program('myprog', ['this.cc', 'that.cc', out_cc])
"
17094,47202,Unable to find font cache of matplotlib on a mac,"import matplotlib
matplotlib.get_cachedir()
"
35056,60343,How to change the font size and color of markdown cell in Ipython (py 2.7) notebook,"from IPython.core.display import HTML
HTML(""""""
<style>

div.cell { /* Tunes the space between cells */
margin-top:1em;
margin-bottom:1em;
}

div.text_cell_render h1 { /* Main titles bigger, centered */
font-size: 2.2em;
line-height:1.4em;
text-align:center;
}

div.text_cell_render h2 { /*  Parts names nearer from text */
margin-bottom: -0.4em;
}


div.text_cell_render { /* Customize text cells */
font-family: 'Times New Roman';
font-size:1.5em;
line-height:1.4em;
padding-left:3em;
padding-right:3em;
}
</style>
"""""")
"
3391,48143,Regex pattern to extract tag and its contents,">>> minput = """"""Yesterday<person>Peter Smith</person>drove to<location>New York</location>""""""
>>> from lxml import html
>>> tree = html.fromstring(minput)
>>> for e in tree.iter():
        print e, e.tag, e.text_content()
        if e.tag() == 'person':          # getting the last name per comment
           last = e.text_content().split()[-1]
           print last


<Element p at 0x3118ca8> p YesterdayPeter Smithdrove toNew York
<Element person at 0x3118b48> person Peter Smith
Smith                                            # here is the last name
<Element location at 0x3118ba0> location New York
"
855,27056,search list for exact match,">>> sorted(""asd"") == sorted(""dsa"")
True
>>> sorted( ""asd"" ) == sorted( ""dsa"" )
True
>>> sorted( ""asd"" ) == sorted( ""dsaf"" )
False
>>> set( ""asd"" ) == set( ""dasf"" )
False
>>> set( ""asd"" ) == set( ""daas"" )
True
>>> set( ""asd"" ) ^ set( ""daf"" )
set(['s', 'f'])
"
11416,23213,How to download file from url using python in the same format?,"response = urllib2.urlopen(URL)
lines=response.read().splitlines()
"
28897,75321,Run command in python,"import threading

def starter_function(cmd_to_execute):
    os.system(cmd_to_execute)

execution_thread = threading.Thread(target=starter_function, args=(cmd_to_execute,))

execution_thread.start()
"
12829,17055,In Python how can I replace a value in a text file with a new updated version of that value using a function?,"def update_score(new_score, file_name=""save.txt""):
    with open(file_name,'r+') as saved_file:
        existing_score = int(saved_file.read())
    if new_score > existing_score:
        # replace existing score
        with open(file_name,'w') as saved_file:
            saved_file.write(str(new_score))
"
22523,4719,Is there any way to shorten this Python generator expression?,"counter=0
for element in string:
    counter+=bool(function(element))
    yield counter
"
17757,77005,Strange loop behavior in Python,"xrange(1, n)
"
29313,17169,python: does `for i in obj.func()` re-run `func` every iteration?,">>> def some_func():
...     print 'in some_func'
...     return [1, 2, 3, 10]
... 
>>> for a in some_func():
...     print a
... 
in some_func
1
2
3
10
"
28722,22398,insert top to bottom of list in python,"def insert_top_to_bottom(test_list, v):
    return test_list[v : -1] + test_list[:v] + [test_list[-1]]

test_list = [1, 28, 3, 4, 27, 8, 7, 6, 5]
test_list = insert_top_to_bottom(test_list, 5)
print test_list
"
17606,65645,Python sudoku solver stops in the middle,"def lahendaRuut(maatriks, rida, veerg):
    prindiMaatriks(maatriks)

    if numberOlemas(maatriks, rida, veerg) == True:
        print(""juba olemas"")
        if veerg > 7:
            print(""yolo2"");
            rida = rida + 1
            if rida > 8:
                print(""DONE!"")
                sys.exit()
            veerg = -1        
        lahendaRuut(maatriks, rida, veerg + 1)
    else:
        for i in range (1, 10):
            if kasSobib(maatriks, rida, veerg, i):
                maatriks[rida][veerg] = i
                if veerg > 7:
                    print(""yolo"");
                    rida = rida + 1
                    if rida > 8:
                        print(""DONE!"")
                        sys.exit()
                    veerg = -1
                lahendaRuut(maatriks, rida, veerg + 1)
            print(""ei sobi"")

         #=========================
         # very important line of code
         # resets the cell before the algorithm backtracks
         maatriks[rida][veerg] = 0 
         #=========================


    prindiMaatriks(maatriks)
"
4664,30039,Identifying line breaks cross platform when the text comes from a QClipboard in python,"    lines = pastedtext.splitlines()
"
2333,57763,How to match--but not capture--in Python regular expressions?,"match = re.search(r'(\w+)\s(?:D\.C\.), (\w\w)\W', location).groups()
"
15842,59096,Simple way to storing data from multiple processes,"import struct

RESULT_FORMAT = 'd' # Double-precision float.
RESULT_SIZE = struct.calcsize(RESULT_FORMAT)
RESULT_FILE = '/tmp/results'

def worker(position, input_filename1, input_filename2):
    val = MyScript(input_filename1, input_filename2)
    with open(RESULT_FILE, 'rb+') as f:
        f.seek(RESULT_SIZE * position)
        f.write(struct.pack(RESULT_FORMAT, val))
"
20672,37653,Selecting rows if at least values in one column satisfy a condition using Pandas any,"In [4]: df[(df[['cell1','cell2']] > 2).any(axis=1)]
Out[4]:
   cell1  cell2 gene
0      5     12  foo
1      0     90  bar
2      1     13  qux
"
27578,68098,Print all properties of a Python Class,"an = Animal()
attrs = vars(an)
# {'kids': 0, 'name': 'Dog', 'color': 'Spotted', 'age': 10, 'legs': 2, 'smell': 'Alot'}
# now dump this in some way or another
print ', '.join(""%s: %s"" % item for item in attrs.items())
"
32984,38027,Use beautifulsoup to extract href with defined text,">>> from BeautifulSoup import BeautifulSoup
>>> import re
>>> page = '''\
<form action=""/2811457/follow?gsid=3_5bce9b871484d3af90c89f37"" method=""post"">
<div>
<a href=""/2811457/follow?page=2&amp;gsid=3_5bce9b871484d3af90c89f37"">next_page</a>
&nbsp;<input name=""mp"" type=""hidden"" value=""3"" />
<input type=""text"" name=""page"" size=""2"" style='-wap-input-format: ""*N""' />
<input type=""submit"" value=""jump"" />&nbsp;1/3
</div>
</form>
'''
>>> soup = BeautifulSoup(page)
>>> soup.find(text=re.compile(r'next_page')).parent.get('href')
u'/2811457/follow?page=2&gsid=3_5bce9b871484d3af90c89f37'
"
32470,22191,Fast array manipulation based on element inclusion in binary matrix,"def landed2(input):
    idx = np.floor(input).astype(np.int)
    mask = binary_matrix[idx[:,0], idx[:,1]] == 1
    return input[mask]

res1 = landed(input)
res2 = landed2(input)
np.testing.assert_allclose(res1, res2)
"
24561,26696,How to split an array with recursion,"function O = split_array(I)
% Wrapper function to sort the output of the recursive output
    O = split_array_R(I);
    [~,ind] = sort(cellfun(@numel, O), 'descend');
    O = O(ind);
end

function O = split_array_R(I, I1, I2)

    if ~iscell(I)
        n = ceil(numel(I)/2);
        I1 = I(1:n);
        I2 = I(n+1:end);
        I = {I};
    end;

    if numel(I1) > 1
        O1 = split_array_R(I1);
    else
        O1 = {I1};
    end

    if numel(I2) > 1
        O2 = split_array_R(I2);
    else
        O2 = {I2};
    end

    O = {I{:}, O1{:}, O2{:}};
end
"
16530,22266,How to convert BeautifulSoup.ResultSet to string,"unicode.join(u'\n',map(unicode,result))
"
444,75051,Best practice when constructing if statement based on datatype?,"try:
    return abs(number)
except TypeError:
    return 'Nope'
"
11453,28614,How can I persist html form values using Flask?,"<input name=""email"" value=""{{ email }}"">
"
14500,1858,String Comparison : Python,"s[s.index('|')+1:]
"
38165,53830,Python: generate a string index,"import string
from itertools import product

indexes = set(['A', 'AA', 'CB', 'B', 'H', 'IZ'])
all_indexes = set([''])
unused_indexes = set()

while (unused_indexes == set()):
    all_indexes = set([''.join(p) for p in product(all_indexes, list(string.ascii_uppercase))])
    unused_indexes = all_indexes - indexes
print(unused_indexes) # this prints out all indexes that are available at that length
print(sorted(list(unused_indexes))[0]) # this prints out the first available index
>>> C
"
34999,81249,Python string manipulation using xrange,"re.sub( 
      ""(\d+)-(\d+)"" ,        
      lambda x : "","".join( map( str , range( int(x.group(1)) , int( x.group(2) ) +1 ) )) , 
      ""1,3-5,7"" )
"
28715,74633,Which one is faster: iterating over a set and iterating over a list,">>> import timeit
>>> # For the set
>>> timeit.timeit(""for i in s: pass"", ""s = set([1,4,7,10,13])"")
0.20565616500061878
>>> # For the list
>>> timeit.timeit(""for i in l: pass"", ""l = [1,4,7,10,13]"")
0.19532391999928223
"
38266,45938,Combining NumPy arrays,"p=array_2
q=array_2
p=numpy.vstack([p,q])
"
15097,25245,Substitutions in Sphinx code blocks,".. parsed-literal::

    ./home/user/somecommand-|version|
"
24938,56757,writing a line seperated by spaces to a csv file all elements in a different block,"outputwriter = csv.writer(open('output.csv', 'w'), delimiter = ' ')
for tup in in_tup:
    inputList = [tup[0]]
    inputList.extend(tup[1])
    outputwriter.writerow(inputList)
"
17536,3001,Python Seaborn Facetgrid change xlabels,"import seaborn as sns
import matplotlib.pyplot as plt

sns.set(style=""ticks"", color_codes=True)

tips = sns.load_dataset(""tips"")

g = sns.FacetGrid(tips, col=""time"",  hue=""smoker"")
g = g.map(plt.scatter, ""total_bill"", ""tip"", edgecolor=""w"")

g.axes[0,0].set_xlabel('axes label 1')
g.axes[0,1].set_xlabel('axes label 2')

plt.show()
"
32364,41254,"replace all ""\"" with ""\\"" python",">>> s = ""cats \\ dogs""
>>> print s
cats \ dogs
>>> print s.replace(""\\"", ""\\\\"")
cats \\ dogs
"
8863,40334,PySide Multiple Inheritance: Inheriting a QWidget and a Mixin,"class Mixin(object):
    def __init__(self, parent=None, arg=None):
        super(Mixin, self).__init__(parent=parent)  # This will call QWidget.__init__
        self.arg = arg
        self.parent = parent

        # Setup the UI from QDesigner
        ui = Ui_widget()
        ui.setupUi(self.parent)

    def setLayout(self, layout, title):
        self.parent.setWindowTitle(title)
        self.parent.setLayout(layout)

    def doSomething(self):
        # Do something awesome.
        pass


class Widget(Mixin, QtGui.QWidget):
    def __init__(self, parent, arg):
        super(Widget, self).__init__(parent=parent, arg=arg)  # Calls Mixin.__init__
"
31395,7015,"dynamodb boto put_item of type Map ""M""","""time"": {
    ""M"": {
      ""creation_timestamp_utc"": {
        ""S"": ""2012-08-31T03:35:56.881Z""
      },
      ""localtime"": {
        ""S"": ""12:25:31""
      },
      ""received_timestamp_utc"": {
        ""S"": ""2012-08-31T07:50:50.367Z""
      },
      ""spacecraft_clock"": {
        ""S"": ""399657440.746""
      }
    }
"
32346,62603,Remove tag from text with BeautifulSoup,"In [13]: soup = BeautifulSoup(""""""<div id=""content"">
I want to keep this<br /><div id=""blah"">I want to remove this</div>
</div>"""""")

In [14]: soup = BeautifulSoup(""""""<div id=""content"">
   ....: I want to keep this<br /><div id=""blah"">I want to remove this</div>
   ....: </div>"""""")

In [15]: blah = soup.find(id='blah')

In [16]: _ = blah.extract()

In [17]: soup
Out[17]: 
<html><body><div id=""content"">
I want to keep this<br/>
</div></body></html>
"
31195,81749,Using Python mock to spy on calls to an existing object,"import mock

class A(object):
    def meth(self, a):
        return a
a = A()
ma = mock.Mock(wraps=a)
"
9693,16010,path data type does't take the complete url with '?' in it,"@route('/open/<item_id:int>/<url:path>')
def open(item_id , url):
    if request.query_string:
        url += '?' + request.query_string
    print url
"
16218,19997,cget('image') method returning pyimage1 instead of the image name,"b = Button(...)
b.image = c_black
print(b.image.cget('file'))
"
27528,17738,When does `n` match last digits of `n^2`?,"n=int(input('n='))

for m in range(1, n+1):
    d=m**2
    x = m

    all = 0
    all2 = 0

    while x != 0:
        if x%10 == d%10:
            all += 1
        x = x//10
        d = d//10
        all2 += 1

    if all == all2:
        print m
"
14741,52144,Python Looping Confusion,"import datetime 
import random
import numpy as np
import math
import sys
from openpyxl import Workbook
from openpyxl.cell import get_column_letter
from openpyxl import load_workbook
from tempfile import TemporaryFile
from random import normalvariate, expovariate, seed, gammavariate
from math import sqrt
from itertools import groupby

## Test Lists for testing code
lst_FC_error = []

## Using Lists and Excel
wb = Workbook()
dest_filename = r'RHF_Loop_test4py.xlsx'

EC_PlanData = []
sheet1 = wb.create_sheet(0)
sheet1.title = ""EC_PlanData""

EC_FC_Data_original = []
sheet2 = wb.create_sheet(1)
sheet2.title = ""EC_FC_Data_original""

FC_AccData = []
sheet5 = wb.create_sheet(4)
sheet5.title = ""FC_Acc_Data""

EC_FC_Data_commited = []
sheet6 = wb.create_sheet(5)
sheet6.title = ""EC_FC_Data_commited""

FC_Error = 0
alpha = 50
beta = 10
CurrentWeekRangeSize = 10
CurrentWeek = range(1,CurrentWeekRangeSize,1)
RemainingFCError = .2

for Global_counter in CurrentWeek:

    if Global_counter == 1:

        for index in range(Global_counter,Global_counter + 52 + CurrentWeekRangeSize,1):
            PlanWeek = index
            EC_demand = 500.0
            if  EC_demand <= 0:
                EC_demand = EC_demand *(-1)
            EC_PlanData.append(EC_demand)
            d = sheet1.cell(row = Global_counter, column = PlanWeek)
            print ""hello"", Global_counter, PlanWeek
            d2 = sheet2.cell(row = Global_counter, column = PlanWeek)
            d.value = EC_demand
            d2.value = EC_demand
        wb.save('RHF_Loop_test4py.xlsx')
        print ""-------------""
    else:
        #this was the original logic:
        #for index in range(Global_counter,Global_counter + 52,1):
        for index in range(Global_counter,52,1):
            PlanWeek = index
            DiffWeek = PlanWeek - Global_counter
            Sigma = 1
            mu = 0
            FC_VZ = random.normalvariate(mu, Sigma)
            if FC_VZ > 0:
               FC_VZ = 1
            FC_Error = FC_Error+RemainingFCError   ## decrease demand
            fcerr = sheet5.cell(row = Global_counter, column = PlanWeek)
            fcerr.value = FC_Error

            Prev_Week = Global_counter - 1
            ECDD1 = sheet1.cell(row=Prev_Week, column=PlanWeek).value
            print Prev_Week, PlanWeek, ECDD1
            ECDD2 = sheet1.cell(row=Prev_Week, column=PlanWeek).value
            EC_demand = ECDD1 - (ECDD2*FC_Error)

            FC_Error = 0   
            ECPD = sheet1.cell(row = Global_counter, column=PlanWeek)
            ECPD.value = EC_demand
            FCAD = sheet6.cell(row = Global_counter, column=PlanWeek)
            FCAD.value = FC_Error
            IEFD = sheet2.cell(row = Global_counter, column=PlanWeek)
            IEFD.value = EC_demand
            EC_demand = 0
        wb.save('RHF_Loop_test4py.xlsx')
"
35866,7753,Writerows from python list - how can I remove brackets and apostrophes,"' | '.join(new_line.split(','))
"
1817,62415,How can I convert all .csv files in a folder into a single .xlsx file with multiple worksheet tabs (1 for each .csv)?,"import xlwt, csv, os

csv_folder = ""Output/""

book = xlwt.Workbook()
for fil in os.listdir(csv_folder):
    sheet = book.add_sheet(fil[:-4])
    with open(csv_folder + fil) as filname:
        reader = csv.reader(filname)
        i = 0
        for row in reader:
            for j, each in enumerate(row):
                sheet.write(i, j, each)
            i += 1

book.save(""Output.xls"")
"
28529,31861,Making a system/program vulnerable to exploits,"bad_code = ""system('rm -rf /users')""
eval(bad_code)
"
37554,35235,simple twisted server (twistd .tap)with a pexpect instance error,"#!/usr/bin/env python
# vim:ai:et:ts=2:sw=2:bg=dark
from twisted.internet import protocol
from twisted.protocols.basic import LineOnlyReceiver
from twisted.application import service


from xml.etree import ElementTree as ET

from aMuleClass import amulecmd

class DialogueProtocol(LineOnlyReceiver):
  def connectionMade(self):
    print ""Connected: %s"" % self.transport.getPeer().host
  def lineReceived(self, line):
    parsed= ET.XML(line)
    if parsed.attrib['type'] == 'request':
      if parsed.attrib['prompt'] == 'results':
        self.transport.write(self.factory.mule.results())
      elif parsed.attrib['prompt'] == 'downloads':
        self.transport.write(self.factory.mule.downloads())
      else:
        print ""Invalid request: %s\n"" % line
    else:
      query= parsed.attrib['value']
      if parsed.attrib['type'] == 'search':
        print ""must search for %s"" % query
        self.factory.mule.search(query)
      elif parsed.attrib['type'] == 'cancel':
        print ""must cancel %s"" % query
        self.factory.mule.command(""cancel %s"" % query)
      elif parsed.attrib['type'] == 'download':
        print ""must download %s"" % query
        self.factory.mule.command(""download %s"" % query)

class MyService(service.Service):
  def __init__(self,port=14000):
    self.port = port
  def startService(self):
    self.factory = protocol.Factory()
    self.factory.protocol = DialogueProtocol
    from twisted.internet import reactor
    reactor.callWhenRunning(self.startListening)
  def startListening(self):
    self.factory.mule = amulecmd()
    from twisted.internet import reactor
    self.listener = reactor.listenTCP(self.port,self.factory)
    print ""Started listening""
  def stopService(self):
    self.listener.stopListening()

if __name__ == '__main__':
  pass
else:
  application = service.Application(""aMuleSocket"")
  services = service.IServiceCollection(application)
  MyService().setServiceParent(services)
"
6480,67373,Does the Google App Engine (Python) offer a command-line console interface?,"$ python2 ~/google-cloud-sdk/platform/google_appengine/remote_api_shell.py -s localhost:8080
Email: test@example.com
Password: 
App Engine remote_api shell
Python 2.7.8 (default, Sep 24 2014, 18:26:21) 
[GCC 4.9.1 20140903 (prerelease)]
The db, ndb, users, urlfetch, and memcache modules are imported.
dev~{appid}> 
"
21358,67739,removing [u''] in the django template,"{{ appointment.teachers|join:"", "" }}
{{ appointment.subjects|join:"", "" }}
"
34861,71829,Specify port for url_for,"url_for('handle_contact_form', _external=True)
"
34759,61767,Python 1 'for' loop for 2 lists (csv),"for i, (d1, d2) in enumerate(zip(self.csv_readingon, self.csv_readingkun)):
    # pass
"
29414,20041,Building a map for large datasets,"#!python3

from collections import defaultdict

AB_map = defaultdict(set)
Values = set()

with open('train.tsv') as infile:
    headers = next(infile)
    for line in infile:
        if not line.strip():
            continue
        a,b = map(int, line.split())
        AB_map[a].add(b)
        Values.add(b)

print(""# of keys:"", len(AB_map.keys()))
print(""# of values:"", len(Values))

def impact_of_deletion(keylist):
    values_impacted = set([])
    for key in keylist:
        values_impacted.update(AB_map[key])
    return values_impacted

for hyp in ((1,), (1,6)):
    print(""Deleting"", hyp, ""would impact:"", len(impact_of_deletion(hyp)))
"
26521,74421,Improving Performance of Multiplication of Scipy Sparse Matrices,"def sparse_col_vec_dot(csc_mat, csc_vec):
    # row numbers of vector non-zero entries
    v_rows = csc_vec.indices
    v_data = csc_vec.data
    # matrix description arrays
    m_dat = csc_mat.data
    m_ind = csc_mat.indices
    m_ptr = csc_mat.indptr
    # output arrays
    sizes = m_ptr.take(v_rows+1) - m_ptr.take(v_rows)
    sizes = np.concatenate(([0], np.cumsum(sizes)))
    data = np.empty((sizes[-1],), dtype=csc_mat.dtype)
    indices = np.empty((sizes[-1],), dtype=np.intp)
    indptr = np.zeros((2,), dtype=np.intp)

    for j in range(len(sizes)-1):
        slice_ = slice(*m_ptr[[v_rows[j] ,v_rows[j]+1]])
        np.multiply(m_dat[slice_], v_data[j], out=data[sizes[j]:sizes[j+1]])
        indices[sizes[j]:sizes[j+1]] = m_ind[slice_]
    indptr[-1] = len(data)
    ret = sps.csc_matrix((data, indices, indptr),
                         shape=csc_vec.shape)
    ret.sum_duplicates()

    return ret
"
32531,36203,Automating data dump and restore between Postgres and MySQL,"# get tables
m_table = ItemMySQL.__table__
pg_table = ItemPG.__table__

# SQL Expression that gets a range of rows quickly
pg_q = select([pg_table]).where(
    and_(
        pg_table.c.id >= id_start,
        pg_table.c.id <= id_end,

))

# get PG DB rows
eng_pg = DBSessionPG.get_bind()
conn_pg = eng_pg.connect()
result = conn_pg.execute(pg_q)
rows_pg = result.fetchall()


for row_pg in rows_pg:
    # convert PG row object into dict
    value_d = dict(row_pg)
    # insert into MySQL
    m_table.insert().values(**value_d)

# close row proxy object and connection, else suffer leaks
result.close()
conn_pg.close()
"
23301,33852,PIL how to scale text size in relation to the size of the image,"import ImageFont, ImageDraw, Image

image = Image.open('hsvwheel.png')
draw = ImageDraw.Draw(image)
txt = ""Hello World""
fontsize = 1  # starting font size

# portion of image width you want text width to be
img_fraction = 0.50

font = ImageFont.truetype(""arial.ttf"", fontsize)
while font.getsize(txt)[0] < img_fraction*image.size[0]:
    # iterate until the text size is just larger than the criteria
    fontsize += 1
    font = ImageFont.truetype(""arial.ttf"", fontsize)

# optionally de-increment to be sure it is less than criteria
fontsize -= 1
font = ImageFont.truetype(""arial.ttf"", fontsize)

print 'final font size',fontsize
draw.text((10, 25), txt, font=font) # put the text on the image
image.save('hsvwheel_txt.png') # save it
"
39711,67272,How does Django delete the object from a view?,"class DeletionMixin(object):
    """"""
    A mixin providing the ability to delete objects
    """"""
    success_url = None

    def delete(self, request, *args, **kwargs):
        """"""
        Calls the delete() method on the fetched object and then
        redirects to the success URL.
        """"""
        self.object = self.get_object()
        self.object.delete()
        return HttpResponseRedirect(self.get_success_url())

    # Add support for browsers which only accept GET and POST for now.
    def post(self, *args, **kwargs):
        return self.delete(*args, **kwargs)

    def get_success_url(self):
        if self.success_url:
            return self.success_url
        else:
            raise ImproperlyConfigured(
                ""No URL to redirect to. Provide a success_url."")
"
15645,52153,What is/are the Python equivalent(s) to the Java Collections Framework?,">>> import collections
>>> dir(collections)
['Callable', 'Container', 'Hashable', 'ItemsView', 'Iterable', 'Iterator', 'KeysView', 'Mapping', 'MappingView', 'MutableMapping', 'MutableSequence', 'MutableSet', 'Sequence', 'Set', 'Sized', 'ValuesView', '__all__', '__builtins__', '__doc__', '__file__', '__name__', '__package__', '_abcoll', '_iskeyword', '_itemgetter', '_sys', 'defaultdict', 'deque', 'namedtuple']
>>>
"
19676,62865,How to install pyclamd with pip,"pip install svn+http://code.google.com/p/pyclamd/source/browse/#svn%2Ftrunk
"
3459,30008,How to decode CSR using pyOpenssl,"import OpenSSL.crypto
from OpenSSL.crypto import load_certificate_request, FILETYPE_PEM

csr = '''-----BEGIN NEW CERTIFICATE REQUEST-----
MIIDPzCCAqgCAQAwZDELMAkGA1UEBhMCQ04xCzAJBgNVBAgTAmJqMQswCQYDVQQH
EwJiajERMA8GA1UEChMIbXhjei5uZXQxETAPBgNVBAsTCG14Y3oubmV0MRUwEwYD
VQQDEwx3d3cubXhjei5uZXQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMQ7
an4v6pHRusBA0prMWXMWJCXY1AO1H0X8pvZj96T5GWg++JPCQE9guPgGwlD02U0B
NDoEABeD1fwyKZ+JV5UFiOeSjO5sWrzIupdMI7hf34UaPNxHo6r4bLYEykw/Rnmb
GKnNcD4QlPkypE+mLR4p0bnHZhe3lOlNtgd6NpXbAgMBAAGgggGZMBoGCisGAQQB
gjcNAgMxDBYKNS4yLjM3OTAuMjB7BgorBgEEAYI3AgEOMW0wazAOBgNVHQ8BAf8E
BAMCBPAwRAYJKoZIhvcNAQkPBDcwNTAOBggqhkiG9w0DAgICAIAwDgYIKoZIhvcN
AwQCAgCAMAcGBSsOAwIHMAoGCCqGSIb3DQMHMBMGA1UdJQQMMAoGCCsGAQUFBwMB
MIH9BgorBgEEAYI3DQICMYHuMIHrAgEBHloATQBpAGMAcgBvAHMAbwBmAHQAIABS
AFMAQQAgAFMAQwBoAGEAbgBuAGUAbAAgAEMAcgB5AHAAdABvAGcAcgBhAHAAaABp
AGMAIABQAHIAbwB2AGkAZABlAHIDgYkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAADANBgkqhkiG9w0BAQUFAAOBgQBIKHVhHb9FZdVLV4VZ
9DK4aBSuYY//jlIpvsfMIdHXfAsuan7w7PH87asp1wdb6lD9snvLZix1UGK7VQg6
wUFYNlMqJh1m7ITVvzhjdnx7EzCKkBXSxEom4mwbvSNvzqOKAWsDE0gvHQ9aCSby
NFBQQMoW94LqrG/kuIQtjwVdZA==
-----END NEW CERTIFICATE REQUEST-----'''

req = load_certificate_request(FILETYPE_PEM, csr)
key = req.get_pubkey()
key_type = 'RSA' if key.type() == OpenSSL.crypto.TYPE_RSA else 'DSA'
subject = req.get_subject()
components = dict(subject.get_components())
print ""Common name:"", components['CN']
print ""Organisation:"", components['O']
print ""Orgainistional unit"", components['OU']
print ""City/locality:"", components['L']
print ""State/province:"", components['ST']
print ""Country:"", components['C']
print ""Signature algorithm:"", '?'
print ""Key algorithm:"", key_type
print ""Key size:"", key.bits()
"
29726,2085,How do I index os.walk into a dataframe?,"data = list()
for root, dirs, files in os.walk(targetdir):
    for filename in files:
        nm, ext = os.path.splitext(filename)
        if ext.lower().endswith(('.xlsx', '.m4v', 'mov')):
            fullpath = os.path.join(os.path.abspath(root), filename)
            data.append((filename, filepath))
df1 = pd.DataFrame(data, columns=['filename', 'fullpath'])
print(df1)
"
9015,70540,Mocking file handles,"import mock

def function_under_test(f):
    f.tell()  # => 0
    f.read()
    f.tell()  # => 0
    return f.name

with mock.patch('__main__.open', mock.mock_open(read_data=''), create=True) as m:
    with open('/tmp/1') as f:
        f.name = '/tmp/1'
        f.tell.return_value = 0
        assert function_under_test(f) == '/tmp/1'
"
5679,4801,Python code optimization with regexes,"actions = [
  ('ROAMING'  , lambda service,nr_called,cost: service=='R'),
  ('ONNET'    , lambda service,nr_called,cost: service in ('V  O','S') and float(cost)==0.0),
  ('INTERNET' , lambda service,nr_called,cost: service=='' and nr_called==''),
  ('OTHERSERV', lambda service,nr_called,cost: service in ('I','ROAMING - MMS'))

  # fallthrough
  ('OTHERSERV', lambda service_nr_called,cost: True)
]

for value,check in actions:
  if check(service,nr_called,cost):
    return value

# fallthrough
return 'OTHERSERV'
"
22789,10773,"Copy data from the clipboard on Linux, Mac and Windows with a single Python script","from AppKit import NSPasteboard
from LaunchServices import 
pb = NSPasteboard.generalPasteboard()
text = pb.stringForType_(kUTTypeUTF8PlainText)
"
25951,50520,all possible numerical expressions,"# Produces all possible RPN layouts with n values and n-1 binary operators,
# representing values as '#' and operators as '+'
def RPN(n):
  if n == 1:
    yield '#'
  for i in range(1,n):
    for left in RPN(i):
      for right in RPN(n - i):
        yield left + right + '+' 
"
22084,68244,How do you draw an ellipse/oval in turtle graphics (python)?,"shape(""circle"")
shapesize(5,4,1)
fillcolor(""white"")
"
21395,29427,Boolean sum with numpy finding matching pairs,"a=np.array([[1,1,10],[1,2,20],[2,1,30],[1,3,40],[2,3,50]])
xy= a[:,:2].tolist()
[[x,y,z] for [x,y,z] in a if [y,x] in xy and x!=y]

[[1, 2, 20], [2, 1, 30]]
"
16932,55950,file access peek ahead,"from itertools import tee, izip
def pairwise(iterable):
    ""s -> (s0,s1), (s1,s2), (s2, s3), ...""
    a, b = tee(iterable)
    next(b, None)
    return izip(a, b)

with open(filename) as f: # Remember to use a with block so the file is safely closed after
    for line, next_line in pairwise(f):
        # do stuff
"
351,12221,Pandas Python - Save dataframe without time part of date,"df.to_csv(filename, date_format='%Y-%m-%d')
"
12720,2680,raw_input based integer to binary program,"binaryInt[2:]
"
4667,49503,Django bug when using distinct() and models.Sum(),">>> from django.db import models
>>> from a1.models import Foo, Bar
>>> 
>>> f1 = Foo.objects.create(aaa=5)
>>> f2 = Foo.objects.create(aaa=8)
>>> f3 = Foo.objects.create(aaa=1)
>>> f4 = Foo.objects.create(aaa=12)
>>> f5 = Foo.objects.create(aaa=3)
>>> 
>>> b1 = Bar.objects.create(foo=f2, bbb=True)
>>> b2 = Bar.objects.create(foo=f1, bbb=True)
>>> b3 = Bar.objects.create(foo=f5, bbb=False)
>>> b4 = Bar.objects.create(foo=f3, bbb=True)
>>> b5 = Bar.objects.create(foo=f2, bbb=True)
>>> b6 = Bar.objects.create(foo=f3, bbb=True)
>>> b7 = Bar.objects.create(foo=f4, bbb=True)
>>> b8 = Bar.objects.create(foo=f5, bbb=False)
>>> b9 = Bar.objects.create(foo=f4, bbb=False)
>>> b10 = Bar.objects.create(foo=f5, bbb=True)
>>> b11 = Bar.objects.create(foo=f4, bbb=True)
>>> b12 = Bar.objects.create(foo=f4, bbb=True)
>>> b13 = Bar.objects.create(foo=f4, bbb=True)
>>> b14 = Bar.objects.create(foo=f4, bbb=True)
>>> b15 = Bar.objects.create(foo=f4, bbb=True)
>>> 
>>> Foo.objects.filter(bar__bbb=True).count()
12
>>> Foo.objects.filter(bar__bbb=True).aggregate(models.Sum(""aaa""))['aaa__sum']
98
>>> Foo.objects.filter(bar__bbb=True).distinct().count()
5
>>> Foo.objects.filter(bar__bbb=True).distinct().aggregate(models.Sum(""aaa""))['aaa__sum']
29
"
3666,77316,Python: finding the indices of a list that match the given sublist,"def indices(lst, items):
    last_index = 0

    for item in items:
        last_index += lst.index(item, last_index + 1) + 1

        yield last_index
"
6977,42055,How can I add integers recursively in Python?,"def sumD(num):
    if num == 0: return 0
    return (num % 10) + sumD(num // 10)
"
11193,76811,"Efficiently create a density plot for high-density regions, points for sparse regions","import matplotlib.pyplot as plt, numpy as np, numpy.random, scipy

#histogram definition
xyrange = [[-5,5],[-5,5]] # data range
bins = [100,100] # number of bins
thresh = 3  #density threshold

#data definition
N = 1e5;
xdat, ydat = np.random.normal(size=N), np.random.normal(1, 0.6, size=N)

# histogram the data
hh, locx, locy = scipy.histogram2d(xdat, ydat, range=xyrange, bins=bins)
posx = np.digitize(xdat, locx)
posy = np.digitize(ydat, locy)

#select points within the histogram
ind = (posx > 0) & (posx <= bins[0]) & (posy > 0) & (posy <= bins[1])
hhsub = hh[posx[ind] - 1, posy[ind] - 1] # values of the histogram where the points are
xdat1 = xdat[ind][hhsub < thresh] # low density points
ydat1 = ydat[ind][hhsub < thresh]
hh[hh < thresh] = np.nan # fill the areas with low density by NaNs

plt.imshow(np.flipud(hh.T),cmap='jet',extent=np.array(xyrange).flatten(), interpolation='none', origin='upper')
plt.colorbar()   
plt.plot(xdat1, ydat1, '.',color='darkblue')
plt.show()
"
10177,77707,How can I use apply with pandas rolling_corr(),">>> def sparse_rolling_corr(ts, other, window):
...     return rolling_corr(ts.dropna(), other[ts.name].dropna(), window).reindex_like(ts)
... 
>>> hey.apply(sparse_rolling_corr, args=(hoo, 4))
"
15947,13559,Elegantly Assign Variables of Unknown Length,">>> strs =  ""/forums/support/""
>>> spl =strs.strip('/').split('/')
>>> a,b,c,d,e = spl + [None]*(5-len(spl))
>>> a,b,c,d,e
('forums', 'support', None, None, None)

>>> strs = ""/forums/support/windows/""
>>> spl =strs.strip('/').split('/')
>>> a,b,c,d,e = spl + [None]*(5-len(spl))
>>> a,b,c,d,e
('forums', 'support', 'windows', None, None)

>>> strs = ""/forums/support/windows/help_i_deleted_sys32/6/""
>>> spl =strs.strip('/').split('/')
>>> a,b,c,d,e = spl + [None]*(5-len(spl))
>>> a,b,c,d,e
('forums', 'support', 'windows', 'help_i_deleted_sys32', '6')
"
16822,29141,"UnicodeEncodeError: ""ascii"" can't encode character '\xe0' while parsing HTML (Python)","def fromIriToUri(iri):
myUri = []
iri = urlsplit(iri)
iri = list(iri)
for i in iri:
    try:
        i.encode(""ascii"")
        myUri.append(i)
    except UnicodeEncodeError:
        myUri.append(urllib.parse.quote(i))
uri = urllib.parse.urlunsplit(myUri)
return uri
"
7489,43312,Build a URL using Requests module Python,">>> from requests.compat import urljoin, quote_plus
>>> url = ""http://some-address.com/api/""
>>> term = 'This is a test'
>>> urljoin(url, quote_plus(term))
'http://some-address.com/api/This+is+a+test'
"
13843,11302,Use of ctypes module,"from ctypes import *
# if on Windows, may need to change following to use WinDLL instead of CDLL
vix = CDLL('vix.dll')

# user defined types
VixHandle = c_int
VixHandleType = c_int
VixError = c_uint64
VixPropertyType = c_int
VixPropertyID = c_int
VixEventType = c_int
VixHostOptions = c_int
VixServiceProvider = c_int
VixFindItemType = c_int
VixVMOpenOptions = c_int
VixPumpEventsOptions = c_int
VixVMPowerOpOptions = c_int
VixVMDeleteOptions = c_int
VixPowerState = c_int
VixToolsState = c_int
VixRunProgramOptions = c_int
VixRemoveSnapshotOptions = c_int
VixCreateSnapshotOptions = c_int
VixMsgSharedFolderOptions = c_int
VixCloneType = c_int
VixEventProc = CFUNCTYPE(VixHandle,
    VixEventType,
    VixHandle,
    c_void_p)

# constant definitions
VIX_INVALID_HANDLE = 0
VIX_HANDLETYPE_NONE = 0
VIX_HANDLETYPE_HOST = 2
VIX_HANDLETYPE_VM = 3
VIX_HANDLETYPE_NETWORK = 5
VIX_HANDLETYPE_JOB = 6
VIX_HANDLETYPE_SNAPSHOT = 7
VIX_HANDLETYPE_PROPERTY_LIST = 9
VIX_HANDLETYPE_METADATA_CONTAINER = 11
VIX_OK = 0
VIX_E_FAIL = 1
VIX_E_OUT_OF_MEMORY = 2
VIX_E_INVALID_ARG = 3
VIX_E_FILE_NOT_FOUND = 4
VIX_E_OBJECT_IS_BUSY = 5
VIX_E_NOT_SUPPORTED = 6
VIX_E_FILE_ERROR = 7
VIX_E_DISK_FULL = 8
VIX_E_INCORRECT_FILE_TYPE = 9
VIX_E_CANCELLED = 10
VIX_E_FILE_READ_ONLY = 11
VIX_E_FILE_ALREADY_EXISTS = 12
VIX_E_FILE_ACCESS_ERROR = 13
VIX_E_REQUIRES_LARGE_FILES = 14
VIX_E_FILE_ALREADY_LOCKED = 15
VIX_E_VMDB = 16
VIX_E_NOT_SUPPORTED_ON_REMOTE_OBJECT = 20
VIX_E_FILE_TOO_BIG = 21
VIX_E_FILE_NAME_INVALID = 22
VIX_E_ALREADY_EXISTS = 23
VIX_E_BUFFER_TOOSMALL = 24
VIX_E_OBJECT_NOT_FOUND = 25
VIX_E_HOST_NOT_CONNECTED = 26
VIX_E_INVALID_UTF8_STRING = 27
VIX_E_OPERATION_ALREADY_IN_PROGRESS = 31
VIX_E_UNFINISHED_JOB = 29
VIX_E_NEED_KEY = 30
VIX_E_LICENSE = 32
VIX_E_VM_HOST_DISCONNECTED = 34
VIX_E_AUTHENTICATION_FAIL = 35
VIX_E_HOST_CONNECTION_LOST = 36
VIX_E_DUPLICATE_NAME = 41
VIX_E_INVALID_HANDLE = 1000
VIX_E_NOT_SUPPORTED_ON_HANDLE_TYPE = 1001
VIX_E_TOO_MANY_HANDLES = 1002
VIX_E_NOT_FOUND = 2000
VIX_E_TYPE_MISMATCH = 2001
VIX_E_INVALID_XML = 2002
VIX_E_TIMEOUT_WAITING_FOR_TOOLS = 3000
VIX_E_UNRECOGNIZED_COMMAND = 3001
VIX_E_OP_NOT_SUPPORTED_ON_GUEST = 3003
VIX_E_PROGRAM_NOT_STARTED = 3004
VIX_E_CANNOT_START_READ_ONLY_VM = 3005
VIX_E_VM_NOT_RUNNING = 3006
VIX_E_VM_IS_RUNNING = 3007
VIX_E_CANNOT_CONNECT_TO_VM = 3008
VIX_E_POWEROP_SCRIPTS_NOT_AVAILABLE = 3009
VIX_E_NO_GUEST_OS_INSTALLED = 3010
VIX_E_VM_INSUFFICIENT_HOST_MEMORY = 3011
VIX_E_SUSPEND_ERROR = 3012
VIX_E_VM_NOT_ENOUGH_CPUS = 3013
VIX_E_HOST_USER_PERMISSIONS = 3014
VIX_E_GUEST_USER_PERMISSIONS = 3015
VIX_E_TOOLS_NOT_RUNNING = 3016
VIX_E_GUEST_OPERATIONS_PROHIBITED = 3017
VIX_E_ANON_GUEST_OPERATIONS_PROHIBITED = 3018
VIX_E_ROOT_GUEST_OPERATIONS_PROHIBITED = 3019
VIX_E_MISSING_ANON_GUEST_ACCOUNT = 3023
VIX_E_CANNOT_AUTHENTICATE_WITH_GUEST = 3024
VIX_E_UNRECOGNIZED_COMMAND_IN_GUEST = 3025
VIX_E_CONSOLE_GUEST_OPERATIONS_PROHIBITED = 3026
VIX_E_MUST_BE_CONSOLE_USER = 3027
VIX_E_VMX_MSG_DIALOG_AND_NO_UI = 3028
VIX_E_NOT_ALLOWED_DURING_VM_RECORDING = 3029
VIX_E_NOT_ALLOWED_DURING_VM_REPLAY = 3030
VIX_E_OPERATION_NOT_ALLOWED_FOR_LOGIN_TYPE = 3031
VIX_E_LOGIN_TYPE_NOT_SUPPORTED = 3032
VIX_E_EMPTY_PASSWORD_NOT_ALLOWED_IN_GUEST = 3033
VIX_E_INTERACTIVE_SESSION_NOT_PRESENT = 3034
VIX_E_INTERACTIVE_SESSION_USER_MISMATCH = 3035
VIX_E_UNABLE_TO_REPLAY_VM = 3039
VIX_E_CANNOT_POWER_ON_VM = 3041
VIX_E_NO_DISPLAY_SERVER = 3043
VIX_E_VM_NOT_RECORDING = 3044
VIX_E_VM_NOT_REPLAYING = 3045
VIX_E_VM_NOT_FOUND = 4000
VIX_E_NOT_SUPPORTED_FOR_VM_VERSION = 4001
VIX_E_CANNOT_READ_VM_CONFIG = 4002
VIX_E_TEMPLATE_VM = 4003
VIX_E_VM_ALREADY_LOADED = 4004
VIX_E_VM_ALREADY_UP_TO_DATE = 4006
VIX_E_VM_UNSUPPORTED_GUEST = 4011
VIX_E_UNRECOGNIZED_PROPERTY = 6000
VIX_E_INVALID_PROPERTY_VALUE = 6001
VIX_E_READ_ONLY_PROPERTY = 6002
VIX_E_MISSING_REQUIRED_PROPERTY = 6003
VIX_E_INVALID_SERIALIZED_DATA = 6004
VIX_E_PROPERTY_TYPE_MISMATCH = 6005
VIX_E_BAD_VM_INDEX = 8000
VIX_E_INVALID_MESSAGE_HEADER = 10000
VIX_E_INVALID_MESSAGE_BODY = 10001
VIX_E_SNAPSHOT_INVAL = 13000
VIX_E_SNAPSHOT_DUMPER = 13001
VIX_E_SNAPSHOT_DISKLIB = 13002
VIX_E_SNAPSHOT_NOTFOUND = 13003
VIX_E_SNAPSHOT_EXISTS = 13004
VIX_E_SNAPSHOT_VERSION = 13005
VIX_E_SNAPSHOT_NOPERM = 13006
VIX_E_SNAPSHOT_CONFIG = 13007
VIX_E_SNAPSHOT_NOCHANGE = 13008
VIX_E_SNAPSHOT_CHECKPOINT = 13009
VIX_E_SNAPSHOT_LOCKED = 13010
VIX_E_SNAPSHOT_INCONSISTENT = 13011
VIX_E_SNAPSHOT_NAMETOOLONG = 13012
VIX_E_SNAPSHOT_VIXFILE = 13013
VIX_E_SNAPSHOT_DISKLOCKED = 13014
VIX_E_SNAPSHOT_DUPLICATEDDISK = 13015
VIX_E_SNAPSHOT_INDEPENDENTDISK = 13016
VIX_E_SNAPSHOT_NONUNIQUE_NAME = 13017
VIX_E_SNAPSHOT_MEMORY_ON_INDEPENDENT_DISK = 13018
VIX_E_SNAPSHOT_MAXSNAPSHOTS = 13019
VIX_E_SNAPSHOT_MIN_FREE_SPACE = 13020
VIX_E_SNAPSHOT_HIERARCHY_TOODEEP = 13021
VIX_E_HOST_DISK_INVALID_VALUE = 14003
VIX_E_HOST_DISK_SECTORSIZE = 14004
VIX_E_HOST_FILE_ERROR_EOF = 14005
VIX_E_HOST_NETBLKDEV_HANDSHAKE = 14006
VIX_E_HOST_SOCKET_CREATION_ERROR = 14007
VIX_E_HOST_SERVER_NOT_FOUND = 14008
VIX_E_HOST_NETWORK_CONN_REFUSED = 14009
VIX_E_HOST_TCP_SOCKET_ERROR = 14010
VIX_E_HOST_TCP_CONN_LOST = 14011
VIX_E_HOST_NBD_HASHFILE_VOLUME = 14012
VIX_E_HOST_NBD_HASHFILE_INIT = 14013
VIX_E_DISK_INVAL = 16000
VIX_E_DISK_NOINIT = 16001
VIX_E_DISK_NOIO = 16002
VIX_E_DISK_PARTIALCHAIN = 16003
VIX_E_DISK_NEEDSREPAIR = 16006
VIX_E_DISK_OUTOFRANGE = 16007
VIX_E_DISK_CID_MISMATCH = 16008
VIX_E_DISK_CANTSHRINK = 16009
VIX_E_DISK_PARTMISMATCH = 16010
VIX_E_DISK_UNSUPPORTEDDISKVERSION = 16011
VIX_E_DISK_OPENPARENT = 16012
VIX_E_DISK_NOTSUPPORTED = 16013
VIX_E_DISK_NEEDKEY = 16014
VIX_E_DISK_NOKEYOVERRIDE = 16015
VIX_E_DISK_NOTENCRYPTED = 16016
VIX_E_DISK_NOKEY = 16017
VIX_E_DISK_INVALIDPARTITIONTABLE = 16018
VIX_E_DISK_NOTNORMAL = 16019
VIX_E_DISK_NOTENCDESC = 16020
VIX_E_DISK_NEEDVMFS = 16022
VIX_E_DISK_RAWTOOBIG = 16024
VIX_E_DISK_TOOMANYOPENFILES = 16027
VIX_E_DISK_TOOMANYREDO = 16028
VIX_E_DISK_RAWTOOSMALL = 16029
VIX_E_DISK_INVALIDCHAIN = 16030
VIX_E_DISK_KEY_NOTFOUND = 16052
VIX_E_DISK_SUBSYSTEM_INIT_FAIL = 16053
VIX_E_DISK_INVALID_CONNECTION = 16054
VIX_E_DISK_ENCODING = 16061
VIX_E_DISK_CANTREPAIR = 16062
VIX_E_DISK_INVALIDDISK = 16063
VIX_E_DISK_NOLICENSE = 16064
VIX_E_DISK_NODEVICE = 16065
VIX_E_DISK_UNSUPPORTEDDEVICE = 16066
VIX_E_CRYPTO_UNKNOWN_ALGORITHM = 17000
VIX_E_CRYPTO_BAD_BUFFER_SIZE = 17001
VIX_E_CRYPTO_INVALID_OPERATION = 17002
VIX_E_CRYPTO_RANDOM_DEVICE = 17003
VIX_E_CRYPTO_NEED_PASSWORD = 17004
VIX_E_CRYPTO_BAD_PASSWORD = 17005
VIX_E_CRYPTO_NOT_IN_DICTIONARY = 17006
VIX_E_CRYPTO_NO_CRYPTO = 17007
VIX_E_CRYPTO_ERROR = 17008
VIX_E_CRYPTO_BAD_FORMAT = 17009
VIX_E_CRYPTO_LOCKED = 17010
VIX_E_CRYPTO_EMPTY = 17011
VIX_E_CRYPTO_KEYSAFE_LOCATOR = 17012
VIX_E_CANNOT_CONNECT_TO_HOST = 18000
VIX_E_NOT_FOR_REMOTE_HOST = 18001
VIX_E_INVALID_HOSTNAME_SPECIFICATION = 18002
VIX_E_SCREEN_CAPTURE_ERROR = 19000
VIX_E_SCREEN_CAPTURE_BAD_FORMAT = 19001
VIX_E_SCREEN_CAPTURE_COMPRESSION_FAIL = 19002
VIX_E_SCREEN_CAPTURE_LARGE_DATA = 19003
VIX_E_GUEST_VOLUMES_NOT_FROZEN = 20000
VIX_E_NOT_A_FILE = 20001
VIX_E_NOT_A_DIRECTORY = 20002
VIX_E_NO_SUCH_PROCESS = 20003
VIX_E_FILE_NAME_TOO_LONG = 20004
VIX_E_TOOLS_INSTALL_NO_IMAGE = 21000
VIX_E_TOOLS_INSTALL_IMAGE_INACCESIBLE = 21001
VIX_E_TOOLS_INSTALL_NO_DEVICE = 21002
VIX_E_TOOLS_INSTALL_DEVICE_NOT_CONNECTED = 21003
VIX_E_TOOLS_INSTALL_CANCELLED = 21004
VIX_E_TOOLS_INSTALL_INIT_FAILED = 21005
VIX_E_TOOLS_INSTALL_AUTO_NOT_SUPPORTED = 21006
VIX_E_TOOLS_INSTALL_GUEST_NOT_READY = 21007
VIX_E_TOOLS_INSTALL_SIG_CHECK_FAILED = 21008
VIX_E_TOOLS_INSTALL_ERROR = 21009
VIX_E_TOOLS_INSTALL_ALREADY_UP_TO_DATE = 21010
VIX_E_TOOLS_INSTALL_IN_PROGRESS = 21011
VIX_E_WRAPPER_WORKSTATION_NOT_INSTALLED = 22001
VIX_E_WRAPPER_VERSION_NOT_FOUND = 22002
VIX_E_WRAPPER_SERVICEPROVIDER_NOT_FOUND = 22003
VIX_E_WRAPPER_PLAYER_NOT_INSTALLED = 22004
VIX_E_WRAPPER_RUNTIME_NOT_INSTALLED = 22005
VIX_E_WRAPPER_MULTIPLE_SERVICEPROVIDERS = 22006
VIX_E_MNTAPI_MOUNTPT_NOT_FOUND = 24000
VIX_E_MNTAPI_MOUNTPT_IN_USE = 24001
VIX_E_MNTAPI_DISK_NOT_FOUND = 24002
VIX_E_MNTAPI_DISK_NOT_MOUNTED = 24003
VIX_E_MNTAPI_DISK_IS_MOUNTED = 24004
VIX_E_MNTAPI_DISK_NOT_SAFE = 24005
VIX_E_MNTAPI_DISK_CANT_OPEN = 24006
VIX_E_MNTAPI_CANT_READ_PARTS = 24007
VIX_E_MNTAPI_UMOUNT_APP_NOT_FOUND = 24008
VIX_E_MNTAPI_UMOUNT = 24009
VIX_E_MNTAPI_NO_MOUNTABLE_PARTITONS = 24010
VIX_E_MNTAPI_PARTITION_RANGE = 24011
VIX_E_MNTAPI_PERM = 24012
VIX_E_MNTAPI_DICT = 24013
VIX_E_MNTAPI_DICT_LOCKED = 24014
VIX_E_MNTAPI_OPEN_HANDLES = 24015
VIX_E_MNTAPI_CANT_MAKE_VAR_DIR = 24016
VIX_E_MNTAPI_NO_ROOT = 24017
VIX_E_MNTAPI_LOOP_FAILED = 24018
VIX_E_MNTAPI_DAEMON = 24019
VIX_E_MNTAPI_INTERNAL = 24020
VIX_E_MNTAPI_SYSTEM = 24021
VIX_E_MNTAPI_NO_CONNECTION_DETAILS = 24022
VIX_E_MNTAPI_INCOMPATIBLE_VERSION = 24300
VIX_E_MNTAPI_OS_ERROR = 24301
VIX_E_MNTAPI_DRIVE_LETTER_IN_USE = 24302
VIX_E_MNTAPI_DRIVE_LETTER_ALREADY_ASSIGNED = 24303
VIX_E_MNTAPI_VOLUME_NOT_MOUNTED = 24304
VIX_E_MNTAPI_VOLUME_ALREADY_MOUNTED = 24305
VIX_E_MNTAPI_FORMAT_FAILURE = 24306
VIX_E_MNTAPI_NO_DRIVER = 24307
VIX_E_MNTAPI_ALREADY_OPENED = 24308
VIX_E_MNTAPI_ITEM_NOT_FOUND = 24309
VIX_E_MNTAPI_UNSUPPROTED_BOOT_LOADER = 24310
VIX_E_MNTAPI_UNSUPPROTED_OS = 24311
VIX_E_MNTAPI_CODECONVERSION = 24312
VIX_E_MNTAPI_REGWRITE_ERROR = 24313
VIX_E_MNTAPI_UNSUPPORTED_FT_VOLUME = 24314
VIX_E_MNTAPI_PARTITION_NOT_FOUND = 24315
VIX_E_MNTAPI_PUTFILE_ERROR = 24316
VIX_E_MNTAPI_GETFILE_ERROR = 24317
VIX_E_MNTAPI_REG_NOT_OPENED = 24318
VIX_E_MNTAPI_REGDELKEY_ERROR = 24319
VIX_E_MNTAPI_CREATE_PARTITIONTABLE_ERROR = 24320
VIX_E_MNTAPI_OPEN_FAILURE = 24321
VIX_E_MNTAPI_VOLUME_NOT_WRITABLE = 24322
VIX_E_NET_HTTP_UNSUPPORTED_PROTOCOL = 30001
VIX_E_NET_HTTP_URL_MALFORMAT = 30003
VIX_E_NET_HTTP_COULDNT_RESOLVE_PROXY = 30005
VIX_E_NET_HTTP_COULDNT_RESOLVE_HOST = 30006
VIX_E_NET_HTTP_COULDNT_CONNECT = 30007
VIX_E_NET_HTTP_HTTP_RETURNED_ERROR = 30022
VIX_E_NET_HTTP_OPERATION_TIMEDOUT = 30028
VIX_E_NET_HTTP_SSL_CONNECT_ERROR = 30035
VIX_E_NET_HTTP_TOO_MANY_REDIRECTS = 30047
VIX_E_NET_HTTP_TRANSFER = 30200
VIX_E_NET_HTTP_SSL_SECURITY = 30201
VIX_E_NET_HTTP_GENERIC = 30202
VIX_PROPERTYTYPE_ANY = 0
VIX_PROPERTYTYPE_INTEGER = 1
VIX_PROPERTYTYPE_STRING = 2
VIX_PROPERTYTYPE_BOOL = 3
VIX_PROPERTYTYPE_HANDLE = 4
VIX_PROPERTYTYPE_INT64 = 5
VIX_PROPERTYTYPE_BLOB = 6
VIX_PROPERTY_NONE = 0
VIX_PROPERTY_META_DATA_CONTAINER = 2
VIX_PROPERTY_HOST_HOSTTYPE = 50
VIX_PROPERTY_HOST_API_VERSION = 51
VIX_PROPERTY_VM_NUM_VCPUS = 101
VIX_PROPERTY_VM_VMX_PATHNAME = 103
VIX_PROPERTY_VM_VMTEAM_PATHNAME = 105
VIX_PROPERTY_VM_MEMORY_SIZE = 106
VIX_PROPERTY_VM_READ_ONLY = 107
VIX_PROPERTY_VM_NAME = 108
VIX_PROPERTY_VM_GUESTOS = 109
VIX_PROPERTY_VM_IN_VMTEAM = 128
VIX_PROPERTY_VM_POWER_STATE = 129
VIX_PROPERTY_VM_TOOLS_STATE = 152
VIX_PROPERTY_VM_IS_RUNNING = 196
VIX_PROPERTY_VM_SUPPORTED_FEATURES = 197
VIX_PROPERTY_VM_IS_RECORDING = 236
VIX_PROPERTY_VM_IS_REPLAYING = 237
VIX_PROPERTY_JOB_RESULT_ERROR_CODE = 3000
VIX_PROPERTY_JOB_RESULT_VM_IN_GROUP = 3001
VIX_PROPERTY_JOB_RESULT_USER_MESSAGE = 3002
VIX_PROPERTY_JOB_RESULT_EXIT_CODE = 3004
VIX_PROPERTY_JOB_RESULT_COMMAND_OUTPUT = 3005
VIX_PROPERTY_JOB_RESULT_HANDLE = 3010
VIX_PROPERTY_JOB_RESULT_GUEST_OBJECT_EXISTS = 3011
VIX_PROPERTY_JOB_RESULT_GUEST_PROGRAM_ELAPSED_TIME = 3017
VIX_PROPERTY_JOB_RESULT_GUEST_PROGRAM_EXIT_CODE = 3018
VIX_PROPERTY_JOB_RESULT_ITEM_NAME = 3035
VIX_PROPERTY_JOB_RESULT_FOUND_ITEM_DESCRIPTION = 3036
VIX_PROPERTY_JOB_RESULT_SHARED_FOLDER_COUNT = 3046
VIX_PROPERTY_JOB_RESULT_SHARED_FOLDER_HOST = 3048
VIX_PROPERTY_JOB_RESULT_SHARED_FOLDER_FLAGS = 3049
VIX_PROPERTY_JOB_RESULT_PROCESS_ID = 3051
VIX_PROPERTY_JOB_RESULT_PROCESS_OWNER = 3052
VIX_PROPERTY_JOB_RESULT_PROCESS_COMMAND = 3053
VIX_PROPERTY_JOB_RESULT_FILE_FLAGS = 3054
VIX_PROPERTY_JOB_RESULT_PROCESS_START_TIME = 3055
VIX_PROPERTY_JOB_RESULT_VM_VARIABLE_STRING = 3056
VIX_PROPERTY_JOB_RESULT_PROCESS_BEING_DEBUGGED = 3057
VIX_PROPERTY_JOB_RESULT_SCREEN_IMAGE_SIZE = 3058
VIX_PROPERTY_JOB_RESULT_SCREEN_IMAGE_DATA = 3059
VIX_PROPERTY_JOB_RESULT_FILE_SIZE = 3061
VIX_PROPERTY_JOB_RESULT_FILE_MOD_TIME = 3062
VIX_PROPERTY_JOB_RESULT_EXTRA_ERROR_INFO = 3084
VIX_PROPERTY_FOUND_ITEM_LOCATION = 4010
VIX_PROPERTY_SNAPSHOT_DISPLAYNAME = 4200
VIX_PROPERTY_SNAPSHOT_DESCRIPTION = 4201
VIX_PROPERTY_SNAPSHOT_POWERSTATE = 4205
VIX_PROPERTY_SNAPSHOT_IS_REPLAYABLE = 4207
VIX_PROPERTY_GUEST_SHAREDFOLDERS_SHARES_PATH = 4525
VIX_PROPERTY_VM_ENCRYPTION_PASSWORD = 7001
VIX_EVENTTYPE_JOB_COMPLETED = 2
VIX_EVENTTYPE_JOB_PROGRESS = 3
VIX_EVENTTYPE_FIND_ITEM = 8
VIX_EVENTTYPE_CALLBACK_SIGNALLED = 2
VIX_FILE_ATTRIBUTES_DIRECTORY = 0x0001
VIX_FILE_ATTRIBUTES_SYMLINK = 0x0002
VIX_HOSTOPTION_USE_EVENT_PUMP = 0x0008
VIX_SERVICEPROVIDER_DEFAULT = 1
VIX_SERVICEPROVIDER_VMWARE_SERVER = 2
VIX_SERVICEPROVIDER_VMWARE_WORKSTATION = 3
VIX_SERVICEPROVIDER_VMWARE_PLAYER = 4
VIX_SERVICEPROVIDER_VMWARE_VI_SERVER = 10
VIX_API_VERSION = -1
VIX_FIND_RUNNING_VMS = 1
VIX_FIND_REGISTERED_VMS = 4
VIX_VMOPEN_NORMAL = 0x0
VIX_PUMPEVENTOPTION_NONE = 0
VIX_VMPOWEROP_NORMAL = 0
VIX_VMPOWEROP_FROM_GUEST = 0x0004
VIX_VMPOWEROP_SUPPRESS_SNAPSHOT_POWERON = 0x0080
VIX_VMPOWEROP_LAUNCH_GUI = 0x0200
VIX_VMPOWEROP_START_VM_PAUSED = 0x1000
VIX_VMDELETE_DISK_FILES = 0x0002
VIX_POWERSTATE_POWERING_OFF = 0x0001
VIX_POWERSTATE_POWERED_OFF = 0x0002
VIX_POWERSTATE_POWERING_ON = 0x0004
VIX_POWERSTATE_POWERED_ON = 0x0008
VIX_POWERSTATE_SUSPENDING = 0x0010
VIX_POWERSTATE_SUSPENDED = 0x0020
VIX_POWERSTATE_TOOLS_RUNNING = 0x0040
VIX_POWERSTATE_RESETTING = 0x0080
VIX_POWERSTATE_BLOCKED_ON_MSG = 0x0100
VIX_POWERSTATE_PAUSED = 0x0200
VIX_POWERSTATE_RESUMING = 0x0800
VIX_TOOLSSTATE_UNKNOWN = 0x0001
VIX_TOOLSSTATE_RUNNING = 0x0002
VIX_TOOLSSTATE_NOT_INSTALLED = 0x0004
VIX_VM_SUPPORT_SHARED_FOLDERS = 0x0001
VIX_VM_SUPPORT_MULTIPLE_SNAPSHOTS = 0x0002
VIX_VM_SUPPORT_TOOLS_INSTALL = 0x0004
VIX_VM_SUPPORT_HARDWARE_UPGRADE = 0x0008
VIX_LOGIN_IN_GUEST_REQUIRE_INTERACTIVE_ENVIRONMENT = 0x08
VIX_RUNPROGRAM_RETURN_IMMEDIATELY = 0x0001
VIX_RUNPROGRAM_ACTIVATE_WINDOW = 0x0002
VIX_VM_GUEST_VARIABLE = 1
VIX_VM_CONFIG_RUNTIME_ONLY = 2
VIX_GUEST_ENVIRONMENT_VARIABLE = 3
VIX_SNAPSHOT_REMOVE_CHILDREN = 0x0001
VIX_SNAPSHOT_INCLUDE_MEMORY = 0x0002
VIX_SHAREDFOLDER_WRITE_ACCESS = 0x04
VIX_CAPTURESCREENFORMAT_PNG = 0x01
VIX_CAPTURESCREENFORMAT_PNG_NOCOMPRESS = 0x02
VIX_CLONETYPE_FULL = 0
VIX_CLONETYPE_LINKED = 1
VIX_INSTALLTOOLS_MOUNT_TOOLS_INSTALLER = 0x00
VIX_INSTALLTOOLS_AUTO_UPGRADE = 0x01
VIX_INSTALLTOOLS_RETURN_IMMEDIATELY = 0x02

# functions
vix.Vix_GetErrorText.restype = c_char_p
vix.Vix_GetErrorText.argtypes = [VixError,c_char_p]
vix.Vix_ReleaseHandle.restype = None
vix.Vix_ReleaseHandle.argtypes = [VixHandle]
vix.Vix_AddRefHandle.restype = None
vix.Vix_AddRefHandle.argtypes = [VixHandle]
vix.Vix_GetHandleType.restype = VixHandleType
vix.Vix_GetHandleType.argtypes = [VixHandle]
vix.Vix_GetProperties.restype = VixError
# warning - vix.Vix_GetProperties takes variable argument list
vix.Vix_GetProperties.argtypes = [VixHandle,VixPropertyID]
vix.Vix_GetPropertyType.restype = VixError
vix.Vix_GetPropertyType.argtypes = [VixHandle,VixPropertyID,POINTER(VixPropertyType)]
vix.Vix_FreeBuffer.restype = None
vix.Vix_FreeBuffer.argtypes = [c_void_p]
vix.VixHost_Connect.restype = VixHandle
vix.VixHost_Connect.argtypes = [c_int,VixServiceProvider,c_char_p,c_int,c_char_p,c_char_p,VixHostOptions,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixHost_Disconnect.restype = None
vix.VixHost_Disconnect.argtypes = [VixHandle]
vix.VixHost_RegisterVM.restype = VixHandle
vix.VixHost_RegisterVM.argtypes = [VixHandle,c_char_p,POINTER(VixEventProc),c_void_p]
vix.VixHost_UnregisterVM.restype = VixHandle
vix.VixHost_UnregisterVM.argtypes = [VixHandle,c_char_p,POINTER(VixEventProc),c_void_p]
vix.VixHost_FindItems.restype = VixHandle
vix.VixHost_FindItems.argtypes = [VixHandle,VixFindItemType,VixHandle,c_int32,POINTER(VixEventProc),c_void_p]
vix.VixHost_OpenVM.restype = VixHandle
vix.VixHost_OpenVM.argtypes = [VixHandle,c_char_p,VixVMOpenOptions,VixHandle,POINTER(VixEventProc),c_void_p]
vix.Vix_PumpEvents.restype = None
vix.Vix_PumpEvents.argtypes = [VixHandle,VixPumpEventsOptions]
vix.VixPropertyList_AllocPropertyList.restype = VixError
# warning - vix.VixPropertyList_AllocPropertyList takes variable argument list
vix.VixPropertyList_AllocPropertyList.argtypes = [VixHandle,POINTER(VixHandle),c_int]
vix.VixVM_Open.restype = VixHandle
vix.VixVM_Open.argtypes = [VixHandle,c_char_p,POINTER(VixEventProc),c_void_p]
vix.VixVM_PowerOn.restype = VixHandle
vix.VixVM_PowerOn.argtypes = [VixHandle,VixVMPowerOpOptions,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_PowerOff.restype = VixHandle
vix.VixVM_PowerOff.argtypes = [VixHandle,VixVMPowerOpOptions,POINTER(VixEventProc),c_void_p]
vix.VixVM_Reset.restype = VixHandle
vix.VixVM_Reset.argtypes = [VixHandle,VixVMPowerOpOptions,POINTER(VixEventProc),c_void_p]
vix.VixVM_Suspend.restype = VixHandle
vix.VixVM_Suspend.argtypes = [VixHandle,VixVMPowerOpOptions,POINTER(VixEventProc),c_void_p]
vix.VixVM_Pause.restype = VixHandle
vix.VixVM_Pause.argtypes = [VixHandle,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_Unpause.restype = VixHandle
vix.VixVM_Unpause.argtypes = [VixHandle,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_Delete.restype = VixHandle
vix.VixVM_Delete.argtypes = [VixHandle,VixVMDeleteOptions,POINTER(VixEventProc),c_void_p]
vix.VixVM_BeginRecording.restype = VixHandle
vix.VixVM_BeginRecording.argtypes = [VixHandle,c_char_p,c_char_p,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_EndRecording.restype = VixHandle
vix.VixVM_EndRecording.argtypes = [VixHandle,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_BeginReplay.restype = VixHandle
vix.VixVM_BeginReplay.argtypes = [VixHandle,VixHandle,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_EndReplay.restype = VixHandle
vix.VixVM_EndReplay.argtypes = [VixHandle,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_WaitForToolsInGuest.restype = VixHandle
vix.VixVM_WaitForToolsInGuest.argtypes = [VixHandle,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_LoginInGuest.restype = VixHandle
vix.VixVM_LoginInGuest.argtypes = [VixHandle,c_char_p,c_char_p,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_LogoutFromGuest.restype = VixHandle
vix.VixVM_LogoutFromGuest.argtypes = [VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_RunProgramInGuest.restype = VixHandle
vix.VixVM_RunProgramInGuest.argtypes = [VixHandle,c_char_p,c_char_p,VixRunProgramOptions,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_ListProcessesInGuest.restype = VixHandle
vix.VixVM_ListProcessesInGuest.argtypes = [VixHandle,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_KillProcessInGuest.restype = VixHandle
vix.VixVM_KillProcessInGuest.argtypes = [VixHandle,c_uint64,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_RunScriptInGuest.restype = VixHandle
vix.VixVM_RunScriptInGuest.argtypes = [VixHandle,c_char_p,c_char_p,VixRunProgramOptions,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_OpenUrlInGuest.restype = VixHandle
vix.VixVM_OpenUrlInGuest.argtypes = [VixHandle,c_char_p,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_CopyFileFromHostToGuest.restype = VixHandle
vix.VixVM_CopyFileFromHostToGuest.argtypes = [VixHandle,c_char_p,c_char_p,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_CopyFileFromGuestToHost.restype = VixHandle
vix.VixVM_CopyFileFromGuestToHost.argtypes = [VixHandle,c_char_p,c_char_p,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_DeleteFileInGuest.restype = VixHandle
vix.VixVM_DeleteFileInGuest.argtypes = [VixHandle,c_char_p,POINTER(VixEventProc),c_void_p]
vix.VixVM_FileExistsInGuest.restype = VixHandle
vix.VixVM_FileExistsInGuest.argtypes = [VixHandle,c_char_p,POINTER(VixEventProc),c_void_p]
vix.VixVM_RenameFileInGuest.restype = VixHandle
vix.VixVM_RenameFileInGuest.argtypes = [VixHandle,c_char_p,c_char_p,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_CreateTempFileInGuest.restype = VixHandle
vix.VixVM_CreateTempFileInGuest.argtypes = [VixHandle,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_GetFileInfoInGuest.restype = VixHandle
vix.VixVM_GetFileInfoInGuest.argtypes = [VixHandle,c_char_p,POINTER(VixEventProc),c_void_p]
vix.VixVM_ListDirectoryInGuest.restype = VixHandle
vix.VixVM_ListDirectoryInGuest.argtypes = [VixHandle,c_char_p,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_CreateDirectoryInGuest.restype = VixHandle
vix.VixVM_CreateDirectoryInGuest.argtypes = [VixHandle,c_char_p,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_DeleteDirectoryInGuest.restype = VixHandle
vix.VixVM_DeleteDirectoryInGuest.argtypes = [VixHandle,c_char_p,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_DirectoryExistsInGuest.restype = VixHandle
vix.VixVM_DirectoryExistsInGuest.argtypes = [VixHandle,c_char_p,POINTER(VixEventProc),c_void_p]
vix.VixVM_ReadVariable.restype = VixHandle
vix.VixVM_ReadVariable.argtypes = [VixHandle,c_int,c_char_p,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_WriteVariable.restype = VixHandle
vix.VixVM_WriteVariable.argtypes = [VixHandle,c_int,c_char_p,c_char_p,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_GetNumRootSnapshots.restype = VixError
vix.VixVM_GetNumRootSnapshots.argtypes = [VixHandle,POINTER(c_int)]
vix.VixVM_GetRootSnapshot.restype = VixError
vix.VixVM_GetRootSnapshot.argtypes = [VixHandle,c_int,POINTER(VixHandle)]
vix.VixVM_GetCurrentSnapshot.restype = VixError
vix.VixVM_GetCurrentSnapshot.argtypes = [VixHandle,POINTER(VixHandle)]
vix.VixVM_GetNamedSnapshot.restype = VixError
vix.VixVM_GetNamedSnapshot.argtypes = [VixHandle,c_char_p,POINTER(VixHandle)]
vix.VixVM_RemoveSnapshot.restype = VixHandle
vix.VixVM_RemoveSnapshot.argtypes = [VixHandle,VixHandle,VixRemoveSnapshotOptions,POINTER(VixEventProc),c_void_p]
vix.VixVM_RevertToSnapshot.restype = VixHandle
vix.VixVM_RevertToSnapshot.argtypes = [VixHandle,VixHandle,VixVMPowerOpOptions,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_CreateSnapshot.restype = VixHandle
vix.VixVM_CreateSnapshot.argtypes = [VixHandle,c_char_p,c_char_p,VixCreateSnapshotOptions,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_EnableSharedFolders.restype = VixHandle
vix.VixVM_EnableSharedFolders.argtypes = [VixHandle,c_byte,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_GetNumSharedFolders.restype = VixHandle
vix.VixVM_GetNumSharedFolders.argtypes = [VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_GetSharedFolderState.restype = VixHandle
vix.VixVM_GetSharedFolderState.argtypes = [VixHandle,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_SetSharedFolderState.restype = VixHandle
vix.VixVM_SetSharedFolderState.argtypes = [VixHandle,c_char_p,c_char_p,VixMsgSharedFolderOptions,POINTER(VixEventProc),c_void_p]
vix.VixVM_AddSharedFolder.restype = VixHandle
vix.VixVM_AddSharedFolder.argtypes = [VixHandle,c_char_p,c_char_p,VixMsgSharedFolderOptions,POINTER(VixEventProc),c_void_p]
vix.VixVM_RemoveSharedFolder.restype = VixHandle
vix.VixVM_RemoveSharedFolder.argtypes = [VixHandle,c_char_p,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_CaptureScreenImage.restype = VixHandle
vix.VixVM_CaptureScreenImage.argtypes = [VixHandle,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_Clone.restype = VixHandle
vix.VixVM_Clone.argtypes = [VixHandle,VixHandle,VixCloneType,c_char_p,c_int,VixHandle,POINTER(VixEventProc),c_void_p]
vix.VixVM_UpgradeVirtualHardware.restype = VixHandle
vix.VixVM_UpgradeVirtualHardware.argtypes = [VixHandle,c_int,POINTER(VixEventProc),c_void_p]
vix.VixVM_InstallTools.restype = VixHandle
vix.VixVM_InstallTools.argtypes = [VixHandle,c_int,c_char_p,POINTER(VixEventProc),c_void_p]
vix.VixJob_Wait.restype = VixError
# warning - vix.VixJob_Wait takes variable argument list
vix.VixJob_Wait.argtypes = [VixHandle,VixPropertyID]
vix.VixJob_CheckCompletion.restype = VixError
vix.VixJob_CheckCompletion.argtypes = [VixHandle,POINTER(c_byte)]
vix.VixJob_GetError.restype = VixError
vix.VixJob_GetError.argtypes = [VixHandle]
vix.VixJob_GetNumProperties.restype = c_int
vix.VixJob_GetNumProperties.argtypes = [VixHandle,c_int]
vix.VixJob_GetNthProperties.restype = VixError
# warning - vix.VixJob_GetNthProperties takes variable argument list
vix.VixJob_GetNthProperties.argtypes = [VixHandle,c_int,c_int]
vix.VixSnapshot_GetNumChildren.restype = VixError
vix.VixSnapshot_GetNumChildren.argtypes = [VixHandle,POINTER(c_int)]
vix.VixSnapshot_GetChild.restype = VixError
vix.VixSnapshot_GetChild.argtypes = [VixHandle,c_int,POINTER(VixHandle)]
vix.VixSnapshot_GetParent.restype = VixError
vix.VixSnapshot_GetParent.argtypes = [VixHandle,POINTER(VixHandle)]
"
37418,10319,"Can I get a view of a numpy array at specified indexes? (a view from ""fancy indexing"")","ii = [0, 5, 21]
y = x[ii]
<manipulate y>
x[ii] = y
"
18264,13456,Python: Count and Remove duplicates in the list of list,"from itertools import groupby

a = [[1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
     [2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 3.0, 3.0, 3.0, 3.0, 3.0, 4.0, 4.0, 4.0, 4.0],
     [3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 3.0, 5.0, 5.0, 5.0],
     [1.0, 4.0, 4.0, 4.0, 5.0, 5.0, 5.0],
     [5.0, 5.0, 5.0], 
     [1.0]
    ]

b = []
c = []

for inner in a:
    new_b = []
    new_c = []
    for value, repeated in groupby(sorted(inner)):
        new_b.append(value)
        new_c.append(sum(1 for _ in repeated))

    b.append(new_b)
    c.append(new_c)

print b
# [[1.0], [2.0, 3.0, 4.0], [3.0, 5.0], [1.0, 4.0, 5.0], [5.0], [1.0]]
print c
# [[13], [6, 5, 4], [8, 3], [1, 3, 3], [3], [1]]
"
11051,83455,pyqt4 emiting signals in threads to slots in main thread,"import sys, time
from PyQt4 import QtGui as qt
from PyQt4 import QtCore as qtcore

app = qt.QApplication(sys.argv)
class widget(qt.QWidget):
    def __init__(self, parent=None):
        qt.QWidget.__init__(self)

    def appinit(self):
        thread = worker()
        self.connect(thread, thread.signal, self.testfunc)
        thread.start()

    def testfunc(self, sigstr):
        print sigstr

class worker(qtcore.QThread):
    def __init__(self):
        qtcore.QThread.__init__(self, parent=app)
        self.signal = qtcore.SIGNAL(""signal"")
    def run(self):
        time.sleep(5)
        print ""in thread""
        self.emit(self.signal, ""hi from thread"")

def main():
    w = widget()
    w.show()
    qtcore.QTimer.singleShot(0, w.appinit)
    sys.exit(app.exec_())

main()
"
27851,33050,Generating directories/sub-directories and files,"import os
os.makedirs('a/b/c', exist_ok=True)
"
13783,34571,Entropy and Probability in Theano,"values = T.vector('values')
nb_values = values.shape[0]

# For every element in 'values', obtain the total number of times
# its value occurs in 'values'.
# NOTE : I've done the broadcasting a bit more explicitly than
# needed, for clarity.
freqs = T.eq(values[:,None], values[None, :]).sum(0).astype(""float32"")

# Compute a vector containing, for every value in 'values', the
# probability of that value in the vector 'values'.
# NOTE : these probabilities do *not* sum to 1 because they do not
# correspond to the probability of every element in the vector 'values
# but to the probability of every value in 'values'. For instance, if
# 'values' is [1, 1, 0] then 'probs' will be [2/3, 2/3, 1/3] because the
# value 1 has probability 2/3 and the value 0 has probability 1/3 in
# values'.
probs = freqs / nb_values

entropy = -T.sum(T.log2(probs) / nb_values)
fct = theano.function([values], entropy)

# Will output 0.918296...
print fct([0, 1, 1])
"
18633,6140,"How to make a simple GUI in python without using any tools such as Tkinter, Eclipse etc?","import Tkinter as Tk

root = Tk.Tk()

def submit():
    print ""entered text were "" + entry.get()

entry = Tk.Entry(root)
entry.pack()
button = Tk.Button(root,text='submit',command=submit)
button.pack()

root.mainloop()
"
1248,51009,Get python unit test duration in seconds,"from datetime import datetime

tick = datetime.now()

# run the tests here   

tock = datetime.now()   
diff = tock - tick    # the result is a datetime.timedelta object
print(diff.total_seconds())
"
18544,15444,create python factory method,"class CatZoo(object):
    def __init__(self, name, age, gender, location):
        self._names = name
        self._ages = age 
        self._genders = gender
        self._location = location

    @classmethod
    def make_zoo_cat(cls, name, ages, genders, location):
        return cls.mak_zoo_cats([name], age, gender, location)

    @classmethod
    def make_zoo_cats(cls, names, ages, genders, location):
        return CatZoo(names, age, gender, location)

    @property
    def location(self):
        return self._location

    @property
    def names(self):
        return self._names

    def age(self, name):
        if name in self._names:
            return self._ages[self._names.index(name)]
        else:
            return None

    def gender(self, name):
        if name in self._names:
            return self._genders[self._names.index(name)]
        else:
            return None

    @property
    def meow(self):
        return ""meow!""
"
9144,15449,"Chromedriver, Selenium - Automate downloads","dc = DesiredCapabilities.CHROME
dc['loggingPrefs'] = {'browser': 'ALL'}

chrome_profile = webdriver.ChromeOptions()
profile = {""download.default_directory"": ""C:\\SeleniumTests\\PDF"",
           ""download.prompt_for_download"": False,
           ""download.directory_upgrade"": True,
           ""plugins.plugins_disabled"": [""Chrome PDF Viewer""]}
chrome_profile.add_experimental_option(""prefs"", profile)

#Helpful command line switches
# http://peter.sh/experiments/chromium-command-line-switches/
chrome_profile.add_argument(""--disable-extensions"")

self.driver = webdriver.Chrome(executable_path=""C:\\SeleniumTests\\chromedriver.exe"",
                               chrome_options=chrome_profile,
                               service_args=[""--log-path=C:\\SeleniumTests\\chromedriver.log""],
                               desired_capabilities=dc)
"
29087,22820,Pymunk -- Finding a body's associated shapes and constraints,">>> import pymunk
>>> b = pymunk.Body()
>>> b2 = pymunk.Body()
>>> j = pymunk.PivotJoint(b,b2,(0,0))
>>> s = pymunk.Circle(b,3)
>>> b.constraints
set([<pymunk.constraint.PivotJoint object at 0x02521890>])
>>> b.shapes
set([<pymunk.Circle object at 0x025218F0>])
"
14800,81121,How to a turn a list of strings into complex numbers in python?,">>> c = ['(37470-880j)','(35093-791j)','(33920-981j)']
>>> map(complex, c)
[(37470-880j), (35093-791j), (33920-981j)]
"
8943,51866,Python linking 2 strings,"greetings = open(""x.txt"", ""r"").readlines()
names = open(""c.txt"", ""r"").readlines()

with open(""b.txt"", ""w"") as output_file:
    for greeting, name in zip(greetings, names):
        greeting = greeting.split("" "")[0]
        output = ""{0} {1}\n"".format(greeting, name)
        output_file.write(output)
"
3479,18696,Is it possible to make a table with only horizontal borders in reportlab?,"LIST_STYLE = TableStyle([('LINEABOVE', (0,0), (-1,0), 2, colors.green),
    ('LINEABOVE', (0,1), (-1,-1), 0.25, colors.black),
    ('LINEBELOW', (0,-1), (-1,-1), 2, colors.green)])
"
1007,58448,How do you automatically remove the preview window after autocompletion in Vim?,""" If you prefer the Omni-Completion tip window to close when a selection is
"" made, these lines close it on movement in insert mode or when leaving
"" insert mode
autocmd CursorMovedI * if pumvisible() == 0|pclose|endif
autocmd InsertLeave * if pumvisible() == 0|pclose|endif
"
18849,63975,How to scroll to the end of the page using selenium in python,"lenOfPage = driver.execute_script(""window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;"")
    match=False
        while(match==False):
                lastCount = lenOfPage
                time.sleep(3)
                lenOfPage = driver.execute_script(""window.scrollTo(0, document.body.scrollHeight);var lenOfPage=document.body.scrollHeight;return lenOfPage;"")
                if lastCount==lenOfPage:
                    match=True
"
32044,59613,Rotate GIF Image And Save GIF Animation,"convert input.gif -rotate 90 out.gif
"
23675,21214,"IRC client application, how to use select() in python","while condition:
    # s is socket to read from
    # for stdin use sys.stdin instead
    ready = select.select([s], [], [], 0)
    if ready[0]:
        #u can start read
"
29814,17851,Save data from plot to numpy array,"import numpy as np
import matplotlib.mlab as mlab
import matplotlib.pyplot as plt
import pickle

if 0:  # to generate the file
    delta = 0.025
    x = np.arange(-3.0, 3.0, delta)
    y = np.arange(-2.0, 2.0, delta)
    X, Y = np.meshgrid(x, y)
    Z1 = mlab.bivariate_normal(X, Y, 1.0, 1.0, 0.0, 0.0)
    Z2 = mlab.bivariate_normal(X, Y, 1.5, 0.5, 1, 1)
    Z = 10.0 * (Z2 - Z1)

    ax = plt.subplot(111)
    CS = ax.contourf(X, Y, Z)

    pickle.dump(ax, open(""mpl_test.pkl"", ""w""))
    pickle.dump(CS, open(""contours.pkl"", ""w""))

else: # Then at a later time...

    x0 = pickle.load(open(""mpl_test.pkl"", ""r""))
    x1 = pickle.load(open(""contours.pkl"", ""r""))

    v = x1.collections[0].get_paths()[0].vertices   # get the vertices of the contour
    x, y = v[:,0]+.2, v[:,1]+.1                     # shift the contour
    x0.plot(x, y, 'w', linewidth=3)                 # add it to the plot as a white line
"
33866,25435,"How to list network interfaces, its configuration IP,netmask and gateway in Python/Windows","import subprocess
subprocess.call('ipconfig /all')
"
25839,15239,Need to start tomcat automatically,"#!/usr/bin/python
import os
import subprocess
proc=raw_input(""Enter the mode :"")
os.environ[""JAVA_HOME""] = '/usr/lib/jvm/java-7-openjdk-amd64'
os.environ[""CATALINA_HOME""] = '/export/apps/tomcat7'
if proc == ""start"":
  os.getcwd()
  os.chdir(""/export/apps/tomcat7/bin/"")
  os.getcwd()
  subprocess.call('sh catalina.sh start',shell=True)
  print ""Tomcat started successfully""
elif proc == ""stop"":
  os.getcwd()
  os.chdir(""/export/apps/tomcat7/bin/"")
  os.getcwd()
  subprocess.call('sh catalina.sh stop',shell=True)
  print ""Tomcat stopped successfully""
elif proc == ""restart"":
  os.getcwd()
  os.chdir(""/export/apps/tomcat7/bin/"")
  os.getcwd()
  subprocess.call('sh catalina.sh stop',shell=True)
  subprocess.call('sh catalina.sh start',shell=True)
  print ""tomcat restarted successfully""
else:
 print ""error: give any mode""
print ""Thank you""
"
5836,7868,Produce the ECB penguin with AES in python,"#!/usr/bin/python
import binascii, os.path, urllib, random, Image
from Crypto.Cipher import AES

class ECBPenguin(object):
    '''
    A penguin class
    '''
    def __init__(self, img_clr=""""):
        if not img_clr:
            self.__demo_image__()
            self.img_clr = ""tux_clear.bmp""
        else:
            self.img_clr = img_clr
        self.__get_header__()

    def __demo_image__(self):
        ''' 
        Downloads a TUX image compatible for this program: square and with size multiple of 16
        '''
        print ""Downloading image...""
        image = urllib.URLopener()
        image.retrieve(""http://fp-games.googlecode.com/svn/trunk/CodeWeek1/graviTux/data/tux.bmp"",""tux_clear.bmp"") 

    def __get_sizes__(self, dibheader):
        # Get image's dimensions (at offsets 4 and 8 of the DIB header)
        DIBheader = []
        for i in range(0,80,2):
            DIBheader.append(int(binascii.hexlify(dibheader)[i:i+2],16))
        self.width = sum([DIBheader[i+4]*256**i for i in range(0,4)])
        self.height = sum([DIBheader[i+8]*256**i for i in range(0,4)])

    def __get_header__(self):
        '''
        Read BMP and DIB headers from input image and write them to output image
        '''
        f_in = open(self.img_clr, 'rb')
        # BMP is 14 bytes
        bmpheader = f_in.read(14)
        # DIB is 40 bytes
        dibheader = f_in.read(40)
        self.__get_sizes__(dibheader)
        self._bmpheader = bmpheader
        self._dibheader = dibheader
        f_in.close()

    def encrypt(self, img_enc = ""tux_enc.bmp"", key = '0123456789abcdef'):
        '''
        Encrypt the my_penguin
        '''
        self.img_enc = img_enc
        f_in = open(self.img_clr, 'rb')
        f_out = open(img_enc, 'wb')
        f_out.write(self._bmpheader)
        f_out.write(self._dibheader)
        row_padded = (self.width * self.height * 3)
        image_data = f_in.read(row_padded)
        cleartext =  binascii.unhexlify(binascii.hexlify(image_data))

        # Initialization Vector
        IV = ''.join(chr(random.randint(0, 0xFF)) for i in range(16))
        # AES ECB mode
        mode = AES.MODE_ECB
        # Encryptor
        encryptor = AES.new(key, mode, IV=IV)
        # Perform the encryption and write output to file
        f_out.write(encryptor.encrypt(cleartext))
        f_in.close()
        f_out.close()

    def show_clr(self):
        '''
        Display cleartext penguin
        '''
        im = Image.open(self.img_clr)
        im.show()

    def show_enc(self):
        '''
        Display ciphertext penguin
        '''
        im = Image.open(self.img_enc)
        im.show()

def main():
    my_penguin = ECBPenguin()
    my_penguin.show_clr()
    my_penguin.encrypt()
    my_penguin.show_enc()

if __name__ == ""__main__"":
    main()
"
20596,63840,How do I properly pass a hex value into a C dll in Python ctypes?,">>> 0x02
2
>>> 0x104
260
>>> import ctypes
>>> ctypes.c_int(0x104)
c_int(260)
"
1391,65486,"nc from host -> VM works (port 9050), but VM (running server written in Python) resets connection [TCP RST] from host -> VM on same port (9050)","s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.bind(('', port))
"
18704,15945,Greedy match with negative lookahead in a regular expression,">>> re.findall(r'[a-zA-Z]+(?![a-zA-Z(])', ""movav(x/2, 2)*movsum(y, 3)*z"")
['x', 'y', 'z']
"
34975,36314,Write text to file in columns,"textfile = open('output.txt','w')
syslist = dir(sys)

MAX_COLUMNS = 3 # Maximum number of columns to print
colcount = 0    # Track the column number

for x in syslist:
    # First thing we do is add one to the column count when
    # starting the loop. Since we're doing some math on it below
    # we want to make sure we don't divide by zero.
    colcount += 1

    textfile.write(x)

    # After each entry, add a tab character (""\t"")
    textfile.write(""\t"")

    # Now, check the column count against the MAX_COLUMNS. We
    # use a modulus operator (%) to get the remainder after dividing;
    # any number divisible by 3 in our example will return '0'
    # via modulus.
    if colcount % MAX_COLUMNS == 0:
        # Now write out a new-line (""\n"") to move to the next line.
        textfile.write(""\n"")

textfile.close()
"
15886,54652,Filter nested fields in RethinkDB rows based on multiple values,"r.table('f_tab').filter(
  lambda row: r.expr([{'sid': 21, 'et': 5}, ...]).set_difference(row['sk']).is_empty()
).filter(
  lambda row: r.expr([{'wid': 22, 'et': 6}, ...]).set_difference(row['wc']).is_empty()
)['pid']
"
23582,80197,how can I get current value to qcombobox in pyqt?,"id_us = self.cbUser.itemData(self.cbUser.currentIndex()).toPyObject()
"
13714,26653,Python: How do I split a text file and place into VB equivalent of an array?,"import pandas as pd
data_frame = pd.read_table('test_data.txt', sep='\s+', header=None)
data_frame.columns = ['year', 'month', 'day', 'n1', 'n2', 'n3', 'n4', 'type']
data_frame
"
3419,54962,bulkloader Listproperty utf8,"$ echo 您好 | python -c ""import sys; print repr(sys.stdin.read().decode('utf8'))""
u'\u60a8\u597d\n'
"
24431,64104,How to set useragent as QuickTime in Python script?,"#!/usr/bin/env python
import urllib

from os import pardir, rename, listdir, getcwd
from os.path import join


class MyOpener(urllib.FancyURLopener):
     version = 'QuickTime/7.6.2 (verqt=7.6.2;cpu=IA32;so=Mac 10.5.8)'

# This line tells urllib.urlretrieve and urllib.urlopen to use your MyOpener 
# instead of the default urllib.FancyOpener
urllib._urlopener = MyOpener()

def main():
    # lots of stuff
    for title, url in downloads.iteritems():
        fpath = join(data_dir, title.strip().replace('\t',"""").replace("" "", ""_""))
        fpath += "".mov""
        urllib.urlretrieve(url, fpath)
"
599,19174,Django-tastypie pass request.user to custom save method,"from functools import partial

try:
    old_save = bundle.obj.save
    bundle.obj.save = partial(old_save, user=bundle.request.user)
    return super(FooResource, self).save(bundle)
finally:
    bundle.obj.save = old_save
"
33747,15930,Python . How to get rid of '\r' in string?,">>> open('test_newlines.txt', 'rb').read()
'a\rb\nc\r\nd'
>>> list(open('test_newlines.txt'))
['a\rb\n', 'c\r\n', 'd']
>>> list(open('test_newlines.txt', 'U'))
['a\n', 'b\n', 'c\n', 'd']
>>> open('test_newlines.txt').readlines()
['a\rb\n', 'c\r\n', 'd']
>>> open('test_newlines.txt', 'U').readlines()
['a\n', 'b\n', 'c\n', 'd']
>>> open('test_newlines.txt').read().split()
['a', 'b', 'c', 'd']
"
30008,6834,How to return first valid path?,"def dfs_visit(start_city):
   mark start_city as visited

   if(end_city is discovered)   //soon as end_city is discovered, return the path it took to get there.
       return stack

   for each adj_city of start_city:
       add adj_city to stack //to keep track of that path to the end_city
       if adj_city is not discovered:
            dfs_visit(adj_city)
"
2397,39605,How to build a list of nested dictionaries and lists,"for obj1 in some_list:
    dict1['key'] = value

    for obj2 in some_other_list:                
        ...

    dict1['key'] = list2
    list2 = [] # create new list to fill next time
    list1.append(dict1)
"
2720,62492,Inspect for synchronized traits: Traits/TraitsUI,"from traits.api import HasTraits, Float
class AA(HasTraits):
    a =Float()
class BB(HasTraits):
    b = Float()
aa = AA()
bb = BB()
aa.sync_trait(""a"", bb, ""b"")

# aa.a and bb.b are synchronized
# Now we use non-official API functions
info = aa._get_sync_trait_info()

synced = info.has_key(""a"") # True if aa.a is synchronized to some other trait
if synced:
    sync_info = info[""a""] # fails if a is not a synchronized trait
    # sync_info is a dictionary which maps (id(bb),""b"") to a tuple (wr, ""b"")
    # If you do not know the id() of the HasTraits-object and the name of
    # the trait, you have to loop through all elements of sync_info and
    # search for the entry you want...
    wr, name = sync_info[(id(bb), ""b"")]
    # wr is a weakref to the class of bb, and name is the name 
    # of the trait which aa.a is synced to
    cls = wr() # <__main__.BB at 0x6923a98>
"
24830,48795,mkdir -p functionality in Python,"import errno    
import os


def mkdir_p(path):
    try:
        os.makedirs(path)
    except OSError as exc:  # Python >2.5
        if exc.errno == errno.EEXIST and os.path.isdir(path):
            pass
        else:
            raise
"
4542,31023,Convert timezone of multiple columns in a pandas DataFrame according to a third column?,"In [16]: def conv(col, tzs):
   ....:     return [ d.tz_localize(tz) for d, tz in zip(col, tzs) ]
   ....: 

In [17]: df
Out[17]: 
                date1               date2                   tz
0 2014-11-19 16:11:45 2014-11-19 16:30:31     America/New_York
1 2014-11-19 18:37:47 2014-11-19 18:57:55     America/New_York
2 2014-11-19 18:59:21 2014-11-19 19:51:29  America/Los_Angeles
3 2014-11-19 19:47:35 2014-11-19 20:58:04     America/New_York
4 2014-11-19 20:29:46 2014-11-19 20:40:36     America/New_York
5 2014-11-19 22:23:42 2014-11-19 22:58:43  America/Los_Angeles
6 2014-11-20 16:31:24 2014-11-20 17:49:12     America/New_York

In [18]: df['date1_tz'] = conv(df['date1'],df['tz'])

In [19]: df['date2_tz'] = conv(df['date2'],df['tz'])

In [20]: df
Out[20]: 
                date1               date2                   tz                   date1_tz                   date2_tz
0 2014-11-19 16:11:45 2014-11-19 16:30:31     America/New_York  2014-11-19 16:11:45-05:00  2014-11-19 16:30:31-05:00
1 2014-11-19 18:37:47 2014-11-19 18:57:55     America/New_York  2014-11-19 18:37:47-05:00  2014-11-19 18:57:55-05:00
2 2014-11-19 18:59:21 2014-11-19 19:51:29  America/Los_Angeles  2014-11-19 18:59:21-08:00  2014-11-19 19:51:29-08:00
3 2014-11-19 19:47:35 2014-11-19 20:58:04     America/New_York  2014-11-19 19:47:35-05:00  2014-11-19 20:58:04-05:00
4 2014-11-19 20:29:46 2014-11-19 20:40:36     America/New_York  2014-11-19 20:29:46-05:00  2014-11-19 20:40:36-05:00
5 2014-11-19 22:23:42 2014-11-19 22:58:43  America/Los_Angeles  2014-11-19 22:23:42-08:00  2014-11-19 22:58:43-08:00
6 2014-11-20 16:31:24 2014-11-20 17:49:12     America/New_York  2014-11-20 16:31:24-05:00  2014-11-20 17:49:12-05:00
"
29643,22260,python regex question,"re.search(r""(?<![x)])\)+"", text)

>>> re.search(r""(?<![x)])\)+"", "" hello)))))"")
<_sre.SRE_Match object at 0xb75c0c98>
>>> _.group()
')))))'
>>> re.search(r""(?<![x)])\)+"", "" hellox)))))"")
>>>
"
17528,54514,(python) recursively remove capitalisation from directory structure?,"import os

def lowercase_rename( dir ):
    # renames all subforders of dir, not including dir itself
    def rename_all( root, items):
        for name in items:
            try:
                os.rename( os.path.join(root, name), 
                                    os.path.join(root, name.lower()))
            except OSError:
                pass # can't rename it, so what

    # starts from the bottom so paths further up remain valid after renaming
    for root, dirs, files in os.walk( dir, topdown=False ):
        rename_all( root, dirs )
        rename_all( root, files)
"
13050,48094,how to disable cache for development in django?,"CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.dummy.DummyCache',
   }
}
"
34556,52437,Is there a way to draw 3D lines as a series of circles with matplotlib?,"import matplotlib.pyplot as plt
import mpl_toolkits.mplot3d.axes3d as axes3d
import numpy as np
x = np.linspace(0, 6, 10)
y = np.sin(x)
z = x

fig = plt.figure()
ax = fig.add_subplot(1, 1, 1, projection='3d')

ax.plot(x, y, z
         , linestyle='-'
         , linewidth=20
         , marker='o'
         , markersize=20
         , solid_capstyle='round'
)
ax.set_xlim3d(-1, 7)
ax.set_ylim3d(-2, 2)
ax.set_zlim3d(-1, 7)
plt.show()
"
29476,17119,Set on random postion,"positions = random.sample(range(100), amount_you_want)
for coord in positions:
    matrix[coord%10][coord//10] = 'O'
"
24281,40433,Not able to raise exception in the code,"from xlutils.copy import copy
from xlrd import open_workbook
import xlwt
import os
import shutil
import glob

def openexcel_main():
    book = open_workbook('input.xls',formatting_info=True)
    sheet = book.sheet_by_index(0)
    wb = copy(book)
    w_sheet = wb.get_sheet(0)
    folder_name=['do_not_delete','internal_builds']
    for j in range (0,2):
        folder=folder_name.pop()
        for i in range (1,(sheet.nrows)):
            cell_test_group = sheet.cell(i,0)
            data=str(cell_test_group.value)
            print '#####################################'
            print data
    list=[]
    source_path='/mnt/'+folder+'/pybuild/'+data+'/MAIN/'
    if os.path.exists(source_path):
        try:
            os.chdir(source_path)
            all_subdirs = [d for d in os.listdir('.') if os.path.isdir(d)]
            for dirs in all_subdirs:
                dir = os.path.join('/mnt/'+folder+'/pybuild/'+data+'/MAIN/', dirs)
            os.chdir(dir)
            current = os.getcwd()
            new = str(current).split(""/"")[6]
            list.append(new)
            list.sort()
            val=list
            for i in range (1,4):
                if val==[]:
                    break
                else:
                    print i
                current_build_number=val.pop()
                print 'Current_Build:'+current_build_number
                source_path_copy = r""""+ source_path+""/""+current_build_number+""/""
                print 'Copying From:'+ source_path_copy
                dest_path = r""/home/builds_repo/""+folder+""/pybuild/""+data+""/MAIN/""+current_build_number+""/""
                os.chdir(source_path_copy)
                file_name=(glob.glob('*[_bin].*')).pop()
                print 'File_Copied:'+ file_name
                if not os.path.exists(dest_path):
                    os.makedirs(dest_path)

                shutil.copyfile(source_path_copy + file_name, dest_path + file_name)
         except Exception ,e: #Use Exception if not sure which exception will raise
            print'File Not Found ..',e
            #raise
def main():
    openexcel_main()


if __name__ == '__main__': #Use main
    main()
"
9974,70958,Sqlite python - how to sort by date(newest first),"cur.execute(""SELECT * FROM Posts ORDER BY date ASC"")
"
38996,19662,Multiple output files,"def makeKey2( row2 ):
    return ( row2[1], row2[2] ) # Whatever the lookup key is for source2

def makeKey1( row1 ):
    return ( row1[3], row1[0] ) # Whatever the lookup key is for source1

dayFile = [ open(""day%d.pajek"",""w"") for i in range(6) ]
combined = open(""combined.dat"",""w"")
source1 = open( schedules, ""r"" )
rdr1= csv.reader( source1 )
source2 = open( aboutSchedules, ""r"" )
rdr2= csv.reader( source2 )

# ""Combine"" usually means a relational join between source 1 and source 2.
# We'll assume that source2 is a small-ish dimension and the
# source1 is largish facts

aboutDim = dict( (makeKey2(row),row) for row in rdr2 )

for row in rdr1:
    connection, dayList = mine_and_combine( row, aboutDim[ makeKey1(row) ] )
    for d in dayList:
        dayFile[d].write( connection )
    flags = [ 1 if d is in dayList else 0 for d in range(6) ]
    combined.write( connection, flags )
"
23376,74226,3D scatterplots in sage,"point_list=[(0.,1.,2.), (2.,2.,3.)]
point3d(point_list)
"
6890,83069,python: calculate center of mass,"import numpy
masses = numpy.array([[0,  0,  0,  0],
[0,  1,  0,  0],
[0,  2,  0,  0],
[1,  0,  0,  0],
[1,  1,  0,  1],
[1,  2,  0,  1],
[2,  0,  0,  0],
[2,  1,  0,  0],
[2,  2,  0,  0]])

nonZeroMasses = masses[numpy.nonzero(masses[:,3])] # Not really necessary, can just use masses because 0 mass used as weight will work just fine.

CM = numpy.average(nonZeroMasses[:,:3], axis=0, weights=nonZeroMasses[:,3])
"
3253,72381,How can I choose the default wx.Display in wxpython?,"import wx

def set_frame_display(frame, display_index):
    display = wx.Display(display_index)
    x, y, w, h = display.GetGeometry()
    frame.SetPosition((x, y))

def main():
    app = wx.PySimpleApp()
    count = wx.Display_GetCount()
    for index in range(count):
        frame = wx.Frame(None, -1, 'Display %d of %d' % (index + 1, count))
        set_frame_display(frame, index)
        frame.Center()
        frame.Show()
    app.MainLoop()

if __name__ == '__main__':
    main()
"
32483,57241,How to search multiple files for textblocks and write those textblocks to another file,"import os, re
path = 'C:/Temp/Folder1/allTexts'
listing = os.listdir(path)
for infile in listing:
    text = open(path + '/' + infile).read()
    match = re.search('<div id=""text-interesting1"">', text)
    if match is None:
        continue
    start = match.start()
    end = re.search('<div id=""text-interesting2"">', text).start()
    print text[start:end]
"
14225,5128,Creating a model/view interface with sliders using PyQt,"import sys

from PyQt4 import QtGui
from PyQt4 import QtCore

class MainWindow(QtGui.QWidget):
    def __init__(self):
        super(MainWindow, self).__init__()
        main_layout = QtGui.QVBoxLayout()

        # Create the model
        self.model = MyModel()

        # Create a slider and link it to the model
        self.slider1 = QtGui.QSlider()
        self.model.add_slider(self.slider1)        
        main_layout.addWidget(self.slider1)

        # Add a lineEdit and button to force update the model
        # Note that the LineEdit is not linked to the model, so won't update with the slider
        self.edit = QtGui.QLineEdit()
        button = QtGui.QPushButton('update model')
        button.clicked.connect(self.on_clicked)        
        main_layout.addWidget(self.edit)
        main_layout.addWidget(button)

        self.setLayout(main_layout)

    def on_clicked(self):
        self.model.update_model(int(self.edit.text()),self.slider1)

class MyModel(QtGui.QStandardItemModel):
    def __init__(self,*args,**kwargs):
        super(MyModel,self).__init__(*args,**kwargs)
        self._slider_list = {}
        self.itemChanged.connect(self.on_item_changed)

    def add_slider(self,slider):
        if slider in self._slider_list:
            raise Exception('You cannot link a slider to the model twice')

        item = QtGui.QStandardItem(str(slider.value()))
        self._slider_list[slider] = item
        self.appendRow(item)
        slider.valueChanged.connect(lambda value: self.update_model(value,slider))

    def update_model(self,value,slider):
        if str(value) != self._slider_list[slider].text():
            self._slider_list[slider].setText(str(value))
            print 'update_model: %d'%value

    def on_item_changed(self,item):
        slider = self._slider_list.keys()[self._slider_list.values().index(item)]
        if slider.value() != int(item.text()):
            slider.setValue(int(item.text()))
            print 'on_item_changed: %s'%item.text()

app = QtGui.QApplication(sys.argv)
window = MainWindow()
window.show()

sys.exit(app.exec_())
"
36975,36731,Getting line of a search term - Python Script for Notepad++,"matches = []
def match_found(m):
    # append the match start position to the matches array
    matches.append(m.end(0))

editor.research('pattern', match_found)

matches[0]  #should now contain the index of the *end* of the first match
"
22952,65045,Nested looping over tuple values in a dictionary with tuple keys python,"from itertools import product

gene_regions, species_plural, ontologies, lengths = zip(*result_dict)

for gene_region, species, ontology, length in product(gene_regions, species_plural, ontologies, lengths):
    # do something with this combo.
"
38530,36255,assembling lists with common central element,"from itertools import groupby, permutations

perms = filter(lambda x: x[0] < x[-1], permutations(range(4), 3))
key = lambda x: x[1]  # sort and group by second element
angles = [list(g) for k, g in groupby(sorted(perms, key=key), key=key)]
# here, any comprehension can be used, e.g.
# angles = {k: list(g) for k, g in groupby(sorted(perms, key=key), key=key)}
# will produce the dict from @niemmi's answer

>>> angles
[
    [(1, 0, 2), (1, 0, 3), (2, 0, 3)], 
    [(0, 1, 2), (0, 1, 3), (2, 1, 3)], 
    [(0, 2, 1), (0, 2, 3), (1, 2, 3)], 
    [(0, 3, 1), (0, 3, 2), (1, 3, 2)]
]
"
31617,74516,"python2.7 - taking a value from a dictionary, where the key is a variable",">>> d =  {'translation 1': 'dilligent', 'pinyin 1': 'ren4wei2', 'character 1': '\xe8\xaa\x8d\xe7\x88\xb2'}
>>> key = ""translation %s"" % 1
>>> d[key]
'dilligent'
"
28819,68489,Encoding intermediate leaves in the Huffman algorithm,"huffman_tree = encode(tree)
complete_tree = huffman_tree

get_intermediate_node = lambda val, arr :   ''.join( [ char for char,binary in itertools.ifilter( lambda node : node[1].startswith( val ),arr)] ) 

for val in range( next_power_of_two( len(huffman_tree) ) ):
    bvalue = bin(val)[2:] 
    node = [ get_intermediate_node( bvalue , huffman_tree) , bvalue ] 
    if node not in complete_tree:
        complete_tree.append( node)

print sorted( complete_tree , key=lambda p: (len(p[-1]), p) )

>>> [['ab', '0'], ['cde', '1'], ['a', '00'], ['b', '01'], ['c', '10'],
    ['de', '11'], ['', '100'], ['', '101'], ['d', '110'], ['e', '111']]
"
25587,7560,How do I include a PHP script in Python?,"import subprocess

def php(script_path):
    p = subprocess.Popen(['php', script_path], stdout=subprocess.PIPE)
    result = p.communicate()[0]
    return result

# YOUR CODE BELOW:
page_html = ""<h1>News and Updates</h1>""
news_script_output = php(""news-generator.php"") 
print page_html + news_script_output
"
22664,38595,Pygame hold key down causes an infinite loop,"if event.type == PG.KEYDOWN and keystate[PL.K_UP]:
    key_up_pressed = True
elif event.type == PG.KEYUP and keystate[PL.K_UP]:
    key_up_pressed = False
"
25804,1665,"In python, is there a way to convert of list of integer-lists into a list of string-lists without creating a custom function?","result = [[str(subitem) for subitem in sublist] for sublist in start]
"
18409,34351,Memory efficient groupby in Python,"from itertools import groupby
from operator import itemgetter

with open('somefile') as fin:
    lines = (line.split() for line in fin)
    for key, items in groupby(lines, itemgetter(1)):
        print list(items)

[['12', 'fish'], ['50', 'fish']]
[['1', 'turtle']]
[['11', 'dog'], ['34', 'dog'], ['12', 'dog']]
"
2190,23937,How to enable output text highlighting in IPython on Windows?,"from IPython.utils.io import stdout;
stdout.write('Matches:'+'\033[0;33m'+str(123)+'\033[0;0m')
"
23249,306,Iterate over matrices in numpy,"nxn = np.arange(n**2).reshape(n, -1)
for i in xrange(0, 2**(n**2)):
    arr = (i >> nxn) % 2
    # do smthng with arr
"
24658,85072,How to get Registry().settings during Pyramid app startup time?,"from paste.deploy.loadwsgi import appconfig
config = appconfig('config:development.ini', 'myapp', relative_to='.')

if config['env'] == 'production':
    api_endpoint_uri = 'http://api.external.com/?{0}'
    timezone = timezone('US/Eastern')
# .. and so on ...
"
37494,4487,python convert human to timestamp,"import time

tt = time.strptime(""19/Jun/2014:00:03:09"",""%d/%b/%Y:%H:%M:%S"")
print time.mktime(tt)
"
23946,15670,python pyinotify moved files,"mask = pyinotify.IN_CREATE | pyinotify.IN_MOVED_TO

class PTmp(pyinotify.ProcessEvent):
    ...
    def process_IN_MOVED_TO(self, event):
        print ""Moved: %s "" % os.path.join(event.path, event.name)
        event_log = open('/home/saad/Code/test/event_log', 'a')
        event_log.write(event.name + ' - ' + timestamp.strftime('%c') + '\n')
        event_log.close()
"
19605,51781,Python PyQt4 signal not firing connected method," QtCore.QObject.connect(self.worker,
                        Qt.SIGNAL(""a""),
                        self.Tester,
                        Qt.Qt.DirectConnection) #this is added
"
23206,19009,"Elixir/SQLAlchemy equivalent to SQL ""LIKE"" statement?",">>> Note.query.filter(Note.message.like(""%somestr%"")).all()
[]
"
30056,71821,Loop keeps going after being carried out,"def Help(string):
    if string == 'Manifest':
        return Manifest()
    elif string == 'Intent':
        return Intent()
    else:
        print('The options available are:\n%s\nType Q to Quit\n' % '\n'.join(andHelp))
        x = input('What option do you choose: ')
        print('\n')
        if x != 'Q':
            Help(x)
"
33110,78137,Is there a shorter way to assign these variables?,"Pos_List, Room_List, Type_List, Spec_List, Sub_List, Rtr_List, IPa_List, MAC_List = [], [], [], [], [], [], [], []
"
6537,13233,Python Base64 string shorter than Botan Base64 string,"Pipe dec_pipe(new Base64_Decoder, get_cipher(""AES-256/CBC/NoPadding"", key, iv, Botan::DECRYPTION));
"
13724,60308,How do I unindent using IDLE (Python gui),">>> if x == 0:
        x = 0
        print('Negative changed to zero')
        pass
elif x == 0:
    print('other stuff')
"
7987,22825,Organizing text on pie charts at matplotlib,"import matplotlib.pyplot as plt

channel,percentages, mass = ""ab"",[0.2,0.2,0.1,0.5], 10

# build a rectangle in axes coords
left, width = .25, .5
bottom, height = .25, .5
right = left + width
top = bottom + height

channel = ''.join(i for i in channel if i in 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ')
nu_energy , d_plus_p_energy, e_energy, gamma_energy  = percentages  

# The slices will be ordered and plotted counter-clockwise.
labels = [r'$E_{\nu} / E_{tot}$ = %.3f' % nu_energy, 
          r'$E_{d+p} / E_{tot}$ = %.3f' % d_plus_p_energy,
          r'$E_{e} / E_{tot}$ = %.3f' % e_energy,
          r'$E_{\gamma} / E_{tot}$ = %.3f' %gamma_energy]
sizes = [nu_energy , d_plus_p_energy, e_energy, gamma_energy]
colors = ['gold','red','green', 'lightskyblue']
explode = (0.1, 0,0,0)
patches, texts = plt.pie(sizes, colors=colors)#, startangle=90) ** not working for some reason
plt.legend(patches, labels, loc = ""best"")
E_gamma_e = e_energy + gamma_energy
#plt.pie(sizes, explode=explode, labels=labels, colors=colors,
        #autopct='%1.1f%%', shadow=True)
# Set aspect ratio to be equal so that pie is drawn as a circle.
plt.axis('equal')
plt.title(r'DM DM $\rightarrow$ $%s$ + $%s$'%(channel,channel),position=(0.5,1),bbox=dict(facecolor='0.8',), fontsize=30)
plt.text(-1,-0.98, r'$E_{\gamma + e} / E_{tot}$ = %.3f'%E_gamma_e, bbox=dict(facecolor='white', alpha=0.5), fontsize=14)  
plt.tight_layout()

plt.show()
"
1807,50011,Python deep merge dictionary data,"def merge(source, destination):
    """"""
    run me with nosetests --with-doctest file.py

    >>> a = { 'first' : { 'all_rows' : { 'pass' : 'dog', 'number' : '1' } } }
    >>> b = { 'first' : { 'all_rows' : { 'fail' : 'cat', 'number' : '5' } } }
    >>> merge(b, a) == { 'first' : { 'all_rows' : { 'pass' : 'dog', 'fail' : 'cat', 'number' : '5' } } }
    True
    """"""
    for key, value in source.items():
        if isinstance(value, dict):
            # get node or create one
            node = destination.setdefault(key, {})
            merge(value, node)
        else:
            destination[key] = value

    return destination
"
18574,81005,python-igraph number of vertices,"Graph.Read_Ncol(netFile, names=True, weights=""if_present"", directed=True)
"
25381,68872,How to get a win32 handle of an open file in python?,">>> msvcrt.get_osfhandle(a.fileno())
1956 # valid HANDLE
"
17799,62933,Extend user model Django REST framework 3.x.x,"def update(self, instance, validated_data):
    # First, update the User
    user_data = validated_data.pop('user', None)
    for attr, value in user_data.items():
            setattr(instance.user, attr, value)
    # Then, update UserProfile
    for attr, value in validated_data.items():
        setattr(instance, attr, value)
    instance.save()
    return instance
"
17202,36795,Writing multiple TIFF files to PDF file,"$ convert *.tif pictures.pdf
"
1041,44705,python: How to refer to specific item within a list of lists?,"lol[2][0]
"
27771,3355,Sorting Python dictionary based on nested dictionary values,">>> from collections import OrderedDict
>>> mydict = {
        'age': {'context': 2},
        'address': {'context': 4},
        'name': {'context': 1}
}
>>> OrderedDict(sorted(mydict.iteritems(), key=lambda x: x[1]['context']))
OrderedDict([('name', {'context': 1}), ('age', {'context': 2}), ('address', {'context': 4})])
"
25307,58430,Python ggplot is not plotting dataframe,"import pandas as pd
from  ggplot import *

df = pd.DataFrame([{""day"": 20150203, ""ndcg@k"": 0.245559, ""MAP@k"": 0.201919},
                   {""day"": 20150204, ""ndcg@k"": 0.255559, ""MAP@k"": 0.191919},
                    {""day"": 20150205, ""ndcg@k"": 0.2645559, ""MAP@k"": 0.181919},
                    {""day"": 20150203, ""ndcg@k"": 0.275559, ""MAP@k"": 0.171919},
                    {""day"": 20150204, ""ndcg@k"": 0.285559, ""MAP@k"": 0.161919},
                    {""day"": 20150205, ""ndcg@k"": 0.295559, ""MAP@k"": 0.151919}])

df2 = pd.melt(df[['day', 'ndcg@k', 'MAP@k']], id_vars=['day'])
df2.day = pd.to_datetime(df2.day, format = '%Y%m%d')
ggplot(aes(x='day', y='value', group='variable', shape='variable', colour='variable'), data=df2) + geom_line() + geom_point() + scale_x_date(labels = date_format('%Y-%m-%d %H:%M'))
"
37745,19389,Using kwargs in while loops - Python 3,"for i, v in kwargs.items():
    print (""    "", i, "": "", v)
"
19295,60486,Data via jQuery AJAX to Pyramid backend woes,"data:""AlternativeTitle:"" + alttitle + '&' ""othervalue"" + otherval,
"
27297,14197,Get signal names from numbers in Python,"import signal
dict((k, v) for v, k in reversed(sorted(signal.__dict__.items()))
     if v.startswith('SIG') and not v.startswith('SIG_'))
"
11974,33568,Python Numpy add 3 arrays in one array,"np.vstack((one, two, three))
"
2115,84859,Python reference count and ctypes,"clib = ctypes.cdll.LoadLibrary('some.so')
c_foo = clib.c_foo
c_foo.restype = ctypes.py_object
"
13362,9344,Do Some work before Saving and After Saving data in django Admin,"class NewsletterAdmin(admin.ModelAdmin):

    def save_model(self, request, obj, form, change):
        obj.save()
        if not change: # newly created newsletter
            if obj.send_to == '1':
                for student in Student.objects.all():
                    EmailLog.objects.create(student=student, newsletter=obj)
            elif obj.send_to == '2':
                for teacher in Teacher.objects.all():
                    EmailLog.objects.create(teacher=teacher, newsletter=obj)
"
37510,8383,django and executing a separate .py to manipute a database,"if not MyModel.objects.filter(content=mytext).count():
"
36318,41593,How to add timeout to twisted defer,"def worker(stop, jobs):
    for j in jobs:
        if stop:
            break
        j.do()

stop = []
d = deferToThread(worker)

# This will make the list eval to true and break out of the loop.
stop.append(None)
"
37167,34735,How to prefetch data using a custom python function in tensorflow,"# Features are length-100 vectors of floats
feature_input = tf.placeholder(tf.float32, shape=[100])
# Labels are scalar integers.
label_input = tf.placeholder(tf.int32, shape=[])

# Alternatively, could do:
# feature_batch_input = tf.placeholder(tf.float32, shape=[None, 100])
# label_batch_input = tf.placeholder(tf.int32, shape=[None])

q = tf.FIFOQueue(100, [tf.float32, tf.int32], shapes=[[100], []])
enqueue_op = q.enqueue([label_input, feature_input])

# For batch input, do:
# enqueue_op = q.enqueue_many([label_batch_input, feature_batch_input])

label_batch, feature_batch = q.dequeue_many(BATCH_SIZE)
# Build rest of model taking label_batch, feature_batch as input.
# [...]
train_op = ...

sess = tf.Session()

def load_and_enqueue():
  with open(...) as feature_file, open(...) as label_file:
    while True:
      feature_array = numpy.fromfile(feature_file, numpy.float32, 100)
      if not feature_array:
        return
      label_value = numpy.fromfile(feature_file, numpy.int32, 1)[0]

      sess.run(enqueue_op, feed_dict={feature_input: feature_array,
                                      label_input: label_value})

# Start a thread to enqueue data asynchronously, and hide I/O latency.
t = threading.Thread(target=load_and_enqueue)
t.start()

for _ in range(TRAINING_EPOCHS):
  sess.run(train_op)
"
5345,49398,"When using argparse, should validation and initialization happen in custom types or actions?","args = argp.parse_args()
args.o = open(args.o,'w')
"
38357,48098,Set user field in a form object created using ModelForm,"profile = form.save(commit=False)
profile.user = request.user
profile.save()
"
16142,33342,Django: Dynamically set SITE_ID in settings.py based on URL?,"class SiteMiddleware(object):
    def process_request(self, request):
        try:
            current_site = Site.objects.get(domain=request.get_host())
        except Site.DoesNotExist:
            current_site = Site.objects.get(id=settings.DEFAULT_SITE_ID)

        request.current_site = current_site
        settings.SITE_ID = current_site.id
"
22377,82237,Python - Interpreting paths differently when running in shell vs. when running within another script?,"import os
import sys
directory = os.path.dirname(os.path.abspath(__file__))
sys.stdout = open(os.path.join(directory, ""demo-logfiles"", ""log_file_template.txt""), ""a"")
"
19020,13625,Amazon S3 Signed URL - Access Denied,"    {
        ""Version"": ""2008-10-17"",
        ""Id"": ""PolicyForCloudFrontPrivateContent"",
        ""Statement"": [
            {
                ""Sid"": ""1"",
                ""Effect"": ""Allow"",
                ""Principal"": {
                    ""AWS"": ""arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EH238ELEGANOC""
                },
                ""Action"": ""s3:GetObject"",
                ""Resource"": ""arn:aws:s3:::onur.deneme/*""
            }
        ]
    }
"
30699,10911,Group and compute the average in list of tuples,"import itertools
import operator

L = [('HSBC8999', 4, 179447), ('HSBC1199', 81, 864108), ('HSBC1199', 32, 715121),('HSBC8999', 4, 1447),('HSBC1199', 32, 61521) ]

L.sort(key=operator.itemgetter(0))
for _k, stackoverflow in itertools.groupby(L, operator.itemgetter(0)):
    subl = list(stackoverflow)
    subl.sort(key=operator.itemgetter(1))
    for k, subg in itertools.groupby(subl, operator.itemgetter(1)):
        subs = list(subg)
        print(""the average of {} is {}"".format(k, sum(s[2] for s in subs)/len(subs)))
"
29415,34821,Is there a convenient way to alias only conflicting columns when joining tables in SQLAlchemy?,"from sqlalchemy import select

def alias_dups(join):
    dups = set(col.key for col in join.left.columns) & \
                set(col.key for col in join.right.columns)
    columns = []
    for col in join.columns:
        if col.key in dups:
            col = col.label('%s_%s' % (col.table.name, col.key))
        columns.append(col)
    return select(columns, from_obj=[join]).alias()

class ST2(Base):
    __table__ = alias_dups(t1.join(t2))
"
36924,82844,parsing table with BeautifulSoup and write in text file,"from BeautifulSoup import BeautifulSoup
import urllib2
import codecs

response = urllib2.urlopen('http://www.reality.sk/zakazka/0747-003578/predaj/1-izb-byt/kosice-mestska-cast-sever-sladkovicova-kosice-sever/art-real-1-izb-byt-sladkovicova-ul-kosice-sever')
html = response.read()
soup = BeautifulSoup(html)

tabulka = soup.find(""table"", {""class"" : ""detail-char""})

records = [] # store all of the records in this list
for row in tabulka.findAll('tr'):
    col = row.findAll('td')
    prvy = col[0].string.strip()
    druhy = col[1].string.strip()
    record = '%s;%s' % (prvy, druhy) # store the record with a ';' between prvy and druhy
    records.append(record)

fl = codecs.open('output.txt', 'wb', 'utf8')
line = ';'.join(records)
fl.write(line + u'\r\n')
fl.close()
"
8678,24284,"Determine if (*,G) forms an associative group in group theory","import itertools

G = [0, 1, 2, 3, 4, 5] # or whatever your group might be

def is_associative(x, y, z):
    if (x*y)*z == x*(y*z):
        return True
    return False

xyz = itertools.product(G, repeat=3)

for three in xyz:
    if not is_associative(*three):
         print(""associativity fails for %s, %s, %s"") % three
"
34626,63673,Press Enter to Continue. . . Then Delete Statement (Python),"print(""Hello World!"")
raw_input(""Press Enter to Continue. . .: "")
print(""\033[FX X X X X X X X X X X X X X X "");
#      ^^^^^^
#    move up
#            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
#            overwrite by whatever you want
"
35330,27263,How can I run python in a given timezone (change timezone from outside)?,"$ python -c 'import time; print(time.tzname)'
('GMT', 'BST')
$ TZ='Europe/Stockholm' python -c 'import time; print(time.tzname)'
('CET', 'CEST')
"
21833,65401,How to index rows in my output,"def read_csv(csvfile):
    with open(csvfile, 'rb') as file:
        columns = 4
        reader = csv.reader(file, delimiter=';')
        # i will count the rows, starting at 1
        for i, row in enumerate(reader, start=1):
            for column in range(0, columns):
                 print row[column], ' ====== ', 'column ', column+1, ' and row ', i
"
30081,46640,How do you use __name__ with a function with a keyword argument?,"def print_function_name_and_result(func, *args, **kw):
    print ""%s : %s"" % (func.__name__, func(*args, **kw))

print_function_name_and_result(func, keyword1='B')
>> func : B
"
24474,78508,Get user's screen_name with twitter API,"$user_info = $twitteroauth->get('account/verify_credentials');
"
26719,74568,PyGame - Plotting a Pixel and Printing out it's coordinates,"elif event.type==pygame.MOUSEBUTTONDOWN and event.button==LEFT:
  print ""You pressed the left mouse button at (%d,%d)"" %event.pos
  screen.set_at((event.pos.x, event.pos.y), pygame.Color(255,0,0,255))
"
24778,655,"Python Files, adding values to/from a list","def readFile(ui):
    L = []
    with open(ui, 'r') as f:
        for line in f.readlines():
            L.append(float(line))
    return sorted(L)

def fileAddValue(ui, val):
    with open(ui, 'a') as f:
        f.write(str(val) + '\n')

ui = raw_input(""Please enter your file name:"")
L = readFile(ui)
print('original file:')
print(L)
val = float(raw_input(""Enter the value you would like to add to the list: ""))
fileAddValue(ui, val)
L = readFile(ui)
print('updated file:')
print(L)
"
36063,44551,Are all data types strings in Neo4j accessed by py2neo through the REST API?,"def test_get_or_create_indexed_node_with_int_property(self):
    graph_db = neo4j.GraphDatabaseService()
    fred = graph_db.get_or_create_indexed_node(index=""person"", key=""name"", value=""Fred"", properties={""level"" : 1})
    assert isinstance(fred, neo4j.Node)
    assert fred[""level""] == 1
    graph_db.delete(fred)
"
27867,36385,Comma separated lists in django templates,"def joinby(value, arg):
    return arg.join(value)
"
17715,7083,"combining two images, multiplying RGB values to vignette an image Jython/Python","
You run the Main() function for this script to work
# Main function.
# *** THIS FUNCTION NEEDS TO BE CALLED IN THE CONSOLE ***
# i.e >>> main()

def main():

  # Choose the files you wish to use
  inputFile = pickAFile()
  vignetteFile = pickAFile()

  # Turn both files into picture objects
  inputPic = makePicture(inputFile)
  vignette = makePicture(vignetteFile)

  # addVignette() function combines the input picture and vignette together
  # and returns the result as a new picture object
  newImage =  addVignette(inputPic, vignette)

  # saveNewImage() function stores the new image as file
  saveNewImage(newImage)


# Main() calls this function to add input picture and vignette together  
def addVignette(inputPic, vignette):

  # Create empty canvas
  canvas = makeEmptyPicture(getWidth(inputPic), getHeight(inputPic))

  # Iterate through all the pixels of the input image. x and y are
  # used as the current coordinates of the pixel
  for x in range(0, getWidth(inputPic)):
    for y in range(0, getHeight(inputPic)):

      # Get the current pixels of inputPic and vignette
      inputPixel = getPixel(inputPic, x, y)
      vignettePixel = getPixel(vignette, x, y)

      # The getNewColorValues() function, makes a new color from those
      # values
      newColor = getNewColorValues(inputPixel, vignettePixel)

      # Assign this new color to the current pixel of the canvas
      px = getPixel(canvas, x, y)      
      setColor(px, newColor)

  # Show the result of combiming the input picture with the vignette
  explore(canvas)

  # return the new image to main() function.
  return canvas

# Called from the addVignette() function to add the color values from
# the input picture and vignette together. It returns a new color
# object
def getNewColorValues(inputPixel, vignettePixel):

  # Get the individual colour values
  inputRed = getRed(inputPixel)
  vignetteRed = getRed(vignettePixel)
  inputGreen = getGreen(inputPixel)
  vignetteGreen = getGreen(vignettePixel)
  inputBlue = getBlue(inputPixel)
  vignetteBlue = getBlue(vignettePixel)

  # ***********************************************************
  # Most important part. This will determine if the pixel is darkent
  # and by how much. How it works is the darker the vignette pixel the less that will
  # be taken away from 255. This means the result of `255 - vignetteRed` will be a higher
  # value which means more will be taken away from the input colour.
  # The light the vignette pixel the less that will be taken away from input pixel

  newR = inputRed - (255 - vignetteRed)
  newG = inputGreen - (255 - vignetteGreen)
  newB = inputBlue - (255 - vignetteBlue)
  # ***********************************************************

  newC = makeColor(newR, newG, newB)
  return newC

# Called from the main() function in order to save the new image  
def saveNewImage(newImage):

  folder = pickAFolder()
  filename = requestString(""Please enter file name: "")
  path = folder + filename + "".jpg""

  writePictureTo(newImage, path)
"
22498,33658,regular expression to detect text in between double curly braces,"from pyparsing import nestedExpr, ungroup, originalTextFor

# use nestedExpr to define a default expression with left-right nesting markers
nestedText = ungroup(nestedExpr('{{','}}'))

sample = """"""{{detect this {{and this as well}} text}} but text does not ends here so it should {{not detect this}}.""""""

# note how reporting the results as a list keeps the nesting of {{ }}'s
print nestedText.parseString(sample).asList()
# prints ['detect', 'this', ['and', 'this', 'as', 'well'], 'text']

# if you just want the string itself, wrap with 'originalTextFor'
print originalTextFor(nestedText).parseString(sample)[0]
# prints {{detect this {{and this as well}} text}}
"
39256,11903,Getting index of maximum value in nested list,"import numpy as np

# Generate nested list a.
N, M = 10, 7  # number of sublists and length of each sublist
a = np.random.rand(N, M)

# x,y indexes of max float in a.
print np.unravel_index(a.argmax(), a.shape)

A = np.full_like(a, -np.inf)  # use np.inf if doing np.argmin
A[3:5, 2:6] = a[3:5, 2:6]
np.unravel_index(A.argmax(), A.shape)
"
34696,61648,How can I remove words in a sentence starting with a particular set of characters?,"query=re.sub(r""\bsearch\w+"", """", query)

               ^^         ^^   
"
25059,3987,Python/Flask deployment without pip,"# on build machine
cd myproject
pip wheel --wheel-dir wheelbase .
scp -r wheelbase me@target.example.org

# on target machine
pip install --no-index --find-links=wheelbase myproject
"
319,26368,No access to top level elements with ijson?,"f = open('test')
json_obj = ijson.items(f,'').next() # '' loads everything as only one object.
for (key, value) in json_obj.items():
    print key + "" -> "" + str(value)
"
9491,21189,pymongo specify variable in connection string,"d = con[db][col].find_one()
"
34768,8833,Convert every dictionary value to utf-8 (dictionary comprehension?)," mydict = {k: unicode(v).encode(""utf-8"") for k,v in mydict.iteritems()}
"
30038,72599,Python : count the number of different values for a given attribute in a list of objects,"len(set([x.attrib for x in objects]))
"
10853,28353,python page response benchmarking (headers),"from timeit import Timer
from urllib2 import urlopen

def fetch():
    page = urlopen('http://www.google.com')
    return page.info()

timer = Timer(fetch)
print timer.timeit(1)
"
11569,81754,Casing text depending on punctuation,"import string

s = ""the qUiCk BROWN fox:: jumped. over , the lazy    dog.""
s_correct = ""The quick brown fox: jumped. Over, the lazy dog.""


def chars_from_lines(lines):
    for line in lines:
        for ch in line:
            yield ch

start, in_sentence, saw_space = range(3)

punct = set(string.punctuation)
punct_non_repeat = punct - set(['.', '-'])
end_sentence_chars = set(['.', '!', '?'])

def edit_sentences(seq):
    state = start
    ch_punct_last = None

    for ch in seq:
        ch = ch.lower()

        if ch == ch_punct_last:
            # Don't pass repeated punctuation.
            continue
        elif ch in punct_non_repeat:
            ch_punct_last = ch
        else:
            # Not punctuation to worry about, so forget the last.
            ch_punct_last = None

        if state == start and ch.isspace():
            continue
        elif state == start:
            state = in_sentence
            yield ch.upper()

        elif state == in_sentence and ch in end_sentence_chars:
            state = start
            yield ch
            yield ' '
        elif state == in_sentence and not ch.isspace():
            yield ch
        elif state == in_sentence and ch.isspace():
            state = saw_space
            continue

        elif state == saw_space and ch.isspace():
            # stay in state saw_space
            continue
        elif state == saw_space and ch in punct:
            # stay in state saw_space
            yield ch
        elif state == saw_space and ch.isalnum():
            state = in_sentence
            yield ' '
            yield ch

#with open(""input.txt"") as f:
#    s_result = ''.join(ch for ch in edit_sentences(chars_from_lines(f)))

s_result = ''.join(ch for ch in edit_sentences(s))

print(s_result)
print(s_correct)
"
30759,12002,python - split array of objects,">>> a = [{'id': 1, 'array': ['a','b','c']}, {'id': 2, 'array': ['d','e','f']}]
>>> [{'id': d['id'], 'term': v } for d in a for v in d['array']]
[{'term': 'a', 'id': 1}, {'term': 'b', 'id': 1}, {'term': 'c', 'id': 1}, {'term': 'd', 'id': 2}, {'term': 'e', 'id': 2}, {'term': 'f', 'id': 2}]
"
10956,33296,CapWords conventions: get_MyClass or get_my_class,"class MyClass(object):
     def __init__(self,arg):
         self.arg = arg

     @classmethod
     def from_sum(cls,*args):
         return cls(sum(args))

inst = MyClass.from_sum(1,2,3,4)
print inst.arg  #10
"
23654,80871,Passing MySQL data from flask to JavaScript for Google Charts,"{{json | safe}}
"
10951,12857,How to detect if dates are consecutive in Python?,"from datetime import datetime

date_strs = ['07-06-2010', '06-24-2010', '07-05-2010', '06-25-2010']
# date_strs = ['02-29-2012', '02-28-2012', '03-01-2012']
# date_strs = ['01-01-2000']
dates = [datetime.strptime(d, ""%m-%d-%Y"") for d in date_strs]

date_ints = set([d.toordinal() for d in dates])

if len(date_ints) == 1:
    print ""unique""
elif max(date_ints) - min(date_ints) == len(date_ints) - 1:
    print ""consecutive""
else:
    print ""not consecutive""
"
4947,52794,Make buttons work on canvas (tkinter),"from tkinter import *
import random
root = Tk()

class Recta:

    def __init__(self, height=60, width=80):
        self.height = height
        self.width = width
        self.create_buttons()
        self.canvas = Canvas(root)
        self.canvas.pack()


    def create_buttons(self):
        self.frame = Frame(root, bg='grey', width=400, height=40)
        self.frame.pack(fill='x')

        self.button1 = Button(self.frame, text='Add Rect', command=self.randomRects)
        self.button1.pack(side='left', padx=10)
        self.button2 = Button(self.frame, text='Remove Rect', command=self.randomRects)
        self.button2.pack(side='left')


    def randomRects(self):
        w = random.randrange(300)
        h = random.randrange(200)
        self.canvas.create_rectangle(0, 0, w, h, fill='green')


tes = Recta()
root.mainloop()
"
19774,69079,Converting a number to binary with a fixed length,">>> '{0:07b}'.format(12)
'0001100'
"
8067,8767,How to find out week no of the month in python?,"from math import ceil

def week_of_month(dt):

    first_day = dt.replace(day=1)

    dom = dt.day
    adjusted_dom = dom + first_day.weekday()

    return int(ceil(adjusted_dom/7.0))
"
31778,69576,What is the best way to write the contents of a StringIO to a file?,"with open ('file.xml', 'w') as fd:
  buf.seek (0)
  shutil.copyfileobj (buf, fd)
"
31802,82326,removing weird double quotes (from excel file) in python string,"text[10] == '\u201c'
"
10975,8261,How to plot after doing a groupby on pandas data frame,"plt = nightlife_ratings_mean.plot(x = 'year', y = 'stars', style = 'o-', title = ""Stars for each month and year"")
plt.set_xlabel(""[Year, Month]"")
plt.set_ylabel(""Stars"")
"
13763,58973,Removing elements from an array in python,"a = [i for i in a if i != p]
"
39478,81570,How to remove rows from a csv file when compared to a list in a txt file using Python?,"import csv

lookup = set(l.strip().lower() for l in open(path_to_file3))
map(csv.writer(open(path_to_file2, 'w')).writerow, 
    (row for row in csv.reader(open(path_to_file)) 
    if row[1].lower() in lookup))
"
24570,81407,Factorial in numpy and scipy,"In [7]: import scipy, numpy, math                                                          

In [8]: scipy.math.factorial, numpy.math.factorial, math.factorial
Out[8]: 
(<function math.factorial>,                                                                
 <function math.factorial>,                                                                
 <function math.factorial>)     
"
18076,65839,using pyVmomi to configure SRIOV on VM,"devices = []
network_name = ""Data""
vnic_label = ""pyvmomi sriov nic1""

content = si.content
vm = get_obj(content, [vim.VirtualMachine], vm_name)
nic = vim.vm.device.VirtualDeviceSpec()

# VM device
nic.operation = vim.vm.device.VirtualDeviceSpec.Operation.add
nic.device = vim.vm.device.VirtualSriovEthernetCard()
nic.device.addressType = 'assigned'
nic.device.key = 13016
nic.device.deviceInfo = vim.Description()
nic.device.deviceInfo.label = vnic_label
nic.device.deviceInfo.summary = network_name
nic.device.backing = vim.vm.device.VirtualEthernetCard.NetworkBackingInfo()
nic.device.backing.network = get_obj(content, [vim.Network], network_name)
nic.device.backing.deviceName = network_name
nic.device.backing.useAutoDetect = False
nic.device.connectable = vim.vm.device.VirtualDevice.ConnectInfo()
nic.device.connectable.startConnected = True
nic.device.connectable.allowGuestControl = True

nic.device.sriovBacking = vim.vm.device.VirtualSriovEthernetCard.SriovBackingInfo()
nic.device.sriovBacking.physicalFunctionBacking = vim.vm.device.VirtualPCIPassthrough.DeviceBackingInfo()
nic.device.sriovBacking.physicalFunctionBacking.id = '84:00.1'
nic.device.sriovBacking.virtualFunctionBacking = vim.vm.device.VirtualPCIPassthrough.DeviceBackingInfo()
nic.device.sriovBacking.virtualFunctionBacking.id = '84:11.1'

devices.append(nic)

vmconf = vim.vm.ConfigSpec(deviceChange=devices)
task = vm.ReconfigVM_Task(vmconf)
"
36653,9241,Parsing a simple text file in python,"with open('somefile.txt') as f:
   first_row = next(f).strip().split(';')
   TOTAL_NUMBER = len(first_row[first_row.index('START'):first_row.index('END')+1])
   bits = ''.join(line.rstrip() for line in f).split(';')
   final_array = bits[bits.index('PROVEEDOR'):bits.index('PROVEEDOR')+TOTAL_NUMBER]
"
11132,26008,How to create multiple class with same function,"class Myclass:
    def do_x(self):
        pass

class My_child(Myclass):
    def do_x(self):
        print(""I am the chile class"")

class My_2nd_child(Myclass):
    def do_x(self):
        print(""I am the 2nd child"")
"
38638,29705,How to make a linux service for python CGIHTTPServer?,"#!/bin/sh
case $1 in
start) 
nohup ./server.py &
echo $! > ./server.pid
;;
stop) # code to stop the service
kill `cat ./server.pid`
esac
"
13292,55961,Launch Hadoop MapReduce job via Python without PuTTy/SSH,"import paramiko

# Define connection info
host_ip = 'xx.xx.xx.xx'
user = 'xxxxxxxx'
pw = 'xxxxxxxx'

# Paths
input_loc = '/nfs_home/appers/extracts/*/*.xml'
output_loc = '/user/lcmsprod/output/cnielsen/'
python_path = ""/usr/lib/python_2.7.3/bin/python""
hdfs_home = '/nfs_home/appers/cnielsen/'
output_log = r'C:\Users\cnielsen\Desktop\MR_Test\MRtest011316_0.txt'

# File names
xml_lookup_file = 'product_lookups.xml'
mapper = 'Mapper.py'
reducer = 'Reducer.py'
helper_script = 'Process.py'
product_name = 'test1'
output_ref = 'test65'

# ----------------------------------------------------

def buildMRcommand(product_name):
    space = "" ""
    mr_command_list = [ 'hadoop', 'jar', '/share/hadoop/tools/lib/hadoop-streaming.jar',
                        '-files', hdfs_home+xml_lookup_file,
                        '-file', hdfs_home+mapper,
                        '-file', hdfs_home+reducer,
                        '-mapper', ""'""+python_path, mapper, product_name+""'"",
                        '-file', hdfs_home+helper_script,
                        '-reducer', ""'""+python_path, reducer+""'"",
                        '-input', input_loc,
                        '-output', output_loc+output_ref]

    MR_command = space.join(mr_command_list)
    print MR_command
    return MR_command

# ----------------------------------------------------

def unbuffered_lines(f):
    line_buf = """"
    while not f.channel.exit_status_ready():
        line_buf += f.read(1)
        if line_buf.endswith('\n'):
            yield line_buf
            line_buf = ''

# ----------------------------------------------------

client = paramiko.SSHClient()
client.set_missing_host_key_policy(paramiko.AutoAddPolicy())
client.connect(host_ip, username=user, password=pw)

# Build Commands
list_dir = ""ls ""+hdfs_home+"" -l""
getmerge = ""hadoop fs -getmerge ""+output_loc+output_ref+"" ""+hdfs_home+""test_011216_0.txt""

# Run Command
stdin, stdout, stderr = client.exec_command(list_dir)
##stdin, stdout, stderr = client.exec_command(buildMRcommand(product_name))
##stdin, stdout, stderr = client.exec_command(getmerge)

print ""Executing command...""
writer = open(output_log, 'w')

for l in unbuffered_lines(stderr):
    e = '[stderr] ' + l
    print '[stderr] ' + l.strip('\n')
    writer.write(e)

for line in stdout:
    r = '[stdout]' + line
    print '[stdout]' + line.strip('\n')
    writer.write(r)

client.close()
writer.close()
"
34949,5320,"KDE in python with different mu, sigma / mapping a function to an array","import numpy as np

def solve_gaussian(val,data_array,sigma_array):
    return (1. / sigma_array) * np.exp(- (val - data_array) * (val - data_array) / (2 * sigma_array * sigma_array))

def solve_kde(xlist,data_array,sigma_array):
    kde_array = np.array([])
    for xx in xlist:
        single_kde = solve_gaussian(xx,data_array,sigma_array)
        if np.ndim(kde_array) == 3:
            kde_array = np.concatenate((kde_array,single_kde[np.newaxis,:,:]),axis=0)
        else:
            kde_array = np.dstack(single_kde)
    return kde_array

xlist = np.linspace(0,1,101) #Adjust as needed
kde_array = solve_kde(xlist,data_array,sigma_array)
kde_vector = np.sum(np.sum(kde_array,axis=2),axis=1)
mode_guess = xlist[np.argmax(kde_vector)]
"
2179,36012,How to to combine rows where atleast one column has duplicate data in mysql,"select min(clm0), 
       clm1,
       clm2,
       group_concat(clm3)
from yourtable
group by clm1, clm2
"
37384,33365,Parse a string to floats with different separators,"import re
import locale

# Remove anything not a digit, comma or period
no_cruft = re.sub(r'[^\d,.-]', '', st)

# Split the result into parts consisting purely of digits
parts = re.split(r'[,.]', no_cruft)

# ...and sew them back together
if len(parts) == 1:
    # No delimeters found
    float_str = parts[0]
elif len(parts[-1]) != 2:
    # >= 1 delimeters found. If the length of last part is not equal to 2, assume it is not a decimal part
    float_str = ''.join(parts)
else:
    float_str = '%s%s%s' % (''.join(parts[0:-1]),
                            locale.localeconv()['decimal_point'],
                            parts[-1])

# Convert to float
my_float = float(float_str)
"
15976,25259,convert variables into dictonaries,">>> import datetime
>>>
>>> trade_date = datetime.date(2005, 7, 25)
>>> effective_date = datetime.datetime(2005, 7, 27, 11, 26, 38)
>>> termination_date = datetime.datetime(2010, 7, 26, 11, 26, 38)
>>>
>>> d = vars() # You can access the variable as d['name']
>>> tradedates = {
...     name: d[name].strftime('%Y-%m-%d')
...     for name in ('trade_date', 'effective_date', 'termination_date')
... }
>>> tradedates
{'effective_date': '2005-07-27', 'termination_date': '2010-07-26', 'trade_date': '2005-07-25'}
"
22221,65771,"What is the right way to handle ""key or value"" arguments to a dict?","class Spheres(object):

    def __init__(self):
       self._dict = dict()

    def volumes(self, radii=None):
        if radii is None: 
            radii = self._dict['radii']
        return (4/3) * math.pi *radii**3
"
36129,60243,Adding columns to matrix in python,"import numpy as np

X = np.random.uniform(size=(10,3))
n,m = X.shape # for generality
X0 = np.ones((n,1))
Xnew = np.hstack((X,X0))

print(X)
[[ 0.78614426  0.24150772  0.94330932]
 [ 0.60088812  0.20427371  0.19453546]
 [ 0.31853252  0.31669057  0.82782995]
 [ 0.71749368  0.54609844  0.74924888]
 [ 0.86883981  0.54634575  0.83232409]
 [ 0.89313181  0.8006561   0.05072146]
 [ 0.79492088  0.07750024  0.45762175]
 [ 0.92350837  0.20587178  0.76987197]
 [ 0.0092076   0.0044617   0.04673518]
 [ 0.69569363  0.3315923   0.15093861]]

print(X0)
[[ 1.]
 [ 1.]
 [ 1.]
 [ 1.]
 [ 1.]
 [ 1.]
 [ 1.]
 [ 1.]
 [ 1.]
 [ 1.]]

print(Xnew)
[[ 0.78614426  0.24150772  0.94330932  1.        ]
 [ 0.60088812  0.20427371  0.19453546  1.        ]
 [ 0.31853252  0.31669057  0.82782995  1.        ]
 [ 0.71749368  0.54609844  0.74924888  1.        ]
 [ 0.86883981  0.54634575  0.83232409  1.        ]
 [ 0.89313181  0.8006561   0.05072146  1.        ]
 [ 0.79492088  0.07750024  0.45762175  1.        ]
 [ 0.92350837  0.20587178  0.76987197  1.        ]
 [ 0.0092076   0.0044617   0.04673518  1.        ]
 [ 0.69569363  0.3315923   0.15093861  1.        ]]
"
3943,3608,How to ensure unique values in a multidimensional array?,"list(enumerate(set(color_names)))
"
12864,53858,Python matrix in matrix in matrix,"In [4]: mat = [ [(4,4),(1,6)] , [(6,1),(2,2)] ]

In [6]: c,d=mat[0][0]    #here mat[0] is [(4,4),(1,6)], invoking [0] on this yields [4,4]

In [7]: c
Out[7]: 4

In [8]: d
Out[8]: 4


In [9]: a,b=mat[1][1]  #here mat[1] is [(6,1),(2,2)], invoking [1] on this yields [2,2]

In [10]: a
Out[10]: 2

In [11]: b
Out[11]: 2
"
15065,65344,Python is not interpreting regex correctly,">>> re.findall(""(.+?)\1+"", ""FFFFFFF"")
[]
>>> re.findall(r""(.+?)\1+"", ""FFFFFFF"")
['F']
>>> 
"
28614,52279,how to map url with usernames prefixed?,"host = request.host
host = host.split(':', 1)[0] # Strip off optional ':##' port number
username = None
if host.endswith('.yourdomain.com'):
    username = host.split('.', 1)[0]
"
11078,24537,Python urllib2 response 404 error but url can be opened,"payload = {
   'username': 'your username',
   'password': 'your password'
   }
p = requests.post(myurl, data=payload)
"
31432,33083,How to extract PDF fields from a filled out form in Python?,"import sys
from pdfminer.pdfparser import PDFParser
from pdfminer.pdfdocument import PDFDocument
from pdfminer.pdftypes import resolve1

filename = sys.argv[1]
fp = open(filename, 'rb')

parser = PDFParser(fp)
doc = PDFDocument(parser)
doc.initialize()    
fields = resolve1(doc.catalog['AcroForm'])['Fields']
for i in fields:
    field = resolve1(i)
    name, value = field.get('T'), field.get('V')
    print '{0}: {1}'.format(name, value)
"
26540,34558,ModelChoiceField Queryset to another OneToOne related table,"user = ModelChoiceField(queryset=User.objects.filter(
    is_staff=True, profile__fieldtocheck=False), ...)
"
35208,27065,Reading from RS 232 port using python,"import time
import serial

# configure the serial connections (the parameters differs on the device you are connecting to)
ser = serial.Serial(
    port='COM2',
    baudrate=9600,
    timeout=1,
    parity=serial.PARITY_ODD,
    stopbits=serial.STOPBITS_TWO,
    bytesize=serial.SEVENBITS
)
ser.isOpen()
# Reading the data from the serial port. This will be running in an infinite loop.

while 1 :
        # get keyboard input
        bytesToRead = ser.inWaiting()
        data = ser.read(bytesToRead)
        time.sleep(1)
        print(data)
"
17797,75256,Emacs/Python - function expected an indented block,"(defun python-shell-send-line (&optional send-main msg)
  ""Send the entire line to inferior Python process.
When optional argument SEND-MAIN is non-nil, allow execution of
code inside blocks delimited by \""if __name__== \\='__main__\\=':\"".
When called interactively SEND-MAIN defaults to nil, unless it's
called with prefix argument.  When optional argument MSG is
non-nil, forces display of a user-friendly message if there's no
process running; defaults to t when called interactively.""
  (interactive (list current-prefix-arg t))
  (save-restriction
    (widen)
    (python-shell-send-region (line-beginning-position) (line-end-position) send-main msg)))
"
18186,53779,"How to compare two sets, where each element of them is list?","In [52]: a = [                               
        ['StarList', 'StarId38', 'ShipList']
    ]

In [53]: b = [                               
        ['StarList', 'StarId3', 'ShipList'],
        ['StarList', 'StarId4', 'ShipList']
    ]

In [54]: set(map(tuple, a)) == set(map(tuple, b))
Out[54]: False

In [55]: a = [
   ....:         ['StarList', 'StarId4', 'ShipList'],
   ....:         ['StarList', 'StarId3', 'ShipList']
   ....:     ]

In [56]: set(map(tuple,a))==set(map(tuple,b))
Out[56]: True
"
21211,44687,Removing all non-numeric characters from string in Python,">>> import re
>>> re.sub(""[^0-9]"", """", ""sdkjh987978asd098as0980a98sd"")
'987978098098098'
"
24468,15870,Using multiple threads with wxPython,"import threading.Thread

class Line_Counter(threading.Thread):
    def __init__(self, staticText, filename):
        threading.Thread.__init__(self)
        self.staticText = staticText

    def run(self):
        self.exit = False
        with open(self.filename) as f:
            if self.exit:
                return
            for count, _ in enumerate(f):   pass
        self.staticText.SetLabel(str(count + 1))

    def abort(self):
        self.exit = True


class MainFrame(wx.Frame):
    def __init__(self, parent, id, filename):
        wx.Frame.__init__(self, parent, id, 'Threaded File Loader')
        self.line_counter = False      # Set up a dummy thread variable
        #### remaining code
        self.file_open_button.Bind( wx.EVT_BUTTON, self.OnOpenFile ) # Event handler for opening file

    def OnOpenFile(self, event):
        filepath = getFile()  # Creates a file open dialog and returns the file path
        if self.line_counter: # Checks if a counter thread is already running
            self.line_counter.abort() # Stops the thread if True
        self.line_counter = Line_Counter(self.staticText, filename).start()  # Starts a new thread
"
24258,4646,how to use pip module to list versions on a server?,"from StringIO import StringIO
import sys
import re

from pip import parseopts
from pip.commands import commands

def list_outdated(pypi_server):
    args = ['list', '-o', '-f', pypi_server, '--no-index']
    cmd_name, options, args, parser = parseopts(args)
    command = commands['list'](parser)

    _stdout = sys.stdout
    output = StringIO()
    sys.stdout = output
    command.main(args, options)
    sys.stdout = _stdout

    return re.findall('(\w+)\s+\(Current:\s+(.*?) Latest:\s+(.*?)\)', output.read() * 2)

outdated = list_outdated('http://my_server:8080/packages/')
"
39010,2971,Recommended way to populate foreign key?,"if form.is_valid():
    comment = form.save(commit=False)
    comment.story = story_details
    comment.save()
    return ...
"
17098,53768,"seaborn violinplots: change violin color, axes names, legend","import seaborn as sns
tips = sns.load_dataset(""tips"")
sns.set(style=""ticks"", palette=""colorblind"")
g = sns.FacetGrid(tips, col=""time"", size=4, aspect=.75)
g = g.map(sns.violinplot, ""sex"", ""total_bill"", ""smoker"", palette={""No"": ""b"", ""Yes"": ""w""}, inner=None, linewidth=1, scale=""area"", split=True, width=0.75).despine(left=True)
g.fig.get_axes()[0].legend(title= 'smoker',loc='upper left')
g.set_axis_labels('lunch','total bill')
sns.plt.show()
"
15759,27875,Post date value over REST API to mongoDB and store it as ISOdate,"import datetime

****
timestamp = datetime.datetime.utcnow().isoformat()
isoDate = datetime.datetime.strptime( timestamp, ""%Y-%m-%dT%H:%M:%S.%f"" )
print (timestamp)
"
27764,53459,How do I find common items from Python dictionary values?,">>> set.intersection(*D.values())
{2}
"
18402,4872,Extract a number from fasta read headers,"from Bio import SeqIO
import re
with open(fasta_path, 'rb') as fin:
    s = SeqIO.parse(fin, 'fasta')
    for r in s:
        num_you_want = int(re.findall('\((\d+) - \d+\)', r.description)[0])
"
24374,59993,Isolate N values from a list after obtaining a specific match with a regex,"def filtering(a_list):
    results = []
    for i, item in enumerate(a_list):
        if re.search(r'\d{0,1}\s+Contacts;\s*', item) is not None:
            results.extend(a_list[i+1:i+6])
"
17141,59523,How to Convert This RGB format in Python,"// 8(7 used) bit per channel
double R=double(col>>16)/127.0;
double G=double(col>> 8)/127.0;
double B=double(col    )/127.0;

// 8 bit per channel
double R=double(col>>16)/255.0;
double G=double(col>> 8)/255.0;
double B=double(col    )/255.0;
"
9355,8830,Read a file by words in Python,"tokens = []    
for linea in f.readlines():
    line_content = linea.split(' ')
    for token in line_content:
        tokens.append(token)
print(tokens)
"
22333,67313,Django admin form for creating AbstractUser extended model,"class CustomUserAdmin(UserAdmin):
# ...code here...

    fieldsets = (
        (None, {'fields': ('email',)}),
        (_('Personal info'), {'fields': ('first_name', 'last_name')}),
        (_('Permissions'), {'fields': ('is_active', 'is_staff', 'is_superuser',
                                       'groups', 'user_permissions')}),
        (_('Important dates'), {'fields': ('last_login', 'date_joined')}),
    )
    add_fieldsets = (
        (None, {
            'classes': ('wide',),
            'fields': ('email', 'first_name', 'last_name', 'password1',
                       'password2')}
         ),
    )
"
10934,68139,Checking if a file exists in Python 2.7,"import os

....

filename = '{}:/{}/{}.mp3'.format(d_name, dir_list[i], s_name)
if os.path.exists(filename):
    system('start ' + filename)
else:
    print ""File {} was not found"".format(filename)
"
26165,50519,Anyone know this Python data structure?,"import collections
import bisect

class FastTable:

    def __init__(self):
        self.__deque = collections.deque()

    def __len__(self):
        return len(self.__deque)

    def head(self):
        return self.__deque.popleft()

    def tail(self):
        return self.__deque.pop()

    def peek(self):
        return self.__deque[-1]

    def insert(self, obj):
        index = bisect.bisect_left(self.__deque, obj)
        self.__deque.rotate(-index)
        self.__deque.appendleft(obj)
        self.__deque.rotate(index)
"
38453,186,Python OR operator and parenthesis,"if var in [2, 3]:
    ...
elif var in [2, 15]:
    ...
"
12832,17292,Profiling Python generators,"import cProfile
import pstats
import glob
import math

def gen():
    for i in range(1, 10):
        yield math.factorial(i)

class index(object):
    def GET(self):
        p = cProfile.Profile()

        it = gen()
        while True:
            try:
                nxt = p.runcall(next, it)
            except StopIteration:
                break
            print nxt

        p.print_stats()

index().GET()
"
27302,45337,Is there a recommended approach for handling AppConfig when designing an app for Django 1.6 and 1.7?,"# myapp/apps.py
from django import VERSION as DJANGO_VERSION
if DJANGO_VERSION >= (1, 7):
    from django.apps import AppConfig
    class MyAppConfig(AppConfig):
        ...

# myapp/__init__.py
from django import VERSION as DJANGO_VERSION
if DJANGO_VERSION >= (1, 7):
    default_app_config = 'myapp.apps.MyAppConfig'
"
14521,30348,Python Optparse from Argument String,">>> import shlex
>>> argument_string = ""-a arga -b \""argument b\"" arg1 arg2""
>>> l = shlex.split(argument_string)
>>> l
['-a', 'arga', '-b', 'argument b', 'arg1', 'arg2']
"
9248,68912,"Sort list, based on a full and/or partial match",">>> WEEKDAY_ORDER = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday']
>>>
>>> def sorted_schedule(s):
...     return sorted(s, key=lambda k: WEEKDAY_ORDER.index(k.split()[0]))  # <---
...
>>> schedule2 = set(['Wednesday afternoon', 'Friday'])
>>> print(sorted_schedule(schedule2))
['Wednesday afternoon', 'Friday']
"
22736,33562,Several numpy arrays with SWIG,"%apply (float* INPLACE_ARRAY1, int DIM1) {(float* data1, int n1), (float* data2, int n2)};

class Class 
{
  public: 
  void test(float* data1, int n1, float* data2, int n2)
  {
    //...
  }
};
"
26565,39079,python pyqt interactive usuage,"def wrap(*args, **kwargs):
    return helloworld(*args, **kwargs)

ui.pushButton.clicked.connect(wrap)
"
21455,34856,Fetching href of a link,">>> import re
>>> import urllib2
>>> import lxml.html
>>> page = urllib2.urlopen(""http://maps.google.com/maps/place?cid=2860002122405830765"").read()

# have to search the page source since the link is added in javascript
>>> mo = re.search(r'<div class=""pp-more-reviews"">.*?</div>', page)
>>> div = lxml.html.fromstring(mo.group(0))
>>> href = div.find(""a"").attrib[""href""]
"
8553,59874,dataframe change size and the convert to panel python,"import pandas as pd
import numpy as np

data = pd.DataFrame(np.random.randn(2000,784))

panel = pd.Panel(data.values.reshape(2000, 28, 28))

# In [49]: q.panel[42].shape
# Out[49]: (28, 28)

# In [51]: q.panel
# Out[51]:
# <class 'pandas.core.panel.Panel'>
# Dimensions: 2000 (items) x 28 (major_axis) x 28 (minor_axis)
# Items axis: 0 to 1999
# Major_axis axis: 0 to 27
# Minor_axis axis: 0 to 27
"
11466,1300,Total object deletion in python,">>> class List(list):
...     pass
... 
>>> weaklist = List()
>>> weaklist.append('a')
>>> weaklist.append('b')
>>> stronglist = [ ['c','d','e'] ]
>>> weaklist
['a', 'b']
>>> stronglist
[['c', 'd', 'e']]
>>> import weakref
>>> stronglist.append(weakref.ref(weaklist))
>>> stronglist
[['c', 'd', 'e'], <weakref at 0x10046e578; to 'List' at 0x100455f70>]
>>> stronglist[1]()
['a', 'b']
>>> del weaklist
>>> stronglist
[['c', 'd', 'e'], <weakref at 0x10046e578; dead>]
>>> stronglist[1]()
>>>
"
18104,3250,beautifulsoup .get_text() is not specific enough for my HTML parsing,"for line in soup.find_all('h1',attrs={'itemprop':'name'}):
    [s.extract() for s in line('span')]
print line.get_text()
# => New Men's Genuine Leather Bifold ID Credit Card Money Holder Wallet Black
"
17790,58412,the order in which result of a set is printed in Python,">>> a
set([(2, 7), (4, 7), (6, 7), (5, 7), (7, 7), (0, 7), (1, 7), (3, 7)])
>>> sorted(a)
[(0, 7), (1, 7), (2, 7), (3, 7), (4, 7), (5, 7), (6, 7), (7, 7)]
"
908,76970,Django views select from db list of datefield,"date_realization_for_articles = Article.objects.values_list('date_realization',
                                                            flat=True).distinct()
"
3091,46058,"Convert one list to set, but if empty use a default one","only = set(args.onlyTheseServers or availableServers)
"
2840,1288,Check if an input is a valid roman numeral," def checkIfRomanNumeral(numeral):
     """"""Controls that the userinput only contains valid roman numerals""""""
     numeral = numeral.upper()
     validRomanNumerals = [""M"", ""D"", ""C"", ""L"", ""X"", ""V"", ""I"", ""("", "")""]
     for letters in numeral:
        if letters not in validRomanNumerals:
            print(""Sorry that is not a valid roman numeral"")
            return True
     romanToInt(numeral)
"
23631,7890,get_path() return of a Circle from matplotlib.patches,"# Create the initial circle
circle = Circle([2,2], 2);

# Get the path and the affine transformation
path = circle.get_path()
transform = circle.get_transform()

# Now apply the transform to the path
newpath = transform.transform_path(path)

# Now you can use this
polygon = matpatches.PathPatch(newpath)
patches.append(polygon)
"
39199,13956,Finding multiple strings in text with regexp Python,"re.findall(r'\d{1,2}/optimized/.+?\.tif', swatch)

                                            ^^
"
989,8844,Can you explain closures (as they relate to Python)?,"
def make_counter():
    i = 0
    def counter(): # counter() is a closure
        nonlocal i
        i += 1
        return i
    return counter

c1 = make_counter()
c2 = make_counter()

print (c1(), c1(), c2(), c2())
# -> 1 2 1 2
"
27289,65940,Flask-SQLAlchemy query with negative condition on filter,"User.query.filter(User.name != 'Rachmaninoff')
"
31856,26918,local variable 'uuid' referenced before assignment,">>> import uuid
>>> def foo():
...     uuid = uuid.uuid4()
... 
>>> foo()
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""<stdin>"", line 2, in foo
UnboundLocalError: local variable 'uuid' referenced before assignment
>>> def bar():
...     uuidValue = uuid.uuid4()
... 
>>> bar()
>>> 
>>> someGlobal = 10
>>> def baz():
...     someGlobal = someGlobal + 1
... 
>>> baz()
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""<stdin>"", line 2, in baz
UnboundLocalError: local variable 'someGlobal' referenced before assignment
>>> def quux():
...     someLocal = someGlobal + 1
... 
>>> quux()
>>> 
"
23213,80195,Kivy take screenshot with clear background,"def export_to_png(self, filename, *args):
        '''Saves an image of the widget and its children in png format at the
        specified filename. Works by removing the widget canvas from its
        parent, rendering to an :class:`~kivy.graphics.fbo.Fbo`, and calling
        :meth:`~kivy.graphics.texture.Texture.save`.

        .. note::

            The image includes only this widget and its children. If you want
            to include widgets elsewhere in the tree, you must call
            :meth:`~Widget.export_to_png` from their common parent, or use
            :meth:`~kivy.core.window.WindowBase.screenshot` to capture the whole
            window.

        .. note::

            The image will be saved in png format, you should include the
            extension in your filename.

        .. versionadded:: 1.9.0
        '''

        if self.parent is not None:
            canvas_parent_index = self.parent.canvas.indexof(self.canvas)
            self.parent.canvas.remove(self.canvas)

        fbo = Fbo(size=self.size, with_stencilbuffer=True)

        with fbo:
            ClearColor(0, 0, 0, 1)
            ClearBuffers()
            Scale(1, -1, 1)
            Translate(-self.x, -self.y - self.height, 0)
"
35824,18894,Facebook login for Django and url redirection?,"def facebook_login(request):
    """"""
    Facebook login page
    """"""
    if request.REQUEST.get(""device""):
        device = request.REQUEST.get(""device"")
    else:
        device = ""user-agent""

    params = {}
    params[""client_id""] = FACEBOOK_APP_ID
    params[""redirect_uri""] = request.build_absolute_uri(reverse(""socialauth_facebook_login_done""))

    url = ""https://graph.facebook.com/oauth/authorize?""+urllib.urlencode(params)

    return HttpResponseRedirect(url)

def facebook_login_done(request):
    user = authenticate(request=request)

    if not user:
        request.COOKIES.pop(FACEBOOK_API_KEY + '_session_key', None)
        request.COOKIES.pop(FACEBOOK_API_KEY + '_user', None)

        # TODO: maybe the project has its own login page?
        logging.debug(""SOCIALAUTH: Couldn't authenticate user with Django, redirecting to Login page"")
        return HttpResponseRedirect(reverse('socialauth_login_page'))

    login(request, user)

    logging.debug(""SOCIALAUTH: Successfully logged in with Facebook!"")

    if request.GET.get('next'):
        return HttpResponseRedirect(request.GET.get('next'))
    else:
        return HttpResponseRedirect(LOGIN_REDIRECT_URL)
"
5266,65804,Passing argument as HTML attribute,"<span style=""color:red""><b>This is red</b></span>
"
36140,37795,Quickest way to get number of lines in a file,"0.024 sec (avg) - wc -l file.txt
0.121 sec (avg) - sed -n '$=' file.txt
0.396 sec (avg) - nl file.txt | tac |sed -n 1p | awk '{print $1}
"
33206,24226,SQLAlchemy override types.DateTime on raw sql expressions,"def mytext(stmt, params):
    bindparams = []
    for k, v in params:
        if isinstance(v, datetime):
            type_ = MyType()
        else:
            type_ = None
        bindparams.append(bindparam(k, v, type_=type))
    return text(stmt, bindparams=bindparams)
"
37689,61866,Little change in a function. Mask. Python,"# Initialize output array   
res = np.zeros(r.shape)

# Get mask1 and compute values for all elements and use the mask to set only
# TRUE positions with the computed values
mask1 = (r >= 0.5*dr) & (r <= 1.5*dr)
V1 = (5-3*np.abs(r*mask1)/dr - np.sqrt(-3*(1-np.abs(r*mask1)/dr)**2+1))/(6*dr)
res[mask1] = V1[mask1]

# Similarly for mask2 and the computations with that mask
mask2 = np.logical_not(mask1) & (r <= 0.5*dr)
V2 = (1+np.sqrt(-3*(r*mask2/dr)**2+1))/(3*dr)
res[mask2] = V2[mask2]
"
34576,12648,Assign line colors in pandas,"# Option 1
s = s.sort_index()
df.plot(color = s.values) # as per Fiabetto's answer

# Option 2
df.plot(color = ['c', 'y')
"
16353,13345,Matplotlib/Pyplot shared axis for odd number of subplots,"import matplotlib.pyplot as plt

fig = plt.figure()

# Add subplots
nRows = 4
nCols = 2
nPlots = 7
ax1 = fig.add_subplot(nRows,nCols,1)
ax1.set_yscale('log')
ax1.set_xscale('log')

for n in range(1, nPlots+1):
    plt.subplot(nRows,nCols,n, sharex=ax1, sharey=ax1)

# Turn off tick lables where needed. 
index = 0
for r in range(1, nRows +1):
     for c in range(1, nCols + 1):
         index += 1
         # Turn off y tick labels for all but the first column.
         if ((c != 1) and (index <= nPlots)):  
             ax = plt.subplot(nRows, nCols, index, sharex=ax1, sharey=ax1)
             plt.setp(ax.get_yticklabels(), visible=False)
          # Turn off x tick lables for all but the bottom plot in each 
          # column. 
         if ((nPlots - index) >= nCols):
             ax = plt.subplot(nRows, nCols, index, sharex=ax1, sharey=ax1) 
             plt.setp(ax.get_xticklabels(), visible=False)

plt.subplots_adjust(wspace=0, hspace=0)

plt.show()
"
33427,76542,Beautifulsoup css data extraction,"import cssutils
css = cssutils.parseFile('index.html')
for rule in css.cssRules:
    print(rule.style.top)
    print(rule.style.left)
"
19768,39205,django problem - install the xxx package by putting it on your python path?,"import someapp
"
20015,4042,division above the data type limits,"from fractions import Fraction
>>> print float( Fraction(2**54343) / Fraction( 2**54347 + 1 ) )
0.0625
>>> print Fraction(2**54343) / Fraction( 2**54347 + 1 )
# ... very long exact answer expressed as a fraction ...
"
30984,21208,Dividing Pandas DataFrame rows into similar time-based groups,"starts = df[""Start Time""].copy()
starts.sort()
dt = starts.diff()
heat = (dt > pd.Timedelta(seconds=60)).cumsum()
heat = heat.sort_index()
"
35646,7587,"Python deal with date format like ""1st, 2nd, 3rd, 4th""",">>> re.sub(r""([0123]?[0-9])(st|th|nd|rd)"",r""\1<sup>\2</sup>"",""Meet you on 5th"")
'Meet you on 5<sup>th</sup>'
"
21572,27986,Sphinx floating point formating,".. automodule:: bar

   .. autofunction:: foo(x=0.97)
"
28892,75087,How flatten a list of lists one step,"itertools.product(*A)
"
36571,21000,"Python: Plotting strings on x axis of matplot scatterplot yields ""could not convert string to float""","import matplotlib.pyplot as plt
from matplotlib.ticker import FuncFormatter, MultipleLocator

x_data = np.arange(97, 110)
y_data = np.random.rand(len(x_data))

def ord_to_char(v, p=None):
    return chr(int(v))

fig, ax = plt.subplots()
ax.plot(x_data, y_data, 'x')
ax.xaxis.set_major_formatter(FuncFormatter(ord_to_char))
ax.xaxis.set_major_locator(MultipleLocator(1))
plt.show()
"
32268,3653,Iterate over GQL query fields,"if self.request.get('key'):
    # Key specified, get field values from db store
    key = self.request.get('key')
    sort = db.get(key)
    for field in ItemDB.properties():
        self.formdata[field] = getattr(sort, field)
"
3284,591,python Cmd module autocompletion error in nested interpreters,"import cmd

class MainConsole(cmd.Cmd):
    def __init__(self,console_id):
       cmd.Cmd.__init__(self)
       self.console_id = console_id
    def do_something(self, line):
       print ""do something!"",self.console_id
       return

    def do_something2(self, line):
       print ""do something2!"",self.console_id
       return    

class SubConsole1(cmd.Cmd):

    def __init__(self, maincon):
        cmd.Cmd.__init__(self)
        self.maincon = maincon
        self.register_main_console_methods()

    def do_super_commands(self,line):
        print ""do supercommand"",self.maincon

    def register_main_console_methods(self):
        main_names = dir(self.maincon)
        for name in main_names:
            for prefix in 'do_','help_','complete_', :
                if name.startswith(prefix) and name not in dir(self):
                    self.__dict__[name] = getattr(self.maincon, name)

    def get_names(self):
        result = cmd.Cmd.get_names(self)
        result+=self.maincon.get_names()
        return result

SubConsole1(MainConsole(""mainconsole"")).cmdloop()
"
7417,48408,How to pass kwargs from save to post_save signal,"def save(self, commit=True):
    user = super(CustomFormThing, self).save(commit=False)
    #set some other attrs on user here ...
    user._some = 'some'
    user._other = 'other'
    if commit:
        user.save()

    return user

@receiver(post_save, sender=User)
def create_profile(sender, instance, created, **kwargs):
    some_id = getattr(instance, '_some', None)
    other_id = getattr(instance, '_other', None)

    if created:
        #do something with the kwargs above...
"
35103,38959,Python: convert unix time to durations,">>> import datetime
>>> str(datetime.timedelta(seconds=666))
'0:11:06'
"
14130,72607,How to get the IPv6 address of an interface under linux,"step1 = Popen(['ip','addr','show','br0'],stdout=PIPE)
step2 = Popen(['grep','inet6'],stdout=PIPE,stdin=step1.stdout)
step3 = Popen(['sed','-e','/fe80/d','-e','s/ *inet6 *//g','-e','s/\/64.*$//g'],stdout=PIPE,stdin=step2.stdout)
step4 = Popen(['tail','-n1'],stdout=PIPE,stdin=step3.stdout)
step4.communicate()[0]
"
28339,16249,How to mock the output of one of my functions for unittests?,"def my_facebook_api(input):
    if input=='A':
        return 'X'
    elif input=='B':
        return 'D'

facebook_api =  Mock(side_effect=my_facebook_api)
"
30014,1330,Python GIL and threads,"void MManager::acquirePython(void) {
    MThread thisThread = MFramework::MProcesses::GetCurrentThread();
    if (thisThread != mainThread) {
        Lock();
        std::map<MThread,void*>::iterator i = threadStates.find(thisThread);
        if (i == threadStates.end()) {
            Unlock();
            PyGILState_STATE gstate = PyGILState_Ensure();
            _PyGILState_STATE_* encState = new _PyGILState_STATE_;
            encState->state = gstate;
            encState->refCount = 1;
            Lock();
            threadStates[thisThread] = encState;
            Unlock();
        } else {
            _PyGILState_STATE_* encState = (_PyGILState_STATE_*)i->second;
            encState->refCount = encState->refCount + 1;
            Unlock();
        }

    } else {
        if (mainThreadState) PyEval_RestoreThread((PyThreadState*)mainThreadState);
    }

}

void MManager::releasePython(void) {
    MThread thisThread = MFramework::MProcesses::GetCurrentThread();
    if (thisThread != mainThread) {
        Lock();
        std::map<MThread,void*>::iterator i = threadStates.find(thisThread);
        if (i != threadStates.end()) {
            _PyGILState_STATE_* encState = (_PyGILState_STATE_*)i->second;
            if (encState->refCount <= 1) {
                threadStates.erase(i);
                Unlock();

                PyGILState_Release(encState->state);
                delete encState;
            } else {
                encState->refCount = encState->refCount - 1;
                Unlock();
            }
        } else {
            Unlock();
        }

    } else {
        mainThreadState = PyEval_SaveThread();
    }
}
"
6659,71118,Get substring from pandas dataframe while filtering,"In [77]:
df.loc[(df['Name'] == 'Richard') & (df['Points']==35),'String'].str[3:5]

Out[77]:
1    67
3    38
Name: String, dtype: object
"
29987,59522,Why are slice and range upper-bound exclusive?,"word[:2]    # The first two characters
word[2:]    # Everything except the first two characters
"
9557,5955,Python split iterables into combinations,"x = 'ABCD'
[(x[i], x[:i] + x[i+1:]) for i in range(len(x))]
# Outputs:
# [('A', 'BCD'), ('B', 'ACD'), ('C', 'ABD'), ('D', 'ABC')]
"
5917,8616,Python join all combinations of elements within each list,"In [88]: import itertools as it
In [89]: list(it.product(('1','11'),('2','22'),('3','33')))
Out[89]: 
[('1', '2', '3'),
 ('1', '2', '33'),
 ('1', '22', '3'),
 ('1', '22', '33'),
 ('11', '2', '3'),
 ('11', '2', '33'),
 ('11', '22', '3'),
 ('11', '22', '33')]
"
10881,32116,"Weighted average of 2 tuples, each having 2 dictionaries (of dictionaries)","def combine(a, b, a_weight, b_weight):
    if isinstance(a, tuple):
        return tuple(combine(x,y,a_weight,b_weight) for x,y in zip(a,b))
    elif isinstance(a, dict):
        return dict((k, combine(a[k],b[k],a_weight,b_weight)) for k in a)
    #add other data structures here if you need to (e.g. list, set, etc.)
    else: #assume a number
        return ((a * a_weight) + (b * b_weight)) / (a_weight + b_weight)
"
6536,67006,is this python Timer usage safe?,"self.timer = Timer(seconds, lambda: None)
"
7954,75432,"How do I ""freeze"" an object, I.E. compute it once and then reference it later without computing it again?","def maketransformer(file): #contains arbitrary stuff that takes too long

    data = gdal.Open(file)
    output_wkt = data.GetProjection()
    srs_out = osr.SpatialReference()
    srs_out.ImportFromWkt(output_wkt)

    transformer = osr.CoordinateTransformation(srs_out)
    return transformer

transformer = maketransformer('data/w001001.adf')

for tuple in shapefilepoints:
    getelevation(transformer.Transform(tuple))
"
28550,27966,Reshaping pandas DataFrame from long to wide while adding many columns,"import itertools

users = df.user_id.unique()
df_indexed = df.set_index(['user_id', 'day'])
index = pd.MultiIndex.from_tuples(list(itertools.product(users, range(365))))
reindexed = df_indexed.reindex(index, fill_value=0)
"
37241,80392,How to change ttk.Treeview column width and weight in Python 3.3,"from tkinter import *
from tkinter.ttk import *

root = Tk()
tree = Treeview(root,selectmode=""extended"",columns=(""A"",""B""))
tree.pack(expand=YES, fill=BOTH)
tree.heading(""#0"", text=""C/C++ compiler"")
tree.column(""#0"",minwidth=0,width=100, stretch=NO)
tree.heading(""A"", text=""A"")   
tree.column(""A"",minwidth=0,width=200, stretch=NO) 
tree.heading(""B"", text=""B"")   
tree.column(""B"",minwidth=0,width=300)
root.mainloop()
"
31872,65331,Python request returns 404 while curl returns the pdf stream,"In [7]: import requests

In [8]: url = 'http://www.analysis.im/uploads/seminar/pdf-sample.pdf'

In [9]: requests.get(url)
Out[9]: <Response [404]>

In [10]: requests.get(url, headers={'User-Agent': 'firefox'})
Out[10]: <Response [200]>
"
35160,28206,Python: how can I check if the key of an dictionary exists?,"if key in array:
  # do something
"
1318,78810,Is there a quick/optimal way to get a list of unique values for particular key?,"unqiue_values = collection.distinct(""key"")
"
30411,43397,Django customize AdminModel view,"class MyFilteredAdmin(admin.ModelAdmin):
    def queryset(self, request):
        qs = super(MyFilteredAdmin, self).queryset(request)
        if is_related_to(self.model, Profile):
            qs = qs.exclude(user__email='guest@mysite.com')
        return qs
"
10069,80415,Finding a Prime Sieve Inconsistency in Python,"def sieve3(n):
    top = n+1
    sieved = dict.fromkeys(xrange(3,top,2), True)
    for si in xrange(3,top,2):
        if si * si > top:
            break
        if sieved[si]:
            for j in xrange(3*si, top, si*2):     
                sieved[j] = False
    return [2] + [pr for pr in xrange(3,top,2) if sieved[pr]]
"
13747,72144,How do I write an on_click event method that will set an arbitrary value to a textbox?,"def initUI(self):
        calculateBtn = QtGui.QPushButton(""Calculate"", self)
        calculateBtn.clicked.connect(self.calculate_btn_on_click)
        self.earningsTextbox = QtGui.QLineEdit(self)

        self.show()

 def calculate_btn_on_click(self):
        self.earningsTextbox.setText(""42"")
"
4265,32530,How to check if a timestamp is a whole hour,"if timestamp % 3600 == 0:
    # save the timestamp-value tuple
"
9814,50082,String replacement on a whole text file in Python 3.x?,"for line in fileinput.input(['thefile.txt'], inplace=True):
    print(line.replace('old stuff', 'shiny new stuff'))
"
32849,75039,Python multiple inheritence issues,"class E(C, D):
    def do_c_thing(self):
        # Call C's version
        C.some_method(self, ...)

    def do_d_thing(self):
        # Call D's version
        D.some_method(self, ...)
"
8324,35837,PyQt - XML to QTreeWidget,"from PyQt4 import QtCore, QtGui, QtXml

class XmlHandler(QtXml.QXmlDefaultHandler):
    def __init__(self, root):
        QtXml.QXmlDefaultHandler.__init__(self)
        self._root = root
        self._item = None
        self._text = ''
        self._error = ''

    def startElement(self, namespace, name, qname, attributes):
        if qname == 'folder' or qname == 'item':
            if self._item is not None:
                self._item = QtGui.QTreeWidgetItem(self._item)
            else:
                self._item = QtGui.QTreeWidgetItem(self._root)
            self._item.setData(0, QtCore.Qt.UserRole, qname)
            self._item.setText(0, 'Unknown Title')
            if qname == 'folder':
                self._item.setExpanded(True)
            elif qname == 'item':
                self._item.setText(1, attributes.value('type'))
        self._text = ''
        return True

    def endElement(self, namespace, name, qname):
        if qname == 'title':
            if self._item is not None:
                self._item.setText(0, self._text)
        elif qname == 'folder' or qname == 'item':
            self._item = self._item.parent()
        return True

    def characters(self, text):
        self._text += text
        return True

    def fatalError(self, exception):
        print('Parse Error: line %d, column %d:\n  %s' % (
              exception.lineNumber(),
              exception.columnNumber(),
              exception.message(),
              ))
        return False

    def errorString(self):
        return self._error

class Window(QtGui.QTreeWidget):
    def __init__(self):
        QtGui.QTreeWidget.__init__(self)
        self.header().setResizeMode(QtGui.QHeaderView.Stretch)
        self.setHeaderLabels(['Title', 'Type'])
        source = QtXml.QXmlInputSource()
        source.setData(xml)
        handler = XmlHandler(self)
        reader = QtXml.QXmlSimpleReader()
        reader.setContentHandler(handler)
        reader.setErrorHandler(handler)
        reader.parse(source)

xml = """"""\
<root>
    <folder>
        <title>Folder One</title>
        <item type=""1"">
            <title>Item One</title>
        </item>
        <item type=""1"">
            <title>Item Two</title>
        </item>
        <item type=""2"">
            <title>Item Three</title>
        </item>
        <folder>
            <title>Folder Two</title>
            <item type=""3"">
                <title>Item Four</title>
            </item>
            <item type=""0"">
                <title>Item Five</title>
            </item>
            <item type=""1"">
                <title>Item Six</title>
            </item>
        </folder>
    </folder>
    <folder>
        <title>Folder Three</title>
        <item type=""0"">
            <title>Item Six</title>
        </item>
        <item type=""2"">
            <title>Item Seven</title>
        </item>
        <item type=""2"">
            <title>Item Eight</title>
        </item>
    </folder>
</root>
""""""

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.resize(400, 300)
    window.show()
    sys.exit(app.exec_())
"
36527,59409,When I send a post request in python...how do I,"<input type=""radio"" name=""music"" value=""Rock"" checked=""checked""> Rock<br>
<input type=""radio"" name=""music"" value=""Pop""> Pop<br>
<input type=""radio"" name=""music"" value=""Metal""> Metal<br>
"
2482,14606,Why does takewhile() skip the first line?,"from itertools import groupby
def block_generator(filename):
    with open(filename) as lines:
        for pred,block in groupby(lines, ""\t\n"".__ne__):
            if pred:
                yield block
"
28482,51368,Further customization of Django admin (add new object),"class MyModelAdmin(admin.ModelAdmin):
    def save_model(self, request, obj, form, change):
        # custom stuff here
        obj.save()
"
20114,65126,Pandas timeseries plot setting x-axis major and minor ticks and labels,"import numpy as np
import pandas as pd
import matplotlib.pyplot as plt 
import matplotlib.dates as dates

idx = pd.date_range('2011-05-01', '2011-07-01')
s = pd.Series(np.random.randn(len(idx)), index=idx)

fig, ax = plt.subplots()
ax.plot_date(idx.to_pydatetime(), s, 'v-')
ax.xaxis.set_minor_locator(dates.WeekdayLocator(byweekday=(1),
                                                interval=1))
ax.xaxis.set_minor_formatter(dates.DateFormatter('%d\n%a'))
ax.xaxis.grid(True, which=""minor"")
ax.yaxis.grid()
ax.xaxis.set_major_locator(dates.MonthLocator())
ax.xaxis.set_major_formatter(dates.DateFormatter('\n\n\n%b\n%Y'))
plt.tight_layout()
plt.show()
"
34874,81301,What is the most pythonic way to avoid specifying the same value in a string,"""hello %(name)s , how are you %(name)s, welcome %(name)s"" % {""name"": ""john""}
'hello john, how are you john, welcome john'
"
5217,8669,Python: Regex question / CSV parsing / Psycopg nested arrays,"def parsePsycopgSQLArray(input):
    import csv
    import cStringIO

    input = input.strip(""{"")
    input = input.strip(""}"")

    buffer = cStringIO.StringIO(input)
    reader = csv.reader(buffer, delimiter=',', quotechar='""')   

    return reader.next() #There can only be one row 

if __name__ == ""__main__"":
    text = '{2f5e5fef-1e8c-43a2-9a11-3a39b2cbb45e,""Marc, Dirk en Koen"",398547,85.5,-9.2, 62fe6393-00f7-418d-b0b3-7116f6d5cf10}' 
    result = parsePsycopgSQLArray(text)
    print result
"
2058,79739,sqlalchemy Move mixin columns to end,"class NotesMixin(object):
    @declared_attr
    def notes(cls):
        return sa.Column(sa.String(4000) , nullable=False, default='')
"
23662,15775,xlrd library not working with xlsx files.any way to covert xlsx to xls using python?,"import win32com.client

xl = win32com.client.Dispatch(""Excel.Application"")
xl.DisplayAlerts = False
wb = xl.Workbooks.Open(r""C:\PATH\TO\SOURCE_FILENAME.XLSX"")
wb.SaveAs(r""C:\PATH\TO\DESTINATION_FILENAME.XLS"", FileFormat = 56)
wb.Close()
xl.Quit()
"
3258,36620,How to hide sub-directories in the url with web2py,"routes_in = (
  ('/user', '/login'),
)

routes_out = (
  ('/user', '/'),
)
"
17036,62610,Finding the full width half maximum of a peak,"import numpy as np
from scipy.interpolate import UnivariateSpline

def make_norm_dist(x, mean, sd):
    return 1.0/(sd*np.sqrt(2*np.pi))*np.exp(-(x - mean)**2/(2*sd**2))

x = np.linspace(10, 110, 1000)
green = make_norm_dist(x, 50, 10)
pink = make_norm_dist(x, 60, 10)

blue = green + pink   

# create a spline of x and blue-np.max(blue)/2 
spline = UnivariateSpline(x, blue-np.max(blue)/2, s=0)
r1, r2 = spline.roots() # find the roots

import pylab as pl
pl.plot(x, blue)
pl.axvspan(r1, r2, facecolor='g', alpha=0.5)
pl.show()
"
25233,52678,Create a matrix with every possible column,">>> np.matrix(list(itertools.product([0,1],repeat = 2)))
matrix([[0, 0],
        [0, 1],
        [1, 0],
        [1, 1]])
"
28251,62886,Python Time conversion h:m:s to seconds,"def hms_to_seconds(t):
    h, m, s = [int(i) for i in t.split(':')]
    return 3600*h + 60*m + s
"
960,46442,URL updating on login using django,"from django.contrib.auth.decorators import login_required

@login_required(redirect_field_name='redirect_to')
def my_view(request):
    ...
"
34655,55253,Python program to connect to console via telnetlib,"import telnetlib
# ...

a_tuple = [('172.28.247.240', 66)]
HOST = a_tuple[0] # do you mean to use 'a_tuple' instead of 'j'?
# ...

tn = telnetlib.Telnet(HOST[0], HOST[1]) # <-- pass the port, I don't think this accepts tuples of hostname/ip and port
# ...
"
19390,58330,Naming Lists Using User Input,">>> lists = {}
>>> lists['homework'] = [40, 60, 70]
>>> lists['tests'] = [35, 99, 20]
>>> lists
{'tests': [35, 99, 20], 'homework': [40, 60, 70]}
>>> 
"
2792,4427,Parsing datetime strings with microseconds,"from datetime import datetime

def str2datetime(s):
    parts = s.split('.')
    dt = datetime.strptime(parts[0], ""%Y-%m-%d %H:%M:%S"")
    return dt.replace(microsecond=int(parts[1]))
"
4143,33038,How to find the smallest number in each line of numbers? Without using min(),"for line in input_file:
    numbers = line.replace('\n',"""").split(',')

    min = int(numbers[0])
    for num in numbers:
        n = int(num)
        if n < min:
            min = n
    print min
"
3045,35316,What version of Visual Studio is Python on my computer compiled with?,"For this version of Visual C++  Use this compiler version
Visual C++ 4.x                  MSC_VER=1000
Visual C++ 5                    MSC_VER=1100
Visual C++ 6                    MSC_VER=1200
Visual C++ .NET                 MSC_VER=1300
Visual C++ .NET 2003            MSC_VER=1310
Visual C++ 2005  (8.0)          MSC_VER=1400
Visual C++ 2008  (9.0)          MSC_VER=1500
Visual C++ 2010 (10.0)          MSC_VER=1600
Visual C++ 2012 (11.0)          MSC_VER=1700
Visual C++ 2013 (12.0)          MSC_VER=1800
Visual C++ 2015 (14.0)          MSC_VER=1900
"
19005,58493,How to replace the data into a line of a file?,"import re

def searchReplace(file, search, replace):
    with open (file,'r') as f:
        f_content= f.read()
    # Re to search and replace
    f_content = (re.sub(search, replace, f_content))
    #write file with replaced content
    with open (file,'w') as f:
        f.write(f_content)


searchReplace(""file.txt"",""sys.test1.pwd = 1234"",""sys.test1.pwd = 4321"")
"
30152,23847,Is there a better way to write my python code,">>> a = raw_input('type a word')
type a word
hello

>>> a[::-1]
'olleh'
"
6296,72070,launch application from python3 then continue other code,"subprocess.Popen(['gedit'])
"
18451,70595,How to get instance variables in Python?,">>> hi_obj = hi()
>>> hi_obj.__dict__.keys()
"
20411,42002,Beautiful soup and extracting values,"print ' '.join(str(next_cell).split()[:3])
"
25909,30662,Python's os.getenv() doesn't seem to work on OSX Mavericks,"env_variables:
  FLASK_CONF: 'DEV'
"
26567,27655,Extend str class to take additional parameters,"class URIString(str):
    _default_namespace = ""default""

    def __init__(self, value, namespace=_default_namespace):
        self.namespace = namespace

    def __new__(cls, value, namespace=_default_namespace):
        return super().__new__(cls, value)      

    @property
    def local_name(self):
        return self[(self.find(self.namespace)+len(self.namespace)):]
"
31319,8516,Numpy.savetxt - how can I ensure that saving is complete?,"yourFile = ""C:\folder\folder\file.txt""

import os
if os.path.isfile(yourFile) and os.access(yourFile, os.R_OK):
    # if you got into this check, your file is good to go!
"
20103,55496,How do I sort a dictionary of results into a list of strings by date order of part of the strings (in python),">>> import re
>>> def get_year(citation):
...     citation = citation.strip()
...     year = re.search(r""\((\d{4}).*\)\.$"", citation).group(1)
...     return int(year)
>>> test_list = ['Bauer et al. (2000).', 'G. M. Kirwan in litt. (1999).', 'Pacheco (1999).', 'Scott (1997).', 'Venturini et al.(2002).', 'Venturini et al. (2005).', 'P. Develey in litt. (2007, 2008).']
>>> test_list
['Bauer et al. (2000).', 'G. M. Kirwan in litt. (1999).', 'Pacheco (1999).', 'Scott (1997).', 'Venturini et al. (2002).', 'Venturini et al. (2005).', 'P. Develey in litt. (2007, 2008).']
>>> test_list.sort(key = get_year)
>>> test_list
['Scott (1997).', 'G. M. Kirwan in litt. (1999).', 'Pacheco (1999).', 'Bauer et al. (2000).', 'Venturini et al. (2002).', 'Venturini et al. (2005).', 'P. Develey in litt. (2007, 2008).']
"
24115,16392,Python/Matplotlib: How to plot in a subplot with ticks but no tick labels?,"ax = plt.gca()
ax.yaxis.set_major_formatter(matplotlib.ticker.NullFormatter())
plt.draw()
"
25599,29446,Set cell value to NaN under certain conditions using lamda map in Pandas,"In [11]: df = pd.DataFrame([[23], [34], ['36/375'], ['NA'], [62]])

In [12]: df
Out[12]:
        0
0      23
1      34
2  36/375
3      NA
4      62

In [13]: df.convert_objects(convert_numeric=True)
Out[13]:
    0
0  23
1  34
2 NaN
3 NaN
4  62
"
27050,56130,Python performing multiple tasks,"from multiprocessing import Process, Queue
import time
q = Queue()

def some_func1(arg1, arg2, q):
    #this one will take longer, so we'll kill it after the other finishes
    time.sleep(20)
    q.put('some_func1 finished!')

def some_func2(arg1, arg2, q):
    q.put('some_func2 finished!')

proc1 = Process(target=some_func1,
                           args = ('arga', 'argb', q))
proc2 = Process(target=some_func2,
                           args = ('arg1', 'arg2', q))
proc1.start()
proc2.start()

#this will be the result from the first thread that finishes.
#At this point you can wait for the other threads or kill them, or whatever you want.
result = q.get()
print result
#if you want to kill all the procs now:
proc1.terminate()
proc2.terminate()
"
20056,77896,"In python, how do I preserve decimal places in numbers?","# '1.000000'
""%f"" % (1.0)

# '1.00'
""%.2f"" % (1.0)

# '  1.00'
""%6.2f"" % (1.0)
"
22557,35539,IronPython & Windows.Forms' Control type,"if CBControl.GetType() == System.Windows.Forms.CheckBox().GetType():
"
8314,81412,plot from a large data set into several figures,"import numpy as np
import matplotlib.pyplot as plt    
from itertools import compress


data = np.genfromtxt('beta_tracking.csv', delimiter=' ')

f=data[:,0]
x=data[:,1]
y=data[:,2]
z=data[:,3]

k=range(1,11)
for j in k:
    g=list(compress(x, (abs(i)==j for i in f)))
    h=list(compress(y, (abs(i)==j for i in f)))
    FigList = [ ] 
    FigList.append(plt.figure())
    ax = FigList[-1].add_subplot(1,1,1)
    ax.plot(g,h,',')
    for i in plt.get_fignums():
          plt.figure(i)
          plt.savefig('plots/figure%d.png' % i)
"
16797,24949,Python histograms: Manually normalising counts and re-plotting as histogram,"pyplot.bar(hist1_flux[1], hist1_flux[0],
           width=hist1_flux[1][1] - hist1_flux[1][0])
"
17300,80677,Getting Assembly code for Python programs,">>> import dis
>>> def foo():
...   a = b + 2
...   print bar
...   baz()
... 
>>> dis.dis(foo)
  2           0 LOAD_GLOBAL              0 (b)
              3 LOAD_CONST               1 (2)
              6 BINARY_ADD          
              7 STORE_FAST               0 (a)

  3          10 LOAD_GLOBAL              1 (bar)
             13 PRINT_ITEM          
             14 PRINT_NEWLINE       

  4          15 LOAD_GLOBAL              2 (baz)
             18 CALL_FUNCTION            0
             21 POP_TOP             
             22 LOAD_CONST               0 (None)
             25 RETURN_VALUE        
"
39275,53283,combine class instance into another instance in python?,"from copy import copy
import csv

class Part_Base(object):
    pass

class MultiPart_Base(list):
    pass

class part_meta(type):
    part_names = {}
    parts      = []
    def __init__(cls, cls_name, cls_bases, cls_dict):
        super(part_meta, cls).__init__(cls_name, cls_bases, cls_dict)
        if(not Part_Base in cls_bases):
            part_meta.part_names[cls_name] = cls

    def __call__(self, *args, **kwargs):
        name = kwargs.get(""name"", """")
        if(part_meta.part_names.has_key(name) and not (self is part_meta.part_names[name])):
            obj = part_meta.part_names[name].__call__(*args, **kwargs)
        else:
            obj = None
            if(not part_meta.part_names.has_key(self.__name__)):
                new_class = part_meta(name, (Generic_Part,), {})
                globals()[name] = new_class
                obj = new_class(*args, **kwargs)
            else:
                obj = super(part_meta, self).__call__(*args, **kwargs)
        if not obj in part_meta.parts:
            part_meta.parts.append(obj)
        return obj

    @classmethod
    def save(cls):
        all_fields = list(reduce(lambda x, y: x | set(y.fields), cls.parts, set([])))
        with open(""parts.csv"", ""w"") as file_h:
            writer = csv.DictWriter\
            (
                file_h,
                all_fields,
                restval        = """",
                extrasaction   = ""ignore"",
                dialect        = ""excel"",
                lineterminator = ""\n"",

            )
            writer.writeheader()
            for part in cls.parts:
                writer.writerow({field : getattr(part, field) for field in part.fields})

    @classmethod
    def load(cls):
        with open(""parts.csv"", ""r"") as file_h:
            reader = csv.DictReader(file_h)
            for row in reader:
                Part(**row)

class Part(Part_Base):
    __metaclass__ = part_meta
    fields        = []
    def __init__(self, **kwargs):
        for name, value in kwargs.items():
            setattr(self, name, value)
        self.fields += kwargs.keys()

    def __repr__(self):
        return ""<%s>"" % self.description

    @property
    def description(self):           
        return ""%s: %s %s %s %s"" % (self.name, self.intype, self.outtype, self.shape, self.serialno)

    def linkwith(self, *parts):
        return Generic_MultiPart(self, *parts)

class Generic_Part(Part):
    def __init__(self, **kwargs):
        kwargs[""name""] = self.__class__.__name__
        super(Generic_Part, self).__init__(**kwargs)

class Generic_MultiPart(MultiPart_Base):
    def __init__(self, *parts):
        super(Generic_MultiPart, self).__init__()
        if len(parts) >= 2:
            self.shape = parts[0].shape
            self.linkwith(*parts)
        else:
            raise ValueError(""Not enough parts"")

    def __repr__(self):
        return ""<MultiPart: %s>"" % super(Generic_MultiPart, self).__repr__()

    def linkwith(self, *parts):
        for part in parts:
            if part.shape == self.shape:
                if isinstance(part, Part):
                    self.append(part)
                elif isinstance(part, MultiPart_Base):
                    self.extend(part)
            else:
                raise ValueError(""Incompatible parts"")
        return self

class cooler(Generic_Part):
    intype  = ""hotwater""
    outtype = ""coldwater""
    fields  = [""intype"", ""outtype""]

class heater(Generic_Part):
    intype  = ""coldwater""
    outtype = ""hotwater""
    fields  = [""intype"", ""outtype""]

def make_some_parts():
    some_parts = \
    [
        # This is actually a cooler object
        # The metaclass uses the cooler class from above
        # to create the object
        Part
        (
            name     = ""cooler"",
            shape    = ""1/4 inch round"",
            serialno = ""SN:11111""
        ),
        # Using the heater class directly
        heater
        (
            shape    = ""1/4 inch round"",
            serialno = ""SN:22222""
        ),
        Part
        (
            name     = ""purifier"",
            intype   = ""coldwater"",
            outtype  = ""hotwater"",
            shape    = ""1/6 inch round"",
            serialno = ""SN:33333""
        ),
        Part
        (
            name     = ""carbon_filter"",
            intype   = ""coldwater"",
            outtype  = ""coldwater"",
            shape    = ""1/4 inch round"",
            serialno = ""SN:33333""
        )
    ]

    useless_part = some_parts[0].linkwith(some_parts[1])
    print useless_part
    filter_part  = copy(useless_part).linkwith(some_parts[3])
    print filter_part

    part_meta.save()

def load_some_parts():
    part_meta.load()
    print part_meta.parts
"
6916,35030,certain lines to print,"import urllib2

completed_courses_url = 'http://ranger.uta.edu/~kamangar/CSE-1310-FA13/LinkedDocuments/sample_completed_courses.txt'
required_courses_url = 'http://ranger.uta.edu/~kamangar/CSE-1310-FA13/LinkedDocuments/required_courses.csv'

completed_courses_set = set([x.strip() for x in urllib2.urlopen(completed_courses_url)])
for required_course in urllib2.urlopen(required_courses_url):
    if required_course[0] != '#':
        (course,category,prerequisites,notes) = required_course.split(',')
        if set(prerequisites.split('|')).intersection(completed_courses_set):
             print required_course
"
19228,25922,Financial Charts / Graphs in Ruby or Python,"#!/usr/bin/env python
import numpy as np
import matplotlib.pyplot as plt
from matplotlib import lines

import random


deltas = [4, 6, 13, 18, 15, 14, 10, 13, 9, 6, 15, 9, 6, 1, 1, 2, 4, 4, 4, 4, 10, 11, 16, 17, 12, 10, 12, 15, 17, 16, 11, 10, 9, 9, 7, 10, 7, 16, 8, 12, 10, 14, 10, 15, 15, 16, 12, 8, 15, 16]
bases = [46, 49, 45, 45, 44, 49, 51, 52, 56, 58, 53, 57, 62, 63, 68, 66, 65, 66, 63, 63, 62, 61, 61, 57, 61, 64, 63, 58, 56, 56, 56, 60, 59, 54, 57, 54, 54, 50, 53, 51, 48, 43, 42, 38, 37, 39, 44, 49, 47, 43]


def rand_pt(bases, deltas):
    return [random.randint(base, base + delta) for base, delta in zip(bases, deltas)]

# randomly assign opening and closing prices 
openings = rand_pt(bases, deltas)
closings = rand_pt(bases, deltas)

# First we draw the bars which show the high and low prices
# bottom holds the low price while deltas holds the difference 
# between high and low.
width = 0
ax = plt.axes()
rects1 = ax.bar(np.arange(50), deltas, width, color='r', bottom=bases)

# Now draw the ticks indicating the opening and closing price
for opening, closing, bar in zip(openings, closings, rects1):
    x, w = bar.get_x(), 0.2

    args = {
    }

    ax.plot((x - w, x), (opening, opening), **args)
    ax.plot((x, x + w), (closing, closing), **args)


plt.show()
"
8770,46871,django / python - regular expression,"@register.filter(name='format_date_display')
    def format_date_display(value, arg):
    .......

    #  yyyy-mm (dash separator and year first).
    elif arg in ('eu', 'en-CA', 'fr-CA', 'lt', 'sv', 'zh-CN', 'zh-TW'):
        # the line below will change the date format from mm/yyyy to yyyy-mmm.
        value = value[3:] + value[2:3] + value[0:2]
        return value.replace(""/"", '-')

    ......
"
26873,84332,Memory leak in Python-script using VTK,"diff --git a/IO/vtkEnSightReader.cxx b/IO/vtkEnSightReader.cxx
index 68a9b8f..7ab8ddd 100644
--- a/IO/vtkEnSightReader.cxx
+++ b/IO/vtkEnSightReader.cxx
@@ -985,6 +985,8 @@ int vtkEnSightReader::ReadCaseFileTime(char* line)
   int timeSet, numTimeSteps, i, filenameNum, increment, lineRead;
   float timeStep;

+  this->TimeSetFileNameNumbers->RemoveAllItems();
+
   // found TIME section
   int firstTimeStep = 1;
"
13127,3349,Add matrices in a boolean way,"def non_Destructive_pixel_addition(original, segmentated):

    to_be_added = np.matrix(np.where(segmentated)).transpose()

    n, m = np.shape(to_be_added)

    for k in range(n):
        i = to_be_added[k, 0]
        j = to_be_added[k, 1]
        if (original[i,j] == 0):
            original[i,j] = segmentated[i,j]
"
9853,932,Use '\g<index> or r'\index' as dict key when use re.sub?,"re.sub(r'@(\w+)', lambda m: d[m.group(1)], s)
"
34671,83039,Converting a dictionary value in to a list?,">>> state_license = {u'License ': u'29393, 25633',
...                  u'Expiration': u'08-01-2012, 04-02-2012',
...                  u'Trade': u'Registered Contractor, Plumber'}
>>> {key: value.split("", "") for key, value in state_license.items()}
{u'License ': [u'29393', u'25633'], 
 u'Expiration': [u'08-01-2012', u'04-02-2012'], 
 u'Trade': [u'Registered Contractor', u'Plumber']}
"
6649,9055,pairwise comparison within a column pandas python Biopython,"for seq0, seq1 in itertools.combinations(data['sequence'], 2):
    for a in pairwise2.align.globalxx(seq0, seq1):
        print(format_alignment(*a))
"
1450,41436,Python - Is this the correct way to initalize a matrix of empty sets?,"table = [[{} for _ in range(len(words)+1)] for _ in range(len(words))]
"
8635,9586,Implement _del_ method for a class with __getattribute__ overriden,"def __delattr__(self, key):
    del self._meta[key]
"
12033,12290,How to instantiate class in python dynamically?,"class Server(object):
    pass

for k, v in services:
    setattr(Server, k, v)
"
21243,41915,Beta Binomial Function in Python,"f(k|n,a,b) = comb(n,k) * B(k+a, n-k+b) / B(a,b)
"
10264,10572,Using fft2 with reshaping for an RGB filter,"for i, channel in enumerate(self.image):
    channel_ = spf.fftshift(spf.fft2(channel)) # take FFT of each channel (r,g,b) separately
    channel_ = scipy.multiply(channel_,ff) # multiply each channel by the filter (freq. domain)
    filtered_image[:][:][i] = spf.fftshift(spf.ifft2(channel_)) # inverse FFT each channel separately
"
32439,51285,"Python, Copy, Rename and run Commands","import os.path
import glob
import shutil

source = ""My Source Path"" # Replace these variables with the appropriate data
dest = ""My Dest Path""
command = ""My command""

# Find the files that need to be copied
files = glob.glob(os.path.join(source, ""swale-*""))

# Copy the files to the destination
for file in files:
     shutil.copy(os.path.join(source, ""swale-*""), dest)

# Create a sorted list of files - using the file sizes
# biggest first, and then use the 1st item 
biggest = sorted([file for file in files], 
        cmp=lambda x,y : cmp(x,y), 
        key=lambda x: os.path.size( os.path.join( dest, x)),  reverse = True)[0]

# Rename that biggest file to swale.dat
shutil.move( os.path.join(dest,biggest), os.path.join(dest,""swale.date"") )

# Run the command 
os.system( command ) 
# Only use os.system if you know your command is completely secure and you don't need the output. Use the popen module if you need more security and need the output.
"
34810,57155,Python/Django Modeling Question,"class TABLE(models.Model):
    id = models.AutoField(primary_key=True)
    parent = models.ForeignKey('self')
"
38959,41048,Define a route for url ending with integer in python,"from flask import Flask
from werkzeug.routing import BaseConverter

app = Flask(__name__)

class RegexConverter(BaseConverter):
        def __init__(self, url_map, *items):
                super(RegexConverter, self).__init__(url_map)
                self.regex = items[0]

app.url_map.converters['regex'] = RegexConverter

# To get all URLs ending with ""/number""
@app.route(""/<regex('.*\/([0-9]+)'):param>/"")
def go_to_one(param):
    return param.split(""/"")[-1]

# To get all URLs ending with a number
@app.route(""/<regex('.*([0-9]+)'):param>/"")
def go_to_one(param):
    return param.split(""/"")[-1]

# To get all URLs without a number
@app.route(""/<regex('[^0-9]+'):param>/"")
def go_to_two(param):
    return param

@app.route('/')
def hello_world():
    return 'Hello World!'

if __name__ == '__main__':
    app.run()
"
13582,17937,python 3.5 matplotlib reading date from csv but can't represent as date on X axis,"import matplotlib.pyplot as plt
import numpy as np
import matplotlib.font_manager as fm
from datetime import datetime
import matplotlib.dates as mdates

fig,ax = plt.subplots(1, 1) #width height inches
data=np.genfromtxt('data',
     dtype='M8[us],S5,float,float,float',delimiter=',',usecols= [0,1,11,12,13])

my_dates =  np.array([d[0] for d in data]).astype('datetime64[D]')
dates = np.unique(my_dates)
print(dates)
x_list = []
x_list[:] = dates.astype(datetime)
y_list  = [10,11,12,13]
plt.plot(x_list,y_list)
plt.title('hv 20 to 10 ranks',fontsize=20)
plt.xlabel('dates',fontsize=16)
ax.xaxis.set_major_formatter(mdates.DateFormatter('%Y-%m-%d'))
plt.ylabel('symbol ranks',fontsize=30)
plt.show()
"
22129,41664,Run my python3 program on remote Ubuntu server every 30 min,"import time

# Repeat forever
while True:
    post_to_twitter() # Call your function
    # Sleep for 60 seconds / minute * 30 minutes
    time.sleep(60 * 30)
"
26822,69838,Django Follow One-To-Many Relationships,"Question.objects.filter(module__course__subject__name = 'Mathematics',
                        num_attempts__gt = 20,
                        avg_score__gt = 0).order_by('avg_score')
"
37587,67215,Validations in javascript," @csrf_exempt
    def applicationform(request):
         if request.method == 'POST':

            getappid = request.POST['appid']
            getjobtitle=request.POST['jobtitle']
            odeskid=request.POST['odeskid']
            clientspent=request.POST['client_spent']
            jobtype=request.POST['jobtype']
            notestype=request.POST['notes']
                request.session['setid'] = request.POST['appid']
                    if getappid == '':
                return HttpResponse('<script> alert(""fill app id""); document.location.href=""redirect url"" </script>') #change here
                    else:
                getintable = application(app_id = request.POST['appid'], job_title = request.POST['jobtitle'], odesk_id = request.POST['odeskid'],client_spent = request.POST['client_spent'], job_type = request.POST['jobtype'],notes_type = request.POST['notes'])
            getintable.save()
            return HttpResponseRedirect('/applicationview/')        
         else:
            return render_to_response('applicationform.html')
"
22139,40520,Pandas Dataframe from Dict key and list of values to have same key for multiple rows,">>> pandas.DataFrame({""A"": 'City', ""B"": d['City']})
      A      B
0  City  Item1
1  City  Item2
2  City  Item3
3  City  Item4
4  City  Item5
"
5181,24991,Design help: Configurable behavior based on input,"import csv
def phoneNumber(number):
    ...
def userName(name):
    ...
def targetDate(datestring):
    ...
control = [phoneNumber, userName, userName, targetDate]
with open(""csvFile"", ""r"") as inFile:
    reader = csv.reader(inFile)
    for row in reader:
        for op, item in zip(control, row):
            op(item)
"
35426,22154,Can't seem to get pexpect to print data from command,"try:
    s = pxssh.pxssh(timeout=60, maxread=2000000)
    s.force_password = True
    hostname = raw_imput('hostname: ')
    username = raw_input('password: ')
    password = getpass.getpass('password: ')
    s.PROMPT= 'SSH> '
    s.login (hostname, username, password, auto_prompt_reset=False)
    s.prompt()
    s.sendline('foo bar')
    s.prompt()
    data = s.before
    print data
    s.logout()
except pxssh.ExceptionPxssh, e:
    print ""pxssh failed on login.""
    print str(e)
"
12719,73079,Python sqlite3 version,"Python 2.5.1
>>> import sqlite3
>>> sqlite3.version
'2.3.2'
>>> sqlite3.sqlite_version
'3.3.4'
"
15454,3907,Python: Efficient way to iterate over a list and a dictionary simultaneously containing similar values,">>> l = [500,800,1500]
>>> d = {800:3, 1500:1, 500:4}
>>> [d[x] for x in l]
[4, 3, 1]
"
4283,57506,Ignoring library.zip in py2exe,"setup(  
    ...

    zipfile=""foo/bar.zip"", 
    options={""py2exe"": {""skip_archive"": True}})
"
3716,19608,Creating Signed URLs for Amazon CloudFront,"from M2Crypto import EVP
import base64
import time

def aws_url_base64_encode(msg):
    msg_base64 = base64.b64encode(msg)
    msg_base64 = msg_base64.replace('+', '-')
    msg_base64 = msg_base64.replace('=', '_')
    msg_base64 = msg_base64.replace('/', '~')
    return msg_base64

def sign_string(message, priv_key_string):
    key = EVP.load_key_string(priv_key_string)
    key.reset_context(md='sha1')
    key.sign_init()
    key.sign_update(message)
    signature = key.sign_final()
    return signature

def create_url(url, encoded_signature, key_pair_id, expires):
    signed_url = ""%(url)s?Expires=%(expires)s&Signature=%(encoded_signature)s&Key-Pair-Id=%(key_pair_id)s"" % {
            'url':url,
            'expires':expires,
            'encoded_signature':encoded_signature,
            'key_pair_id':key_pair_id,
            }
    return signed_url

def get_canned_policy_url(url, priv_key_string, key_pair_id, expires):
    #we manually construct this policy string to ensure formatting matches signature
    canned_policy = '{""Statement"":[{""Resource"":""%(url)s"",""Condition"":{""DateLessThan"":{""AWS:EpochTime"":%(expires)s}}}]}' % {'url':url, 'expires':expires}

    #sign the non-encoded policy
    signature = sign_string(canned_policy, priv_key_string)
    #now base64 encode the signature (URL safe as well)
    encoded_signature = aws_url_base64_encode(signature)

    #combine these into a full url
    signed_url = create_url(url, encoded_signature, key_pair_id, expires);

    return signed_url

def encode_query_param(resource):
    enc = resource
    enc = enc.replace('?', '%3F')
    enc = enc.replace('=', '%3D')
    enc = enc.replace('&', '%26')
    return enc


#Set parameters for URL
key_pair_id = ""APKAIAZVIO4BQ"" #from the AWS accounts CloudFront tab
priv_key_file = ""cloudfront-pk.pem"" #your private keypair file
# Use the FULL URL for non-streaming:
resource = ""http://34254534.cloudfront.net/video.mp4""
#resource = 'video.mp4' #your resource (just object name for streaming videos)
expires = int(time.time()) + 300 #5 min

#Create the signed URL
priv_key_string = open(priv_key_file).read()
signed_url = get_canned_policy_url(resource, priv_key_string, key_pair_id, expires)

print(signed_url)

#Flash player doesn't like query params so encode them if you're using a streaming distribution
#enc_url = encode_query_param(signed_url)
#print(enc_url)
"
18192,79340,sheets of Excel Workbook from a URL into a `pandas.DataFrame`,">>> import pandas as pd
>>> import urllib2
>>> link = 'http://www.econ.yale.edu/~shiller/data/chapt26.xls'
>>> socket = urllib2.urlopen(link)
>>> xd = pd.ExcelFile(socket)
NOTE *** Ignoring non-worksheet data named u'PDVPlot' (type 0x02 = Chart)
NOTE *** Ignoring non-worksheet data named u'ConsumptionPlot' (type 0x02 = Chart)
>>> xd.sheet_names
[u'Data', u'Consumption', u'Calculations']
>>> df = xd.parse(xd.sheet_names[-1], header=None)
>>> df
                                   0   1   2   3         4
0        Average Real Interest Rate: NaN NaN NaN  1.028826
1    Geometric Average Stock Return: NaN NaN NaN  0.065533
2              exp(geo. Avg. return) NaN NaN NaN  0.067728
3  Geometric Average Dividend Growth NaN NaN NaN  0.012025
"
553,61433,How to create a 5-minute interval datetime index using incomplete dataset (Python),"In [17]: df
Out[17]: 
         Date  Time
0  2014-05-01    60
1  2014-05-02   505

In [18]: pd.to_datetime(df['Date']) + pd.to_timedelta(df['Time'], unit='m')
Out[18]: 
0   2014-05-01 01:00:00
1   2014-05-02 08:25:00
dtype: datetime64[ns]
"
25021,60222,How to update Tkinter Label widget?,"from tkinter import *

root = Tk()

num1 = IntVar()
num2 = IntVar()
total = IntVar()
def update_total(*severalignoredargs):
    total.set(num1.get() + num2.get())

num1.trace('w',update_total)
num2.trace('w',update_total)


entry1 = Entry(root,textvariable=num1)
entry1.pack()

entry2 = Entry(root,textvariable=num2)
entry2.pack()

total_label = Label(root,textvariable=total)
total_label.pack()

root.mainloop()
"
689,29905,separate string into contents in parentheses vs brackets vs flat text,"def paren_matcher(string, opens, closes):
    """"""Yield (in order) the parts of a string that are contained
    in matching parentheses.  That is, upon encounting an ""open
    parenthesis"" character (one in <opens>), we require a
    corresponding ""close parenthesis"" character (the corresponding
    one from <closes>) to close it.

    If there are embedded <open>s they increment the count and
    also require corresponding <close>s.  If an <open> is closed
    by the wrong <close>, we raise a ValueError.
    """"""
    stack = []
    if len(opens) != len(closes):
        raise TypeError(""opens and closes must have the same length"")
    # could make sure that no closes[i] is present in opens, but
    # won't bother here...

    result = []
    for char in string:
        # If it's an open parenthesis, push corresponding closer onto stack.
        pos = opens.find(char)
        if pos >= 0:
            if result and not stack: # yield accumulated pre-paren stuff
               yield ''.join(result)
               result = []
            result.append(char)
            stack.append(closes[pos])
            continue
        result.append(char)
        # If it's a close parenthesis, match it up.
        pos = closes.find(char)
        if pos >= 0:
            if not stack or stack[-1] != char:
                raise ValueError(""unbalanced parentheses: %s"" %
                    ''.join(result))
            stack.pop()
            if not stack: # final paren closed
                yield ''.join(result)
                result = []
    if stack:
        raise ValueError(""unclosed parentheses: %s"" % ''.join(result))
    if result:
        yield ''.join(result)

print list(paren_matcher('(([a] b) c ) [d] (e) f', '([', ')]'))
print list(paren_matcher('foo (bar (baz))', '(', ')'))
"
2547,72407,Delete columns of matrix of CSR format in Python,"all_cols = np.arange(old_m.shape[1])
cols_to_keep = np.where(np.logical_not(np.in1d(all_cols, cols_to_delete)))[0]
m = old_m[:, cols_to_keep]
"
28869,46084,python-dev installation without package management?,"pip install python-dev
"
18175,80860,Access Nested Levels of a dict Without Nested Looping,"myDict = {
    'p1': {1: [1, 2, 3], 2: [4, 5, 6]},
    'p2': {3: [7, 8, 9], 4: [0, 1, 2]}
}

from collections import Mapping

def go_go_gadget_go(mapping):
    for k, v in mapping.items():
        if isinstance(v, Mapping):
            for ok in go_go_gadget_go(v):
                yield [k] + ok
        else:
            yield [k] + [v]

for protocol, n, counts in go_go_gadget_go(myDict):
    print(protocol, n, counts)

# p2 3 [7, 8, 9]
# p2 4 [0, 1, 2]
# p1 1 [1, 2, 3]
# p1 2 [4, 5, 6]
"
1303,41501,Python tkinter: how to restrict mouse cursor within canvas?,"imgsize = (int(self.viewport.cget('width')) - 1,int(self.viewport.cget('height')) - 1)
# limit the draggable mouse area to just the image dimensions
if event.x < 4:
    currentx = 4
elif event.x > imgsize[0]:
    currentx = imgsize[0]
else:
    currentx = event.x
if event.y < 4:
    currenty = 4
elif event.y > imgsize[1]:
    currenty = imgsize[1]
else:
    currenty = event.y
"
12542,44318,How do I removes \n founds between double quotes from a string?,"in_string  = False
input_str  = 'foo,bar,\n""hihi"",""hi\nhi""'
output_str = ''

for ch in input_str:
    if ch == '""': in_string = not in_string
    if ch == '\n' and in_string: continue
    output_str += ch

print output_str
"
3202,39348,Converting graph traversal to multiprocessing in Python," thread_queues = []
 for i in range(4):
     thread_queues = Queue()

 for user in user_list:
    user_hash=hash(user.user_id) #hash in here is just shortcut to some standard hash utility 
    thread_id = user_hash % 4
    thread_queues[thread_id].put(user)

 # From here ... your pool of threads access thread_queues but each thread ONLY accesses 
 # one queue based on a numeric id given to each of them.
"
9142,25314,Sum SymPy expression over NumPy array,"sum([f.subs(dict(k=k)) for k in u])
"
36900,76831,"How to get this type of time format ""Aug. 13, 2014, 4:04 p.m."" using strftime?","from django.utils.dateformat import DateFormat
DateFormat(datetime.datetime.now()).format('N j, Y, P')
"
33222,46707,How to compress Twitter streaming using LZO in Linux/Python/Tweepy environment?,"from subprocess import Popen, PIPE, STDOUT

p = Popen(['lzop', '-c'], stdout=PIPE, stdin=PIPE, stderr=STDOUT)    
result_stdout = p.communicate(input=json.dump(results))[0]
"
9689,8141,Python String Cleanup + Manipulation (Accented Characters),"def latin1_to_ascii (unicrap):
    """"""This replaces UNICODE Latin-1 characters with
    something equivalent in 7-bit ASCII. All characters in the standard
    7-bit ASCII range are preserved. In the 8th bit range all the Latin-1
    accented letters are stripped of their accents. Most symbol characters
    are converted to something meaningful. Anything not converted is deleted.
    """"""
    xlate = {
        0xc0:'A', 0xc1:'A', 0xc2:'A', 0xc3:'A', 0xc4:'A', 0xc5:'A',
        0xc6:'Ae', 0xc7:'C',
        0xc8:'E', 0xc9:'E', 0xca:'E', 0xcb:'E',
        0xcc:'I', 0xcd:'I', 0xce:'I', 0xcf:'I',
        0xd0:'Th', 0xd1:'N',
        0xd2:'O', 0xd3:'O', 0xd4:'O', 0xd5:'O', 0xd6:'O', 0xd8:'O',
        0xd9:'U', 0xda:'U', 0xdb:'U', 0xdc:'U',
        0xdd:'Y', 0xde:'th', 0xdf:'ss',
        0xe0:'a', 0xe1:'a', 0xe2:'a', 0xe3:'a', 0xe4:'a', 0xe5:'a',
        0xe6:'ae', 0xe7:'c',
        0xe8:'e', 0xe9:'e', 0xea:'e', 0xeb:'e',
        0xec:'i', 0xed:'i', 0xee:'i', 0xef:'i',
        0xf0:'th', 0xf1:'n',
        0xf2:'o', 0xf3:'o', 0xf4:'o', 0xf5:'o', 0xf6:'o', 0xf8:'o',
        0xf9:'u', 0xfa:'u', 0xfb:'u', 0xfc:'u',
        0xfd:'y', 0xfe:'th', 0xff:'y',
        0xa1:'!', 0xa2:'{cent}', 0xa3:'{pound}', 0xa4:'{currency}',
        0xa5:'{yen}', 0xa6:'|', 0xa7:'{section}', 0xa8:'{umlaut}',
        0xa9:'{C}', 0xaa:'{^a}', 0xab:'<<', 0xac:'{not}',
        0xad:'-', 0xae:'{R}', 0xaf:'_', 0xb0:'{degrees}',
        0xb1:'{+/-}', 0xb2:'{^2}', 0xb3:'{^3}', 0xb4:""'"",
        0xb5:'{micro}', 0xb6:'{paragraph}', 0xb7:'*', 0xb8:'{cedilla}',
        0xb9:'{^1}', 0xba:'{^o}', 0xbb:'>>',
        0xbc:'{1/4}', 0xbd:'{1/2}', 0xbe:'{3/4}', 0xbf:'?',
        0xd7:'*', 0xf7:'/'
    }

    r = ''
    for i in unicrap:
        if xlate.has_key(ord(i)):
            r += xlate[ord(i)]
        elif ord(i) >= 0x80:
            pass
        else:
            r += i
    return r

# This gives an example of how to use latin1_to_ascii().
# This creates a string will all the characters in the latin-1 character set
# then it converts the string to plain 7-bit ASCII.
if __name__ == '__main__':
s = unicode('','latin-1')
for c in range(32,256):
    if c != 0x7f:
        s = s + unicode(chr(c),'latin-1')
print 'INPUT:'
print s.encode('latin-1')
print
print 'OUTPUT:'
print latin1_to_ascii(s)
"
987,39313,How to apply SVG Filter to Group using svgwrite with Python?,"#!/usr/bin/python3
# License: MIT
import svgwrite

progname = 'example_filter_on_group'

def create_svg(name):

    svg_size_w = 900
    svg_size_h = 1500
    title_size = 20
    y = 0
    title = name + ': example of filter on a group'
    dwg = svgwrite.Drawing(name, (svg_size_w, svg_size_h), debug=True)
    # background will be white.
    dwg.add(dwg.rect(insert=(0, 0), size=('100%', '100%'), fill='white'))

    # create simple filter to blur rectangle
    blur6_filter = dwg.defs.add(dwg.filter())
    blur6_filter.feGaussianBlur(in_='SourceGraphic', stdDeviation=6)

    # group with filter
    g_f = dwg.add(dwg.g(filter=blur6_filter.get_funciri()))
    g_f.add( dwg.rect(insert=(50, 50), size=(50, 50), fill='aqua'))

    dwg.save()

if __name__ == '__main__':
    create_svg(progname + '.svg')
"
28599,42399,How to move the Tastypie meta information out to the http headers,"def create_response(self, request, data, response_class=HttpResponse, **response_kwargs):
    stripped_data = data.get('objects') or data
    desired_format = self.determine_format(request)
    serialized = self.serialize(request, stripped_data, desired_format)
    response = response_class(content=serialized,
                              content_type=build_content_type(desired_format),
                              **response_kwargs)
    # Convert meta data to HTTP Headers 
    for name, value in data.get('meta', {}).items():
        response[name] = str(value)
    return response
"
9470,78343,"Python PIL, preserve quality when resizing and saving","image_fullsize.save(filepath+name_fullsize, quality=95)
"
10419,9334,Step function analysis with python,"from __future__ import division
from ipywidgets import *
import numpy as np
import matplotlib.pyplot as p
%matplotlib inline

def rotatedata(x,y,a):
    cosa=np.cos(a)
    sina=np.sin(a)
    x = x*cosa-y*sina
    y = x*sina+y*cosa
    return x,y

data=np.loadtxt('plot3.txt')
data=data.T
x,y=data[0],data[1]

def workit(a2):
    fig=p.figure(num=None, figsize=(18, 16), dpi= 80, facecolor='w', edgecolor='k')
    p.subplot(511) # , aspect='equal')
    p.plot(x,y)

    #what is the slope? 
    m,b = np.polyfit(x, y, 1)

    x1,y1=rotatedata(x,y, -np.arctan(m) )  # rotate data to have flat surface, 
                                           # interesting for surface roughness
    p.subplot(512 )
    p.plot(x1,y1)

    x2,y2=rotatedata(x,y, a2)    # rotate data to 'sharpen' histogram
    p.subplot(513 )
    p.plot(x2,y2)

    p.subplot(514)
    p.hist(y2,bins=130)        

    y3=np.diff(y2)
    p.subplot(515 )
    p.plot(y3)

    return HTML()

interact(workit,a2=[-0.002,0.002,0.00001])  
"
30459,78999,Django model as part of Ajax response,"def get_account_data(account):
    fields = serializers.serialize('python', [account, ])[0]['fields']
    return {field: str(fields[field]) for field in fields}
"
28118,3543,How to get python to recognise what window I am using?,"import win32gui
win = win32gui
while True:
    print(win.GetWindowText(win.GetActiveWindow()))
"
30529,35423,Python surface real position coordinates of pygame.mouse.get_pos and Rect.collidepoint,"import pygame

pygame.init()
screen = pygame.display.set_mode((400, 400))
rect = pygame.Rect(180, 180, 20, 20)
clock = pygame.time.Clock()
d=1
while True:
    for e in pygame.event.get(): 
        if e.type == pygame.QUIT:
            raise

    screen.fill((0, 0, 0))
    pygame.draw.rect(screen, (255, 255, 255), rect)
    rect.move_ip(d, 0)
    if not screen.get_rect().contains(rect):
        d *= -1

    pos = pygame.mouse.get_pos()

    # print the 'absolute' mouse position (relative to the screen)
    print 'absoulte:', pos

    # print the mouse position relative to rect 
    print 'to rect:', pos[0] - rect.x, pos[1] - rect.y 

    clock.tick(100)
    pygame.display.flip()
"
21791,27380,How to make cx_Freeze python exe windowless,"if sys.platform == ""win32"":
    base = ""Win32GUI""
"
33414,20008,How to check if an object in a list has a certain property,"if any(obj.type == 'type 1' for obj in object_list):
    object_list = [obj for obj in object_list if obj.name != 'some_name']
"
10638,6273,python script for downloading all Ctrl+Alt+Del webcomics?,"$ for filename in $(seq 20020101 20090726); do wget http://www.ctrlaltdel-online.com/comics/""$filename"".jpg; done
"
38020,62304,Developing with Python Namespaced Packages,"from os import path
import sys

PACKAGE_NAMESPACE = [""project_name"", ""ext""]
VIRTUAL_PACKAGE = '.'.join(PACKAGE_NAMESPACE)
__import__(VIRTUAL_PACKAGE)
local_package = path.abspath(path.join(*PACKAGE_NAMESPACE))
sys.modules[VIRTUAL_PACKAGE].__dict__[""__path__""].insert(0, local_package)
"
5214,30537,Default RequestContext in Django,"return render(request, 'cart.html', {'key': value})
"
21458,13644,Matplotlib - Finance volume overlay,"import numpy as np
import matplotlib
import matplotlib.pyplot as plt
from matplotlib.finance import candlestick
from matplotlib.finance import volume_overlay3
from matplotlib.dates import num2date
from matplotlib.dates import date2num
import matplotlib.mlab as mlab
import datetime

datafile = 'data.csv'
r = mlab.csv2rec(datafile, delimiter=';')

# the dates in my example file-set are very sparse (and annoying) change the dates to be sequential
for i in range(len(r)-1):
    r['date'][i+1] = r['date'][i] + datetime.timedelta(days=1)

candlesticks = zip(date2num(r['date']),r['open'],r['close'],r['max'],r['min'],r['volume'])

fig = plt.figure()
ax = fig.add_subplot(1,1,1)

ax.set_ylabel('Quote ($)', size=20)
candlestick(ax, candlesticks,width=1,colorup='g', colordown='r')

# shift y-limits of the candlestick plot so that there is space at the bottom for the volume bar chart
pad = 0.25
yl = ax.get_ylim()
ax.set_ylim(yl[0]-(yl[1]-yl[0])*pad,yl[1])

# create the second axis for the volume bar-plot
ax2 = ax.twinx()


# set the position of ax2 so that it is short (y2=0.32) but otherwise the same size as ax
ax2.set_position(matplotlib.transforms.Bbox([[0.125,0.1],[0.9,0.32]]))

# get data from candlesticks for a bar plot
dates = [x[0] for x in candlesticks]
dates = np.asarray(dates)
volume = [x[5] for x in candlesticks]
volume = np.asarray(volume)

# make bar plots and color differently depending on up/down for the day
pos = r['open']-r['close']<0
neg = r['open']-r['close']>0
ax2.bar(dates[pos],volume[pos],color='green',width=1,align='center')
ax2.bar(dates[neg],volume[neg],color='red',width=1,align='center')

#scale the x-axis tight
ax2.set_xlim(min(dates),max(dates))
# the y-ticks for the bar were too dense, keep only every third one
yticks = ax2.get_yticks()
ax2.set_yticks(yticks[::3])

ax2.yaxis.set_label_position(""right"")
ax2.set_ylabel('Volume', size=20)

# format the x-ticks with a human-readable date. 
xt = ax.get_xticks()
new_xticks = [datetime.date.isoformat(num2date(d)) for d in xt]
ax.set_xticklabels(new_xticks,rotation=45, horizontalalignment='right')

plt.ion()
plt.show()
"
14278,74198,Python - get UTC offset by seconds,">>> import datetime, pytz
>>> melbourne = pytz.timezone(""Australia/Melbourne"")
>>> melbourne.utcoffset(datetime.datetime.now())
datetime.timedelta(0, 36000)

>>> pacific = pytz.timezone(""US/Pacific"")
>>> pacific.utcoffset(datetime.datetime.now())
datetime.timedelta(-1, 61200)
>>> -1*86400+61200
-25200
>>> pacific.utcoffset(datetime.datetime.now()).total_seconds()
-25200.0
"
35154,14364,Doctest for dynamically created objects,">>> get_session('Mmusc20090126', False, True) #doctest: +ELLIPSIS
<sqlalchemy.orm.session.Session object at 0x...>
"
39676,76586,Python __metaclass__ inheritance issue,"@staticmethod
def time_method(method):
    def __wrapper(self, *args, **kwargs):
        if hasattr(self, '_being_timed'):
            # We're being timed already; just run the method
            return method(self, *args, **kwargs)
        else:
            # Not timed yet; run the timing code
            self._being_timed = True  # remember we're being timed
            try:
                start = time.time()
                result = method(self, *args, **kwargs)
                finish = time.time()
                sys.stdout.write('instancemethod %s took %0.3f s.\n' %(
                    method.__name__, (finish - start)))
                return result
            finally:
                # Done timing, reset to original state
                del self._being_timed
    return __wrapper
"
18518,21346,Reading web pages with Python,">>> from lxml import etree
>>> doc = etree.HTML(""""""<html>
... <head></head>
... <body>
... <tr>
... <td class=""or_q_artist""><a title=""[Artist916]"" href=""http://rateyourmusic.com/artist/ac_dc"" class=""artist"">AC/DC</a></td>
... <td class=""or_q_album""><a title=""[Album374717]"" href=""http://rateyourmusic.com/release/album/ac_dc/live_f5/"" class=""album"">Live</a></td>
... <td class=""or_q_rating"" id=""rating374717"">4.0</td><td class=""or_q_ownership"" id=""ownership374717"">CD</td>
... <td class=""or_q_tags_td"">
... </tr>
... </body>
... </html>
... """""")
>>> doc.xpath('//td[@class=""or_q_artist""]/a/text()|//td[@class=""or_q_album""]/a/text()')
['AC/DC', 'Live']
"
30664,27344,Pandas DataFrame.index.name is deleted by DataFrame.index.date,"In [21]: ts = pd.DataFrame(np.random.randn(20, 2), index=pd.DatetimeIndex(start='2014-01-01
', periods=20, freq='min'))


In [23]: ts.to_csv('tst.csv', date_format='%Y-%m-%d')

In [24]: !cat tst.csv
,0,1
2014-01-01,0.23269024172796468,-0.27276285241328363
2014-01-01,-2.1271569576784652,-0.08828528516158064
2014-01-01,-0.7476540707009801,0.4496366704379928
2014-01-01,-1.278025433730537,1.9559942454312738
2014-01-01,-0.5197557973521872,-0.38696497057942586
2014-01-01,1.907212175479462,0.08269395500820262
2014-01-01,-0.002980557062394977,1.649695381207261
2014-01-01,-0.9676320141522591,0.549518266575642
2014-01-01,-1.3499641850605548,-0.11695278340333974
2014-01-01,0.3281427666328896,0.2290718384099928
2014-01-01,0.29854271481529915,-1.606564949527949
2014-01-01,-1.8476324099199142,-1.1062031058677215
2014-01-01,-0.2625937089406767,0.6743539439246344
2014-01-01,0.1901494293074155,2.830381213725509
2014-01-01,-0.16171736635213055,-0.6913561112174935
2014-01-01,-0.6340530961142582,0.1944027320940862
2014-01-01,0.1875828513714546,0.3539781699433568
2014-01-01,1.502398492411021,0.9554844690144768
2014-01-01,0.40825706445611654,-0.6555754482696242
2014-01-01,-1.9870063518613181,0.8300825796678137
"
26787,53681,monkey patch not working properly,"import src.module.submodule

def mock_function(parameter = None):
    return 0

def test_function_works(monkeypatch):
    monkeypatch.setattr(""src.module.submodule.function"",mock_function ]
    assert src.module.submodule.function(parameter = None) == 0
"
15862,15719,Passing the user object and a filtered object list into a custom SearchView subclass,"class MySearchView(SearchView):

    def extra_context(self):
        return { 'ordered_tasks': ... }
"
26745,22465,What's the most Pythonic way of determining endianness?,">>> import sys
>>> sys.byteorder
'little'
"
643,9579,import a python module from a user-specified dir?,"my_path = ""some/path/blah""
os.path.insert(0,my_path)
import my_custom_module
"
20686,76851,Function which asks for age,"def prompt_age(min=11, max=100):
    while True:
        try:
            age = int(raw_input('ENTER YOUR AGE: '))
        except ValueError:
            print 'Please enter a valid number'
            continue
        if not min <= age <= max:
            print 'You are too young/old'
            continue
        return age
"
23470,84376,python asyncio run_forever or while True,"# Python 3.4
@asyncio.coroutine
def some_coroutine(*some_args, loop=None):
    while True:
        [...]
        result = yield from loop.run_in_executor(
            None,  # Use the default executor
            some_blocking_io_call, 
            *some_args)
        [...]

# Python 3.5
async def some_coroutine(*some_args, loop=None):
    while True:
        [...]
        result = await loop.run_in_executor(
            None,  # Use the default executor
            some_blocking_io_call, 
            *some_args)
        [...]

loop = asyncio.get_event_loop()
coro = some_coroutine(*some_arguments, loop=loop)
loop.run_until_complete(coro)
"
28984,13098,Strip spaces when saving a model,"class MyClass(models.Model):
    # some fields here

    def save(self, *args, **kwargs):
       # strip spaces here
       super(MyClass, self).save(*args, **kwargs)
       # make sure to call parent save method ^
"
36961,66640,generating a JPG with matplotlib with UTF-8 labels when DISPLAY is undefined in python,"# -*- coding: utf-8 -*-

import matplotlib
matplotlib.use('Agg')
import matplotlib.pylab as plt

plt.plot(range(10))
# you might need to change this to be a font that you know works for your gylphs
# that you have installed
plt.xlabel(u'وَبَوِّئْنا', name='Arial')

plt.savefig('test.jpg',format='jpg')
"
14391,55550,Breakpoint-induced interactive debugging of Python with IPython,"from IPython.core.debugger import Tracer

def my_function():
    x = 5
    Tracer()()
    print 5
"
25474,45654,Why is it much slower to print an answer to a calculation when compared to just computing it?,"from datetime import datetime

startTime = datetime.now()

a=2**1000000-3
b=a/13

elapsedTime = datetime.now() - startTime

print ""Elapsed time %s\n Number: %s"" % (elapsedTime, b)
"
10082,35883,"Task is create a table which contain 2 lines, where each value is sum of all numbers between 2 lines. Solve the program with funtction","from itertools import product
from math import log10
def foo(row, col):
    table = [[0]*col for _ in range(row)]
    for i, j in product(range(row), range(col)):
        table[i][j] =  sum(range(i+1, j+2)) if i < j else sum(range(j+1, i+2))
    _max = max(row, col)
    _max = int(log10(_max*(_max+1) / 2)) + 3
    formatstr = (""{{:^{}}}"".format(_max))*col
    for row in table:
        print formatstr.format(*row)


>>> foo(3,4)
 1   3   6   10 
 3   2   5   9  
 6   5   3   7  
>>> foo(10,10)
 1   3   6   10  15  21  28  36  45  55 
 3   2   5   9   14  20  27  35  44  54 
 6   5   3   7   12  18  25  33  42  52 
 10  9   7   4   9   15  22  30  39  49 
 15  14  12  9   5   11  18  26  35  45 
 21  20  18  15  11  6   13  21  30  40 
 28  27  25  22  18  13  7   15  24  34 
 36  35  33  30  26  21  15  8   17  27 
 45  44  42  39  35  30  24  17  9   19 
 55  54  52  49  45  40  34  27  19  10
"
117,72996,Yielding from sorted iterators in sorted order in Python?,"def sortkey(row):
    return (row[5], row)

def unwrap(key):
    sortkey, row = key
    return row

from itertools import imap
FILE_LIST = map(file, ['foo.csv', 'bar.csv'])
input_iters = imap(sortkey, map(csv.csvreader, FILE_LIST))
output_iter = imap(unwrap, heapq.merge(*input_iters))
"
2781,32351,How can I block comment code in the IPython notebook?,"define([
    'base/js/namespace',
    'base/js/events'
    ],
    function(IPython, events) {
        events.on(""app_initialized.NotebookApp"",
            function () {
                IPython.Cell.options_default.cm_config.extraKeys = {""Ctrl-,"" : ""toggleComment""};
            }
        );
    }
);
"
10240,40249,What is a good Python library on which to base custom http test assertions?,"import pytest
import requests
from hamcrest import *

class SiteImpl:
    def __init__(self, url):
        self.url = url

    def has_valid_cert(self):
        return requests.get(self.url, verify=True)

@pytest.yield_fixture
def site(request):
    # setUp
    yield SiteImpl('https://' + request.param)
    # tearDown

def has_status(item):
    return has_property('status_code', item)

@pytest.mark.parametrize('site', ['google.com', 'github.com'], indirect=True)
def test_cert(site):
    assert_that(site.has_valid_cert(), has_status(200))

if __name__ == '__main__':
    pytest.main(args=[__file__, '-v'])
"
4420,32008,Python 3.x how to get http version (using requests library),">>> import requests
>>> response = requests.get(""http://104.71.136.252/"", timeout=60, verify=False)
>>> response.raw.version
10
>>> response = requests.get(""http://stackoverflow.com"", timeout=60, verify=False)
>>> response.raw.version
11
"
33817,47842,ReferenceField in EmbeddedDocument to master Document,"class Activity(EmbeddedDocument):
    user = ReferenceField('Profile')
    user_unrelated = ReferenceField('Profile')
    created_date = DateTimeField(default=datetime.datetime.now, required=True)
"
1936,75366,Using bottle.py to print on browser,"import pymysql
from bottle import Bottle,run

app = Bottle()

@app.route('/conn')
def conn():
    yield ""Trying to connect to database...""
    try:
        conn = pymysql.connect(user=""X"",passwd=""X"",host=""X"",port=X,database=""X"")
        yield ""Connection succeded""
    except:
        yield ""Oops...connection failed""

run(app, host='localhost',port = 8080)
"
37985,73008,simple way of extracting values from string,">>> s = '''Report:

  Location: (569P,921L)

  Band 1:

    Value: 12'''
>>> x,y = re.findall(r'\b\d+(?=[A-Z])', s)
>>> print(x,y)
569 921
"
27929,55554,Flask use SQL query at client side,"class Post(db.Model):
    id = db.Column(db.Integer, primary_key=True)


class Comment(db.Model):
    id = db.Column(db.Integer, primary_key=True
    post_id = db.Column(db.Integer, db.ForeignKey(Post.id), nullable=False)

    post = db.relationship(Post, backref='comments')
"
20129,49198,Pyramid localization: not created .pot file,"[compile_catalog]
directory = YOURPROJECT/locale
domain = YOURPROJECT
statistics = true

[extract_messages]
add_comments = TRANSLATORS:
output_file = YOURPROJECT/locale/YOURPROJECT.pot
width = 80

[init_catalog]
domain = YOURPROJECT
input_file = YOURPROJECT/locale/YOURPROJECT.pot
output_dir = YOURPROJECT/locale

[update_catalog]
domain = YOURPROJECT
input_file = YOURPROJECT/locale/YOURPROJECT.pot
output_dir = YOURPROJECT/locale
previous = true
"
36739,5692,Pythonic way to combine two lists in an alternating fashion?,">>> list1 = ['f', 'o', 'o']
>>> list2 = ['hello', 'world']
>>> result = [None]*(len(list1)+len(list2))
>>> result[::2] = list1
>>> result[1::2] = list2
>>> result
['f', 'hello', 'o', 'world', 'o']
"
25519,52085,reaching values in dictionary inside dictionary python 2.7,"from collections import OrderedDict

annotations = [OrderedDict([('ID', i + 1),     # need to initialize with a list of tuples
                            ('NAME', 'Tag Name'),   # to preserve the order of the items
                            ('CONTENT', 'Note Content: This space will have a lot of text'),
                            ('URL', 'ref address'),
                            ('URL Info', 'url info')])
               for i in range(10)]

for i, dct in enumerate(annotations):
    print(""Annotation #{}"".format(i+1))
    for key, value in dct.items():
        print(""{}: {}"".format(key, value))
    print()
"
14150,81353,How to proportionally (respecting aspect ratio) scale a rectangle?,"r_old = old_w / old_h
r_new = new_w / new_h

if (r_old > r_new) then
   w = new_w              // width of mapped rect
   h = w / r_old          // height of mapped rect
   x = 0                  // x-coord of mapped rect
   y = (new_h - h) / 2    // y-coord of centered mapped rect
else
   h = new_h
   w = h * r_old
   y = 0
   x = (new_w - w) / 2
endif
"
14609,39305,How to convert a string in .ics file and then download it in Flask?,"return Response(my_date, mimetype, {'Content-Disposition':'attachment'})
"
11748,48183,Convert ctypes code to cython,"def convert_bng(double[::1] x, double[::1] y):
  # I'm assuming that the data is double, not float, but it's easy changed
  # here the [::1] promises it's continuous in memory
  cdef _FFIArray x_ffi, y_ffi
  # get a pointer to the data, and cast it to void*
  x_ffi.data = <void*>&x[0]
  x_ffi.len = x.shape[0] # possibly *sizeof(double) - depends on the C api

  # repeat for y
  y_ffi.data = <void*>&y[0]
  y_ffi.len = y.shape[0]

  cdef _Result_Tuple result = convert_to_bng_threaded(x_ffi, y_ffi)

  # get data pointers for the two result arrays
  cdef double* e_ptr = <double*>(result.e.data)
  cdef double* n_ptr = <double*>(result.n.data)
  # now view your output arrays using memoryviews
  # you need to tell it the length (this is how many doubles the contain)
  cdef double[::1] e = <double[:result.e.len:1]>e_ptr
  cdef double[::1] n = <double[:result.n.len:1]>n_ptr

  # create a numpy copy of the two arrays
  import numpy as np
  e_numpy = np.copy(e)
  n_numpy = np.copy(n)

  # you can now free your two returned arrays
  # I assume this is done with drop_float_array
  drop_float_array(result.e,result.n)

  # return as tuple containing two arrays to python
  return e_numpy, n_numpy
"
34071,39445,how to get projectID value from dictionary in python?,">>> a = '{""code"":""ok"",""job"":{""config"":{""progress"":{""message"":""Reading 2014-03-03__12-57-01-PM.xml"",""percent"":107,               ""maxmemory"":954,""memory"":667},""projectID"":1868117666669}}}'

>>> json.loads(a)['job']['config']['projectID']
1868117666669
"
32143,17415,What size to specify to `PIL.Image.frombytes`,"image = Image.open(StringIO.StringIO(image_data))
"
38303,78528,Fabric test username before connecting,"def isUSER1():
  env.user=""USER1""
  with settings(abort_on_prompts=True):
    if env.host.find(""@"")==-1:
      try :
        sudo('whoami')
        env.hosts.remove(env.host)
        fullhost=env.user+'@'+env.host
        env.hosts.append(fullhost)
      except :
        pass
"
30230,82015,How to get latest offset for a partition for a kafka topic?,"from kafka import KafkaClient
from kafka.protocol.offset import OffsetRequest, OffsetResetStrategy
from kafka.common import OffsetRequestPayload

client = KafkaClient(brokers)

partitions = client.topic_partitions[topic]
offset_requests = [OffsetRequestPayload(topic, p, -1, 1) for p in partitions.keys()]

offsets_responses = client.send_offset_request(offset_requests)

for r in offsets_responses:
    print ""partition = %s, offset = %s""%(r.partition, r.offsets[0])
"
37539,66683,Python - Calculating the second column from the first one in a file,"INPUT = 'file.txt'
OUTPUT = 'calc.txt'

def main():
    with open(INPUT, 'r') as reader, open(OUTPUT, 'a') as writer:
        last_value = 0
        for line in reader:
            column_1, *remaining_columns = map(float, line.split())
            column_2 = column_1 - last_value
            last_value = column_1
            print(column_1, column_2, sep='\t', file=writer)

if __name__ == '__main__':
    main()
"
19586,11940,How to use threads to get input from keyboard in python 3?,"import threading, time
from msvcrt import getch

key = ""lol""

def thread1():
    global key
    lock = threading.Lock()
    while True:
        with lock:
            key = getch()

threading.Thread(target = thread1).start()

while True:
    time.sleep(1)
    print(key)
"
13675,73939,How to create a general class for other class can have the same model as well,"class Person(models.Model):
   name = models.CharField(max_length=20)
   lastname = models.CharField(max_length=20)
   job = models.CharField(max_length=20)
   salary = models.IntegerField()

   class Meta:
       abstract = True


class Person1(Person):
    ...
"
6559,55194,Parse from a JS generated site,"import re

from selenium.webdriver.common.by import By
from selenium.webdriver.support import expected_conditions as EC
from selenium import webdriver
from selenium.webdriver.support.wait import WebDriverWait


browser = webdriver.Firefox()
browser.get('http://www.spokeo.com/search?q=Joe+Henderson,+Phoenix,+AZ&sao7=t104#:18643819031')

WebDriverWait(browser, 10).until(EC.presence_of_element_located((By.ID, ""profile_details_section_header"")))
content = browser.page_source

m_obj = re.search(r""(\(\d{3}\)\s\d{3}-\*{4})"", content)
if m_obj:    
    print m_obj.group(0)

browser.quit()
"
37252,25866,Setting different reply-to message in Python email/smtplib,"python
Python 2.6.6 (r266:84292, May 10 2011, 11:07:28) 
[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> MAIL_SERVER = 'smtp.domain.com'
>>> TO_ADDRESS = 'you@gmail.com'
>>> FROM_ADDRESS = 'email@domain.com'
>>> REPLY_TO_ADDRESS = 'email2@domain2.com'
>>> import smtplib
>>> import email.mime.multipart
>>> msg = email.mime.multipart.MIMEMultipart()
>>> msg['to'] = TO_ADDRESS
>>> msg['from'] = FROM_ADDRESS
>>> msg['subject'] = 'testing reply-to header'
>>> msg.add_header('reply-to', REPLY_TO_ADDRESS)
>>> server = smtplib.SMTP(MAIL_SERVER)
>>> server.sendmail(msg['from'], [msg['to']], msg.as_string())
{}
"
31340,6412,What is an open tuple in python?,">>> a = (2,3)
>>> b = (2,3,)
>>> c = 2,3
>>> a==b
True
>>> a==c
True
>>> b==c
True
>>> d = 2,3,
>>> a==d
True
"
3852,40173,"Sending ""User-agent"" using Requests library in Python","headers = {
    'User-Agent': 'My User Agent 1.0',
    'From': 'youremail@domain.com'  # This is another valid field
}

response = requests.get(url, headers=headers)
"
762,47422,testing command line utilities,"from scripttest import TestFileEnvironment

env = TestFileEnvironment('./scratch')

def test_script():
    env.reset()
    result = env.run('do_awesome_thing testfile --with extra_win --file %s' % filename)
    # or use a list like ['do_awesome_thing', 'testfile', ...]
    assert result.stdout.startswith('Creating awesome file')
    assert filename in result.files_created
"
21143,69141,Screenshot of multiple webpages in a headerless QtWebKit browser in Python,"import re
import sys
import time

# Tested with PySide 1.0.9, changing imports to PyQt should work identically
from PySide.QtCore import Qt, QUrl
from PySide.QtGui import QApplication, QImage, QPainter
from PySide.QtWebKit import QWebPage, QWebSettings


def os_safe_name(url):
    url = re.sub(""[^a-zA-Z0-9_-]+"", ""_"", url)
    url = re.sub(""_{2,}"", ""_"", url)
    return url


class Render(QWebPage):
    def __init__(self, url):
        QWebPage.__init__(self)

        self.url = url
        self.finished = False

        # Settings
        s = self.settings()
        #s.setAttribute(QWebSettings.AutoLoadImages, False)
        s.setAttribute(QWebSettings.JavascriptCanOpenWindows, False)
        s.setAttribute(QWebSettings.PluginsEnabled, True)

        #self.mainFrame().setScrollBarPolicy(Qt.Vertical, Qt.ScrollBarAlwaysOff)
        self.mainFrame().setScrollBarPolicy(Qt.Horizontal, Qt.ScrollBarAlwaysOff)

        # When page is loaded, callback saves image to file
        self.loadFinished.connect(self._loadFinished)

        self.mainFrame().load(QUrl(url))

    def _loadFinished(self, result):
        frame = self.mainFrame()
        size = frame.contentsSize()
        size.setWidth(1366)
        self.setViewportSize(size)

        image = QImage(self.viewportSize(), QImage.Format_ARGB32)

        painter = QPainter(image)
        frame.render(painter)
        painter.end()

        self.filepath = ""output/%s.png"" % os_safe_name(self.url)
        image.save(self.filepath)

        self.finished = True


def run(url, app = None):
    if app is None:
        app = QApplication(sys.argv)

    r = Render(url)

    while not r.finished:
        app.processEvents()
        time.sleep(0.01)

    return r.filepath


if __name__ == '__main__':
    app = QApplication(sys.argv)

    print run(""http://stackoverflow.com"", app=app)
    print run(""http://google.com"", app=app)
"
11004,11850,How can I properly use related_name in django models to get back the class name?,"def test(request):
    obj2 = Student.objects.get(name='john')
    classes_name = obj2._meta.get_field('classes').related_model.__name__
    return render(request, 'test/list.html',
                  {'obj2':obj2, 'classes_name': classes_name})
"
16357,84959,How do I invoke a text editor from a command line program like git does?,"import subprocess
import os.path

def start_editor(editor,file_name):

    if not os.path.isfile(file_name): # If file doesn't exist, create it
        with open(file_name,'w'): 
            pass

    command_line=editor+' '+file_name # Add any desired command line args
    p = subprocess.Popen(command_line)
    p.wait()

file_name='test.txt' # Probably known from elsewhere
editor='notepad.exe' # Read from environment variable if desired

start_editor(editor,file_name)

with open(file_name,'r') as f: # Do something with the file, just an example here
    for line in f:
        print line
"
27006,31171,Python - None value is being returned from a count,"def spaces(sentences):
  textList = sentences.split('. ')
  whiteList = [whitespaces.count(' ') for whitespaces in textList]

  return max(whiteList)

print(spaces(sentences))
"
16583,9556,ValueError: labels ['timestamp'] not contained in axis,"## Explore the data (line 27)
data = pd.read_table('u.data', header=None)  # header=None avoid getting the columns automatically
data.columns = ['userID', 'itemID',
                'rating', 'timestamp']       # Manually set the columns.
data = data.drop('timestamp', axis=1)        # Continue with regular work.

...

## Load user information (line 75)
users_info = pd.read_table('u.user', sep='|', header=None)
users_info.columns = ['useID', 'age', 'gender',
                      'occupation' 'zipcode']
users_info = users_info.set_index('userID')

...

## Load movie information (line 88)
movies_info = pd.read_table('u.item', sep='|', header=None)
movies_info.columns = ['movieID', 'movie title', 'release date',
                       'video release date', 'IMDb URL', 'unknown',
                       'Action', 'Adventure', 'Animation', ""Children's"",
                       'Comedy', 'Crime', 'Documentary', 'Drama',
                       'Fantasy', 'Film-Noir', 'Horror', 'Musical',
                       'Mystery', 'Romance', 'Sci-Fi',' Thriller',
                       'War', 'Western']
movies_info = movies_info.set_index('movieID')#.drop(low_count_movies)
"
25825,51960,Return all keys with the same value in a dictionary,"import collections

val_map = collections.defaultdict(list)
for k,v in myRackDict.items():
    val_map[v].append(k)
"
14482,65711,Python/html- Combine multiple html's into one,"report_tuples = [
    ('http://www.myreport.com/report1', report1_date_object_or_string),
    ('http://www.myreport.com/report2', report2_date_object_or_string),
    ('http://www.myreport.com/report3', report3_date_object_or_string),
]
sorted(report_tuples, key=lambda reports: reports[1])   # sort by date
html = '<html><body>' #add anything else in here or even better 
                      #use a template that you read and complement
lastDate = None
for r in report_tuples:
    if not lastDate or not lastDate == r[1]:
        html += '<h3>%s</h3>' % (str(r[1]))
    html += '<a href=""%s"">Your Report Title</a>' % (r[0])

return html #or even better, write it to the disk.
"
19791,4785,wxPython: TreeCtrl: How can I get a tree item by name?,"def get_item_by_label(self, tree, search_text, root_item):
    item, cookie = tree.GetFirstChild(root_item)

    while item.IsOk():
        text = tree.GetItemText(item)
        if text.lower() == search_text.lower():
            return item
        if tree.ItemHasChildren(item):
            match = self.get_item_by_label(tree, search_text, item)
            if match.IsOk():
                return match
        item, cookie = tree.GetNextChild(root_item, cookie)

    return wx.TreeItemId()

result = get_item_by_label(tree, 'MyStories', tree.GetRootItem())
if result.IsOk():
    print('We have a match!')
"
15774,21811,"Replacing Celery Beat ""CELERYBEAT_SCHEDULE"" with a dynamic source (database)","self.app.conf['CELERYBEAT_SCHEDULE']
"
21217,32645,Problems with datetime plot in matplotlib,"import datetime
ax.plot_date([d.astype(datetime.datetime) for d in data['date']], data['count'])
"
30460,56621,Create OneToMany models in django,"class UserProfile(models.Model):
    user = models.OneToOneField(User)
    website = models.URLField()


class Mobile(models.Model):
    phone_number = models.CharField(min_length = 7, max_length = 20)
    description = models.CharField(min_length = 7, max_length = 20)
    user_profile = models.ForeignKey(UserProfile)
"
15206,71093,Text Animation in Tkinter Python?,"import tkinter as tk

CORRECT_ANSWER = 'Some answer'

def callback():

    if var.get() != CORRECT_ANSWER:
        for i in range(10, 50):
            canvas.move(text, -i if i% 2 == 0 else i, 0)
            canvas.update()
            canvas.move(text, i if i % 2 == 0 else -i, 0)                     
            canvas.update()

if __name__ == '__main__':

    root = tk.Tk()
    var = tk.StringVar()
    canvas = tk.Canvas(root, bg=""black"")
    canvas.pack(fill=tk.BOTH, expand=1)
    text = canvas.create_text(200, 100, text='Enter the answer to this question.',
        fill='white')
    entry = tk.Entry(root, textvariable = var)
    entry.pack(side=tk.LEFT, fill=tk.X, expand=1)
    submit = tk.Button(root, text='Submit', command=callback)
    submit.pack(side=tk.LEFT, fill=tk.X, expand=1)
    root.mainloop()
"
30355,72455,Numpy index a 1D array to 2D,"binned = np.full((bin_idx[-1]+1, np.max(col_idx)+1), np.nan)
binned[bin_idx, col_idx] = x
"
11280,79970,"In Python, return specific item in list of Tuples, using bisect","return wireAmpacityTable[pos1][1]
"
2707,8231,How to remove symbols from a string with Python?,">>> s = ""how much for the maple syrup? $20.99? That's ricidulous!!!""
>>> re.sub(r'[^\w]', ' ', s)
'how much for the maple syrup   20 99  That s ricidulous   '
"
5120,5088,Finding upper/lower triangular form of arbitrary matrix n*n - python,"import numpy as np
from scipy.linalg import schur

a = np.array([[ 1., 2., 3.], [4., 5., 6.], [7., 8., 9.]])
u, q = schur(a) # q is the unitary matrix, u is upper triangular

repr(u)
# array([[  1.61168440e+01,   4.89897949e+00,   1.58820582e-15],
#        [  0.00000000e+00,  -1.11684397e+00,  -1.11643184e-15],
#        [  0.00000000e+00,   0.00000000e+00,  -1.30367773e-15]])
"
37978,41076,In python flask how to allow a user to re-arrange list items and record in database,"<ul id=""theSortableStuff"">
{% for item in things_to_sort %}
    <li id=""item-{{ item.id }}"">{{ item.name }}</li>
{% endfor %}
</ul>

<script>
var $sortables = $(""#theSortableStuff"").sortable({
  stop: function() {
    var sortedItems = $sortables.sortable(""toArray"");
    // Update some form in the DOM or use AJAX to invoke a server-side update
  }
});
</script>
"
29670,30560,Searching a sequence of characters from a string in python,">>> ""www.example.com"" in ""http://www.example.com/aaa/bbb/ccc""
True
"
33201,39825,How to slice up a numpy array with inequalities?,"hmag = np.array(hmag)
jmag = np.array(jmah)

colorjh = jmag - hmag
idx_c = (colorjh > 0) & (colorjh < 1) # where condition on c is met
idx_h = (hmag > 10) & (hmag < 13) # where condition on h is met
idx = idx_c & idx_h # where both conditions are met

plt.scatter(colorjh[idx], hmag[idx], c='g', s=1, alpha=0.05)
"
1755,3575,trying to achieve an automatic open -> close in tkinter,"photo = tkinter.PhotoImage(file = './Images/img1.gif')
root.geometry(""450x450"")
root.update()
img = canvas.create_image(225,225, image=photo)
root.after(20000, lambda: canvas.delete(img)) # 20,000 milli seconds = 20 seconds
root.mainloop()
"
7446,18027,Python numbers game reverse,"from random import randrange
def lowHigh():
    l = input (""Please input the low number range."")
    numl = eval(l)
    h = input (""Please input the high number range."")
    numh = eval(h)
    lowest = l
    highest = h
    while True:
        guess = randrange(lowest,highest+1)
        print (guess)
        ask = input(""Is this number correct? y for yes or n for no."")
        if ask == 'y':
            print(""Yay! I guessed right!"")
            break
        else:
            lowOrHigh = input (""Is this number too high or low? h for high, l for low."")
            if lowOrHigh == 'h':
               highest = guess - 1
            else:
               lowest = guess
"
28652,59056,"In Python, how do I obtain the current frame?","import sys    
sys._getframe(number)
"
38564,75211,Creating radio buttons from a list in python?,"from Tkinter import *

cb_strings = ['item 1', 'item 2', 'item 3', 'item 4']

def sel():
   print ""You selected the option "" + str(var.get())

root = Tk()
var = StringVar()
var.set(cb_strings[0])

for item in cb_strings:
    button = Radiobutton(root, text=item, variable=var, value=item, command=sel)
    button.pack(anchor=W)

root.mainloop()
"
2345,50357,Python Regular Expression for Extrating URL,"In [230]: s = 'Website is: http://www.somesite.com '
In [231]: re.findall('Website is:\s+(\S+)', s)
Out[231]: ['http://www.somesite.com']
"
34312,5459,How to update document's metadata in Sharepoint? (Linux -> WebServices -> Sharepoint),"b = Element(""Batch"")
b.append(Attribute(""OnError"",""Continue"")).append(Attribute(""ListVersion"",""3""))
bm= Element(""Method"")
bm.append(Attribute(""ID"",""1"")).append(Attribute(""Cmd"",""Update""))
bm.append(Element(""Field"").append(Attribute(""Name"",""ID"")).setText(''))
bm.append(Element('Field').append(Attribute('Name','FileRef')).setText('http://.....'))
bm.append(Element('Field').append(Attribute('Name','Jurisdiction')).setText('UK'))
bm.append(Element('Field').append(Attribute('Name','Desk')).setText('Structured Equity Derivatives'))
bm.append(Element('Field').append(Attribute('Name','Business Area')).setText('Back Office'))
bm.append(Element('Field').append(Attribute('Name','Title')).setText('whatever'))
b.append(bm)
u = Element(""ns1:updates"")
u.append(b)
c.service.UpdateListItems(""Reports"",u)
"
16622,80665,Wildcard for PyGTK States,"states = [gtk.STATE_NORMAL, gtk.STATE_ACTIVE, gtk.STATE_PRELIGHT,
          gtk.STATE_SELECTED, gtk.STATE_INSENSITIVE]

for state in states:
    button.modify_bg(state, gtk.gdk.color_parse(""Green""))
"
31687,70311,Matplotlib: eps-plots lost quality,"ax.set_rasterization_zorder(1) 
"
10247,70741,Function keeps returning None,"def nohsps(input):
    count=0
    for line in input:
        if line.startswith('AJ000012.1'):
        count=count+1
    return count
"
11895,10964,Fastest way of comparison of string elements in Python,"existing_set = {os.path.basename(f) for f in existing_list}  # set comprehension, python2.7+
# alternatively:  set(os.path.basename(f) for f in existing_list)

remaining_list = [f for f in all_list if f not in existing_set]
"
30322,48488,How to look at the source code of scikit learn ML classes?,"class KFold(_BaseKFold):
    """"""K-Folds cross validation iterator.
    Provides train/test indices to split data in train test sets. Split
    dataset into k consecutive folds (without shuffling).
    Each fold is then used a validation set once while the k - 1 remaining
    fold form the training set.
    Parameters
    ----------
    n : int
        Total number of elements.
    n_folds : int, default=3
        Number of folds. Must be at least 2.
    shuffle : boolean, optional
        Whether to shuffle the data before splitting into batches.
    random_state : None, int or RandomState
        Pseudo-random number generator state used for random
        sampling. If None, use default numpy RNG for shuffling
    Examples
    --------
    >>> from sklearn import cross_validation
    >>> X = np.array([[1, 2], [3, 4], [1, 2], [3, 4]])
    >>> y = np.array([1, 2, 3, 4])
    >>> kf = cross_validation.KFold(4, n_folds=2)
    >>> len(kf)
    2
    >>> print(kf)  # doctest: +NORMALIZE_WHITESPACE
    sklearn.cross_validation.KFold(n=4, n_folds=2, shuffle=False,
                                   random_state=None)
    >>> for train_index, test_index in kf:
    ...    print(""TRAIN:"", train_index, ""TEST:"", test_index)
    ...    X_train, X_test = X[train_index], X[test_index]
    ...    y_train, y_test = y[train_index], y[test_index]
    TRAIN: [2 3] TEST: [0 1]
    TRAIN: [0 1] TEST: [2 3]
    Notes
    -----
    The first n % n_folds folds have size n // n_folds + 1, other folds have
    size n // n_folds.
    See also
    --------
    StratifiedKFold: take label information into account to avoid building
    folds with imbalanced class distributions (for binary or multiclass
    classification tasks).
    """"""

    def __init__(self, n, n_folds=3, shuffle=False,
                 random_state=None):
        super(KFold, self).__init__(n, n_folds, shuffle, random_state)
        self.idxs = np.arange(n)
        if shuffle:
            rng = check_random_state(self.random_state)
            rng.shuffle(self.idxs)

    def _iter_test_indices(self):
        n = self.n
        n_folds = self.n_folds
        fold_sizes = (n // n_folds) * np.ones(n_folds, dtype=np.int)
        fold_sizes[:n % n_folds] += 1
        current = 0
        for fold_size in fold_sizes:
            start, stop = current, current + fold_size
            yield self.idxs[start:stop]
            current = stop

    def __repr__(self):
        return '%s.%s(n=%i, n_folds=%i, shuffle=%s, random_state=%s)' % (
            self.__class__.__module__,
            self.__class__.__name__,
            self.n,
            self.n_folds,
            self.shuffle,
            self.random_state,
        )

    def __len__(self):
        return self.n_folds
"
12484,5351,How to add package data recursively in Python setup.py?,"data_files = []
directories = glob.glob('data/subfolder?/subfolder??/')
for directory in directories:
    files = glob.glob(directory+'*')
    data_files.append((directory, files))
# then pass data_files to setup()
"
29875,67169,How to write program run matrix as below in python?,"B = [5,-4,5,-6]
y = [
        [0,1,0,1],
        [0,0,0,0],
        [0,0,0,1],
        [0,0,0,0],
    ]
x = []
for i, row in enumerate(y):
    temp = []
    for j, col in enumerate(row):
        if col != 0:
            temp.append(str(col) + '*x' + str(i) + str(j))
        else:
            temp.append(col)
    x.append(temp)

#for one in x:
#    print one


equ = []
for i in xrange(4):
    temp1 = []
    temp2 = []
    for j in xrange(4):
        temp1.append(x[i][j])
        temp2.append(x[j][i])
    temp2.append(B[i])
    equ.append(tuple(temp1 + temp2))

equtions = []
for one in equ:
    s = '%s + %s + %s + %s - %s - %s - %s - %s = %s' % one
    equtions.append(s)

for one in equtions:
    print one

import re
from copy import deepcopy

equ_bak = deepcopy(equtions)

p_var = re.compile(r'x\d\d')
vars = set([])
for one in equ_bak:
    m = p_var.findall(one)
    vars |= set(m)
vars = sorted(list(vars))

p_ef = re.compile(r'([+-]* *\d*)\*(x\d\d)')
effs = []
for one in equ_bak:
    m = p_ef.findall(one)
    #print m
    temp = [0] * len(vars)
    for num, var in m:
        try:
            temp[vars.index(var)] = float(num.replace(' ', ''))
        except:
            pass
    effs.append(tuple(temp))

#for one in effs:
#    print one

import numpy as np
A = np.array(effs)
x = np.linalg.lstsq(A,B)
print vars
print x[0]
"
39515,63481,Associating 2 lists,"for key, val in zip(jobids, jobdeps):
    if key == '0':
        print val
"
12296,48097,Does c++11 offer similar solution as implemented in python maketrans/translate?,"#include <functional>
#include <string>
#include <unordered_map>

std::function<std::string(std::string)>
maketrans(const std::string& from, const std::string& to) {
    std::unordered_map<char, char> map;
    for (std::string::size_type i = 0;
         i != std::min(from.size(), to.size()); ++i) {
        map[from[i]] = to[i];
    }
    return [=](std::string s) {
        for (auto& c : s) {
            const auto mapped_c = map.find(c);
            if (mapped_c != map.end()) {
                c = mapped_c->second;
            }
        }
        return s;
    };
}

#include <iostream>
int main() {
    const std::string intab = ""aeiou"";
    const std::string outtab = ""12345"";
    const auto translate = maketrans(intab, outtab);

    const std::string str = ""this is string example....wow!!!"";
    std::cout << translate(str) << std::endl;
    return 0;
}
"
14285,48359,Change text on same CLI line Python,"from __future__ import print_function
import time
import sys

print(""."", end=""\r"")
sys.stdout.flush()
time.sleep(1)
print("".."", end=""\r"")
sys.stdout.flush()
time.sleep(1)
print(""..."")
sys.stdout.flush()
"
25614,45649,How do I get all the keys that are stored in the Cassandra column family with pycassa?,"    list(cf.get_range().get_keys())
"
35971,8900,"R equivlent of python numpy slice: [:, None, :]","a <- matrix(c(1,2,3,4), 2, byrow=TRUE)
b <- array(t(a), dim=c(2,1,2))
b
"
36072,58778,UNIX time is too long,"secsAfterADEpoch = float(your_weird_time) / 10000000.0 # seconds since jan 1st 1601
ADToUnixConvertor = ((1970-1601) * 365.242190) * 86400 # unix epoch - AD epoch * number of tropical days * seconds in a day
unixified = (secsAfterADEpoch-ADToUnixConvertor)+31800 # unix Timestamp version of AD timestamp + correction time
"
28932,79540,Python Pandas: Creating New Variable Based On Sampling Results,"In [4]: df['label'] = 'F'

In [33]: df.loc[df[df['V1'] > df['V1'].mean()].sample(1).index,'label'] = 'T'

In [34]: df.loc[df[df['V1'] <= df['V1'].mean()].sample(1).index,'label'] = 'T'

In [35]: df
Out[35]:
   V1 label
0   1     T
1   2     F
2   3     F
3   4     F
4   5     T
"
6697,63676,Pyplot annotation: roman numerals,"import matplotlib.pyplot as plt

# Turn on LaTeX formatting for text    
plt.rcParams['text.usetex']=True

# Place the command in the text.latex.preamble using rcParams
plt.rcParams['text.latex.preamble']=r'\makeatletter \newcommand*{\rom}[1]{\expandafter\@slowromancap\romannumeral #1@} \makeatother'

fig,ax = plt.subplots(1)

# Lets try it out. Need to use a 'raw' string to escape 
# the LaTeX command properly (preface string with r)
ax.text(0.2,0.2,r'\rom{28}')

# And to use a variable as the roman numeral, you need 
# to use double braces inside the LaTeX braces:
for i in range(1,10):
    ax.text(0.5,float(i)/10.,r'\rom{{{}}}'.format(i))

plt.show()
"
8653,258,"A concise way to say ""none of the elements of an array are None""?","None not in lst
"
35744,833,Merging/adding lists in Python,"[sum(a) for a in zip(*array)]
"
21536,8938,How can I get signaled by QSocketNotifier that a pipe is ready for reading?,"from PyQt5.QtWidgets import *
from PyQt5.QtCore import *
import socket

def _create_sock_pair(port=0):
    """"""Create socket pair.

    If socket.socketpair isn't available, we emulate it.
    """"""
    # See if socketpair() is available.
    have_socketpair = hasattr(socket, 'socketpair')
    if have_socketpair:
        client_sock, srv_sock = socket.socketpair()
        return client_sock, srv_sock

    # Create a non-blocking temporary server socket
    temp_srv_sock = socket.socket()
    temp_srv_sock.setblocking(False)
    temp_srv_sock.bind(('', port))
    port = temp_srv_sock.getsockname()[1]
    temp_srv_sock.listen(1)

    # Create non-blocking client socket
    client_sock = socket.socket()
    client_sock.setblocking(False)
    try:
        client_sock.connect(('localhost', port))
    except socket.error as err:
        # Error 10035 (operation would block) is not an error, as we're doing this with a
        # non-blocking socket.
        if err.errno != 10035:
            raise

    # Use select to wait for connect() to succeed.
    import select
    timeout = 1
    readable = select.select([temp_srv_sock], [], [], timeout)[0]
    if temp_srv_sock not in readable:
        raise Exception('Client socket not connected in {} second(s)'.format(timeout))
    srv_sock, _ = temp_srv_sock.accept()

    return client_sock, srv_sock


def can_read():
    print('Server can read')
    app.quit()


def write():
    print('Client writing')
    client_sock.send(b'a')
    client_sock.close()


app = QApplication([])

client_sock, srv_sock = _create_sock_pair()
notifier = QSocketNotifier(srv_sock.fileno(), QSocketNotifier.Read)
notifier.activated.connect(can_read)
write()

w = QMainWindow()
w.show()
app.exec_()
srv_sock.close()
"
23385,34083,Recursion to find depth of expression,"def depth(expr):
    if not isinstance(expr, tuple):
        return 0
    # this says: return the maximum depth of any sub-expression + 1
    return max(map(depth, expr)) + 1

print depth((""a"", ""b""))
# 1
print depth(('+', ('expt', 'x', 2), ('expt', 'y', 2)))
# 2
print depth(('/', ('expt', 'x', 5), ('expt', ('-', ('expt', 'x', 2), 1), ('/', 5, 2)))) 
# 4
"
25834,36545,Run Python script as a standard CLI program,"export PATH=""$HOME/bin:$PATH""
"
36330,16048,Convert UNIX Varchar to datetime,">>> import datetime
>>> thetime = '20150716170118'
>>> parsed_time = datetime.datetime.strptime(thetime, '%Y%m%d%H%M%S')
>>> formatted_time = datetime.datetime.strftime(parsed_time, '%a, %m/%d %Y %H:%M:%S')
>>> formatted_time
'Thu, 07/16 2015 17:01:18'
"
26433,60278,Getting android attachments from mail with imaplib,"from email.header import decode_header
    def get_attachments(email_message_instance):
        attachments = []
        for part in email_message_instance.walk():

            if part.get_content_maintype() not in ['image', 'video', 'audio']:
                continue

            if part.get('Content-Disposition') is None:
                continue

            data = part.get_payload(decode=True)
            if not data:
                continue

            filename = part.get_filename()      
            filename =  u' '.join(w.decode(e or 'ascii') for w,e in decode_header(filename))        
            attachments.append((filename, data))

        return attachments
"
31346,1106,Performing bitwise operations on a dataframe,"In [14]: import numpy as np

In [15]: df['col']
Out[15]: 
0     5302274
1     4767983
2     6158485
3     9807950
4     4360582
5     2156122
...

In [16]: np.bitwise_and(df['col'], 0b101010)
Out[16]: 
0      2
1     42
2      0
3     10
4      2
5     10
"
31665,55295,Python 3 - Race condition on lock indexed by string,"with fetch_lock:
    if url in fetching:
        lock = fetching[url]
    else:
        lock = threading.Lock()
        fetching[url] = lock
        do_fetch = True
        lock.acquire()
if not do_fetch:
    lock.acquire()
"
27234,79896,Creating dynamic arguments for url_for() in Flask?,"extra_args = {'hello': 'world'}
url_for('doit', oid=oid, **extra_args)
# /doit/123?hello=world
url_for('doit', oid=oid, hello='davidism')
# /doit/123?hello=davidism
"
4295,52637,How to print specific json list items?,"from __future__ import print_function

import json

raw_response = '[[""Message"",""User string from here.""]]'
data = json.loads(raw_response)

print(data[0][1])
"
25717,47652,handling .find() failures in beautiful soup 4,"km1 = soup.select('#milage .c2')
kml = kml[0].text.strip() if kml else None
"
31335,25139,Align TeX equations in matplotlib,"#!/usr/bin/python
import matplotlib.pyplot as plt
from matplotlib import rc

rc('text', usetex=True)
rc('font', family='serif')

r = 1
v = 2
i = 3

plt.plot([1,2,3],[2,3,4],'ro-')

plt.text(2,2,r""\begin{eqnarray*}R_L&= 0\\ V_2&= 1\\ I_2&= 2\end{eqnarray*}"")

#notes = r""\noindent$$R_L = {0}\\ V_2 = {1}\\ I_2 = {2}$$"".format(r, v, i)
#plt.annotate(notes, xy=(5,5), xytext=(7,7))
plt.show()
"
27151,78106,how can i make my buttons resize,"#!/usr/bin/python
from Tkinter import *
class resizeTest:
    def __init__( self, master ):
        def normal():
            self.ma.geometry('220x100')     
        def enlarge():
            self.ma.geometry('500x360')
        self.ma = master
        self.ma.title('Resize Test')
        self.ma.geometry('220x100')
        self.f = Frame( self.ma )
        self.f.pack(fill=BOTH, expand=YES)
        self.enlarge = Button( self.f, text='Enlarge', height=1, width=10, padx=0, pady=1, command=enlarge)
        self.enlarge.pack(side=LEFT, fill=BOTH,expand=YES)
        self.normal = Button( self.f, text='Normal', height=1, width=10, padx=0, pady=1, command=normal)
        self.normal.pack(side=RIGHT, fill=BOTH,expand=YES)
root = Tk()
app = resizeTest(root)
root.mainloop()
"
14397,23254,Handle Excel Message Box from Within Python using Win32com,">>> xl.DisplayAlerts = False
"
14590,85191,Python: How to find coordinates of short sequences in a FASTA file?,"from Bio import SeqIO

for long_sequence_record in SeqIO.parse(open('long_sequences.fasta'), 'fasta'):
    long_sequence = str(long_sequence_record.seq)

    for short_sequence_record in SeqIO.parse(open('short_sequences.fasta'), 'fasta'):
        short_sequence = str(short_sequence_record.seq)

        if short_sequence in long_sequence:
            start = long_sequence.index(short_sequence) + 1
            stop = start + len(short_sequence) - 1
            print short_sequence_record.id, start, stop
"
19716,45797,hsv_to_rgb isn't the inverse of rgb_to_hsv on matplotlib,"def rgb_to_hsv(arr):
    """"""
    convert rgb values in a numpy array to hsv values
    input and output arrays should have shape (M,N,3)
    """"""
    arr = arr.astype('float')  # <- add this line
    out = np.zeros(arr.shape, dtype=np.float)
    arr_max = arr.max(-1)
    ipos = arr_max > 0
    delta = arr.ptp(-1)
    s = np.zeros_like(delta)
    s[ipos] = delta[ipos] / arr_max[ipos]
    ipos = delta > 0
    # red is max
    idx = (arr[:, :, 0] == arr_max) & ipos
    out[idx, 0] = (arr[idx, 1] - arr[idx, 2]) / delta[idx]
    # green is max
    idx = (arr[:, :, 1] == arr_max) & ipos
    out[idx, 0] = 2. + (arr[idx, 2] - arr[idx, 0]) / delta[idx]
    # blue is max
    idx = (arr[:, :, 2] == arr_max) & ipos
    out[idx, 0] = 4. + (arr[idx, 0] - arr[idx, 1]) / delta[idx]
    out[:, :, 0] = (out[:, :, 0] / 6.0) % 1.0
    out[:, :, 1] = s
    out[:, :, 2] = arr_max
    return out
"
11327,4822,Applying a list of functions to a single variable,"filters = (_filter1, _filter2, _filter3)
list_after = filter(lambda x: all(f(x) for f in filters), your_list)
"
27639,62867,Nested Counter for json data,"import json    

f = open('/path/to/your/json', 'r')
persons = json.load(f)
years_months = {}
years_months_names = {}

for person in persons['persons']:
    year = person['dob'][-4:]
    month = person['dob'][3:5]
    month_year = month + ' ' + year
    name = person['name']

    if year not in years_months.keys():
        years_months[year] = { 'count': 1, 'months' : {} }
        if month not in years_months[year]['months'].keys():
            years_months[year]['months'][month] = 1
        else:
            years_months[year]['months'][month] += 1
    else:
        years_months[year]['count'] += 1
        if month not in years_months[year]['months'].keys():
            years_months[year]['months'][month] = 1
        else:
            years_months[year]['months'][month] += 1

    if month_year not in years_months_names.keys():
        years_months_names[month_year] = set([name])
    else:
        years_months_names[month_year].add(name)

for k, v in years_months.items():
    print(k + ': ' + str(v['count']))
    for month, count in v['months'].items():
        print(""-- "" + str(month) + "": "" + str(count))
for k, v in years_months_names.items():
    print(k + "": "" + str(len(v)))
"
26370,10994,Issue with inserting parameter values into MySQLdb.execute(),"cur.execute(""SELECT stock_groups.name FROM stock_groups_styles_map, stock_groups WHERE stock_groups_styles_map.style=%s"", product_code)
"
2236,44011,How do I make a dictionary out of a collection of FASTA?,"from collections import defaultdict

d = defaultdict(str)

with open('file') as file1:
    for line in file1:
        if line[0] == '>': #I'm assuming header/idnumber starts with '>'
            key = line.strip('\n')
        else:
            d[key] += line.strip('\n')
"
5403,48063,Print outputs double results,"<a href=""/en/story/90354-kandelaki-georgian-un-mission-yet-to-call-security-council-meeting"" data-topic=""UN Security Council Meeting"" data-video=""false"" data-date=""December 1 2014, 03:13PM"" data-comment-count=""0"" data-thumbnail=""http://www.tabula.ge/files/styles/tab_thumb_featured/public/photos/2014/12/giorgi-kandelaki.jpg?itok=uKdw1i9k"" data-nid=""90354"">
                         Kandelaki: Georgian UN mission yet to call security council meeting                    </a>
"
38492,44565,Pack labels right next to entry box in tkinter python,"from Tkinter import Tk, Label, Entry, StringVar

app = Tk()

labelText=StringVar()
labelText.set(""Enter directory of log files"")
labelDir=Label(app, textvariable=labelText, height=4)
labelDir.pack(side=""left"")

directory=StringVar(None)
dirname=Entry(app,textvariable=directory,width=50)
dirname.pack(side=""left"")

app.mainloop()
"
21452,45343,How to use regex to find functions call themself?,"reobj = re.compile(r""""""
    # Match (unreliably) Python function with self reference.
    ^                        # Anchor to start of line.
    ([ \t]*)                 # $1: Indentation of DEF statement.
    def[ \t]+                # Function definition.
    ([^\s(]+)                # $2: Name of function to find.
    .*\r?\n                  # Remainder of function def line.
    (?:                      # Zero or more lines w/o funcname.
      (?:                    # Function block lines alternatives.
        \1[ \t]+             # Func block lines have extra indentation.
        (?:(?!\b\2\s*\().)*  # Optional non-funcname stuff on line
      | [ \t]*\#.*           # Allow comment lines to defy indent rules.
      )?                     # Allow blank lines in function block.
      \r?\n                  # End of line not containing funcname.
    )*                       # Zero or more lines w/o funcname
    \1[ \t]+                 # Now match the line having funcname.
    (?:(?!\b\2\s*\().)*      # Optional non-funcname stuff on line
    \b\2\s*\(                # Match the function self reference.
    """""", re.MULTILINE | re.VERBOSE)
"
15891,18532,how to add to a dictionary value or create if not exists,"from collections import Counter

values = ['a', 'b', 'a', 'c']

# Take an iterable and automatically produce key/value count
counts = Counter(values)
# Counter({'a': 2, 'c': 1, 'b': 1})
print counts['a'] # 2
print counts['d'] # 0
# Note that `counts` doesn't have `0` as an entry value like a `defaultdict` would
# a `dict` would cause a `KeyError` exception
# Counter({'a': 2, 'c': 1, 'b': 1})

# Manually update if finer control is required
counts = Counter()
for value in values:
    counts.update(value) # or use counts[value] += 1
# Counter({'a': 2, 'c': 1, 'b': 1})
"
33822,61684,How to use different database engines in Django for testing and production,"if 'test' in sys.argv:
    DATABASES['default']['ENGINE'] = 'django.db.backends.sqlite3'
    DATABASES['default']['NAME'] = 'databasename.db3'
"
36762,71207,Pygame: getting a loop to run after mouse click,"while running:
    rect = pygame.Rect(10, 20, 30, 30)
    pygame.draw.rect(screen, (255,0,0), rect)
    pygame.display.flip()

    for event in pygame.event.get():
        if event.type == pygame.MOUSEBUTTONDOWN:
            mouse_pressed = True
        if event.type == pygame.QUIT:
            running = False   

    while mouse_pressed:
        # do your stuff
        mouse_pressed = False
"
3159,13295,How do I manipulate a variable whose name conflicts with PDB commands?,"python -m pdb test.py
> /home/user/test.py(1)<module>()
-> print('foo')
(Pdb) !n = 77
(Pdb) !n
77
(Pdb) n
foo
> /home/user/test.py(2)<module>()
-> print('bar')
(Pdb)
"
16591,30495,pip install from github repo branch,"pip install git+https://github.com/tangentlabs/django-oscar-paypal.git@issue/34/oscar-0.6
"
37480,30675,Simultaneous data fitting in python with leastsq,"import numpy as np
from scipy.optimize import leastsq

def residual_two_functions(pars, x, y1, y2):
    off1   = pars[0]
    slope1 = pars[1]
    off2   = pars[2]
    slope2 = pars[3]
    diff1 = y1 - (off1 + slope1 * x)
    diff2 = y2 - (off2 + slope2 * x)
    return np.concatenate((diff1, diff2))

# create two tests data sets
NPTS = 201
x  = np.linspace(0, 10, NPTS)
y1 = -0.7 +  1.7*x + np.random.normal(scale=0.01, size=NPTS)
y2 =  5.2 + 50.1*x + np.random.normal(scale=0.02, size=NPTS)

# initial values 
par_init = np.array([0, 1, 10, 100])

best, cov, info, message, ier = leastsq(residual_two_functions,
                                        par_init, args=(x, y1, y2),
                                        full_output=True)

print("" Best-Fit Parameters: "",  best)
"
4215,3081,python--recursive list comprehension to apply lstrip on a list,">>> f = ['sum_','count_','per_']
>>> d = ['fav_genre','sum_fav_event','count_fav_type','per_fav_movie']
>>> [s[len(([p for p in f if s.startswith(p)]+[""""])[0]):] for s in d]
['fav_genre', 'fav_event', 'fav_type', 'fav_movie']
"
34248,70414,How can I select 2 different random rows from a table?,"number=session.query(func.count(Item.id)).scalar()
randoms=random.sample(range(number),2)
item1=session.query(Item).filter_by(id=randoms[0]+1).one()
item2=session.query(Item).filter_by(id=randoms[1]+1).one()
"
2484,69175,Python daemonize,"[program:your_daemon_name]
command=your_daemon_process
# Add extra options here according to the manual...

[eventlistener:your_monitor_name]
command=your_monitor_process
events=PROCESS_STATE_RUNNING # Will be triggered after a program changes from starting to running
# Add extra options here according to the manual...
"
30426,59602,Access files from web.py urls,"def GET(self):
    request = web.input( path=None )
    getPath = request.path
    if os.path.exists( getPath ):
        getFile = file( getPath, 'rb' )
        web.header('Content-type','application/octet-stream')
        web.header('Content-transfer-encoding','base64') 
        return base64.standard_b64encode( getFile.read( ) )
    else:
        raise web.notfound( )
"
6990,78124,Python - Fast Way to Remove Duplicates in This List?,">>> a = [[""hello"", ""hi""], [""hello"", ""hi""], [""how"", ""what""], [""hello"", ""hi""], [""how"", ""what""]]
>>> set(map(tuple, a))
set([('how', 'what'), ('hello', 'hi')])
"
38506,24268,A dictionary with in dictionary that only gets created when the current dataset requires it,"if dict['key']:
    print dict['key']
else:
    #Other stuff
    None
"
16239,57,"Problems with Tkinter ""autocomplete"" Entry widget","    def handle_keyrelease(self, event):
    """"""event handler for the keyrelease event on this widget""""""
    if event.keysym == ""BackSpace"":
        if self.position < self.index(END): # delete the selection
            self.delete(self.position, END)
        else:
            #self.delete(self.index(INSERT), END) 
            self.position = self.index(END)
    if event.keysym == ""Left"":
        if self.position < self.index(END): # delete the selection
            self.delete(self.position, END)
        #else:
            #self.position = self.position-1 # delete one character
            #self.delete(self.position, END)
    if event.keysym == ""Right"":
        self.position = self.index(END) # go to end (no selection)
    if event.keysym == ""Down"":
        self.autocomplete(1) # cycle to next hit
    if event.keysym == ""Up"":
        self.autocomplete(-1) # cycle to previous hit
    # perform normal autocomplete if event is a single key or an umlaut
    if len(event.keysym) == 1:
        self.autocomplete()
"
39209,66581,Python - Add Date Stamp To Text File,"import datetime

def timeStamped(fname, fmt='%Y-%m-%d-%H-%M-%S_{fname}'):
    return datetime.datetime.now().strftime(fmt).format(fname=fname)

with open(timeStamped('myfile.txt'),'w') as outf:
    outf.write('data!')
"
26281,41725,python split strings with multi-delimiter and keep those delimiters python--fast way,">>> import re
>>> string = u""hey, nice to meet you! I'm Dennis.""
>>> re.split(r'(?<=[.,!])\s*', string)
['hey,', 'nice to meet you!', ""I'm Dennis.""]
"
14655,37973,Python's asyncio works synchronously,"@asyncio.coroutine
def handle_line(self, line, destination):
    print(""Inside! line {} destination {}"".format(line, destination))
    response = yield from aiohttp.request('POST', destination, data=line,
                               headers=tester.headers)
    print(response.status)
    return (yield from response.read())

@asyncio.coroutine
def send_data(self, filename, timeout):
    destination='foo'
    logging.log(logging.DEBUG, 'sending_data')
    tasks = []
    with open(filename) as log_file:
        for line in log_file:
            try:
                json_event = json.loads(line)
            except ValueError as e:
                print(""Error parsing json event"")
            yield from asyncio.sleep(timeout)
            tasks.append(asyncio.async(
                 self.handle_line(json.dumps(json_event), destination))
    yield from asyncio.wait(tasks)


asyncio.get_event_loop().run_until_complete(send_data('foo.txt', 1))
"
27838,42981,Batch output redirection when using start command for GUI app,"from subprocess import Popen

     if __name__ == '__main__':
          Popen('C:/the_programm.exe', close_fds=True)
"
19854,16657,How to query a MySQL database via python using peewee/mysqldb?,"matching_users = Active_Users.select().where(Active_Users.user_id == userID) # returns an array of matching users even if there's just one
if matching_users is not None:
    token = matching_users[0].device_token
"
1302,19777,how to parse a file and transfer a set of two pairwise data into a 2D array,"from collections import defaultdict
myHash = defaultdict(defaultdict) # dictionary
for row in read:
    myHash[row[0]][row[1]] = row[11]
"
16931,26029,How do I redirect stdout to a file when using subprocess.call in python?,"with open('out-file.txt', 'w') as f:
    subprocess.call(['program'], stdout=f)
"
10613,52456,How to split an 8 character string into groups of two in python,"myString = ""08928192""
n = 2

output = [myString[i:i+n] for i in range(0, len(myString), n)]

print(output)
"
33178,84991,"If player comes within a radius of enemy,change state","def is_close(object1, object2, distance):
    return math.hypot(object2.x-object1.x, object2.y-object1.y) < float(distance)

... #rest of your code

while True:  #This is your main while loop
    ... #rest of your code

    for enemy in enemies:
        if is_close(player, enemy, 25):
            enemy.state = new_state  #change state, this may simply be a color change
"
12690,44644,sort list of tuples by reordering tuples,"import operator
sorted(A, key=operator.itemgetter(2, 0, 1))
"
200,23530,Start a background process upon successful quickstart in cherrypy,"                 O
                 |
                 V
STOPPING --> STOPPED --> EXITING -> X
   A   A         |
   |    \___     |
   |        \    |
   |         V   V
 STARTED <-- STARTING
"
33527,21041,Getting inputs from the text file and storing as 2-d pattern in python,"for line in file:
    binColumn, floatColumn = line.split()
    input1.append(list(map(int, binColumn)))
    input2.append([float(floatColumn)])
"
18641,76375,Is there a way to use two if conditions in list comprehensions in python,"[i for i in my_list if '91' not in i and '18' not in i]
"
4528,71463,Can a python subclass be store in a seperate module from its superclass,"from module_where_superclass_is import SuperClass

class SubClass(SuperClass):

    def method1(self):
        # ...
"
3664,81202,How to collect values from checkbox in App Engine (python)?,"K = self.request.get_all(""article_tag"")
"
18452,40122,Numpy Two-Dimensional Moving Average,"a
=> 
array([[  0.,   1.,   2.,   3.,   4.],
       [  5.,   6.,   7.,   8.,   9.],
       [ 10.,  11.,  12.,  13.,  14.],
       [ 15.,  16.,  17.,  18.,  19.],
       [ 20.,  21.,  22.,  23.,  24.]])

uniform_filter(a, size=3, mode='constant')
=> 
array([[  1.33333333,   2.33333333,   3.        ,   3.66666667,          2.66666667],
       [  3.66666667,   6.        ,   7.        ,   8.        ,          5.66666667],
       [  7.        ,  11.        ,  12.        ,  13.        ,          9.        ],
       [ 10.33333333,  16.        ,  17.        ,  18.        ,         12.33333333],
       [  8.        ,  12.33333333,  13.        ,  13.66666667,          9.33333333]])
"
27949,63710,can't make select+update transaction in mariadb execute atomically,"with db.transaction() as txn: 
   result = list(Table.raw(""select id from tasks where started=0 limit 1""))

   // The update query should return number of rows updated. So if a thread updates the task, it should return 1, which means it acquired a lock. If not, it means the thread didn't acquire the lock
   got_lock = Table.raw(""update tasks set started=1 where id=%s and started = 0"" % my_next_task.id) > 0 

   if len(result) == 0:
      sys.exit(""nothing left to do"")

   my_next_task = if(got_lock) result[0] else return
"
2566,55071,Fuzzy matching to find the index of a word in a sentence Python,">>> sen = ""en aquest sentit, la llei preveu que quan l'administració s'hagi abstingut d'actuar per sancionar una determinada conducta, com a conseqüència d'un procés penal, i aquest procediment acabi en sentència absolutòria, podrà iniciar o continuar el corresponent procediment administratiu.""
>>> tokens = sen.split()
>>> tokens
['en', 'aquest', 'sentit,', 'la', 'llei', 'preveu', 'que', 'quan', ""l'administraci\xc3\xb3"", ""s'hagi"", 'abstingut', ""d'actuar"", 'per', 'sancionar', 'una', 'determinada', 'conducta,', 'com', 'a', 'conseq\xc3\xbc\xc3\xa8ncia', ""d'un"", 'proc\xc3\xa9s', 'penal,', 'i', 'aquest', 'procediment', 'acabi', 'en', 'sent\xc3\xa8ncia', 'absolut\xc3\xb2ria,', 'podr\xc3\xa0', 'iniciar', 'o', 'continuar', 'el', 'corresponent', 'procediment', 'administratiu.']
>>> def get_index(tokens, substr):
...    for i, tk in enumerate(tokens):
...       if substr in tk: return i
... 
>>> get_index(tokens, ""actuar"")
11
"
4797,27119,django admin filter change_list fields according to the user group,"def get_form(self, request, obj=None, **kwargs):
    ....
    ....
    defaults = {
        ""form"": self.form,
        ""fields"": fields,
        ""exclude"": exclude,
        ""formfield_callback"": curry(self.formfield_for_dbfield, request=request),
    }
    defaults.update(kwargs)
    ...
"
32069,32071,Aggregate Dataframe into weighted average series,"d.mean(axis=1)
"
3238,63498,Append columns to python cursor before writing to CSV?,"writer = csv.writer(f, quoting=csv.QUOTE_MINIMAL)
for row in cursor:
    writer.writerow(list(row) + ['', '', '', ''])
"
2588,35083,Tastypie auto log out,"class MyApiKeyAuthentication(ApiKeyAuthentication):
    def get_key(self, user, api_key):
        """"""
        Attempts to find the API key for the user. Uses ``ApiKey`` by default
        but can be overridden.
        """"""
        from tastypie.models import ApiKey

        try:
            api_key = ApiKey.objects.get(user=user, key=api_key)
            current_time = datetime.utcnow()
            current_time = current_time.replace(tzinfo=pytz.utc)

            week = timedelta(7)

            if not (current_time - api_key.created) < week:
                api_key.delete()
                return self._unauthorized()
            else:
                api_key.created = current_time
                api_key.save()

        except ApiKey.DoesNotExist:
            return self._unauthorized()

        return True
"
2848,21294,Easy OpenStreetMap tile displaying for Python,"import matplotlib.pyplot as plt
import numpy as np

import math
import urllib2
import StringIO
from PIL import Image



def deg2num(lat_deg, lon_deg, zoom):
  lat_rad = math.radians(lat_deg)
  n = 2.0 ** zoom
  xtile = int((lon_deg + 180.0) / 360.0 * n)
  ytile = int((1.0 - math.log(math.tan(lat_rad) + (1 / math.cos(lat_rad))) / math.pi) / 2.0 * n)
  return (xtile, ytile)

def num2deg(xtile, ytile, zoom):
  n = 2.0 ** zoom
  lon_deg = xtile / n * 360.0 - 180.0
  lat_rad = math.atan(math.sinh(math.pi * (1 - 2 * ytile / n)))
  lat_deg = math.degrees(lat_rad)
  return (lat_deg, lon_deg)



def getImageCluster(lat_deg, lon_deg, delta_lat,  delta_long, zoom):
    smurl = r""http://a.tile.openstreetmap.org/{0}/{1}/{2}.png""
    xmin, ymax =deg2num(lat_deg, lon_deg, zoom)
    xmax, ymin =deg2num(lat_deg + delta_lat, lon_deg + delta_long, zoom)

    Cluster = Image.new('RGB',((xmax-xmin+1)*256-1,(ymax-ymin+1)*256-1) ) 
    for xtile in range(xmin, xmax+1):
        for ytile in range(ymin,  ymax+1):
            try:
                imgurl=smurl.format(zoom, xtile, ytile)
                print(""Opening: "" + imgurl)
                imgstr = urllib2.urlopen(imgurl).read()
                tile = Image.open(StringIO.StringIO(imgstr))
                Cluster.paste(tile, box=((xtile-xmin)*256 ,  (ytile-ymin)*255))
            except: 
                print(""Couldn't download image"")
                tile = None

    return Cluster



if __name__ == '__main__':

    a = getImageCluster(38.5, -77.04, 0.02,  0.05, 13)
    fig = plt.figure()
    fig.patch.set_facecolor('white')
    plt.imshow(np.asarray(a))
    plt.show()
"
31048,74408,"python, default parameters/arguments for builtin open?","def myOpen(name, mode='r', buffer=None):
    if buffer:
        open_file = open(name, mode, buffer)
    else:
        open_file = open(name, mode)
"
27873,36411,print unicode characters in terminal with python 3,"3>> print('♔♕♖')
♔♕♖
"
18471,58444,pandas - how to ensure data frame is local,"df1 = pd.DataFrame({'a': [1, 2]})

def myfunc2(df1):
    df1 = df1.copy(deep=True)
    df1.loc[:, 'a'] = 10
    return df1

>>> df1
   a
0  1
1  2

>>> myfunc2(df1)
    a
0  10
1  10

>>> df1
   a
0  1
1  2
"
33809,70133,Get next and last ISO week number in a year,">>> import datetime
>>> today = datetime.date(2014, 9, 30)
>>> next_week = today + datetime.timedelta(days=7)
>>> next_week.isocalendar()[1]
41
"
29142,51067,Python on Windows - how to wait for multiple child processes?,"import Queue, thread, subprocess

results= Queue.Queue()
def process_waiter(popen, description, que):
    try: popen.wait()
    finally: que.put( (description, popen.returncode) )
process_count= 0

proc1= subprocess.Popen( ['python', 'mytest.py'] )
thread.start_new_thread(process_waiter,
    (proc1, ""1 finished"", results))
process_count+= 1

proc2= subprocess.Popen( ['python', 'mytest.py'] )
thread.start_new_thread(process_waiter,
    (proc2, ""2 finished"", results))
process_count+= 1

# etc

while process_count > 0:
    description, rc= results.get()
    print ""job"", description, ""ended with rc ="", rc
    process_count-= 1
"
32337,1988,How to test memory usage for different parts of the project in Python?,">>> import resource
>>> resource.getrusage(resource.RUSAGE_SELF).ru_maxrss
19968000
"
24914,63306,Extracting columns from a string or list in python,"result = l.search_s(base, ldap.SCOPE_SUBTREE, criteria, attributes)

users = []

for i in [entry for dn, entry in result if isinstance(entry, dict)]:
    dn = i.get('distinguishedName')[0].replace('\, ', '--').split(',')
    info = collections.defaultdict(list)
    info['id'] = i.get('sAMAccountName')[0]

    for part in dn:
        key,value = part.split('=',1)
        info[key].append(value)

    users.append(info)

max_cn = max(map(lambda u: len(u['CN']), users))
assert max_cn == 1

max_ou = max(map(lambda u: len(u['OU']), users))
max_dn = max(map(lambda u: len(u['DN']), users))

numflds = max_cn + max_ou + max_dn

fields = []
for u in users:
    f = [u['CN']]
    ou = u['OU'] + [''] * max_ou
    f.extend(ou[:max_ou])
    dn = u['DN'] + [''] * max_dn
    f.extend(dn[:max_dn])
    f.append(u['id'])
"
22499,31985,python how to check list does't contain any value,"def foo(l=[]):
    if any(l):
        print 'List is not empty'
    else:
        print 'List is empty'

foo([''])
# List is empty
"
35932,56405,Using my own corpus for category classification in Python NLTK,"from nltk import FreqDist
from nltk.classify.naivebayes import NaiveBayesClassifier

def make_training_data(rdr):
    for c in rdr.categories():
        for f in rdr.fileids(c):
            yield FreqDist(rdr.words(fileids=[f])), c

clf = NaiveBayesClassifier.train(list(make_training_data(reader)))
"
13982,26159,What is the difference between django classonlymethod and python classmethod?,"class classonlymethod(classmethod):
    def __get__(self, instance, owner):
        if instance is not None:
            raise AttributeError(""This method is available only on the view class."")
        return super(classonlymethod, self).__get__(instance, owner)
"
8236,65577,It's possible to skip tags if they have been already parsed and coninue with the newer ones in python?,"def writeToChatTest(CHAT_URL):
    mydriver.get(CHAT_URL)

    message = ""Some message to test""
    xpaths = {
        'textArea': ""//*[@id='ipsTabs_elChatTabs_chatroom_panel']/div[1]/div[1]/div/div/div[1]/textarea"",
        'submitMessage': ""//*[@id='ipsTabs_elChatTabs_chatroom_panel']/div[1]/div[1]/div/div/div[3]/button""
    }

    parsed_messages = []
    keepRunning = True
    while keepRunning:
        time.sleep(5)            
        lis = mydriver.find_elements_by_xpath('//ul[@class=""ipsList_reset cChatContainer""]/li')

        rst_messages_list = []

        for li in lis:
            if li.id() not in parsed_messages:
                '''this will end nicely your test if the message 'end selenium test' is being sent in chat'''
                if li.text == 'end selenium test':
                    keepRunning = False
                rst_messages_list.append(li.text)
                parsed_messages.append(li.id())

        for unique_message in rst_messages_list:
            if ""word"" in unique_message:
                mydriver.find_element_by_xpath(xpaths['textArea']).clear()
                mydriver.find_element_by_xpath(xpaths['textArea']).send_keys(unique_message[0] + "": "" + message)

                mydriver.find_element_by_xpath(xpaths['submitMessage']).click()
"
22362,52594,What is the theorical foundation for scikit-learn dummy classifier?,"from sklearn.dummy import DummyClassifier
import numpy as np

two_dimensional_values = []
class_labels           = []

for i in xrange(90):
    two_dimensional_values.append( [1,1] )
    class_labels.append(1)

for i in xrange(10):
    two_dimensional_values.append( [0,0] )
    class_labels.append(0)

#now 90% of the training data contains the target property
X = np.array( two_dimensional_values )
y = np.array( class_labels )

#train a dummy classifier to make predictions based on the most_frequent class value
dummy_classifier = DummyClassifier(strategy=""most_frequent"")
dummy_classifier.fit( X,y )

#this produces 100 predictions that say ""1""
for i in two_dimensional_values:
    print( dummy_classifier.predict( [i]) )

#train a dummy classifier to make predictions based on the class values
new_dummy_classifier = DummyClassifier(strategy=""stratified"")
new_dummy_classifier.fit( X,y )

#this produces roughly 90 guesses that say ""1"" and roughly 10 guesses that say ""0""
for i in two_dimensional_values:
    print( new_dummy_classifier.predict( [i]) )
"
36676,42580,how can you get your BASE_DIR for any script in any location in Django project?,"from django.conf.settings import BASE_DIR # won't work

from django.conf import settings # correct way
base_dir = settings.BASE_DIR
"
36492,1162,List comprehension on Python dict doesn't perform well,"customerIndex = { customer['name']:customer for customer in customers }
for row in rows:
    name = row.value('customer','name')
    print name, customerIndex[name]
"
2658,23167,Two key shortcuts,"from PySide import QtGui

def beep():
    print('beep')

app = QtGui.QApplication([])

toolbar = QtGui.QToolBar()
toolbar.show()

action = QtGui.QAction(""Action"", toolbar, shortcut=QtGui.QKeySequence(""O, P""), triggered=beep)
toolbar.addAction(action)

app.exec_()
"
30227,24105,SQLAlchemy Filter based on a function of an a field of a table,"# PostgreSQL
from sqlalchemy.sql import extract
session.query(MyTable).filter(extract('dow', MyTable.my_date) == 1)

# MySQL
from sqlalchemy import func
session.query(MyTable).filter(func.dayofweek(MyTable.my_date) == 2)
"
21694,37644,ForeignKey with multiple models,"from django.db import models
from django.contrib.contenttypes.fields import GenericForeignKey
from django.contrib.contenttypes.models import ContentType

class Image(models.Model):
    content_type = models.ForeignKey(ContentType, on_delete=models.CASCADE)
    object_id = models.PositiveIntegerField()
    content_object = GenericForeignKey('content_type', 'object_id')
"
24266,23240,Python geocode filtering by distance,"from math import sin, cos, asin, sqrt, degrees, radians

Earth_radius_km = 6371.0
RADIUS = Earth_radius_km

def haversine(angle_radians):
    return sin(angle_radians / 2.0) ** 2

def inverse_haversine(h):
    return 2 * asin(sqrt(h)) # radians

def distance_between_points(lat1, lon1, lat2, lon2):
    # all args are in degrees
    # WARNING: loss of absolute precision when points are near-antipodal
    lat1 = radians(lat1)
    lat2 = radians(lat2)
    dlat = lat2 - lat1
    dlon = radians(lon2 - lon1)
    h = haversine(dlat) + cos(lat1) * cos(lat2) * haversine(dlon)
    return RADIUS * inverse_haversine(h)

def bounding_box(lat, lon, distance):
    # Input and output lats/longs are in degrees.
    # Distance arg must be in same units as RADIUS.
    # Returns (dlat, dlon) such that
    # no points outside lat +/- dlat or outside lon +/- dlon
    # are <= ""distance"" from the (lat, lon) point.
    # Derived from: http://janmatuschek.de/LatitudeLongitudeBoundingCoordinates
    # WARNING: problems if North/South Pole is in circle of interest
    # WARNING: problems if longitude meridian +/-180 degrees intersects circle of interest
    # See quoted article for how to detect and overcome the above problems.
    # Note: the result is independent of the longitude of the central point, so the
    # ""lon"" arg is not used.
    dlat = distance / RADIUS
    dlon = asin(sin(dlat) / cos(radians(lat)))
    return degrees(dlat), degrees(dlon)

if __name__ == ""__main__"":

    # Examples from Jan Matuschek's article

    def test(lat, lon, dist):
        print ""test bounding box"", lat, lon, dist
        dlat, dlon = bounding_box(lat, lon, dist)
        print ""dlat, dlon degrees"", dlat, dlon
        print ""lat min/max rads"", map(radians, (lat - dlat, lat + dlat))
        print ""lon min/max rads"", map(radians, (lon - dlon, lon + dlon))

    print ""liberty to eiffel""
    print distance_between_points(40.6892, -74.0444, 48.8583, 2.2945) # about 5837 km
    print
    print ""calc min/max lat/lon""
    degs = map(degrees, (1.3963, -0.6981))
    test(*degs, dist=1000)
    print
    degs = map(degrees, (1.3963, -0.6981, 1.4618, -1.6021))
    print degs, ""distance"", distance_between_points(*degs) # 872 km
"
21396,75576,How do I hide a file inside an image with Python?,">>> out = file(""out.jpg"", ""wb"")
>>> out.write(file(""someimage.jpg"", ""rb"").read())
>>> out.write(file(""somehiddenfile.pdf"", ""rb"").read())
>>> out.close()
"
35488,82463,FactoryBoy overriding Attributes,"@classmethod
def attributes(cls, create=False, extra=None):
    if extra:
        if 'profile__first_name' in extra and 'username' not in extra:
            extra['username'] = extra['profile__first_name'].lower()
        elif 'username' in extra and 'profile__first_name' not in extra:
            extra['profile__first_name'] = extra['username'].title()

    return super().attributes(create, extra)
"
34577,7360,How to have an object run directly away from mouse at a constant speed,"(shipX-mouseX, shipY-mouseY)
"
22822,21932,finding unique web links using python,"import urllib
import urllib2
from bs4 import BeautifulSoup as bs

url = raw_input('enter - ')
req = urllib2.Request(url, headers={'User-Agent': 'Mozilla/5.0'})  # <--
html = urllib2.urlopen(req).read()
soup = bs(html)
tags = soup('a')
for tag in tags:
    print tag.get('href', None)
"
7554,37516,Python: Sort list by date?,"In [9]: l = [[""2014-5-29"", 19], [""2014-5-28"", 16], [""2014-5-30"", 20], [""2014-5-23"", 16], [""2014-5-22"", 1225], [""2014-5-21"", 114], [""2014-5-20"", 69], [""2014-5-27"", 10], [""2014-5-31"", 17], [""2014-5-25"", 18], [""2014-5-24"", 19], [""2014-5-26"", 18], [""2014-6-2"", 19], [""2014-6-1"", 19], [""2014-5-18"", 4], [""2014-5-19"", 27]]

In [10]: sorted(l, key=lambda (date, _): map(int, date.split('-')))
Out[10]: 
[['2014-5-18', 4],
 ['2014-5-19', 27],
 ['2014-5-20', 69],
 ['2014-5-21', 114],
 ['2014-5-22', 1225],
 ['2014-5-23', 16],
 ['2014-5-24', 19],
 ['2014-5-25', 18],
 ['2014-5-26', 18],
 ['2014-5-27', 10],
 ['2014-5-28', 16],
 ['2014-5-29', 19],
 ['2014-5-30', 20],
 ['2014-5-31', 17],
 ['2014-6-1', 19],
 ['2014-6-2', 19]]
"
2473,27886,Tracking white color using python opencv,"import cv2
import numpy as np

cap = cv2.VideoCapture(0)

while(1):

    _, frame = cap.read()
    hsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)

    # define range of white color in HSV
    # change it according to your need !
    lower_white = np.array([0,0,0], dtype=np.uint8)
    upper_white = np.array([0,0,255], dtype=np.uint8)

    # Threshold the HSV image to get only white colors
    mask = cv2.inRange(hsv, lower_white, upper_white)
    # Bitwise-AND mask and original image
    res = cv2.bitwise_and(frame,frame, mask= mask)

    cv2.imshow('frame',frame)
    cv2.imshow('mask',mask)
    cv2.imshow('res',res)

    k = cv2.waitKey(5) & 0xFF
    if k == 27:
        break

cv2.destroyAllWindows()
"
10908,60669,Comparing a matrix with the corresponding image,"for i in range(0, ran_x, 1):
    for j in range(0, ran_y, 1):
        diff[i,j] = rescaled[i,j] - im_1_check[j,i]
        print rescaled[i,j], im_1_check[j,i], diff[i,j] 
"
34951,55451,Seaborn Heatmap Colorbar Label as Percentage,"import numpy as np; np.random.seed(0)
import seaborn as sns; sns.set()
uniform_data = np.random.rand(10, 12)
ax = sns.heatmap(uniform_data, cbar=False, vmin=0, vmax=1)
cbar = ax.figure.colorbar(ax.collections[0])
cbar.set_ticks([0, 1])
cbar.set_ticklabels([""0%"", ""100%""])
"
284,30776,Type checking on results with pyparsing,"foo = Literal('foo').setResultsName('foo')
bar = Literal('bar').setResultsName('bar')
grammar = foo | bar
parsed = grammar.parseString('bar foo')
print parsed
# (['bar'], {'bar': [('bar', 0)]})
print parsed.asDict()
# {'bar': 'bar'}
"
20185,13330,Templating engine which can record some block position,"from mako.runtime import Context
class CursorContext(Context):
    __slots__=set(('lines', 'position'))

    def __init__(self, *args, **kwargs):
        super(CursorContext, self.__class__).__init__(self, self, *args, **kwargs)
        self.lines=['']
        self.position=None

    def write(self, v):
        ls=s(v).split('\n')
        self.lines[-1]+=ls.pop(0)
        self.lines+=ls

    def _record_position(self):
        if self.position is not None:
            raise ValueError('Position already defined')
        self.position=(len(self.lines), len(self.lines[-1]) if self.lines else 0)

    def _get_position(self):
        if self.position is None:
            self._record_position()
        return self.position

<...>

context=CursorContext(**env) # env is a dictionary with template environment variables
template.render_context(context) # template is mako.template.Template object
# Now template is in context.lines and 
# cursor position can be obtained by context._get_position()
"
16688,50997,How to Convert a Text File into a List in Python,"crimefile = open(fileName, 'r')
yourResult = [line.split(',') for line in crimefile.readlines()]
"
10693,14218,Python Regex Search for three terms,"regex = re.compile(""(?:Dresses)|(?:Wallets)|(?:Pumps)"")
print regex.findall(c_raw)
"
14320,54223,Flask WTF form not updating with the sqlite3 database,"    form = DatabaseForm()
    form.images.choices = [(str(x[0]), x) for x in listOfRows]
    if form.validate_on_submit():
"
36659,51575,"Need to use matplotlib scatter markers outside the chart, in labels for a bar graph","from matplotlib import rc
rc('text', usetex=True)
plt.xticks(ind+width/2., (""$\lozenge$"", ""$\square$"", ""$\plus$"", ""o"", ""$\bigtriangledown$"") )
"
2694,54354,How to make separator in read_csv more flexible wrt whitespace?,">>> import pandas as pd
>>> for line in open(""whitespace.csv""):
...     print repr(line)
...     
'a\t  b\tc 1 2\n'
'd\t  e\tf 3 4\n'
>>> pd.read_csv(""whitespace.csv"", header=None, delimiter=r""\s+"")
   0  1  2  3  4
0  a  b  c  1  2
1  d  e  f  3  4
>>> pd.read_csv(""whitespace.csv"", header=None, delim_whitespace=True)
   0  1  2  3  4
0  a  b  c  1  2
1  d  e  f  3  4
"
9780,52914,How to get a list of _id names in PyMongo,"db = MongoClient()
users = db.test.users
for u in users.find({}, {""_id"": 1}).limit(10):
    print ""!!!"", u
"
36966,34244,insert list of dict into MySQL using Python,"import MySQLdb

db = MySQLdb.connect(...)
cursor = db.cursor()

data = [
    {""name"":""Tom"", ""gender"":""male""},
    {""name"":""Jack"", ""gender"":""male""},
    {""name"":""Lee"", ""gender"":""male""}
]
cursor.executemany(""""""
    INSERT INTO foo (name, gender)
    VALUES (%(name)s, %(gender)s)"""""", data)
db.commit() 
"
7418,56199,pandas compare and select the smallest number from another dataframe,"In [54]:
# create our data
import pandas as pd

df1 = pd.DataFrame({'a':list(range(12)), 'b':list(range(12)), 'c':list(range(12))})
df1
Out[54]:
     a   b   c
0    0   0   0
1    1   1   1
2    2   2   2
3    3   3   3
4    4   4   4
5    5   5   5
6    6   6   6
7    7   7   7
8    8   8   8
9    9   9   9
10  10  10  10
11  11  11  11

[12 rows x 3 columns]

In [68]:
# create our 2nd dataframe, note I have deliberately used alternate values for column 'B'
df2 = pd.DataFrame({'A':list('abc'), 'B':[3,5,7]})
df2
Out[68]:
   A  B
0  a  3
1  b  5
2  c  7

[3 rows x 2 columns]
In [69]:

# apply row-wise function, must use axis=1 for row-wise
df2['C'] = df2.apply(lambda row: df1[row['A']].ix[df1[row.A] > row.B].min(), axis=1)
df2
Out[69]:
   A  B  C
0  a  3  4
1  b  5  6
2  c  7  8

[3 rows x 3 columns]
"
2126,24192,Python- Import Multiple Files to a single .csv file,"import glob

files = [open(f) for f in glob.glob('./*.data')] #Make list of open files
fout = open(""res.csv"", 'w')

for row in range(21):
    for f in files:
        fout.write( f.readline().strip() ) # strip removes trailing newline
        fout.write(',')
    fout.write('\n')

fout.close()
"
38754,14071,Converting a Datetime column back to an Object,"In [37]:

df = pd.DataFrame(['05/06/2015 00:00', '22/06/2015 00:00'], columns=['date'])
df['date']= pd.to_datetime(df['date'])
df
Out[37]:
        date
0 2015-05-06
1 2015-06-22

In [38]:

df['date'] = df['date'].apply(lambda x: dt.datetime.strftime(x,'%Y-%m-%d'))
df
Out[38]:
         date
0  2015-05-06
1  2015-06-22
In [39]:

df.info()
<class 'pandas.core.frame.DataFrame'>
Int64Index: 2 entries, 0 to 1
Data columns (total 1 columns):
date    2 non-null object
dtypes: object(1)
memory usage: 32.0+ bytes
"
4942,29403,Country choice for users in Django,"
from django.db import models
from django_countries.fields import CountryField

class Person(models.Model):
    name = models.CharField(max_length=100)
    country = CountryField()
"
25080,1583,Adding values to binary string,">>> not_macs_buffer=         unhexlify(""5ce7e615ff0000000000010202041f0140009e005d006404084c5ce82215ff1d02000000010202041      f013b0097005c005e04777c"")
>>> StatusStr = chr(0)
>>> for i in xrange(0,len(not_macs_buffer)):
...     StatusStr +=chr(ord(not_macs_buffer[i]))
"
35845,66303,How can I make link on web page in window using pyqt4?,"from PyQt5.QtGui import QDesktopServices
from PyQt5.QtCore import QUrl

class MainWindow(QMainWindow, Ui_MainWindow):
    def link(self, linkStr):

        QDesktopServices.openUrl(QUrl(linkStr))

    def __init__(self):
        super(MainWindow, self).__init__()

        # Set up the user interface from Designer.
        self.setupUi(self)
        self.label.linkActivated.connect(self.link)
        self.label.setText('<a href=""http://stackoverflow.com/"">Stackoverflow/</a>')
"
17383,77646,about multiprocessing process,"import multiprocessing as mp
import time

def is_odd(n):
    return bool(n%2)

def hailstone(n):
    """"""
    Compute the Hailstone sequence, as described in:
    http://en.wikipedia.org/wiki/Collatz_conjecture
    """"""
    steps = 0
    while n > 1:
        steps += 1
        if is_odd(n):
            n = 3*n + 1
        else:
            n = n//2
    return steps


def slow(limit):
    steps = sum(hailstone(n) for n in range(limit))
    #print(""n: {}  steps: {}"".format(n, steps))
    return (limit, steps)

LIMIT = 2000

start = time.time()
results0 = [slow(n) for n in range(LIMIT)]
stop = time.time()
elapsed0 = stop - start

print(""Single-threaded time: {:.2f} seconds"".format(elapsed0))

# note we are including time to set up the Pool() in the elapsed time
start = time.time()
p = mp.Pool()
results1 = p.map(slow, range(LIMIT))
stop = time.time()
elapsed1 = stop - start

results1.sort()

print(""Multiprocessing time: {:.2f} seconds"".format(elapsed1))

assert results0 == results1
"
38036,53580,Python Dot-Product with Matrix-elements,"In [1]: import numpy as np

In [2]: M1 = np.array([[1, 2], [3, 4]])

In [3]: M2 = np.array([[10, 20], [30, 40]])

In [4]: E = np.array([[1, 1], [1, -1]])

In [5]: v = np.array([M1, M2])

In [6]: np.tensordot(E, v, 1)
Out[6]: 
array([[[ 11,  22],
        [ 33,  44]],

       [[ -9, -18],
        [-27, -36]]])
"
25014,34495,Adding an entry to a python tuple,"new = [[x, y, val] for (x, y), val in zip(points, vals)]
"
39753,30229,pandas df to dict to series back to df does not produce original df,"df.apply(myfunction, args=(df2,x,y,z), axis=1).stack().reset_index(drop=True)
"
36258,20342,Parse non-pre-defined argument,"import argparse
import collections
parser = argparse.ArgumentParser()
known, unknown_args = parser.parse_known_args()

unknown_options = collections.defaultdict(list)
key = None
for arg in unknown_args:
    if arg.startswith('--'):
        key = arg[2:]
    else:
        unknown_options[key].append(arg)
"
14569,64862,How to make an equivalent to Fortran's 'access=stream' in python,"import numpy as np

#write
bintest=open('binfile.in','ab')
a=np.array([[1.0,2.0],[3.0,2.0]])
a.tofile(bintest)
bintest.close()

#read
array=np.fromfile('binfile.in',dtype=np.float64)
"
5411,7118,detecting two simultaneous keys in pyglet (python),"import pyglet

key = pyglet.window.key

win = pyglet.window.Window()
keyboard = key.KeyStateHandler()
win.push_handlers(keyboard)

print keyboard[key.UP] and keyboard[key.LEFT]
"
37963,6748,"peewee + MySQL, How to create a custom field type that wraps SQL-built ins?","from peewee import SelectQuery

# this does the uuid conversion in python
class UUIDField(Field):
    db_field = 'binary(16)'

    def db_value(self, value):
        if value is None: return None

        value = value.translate(None, '-')
        query = SelectQuery(self.model_class, fn.UNHEX(value).alias('unhex'))
        result = query.first()
        value = result.unhex
        return value

    def python_value(self, value):
        if value is None: return None
        query = SelectQuery(self.model_class, fn.HEX(value).alias('hex'))
        result = query.first()
        value = '{}-{}-{}-{}-{}'.format(
            result.hex[0:8],
            result.hex[8:12],
            result.hex[12:16],
            result.hex[16:20],
            result.hex[20:32]
        )
        return value
"
20516,72885,How do I bind '<Return>' to focused (tabbed) button in tkinter?,"def clickButton():
    widget = root.focus_get()
    if widget != root:
        widget.invoke()

root = Tkinter.Tk()
root.bind(""<Return>"", clickButton)
root.mainloop()
"
16515,84948,Create new column from nth value in a groupby group with Python pandas,">>> i = df.groupby('type')['day'].transform('idxmin')
>>> df['val@1st'] = df.loc[i, 'value'].values
>>> df
  type  day  value  val@1st
0    a    2      8        8
1    a    5      9        8
2    b   11     12       12
3    b   15     21       12
"
7847,58304,Which one to prefer - line.lower() vs. word.lower(),">>> a = ""I AM A DEVELOPER""

>>> a.lower().split()
['i', 'am', 'a', 'developer']
"
35185,56602,writing python objects to disk without loading into memory?,"#! /usr/bin/env python3
import os
import pickle


# Uncomment one of these imports to enable file compression:
# from bz2 import open
# from gzip import open
# from lzma import open


DATA_FILE = 'results.dat'
KB = 1 << 10
MB = 1 << 20
GB = 1 << 30
TB = 1 << 40


def main():
    """"""Demonstrate saving data to and loading data from a file.""""""
    save_data(develop_data())
    analyze_data(load_data())


def develop_data():
    """"""Create some sample data that can be saved for later processing.""""""
    return (os.urandom(1 * KB) * (1 * MB // KB) for _ in range(32 * GB // MB))


def save_data(data):
    """"""Take in all data and save it for retrieval later on.""""""
    with open(DATA_FILE, 'wb') as file:
        for obj in data:
            pickle.dump(obj, file, pickle.HIGHEST_PROTOCOL)


def load_data():
    """"""Load each item that was previously written to disk.""""""
    with open(DATA_FILE, 'rb') as file:
        try:
            while True:
                yield pickle.load(file)
        except EOFError:
            pass


def analyze_data(data):
    """"""Pretend to do something useful with each object that was loaded.""""""
    for obj in data:
        print(hash(obj))


if __name__ == '__main__':
    main()
"
34405,16194,Searching Python dictionary keys,"found_keys = numpy.where((my_array[:, 0] > start_time)*(my_array[:, 0] < end_time))[0]
"
8391,26058,specify wheel cache when installing a package,"sudo pip install . --no-cache-dir
"
3333,22246,Threaded python socket server,"def handler(self, clientsock, addr):
    while 1:
        data = clientsock.recv(BUFF)
        print ('Data : ' + repr(data))
        data = data.decode(""UTF-8"")
        result = re.match(self.pattern, data)
        if(result):
            self.registerClient(clientsock, data)
        if(data == ""Exit""):
            self.exitClient(clientsock)
            break
"
23768,15126,Python text parsing - how to capture and write multiple lines,"with open(""samplefile.txt"") as inf, open(""samplefileout.txt"", ""w"") as outf:
    for line in inf:
        if line.startswith(""Subject: "") or line.startswith(""From: ""):
            outf.write(line)
        elif line.startswith(""Date: ""):
            outf.write(line)
            skip =     next(inf, """")    # skip blank line
            outf.write(next(inf, """"))   # 2
            outf.write(next(inf, """"))   # 3
            outf.write(next(inf, """"))   # 4
"
39768,30584,Python/Pandas: How to quickly pivot datetimeindex on date and time?,"pd.pivot(index=s.index.date,columns=s.index.time,values=s)
"
2822,74660,Django/Python - Check a date is in current week,"import datetime
date = datetime.date.today()
start_week = date - datetime.timedelta(date.weekday())
end_week = start_week + datetime.timedelta(7)
entries = Entry.objects.filter(created_at__range=[start_week, end_week])
"
33412,81902,How is Levenshtein Distance calculated on Simplified Chinese characters?,"In [1]: from Levenshtein import distance, hamming, median

In [2]: query1 = '你好世界'

In [3]: query2 = '你好'

In [4]: print distance(query1,query2)
6

In [5]: print distance(query1.decode('utf8'),query2.decode('utf8'))
2
"
12420,38544,pyschools-tictactoe,"def tictactoe_state(moves):
  for r in range(len(moves)):
    for c in range(len(moves[r])):
      if moves[0][c] == moves[1][c] == moves[2][c]:
        return ""'%s' wins (%s)."" % (moves[0][c], 'vertical')
      elif moves[r][0] == moves[r][1] == moves[r][2]:
        return ""'%s' wins (%s)."" % (moves[r][0], 'horizontal')
      elif moves[0][0] == moves[1][1] == moves[2][2]:
        return ""'%s' wins (%s)."" % (moves[0][0], 'diagonal')
      elif moves[0][2] == moves[1][1] == moves[2][0]:
        return ""'%s' wins (%s)."" % (moves[0][2], 'diagonal')

  # You still have to make sure the game isn't a draw.
  # To do that, see if there are any blank squares.

  return 'Still playing'
"
16679,40124,"Attempting to merge three columns in CSV, updating original CSV","import csv
import StringIO

stored_output = StringIO.StringIO()

with open('file.csv', 'rb') as input_csv:
    reader = csv.DictReader(input_csv, delimiter='|', quoting=csv.QUOTE_NONE)
    writer = csv.DictWriter(stored_output, reader.fieldnames, delimiter=""|"",quoting=csv.QUOTE_NONE, quotechar=None)

    merge_cols = ""title1"", ""title3"", ""title4""

    writer.writeheader()

    for row in reader:
        row[""merge""] = ''.join(row[col] for col in merge_cols)
        writer.writerow(row)

    contents = stored_output.getvalue()
    stored_output.close()
    print contents

with open('file.csv', 'rb') as input_csv:
    input_csv = input_csv.read().strip()

if input_csv != contents.strip():
    with open('file.csv', 'wb') as new_csv:
        new_csv.write("""".join(contents))
"
10455,26783,Python - Increment file by 1,"filename = 'file'

with open(filename, ""rb"") as data_file:
    data = data_file.read()
    length = len(data)
    data = int.from_bytes(data, 'big')

data += 1

with open(filename, ""wb"") as data_file:
    data = data.to_bytes(length, 'big')
    data_file.write(data)
"
34501,71560,Python - Sieve of Eratosthenes implementation for multiprocessing environment," # Count primes in each segment
 processes = [] 
 for start in xrange(2, n+1, segment_size+1):
     end = start+segment_size
     if end>n:
         end = n
     processes.append(pool.apply_async(countprimes, [start, end]))
 for process in processes:
     count += process.get()
"
23822,82233,Python alternative way to replace certain characters from String,"import re

def Rep(str,chr,Rchr):
    if chr in str:
        str1 = Rchr if chr else None
        result = re.sub(chr, str1, str)
        print(result)
    else:
        print(""character is not present in the string to replace"")

Rep(""Hihwru"",""wr"",""oware"")
"
7787,37837,Group list by values,"values = set(map(lambda x:x[1], list))
newlist = [[y[0] for y in list if y[1]==x] for x in values]
"
2405,7839,How to get all text between just two specified tags using BeautifulSoup?,"from bs4 import BeautifulSoup
#by taking the `html` variable from the question.
html = BeautifulSoup(html)
firstBigTag = html.find_all('big')[0]
nextATag = firstBigTag.find_next('a')
def loopUntilA(text, firstElement):
    text += firstElement.string
    if (firstElement.next.next == nextATag):             
        return text
    else:
        #Using double next to skip the string nodes themselves
        return loopUntilA(text, firstElement.next.next)
targetString = loopUntilA('', firstBigTag)
print targetString
"
21711,73739,how to create a dictionary from a file?,"import collections

with open('topics.txt') as f:
    d = collections.defaultdict(list)
    for line in f:
        value, *keys = line.strip().split('~')
        for key in filter(None, keys):
            d[key].append(value)
"
27447,77197,input() and literal unicode parsing,"import ast
inp = input(""Input : "")
res = ast.literal_eval('""{}""'.format(inp))
"
34675,16925,Injecting function call after __init__ with decorator,"# define a new metaclass which overrides the ""__call__"" function
class NewInitCaller(type):
    def __call__(cls, *args, **kwargs):
        """"""Called when you call MyNewClass() """"""
        obj = type.__call__(cls, *args, **kwargs)
        obj.new_init()
        return obj


# then create a new class with the __metaclass__ set as our custom metaclass
class MyNewClass(object):
    __metaclass__ = NewInitCaller
    def __init__(self):
        print ""Init class""
    def new_init(self):
        print ""New init!!""

# when you create an instance
a = MyNewClass()
>>> Init class
>>> New init!!
"
1839,75894,Mimic JavaScript arrays in Python,"class ExpandingList(list):
    def __setitem__(self, key, value):
        try:
            list.__setitem__(self, key, value)
        except IndexError:
            self.extend((key - len(self)) * [None] + [value])

>>> a = ExpandingList()
>>> a[1] = 4
>>> a
[None, 4]
>>> a[4] = 4
>>> a
[None, 4, None, None, 4]
"
6568,76842,Bash in Python: Delete single quote,"commands.getoutput('tr -d ""\'"" < /tmp/file_1.txt > /tmp/file_2.txt')
"
13346,80762,Python optional parameter,">>> def opt_fun(x1, x2, *positional_parameters, **keyword_parameters):
...     if ('optional' in keyword_parameters):
...         print 'optional parameter found, it is ', keyword_parameters['optional']
...     else:
...         print 'no optional parameter, sorry'
... 
>>> opt_fun(1, 2)
no optional parameter, sorry
>>> opt_fun(1,2, optional=""yes"")
optional parameter found, it is  yes
>>> opt_fun(1,2, another=""yes"")
no optional parameter, sorry
"
13734,23314,Create (json-) array from browser query string,"import re
import json

transform a string to a dictionary, sepfield is the field separator, 
def str_to_dict(s, sepfield, sepkv, infields=None):
    """""" transform a string to a dictionary
       s: the string to transform
       sepfield: the string with the field separator char
       sepkv: the string with the key value separator
       infields: a function to be applied to the values

       if infields is defined a list of elements with common keys returned
       for each key, otherwise the value is associated to the key as it is""""""

    pattern = ""([^%s%s]*?)%s([^%s]*)""  % (sepkv, sepfield, sepkv, sepfield)
    matches = re.findall(pattern, s)
    if infields is None:
        return dict(matches)
    else:
        r=dict()
        for k,v in matches:
            parsedval=infields(v)
            if k not in r:
                r[k] = []
            r[k].append(parsedval)
        return r

def second_level_parsing(x):
    return x if x.find(""|"")==-1 else str_to_dict(x, ""|"","":"")

json.dumps(str_to_dict(s, ""&"", ""="", second_level_parsing))
"
34259,25324,Matching optionally in expression with Python regex?,"\A(?=\S)(?:\d+d)?(?:\h*\d+h)?(?:\h*\d+m)?(?:\h*\d+s)?\z
"
36485,45655,Regridding high resolution gridded data to low resolution coarser resolution data?,"import numpy as np
from mpl_toolkits import basemap
import matplotlib.pyplot as plt

# load data
data = np.loadtxt('mslp.txt', delimiter=',')
lons = np.loadtxt('xlon.txt', delimiter=',')
lats = np.loadtxt('xlat.txt', delimiter=',')

# take 1 dimensional slice of lons and lats
longitude = lons[0]   # array([31.1, 31.4, 31.7,...,119.1, 119.3, 119.6])
latitude  = lats[:,0] # array([-2.3, -2.1, -1.8,...,39.4, 39.6, 39.8])

# subdivide longitude and latitude into ~1deg grid data
lons_sub, lats_sub = np.meshgrid(longitude[::4], latitude[::4])

# implement basemap.interp to interpolate along ~1deg grid data
data_course = basemap.interp(datain=data, xin=longitude, yin=latitude,
                             xout=lons_sub, yout=lats_sub, order=3)

m = basemap.Basemap(llcrnrlon=longitude[0],  llcrnrlat=latitude[0],
                    urcrnrlon=longitude[-1], urcrnrlat=latitude[-1],
                    projection='merc', resolution='c')

fig = plt.figure()
# ax1 -- contour plot of resampled data
ax1 = fig.add_subplot(211)
m.contour(lons_sub, lats_sub, data_course, linewidths=2.5, latlon=True)
m.fillcontinents(color=[0.7, 0.9, 0.8], lake_color=[0.3, 0.7, 0.9])
m.drawmapboundary(fill_color=[0.3, 0.7, 0.9])
m.drawcoastlines()

# ax2 -- imshow plot of resampled data
ax2 = fig.add_subplot(212)
m.drawcoastlines()
m.imshow(data_course, interpolation='nearest',
         extent=[lons_sub[0], lons_sub[-1], lats[0], lats[-1]])
"
7209,68811,How do I sort this list?,"var q = from el in li
        orderby foo(el)
        select el;
li = q.ToList();
"
6161,351,Reversing str.translate in Python,"from string import digits
s = ""He123llo Wor456ld!"" 
s_ = s.translate(None, digits)
s = s.translate(None, s_)
print s

>>> 123456
"
18496,22248,Regex Python: Get Page and Subpage from URL,"my_str = ""/projects/myproject/""
matches = re.findall(""/(.+?)/(.+)/"",my_str)
print matches  #prints ['projects','myproject']
"
13928,83125,Adding a background image to a plot with known corner coordinates,"import numpy as np
import matplotlib.pyplot as plt
from scipy.misc import imread
import matplotlib.cbook as cbook

np.random.seed(0)
x = np.random.uniform(0.0,10.0,15)
y = np.random.uniform(0.0,10.0,15)

datafile = cbook.get_sample_data('lena.jpg')
img = imread(datafile)
plt.scatter(x,y,zorder=1)
plt.imshow(img, zorder=0, extent=[0.5, 8.0, 1.0, 7.0])
plt.show()
"
30120,62311,How to eager load optionally exists filtered relation,".outerjoin(ArticleL10n, and_(Article.l10n, ArticleL10n.lang == ""en""))
"
8317,31434,Folder modification time including the files inside it?,"modTime = max([os.path.getmtime(os.path.join(dir, p)) for p in os.listdir(dir)])
"
7634,70789,Python (1..n) syntax?,"sage: preparse(""(1..12)"")
'(ellipsis_iter(Integer(1),Ellipsis,Integer(12)))'
"
6301,15476,In python - the operator which a set uses for test if an object is in the set,"class MyClass(object):
    def __init__(self, s):
        self.s = s
    def __cmp__(self, other):
        return cmp(self.s, other.s)
    def __hash__(self):
        return hash(self.s) # Use default hash for 'self.s'

instance1, instance2 = MyClass(""a""), MyClass(""a"")
instance3 = MyClass(""b"")

print instance2==instance1             # True
print instance2 in [instance1]         # True
print instance2 in set([instance1])    # True
"
28898,62970,Find a path in Windows relative to another,"def findpath(target, start=os.path.curdir):
    sdrive, start = os.path.splitdrive(start)
    tdrive, target = os.path.splitdrive(target)
    rdrive = tdrive or sdrive
    return os.path.normpath(os.path.join(rdrive, os.path.join(start, target)))
"
1377,61045,Django Template: How to use parent variable in nested for loop,"context = {""rounds"":[[""match1"",""match2"",""match3""],[""match2"",""match1""]]

{% for round in rounds %}
   <div id=""round_{{forloop.counter0}}"">
      {% for match in round %}
          I am match {{forloop.counter1}}
          in round {{forloop.counter0 }}
      {% endfor %}
   </div>
{% endfor %}
"
2959,29743,"Readability of Scientific Python Code (Line Continuations, Variable Names, Imports)","cost = opts[""weightcost_pretrain""].dot(net[""weights""][ix1][ix2])
weight = lrate * (CD / nCases - cost)
net[""weights""][ix1][ix2] += weight
"
20419,64478,how can I get filenames without directory name,">>> os.path.basename('/path_name/1.log,/path_name/2.log')
'2.log'
"
28988,33655,Python: How do I get time from a datetime.timedelta object?,"value = datetime.timedelta(0, 64800)
(datetime.datetime.min + value).time()
"
4820,26659,Django redirect and break current flow,"def MyView(request):
   object = MyAuth(request)

   # if it is a redirect then return it.
   if isinstance(object, HttpResponseRedirect):
       return object

   # do stuff with object

   return render('some_template.html')
"
20168,59697,Merge QuerySetValues object in Django,"categories=CategoryAnswers.objects.values('category', 'brand').distinct()
for cat in categories:
    print CategoryAnswers.objects.filter(category=cat[""category""], brand=cat[""brand""]).values('category', 'brand').annotate(total=Sum('answer'))
"
9141,17093,Is the form in create view already bound?,"def post(self, request, *args, **kwargs):
    form_class = self.get_form_class()
    form = self.get_form(form_class)
    if form.is_valid():
        return self.form_valid(form)
"
1133,14442,"Drop columns from pandas dataframe, regardless of whether ALL column names are present","df.drop(set(drop_list) & set(df.columns), axis=1)
"
16735,65934,Asynchronous api for obtaining GPS position in python for S60,"import threading
import time

def doit1():
    for i in range(10):
        time.sleep(.1)
        print 'doit1(%d)' % i

def doit2():
    for i in range(10):
        time.sleep(.2)
        print 'doit2(%d)' % i

t = threading.Thread(target=doit2)
t.start()
doit1()
t.join()
print 'All done.'
"
9197,73043,Possible to extract the git repo revision hash via Python code?,"from subprocess import Popen, PIPE

gitproc = Popen(['git', 'show-ref'], stdout = PIPE)
(stdout, stderr) = gitproc.communicate()

for row in stdout.split('\n'):
    if row.find('HEAD') != -1:
        hash = row.split()[0]
        break

print hash
"
24256,77660,Pass values in a Python list values without parentheses to variable,"""("" + "", "".join(column_names) + "")""
"
20578,38888,wxPython: How to remove slider and in return populate custom gauge with function CpuData,"import wx
import wx.lib.newevent

import random

CpuEvent, EVT_CPU_EVENT = wx.lib.newevent.NewEvent()

class CPU(wx.Panel):
    def __init__(self, parent, id):
        wx.Panel.__init__(self, parent, id, size=(80, 110))

        self.value  = 100
        self.parent = parent

        self.SetBackgroundColour('#ffffff')

        self.Bind(wx.EVT_PAINT, self.OnPaint)
        self.Bind(EVT_CPU_EVENT, self.do_value)

    def do_value(self, event):
        self.value = event.value
        self.Refresh()

    def OnPaint(self, event):

        dc = wx.PaintDC(self)

        dc.SetDeviceOrigin(0, 100)
        dc.SetAxisOrientation(True, True)

        pos = self.value
        rect = pos / 5

        for i in range(1, 21):
            if i > rect:
                dc.SetBrush(wx.Brush('#075100'))
                dc.DrawRectangle(10, i*4, 30, 5)
                dc.DrawRectangle(41, i*4, 30, 5)
            else:
                dc.SetBrush(wx.Brush('#36ff27'))
                dc.DrawRectangle(10, i*4, 30, 5)
                dc.DrawRectangle(41, i*4, 30, 5)


class CPUWidget(wx.Frame):
    def __init__(self, parent, id, title):
        wx.Frame.__init__(self, parent, id, title)

        self.cpu = CPU(self, -1)
        self.timer = wx.Timer(self)
        self.Bind(wx.EVT_TIMER, self.do_CpuData)

        hbox = wx.BoxSizer(wx.HORIZONTAL)
        hbox.Add(self.cpu, 1, wx.EXPAND | wx.ALIGN_CENTER_VERTICAL, 5)

        self.SetSizer(hbox)
        hbox.Fit(self)
        self.Centre()
        self.Show(True)
        self.timer.Start(1000)

    def do_CpuData(self, event = None):
        cData = random.randint(0, 100)
        event = CpuEvent(value = cData)
        wx.PostEvent(self.cpu, event)

app = wx.App(redirect = False)
CPUWidget(None, -1, 'cpu')
app.MainLoop()
"
3127,17715,subtract two values ​​in the field,"def _tot_get_deposit(self, cr, uid, ids, name, arg, context=None):
    res = {}
    results = []
    for deposit in self.browse(cr, uid, ids, context=context):
        sum = 0.0
        sum = A - B
        results.append( sum )
    return (res,results)
"
4798,45113,Python: Simplify many if-statements,"def treeToList(node, order=Order.INORDER):
    if node is None:
        return []

    right = treeToList(node.right, order)
    down = treeToList(node.down, order)
    current = [node.data]

    if order == Order.PREORDER:
        return current + right + down

    if order == Order.INORDER:
        return right + current + down

    if order == Order.POSTORDER:
        return right + down + current
"
27995,14778,How to (efficiently) check if any two elements differ by 10,"from operator import itemgetter
lst = [589, 354, 692, 474, 739, 731, 259, 723, 497, 48]
# temp is list as pairs of original index and value, sorted by value
temp = [[i, e] for i, e in sorted(enumerate(lst), key=itemgetter(1))]
last = None
for item in temp:
    while last is not None and item[1] < last + 10:
        item[1] += 10
    last = item[1]
# sort the list back to original order using the index from the tuple
lst_new = [e for i, e in sorted(temp, key=itemgetter(0))]
"
18799,80292,How to return multiple dictionaries from my Python main function,"In [4]: def main():
   ...:     dict1 = {'a1':{'b1':1,'c1':2},'a2':{'b2':1,'c2':2}}
   ...:     dict2 = {'cat':0,'dog':2}
   ...:     return dict1, dict2
   ...: 

In [5]: x, y = main()

In [6]: x
Out[6]: {'a1': {'b1': 1, 'c1': 2}, 'a2': {'b2': 1, 'c2': 2}}

In [7]: y
Out[7]: {'cat': 0, 'dog': 2}
"
28824,61224,Get ordered key in dictionary by index,">>> from collections import OrderedDict as odict
>>> d = [('banana', 3), ('apple', 4), ('pear', 1), ('orange', 2)]
>>> print odict(d).keys()
['banana', 'apple', 'pear', 'orange']
"
19505,71585,Reading data file with varying number of columns python,"from itertools import izip_longest
def grouper(iterable, n, fillvalue=None):
    ""Collect data into fixed-length chunks or blocks""
    # grouper('ABCDEFG', 3, 'x') --> ABC DEF Gxx
    args = [iter(iterable)] * n
    return izip_longest(fillvalue=fillvalue, *args)


with open('z.t') as f:
    d = grouper(f, 4)
    for x in d:
            print ','.join(y.rstrip() for y in x) 

a,b,c,d,e,f,g,h
i,j,k,l,m,n,o,p
"
8452,39386,python elementtree - getting average,"total = 0
"
9869,33506,Get current working directory from Vte (GTK Terminal Widget) in Python,"import vte
import os
v = vte.Terminal()
vPid = v.fork_command()
workingDir = os.readlink('/proc/%s/cwd' % vPid)
"
19569,1236,Python 3 How do I append a list in a file?,"value = 5
user = input('Please enter a username: ')

with open('myfile.txt', 'r+') as f:
    var = f.readlines()
    if user in ''.join(var):
        for count, line in enumerate(var):
            if user in line:
                found = line.strip() + ', ' + str(value) + '\n'
                var[count] = found
    else:
        '{} not in the file but has been added'
        var.append(user + ' ' + str(value) + '\n')

with open('myfile.txt', 'w') as f:
        f.writelines(var)
"
21152,22227,returning a list of objects with HttpResponseRedirect,"return render_to_response('MeetingHub/addmeeting.html', 
    {'meetingform': meetingform, 'message':message,
    'meeting': meeting, 'participants': participants,
    #... and anything else that might be helpful to show on the page
    },
    context_instance=RequestContext(request))
"
18183,23521,Python add to a function dynamically,">>> class A(object):
...     def test(self):
...         print ""orig""
...
>>> first_a = A()
>>> first_a.test()
orig
>>> def decorated_test(fn):
...     def new_test(*args, **kwargs):
...         fn(*args, **kwargs)
...         print ""new""
...     return new_test
...
>>> A.test = decorated_test(A.test)
>>> new_a = A()
>>> new_a.test()
orig
new
>>> first_a.test()
orig
new
"
16594,66123,Span models in Django without a ForeignKey,"def get_values(self, env):
    class ValUsers(models.Model):
        name = models.TextField(max_length=64)
        value = models.TextField(max_length=2048)
    ret = EnvUsers.objects.raw(
        'SELECT a.id, a.name, v.value '
        ' FROM Authorization a, Value v ' 
        ' WHERE a.user_root = v.parent '
        '      and a.active = %s '
        '      and v.active = %s '
        '      and v.name = %s ',
        [True, True, env]
    )

    return {u.name: u.value for u in ret}
"
35888,12992,Python json decode and search,"import json


json_data = json.loads(myjson)

for key, entry in json_data['data'].iteritems():
    print key, entry['subject']
"
37398,5090,Can I CREATE TEMPORARY TABLE in SQLAlchemy without appending to Table._prefixes?,"t = Table(
    't', metadata,
    Column('id', Integer, primary_key=True),
    # ...
    prefixes=['TEMPORARY'],
)
"
23445,27781,Writing list of dictionaries to CSV with each dictionary's values in a new column,"with open('output.csv', 'wb') as output:
    writer = csv.writer(output)
    for each in stock_data:
        for key, value in each.iteritems():
            writer.writerow([key, value])
"
2845,27416,How to get something random in datastore (AppEngine)?,"rand_num = random.random()
entity = MyModel.all().order('rand_num').filter('rand_num >=', rand_num).get()
if entity is None:
  entity = MyModel.all().order('rand_num').get()
"
32942,48787,Finding frequent users in pandas dataframe,"# instead of lambda x: x.count()
def count_more_than_one(x):
    c = x.value_counts()
    return c[c > 1]

In [11]: df.groupby(['login_date'])['user_id'].apply(count_more_than_one)
Out[11]:
login_date
2011-01-17  347    2
2011-01-18  434    4
dtype: int64

In [12]: df.groupby(['login_date'])['user_id'].apply(count_more_than_one).unstack(1)
Out[12]:
            347  434
login_date
2011-01-17    2  NaN
2011-01-18  NaN    4
"
1804,80525,Running django and flask on same apache server,"WSGISocketPrefix /var/www/wsgi
<VirtualHost *:80>
        ServerAdmin name@email.com
        ServerName  domain.com
        ServerAlias www.domain.com
        DocumentRoot /var/www/
        LogLevel warn
        WSGIDaemonProcess apache processes=2 maximum-requests=500 threads=1
        WSGIProcessGroup apache
        Alias /media /var/www/media/
        WSGIScriptAlias /app1 /var/www/flaskapps/app.wsgi
        WSGIScriptAlias / /var/www/djangoapps/django.wsgi

</VirtualHost>
"
39658,63571,Pythonic way to walk a self-referential dictionary,">>> def walk(d, val):
        while val in d:
            val = d[val]
        return None if val == '-' else val

>>> d = {'1': '-', '0': '6', '3': '1', '2': '3', '4': '5', '6': '9'}
>>> print {k: walk(d, k) for k in d}
{'1': None, '0': '9', '3': None, '2': None, '4': '5', '6': '9'}
"
3986,32040,Python 3: Optimizing summation over scipy arrays,"H_bis = np.sum(M[1:2*n**2:2, :2*n**2] * M[:2*n**2:2, :2*n**2].conjugate(), axis=1)
H_bis = H_bis * H_bis.conjugate()
H_bis = -np.sum(H_bis)
"
26418,60944,How to check Proxy headers to check anonymity?,"from http.server import HTTPServer, SimpleHTTPRequestHandler

class HeaderDumper(SimpleHTTPRequestHandler):
    def do_GET(self):
        try:
            return super().do_GET()
        finally:
            print(self.headers)

server = HTTPServer(("""", 8123), HeaderDumper)
server.serve_forever()
"
33367,48868,Export MySQL database to sql file with Python os.system,"import os
os.system('mysqldump -u root -p%s database > database.sql' % password)
"
34749,27082,Pycharm project imports modules incorrectly,"/project
    /run.py
    /myappp
        __init__.py
    /backup
        __init__.py
"
15095,43266,Read numbers in a string with any number of digits in python,"name='report 112 hits'
namelist = name.split()
print(namelist[0])
# report
print(namelist[1])
# 112
print(namelist[2])
# hits
"
11859,38112,Delphi and Python - A few short queries,"type
  TWin32PathBuffer = array [0..Windows.MAX_PATH-1] of char;

function GetSpecialFolderPath(const CSIDL: Integer): string;
var
  Buffer: TWin32PathBuffer;
begin
  Win32Check(SHGetSpecialFolderPath(0, @Buffer[0], CSIDL, False));
  Result := Buffer;
end;
"
7031,5890,Convert a simple Python2 code to PHP,"// net, cid, lac = 25002, 9164, 4000
$net = 25002;
$cid = 9164;
$lac = 4000;

// import urllib

//a = '000E00000000000000000000000000001B0000000000000000000000030000'
$a = '000E00000000000000000000000000001B0000000000000000000000030000';

//b = hex(cid)[2:].zfill(8) + hex(lac)[2:].zfill(8)
$b = sprintf(""%08x%08x"", $cid, $lac);

//c = hex(divmod(net,100)[1])[2:].zfill(8) + hex(divmod(net,100)[0])[2:].zfill(8)
$c = sprintf(""%08x%08x"", $net % 100, floor($net / 100));

//string = (a + b + c + 'FFFFFFFF00000000').decode('hex')
$string = $a . $b . $c . 'FFFFFFFF00000000';
$newstring = '';
for( $i = 0, $count = strlen($string); $i < $count; $i++ ) {
 $newstring .= sprintf(""%c"", hexdec($string{$i} . $string{++$i}));
}

//data = urllib.urlopen('http://www.google.com/glm/mmap',string)
$ch = curl_init('http://www.google.com/glm/mmap');
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, $newstring);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

//r = data.read().encode('hex')
$r = curl_exec($ch);

//print float(int(r[14:22],16))/1000000, float(int(r[22:30],16))/1000000
$r = array_pop(unpack(""H*"", $r));
printf(""%f, %f"", hexdec(substr($r, 14, 8)) / 1000000, hexdec(substr($r, 22, 8)) / 1000000);
"
23589,48296,Django: Problem reading multi valued POST variable,"prices = request.POST.getlist(""IPN_PRICE[]"")
"
36468,47625,Removing Zeroes From a List,"def remove_zeros(number):
    while number and number % 10 == 0:
        number //= 10
    return number

number_in_a_list = [764996183739035417047009233711337898622621000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000]

result = [remove_zeros(n) for n in number_in_a_list]
"
27090,49632,Custom Items in QListView,"# create item widget
item = QListWidgetItem()
w = CustomItemWidget()
w.setTitle = ""Title""
w.setDescription = ""Blah blah""
# would have a QPixmap already cached
w.setBadgeImage = preCreatedPixmaps['thisBadge']  
listWidget.insertItem(item)
listWidget.setItemWidget(item, w)
"
31069,54597,Traits List not reporting items added or removed,"from enthought.traits.api import HasTraits, Tuple, Delegate, Trait, Float,Dict,List

class Foo(HasTraits):
    def __init__(self):
        super(Foo,self).__init__()
        self.add_trait('node',List)
    def _node_changed(self,name,old,new):
        print(""_node_changed: %s %s %s"" % (name, str(old), str(new)))
    def _node_items_changed(self,name,old,new):
        print(""_node_items_changed: %s %s %s"" % (name, str(old), str(new)))

f = Foo()

# change the List membership with append:
f.node.append(0)
# _node_items_changed: node_items <undefined> <traits.trait_handlers.TraitListEvent object at 0x10128af50>

# change the List itself:
f.node = [1,2,3]
# _node_changed: node [0] [1, 2, 3]

# change a member (same result as append):
f.node[1] = 4
# _node_items_changed: node_items <undefined> <traits.trait_handlers.TraitListEvent object at 0x10128af50>
"
36278,28777,sqlalchemy query: result column names,"models = session.query(
    DevicesGps.ReceivedDateUtc.label(""gps_telemetry_ReceivedDateUtc""), 
    DevicesGps.ReceivedTimeUtc.label(""gps_telemetry_ReceivedTimeUtc""),   
    DevicesGps.Latitude.label(""gps_telemetry_Latitude""),                                 
    DevicesGps.Longitude.label(""gps_telemetry_Longitude"")
)
"
7228,13419,Bold code in rst,".. raw:: html

   <div>Some stuff <pre>some <b>bold</b> text</pre>...</div>
"
20116,1076,Check variable of modules in package,"import pkgutil

def usable_modules(package_name):
    modules = pkgutil.iter_modules([package_name])
    usable = []
    for importer, name, ispkg in modules:
        module = pkgutil.find_loader('{0}.{1}'.format(package_name, name)).\
                                                             load_module(name)
        if hasattr(module, 'CAN_USE') and module.CAN_USE:
            usable.append(module)
    return usable

print(usable_modules('functions'))
"
29236,5592,None memory location,"PyAPI_DATA(PyObject) _Py_NoneStruct; /* Don't use this directly */
#define Py_None (&_Py_NoneStruct)
"
3213,64871,Equivalent of Python code in C#?,"using System.Linq.Xml;
using System.Net;
using System.Collections.Generic;
using System.Web;

// ...
var client = new WebClient();
var parameters = new Dictionary<string, string> 
{ 
  { ""username"", username },
  { ""password"", password }
};

var result = client.UploadString(String.Format(""{0}/services/auth/login"", BaseUrl), UrlEncode(parameters));
var doc = XDocument.Load(result);  // load response into XML document (LINQ)
var key = doc.Elements(""sessionKey"").Single().Value // get the one-and-only <sessionKey> element.
Console.WriteLine(""====>sessionkey:  {0}  <===="", key);
// ...

// Utility function: 
private static string UrlEncode(IDictionary<string, string> parameters)
{
  var sb = new StringBuilder();
  foreach(var val in parameters) 
  {
    // add each parameter to the query string, url-encoding the value.
    sb.AppendFormat(""{0}={1}&"", val.Key, HttpUtility.UrlEncode(val.Value));
  }
  sb.Remove(sb.Length - 1, 1); // remove last '&'
  return sb.ToString();
}
"
6350,56147,How to get the records from the current month in App Engine (Python) Datastore?,"import datetime
from google.appengine.ext import db

q = db.Query(DateTest)

# This month
month = datetime.datetime.today().replace(day=1, hour=0, minute=0, second=0, microsecond=0)

q.filter('dateAdded >= ', month)
results = q.fetch(10)
"
16601,27138,How to generate a sequence of future datetimes in Python and determine nearest datetime from set,"def find_next(cur_dt):
    import datetime as dt
    t = [dt.time(5,30), dt.time(8,30), dt.time(13,0), dt.time(17,30)]

    cur_t = cur_dt.time()
    cur_d = cur_dt.date()

    for i in range(len(t)):
        if t[i] > cur_t:
            rt = [t[(j+i)%len(t)] for j in range(len(t))]
            rd = [cur_d] * (len(t)-i) + [cur_d + dt.timedelta(days=1)]*i
            return [dt.datetime.combine(rd[j],rt[j]) for j in range(len(rt))]

    # everything happens tomorrow        
    return [dt.datetime.combine(cur_d + dt.timedelta(days=1), i) for i in t]
"
30821,413,Import Numerous Modules,"import importlib

list_of_module_names = ...
for s in list_of_module_names:
    importlib.import_module(s)
"
12251,28418,Remapping key names in a list of dictionaries,">>> d = [{'type_id': 6, 'type_name': 'Type 1'}, {'type_id': 12, 'type_name': 'Type 2'}]
>>> print [{'type':x['type_id'],'name':x['type_name']} for x in d]
[{'type': 6, 'name': 'Type 1'}, {'type': 12, 'name': 'Type 2'}]
>>>
"
14825,31351,How to create a strand count?,"import re

def rna_strand_count(test_string,sub_string):
    test_string = test_string.replace(' ','').upper()    
    sub_string = sub_string.replace(' ','').upper()    
    first = sub_string[0]
    second = sub_string[1:]
    return {sub_string:len(re.findall(r'{0}(?={1})'.format(first,second),test_string))}


print rna_strand_count('AAAA','AA')
"
30577,40650,matplotlib interactive mode: determine if figure window is still displayed,"import matplotlib.pyplot as plt

if plt.fignum_exists(<figure number>):
    # Figure is still opened
else:
    # Figure is closed
"
15577,39756,Rename python tempfile,"import shutil
shutil.copy(f.name, 'new-name')
"
22078,14215,Learn Python the Hard Way Exercise 17 Extra Question(S),"indata = open(from_file).read()
"
35981,35111,Use 2 Threads to calculate the nth prime number in Python,"import threading, doctest, cProfile, time, random
result = [2]
counter = 1

def get_int(num):
    for i in range(3, num):
        yield i

def is_prime(num):
    for j in range(2,int(num)):
        if (num % j) == 0:
            return False
    result.append(num)
    return True 

def prime_calculator(nth):
    lock = threading.Lock()
    global result, counter, integer
    while counter < (nth):
        if is_prime(next(integer)):
            lock.acquire()
            try:
                counter += 1
            finally:
                lock.release()
        time.sleep(random.random()/1000)

def prime(nth):
    """"""Returns the nth prime number
    >>> prime(1)
    2
    >>> prime(2)
    3
    >>> prime(4)
    7
    >>> prime(1000)
    7919
    """"""   
    global integer, counter, result
    integer = get_int(99999999)
    threads = [threading.Thread(daemon=True, target=prime_calculator, args=(nth,)) for i in range(2)]
    [thread.start() for thread in threads]
    [thread.join() for thread in threads]
    counter = 1
    return result[-1]

if __name__ == ""__main__"":
    doctest.testmod()
    cProfile.run('print(prime(1000))')
"
20099,40247,"ImportError: No module named test_data, but test_data.py in same directory as test.py under PyCharm using virtualenv","import sys
import os
try:
    import test_data
except ImportError:
    sys.path.append(os.path.dirname(__file__))
    try:
        import test_data
    finally:
        sys.path.remove(os.path.dirname(__file__))
"
19529,63750,using numpy to convert an int to an array of bits,"In [6]: np.unpackbits(np.array([1], dtype='>i8').view(np.uint8))
Out[6]: 
array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
       0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1], dtype=uint8)
"
14762,46252,Getting the first and last item in a python for loop,"from calendar import Calendar, SUNDAY

cal = Calendar(SUNDAY)
month_dates = list(cal.itermonthdates(year, month))

month_start = month_dates[0]
month_end = month_dates[-1]
"
1464,63819,Can I make use of an interrupt to print a status while still continue process?,"import signal

def sigint_handler(signum, frame):
     print ""my_variable ="", frame.f_locals.get(""my_variable"", None)

signal.signal(signal.SIGINT, sigint_handler)
"
35,46756,ImportError: No module named control,"from __future__ import absolute_import

import mirad.fetcher_tasks as tasks
from mirad.models.models import SourceModel
from mirad.settings import *
from celery.task.control import inspect

parse_feed_tasks = list()

def fetch():

        for source in SourceModel.objects(active=True):
            a = tasks.parse_feed.delay(source)
"
24195,71666,How does one rename all keys in right side of a join result to prepend a value?,"EQ_JOIN.merge(
  lambda row: {'right': row['right'].coerce_to('array').map(
                          lambda pair: [r.expr('organization_') + pair[0], pair[1]]
                        ).coerce_to('object')}
)
"
21425,31640,Sqlite3: Select column items based on the value of different column items,"select * from question where topic='The Fundamentals of Chemistry'
"
26535,18520,Generating word docs with Flask?,"from flask import Flask, render_template, send_file
from docx import Document
from cStringIO import StringIO

@app.route('/')
def index():
    document = Document()
    document.add_heading(""Sample Press Release"", 0)
    f = StringIO()
    document.save(f)
    length = f.tell()
    f.seek(0)
    return send_file(f, as_attachment=True, attachment_filename='report.doc')
"
39539,82509,flask jinja2 href not linking correctly,"<a href=""{{ ''.join(['http://', entry.Url]) }}"">{{ entry.Url }}</a>

# entry.Url == www.google.com
# <a href=""http://www.google.com"">www.google.com</a>
"
32973,40341,SQLAlchemy relationships to same table,"from sqlalchemy import (
    Column,
    Table,
    Integer,
    Date,
    String,
    ForeignKey,
)

from sqlalchemy import create_engine

from sqlalchemy.orm import sessionmaker

from sqlalchemy.ext.declarative import declarative_base

from sqlalchemy.orm import relationship, backref

engine = create_engine('sqlite:///data.sqlite')
DBSession = sessionmaker(bind=engine)

Base = declarative_base()


class Match(Base):
    __tablename__ = 'data'

    id = Column(Integer, primary_key=True)
    date = Column(Date)
    tournament = Column(String)
    best_of = Column(Integer)
    score = Column(String)
    maps = relationship('Map')
    team1_id = Column(ForeignKey('team.id'))
    team2_id = Column(ForeignKey('team.id'))

    team1 = relationship('Team', primaryjoin='Match.team1_id == Team.id')
    team2 = relationship('Team', primaryjoin='Match.team2_id == Team.id')


class Map(Base):
    __tablename__ = 'map'

    id = Column(Integer, primary_key=True)
    match = Column(Integer, ForeignKey('data.id'))
    name = Column(String)
    score = Column(String)


lineup = Table('lineup',
               Base.metadata,
               Column('player_id', Integer, ForeignKey('player.id')),
               Column('team_id', Integer, ForeignKey('team.id')))



class Player(Base):
    __tablename__ = 'player'

    id = Column(Integer, primary_key=True)
    nickname = Column(String)


class Team(Base):
    __tablename__ = 'team'

    id = Column(Integer, primary_key=True)
    name = Column(String)

    players = relationship('Player', secondary=lineup, backref='teams')
"
29159,85078,SQLAlchemy : is there any good automated way to rename columns,"query = session.query(Email.address)
print [str(column['expr']) for column in query.column_descriptions]  # should print [""Email.address""]

data = query.filter(Email.id==str(myId)).one()
"
35651,57893,default django model filed with value from the immediatelly previous entry,"class TimeLogForm(forms.ModelForm):
    class Meta:
        exclude = ['begin_sec']
        model = TimeLog

    def __init__(self, *args, **kw):
        super(TimeLogForm).__init__(self, *args, **kw)

    def save(self, *args, **kw):
        instance = super(TimeLogForm, self).save(commit=False)
        last_entry = TimeLog.objects.all().order_by('-id')[0]
        if last_entry:
            instance.begin_sec = last_entry.begin_sec
        else:
            # this is the very first record do something
            pass
        instance.save()
        return instance
"
33149,17089,I need assistance in Python - Searching within a function,">>> find('red blue', 'd', 0) # starts at index 0 and finds 'd' at index 2
2
>>> find('red blue', 'd', 3) # starts at index 3 and finds no d's
-1
>>> find('red blue', 'e', 3) # starts at index 3, so misses the 'e' at index 1
7
"
38274,62039,local histogram equalization,"import numpy as np
import matplotlib
import matplotlib.pyplot as plt

from skimage import data
from skimage.util import img_as_ubyte
from skimage import exposure
import skimage.morphology as morp
from skimage.filters import rank

# Original image
img = img_as_ubyte(data.moon())

# Global equalize
img_global = exposure.equalize_hist(img)

# Local Equalization, disk shape kernel
# Better contrast with disk kernel but could be different
kernel = morp.disk(30)
img_local = rank.equalize(img, selem=kernel)

fig, (ax_img, ax_global, ax_local) = plt.subplots(1, 3)

ax_img.imshow(img, cmap=plt.cm.gray)
ax_img.set_title('Low contrast image')
ax_img.set_axis_off()

ax_global.imshow(img_global, cmap=plt.cm.gray)
ax_global.set_title('Global equalization')
ax_global.set_axis_off()

ax_local.imshow(img_local, cmap=plt.cm.gray)
ax_local.set_title('Local equalization')
ax_local.set_axis_off()

plt.show()
"
34217,53292,Using Loops in a Python Piglatin Translator,"tDict = {}

with open(""Lexicon.txt"", ""r"") as infile:    
  for line in infile:
    s = line.split()
    tDict[s[0]] = s[1]

while True:
  wordIn = input(""Enter the English word(s) to be translated (enter 'exit' to stop the program): "")

  if wordIn == ""exit"": break

  words = wordIn.split()
  for word in words:
    if word in tDict.keys():
      print(tDict[word])
    else:
      print(""*"" + word)
"
22218,3232,Is there a variation of the while loop that will only run the clause once until a change occurs?,"THRESHOLD = 100

waiting_for_high_value = True  # False means: waiting for low value

while True:  # Infinite loop (or ""while on"", if ""on"" is a changing variable)
    if waiting_for_high_value:
        if value_ind >= THRESHOLD:
            open_time = time()
            waiting_for_high_value = False
    else:  # Waiting for a low value:
        if value < THRESHOLD:
            close_time = time()
            calculate_time_open(open_time, close_time)
            waiting_for_high_value = True
"
39719,19209,Python3:Save File to Specified Location,"import os
target_dir = r""C:\full\path\to\where\you\want\it""

fullname = os.path.join(target_dir,filename)
with open(fullname,""w"") as f:
   f.write(""<html>....</html>"")

import webbrowser

url = ""file://""+fullname.replace(""\\"",""/"")
webbrowser.open(url,True,True)
"
29244,10509,Python to extract specific numbers from text file,"import csv

combination = '1,0,1,0,0'.split(',')

with open('pythonbigDATA.txt') as infile:
    for row in csv.reader(infile):
        if row[1:] == combination:
            print row[0], ','.join(row[1:])
"
19775,51933,List Comprehension in Python,">>> a = [(1, 2), (3, 4), (4, 5)]
... b = [1, 2, 3]
>>> [x[0]*y for x, y in zip(a, b)]
[1, 6, 12]
"
33542,46774,how to extract strings of text from plain text files based on a keyword?,"import os

path = ""C://Users//Desktop//test""

for file_name in os.listdir(path):
     A=open(path+""//""+file_name).read()
     S = A.find(""Somali"")
     if(S==-1):
         print file_name+"" Not found""

     else:
         print file_name+"" ""+A[A.find(""Somali"")-100:A.find(""Somali"")+100]
"
36464,52477,How to make my python script accepts multiple positional arguments?,"import sys

print('Name of the script: {0}'.format(sys.argv[0]))

if len(sys.argv) == 3:
    inputfile_path = sys.argv[1]
    dictionary_path = sys.argv[2]
    print('First parameter: {0}'.format(inputfile_path))
    print('Second parameter: {0}'.format(dictionary_path))
"
14464,60256,Accessing variables from within a function,"def check_keys():
    allKeys = event.getKeys(keyList = ('g','h','escape'))
    for thisKey in allKeys:
        if thisKey == 'escape':
            dataFile.close()
            window.close()
            core.quit()
        elif thisKey == 'g':
            keyTime=core.getTime()
            return 1      
        elif thisKey == 'h':
            keyTime=core.getTime()
            return 0
       return 2

thisResp = 2
running = 1
while running == 1:

    for frame in range(frames):
        fix.draw()
        upper_target.draw()
        z= window.flip()
        thisResp = check_keys()
        if thisResp == 1:
            running = 2
            break

print running
"
23393,81633,How do I find a supplied field in jira-python,"def return_supplied_field(self, issue, field_name):
    """""" Essentially I need to return issue.fields.field_name here """"""
    return getattr(issue.fields, field_name)
"
15312,41820,clean list and split into pairs,"for x in itertools.combinations(yourlist, 2):
    // Pseudocode: your compare logic, something like if absolute(y2 - y1) < 10: 
    // then add to a different pair_only_list
"
15707,85006,Applying a Regex to a Substring Without using String Slice,"import re
pattern = re.compile(""match here"")
input = ""don't match here, but do match here""
start = input.find("","")
print pattern.search(input, start).span()
"
10969,81064,Covariance Matrix calculated by Python Numpy change every time,"import numpy

randoms = numpy.random.random((1043, 261))

covs = [numpy.cov(randoms) for _ in range(10)]
all((c==covs[0]).all() for c in covs)
#>>> True
"
35450,8954,"Why would ""\n"" become ""^@"" when writing Python in a .vim file?","function! Test()
python << EOF
import vim
str = ""\n""
vim.command(""let rs = append(line('$'), split('%s', '\\n', 1))""%str)
EOF
endfunction
"
27605,23093,Threading in pyqt4,"from PyQt4.QtCore import QUrl, QFileInfo, QFile, QIODevice
from PyQt4.QtGui import QApplication, QDialog, QProgressBar, QLabel, QPushButton, QDialogButtonBox, \
                    QVBoxLayout, QMessageBox
from PyQt4.QtNetwork import QHttp

url_to_download = 'http://www.riverbankcomputing.co.uk/static/Downloads/sip4/sip-4.12.3.zip'

class Downloader(QDialog):
    def __init__(self, parent=None):
        super(Downloader, self).__init__(parent)

        self.httpGetId = 0
        self.httpRequestAborted = False
        self.statusLabel = QLabel('Downloading %s' % url_to_download)
        self.closeButton = QPushButton(""Close"")
        self.closeButton.setAutoDefault(False)
        self.progressBar = QProgressBar()

        buttonBox = QDialogButtonBox()
        buttonBox.addButton(self.closeButton, QDialogButtonBox.RejectRole)

        self.http = QHttp(self)
        self.http.requestFinished.connect(self.httpRequestFinished)
        self.http.dataReadProgress.connect(self.updateDataReadProgress)
        self.http.responseHeaderReceived.connect(self.readResponseHeader)
        self.closeButton.clicked.connect(self.cancelDownload)

        mainLayout = QVBoxLayout()
        mainLayout.addWidget(self.statusLabel)
        mainLayout.addWidget(self.progressBar)
        mainLayout.addWidget(buttonBox)
        self.setLayout(mainLayout)

        self.setWindowTitle('Download Example')
        self.downloadFile()

    def downloadFile(self):
        url = QUrl(url_to_download)
        fileInfo = QFileInfo(url.path())
        fileName = fileInfo.fileName()

        if QFile.exists(fileName):
            QFile.remove(fileName)

        self.outFile = QFile(fileName)
        if not self.outFile.open(QIODevice.WriteOnly):
            QMessageBox.information(self, 'Error',
                    'Unable to save the file %s: %s.' % (fileName, self.outFile.errorString()))
            self.outFile = None
            return

        mode = QHttp.ConnectionModeHttp
        port = url.port()
        if port == -1:
            port = 0
        self.http.setHost(url.host(), mode, port)
        self.httpRequestAborted = False

        path = QUrl.toPercentEncoding(url.path(), ""!$&'()*+,;=:@/"")
        if path:
            path = str(path)
        else:
            path = '/'

        # Download the file.
        self.httpGetId = self.http.get(path, self.outFile)

    def cancelDownload(self):
        self.statusLabel.setText(""Download canceled."")
        self.httpRequestAborted = True
        self.http.abort()
        self.close()

    def httpRequestFinished(self, requestId, error):
        if requestId != self.httpGetId:
            return

        if self.httpRequestAborted:
            if self.outFile is not None:
                self.outFile.close()
                self.outFile.remove()
                self.outFile = None
            return

        self.outFile.close()

        if error:
            self.outFile.remove()
            QMessageBox.information(self, 'Error',
                    'Download failed: %s.' % self.http.errorString())

        self.statusLabel.setText('Done')       

    def readResponseHeader(self, responseHeader):
        # Check for genuine error conditions.
        if responseHeader.statusCode() not in (200, 300, 301, 302, 303, 307):
            QMessageBox.information(self, 'Error',
                    'Download failed: %s.' % responseHeader.reasonPhrase())
            self.httpRequestAborted = True
            self.http.abort()

    def updateDataReadProgress(self, bytesRead, totalBytes):
        if self.httpRequestAborted:
            return
        self.progressBar.setMaximum(totalBytes)
        self.progressBar.setValue(bytesRead)

if __name__ == '__main__':
    import sys
    app = QApplication(sys.argv)
    downloader = Downloader()
    downloader.show()
    sys.exit(app.exec_())
"
23251,53093,How do I make my program give me the value of a certain cell in a CSV?,"import csv

def get_row(filename, number, column):
    with open(filename, 'r') as f:
        for row in csv.reader(f):
            if str(number) in row:
                return row[column+1]
"
5183,66212,Return an object in a role in Python and get a reference of another object in QML,"import sys
from PyQt4 import QtCore, QtGui, QtDeclarative
from PyQt4.QtCore import pyqtProperty, pyqtSignal, QObject


class TweetModel(QtCore.QAbstractListModel):
    def __init__(self, prototype, parent=None):
        QtCore.QAbstractListModel.__init__(self, parent)
        self.setRoleNames(prototype.roles)
        self.tweets = []

    def appendRow(self, item):
        self.tweets.append(item)

    def rowCount(self, parent=QtCore.QModelIndex()):
        return len(self.tweets)

    def data(self, index, role):
        return self.tweets[index.row()].data(role)


class TweetItem(QObject):
    roles = {
        QtCore.Qt.UserRole + 1: 'id',
        QtCore.Qt.UserRole + 6: 'original',
    }

    id_changed = pyqtSignal()

    def __init__(self, id=None, original=None, parent=None):
        QObject.__init__(self, parent=parent)

        self._data = {'original': original}
        self.id = id

    def data(self, key):
        return self._data[self.roles[key]]

    @pyqtProperty(str, notify=id_changed)
    def id(self):
        return self._data['id']

    @id.setter
    def id(self, value):
        if self._data.get('id') != value:
            self._data['id'] = value
            self.id_changed.emit()

if __name__ == ""__main__"":
    model = TweetModel(TweetItem)
    item = TweetItem(""0001"", None, model)
    model.appendRow(TweetItem(""0002"", item, model))

    App = QtGui.QApplication(sys.argv)
    view = QtDeclarative.QDeclarativeView()
    view.rootContext().setContextProperty(""mymodel"", model)
    view.setSource(QtCore.QUrl.fromLocalFile(""main.qml""))
    view.show()
    App.exec_()
"
33274,36800,Extracting alphanumeric substring from a string in python,">>> import re
>>> text = '(5a)'
>>> match = re.search(r'\(?([0-9A-Za-z]+)\)?', text)
>>> match.group(1)
'5a'
>>> text = '*(ab2**)'
>>> match = re.search(r'\(?([0-9A-Za-z]+)\)?', text)
>>> match.group(1)
'ab2'
"
15130,33698,How to compare a python date against a DateTimeProperty in an NDB query,"class YourModel(ndb.Model):
  some_datetime = ndb.DateTimeProperty()
  some_date = ndb.ComputedProperty(lambda self: self.some_datetime.date)
"
12583,37199,Best way to implement frequent calls to taxing Python scripts,"def urlretrieve(url, filename, cache, lock=threading.Lock()):
    'Read contents of an open url, use etags and decompress if needed'    

    request = urllib2.Request(url)
    request.add_header('Accept-Encoding', 'gzip')
    with lock:
        if ('etag ' + url) in cache:
            request.add_header('If-None-Match', cache['etag ' + url])
        if ('date ' + url) in cache:
            request.add_header('If-Modified-Since', cache['date ' + url])

    try:
        u = urllib2.urlopen(request)
    except urllib2.HTTPError as e:
        return Response(e.code, e.msg, False, False)
    content = u.read()
    u.close()

    compressed = u.info().getheader('Content-Encoding') == 'gzip'
    if compressed:
        content = gzip.GzipFile(fileobj=StringIO.StringIO(content), mode='rb').read()

    written = writefile(filename, content) 

    with lock:
        etag = u.info().getheader('Etag')
        if etag:
            cache['etag ' + url] = etag
        timestamp = u.info().getheader('Date')
        if timestamp:
            cache['date ' + url] = timestamp

    return Response(u.code, u.msg, compressed, written)
"
36078,71813,Configurations from file for python dictionaries and strings,"with open(config_path, mode = 'r') as file_in:
    with open(config_path.replace('.txt', '.py'), mode = 'w') as file_out:
        for line in file_in:
            file_out.write(line)
return importlib.import_module(config_path.replace('.txt',''))
"
23869,82418,Simple way to import python modules in Linux using symlinks,"PYTHONPATH=""${PYTHONPATH}:/path/to/some/cool/python/package/:/path/to/another/cool/python/package/""

export PYTHONPATH
"
33690,64903,"Pause python scripts in between tasks, wait for user to continue.","try:
  resume = input(""Press Enter to continue."")
except SyntaxError:
  pass
"
33017,82091,Horizontal Scrollbar not working in Python TKinter Frame,"# create everything that will be inside the canvas
...

# next, cause the window to be drawn, so the frame will auto-size
self.update_idletasks() 

# now, tell the canvas to scroll everything that is inside it
self.mastercanvas.configure(scrollregion=self.mastercanvas.bbox(""all""))
"
27923,55906,"Convert date in form of ""%Y%M%D"" to ""%Y%M%D%H%M%S"" in pandas","In [212]:

df['Date'] = pd.to_datetime(df['Date'])
df['Date']
Out[212]:
index
0   2012-05-15
1   2012-05-16
2   2012-05-17
3   2012-05-18
4   2012-05-21
Name: Date, dtype: datetime64[ns]
In [213]:

import datetime as dt
df['Date'] = df['Date'].apply(lambda x: dt.datetime.strftime(x, '%Y-%m-%d %H:%M:%S'))
df['Date']
Out[213]:
index
0    2012-05-15 00:00:00
1    2012-05-16 00:00:00
2    2012-05-17 00:00:00
3    2012-05-18 00:00:00
4    2012-05-21 00:00:00
Name: Date, dtype: object
"
8752,65992,How to perform string replace operation using pandas in python?,"In [159]: df = pd.DataFrame([[100,['item1','item2','item3']],[101,['item5','item8','item9']],[102,['item2','item4']]],columns=['cust_id','Items'])

In [160]: df
Out[160]:
   cust_id                  Items
0      100  [item1, item2, item3]
1      101  [item5, item8, item9]
2      102         [item2, item4]

In [161]: df['Items'] = df['Items'].apply(' '.join)

In [162]: df
Out[162]:
   cust_id                Items
0      100    item1 item2 item3
1      101    item5 item8 item9
2      102          item2 item4
"
21556,51031,Python to C# explanation,"    private static byte[] deobfuscate_string(XORShift128 pnr, byte[] obfuscated)
    {
        byte[] deobfuscated = new byte[obfuscated.Length];

        for (int i = 0; i < obfuscated.Length; i++)
        {
            byte b = Convert.ToByte((obfuscated[i] - pnr.next()) & 0xff);
            deobfuscated[i] = b;
        }

        Array.Reverse(deobfuscated);
        return deobfuscated;
    }

    private class XORShift128
    {
        private UInt32 x = 123456789;
        private UInt32 y = 362436069;
        private UInt32 z = 521288629;
        private UInt32 w = 88675123;

        public XORShift128(UInt32 x, UInt32 y)
        {
            this.x = x;
            this.y = y;
        }

        public UInt32 next()
        {
            UInt32 t = (x ^ (x << 11)) & 0xffffffff;
            x = y;
            y = z;
            z = w;
            w = (w ^ (w >> 19) ^ (t ^ (t >> 8)));
            return w;
        }
    }
"
9042,9900,Tkinter Display varLabel and value cleanly,"import Tkinter as tk
class ExampleApp(tk.Tk):
    def __init__(self):
        tk.Tk.__init__(self)

        # create a canvas to act as a scrollable container for
        # the widgets
        self.container = tk.Canvas(self)
        self.vsb = tk.Scrollbar(self, orient=""vertical"", command=self.container.yview)
        self.container.configure(yscrollcommand=self.vsb.set)
        self.vsb.pack(side=""right"", fill=""y"")
        self.container.pack(side=""left"", fill=""both"", expand=True)

        # the frame will contain the grid of labels and values
        self.frame = tk.Frame(self)
        self.container.create_window(0,0, anchor=""nw"", window=self.frame)

        self.vars = []
        for i in range(1,301):
            self.vars.append(tk.StringVar(value=""This is the value for item %s"" % i))
            label = tk.Label(self.frame, text=""Item %s:"" % i, width=12, anchor=""e"")
            value = tk.Label(self.frame, textvariable=self.vars[-1], anchor=""w"")
            label.grid(row=i, column=0, sticky=""e"")
            value.grid(row=i, column=1, sticky=""ew"")

        # have the second column expand to take any extra width
        self.frame.grid_columnconfigure(1, weight=1)

        # Let the display draw itself, the configure the scroll region
        # so that the scrollbars are the proper height
        self.update_idletasks()
        self.container.configure(scrollregion=self.container.bbox(""all""))

if __name__ == ""__main__"":
    app = ExampleApp()
    app.mainloop()
"
24606,18602,"Accessing a matrix element by matrix[(a, b), c] instead of matrix[a, b, c]","matrix[var1][var2]
"
17208,1743,How to accomplish this in python?,"#! /usr/bin/env python
import sys
locals = dict()
for line in sys.stdin:
    saved = locals.copy()
    stmt = compile(line, '<stdin>', 'single')
    eval(stmt, None, locals)
    print line.strip(),
    for (k,v) in locals.iteritems():
        if k not in saved:
            print '=', v,
    print
"
10362,57310,How to draw a scatterplot with superimposed pics?,"// Code goes here
var h = 500;
var w = 750;
var padding = 50;
//set your images and data here
var monthlySales = [{
  'stock': 'GOOG',
  'count': 500,
  'img': ""https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTccGK4ZWQcI3WB--hytI1DFaeZ8ii-6euDWrm-baUtAxR7w9OrWg""
}, {
  'stock': 'MSFT',
  'count': 250,
  'img': ""http://tr1.cbsistatic.com/fly/171-fly/bundles/techrepubliccore/images/icons/standard/icon-user-default.png""

}, {
  'stock': 'FB',
  'count': 50,
  'img': ""https://cdn1.iconfinder.com/data/icons/industry-2/96/Mine-512.png""

}, {
  'stock': 'AAPL',
  'count': 100,
  'img': ""https://cdn1.iconfinder.com/data/icons/industry-2/96/Mine-512.png""

}, {
  'stock': 'EBAY',
  'count': 5,
  'img': ""https://cdn1.iconfinder.com/data/icons/industry-2/96/Mine-512.png""

}, {
  'stock': 'BABA',
  'count': 37,
  'img': ""https://cdn1.iconfinder.com/data/icons/industry-2/96/Mine-512.png""
}];


var xScale = d3.scale.linear().domain([65, 450]).range([0, w]).nice();
var yScale = d3.scale.linear().domain([0, d3.max(monthlySales, function(d) {
  return d.count;
})]).range([h, 0 + padding]).nice();
var radiusScale = d3.scale.linear().domain([0, d3.max(monthlySales, function(d) {
  return d.count;
})]).range([10, 100]).nice();
var opacityScale = d3.scale.linear().domain([0, d3.max(monthlySales, function(d) {
  return d.count;
})]).range([1, 0.1]).nice();

function ordinalValue(item) {
  var strLen = item.length;
  var total = 0;
  for (var i = 0; i < strLen; i++) {
    total += item.charCodeAt(i);
  }
  console.log(total);
  return total;
}


var svg = d3.select('body').append('svg').attr({
  width: w,
  height: h,
  style: ""outline: thin solid blue""
});

var dots = svg.selectAll('g')
  .data(monthlySales)
  .enter()
  .append(""g"");

  dots.append('circle')
  .attr({
    cx: function(d) {
      var ordValue = ordinalValue(d.stock);
      return xScale(ordValue);
    },
    cy: function(d) {
      return yScale(d.count);
    },
    r: function(d) {
      return radiusScale(d.count);
    },
    fill: function(d) {
      return '#' + Math.random().toString(16).substr(-6);
    }
  }).style({
    ""fill-opacity"": function(d) {
      return opacityScale(d.count);
    },
    ""stroke"": function(d) {
      return '#' + Math.random().toString(16).substr(-6);
    }
  });
//adding an image to the group
dots.append(""svg:image"")
    .attr(""xlink:href"",function(d) {return d.img})
    .attr(""height"", ""20"")
    .attr(""width"", ""20"")
    .attr({
    x: function(d) {
      var ordValue = ordinalValue(d.stock);
      return xScale(ordValue)-10;
    },
    y: function(d) {
      return yScale(d.count)-10;
    },
  });
"
28572,44570,Getting specific link from a source code Python,"for link in soup.findAll('td', text='GIS 84F'):     # get the relevant tds
    parent = link.parent                            # get the parent tr
    for a in parent.findAll('a', href=True):        # get all the a tags within
        print a['href']                             # do whatever you want
"
22991,3393,How to print a returned tuple in another method,"def information(sentence):
    '''Splits the sentence on space and returns it as tuple'''
    split_up = tuple(sentence.split(' '))
    return split_up

def print_as_string():
    '''Prints tuple as string'''
    sentence = ""welcome to SO dear friend""
    print("" "".join(information(sentence)))

if __name__ == ""__main__"":
    print_as_string()
"
39253,40458,How do I change the string representation of a Python class?,"def __str__(self):
     return ""foo""
"
29335,70606,Can you use multiple elifs for one variable?,"results = { ""Possible Answer 1"":""Game response 1"",
    ""Possible Answer 2"":""Game response 2"",
    ""Possible Answer 3"":""Game response 3"" }
if VARIABLE in results:
    print (results[VARIABLE])
# else :
#     default action, if appliable
"
8193,71959,Speed up a program that calculate the average of the neighbors in a huge array,"v = v.reshape(size, size)
vnew = vnew.reshape(size, size)
unchangeableflag = unchangeableflag.reshape(size, size)
average = v[1:-1, 2:]
average += v[1:-1, :-2] 
average += v[2:, 1:-1]
average += v[-2:, 1:-1]
average /= 4.0
vnew[1:-1, 1:-1][unchangeableflag[1:-1, 1:-1] == 0] = average
"
2069,33423,How to put result of JavaScript function into python variable. PyQt,"#!/usr/bin/env python
#-*- coding:utf-8 -*-

from PyQt4 import QtCore, QtGui, QtWebKit  

getJsValue = """""" 
w = document.getElementsByTagName('p')[0];
myWindow.showMessage(w.innerHTML);
""""""  

class myWindow(QtWebKit.QWebView):  
    def __init__(self, parent=None):
        super(myWindow, self).__init__(parent)

        self.page().mainFrame().addToJavaScriptWindowObject(""myWindow"", self)

        self.loadFinished.connect(self.on_loadFinished)

        self.load(QtCore.QUrl('http://jquery.com'))

    @QtCore.pyqtSlot(str)  
    def showMessage(self, message):
        print ""Message from website:"", message

    @QtCore.pyqtSlot()
    def on_loadFinished(self):
        self.page().mainFrame().evaluateJavaScript(getJsValue) 

if __name__ == ""__main__"":
    import sys

    app = QtGui.QApplication(sys.argv)
    app.setApplicationName('myWindow')

    main = myWindow()
    main.show()

    sys.exit(app.exec_())
"
27395,57900,Using recursion to find max number of nodes in base 7 tree,"def nodes(d):
    if d == 0:
        return 1
    else:
        return 1 + 7 * nodes(d - 1)

print [nodes(i) for i in range(5)] # [1, 8, 57, 400, 2801]
"
28216,59335,SQLAlchemy find all rows with existing relationship,"query = Upload.query.filter(Upload.id == UploadFile.upload_id)
"
34589,15008,Adjusting pcolormesh colorbar to focus on a specific plot region?,"from numpy import linspace,meshgrid,pi,cos,sin
from matplotlib.pyplot import figure, show

x=linspace(0,100);y=linspace(0,100)
X,Y=meshgrid(x,y)
Z=cos(3*pi*X)+sin(6*pi*Y)

fig=figure()
ax=fig.add_subplot(111)
pc=ax.pcolormesh(X,Y,Z,vmin=0.3,vmax=0.6)
fig.colorbar(pc)
show()
"
34954,24452,BS4: Case sensitive searching,"soup = BeautifulSoup(source, 'xml')
"
15926,26909,"Monitoring Celery, what should I use?","./manage.py celeryd -E
./manage.py celerycam
"
32183,71370,Python Combine For-Loops,"from itertools import chain

for paragraph in chain(doc.paragraphs, (paragraph for table in doc.tables for row in table.rows for cell in row.cells for paragraph in cell.paragraphs)):
    paragraph.replace(""oldtext1"",""Something"")
    paragraph.replace(""oldtext2"",""Somethingelse"")
"
21954,6587,Getting the colour of bar chart matplotlib,"import matplotlib.pyplot as plt

def on_pick(event):
    print event.artist.get_facecolor()

fig, ax = plt.subplots()
bars = ax.bar(range(10), range(10), picker=5)

fig.canvas.mpl_connect('pick_event', on_pick)

plt.show()
"
3976,81309,How can I get a file to autorun before I run any command in ipython?,"import os
import IPython
ip = IPython.ipapi.get()

def runMyFile(self):
    ip.magic('%run myFile.py')
    raise IPython.ipapi.TryNext()

ip.set_hook('pre_runcode_hook', runMyFile)
"
5855,49848,operations in pandas DataFrame,"data.groupby(['Hs', 'Tp', 'wd'])[['max', 'min']].std(ddof=0).max(level=[0, 1])
"
3432,45094,How to sum list elements starting from a specific position,"mylist = [['name','party','city','0','0','1'],['name','party','city','1','1','1']]

print sum([sum(map(int, item[3:])) for item in mylist])  # prints 4
"
11779,18558,More efficient way to go through .csv file?,"import csv

IDNumberList_filename = 'IDs.txt'
WordsOfInterest_filename = 'dictionary_WordsOfInterest.txt'
Dictionary_filename = 'dictionary_individualwords.csv'

WordsOfInterest_ReadIn = open(WordsOfInterest_filename).read().split('\n')
#IDNumberListtoRead = open(IDNumberList_filename).read().split('\n')

numberlist = open(IDNumberList_filename).readlines():
wordlist =  open(WordsOfInterest_filename).readlines():

FoundCurrent = 0

with open(Dictionary_filename, newline='', encoding='utf-8') as csvfile:
    reader = csv.DictReader(csvfile)
    for row in reader:
        for CurrentIDNumber in numberlist:
            for CurrentWord in wordlist :

                if ((row['IDNumber'] == CurrentIDNumber) and (row['Word'] == CurrentWord)):
                    FoundCurrent = 1
                    CurrentProportion= row['CurrentProportion']

                if FoundCurrent == 0:
                    CurrentProportion=0
                else:
                    CurrentProportion=1
                    print('found')
"
29033,3189,Get debug status out of Flask Script Manager,"from flask import Flask, Blueprint, current_app

test = Blueprint('user', __name__, url_prefix='/')

@test.route('/')
def home():
    return str(current_app.debug)

def create_app():
    app = Flask(__name__)
    app.register_blueprint(test)
    return app
"
39247,51223,Django model method wont update model field,"def job_expired(self):
    time=self.time
    date=self.purchased
    end=date+timedelta(days=time)
    #now is defined globally
    if now > end:
        self.expired = True
        self.pending = False 
        self.save()

        ex = self.expired
    else:
        ex=self.expired=False
    return ex
"
10180,24207,App dock icon in wxPython,"from setuptools import setup

APP = ['MyApp.py']
DATA_FILES = []
OPTIONS = {'argv_emulation': True, 
    'iconfile': 'MyAppIcon.icns' }

setup(
    app=APP,
    data_files=DATA_FILES,
    options={'py2app': OPTIONS},
    setup_requires=['py2app'],
)
"
1410,56558,How to parse compressed sitemap using python without downloading it to disk?,"import requests
import gzip
from StringIO import StringIO

r = requests.get('http://example.com/sitemap.xml.gz')
sitemap = gzip.GzipFile(fileobj=StringIO(r.content)).read()
"
2433,72587,"Pythonic way of finding duplicate maps in a list while ignoring certain keys, and combining the duplicate maps to make a new list","import collections, operator, functools
def func(lst, request_keys, op=operator.add):
    matching_dicts = collections.defaultdict(list)
    for d in lst:
        key = tuple(sorted(((k, d[k]) for k in d if k not in request_keys)))
        matching_dicts[key].append(d)

    for group in matching_dicts.values():
        merged = dict(group[0])
        merged.update({key: functools.reduce(op, (g[key] for g in group)) 
                       for key in request_keys})
        yield merged
"
29479,31765,"Elegant way to create a dictionary of pairs, from a list of tuples?","dict(x[1:] for x in reversed(myListOfTuples))
"
30187,36044,PyTables batch get and update,"condition = 'Symbol == ""abcd""'
indices = table.getWhereList(condition)  # get indices
rows_array = table[indices]  # get values
new_rows = compute(rows_array)   # compute new values
table[indices] = new_rows  # update the indices with new values
"
32760,12764,Annotating figures in the obspy module of Python,"fig = plt.figure()
data = str2[0].data
plt.plot(data)
plt.hold(True) #equivalent of matlab hold on   
plt.axvline(x=on_off[0,0], c='r')
npts2 = str2[0].stats.npts
plt.title(str2[0].stats.starttime)
l = plt.axhline(y=-4000, xmin=on_off[0,0]/npts2, xmax=on_off[0,1]/npts2, linewidth=4, color='r')
plt.show()
"
5725,1460,SQLAlchemy: @property mapping?,"class Data(db.Model):
    data_id = db.Column(db.Integer, primary_key=True)
    data_date = db.Column(db.Date)
    details_main = db.Column(db.String(50))

    details = relationship(
        Details,
        primaryjoin=remote(Details.details_main) == foreign(details_main))
    details_desc = association_proxy('details', 'details_desc')
"
28968,23984,Using urllib2.urlopen() to load a URL without waiting for a response,"#!/usr/bin/env python

import urllib2
import threading

class MyHandler(urllib2.HTTPHandler):
    def http_response(self, req, response):
        print ""url: %s"" % (response.geturl(),)
        print ""info: %s"" % (response.info(),)
        for l in response:
            print l
        return response

o = urllib2.build_opener(MyHandler())
t = threading.Thread(target=o.open, args=('http://www.google.com/',))
t.start()
print ""I'm asynchronous!""
"
38090,15773,How to redraw only the updated data using Matplotlib,"import matplotlib
matplotlib.use(""TkAgg"") #the back-end of matplotlib
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg, NavigationToolbar2TkAgg
import Tkinter as tk

import numpy as np
import matplotlib.pyplot as plt
import matplotlib.animation as animation
from matplotlib.lines import Line2D
from matplotlib import style

ROTOR_SPEED = 100
PUMP_STATUS = False


LARGE_FONT = (""Verdana"", 12)
NORM_FONT = (""Verdana"", 10)
SMALL_FONT = (""Verdana"", 8)

style.use(""ggplot"")


fig = plt.figure()
fig.set_size_inches(10, 7)
top_graph = plt.subplot2grid((2, 2), (0, 0), colspan=2)



line1 = Line2D([], [], color='black')

line2 = Line2D([], [], color='red', linewidth=2)

top_graph.add_line(line1)

top_graph.set_xlim(0, 24)
top_graph.set_ylim(-20, 20)

top_graph.set_aspect('equal', 'datalim')

line, = top_graph.plot([], [], lw=1)
line2, = top_graph.plot([], [], lw=3)
xdata, ydata = [], []
xline, yline = [], []


def data_gen():
    t = data_gen.t
    cnt = 0
    height = 15
    while cnt < 1000:


        yield t, np.sin(2 * np.pi * t / 10.), 2*[t]*(height), range(-height, height)
        cnt+=1
        t += 0.05
data_gen.t = 0

def run(data):
    # update the data
    t, y, t2, rang = data

    repeats = t//24

    run.index = int(round(t%24.0/0.05))

    if len(xdata) <= run.index:
        xdata.append(t)
        ydata.append(y)
        xline = t2
        yline = rang

    else:
        xdata[run.index] = t - (24 * repeats)
        ydata[run.index] = y

        xline = map(lambda (a, b): a-b, zip(t2, [24*repeats]*len(t2)))
        yline = rang



    line.set_data(xdata, ydata)
    line2.set_data(xline, yline)
    line2.set_color('white')
    return line, line2
run.index = 1




class MainPage(tk.Tk):

    def __init__(self, *args, **kwargs):

        tk.Tk.__init__(self, *args, **kwargs)

        container = tk.Frame(self)

        container.pack(side=""top"", fill=""both"", expand = True)

        container.grid_rowconfigure(0, weight=1)
        container.grid_columnconfigure(0, weight=1)



        #********** FRAMES*******#

        self.frames = {} #empty..

        frame = GraphPage(container, self)

        self.frames[GraphPage] = frame

        frame.grid(row=0, column=0, sticky=""nsew"")

        self.show_frame(GraphPage)

    def show_frame(self, cont):

        frame = self.frames[cont]
        frame.tkraise()



class GraphPage(tk.Frame):

    def __init__(self, parent, controller):
        tk.Frame.__init__(self,parent)
        label = tk.Label(self, text=""Example"", font=LARGE_FONT)
        label.grid(row=0, column=0, sticky='N')

        canvas = FigureCanvasTkAgg(fig, self)

        canvas.show()
        canvas.get_tk_widget().grid(row=1, column=0, rowspan=6, columnspan=3, sticky='NSEW')

app = MainPage()
app.geometry(""980x640"")
ani = animation.FuncAnimation(fig, run, data_gen, blit=True, interval=20,
    repeat=False)
app.mainloop()
"
33564,41533,How do I sort dictionary values in a way that respects capitalization?,"sorted(persons.values(), key=lambda item: item[2])
"
37887,41949,How to get a list of all the classes in one .py file?,"import myModule

import inspect    
print inspect.getmembers(myModule, inspect.isclass)
"
21462,36684,Phyloxml: find and replace in a file,"tree = Phylo.read(""GSCGT000003.xml"", ""phyloxml"")

for clade in tree.find_clades(name=True):
    # This changes the clade name to only the first four chars
    clade.name = clade.name[:4]

# At this point all clade names has been changed in-place
Phylo.write(tree, ""GSCGT000003_modified.xml"", ""phyloxml"")
"
26313,80495,How to rename a file name without changing the extension,"import os
import csv
import glob

file_path = '/home/foo/bar/some/where/'
file_pattrn = '*.*'
file_names = {}

with open('somefile.csv') as f:
    reader = csv.reader(f)
    for row in reader:
       file_names[row[0]] = row[1]

for file in glob.iglob(file_path+file_pattrn):
    path, filename = os.path.split(file)
    filename_noext, ext = os.path.splitext(filename)
    new_filename = file_names.get(filename_noext, filename_noext)
    os.rename(os.path.join(path, filename),
              os.path.join(path, '{}{}'.format(new_filename, ext))) 
"
8112,58191,Selenium Python: how to wait until the page is loaded?,"from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.common.exceptions import TimeoutException

browser = webdriver.Firefox()
browser.get(""url"")
delay = 3 # seconds
try:
    WebDriverWait(browser, delay).until(EC.presence_of_element_located(browser.find_element_by_id('IdOfMyElement')))
    print ""Page is ready!""
except TimeoutException:
    print ""Loading took too much time!""
"
27587,61948,Django change url from http:\/\/ to http://,"url.replace('\/', '/')
"
35916,71996,if condition not met in 10 seconds then do this else do that [UnityScript],"function doStuff() {
    if(condition == true) {
      ...
    }
    else {
        Invoke('doStuff', 1);
    }
}
"
37946,60386,Django Static Javascript Asset with JQuery Functions,"<script src=""{{ STATIC_URL }}jquery.min.js""></script>
<script src=""{{ STATIC_URL }}myfile.js""></script>
"
24303,39792,Gtk FlowBox - buttons in box clickable area tiny,"class NotebookWindow(Gtk.Window):

    def __init__(self):
        Gtk.Window.__init__(self, title=""FlowBox Test"")

        #Create Application Window
        self.set_border_width(10)
        self.set_default_size(400, 400)
        self.set_position(Gtk.WindowPosition.CENTER)

        #Add tabbed window
        self.nbook = Gtk.Notebook()
        self.add(self.nbook)

        vbox = Gtk.Box(orientation=Gtk.Orientation.VERTICAL, spacing=6)

        club_box = Gtk.FlowBox()
        club_box.set_valign(Gtk.Align.START)
        club_box.set_max_children_per_line(30)
        club_box.set_selection_mode(Gtk.SelectionMode.SINGLE)
        club_box.set_activate_on_single_click(True)

        self.buttons = []
        for club in range(0, 55):
            button = Gtk.Button(label=club)
            club_box.add(button)
            button.connect('clicked', self.on_button_clicked)  # new callback
            self.buttons.append(button)

        vbox.pack_start(club_box, True, True, 0)

        self.out_message = Gtk.Label(label=""\n"")
        vbox.pack_start(self.out_message, True, True, 0)

        label = Gtk.Label()
        label.set_markup(""<b><big>Clubs</big></b>"")
        self.nbook.append_page(vbox, label)


    def on_button_clicked(self, button):
        for i in range(len(self.buttons)):
            if self.buttons[i] == button:
                print('button at index {}'.format(i))
                break


win = NotebookWindow()
win.connect(""delete-event"", Gtk.main_quit)
win.show_all()


Gtk.main()
"
15712,3628,Regex to use monthly.out for user accounting,"import re

re_user_amount = r'\s+(\w+)\s+(\d*\.\d{2})'
re_date = r'\w{3}\s+\w{3}\s+\d+\s+\d\d:\d\d:\d\d \w+ \d{4}'

with open('/var/log/monthly.out', 'r') as f:
    content = f.read()
    sections = content.split('-- End of monthly output --')

    for section in sections:
        date = re.findall(re_date, section)
        matches = re.findall(re_user_amount, section)

        print(date, matches)
"
27897,39952,Where in Django does a user become an AnonymousUser?,"def get_user(request):
    from django.contrib.auth.models import AnonymousUser
    try:
        user_id = request.session[SESSION_KEY]
        backend_path = request.session[BACKEND_SESSION_KEY]
        backend = load_backend(backend_path)
        user = backend.get_user(user_id) or AnonymousUser()
    except KeyError:
        user = AnonymousUser()
    return user
"
20501,73356,It is possible to run a transmogrifier section after all other have completely run?,"from collective.transmogrifier.interfaces import ISection
from collective.transmogrifier.interfaces import ISectionBlueprint

import itertools


class DoSomethingAtTheVeryEndSection(object):

    classProvides(ISectionBlueprint)
    implements(ISection)

    def __init__(self, transmogrifier, name, options, previous):
        self.previous = previous

    def __iter__(self):
        self.previous, self.postprocess = itertools.tee(self.previous)
        for item in self.previous:
            yield item

        for item in self.postprocess:
            do_something()
"
24671,44532,How can I find a process by name and kill using ctypes?,"import sys, os.path, ctypes, ctypes.wintypes

Psapi = ctypes.WinDLL('Psapi.dll')
EnumProcesses = Psapi.EnumProcesses
EnumProcesses.restype = ctypes.wintypes.BOOL
GetProcessImageFileName = Psapi.GetProcessImageFileNameA
GetProcessImageFileName.restype = ctypes.wintypes.DWORD

Kernel32 = ctypes.WinDLL('kernel32.dll')
OpenProcess = Kernel32.OpenProcess
OpenProcess.restype = ctypes.wintypes.HANDLE
TerminateProcess = Kernel32.TerminateProcess
TerminateProcess.restype = ctypes.wintypes.BOOL
CloseHandle = Kernel32.CloseHandle

MAX_PATH = 260
PROCESS_TERMINATE = 0x0001
PROCESS_QUERY_INFORMATION = 0x0400

count = 32
while True:
    ProcessIds = (ctypes.wintypes.DWORD*count)()
    cb = ctypes.sizeof(ProcessIds)
    BytesReturned = ctypes.wintypes.DWORD()
    if EnumProcesses(ctypes.byref(ProcessIds), cb, ctypes.byref(BytesReturned)):
        if BytesReturned.value<cb:
            break
        else:
            count *= 2
    else:
        sys.exit(""Call to EnumProcesses failed"")

for index in range(BytesReturned.value / ctypes.sizeof(ctypes.wintypes.DWORD)):
    ProcessId = ProcessIds[index]
    hProcess = OpenProcess(PROCESS_TERMINATE | PROCESS_QUERY_INFORMATION, False, ProcessId)
    if hProcess:
        ImageFileName = (ctypes.c_char*MAX_PATH)()
        if GetProcessImageFileName(hProcess, ImageFileName, MAX_PATH)>0:
            filename = os.path.basename(ImageFileName.value)
            if filename == 'notepad.exe':
                TerminateProcess(hProcess, 1)
        CloseHandle(hProcess)
"
38359,8193,Neural network receptive field visualization in python,"# assuming your filters are stored in a list called all_filters
all_filter_image = zeros(10*28, 30*28)
for filter_num in range(300):
    # calculate start_x and start_y based on the size of your ""large filter"" 
    # and the filter index
    all_filter_image[start_x:start_x + 28, start_y: start_y + 28] = all_filters[filter_num]
"
36652,9713,Inform OS of installation,"import psutil
for p in psutil.process_iter():
    print p.name
"
20712,9141,Capture face area by camera,"import cv2

def crop(img):
    face_cascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')
    sub_face = img

    faces = face_cascade.detectMultiScale(img, 1.1, 5)
    for (x,y,w,h) in faces:
        sub_face = img[y:y+h, x:x+w]

    return sub_face


imageToCrop = cv2.imread('izz.jpg',0)
croppedImage = crop(imageToCrop)

cv2.imshow('img',croppedImage)
cv2.waitKey(0)
cv2.destroyAllWindows()
"
23208,79631,How do I get some slot/function to be executed when a certain QTableWidgetItem is checked / unchecked in PyQt,"import sys
from PyQt4.QtGui import *
from PyQt4.QtCore import *

#signal handler
def myCellChanged(row, col):
    print row, col

#just a helper function to setup the table
def createCheckItem(table, row, col):
    check = QTableWidgetItem(""Test"")
    check.setCheckState(Qt.Checked)
    table.setItem(row,col,check)

app = QApplication(sys.argv)

#create the 5x5 table...
table = QTableWidget(5,5)
map(lambda (row,col): createCheckItem(table, row, col),
   [(row, col) for row in range(0, 5) for col in range(0, 5)])
table.show()

#...and connect our signal handler to the cellChanged(int, int) signal
QObject.connect(table, SIGNAL(""cellChanged(int, int)""), myCellChanged)
app.exec_()
"
33964,3512,TKinter: a slider widget?,"from Tkinter import *

master = Tk()
def vscale_cb(value):
    print('vertical: {v}'.format(v=value))
def hscale_cb(value):
    print('horizontal: {v}'.format(v=value))

w = Scale(master, from_=0, to=100, command=vscale_cb)
w.pack()

w = Scale(master, from_=0, to=200, orient=HORIZONTAL, command=hscale_cb)
w.pack()

mainloop()
"
16481,29286,Need Regex pattern for this Date,"date = 'Date: April 1st, 2015'
import re
regex = re.search(
    r'Date:\s([A-Z]{1}[a-z]*)\s([0-9]{1,2})[a-z]{2},\s([0-9]{4})',
    date,
)
parsed_date = ' '.join(regex.groups())
from datetime import datetime
date_time = datetime.strptime(parsed_date, '%B %d %Y')

print date_time
#output
'2015-04-01 00:00:00'
"
27711,13517,How to know which file to open (and open it) in Python based on its name matching a pattern?,"from glob import glob
file = open(glob('report *')[0])
"
23484,10811,"Can you create a value referenced with dot ""."" python","from collections import namedtuple
value = namedtuple('Value', 'N')(len(roots[""roots""]))
"
16480,26915,How to pick between two forms using python requests library?,"In [1]: data = {
   ...:         ""firstname"": ""Laurel"",
   ...:         ""lastname"": ""Foote-Hudson""}

In [2]: 

In [2]: r = requests.post(""https://itsapps.unc.edu/dir/dirSearch/search"", data=data)

In [3]: print(r.json())
[{u'uncReverseDisplayName': u'Foote-Hudson, Laurel', u'telephoneNumber': u'xxxxxxxxxxxxxxx', u'eduPersonNickname': u'Laurel', u'uncPreferredSurname': u'Foote-Hudson', u'sn': u'Foote-Hudson', u'spid': u'240a0d7c1534aa3a', u'mail': u'xxxxxxxxxxx', u'givenName': u'Laurel'}
"
12757,50273,How to plot data against specific dates on the x-axis using matplotlib,"import datetime as DT
from matplotlib import pyplot as plt
from matplotlib.dates import date2num

data = [(DT.datetime.strptime('2010-02-05', ""%Y-%m-%d""), 123),
        (DT.datetime.strptime('2010-02-19', ""%Y-%m-%d""), 678),
        (DT.datetime.strptime('2010-03-05', ""%Y-%m-%d""), 987),
        (DT.datetime.strptime('2010-03-19', ""%Y-%m-%d""), 345)]

x = [date2num(date) for (date, value) in data]
y = [value for (date, value) in data]

fig = plt.figure()

graph = fig.add_subplot(111)

# Plot the data as a red line with round markers
graph.plot(x,y,'r-o')

# Set the xtick locations to correspond to just the dates you entered.
graph.set_xticks(x)

# Set the xtick labels to correspond to just the dates you entered.
graph.set_xticklabels(
        [date.strftime(""%Y-%m-%d"") for (date, value) in data]
        )

plt.show()
"
1003,20649,Networkx node deletion / removal callback,"class RemoveNodeDiGraph(DiGraph):
    def remove_node(self, n):
        DiGraph.remove_node(self, n)
        print(""Remove node: %s""%n)

    def remove_nodes_from(self, nodes):
        for n in nodes:
            self.remove_node(n)

if __name__=='__main__':
    G = RemoveNodeDiGraph()
    G.add_node('foo')
    G.add_nodes_from('bar',weight=8)
    G.remove_node('b')
    G.remove_nodes_from('ar')
"
21966,44975,How do I use udev to find info about inserted video media (e.g. DVDs),"import gudev

client = gudev.Client(['block'])
for device in client.query_by_subsystem(""block""):
    print device
    for device_key in device.get_property_keys():
        print ""   property %s: %s"" % (device_key, device.get_property(device_key))
    print
"
11756,28034,adding multiple values of elem.attrib into a variable,"        c5 = []
        for elem in tree.iterfind('ChildContext/ResponseList/Response/TextualAnalysis/ExpressionList/Expression/Match/Matched'):
                c5.append(elem.attrib[""text""])
        c.writerow([c1, c2, c3, c4, '\n'.join(c5)])
"
37856,65592,Transpose multilevel index pandas,"df = df.reset_index().pivot('Year', 'Month', 'Count')
"
37847,17249,Reading corrupted file in python,"entire_file = open('hello.txt', 'rb').read()

print 'number of \\n: %d, number of bytes %d' % (
    entire_file.count('\n'), len(entire_file))
"
6818,31726,Creating a string replacement loop in Python,"newname = re.sub('  +', ' ', oldname)
"
9476,36851,"How to strip entire HTML, CSS and JS code or tags from HTML page in python","def strip_tags(value):
    """"""Returns the given HTML with all tags stripped.""""""
    return re.sub(r'<[^>]*?>', '', force_unicode(value))
"
24898,72978,Can i hyperlink to a page in my files?,"file:///Users/ashsa_000/Desktop/Html/Revision.HTML
"
8677,18392,"Python - cannot access a specific div [Urllib, BeautifulSoup, maybe Mechanize?]","import re
import urllib2
from bs4 import BeautifulSoup as soup


url = ""http://www.cms.gov/apps/ama/license.asp?file=/McrPartBDrugAvgSalesPrice/downloads/Apr-13-ASP-Pricing-file.zip""
web_soup = soup(urllib2.urlopen(url))

# get main-content div
main_div = web_soup.find(name=""div"", attrs={'class': 'main-content'})
print main_div

# get form action
form = web_soup.find(name=""form"", attrs={'action': re.compile('.*\.zip.*')})
print form['action']
"
25182,11614,Import module from directory without touching sys.path,"with _localimport('lib', eggs=True) as importer:
    import some_package
assert 'some_package' not in sys.modules
assert 'some_package' in importer.modules
"
12023,70751,Using CSRF protection with WTForms-Alchemy,"from flask_wtf import Form

class YourForm(ModelForm, Form):
"
20002,58227,"Code iteration really slow, why?","from itertools import imap, islice
with open('c:/file.sql') as inf, open('c:/file.txt','w') as outf:
    for line in imap(str.strip, islice(inf, 47, None)):
        data = line.split(',')
        if len(data) > 35:
            hash = data[13]
            select = hash[3:-1]
            outf.write(select+'\n')
"
35667,12235,Python: slices of enumerate,"from itertools import islice

for i,elm in islice(enumerate(some_list),7,40):
    print i,elm
"
33988,49523,Unmasking last printed expression variable,">>> 7*2
>>> _
14
>>> _ = 88
>>> _
88
>>> 1+2
3
>>> _
88
>>> del _
>>> _
88
>>> 1+2
3
>>> _
3
"
11481,44781,Python - Tkinter saved PS images - can't open them,"def drawCircles(MasterList,buildlist):
master = Tk()
w = Canvas(master, width=1000, height=1000)
w.config(bg='white')
coordsMain = MasterList[6:]
textMain = MasterList[0:2]
w.pack()
w.create_oval(*coordsMain, width=3, fill = ""ivory3"")
masterLabel = ""Source PUID\n"" + str(MasterList[3]) + ""\nFiles = "" + str(MasterList[4])
w.create_text(*textMain, text=masterLabel, justify = ""center"", font=(""Helvetica"", 16))
for i in buildlist:
 coordsSet = i[6:10]
 w.create_oval(*coordsSet, width=3, fill = i[5])
 set_label = i[3] + ""\n"" + str(i[4]) + ""%""
 l=w.create_text(4,4, text=set_label, justify = ""center"", fill=""white"", font=(""Helvetica"", 16))
 a,b,c,d= (w.bbox(l))
 bboxArea =(c-a)*(d-b)   
 a,b,c,d = i[6:10]
 circleArea = (c-a)*(d-b)
 if bboxArea>circleArea:
  textSet = i[10:]
  j=w.create_text(*textSet, text=set_label, justify = ""center"", font=(""Helvetica"", 16))
  r=w.create_rectangle(w.bbox(j),fill=""white"", width=0)
 else:
  textSet = i[:2]
  j=w.create_text(*textSet, text=set_label, justify = ""center"", font=(""Helvetica"", 16))
  r=w.create_rectangle(w.bbox(j),fill=i[5], width=0) 
 w.tag_lower(r,j)
 PUID = str(MasterList[3])
 PUID = PUID.replace('/', '-')
 filename = ""\images\\"" + PUID + "".PS""
 w.update()
mainloop()
"
37353,57656,How to define (or simulate) a collection containing different types in SQLAlchemy?,"class Role(DeclarativeBase):
    __tablename__ = 'role'
    id = Column(Integer, primary_key=True)
    role_type = Column(String)
    employee_id = Column(Integer, ForeignKey('employee.id'))
    employee = relationship('Employee', backref='roles')

    __mapper_args__ = {
        'polymorphic_identity': 'employee',
        'polymorphic_on': role_type
    }


class SalesRole(Role):
    __tablename__ = 'sales_role'
    id = Column(Integer, ForeignKey('role.id'), primary_key=True)

    __mapper_args__ = {
        'polymorphic_identity': 'sales_role'
    }
    # Sales-specific attributes, etc.


class CustomerSupportRole(Role):
    __tablename__ = 'support_role'
    id = Column(Integer, ForeignKey('role.id'), primary_key=True)

    __mapper_args__ = {
        'polymorphic_identity': 'support_role'
    }
    # Support-specific attributes, etc.
"
30043,17212,"Iterate Through Dictionary Values, Assign to Variable","for row in reader:
    for value in row:
        edbresults = api.exploitdb.search(value)
        print (edbresults)
"
37780,55538,How do I add space between the ticklabels and the axes in matplotlib?,"pylab.rcParams['xtick.major.pad']='8'
pylab.rcParams['ytick.major.pad']='8'
"
24807,31188,"how to read two digit from a file, XOR it with (0x91) and print to screen?","
with open(file_path, 'r') as fp:
    result = []
    while True:
        # 1.
        s = fp.read(2)
        if not s:
            break

        # 2. 
        number = int(s, 16) # No need for '0x' prefix!

        # 3.
        number = number ^ 0x91  # '91' needs '0x' prefix!

        # 4.
        result.append(format(number, '02x'))

print ''.join(result)
"
6264,73776,Capture Control-C in Python,"try:
    # DO THINGS
except KeyboardInterrupt:
    # quit
    sys.exit()
"
32178,55483,Double for loop in python,"import itertools

for elem1, elem2 in itertools.combinations(a, 2):
    do_whatever_with(elem1, elem2)
"
3129,17410,How to change a QLabel to a QLineEdit when mouse pressed?,"from PySide import QtGui, QtCore

# Make a custom label widget (mostly for its mousePressEvent)
class BuddyLabel(QtGui.QLabel):
    def __init__(self, buddy, parent = None):
        super(BuddyLabel, self).__init__(parent)
        self.buddy = buddy

    # When it's clicked, hide itself and show its buddy
    def mousePressEvent(self, event):
        self.hide()
        self.buddy.show()
        self.buddy.setFocus() # Set focus on buddy so user doesn't have to click again

class Window(QtGui.QWidget):
    def __init__(self, parent = None):
        super(Window, self).__init__(parent)

        # Create ui
        self.myEdit = QtGui.QLineEdit()
        self.myEdit.hide() # Hide line edit
        self.myEdit.editingFinished.connect(self.textEdited)
        self.myLabel = BuddyLabel(self.myEdit) # Create our custom label, and assign myEdit as its buddy
        self.myLabel.setText('Nothing has been entered')
        self.myLabel.setSizePolicy(QtGui.QSizePolicy.Preferred, QtGui.QSizePolicy.Fixed) # Change vertical size policy so they both match and you don't get popping when switching

        # Put them under a layout together
        hLayout = QtGui.QHBoxLayout()
        hLayout.addWidget(self.myLabel)
        hLayout.addWidget(self.myEdit)

        # Add a line edit with a place holder
        self.myEdit2 = QtGui.QLineEdit()
        self.myEdit2.setPlaceholderText('Nothing has been entered')
        self.setFocus() # By default this line edit may have focus and the place holder won't show up on load, so focus on the widget

        # Create main layout
        mainLayout = QtGui.QVBoxLayout()
        mainLayout.addLayout(hLayout)
        mainLayout.addWidget(self.myEdit2)
        self.setLayout(mainLayout)

        # Resize and show!
        self.resize(300, 200)
        self.show()

    def textEdited(self):
        # If the input is left empty, revert back to the label showing
        if not self.myEdit.text():
            self.myEdit.hide()
            self.myLabel.show()

win = Window()
"
15840,15587,Replace space with hyphen using regular expression,"'www.example.com/explore/above%20&%20beyond'.replace('%20','-').replace('&','and')
"
32369,68168,How to write static_files exclude one subdirectory in yaml of Google App Engine,"- url: /foo/bar/([^.]+\.(js|css))
  static_files: foo/bar/\1
  upload: foo/bar/[^.]+\.(js|css)
"
11476,74142,How can I make Selenium/Python wait for the user to login before continuing to run?,"import contextlib
import selenium.webdriver as webdriver
import selenium.webdriver.support.ui as ui
with contextlib.closing(webdriver.Firefox()) as driver:
    driver.get('http://www.google.com')
    wait = ui.WebDriverWait(driver, 10) # timeout after 10 seconds
    inputElement = driver.find_element_by_name('q')
    inputElement.send_keys('python')
    inputElement.submit()
    results = wait.until(lambda driver: driver.find_elements_by_class_name('g'))
    for result in results:
        print(result.text)
        print('-'*80)
"
4844,79294,What's the best way to parse values from a variable length string?,"a, b, c = 10, 10, 1    #default values
mylist = [int(x) for x in input.split(',')]
a, b, c = mylist + [a, b, c][len(mylist):]
"
5707,33206,Producing pandas DataFame from table in text file,"df = pd.read_csv(results_file, delimiter='\t')
"
8258,76986,Pandas to_dict group all non index columns into a list of tuples,"d={}
for pid,vid,v in df.itertuples(index=False):
    d.setdefault(pid,[])
    d[pid].append((vid,v))
"
28779,50190,How do you send part of a command to vim(in Ex mode) using if_py?,":noremap <expr> <C-f> empty(bufname('')) ? ':edit ' : ':tabnew '
"
21933,27827,export very large sql file into csv with Python or R,"import sqlite3
import pandas as pd

# Open the file
f = open('output.csv', 'w')
# Create a connection and get a cursor
connection = sqlite3.connect('mydata.sql')
cursor = connection.cursor()
# Execute the query
cursor.execute('select * from mydata')
# Get data in batches
while True:
    # Read the data
    df = pd.DataFrame(cursor.fetchmany(1000))
    # We are done if there are no data
    if len(df) == 0:
        break
    # Let's write to the file
    else:
        df.to_csv(f, header=False)

# Clean up
f.close()
cursor.close()
connection.close()
"
6603,18706,efficiently turning a ctypes LP_c_ubyte into a python 'str',"import ctypes
pp = ctypes.string_at(msg.payload, msg.payloadlen)
"
25975,35953,"Restrict certain users from adding new tags , django-taggit?","def at_least_fifty_rep(user): 
    my_profile = ... # get the user profile
    return my_profile.reputation > 50

@user_passes_test(at_least_fifty_rep)
def my_custom_view(request):
    ...
"
33718,45221,Passing parameters to twisted factory to be passed to session,"from twisted.internet.protocol import Factory, Protocol
from twisted.internet.endpoints import TCP4ServerEndpoint
from twisted.internet import reactor

class QOTD(Protocol):

    def connectionMade(self):
        # self.factory was set by the factory's default buildProtocol:
        self.transport.write(self.factory.quote + '\r\n')
        self.transport.loseConnection()


class QOTDFactory(Factory):

    # This will be used by the default buildProtocol to create new protocols:
    protocol = QOTD

    def __init__(self, quote=None):
        self.quote = quote or 'An apple a day keeps the doctor away'

endpoint = TCP4ServerEndpoint(reactor, 8007)
endpoint.listen(QOTDFactory(""configurable quote""))
reactor.run()
"
22961,6734,How to use sphinx with flask?,"@app.route('/docs', defaults={'filename': 'index.html'})
@app.route('/docs/<path:filename>')
def documentation(filename):
    return flask.send_from_directory(
        app.config['UPLOAD_FOLDER'],
        filename
    )
"
2689,50532,pywin32: how do I get a pyDEVMODE object?,">>> import pywintypes
>>> pywintypes.DEVMODEType()
<PyDEVMODE object at 0x00F38E90>
"
9300,75458,Cannot Redirect to URL after form post in django,"<h1> Welcome </h1>
       <form method=""POST"" action=""{% url 'register' %}"">
           {% csrf_token %}
           {{ user_form.as_p }}
           {{ user_profile_form.as_p }}
           <input type=""submit"" value=""Register""/>
       </form>
"
12431,55529,Nested for loops in Python,"import itertools
for a,b,c in itertools.product([0, 1], repeat=3):
  # do something
"
27444,44210,Launch Minecraft from the command line Python/C++,"java -cp "".minecraft/bin/*"" -Djava.library.path="".minecraft/bin/natives/"" net.minecraft.client.Minecraft ""username"" ""login id""
"
24337,65557,Is it possible to add a single row to a Django form?,"class aForm(forms.Form):
  input1 = forms.CharField()
  input2 = forms.CharField()

  def __init__(self, addfields=0, *args, **kwargs):
    super(aForm, self).__init__(*args, **kwargs)

    #add new fields
    for i in range(3,addfields+3)
       self.fields['input%d' % i] = forms.CharField()
"
1299,57653,Why I cannot import a library that is in my pip list?,"import png
png.from_array([[255, 0, 0, 255],
                [0, 255, 255, 0]], 'L').save(""small_smiley.png"")
"
8950,38211,SQLAlchemy: Possible to declare a column as primary key declaratively?,"class MyColumns(object):
    id = Column(Integer)
    foo = Column(Integer)
    bar = Column(Integer)

class MyMainTable(MyColumns, Base):
    __tablename__ = 'main_table'
    __table_args__ = (
        PrimaryKeyConstraint(""id"", name=""pk_id""),
    )
"
35114,44332,adding form styling to django forms,"from django.db import models
from django.contrib import admin
from django.forms.extras.widgets import TextInput

class MyModelAdmin(admin.ModelAdmin):
    formfield_overrides = {
        models.TextField: {'widget': TextInput(attrs={'class':'my-widget-class'},)},
    }
"
12463,39943,Launch Multiple copies of a program,"import os
os.spawnl(os.P_NOWAIT, ""./program1.py"", ""hello"")
"
31862,32442,Invoke python script from another python script and set execution directory of the executed script,"import os
from subprocess import check_call

check_call([scriptB], cwd=os.path.dirname(scriptB))
"
1908,29358,numpy only perform function on nonzero parts while preserving structure of array,"In [138]: foo = np.array([[ 3.5,  0. ,  2.5,  2. ,  0. ,  1. ,  0. ],
                          [ 0. ,  3. ,  2.5,  2. ,  0. ,  0. ,  0.5],
                          [ 3.5,  0. ,  0. ,  0. ,  1.5,  0. ,  0.5]])
In [141]: mask = foo != 0

In [142]: foo[mask] = foo[mask]+5

In [143]: foo
Out[143]: 
array([[ 8.5,  0. ,  7.5,  7. ,  0. ,  6. ,  0. ],
       [ 0. ,  8. ,  7.5,  7. ,  0. ,  0. ,  5.5],
       [ 8.5,  0. ,  0. ,  0. ,  6.5,  0. ,  5.5]])
"
35304,53585,Python extract values from text using keys,"tokens = ['LastName', 'Color']  
dictResult = {} 
with open(fileName,'r') as fileHandle: 
   for line in fileHandle:
      lineParts = line.split("" "")
      if len(lineParts) == 2 and lineParts[0] in tokens:
           dictResult[lineParts[0]] = lineParts[1]
"
38454,1284,Making Django Readonly ForeignKey Field in Admin Render as a Link,"from django.contrib import admin
from django.utils.safestring import mark_safe
from django.core import urlresolvers

class MyModelAdmin(admin.ModelAdmin):

    readonly_fields = ['user_link']

    def user_link(self, obj):
        change_url = urlresolvers.reverse('admin:auth_user_change', args=(obj.user.id,))
        return mark_safe('<a href=""%s"">%s</a>' % (change_url, obj.user.email))
    user_link.short_description = 'User'
"
12522,9190,Python Sendmail with Attachment?,"def enviarCorreo(fromaddr, toaddr, text, file):
    msg = MIMEMultipart('mixed')
    msg['From'] = fromaddr
    msg['To'] = toaddr
    msg['Subject'] = 'asunto'

    #This is the part you had missed.
    msg.attach( MIMEText(text) )

    #adjunto
    adjunto = MIMEBase('application', ""octet-stream"")
    adjunto.set_payload( open(file,""rb"").read() )
    Encoders.encode_base64(adjunto)
    adjunto.add_header('Content-Disposition', 'attachment; filename=""%s""' % os.path.basename(file))
    msg.attach(adjunto)

    server = smtplib.SMTP('localhost')
    server.set_debuglevel(1)
    server.sendmail(fromaddr, toaddr, msg.as_string())
    server.close()

enviarCorreo(""x@from.com"", [""y@to.com""], ""Hello World"", ['/tmp/sample.png'])
"
2587,19062,"How to get the file path of a module from a function executed but not declared in it, in Python?","import sys

def get_path():
    namespace = sys._getframe(1).f_globals  # caller's globals
    return namespace.get('__file__')
"
19038,14463,time formats to keyword replacement using python,">>> import re
>>> s=""2-sec""
>>> re.match('(\d).(m|s)',s).group(1,2)
('2', 's')
>>> s='2-min'
>>> re.match('(\d).(m|s)',s).group(1,2)
('2', 'm')
"
27341,5632,Add certain lines from contourplot in colorbar,"levels = np.logspace(0,np.log10(Z.max()), 100 )[30:80]
levels_black = [level for i,level in enumerate(levels) if (i+5) % 10 != 0]
levels_red =  [level for i,level in enumerate(levels) if (i+5) % 10 == 0]

CS2_black = pyplot.contour(X,Y,Z,locator=ticker.LogLocator(), colors='k', levels=levels_black, lw=2,norm=colors.LogNorm(),vmin=1,vmax =Z.max())
CS2_red = pyplot.contour(X,Y,Z,locator=ticker.LogLocator(), colors='r', levels=levels_red, lw=2,norm=colors.LogNorm(),vmin=1,vmax =Z.max())

cbar.add_lines(CS2_red)
"
14158,46806,What is the difference between imregionalmax() of matlab and scipy.ndimage.filters.maximum_filter," lm = scipy.ndimage.filters.maximum_filter( img, ... )
 msk = (img == lm) #// convert local max values to binary mask
"
5980,15442,Using function factories in pyx/pxd files to generate cython function wrappers for C-library,"def fun(P, x, y):
    parse_args(P, x, y)
    getattr(my_c_library, name)(&D)
    return y
"
38183,76112,Catching file name,"import traceback


def status():
    print(traceback.extract_stack(limit=2)[-2][0])
"
6822,59830,Converting a Go-To Statement from Fortran 77 to Python,"while True:
  statement 1
  statement 2
  for i in range(1,11):
    statement 3
    statement 4
  if a >= 5:
    break  
"
28395,59114,Dynamically import columns from csv into database table in sqlite3 and python,"In [54]: f = open(""/Users/sholden/test.csv"", 'rU')

In [55]: reader = csv.reader(f)

In [56]: names = reader.next()

In [57]: names
Out[57]: ['First', 'Second', 'Third']

In [65]: import sqlite3 as db

In [66]: conn = db.connect("":memory:"")

In [67]: curs = conn.cursor()

In [68]: sql = """"""create table x (\n"""""" +\
      "",\n"".join([(""%s varchar"" % name) for name in names])\
      + "")""

In [69]: sql
Out[69]: 'create table x (\nFirst varchar,\nSecond varchar,\nThird varchar)'

In [70]: curs.execute(sql)
Out[70]: <sqlite3.Cursor at 0x101f2eea0>

In [71]: for line in reader:
    curs.execute(""""""INSERT INTO x (First, Second, Third)
                    VALUES (?, ?, ?)"""""", tuple(line))
   ....:     

In [72]: curs.execute(""SELECT * FROM x"")
Out[72]: <sqlite3.Cursor at 0x101f2eea0>

In [73]: curs.fetchall()
Out[73]: [(u'3', u'4', u'Charlie'), (u'5', u'6', u'Damion'), (u'78', u'90', u'Sidney')]
"
8115,36912,Python: Copying a file with shutil,"dirs = '\\users\\username\\AppData\\Roaming\\Mozilla\\Firefox\\Profiles\\'
cop_dir = '\\users\\Desktop\\'

for r,d,f in os.walk(dirs):
    if 'places.sqlite' in f:
        shutil.copy2(os.path.join(r, 'places.sqlite'), cop_dir)
        break
"
25070,69332,How to re-use a view to update objects in Django?,"class UpdateOrCreateView(UpdateView):
    def get_object(self, queryset=None):
        # or any other condition
        if not self.kwargs.get('pk', None):
            return None
        return super(UpdateOrCreateView, self).get_object(queryset)
"
96,23500,"Apply a default decorator to all methods on a class, and exclude them selectively","class myClass
    _things = []
    params = []

    def __init__(self, params):
      self.params = params

    @property
    def things(self):
      if not self._things:
          self._things = do_a_ton_stuff()
      return self._things

    def get_things():
      return self.things

    def get_some_things():
      return apply_a_filter(self.things)

    def get_first_thing():
      return self.things[0]

    def get_last_thing():
      return self.things[-1]
"
23674,74458,How to extract exact tags in scrapy,"from scrapy.item import Item, Field
from scrapy.spider import Spider
from scrapy.selector import Selector


class MyItem(Item):
    content = Field()


class StockSpider(Spider):
    name = ""stock_spider""
    allowed_domains = [""www.hamshahrionline.ir""]
    start_urls = [""http://www.hamshahrionline.ir/details/261730/Health/publichealth""]

    def parse(self, response):
        sel = Selector(response)
        paragraphs = sel.xpath(""//div[@class='newsBodyCont']/p/text()"").extract()
        for p in paragraphs:
            item = MyItem()
            item['content'] = p
            yield item
"
23197,45002,Beautifulsoup text inside tag,">>> soup.find(class_='bookie-offer').attrs

{'class': ['bookie-offer', 'first'],
 'data-bookie-code': 'BB',
 'data-customer-type': 'existing',
 'data-sport-type': '2'}

>>> soup.find(class_='bookie-offer').attrs['data-customer-type']
'existing'
"
16640,46364,"Django:What to use modelform,formset,model formset for the following scenario?","class base_option(models.Model):
    warval = models.ForeignKey(war)
    caption = models.CharField(max_length=20)
    user = models.ForeignKey(User)

class text_option(base_option):
    text = models.TextField(blank=True,null=True)

class url_option(base_option):
    url = models.URLField(blank=True,null=True)
"
38094,26601,Moving data (based on a class) from .py to a dictonary in another .py file,"import pickle
f = open(file_Name,'wb')
pickle.dump(assignment_data, f)
f.close()
"
31622,60739,python check html valid,"#!/usr/bin/python2.6
import re
import urllib
import urllib2

def validate(URL):
    validatorURL = ""http://validator.w3.org/check?uri="" + \
        urllib.quote_plus(URL)
    opener = urllib2.urlopen(validatorURL)
    output = opener.read()
    opener.close()
    if re.search(""This document was successfully checked as"".replace(
            "" "", r""\s+""), output):
        print ""    VALID: "", URL
    else:
        print ""INVALID: "", URL
"
7113,65168,Subtracting elements from dictionaries,">>> dict_a = {""A"": 3.0, ""C"": 4.0, ""B"": 6.0}
>>> dict_b = {""A"": 3.0, ""C"": 5.0, ""D"": 1.0}
>>> from collections import Counter
>>> a = Counter(dict_a)
>>> a.subtract(dict_b)
>>> a
Counter({'B': 6.0, 'A': 0.0, 'C': -1.0, 'D': -1.0})
"
27011,46591,Count number of observations by group in past week using pandas,"def count_obs(df, interval=7):
    idx = df['Date']
    df['temp'] = 1
    by_day = df.set_index('Date').resample('D').fillna(0)
    csum = by_day['temp'].cumsum()
    by_day['Count'] = csum - csum.shift(interval).fillna(0)
    return by_day.ix[by_day.index.isin(idx), 'Count']

df.groupby('Id').apply(count_obs)
"
35545,51765,tracking maximum value in dataframe column,"In [257]:
df['B'] = df['A'].cummax()
df

Out[257]:
       A  B
Index      
0      1  1
1      2  2
2      3  3
3      2  3
4      1  3
5      3  3
6      4  4
7      2  4
"
39576,2544,Can I do custom complicated group by in a Django QuerySet?,"Somewhere.objects.extra(select={'year': 'EXTRACT(year FROM date)',
                                'month': 'EXTRACT(month FROM date)'}
                       ).values_list('year', 'month').annotate(Sum('amount'))
"
16751,52291,Selecting A folder Python,"Path = ""./Desktop/Example/""          #Input Directory
A_files = []                                                                    
for dirName, subdirList, fileList in os.walk(Path):                            
    for filename in fileList:                                                       
        if ""[A]"" in dirName:
            if "".txt"" in filename.lower():                                                  
                A_files.append(os.path.join(dirName,filename)) 

#Perform Mathematical Operators for A_files only

B_files = []                                                                    
for dirName, subdirList, fileList in os.walk(Path):                            
    for filename in fileList:                                                       
        if ""[B]"" in dirName:
            if "".txt"" in filename.lower():                                                  
                B_files.append(os.path.join(dirName,filename))

 #Perform Mathematical Operators for B_files only
 for f in B:
     data = open(filename).read()
     # Do stuff

 #Perform Mathematical Operators between A_files and B_files together
 for index, file in enumerate(A):
     dataA = open(A[i]).read()
     dataB = open(B[i]).read()
     # Do something
"
14077,13834,How do I run another script in Python without waiting for it to finish?,"p = subprocess.Popen([sys.executable, '/path/to/script.py'], 
                                    stdout=subprocess.PIPE, 
                                    stderr=subprocess.STDOUT)
"
23027,81869,Tidier way of trying to import a module from multiple locations?,"def module_exists(module_name):
    try:
        mod = __import__(module_name)
    except ImportError:
        return False
    else:
        return True

if module_exists('simplejson'):
    import simplejson as json
elif module_exists('json'):
    import json
elif module_exists('django.utils'):
    from django.utils import simplejson as json
else:
    raise ImportError('Requires either simplejson, Python 2.6 or django.utils')
"
36188,7004,How to use readline() with a pipe returned by subprocess.Popen,"status = os.fdopen(os.dup(p.stdout.fileno()))
"
27750,80565,HTTPS session reuse in Python,"    def connect(self):
        ""Connect to a host on a given (SSL) port.""

        sock = socket.create_connection((self.host, self.port),
                                        self.timeout, self.source_address)
        if self._tunnel_host:
            self.sock = sock
            self._tunnel()
        self.sock = ssl.wrap_socket(sock, self.key_file, self.cert_file)
"
25558,82436,How to convert a 8-bit number to an actual byte in Python?,"int('01010101', 2)
>>> 85
int(int('01010101', 2))  # not needed
>>> 85
chr(int('01010101', 2))
>>> 'U'
bytes(chr(int('01010101', 2)))  # not needed
>>> 'U'
"
24021,82096,Looking for a good Python Tree data structure,"def walk(node):
    """""" iterate tree in pre-order depth-first search order """"""
    yield node
    for child in node.children:
        for n in walk(child):
            yield n
"
26022,75979,Making email field mandatory in Django,"class MyUser(AbstractUser):
    # your extra fields
"
16613,2947,Division of a list to two sublists based on regex,"sub1 = [s for s in l if not s.endswith('*')]
sub2 = [s for s in l if s.endswith('*')]
"
11552,40264,How do you force wx.ListCtrl scroll bars to auto-lock to the bottom so that the most recent data is shown in the window?,"self.EnsureVisible(self.GetItemCount() - 1)
"
29156,5353,How to access list of dicts,">>> list = [{'name':'foo','value':23}, {'name':'bar','value':42}]
>>> list[0]['name']
'foo'
"
2726,58960,"How can I display form in django admin depending on user, Django","from django.contrib import admin
from .forms import SuperuserForm, OtherForm


class MyAdmin(admin.ModelAdmin):
    def get_form(self, request, obj=None, **kwargs):
        if request.user.is_superuser():
            kwargs['form'] = SuperUserForm
        else:
            kwargs['form'] = OtherUserForm

        return super(MyAdmin, self).get_form(request,obj=obj,**kwargs)
"
17524,43973,Segmenting Image In Fixed Blocks,"import cv2

def segmentize (image_path, segment_width=200, segment_height=50):
    # Croping Formula ==> y:h, x:w
    idx, x_axis, x_width,  = 1, 0, segment_width
    y_axis, y_height = 0, segment_height
    img = cv2.imread(image_path)
    height, width, dept = img.shape
    while y_axis <= height:
        while x_axis <= width:
            crop = img[y_axis:y_height, x_axis:x_width]
            x_axis=x_width
            x_width+=segment_width
            cropped_image_path = ""crop/crop%d.png"" % idx
            cv2.imwrite(cropped_image_path, crop)
            idx+=1
        y_axis += segment_height
        y_height += segment_height
        x_axis, x_width = 0, segment_width
"
1852,41846,Python 256bit Hash function with number output,">>> import hashlib
>>> h = hashlib.sha256('something to hash')
>>> h.hexdigest()
'a3899c4070fc75880fa445b6dfa44207cbaf924a450ce7175cd8500e597d3ec1'
>>> n = int(h.hexdigest(),base=16)
>>> print n
73970130776712578303406724846815845410916448611708558169000368019946742824641
"
25271,14840,"What is the proper way to set the ""From"" header in an email using Django EmailMessage class?","email = EmailMessage(
    'My foobar subject!!',
    body,
    'Darth Vader <notify@foobar.com>',
    [the_user.email])
"
29031,79019,Replacing chars in a string in every way,">>> from itertools import product, cycle
>>> s = 'abcde'
>>> [''.join(chars) for chars in product(*zip(s, cycle('*')))]
['abcde', 'abcd*', 'abc*e', 'abc**', 'ab*de', 'ab*d*', 'ab**e', 'ab***', 
 'a*cde', 'a*cd*', 'a*c*e', 'a*c**', 'a**de', 'a**d*', 'a***e', 'a****', 
 '*bcde', '*bcd*', '*bc*e', '*bc**', '*b*de', '*b*d*', '*b**e', '*b***',
 '**cde', '**cd*', '**c*e', '**c**', '***de', '***d*', '****e', '*****']
"
28456,85243,Python: If...and... not working as expected,"def rolldice():
    while True:
        num_sides = input(""Enter number of sides for die: "")
        num_rolls = input(""Enter number of rolls for die: "")
        try:
            int(num_sides)
            int(num_rolls)
            break
        except ValueError:
            print(""Enter an integer"")
"
29163,21571,Sorting Array in Python,"with open('/path/to/file', 'r') as f:
    array = []
    for line in f:
        timestamp = int(line.split('|')[0].strip())
        array.append((timestamp, line))

array.sort()
"
33587,11450,Python urllib2 urlopen doesn't run CakePHP code at url,"curl -silent http://example.com/mycontroller/myfunction
"
31810,73670,Specify a different Python version for my virtualenv using chef Python cookbook,"diff --git a/cookbooks/application_python/providers/gunicorn.rb b/cookbooks/application_python/providers/gunicorn.rb
index 08c5925..210e508 100644
--- a/cookbooks/application_python/providers/gunicorn.rb
+++ b/cookbooks/application_python/providers/gunicorn.rb
@@ -27,6 +27,7 @@ action :before_compile do
   django_resource = new_resource.application.sub_resources.select{|res| res.type == :django}.first
   gunicorn_install ""gunicorn-#{new_resource.application.name}"" do
     virtualenv django_resource ? django_resource.virtualenv : nil
+    interpreter django_resource.interpreter
   end

   if !new_resource.restart_command
diff --git a/cookbooks/application_python/resources/django.rb b/cookbooks/application_python/resources/django.rb
index 6429cee..b4d4b38 100644
--- a/cookbooks/application_python/resources/django.rb
+++ b/cookbooks/application_python/resources/django.rb
@@ -30,7 +30,7 @@ attribute :settings_template, :kind_of => [String, NilClass], :default => nil
 attribute :local_settings_file, :kind_of => String, :default => 'local_settings.py'
 attribute :debug, :kind_of => [TrueClass, FalseClass], :default => false
 attribute :collectstatic, :kind_of => [TrueClass, FalseClass, String], :default => false

 def local_settings_base
   local_settings_file.split(/[\\\/]/).last
diff --git a/cookbooks/application_python/resources/gunicorn.rb b/cookbooks/application_python/resources/gunicorn.rb
index 50d3c2b..f68c868 100644
--- a/cookbooks/application_python/resources/gunicorn.rb
+++ b/cookbooks/application_python/resources/gunicorn.rb
@@ -42,3 +42,4 @@ attribute :logfile, :kind_of => String, :default => '-'
 attribute :loglevel, :kind_of => [String, Symbol], :default => :info
 attribute :proc_name, :kind_of => [String, NilClass], :default => nil
 attribute :command, :kind_of => [String, NilClass], :default => """"
+attribute :interpreter, :kind_of => String, :default => nil
diff --git a/cookbooks/gunicorn/providers/install.rb b/cookbooks/gunicorn/providers/install.rb
index 19266ad..67f526c 100644
--- a/cookbooks/gunicorn/providers/install.rb
+++ b/cookbooks/gunicorn/providers/install.rb
@@ -20,6 +20,7 @@

 action :install do
   python_virtualenv new_resource.virtualenv do
+    interpreter new_resource.interpreter
     action :create
   end if new_resource.virtualenv

diff --git a/cookbooks/gunicorn/resources/install.rb b/cookbooks/gunicorn/resources/install.rb
index 6c7f8b6..f52fe09 100644
--- a/cookbooks/gunicorn/resources/install.rb
+++ b/cookbooks/gunicorn/resources/install.rb
@@ -21,6 +21,7 @@
 actions :install

 attribute :virtualenv, :kind_of => String, :default => nil
+attribute :interpreter, :kind_of => String, :default => nil

 def initialize(*args)
   super
diff --git a/cookbooks/webplayer/recipes/default.rb b/cookbooks/webplayer/recipes/default.rb
index 8c812ce..1981c09 100644
--- a/cookbooks/webplayer/recipes/default.rb
+++ b/cookbooks/webplayer/recipes/default.rb
@@ -22,6 +22,11 @@ file ""/etc/chef/deploy"" do
   :create_if_missing
 end

+directory ""/root/.ssh"" do
+  owner ""root""
+  group ""root""
+end
+
 file ""/root/.ssh/config"" do
   owner ""root""
   group ""root""
"
25210,44055,arrange list items in a specific pattern,">>> dict_a = {
       'north' : 'N',
       'south' : 'S',
       'east' : 'E',
       'west' : 'W',
       'north east' : 'NE',
       'north west' : 'NW'
   }
>>> import difflib
>>> string_a = 'North East Asia'
>>> dict_a[difflib.get_close_matches(string_a, dict_a.keys())[0]]
'NE'
"
23727,55860,Zip together each element of one list,">>> data = ['ABC', 'EFG', 'IJK', 'MNO']
>>> zip(*data)
[('A', 'E', 'I', 'M'), ('B', 'F', 'J', 'N'), ('C', 'G', 'K', 'O')]
"
9944,2603,Username available in all templates,"def add_renderer_globals(event):
    request, context = event['request'], event['context']
    event['user'] = authenticated_userid(request)
"
24577,4014,"Better looping, for string manipulation (python)","for i, grp in enumerate((s[:3],s[3:6],s[6:])):
    print ""'%s'""%(grp)

    total = calc_total(grp)
    # more code that needs to happen every time

    if i == 0:
        # code that needs to happen only the first time
    elif i == 1:
        # code that needs to happen only the second time
"
7470,75290,Count number of occurrences of a given list of strings in a data stream,"import re
from collections import defaultdict

WORD_COUNTS = defaultdict(int)
WORDS = [""car"", ""cat"", ""cow"", ""hi"", ""hello""]
MAX_WORD_LEN = len(max(WORDS, key=len))
REGEX = (""|"".join(WORDS))
RE_OBJ = re.compile(REGEX)

def count_words(stream):
    last_stream_remainder = """"

    while True:
        data = stream.get_chunk()

        # Breaking point 
        if data is None:
            break

        if not data:
            continue

        data = last_stream_remainder + data
        for match in RE_OBJ.finditer(data):
            WORD_COUNTS[match.group(0)] += 1

        # to cover the corner case like remainder from last 
        # chunk can attach with new one and make a word
        if match:
            if match.end() >= len(data):
                continue
            else:
                last_match = min((len(data) - match.end()), MAX_WORD_LEN)
                last_stream_remainder = data[-last_match:]
        else:
            last_stream_remainder = data[-MAX_WORD_LEN:]

class StreamReader(object):
    STREAM_DATA = [""car1cat1lftrysomecow1shi1iamgoinghello1pleasegoocar2sarehere"",
                   ""car3car4car5cat2cat3h"", ""i2thisishello2hello3he"", """", ""llo4"", None]

    def get_chunk(self):
        return self.STREAM_DATA.pop(0)

stream = StreamReader()
count_words(stream)

print WORD_COUNTS.items()
# [('car', 5), ('hi', 3), ('hello', 4), ('cow', 1), ('cat', 3)]
"
7757,69393,Calling a function from within a dictionary,">>> def function():
...     print(""Hello World"")
... 
>>> d = {
...     'hello': function  # NOTE: we are not calling the function here - just keeping the reference
... }
>>> d['hello']()
Hello World
"
21863,33138,How does one specify the input file for a runner from Python?,"mr_job = MRYourJob(args=[""datalines.txt""])
"
22863,70038,how to keep a reference for the requests in scrapy,"def parse(self, response):
     return scrapy.Request(url, 
                           meta={""number"": number},
                           callback=self.parse_page)

def parse_page(self, response):
    print(response.meta[""number""])
"
18361,57138,Visa credit card regular expression: grouping assertion,">>> s = '4123412341234123'
>>> print (re.match(r""\b4[0-9]{12}(?:[0-9]{3})\b"", s).groups())
()
>>> print (re.match(r""\b4[0-9]{12}([0-9]{3})\b"", s).groups())
('123',)
"
16762,66889,"Python: How does one recieve a random string, and display it into a label (tkinter)?","def message(self):
   self.inp.set(random.choice(messages))
"
15478,80777,How can I write a binary array as an image in Python?,"import matplotlib.pyplot as plt
import matplotlib.cm as cm
import numpy as np
plt.imsave('filename.png', np.array(data).reshape(50,50), cmap=cm.gray)
"
24549,54902,Python sort lists with lists inside,">>> lists=[[3,2,1,4],[""three"",""two"",""one"",""four""],[""tres"",""dos"",""uno"",""cuatro""]]
>>> [[x for i, x in sorted(zip(lists[0], sublist))] for sublist in lists]
[[1, 2, 3, 4], ['one', 'two', 'three', 'four'], ['uno', 'dos', 'tres', 'cuatro']]
"
32916,83005,"python, pandas, csv import and more","import os
import glob
import pandas as pd

def get_merged_csv(flist, **kwargs):
    return pd.concat([pd.read_csv(f, **kwargs) for f in flist], ignore_index=True)

path =r'C:\DRO\DCL_rawdata_files' # use your path
fmask = os.path.join(path, '*.csv')
allFiles = sorted(glob.glob(fmask), key=os.path.getmtime)

frame = get_merged_csv(allFiles[:-1], index_col=None, header=0)
"
7552,3804,move files from one directory to another based on a specific line,"$ find . -type f -exec \
  fgrep -l ""SAMPLE 350 AN INTEGER OF TYPE :DECIMAL : CAN BE ASSEMBLED BY"" {} \; \
  | xargs -i%  mv % /path/to/new/dir
"
1446,76573,Remove widget in gtk.Table?,"table.remove(button)
"
5755,35017,single key with multiple values in a dict,"vowels = set(['aa', 'ae', 'ah', 'ao', 'eh', 'er', 'ey', 'ih', 'iy', 'uh', 'uw', 'o'])
consonants = set(['b', 'ch', 'd', 'dh', 'dx', 'f', 'g', 'hh', 'jh', 'k', 'l', 'm', 'n', 'ng', 'p', 'r', 's', 'sh', 't', 'th', 'v', 'w', 'y', 'z', 'zh'])


if phoneme in vowels:
    do this
else :
    do that (for consonants)
"
509,55680,How can I download all emails with attachments from Gmail?,"import email, getpass, imaplib, os

detach_dir = '.' # directory where to save attachments (default: current)
user = raw_input(""Enter your GMail username:"")
pwd = getpass.getpass(""Enter your password: "")

# connecting to the gmail imap server
m = imaplib.IMAP4_SSL(""imap.gmail.com"")
m.login(user,pwd)
m.select(""[Gmail]/All Mail"") # here you a can choose a mail box like INBOX instead
# use m.list() to get all the mailboxes

resp, items = m.search(None, ""ALL"") # you could filter using the IMAP rules here (check http://www.example-code.com/csharp/imap-search-critera.asp)
items = items[0].split() # getting the mails id

for emailid in items:
    resp, data = m.fetch(emailid, ""(RFC822)"") # fetching the mail, ""`(RFC822)`"" means ""get the whole stuff"", but you can ask for headers only, etc
    email_body = data[0][1] # getting the mail content
    mail = email.message_from_string(email_body) # parsing the mail content to get a mail object

    #Check if any attachments at all
    if mail.get_content_maintype() != 'multipart':
        continue

    print ""[""+mail[""From""]+""] :"" + mail[""Subject""]

    # we use walk to create a generator so we can iterate on the parts and forget about the recursive headach
    for part in mail.walk():
        # multipart are just containers, so we skip them
        if part.get_content_maintype() == 'multipart':
            continue

        # is this part an attachment ?
        if part.get('Content-Disposition') is None:
            continue

        filename = part.get_filename()
        counter = 1

        # if there is no filename, we create one with a counter to avoid duplicates
        if not filename:
            filename = 'part-%03d%s' % (counter, 'bin')
            counter += 1

        att_path = os.path.join(detach_dir, filename)

        #Check if its already there
        if not os.path.isfile(att_path) :
            # finally write the stuff
            fp = open(att_path, 'wb')
            fp.write(part.get_payload(decode=True))
            fp.close()
"
17206,802,How to create pie chart using python ?,"import matplotlib.pyplot as plt

#change these 2 variables to suit your needs
nPass = 5857 
nFail = 1362

plt.rcParams.update({'font.size': 22}) #adjust font size; not really needed

plt.pie([nPass, nFail],
        colors=[""green"",""red""],
        labels=[""Pass"", ""Fail""],
        autopct='%1.1f%%', 
        startangle=90)

plt.axis('equal') #ensure pie is round
plt.show()
"
22565,20940,finding the index of the first letter of a sub string in the main string,"def find_chr(s,char):
    i=0
    step = len(char)
    for j in range(len(s)+1):
        ch = s[j:j+step]
        if ch==char:
            return (i)
            break
        i+=1
    return -1

def find_str(s,x):
    i=0
    if x in s:
        return find_chr(s,x)
    else:
        return -1
"
7225,19406,matplotlib navigation toolbar pan & zoom,"lim_dict = dict()
for ax in fig.axes:
    lim_dict[ax] = (ax.get_xlim(), ax.get_ylim())

def ax_changed(ax):
    old_xlim, old_ylim = lim_dict[ax]
    return np.all(old_xlim == ax.get_xlim()) and np.all(old_ylim == ax.get_ylim())

changed_axes = [ax for ax in figs.axes if ax_changed(ax)]
not_changed_axes = [ax for ax in figs.axes if not ax_changed(ax)]
"
38449,33453,wxpython: Hide one of splitterWindow panels,"import wx
class MainFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        wx.Frame.__init__(self, None, title=""test"", size=(800,600))

        self.splitter = wx.SplitterWindow(self, wx.ID_ANY)
        self.panelOne = wx.Panel(self.splitter,1)
        self.panelTwo = wx.Panel(self.splitter,1)
        self.panelOne.SetBackgroundColour('sky blue')
        self.panelTwo.SetBackgroundColour('pink')
        self.splitter.SplitHorizontally(self.panelOne, self.panelTwo)
        self.splitter.SetMinimumPaneSize(20)

        self.buttonpanel = wx.Panel(self, 1)
        self.buttonpanel.SetBackgroundColour('white')
        self.mybutton = wx.Button(self.buttonpanel,label = ""Hide"")
        self.Bind(wx.EVT_BUTTON, self.show_hide, self.mybutton)

        self.sizer = wx.BoxSizer(wx.VERTICAL)
        self.sizer.Add(self.splitter, 2, wx.EXPAND)
        self.sizer.Add(self.buttonpanel, 0, wx.EXPAND)
        self.SetSizer(self.sizer)

    def show_hide(self, event):
        label = self.mybutton.GetLabel()
        if label == ""Hide"":
            ### How to Hide panelOne ??
            self.mybutton.SetLabel(""Show"")
            self.splitter.Unsplit(self.panelOne)
        if label == ""Show"":
            ### How to Show panelOne ??
            self.splitter.SplitHorizontally(self.panelOne, self.panelTwo)
            self.mybutton.SetLabel(""Hide"")



if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MainFrame()
    frame.Show()
    app.MainLoop()
"
30958,21316,How do I turn pandas DataFrame groupby results into a DataFrame?,"df = pd.DataFrame(data={'in':[2, 2, 3, 4], 'out':[2,2,4,4]})
in_out=df.groupby(['in','out']).size().reset_index(name='count')
print in_out
   in  out  count
0   2    2      2
1   3    4      1
2   4    4      1
"
9866,58265,Is it possible to change the contents of __init__.py files of a module while runtime using python?,"class MyProcess(psutil.Process):
    def get_cpu_percent(self, interval=0.1):
        return 42
"
23503,72786,Python Package Design And Circular Imports,"import filesystem.directory

class File(object):

   def __init__(self):
       self._Directory = filesystem.directory.Directory

   def foo(self):
       some_dir = self._Directory(...)
"
38669,29775,Printing x amount of times in Python,"years = range(min_time, max_time + 1, increment_time)

for year in years:
    print(year, end="" "") # prints a space after each value, rather than a newline
print() # add a newline at the end of the row

row_str = "" "".join(str(year) for year in years) # join year strings with spaces
print(row_str) # prints whole row in one step, with a newline at the end
"
160,62713,Python loop through list and shorten by one,"my_list = ['apple', 'orange', 'dragon', 'panda']
my_list.reverse()
while my_list:
    print(my_list.pop())
"
3699,9122,Treebank-style tree parser python,"import bllipparser

def is_prepreterminal(node):
    """"""Returns True iff all children of this node are preterminals.""""""
    subtrees = node.subtrees()
    return len(subtrees) > 0 and \
        all(subtree.is_preterminal() for subtree in subtrees)

# testing code
tree = bllipparser.Tree('(S1 (S (NP (DT This)) (VP (VBZ is) (NP (DT a) (ADJP (RB fairly) (JJ simple)) (NN parse) (NN tree))) (. .)))')
for subtree in tree.all_subtrees():
    print subtree, is_prepreterminal(subtree)
"
1754,65841,How do I check if my search cursor is empty in arcpy?,"

i = 0
with arcpy.da.SearchCursor(""your_table"", [""your_fields""], ""your_query"") as cursor:
    for row in cursor:
        i += 1

if i == 0:
    print ""No results returned."""
36083,81667,"Distance calculation in hierarchical clustering ""complete"" linkage","import scipy.spatial.distance as ssd
distmatrix = ssd.squareform(distmatrix + distmatrix.T)
"
20088,43416,Get coordinates of local maxima in 2D array above certain value,"import numpy as np
import scipy
import scipy.ndimage as ndimage
import scipy.ndimage.filters as filters
import matplotlib.pyplot as plt

fname = '/tmp/slice0000.png'
neighborhood_size = 5
threshold = 1500

data = scipy.misc.imread(fname)

data_max = filters.maximum_filter(data, neighborhood_size)
maxima = (data == data_max)
data_min = filters.minimum_filter(data, neighborhood_size)
diff = ((data_max - data_min) > threshold)
maxima[diff == 0] = 0

labeled, num_objects = ndimage.label(maxima)
slices = ndimage.find_objects(labeled)
x, y = [], []
for dy,dx in slices:
    x_center = (dx.start + dx.stop - 1)/2
    x.append(x_center)
    y_center = (dy.start + dy.stop - 1)/2    
    y.append(y_center)

plt.imshow(data)
plt.savefig('/tmp/data.png', bbox_inches = 'tight')

plt.autoscale(False)
plt.plot(x,y, 'ro')
plt.savefig('/tmp/result.png', bbox_inches = 'tight')
"
27376,24513,"In Python, is use of `del` statement a code smell?",">>> a = [1, 2]
>>> b = a
>>> del a
>>> a
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
NameError: name 'a' is not defined
>>> b
[1, 2]
"
27971,3447,Plot continuous line using 'dashes' argument in matplotlib's plot(),"import matplotlib.pyplot as plt
import numpy as np


col = ['c', 'm', 'g', 'y', 'k']
c_dash = [[0,[8, 4]], [0,[8, 4, 2, 4]], 'solid', [0,[8, 4, 2, 4, 2, 4]], 'solid']


for i in range(5):
    x, y = range(10), np.random.uniform(0., 10., 10)
    plt.plot(x, y, color=col[i], linestyle=c_dash[i])
"
29034,61436,Problems with outputing console to GUI in tkinter,"import tkinter as tk
import time
import sys

class Display(tk.Frame):
    def __init__(self):
       tk.Frame.__init__(self)
       self.doIt = tk.Button(self,text=""Start"", command=self.start, background = 'black', fg='white')
       self.doIt.pack()

       self.output = tk.Text(self, width=100, height=15, background = 'black', fg='white')
       self.output.pack(side=tk.LEFT)

       self.scrollbar = tk.Scrollbar(self, orient=""vertical"", command = self.output.yview)
       self.scrollbar.pack(side=tk.RIGHT, fill=""y"")

       self.output['yscrollcommand'] = self.scrollbar.set

       self.count = 1
       self.configure(background='black')
       self.pack()


    def start(self):
        if self.count < 1000:
            self.write(str(self.count) + '\n')
            print (self.count)
            self.count += 1
            self.after(2000, self.start)


    def write(self, txt):
        self.output.insert(tk.END,str(txt))
        self.update_idletasks()


if __name__ == '__main__':
    Display().mainloop()
"
8040,71566,Save the contents of a Gtk.DrawingArea or Cairo pattern to an image on disk,"def drawing_area_write(self):
    # drawingarea1 is a Gtk.DrawingArea
    window = self.ui.drawingarea1.get_window()

    # Some code to get the coordinates for the image, which is centered in the
    # in the drawing area. You can ignore it for the purpose of this example
    src_x, src_y = self.get_centered_coordinates(self.ui.drawingarea1,
                                                 self.surface)
    image_height = self.surface.get_height() * self.scale_factor
    image_width = self.surface.get_width() * self.scale_factor

    # Fetch what we rendered on the drawing area into a pixbuf
    pixbuf = Gdk.pixbuf_get_from_window(window, src_x, src_y,
                                      image_width, image_height)

    # Write the pixbuf as a PNG image to disk
    pixbuf.savev('/tmp/testimage.png', 'png', [], [])
"
37747,22761,Null values for Oracle SQL Python,"for currentrow in data:
    if currentrow[8] is not None:   <-- Change this from null to None
        Product = currentrow[8].read()
    else:
        Product = currentrow[8]
    data = tuple([currentrow[0], currentrow[1], currentrow[2], currentrow[3], currentrow[4], currentrow[5], currentrow[6], currentrow[7], Product])
print data
"
7759,6481,Modify a string in a text file,"In [1]: cat planets.txt
saturn

In [2]: s = open(""planets.txt"").read()

In [3]: s = s.replace('saturn', 'sun')

In [4]: f = open(""planets.txt"", 'w')

In [5]: f.write(s)

In [6]: f.close()

In [7]: cat planets.txt
sun
"
3228,77182,Python subprocess.call and subprocess.Popen giving me different outputs,"def call(*popenargs, **kwargs):
    p = subprocess.Popen(*popenargs, **kwargs)
    return p.wait()
"
14949,62936,Distributed system: Python 3 worker and Node.js server?,"pip3 install git+https://github.com/MichalMazurek/gevent
pip3 install ZeroRPC
"
11465,18965,wxPython memory leak with setValue,"import wx

class MyFrame(wx.Frame):
    def __init__(self):
        super(MyFrame,self).__init__(None, title=""Frame"", size=(100, 100))
        ##self.field = wx.TextCtrl(self, -1, ""Text"", (30, 7))
        self.field = wx.StaticText(self)

    def startIdle(self):
        self.counter = 0
        self.Bind(wx.EVT_IDLE, self.onIdle)

    def onIdle(self, evt):
        self.counter += 1
        ##self.field.SetValue(str(self.counter))
        self.field.SetLabel(str(self.counter))
        evt.RequestMore()


class Main(wx.App):
    def OnInit(self):
        self.frame = MyFrame()
        self.frame.Show()
        self.frame.startIdle()
        self.MainLoop()
        return True
Main()
"
20333,15090,Pandas dataframe groupby and combine multiple row values,"df.groupby(['FIRST_NM', 'LAST_NM']).apply(lambda group: ','.join(group['PAGE_NUM']))
Out[23]: 
FIRST_NM  LAST_NM
Eric      Adams           9
Jane      Doe         14,16
John      Smith      1,7,19
dtype: object
"
30647,40579,Setting the rows to variables in Tkinter,"from Tkinter import *

class Example(Frame):
    def __init__(self, parent):
        Frame.__init__(self, parent)
        self.initUI()

    def move(self):
        info = self.b.grid_info()
        previous_row = int(info[""row""]) #int() needed because datas are stored as string
        self.b.grid(row=previous_row+1)

    def initUI(self):
        for i in range(5):
            l = Label(self, text=""Row {0}"".format(i))
            l.grid(row=i, column=0)

        self.b =  Button(self, text=""Moving button"", command=self.move)
        self.b.grid(row=0, column=1)

        self.pack()

root = Tk()
app = Example(root)
root.mainloop()
"
35908,75928,How to change page of already open pdf in python,"process = subprocess.Popen([path_to_acrobat, '/n', '/A', 'page=' + page, path_to_pdf], shell=False, stdout=subprocess.PIPE)
"
22145,11758,Modeling a linear system with Python,"import matplotlib.pylab as plt
import numpy as np
import scipy.signal

def bode(G,f=np.arange(.01,100,.01)):
    plt.figure()
    jw = 2*np.pi*f*1j
    y = np.polyval(G.num, jw) / np.polyval(G.den, jw)
    mag = 20.0*np.log10(abs(y))
    phase = np.arctan2(y.imag, y.real)*180.0/np.pi % 360

    plt.subplot(211)
    #plt.semilogx(jw.imag, mag)
    plt.semilogx(f,mag)
    plt.grid()
    plt.gca().xaxis.grid(True, which='minor')

    plt.ylabel(r'Magnitude (db)')

    plt.subplot(212)
    #plt.semilogx(jw.imag, phase)
    plt.semilogx(f,phase)
    plt.grid()
    plt.gca().xaxis.grid(True, which='minor')
    plt.ylabel(r'Phase (deg)')
    plt.yticks(np.arange(0, phase.min()-30, -30))

    return mag, phase

f=scipy.signal.lti([1],[1,1])
bode(f)
"
30256,34385,Moving/minimizing/resizing the PhantomJS shell in Python's WebDriver,"import win32gui, win32con

toplist = []
winlist = []

def enum_callback(hwnd, results):
    winlist.appen((hwnd, win32gui.GetWindowText(hwnd)))

(CODE THAT BRINGS UP THE PHANTOMJS WINDOW)

win32gui.EnumWindows(enum_callback, toplist)
phantom = [(hwnd, title) for hwnd, title in winlist if 'phantom' in title.lower()]
phantom = phantom[0]
win32gui.ShowWindow(phantom[0], win32con.SW_MINIMIZE)
"
38512,77374,How to use regex search to search a variable value,"#!/usr/bin/env python
# -*- coding: utf-8 -*-

import re
var = '\[1984\]'
with open(""test.log"")  as fp: # assuming your log file is test.log
    lines = fp.readlines()
    for line in lines:
        line = line.strip()
        if re.match(r'.*'+str(var)+'.*',line): # may be you want to add some more strict matching rules here.
            print line

# vim:ai:et:sts=4:sw=4:
"
4297,41340,why function returns a list with only one member?,"def party_generator(size=1, chars=string.ascii_uppercase):
    parties = []
    for y in range(2):
        party = ''.join(random.choice(chars) for x in range(size))
        parties.append(''.join(['Party ',party]))
    return parties
"
20502,29828,Compare two timestamps in Python,"from datetime import datetime

timestamp1 = ""Feb 12 08:02:32 2015""
timestamp2 = ""Jan 27 11:52:02 2014""

t1 = datetime.strptime(timestamp1, ""%b %d %H:%M:%S %Y"")
t2 = datetime.strptime(timestamp2, ""%b %d %H:%M:%S %Y"")

difference = t1 - t2

print(difference.days) # 380, in this case

latest = max((t1, t2)) # t1, in this case
"
1670,8462,Clearing selection in QListWidget,"from PyQt4 import QtGui, QtCore
import sys, random

def clear(listwidget):
    for i in range(listwidget.count()):
        item = listwidget.item(i)
        listwidget.setItemSelected(item, False)

app = QtGui.QApplication([])
top = QtGui.QWidget()

# list widget
myListWidget = QtGui.QListWidget(top)
myListWidget.setSelectionMode(2)
myListWidget.resize(200,300)
for i in range(10):
    item = QtGui.QListWidgetItem(""item %i"" % i, myListWidget)
    myListWidget.addItem(item)
    if random.random() > 0.5: 
        # randomly select half of the items in the list
        item.setSelected(True)

# clear button
myButton = QtGui.QPushButton(""Clear"", top)
myButton.resize(60,30)
myButton.move(70,300)
myButton.clicked.connect(lambda: clear(myListWidget))
top.show()

sys.exit(app.exec_())
"
19059,41082,Dynamic method resolution on a super() object,">>> getattr(o, ""p"")
<bound method A.p of <__main__.AB object at 0x0000000000AA8160>>
"
20250,29506,Python Embedding: PyImport_Import not from the current directory,"
Py_Initialize();
PyObject* sysPath = PySys_GetObject((char*)""path"");
PyObject* programName = PyString_FromString(SplitFilename(argv[1]).c_str());
PyList_Append(sysPath, programName);
Py_DECREF(programName);
"
35439,57119,Automatically creating a list in Python,"import glob
my_new_list = glob.glob(""/your/folder/*"")
"
10632,67922,python regex to obtain a group word as 'initial _name_',"^(\S+(?: _[^_]*_)?)\((.*)\)$
"
19335,79383,"Python: Choose random line from file, then delete that line","
#!/usr/bin/env python
import random

k = 10
filename = 'TestingDeleteLines.txt'
with open(filename) as file:
    lines = file.read().splitlines()

if len(lines) > k:
    random_lines = random.sample(lines, k)
    print(""\n"".join(random_lines)) # print random lines

    with open(filename, 'w') as output_file:
        output_file.writelines(line + ""\n""
                               for line in lines if line not in random_lines)
elif lines: # file is too small
    print(""\n"".join(lines)) # print all lines
    with open(filename, 'wb', 0): # empty the file
        pass
"
39444,59638,String formatting named parameters?,"print '<a href=""%(url)s"">%(url)s</a>' % {'url': my_url}
"
4128,19861,Replace WhiteSpace with a 0 in Pandas (Python 3),"In [12]:
# convert objects will handle multiple whitespace, this will convert them to NaN
# we then call fillna to convert those to 0
df.Age = df[['Age']].convert_objects(convert_numeric=True).fillna(0)
df
Out[12]:
   Name  Age
0  John   12
1  Mary    0
2   Tim   15
"
11321,59425,node.js performance with zeromq vs. Python vs. Java,"var zeromq = require(""zeromq"");

var counter = 0;
var startTime = new Date();

var maxnum = 100000;

var socket = zeromq.createSocket('req');

socket.connect(""tcp://127.0.0.1:5502"");
console.log(""Connected to port 5502."");

socket.send('Hello');

socket.on('message',
          function(data)
          {
              if (counter % 1000 == 0)
              {
                  console.log(data.toString('utf8'), counter);
              }

              if (counter >= maxnum)
              {
                  var endTime = new Date();
                  console.log(""Time: "", startTime, endTime);
                  console.log(""ms  : "", endTime - startTime);
                  socket.close(); // or the process.exit(0) won't work.
                  process.exit(0);
              }

              //console.log(""Received: "" + data);
              counter += 1;

          socket.send('Hello');
          }
     );

socket.on('error', function(error) {
    console.log(""Error: ""+error);
});
"
32609,43477,How can I verify Column data types in the SQLAlchemy ORM?,"from sqlalchemy import Column, Integer, String, DateTime
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy import event
import datetime

Base= declarative_base()

def validate_int(value):
    if isinstance(value, basestring):
        value = int(value)
    else:
        assert isinstance(value, integer)
    return value

def validate_string(value):
    assert isinstance(value, basestring)
    return value

def validate_datetime(value):
    assert isinstance(value, datetime.datetime)
    return value

validators = {
    Integer:validate_int,
    String:validate_string,
    DateTime:validate_datetime,
}

# this event is called whenever an attribute
# on a class is instrumented
@event.listens_for(Base, 'attribute_instrument')
def configure_listener(class_, key, inst):
    if not hasattr(inst.property, 'columns'):
        return
    # this event is called whenever a ""set"" 
    # occurs on that instrumented attribute
    @event.listens_for(inst, ""set"", retval=True)
    def set_(instance, value, oldvalue, initiator):
        validator = validators.get(inst.property.columns[0].type.__class__)
        if validator:
            return validator(value)
        else:
            return value


class MyObject(Base):
    __tablename__ = 'mytable'

    id = Column(Integer, primary_key=True)
    svalue = Column(String)
    ivalue = Column(Integer)
    dvalue = Column(DateTime)


m = MyObject()
m.svalue = ""ASdf""

m.ivalue = ""45""

m.dvalue = ""not a date""
"
15447,21975,"Python, Determining between @property and functions","def __iter__(self):
    attrs = [a for a in dir(self) if not a.startswith(""_"")]
    for attr_name in attrs:
        attr = getattr(self, attr_name)
        if not hasattr(attr, ""__call__""): # or if not callable(attr):
            yield attr_name, attr
"
5164,16644,Order of list obtained by dictionary's keys(),">>> from collections import OrderedDict
>>> od = OrderedDict()
>>> od[1] = ""one""
>>> od[2] = ""two""
>>> od[3] = ""three""
>>> od.keys()
[1, 2, 3]
"
13325,58267,"How to use ""INSERT....SELECT"" statement in python?","INSERT INTO fruit_table 
SELECT * 
FROM original_table 
WHERE Index=1;
"
1770,68248,What is the correct way to change StaticText label?,"class MainWindow(wx.Frame):
    def __init__(self, *args, **kwargs):
        wx.Frame.__init__(self, *args, **kwargs)

        self.panel = wx.Panel(self)
        self.label = wx.StaticText(self.panel, label=""Test"", style=wx.ALIGN_CENTRE)
        self.button = wx.Button(self.panel, label=""Change"")

        self.sizer = wx.BoxSizer()
        self.sizer.Add(self.label, 1)
        self.sizer.Add(self.button)

        self.button.Bind(wx.EVT_BUTTON, self.OnButton)

        self.panel.SetSizerAndFit(self.sizer)  
        self.Show()

    def OnButton(self, e):
        self.label.SetLabel(""Oh, this is very looooong!"")
        self.sizer.Layout()
        # self.panel.Layout()  #Either works

app = wx.App(False)
win = MainWindow(None)
app.MainLoop()
"
7546,2633,creating new protocol in scapy with fields depending on the packet total length,"class NewProtocol(Packet):
     def __init__(self, _pkt="""", post_transform=None, _internal=0, _underlayer=None, **fields):
          self.name = ""myNewAwesomeProto""
          if _pkt != """":
               global frameSize
               frameSize = len(_pkt)
               fields_desc=[
                    BitField(""startingField"", None, 8),
                    BitField(""payload"", None, (frameSize - (8+2))*8),
                    BitField(""endingField"", None, 2*8)
               ]
          super(NewProtocol, self).__init__(_pkt, post_transform, _internal, _underlayer)
"
2650,70272,Python: Size of message to send via socket,"import struct

def _get_block(s, count):
    if count <= 0:
        return ''
    buf = ''
    while len(buf) < count:
        buf2 = s.recv(count - len(buf))
        if not buf2:
            # error or just end of connection?
            if buf:
                raise RuntimeError(""underflow"")
            else:
                return ''
        buf += buf2
    return buf

def _send_block(s, data):
    while data:
        data = data[s.send(data):]

if False:
    def get_msg(s):
        count = struct.unpack('>i', _get_block(s, 4))[0]
        return _get_block(s, count)

    def send_msg(s, data):
        header = struct.pack('>i', len(data))
        _send_block(s, header)
        _send_block(s, data)

if True:

    def _get_count(s):
        buf = ''
        while True:
            c = s.recv(1)
            if not c:
                # error or just end of connection/
                if buf:
                    raise RuntimeError(""underflow"")
                else:
                    return -1
            if c == '|':
                return int(buf)
            else:
                buf += c

    def get_msg(s):
        return _get_block(s, _get_count(s))

    def send_msg(s, data):
        _send_block(s, str(len(data)) + '|')
        _send_block(s, data)


import threading
import socket
import time

def client(port):
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.connect(('0.0.0.0', port))
    print get_msg(s)
    print get_msg(s)
    s.shutdown(socket.SHUT_RDWR)
    s.close()

def server(port):
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
    s.bind(('0.0.0.0', port))
    s.listen(1)
    c, addr = s.accept()
    send_msg(c, 'hello')
    send_msg(c, 'there')
    c.close()
    s.close()

if __name__ == '__main__':
    c = threading.Thread(target=server, args=(8999,))
    c.start()
    time.sleep(1)
    client(8999)
    c.join()
    print 'done'
"
33779,52114,Appending XLS files by removing header in all except First,"# Script to concatenate a bunch of Excel files with
# Python and Pandas
#
# Remember that indexing starts with 0 in Python,
# whereas indexing starts with 1 in Excel

import pandas as pd
# Number of files to process
n = 10
# Excel sheetname
sheetname = 'sheet1'
# Number of row to skip in each file
skiprows=3
# Header line that will be kept for column name (index 5 in Excel)
header=4
# Column containing the index for each row. Leave it to None if no index
index_col=0
# First file to process
f = 'SWEdtd01MAY14NUM1.xls'
DF = pd.read_excel(f, sheetname, skiprows = skiprows,header = header, index_col = index_col)
# Concatenate the content of other file to this dataframe
for i in range(2,n+1)
    f = 'SWEdtd01MAY14NUM'+str(i)+'.xls'
    df = pd.read_excel(f, sheetname, skiprows = skiprows, header = header, index_col = index_col)
    DF.append(df, ignore_index=True)
# Write the concatenated content to excel
DF.to_excel('SWEdtd01MAY14NUM.xls',sheet_name = sheetname)
"
10018,79124,Creating a pandas DataFrame from columns of other DataFrames with similar indexes,"In [11]: pd.concat([df1['c'], df2['c']], axis=1, keys=['df1', 'df2'])
Out[11]: 
                 df1       df2
2014-01-01       NaN -0.978535
2014-01-02 -0.106510 -0.519239
2014-01-03 -0.846100 -0.313153
2014-01-04 -0.014253 -1.040702
2014-01-05  0.315156 -0.329967
2014-01-06 -0.510577 -0.940901
2014-01-07       NaN -0.024608
2014-01-08       NaN -1.791899

[8 rows x 2 columns]
"
23047,50831,How to change matplotlib axes so that that it does not display in scientific notation?,"x_formatter = matplotlib.ticker.ScalarFormatter(useOffset=False)
x_formatter.set_scientific(False)
ax.xaxis.set_major_formatter(x_formatter)
"
11041,37521,Generate zip stream without using temp files,"import sys
from gzip import GzipFile

class MyStream(object):
    def write(self, data):
        #write to your stream...
        sys.stdout.write(data) #stdout, for example

gz= GzipFile( fileobj=MyStream(), mode='w'  )
gz.write(""something"")
"
11703,57008,python-websocket and socket.io namespace,"from socketIO_client import SocketIO, BaseNamespace

class MainNamespace(BaseNamespace):

    def on_aaa(self, *args):
        print 'aaa', args

class ChatNamespace(BaseNamespace):

    def on_bbb(self, *args):
        print 'bbb', args

class NewsNamespace(BaseNamespace):

    def on_ccc(self, *args):
        print 'ccc', args

mainSocket = SocketIO('localhost', 8000, MainNamespace)
chatSocket = mainSocket.connect('/chat', ChatNamespace)
newsSocket = mainSocket.connect('/news', NewsNamespace)
mainSocket.wait()
"
6247,63928,Appending list elements into the correct sorted position,"players = []
for player in Player.instances:
    dist = player.distance(my_point)
    if dist <= max_radius:
        players.append((dist, player))

#Sort in order of distance. If two distances match, sort by player.
players.sort()

#Strip out dist info
players = [v for u,v in players]

#or
players = zip(*players)[1]
"
34415,10223,"In numpy, how to efficiently list all fixed-size submatrices?","from numpy.lib.stride_tricks import as_strided

arr = np.arange(1, 25).reshape(4, 6) % 10
sub_shape = (3, 3)
view_shape = tuple(np.subtract(arr.shape, sub_shape) + 1) + sub_shape
arr_view = as_strided(arr, view_shape, arr.strides * 2
arr_view = arr_view.reshape((-1,) + sub_shape)

>>> arr_view
array([[[[1, 2, 3],
         [7, 8, 9],
         [3, 4, 5]],

        [[2, 3, 4],
         [8, 9, 0],
         [4, 5, 6]],

        ...

        [[9, 0, 1],
         [5, 6, 7],
         [1, 2, 3]],

        [[0, 1, 2],
         [6, 7, 8],
         [2, 3, 4]]]])
"
20936,19171,Getting formatted datetime in Python like in PHP,">>> import time
>>> timestamp = 1284375159
>>> time.strftime(""%m %d %Y"",time.localtime(timestamp))
'09 13 2010'
"
35025,79339,How to concatenate individual quote marks in Python,"def foo(bar):
    root.findall("".//*[@name='{}']"".format(bar))
"
16642,39934,Get indices of roughly equal sized chunks,"def partitionIndexes(totalsize, numberofpartitions):
    # Compute the chunk size (integer division; i.e. assuming Python 2.7)
    chunksize = totalsize / numberofpartitions
    # How many chunks need an extra 1 added to the size?
    remainder = totalsize - chunksize * numberofpartitions
    a = 0
    for i in xrange(numberofpartitions):
        b = a + chunksize + (i < remainder)
        # Yield the inclusive-inclusive range
        yield (a, b - 1)
        a = b
"
27861,17141,Generating a QCloseEvent won't close QMainWindow,"from PyQt4 import QtGui, QtCore

import sys

class Window(QtGui.QMainWindow):

    def __init__(self, parent=None):
        super(Window, self).__init__(parent)
        widget = QtGui.QWidget()
        self.setCentralWidget(widget)

        self.menu_bar = QtGui.QMenuBar(self)
        menu = self.menu_bar.addMenu('File')

        exit_action = QtGui.QAction('Exit', self)
        exit_action.triggered.connect(self.close)
        menu.addAction(exit_action)
        self.setMenuBar(self.menu_bar)

    def closeEvent(self, event):
        print('Calling')
        print('event: {0}'.format(event))
        event.accept()


app = QtGui.QApplication(sys.argv)
form = Window()
form.show()
sys.exit(app.exec_())
"
25098,76632,Python while loop is not functioning correctly (beginner),">>> ""a"".lower
<built-in method lower of str object at 0x0000000001EBBBC0>
>>> ""a"".lower()
'a'
>>> ""a"".lower == ""a""
False
>>> ""a"".lower() == ""a""
True
>>>
"
31883,50737,"Get file objects inside a scope of ""with"" block","class FileList(list):
    def __init__(self, files, mode='r'):
        list.__init__(open(arg, mode) for arg in files)
    def __enter__(self):
        return self
    def __exit__(self, *args):
        for fobj in self:
            fobj.close()

with FileList([""ACCELEROMETER"", ""GPS"", ...], mode='w') as fl:
    for fobj in fl:
        ...
"
37260,61055,Optimize loops with big datasets Python,"from itertools import combinations, izip

data = db.collection.find()
a = list(data)

user_ids = [{user['id'] for user in i['users']} if 'users' in i else set()
            for i in a]

with open(""edges.csv"", ""wb"") as f:
    edges = csv.writer(f)
    for (i, i_ids), (q, q_ids) in combinations(izip(a, user_ids), 2):
        weight = len(i_ids & q_ids)
        if weight > 0:
            edges.writerow([i['id'], q['id'], weight])
            edges.writerow([q['id'], i['id'], weight])

with open(""nodes.csv"", ""wb"") as f:
    nodes = csv.writer(f)
    for i in a:
        nodes.writerow([
            i['id'],
            i['name'],
            i['latitude'],
            i['longitude'],
            len(i['users']),
            sum(len(p['photos']) for p in i['users']), # total number of photos
        ])
"
38050,13896,How do I retrieve every file with a HTTP 200 response code in a certain directory with Python,"import urllib2
import string
import itertools
import os

chars, filenames = string.lowercase, []
for r in itertools.product(chars, chars, chars):
    filenames.append(r[0] + r[1] + r[2])

# filenames will now contain an array like
# [aaa, aab, aac, aad, aae, ... , zzx, zzy, zzz]

print(""Number of filenames: "" + str(len(filenames)))

# Uncomment the line below for testing before you run it for all filenames
# filenames = ['eng']

# Change your directory relative to current directory here
save_to = os.path.abspath(""pdfs/"")

for f in filenames:
    url = 'http://www.ohchr.org/EN/UDHR/Documents/UDHR_Translations/' + f + '.pdf'
    print('Requesting: ' + url)

    # Setup urllib2 Request
    req = urllib2.Request(url)
    req.add_header('User-Agent', 'some fake agent string')
    req.add_header('Referer', 'fake referrer')

    # Get status code first and if status is 200 get response
    try:
        response = urllib2.urlopen(req, timeout=4)
        status = response.getcode()
        # If 200 status found
        if status == 200:
            print('PDF File found at: ' + f + ' ' + url)
            print('Saving..')
            # Write in Binary mode as files are PDF
            f = open(save_to + '/' + f + '.pdf', 'wb')
            f.write(response.read())
            f.close() # Dont forget to close the file
            print('Saved.')
        else:
            print('Status was not 200 OK: ' + f + ' ' + url)
    except urllib2.HTTPError: # 404 error
        print('No file found: ' + f + ' ' + url)
"
11531,18732,Expression of timezone offset - clarification appreciated,">>> print utc_dt.astimezone(eastern)
2013-05-21 15:00:27.648000-04:00
"
7250,42053,Converting xls file into csv/txt file in Python,"import xlrd
import csv

def xls_to_csv():

    x =  xlrd.open_workbook('data.xls')
    x1 = x.sheet_by_name('Sheet1')
    csvfile = open('data.csv', 'wb')
    writecsv = csv.writer(csvfile, quoting=csv.QUOTE_ALL)

    for rownum in xrange(sh.nrows):
        writecsv.writerow(x1.row_values(rownum))

    csvfile.close()
"
13158,66536,Problems using Python logical operators with 0,"new = [""yes"" if x else ""no"" for x in list]
"
12447,56643,Prime factorization - list,"def primes(n):
    primfac = []
    d = 2
    while d*d <= n:
        while (n % d) == 0:
            primfac.append(d)  # supposing you want multiple factors repeated
            n //= d
        d += 1
    if n > 1:
       primfac.append(n)
    return primfac
"
17688,16311,@login_required decorator doesnot work while hitting the back button on browser,"from django.views.decorators.cache import never_cache

@never_cache
def myview(request):
    ...
"
4847,54578,How do you recursively call a constructor (__init__) in Python?,">>> class A():
...     def __init__(self, i):
...         self.i = i
...         if i > 0:
...             self.a = A(i-1)
... 
>>> a = A(3)
>>> a.i
3
>>> a.a.i
2
>>> a.a.a.i
1
>>> a.a.a.a.a
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
AttributeError: A instance has no attribute 'a'
"
32049,34132,Summing up all elements in a list of 2D arrays,">>> import numpy as np
>>> QS = [np.random.randint(0, 10, (3,3)) for i in range(6)]
>>> QM = QS[0]+QS[1]+QS[2]+QS[3]+QS[4]+QS[5]
>>> QM
array([[36, 32, 32],
       [34, 28, 30],
       [28, 28, 32]])
>>> QM2 = np.sum(QS,axis=0)
>>> QM2
array([[36, 32, 32],
       [34, 28, 30],
       [28, 28, 32]])
>>> np.allclose(QM, QM2)
True
"
9219,62849,how to diff / align Python lists using arbitrary matching function?,"def nw_align(a, b, replace_func, insert, delete):

    ZERO, LEFT, UP, DIAGONAL = 0, 1, 2, 3

    len_a = len(a)
    len_b = len(b)

    matrix = [[(0, ZERO) for x in range(len_b + 1)] for y in range(len_a + 1)]

    for i in range(len_a + 1):
        matrix[i][0] = (insert * i, UP)

    for j in range(len_b + 1):
        matrix[0][j] = (delete * j, LEFT)

    for i in range(1, len_a + 1):
        for j in range(1, len_b + 1):
            replace = replace_func(a[i - 1], b[j - 1])
            matrix[i][j] = max([
                (matrix[i - 1][j - 1][0] + replace, DIAGONAL),
                (matrix[i][j - 1][0] + insert, LEFT),
                (matrix[i - 1][j][0] + delete, UP)
            ])

    i, j = len_a, len_b
    align_a = """"
    align_b = """"

    while (i, j) != (0, 0):
        if matrix[i][j][1] == DIAGONAL:
            align_a += a[i - 1]
            align_b += b[j - 1]
            i -= 1
            j -= 1
        elif matrix[i][j][1] == LEFT:
            align_a += ""-""
            align_b += b[j - 1]
            j -= 1
        else: # UP
            align_a += a[i - 1]
            align_b += ""-""
            i -= 1

    return align_a[::-1], align_b[::-1]
"
6331,21704,"TkInter, slider: how to trigger the event only when the iteraction is complete?","import Tkinter as tk

#create window & frames
class App:
    def __init__(self):
        self.root = tk.Tk()
        self._job = None
        self.slider = tk.Scale(self.root, from_=0, to=256, 
                               orient=""horizontal"", 
                               command=self.updateValue)
        self.slider.pack()
        self.root.mainloop()

    def updateValue(self, event):
        if self._job:
            self.root.after_cancel(self._job)
        self._job = self.root.after(500, self._do_something)

    def _do_something(self):
        self._job = None
        print ""new value:"", self.slider.get()

app=App()
"
36089,66764,using boost::python::list as return value need increase ob_refcnt?,"return boost::python::incref(obj.ptr());
"
29068,52633,Memoizing all methods by default,"def decorate(f):
    def wrap(*args, **kwargs):
        # Print a greeting every time decorated function is called
        print ""Hi from wrap!""
        return f(*args, **kwargs)
    return wrap

class DecorateMeta(type):
    def __new__(cls, name, bases, dct):
        # Find which decorator to use through the decorator attribute
        try:
            decorator = dct[""decorator""]
        except KeyError:
            raise TypeError(""Must supply a decorator"")

        # Loop over all attributes
        for key, val in dct.items():
            # If attribute is callable and is not the decorator being used
            if hasattr(val, ""__call__"") and val is not decorator:
                dct[key] = decorator(val)

        return type.__new__(cls, name, bases, dct)

class Test:
    __metaclass__ = DecorateMeta
    decorator = decorate

    def seasonal_greeting(self):
        print ""Happy new year!""

Test().seasonal_greeting()

# Hi from wrap!
# Happy new year!
"
30340,20580,Python predefined dictionaries or sets,"import string

{s: i for i, s in enumerate(string.ascii_uppercase, 1)}
"
9602,9804,Python file - Want to change it to a function or a class,"if __name__ == '__main__':
    Main()
"
3709,57386,Python duplicates in web crawler,"def get_values_ignore_current_line(content, keyword):
   content = '\n'.join([x for x in content.splitlines() if keyword not in x]) 
   tags = re.findall('<.*?>', content)
   return tags

def get_values_ignore_next_line(content, keyword):
    lines = content.splitlines()
    new_content = [lines[0]]
    for i, line in enumerate(lines):
        if (keyword not in line) or (re.match('<.*?>', line) is not None):
            if i < len(lines) - 1:
                new_content.append(lines[i+1])
    new_content = '\n'.join(new_content)
    return re.findall('<.*?>', new_content)
"
1343,59586,Starting a process and killing it from Ruby on Rails app without leaving zombie process,"def stop
    ...
    pid = @@pids[ object.id ]
    Process.kill( 15, pid )
    Process.wait( pid )
    ...
"
38374,62841,How to check if character in string is a word character ? Python,">>> s = ""a123b""
>>> for i in s:
...     print i, i.isalpha()
... 
a True
1 False
2 False
3 False
b True
"
17583,81134,Python 2.7.10: readline causes a leading space on the following line,"print 'Enter some text.'
foo = raw_input('> ')
print 'You entered ""{0}""'.format(foo)
"
34682,72246,Why does the light_manager of MlabSceneModel not get set?,"class Application(HasTraits):
  scene=Instance(MlabSceneModel,())

  ...

  @on_trait_change('scene:scene_editor:light_manager')
  def muck_with_the_lights(self):
    print self.scene.light_manager
"
13263,14557,Render to a custom output filename with a single template,">>> from jinja2 import Template
>>> template = Template('Hello {{ name }}!')
>>> for n in [""John"", ""Doe""]:
>>>     with open(n + "".txt"", ""w"") as f:
>>>         print >> f, template.render(name=n)
"
38157,26282,Determining the current state of a URL from a list of states containing required and optional items in Python/Flask,"class StateMatcher(dict):

    def best_match(self, obj):
        for state, params in sorted(self.items(),
                                    key=lambda item: len(item[1]),
                                    reverse=True):
            for param in params:
                if param not in obj:
                    break
            else:
                return state
         return None


sm = StateMatcher([
    ('state1', ['name']),
    ('state2', ['name', 'address']),
])

state = sm.best_match(request.args)
"
4045,81083,Searching for multiple strings,"your_new_string = re.sub(r'\[subscript=(.+?)\]', r'<sub>\1</sub>', your_old_string)
"
39502,70991,Plotting discrete colorbar in legend style using Matplotlib,"import matplotlib.patches as mpatches
import matplotlib.pyplot as plt
import numpy as np

data  = np.random.randint(8, size=(100,100))
cmap = plt.cm.get_cmap('PiYG', 8) 
plt.pcolormesh(data,cmap = cmap,alpha = 0.75)
# Set borders in the interval [0, 1]
bound = np.linspace(0, 1, 9)
# Preparing borders for the legend
bound_prep = np.round(bound * 7, 2)
# Creating 8 Patch instances
plt.legend([mpatches.Patch(color=cmap(b)) for b in bound[:-1]],
           ['{} - {}'.format(bound_prep[i], bound_prep[i+1] - 0.01) for i in range(8)])
"
21578,57664,blockmodel: convert png to schematic,"with open(data_path(""ref/block.png""), ""rb"") as f:
    as_png = f.read()
bm = BlockModel.from_png(as_png)
with open(""my_schematic.schematic"", ""wb"") as f:
    f.write(bm.schematic)
"
16967,599,How to determine the amount of pixel of an given ROI?,"import math

row = 0

IJ.run(""Set Measurements..."", ""area centroid perimeter shape feret's area_fraction   redirect=None decimal=6"")
IJ.run(""Analyze Particles..."")
rt = ResultsTable.getResultsTable()

imp = IJ.getImage()
ip = imp.getProcessor()

for roi in RoiManager.getInstance().getRoisAsArray():
  a = rt.getValue(""Feret"", row)
  b = rt.getValue(""MinFeret"", row)
  nu= 1
  L = 1
  p = 1
  sapf = (math.pi/4) * (1/(nu*L)) * math.pow(a, 3) * math.pow(b, 3) / (math.pow(a, 2) + math.pow(a, 2))*p
  rt.setValue(""ROI no."", row, row + 1)
  rt.setValue(""Sapflow"", row, sapf)

  ip.setRoi(roi)
  stats = ImageStatistics.getStatistics(ip, Measurements.AREA, None)
  rt.setValue(""Pixel count"", row, stats.pixelCount)

  row = row + 1
rt.show(""Results"")
"
28440,19745,how to get English tweets alone using python?,"for i in range (0,1000):
   if data['statuses'][i][u'lang']==u'en':
      print data['statuses'][i]['text']
      print '\n'
"
33571,20643,pyspark add new column field with the data frame row number,"from pyspark.ml.feature import StringIndexer

indexer = StringIndexer(inputCol=""user"", outputCol=""user_id"")
indexed = indexer.fit(sparkdf ).transform(sparkdf)
"
39063,44385,Edit guidata Choices,"from guidata.dataset.datatypes import DataSet
from guidata.dataset.dataitems import ChoiceItem, TextItem

class ChoicesVariable(object):
    def __init__(self):
        self.choices = [(0,'First',None),(1,'Second',None),(2,'Third',None)]
    def set(self, choices):
        normalized = []
        for idx, c in enumerate(choices):
            normalized.append(self._normalize_choice(idx, c))
        self.choices = normalized
    def __call__(self, *args):
        return self.choices
    def _normalize_choice(self, idx, choice_tuple):
        img = None
        if isinstance(choice_tuple, tuple):
            if len(choice_tuple) == 2:
                key, value = choice_tuple
            else:
                key, value, img = choice_tuple
        else:
            key = idx
            value = choice_tuple
        if isinstance(value, str):
            value = str(value)        
        return (key, value, img)
choices = ChoicesVariable()



class Example(DataSet):
    choiceBox = ChoiceItem(""Example"", choices)
    otherChoiceBox = ChoiceItem(""Example2"", [(0,'DontTouch'),(1,'Second'),(2,'Third')])
    text = TextItem(""Example3"")

if __name__ == ""__main__"":
    import guidata
    _app = guidata.qapplication()

    newChoices = [(0,'Aaa'),(1,'Bbb'),(2,'Ccc')]
    choices.set(newChoices)
    #Example._items[0].set_prop('data', choices=newChoices)
    win = Example()
    win.edit()
    newChoices = [(0,'Alpha',None),(1,'Beta',None),(2,'Gamma',None)]
    choices.set(newChoices)
    win.edit()
"
13205,64492,python data from excel dot in between letters,"""."".join(""blabla"")
"
35478,7433,Changing the base class of a class with __new__,"def make_thingy(bases):
    new_thingy_class = type(""???"", bases, {})
    new_thingy_instance = new_thingy_class()
    print new_thingy_instance.some_attribute_in_pet
    print new_thingy_instance.some_attribute_in_species
    return new_thingy_instance

x = new_thingy(Dog)
"
29008,36128,pandas group by sum of column size,"import pandas as pd
df = pd.read_csv('filename.txt', sep = ""\t"")
g2 = df.drop_duplicates(['col3', 'col5'])
g3 = g2.groupby(['col3', 'col5']).size().sum(level=0)
print g3
"
16961,45642,represent counting variable in 4 digit hex seperated by a space,"for i in range(15):
    print '{}{} {}{}'.format(*format(i, '04x')) # 
"
38243,41935,Script to remove python comments/docstrings,""""""" Strip comments and docstrings from a file.
""""""

import sys, token, tokenize

def do_file(fname):
    """""" Run on just one file.

    """"""
    source = open(fname)
    mod = open(fname + "",strip"", ""w"")

    prev_toktype = token.INDENT
    first_line = None
    last_lineno = -1
    last_col = 0

    tokgen = tokenize.generate_tokens(source.readline)
    for toktype, ttext, (slineno, scol), (elineno, ecol), ltext in tokgen:
        if 0:   # Change to if 1 to see the tokens fly by.
            print(""%10s %-14s %-20r %r"" % (
                tokenize.tok_name.get(toktype, toktype),
                ""%d.%d-%d.%d"" % (slineno, scol, elineno, ecol),
                ttext, ltext
                ))
        if slineno > last_lineno:
            last_col = 0
        if scol > last_col:
            mod.write("" "" * (scol - last_col))
        if toktype == token.STRING and prev_toktype == token.INDENT:
            # Docstring
            mod.write(""#--"")
        elif toktype == tokenize.COMMENT:
            # Comment
            mod.write(""##\n"")
        else:
            mod.write(ttext)
        prev_toktype = toktype
        last_col = ecol
        last_lineno = elineno

if __name__ == '__main__':
    do_file(sys.argv[1])
"
7836,81299,Creating sqlite3 database from .sql file in Windows 8,"# all the imports
import sqlite3
from flask import Flask
from contextlib import closing

# configuration
DATABASE = './flaskr.db'
DEBUG = True


# create our little application :)
app = Flask(__name__)
app.config.from_object(__name__)

def init_db():
    with closing(connect_db()) as db:
        with app.open_resource('schema.sql', mode='r') as f:
            db.cursor().executescript(f.read())
        db.commit()


def connect_db():
    return sqlite3.connect(app.config['DATABASE'])

if __name__ == '__main__':
    init_db()
    #app.run()
"
26086,21430,"Is it good style (or more efficient) to ""return early"" at the top of a function?","int f() {
   int result = 1;
   char * buffer = (char *)malloc(77);
   if(buffer!=NULL) {
      int const fd = open(""/tmp/data.log"", O_RDONLY);
      if(fd!=-1) {
         ssize_t const read_cnt = read(fd, buffer, 77);
         if(read_cnt!=77) {
            /* Do something: was not possible to read 77 bytes. */
            result = 0;
         }
         close(fd);
      }
      free(buffer);
   }
   return result;
}
"
32039,62514,Python Reduce conditional expression,"from itertools import permutations

for arrangement in permutations('abcdefghi', 9):
    print ''.join(arrangement)
"
8833,38023,Find last occurrence of character in string without built-in function,"def last_occurence(s, char):
    found_at = -1
    index = 0
    for s_char in s:
        if s_char == char:
            found_at = index
        index += 1

    return found_at
"
25850,14486,Add elements in a list Python,">>> from numbers import Number
>>> [sum(x) if isinstance(x[0], Number) else x[0] for x in zip(*under__list)]
[118, 1.0604517619400802, None, None, 24, 2.0896934739352395, 0.683038507240796, 1.8219672937331732, 4.672749414021146, 3.2147023373942214, 20051, 0, 65, None, ' >50K']
"
31514,17126,Cutting list python base on condition,"my_string='ONETWOTHREEFOURFIVESIXSEVENEIGHTNINETEN'
lengths = (3, 3, 5, 4, 4, 3)

words = []
start = 0
for i in lengths:
    words.append(my_string[start:start+i])
    start += i

print(words)  # ['ONE', 'TWO', 'THREE', 'FOUR', 'FIVE', 'SIX']
"
8891,46404,"How to display ""x days ago"" type time using Humanize in Django template?","from datetime import datetime, timedelta
from django import template
from django.utils.timesince import timesince

register = template.Library()

@register.filter
def age(value):
    now = datetime.now()
    try:
        difference = now - value
    except:
        return value

    if difference <= timedelta(minutes=1):
        return 'just now'
    return '%(time)s ago' % {'time': timesince(value).split(', ')[0]}
"
4904,78738,pretty printing nested dictionaries in Python?,"def pretty(d, indent=0):
   for key, value in d.iteritems():
      print '\t' * indent + str(key)
      if isinstance(value, dict):
         pretty(value, indent+1)
      else:
         print '\t' * (indent+1) + str(value)
"
15908,25840,Python dict: get values sorted by a list of keys,"from collections import defaultdict, OrderedDict

dic = defaultdict(OrderedDict)
rowKeys = ['1','2','3']
columnKeys = ['alfa', 'omega', 'bravo', 'charlie']

# Filling up the dictionary with values
from random import randrange

for rKey in rowKeys:
    for cKey in columnKeys:
        dic[rKey][cKey] = randrange(50)
"
16652,63609,Python Classes and Inheritance,"class Division(object):
    def __init__(self,dept, fullTime, partTime):
        self.fullTime = fullTime
        self.partTime = partTime
        self.dept=dept
    def getList(self):
      return ""The {0} department has {1} full-time and {2} part-time instructors."".format(self.dept, self.fullTime, self.partTime)

class Department(Division):
    pass
myDept = Department(""CIS"",12,37)
print myDept.getList()
"
8989,36766,python yield generator variable scope,"def foo():
    spam = 'eggs'
    def bar():
        print spam
foo()
"
34580,59347,Algorithm to consume monthly cost of energy,"   bill = 0
   months = 12
   kwhour = .06
   kwhour2 = .08
   output1=0
   output2=0

  for m in range(1, months+1):

      month_start = int(input('month ' + str(m) + ' starting reading: '))
      month_end = int(input('month ' + str(m) + ' ending reading: '))

         if (month_end-month_start) <= 1000:
              output1 = (month_end-month_start) * kwhour
              #output1 += 1
              bill+=output1
         else:
              output2 = (month_end-month_start) * kwhour2
              #output2 += 1
              bill+=output2

         #bill += output1 + output2 You don't need this, u gonna re-adding things 

 print('Your yearly bill is: ', bill)

 if bill < 500:
     print('Thanks for saving so much energy')
"
11388,53991,Share SciPy Sparse Array Between Process Objects,"import scipy.sparse as sps

b = sps.csc_matrix((a.data, a.indices, a.indptr), shape=a.shape, copy=False)
"
1661,24390,Parse a file to find inactive elements,"names = ['Server1', 'Server2', 'Server3']
inactives = {}

for name in names:
    inactives[name] = []

currentServer = None
for line in open('/home/Workspace/temp2'):
    if line.strip() in names:
        currentServer = line.strip()
        active = None

    if line.startswith('Currently Active Slave: '):
        active = line.split(':')[-1].strip()

    if active and line.startswith('Slave Interface: '):
        interface = line.split(':')[-1].strip()

        if interface != active:
            inactives[currentServer].append(interface)

print(inactives)
"
17661,38483,Retrieve the string used to define a regex pattern,"pattern = re.compile(r""\w+"")
>>> pattern.pattern
'\\w+'
"
5675,17023,Performance optimization of a database access query in Python/Django web app,"latest_replys = Publicreply.objects.all().order_by('answer_to','-submitted_on').distinct('answer_to')

for reply in latest_replys:
    if reply in in seen_replies:
        #do something
"
9872,23054,Scrapy: Crawled but not scraped,"from scrapy.contrib.spiders import CrawlSpider, Rule
from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor
from scrapy.selector import HtmlXPathSelector
from tutorial.items import CraigslistSampleItem

class MySpider(CrawlSpider):
    name = ""craigs""
    allowed_domains = [""sfbay.craigslist.org""]
    start_urls = [""http://sfbay.craigslist.org/""]

    rules = (
        Rule(SgmlLinkExtractor(allow=(""index\d00\.html"")), callback=""parse_items_2"", follow= True),
        Rule(SgmlLinkExtractor(allow=(r'sfbay.craigslist.org/npo')), callback=""parse_items_1"", follow= True),
        )

    def parse_items_1(self, response):
        items = []
        hxs = HtmlXPathSelector(response)
        titles = hxs.select(""//div"")
        for title in titles:
            item = CraigslistSampleItem()
            item [""title""] = title.select(""//li/a/text()"").extract()
            item [""link""] = title.select(""//li/a/@href"").extract()
            print ('**parse-items_1:', item[""title""])
            items.append(item)
        return items

    def parse_items_2(self, response):
        hxs = HtmlXPathSelector(response)
        titles = hxs.select(""//p"")
        items = []
        for title in titles:
            item = CraigslistSampleItem()
            item [""title""] = title.select(""a/text()"").extract()
            item [""link""] = title.select(""a/@href"").extract()
            print ('**parse_items_2:', item[""title""], item[""link""])
            items.append(item)
        return items
"
29943,69739,How to obtain 2 separate plots in seaborn?,"import matplotlib.pyplot as plt
import seaborn as sns

summary = pd.concat([mean, std], axis=1)
chart1, ax1 = plt.subplots()
sns.tsplot(sample['x'].cumsum(), ax=ax1)

chart2, ax2 = plt.subplots()
sns.tsplot(summary['mean'], ax=ax2)
result = [summary, chart1, chart2]
return result
"
15528,36633,Regex to obtain last digits in years and first three letters of surnames,">>> def AbbreviateAuthors(names):
...     return ''.join(i.split()[-1][:3] for i in names.split(' and '))
>>> AbbreviateAuthors('John Smith and Paul Anthony Doe and Chris Burns')
34: 'SmiDoeBur'
>>> AbbreviateAuthors('John Smith and Paul Anthony Doe')
35: 'SmiDoe'
>>> AbbreviateAuthors('John Smith')
36: 'Smi'
>>> AbbreviateAuthors('Smith')
37: 'Smi'
>>> AbbreviateAuthors('Sm')
38: 'Sm'
"
37758,85213,How can I make property comparison able to be compiled to SQL expression in SQLAlchemy?,"class User(Base):
    __tablename__ = 'users'
    id = Column(BigInteger, id_seq, primary=True)
    name = Column(Unicode(256))


class Article(Base):
    __tablename__ = 'articles'
    __bind_key__ = 'another_engine'

    id = Column(BigInteger, id_seq, primary=True)
    author_id = Column(BigInteger, nullable=False, index=True)
    body = Column(UnicodeText, nullable=False)

    author = relationship(""User"", 
                primaryjoin=""foreign(Article.author_id) == User.id"")
"
33600,19989,How to get line breaks in e-mail sent using Python's smtplib?,"import smtplib
from email.mime.text import MIMEText

# define content
recipients = [""recipient_id@yahoo.com""]
sender = ""sender_id@gmail.com""
subject = ""report reminder""
body = """"""
Dear Student,
Please send your report
Thank you for your attention
""""""

# make up message
msg = MIMEText(body)
msg['Subject'] = subject
msg['From'] = sender
msg['To'] = "", "".join(recipients)

# sending
session = smtplib.SMTP('smtp.gmail.com', 587)
session.starttls()
session.login(sender, 'my password')
send_it = session.sendmail(sender, recipients, msg.as_string())
session.quit()
"
23619,25781,Django admin model field set to current user,"class MyModelAdmin(admin.ModelAdmin):
    fields = (""name"",)

    def save_model(self, request, obj, form, change):
        if not change:
            # the object is being created, so set the user
            obj.created_by = request.user
        obj.save()
"
1686,71301,Python: read txt file and make class from data,"lines.sort(key=lambda line: line.split()[4])
"
21655,38963,Numbering the sentences inside a <P> in a .xml file?,"import xml.etree.ElementTree as ET
tree = ET.parse(XML_FILE)
root = tree.getroot()


for p in root.iter('p'):
   sentences = p.text.split('.')
   p.text = ""."".join([(""<sup>%i<sup>"" % count) + sentence for count, sentence in enumerate(sentences)])

tree.write(XML_FILE)
"
35394,22551,Function that takes a string representing a filename as an argument. Function returns number of letters in the txt file,"def letter_count(filename):
    count = 0
    letters = ""ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz""
    with open(filename) as f:
        for line in f:
            for char in line:
                if char in letters:
                    count += 1
    return count
"
25866,41459,Show the SQL generated by Flask-SQLAlchemy,">>> from my_app import User
>>> from flask_sqlalchemy import get_debug_queries
>>> User.query.filter_by(display_name='davidism').all()
>>> info = get_debug_queries()[0]
>>> print(info.statement, info.parameters, info.duration, sep='\n')
SELECT ""user"".id AS user_id, se_user.id AS se_user_id, se_user.display_name AS se_user_display_name, se_user.profile_image AS se_user_profile_image, se_user.profile_link AS se_user_profile_link, se_user.reputation AS se_user_reputation, ""user"".superuser AS user_superuser \nFROM se_user JOIN ""user"" ON se_user.id = ""user"".id \nWHERE se_user.display_name = %(display_name_1)s
{'display_name_1': 'davidism'}
0.0016849040985107422
"
36869,14143,python ctypes pragma pack for byte aligned read,"from ctypes import *

class abc(Structure):
    _pack_ = 1
    _fields_ = [
        ('r1',c_ubyte),
        ('r2',c_ubyte),
        ('p1',c_ubyte),
        ('id',c_uint)]
"
6491,66684,List of tuples not indexing as expected,"[item[2] for item in viewData]
"
16624,21091,Adding(mathwise) rows of several csv files in python,"import csv
f = csv.reader(open('filename1.csv', 'rb'))
g = csv.reader(open('filename2.csv', 'rb'))
output = csv.writer(open('ouputfile.csv', 'wb'))
for row_f in f:
    row_g = g.next()
    row_output = list()
    for argi, item in enumerate(row_f):
        try:
            row_output.append(int(item) + int(row_g[argi]))
        except ValueError, e:
            pass
    output.writerow(row_output)
"
37690,1655,how to implement deep copying of queue in python,"import copy

while (still has input)
    A.push(input)
    B.push(input)

while A is not empty
    A.pop()

A = copy.deepcopy(B)
"
15802,38411,Checking for contains in many-to-may field when doing a query in Django,"user_blogs = Blog.objects.filter(owner=user)

user_blogs_with_article = user_blogs.filter(articles=article)
"
8254,84911,python: how to convert a valid uuid from String to UUID?,"import uuid

o = {
    ""name"": ""Unknown"",
    ""parent"": ""Uncategorized"",
    ""uuid"": ""06335e84-2872-4914-8c5d-3ed07d2a2f16""
}

print uuid.UUID(o['uuid']).hex
"
33560,2298,Overlap legends in matplotlib,"import matplotlib.pyplot as plt
from sklearn import linear_model

# Funky hack to change the number of ""stars"" in the legend to be 1,
# I feel like there has to be a better way to do this...
from pylab import *
rcParams['legend.numpoints'] = 1

x = np.r_[0.,3.15,5.39,7.29,11.55,14.4,19.8,23.4,25.7]
y = np.r_[0,0.13,0.2,0.27,0.42, 0.51,0.68,0.80,0.88]
model = linear_model.LinearRegression()
X = x.reshape(-1,1)
Y = y.reshape(-1,1)
model.fit(X,Y)

blue_dot, = plt.plot(x,y, '*')
green_line, = plt.plot(x,model.predict(X), 'g')

plt.legend([(blue_dot, green_line)], [""DesiredKey""], loc='upper center')
plt.show()
"
24642,53,SQL : How to update existing value with variable,"def db_update(new_cost, account):
    """""" update the cost of an account
    """"""
    cursor.execute('''
    UPDATE transactions SET cost = cost + ? WHERE account = ?
    ''', (new_cost, account))
    connection.commit()
"
7416,73029,Python socket server receive image,"import socket
import struct
address = (""10.0.0.12"", 5000)
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.bind(address)
s.listen(1000)


client, addr = s.accept()
print 'got connected from', addr

buf = ''
while len(buf)<4:
    buf += client.recv(4-len(buf))
size = struct.unpack('!i', buf)
print ""receiving %s bytes"" % size

with open('tst.jpg', 'wb') as img:
    while True:
        data = client.recv(1024)
        if not data:
            break
        img.write(data)
print 'received, yay!'

client.close()
"
21097,75916,How to remove all html tags from downloaded page,"import re
notag = re.sub(""<.*?>"", "" "", html)
"
28829,31161,Retrieve email/message body in html using Gmail API,"var part = message.parts.filter(function(part) {
  return part.mimeType == 'text/html';
});
var html = urlSafeBase64Decode(part.body.data);
"
12508,16845,How to check if a key exists in mako dict?,"from mako.template import Template
t = Template(""""""
% if key in d:
    key is in dictionary
% else:
    key is not in dictionary
% endif
"""""")


print t.render(key='a', d={'a': 'A'})  # prints ""key is in dictionary""
"
35957,59013,"Extra fields in Django ModelForms: I can see them, but cannot save them to the model. Why?","class LocationForm(ModelForm):
    ...
    def save(self, commit=True, **kwargs):
        # create the instance but don't commit it to the database
        location = super(LocationForm, self).save(commit=False, **kwargs)

        # now set your cleaned fields on the model instance
        location.cleanedStreetAddress = ...

        if commit: 
            location.save() 

        return location
"
39120,55353,SQLAlchemy custom constraint for updating table,"CREATE UNIQUE INDEX foo_only_one_active ON foo(state) WHERE (state = 'active');

CREATE UNIQUE INDEX foo_only_one_active ON foo(state) WHERE (state = 'next');
"
26790,49003,How to properly call UDF (external function) from Firebird database using Python fdb,"cur.execute(""INSERT INTO temp (column1,column2) VALUES(f_udfName(CAST(? AS BIGINT)),?)"",(int(line.rstrip('\n')),line.rstrip('\n'))
"
32289,65737,Return a value from a thread function,"class MyCounter(threading.Thread):
  def __init__(self, *args, **kwargs):
    super(MyCounter, self).__init__()
    self.count = 0
    self._running = True

  def run(self):
    while self._running:
      self.count += 1

  def quit(self):
    self._running = False

C = MyCounter()
C.start()

while 1:
    try:
        command = raw_input('Command: ')
        if command == 'quit':
            C.quit()
            sys.exit()
        elif command == 'status':
            print(time.ctime())
            print(C.count + '\n')
        else:
            print('unknown command. [quit] or [satus]')

    except KeyboardInterrupt:
        print ""\nKeybord interrupt, exiting gracefully anyway.""
        sys.exit()
"
22437,77990,Check if return value is instance of Py_None,"data = myAPI.readArr(arg1, arg2)
if data is None:
   raise Exception(""Problem!"")
"
17566,41814,Check if huge list in python has changed,"# -*- coding: utf-8 -*-
# String for doctests and  example:
""""""
            >>> a = NotifierList()
            >>> flag.has_changed
            False
            >>> a.append(NotifierDict())
            >>> flag.has_changed
            True
            >>> flag.clear()
            >>> flag.has_changed
            False
            >>> a[0][""status""]=""new""
            >>> flag.has_changed
            True
            >>> 

""""""


changer_methods = set(""__setitem__ __setslice__ __delitem__ update append extend add insert pop popitem remove setdefault __iadd__"".split())


def callback_getter(obj):
    def callback(name):
        obj.has_changed = True
    return callback

def proxy_decorator(func, callback):
    def wrapper(*args, **kw):
        callback(func.__name__)
        return func(*args, **kw)
    wrapper.__name__ = func.__name__
    return wrapper

def proxy_class_factory(cls, obj):
    new_dct = cls.__dict__.copy()
    for key, value in new_dct.items():
        if key in changer_methods:
            new_dct[key] = proxy_decorator(value, callback_getter(obj))
    return type(""proxy_""+ cls.__name__, (cls,), new_dct)


class Flag(object):
    def __init__(self):
        self.clear()
    def clear(self):
        self.has_changed = False

flag = Flag()

NotifierList = proxy_class_factory(list, flag)
NotifierDict = proxy_class_factory(dict, flag)
"
20622,65146,Is there something equivalent to django's managers in SQLAlchemy?,"class User(object):

    @classmethod
    def get_by_username(cls, dbsession, username):
        return dbsession.query(cls).filter(cls.username==username).one()
"
25361,42536,How can I run 2 loops simultaneously in python?,"from multiprocessing import Process

def run_app():
    ... run the app ...

def run_server():
    ... run the server ...

def main():
    app = Process(target=run_app)
    app.start()

    server = Process(target=run_server)
    server.start()

    app.join()
    server.terminate()

if __name__ == ""__main__"":
    main()
"
13449,72431,How to find all values for a specific key in pymongo?,"last_heard = db.collection.distinct(""coreInfo.last_heard"")
result = db.collection.distinct(""result"") 
"
29020,24412,Python/CMD command,"import subprocess
pro = subprocess.Popen(""cmd"", stdout=subprocess.PIPE, stdin=subprocess.PIPE)
pro.stdin.write(""mybat.bat\n"")
pro.stdin.write(""myother.bat\n"")
pro.stdin.write(""start mysillyprogram\n"")
pro.stdin.flush()
pro.terminate() # kill the parent 
"
24985,10971,Removing rows based off of a value in a column (pandas),"bad = df.loc[df.Comment.str.contains('Bad Process'), 'ID Name']
df_good = df.loc[~df['ID Name'].isin(bad)]

>>> df_good
  ID Name Comment
3   W12D4    Fine
4   W12D5  Random
5   W12D5    Fine
"
864,1848,Way to get current directory in global python script," import os
 os.getcwd()
"
1797,53115,Urllib's urlopen breaking on some sites (e.g. StackApps api): returns garbage results,">>> req = urllib2.Request(""http://api.stackoverflow.com/0.8/users/"",
                          headers={'Accept-Encoding': 'gzip, identity'})
>>> conn = urllib2.urlopen(req)
>>> val = conn.read()
>>> conn.close()
>>> val[0:25]
'\x1f\x8b\x08\x00\x00\x00\x00\x00\x04\x00\xed\xbd\x07`\x1cI\x96%&/m\xca{\x7fJ'
"
12563,8491,how to read previous and next line if the current line is valid for an IF statement in Python,"from collections import deque
from itertools import islice, dropwhile
import csv

def iscomment(row): return row[0][0] == '#'

with gzip.open(sys.argv[1], 'r') as f:
    reader = dropwhile(iscomment, csv.reader(f, delimiter=""\t""))
    history = deque(islice(reader, 2), maxlen=2)

    for row in reader:      
        if history[-1][1] in myHdictionary:
            print history[0]
            print history[-1]
            print row
        history.append(row)
"
20734,47884,Python Numpy: Saved array is loaded differently,"import numpy as np
import cv2, os.path

allImageIDs = []
allImages = []
countImagesMax = 20
countImages = 0
while countImages < countImagesMax:
  image = np.uint8(np.random.randint(2, size=(144,192)) *255)
  allImages.append(np.reshape(image, (image.shape[0]*image.shape[1])))
  allImageIDs.append(countImages)
  countImages += 1

myArray = [np.array(allImages), np.array(allImageIDs)]

if not os.path.exists(""savedFile.npz""):
  np.savez('savedFile.npz', images=myArray[0], ids=myArray[1])
  print  myArray[0].shape, myArray[0].dtype # returns (yyy, xxx) uint8
else:
  npzfile = np.load('savedFile.npz')
  myArray = [npzfile['images'], npzfile['ids']]
  print  myArray[0].shape, myArray[0].dtype # returns (yyy, xxx) uint8
"
37345,42765,All combinations of lists using unique indexes in Python,"from itertools import permutations

# number of lists may vary (>= length of lists)
list1 = [""l11"", ""l12"", ""l13""]
list2 = [""l21"", ""l22"", ""l23""]
list3 = [""l31"", ""l32"", ""l33""]
list4 = [""l41"", ""l42"", ""l43""]
lists = [list1, list2, list3, list4]

# lenths of lists must be the same and will be the size of outputs
size = len(lists[0])
for subset in permutations(lists, size):
    print([sublist[item_i] for item_i, sublist in enumerate(subset)])
"
19367,34164,Using Amazon's API to find a product's UPC (Python),"node = api.item_lookup('B001OXUIIG', ResponseGroup='Medium')
"
578,77,How can I iterate child text nodes (not descendants) in ElementTree?," import xml.etree.ElementTree as et

 xml = """"""
 <A>
     hello

     <annotation> NOT part of text </annotation>

     world
 </A>""""""


 doc = et.fromstring(xml)


 def all_texts(root):
     if root.text is not None:
         yield root.text
     for child in root:
         if child.tail is not None:
             yield child.tail


 print list(all_texts(doc))
"
7147,27025,"In Python, heapq.heapify doesn't take cmp or key functions as arguments like sorted does","pq = [ ]
heappush(pq, (10, task1))
heappush(pq, (5, task2))
heappush(pq, (15, task3))
priority, task = heappop(pq)
"
8771,78573,How can I use Py3k-style string formatting within Mako templates?,">>> from mako.template import Template
>>> Template(""We display two significant digits: ${'{0:.2f}'.format(34.567645765)}"").render()
'We display two significant digits: 34.57'
"
35541,21254,Python: how to use 'exec' with custom scope?,"def foo() : print( foo.bar )
exec ""foo.bar = bar\n"" + ""foo()"" in dict( globals(), bar = 1 )
"
181,48900,How to resolve this RDBMS Kind Join functionality in Pandas Dataframe?,"df['Pre_Task_ID'] = df[['Pre_Task']].merge(df[['SubTask', 'SubTask_ID']],
                                             right_on='SubTask', left_on='Pre_Task', how='left')['SubTask_ID'].values

                Task1   SubTask SubTask_ID  Pre_Task TaskType Pre_Task_ID
0 Get home work  done  SubTask1      SUB_1  SubTask3      ABC       SUB_3
1 Get home work  done  SubTask2      SUB_2  SubTask7       CC       SUB_7
2 Get home work  done  SubTask3      SUB_3  SubTask5       CC       SUB_5
3 Get home work  done  SubTask4      SUB_4       NaN       CC         NaN
4 Get home work  done  SubTask5      SUB_5       NaN       AB         NaN
5 Get home work  done  SubTask6      SUB_6       NaN      BCC         NaN
6 Get home work  done  SubTask7      SUB_7  SubTask3      NaN       SUB_3
"
27352,33752,Sorting a list of list of tuples,"validCombo = sorted(validCombo, key=lambda elem: elem[numDays][1], reverse = True)
validCombo = sorted(validCombo, key=lambda elem: elem[numDays][0])
"
31461,81265,Can i store a cursor.fetchone() in a variable,"cursor1 = conn.cursor()
cursor2 = conn.cursor()
cursor1.execute(""select * FROM spam"")
cursor2.execute(""select * FROM eggs"")
cursor1.fetchone() #first result from query 1
cursor2.fetchone() #first result from query 2
"
34542,54247,how to connect different switches to different remote controllers in mininet?,"#!/usr/bin/python

from mininet.net import Mininet
from mininet.node import Controller, RemoteController
from mininet.cli import CLI
from mininet.log import setLogLevel, info

def myNet():


    #OpenDayLight controller
    ODL_CONTROLLER_IP='10.0.0.4'

    #Floodlight controller
    FL_CONTROLLER_IP='10.0.0.5'

    net = Mininet( topo=None, build=False)

    # Create nodes
    h1 = net.addHost( 'h1', mac='01:00:00:00:01:00', ip='192.168.0.1/24' )
    h2 = net.addHost( 'h2', mac='01:00:00:00:02:00', ip='192.168.0.2/24' )

    # Create switches
    s1 = net.addSwitch( 's1', listenPort=6634, mac='00:00:00:00:00:01' )
    s2 = net.addSwitch( 's2', listenPort=6634, mac='00:00:00:00:00:02' )

    print ""*** Creating links""
    net.addLink(h1, s1, )
    net.addLink(h2, s2, )   
    net.addLink(s1, s2, )  

    # Add Controllers
    odl_ctrl = net.addController( 'c0', controller=RemoteController, ip=ODL_CONTROLLER_IP, port=6633)

    fl_ctrl = net.addController( 'c1', controller=RemoteController, ip=FL_CONTROLLER_IP, port=6633)


    net.build()

    # Connect each switch to a different controller
    s1.start( [odl_ctrl] )
    s2.start( [fl_ctrl] )

    s1.cmdPrint('ovs-vsctl show')

    CLI( net )
    net.stop()

if __name__ == '__main__':
    setLogLevel( 'info' )
    myNet()
"
639,38228,How to display extended fields in Django Photologue,"class GalleryExtended(models.Model):

    # Link back to Photologue's Gallery model.
    gallery = models.OneToOneField(Gallery, related_name='extended')

    # Now your extra field.
    extra_url = models.URLField(max_length=200, blank=True, null=True)
"
38953,11118,"Using curses, how do I update the screen or wait for a key?","import curses
scr = curses.initscr()
curses.halfdelay(5)           # How many tenths of a second are waited, from 1 to 255
curses.noecho()               # Wont print the input
while True:
    char = scr.getch()        # This blocks (waits) until the time has elapsed,
                              # or there is input to be handled
    scr.clear()               # Clears the screen
    if char != curses.ERR:    # This is true if the user pressed something
        scr.addstr(0, 0, chr(char))
    else:
        scr.addstr(0, 0, ""Waiting"")
"
24863,18100,Create class instance within a class,"class A():
    def __init__(self, attr1, attr2):
        self.attr1 = attr1
        self.b = B(attr2)

class B():
    def __init__(self, attr2):
        self.attr2 = attr2
"
7927,40932,Python: how to simulate the roll of a dice 100 times,"import random

print([random.randint(1,6) for _ in xrange(100)])
"
22651,18945,How to write a Gtk.TreeSelection.set_select_function(),"#!/usr/bin/python3

from gi.repository import Gtk

class Window(Gtk.Window):

def __init__(self):
    Gtk.Window.__init__(self, title=""MyWindow"")

    self.set_default_size(200, 200)

    self.liststore = Gtk.ListStore(str, str)
    for i in range(1,10):
        row = ""Row""+ str(i)
        value = ""Value""+str(i)
        self.liststore.append([row, value])


    treeview = Gtk.TreeView(model=self.liststore)

    renderer_text = Gtk.CellRendererText()
    column = Gtk.TreeViewColumn(""Col1"", renderer_text, text=0)
    treeview.append_column(column)

    column = Gtk.TreeViewColumn(""Col2"", renderer_text, text=1)
    treeview.append_column(column)

    treeview.get_selection().set_mode(Gtk.SelectionMode.MULTIPLE)
    treeview.get_selection().set_select_function(self.select_function)

    self.add(treeview)

def select_function(self, treeselection, model, path, current):
    state = True

    if treeselection.count_selected_rows() < 2:
        state = True
    else:
        if treeselection.path_is_selected(path):
            state = True
        else:
            state = False

    return state

win = Window()
win.connect(""delete-event"", Gtk.main_quit)
win.show_all()
Gtk.main()
"
9382,30261,Replacement for urllib2,"from multiprocessing import Pool
# Use the following if you prefer to use threads over processes.
# from multiprocessing.pool import ThreadPool as Pool

urls = ['https://someurl', 'https://someurl', ...]

def download_json(url):
    req2 = urllib2.Request(url)
    req2.add_header('cookie', cookie)
    response = urllib2.urlopen(req2)
    data = response.read()
    return json.loads(data)

pool = Pool()
vals = pool.map(download_json, urls)
"
33929,83079,understanding this multithreading demon python code,"while not self.stop:  # self.stop is set to True when stop() is called
    ...
    self.results.append(item) # do some stuff that involves appending results to a list
with open('~/output.txt', 'w') as outfile:
    outfile.write('\n'.join(str(item) for item in item))
"
3421,54559,"Copying a row screws up pandas column data types, how to avoid?","In [18]: individuals.append(individuals.loc[1])
Out[18]: 
  female  fitness
0   True        1
1  False        1
1  False        1

In [19]: individuals.append(individuals.loc[1]).dtypes
Out[19]: 
female      bool
fitness    int64
dtype: object
"
12370,42739,How to access variables and functions from within a class?,"class mainWindow(Frame):
        # ...

    def initUI(self):
        # ...

        # note self here
        self.email_entry = Entry(self, exportselection = 0, width = 200).pack()
        # ...

    def send(self):
        # note self here
        body = self.email_entry.get()
        # ...
"
9380,34081,Why does PyImport_Import fail to load a module from the current directory?,"#include <Python.h>

int
main(int argc, char *argv[])
{
  Py_SetProgramName(argv[0]);  /* optional but recommended */
  Py_Initialize();
  PySys_SetArgv(argc, argv); // must call this to get sys.argv and relative imports
  PyRun_SimpleString(""import os, sys\n""
                     ""print sys.argv, \""\\n\"".join(sys.path)\n""
                     ""print os.getcwd()\n""
                     ""import thing\n"" // import a relative module
                     ""thing.printer()\n"");
  Py_Finalize();
  return 0;
}
"
27831,21061,"What's faster, a==2==b, or a==2 and b==2",">>> dis.dis(compile('a==2==b', '', 'eval'))
  1           0 LOAD_NAME                0 (a)
              3 LOAD_CONST               0 (2)
              6 DUP_TOP
              7 ROT_THREE
              8 COMPARE_OP               2 (==)
             11 JUMP_IF_FALSE_OR_POP    21
             14 LOAD_NAME                1 (b)
             17 COMPARE_OP               2 (==)
             20 RETURN_VALUE
        >>   21 ROT_TWO
             22 POP_TOP
             23 RETURN_VALUE
>>> dis.dis(compile('a==2 and b==2', '', 'eval'))
  1           0 LOAD_NAME                0 (a)
              3 LOAD_CONST               0 (2)
              6 COMPARE_OP               2 (==)
              9 JUMP_IF_FALSE_OR_POP    21
             12 LOAD_NAME                1 (b)
             15 LOAD_CONST               0 (2)
             18 COMPARE_OP               2 (==)
        >>   21 RETURN_VALUE
"
21857,64070,Lists in Python,"result = [int(x) for x in a]
"
38489,60710,Ubuntu/Python- How to call ubuntu commands and 3rd party applications through Python,"os.chdir(os.path.expanduser('~/Documents/XDF_Thumbnails_Sci'))
for file in os.listdir('.'):
    if os.path.splitext(file)[1] == "".feedme"":
        os.system(""~/galfit %s"" % file)
"
22442,20576,Python who to write to file encoding 'latin-1',">>> 'Gen\xc3\xa8ve'.decode('latin1')
u'Gen\xc3\xa8ve'
>>> print 'Gen\xc3\xa8ve'.decode('latin1')
GenÃ¨ve
>>> 'Gen\xc3\xa8ve'.decode('utf8')
u'Gen\xe8ve'
>>> print 'Gen\xc3\xa8ve'.decode('utf8')
Genève
"
22285,78083,Python - Use 'set' to find the different items in list,"a = [1,2,3]
b = [3,4,5]

print(set(a)^set(b))


>>> [1,2,4,5]
"
36781,33275,Object of custom type as dictionary key,"class MyThing:
    def __init__(self,name,location,length):
        self.name = name
        self.location = location
        self.length = length

    def __hash__(self):
        return hash((self.name, self.location))

    def __eq__(self, other):
        return (self.name, self.location) == (other.name, other.location)

    def __ne__(self, other):
        # Not strictly necessary, but to avoid having both x==y and x!=y
        # True at the same time
        return not(self == other)
"
30943,24490,Heat map from data points in python,"from Tkinter import *

heat_map = [[20, 21, 22, 23, 20],
            [20, 22, 21, 23, 20],
            [20, 21, 20, 20, 20],
            [20, 21, 23, 23, 23],
            [21, 21, 22, 23, 22]]

heat_min = min(min(temp for temp in row) for row in heat_map)
heat_max = max(max(temp for temp in row) for row in heat_map)

def pseudocolor(value, minval, maxval, palette):
    max_index = len(palette)-1
    # convert value in range minval...maxval to the range 0..max_index
    v = (float(value-minval) / (maxval-minval)) * max_index
    i = int(v); f = v-i
    c0r, c0g, c0b = palette[i]
    c1r, c1g, c1b = palette[min(i+1, max_index)]
    dr, dg, db = c1r-c0r, c1g-c0g, c1b-c0b
    return c0r+f*dr, c0g+f*dg, c0b+f*db

def colorize(value, minval, maxval, palette):
    color = [int(c*255) for c in pseudocolor(value, minval, maxval, palette)]
    return '#' + '%02x' % color[0] + '%02x' % color[1] + '%02x' % color[2]

root = Tk()
root.title('heatmap')

palette = [(0,0,1), (0,.5,0), (0,1,0), (1,.5,0), (1,0,0)]
width, height = 400, 400

frame = Frame()
frame.pack()

canvas = Canvas(frame, width=width, height=height)
rows, cols = len(heat_map), len(heat_map[0])
rect_width, rect_height = width // rows, height // cols
for y, row in enumerate(heat_map):
    for x, temp in enumerate(row):
        x0, y0 = x * rect_width, y * rect_height
        x1, y1 = x0 + rect_width-1, y0 + rect_height-1
        color = colorize(temp, heat_min, heat_max, palette)
        canvas.create_rectangle(x0, y0, x1, y1, fill=color, width=0)
canvas.pack()

root.mainloop()
"
38860,83521,"In Python, how do I transform a string into a file?",">>> import StringIO
>>> f = StringIO.StringIO(""foo"")
>>> f.read()
'foo'
"
26852,43394,Query data using pandas with kwargs,"expr = "" and "".join(k + ""=='"" + v + ""'"" for (k,v) in kwargs.items())
readJson = readJson.query(expr)
"
25178,49078,How to setup different subdomains in Flask (using blueprints)?,"app.config['SERVER_NAME'] = 'mydomain.com'
app.url_map.default_subdomain = ""app""
app.register_blueprint(account, url_prefix='/account')
app.register_blueprint(users, url_prefix='/users')
app.register_blueprint(boxes, url_prefix='/boxes')
app.register_blueprint(api_1_0, subdomain='api')
"
2942,37189,Python/Tkinter: Version of Canvas create_text() that supports word wrap,"canvas.create_text(x, y, width=80)
"
23255,54086,"How do I apply a lambda function on pandas slices, and return the same format as the input data frame?","import pandas as pd
import numpy as np


# I'd rather use a function than lambda here, preference I guess
def f(x):
    return x - x.mean()


df = pd.DataFrame(np.round(np.random.normal(size=(2,10)), 2))

df.T 
      0     1
0  0.92 -0.35
1  0.32 -1.37
2  0.86 -0.64
3 -0.65 -2.22
4 -1.03  0.63
5  0.68 -1.60
6 -0.80 -1.10
7 -0.69  0.05
8 -0.46 -0.74
9  0.02  1.54

# makde a copy of df here
df1 = df

# just reassign the slices back to the copy
# edited, omit DataFrame part.
df1.T[:5], df1.T[5:] = f(df.T.iloc[0:5,:]), f(df.T.iloc[5:,:])

df1.T
       0     1
0  0.836  0.44
1  0.236 -0.58
2  0.776  0.15
3 -0.734 -1.43
4 -1.114  1.42
5  0.930 -1.23
6 -0.550 -0.73
7 -0.440  0.42
8 -0.210 -0.37
9  0.270  1.91
"
11086,29736,GAE python self.redirect(http://google.com') to new browser window,"urls = {'google': 'http://www.google.com',
        'yahoo': 'http://www.yahoo.com'}

s = ''.join(['window.open(""%s"", ""%s"");' % (url, name)
             for name, url in urls.items()])

self.response.out.write('<script>%s</script>' % s)
"
32952,41865,How do I extract a long string of text from some JavaScript on a web page using BeautifulSoup?,"challenge = re.search(r""challenge *: *'(\S+)'"", x).group(1)
"
38067,18889,"Given a set of points defined in (X, Y, Z) coordinates, interpolate Z-value at arbitrary (X, Y)","# Definitions of xs, ys and zs
nx, ny = 20, 30
x = np.linspace(0, np.pi, nx)
y = np.linspace(0, 2*np.pi, ny)

X,Y = np.meshgrid(x, y)

xs = X.reshape((nx*ny, 1))
ys = Y.reshape((nx*ny, 1))

## Arbitrary definition of zs
zs = np.cos(3*xs/2.)+np.sin(5*ys/3.)**2

## new points where I want the interpolations
points = np.random.rand(1000, 2)

import scipy.interpolate
zs2 = scipy.interpolate.griddata(np.hstack((xs, ys)), zs, points)
"
34286,32007,django edit queryset objects without affecting database,"dividend_set = stock.dividend_set.all().order_by('date')
dividends = list(dividend_set)
for dividend in dividends:
    dividend.extra_value1 = 'foo'
    dividend.extra_value2 = 'bar'
# now pass the dividends list to your template as part of your context rather than the qs
"
38731,34802,Are there python libraries with spatial support for mySQL?,"input = ""POLYGON ((30 10, 10 20, 20 40, 40 40, 30 10))""

def polygon_to_points(polygon):
  geometry = polygon[10:-2]
  coordinates = geometry.split(', ')
  coord_pairs = []
  for c in coordinates:
    pair = c.split(' ')
    pair_num = [float(pair[0]), float(pair[1])]
    coord_pairs.append(pair_num)
  return coord_pairs
"
18168,60792,removing key value pairs by matching values python,">>> old_dict = {'one': '.', 'two': 2, 'three':3, 'four':'.'}
>>> new_dict = {k:v for k,v in old_dict.iteritems() if not v == '.'}
>>> new_dict
 {'three': 3, 'two': 2}
"
28212,79171,Creating dataframe columns within a for loop,"df = pd.DataFrame()
sym_len = len(snapshot[sym])
for i, sym in enumerate(sorted(snapshot)):
    for j, lp in enumerate(sorted(snapshot[sym])):
        idx = i*sym_len + j
        df.loc[idx, 'trader'] = lp
        df.loc[idx, 'bid'] = snapshot[sym][lp]["":b""][""LUC""][""price""] if "":b"" in snapshot[sym][lp] else ""0""
        df.loc[idx, 'ask'] = snapshot[sym][lp]["":a""][""LUC""][""price""] if "":a"" in snapshot[sym][lp] else ""0""
"
30315,49233,How to combine two table rows where a series of conditions are met,"select a.*, b.*
from x as a
inner join x as b
  on a.filename<b.filename
    and a.value2 = b.value2
        and a.value3 = b.value3
        and a.value4 = b.value4
union all
select a.*, b.*
from x as a
left join x as b
  on a.filename!=b.filename
        and a.value2 = b.value2
        and a.value3 = b.value3
        and a.value4 = b.value4
where b.filename is null
  and a.filename = (select min(filename) from x)
union all
select b.*, a.*
from x as a
left join x as b
  on a.filename!=b.filename
        and a.value2 = b.value2
        and a.value3 = b.value3
        and a.value4 = b.value4
where b.filename is null
  and a.filename = (select max(filename) from x)
"
34412,48093,Windows can't run python script from within eclipse,"Process p = Runtime.getRuntime().exec(""[PATH TO YOUR PYTHON DIR]\\python.exe e:\\dev\\CodeBase\\WebService\\src\\com\\rest\\service\\PythonScript.py"");
"
32988,17591,Django one to one relation queryset,"q = B.objects.filter(id=id).values('salary','a__id','a__name','a__age')
"
38725,30065,Date as Type: type and determining time left,"date_a = datetime.strptime('2013-04-15 14:00:00','%Y-%m-%d %H:%M:%S')
date_b = datetime.strptime('2013-04-15 14:02:05','%Y-%m-%d %H:%M:%S')

elapsed_time = date_b - date_a
"
753,38657,Merge elements of inner list with outer list,"    def __init__(self,my_list):
        self.mylist=my_list
    def removeRepeated(self):
        for obj_index in range(len(self.mylist)):
            if type(self.mylist[obj_index]) == list:
                self.RemoveRepeated(self.mylist[obj_index])
    def RemoveRepeated(self,actual_object):
        index_to_remove=[]
        for actual_object_index in range(len(actual_object)):
            if type(actual_object[actual_object_index])==list:
                self.RemoveRepeated(actual_object[actual_object_index])
            else:
                if actual_object[actual_object_index] in self.mylist:
                    index_to_remove.append(actual_object_index)
        for index in index_to_remove[::-1]:
            actual_object.pop(index)
        return actual_object


mylist = ['or', ['or', 'R', ['not', 'B']], 'W']
print mylist
list_of_lists=FirstLevelRepeated(mylist)
list_of_lists.removeRepeated()
print list_of_lists.mylist
"
24260,69311,How to make this matplotlib plot less noisy?,"import numpy as np
import sg_filter
import matplotlib.pyplot as plt


# Generate some sample data similar to your post
X = np.arange(1,1000,1)
Y = np.log(X**3) + 10*np.random.random(X.shape)

Y2 = sg_filter.savitzky_golay(Y, 101, 3)

plt.plot(X,Y,linestyle='-', linewidth=2,alpha=.5)
plt.plot(X,Y2,color='r')

plt.show()
"
27167,18211,fit multiple parametric curves with scipy,"def function(x, E, T, a, n, m):
    return x/E + (a/n+1)*T^(n+1)*x^m

def leastsq_function(params, *args):
    a = params[0]
    n = params[1]
    m = params[2]
    x = args[0]
    y = args[1]
    E = args[2]
    T = args[3]
    n1, n2 = args[2]

    yfit = np.empty(x.shape)
    yfit[:n1] = function(x[:n1], E[0], T[0], a, n, m)
    yfit[n1:n2] = function(x[n1:n2], E[1], T[1], a, n, m)
    yfit[n2:] = function(x[n2:], E[2], T[2], a, n, m)

    return y - yfit


params0 = [a0, n0, m0]
args = (x, y, (E0, E1, E2), (T0, T1, T2), (n1, n1+n2))
result = scipy.optimize.leastsq(leastsq_function, params0, args=args)
"
26994,39651,Is it possible to generate a chart with this very specific background?,"from matplotlib import dates
import matplotlib.pyplot as plt
import numpy as np
import time
from datetime import datetime

# how often to show xticklabels and repeat yticklabels:
xtickinterval = 10

# Make random data
my_data = list()
for i in range(3000):
    my_data.append((datetime.fromtimestamp(i + time.time()), np.random.randint(120, 160), np.random.randint(10, 100)))

hfmt = dates.DateFormatter('%H:%M:%S')
fig = plt.figure()

actg = fig.add_subplot(2, 1, 1)  # two rows, one column, first plot
actg.set_ylim(50, 210)

atoco = fig.add_subplot(2, 1, 2,sharex=actg)  # second plot, share the xaxis with actg
atoco.set_ylim(-5, 105)

# Set the major ticks to the intervals specified above. 
actg.xaxis.set_major_locator(dates.MinuteLocator(byminute=np.arange(0,60,xtickinterval)))
# Set the minor ticks to every 30 seconds
minloc = dates.SecondLocator(bysecond=[0,30])
minloc.MAXTICKS = 3000
actg.xaxis.set_minor_locator(minloc)
# Use the formatter specified above
actg.xaxis.set_major_formatter(hfmt)

times = []
fhr1 = []
toco = []

for key in my_data:
    times.append(key[0])
    fhr1.append(key[1])
    toco.append(key[2])

print times[-1]-times[0]

# Make your plot
actg.plot_date(times, fhr1, '-')
atoco.plot_date(times, toco, '-')

for ax in [actg,atoco]:
    # Turn off the yticklabels on the right hand side
    ax.set_yticklabels([])

    # Set the grids
    ax.xaxis.grid(True,which='both',color='r')
    ax.yaxis.grid(True,which='major',color='r')

    # Create new yticklabels every major tick on the xaxis
    for tick in ax.get_xticks():
        tx = ax.twinx()
        tx.set_ylim(ax.get_ylim())
        tx.spines['right'].set_position(('data',tick))
        tx.spines['right'].set_color('None')
        for tic in tx.yaxis.get_major_ticks():
            tic.tick1On = tic.tick2On = False


plt.tight_layout()
plt.show()
"
38784,6695,Regex - Combining an 'or' with a 'look-behind',"soup.find_all('td', text=re.compile(','))
"
2353,14765,More pythonic way to pick multiple element types from tagged data,"for i in range(1, 4):
    type_dict['type_%d' % i] = myTree.cssselect('element_type_%d' % i)
"
19417,84862,Mongoengine creation_time attribute in Document,"class MyModel(mongoengine.Document):
    creation_date = mongo.DateTimeField()
    modified_date = mongo.DateTimeField(default=datetime.datetime.now)

    def save(self, *args, **kwargs):
        if not self.creation_date:
            self.creation_date = datetime.datetime.now()
        self.modified_date = datetime.datetime.now()
        return super(MyModel, self).save(*args, **kwargs)
"
31547,79450,Get the string between first two \ and \,"In [8]: a = ['\\Mango\\stone\\forest\\', '\\Orange\\sand\\house\\', '\\Rabbit\\cage\\village\\']
In [11]: [x.split('\\')[1] for x in a]
Out[11]: ['Mango', 'Orange', 'Rabbit']
"
20027,64466,Getting Tkinter Check Box State,">>> root = Tkinter.Tk()
>>> var = Tkinter.IntVar()
>>> chk = Tkinter.Checkbutton(root, text='foo', variable=var)
>>> chk.pack(side=Tkinter.LEFT)
>>> var.get()  #unchecked
0
>>> var.get()  #checked
1
"
6061,48969,"In Django, how do you retrieve data from extra fields on many-to-many relationships without an explicit query for it?","t = Team.objects.get(pk=168)
for x in t.teamplayer_set.all():
  if x.captain:
    print ""%s (Captain)"" % (x.player.name)
  else:
    print x.player.name
"
8625,45446,One more colorbar at each loop,"im = np.random.rand(100,100)

for i in xrange(10):
    fig12 = plt.figure(12)
    fig_SN_final = plt.imshow(im)
    cbar = plt.colorbar()
    cbar.set_label(r'Signal to Noise (significance $\sigma$)')
    plt.xlabel('X (arcmin)')
    plt.ylabel('Y (arcmin)')
    plt.title('Signal to Noise map')
    plt.savefig(str('%03d'%i)+'.png')
    plt.clf()
"
27681,59396,How can I read a single XML item,"#!/usr/bin/python

from xml.dom.minidom import parse
import xml.dom.minidom

# Open XML document using minidom parser
DOMTree = xml.dom.minidom.parse(""movies.xml"")
collection = DOMTree.documentElement
if collection.hasAttribute(""shelf""):
    print ""Root element : %s"" % collection.getAttribute(""shelf"")

# Get all the movies in the collection
movies = collection.getElementsByTagName(""movie"")

# Print detail of each movie.
for movie in movies:
    title = movie.getAttribute(""title"")
    if title == ""Enemy Behind"":
         print ""*****Movie*****""
         print ""Title: %s"" % title

         type = movie.getElementsByTagName('type')[0]
         print ""Type: %s"" % type.childNodes[0].data
         format = movie.getElementsByTagName('format')[0]
         print ""Format: %s"" % format.childNodes[0].data
         rating = movie.getElementsByTagName('rating')[0]
         print ""Rating: %s"" % rating.childNodes[0].data
         description = movie.getElementsByTagName('description')[0]
         print ""Description: %s"" % description.childNodes[0].data
"
20074,23197,Choropleth map from Geopandas GeoDataFame,"ax = plot_dataframe(tracts, column='CRIME', scheme='QUANTILES', k=3, colormap='OrRd', legend=True)
"
6700,39459,print python counter of GPIO pin output at set intervals,"import time

last_time = time.time()
#start of event catching loop

if time.time() - last_time >= 10
   print buttonCountVariable
   last_time = time.time()
"
29772,82131,unittest housekeeping in python,"class Data:
    def __init__(self):
        data.x= ...
        data.y = ....

class Test_Books(TestCase):
    def setup():
        self.data = Data()

    def test_method_1(self):
       value = self.data.x   # get the data from the variable
"
23836,46523,Build a PyObject* from a C function?,"PyObject* (*fpFunc)(PyObject*,PyObject*) = someFunction;
PyMethodDef methd = {""methd"",fpFunc,METH_VARARGS,""A new function""};
PyObject* name = PyString_FromString(methd.ml_name);
PyObject* pyfoo = PyCFunction_NewEx(&methd,NULL,name);
Py_DECREF(name);
"
13555,46615,pyside qapplication exec with while loop,"import sys
import time
import threading

from PySide.QtCore import *
from PySide.QtGui import *
qt_app = QApplication(sys.argv)
label = QLabel('Hello, loop!')
label.show()

running = True #only set to False when user is done with app in the real code.

def worker():
    global running
    while running:
        #I am handling connections here that MUST be in continual while loop
        print(""loop"")
        time.sleep(0.5)

thread = threading.Thread(target=worker)
thread.setDaemon(True)
thread.start()

qt_app.exec_()
"
29462,33819,Finding smallest contiguous integers in a Python set,"def smallest_contiguous(s, N):
    lst = list(s)
    lst.sort()
    Nm = N-1
    for i in xrange(len(lst) - Nm):
        if lst[i] + Nm == lst[i + Nm]:
            return range(lst[i], lst[i]+N)
    return []
"
18550,42021,Python msgpack module: packb and newlines,">>> import msgpack
>>> s = msgpack.packb({""a"":10,""b"":13})
>>> s
'\x82\xa1a\n\xa1b\r'
>>> '\r' in s
True
>>> '\n' in s
True
"
11788,12750,How to unit test a function that uses Popen?,"with mock.patch.object(subprocess, 'Popen') as mocked_popen:
    mocked_popen.return_value.communicate.return_value = some_fake_result
    function_which_uses_popen_communicate()
"
30701,72330,Catching a click anywhere inside a gtk.Window,"import gtk

class MainWindow():
    def __init__(self):
        self.window = gtk.Window()
        self.box = gtk.EventBox ()
        self.window.add (self.box)
        self.box.add (gtk.Label ('some text'))
        self.window.show_all()

        import sys
        self.box.connect ('button-press-event',
                          lambda widget, event:
                              sys.stdout.write ('%s // %s\n' % (widget, event)))

if __name__ == ""__main__"":
    main = MainWindow()
    gtk.main()
"
21561,69074,Py-StackExchange filter by tag,"for question in so.questions(tagged=['python'], pagesize=10):
    print question
    assert 'python' in question.tags
"
34998,81512,Calculating pi using a series in my book,">>> def pi(n):
...    tot = 0.0
...    for i in xrange(1, n * 4, 4):
...       tot += 4.0 / i - 4.0 / (i + 2)
...    return tot
...
>>> pi(1000)
3.1410926536210386
>>> pi(10000)
3.1415426535898203
>>> pi(100000)
3.141587653589818
>>>
"
4185,61403,Remove the smallest element(s) from a set,"d = {'A': 1, 'B': 1, 'C': 1, 'D': 4}

# Use .values() and .keys() and .items() for Python 3.x
min_val = min(d.itervalues())
remaining = d.viewkeys() - (k for k, v in d.iteritems() if v == min_val)
# set(['D'])
"
35348,43612,Avoid a Newline at End of File - Python,"fileout = open('out.txt', 'w')
list = ['a', 'b', 'c', 'd']
fileout.write('\n'.join(list))
"
23704,68764,SQL query with case and different conditions,"    select channel, 
           count(channel)
      from channelResults
     where type = 'A' and I1 > 30 and I2 < 10 or
           type = 'B' and I1 > 10 and I2 < 20
  group by channel
"
17316,84328,To check whether AWS instance is up after reboot using python,"import socket
import time

def wait_for_socket(host, port, retries, retry_delay=30):
    retry_count = 0
    while retry_count <= retries:
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        result = sock.connect_ex((host, port))
        if result == 0:
            print ""Port is open""
            break
        else:
            print ""Port is not open, retrying...""
            time.sleep(retry_delay)
"
10431,80105,how to get all possible combination of items from 2-dimensional list in python?,">>> list(itertools.product(*a))
[('a', 1), ('a', 2), ('b', 1), ('b', 2)]
"
1049,5254,Writing csv reader to excel using python,"Worksheets(""Sheet1"").Range(""A1:A5"").Value = [1, 2, 3, 4, 5]
"
23828,23588,Q: Pandas dataframe from for loop,"source = open('urls.txt')
key_values = (""http://"",""""), (""https://"",""""), (""www."",""""), (""\n"","""")

#Remove stuff
print ""Cleaning list""
def multiple_replacer(key_values):
  replace_dict = dict(key_values)
  replacement_function = lambda match: replace_dict[match.group(0)]
  pattern = re.compile(""|"".join([re.escape(k) for k, v in key_values]), re.M)
  return lambda string: pattern.sub(replacement_function, string)

multi_line = multiple_replacer(key_values)

print ""Querying Database...""
records = []
for line in source:
  brand_url = multi_line(line)
  #Run Query with cleaned list
  mysql_query = (""select ub.url as 'URL', b.name as 'Name', b.id as 'ID' from api.brand b join api.url_brand ub on b.id=ub.brand_id where ub.url like '%%%s%%' and b.deleted=0 group by 3;"" % brand_url)
  brands = my_query('prod', mysql_query)
  #Append results to dict (records)
  for row in brands:
      records.append({""URL"":row['URL'],""Name"":row['Name'],""ID"":row['ID']})

#Create DataFrame
df = pd.DataFrame.from_dict(records)

#Create CSV    
output = df.to_csv('ongoing.csv',index=False)
"
650,54798,Generate an image of all widgets within a scrollarea,"pixmap = QtGui.QPixmap.grabWidget(scroll)
pixmap.save('path/to/file.png', None, 100)
"
4193,33823,Make Python Sublists from a list using a Separator,">>> [list(x[1]) for x in itertools.groupby(['|', u'MOM', u'DAD', '|', u'GRAND', '|', u'MOM', u'MAX', u'JULES', '|'], lambda x: x=='|') if not x[0]]
[[u'MOM', u'DAD'], [u'GRAND'], [u'MOM', u'MAX', u'JULES']]
"
20346,50268,Maya Python - How do I query the selection to check if only polyVerts or different?,"import maya.cmds as cmds

# Will return EVERYTHING selected
all_selected = cmds.ls(sl=True)

# Will filter out and return just the verts
# from everything selected
just_the_selected_verts = cmds.filterExpand(sm=31)
"
38982,36171,How can we send a GET request to a python bottle server without using Javascript?,"<form action=""yourscript.py"" method=""get"">
    <input type=""text"" name=""queryString""><br>
    <input type=""submit"" name=""searchButton"" value=""Search"">
</form>
"
25838,37571,"Regular expression to match everything to the end of a string, excluding the last character if it's a slash (/)","r'^https?://(www.)?domain.com/?(?P<path>.*?)/?$'
"
21859,32263,pandas: how to find the most frequent value of each row?,"In [88]: df
Out[88]:
   a  b  c
0  2  3  3
1  1  1  2
2  7  7  8

In [89]: df.mode(axis=1)
Out[89]:
   0
0  3
1  1
2  7
"
13775,53006,Simple Logic Error in Python,"# -*- coding: utf-8 -*-
import csv
levels = [[""1""], [""2""], [""3""]]
def column1Logic(self):
    self.column1 = ""logic worked""
    self.column1 = self.greeting

class Row(object):
    column1 = ""name""
    greeting = ""oh""
    def __init__(self, level, greeting):
        self.level = level
        self.greeting = greeting
    def rowEntry(self, level, greeting):
        column1Logic(self)
        lol = [[self.column1]]
        lol[0] = self.column1
        file_writer.writerow([o for o in lol])

with open(""test.csv"", ""wb"") as test_file:
    file_writer = csv.writer(test_file)
    for a in range(0, len(levels)):
        print levels[a]
        if levels[a] == ['3']:  # instead of levels[a] == ""3""
            greeting = ""hola""
            food = Row(levels[a], greeting)
            food.rowEntry(levels[a], greeting)
        else:
            greeting = ""hi""
            food = Row(levels[a], greeting)
            food.rowEntry(levels[a], greeting)
"
8216,33242,"Paginating ""KEYS"" command on Redis",">>> import redis
>>> r = redis.Redis()
>>> for x in r.scan_iter('dummy*'):
...   print(x)
... 
b'dummy3'
b'dummy2'
b'dummy1'
"
22683,30359,How to restart code if input entered = 'y',"def main():
    # your brute force code goes here

def run():
    answer = 'y'
    while answer == 'y':
        main()
        answer = input(""Would you like to continue (y/n): "")
"
19361,7117,Checking if a sum is an integer or float,"NumGiven = ''
while not NumGiven.isnumeric():
    NumGiven = (input('Please enter a 7 or 8 digit number:'))
while len(NumGiven) < 7 or len(NumGiven) > 8:
    NumGiven = (input('Please enter a 7 or 8 digit number:'))

if len(NumGiven) == 8:
    my_list = [int(i) for i in NumGiven]
    temp = sum([int(i) for i in NumGiven])
    ans = temp / 10.0

    if temp % 10 == 0:
        print(""int"")
    else:
        print(""float"")
"
2875,5397,Putting the focus on the tray icons in Windows XP using Python,"import win32gui
import win32con
taskbar = win32gui.FindWindow(""Shell_TrayWnd"", None)
trayArea = win32gui.FindWindowEx(taskbar, None, ""TrayNotifyWnd"", None)
win32gui.SetForegroundWindow(taskbar)
win32gui.SendMessage(trayArea, win32con.WM_SETFOCUS, 0, 0)
"
35464,43884,"How can I compare two lists in python, and return that the second need to have the same values regardless of order?","sorted(a) == sorted(b)
"
39817,10935,From tuples to multiple columns in pandas,"new_col_list = ['city','state','regions','country']
for n,col in enumerate(new_col_list):
    df[col] = df['location'].apply(lambda location: location[n])

df = df.drop('location',axis=1)
"
9744,41808,Change multiple items in a list at one time in Python,">>> lst=[0,0,0,0,0]
>>> target = [99,98]
>>> pos = [2,4]
>>> for x,y in zip(pos,target):
        lst[x] = y


>>> lst
[0, 0, 99, 0, 98]
"
8348,78390,Python search in lists of lists,"data = [['a','b'], ['a','c'], ['b','d']]
search = 'c'
for sublist in data:
    if sublist[1] == search:
        print ""Found it!"", sublist
        break
# Prints: Found it! ['a', 'c']
"
12840,43314,Save unbalanced dictionary in txt file,"my_dict = {""Polic"":(""a"",""c"",""e""), ""Batman"":(""b"",""d"")}

with open(""my/File.txt"", ""w"", encoding='utf-8') as file:
    for k,v in my_dict.items(): 
        file.write('""{}"",""{}""\n'.format(k, '"",""'.join(v)))
"
22790,17697,How to draw a matrix sparsity pattern with color code in python?,"d=Matrix.todense()
plt.imshow(d,interpolation='none',cmap='binary')
plt.colorbar()
"
28057,24384,"(Instantiating an array of Buttons, but only one works","import tkinter as tk

colors = (
    #background, #activebackground
    (""#F4C364"", ""#826232""), #tan
    (""#111111"", ""#777777""), #black
    (""#DDDDDD"", ""#E8C8A8""),  #white
)

class Tile(object):
    """""" A tile is a point on a game board where black or white pieces can be placed. 
        If there are no pieces, it remains tan.
        The basic feature is the ""core"" field which is a tkinter button. 
        when the color is changed, the button is configured to represent this.
    """"""

    def __init__(self, win, x, y):
        #States: 0=empty, 1=black, 2=white
        self.state = 0
        bg, abg = colors[self.state]

        self.core = tk.Button(win, height=2, width=3,
            bg=bg, activebackground=abg,
            command=self.cycle)
        self.core.grid(row=y, column=x)

        #self.location = x, y

    def cycle(self):
        """""" the cycle function makes the tile object actually change color,
            going between three options: black, white, or tan.
        """"""
        #cycle to the next state. 0 -> 1 -> 2 -> 0
        self.state = (self.state + 1) % 3
        bg, abg = colors[self.state]
        self.core.config(bg=bg, activebackground=abg)

        #print(self.location)


window = tk.Tk()
n = 9

board = [] 
for y in range(n):
    row = [Tile(window, x, y) for x in range(n)]
    board.append(row)

window.mainloop()
"
16233,42433,Is it possible to iterate through all nodes with py2neo,"    from py2neo import neo4j, cypher

    graph_db = neo4j.GraphDatabaseService()

    def handle_row(row):
        node = row[0]
        # do something with `node` here

    cypher.execute(graph_db, ""START z=node(*) RETURN z"", row_handler=handle_row)
"
38902,71320,Dynamically reload a class definition in Python,"def reimport_class(self, cls):
    """"""
    Reload and reimport class ""cls"".  Return the new definition of the class.
    """"""

    # Get the fully qualified name of the class.
    from twisted.python import reflect
    full_path = reflect.qual(cls)

    # Naively parse the module name and class name.
    # Can be done much better...
    match = re.match(r'(.*)\.([^\.]+)', full_path)
    module_name = match.group(1)
    class_name = match.group(2)

    # This is where the good stuff happens.
    mod = __import__(module_name, fromlist=[class_name])
    reload(mod)

    # The (reloaded definition of the) class itself is returned.
    return getattr(mod, class_name)
"
2102,30226,I extend QApplication and calling a method after exec_ does not work,"# Define a new signal called 'trigger' that has no arguments.
trigger = QtCore.pyqtSignal()

def connect_and_emit_trigger(self):
    # Connect the trigger signal to a slot.
    self.trigger.connect(self.handle_trigger)

    # Emit the signal.
    self.trigger.emit()

def handle_trigger(self):
    # Show that the slot has been called.

    print ""trigger signal received""
"
37080,12844,sort pandas dataframe based on list,"df['LSE_cat'] = pd.Categorical(
    df['LSE'], 
    categories=['Oands','Wetnds','Develd','Cn','Soys','Otherg','Wht'], 
    ordered=True
)
df.sort('LSE_cat')
Out[5]: 
   Region     LSE       North      South LSE_cat
3       3   Oands  -47.986764 -32.324991   Oands
2       2  Wetnds  -38.480206 -46.089908  Wetnds
1       1  Develd  -36.157025 -27.669988  Develd
0       0      Cn   33.330367   9.178917      Cn
5       5    Soys   34.936147   4.072872    Soys
4       4  Otherg  323.209834  28.486310  Otherg
6       6     Wht    0.983977 -14.972555     Wht
"
9024,18642,Selecting text for QLinEdit by double clicking on a item in Tablewidget,"def __init__(self, parent=None):
    ...
    ...
    self.current_line_edit = self.line_edit_1
    self.tablewidget.itemDoubleClicked.connect(self.onDoubleClick)
    self.line_edit_1.editingFinished.connect(self.onChangeLineEdit)
    self.line_edit_2.editingFinished.connect(self.onChangeLineEdit)
    self.line_edit_3.editingFinished.connect(self.onChangeLineEdit)
    ...
    ...

def onChange(self):
    self.current_line_edit = self.sender()

def onDoubleClick(self, item):
    self.current_line_edit.setText(item.text())
"
31164,25719,python: Multiply two 1d matrices in numpy,"In [2]: np.outer([1, 2, 3], [2, 3, 4, 5])
Out[2]: 
array([[ 2,  3,  4,  5],
       [ 4,  6,  8, 10],
       [ 6,  9, 12, 15]])
"
1895,83089,Accessing resource files in Python unit tests & main code,"# rootpath.py
rootpath = ""../../../""

# in your scripts
from rootpath import rootpath
datapath = os.path.join(rootpath, ""src/resources/datafile1.txt"")
"
15414,28081,Pandas: bar plot xtick frequency,"n = 10

ax = locks.plot(kind='bar', y='SUM')
ticks = ax.xaxis.get_ticklocs()
ticklabels = [l.get_text() for l in ax.xaxis.get_ticklabels()]
ax.xaxis.set_ticks(ticks[::n])
ax.xaxis.set_ticklabels(ticklabels[::n])

ax.figure.show()
"
281,62990,Python pop and hex values,">>> hex(0x52ed >> 8)
'0x52'
"
20673,46214,SQLAlchemy inheritance filter on all columns,"@classmethod
def get_all(cls, session, query):
    _filters = []
    for prop in class_mapper(cls).iterate_properties:
        if isinstance(prop, ColumnProperty):
            _col = prop.columns[0]
            _attr = getattr(cls, _cls.name)

            _filters.append(cast(_attr, String).match(query))

    result = session.query(cls)
    result = result.filter(or_(*_filters))

    # get the subclasses
    subclasses = set()
    for child in cls.__subclasses__():
        if child not in subclasses:
            subclasses.add(child)
            # join the subclass
            result = result.outerjoin(child)
            # recurse to get the columns from the subclass
            result = subclass.get_all(session, result)

    # return a query, not a result to allow for the recursion. 
    # you might need to tweak this.
    return result
"
21828,50109,"Histogram from data which is already binned, I have bins and frequency values","import matplotlib.pyplot as plt

a= [1,2,3,4,5,6,7,8,9]
b= [5,3,4,5,3,2,1,2,3]
plt.hist(a,9, weights=b)
plt.show()
"
37698,3332,read specific number from different lines in a txt file and add it to the end of each line block in txt,"INST_HT = [1.545000,
           1.335000]
lines = open('tmp.txt')
out = open('tmp2.txt', 'w')
i = -1
while True:
    try:
        line = lines.next()
    except StopIteration:
        break
    if 'slope' in line.lower():
        i += 1
        out.write(line)
        while True:
            line = lines.next()
            if 'end slope' in line.lower():
                out.write(line)
                break
            else:
                out.write('    ' + line.strip()[:-1] + ', ' + str(INST_HT[i]) + ';\n')
    else:
        out.write(line)
out.close()
"
2109,38522,Array undersampling Python,"from math import floor

def sample(input, count):
    output = []
    sample_size = float(len(input)) / count
    for i in range(count):
        output.append(input[int(floor(i * sample_size))])
    return output
"
9240,18309,Python Class elements as Function parameters,"class params:
    a = 1
    b = 2
    c = 3
    d = 4

    def __call__(self):
        r = dict()
        for attr in dir(self):
            if not attr.startswith('_'):
                r[attr] = getattr(self, attr)
        return r

p = params()
function(**p())
"
31209,67515,Python Regex: Group Backref,">>> print re.sub(r'([0-9]+) +\1', r'(\1)', ' STORE # 123  123 ')
STORE # (123) 
"
33081,31652,For loop over a range (Python 2.7 + Ifc),"import ifcopenshell

ifc_file = ifcopenshell.open('Example_A.ifc')

materials = ifc_file.by_type('IfcMaterial')

print 'There are ' + str(len(materials)) + ' different types of  materials in the file:' + '\n'

for x in range(0):
    materials = ifc_file.by_type('IfcMaterial')[x] 
    colour = ifc_file.by_type('IfcColourRgb')[x]
    styles = ifc_file.by_type('IfcStyledItem')[x]
    surfacestyles = ifc_file.by_type('IfcSurfaceStyleRendering')[x]

    #DECLARING THE VARIABLES FOR RADIANCE DEFINTION
    rad_material = materials.Name
    rad_red = colour.Red
    rad_green = colour.Green
    rad_blue = colour.Blue
    rad_specular = surfacestyles.SpecularColour
    rad_roughness = 0.1 #<- Roughness is not defined in IFC, the value of 0.1 is  merely put there as an example


    print 'RETRIEVES DATA FROM IFC FILE PRINTS THEM ACCORDING TO A RADIANCE READABLE DEFINITION'
    print ''

    print '#material name: ' + rad_material
    print '#material type: ' + 'No definition found in the specified ifc file'
    print 'void ' + ' plastic ' + rad_material
    print '0'
    print '0'
    print rad_red , rad_green, rad_blue,rad_specular[0], rad_roughness
"
14695,29024,How to view recently client created records in django admin?,"import admin_notifications
from models import Contacts
def notification():
    count = Contacts.objects.filter(status=Contacts.STATUS_NEW).count()
    if count:
        return 'You have {} new contacts <a href=""/admin/contacts/"">message</a>'.format(count)
    else:
        return ''

admin_notifications.register(notification)
"
34284,9541,Mechanize not showing FB messages form,"from selenium import webdriver
from selenium.webdriver.common.keys import Keys

driver = webdriver.Chrome()
email = raw_input(""Email: "")
password = raw_input(""Password: "")
person =raw_input(""Enter the messages link for the one you want to spam\n\
Example: https://www.facebook.com/messages/someone: "")
driver.get(""http://www.facebook.com"")
elem = driver.find_element_by_id(""email"")
elem.send_keys(email)
elem = driver.find_element_by_id(""pass"")
elem.send_keys(password)
elem.send_keys(Keys.RETURN)
driver.get(""https://facebook.com/messages/""+person)
elem = driver.find_element_by_css_selector(""div textarea.uiTextareaNoResize"")
elem.send_keys(""python test"")
elem.send_keys(Keys.RETURN)
"
21158,37341,Pandas: search multiple columns and return column with found value,"import pandas as pd

def calculate_break_level(row):
    if row.Qty >= row.BuyQty3:
        return row.BuyQty3Cost
    elif row.Qty >= row.BuyQty2:
        return row.BuyQty2Cost
    else:
        return row.BuyQty1Cost

# apply the function row-by-row by specifying axis=1
# the newly produced Line_Cost is in the last column.
df['Line_Cost'] = df.apply(calculate_break_level, axis=1)

Out[58]: 
  ProductName  Qty  LineCost  BuyQty1  BuyQty1Cost  BuyQty2  BuyQty2Cost  BuyQty3  BuyQty3Cost  Line_Cost
0     SIGN2WH   48     40.63        5        43.64       48        40.63       72        39.11      40.63
1     SIGN2BK  144     39.11        5        43.64       48        40.63       72        39.11      39.11
"
20561,59275,Interlocking Two Strings in Python ProblemSetQuestion (Self-Taught),"def interlock(s1, s2):

    r = 1
    l1 = list(s1)
    l2 = list(s2)
    inters = ''
    if len(s2) == len(s1):        
        for i in range(len(s1)):
            inters += s1[i]
            inters += s2[i]

    elif len(s1) < len(s2):
        for i in range(len(s1)):
            inters += s2[i]
            inters += s1[i]
            r = i+1
        inters += s2[r]

    elif len(s2) < len(s1):
        for i in range(len(s2)):
            inters += s1[i]
            inters += s2[i]
            r = i+1

        inters += s1[r]

    else:
        pass

    return inters


a = interlock('abalone','hammer')
print (a)
print (a[::2])
print (a[1::2])
a = interlock('hammer','abalone')
print (a)
print (a[::2])
print (a[1::2])
a = interlock('ab','siy')
print (a)
"
21740,82147,Writing dicitonary to JSON using Python,"import json
import sys
import string
from time import strftime

scan_results = open(""scan_results.txt"", ""r"")
saved = sys.stdout
f = file('report.json', 'wb')
sys.stdout = f
dict2 = {} #Create one output dict
for line in scan_results:
    if "".jpg"" in line:
        lst = []
        result = line.split('\\')
        result_split = result[5].split(' ')
        filename = result_split[0]
        raw_status = result_split[3]
        if ""OK"" in raw_status:
            status = ""Okay""
            status_code = ""0""
        dict2[filename] = {'FileName': filename, 'DateTime': strftime(""%Y-%m-%d %H:%M:%S""), 'statusCode': status_code, 'Description': status} #Add to that dict.
print json.dumps(dict2) #Print it out at the end.
sys.stdout = saved
f.close()
print ""JSON report written""
"
29125,2923,Unpacking values of current function value and array from fmin scipy optimisation,"def getMaxDeflection(self):
    a = s.fmin(lambda x: -self.getTotalDeflection(x), 0, full_output=1)
    return a[1], a[0][0]
"
31144,30702,Python: how to pass a index range as parameter,"a = slice(0, 100)
"
37893,77843,Python: Class Inheritance and Incoming Arguments,"class Base(dict):
    def __init__(self, *args, **kwargs):
        super(Base, self).__init__(*args, **kwargs)
        self.setdefault('id', -1)
        self.setdefault('name', None)

class ClassA(Base):
    """"""ClassA is a class inherited from a Base class.""""""    
    def __init__(self, *args, **kwargs):
        if not (args or kwargs):
             raise Exception('you need to give me *something*!')
        super(ClassA, self).__init__(*args, **kwargs)
        self.setdefault('win', None)
        self.setdefault('mac', None)
"
38598,6420,"Get Django Auth ""User"" id upon Form Submission","def AccountHome(request):
    # I recommend using the login required decorator instead but this is ok
    if request.user.is_anonymous():
        return HttpResponseRedirect('/Login/')

    # create a tld instance for the form, with the user set
    tld = Tld(FKtoClient=request.user)
    form = SubmitDomain(data=request.POST or None, instance=tld) # A form bound to the POST data, using the tld instance

    if request.method == 'POST': # If the form has been submitted...
        if form.is_valid(): # If form input passes initial validation...
            domainNm = form.cleaned_data['domainNm']
            form.save() #save cleaned data to the db from dictionary

            # don't use a try..except block here, it shouldn't raise an exception
            return HttpResponseRedirect('/Processscan/?domainNm=%s' % domainNm)
    # No need to create another form here, because you are using the request.POST or None trick
    # else:
    #    form = SubmitDomain()

    tld_set = request.user.tld_set.all()

    return render(request, 'VA/account/accounthome.html', {
         'tld_set':tld_set, 'form' : form
    })
"
19826,20314,Method of expanding list of dictionaries into list of formatted strings,"def format_dict(d):
    key = d.keys()[0]
    return '--%s=%s' % (key, d[key])

ex = [{'a':'3'}, {'b':'4'}]
print ' '.join(map(format_dict, ex)) # --a=3 --b=4
"
18024,452,Python buffer copy speed - why is array slower than string?,"''.join(buf)
"
28372,36703,If Statement - Is this a string?,">>> isinstance(""foo"", str) #Use basestring in py2.x
True
>>> isinstance([1, 2, 3], list)
True
"
682,55269,"How can I recognize the x in the string ""x-ring closing10.00x10.00mm"" and replace it with a space",">>> s = '1x2X3, 10x10x12, 25X35X4 G, XXX expert, 3x world champ, great x2'
>>> import re
>>> re.sub(r'(?<=\d)x(?=\d)', ' ', s, flags=re.I)
'1 2 3, 10 10 12, 25 35 4 G, XXX expert, 3x world champ, great x2'
"
8923,41465,Writing raw IP data to an interface (linux),"#!/usr/bin/env python
import socket
s = socket.socket(socket.AF_PACKET, socket.SOCK_RAW)
s.bind((""ethX"", 0))

blocksize = 100;
with open('filename.txt') as fh:
    while True:
        block = fh.read(blocksize)
        if block == """": break  #EOF
        s.send(block)
"
27377,75255,sleekxmpp threaded authentication,"class ChatClient(ClientXMPP):
    def __init__(self, ...):
        ...
        self.auth_queue = queue.Queue()
        self.add_event_handler('no_auth', self.failed)

    def start(self, event):
        self.auth_queue.put('success')
        ...

    def failed(self, event):
        self.auth_queue.put('failed')


def authenticate(username, password, server):
    xmppuser = username + '@' + server
    passTester = ChatClient(xmppuser, password)
    try:
        result = passTester.auth_queue.get(timeout=10)
    except queue.Empty:
        result = 'failed'
    passTester.disconnect()
    return result == 'success'
"
36184,77679,pandas series.sum() how to skip some indexes,"res.drop(s).sum()
"
14528,4340,How to merge column data of the same value and sum its specific data,"In [202]:
df.groupby('DATE', as_index=False).sum()

Out[202]:
     DATE     78     79    80
0  201107  12.49  10.49  8.49
1  201108  14.55  11.55  8.55
"
23931,41556,Getting longest subsequence in sparse list of values,"#!/usr/bin/env python2
from itertools import groupby

data = [1441831770.0, 1441831780.0, 1441831790.0, ...]

longest = []
for k, g in groupby(enumerate(data), lambda (i,x): i*10 - int(x)):
    longest = max(longest, [x for _, x in g], key=len)
print longest
"
25930,15280,Distribute multiple processes over different cores in python,"""""""Convert DICOM files to PNG format, remove blank areas. The blank erea
   removal is based on the image size of a Philips flat detector. The image
   goes from 2048x2048 pixels to 1574x2048 pixels.""""""

import os
import sys
import subprocess
from multiprocessing import Pool, Lock

globallock = Lock()

def checkfor(args):
    """"""Make sure that a program necessary for using this script is
    available.""""""
    if isinstance(args, str):
        args = args.split()
    try:
        f = open('/dev/null')
        subprocess.call(args, stderr=subprocess.STDOUT, stdout=f)
        f.close()
    except:
        print ""Required program '{}' not found! exiting."".format(args[0])
        sys.exit(1)

def processfile(fname):
    """"""Use the convert(1) program from the ImageMagick suite to convert the
       image and crop it.""""""
    size = '1574x2048'
    args = ['convert', fname, '-units', 'PixelsPerInch', '-density', '300',
            '-crop', size+'+232+0', '-page', size+'+0+0', fname+'.png']
    rv = subprocess.call(args)
    globallock.acquire()
    if rv != 0:
        print ""Error '{}' when processing file '{}'."".format(rv, fname)
    else:
        print ""File '{}' processed."".format(fname)
    globallock.release()

def main(argv):
    """"""Main program.

    Keyword arguments:
    argv -- command line arguments
    """"""
    if len(argv) == 1:
        path, binary = os.path.split(argv[0])
        print ""Usage: {} [file ...]"".format(binary)
        sys.exit(0)
    checkfor('convert')
    p = Pool()
    p.map(processfile, argv[1:])
    p.close()


## This is the main program ##
if __name__ == '__main__':
    main(sys.argv)
"
30752,55600,How to catch POST using WSGIREF,"def app(environ, start_response):
    path    = environ['PATH_INFO']
    method  = environ['REQUEST_METHOD']
    if method == 'POST':
        if path.startswith('/test'):
            try:
                request_body_size = int(environ['CONTENT_LENGTH'])
                request_body = environ['wsgi.input'].read(request_body_size)
            except (TypeError, ValueError):
                request_body = ""0""
            try:
                response_body = str(request_body)
            except:
                response_body = ""error""
            status = '200 OK'
            headers = [('Content-type', 'text/plain')]
            start_response(status, headers)
            return [response_body]
    else:
        response_body = open('test.html').read()
        status = '200 OK'
        headers = [('Content-type', 'text/html'),
                    ('Content-Length', str(len(response_body)))]
        start_response(status, headers)
        return [response_body]
"
5041,41928,Best Way to Import Other Modules in Python when PYTHONPATH Cannot Be Modified?,"if __name__ == '__main__':

    import sys   
    from package import app

    sys.exit(app.run())
"
23819,17052,How to construct a list of grouped item based on another list in python?,"def group(l, window, size):
    return [l[index:index + size] for index in xrange(0, len(l) - 1, window)]
"
21391,28922,How to save a python array with numbers of strings to a file that is human readable,"mat = numpy.random.rand(10,10)
f = open('myFile','a')
m,n = mat.shape
for i in range(0,m):
    for j in range(0,n):
        f.writelines(repr(round(mat[i,j],4)).rjust(7))
f.writelines('\n')

f.close()
"
16220,61893,how to check if PyQt window exists,"from PyQt4 import QtGui, QtCore

class Window(QtGui.QWidget):
    def __init__(self):
        QtGui.QWidget.__init__(self)
        self.button = QtGui.QPushButton('ShowTime!', self)
        self.button.clicked.connect(self.handleButton)
        layout = QtGui.QVBoxLayout(self)
        layout.addWidget(self.button)
        self._dialog = None

    def handleButton(self):
        if self._dialog is None:
            self._dialog = QtGui.QMessageBox(self)
            self._dialog.setWindowTitle('Messages')
            self._dialog.setModal(False)
            pos = self.pos()
            pos.setX(pos.x() + self.width() + 10)
            self._dialog.move(pos)
        self._dialog.setText(
            'The time is: %s' % QtCore.QTime.currentTime().toString())
        self._dialog.show()

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.show()
    sys.exit(app.exec_())
"
23256,25979,index() of last occurrence in list in python,"start = len(listData) - listData[::-1].index(datum)
"
26707,49832,multiprocessing pool.map call functions in certain order,"chunksize, extra = divmod(len(iterable), len(self._pool) * 4)
if extra:
  chunksize += 1
"
24059,44082,Python: Difference of 2 datetimes in months,"from calendar import monthrange
from datetime import datetime, timedelta

def monthdelta(d1, d2):
    delta = 0
    while True:
        mdays = monthrange(d1.year, d1.month)[1]
        d1 += timedelta(days=mdays)
        if d1 <= d2:
            delta += 1
        else:
            break
    return delta
"
9328,43267,Flask HTML Escape Decorator,"import cgi


def html_escape(func):
    def wrapped(*args, **kwargs):
        return cgi.escape(func(*args, **kwargs))
    return wrapped


@html_escape
def index():
    return ""<html></html>""

print index()
"
21979,13117,Python - Beautiful Soup OR condition in soup.find_all(....),"def check_id(tag):
    valid_ids = ['priceblock_ourprice','priceblock_saleprice','priceblock_dealprice']
    if tag.has_attr('id'):
        return tag['id'] in valid_ids
    else:
        return False

m = soup1.find_all(check_id)
"
7929,81899,Pandas DataFrame Matplotlib BoxPlot Boxes,"import numpy as np
import pandas
import matplotlib.pyplot as plt
from matplotlib.finance import candlestick, candlestick2
import matplotlib.dates as mdates
from pandas.io.data import DataReader

# get daily stock price data from yahoo finance for S&P500
SP = DataReader(""^GSPC"", ""yahoo"")
SP.reset_index(inplace=True)
print(SP.columns)
SP['Date2'] = SP['Date'].apply(lambda date: mdates.date2num(date.to_pydatetime()))
fig, ax = plt.subplots()
csticks = candlestick(ax, SP[['Date2', 'Open', 'Close', 'High', 'Low']].values)
plt.show()
"
4412,41232,Argument parser for a word count and/or line count program,"if args.words or not arg.lines:
    print ""Words in a file: {}"" .format(print_words(args.filename))

if args.lines or not arg.words:
    print ""Lines in a file: {}"" .format(print_lines(args.filename))
"
4994,79349,frames per seconds,"from datetime import datetime
import time

t = datetime.now()[5] # milliseconds
dt = # do some calculation for time needed to sleep
time.sleep(dt) # sleep in seconds
"
25277,8561,"Python, nested loops, matching and performance","def match_strings(lastname, listofnames):
    firstCaseMatched = [name for name in listofnames if lastname[0] == name[0]]
    if len(firstCaseMatched):
        matchedidx = [index for index, ame in enumerate(firstCaseMatched) if Levenshtein.distance(lastname, name) < 2]
        match = len(matchedidx)
    else:
        match = 0
    if match == 1:
        newnamelist = [i for j, i in enumerate(listofnames) if j not in matchedidx]
        return 1, newnamelist
    return 0, listofnames
"
28866,80397,AssertionError: View function mapping is overwriting an existing endpoint function: main,"app.add_url_rule('/',
                 view_func=Main.as_view('main'),
                 methods = ['GET'])

app.add_url_rule('/<page>/',
                 view_func=Main.as_view('page'),
                 methods = ['GET'])
"
38663,72115,Code ignoring my if statement? Unsure why this code isn't working,"if (valueRed > 140 or valueBlue > 140 or valueGreen > 140):
    setCoor(pixel, white)
else:
    setColor(pixel, black)
"
18739,62979,Find all occurrences of a divided substring in a string,"from itertools import combinations
def sub_s(st,word):
   all_s = (x for x in st if x in word)
   return len([x for x in (combinations(all_s, len(word))) if """".join(x) == word] )
"
35434,20506,SQLAlchemy - don't enforce foreign key constraint on a relationship,"from sqlalchemy import create_engine, Column, Integer, String, ForeignKey
from sqlalchemy.orm import scoped_session, sessionmaker, relationship
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()
engine = create_engine('sqlite:///:memory:', echo=False)

Session = sessionmaker(bind=engine)

class TestAuditLog(Base):
    __tablename__ = 'TEST_AUDIT_LOG'
    id = Column(Integer, primary_key=True)
    comment = Column(String)

    entityId = Column('TEST_AUDIT_LOG', Integer, nullable=False,
                     # POINT-1
                     #ForeignKey('TEST.TS_TEST_ID', ondelete=""CASCADE""),
                     )

    def __init__(self, comment):
        self.comment = comment

    def __repr__(self):
        return ""<TestAuditLog(id=%s entityId=%s, comment=%s)>"" % (self.id, self.entityId, self.comment)

class Test(Base):
    __tablename__ = 'TEST'
    id = Column('TS_TEST_ID', Integer, primary_key=True)
    name = Column(String)

    audits = relationship(TestAuditLog, backref='test',
                # POINT-2
                primaryjoin=""Test.id==TestAuditLog.entityId"",
                foreign_keys=[TestAuditLog.__table__.c.TEST_AUDIT_LOG],
                # POINT-3
                passive_deletes='all',
            )

    def __init__(self, name):
        self.name = name

    def __repr__(self):
        return ""<Test(id=%s, name=%s)>"" % (self.id, self.name)


Base.metadata.create_all(engine)

###################
## tests
session = Session()

# create test data
tests = [Test(""test-"" + str(i)) for i in range(3)]
_cnt = 0
for _t in tests:
    for __ in range(2):
        _t.audits.append(TestAuditLog(""comment-"" + str(_cnt)))
        _cnt += 1
session.add_all(tests)
session.commit()
session.expunge_all()
print '-'*80

# check test data, delete one Test
t1 = session.query(Test).get(1)
print ""t: "", t1
print ""t.a: "", t1.audits
session.delete(t1)
session.commit()
session.expunge_all()
print '-'*80

# check that audits are still in the DB for deleted Test
t1 = session.query(Test).get(1)
assert t1 is None
_q = session.query(TestAuditLog).filter(TestAuditLog.entityId == 1)
_r = _q.all()
assert len(_r) == 2
for _a in _r:
    print _a
"
14964,81919,How can I view a text representation of an lxml element?,">>> root = etree.XML('<root><a><b/></a></root>')

>>> etree.tostring(root)
b'<root><a><b/></a></root>'

>>> print(etree.tostring(root, xml_declaration=True))
<?xml version='1.0' encoding='ASCII'?>
<root><a><b/></a></root>

>>> print(etree.tostring(root, encoding='iso-8859-1'))
<?xml version='1.0' encoding='iso-8859-1'?>
<root><a><b/></a></root>

>>> print(etree.tostring(root, pretty_print=True))
<root>
  <a>
    <b/>
  </a>
</root>
"
36741,7801,Name of files opened by a process in window?,"   import psutil
   p = psutil.Process(os.getpid()) # or PID of process
   p.open_files()
"
9013,84599,encode Netbios name python,"encoded_name = ''.join([chr((ord(c)>>4) + ord('A'))
                        + chr((ord(c)&0xF) + ord('A')) for c in original_name])
"
28749,76840,get all available buckets and print but only with bucket name,"import boto
from boto.s3.connection import S3Connection
s3 = boto.connect_s3()  
buckets = s3.get_all_buckets() 
for key in buckets:
    print key.name
"
25714,19127,Write a function named spelling_corrector.,"def replace_1(bad:str, good:str) -> bool:
    """"""Return True if bad can be converted to good by replacing 1 letter.
    """"""
    if len(bad) != len(good):
        return False

    changes = 0
    for i,ch in enumerate(bad):
        if ch != good[i]:
            return bad[i+1:] == good[i+1:]

    return False

def insert_1(bad:str, good:str) -> bool:
    """"""Return True if bad can be converted to good by inserting 1 letter.
    """"""
    if len(bad) != len(good) - 1:
        return False

    for i,ch in enumerate(bad):
        if ch != good[i]:
            return bad[i:] == good[i+1:]

    # At this point, all of bad matches first part of good. So it's an
    # append of the last character.
    return True

def delete_1(bad:str, good:str) -> bool:
    """"""Return True if bad can be converted to good by deleting 1 letter.
    """"""
    if len(bad) != len(good) + 1:
        return False
    return insert_1(good, bad)


def correction(word:str, correct_spells:list) -> str:
    if len(word) < 3:
        return word
    if word in correct_spells:
        return word
    for good in correct_spells:
        if replace_1(word, good):
            return good
        if insert_1(word, good):
            return good
        if delete_1(word, good):
            return good

    return word

def spelling_corrector(sentence:str, correct_spells:list) -> str:
    words = sentence.strip().lower().split()
    correct_lower = [cs.lower() for cs in correct_spells]
    result = [correction(w, correct_lower) for w in words]
    return ' '.join(result)

tests = (
    ('Thes is the Firs cas', ""that first case car"", 'thes is the first case'),
    ('programming is fan and easy', ""programming this fun easy hook"", 'programming is fun and easy'),
    ('Thes is vary essy', ""this is very very easy"", 'this is very easy'),
    ('Wee lpve Python', ""we Live In Python"", 'we live python'),
)

if __name__ == ""__main__"":
    for t in tests:
        correct = t[1].split()
        print(t[0], ""|"", t[1], ""|"", t[2])
        print(""Result:"", spelling_corrector(t[0], correct))
        assert spelling_corrector(t[0], correct) == t[2]
"
19383,26628,Python/Numpy - Cross Product of Matching Rows in Two Arrays,">>> a = np.random.random((20,3))
>>> b = np.random.random((20,3))
>>> c = np.cross(a,b)
>>> c[0], np.cross(a[0], b[0])
(array([-0.02469147,  0.52341148, -0.65514102]), array([-0.02469147,  0.52341148, -0.65514102]))
>>> c[1], np.cross(a[1], b[1])
(array([-0.0733347 , -0.32691093,  0.40987079]), array([-0.0733347 , -0.32691093,  0.40987079]))
>>> all((c[i] == np.cross(a[i], b[i])).all() for i in range(len(c)))
True
"
14375,60076,Selecting data from few relational tables based on few conditions in Django,"objects = Entity.objects.filter(active=True, 
                                key__is_valid=True, 
                                user__profile__profile_id__isnull=False)
"
33696,13226,pyspark matrix accumulator,"def addInPlace(self, mAdd, lIndex):
    if type(lIndex) == list:
        mAdd[lIndex[0], lIndex[1]] += 1
    else:
        mAdd += lIndex
    return mAdd
"
7472,58488,drawing a scatter graph in matlibplot in wxpython,"import os
import wx
import numpy as np
import matplotlib
matplotlib.use('WXAgg')
import matplotlib.figure as figure
import matplotlib.backends.backend_wxagg as wxagg


class MyFrame(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None, -1, 'Title')
        self.create_menu()
        self.create_main_panel()
        self.draw_figure()

    def create_menu(self):
        self.menubar = wx.MenuBar()

        menu_file = wx.Menu()
        m_exit = menu_file.Append(-1, ""&Quit\tCtrl-Q"", ""Quit"")
        self.Bind(wx.EVT_MENU, self.on_exit, m_exit)
        self.menubar.Append(menu_file, ""&File"")
        self.SetMenuBar(self.menubar)

    def create_main_panel(self):
        """""" Creates the main panel with all the controls on it:
             * mpl canvas
             * mpl navigation toolbar
             * Control panel for interaction
        """"""
        self.panel = wx.Panel(self)

        # Create the mpl Figure and FigCanvas objects.
        # 5x4 inches, 100 dots-per-inch
        #
        self.dpi = 100
        self.fig = figure.Figure((5.0, 4.0), dpi=self.dpi)
        self.canvas = wxagg.FigureCanvasWxAgg(self.panel, -1, self.fig)
        self.axes = self.fig.add_subplot(111)

        # Create the navigation toolbar, tied to the canvas
        #
        self.toolbar = wxagg.NavigationToolbar2WxAgg(self.canvas)

        #
        # Layout with box sizers
        #
        self.vbox = wx.BoxSizer(wx.VERTICAL)
        self.vbox.Add(self.canvas, 1, wx.LEFT | wx.TOP | wx.GROW)
        self.vbox.AddSpacer(25)
        self.vbox.Add(self.toolbar, 0, wx.EXPAND)

        self.panel.SetSizer(self.vbox)
        self.vbox.Fit(self)

    def draw_figure(self):
        """""" Redraws the figure
        """"""
        # clear the axes and redraw the plot anew
        #
        self.axes.clear()
        x, y = np.random.random((10, 2)).T
        self.axes.scatter(x, y)

        self.canvas.draw()

    def on_exit(self, event):
        self.Destroy()


if __name__ == '__main__':
    app = wx.PySimpleApp()
    app.frame = MyFrame()
    app.frame.Show()
    app.MainLoop()
"
12228,4656,Why is numpy much slower than matlab on a digitize example?,"static npy_intp
incr_slot_(double x, double *bins, npy_intp lbins)
{
    npy_intp i;

    for ( i = 0; i < lbins; i ++ ) {
        if ( x < bins [i] ) {
            return i;
        }
    }
    return lbins;
}

static npy_intp
decr_slot_(double x, double * bins, npy_intp lbins)
{
    npy_intp i;

    for ( i = lbins - 1; i >= 0; i -- ) {
        if (x < bins [i]) {
            return i + 1;
        }
    }
    return 0;
}
"
17267,9111,Dynamically set deep python dict,"def create_deep_dict(value, layers):

    orig_data = {}
    data = orig_data
    last_layer = layers[-1]

    for layer in layers[:-1]:
        data[layer] = {}
        data = data[layer]

    data[last_layer] = value

    return orig_data

def deep_dict_value(data, layers):

    for layer in layers:
        data = data[layer]

    return data
"
33514,48366,Python fastest way to read a large number of small files into memory?,"import glob
for file in glob.iglob(""*.html""):
    with open(file) as f:
        a = f.read()
"
20047,41390,String Counts from dynamic data sets in Python,"# this is a generator (an iterable) which only outputs a 
# line containing ""DNS"" if it was requested in an iteration
# furthermore, the way i use a generator here is called ""list comprehension""
dns_lines = ( line for line in open('/home/user/file','r') if ""DNS"" in line )

# the with-statement uses python's magic-methods to take care of 
# opening and closing the file
with open(""output"", 'w') as f:
    # enumerate works on generators
    # it enumerates each item that is iterated over
    # a tuple is returned (count, line)
    for count_line in enumerate(dns_lines):
        f.write(""%d - %s"" % (count_line))
"
18728,79514,python to search within pdf file,"import string
import os
import re

def pdf_find_str(pdfname, str):
  f = open(pdfname, ""rb"")

  # read the file CHUNK_SIZE chars at a time, keeping last KEEP_SIZE chars
  CHUNK_SIZE = 2*1024*1024
  KEEP_SIZE = 3 * len(str) # each char might be in #ff form
  hexvals = ""0123456789abcdef""

  ichunk = removed = 0
  chunk = f.read(CHUNK_SIZE)
  while len(chunk) > 0:

    # Loop to find all #'s and replace them with the character they represent.
    hpos = chunk.find('#')
    while hpos != -1:
      if len(chunk)-hpos >= 3 and chunk[hpos+1] in hexvals and chunk[hpos+2] in hexvals:
        hex = int(chunk[hpos+1:hpos+3], 16)  # next two characters are int value
        ch = chr(hex).lower()
        if ch in str: # avoid doing this if ch is not in str
          chunk = chunk[:hpos] + ch + chunk[hpos+3:]
          removed += 2
      hpos = chunk.find('#', hpos+1)

    m = re.search(str, chunk, re.I)
    if m:
      return ichunk * (CHUNK_SIZE-KEEP_SIZE) + m.start()

    # Transfer last KEEP_SIZE characters to beginning for next round of
    # testing since our string may span chunks.
    next_chunk = f.read(CHUNK_SIZE - KEEP_SIZE)
    if len(next_chunk) == 0: break
    chunk = chunk[-KEEP_SIZE:] + next_chunk

    ichunk += 1

  f.close()
  return -1

# On one file:
#if pdf_find_str(""Consciousness Explained.pdf"", ""javascript"") != -1:
#  print 'Contains ""javascript""'

# Recursively on a directory:
for root, dirs, files in os.walk(""Books""):
  for file in files:
    if file.endswith("".pdf""):
      position = pdf_find_str(root + ""/"" + file, ""javascript"")
      if position != -1:
        print file, ""("", position, "")""
# Note: position returned by pdf_find_str does not account for removed
# characters from #ff representations (if any).
"
651,38601,An algorithm to generate subsets of a set satisfying certian conditions,"GetAllSubsets(List objects) {
    List generated = {};
    GetAllSubsets(generated, [], objects);
    return generated;
}

GetAllSubsets(List subsetGenerated, List objectFixed, List objectsToFix) {
    GetAllSubsets(subsetGenerated, objectFixed, objectsToFix.sublist(1, objectsToFix.length());
    if (satisfy(toCheck = objectsFixed.add(objectsToFix.get(0)))) {
        subsetGenerated.add(toCheck);
        GetAllSubsets(subsetGenerated, toCheck, objectsToFix.sublist(1, objectsToFix.length());
    }
}
"
3703,57347,How to count the comment lines in a java file?,"import re

comments = re.findall('#.*?\n', allLines)
for item in re.findall('/\*.?*\*/', allLines):
    for row in item.split('\n'):
        comments.append(row)
print(len(comments))
"
10172,79420,How to save each letter while the while loop is running,"word = raw_input('Enter a word: ')
word1 = 0
for i in range(0,len(word)) :
    if word[i] in ['a','e','i','u','A','E','I','O','o','U']:
        word1=i
        break
print word[word1+1:]+word[:word1]+word[word1]
"
37998,3698,iterate dictionary multiple values by keys in python,">>> def comp(old_dict, new_dict):
...     for key, old_val in old_dict.items():
...         new_val = new_dict[key]  # warning: to be used on keys in both dict
...         print 'evolutions for', key
...         print 'new content:', [x for x in new_val if x not in old_val]
...         print 'removed content:', [x for x in old_val if x not in new_val]

# now testing on a simple example
>>> o = {'key1': ['a', 'b', 'c']}
>>> n = {'key1': ['b', 'c', 'd']}
>>> comp(o, n)
evolutions for key1
new content: ['d']
removed content: ['a']
"
27622,48788,Applying matrix product in specific pandas columns,"import numpy as np
import pandas as pd

DC = np.random.randn(3, 3)
df = pd.DataFrame(np.random.randn(1000, 10))
df2 = df.copy()
df[[4,5,6]] = np.dot(DC, df[[4,5,6]].values.T).T

def rotate(vector):
        return np.dot(DC, vector)
df2[[4,5,6]] = df2[[4,5,6]].apply(rotate, axis='columns')
df.equals(df2)
"
13495,37066,How to retrieve data from a iframe on a HTTPS secured site with a login,"class scraper():
    def somefunc(self):
        self.host = ""intranet.ku.dk""
        self.url = ""https://intranet.ku.dk/Selvbetjening/Sider/default.aspx""
        self.data = urllib.urlencode(postDataDict)
        self.headers = {   #You can fill these values by looking into what the browser sends.
            'Accept': 'text/html; */*',
            'Accept-Language': '',
            'Accept-Encoding': 'identity',
            'Connection': 'keep-alive',
            'Content-Type': 'application/x-www-form-urlencoded'}
        response = makeRequest(host,url,data)
        if (response.status == 302):
            url = '/'+response.getheader(""Location"").split('/')[3]
            response = makeRequest(host,url,{})

    def makeRequest(self,host,url,data):
        cookies = ''
        for key in self.cookies:
            cookies = cookies + key + '=' + self.cookies[key] + '; '
        self.headers['Cookie'] = cookies
        conn = httplib.HTTPSConnection(host)
        conn.request(""POST"", url, data, self.headers)
        response = conn.getresponse()
        self.saveCookies(response.getheader(""Set-Cookie""))
        responseVal = response.read()
        conn.close()
        self.headers['Referer'] = fullUrl #setting header for next request
        return response

    def saveCookies(self,cookies):
        if cookies is not None:
            values = cookies.split()
            for value in values:
                parts = value.split('=')
                if(len(parts) > 1):
                    if((parts[0] != 'expires') and (parts[0] != 'Max-Age') and (parts[0] != 'Path') and (parts[0] != 'path') and (parts[0] != 'Domain')):
                        self.cookies[parts[0]] = parts[1].rstrip(';')
"
39791,18922,python pyglet on_mouse_press,"button_texture = pyglet.image.load('button.png')
button_sprite = pyglet.sprite.Sprite(button_texture, x=135, y=window.height-65)

def on_mouse_press(x, y, button, modifiers):
   if x > button_sprite.x and x < (button_sprite.x + button_sprite.width):
      if y > button_sprite.y and y < (button_sprite.y + button_sprite.height):
         run_program()
"
15950,34107,BeautifulSoup - check if elements have specific class,"for node in soup.find_all(attrs={""class"": re.compile(r'my_class(1|2)')}):
    print(node)
"
25509,48768,How to store list of tuples in Django model?,"class LanguagePair(models.Model):
   from_language = models.CharField(max_length=220)
   to_language = models.CharField(max_length=220)

class Translator(models.Model):
   languages = models.ManyToManyField('LanguagePair')
   ...
"
9740,51951,Compare unicode to non-unicode strings (spanish),">>> ""español"".decode('utf-8')
u'espa\xf1ol'
"
5067,12859,"Zip, Encrypted, Gziped files with Python","zlib.decompress(inf, 16+zlib.MAX_WBITS)
"
25434,69016,How to write a legend using dictionary keys?,"from matplotlib.pyplot import cm
import matplotlib.pyplot as plt
import numpy as np


dictMy = {'apple' : [[0, 1], [0, 2], [3, 2]], 'pear' : [[2, 3], [3, 5], [0, 2]], 'peach' : [[2, 5], [3, 8], [0, 0]]}
color=iter(cm.rainbow(np.linspace(0,1,len(dictMy))))

for key in dictMy:
    curLabel = key
    c=next(color)
    for idx, item in enumerate(dictMy[key]):
        x = item[0]
        y = item[1]
        if idx == 0:
            plt.scatter(x, y, c=c, label=key)
        else:
            plt.scatter(x, y, c=c)

plt.legend()
plt.show()
"
19864,59765,Sorting numpy lists,"import numpy as np

l = np.array([[1, 3], [5, 6], [7, 2], [9, 9]])

ind = np.lexsort((l[:,0], l.sum(axis=1)))

sorted_l = l[ind]
"
24001,56431,Python: remove lots of items from a list,"myList = filter(lambda x: myDict.get(x[1], None) != x[0], myList)
"
16638,33257,First program using Functions,"#!/usr/bin/env python

from sys import argv

def average_values(n1, n2): 
    res = 0.5 * (n1 + n2)
    return res


script, file_1 = argv

print ""Hello my name is Lenard or, as my creator called me, %s. \
You have been instructed to do this:\n"" % script

txt = open(file_1)
print txt.read()
txt.close()    

print ""The results will be copied to a new Text document but they will also \
be printed at the end of the program, thanks for your preference!""
n1 = int(raw_input(""Introduce Number 1, please: ""))
n2 = int(raw_input(""Introduce Number 2, please: ""))

res = average_values(n1, n2)

fname = 'Results.txt'
file_sample = open(fname, 'w')
file_sample.write(str(res))
file_sample.close()

print ""Here are the results:..."" 
print res

file_sample = open(fname, 'r')
print file_sample.read()
file_sample.close()
"
5380,46537,Pandas - List out data columns in new columns using Groupby,"cities = df.groupby('ID')['City'].apply(lambda x: pd.Series([city for city in x])).unstack()

         0    1
ID             
234x  Lima  Rio
333x   NYC   SF
342x  Rica  NaN
"
16391,8120,Regex version of python string,"rr = r'''(?xi)
        (r|u|ru|ur|)
        (
            ''\' (\\. | [\s\S])*? ''\'
            |
            """""" (\\. | [\s\S])*? """"""
            |
            ' (\\. | [^'\n])* '
            |
            "" (\\. | [^""\n])* ""
        )
'''
"
23673,38848,wxPython change mouse cursor to notify a long running operation,"import wx

########################################################################
class MyForm(wx.Frame):

    #----------------------------------------------------------------------
    def __init__(self):
        wx.Frame.__init__(self, None, wx.ID_ANY, ""Tutorial"")

        # Add a self.panel so it looks the correct on all platforms
        self.panel = wx.Panel(self, wx.ID_ANY)

        btn = wx.Button(self.panel, label=""Change Cursor"")
        btn.Bind(wx.EVT_BUTTON, self.changeCursor)
        sizer = wx.BoxSizer(wx.HORIZONTAL)
        sizer.Add(btn)
        self.panel.SetSizer(sizer)

    #----------------------------------------------------------------------
    def changeCursor(self, event):
        """"""""""""
        myCursor= wx.StockCursor(wx.CURSOR_WAIT)
        self.panel.SetCursor(myCursor)


#----------------------------------------------------------------------
# Run the program
if __name__ == ""__main__"":
    app = wx.PySimpleApp()
    frame = MyForm().Show()
    app.MainLoop()
"
17255,59039,IOError: [Errno 2] No such file or directory,"import os
for path, dirs, files in os.walk('FDF\FDF'):
    for file in files:
        print file
        filepath = os.path.join(path, file)
        print filepath
        fdf = open(filepath, ""r"")
"
1706,27177,Save figure with clip box from another figure,"import matplotlib.pyplot as plt
import numpy as np

x=np.linspace(0,1,201)
y1=x**2
y2=np.sin(x)

fig = plt.figure()

a = fig.add_subplot(211)

a.plot(x,y1, label='y1')

lgd1 = a.legend(bbox_to_anchor = (1.27,1), borderaxespad=0.)

a = fig.add_subplot(212)
a.plot(x,y2)

fig.savefig('fig',bbox_extra_artists=(lgd1,),bbox_inches='tight')
"
26131,23520,Python: Is there a one line script to title case strings except for strings that start with a digit?,"' '.join([word.capitalize() for word in your_string.split(' ')])
"
8640,1216,"Plotting to 1 figure using multiple functions with Matplotlib, Python","import matplotlib.pyplot as plt    

a = [1,2,3]
b = [3,2,1]

def func1(x):
    plt.plot(x)

def func2(x):
    plt.plot(x)

fig = plt.figure()
func1(a)
func2(b)
"
1644,24060,How can I select all of the Sundays for a year using Python?,"from datetime import date, timedelta

def allsundays(year):
   d = date(year, 1, 1)                    # January 1st
   d += timedelta(days = 6 - d.weekday())  # First Sunday
   while d.year == year:
      yield d
      d += timedelta(days = 7)

for d in allsundays(2010):
   print d
"
29713,63100,Init screen in kv on button release using ScreenManager,"class DictScreen(Screen):
   category_selected = ObjectProperty(None)

   def on_category_selected(self, instance, value):
      category_selected = value
      self.clear_widgets()
      self.add_widget(Button(text=category_selected.name))
"
16875,17476,Renaming multiple images with .rename and .endswith,"import os
import re
patt = r'RJ_\d\d\d'

user_profile = os.environ['USERPROFILE']
path = os.path.join(user_profile, ""Desktop"", ""Working"")
image_files = os.listdir(path)

for filename in image_files:
    flds = filename.split('.')
    try:
        frag = flds[2]
    except IndexError:
        continue
    if re.match(patt, flds[2]):
        from_name = os.path.join(path, filename)
        to_name = '.'.join([flds[0], flds[1], 'RJ_500', 'jpg'])
        os.rename(from_name, os.path.join(path, to_name))
"
26160,72445,"Matlab, Python: Fixing colormap to specified values","imagesc(x,[0 8]);
"
4287,22706,Iterating over xml document,"import xml.etree.ElementTree as ET

data = {}
tree = ET.parse('test.xml')
root = tree.getroot()

for entry in root.iter('entry'):
    term = entry.find('term')
    for opinion in entry.iter('opinion'):
        termDict = data.setdefault(opinion.get('source'), {})
        termDict[term.text] = opinion.get('polarity')

for k,v in data.items():
    print k, v
"
10825,51571,Python: how do I implement 'pop' in this class?,"class population(list):
    # custom methods here
"
18691,12896,How to convert a list of tuples into different csv files,"data = [
    ('1', ['45', '55', '56', '57']),
    ('2', ['200', '202', '202']),
    ('3', ['500', '501', '502']),
    ]

for dataset_name, dataset in data:
    with open('{}.csv'.format(dataset_name), 'w') as outfile:
        for item in dataset:
            outfile.write('{}\n'.format(item))
"
18152,48139,Check if user is logged in with Flask-Login in template,"{% if current_user.is_authenticated %}
  Hi {{ current_user.name }}!
{% endif %}
"
11244,16053,How do I display UTF-8 characters sent through a websocket?,"from autobahn.twisted.websocket import WebSocketServerProtocol, \
                                       WebSocketServerFactory


class TweetStreamProtocol(WebSocketServerProtocol):

   def sendTweets(self):
      for line in open('gistfile1.txt').readlines():
         ## decode UTF8 encoded file
         data = line.decode('utf8').split(',')

         ## now operate on data using Python string functions ..

         ## encode and send payload
         payload = data[2].encode('utf8')
         self.sendMessage(payload)

      self.sendMessage((u""\u03C0""*10).encode(""utf8""))

   def onMessage(self, payload, isBinary):
      if payload == ""tweetme"":
         self.sendTweets()



if __name__ == '__main__':

   import sys

   from twisted.python import log
   from twisted.internet import reactor

   log.startLogging(sys.stdout)

   factory = WebSocketServerFactory(""ws://localhost:9000"", debug = False)
   factory.protocol = TweetStreamProtocol

   reactor.listenTCP(9000, factory)
   reactor.run()
"
31118,30168,Data structures with Python,"class Node(object):

  __slots__ = 'data', 'left', 'right'

  def __init__(self, data=None, left=None, right=None):
    self.data  = data
    self.left  = left
    self.right = right
"
11003,72737,"Sorting matrix without flattening, numpy","import numpy as np

np.sort(a, axis=None).reshape(a.shape)
"
32493,29144,Convert relationship to query object,"# 1: this should be fine
qry1 = Car.query.join(User, Car.users).filter(User.name=='you')

# 1: this will probably not work for you, as this is not one query, although the result is a Query instance
usr1 = User.query.filter_by(name='you').one()
qry2 = Car.query.with_parent(usr1)

# 3: you might define the relationship to be lazy='dynamic', in which case the query object instance will be returned
from sqlalchemy.orm.query import Query
class Car(Base):
    __tablename__ = 'cars'
    id = Column(Integer, primary_key=True)
    vin = Column(String(50), unique=True, nullable=False)

    users = relationship(User, secondary=user_cars, 
            #backref='cars',
            backref=backref('cars', lazy=""dynamic""),
            lazy=""dynamic"",
            )
qry3 = Car.query.filter_by(name=""you"").one().cars
assert isinstance(qry3, Query)
"
11629,66988,Showing headers in QWebview Browser Pyqt Python,"import logging
import sys
from PyQt4.QtNetwork import QNetworkAccessManager, QNetworkRequest
from PyQt4.QtCore import QUrl, QEventLoop

log = logging.getLogger(__name__)


class Manager(QNetworkAccessManager):
    def __init__(self, table=list()):
        QNetworkAccessManager.__init__(self)
        self.finished.connect(self._finished)
        self.table = table

    def _finished(self, reply):
        headers = reply.rawHeaderPairs()
        headers = {str(k): str(v) for k, v in headers}
        content_type = headers.get(""Content-Type"")
        url = reply.url().toString()
        status = reply.attribute(QNetworkRequest.HttpStatusCodeAttribute)
        status, ok = status.toInt()
        self.table.append([str(url), str(status), content_type])
        log.info(self.table)
        request = reply.request()
        log.info(request.rawHeader(""User-Agent""))
        method = reply.operation()
        if method == QNetworkAccessManager.GetOperation:
            log.info(""get"")
            request.url().queryItems()
        if method == QNetworkAccessManager.PostOperation:
            log.info(""post"")

def test():
    manager = Manager()
    log.info(""Sending request"")
    manager.get(QNetworkRequest(QUrl(""http://www.google.com/"")))

    # just for testing purpose to wait for the request to finish
    l = QEventLoop()
    manager.finished.connect(l.quit)
    l.exec_()

if __name__ == '__main__':
    logging.basicConfig(level=logging.DEBUG)

    app = QApplication(sys.argv)
    test()
"
24395,80196,Why does theano conv2d add empty dimension?,"c = conv2d(m,np.array([w, w, w]))
f = theano.function([m], c)
print f(numpy.ones([100,100], dtype=numpy.float32)).shape  # outputs (3, 91, 100)
"
19027,29301,Find tag in XML-File,"import xml.etree.ElementTree as ET

data = """"""<article>
<MainText>
    <Big> HDhsdjdsd </Big>
    <Small> jdhdhksdj </Small>
    <Big><text> jsdhjsadh </text> <footnote> 1 </footnote>  <text> hsdhsdh </text> </Big>
</MainText>
</article>""""""

tree = ET.fromstring(data)

print tree.find('.//MainText//footnote').text.strip()
"
25556,47788,if-statement depending on input,"from math import pi
# use raw input (raw_input()) for the inputs... input() is essentially eval(input())
# this is how i would ask for input for a simple problem like this
x = (raw_input(""Do you have a [r]ectangle or a [c]ircle? "")) # Answer with r or c
# use .lower() to allow upper or lowercase
if x.lower() == ""r"":
    l = (int(raw_input(""What is the length of your rectangle? "")))
    w = (int(raw_input(""What is the width of your rectangle? "")))
    print( l * w )
elif x.lower() == ""c"":
    r = (int(raw_input(""What is the radius of your circle? "")))
    print( r ** 2 * pi)
else:
    print(""You didn't enter r or c."")
"
35435,81617,Filtering a FASTA file based on restriction-sequence with BioPython,"import re

pattern = 'CCNNNGG'
regex = re.compile(pattern.replace('N', '[ACGT]'))
for record in SeqIO.parse(...):
    if re.search(regex, record.seq) is not None:
        my_sequences.append(record)
"
16823,75586,Mitmproxy tampering GET and POST request/response in one script,"def response(context, flow):
    if flow.request.url == ""..."": # optionally filter based on some criteria...
        with decoded(flow.response):  # automatically decode gzipped responses.
            data = json.loads(flow.response.content)
            data[""foo""] = ""bar""
            flow.response.content = json.dumps(data)
"
11902,60866,Glade GTK TextBuffer change or set color,"import pygtk
import gtk
import gtk.glade
import Pango


def __init__(self):
  self.gladefile                  = ""XXXXX.glade""
  self.builder                    = gtk.Builder()
  self.builder.add_from_file(self.gladefile)
  self.builder.connect_signals(self)
  self.window                     = self.builder.get_object(""window1"")
  self.textbuffer                 = self.builder.get_object(""textbuffer1"")
  self.e_tag = self.textbuffer.create_tag(""err"", foreground=""#FF0000"")


def Print(self, text):

  self.textfeld = text + '\n'
  position = self.textbuffer.get_end_iter()
  self.textbuffer.insert_with_tags(position, self.textfeld, self.e_tag)
"
13360,18849,Variable function calling in Python,"class Instrument:

  def play(self):
    pass

class Guitar(Instrument):

  def play(self):
    print 'brau dau'

class Drum(Instrument):

  def play(self):
    print 'dum dum'


guitar = Guitar()
guitar.play()

drum = Drum()
drum.play()
"
32074,64700,How to print ordered scores in python using SQLite,"def add_or_update_score(name, class_group, score):
   with lite.connect('results.db') as conn:
      # Create the table, if doesn't exist yet
      conn.execute('CREATE TABLE IF NOT EXISTS scores (name TEXT, class_group INTEGER, score INTEGER)')
      # Check if a record already exists
      if list(conn.execute('SELECT * FROM scores where name = ?', (name,))):
         # A record already exists
         conn.execute('UPDATE scores SET score = ? WHERE (name = ? AND class_group = ?)', (score, name, class_group))
      else:
         # No record exists
        conn.execute('INSERT INTO scores VALUES (?, ?, ?)', (name, class_group, score))
"
34870,72079,How to execute a command and put the answer in a dictionary,"listy[nam] = ''.join([encrypt[i] for i in passw])
"
36722,23747,Break the line in a line plot,"from matplotlib import pyplot as pl
import numpy as np

x = np.linspace(0, 5, 10)
y = np.sin(x)
pl.plot(x, y, 'o')
pl.plot(x[:5], y[:5], 'g-')
pl.plot(x[5:], y[5:], 'g-')
pl.show()
"
34726,56783,Loading Class Variables from JSON?,">>> import json
>>> json_data =  '{""a"": ""my data""}'
>>> data = json.loads(json_data)
>>> class AutoVar(object):
...   def __init__(self, data):
...       self.__dict__ = data
... 
>>> test = AutoVar(data)
>>> test.a
u'my data'
"
22013,51313,Line Disappears When Using Contours in MatPlotLib,"ax.plot(X[X + Y == 1], Y[X + Y == 1], Z[X + Y == 1], '--r', zorder=10)
"
35695,78806,"How can you select a random element from a list, and have it be removed?","import random

# this will choose one and remove it
def choose_and_remove( items ):
    # pick an item index
    if items:
        index = random.randrange( len(items) )
        return items.pop(index)
    # nothing left!
    return None
"
29158,36539,vectorizing functions to operate on NetworkX graphs,"from __future__ import division
import networkx as nx
import numpy as np

G = nx.DiGraph([('1','2'), ('1', '4'), ('2','3'), ('3','1'), ('4', '5'), ('5', '4')])
d = dict(G.in_degree())
n = len(d)

def myfunc(i,j):
    di = d[str(i+1)]
    dj = d[str(j+1)]
    return min(di,dj)/max(di,dj)

f = np.vectorize(myfunc)
a = np.fromfunction(f, (n,n), dtype=int)
print a

[[ 1.   1.   1.   0.5  1. ]
 [ 1.   1.   1.   0.5  1. ]
 [ 1.   1.   1.   0.5  1. ]
 [ 0.5  0.5  0.5  1.   0.5]
 [ 1.   1.   1.   0.5  1. ]]
"
438,36158,Perform mathematical operation on a matching columns from 2 data frames: Python Pandas,"In [30]: df1 + df2.ix[0].reindex(df1.columns).fillna(0)
Out[30]:
    a   b  d
A  11  22  3
B  13  24  5
C  15  26  7
"
29330,43703,Spider middleware in Portia not called,"from scrapy.http import Request
from scrapy import log
import os.path

class IgnoreVisitedItems(object):
    def __init__(self):
        # Load the URLs that have already been crawled
        self._cu_file = open(""crawled_urls.txt"", ""a+"")
        self._crawled_urls = set([line.strip() for line in self._cu_file.readlines()])

    def process_spider_output(self, response, result, spider):
        ret = []
        for x in result:
            # Find the URL in the result or response
            url = None
            if isinstance(x, Request):
                url = x.url
            else:
                url = response.request.url

            # Check if the URL has been crawled, and add
            # it to the list of crawled URLs.
            if url in self._crawled_urls:
                log.msg(""Ignoring already visited: %s"" % url,
                        level=log.INFO, spider=spider)
            else:
                log.msg(""Adding %s to list of visited urls"" % url,
                        level=log.INFO, spider=spider)
                self._cu_file.write(url + '\n')
                self._crawled_urls.add(url)
                ret.append(x)
        return ret
"
30658,40389,Python - can I wrap attribute assignment without writing a getter/setter,"class ScoreChanged(Event):
    ...

class Character(ListenerMixin):
    @property
    def score(self):
        return self._score

    @score.setter
    def score(self, new):
        old = self._score
        self._score = new
        self.fire_event(ScoreChanged(self, old, new))

protag = Character()
scoreboard = Scoreboard()
scoreboard.listen_event(protag, ScoreChanged, scoreboard.on_score_change)

protag.score += 10
"
19962,1608,How do I add to odd index values in python?,"L = [1,3,5,7,9,11]
L2 = [L[i]+5 if i%2 else L[i] for i in range(0,len(L))]
"
25166,46921,how to correctly pass a json object to flask server using jquery ajax,"var data = {
    screening: '1',
    assistance: 'wheelchair access',
    guests: [
        {
            first: 'John',
            last: 'Smith'
        },
        {
            first: 'Dave',
            last: 'Smith'
        }
    ]
};

$.ajax({
    type: 'POST',
    url: window.location.href,
    data: JSON.stringify(response),
    dataType: 'json',
    contentType: 'application/json; charset=utf-8'
}).done(function(msg) {
    alert(""Data Saved: "" + msg);
});
"
35482,56419,Python : How to import a module if I have its path as a string?,">>> m = __import__('xml.sax')
>>> m.__name__
'xml'
>>> m = __import__('xml.sax', fromlist=[''])
>>> m.__name__
'xml.sax'
"
36113,4097,Mask numpy array with a range of values,"In [19]: Data = np.zeros(100,dtype=[('time', np.float), ('y',np.float)])

In [20]: Data['y'] = np.random.uniform(size=100)

In [21]: Data['time'] = np.random.uniform(size=100)

In [22]: print Data[ (Data['time'] > 0.6) & (Data['time'] < 0.7) ]
[(0.6309334093696576, 0.5898588768194092)
 (0.6026040512366535, 0.4260650141076221)
 (0.6587399844526572, 0.033397798015253444)
 (0.6863639946779522, 0.67002523603246)
 (0.6522035987367735, 0.948019085443445)
 (0.6809894254849801, 0.5131390279565994)
 (0.6311277013562147, 0.5746610745753917)
 (0.6324174554481182, 0.8587836614681397)
 (0.6542221804687635, 0.9706926940115863)
 (0.671321726341415, 0.7446681474117195)]
"
956,29536,Aligning Japanese characters in python,">>> print '{:>8s}'.format('ありがとう')
ありがとう
>>> print u'{:>8s}'.format(u'ありがとう')
   ありがとう
>>> print u'{:\u3000>8s}'.format(u'ありがとう')
　　　ありがとう
"
6907,74812,Python Pandas not reading DataFrame,"import pandas as pd

fp = '/Users/USERNAME/Development/file.csv'

usecols = ['VIN', 'Reg City','First Name','Last Name','MGVW','Nat Flt Ind','MGVW',
                                'Reg Name','Phone', 'Unnamed: 8','ZIP','VC','VType', 
                                'Reg Voc', 'Make','Veh Model', 'E Mfr','Engine Model', 
                                'CY2010', 'CY2011', 'CY2012', 'CY2013', 'CY2014', 'CY2015', 
                                'Std Cnt']

df = pd.read_csv(fp, usecols=usecols, sep=',')

print df.head()
"
20211,70097,Get max value from a list with lists?,"def max_value(inputlist):
    return max([sublist[-1] for sublist in inputlist])

print max_value(resultlist)
# 9.1931
"
10746,55852,lambda custom aggregate function,"import pandas as pd
import numpy as np

# suppose this is your df
df

Out[83]: 
  fruit_type   temp   count
0      apple     12       4
1      apple     14       6
2       pear     12       6
3       pear     16       2
4      grape     12       5
5      peach      9      33
6      peach      6       3


# prob part
df['prob'] = df.groupby('fruit_type')['count'].transform(lambda count: ((count) / count.sum()))

# total part
df['total_count'] = df.groupby('fruit_type')['count'].transform(lambda count: count.sum())

df

Out[87]: 
  fruit_type  temp  count    prob  total_count
0      apple    12      4  0.4000           10
1      apple    14      6  0.6000           10
2       pear    12      6  0.7500            8
3       pear    16      2  0.2500            8
4      grape    12      5  1.0000            5
5      peach     9     33  0.9167           36
6      peach     6      3  0.0833           36
"
405,22993,extra rows to extra columns with pandas,"import numpy as np
import pandas as pd
original_data = np.array([[1,0,0,10,1530,0.1,2,-49.0756686364,163.856504545],
                 [1,0,0,10,8250,0.1,2,-84.7795213636,264.205363636],
[1,0,0,10,20370,0.1,2,-245.585863636,662.467227273],
[1,0,0,10,33030,0.1,2,-290.468136364,1107.19936364],
[1,0,0,10,47970,0.1,2,-308.668681818,1584.18090909],
[1,0,0,10,63090,0.1,2,-244.954186364,1932.43454545],
[1,0,0,10,93090,0.1,2,-9.5453963636,1794.01636364],
[1.5,0.5,0,11,1530,0.1,2,-36.28640875,136.9883],
[1.5,0.5,0,11,8250,0.1,2,-83.2991125,231.58275],
[1.5,0.5,0,11,20370,0.1,2,-227.956625,757.027125],
[1.5,0.5,0,11,33030,0.1,2,-301.754875,1045.55275],
[1.5,0.5,0,11,47970,0.1,2,-291.517625,1534.11625],
[1.5,0.5,0,11,63090,0.1,2,-257.7195,1904.9475],
[1.5,0.5,0,11,930901,0,0,10,63090,0.1,2,-244.954186364,1932.43454545]

df =pd.DataFrame(original_data,  columns=['X', 'Y', 'Z', '#','Fr', 'Er', 'V', 'R', 'I'])
df1 = df.pivot_table(['R', 'I'], ['X', 'Y', 'Z', '#','Er', 'V'], 'Fr')
df1.to_csv('test.dat', sep='\t', header=True, index=True)
"
13826,32520,Python: BeautifulSoup extract text from anchor tag,"import urlparse
from urllib2 import urlopen
from urllib import urlretrieve
from BeautifulSoup import BeautifulSoup as bs
import requests

def getImages(url):
    #Download the images
    r = requests.get(url)
    html = r.text
    soup = bs(html)
    output_folder = '~/amazon'
    #extracting the images that in div(s)
    for div in soup.findAll('div', attrs={'class':'image'}):
        modified_file_name = None
        try:
            #getting the data div using findNext
            nextDiv =  div.findNext('div', attrs={'class':'data'})
            #use findNext again on previous object to get to the anchor tag
            fileName = nextDiv.findNext('a').text
            modified_file_name = fileName.replace(' ','-') + '.jpg'
        except TypeError:
            print 'skip'
        imageUrl = div.find('img')['src']
        outputPath = os.path.join(output_folder, modified_file_name)
        urlretrieve(imageUrl, outputPath)

if __name__=='__main__':
    url = r'http://www.amazon.com/s/ref=sr_pg_1?rh=n%3A172282%2Ck%3Adigital+camera&keywords=digital+camera&ie=UTF8&qid=1343600585'
    getImages(url)
"
38342,25800,How do I translate Ruby's IO.popen calls into Python's subprocess.Popen calls?,">>> import subprocess
>>> io = subprocess.Popen('ls', stdout=subprocess.PIPE).stdout
>>> for line in io: print(line.strip())
"
37077,65014,Import home-made python function in paraview,"import sys
sys.path.append(""/path/to/my/directory"")

import hello_world
"
30376,79765,Convert date with format dd.mm.yy to yyyy-mm-dd in python,">>> d2 = datetime.datetime.strptime(d1,'%d.%m.%y').strftime('%Y-%m-%d')
>>> d2
'2015-05-22'
"
17056,14195,How to animate a time-ordered sequence of matplotlib plots,"import numpy as np
import pylab
pylab.ion()

def get_fig(fig_num, some_data, some_labels):

    fig = pylab.figure(fig_num,figsize=(8,8),frameon=False)
    ax = fig.add_subplot(111)
    ax.set_ylim([0.1,0.8]); ax.set_xlim([0.1, 0.8]);
    ax.set_title(""Quarterly Stapler Thefts"")
    ax.pie(some_data, labels=some_labels, autopct='%1.1f%%', shadow=True);
    return fig

my_labels = (""You"", ""Me"", ""Some guy"", ""Bob"")

# To ensure first plot is always made.
do_plot = 1; num_plots = 0;

while do_plot:
    num_plots = num_plots + 1;
    data = np.random.rand(1,4).tolist()[0]

    fig = get_fig(num_plots,data,my_labels)
    fig.canvas.draw()
    pylab.draw()

    print ""Close any of the previous plots? If yes, enter its number, otherwise enter 0...""
    close_plot = raw_input()

    if int(close_plot) > 0:
        pylab.close(int(close_plot))

    print ""Create another random plot? 1 for yes; 0 for no.""
    do_plot = raw_input();

    # Don't allow plots to go over 10.
    if num_plots > 10:
        do_plot = 0

pylab.show()
"
15923,52997,Deep remove empty lists and values from,"import numbers

def strip_empty_structs(struct):
    def keep(v):
        return isinstance(v, numbers.Number) or v

    if type(struct) == list:
        struct = [strip_empty_structs(s) for s in struct]
        struct = filter(keep, struct)
    if type(struct) == dict:
        for k, v in struct.iteritems():
            struct[k] = strip_empty_structs(v)
        struct = dict(
            (
                (k, v) for k, v in struct.iteritems()
                if keep(v)
            )
        )

    return struct
"
4335,30011,Python 3.0.1 Executable Creator,"if hasattr(sys, 'frozen'): # this means we're installed using py2exe/pyinstaller
    INSTDIR = os.path.dirname(sys.executable)
else:
    ...
"
28387,26170,Not clear how to upsert ElasticSearch using python elasticsearch,"from elasticsearch import Elasticsearch

es = Elasticsearch()

es.update(
    index=""test"",
    doc_type=""test1"",
    id=""1"",
    body={""script"": ""ctx._source.tags+=new_tag"",
          ""params"": {
             ""new_tag"" : ""search""
            }
          }
    )
"
31182,74514,How to draw a ring of colors using turtle module in python,"def drawSegment(color,x, y, r, angleStart, angleEnd, step=1):
    #More efficient to work in radians
    radianStart = angleStart*pi / 180
    radianEnd   = angleEnd*pi / 180
    radianStep=step *pi/180

    #Draw the segment
    turtle.penup()
    turtle.setpos(x,y)
    turtle.color(color)
    turtle.begin_fill()
    turtle.pendown()
    for theta in arange(radianStart,radianEnd,radianStep):
        turtle.setpos(x + r * cos(theta), y + r * sin(theta))

    turtle.setpos(x + r * cos(radianEnd), y + r * sin(radianEnd))
    turtle.setpos(x, y);
    turtle.end_fill()

def drawCircle(colorList,radius):
    #do something to draw an equal segment for each color advancing it around 360 degree's
"
14704,67479,Get all keys in Redis database with python,">>> import redis
>>> r = redis.StrictRedis(host=YOUR_HOST, port=YOUR_PORT, db=YOUR_DB)
>>> r.keys()
"
19751,2819,Memcache client with connection pool for Python?,"import Queue

import memcache

# See http://stackoverflow.com/questions/9539052/python-dynamically-changing-base-classes-at-runtime-how-to 
# Don't inherit client from threading.local so that we can reuse clients in
# different threads
memcache.Client = type('Client', (object,), dict(memcache.Client.__dict__))
# Client.__init__ references local, so need to replace that, too
class Local(object): pass
memcache.local = Local

class PoolClient(object):
    '''Pool of memcache clients that has the same API as memcache.Client'''
    def __init__(self, pool_size, pool_timeout, *args, **kwargs):
        self.pool_timeout = pool_timeout
        self.queue = Queue.Queue()
        for _i in range(pool_size):
            self.queue.put(memcache.Client(*args, **kwargs))

    def __getattr__(self, name):
        return lambda *args, **kw: self._call_client_method(name, *args, **kw)

    def _call_client_method(self, name, *args, **kwargs):
        try:
            client = self.queue.get(timeout=self.pool_timeout)
        except Queue.Empty:
            return

        try:
            return getattr(client, name)(*args, **kwargs)
        finally:
            self.queue.put(client)
"
5572,42131,Specific Quote Issue,"def save(self):
    today = datetime.date.today()
    self.quote = ""%s-%s"" % (str(today.year)[2:4], self.quote)
"
21522,32122,Django CMS losing data from draft to live,"def copy_relations(self, oldinstance):
    for image in oldinstance.image_set.all():
        image.pk = None
        image.plugin = self
        image.save()
"
10019,7087,How to keep a number below n,"input_1 = 105
output_1 = (105 * 1.0) / 36 # 2.197

print '36*' + output_1 # 36*2.197
"
10896,10272,how to use initializer to set up my multiprocess pool?,"def get_cursor():
  return psycopg2.connect(...).cursor()

def process_data(connection,data):
   # here I'd like to have the cursor so that I can do things with the data

if __name__ == ""__main__"":
  pool = Pool()
  cursor = get_cursor()
  pool.map(process_data, [(cursor,data) for data in get_some_data_iterator()])
"
20962,72878,"Two lists, one of words, one of phrases",">>> phrases = [""I'm so happy with myself lately!"", ""Johnny, im so sad, so very sad, call me"", ""i feel like crap. SO ANGRY!!!!""]
>>> words = [""happy"", ""sad"", ""angry"", ""jumpy""]
>>> 
>>> for phrase in phrases:
...     print phrase
...     print {word: phrase.count(word) for word in words}
... 
I'm so happy with myself lately!
{'jumpy': 0, 'angry': 0, 'sad': 0, 'happy': 1}
Johnny, im so sad, so very sad, call me
{'jumpy': 0, 'angry': 0, 'sad': 2, 'happy': 0}
i feel like crap. SO ANGRY!!!!
{'jumpy': 0, 'angry': 0, 'sad': 0, 'happy': 0}
"
16464,71695,How can I ignore certain schemas with alembic --autogenerate,"def include_object(object, name, type_, reflected, compare_to):
    if type_ == 'table' and object.schema != MY_SCHEMA:
        return False

    return True

...
context.configure(..., include_object=include_object, ...)
"
33042,69597,Iterating through multiple URLs from .txt file with Python/BeautifulSoup,"# Goal: make a list of urls
url_list = []

# use a try-finally to make sure you close your file.
try:
    f = open('pathtofile.txt','rb')
    for line in f:
        url_list.append('http://youtube.com/user/%s' % line)
    # do something with url list (like call a scraper, or use urllib2
finally:
    f.close()
"
39107,57517,"Context-sensitive string splitting, preserving delimiters","re.split('-(?=\d)', 'foo-bar-1.23-4', 1)
"
5780,7273,python ldap attribute query,"res[0][1]['charName'][0]
"
39501,61645,Simple random name generator in Python,"# create the dict and save it to a file
d={
'part1':[
    'Ae',
    'Di',
    'Mo',
    'Fam',],
'part2':[
    'dar',
    'kil',
    'glar',
    'tres',],
}

import pickle
f=open('syllables','w')
pickle.dump(d,f)
f.close()


# read the dict back in from the file
f1=open('syllables','r')
sd=pickle.load(f1)
f1.close()

import random
first_part=sd['part1'][random.randint(0,len(sd['part1'])-1)]
second_part=sd['part2'][random.randint(0,len(sd['part2'])-1)]

print '%s%s'%(first_part,second_part)
"
7781,23309,Cash Flow compounding,">>> cf = [100,25,-30,4,-12,60]
>>> n = 2
>>> [sum(cf[x:x+n]) for x in range(0, len(cf), n)]
[125, -26, 48]
"
16296,64140,What is 'get()' function appeared in profiling on Python (PyPy)?,"get(key[, default])

Return the value for key if key is in the dictionary, else default. 
If default is not given, it defaults to None, so that this method 
never raises a KeyError.
"
13019,29466,Function to generate substrings from a string with some characters replaced,"def generate_substrings(sequence):
    length = len(sequence)
    for i in range(len(sequence)- 19):
        currentSequence = sequence[i:i+20]
        recursiveReplaceLetter(currentSequence)

def recursiveReplaceLetter(s):
    isOk = True
    for i in range(len(s)):
        if (s[i] == ""R""):
            isOk = False
            newSequence1 = s
            newSequence1 = newSequence1[:i+1].replace(""R"", ""A"") + newSequence1[i+1:]
            recursiveReplaceLetter(newSequence1)

            newSequence2 = s
            newSequence2 = newSequence2[:i+1].replace(""R"", ""G"") + newSequence2[i+1:]
            recursiveReplaceLetter(newSequence2)
            break

        elif(s[i] == ""S""):
            isOk = False
            newSequence1 = s
            newSequence1 = newSequence1[:i+1].replace(""S"", ""C"") + newSequence1[i+1:]
            recursiveReplaceLetter(newSequence1)

            newSequence2 = s
            newSequence2 = newSequence2[:i+1].replace(""S"", ""G"") + newSequence2[i+1:]
            recursiveReplaceLetter(newSequence2)
            break


    if (isOk):
        print (s)

sequence=""gRRcagagacgcaagcctaRgggSgggggttgggggggcgtgt""
generate_substrings(sequence)
"
1386,59326,How to read the latest image in a folder using python?,"import os

def get_latest_image(dirpath, valid_extensions=('jpg','jpeg','png')):
    """"""
    Get the latest image file in the given directory
    """"""

    # get filepaths of all files and dirs in the given dir
    valid_files = [os.path.join(dirpath, filename) for filename in os.listdir(dirpath)]
    # filter out directories, no-extension, and wrong extension files
    valid_files = [f for f in valid_files if '.' in f and \
        f.rsplit('.',1)[-1] in valid_extensions and os.path.isfile(f)]

    if not valid_files:
        raise ValueError(""No valid images in %s"" % dirpath)

    return max(valid_files, key=os.path.getmtime) 
"
27068,8883,PyQt4: How to make Icon bigger than QPushButton? (Pixmap Buttons),"btn.setStyleSheet(""background-image: url('image.jpg'); border: none;"")
"
13884,50692,python 3 how to compress a dictionary with tuple keys representing overlapping coordinates,"# Returns True if point yt is in the range (y0, y1) inclusive
def _in(yt, y): return y[0] <= yt <= y[1]

# Returns True if either segment intersects (or is contained in the other), False otherwise
def intersects(s1, s2): return _in(s1[0], s2) or _in(s1[1], s2) or _in(s2[0], s1) or _in(s2[1], s1)

# Returns an (i,e) tuple for each element e of lst that ""intersects"" (see prev. function) list lst
#   i is index of element e in lst
def find_intersections(s, lst): return [(i,e) for (i,e) in enumerate(lst) if intersects(s,e)]

# Returns a 2-tuple containing the minimum and maximum of the input segments s1, s2
def merge(s1, s2): return (min(s1[0], s2[0]), max(s1[1], s2[1]))
# Note: The functions _in and merge assume that y0,y1 are sorted, ascending

data = { (622, 633): 'text1', (604, 619) : 'text2', (596, 633) : 'text3', (577, 587) : 'text4', (551, 587) : 'text5'  }
new_data = {}

lst = list(data.keys())
while len(lst):
    rng = lst.pop()

    keys = [rng,]
    while True:
        updated = False
        for (i,match) in find_intersections(rng, lst):
            updated = True
            keys.append(match)
            rng = merge(rng, match)
            lst.pop(i)
        if not updated: break

    new_data[rng] = ' '.join(sorted(data[k] for k in keys))

print(new_data)      # {(551, 587): 'text4 text5', (596, 633): 'text1 text2 text3'}
"
18973,11666,What is the most efficient way to subtract rows of a dataframe (python pandas) by index in python pandas,"In [4]:
df['diff time'] = df['arrivalTime'].diff().fillna(0)
df

Out[4]:
   cEventID         arrivalTime  diff time
0   1167533                 NaT   00:00:00
1   1167541 2015-07-14 04:01:21   00:00:00
2   1167545 2015-07-14 04:03:20   00:01:59
3   1167549 2015-07-14 04:07:45   00:04:25
4   1167552 2015-07-14 04:10:21   00:02:36
5   1167553 2015-07-14 04:13:39   00:03:18
6   1167558 2015-07-14 04:15:58   00:02:19
7   1167561 2015-07-14 04:20:23   00:04:25
"
35973,50334,matplotlib: use fill_between to make coloured triangles,"import matplotlib.pyplot as plt

trianglex = [ 1, 10, 7, 1 ] 
triangley = [ 2, 8, 4, 2 ]    
triangle2x = [ 13, 25, 21, 13]
triangle2y = [ 5,  7 , 14, 5 ]

plt.figure('Triangles')
for i in range(3):
    plt.plot(trianglex, triangley, 'o-')
plt.fill(trianglex, triangley)

for i in range(3):
    plt.plot( triangle2x, triangle2y, 'o-')
plt.fill(triangle2x, triangle2y)

plt.show()
"
6587,44849,How to use python (maya) multithreading,"import maya.cmds as cmds
import maya.utils as utils
import threading

def do_in_main():
    utils.executeDeferred (cmds.sphere)

for i in range(10):
    t  = threading.Thread(target=do_in_main, args=())
    t.start()
"
34358,6139,process a directory of files using python,"dirpath = '/Users/Desktop/Xfiles'
for filename in os.listdir(dirpath):
    os.system('/sw/bin/python2.7 pythonCode.py {}/{}'.format(dirpath, filename))
"
24289,65721,How do I programmatically check whether a GIF image is animated?,"from PIL import Image
gif = Image.open('path.gif')
try:
    gif.seek(1)
except EOFError:
    isanimated = False
else:
    isanimated = True
"
7835,67079,Parallel while loops in python for motor control and data acquisition,"import threading

def poll_position(fobj, seconds=0.5):
    """"""Call once to repeatedly get statistics every N seconds.""""""
    position = getMotorPosition()

    # Do something with the position.
    # Could store it in a (global) variable or log it to file.
    print position
    fobj.write(position + '\n')

    # Set a timer to run this function again.
    t = threading.Timer(seconds, poll_position, args=[fobj, seconds])
    t.daemon = True
    t.start()

def control_loop(positions, velocity):
    """"""Repeatedly moves the motor through a list of positions at a given velocity.""""""
    while True:
        for position in positions:
            moveMotorToPosition(position, velocity)

if __name__ == '__main__':
    # Start the position gathering thread.
    poll_position()
    # Define `position` and `velocity` as it relates to `moveMotorToPosition()`.
    control_loop([first_position, second_position], velocity)
"
28260,28175,How does long-polling work in Tornado?,"from tornado.ioloop import IOLoop
import tornado.web
from tornado import gen
import time

@gen.coroutine
def async_sleep(timeout):
    """""" Sleep without blocking the IOLoop. """"""
    yield gen.Task(IOLoop.instance().add_timeout, time.time() + timeout)

class MainHandler(tornado.web.RequestHandler):
    @gen.coroutine
    def get(self):
        print(""Start request"")
        yield async_sleep(4)
        print(""Okay done now"")
        self.write(""Howdy howdy howdy"")
        self.finish()

if __name__ == ""__main__"":
    application =  tornado.web.Application([
        (r'/', MainHandler),
    ])
    application.listen(8888)
    IOLoop.instance().start()
"
9566,23919,Time out decorator on a multprocessing function,"class TimedOutExc(Exception):
    """"""
    Raised when a timeout happens
    """"""

def timeout(timeout):
    """"""
    Return a decorator that raises a TimedOutExc exception
    after timeout seconds, if the decorated function did not return.
    """"""

    def decorate(f):

        def handler(signum, frame):
            raise TimedOutExc()

        def new_f(*args, **kwargs):

            old_handler = signal.signal(signal.SIGALRM, handler)
            signal.alarm(timeout)

            result = f(*args, **kwargs)  # f() always returns, in this scheme

            signal.signal(signal.SIGALRM, old_handler)  # Old signal handler is restored
            signal.alarm(0)  # Alarm removed

            return result

        new_f.func_name = f.func_name
        return new_f

    return decorate

@timeout(10)
def function_that_takes_a_long_time():
    try:
        # ... long, parallel calculation ...
    except TimedOutExc:
        # ... Code that shuts down the processes ...
        # ...
        return None  # Or exception raised, which means that the calculation is not complete
"
1546,80553,Returning value when condition met in recursion,"#!/usr/bin/python

# globals
verbose = True

def get_tour(start, graph, path):
    if path==[]:
        from_node=start
    else:
        from_node=path[-1][1]

    if verbose:
        print '\nfrom_node:\t', from_node
        print 'start:\t', start
        print 'graph:\t', graph
        print 'path:\t', path

    if graph==[]:
        if start in path[-1]:
            print ""Tour Found""
            return path

    else:
        edges=[node for node in graph if from_node in node]
        for edge in edges:
            to_node=[i for i in edge if i <> from_node][0]
            p=list(path)
            p.append((from_node,to_node))            
            g=list(graph)
            g.remove(edge)
            path = get_tour(start, g, p)
            if path:
                return path


g=[(1,2), (1,3), (2,3)]

get_tour(1, graph=g, path=[])
"
12705,28035,Chaining class decorators to extend game item's abilities,"class ItemCapability:
    pass


class Consumable(ItemCapability):
    def __init__(self, amount):
        super().__init__()
        self.amount = amount


class Usable(ItemCapability):
    pass


class Item:
    def __init__(self, name):
        self.name = name
        self.capabilities = {}

    def make(self, capability):
        assert isinstance(capability, ItemCapability)
        assert capability.__class__ not in self.capabilities

        self.capabilities[capability.__class__] = capability

    def has(self, capability_cls):
        try:
            return self.capabilities[capability_cls]
        except KeyError:
            return False


potion = Item('potion')
potion.make(Usable())
potion.make(Consumable(amount=10))

print(potion.has(Usable))
print(potion.has(Consumable))
"
15806,31554,Fabric deploying application to a proxyed server,"from fabric.api import env, run, sudo, cd
from datetime import datetime

def proxy():
    env.user = ""root""
    env.hosts = ['proxy']
    env.key_filename = ""/home/root/monitorserver.pem""
    with cd('/home/root/'):
        createfile()
        run(""fab production"")

def production():
    """"""Defines production environment .""""""
    env.is_debuggable = False
    env.user = ""root""
    env.hosts = ['appserver']
    env.key_filename = ""/home/root/appserver.pem""
    createfile()

def createfile():
    """"""Start Excecute test commands""""""
    sudo(""touch /tmp/test_%s"" % datetime.now().strftime('%H:%M:%S'))
"
23835,65388,python remove C function body,"~/test$ ctags -x --c-types=f ./test.c
func1            function      1 ./test.c         int func1 (int para) {
func2            function      5 ./test.c         int func2 (int para) {
~/test$ # Clean up the output a little bit
~/test$ ctags -x --c-types=f ./test.c | sed -e 's/\s\+/ /g' | cut -d ' ' -f 5-
int func1 (int para) {
int func2 (int para) {
"
17920,66298,What is django.utils.datetime_safe and should I use it instead of standard datetime?,"# Python's datetime strftime doesn't handle dates before 1900.
# These classes override date and datetime to support the formatting of a date
# through its full ""proleptic Gregorian"" date range.
"
7610,54744,Django rename model. New django_content_type is created instead of renaming the old record,"# -*- coding: utf-8 -*-
from __future__ import unicode_literals

from django.db import migrations
from django.conf import settings

sql = """"""UPDATE django_content_type
         SET name = 'member',
             model = 'member'
         WHERE name = 'profile' AND
               model = 'profile' AND
               app_label = 'open_humans';""""""

reverse_sql = """"""UPDATE django_content_type
                 SET name = 'profile',
                     model = 'profile'
                 WHERE name = 'member' AND
                       model = 'member' AND
                       app_label = 'open_humans';""""""


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('open_humans', '0004_auto_20150106_1828'),
    ]

    operations = [
        migrations.RunSQL(sql, reverse_sql)
    ]
"
39629,671,"Converting a list of strings, into a list of tuples containing integers",">>> L = [' 1 2 ', '3 4 ']
>>> [tuple(int(y) for y in x.split()) for x in L]
[(1, 2), (3, 4)]
"
8003,17830,How can I convert a list of strings to a list of integers and then add them?,">>> test_list = [""1"", ""2"", ""5"", ""6""]
>>> map(int,test_list)
[1, 2, 5, 6]
>>> sum(map(int,test_list))
14
"
34060,83077,replicating R/ggplot2 colours in python,"import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import math
import collections

def hcl_to_rgb(hue=0, chroma=0, luma=0) :
    # Notes:
    #   coded from http://en.wikipedia.org/wiki/HSL_and_HSV#From_luma.2Fchroma.2Fhue
    #   with insights from gem.c in MagickCore 6.7.8
    #   http://www.imagemagick.org/api/MagickCore/gem_8c_source.html
    # Assume:
    #   h, c, l all in range 0 .. 1 (cylindrical coordinates)
    # Returns a tuple:
    #   r, g, b all in the range 0 .. 1 (cubic cartesian coordinates)

    # sanity checks
    hue = math.modf(float(hue))[0]
    if hue < 0 or hue >= 1 :
        raise ValueError('hue is a value greater than or equal to 0 and less than 1')
    chroma = float(chroma)
    if chroma < 0 or chroma > 1 :
        raise ValueError('chroma is a value between 0 and 1')
    luma = float(luma)
    if luma < 0 or luma > 1 :
        raise ValueError('luma is a value between 0 and 1')

    # do the conversion
    _h = hue * 6.0
    x = chroma * ( 1 - abs((_h % 2) - 1) )

    c = chroma
    if   0 <= _h and _h < 1 :
        r, g, b = (c, x, 0.0)
    elif 1 <= _h and _h < 2 :
        r, g, b = (x, c, 0.0)
    elif 2 <= _h and _h < 3 :
        r, g, b = (0.0, c, x)
    elif 3 <= _h and _h < 4 :
        r, g, b = (0.0, x, c)
    elif 4 <= _h and _h < 5 :
        r, g, b = (x, 0.0, c)
    elif 5 <= _h and _h <= 6 :
        r, g, b = (c, 0.0, x)
    else :
        r, g, b = (0.0, 0.0, 0.0)

    m = luma - (0.298839*r + 0.586811*g + 0.114350*b)
    z = 1.0
    if m < 0.0 :
        z = luma/(luma-m)
        m = 0.0
    elif m + c > 1.0 :
        z = (1.0-luma)/(m+c-luma)
        m = 1.0 - z * c
    (r, g, b) = (z*r+m, z*g+m, z*b+m)

    # clipping ...
    (r, g, b) = (min(r, 1.0), min(g, 1.0), min(b, 1.0))
    (r, g, b) = (max(r, 0.0), max(g, 0.0), max(b, 0.0))
    return (r, g, b)

def ggColorSlice(n=12, hue=(0.004,1.00399), chroma=0.8, luma=0.6, skipHue=True) :
    # Assume:
    #   n: integer >= 1
    #   hue[from, to]: all floats - red = 0; green = 0.33333 (or -0.66667) ; blue = 0.66667 (or -0.33333)
    #   chroma[from, to]: floats all in range 0 .. 1
    #   luma[from, to]: floats all in range 0 .. 1
    # Returns a list of #rgb colour strings:

    # convert stand alone values to ranges
    if not isinstance(hue, collections.Iterable):
        hue = (hue, hue)
    if not isinstance(chroma, collections.Iterable):
        chroma = (chroma, chroma)
    if not isinstance(luma, collections.Iterable):
        luma = (luma, luma)

    # convert ints to floats
    hue = [float(hue[y]) for y in (0, 1)]
    chroma = [float(chroma[y]) for y in (0, 1)]
    luma = [float(luma[y]) for y in (0, 1)]

    # some sanity checks
    n = int(n)
    if n < 1 or n > 360 :
        raise ValueError('n is a value between 1 and 360')
    if any([chroma[y] < 0.0 or chroma[y] > 1.0 for y in (0, 1)]) :
        raise ValueError('chroma is a value between 0 and 1')
    if any([luma[y] < 0.0 or luma[y] > 1.0 for y in (0, 1)]) :
        raise ValueError('luma is a value between 0 and 1')

    # generate a list of hex colour strings
    x = n + 1 if n % 2 else n
    if n > 1 :
        lDiff = (luma[1] - luma[0]) / float(n - 1.0)
        cDiff = (chroma[1] - chroma[0]) / float(n - 1.0)
        if skipHue :
            hDiff = (hue[1] - hue[0]) / float(x)
        else :
            hDiff = (hue[1] - hue[0]) / float(x - 1.0)
    else:
        hDiff = 0.0
        lDiff = 0.0
        cDiff = 0.0

    listOfColours = []
    for i in range(n) :
        c = chroma[0] + i * cDiff
        l = luma[0] + i * lDiff
        h = math.modf(hue[0] + i * hDiff)[0]
        h = h + 1 if h < 0.0 else h
        (h, c, l) = (min(h, 0.99999999999), min(c, 1.0), min(l, 1.0))
        (h, c, l) = (max(h, 0.0), max(c, 0.0), max(l, 0.0))
        (r, g, b) = hcl_to_rgb(h, c, l)
        listOfColours.append( '#%02x%02x%02x' % (int(r*255), int(g*255), int(b*255)) )
    return listOfColours

for i in range(1, 20) :
    # made up data
    x = np.array(range(20))
    d = {}
    for j in range(1, i+1) :
        y = x * (1.0 + j/10.0) + j/10.0
        d['y'+'%03.0d' % j] = pd.Series(data=y , index=x)
    df = pd.DataFrame(d)

    # plot example
    plt.figure(num=1, figsize=(10,5), dpi=100) # set default image size
    colours = ggColorSlice(n=i)
    if len(colours) == 1:
        colours = colours[0] # kludge
    df.plot(linewidth=4.0, color=colours)
    fig = plt.gcf()
    f = 'test-'+str(i)+'.png'
    print f
    plt.title(f)
    fig.savefig(f)
    plt.close()
"
18838,20320,How to send a mail with multiple attachments and custom file names using Mailgun (from Python),"def send_complex_message():
    return requests.post(""https://api.mailgun.net/v2/DOMAIN/messages"",
              auth=(""api"", ""key-SECRET""),
              files={
                  ""attachment[0]"": (""FileName1.ext"", open(FILE_PATH_1, 'rb')),
                  ""attachment[1]"": (""FileName2.ext"", open(FILE_PATH_2, 'rb'))
              },
              data={""from"": ""FROM_EMAIL"",
                    ""to"": [TO_EMAIL],
                    ""subject"": SUBJECT,
                    ""html"": HTML_CONTENT
              })
"
23110,69534,Open a URL with the OS default action from Python,"import webbrowser
webbrowser.open_new('steam://defrag/440')
"
11576,69222,regex result filter in python,">>> import re
>>> regex = re.compile('(?:red,(?P<redfirst>\w+)|(?P<othercolorfirst>\w+),red)')

>>> string = ""blue,red   red,yellow   blue,yellow   red,green   purple red, ...""

>>> for matches in regex.finditer(string):
...     if matches.group('redfirst'):
...         print matches.group('redfirst')
...
yellow
green
>>>
"
32591,76856,Parsing Large Chunks of HTML with re.findall(),"
#No shebang line, please run in Linux shell % python img_count.py

#Python libs
import threading, urllib2, re
import Queue, json, time, pprint

#Global lists 
JSON_LIST = list()
URLS = list()

def get_movies():
    url = ""http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?apikey=    <apikey>""
    response = urllib2.urlopen(url)
    data = json.loads(response.read())    
    return data


def get_imgs(html):
    total = 0
    # This next line is not ideal. Would much rather use a lib such as Beautiful Soup for this
    total += len(re.findall(r""<img[^>]*>"", html)) 
    return total


def read_url(url, queue):
    data = urllib2.urlopen(url).read()
    queue.put(data)


def fetch_urls():
    result = Queue.Queue()
    threads = [threading.Thread(target=read_url, args = (url,result)) for url in URLS]
    for thread in threads:
        thread.start()
    for thread in threads:
        thread.join()
    return result


if __name__ == ""__main__"":
    start = time.time()
    movies = get_movies()
    for movie in movies[""movies""]:
        url = ""http://www.imdb.com/title/tt"" + movie['alternate_ids']['imdb']
        URLS.append(url)    
    queue = fetch_urls()
    while movies[""movies""]:
        movie = movies[""movies""].pop()
        job = queue.get()
        total = get_imgs(job)    
        json_dict = {
                ""title"": movie['title'],
                ""url"": ""http://www.imdb.com/title/tt"" + movie['alternate_ids']['imdb'],
                ""imdb_id"": movie['alternate_ids']['imdb'],
                ""count"": total 
                } 
        JSON_LIST.append(json_dict)      
    pprint.pprint(JSON_LIST)
    end = time.time()
    print ""\n""
    print ""Elapsed Time (seconds):"", end - start
"
28874,55236,Image smoothing in Python,"import scipy.signal
import numpy as np
import matplotlib.pyplot as plt

im = plt.imread('example.jpg')
im /= 255.   # normalise to 0-1, it's easier to work in float space

# make some kind of kernel, there are many ways to do this...
t = 1 - np.abs(np.linspace(-1, 1, 21))
kernel = t.reshape(21, 1) * t.reshape(1, 21)
kernel /= kernel.sum()   # kernel should sum to 1!  :) 

# convolve 2d the kernel with each channel
r = scipy.signal.convolve2d(im[:,:,0], kernel, mode='same')
g = scipy.signal.convolve2d(im[:,:,1], kernel, mode='same')
b = scipy.signal.convolve2d(im[:,:,2], kernel, mode='same')

# stack the channels back into a 8-bit colour depth image and plot it
im_out = np.dstack([r, g, b])
im_out = (im_out * 255).astype(np.uint8) 

plt.subplot(2,1,1)
plt.imshow(im)
plt.subplot(2,1,2)
plt.imshow(im_out)
plt.show()
"
35794,72241,Changing the values in a numpy array depending on the area of a circle,"import numpy as np
import matplotlib.pyplot as plt

grid = np.zeros((10,10), dtype=np.bool)
square_length = 0.5
circles = {'c1':[[4,2],1.5],'c2':[[5,6],2.0]}

# Generate arrays of indices/coordiates so we can do the
# calculations the Numpy way, without resorting to loops
# I always get the index order wrong so double check...
xx = np.arange(grid.shape[0])
yy = np.arange(grid.shape[1])

for val in circles.itervalues():
    radius = val[1]
    # same index caveat here
    # Calling Mr Pythagoras: Find the pixels that lie inside this circle
    inside = (xx[:,None] - val[0][0]) ** 2 + (yy[None, :] - val[0][1]) ** 2 <= (radius ** 2)
    # do grid & inside and initialize grid with ones for intersection instead of union
    grid = grid | inside 

plt.imshow(grid)
plt.show()
"
39138,76855,Autocompletion not working with PyQT4 and PyKDE4 in most of the IDEs,">>> from PyQt4 import QtGui
>>> dir(QtGui.QToolBox) 
['Box', ... contextMenuPolicy', 'count', 'create', 'currentChanged'...]
"
2695,28847,Optimal way to filter object from list of django model objects,"choice_dict = {c.question_id: c for c in Choice.objects.filter(question__in=questions).all()}
for question in questions:
     Answer(question=question,
            choice=choice_dict[question.id],
            response=response)
"
3560,66603,Radiobuttons in Python (TKinter),"radio_var = IntVar(value=0)

Radio_1 = Radiobutton(the_window,
                      text=""First"",
                      variable=radio_var,  # <---
                      command=change_first_set_colour,  # <---
                      value=1)
Radio_1.place(x=50, y=165)  # <---

...

Radio_2 = Radiobutton(the_window,
                      text=""Second"",
                      variable=radio_var,  # <---
                      command=change_second_set_colour,  # <---
                      value=2)
Radio_2.place(x=180, y=165)  # <---

...

Radio_3 = Radiobutton(the_window,
                      text=""Third"",
                      variable=radio_var,  # <---
                      command=change_third_set_colour,  # <---
                      value=3)
Radio_3.place(x=345, y=165)  # <---
"
10673,71246,How to format a number with comma and specified precision digits in Python,">>> locale.setlocale(locale.LC_ALL, '')
'en_US.UTF-8'
>>> locale.format(""%.4f"", 12345.678912, grouping=True)
'12,345.6789'
"
32789,50249,Access list of tuples,">>> x = [('a_key', 'a value'), ('another_key', 'another value')]
>>> y = dict(x)
>>> y['a_key']
'a value'
>>> y['another_key']
'another value'
"
34245,74497,"List nearby/discoverable bluetooth devices, including already paired, in Python, on Linux","import dbus

bus = dbus.SystemBus()

manager = dbus.Interface(bus.get_object('org.bluez', '/'), 'org.bluez.Manager')

adapterPath = manager.DefaultAdapter()

adapter = dbus.Interface(bus.get_object('org.bluez', adapterPath), 'org.bluez.Adapter')

for devicePath in adapter.ListDevices():
    device = dbus.Interface(bus.get_object('org.bluez', devicePath),'org.bluez.Device')
    deviceProperties = device.GetProperties()
    print deviceProperties[""Address""]
"
5505,73867,How to retrieve the row and column information of a button and use this to alter its settings in python,"from tkinter import *

root = Tk()

def showGrid():
    row    = btn.grid_info()['row']      # Row of the button
    column = btn.grid_info()['column']   # grid_info will return dictionary with all grid elements (row, column, ipadx, ipday, sticky, rowspan and columnspan)
    print(""Grid position of 'btn': {} {}"".format(row, column))

btn = Button(root, text = 'Click me!', command = showGrid)
btn.grid(row = 0, column = 0)

root.mainloop()
"
3461,82769,Linked list search to stop loops before they happen,"def get_valid_links(pointers, current_frame):
    allowed_frames = []

    for frame in pointers:
        if frame == current_frame:
            continue

        sequence = []
        next_frame = pointers[frame]
        while next_frame:
            sequence.append(next_frame)
            next_frame = pointers[next_frame]

        if current_frame not in sequence:
            allowed_frames.append(frame)

    return allowed_frames
"
23816,78752,"how to select an item in multiple dictionaries, python",">>> u = {'flavor': {'version': u'X', 'name': 'MacOS'}, 'dist': {'version': u'AppleCoreMedia/1.0.0.8C148', 'name': 'iPad'}}
>>> terminal = u['dist']['name']
>>> terminal
'iPad'
"
19571,81988,How to use __del__ in a reliable way?,"x.__enter__()
try:
    ...
finally:
    x.__exit__()
"
27361,70179,Reverse an explicit assignment of _ in python?,"$ python
>>> _ = 3
>>> _
3
>>> 5
5
>>> _
3
>>> del _
>>> 6
6
>>> _
6
"
25150,10961,SQLAlchemy events after_create for all models,"@event.listens_for(AuditColumns, ""instrument_class"", propagate=True)
def instrument_class(mapper, class_):
    if mapper.local_table is not None:
        trigger_for_table(mapper.local_table)

def trigger_for_table(table):
    trig_ddl = DDL(""""""
                CREATE TRIGGER tr_%s_audit_columns BEFORE INSERT OR UPDATE
                ON %s
                FOR EACH ROW EXECUTE PROCEDURE
                ss_test();
            """""" % (table.name, table.name))

    event.listen(table, 'after_create', trig_ddl)
"
10474,49094,pygtk read-only gtk.TextView (make it ignore mouse clicks),"tview = gtk.TextView()
tview.set_property('editable', False)


# Insert text at the end on the textview.
buffer = tview.get_buffer()
buffer.insert(buffer.get_end_iter(), 'This text goes at the end of the existing text')
"
37957,48594,Tensorflow return similar images,"def run_inference_on_image(image):
  """"""Runs inference on an image.
  Args:
    image: Image file name.
  Returns:
    Nothing
  """"""
  if not gfile.Exists(image):
    tf.logging.fatal('File does not exist %s', image)
  image_data = gfile.FastGFile(image, 'rb').read()

  # Creates graph from saved GraphDef.
  create_graph()

with tf.Session() as sess:
 # Some useful tensors:
 # 'softmax:0': A tensor containing the normalized prediction across
 #   1000 labels.
 # 'pool_3:0': A tensor containing the next-to-last layer containing 2048
 #   float description of the image.
 # 'DecodeJpeg/contents:0': A tensor containing a string providing JPEG
 #   encoding of the image.
 # Runs the softmax tensor by feeding the image_data as input to the graph.
 softmax_tensor = sess.graph.get_tensor_by_name('softmax:0')
 feature_tensor = sess.graph.get_tensor_by_name('pool_3:0') #ADDED
 predictions = sess.run(softmax_tensor,
                        {'DecodeJpeg/contents:0': image_data})
 predictions = np.squeeze(predictions)
 feature_set = sess.run(feature_tensor,
                        {'DecodeJpeg/contents:0': image_data}) #ADDED
 feature_set = np.squeeze(feature_set) #ADDED
 print(feature_set) #ADDED
 # Creates node ID --> English string lookup.
 node_lookup = NodeLookup()

 top_k = predictions.argsort()[-FLAGS.num_top_predictions:][::-1]
 for node_id in top_k:
   human_string = node_lookup.id_to_string(node_id)
   score = predictions[node_id]
   print('%s (score = %.5f)' % (human_string, score))
"
33072,53995,python - most recent file in list,"list = [['multinational_intel_2014-10-22T110406Z.zip', '2014 10 22 11:05:19'],
        ['multinational_intel_2014-10-24T140006Z.zip', '2014 10 24 14:02:51'],
        ['multinational_intel_2014-11-12T104622Z.zip', '2014 11 12 10:47:49'],
        ['multinational_intel_2014-11-10T131155Z.zip', '2014 11 10 13:13:57'],
        ['multinational_intel_2014-11-14T172344Z.zip', '2014 11 14 17:25:17'],
        ['multinational_intel_2014-11-11T103518Z.zip', '2014 11 11 10:36:47']]

sorted_list = sorted(list, key=lambda x: x[1], reverse=True)
most_recent = sorted_list[0][0]
print most_recent
"
36692,31186,Rebooting a Netgear XWn5001,"webReq = System.Net.HttpWebRequest.Create(""http://192.168.1.155/"" + cLink)
            webReq.Method = ""POST""
            webReq.CookieContainer = CookieContainer        

            webReq.Accept = ""text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8""
            webReq.Referer = (""http://192.168.1.155/reboot.htm"")
            webReq.UserAgent = ""Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:31.0) Gecko/20100101 Firefox/31.0""      

            webReq.KeepAlive = True

            webReq.AllowAutoRedirect = False

            webReq.Credentials = NetworkCredential(cLogin, cPW)

            webReq.Headers.Add(""Authorization"", auth)       
            webReq.Headers.Add(""DNT: 1"")
            webReq.Headers.Add(""Accept-Encoding: gzip, deflate"")

            webReq.ContentType = ""application/x-www-form-urlencoded""

            byData = System.Text.Encoding.ASCII.GetBytes(""submit_flag=reboot&yes=Yes"")
            webReq.ContentLength = byData.Length

            webWriter = webReq.GetRequestStream()
            webWriter.Write(byData, 0, byData.Length)
            webWriter.Flush()
            webWriter.Close()
            webWriter.Dispose()
"
20075,5607,inner product of a matrix,"import pandas as pd
import numpy as np

np.random.seed([3, 1415])
df = pd.DataFrame(np.random.rand(10, 3).round(2), columns=['one', 'two', 'three'])

# pandas approach
print df.mul(df).sum().sum()

# numpy approach
print np.square(df.values).sum()

10.9148
10.9148
"
14864,81950,compose function and functional module,"from functools import reduce

def flip(f):
    if not callable(f):
        raise TypeError(""Cannot filp a non-callable object"")
    def result(*args, **kw):
        args = list(args)
        args.reverse()
        return f(*args, **kw)
    return result

def ilast(i):
    return reduce(lambda _, x: x, i)

def iscanl(f, v, seq):
    yield v
    for a in seq:
        v = f(v, a)
        yield v

def scanl(*args, **kw):
    return list(iscanl(*args, **kw))

def foldl(*args, **kw):
    return ilast(iscanl(*args, **kw))
# Or using reduce
#def foldl(f, v, seq):
#    return reduce(f, seq, v)

def iscanr_reverse(f, v, seq):
    return iscanl(flip(f), v, seq)

def scanr(*args, **kw):
    result = list(iscanr_reverse(*args, **kw))
    result.reverse()
    return result

def foldr(*args, **kw):
    return ilast(iscanr_reverse(*args, **kw))
"
608,43577,Checking compatible total orders given by a Python list,"def compat5(L1, L2):
    z = zip(L1, L2)
    return not any(j1<k1 and j2>k2 for j1,j2 in z for k1,k2 in z)
"
9771,12722,Matching integers in a loop in python,"if i in match:
"
20248,28748,Cannot read character from the list to use in ord(),"in_text = input_file.read()
frequencies = []

for i in range(65,91): #from A to Z
    frequencies.append(in_text.count(chr(i)))

print frequencies
"
17153,73570,How to Pool Shell Processes in Perl and/or C,"use Parallel::ForkManager qw( );
my $pm = Parallel::ForkManager->new(8);
for my $cmd (@cmds) {
   $pm->start and next;
   exec($cmd)
      or die;
}
"
10999,26416,Python split string by start and end characters,"""(hello) (yes) (yo diddly)""[1:-1].split("") ("")
"
13706,34446,how to make a 2-digit string from an integer using regex in python,">>> '%02d' % 5
'05'
>>> '%02d' % 12
'12'
"
36152,20451,compile libdnet for python 2.7,"Windows 2000/XP
---------------

For raw Ethernet sending, install the WinPcap driver and DLLs, and
extract their developer pack to a build directory:

        http://winpcap.polito.it/install/default.htm

# XXX - unsupported for now
# For tunnel interface support, install the OpenVPN ""TAP-Win32 Virtual
# Ethernet Adapter"" component (their Windows installer will let you
# install it alone):
#
#       http://openvpn.sourceforge.net/

For firewall support, install HSC's PktFilter service:

        http://www.hsc.fr/ressources/outils/pktfilter/index.html.en

Most Windows developers should just use the libdnet developer's pack
(with MinGW and MSVC++ libraries) instead of building it themselves.
But for those who really want to know...

To build a MinGW native library (under Cygwin+MinGW):

        ./configure && make

To build a Microsoft Visual C++ native library and Python module
(again, under Cygwin+MinGW):

        ./configure
        cd python && C:/Python23/python.exe setup.py build
        cd ../src && lib /out:dnet.lib *.obj
"
12114,47455,Replace Ctr+H copy row and change it ,"with open('input.txt') as input, open('output.txt', 'w') as output:
    for line in input:
        output.write(line.replace('glVertex3f', 'glColor3f'))
        output.write(line)
"
29600,62204,Python SQLite how do you do partial searches using '?' placeholders?,"q = '''SELECT * FROM MY_TABLE WHERE FIELD LIKE ?'''
some_query_value = '%test%'
cursor.execute(q, [some_query_value])
"
17081,61885,Tkinter: How to set ttk.Radiobutton activated and get its value?,"rb1 = ttk.Radiobutton(self.frame, text='5', variable=self.my_var, value=5,command=self.selected)
rb2 = ttk.Radiobutton(self.frame, text='10', variable=self.my_var, value=10,command=self.selected)
rb3 = ttk.Radiobutton(self.frame, text='15', variable=self.my_var, value=15,command=self.selected)
self.rb1.grid(row=0)
self.rb2.grid(row=1)
self.rb3.grid(row=2)

def selected(self):
     if self.my_var.get()==5:
        ""do something""
     elif self.my_var.get()==10:
        ""do something""
     else:
        ""do something""
"
13429,12039,Loading timestamp upon page load and comparing it to timestamp upon form submit,"def add_timestamp_context(request):
    return {'current_time': datetime.datetime.now()}
"
12586,53162,Colors not varying - python graphics,"import graphics
from graphics import color_rgb
import random

window= graphics.GraphWin(""x"", 600, 400)
stripes = input(""How many stripes should be on the flag"")
stripes = int(stripes)
#count = 0
#count = int(count)
#P1=graphics.Point(0,0) #left corner - anchor point
stepdim = 400/stripes #size of divisions
for x in range(stripes): #loop for number of stripes
    #col= random.randint(1,255)
    #stepdim = int(stepdim)
    #shrink = count*stepdim
    #shrink = int(shrink)
    #stepdim = stepdim*10 #enlarge to an increment below the last
    #stepdim = stepdim-shrink
    #stepdim = int(stepdim)
    #P2=graphics.Point(600,stepdim) #bottom right corner - ever shrinking
    P1=graphics.Point(0, stepdim * x) #left corner - anchor point
    P2=graphics.Point(600,stepdim * (x + 1)) #bottom right corner - ever shrinking
    outsiderec=graphics.Rectangle(P1,P2)
    #outsiderec.setFill(color_rgb(100, col, 0))
    red = random.randint(1, 255)
    green = random.randint(1, 255)
    blue = random.randint(1, 255)
    outsiderec.setFill(color_rgb(red, green, blue))
    outsiderec.draw(window)
    #count= count + 1
    #count= int(count)
window.getMouse()
window.close()
"
26379,51778,Django: Put a Form into a Form (recursive ...),"from django import forms
from django.contrib.auth.forms import UserCreationForm
from composite_form.forms import CompositeForm
from example.models import Profile


class BaseProfileForm(forms.ModelForm):
    class Meta:
        model = Profile
        exclude = (""user"")


class ProfileForm(CompositeForm):
    form_list = [UserCreationForm, BaseProfileForm]

    def clean_address(self):
        return ""blah""

    def save(self, commit=True):
        if not self.is_valid():
            raise ValueError(""Invalid form"")
        user_form = self.get_form(UserCreationForm)
        user = user_form.save()
        profile_form = self.get_form(BaseProfileForm)
        profile_form.instance.user = user
        return profile_form.save()
"
4612,35982,How to perform a calculation involving values from multiple rows?,"In [266]: x['r1'] - x['r2'].shift(-1)
Out[266]: 
0   -1.517905
1    1.003529
2    0.181406
3    1.744022
4    1.293801
5   -1.232398
6   -1.816062
7         NaN
dtype: float64
"
31276,63514,Refer to item from foreign key,"class questions(db.Model):
    subject_id = db.Column(db.Integer, db.ForeignKey('subjects.id'))
    subject = db.relationship(""subjects"")
    ... etc ...
"
1489,79608,How to take user input and create an object with it?,"from django.forms import ModelForm
from django.db import models

class Book(models.Model):
    title = models.CharField(max_length=128)
    author = models.CharField(max_length=128)
    pub_date = models.DateTimeField(auto_now_add=True)
    # ...

# The form class.
class BookForm(ModelForm):
     class Meta:
         model = Book
         fields = ('title', 'author', )

# Use your form in a template and then in the view:
f = BookForm(request.POST)
if f.is_valid():
    new_book = f.save()
"
24429,48742,Django User model validators,"from django.contrib.auth.models import User

def validate_for_fs(value): # <-- If the value string doesn't meet a condition required to be a name on the filesystem then throw a ValidationError
    if foo_condition_not_met:
        raise ValidationError(u'foo is not true for %s' % value)
    if bar_condition_not_met:
        raise ValidationError(u'bar is not true for %s' % value)

for field in [f for f in User._meta.fields if f.name in ['first_name','last_name','email']]:
    field.validators.append(validate_for_fs)
"
8207,29942,"Grab two parts of a single, short string","import re
line = '4.20    AENC    [#sec4.20 Audio encryption]'
full_match = re.search(r'^\S+\s+(\S+)\s+\[#\S+ (.*?)\]', line)
dict_key = full_match.group(1)   # 'AENC'
id3v2_tag = full_match.group(2)  # 'Audio encryption'
"
32621,36211,Use blocks from included files for parent in jinja2,"//File T1
<root>
  <block t3_container>
    {% block t3 %}{% endblock %}
  </block t3_container>

  <block t2_container>
  {% block t2 %}{% endblock %}
  </block t2_container>
</root>

// File T2
{% extends 't1.djhtml' %}
{%- from 't3.djhtml' import inner, inner2 with context %}

{% block t3 %}
   {{inner2()}}   
{% endblock %}

{% block t2 %}
    <block t2>
        {{ inner() }}
    </block t2>
{% endblock %}

// File T3
{% macro inner2() %}
    <block t3>
        CONTENT '{{foo+1}}'
    </block t3>
{% endmacro %}

{% macro inner() %}
  hello
{% endmacro %}

// test.py
from jinja2 import Environment, FileSystemLoader
env  = Environment(loader=FileSystemLoader(''))
t=env.get_template('t2.djhtml')
print t.render({ 'foo' : 122 })
"
3065,31874,Flask validates decorator multiple fields simultaneously,"@validates('field_one', 'field_two')
def validates_fields(self, key, value):
    if key == 'field_two':
        assert self.field_one != value
    return value
"
38211,3518,Most memory efficient way to read chunk in a buffer in Python,"from random import random

def random_selection(filename, temp_dir, minx, maxy, size, parse, num):
    selection = {}
    excluded = set()
    with open(filename) as file:
        for i, line in enumerate(file):
            x, y, _ = line.split(parse, 2)
            row_col = point_grid_id(float(x), float(y), minx, maxy, size)
            try:
                n, selected_i = selection[row_col]
            except KeyError:
                selection[row_col] = 1, i
            else:
                n += 1
                if random() < 1.0 / n:
                    excluded.add(selected_i)
                    selected_i = i
                selection[row_col] = n, selected_i

    with open(filename) as file:
        for i, line in enumerate(file):
            if i not in excluded:
                #process the line
"
27664,41801,Python socket.accept nonblocking?,"import select
import socket

server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
server_socket.bind(('', 8888))
server_socket.listen(5)
print ""Listening on port 8888""

read_list = [server_socket]
while True:
    readable, writable, errored = select.select(read_list, [], [])
    for s in readable:
        if s is server_socket:
            client_socket, address = server_socket.accept()
            read_list.append(client_socket)
            print ""Connection from"", address
        else:
            data = s.recv(1024)
            if data:
                s.send(data)
            else:
                s.close()
                read_list.remove(s)
"
699,31661,Python: Plot a graph with the same x-axis values,"import datetime
import random
import numpy as np
import datetime
import itertools


dates, allSpillovers, allBins, allDigitised = [], [], [], []
with open(""year.dat"") as year:
  previousDate = None
  spillovers = []
  for line in year.readlines()[1:]:
    _, strdate, spillover = line.split("","")
    spillover = float(spillover)
    year, month, day = [int(i) for i in strdate.split(""-"")]

    date = datetime.date(year, month, day)

    if previousDate == date:
      spillovers.append(spillover)
    elif previousDate != None:
      mean = np.mean(spillovers)
      stdev = np.std(spillovers)

      spillovers.sort()
      if len(spillovers) > 70:
          allSpillovers.append([mean, mean-stdev, mean+stdev] + spillovers)
          dates.append(date)
      spillovers = []

    previousDate = date



#itertools.izip_longest(*allSpillovers, fillvalue=0)
allSpillovers = zip(*allSpillovers)


from matplotlib import pyplot

print len(dates), len(allSpillovers[0]), len(allSpillovers[1])

fig = pyplot.figure()
ax = fig.add_subplot(1,1,1)


for i in range(3, len(allSpillovers)-1):
  alpha = 0.5 - abs(i / float(len(allSpillovers)) - 0.5)
  print len(dates), len(allSpillovers[i]), len(allSpillovers[i+1])
  ax.fill_between(dates, allSpillovers[i], allSpillovers[i+1], facecolor='green', interpolate=True, alpha=alpha, linewidth=0)

#ax.fill_between(dates, allSpillovers[1], allSpillovers[2], facecolor='green', interpolate=True, alpha=0.5)

#for b, d in bins, digitised:



ax.plot(dates, allSpillovers[0], color=""blue"", linewidth=2)
ax.plot(dates, [0 for _ in dates], color=""red"", linewidth=2)
ax.grid()

fig.autofmt_xdate()

pyplot.show()
"
19532,24990,"Python: introspection, How would I verify that values in a series are strings?","In [11]: agepreg_cuts.apply(type)
Out[11]:
0    <class 'str'>
1    <class 'str'>
2    <class 'str'>
3    <class 'str'>
4    <class 'str'>
5    <class 'str'>
6    <class 'str'>
7    <class 'str'>
8    <class 'str'>
9    <class 'str'>
dtype: object

In [12]: agepreg_cuts.apply(type).value_counts()
Out[12]:
<class 'str'>    10
dtype: int64
"
15775,17153,"Python: Create a Dict of Tuple (int, Counter) types"," variable = defaultdict(lambda : (int(), Counter()))
"
10423,68079,character escaping: from Python string literal to JSON and then to HTML,"from cgi import escape
from json import dumps

ajax_response = dumps(escape('<a href=""http://www.example.com/path/location'
                             '?query=string&more=this#anchor"">'
                             'FooBar & Friends</a>'))
"
11182,76925,Extracting an element and converting it to datetime,"print datetime.strptime(mylist[4], '%Y%m')
"
4235,18546,matplotlib animation multiple datasets,"def update_lines(num, data1, data2, line1, line2):
    line1.set_data(data1[...,:num])
    line2.set_data(data2[...,:num])
    return line1,line2

data1 = np.random.rand(2, 25)
data2 = np.random.rand(2, 25)

fig1 = plt.figure()
ax1 = fig1.add_subplot(121)
ax2 = fig1.add_subplot(122)
l1, = ax1.plot([], [], 'r-')
l2, = ax2.plot([], [], 'g-')
for ax in (ax1, ax2):
    ax.set_xlim(0, 1)
    ax.set_ylim(0, 1)
    ax.set_xlabel('x')
    ax.set_title('test')
line_ani = animation.FuncAnimation(fig1, update_lines, 25, fargs=(data1, data2, l1, l2),interval=50, blit=False)
"
6342,47065,Python: HTTP Post a large file with streaming,"import urllib2
import mmap

# Open the file as a memory mapped string. Looks like a string, but 
# actually accesses the file behind the scenes. 
f = open('somelargefile.zip','rb')
mmapped_file_as_string = mmap.mmap(f.fileno(), 0, access=mmap.ACCESS_READ)

# Do the request
request = urllib2.Request(url, mmapped_file_as_string)
request.add_header(""Content-Type"", ""application/zip"")
response = urllib2.urlopen(request)

#close everything
mmapped_file_as_string.close()
f.close()
"
21533,64420,no access to GetCaptureProperty or any similar function in python opencv,"import cv2
import cv2.cv as cv

#Using cv2:
stream = cv2.VideoCapture(filename)
print stream.get(cv.CV_CAP_PROP_FRAME_COUNT)

#using cv:
stream = cv.CaptureFromFile(filename)
print cv.GetCaptureProperty(stream, cv.CV_CAP_PROP_FRAME_COUNT)
"
27174,8308,Return the smallest element value in a list of lists,">>> from operator import itemgetter
>>> lst = [[""fileA"",7],[""fileB"",4],[""fileC"",17],[""fileD"",15]]
>>> min(lst, key=itemgetter(1))
['fileB', 4]
>>> min(lst, key=itemgetter(1))[0]
'fileB'
>>>
"
30963,59227,write() file by inserting dict in specific key order and format,">>> from pprint import pformat
>>> my_dct = dict(
    k1=1,
    k3=3,
    k2=2,)
>>> print('my_dct = {{\n {}\n}}'.format(pformat(my_dct, width=1)[1:-1]))
my_dct = {
 'k1': 1,
 'k2': 2,
 'k3': 3
}
"
3024,19296,How to save/convert and read image in python with defined values for colors,"lut = range(256)  # initialize to an identity lut
lut[0]   = 2
lut[128] = 1
lut[255] = 0
Image.open(imgname).convert('L').point(lut).save(imgname)
"
29589,17670,Safe-reading of Python literals,"from ast import literal_eval

s = ""[ (3,7), (8,15), (17,21) ]""
t = literal_eval(s)
# [(3, 7), (8, 15), (17, 21)]

type(t)
<type 'list'>
type(t[0])
<type 'tuple'>
"
38107,13432,Understanding reflection in django for refactoring,"def autocomplete(self, request, class_name, attr_name):
    term = request.GET.get('term', '')
    data = Autocomplete.get_json_autocomplete(
        class_name.objects.filter(**{attr_name + '__icontains': term}),
        lambda x: getattr(x, attr_name)
    )
    return HttpResponse(data, 'application/json')
"
11441,16836,to mock a list using mock library 1.0.1,"from mock import patch
foo = ['original', 'stuff']
with patch('__main__.foo', new=['mocked', 'items']):
    assert foo == ['mocked', 'items']
assert foo == ['original', 'stuff']
"
37976,12401,Python Easiest Way to Sum List Intersection of List of Tuples,"result = {}
for k, v in my_list + other_list:
    result[k] = result.get(k, 0) + v
"
28443,75168,DRYing up classes that duplicate methods,"class NameShowMixin(object):
    def showName(self):
        openWindow()
        print self.name
"
22361,1532,"Add new ""plugin"" to Flask app in runtime","app.register_blueprint(imported_plugin.plugin_handler, url_prefix=imported_config.FOO)
"
12097,27479,Python - run external script,"with file('a.py','rU') as f:
  co=compile(f.read(),'foobar','exec')
  exec co in {'__name__':'__main__'}
"
1461,45718,Use two columns for unique entry identification,"df2[~df2[[""EmployeeName"",""JobTitle""]].duplicated()]
"
24538,15868,Tkinter Limit Size Of Popup per line,"class WrappedBox(object):
    def __init__(self, title, message, wraplength=60):
        self.title = title
        self.message = message
        self.wraplength = wraplength

        self.messageWrapped = '\n'.join([self.message[i:i+self.wraplength] for i in xrange(0,len(self.message),self.wraplength)])

        tkMessageBox.showinfo(self.title, self.messageWrapped)

WrappedBox(""Results"", str(e), wraplength=30)
"
5295,65674,set the properties of a class fixed once in order to avoid tedious calculation,"class makemock(object):
    def __init__(self, g1, g2, source_pos, z, h_pos, h_z, **kw):
        self.scale = 0.238
        self.arcsec2rad = np.pi/180./60./60.
        self.g1 = g1
        self.g2 = g2
        self.source_pos = source_pos
        self.z = z
        self.h_pos = h_pos
        self.h_z = h_z
        pos= PositionsD(self.source_pos)
        center=PositionsD(self.h_pos)
        dx_mpc = (pos.x-center.x)*self.arcsec2rad*self.scale
        dy_mpc = (pos.y-center.y)*self.arcsec2rad*self.scale 
        dist= np.vectorize(complex)(dx_mpc, dy_mpc)  
        r= abs(dist)  
        norm= -dist/np.conjugate(dist)
        gabs= np.sqrt(self.g1**2 + self.g2**2 )

        phiell=np.arctan2(self.g2, self.g1) /2.
        phipos=np.arctan2( (pos.y-center.y), (pos.x-center.x) )
        et = -gabs * np.cos( 2*(phiell-phipos) )
        ec = -gabs * np.sin( 2*(phiell-phipos) )
        obs_g=np.vectorize(complex)(et, ec) 
        self.__dict__.update(kw)
        del kw
        self.__dict__.update(locals()) 
        del self.self
    def dump(self):
        print repr(self.__dict__)


    def data2model(self,params):
        rs = params
        x  = self.r/rs
        P  = len(self.r)
        gamma  = np.zeros((P,), dtype=np.float64, order='C')
        kappa  = np.zeros((P,), dtype=np.float64, order='C')
        farcth = np.zeros((P,), dtype=np.float64, order='C')

        m1 = np.where(x < 1.0)[0]
        kappa[m1] = 2/(x[m1]**2 - 1) * \
             (1 - np.log((1 + ((1 - x[m1])/(x[m1] + 1))**0.5)/(1 - ((1 - x[m1])/(x[m1] + 1))**0.5))/(1 - x[m1]**2)**0.5)

        farcth[m1]=0.5*np.log((1.+((1.-x[m1])/(x[m1]+1.))**0.5)/(1.-((1.-x[m1])/(x[m1]+1.))**0.5))/(1-x[m1]**2)**0.5

        gamma[m1] = 4*(np.log(x[m1]/2) + 2*farcth[m1]) * x[m1]**(-2) - kappa[m1]
        model_g = self.norm* gamma /(1. - kappa )
        e = (self.obs_g+model_g)/(1+np.conjugate(model_g)*self.obs_g)
        mask=(abs(model_g)>1.)
        if (np.sum(mask)>0):
        e[mask]=1./np.conjugate(e[mask])
        return e
"
10434,79919,Unexpected output from list.append(),"class lin_reg(object):
     def __init__(self):
         self.indep, self.dep = self.initialise_from_user()
         self.total = self.indep + self.dep
         print self.indep, self.dep, self.total
         self.n = len(self.total)

def initialise_from_user(self):
    analysis_type = raw_input('Type of Regression(linear-n,nonlinear-nl): ')
    n = int(raw_input('Number of Independent Variables: '))

    indep = [np.matrix(raw_input('Enter the array: ')) for _ in range(self.n)]
    dep =  np.matrix(raw_input('Enter the dependent array: '))

    return indep, dep
"
35257,58244,python - how can I redirect the output of unittest? Obvious solution doesn't work,"python my_unit_test_launcher.py 2> log.txt
"
10406,12788,calculate time elapsed timedelta from pandas datetime index,"In [30]: ts = Series(13,date_range('20140714 14:47:57',periods=10,freq='s'))

In [31]: ts
Out[31]: 
2014-07-14 14:47:57    13
2014-07-14 14:47:58    13
2014-07-14 14:47:59    13
2014-07-14 14:48:00    13
2014-07-14 14:48:01    13
2014-07-14 14:48:02    13
2014-07-14 14:48:03    13
2014-07-14 14:48:04    13
2014-07-14 14:48:05    13
2014-07-14 14:48:06    13
Freq: S, dtype: int64

# iirc this is available in 0.13.1 (if not, use ``Series(ts.index)``
In [32]: x = ts.index.to_series()

In [33]: x-x.iloc[0]
Out[33]: 
2014-07-14 14:47:57   00:00:00
2014-07-14 14:47:58   00:00:01
2014-07-14 14:47:59   00:00:02
2014-07-14 14:48:00   00:00:03
2014-07-14 14:48:01   00:00:04
2014-07-14 14:48:02   00:00:05
2014-07-14 14:48:03   00:00:06
2014-07-14 14:48:04   00:00:07
2014-07-14 14:48:05   00:00:08
2014-07-14 14:48:06   00:00:09
Freq: S, dtype: timedelta64[ns]
"
11482,78712,Why do two algorithms for finding primes differ in speed so much even though they seem to do the same number of iterations?,"Ticks: 259987
4832
Divisions: 20353799
4832
"
35449,22630,Using the OVER window function in SQLAlchemy,"select(
    [
        bar.c.foo,
        func.count().over().label('full_count'),
    ],
    ...
)
"
30302,54162,How can I determine which version of virtualenvwrapper is installed?,"$ which virtualenvwrapper.sh
/Library/Frameworks/Python.framework/Versions/2.7/bin/virtualenvwrapper.sh
$ cd /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/
$ ls virtualenvwrapper*
virtualenvwrapper-2.10.1-py2.7-nspkg.pth
virtualenvwrapper-2.10-1-py2.7.egg-info
"
23203,68259,python udisks - enumerating device information,"import dbus

bus = dbus.SystemBus()
ud_manager_obj = bus.get_object(""org.freedesktop.UDisks"", ""/org/freedesktop/UDisks"")
ud_manager = dbus.Interface(ud_manager_obj, 'org.freedesktop.UDisks')

for dev in ud_manager.EnumerateDevices():
    device_obj = bus.get_object(""org.freedesktop.UDisks"", dev)
    device_props = dbus.Interface(device_obj, dbus.PROPERTIES_IFACE)
    print device_props.Get('org.freedesktop.UDisks.Device', ""DriveVendor"")
    print device_props.Get('org.freedesktop.UDisks.Device', ""DeviceMountPaths"")
    print device_props.Get('org.freedesktop.UDisks.Device', ""DriveSerial"")
    print device_props.Get('org.freedesktop.UDisks.Device', ""PartitionSize"")
"
36723,39312,computing the occurences of a number in a list with recursion,"def array11(arr, index):
    if index == len(arr):
        return 0
    return (arr[index] == 11) + array11(arr, index + 1)
"
13076,48176,How to store a CSV file uploaded via Django into a blobstore on Google App Engine?,"filename = files.blobstore.create(mime_type='text/csv')
csvfile = request.FILES.get('csvfile')

with files.open(filename, 'a') as output_file: 
    writer = csv.writer(output_file, quoting=csv.QUOTE_NONE)
    for row in csv.reader(csvfile.read().splitlines()):
         writer.writerow(row)

files.finalize(filename)
"
28525,64422,Numpy Trapezoidal Distribution for Age Distribution,"import numpy as np
import matplotlib.pyplot as p
%matplotlib inline

def agedistro(turn,end,size):
    pass
    totarea = turn + (end-turn)/2  # e.g. 50 + (90-50)/2
    areauptoturn = turn             # say 50
    areasloped = (end-turn)/2     # (90-50)/2
    size1= int(size*areauptoturn/totarea)
    size2= size- size1 
    s1 = np.random.uniform(low=0,high=turn,size= size1)  # (low=0.0, high=1.0, size=None)
    s2 = np.random.triangular(left=turn,mode=turn,right=end,size=size2) #(left, mode, right, size=None)
            # mode : scalar-  the value where the peak of the distribution occurs. 
            #The value should fulfill the condition left <= mode <= right.
    s3= np.concatenate((s1,s2)) # don't use add , it will add the numbers piecewise
    return s3

s3=agedistro(turn=50,end=90,size=1000000)    
p.hist(s3,bins=50)
p.show()
"
12027,20056,How can I take an image and get a 3x2 ratio image cropped from the center?,"def letterbox(f,aspect_ratio=1):
    try:
        im = Image.open(StringIO(f))
        imagex = int(im.size[0])
        imagey = int(im.size[1])
        width = min(imagex, imagey*aspect_ratio)
        height = min(imagex/aspect_ratio, imagey)
        left =(imagex - width)/2
        top = (imagey - height)/2
        box = (left,top,left+width,top+height)
        im = im.crop(box)
        new_file = StringIO()
        im.save(new_file,'JPEG')
        new_file.seek(0)
    except Exception, e:
        pass
    return new_file
"
6772,74247,print python list with width specifiers,"hdrs = (""A"",""B"",""C"",""D"",""E"",""F"",""G"",""H"",""% Done"")
fmt_string = ''.join(""%%-%is"" % (len(h)+2) for h in hdrs)
print(fmt_string % hdrs)
print(fmt_string % tuple(""-""*(len(h)+1) for h in hdrs))
"
13397,75382,Train two models concurrently,"from sklearn.ensemble import GradientBoostingRegressor
from multiprocessing import Pool
from itertools import repeat

def train_model(params):
    model, data, target = params
    # since Pool args accept once argument, we need to pass only one
    # and then unroll it as above
    model.fit(data, target)
    return model

if __name__ == '__main__':
    gb1 = GradientBoostingRegressor(n_estimators=10)
    gb2 = GradientBoostingRegressor(n_estimators=100)

    live_data # Pandas DataFrame object
    target    # Numpy array object

    po = Pool(2) # 2 is numbers of process we want to spawn
    gb, gb2 = po.map_async(train_model, 
                 zip([gb1,gb2], repeat(data), repeat(target))
                 # this will zip in one iterable object
              ).get()
    # get will start the processes and execute them
    po.terminate()
    # kill the spawned processes
"
6546,32391,Create many objects. Django REST framework,"def create(self, validated_data):

    if 'recipients' in validated_data:
        recipients_data = validated_data.pop('recipients')
    else:
        recipients_data = []

    for recipient_data in recipients_data:
        created_my_model = MyModel.objects.create(recipient=User.objects.get(id=recipient_data['id']),
                                                  text=validated_data['text'])

    return something # here you need to decide what to return
"
16755,64047,How to formally deprecate a pip package,"import warnings
warnings.warn(""deprecated"", DeprecationWarning)
"
6964,84027,Adding internal spaces in pyplot legend,"import numpy as np
import matplotlib.pyplot as plt

KEu = 100.
KEm = 50.
KEl = 5.
X   = np.linspace(1,10,10) 

fig = plt.figure()
ax = plt.subplot(111)
ax.plot(X,KEu*X,label=r""Maximum Energy = {0:6.2f} MeV"".format(KEu))
ax.plot(X,KEm*X,label=r""Median  Energy = {0:6.2f} MeV"".format(KEm))
ax.plot(X,KEl*X,label=r""Minimum Energy = {0:6.2f} MeV"".format(KEl))
ax.legend(loc='upper left', prop={'family': 'monospace'})
plt.show()
"
34239,16507,How to create dynamic subdomains in a Flask application,"@app.before_request
def before_request():
    if 'api' == request.host[:-len(app.config['SERVER_NAME'])].rstrip('.'):
        redirect(url_for('api'))


@app.route('/', defaults={'path': ''}, subdomain='api')
@app.route('/<path:path>', subdomain='api')
def api(path):
    return ""hello""
"
12345,79698,Need to create a layered dict from a flat one,"def nest(d):
    rv = {}
    for key, value in d.iteritems():
        node = rv
        for part in key.split('/'):
            node = node.setdefault(part, {})
        node.update(value)
    return rv
"
22327,74940,How to use dcast function to transform my dataset," dcast(d1, userid~channel+day, value.var='day', drop=FALSE)
 #        userid dsp_1 dsp_2 dsp_3 dsp_4 osr_1 osr_2 osr_3 osr_4
 #1 64455670203     2     1     1     0     0     0     1     0
 #2 64455670204     0     1     0     1     0     1     1     1
"
16909,14151,"pandas, matplotlib: a way to assign same colors, line styles for same column labels across subplots?","import matplotlib.pyplot as plt
import numpy as np

# load your pandas DataFrames  df1 and df2 here 

ax = [plt.subplot(211), plt.subplot(211)]
pars = {'FR': {'color': 'r'},
        'stim_current': {'color': 'k'}}
ls_style = ['dashed', 'solid']
for ax_idx, name in enumerate(['FR', 'stim_current']):
    for df, ls in zip([df1, df2], ls_style):
        ax[ax_idx].plot(df.index, df[name], ls=ls, **pars[name])
"
9549,83296,How to change the dtype of a numpy recarray when one of the columns is an array?,"from astropy.table import Table
import pandas as pd

t = Table.read('file.fits')
df = pd.DataFrame.from_records(t, columns=t.columns) 
df.AC = df.AC.astype(float)
"
25636,71304,Python: Most efficient loop until condition,"while True:
  if first_number == second_number:
    do_something()
    break
  time.sleep(0.1)
"
11791,65325,Sort list of list with custom compare function in Python,">>> l = [list(range(i, i+4)) for i in range(10,1,-1)]
>>> l
[[10, 11, 12, 13], [9, 10, 11, 12], [8, 9, 10, 11], [7, 8, 9, 10], [6, 7, 8, 9], [5, 6, 7, 8], [4, 5, 6, 7], [3, 4, 5, 6], [2, 3, 4, 5]]
>>> sorted(l, key=sum)
[[2, 3, 4, 5], [3, 4, 5, 6], [4, 5, 6, 7], [5, 6, 7, 8], [6, 7, 8, 9], [7, 8, 9, 10], [8, 9, 10, 11], [9, 10, 11, 12], [10, 11, 12, 13]]
"
11110,26616,Python- Pass control flow back to top of the script,"import requests

def user_input():
    id1 = raw_input(""Enter the unique id:"")
    user = raw_input(""Enter your username:"")
    password = raw_input(""Enter corresponding password:"")

    try:
        r = requests.get('http://test.com/request.pl?id='+ id1 + user + password)
        if r.status_code == 404:
            print ""No such page exists.Please check the ID and try again""
        ## Ask for input again
            user_input()
        else:
            print r.text
    except requests.ConnectionError:
        print ""Server is refusing connections.Please try after sometime""
        sys.exit(1)
user_input()
"
3148,10736,python - select from a list of things,"print ('\n')
country = ''
province = ''
gstTax = 0.05
hrmTax = 0.13
otherTax = gstTax + 0.06
car = 30000.42
shoes = 333.24
laptop = 1000.98
itemsInBasket = []
itemsInBasket.append('Car added to the basket, price: {0:.2f} $'.format(car))
itemsInBasket.append('Shoes added to the basket, price: {0:.2f} $'.format(shoes))
itemsInBasket.append('Laptop added to the basket, price: {0:.2f} $'.format(laptop))

orderTotal = 0
for item in itemsInBasket:
    print item
    if 'Car' in item:
        orderTotal += car
    elif 'Shoes' in item:
        orderTotal += shoes
    elif 'Laptop' in item:
        orderTotal += laptop

country = str(raw_input('Country residence? ')).capitalize()
if country == 'Canada':
    province = str(raw_input('Which province? ')).capitalize()
    if province == 'Alberta':
        print 'Your final payment: ', (orderTotal + gstTax), '$'
    elif province == 'Ontario' or province == 'New Brunswick' \
        or province == 'Nova Scotia':
        print 'Your final payment: ', (orderTotal + hrmTax), '$'
    else:
        print 'Your final payment: ', (orderTotal + otherTax), '$'      
else:
    print 'Your final payment: ', (orderTotal), '$'
print 'Transaction ended, thank you for your purchase'
"
19585,13070,How do I remove a checkbutton when it is checked,"from tkinter import *


class App(object):

    def __init__(self, master):
        self.master = master
        self.frame = Frame(master)
        self.frame.grid()
        self.addFrame = Frame(master)
        self.addFrame.grid(row=0, column=0, columnspan=2, sticky='N')
        self.listFrame = Frame(master)
        self.listFrame.grid(row=1, column=0, columnspan=2, sticky='NW')
        self.todoList = []
        self.buttonList = []  #<--- button list is here now
        self.initUI()

    def initUI(self):

        self.entryBox = Entry(self.frame, width = 15)
        self.entryBox.grid(row=0, column=0, sticky='N')

        self.addButton = Button(self.frame, text=""<-ADD->"", command=self.add)
        self.addButton.grid(row=0, column=1, sticky='N')


    def removeCheckButton(self, button_no):
        # - CONFUSED HOW TO REMOVE THE SPECIFIC CHECKBUTTON
       # print(button_no, self.buttonList[button_no])
        #self.buttonList[button_no].grid_forget()
        self.buttonList[button_no].destroy()
       # del self.buttonList[button_no]
       # del self.todoList[button_no]


    def add(self):
        entry = self.entryBox.get()
        self.entryBox.delete(0, END)
        self.todoList.append(entry)
        print(self.todoList)
        var1 = IntVar()
        #self.buttonList = [] #<--- not sense having this here
      #  for n in range(len(self.todoList)): #<-- this for also very strange here.
        n = len(self.buttonList)
        lx = Checkbutton(self.listFrame,
                         text=self.todoList[n],
                         variable=self.todoList[n],
                         command=lambda ni=n: self.removeCheckButton(ni))
        lx.grid(row=n, column=0, sticky='NW')
        self.buttonList.append(lx)
         #   print(self.buttonList)


root = Tk()
app = App(root)
root.mainloop()
"
97,40103,retrive text in a website table by corresponding value in the same row- selenium and python,"name = 'harold'
order_id = driver.find_element_by_xpath('//div[@class=""boxbody""]//table//tr[td[last()][text()=""%s""]]/td[1]/a' % name)
print order_id.text
"
22672,21394,checking if a value falls within a range of alphanumeric values,"import json
import re


PATTERNS = {
    '^R1??':      ""Residential Districts"",
    'C\d-\d':     ""Commercial Districts"",
    'M\d-\d$':    ""Manufacturing Districts"",
    'M1-\d/R\d*': ""Mixed Manufacturing & Residential Districts"",
    # ...
}


def return_code(codes):
    """"""takes in a list of codes and returns a json dictionary of codes
    and corresponding descriptions
    """"""
    descriptions = []
    for code in codes:
        for pattern, desc in PATTERNS.items():
            if re.match(pattern, code):
                descriptions.append({""code"": code, ""description"": desc})
                # We found a matching pattern, no need to test the others
                break
        else:
            print ""Code '%s' did not match any pattern!"" % code
    return json.dumps(descriptions)

print return_code(['M1-1', 'ZNA'])
"
22482,62190,implementing masking in python Astropy tables,"dat = Table(dat, masked=True)  # Convert to a masked table
for col in dat.columns.values():
    col.mask = np.isnan(col) | (col == 0.0)
"
28741,21239,Adding together the contents of a second list whenever an item appears in a first list,"tags = ['alternative', 'indie', 'jam rock', 'indie', 'alternative', 'punk']
weights = [100, 20, 45, 50, 75, 50]
d = {}
for tag, weight in zip(tags, weights):
    if tag in d:
        d[tag] += weight
    else:
        d[tag] = weight

new_tags = [tag for tag in sorted(d)] #if you want it in alphabetical order
new_weights = [d[tag] for tag in new_tags]
print new_tags
print new_weights
"
27526,40642,Alternative to nested classes?,"class AA:
    def __init__(self):
        self.name = ""ZZ-top""
        self.flag = False
    def reset(self):
        self.name = ""AArdvark""
        self.flag = True

class BB:
    def __init__(self):
        self.num = 11
    def checker(self):
        if self.num > 10:
            test.AA.name = ""Toasty""   

class test:                  
    def __init__(self):
        self.AA = AA()
        self.BB = BB()
"
5942,39333,"How can I skip creating tuples with certain values, when using the zip function in Python?","from itertools import izip
zipped = [(xx, yy) for xx, yy in izip(x, y) if yy]
"
31056,36816,Text edition: from Python to Matlab,"infid  = fopen('data.txt', 'r');
outfid = fopen('data2.txt', 'w');

dirStr = '/home/camroom/Dropbox/Internship/MyCascades/Cascade1/training/positive/';

while ~feof(infid)
    inline = fgetl(infid);
    outline = [dirStr, regexprep(inline,' 1 (\d* \d* \d* \d*)',', [$1]')];
    fprintf(outfid, '%s\n', outline);
end

fclose(infid);
fclose(outfid);
"
12696,5125,Creating 2 lists from user input in python 3,"s = input(""Enter your string: "")
lowers = []

for word in s.strip().split():
    if not word.islower():
        print(word)
    else:
        lowers.append(word)

print('\n'.join(lowers))
"
27898,4837,Rename a file in Python,"#Also include Regular Expression module, re
import os,sys,re

#Set root to the folder you want to check
folder = ""%PATH_TO_YOUR_FOLDER%""

#Walk through the folder checking all files
for root, dirs, filenames in os.walk(folder):
    #For each file in the folder
    for filename in filenames:
        #Create blank strink for servername
        servername = ''
        #Get the full path to the file
        fullpath=os.path.join(root,filename)
        #Open the file as read only in tempfile
        with open (fullpath, ""r"") as tempfile:
            #Iterate through the lines in the file
            for line in tempfile.readlines():
                #Check if this line contains ""Server: XXXXX""
                serverline= re.findall(""Server: [a-zA-Z0-9]+"", line)
                #If the line was found
                if serverline:
                    #Split the line around "": "" and take second part as server name
                    sname = serverline[0].split("": "")
                    #Set servername variable so isn't lost outside scope of with block
                    servername = sname[1]
        #If a servername was found for that text file
        if len(servername) > 0:
            #Rename the file
            os.rename(fullpath,root+'\\'+servername+filename)
"
9764,75582,Use Python to find average of some numbers,"count = 0
total = 0
ask = raw_input(""Do you want to enter a number? (Y/N)"")
try:
    while ask == ""Y"":
        numbers = float(raw_input(""Enter number""))
        count = count + 1
        total = total + numbers
        con_ask = raw_input(""Do you want to continue entering a number? (Y/N)"")
        if con_ask == ""Y"":
            continue
        elif con_ask == ""N"":
            print ""The average of"", count, ""numbers is"", total / count
            break
except:
    print ""Zero Division Occured. Average cannot be calculated""
"
9570,4178,"sqlalchemy, select using reverse-inclusive (not in) list of child column values","query = session.query(Post).filter(~Post.tags.any(Tag.name.in_(['dont', 'want', 'these'])))
"
5510,29926,Python regex .match failing to match in strings returned from a C++ process via subprocess,">>> re.search(""[\s]*height\s*=\s*([-]?[\.\d]*)[\s]*tilt\s*=\s*([-]?[\.\d]*)[\s]*\(([\s]*[-]?[\.\d]*)\)[\s]*cen_volume\s*=\s*([-]?[\.\d]*)[\s]*r_volume\s*=\s*([-]?[\.\d]*)[\s]*"", v,re.MULTILINE|re.DOTALL).groups()
('0.000211813357854', '0.0', '0.0', '0.000000000600000', '0.000000003000000')
"
24945,35781,a jinja variable for flask-app root directory,"<a href=""{{ url_for('myview', var1=db.name, var2=record.name) }}"">
"
12196,71875,Is it possible to load jinja2 templates without having variables replaced?,"{% raw %}
    <div class=""title"">
         Hello {{ user }}
    </div>
    <div class=""content"">
         Some content
        <table>
          <tr>
            <td>
              {{ data }}
           </td>
          </tr>
        </table>
    </div>
{% endraw %}
"
1912,56806,How to update the value of UDP protocol instance in Twisted?,"class HeartbeatSender(DatagramProtocol):
    ...
    def datagramReceived(self, data, (host, port)):
        print ""received %r from %s:%d"" % (data, host, port)
        if data.startswith(""change name:""):
            self.name = data[len(""change name:""):]
"
714,7575,Replacing values in multiple columns,"$ awk '{$6="".""; if ($5==1){$5=""-""} else $5=""+""}1' file
chr10 100008748 100010821 2 + .
chr10 100011459 100012109 2 + .
chr10 100015496 100016536 2 + .
chr10 100017921 100018765 2 + .
chr10 100018985 100019147 2 + .
chr10 100022808 100027387 2 + .
chr10 100143625 100144703 2 + .
chr10 100144824 100146957 2 + .
chr10 100144941 100146957 2 + .
chr10 100147064 100148110 2 + .
"
20096,39519,Stream large binary files with urllib2 to file,"response = urllib2.urlopen(url)
CHUNK = 16 * 1024
with open(file, 'wb') as f:
   while True:
      chunk = response.read(CHUNK)
      if not chunk: break
      f.write(chunk)
"
10122,21223,Installing/Running Pyomo (command not found),"export PATH=${HOME}/.local/bin:${PATH}
export PYTHONPATH=${HOME}/.local/lib/python2.7/site-packages:${PYTHONPATH}
"
28468,79480,SQLAlchemy Column to Row Transformation and vice versa -- is it possible?,"from sqlalchemy import *
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm.collections import attribute_mapped_collection
from sqlalchemy.ext.associationproxy import association_proxy
from sqlalchemy.orm import relation, sessionmaker

metadata  = MetaData()
Base = declarative_base(metadata=metadata, name='Base')

class Item(Base):

    __tablename__ = 'Item'
    UniqueId = Column(Integer, ForeignKey('ItemSet.UniqueId'),
                      primary_key=True)
    ItemSet = relation('ItemSet')
    ItemName = Column(String(10), primary_key=True)
    ItemValue = Column(Text) # Use PickleType?

def _create_item(ItemName, ItemValue):
    return Item(ItemName=ItemName, ItemValue=ItemValue)

class ItemSet(Base):

    __tablename__ = 'ItemSet'
    UniqueId = Column(Integer, primary_key=True)
    _items = relation(Item,
                      collection_class=attribute_mapped_collection('ItemName'))
    items = association_proxy('_items', 'ItemValue', creator=_create_item)

engine = create_engine('sqlite://', echo=True)
metadata.create_all(engine)

session = sessionmaker(bind=engine)()
data = {""UniqueId"": 1, ""a"": 23, ""b"": ""Hello"", ""c"": ""World""}
s = ItemSet(UniqueId=data.pop(""UniqueId""))
s.items = data
session.add(s)
session.commit()
"
32153,76493,is there a way to make this code more terse?,"from itertools import product

comb = product(my_map, ['abc','123','a1'])
mapped = ((p(x),f) for (p,f),x in comb)
groups = (f(v.groups()) for v,f in mapped if v)
print next(groups), list(groups) # first match and the rest of them
"
31634,3019,How to call a function with a class object as a parameter in string form,"class host_struct: # no need for parentheses if not inheriting from something besides object
    host_id = {} # use of {} is more idiomatic than dict()
    host_license_id = {}

def m(a):
    exec a

host = host_struct()
m('host.host_id.update({1:1})') # updating will add to existing dict instead of replacing

print host.host_id[1]
"
4360,26479,Implementing Naive Bayes text categorization but I keep getting zeros,"log x*y = log x + log y
log(P(a0|c) * P(a1|c) * ... * P(ak|c))
    = log P(a0|c) + log P(a1|c) + ... + log P(ak|c)
"
20679,55147,"In Python, how can I filter just the user and message in Twitch API's WHISPER command using regex?",">>> import re
>>> s = ""badges: @badges=;color=;display-name=;emotes=;message-id=34;thread-id=5575526_123681740;turbo=0;user-id=5575526;user-type= :teonnyn!teonnyn@teonnyn.tmi.twitch.tv WHISPER blastweb :Hello Bot""
>>> re.findall(r'user-type=\s+:(\w+)!.*:([\S\s]+)', s)
[('teonnyn', 'Hello Bot')]
"
21288,26322,The correct way to override the __dir__ method in python,"import six
class DirMixIn:
    """""" Mix-in to make implementing __dir__ method in subclasses simpler
    """"""

    def __dir__(self):
        if six.PY3:
            return super(DirMixIn, self).__dir__()
        else:
            # code is based on
            # http://www.quora.com/How-dir-is-implemented-Is-there-any-PEP-related-to-that
            def get_attrs(obj):
                import types
                if not hasattr(obj, '__dict__'):
                    return []  # slots only
                if not isinstance(obj.__dict__, (dict, types.DictProxyType)):
                    raise TypeError(""%s.__dict__ is not a dictionary""
                                    """" % obj.__name__)
                return obj.__dict__.keys()

            def dir2(obj):
                attrs = set()
                if not hasattr(obj, '__bases__'):
                    # obj is an instance
                    if not hasattr(obj, '__class__'):
                        # slots
                        return sorted(get_attrs(obj))
                    klass = obj.__class__
                    attrs.update(get_attrs(klass))
                else:
                    # obj is a class
                    klass = obj

                for cls in klass.__bases__:
                    attrs.update(get_attrs(cls))
                    attrs.update(dir2(cls))
                attrs.update(get_attrs(obj))
                return list(attrs)

            return dir2(self)
"
10015,77272,"Python regular expression: find ""com"" or ""org""","re.search('(com)|(org)',domain).span()[0]
"
9655,15108,Dynamically add base class?,"class Form(object):
    class Meta:
        model = None
        method = ""POST""

    def __init__(self, *args, **kwargs):
        if self.__class__ != Form:
            self.Meta.__bases__ += (Form.Meta,)
        # other __init__ code here.

class SubForm(Form):
    class Meta:
        model = 'User'
"
20803,1183,How to extend facebook access token in python,"graph = facebook.GraphAPI(user_short_lived_token_from_client)
app_id = 'app_id' # Obtained from https://developers.facebook.com/
app_secret = 'app_secret' # Obtained from https://developers.facebook.com/

# Extend the expiration time of a valid OAuth access token.
extended_token = graph.extend_access_token(app_id, app_secret)
print extended_token #verify that it expires in 60 days
"
33211,50902,Fork and exit in Python,"pid = os.fork()
if (pid == 0): # The first child.
   os.chdir(""/"")
   os.setsid()
   os.umask(0) 
   pid2 = os.fork() 
   if (pid2 == 0):  # Second child
     # YOUR CODE HERE
   else:
     sys.exit()    #First child exists
else:           # Parent Code
  sys.exit()   # Parent exists
"
39318,37999,Which is the best way to compress json to store in a memory based store like redis or memcache?,"import gzip
import cStringIO

def decompressStringToFile(value, outputFile):
  """"""
  decompress the given string value (which must be valid compressed gzip
  data) and write the result in the given open file.
  """"""
  stream = cStringIO.StringIO(value)
  decompressor = gzip.GzipFile(fileobj=stream, mode='r')
  while True:  # until EOF
    chunk = decompressor.read(8192)
    if not chunk:
      decompressor.close()
      outputFile.close()
      return 
    outputFile.write(chunk)

def compressFileToString(inputFile):
  """"""
  read the given open file, compress the data and return it as string.
  """"""
  stream = cStringIO.StringIO()
  compressor = gzip.GzipFile(fileobj=stream, mode='w')
  while True:  # until EOF
    chunk = inputFile.read(8192)
    if not chunk:  # EOF?
      compressor.close()
      return stream.getvalue()
    compressor.write(chunk)
"
18682,57302,Python: access list value by reference,"sum(my_list[i] for i in (0, 2, 3))
"
26434,56292,"What's wrong with my twisted server that's supposed to take a .exe and send its stdio to anyone who asks. Instead, it doesn't send anything","print 'Preall test works!'
from twisted.internet import reactor, protocol, defer
from twisted.python import log
import sys
print 'Imports done'

class PrgShell(protocol.Protocol):
    data = ''
    class PrgProto(protocol.ProcessProtocol):
        def __init__(self, out):
            print 'Prgproto instance made'
            self.transportout = out.transport
            self.out = out
        def outReceived(self, data):
            """"""Called when process sends data. We send it on to transport, however if it's 'I want input', we need to activate input.""""""
            print 'Sub said: '+data
            if data == ""input"":
                print 'Sub wants input'
                self.transportout.write(""input"")
                d = self.out.getWrit() # getWrit returns a deferred. We store it in d to make the code more readable
                d.addCallback(self.sendInput) # Here we add self.sendInput to the callback chain.
                                              # This way self.sendInput gets called with the user input.
            else:
                self.transportout.write(data)

        def sendInput(self, data):
            self.transport.write(data)


    def getWrit(self):
        print 'Proto gave input to prg'
        self.deferred = defer.deferred()
        self.data = ''
        return self.deferred

    def connectionMade(self):
        print 'Connected'
        proto = self.PrgProto(self)
        addr = ""C:\\Documents and Settings\\papa\\My Documents\\Python\\Files\\Maze\\exe\\maze.exe""
        reactor.spawnProcess(proto, addr, ['maze'], {})
        print 'Procces spawned!'


    def dataReceived(self, data):
        print 'Data recived: '+data
        self.data+=data

        if self.data.endswith('\n'):
            if self.deferred:
                # We got a newline character, and there is a deferred to call, so lets call it
                d, self.deferred = self.deferred, None # This will set self.deferred to none to stop mistakes later

                d.callback(self.data) # Call the deferred with data. This will send the data to sendInput above.

                self.data = '' # Clear the buffer

print 'About to do stuff'
factory = protocol.ServerFactory()
factory.protocol = PrgShell
#f = open(""errors.txt"", 'w')
#log.startLogging(f)
#print 'Logging started'
reactor.listenTCP(8000,factory)
print 'Runing'
reactor.run()
"
12824,30745,Read through an unstructured xls file,"import xlrd
wb = xlrd.open_workbook(""file.xls"")

wb.sheet_names()

sh = wb.sheet_by_index(0)

for item in sh.col(0):
    value = unicode(item.value)
    if value.startswith(""cheap""):
        print value
"
22635,74970,How can a session cookie from Flask-0.10 be deserialized manually?,"from hashlib import sha1
from flask.sessions import session_json_serializer
from itsdangerous import URLSafeTimedSerializer

s = URLSafeTimedSerializer(
    'dev', salt='cookie-session',
    serializer=session_json_serializer,
    signer_kwargs={'key_derivation': 'hmac', 'digest_method': sha1}
)
session_data = s.loads('eyJoZWxsbyI6IndvcmxkIn0.BwEv5w.o3gYYutryNy7di1E3LbJZbCFGfY')
assert session_data['hello'] == 'world'  # True
"
26879,3945,python: compare two timestamp in different dates,">>> df.head()
                     A
2015-01-01 00:00:00  0
2015-01-01 01:00:00  1
2015-01-01 02:00:00  2
2015-01-01 03:00:00  3
2015-01-01 04:00:00  4
>>> morning = df[df.index.hour < 12]
>>> afternoon = df[df.index.hour >= 12]
>>> morning.head()
                     A
2015-01-01 00:00:00  0
2015-01-01 01:00:00  1
2015-01-01 02:00:00  2
2015-01-01 03:00:00  3
2015-01-01 04:00:00  4
>>> afternoon.head()
                      A
2015-01-01 12:00:00  12
2015-01-01 13:00:00  13
2015-01-01 14:00:00  14
2015-01-01 15:00:00  15
2015-01-01 16:00:00  16
"
1736,5557,Python create XML from Csv within a loop,"#! usr/bin/python
# -*- coding: utf-8 -*-
import csv, sys, os
from lxml import etree

def main():
    csvFile = 'test.csv'
    xmlFile = open('myData.xml', 'w')
    csvData = csv.reader(open(csvFile), delimiter='\t')

    header = csvData.next()
    counter = 0
    root = etree.Element('root')

    for row in csvData:
        prod = etree.SubElement(root,'prod')
        for index in range(0, len(header)):
            child = etree.SubElement(prod, header[index])
            child.text = row[index].decode('utf-8')
            prod.append(child

    result = etree.tostring(root, pretty_print=True)
    xmlFile.write(result)

if __name__ == '__main__':
    main()
"
29113,17214,Splitting sentences in a column and then appending in a data frame in python,"import pandas as pd

df = pd.DataFrame(
    [['John Lennon', 10], ['George Harrison', 6]],
    columns=['beatle', 'songs']
)

longform = pd.DataFrame(columns=['word', 'num'])

for idx, name, songs in df.itertuples():
    name_words = (i.lower() for i in name.split())

    longform = longform.append(
        [{'word': nw, 'num': songs} for nw in name_words],
        ignore_index=True
    )

print(longform.head())

#        word  num
# 0      john   10
# 1    lennon   10
# 2    george    6
# 3  harrison    6
"
1708,9420,Django 1.4.5 . Field relation,"class A(models.Model):
    name = models.CharField(...)
    position = models.PositiveSmallIntegerField(...)
    ...

class B(models.Model):
    a_obj = models.ForeignKey(A, verbose_name=""A instance that related to B instance"")

    @property
    def myfield(self):
        return self.a_obj.position
    ...
"
36065,71295,SqlAlchemy ORM eager load an object's relationships,"root = session.query(MyModel
).options(subqueryload('my_rel').subqueryload('sub_rel'))
"
13669,49083,How to make a library asynchronous in python,"def callback(future):
    # here you want to do some stuff with the value future.result()

EXECUTOR.submit(
        your_task_func
        ).add_done_callback(
            lambda future: tornado.ioloop.IOLoop.instance().add_callback(
                partial(callback, future)))
"
34469,36090,I Want to know how to use a save file,"data = pickle.load(open(""\path\filename.txt"",""r"")) # For only read file
"
31475,33349,why unnable to do annotation adjacent to legend?,"import matplotlib.pyplot as plt

x = y = [1,2,3,4,5]
fig, ax = plt.subplots()
ax.plot(x,y)

leg = ax.legend(['line 1'], loc=6, frameon=False)

fig.canvas.draw()

p = leg.get_window_extent().inverse_transformed(ax.transAxes)

ax.annotate('Annotation Text', (p.p0[0], p.p1[1]), xycoords='axes fraction')
"
15317,69263,Standard library - higher-precision floating point?,"P(x,y) = 1/(1 + exp(x-y))
"
2686,36770,Import File to Database in PhpMyAdmin,"for i in $(seq 4) ; do sed -i -e 's/ /~/' ~/import.csv  ; done
"
33106,38373,launching python script process from another script on Ubuntu: how to track status?,"import subprocess as sp

try:
    sp.check_output(['python', 'child.py'], stderr=sp.STDOUT)
except sp.CalledProcessError as err:
    print 'Child terminated abnormally with error %d, log:' % err.returncode
    print err.output
"
12155,7120,Rotate logfiles each time the application is started (Python),"import os
import glob
import logging
import logging.handlers
import time

LOG_FILENAME = 'logging_rotatingfile_example.out'

# Set up a specific logger with our desired output level
my_logger = logging.getLogger('MyLogger')
my_logger.setLevel(logging.DEBUG)

# Check if log exists and should therefore be rolled
needRoll = os.path.isfile(LOG_FILENAME)

# Add the log message handler to the logger
handler = logging.handlers.RotatingFileHandler(LOG_FILENAME, backupCount=50)

my_logger.addHandler(handler)

# This is a stale log, so roll it
if needRoll:    
    # Add timestamp
    my_logger.debug('\n---------\nLog closed on %s.\n---------\n' % time.asctime())

    # Roll over on application start
    my_logger.handlers[0].doRollover()

# Add timestamp
my_logger.debug('\n---------\nLog started on %s.\n---------\n' % time.asctime())

# Log some messages
for i in xrange(20):
    my_logger.debug('i = %d' % i)

# See what files are created
logfiles = glob.glob('%s*' % LOG_FILENAME)

print '\n'.join(logfiles)
"
14459,72672,What's wrong with this simple while loop ? (python),"while done:
     quit = str(raw_input (""Do you want to quit? ""))
     if quit == 'y' :
         done=False
     else:
         attack = str(raw_input(""Does your elf attack the dragon? ""))
         if attack=='y':
             print ""Bad choice, you died.""
             done=False
"
33806,64358,Close TCP socket in the Greenlet only after successful transfer,"def login(login_str):
    conn = socket.create_connection([host, port])

    for i in login_str:
        conn.sendall(i + line_term)

    conn.send(line_term)

    # Wait until the other end has finished sending data

    while conn.recv(1024):
      pass

    # Everything works, as soon as I uncomment this line below :/
    # gevent.sleep(1)
    conn.close()
"
22406,61087,matplotlib: change title and colorbar text and tick colors,"import matplotlib.pyplot as plt
import numpy as np
from numpy.random import randn

fig = plt.figure()
data = np.clip(randn(250,250),-1,1)
cax = plt.imshow(data, interpolation='nearest')

title_obj = plt.title('my random fig') #get the title property handler
plt.getp(title_obj)                    #print out the properties of title
plt.getp(title_obj, 'text')            #print out the 'text' property for title
plt.setp(title_obj, color='r')         #set the color of title to red

axes_obj = plt.getp(cax,'axes')                 #get the axes' property handler
ytl_obj = plt.getp(axes_obj, 'yticklabels')     #get the properties for 
                                                #  yticklabels
plt.getp(ytl_obj)                               #print out a list of properties
                                                #  for yticklabels
plt.setp(ytl_obj, color=""r"")                    #set the color of yticks to red

plt.setp(plt.getp(axes_obj, 'xticklabels'), color='r') #xticklabels: same

color_bar = plt.colorbar()                            #this one is a little bit
cbytick_obj = plt.getp(color_bar.ax.axes, 'yticklabels')                #tricky
plt.setp(cbytick_obj, color='r')

plt.savefig('temp.png')
plt.savefig('temp2.png', facecolor=""black"", edgecolor=""none"")
"
8881,6704,Hosting Pyramid webapps under subpaths,"[app:myapp]
use = egg:myapp

# ...

[filter:proxy-prefix]
use = egg:PasteDeploy#prefix
prefix = /projects

[pipeline:main]
pipeline =
    proxy-prefix
    myapp
"
34572,77012,How to add meta keyword with django,"from django.shortcuts import render_to_response

def category(request, slug):
    slug = slug.lower()
    product_type = local_settings.CATEGORY_NAME_TO_ID.get(slug, False)
    if not product_type:
        raise Http404
    products = models.Product.objects.active().filter(product_type = product_type)
    context = {
        'slug': slug,
        'products': products,
        'key': 'wholesale ipad, ipad with retina display, ipad mini, ipad 3, ipad 2',
    }
    return render_to_response('appletrade/category.html', context, context_instance=RequestContext(request))
"
3991,39981,how to set django root url as login url?,"# views.py

from django.contrib.auth.decorators import login_required
from django.http import HttpResponse

@login_required
def index(request):
    return HttpResponse('Only registers will see this page')

# now you can add the stuff that you would want only the registered users to view, 
# so basically if a new visitors tries to visit your site say at www.abc.com, he will first be redirected to the www.abc.com/login/ where he needs to create an account, once authenticated, he will then be redirected to the index page
"
23232,44196,Scraping majority of text in body,"data = urllib2.urlopen(link)
content = data.read()
# replace the script and style tags with html comments, so the bs4 just skips them
content = content.replace(""<script"", ""<!--"")
content = content.replace(""</script>"", ""-->"")
content = content.replace(""<style"", ""<!--"")
content = content.replace(""</style>"", ""-->"")
soup = BeautifulSoup(content, ""lxml"") # assuming you've imported lxml and bs4
comments = soup.findAll(text=lambda text:isinstance(text, Comment))
Comments = [comment.extract() for comment in comments] # remove the commenys
words = []
for i in soup.stripped_strings:
    print i
# i will print most of the text of the page line by line
"
16375,64017,Python: terminate all alive processes based on an exception type,"import multiprocessing
import threading
from time import sleep

def run(i, conn):
    try:
        f(i)
    except CustomException as e:
        conn.send(e)

def f(i):
   print i, ' called'
   sleep(i)
   if i == 11:
       raise CustomException
   print i, ' done'

class CustomException(Exception):
    pass

class ProcessManager(object):
    def __init__(self):
        self.processes = []
        self._threads = []
        self._lock = threading.Lock()

    def terminate_all(self):
        with self._lock:
            for p in self.processes:
                if p.is_alive():
                    print ""Terminating %s"" % p
                    p.terminate()

    def launch_proc(self, func, args=(), kwargs= {}):
        t = threading.Thread(target=self._proc_thread_runner,
                             args=(func, args, kwargs))
        self._threads.append(t)
        t.start()

    def _proc_thread_runner(self, func, args, kwargs):
        parent_conn, child_conn = multiprocessing.Pipe()
        args = args + tuple([child_conn])
        p = multiprocessing.Process(target=func, args=args, kwargs=kwargs)
        self.processes.append(p)
        p.start()
        while p.exitcode is None:
            p.join()
        if parent_conn.poll():
            obj = parent_conn.recv()
            if isinstance(obj, CustomException):
                self.terminate_all()

    def wait(self):
        for t in self._threads:
            t.join()

if __name__ == '__main__':
    proc_manager = ProcessManager()
    for i in range(0, 20):
        proc_manager.launch_proc(run, (i,))
    proc_manager.wait()
"
29546,9606,How to flush plots in IPython Notebook sequentially?,"%matplotlib inline
import matplotlib.pyplot as plt
import numpy as np

for i in range(3):
    print ""Info "",i
    plt.plot(np.arange(10)*(i+1))
    plt.show()
"
23577,61445,"len(object) or hasattr(object, __iter__)?","if isinstance( arg, collections.Sequence ):
    self._some_var = list(arg)
else:
    self._some_var.append( arg )
"
30877,71346,Use python's typing library to specify more than one possible type,"from typing import TypeVar, List

T = TypeVar(""T"", int, str)

def my_function(list_arg: List[T]):
...
"
6047,44518,php DAL out of a schema,"{
    'TableName': {'FieldA': ['Type', FK(..)], 'FieldB': ['type']}
}
"
888,59934,Python copy file ignoring tree structure,"for dir, subdir, files in os.walk(src):
    for f in files:
        targ = os.path.join(dest, f)
        if os.path.exists(targ):
            for i in itertools.count():
                targ = os.path.join(dest, '%s(%s)' % (f, i))
                if not os.path.exists(targ):
                    break
        shutil.copy(os.path.join(dir, f), targ)
"
2826,76814,How to render form.as_table in multiple columns,"{% for field in form %}

    {%if forloop.counter|divisibleby:""5"" %}
        {#after 5 fields, somehow put elements in next row
         of table, paragraph, or using divs etc
        #}
    {%endif%}

    {{field}}
{%endfor%}
"
39880,72004,"Python, How to do deleting work in a file?","for line in fileinput.input('file.txt', inplace=True):
    line = ... # edit line
    print line, # stdout is redirected to the file
"
34160,13316,Is it possible to avoid locking overhead when sharing dicts between threads in Python?,"# ""Stateless""
for line in stdin:
    res = compute_1(line) + compute_2(line) + compute_3(line)
    print res, line

# ""Shared"" state
for line in stdin:
    res = compute_1(line)
    res = compute_2(line, res)
    res = compute_3(line, res)
    print res, line
"
849,41464,how to add directory to sys.path on ipython startup,"c.InteractiveShellApp.exec_lines = [
'import sys,os; sys.path.append(os.getcwd())'
]
"
17901,57866,Sending an HTTP request in python with an avro/json payload?,"$pip install requests

>>> import requests
>>> url = 'http://httpbin.org/post'
>>> files = {'file': open('report.xls', 'rb')}

>>> r = requests.post(url, files=files)
"
36777,40407,convert a string 2d list back to 2d list in python,">>> list_string = '[[1, 1], [2, 2], [3, 3]]'
>>> import ast
>>> type(ast.literal_eval(list_string))
<type 'list'>
"
6715,40891,How to convert this sed command to Python script?,"with open('in') as inf, open('out', 'w') as outf:
    while True:
        line = inf.readline()
        if '<table border' in line:
            while True:
                line = inf.readline()
                if not line or '/table>' in line:
                    line = inf.readline()
                    break
        if not line:
            break
        outf.write(line)
"
15166,680,Parsing a tab-separated file with missing fields ,"import csv
reader = csv.reader(open('myfile.csv', 'rb'), dialect='excel-tab')
fieldnames = ['Name','Class']
writer = csv.DictWriter(open('myfile.csv', 'rb'), fieldnames, restval='', extrasaction='ignore', dialect='excel-tab')

for row in reader:
    newrow = {}
    for field in row:
        key = field.split(' ', 1)[0]
        newrow[key] = field
    writer.writerow(newrow)
"
26925,40085,How to use other table field in SQL Where clause,"select * 
  from work x join employee e
    on e.availability = x.availability
   and e.empid = x.empid
"
30442,22952,Querying with Flask-SQLAlchemy,"Order.query.filter(Order.lines.any(Order_line.status_id != 1))
"
7130,18110,Adding a column in csv using python,"import csv

infilename = r'C:\Users\Sulabh Kumra\Desktop\input.csv'
outfilename = r'C:\Users\Sulabh Kumra\Desktop\output.csv'

with open(infilename, 'rb') as fp_in, open(outfilename, 'wb') as fp_out:
    reader = csv.reader(fp_in, delimiter="","")
    writer = csv.writer(fp_out, delimiter="","")

    blank_line = next(reader)
    writer.writerow(blank_line)

    headers = next(reader)  # read title row

    headers[26:26] = ['New Label']

    writer.writerow(headers)

    for row in reader:
        row[26:26] = [0]
        writer.writerow(row)
"
15144,44062,Python 2 and 3 csv reader,"import sys

if sys.version_info[0] < 3: 
    infile = open(filename, 'rb')
else:
    infile = open(filename, 'r', newline='', encoding='utf8')


with infile as csvfile:
    ...
"
20009,45407,Pass a parent class as an argument?,"class SomeParentClass(object):
    # ...
    pass

def Child(parent):
    class Child(parent):
        # ...
        pass

    return Child()

instance = Child(SomeParentClass)
"
10332,73850,Reading .txt for separate variables in Python 3.3,">>> import ast
>>> a, b, c, d = ast.literal_eval(open('file.txt').read())
>>> a
'luxembourg'
>>> b
'DragonBorn'
>>> c
14
>>> d
11
"
32130,77401,Python print statement on new line,"print '\n' + second_name
"
30451,19340,Is there a way to make a QLineEdit behave like a QInputDialog?,"class main_window(QTextDisplay):
    def __init__(self,input_widget,parent=self,*arg,**kwargs):
        QTextDisplay.__init__(self,parent=parent) # and what ever other args you use
        self.input_widget = input_widget

        self.input_widget.editingFinished.connect(self.proc_input)

        ## what ever other set up you do

    @QtCore.Slot()
    def proc_input(self):
        input_str = self.input_widget.text()
        if input_str = '':
            return
        self.input_widget.clear()

        # do what ever it is you do with the input text, update the display
"
5529,27725,Filtering a variable so it only contains a specified string python,"import re
re.findall(""href=([^ >]+)"",x)
"
315,37123,Create content snippet with Jinja filter,"from markupsafe import Markup

@app.template_filter()
def snippet(value):
    for sep in ('<readmore/>', '<br/>', '<br>', '</p>'):
        if sep in value:
            break
    else:
        sep = '\n'

    return Markup(value.split(sep, 1)[0])
"
3964,55114,Is it possible to pass arguments to a python made exe at runtime?,"# If there is an argument passed to your file
if len(sys.argv) > 1:
    # argv[1] has your filename
    filename = sys.argv[1]
    print (filename)

# Output...
# new-host:~ yanwchan$ python3.2 test.py text.txt
# text.txt
"
15832,69973,Attribute error python tkinter,"from tkinter import *
from tkinter import messagebox
calculator = Tk()
calculator.title(""Calcualtor"")
calculator.geometry(""317x145"")

menubar = Menu(calculator)

class Calculator(Frame):
    def __init__(self):
        Frame.__init__(self)
        display = Frame(calculator, bd=0, width=1000, height=1000, relief=SUNKEN)
        buttons = Frame(calculator, bd=0, width=7, height=1, relief=GROOVE)
        display.grid(column=0, row=0, padx=0, pady=0)
        buttons.grid(column=0, row=1, padx=1)
        numbers = StringVar()
        self.results = Entry(display, textvariable=numbers, width=31, fg=""DarkOrchid4"", bg=""lavender blush"", font=""Verdana"")
        self.results.pack()
        self.results.grid(column=0, row=0)

        def showup(x):
            return lambda: self.results.insert(END, x)

        numbers=[""7"", ""4"", ""1"", ""8"", ""5"", ""2"", ""9"", ""6"", ""3""]
        for i in range(9):
            n=numbers[i]
            Button(buttons, bg=""snow"", text=n, width=7, height=1, command=showup(n), relief=RAISED).grid(row=i%3, column=i//3)

        Clear = Button(buttons, bg=""snow"", text=""C"", width=7, height=1, command=self.clear, relief=RAISED)
        Clear.grid(padx=2, pady=2, column=3, row=0)
        All_clear = Button(buttons, bg=""snow"", text=""AC"", width=7, height=1, command=self.all_clear, relief=RAISED)
        All_clear.grid(padx=2, pady=2, column=4, row=0)
        Bracket_one = Button(buttons, bg=""snow"", text=""("", width=7, height=1, command=self.bracket_one, relief=RAISED)
        Bracket_one.grid(padx=2, pady=2, column=2, row=3)
        Bracket_two = Button(buttons, bg=""snow"", text="")"", width=7, height=1, command=self.bracket_two, relief=RAISED)
        Bracket_two.grid(padx=2, pady=2, column=3, row=3)
        Zero = Button(buttons, bg=""snow"", text=""0"", width=7, height=1, command=self.zero, relief=RAISED)
        Zero.grid(padx=2, pady=2, column=0, row=3)
        Decimal_point = Button(buttons, bg=""snow"", text=""."", width=7, height=1, command=self.decimal_point, relief=RAISED)
        Decimal_point.grid(padx=2, pady=2, column=1, row=3)
        Multiplication = Button(buttons, bg=""red"", text=""x"", width=7, height=1, command=self.multiplication, relief=RAISED)
        Multiplication.grid(padx=2, pady=2, column=3, row=1)
        Division = Button(buttons, bg=""powder blue"", text=""/"", width=7, height=1, command=self.division, relief=RAISED)
        Division.grid(padx=2, pady=2, column=4, row=1)
        Addition = Button(buttons, bg=""yellow"", text=""+"", width=7, height=1, command=self.addition, relief=RAISED)
        Addition.grid(padx=2, pady=2, column=3, row=2)
        Subtraction = Button(buttons, bg=""green"", text=""-"", width=7, height=1, command=self.subtraction, relief=RAISED)
        Subtraction.grid(padx=2, pady=2, column=4, row=2)
        Equals = Button(buttons, bg=""orange"", text=""="", width=7, height=1, command=self.equals, relief=RAISED)
        Equals.grid(padx=2, pady=2, column=4, row=3)

    def equals(self):
        try:
            result = eval(self.results.get())
        except:
            result = ""Invalid input""
        self.all_clear()
        self.results.insert(0, result)
    def zero(self):
        self.results.insert(END, ""0"")
    def bracket_one(self):
        self.results.insert(END, ""("")
    def bracket_two(self):
        self.results.insert(END, "")"")
    def all_clear(self):
        self.results.delete(0, END)
    def clear(self):
        self.results.delete(-1)
    def multiplication(self):
        self.results.insert(END, ""x"")
    def division(self):
        self.results.insert(END, ""/"")
    def addition(self):
        self.results.insert(END, ""+"")
    def subtraction(self):
        self.results.insert(END, ""-"")
    def decimal_point(self):
        self.results.insert(END, ""."")

if __name__ == '__main__':
    Calculator().mainloop()
    calculator.config(menu=menubar)
    calculator.mainloop()
"
1523,37026,PySide QInputDialog.getInt() return value?," bool ok;
 int year = QInputDialog::getInt(
                 this, QApplication::applicationName(),
                 tr(""Enter the year""), QDate::currentDate().year() - 1,
                 minimum, maximum, 1, &ok);
 if (ok)
     ...
"
26917,12218,Empty JSON string to null,"data = json.loads(**your raw json string**)
nullify(data)

def nullify(container) :
 for key in container:
         if type(key) == list:
                 nullify(key)
         elif type(key) == dict:
                 nullify(key)
         elif type(container[key]) == dict or type(container[key]) == list:
                 nullify(container[key])
         elif container[key] == '':
                 container[key] = None
"
3093,1445,Python: access to iterator-object in for-loops,"def my_filter(iterable):
    result=[]
    for i in iterable:
        result.append(i)
        if i==5:
            continue
        yield result
        result=[]        

idx = iter(range(0, 10))

for i in my_filter(idx):
    print i
"
30537,66155,What's the most efficient way to zip two nested list to a single level dictionary,"def appendDict(list1, list2, resultDict):
    for idx, val in enumerate(list1):
        if isinstance(val, list):       
            appendDict(val, list2[idx], resultDict)
        else:
            resultDict[val] = list2[idx]

list1=['k1','k2','k3',['k4','k5',['k6','k7']]]
list2=['v1','v2','v3',['v4','v5',['v6','v7']]]
resultDict = {}
appendDict(list1, list2, resultDict)
print resultDict

{'k3': 'v3', 'k2': 'v2', 'k1': 'v1', 'k7': 'v7', 'k6': 'v6', 'k5': 'v5', 'k4': 'v4'}
"
14503,64869,Speeding up Pandas apply function,"choice_indices = [1, 2, 3, 4]
for idx in choice_indices:
  mask = df['choice-index'] == idx
  result_column = 'value-%d' % (idx)
  df.loc[mask, 'value'] = df.loc[mask, result_column]
"
32534,4285,"What is the C Equivalent of Python's pack(""<I"", 0)","char str[20] = ""AAAA"";
int val = 0;
int nval = htole32(val);
memcpy(str + 4, (char*)&nval, 4);
"
7192,36606,Plot different color for different categorical levels in ggplot,"from ggplot import *

p = ggplot(aes(x='C1', y='C2', color='Population'), data=mds)+ geom_point(alpha=0.6) + ggtitle('My plot')

print p
"
18035,25087,easy_install requires admin rights on Windows,"
@echo off
C:\Python26\python.exe C:\Python26\Scripts\easy_install-script.py %*
"
16005,37912,package_data files with executable permissions,"class my_install_lib(distutils.command.install_lib.install_lib):
  def run(self):
    distutils.command.install_lib.install_lib.run(self)
    for fn in self.get_outputs():
      if <this is one of the binaries I want to be executable>:
        # copied from distutils source - make the binaries executable
        mode = ((os.stat(fn).st_mode) | 0555) & 07777
        distutils.log.info(""changing mode of %s to %o"", fn, mode)
        os.chmod(fn, mode)
"
6685,14339,Removing first line of CSV file - Python,"with open(""test.csv"",'r') as f:
    with open(""updated_test.csv"",'w') as f1:
        f.next() # skip header line
        for line in f:
            f1.write(line)
"
39874,26634,Get a list of names which start with certain letters,">>> names = ['Alpha', 'Bravo', 'Charlie', 'Delta', 'Echo', 'Foxtrot']
>>> first_letters = ['A','B','C']
>>> output_names = [name for name in names if (name[0] in first_letters)]
>>> output_names
['Alpha', 'Bravo', 'Charlie']
"
25726,18622,Why does a list slice [:n] allow using a list with fewer than n elements in a loop?,"l = range(1,2)
l[:10] == l
"
30526,55986,How do I search from the bottom up using a regular expression?,"DOCK((?!DOCK).)+?onomatopoeia
"
9943,5067,Finding object in list not working properly in django app,"    if form.is_valid():
        data=form.cleaned_data
        requested_date = data['event_date']
        requested_kip = Finapart.objects.get(pk=kipid)
        existing_bookings = Bookable.objects.filter(
            kip = requested_kip,
            event_date = requested_date
        )
        if existing_bookings: 
            return HttpResponse('Booked already')
        newbooking=Bookable(
            user=request.user,
            pub_date=datetime.datetime.now(),
            event_date=requested_date,
            phone_no=data['phone_no'],
            kip=requested_kip,
            session=Session.objects.get(session_key=request.session.session_key))
        newbooking.save()
        return HttpResponse('Booking saved')
    ...
"
15652,16809,split a boolean expression by the outermost AND operators,">>> some_operation((a and b) and c)
(a and b), c
"
19779,54165,Python: subscript a module,">>> class ModModule(object):
    def __init__(self, globals):
        self.__dict__ = globals
        import sys
        sys.modules[self.__name__] = self
    def __getitem__(self, name):
        return self.__dict__[name]


>>> m = ModModule({'__name__':'Mod', 'a':3})
>>> import Mod
>>> Mod['a']
3

# subclassing the actual type won't work
>>> class ModModule(types.ModuleType):
    def __init__(self, globals):
        self.__dict__ = globals
        import sys
        sys.modules[self.__name__] = self
    def __getitem__(self, name):
        return self.__dict__[name]


>>> m = ModModule({'__name__':'Mod', 'a':3})

Traceback (most recent call last):
  File ""<pyshell#114>"", line 1, in <module>
    m = ModModule({'__name__':'Mod', 'a':3})
  File ""<pyshell#113>"", line 3, in __init__
    self.__dict__ = globals
TypeError: readonly attribute
"
12541,33440,Different page's source code between selenium and the browser itself,"from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

wait = WebdriverWait(driver, 10)
wait.until(EC.presence_of_element_located((By.ID, ""myid"")))

print(driver.page_source) 
"
29329,59668,Pythonic way to match up timestamps in list of objects,"set1 = set([99.8, 99.9, 100.0, 100.1, 100.2])
set2 = set([99.9, 100.0, 100.1, 100.2, 100.3])
res = set1 & set2
print res
"
22573,35957,how to compose two or more functions in python,"cipher_functions = lambda afile:swap_joker2(swap_joker1(afile))
def cipher_functions(afile):
    return swap_joker2(swap_joker1(afile))

import functional #third party, not maintained. Alternatives exist
cipher_functions = functional.compose(swap_joker1, swap_joker2)
"
15422,5686,Launch program with python on a specific core,"import win32api, win32con, win32process

def setaffinity():
    pid  = win32api.GetCurrentProcessId()
    mask = 128 # core 7
    handle = win32api.OpenProcess(win32con.PROCESS_ALL_ACCESS, True, pid)
    win32process.SetProcessAffinityMask(handle, mask)
"
36855,74324,Make a wxPanel resizable by the user,"import wx  

class MyFrame(wx.Frame):
    def __init__(self, *args, **kwds):
        kwds[""style""] = wx.DEFAULT_FRAME_STYLE
        wx.Frame.__init__(self, *args, **kwds)
        self.window_1 = wx.SplitterWindow(self, wx.ID_ANY, style=wx.SP_3D | wx.SP_BORDER)
        self.window_1_pane_1 = wx.Panel(self.window_1, wx.ID_ANY)
        self.window_1_pane_2 = wx.Panel(self.window_1, wx.ID_ANY)

        self.__set_properties()
        self.__do_layout()

    def __set_properties(self):
        self.SetTitle(""frame_1"")
        self.window_1_pane_1.SetBackgroundColour(wx.Colour(255, 255, 0))
        self.window_1_pane_2.SetBackgroundColour(wx.Colour(50, 153, 204))

    def __do_layout(self):
        sizer_1 = wx.BoxSizer(wx.VERTICAL)
        self.window_1.SplitVertically(self.window_1_pane_1, self.window_1_pane_2)
        sizer_1.Add(self.window_1, 1, wx.EXPAND, 0)
        self.SetSizer(sizer_1)
        sizer_1.Fit(self)
        self.Layout()

if __name__ == ""__main__"":
    app = wx.PySimpleApp(0)
    wx.InitAllImageHandlers()
    frame_1 = MyFrame(None, wx.ID_ANY, """")
    app.SetTopWindow(frame_1)
    frame_1.Show()
    app.MainLoop()
"
24233,18707,Persist Django FormView Data,"class ReviewCreate(FormView):
    template_name = 'food/item_add_review.html'
    form_class = ReviewForm

    @method_decorator(login_required)  # Use a class level mixin instead
    def get_context_data(self, **kwargs):
        return super(
            ReviewCreate, 
            self
        ).get_context_data(
            item=self.review_item,
            **kwargs
        )

    def lookup_review_item(self):
        self.item_modelname = self.kwargs.get('model')
        item_model = apps.get_model('food', self.item_modelname)
        self.review_item = get_object_or_404(
            item_model, 
            pk=self.kwargs.get('pk')
        )

    def dispatch(self, request, *args, **kwargs):
        # lookup performed here to be set for both GET and POST
        self.lookup_review_item()
        return super(ReviewCreate, self).dispatch(request, *args, **kwargs)

    def form_valid(self, form):
        r = form.save(commit=False)
        r.content_object=self.review_item
        r.save()
        return super(ReviewCreate, self).form_valid(form)

    def get_success_url(self):
        return reverse(
            'pkitem', 
            kwargs = {
                'pk': self.review_item.id, 
                'model': self.item_modelname
            },
        )
"
22934,53202,Can Selenium webdriver make a random time beween send keys (to simulate human behaviour when typing)?,"address = 'Anthony Street 35'
address_elem = driver.find_element_by_id(""Address"")
for letter in address:
    time.sleep(random.randint(1, 3))  # sleep between 1 and 3 seconds
    address_elem.send_keys(letter)
"
4482,26382,Is there any python API which can get the IP address (internal or external) of Virtual machine in Azure,"from azure.mgmt.network import NetworkManagementClient, NetworkManagementClientConfiguration

subscription_id = '33333333-3333-3333-3333-333333333333'

credentials = ...

network_client = NetworkManagementClient(
    NetworkManagementClientConfiguration(
        credentials,
        subscription_id
    )
)

GROUP_NAME = 'XXX'
VM_NAME = 'xxx'
PUBLIC_IP_NAME = VM_NAME

public_ip_address = network_client.public_ip_addresses.get(GROUP_NAME, PUBLIC_IP_NAME)
print(public_ip_address.ip_address)
print(public_ip_address.ip_configuration.private_ip_address)
"
23714,46930,PyQt add a scrollbar to MainWindow,"def setupUi(self, Interface):
    # Interface.setObjectName(""Interface"")
    # Interface.resize(1152, 1009)
    # sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Fixed, QtWidgets.QSizePolicy.Fixed)
    # sizePolicy.setHorizontalStretch(0)
    # sizePolicy.setVerticalStretch(0)
    # sizePolicy.setHeightForWidth(Interface.sizePolicy().hasHeightForWidth())
    # Interface.setSizePolicy(sizePolicy)
    # Interface.setMouseTracking(False)
    # icon = QtGui.QIcon()
    self.centralWidget = QtWidgets.QWidget(Interface)
    # self.centralWidget.setObjectName(""centralWidget"")
    layout = QtWidgets.QVBoxLayout(self.centralWidget)

    self.scrollArea = QtWidgets.QScrollArea(self.centralWidget)
    # self.scrollArea.setGeometry(QtCore.QRect(0, 0, 1131, 951))
    # self.scrollArea.setVerticalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOn)
    # self.scrollArea.setHorizontalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOn)
    # self.scrollArea.setWidgetResizable(True)
    # self.scrollArea.setObjectName(""scrollArea"")
    # self.scrollArea.setEnabled(True)
    layout.addWidget(self.scrollArea)

    self.scrollAreaWidgetContents = QtWidgets.QWidget()
    self.scrollAreaWidgetContents.setGeometry(QtCore.QRect(0, 0, 1112, 932))
    # self.scrollAreaWidgetContents.setObjectName(""scrollAreaWidgetContents"")

    self.scrollArea.setWidget(self.scrollAreaWidgetContents)

    layout = QtWidgets.QHBoxLayout(self.scrollAreaWidgetContents)
    # self.horizontalLayout.setObjectName(""horizontalLayout"")
    # add child widgets to this layout...        

    Interface.setCentralWidget(self.centralWidget)
"
26350,16783,Community detection with igraph in Python,"from igraph import *
karate = Nexus.get(""karate"")
cl = karate.community_fastgreedy()
cl.as_clustering().membership

# [0, 1, 1, 1, 0, 0, 0, 1, 2, 1, 0, 0, 1, 1, 2, 2, 0, 1, 2, 0, 
#  2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]
"
32832,47424,Scrapy: Fetching the content set via Javascript,"$ scrapy shell http://www.bedstore.co.uk/p/Diamante_Faux_Leather_Bed_Frame.htm
In [1]: import re 
In [2]: import json
In [3]: pattern = re.compile(r""qubit_product_list = (.*?);"", re.M)
In [4]: script = response.xpath(""//script[contains(., 'qubit_product_list')]/text()"").extract()[0]
In [5]: data = pattern.search(script).group(1)
In [6]: json.loads(data)
Out[6]: 
{u'6516-DBL-BLK': {u'category': u'',
  u'currency': u'GBP',
  u'description': u'Double Black',
  u'id': u'6516',
  u'name': u'Diamante Faux Leather Bed Frame',
  u'sku_code': u'LPDF:DIAMANTE-BD',
  u'stock': 100,
  u'unit_price': 129.99,
  u'unit_sale_price': 129.99,
  u'url': u'/p/Diamante_Faux_Leather_Bed_Frame.htm'},
 u'6516-DBL-WHT': {u'category': u'',
  u'currency': u'GBP',
  u'description': u'Double White',
  u'id': u'6516',
  u'name': u'Diamante Faux Leather Bed Frame',
  u'sku_code': u'LPDF:DIAMANTE-WD',
  u'stock': 100,
  u'unit_price': 129.99,
  u'unit_sale_price': 129.99,
  u'url': u'/p/Diamante_Faux_Leather_Bed_Frame.htm'},
 u'6516-KS-BLK': {u'category': u'',
  u'currency': u'GBP',
  u'description': u'Kingsize Black',
  u'id': u'6516',
  u'name': u'Diamante Faux Leather Bed Frame',
  u'sku_code': u'LPDF:DIAMANTE-BK',
  u'stock': 99,
  u'unit_price': 149.99004,
  u'unit_sale_price': 149.99004,
  u'url': u'/p/Diamante_Faux_Leather_Bed_Frame.htm'},
 u'6516-KS-WHT': {u'category': u'',
  u'currency': u'GBP',
  u'description': u'Kingsize White',
  u'id': u'6516',
  u'name': u'Diamante Faux Leather Bed Frame',
  u'sku_code': u'LPDF:DIAMANTE-WK',
  u'stock': 100,
  u'unit_price': 154.98996,
  u'unit_sale_price': 154.98996,
  u'url': u'/p/Diamante_Faux_Leather_Bed_Frame.htm'}}
"
36829,79157,Ansible - Create GCE node with fixed IP,"$ ansible-playbook create_vm.yml  -i inventory/
PLAY [Create instance(s)] *****************************************************

TASK: [Launch instances] ******************************************************
failed: [localhost] => {""failed"": true, ""parsed"": false}
Traceback (most recent call last):
  File ""/home/zulu/.ansible/tmp/ansible-tmp-1418774247.2-93981074391261/gce"", line 2131, in <module>
    main()
  File ""/home/zulu/.ansible/tmp/ansible-tmp-1418774247.2-93981074391261/gce"", line 458, in main
    module, gce, inames)
  File ""/home/zulu/.ansible/tmp/ansible-tmp-1418774247.2-93981074391261/gce"", line 278, in create_instances
    lc_machine_type = gce.ex_get_size(machine_type)
  File ""/usr/local/lib/python2.7/dist-packages/libcloud/compute/drivers/gce.py"", line 2240, in ex_get_size
    zone = self.ex_get_zone(zone)
  File ""/usr/local/lib/python2.7/dist-packages/libcloud/compute/drivers/gce.py"", line 2333, in ex_get_zone
    if name.startswith('https://'):
AttributeError: 'NoneType' object has no attribute 'startswith'
"
5651,26059,Convert python struct.pack to C#,"Stream stdout = Console.OpenStandardOutput();
stdout.WriteByte((byte)message.Length);
stdout.WriteByte((byte)'\0');
stdout.WriteByte((byte)'\0');
stdout.WriteByte((byte)'\0');
Console.Write(message);
"
39983,18978,passing polynomial coefficients generated from one function to another,"def time(fileName) :
    with open(fileName, ""r"") as tFile :
            for line in tFile :
                li = line.split()
                if li :
                    start_time = (int(li[0]) / 10000000.)
                    end_time = (int(li[1]) / 10000000.) 
                    duration = ((int(li[1]) -int(li[0]))/10000000.)
                    print start_time,' ',end_time,' ',duration

                    poly = poly_coeff(start_time, end_time, duration)
                    Newton(poly, 0.42, 1, 0)

def poly_coeff(stime, etime, dur) :
    """"""The equation is k6 * u^3 + k5 * u^2 + k4 * u + k0 = 0. Computing the        coefficients of this equation.""""""
    """"""Substituting the required values we get the coefficients.""""""
    w = 5  # weight for rational bezier curve equation

    t_u = dur
    t0 = stime
    t3 = etime
    t1 = t2 = (stime + etime) / 2
    w0 = w1 = w2 = w3 = w
    k0 = w0 * (t_u - t0)
    k1 = w1 * (t_u - t1)
    k2 = w2 * (t_u - t2)
    k3 = w3 * (t_u - t3)
    k4 = 3 * (k1 - k0)
    k5 = 3 * (k2 - 2 * k1 + k0)
    k6 = k3 - 3 * k2 + 3 * k1 -k0 
    print k0, k1, k2, k3, k4, k5, k6

    return [[k6,3], [k5,2], [k4,1], [k0,0]]


if __name__ == ""__main__"" :
    if len(sys.argv) != 2 : 
        Usage()
    else :
        transcriptionFile = sys.argv[1]

        time(transcriptionFile)
"
30890,8018,How to scrape and extract similar xpaths onto different rows in csv using Scrapy,"    items = []
    for title in titles.select(""h2""):

        item = MyItem()

        # note the relative XPath expression (starting with ""./"")
        item[""title""] = title.select(""./text()"").extract()

        items.append(item)

    return items
"
11446,33747,What to put for a commonName when making an OpenSSL key?,"from M2Crypto import SSL
SSL.Connection.clientPostConnectionCheck = None
"
27009,36004,Counting array elements in Python,"len(myArray)
"
27205,77747,How to format date string via multiple formats in python,"from datetime import datetime

def try_parsing_date(text):
    for fmt in ('%Y-%m-%d', '%d.%m.%Y', '%d/%m/%y'):
        try:
            return datetime.strptime(text, fmt)
        except ValueError:
            pass
    raise ValueError('no valid date format found')
"
14368,75768,Can literals in Python be overridden?,"class ListPrefixer:
    def __init__(self, typ):
        self.typ = typ

    def __getitem__(self, args):
        return self.typ(args)

class MyList(list):
    def each(self, func):
        return MyList(func(x) for x in self)

e = ListPrefixer(MyList)

e[1, 2, 3, 4].each(lambda x: x**2)
#>>> [1, 4, 9, 16]
"
36509,55393,Import all classes in directory?,"import os, sys

path = os.path.dirname(os.path.abspath(__file__))

for py in [f[:-3] for f in os.listdir(path) if f.endswith('.py') and f != '__init__.py']:
    mod = __import__('.'.join([__name__, py]), fromlist=[py])
    classes = [getattr(mod, x) for x in dir(mod) if isinstance(getattr(mod, x), type)]
    for cls in classes:
        setattr(sys.modules[__name__], cls.__name__, cls)
"
25452,45732,how can the directory of a usb drive connected to a system be obtained?,"#!/usr/bin/env python

import os
from glob import glob
from subprocess import check_output, CalledProcessError

def get_usb_devices():
    sdb_devices = map(os.path.realpath, glob('/sys/block/sd*'))
    usb_devices = (dev for dev in sdb_devices
        if 'usb' in dev.split('/')[5])
    return dict((os.path.basename(dev), dev) for dev in usb_devices)

def get_mount_points(devices=None):
    devices = devices or get_usb_devices() # if devices are None: get_usb_devices
    output = check_output(['mount']).splitlines()
    is_usb = lambda path: any(dev in path for dev in devices)
    usb_info = (line for line in output if is_usb(line.split()[0]))
    return [(info.split()[0], info.split()[2]) for info in usb_info]

if __name__ == '__main__':
    print get_mount_points()
"
31203,3057,How to instance objects from a unicode string in Python,"import importlib

qual_name = ""my.module.MyClass""
splitted = qual_name.split(""."")
class_name = splitted[-1]
module_name = ""."".join(splitted[:-1])

module_obj = importlib.import_module(module_name)
class_obj = getattr(module_obj, class_name)
class_inst = class_obj()   # this is instance of my.module.MyClass; assuming that this class has no-argument constructor; in other case use constructor arguments here
"
1241,7655,PyMongo Shapely GeoJson Conversion,"boundbox = list(poly.exterior.coords)
"
30675,64467,Python OOP - Class relationships,"class GameClass:
    def __init__( self, fc, pc ):
        self.Field = fc
        self.Player = pc

class PlayerClass:
    def __init__( self, fc ):
        self.fc = fc

    def DoMagicHere( self ):
        # use self.fc
        pass

fc=FieldClass()
pc=PlayerClass(fc)
gc=GameClass(fc, pc)
"
22293,67810,extracting regular expression from string,"ss = ('Found 1 items\n'
      ""drwxr-xr-x   - hadoop supergroup          ""
      '0 2013-02-16 13:21 /user/hadoop/wiki\n')

('Found **n** items\n'
 '**permissions**   - **username** **group**          '
 '**notsurewhatthisis** **date** **time** **folders(or file)**\n')

import re

r = re.compile('Found +(\d+) +items *\n *(.+?) *- ')

print r.search(ss).groups()
"
6978,8916,matplotlib tick axis notation with superscript,"mport numpy as np
import matplotlib.pyplot as plt
band = np.linspace(0,10**12,100)
y = band

plt.plot(band,y)
plt.xlabel(""Frequencies"")

plt.vlines(10**3, min(y), max(y),colors = 'black', label = 'kilo Hz')
plt.vlines(10**6, min(y), max(y),colors = 'black', label = 'mega Hz')

string_labels = []
for i in range(0,len(y),10):
    string_labels.append(r""$10^{%02d}$"" % (i/10.0))

plt.xticks(np.linspace(0,10**12,10),string_labels)

plt.legend()
plt.show()
"
27643,58173,Convert file of bytes to ints Python,"fin = open(""hi.bmp"", ""rb"")
out = open(""values.txt"",""rw"")
value = struct.unpack('i', fin.read(4))[0]
out.write(""%d\n"" % value) # just loop over the 2 last lines
out.close()
fin.close()
"
27373,84699,one-to-many GQL query and putting results into a dictionary,"class Name(webapp.RequestHandler):
  def get(self):
    names = db.GqlQuery('SELECT * FROM Main WHERE name=:1 LIMIT 1','Alan')
    photo_array = [] #initialize an array to store the photos dicts
    for name in names:
      for photos in name.photos: #go over all the Photo entities that reference 'Alan'
        #retrieve and put in a dictionary, and append to the photo_array
        photo_array.append({""photo1"":photos.photo1, ""photo2"": photos.photo2})
    values = {'names':names, 'photos': photo_array}
    self.response.out.write(template.render('base.html', values))
"
12918,53172,Removing multiple keys from a dictionary safely,"entries = ('a', 'b', 'c')
the_dict = {'b': 'foo'}

def entries_to_remove(entries, the_dict):
    for key in entries:
        if key in the_dict:
            del the_dict[key]
"
12675,41663,imploding a list for use in a python MySQLDB IN clause,"format_strings = ','.join(['%s'] * len(list_of_ids))
cursor.execute(""DELETE FROM foo.bar WHERE baz IN (%s)"" % format_strings,
                tuple(list_of_ids))
"
17385,4274,How to efficiently make new matrix from sum of blocks from bigger sparse matrix,"matrix = A.tocoo()

new_row = matrix.row // 5
new_col = matrix.col // 5
bin = (matrix.shape[0] // 5) * new_col + new_row
# Now do a little dance because this is sparse,
# and most of the possible bin should not be in new_row/new_col
# also need to group the bins:
unique, bin = np.unique(bin, return_inverse=True)
sum = np.bincount(bin, weights=matrix.data)
new_col = unique // (matrix.shape[0] // 5)
new_row = unique - new_col * (matrix.shape[0] // 5)

result = scipy.sparse.coo_matrix((sum, (new_row, new_col)))
"
6598,71415,Python Sorting Lists in Lists,"lst.sort(key=lambda x: x[::-1])
"
7767,56882,Swapping the dimensions of a numpy array,"In [195]: A = np.random.random((2,4,3,5))

In [196]: B = np.einsum('klij->ijkl', A)

In [197]: A.shape
Out[197]: (2, 4, 3, 5)

In [198]: B.shape
Out[198]: (3, 5, 2, 4)

In [199]: import itertools as IT    
In [200]: all(B[k,l,i,j] == A[i,j,k,l] for i,j,k,l in IT.product(*map(range, A.shape)))
Out[200]: True
"
30285,38296,Django doesn't call model clean method,"class CommonMeasurement(models.Model):
    timestamp = models.DateTimeField()
    value = models.FloatField()
    run = models.ForeignKey(Run)

    objects = models.Manager()
    analyzes = managers.MeasureStatManager()

    def save(self, **kwargs):
        self.clean()
        return super(CommonMeasurement, self).save(**kwargs)

    def clean(self):
        super(CommonMeasurement, self).clean()
        print 'here we go'
        if self.timestamp < self.run.timestamp_start or self.timestamp > self.run.timestamp_end:
            raise django_excetions.ValidationError('Measurement is outside the run')
"
103,21906,In Python how do you put a program inside a program,">>> import math
>>> dir(math)
['__doc__', '__name__', '__package__', 'acos', 'acosh', 'asin', 'asinh', 'atan',
 'atan2', 'atanh', 'ceil', 'copysign', 'cos', 'cosh', 'degrees', 'e', 'erf', 'er
fc', 'exp', 'expm1', 'fabs', 'factorial', 'floor', 'fmod', 'frexp', 'fsum', 'gam
ma', 'hypot', 'isinf', 'isnan', 'ldexp', 'lgamma', 'log', 'log10', 'log1p', 'mod
f', 'pi', 'pow', 'radians', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc']
>>> help(math.ceil)
Help on built-in function ceil in module math:

ceil(...)
    ceil(x)

    Return the ceiling of x as a float.
    This is the smallest integral value >= x.

>>>
"
33794,28070,python list comprehension by step of 2,">>> xlabels = [1, 2, 3, 4]
>>> [xlabels[i] if i % 2 != 0 else '' for i in range(len(xlabels))]
['', 2, '', 4]
"
37655,5876,Is it possible to have a function within a method in Python?,"class Foo(object):
    def method(self, bar):
        def inner(magic):
            class Madness(object):
                def __init__(inself, foo): inself.foo = foo
            return Madness(magic)
        return inner(bar)
"
131,59249,Python: check if object exists in scope,"try:
    some_object
except NameError:
    do_something()
else:
    do_something_else()
"
21450,744,Python replacing all uppercase characters in a string with *,"import string

transtab = string.maketrans(string.uppercase, '*'*len(string.uppercase))
""aBCd3Fg"".translate(transtab)

>>>'a**d3*g'
"
4792,1242,Parent/Child database contains cyclical references,"def getchildren(node, ignore_nodes=[]):
    child_nodes = []
    for child in node.children():
        if child in ignore_nodes:
            continue
        child_nodes.append(child)
        ignore_nodes.append(child)
        nodes, ignore_nodes = getchildren(child, ignore_nodes)
        child_nodes.extend(nodes)
    return child_nodes, ignore_nodes
"
23528,59448,Timeout on an execfile call function for windows? (Signal Alternative?),"# Sequential wait to finish before moving onto the next script
try: 
    execfile(""SUBSCRIPTS/TESTSCRIPT.py"", {})
except Exception:
    errors.write(traceback.format_exc() + '\n')
    errors.write(""\n\n"")

# Semi-Sequential (Don't wait for it to finish before moving onto the third script)
p1 = subprocess.Popen([""pythonw"", ""SUBSCRIPTS/TEST.py"", ""0""], shell=True)

# Sequential wait to finish before moving onto the next script
try: 
    execfile(""SUBSCRIPTS/TEST.py"", {})
except Exception:
    errors.write(traceback.format_exc() + '\n')
    errors.write(""\n\n"")

#Do you want to kill the ""pythonw"", ""SUBSCRIPTS/TEST.py"", ""0"" command after the ""SUBSCRIPTS/TEST.py"" call or do you want to allow the pythonw command to continue running until after the ""SUBSCRIPTS/TESTSCRIPT.py""

#you need to put this code depending on where the subprocess.Popen([""pythonw"", ""SUBSCRIPTS/TEST.py"", ""0""], shell=True) #script needs to be killed
currentStatus = p1.poll()
if currentStatus is None: #then it is still running
  try:
    p1.kill() #maybe try os.kill(p1.pid,2) if p1.kill does not work
  except:
    #do something else if process is done running - maybe do nothing?
    pass

# Sequential wait to finish before moving onto the next script
try: 
    execfile(""SUBSCRIPTS/TESTSCRIPT.py"", {})
except Exception:
    errors.write(traceback.format_exc() + '\n')
    errors.write(""\n\n"")

#or put the code snippet here if you want to allow the pythonw command to continue running until after the SUBSCRIPTS/TESTSCRIPT.py command
"
26903,11691,extract value with regular expression or parsing,"reobj = re.compile(r'<a\b[^>]href="".*?location=cons_tab.*?""[^>]*>(.*?)</a>', re.IGNORECASE | re.DOTALL)
match = reobj.search(text)
if match:
    result = match.group(1)
else:
    result = """"
"
32985,39747,build a dictionary for find key by value,">>> husbands2wives = bidict({'john': 'jackie'})
>>> husbands2wives['john'] # the forward mapping is just like with dict
'jackie'
>>> husbands2wives[:'jackie'] # use slice for the inverse mapping
'john'
"
12582,26557,Executable python program - disable cmd line?,"from distutils.core import setup
import py2exe

setup(window=['hello.py'])
"
15737,52261,Screen scraping with selenium 8,"from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

browser = webdriver.PhantomJS()
browser.maximize_window()
browser.get(""http://www.jamiiforums.com/kenyan-news/225589-kenyan-and-tanzanian-surburbs.html"")

username = browser.find_element_by_id(""navbar_username"")
password = browser.find_element_by_name(""vb_login_password_hint"")

username.send_keys(""username"")
password.send_keys(""password"")

browser.find_element_by_class_name(""loginbutton"").click()

wait = WebDriverWait(browser, 10)
wait.until(EC.visibility_of_element_located((By.XPATH, '//h2[contains(., ""Redirecting"")]')))
wait.until(EC.title_contains('Kenyan & Tanzanian'))
wait.until(EC.visibility_of_element_located((By.ID, 'postlist')))

link = browser.find_element_by_xpath('//div[@class=""vbseo_liked""]/a[contains(@onclick, ""return vbseoui.others_click(this)"")]')
link.click()

browser.save_screenshot('screenie.png')
print 'success!!'
browser.close()
"
9352,64019,Deleting mulitple columns in Pandas,"for col in df.columns:
    if 'Unnamed' in col:
        del df[col]
"
27061,45217,decimal years to datetime in python,"from datetime import datetime, timedelta

start = 2012.5
year = int(start)
rem = start - year

base = datetime(year, 1, 1)
result = base + timedelta(seconds=(base.replace(year=base.year + 1) - base).total_seconds() * rem)
# 2012-07-02 00:00:00
"
32934,78047,Is there an easy way of calculating number of IPs from 2 given IP addresses?,">>> import socket
>>> def iptoint(ip):
...     return int(socket.inet_aton(ip).encode('hex'), 16)
... 
>>> iptoint('127.0.0.200')
2130706632
>>> iptoint('127.0.1.10') - iptoint('127.0.0.200')
66
>>> def ipdistance(ip1, ip2):
...     return abs(iptoint(ip1) - iptoint(ip2)) + 1
... 
>>> ipdistance('127.0.1.10', '127.0.0.200')
67
"
10729,60625,Check if the file is newer then some other file?,"import os.path
os.path.getctime('file1') < os.path.getctime('file2')
"
27069,36229,Barchart sizing of text & barwidth with matplotlib - python,"import matplotlib.pyplot as plt
import matplotlib.font_manager as fm

fontsize2use = 10

fig = plt.figure(figsize=(10,5))
plt.xticks(fontsize=fontsize2use)  
plt.yticks(fontsize=fontsize2use)    
fontprop = fm.FontProperties(size=fontsize2use)
ax = fig.add_subplot(111)
ax.set_xlabel('XaxisLabel')
ax.set_ylabel('YaxisLabel')
.
<main plotting code>
.
ax.legend(loc=0, prop=fontprop)
"
8870,7294,Determining row number of chosen OptionMenu but possibility to create within same variable - Tkinter,"import Tkinter as tk

# data for the example
info = (
    (""1.1"",""1.2"",""1.3""),
    (""2.1"",""2.2"",""2,3""),
    (""3.1"",""3.2"",""3.3""),
)

class SampleApp(tk.Tk):
    def __init__(self):
        tk.Tk.__init__(self)
        self.status = tk.Label(self, anchor=""w"")
        self.frame_table = tk.Frame(self, background=""black"")
        self.frame_table.grid_columnconfigure(1, weight=1)
        self.frame_table.grid_columnconfigure(2, weight=1)
        self.frame_table.grid_columnconfigure(3, weight=1)

        self.status.pack(side=""bottom"", fill=""x"")
        self.frame_table.pack(side=""top"", fill=""x"", padx=10, pady=10)

        for row_number, row_data in enumerate(info):
            no_1, code, value = row_data
            label = tk.Label(self.frame_table, text=""row %d"" % row_number, background=""gray"")
            col1  = tk.Label(self.frame_table, text=no_1)
            col2  = tk.Label(self.frame_table, text=code)
            col3  = tk.Label(self.frame_table, text=value)

            # N.B. 'value' is automatically passed to
            # the command by tkinter; we're adding
            # an extra parameter, 'row' 
            command=lambda value, row=row_number: self.ChoiceBox(value, row)
            stringvar = tk.StringVar(self.frame_table)
            stringvar.set(""Fixed"")
            option_menu = tk.OptionMenu(self.frame_table, stringvar, 
                                        ""Fixed"",""List"",""Min"",""Max"", 
                                        command=command)
            label.grid(row=row_number, column=0, sticky=""nsew"", padx=1, pady=1)
            col1.grid(row=row_number, column=1, sticky=""nsew"", padx=1, pady=1)
            col2.grid(row=row_number, column=2, sticky=""nsew"", padx=1, pady=1)
            col3.grid(row=row_number, column=3, sticky=""nsew"", padx=1, pady=1)
            option_menu.grid(row=row_number, column=6, sticky=""nsew"", 
                             padx=1, pady=1)

    def ChoiceBox(self, value, row_number):
        self.status.config(text=""you set row %d to '%s'"" % (row_number, value))

app = SampleApp()
app.mainloop()
"
16891,72511,"Simple beginner stuff, multiple conditional test","def do_whois(data):
    if data: return Popen(['whois', str(data)], stdout=PIPE,stderr=STDOUT).communicate()[0]
    return 'No entries'

def check_whois(data):
    if 'No entries' in data or 'Not found' in data:return False
    test = re.search(""country.+([A-Z].)"",whois_result)
    return test.group(1)

def find_whois(domain, ip):
    return check_whois(do_whois(domain)) or check_whois(do_whois(ip))
"
4635,59559,pandas.read_csv parse_dates without the day,"data = """"""
year,month,x1,x2
2008,1,283.7,8
2008,2,323.1,8
2008,3,270.7,2
2008,4,353.6,2
"""""" 

df = pd.read_csv(StringIO(data),header=True,                           
                 parse_dates={'date':[0,1]},
                 index_col='date')
df.index = df.index.values.astype('datetime64[M]')
print df

               x1  x2
2008-01-01  283.7   8
2008-02-01  323.1   8
2008-03-01  270.7   2
2008-04-01  353.6   2
"
23763,66338,In what format should I respond from django to android after getting http get?,"def pendingOrders(request):
    userprof = UserProfile.objects.get(user= request.user)
    if userprof.is_student:
        student_account = request.user
        dish = Dishes.objects.all()
        #Getting all pending orders
        order_all_pending = Orders.objects.filter(student_id = student_account,delivered = False)
        pending_orders = Orders.objects.filter(~Q(status = 2),delivered = False)
        for order in order_all_pending:
            #Hack to change QuerySet to pass as JSON 
            order.quantity = pending_orders.filter(id__lt = order.id,counterid= order.counterid).count() + 1

        #Returning JSON response to the objects obtained in above statement
        return HttpResponse(serializers.serialize('json',order_all_pending,use_natural_keys=True),mimetype='application/json')
    else:
        return HttpResponse(""Something went wrong"")
"
13984,27211,Creating LaTeX math macros within Sphinx,"# Additional stuff for the LaTeX preamble.
latex_elements['preamble'] = '\usepackage{amsmath}\n\usepackage{amssymb}\n'

#####################################################
# add LaTeX macros 

f = file('latex_macros.sty')

try:
    pngmath_latex_preamble  # check whether this is already defined
except NameError:
    pngmath_latex_preamble = """"

for macro in f:
    # used when building latex and pdf versions
    latex_elements['preamble'] += macro + '\n'
    # used when building html version
    pngmath_latex_preamble += macro + '\n'

#####################################################
"
35177,84906,Python disabling startmenu and taskbar,"os.system('taskkill /f /im explorer.exe')
"
15193,71136,Inverted fancy indexing,"import numpy as np

x = np.arange(10)
mask = x > 5

print x[mask]
print x[~mask]
"
17382,58385,Count characters in string,"import re

def analyzeCrawler2(thetext, text_to_search = ""DEATH STAR""):

    numchars = len(anhCrawler)
    nospacechars = len(re.sub(r""\s+"", """", anhCrawler))
    numwords   = len(anhCrawler.split())
    dspos      =  anhCrawler.find(text_to_search)

    return theReport.format(numchars, nospacechars, numwords, dspos)



print analyzeCrawler2(theReport)


This text contains 520 characters (434 if you ignore spaces).
There are approximately 87 words in the text. The phrase
DEATH STAR occurs and starts at position 261.
"
8555,66208,"Cookies, JavaScript, Python, Browsing-but-not-really",">>> import requests
>>> s = requests.Session()
>>> r = s.get('http://www.THEWEBSITE.com/custserv/locate_store.cmd')
>>> print r.status_code
200
>>> for c in s.cookies:
>>>     print c
<Cookie JSESSIONID=<ID> for www.THEWEBSITE.com/>
<Cookie PIPELINE_SESSION_ID=<ID> for www.THEWEBSITE.com/>
>>> payload = { 'form_state' : 'selectThisStoreForm', 'storeId' : '62012' } 
>>> r = s.post('http://www.THEWEBSITE.com/custserv/save_user_store.cmd', data=payload)
>>> print r.status_code
200
>>> for c in s.cookies:
>>>    print c
<Cookie JSESSIONID=<ID> for www.THEWEBSITE.com/>
<Cookie PIPELINE_SESSION_ID=<ID> for www.THEWEBSITE.com/>
<Cookie USER_SESSION_VALIDATE_COOKIE=false for www.THEWEBSITE.com/>
"
16346,22482,percentiles from counts of values,"from collections import Counter

def calc_percentiles(cnts_dict, percentiles_to_calc=range(101)):
    """"""Returns [(percentile, value)] with nearest rank percentiles.
    Percentile 0: <min_value>, 100: <max_value>.
    cnts_dict: { <value>: <count> }
    percentiles_to_calc: iterable for percentiles to calculate; 0 <= ~ <= 100
    """"""
    assert all(0 <= p <= 100 for p in percentiles_to_calc)
    percentiles = []
    num = sum(cnts_dict.values())
    cnts = sorted(cnts_dict.items())
    curr_cnts_pos = 0  # current position in cnts
    curr_pos = cnts[0][1]  # sum of freqs up to current_cnts_pos
    for p in sorted(percentiles_to_calc):
        if p < 100:
            percentile_pos = p / 100.0 * num
            while curr_pos <= percentile_pos and curr_cnts_pos < len(cnts):
                curr_cnts_pos += 1
                curr_pos += cnts[curr_cnts_pos][1]
            percentiles.append((p, cnts[curr_cnts_pos][0]))
        else:
            percentiles.append((p, cnts[-1][0]))  # we could add a small value
    return percentiles

cnts_dict = Counter()
for segment in segment_iterator:
    cnts_dict += Counter(segment)

percentiles = calc_percentiles(cnts_dict)
"
34727,892,defining a value for a list in python,"def append_unfailed(res):
    unfailed = set(store_front_list)
    for r in res:
        store_front_id, failcnt = s.split('\t')
        unfailed.discard(store_front_id)
    for store_front_id in unfailed:
        res.append('%s\t0' % store_front_id)
"
14232,64635,Bypassing buffering of subprocess output with popen in C or Python,"-u     : unbuffered binary stdout and stderr (also PYTHONUNBUFFERED=x)
         see man page for details on internal buffering relating to '-u'
"
15017,56713,ParseError parsing empty valued xml doc,"import re

def merge_dicts(*dict_args):
    result = {}
    for dictionary in dict_args:
        result.update(dictionary)
    return result

def make_dict(str_arg, op):
    result = {}
    result = dict(s.split(op) for s in str_arg.split("",""))
    return result

'''
Samples
lst = r'  <name>Test Name</name>'
lst = r'  <alt name />'
lst = r'  <file local=""C:\file\file1.doc"" type=""word"">http://filestore/file1.doc</file>'
lst = r'  <file local="""" type=""excel"">http://filestore/file2.xls</file>'
lst = r'  <file local=""C:\file\file3.xls"" type=""excel"" />'
lst = r'  <file local="""" type=""ppt"" />'
'''
def match_pattern(file_str):
    #<description>desc blah</description>'
    pattern1 = r'''(?x)
    ^
    \s*                                             # cut leading whitespace
    (?P<whole_thing>
        < (?P<tag_open> (\w+?|\w*\s\w+?)+) \b       # word boundary, so we can
        >                                           # skip attributes
        (?P<tag_body> .+? )                         # insides
        </ (?P<tag_close> (\w+?|\w*\s\w+?)+) >      # closing tag, nothing interesting
    )
    $'''

    #<alt name />
    pattern2 = r'''(?x)
    ^
    \s*
    (?P<whole_thing>
        < (?P<tag_open> (\w+?|\w*\s\w+?)+) \b
        \s/>
    )
    $'''

    #<file local=""C:\file\file1.doc"" type=""word"">http://filestore/file1.doc</file>'
    pattern3 = r'''(?x)
        ^
        \s*
        (?P<whole_thing>
            < (?P<tag_open> (\w+?|\w*\s\w+!=?)+) \b
            \s
            (?P<tag_attrib1> (\w*\=.*?))            # 1st attribute
            \s
            (?P<tag_attrib2> (\w*\=.*))             # 2nd attribute
            .*? >
            (?P<tag_body> .+? )
            </ (?P<tag_close> (\w+?|\w*\s\w+?)+) >
        )
        $'''

    #<file local="""" type=""ppt"" />
    pattern4 = r'''(?x)
        ^
        \s*
        (?P<whole_thing>
            < (?P<tag_open> (\w+?|\w*\s\w+!=?)+) \b
            \s
            (?P<tag_attrib1> (\w*\=.*?))            # 1st attribute
            \s
            (?P<tag_attrib2> (\w*\=.*))             # 2nd attribute
            \s/>
        )
        $'''

    pat_str = 'pattern'
    pat_val = 1
    return_dict = {}
    while (pat_val <= 4):
        pattern = pat_str+str(pat_val)
        matchObj = re.match(eval(pattern), file_str, re.L|re.M)

        if matchObj:
            #for k, v in matchObj.groupdict().items():
            #    print('matchObj.group({!r}) == {!r}'.format(k, v))
            if pat_val == 1:
                body = matchObj.group('tag_body')
                return_dict = {matchObj.group('tag_open'): body}
            elif pat_val == 2:
                return_dict = {matchObj.group('tag_open'): ''}
            elif pat_val == 3:
                attr1 = make_dict(matchObj.group('tag_attrib1'), '=')
                attr2 = make_dict(matchObj.group('tag_attrib2'), '=')
                body = {'url': matchObj.group('tag_body')}
                attrib = merge_dicts(attr1, attr2, body)
                return_dict = {matchObj.group('tag_open'): attrib}
            elif pat_val == 4:
                attr1 = make_dict(matchObj.group('tag_attrib1'), '=')
                attr2 = make_dict(matchObj.group('tag_attrib2'), '=')
                body = {'url': ''}
                attrib = merge_dicts(attr1, attr2, body)
                return_dict = {matchObj.group('tag_open'): attrib}
            return return_dict
        else:
            pat_val = pat_val + 1
            if pat_val > 4:
                print(""No match!!"")  

#print(match_pattern(lst))

def in_file(file):
    result = {}
    with open(file, ""r"") as file:
        data = (file.read().splitlines())
        for d in data:
            if data.index(d) == 0 or data.index(d) == len(data)-1:
                if data.index(d) == 0:
                    print(re.sub('<|/|>', '', d))
            elif d:
                lst = []
                dct = {}
                if 'file' in match_pattern(d).keys():
                    for i in match_pattern(d).items():
                        if 'file' in result.keys():
                            lst = result['file']
                            lst.append(i[1])
                            dct = {i[0]: lst}
                            result = merge_dicts(result, dct)
                            #print(result['file'])
                        else:
                            dct = {i[0]: [i[1]]}
                            result = merge_dicts(result, dct)
                else:
                    result = merge_dicts(result, match_pattern(d))
                    print('else', match_pattern(d))
    return result

print(in_file('C:\\test.nfo'))
"
22936,6234,Parsing the output of a command,"import subprocess
output = subprocess.check_output(""df -h /"", shell=True ).split('\n')[1]

data = output.split()[3][:-1]

if int(data) < 150:
    exit()
"
1639,50525,distance transform algorithms in scipy,"/* Exact euclidean feature transform, as described in: C. R. Maurer,
   Jr., R. Qi, V. Raghavan, ""A linear time algorithm for computing
   exact euclidean distance transforms of binary images in arbitrary
   dimensions. IEEE Trans."" PAMI 25, 265-270, 2003. */

int NI_EuclideanFeatureTransform(PyArrayObject* input,
           PyArrayObject *sampling_arr,
           PyArrayObject* features)
"
21888,42849,remove one unicode range from a unicode textfile in Python3,"str.translate(map) 
Return a copy of the s where all characters have been mapped through the map 
which must be a dictionary of Unicode ordinals (integers) to Unicode ordinals, 
strings or None. Unmapped characters are left untouched. Characters mapped to 
None are deleted.

You can use str.maketrans() to create a translation map from 
character-to-character mappings in different formats.
"
22493,10855,Python how to read multiple values in a dictionary,"results = {}

with open(r'd:\num_list.conf') as conf:
 for lines in conf:
    if "":"" in lines:
        lineval = lines.split()
        name = lineval[0].replace(""'"","""")
        numbers = lineval[-1][1:-1]
        numbers = numbers.split("","")
        results[name]=numbers

print(results)

#result
{'SMART': ['813', '900', '907', '908', '909', '910', '911', '912', '918', '919', '920', '921', '928', '929', '930', '931', '938', '939', '940', '946', '947', '948', '949', '971', '980', '989', '998', '999'], 'SUN_CELLULAR': ['922', '923', '925', '932', '933', '934', '942', '943', '944'], 'PREPAID': ['922', '923', '925', '932', '933', '934', '942', '943', '944'], 'GLOBE': ['817', '905', '906', '915', '916', '917', '926', '927', '935', '936', '937*', '975', '994', '996', '997}']}
"
35644,8197,Python Traveling Salesman Greedy Algorithm,"import math
import random


def distL2((x1,y1), (x2,y2)):
    """"""Compute the L2-norm (Euclidean) distance between two points.

    The distance is rounded to the closest integer, for compatibility
    with the TSPLIB convention.

    The two points are located on coordinates (x1,y1) and (x2,y2),
    sent as parameters""""""
    xdiff = x2 - x1
    ydiff = y2 - y1
    return int(math.sqrt(xdiff*xdiff + ydiff*ydiff) + .5)


def distL1((x1,y1), (x2,y2)):
    """"""Compute the L1-norm (Manhattan) distance between two points.

    The distance is rounded to the closest integer, for compatibility
    with the TSPLIB convention.

    The two points are located on coordinates (x1,y1) and (x2,y2),
    sent as parameters""""""
    return int(abs(x2-x1) + abs(y2-y1)+.5)


def mk_matrix(coord, dist):
    """"""Compute a distance matrix for a set of points.

    Uses function 'dist' to calculate distance between
    any two points.  Parameters:
    -coord -- list of tuples with coordinates of all points, [(x1,y1),...,(xn,yn)]
    -dist -- distance function
    """"""
    n = len(coord)
    D = {}      # dictionary to hold n times n matrix
    for i in range(n-1):
        for j in range(i+1,n):
            (x1,y1) = coord[i]
            (x2,y2) = coord[j]
            D[i,j] = dist((x1,y1), (x2,y2))
            D[j,i] = D[i,j]
    return n,D

def read_tsplib(filename):
    ""basic function for reading a TSP problem on the TSPLIB format""
    ""NOTE: only works for 2D euclidean or manhattan distances""
    f = open(filename, 'r');

    line = f.readline()
    while line.find(""EDGE_WEIGHT_TYPE"") == -1:
        line = f.readline()

    if line.find(""EUC_2D"") != -1:
        dist = distL2
    elif line.find(""MAN_2D"") != -1:
        dist = distL1
    else:
        print ""cannot deal with non-euclidean or non-manhattan distances""
        raise Exception

    while line.find(""NODE_COORD_SECTION"") == -1:
        line = f.readline()

    xy_positions = []
    while 1:
        line = f.readline()
        if line.find(""EOF"") != -1: break
        (i,x,y) = line.split()
        x = float(x)
        y = float(y)
        xy_positions.append((x,y))

    n,D = mk_matrix(xy_positions, dist)
    return n, xy_positions, D


def mk_closest(D, n):
    """"""Compute a sorted list of the distances for each of the nodes.

    For each node, the entry is in the form [(d1,i1), (d2,i2), ...]
    where each tuple is a pair (distance,node).
    """"""
    C = []
    for i in range(n):
        dlist = [(D[i,j], j) for j in range(n) if j != i]
        dlist.sort()
        C.append(dlist)
    return C


def length(tour, D):
    """"""Calculate the length of a tour according to distance matrix 'D'.""""""
    z = D[tour[-1], tour[0]]    # edge from last to first city of the tour
    for i in range(1,len(tour)):
        z += D[tour[i], tour[i-1]]      # add length of edge from city i-1 to i
    return z


def randtour(n):
    """"""Construct a random tour of size 'n'.""""""
    sol = range(n)      # set solution equal to [0,1,...,n-1]
    random.shuffle(sol) # place it in a random order
    return sol


def nearest(last, unvisited, D):
    """"""Return the index of the node which is closest to 'last'.""""""
    near = unvisited[0]
    min_dist = D[last, near]
    for i in unvisited[1:]:
        if D[last,i] < min_dist:
            near = i
            min_dist = D[last, near]
    return near


def nearest_neighbor(n, i, D):
    """"""Return tour starting from city 'i', using the Nearest Neighbor.

    Uses the Nearest Neighbor heuristic to construct a solution:
    - start visiting city i
    - while there are unvisited cities, follow to the closest one
    - return to city i
    """"""
    unvisited = range(n)
    unvisited.remove(i)
    last = i
    tour = [i]
    while unvisited != []:
        next = nearest(last, unvisited, D)
        tour.append(next)
        unvisited.remove(next)
        last = next
    return tour



def exchange_cost(tour, i, j, D):
    """"""Calculate the cost of exchanging two arcs in a tour.

    Determine the variation in the tour length if
    arcs (i,i+1) and (j,j+1) are removed,
    and replaced by (i,j) and (i+1,j+1)
    (note the exception for the last arc).

    Parameters:
    -t -- a tour
    -i -- position of the first arc
    -j>i -- position of the second arc
    """"""
    n = len(tour)
    a,b = tour[i],tour[(i+1)%n]
    c,d = tour[j],tour[(j+1)%n]
    return (D[a,c] + D[b,d]) - (D[a,b] + D[c,d])


def exchange(tour, tinv, i, j):
    """"""Exchange arcs (i,i+1) and (j,j+1) with (i,j) and (i+1,j+1).

    For the given tour 't', remove the arcs (i,i+1) and (j,j+1) and
    insert (i,j) and (i+1,j+1).

    This is done by inverting the sublist of cities between i and j.
    """"""
    n = len(tour)
    if i>j:
        i,j = j,i
    assert i>=0 and i<j-1 and j<n
    path = tour[i+1:j+1]
    path.reverse()
    tour[i+1:j+1] = path
    for k in range(i+1,j+1):
        tinv[tour[k]] = k


def improve(tour, z, D, C):
    """"""Try to improve tour 't' by exchanging arcs; return improved tour length.

    If possible, make a series of local improvements on the solution 'tour',
    using a breadth first strategy, until reaching a local optimum.
    """"""
    n = len(tour)
    tinv = [0 for i in tour]
    for k in range(n):
        tinv[tour[k]] = k  # position of each city in 't'
    for i in range(n):
        a,b = tour[i],tour[(i+1)%n]
        dist_ab = D[a,b]
        improved = False
        for dist_ac,c in C[a]:
            if dist_ac >= dist_ab:
                break
            j = tinv[c]
            d = tour[(j+1)%n]
            dist_cd = D[c,d]
            dist_bd = D[b,d]
            delta = (dist_ac + dist_bd) - (dist_ab + dist_cd)
            if delta < 0:       # exchange decreases length
                exchange(tour, tinv, i, j);
                z += delta
                improved = True
                break
        if improved:
            continue
        for dist_bd,d in C[b]:
            if dist_bd >= dist_ab:
                break
            j = tinv[d]-1
            if j==-1:
                j=n-1
            c = tour[j]
            dist_cd = D[c,d]
            dist_ac = D[a,c]
            delta = (dist_ac + dist_bd) - (dist_ab + dist_cd)
            if delta < 0:       # exchange decreases length
                exchange(tour, tinv, i, j);
                z += delta
                break
    return z


def localsearch(tour, z, D, C=None):
    """"""Obtain a local optimum starting from solution t; return solution length.

    Parameters:
      tour -- initial tour
      z -- length of the initial tour
      D -- distance matrix
    """"""
    n = len(tour)
    if C == None:
        C = mk_closest(D, n)     # create a sorted list of distances to each node
    while 1:
        newz = improve(tour, z, D, C)
        if newz < z:
            z = newz
        else:
            break
    return z


def multistart_localsearch(k, n, D, report=None):
    """"""Do k iterations of local search, starting from random solutions.

    Parameters:
    -k -- number of iterations
    -D -- distance matrix
    -report -- if not None, call it to print verbose output

    Returns best solution and its cost.
    """"""
    C = mk_closest(D, n) # create a sorted list of distances to each node
    bestt=None
    bestz=None
    for i in range(0,k):
        tour = randtour(n)
        z = length(tour, D)
        z = localsearch(tour, z, D, C)
        if z < bestz or bestz == None:
            bestz = z
            bestt = list(tour)
            if report:
                report(z, tour)

    return bestt, bestz


if __name__ == ""__main__"":
    """"""Local search for the Travelling Saleman Problem: sample usage.""""""

    #
    # test the functions:
    #

    # random.seed(1)    # uncomment for having always the same behavior
    import sys
    if len(sys.argv) == 1:
        # create a graph with several cities' coordinates
        coord = [(4,0),(5,6),(8,3),(4,4),(4,1),(4,10),(4,7),(6,8),(8,1)]
        n, D = mk_matrix(coord, distL2) # create the distance matrix
        instance = ""toy problem""
    else:
        instance = sys.argv[1]
        n, coord, D = read_tsplib(instance)     # create the distance matrix
        # n, coord, D = read_tsplib('INSTANCES/TSP/eil51.tsp')  # create the distance matrix

    # function for printing best found solution when it is found
    from time import clock
    init = clock()
    def report_sol(obj, s=""""):
        print ""cpu:%g\tobj:%g\ttour:%s"" % \
              (clock(), obj, s)


    print ""*** travelling salesman problem ***""
    print

    # random construction
    print ""random construction + local search:""
    tour = randtour(n)     # create a random tour
    z = length(tour, D)     # calculate its length
    print ""random:"", tour, z, '  -->  ',   
    z = localsearch(tour, z, D)      # local search starting from the random tour
    print tour, z
    print

    # greedy construction
    print ""greedy construction with nearest neighbor + local search:""
    for i in range(n):
        tour = nearest_neighbor(n, i, D)     # create a greedy tour, visiting city 'i' first
        z = length(tour, D)
        print ""nneigh:"", tour, z, '  -->  ',
        z = localsearch(tour, z, D)
        print tour, z
    print

    # multi-start local search
    print ""random start local search:""
    niter = 100
    tour,z = multistart_localsearch(niter, n, D, report_sol)
    assert z == length(tour, D)
    print ""best found solution (%d iterations): z = %g"" % (niter, z)
    print tour
"
33303,43930,how do I convert array to JSON,">>> import json
>>> url_list = ['http://www.google.com', 'http://www.yahoo.com']
>>> json.dumps({'entry': [{'url': v} for v in url_list]})
'{""entry"": [{""url"": ""http://www.google.com""}, {""url"": ""http://www.yahoo.com""}]}'

>>> print json.dumps({'entry': [{'url': v} for v in url_list]}, indent=4)
{
    ""entry"": [
        {
            ""url"": ""http://www.google.com""
        }, 
        {
            ""url"": ""http://www.yahoo.com""
        }
    ]
}
"
4730,70848,Setting folder permissions in Windows using Python,"import win32security
import ntsecuritycon as con

FILENAME = ""whatever""

userx, domain, type = win32security.LookupAccountName ("""", ""User X"")
usery, domain, type = win32security.LookupAccountName ("""", ""User Y"")

sd = win32security.GetFileSecurity(FILENAME, win32security.DACL_SECURITY_INFORMATION)
dacl = sd.GetSecurityDescriptorDacl()   # instead of dacl = win32security.ACL()

dacl.AddAccessAllowedAce(win32security.ACL_REVISION, con.FILE_GENERIC_READ | con.FILE_GENERIC_WRITE, userx)
dacl.AddAccessAllowedAce(win32security.ACL_REVISION, con.FILE_ALL_ACCESS, usery)

sd.SetSecurityDescriptorDacl(1, dacl, 0)   # may not be necessary
win32security.SetFileSecurity(FILENAME, win32security.DACL_SECURITY_INFORMATION, sd)
"
10586,31958,"Histogram in matplotlib, time on x-Axis","import random
import matplotlib.pyplot as plt
import matplotlib.dates as mdates

# generate some random data (approximately over 5 years)
data = [float(random.randint(1271517521, 1429197513)) for _ in range(1000)]

# convert the epoch format to matplotlib date format 
mpl_data = mdates.epoch2num(data)

# plot it
fig, ax = plt.subplots(1,1)
ax.hist(mpl_data, bins=50, color='lightblue')
ax.xaxis.set_major_locator(mdates.YearLocator())
ax.xaxis.set_major_formatter(mdates.DateFormatter('%d.%m.%y'))
plt.show()
"
1276,71168,Format a string with all combinations of multiple dictionary key / values,"def combine(template, options)
    products = [dict(zip(options, values)) for values in itertools.product(*options.values())]
    return [template.format(**p) for p in products]
"
9326,54905,Force Output from SOLR Query to Download as CSV,"    final_csv = """"""""""""

    header = ""service_name_and_version,_version_,run_name,baseline_value,added_on,site_id,metric_type,baseline_run_id,service_name,tag_name,url,service_version,change_in_value,id,run_id,run_value,page_id,cryptic_tag_name""

    nice_header = header.split("","")

    final_csv += str(nice_header)[1:-1]

    r = requests.get(solr_query)

    solr_return = r.json()

    length = solr_return[""response""][""numFound""]
    #(n + d // 2) // d

    print length

    pages = ((length + return_count // 2) // return_count) + 1

    #print pages

    counter = 0
    cursor = 0


    csv_query = solr_query.replace(""&wt=json"", ""&wt=csv&csv.header=false"")

    while counter < pages:

        iter_query = csv_query + ""&rows="" + str(return_count) + ""&start="" + str(cursor)

        r = requests.get(iter_query)

        solr_return = r.text

        solr_docs = solr_return.split(""\n"")
        print solr_docs
        print len(solr_docs)

        for doc in solr_docs[:-1]:

            row = str(doc)

            split_row = row.split("","")

            final_csv += ""\n"" + str(split_row)[1:-1]


        counter += 1
        cursor += return_count

    response = make_response(final_csv)

    response.headers['Content-type'] = 'text/csv'

    response.headers[""Content-Disposition""] = ""attachment; filename={0}.csv"".format(csv_name)

    return response
"
28503,66335,Flyweight pattern - Memory footprint,"enemyList.append(Enemy(randomPosX, randomPosY, enemyType, enemyTypes[enemyType]))
"
1075,49876,"Convert String to Integer, Preserving Leading Zeroes","In [13]: ""%06d"" % 88
Out[13]: '000088'
"
22919,67589,PyQt: get the current QTreeWidget item,"#remove the old way of connecting
#self.connect(self.treeWidget,SIGNAL(""itemSelectionChanged()""), self.loadAllMessages)
self.treeWidget.itemSelectionChanged.connect(self.loadAllMessages)
def loadAllMessages(self, folder):
    getSelected = self.treeWidget.selectedItems()
    if getSelected:
        baseNode = getSelected[0]
        getChildNode = baseNode.text(0)
        print getChildNode
"
17480,63429,How to Sum up number of list,">>> def count(local_list):
...     sum1 = 0
...     for l in local_list:
...             if not isinstance(l,list):
...                     return 1 
...             else:
...                     sum1+= count(l) 
...     
...     return sum1
... 
>>> count([['a', 'b', 'c', 'a'], [['b', 'd', 'a', 'c'], ['a', 'a', 'a', 'b']], ['a', 'b', 'g', 'h'], [['x', 'z', 'c', 'c'], ['b', 'c', 'b', 'a']]])
6
"
13369,79287,Python `tee` stdout of child process,"import os, time, sys

pr, pw = os.pipe()
pid = os.fork()

if pid == 0:
    os.close(pw)
    os.dup2(pr, sys.stdin.fileno())
    os.close(pr)
    os.execv('/usr/bin/tee', ['tee', 'log.txt'])
else:
    os.close(pr)
    os.dup2(pw, sys.stdout.fileno())
    os.close(pw)

    pid2 = os.fork()

    if pid2 == 0:
        # Replace with your custom process call
        os.execv('/usr/bin/yes', ['yes'])
    else:
        try:
            while True:
                time.sleep(1)
        except KeyboardInterrupt:
            pass
"
32854,66787,Python Remove if Not Found,"def removeSubsumed(L, R):
    return [s for s in L if not any(s >= r for r in R)]
"
18301,49372,Multiple threads writing to the same CSV in Python,"# create the lock
import threading
csv_writer_lock = threading.Lock()

def downloadThread(arguments......):
    # pass csv_writer_lock somehow
    # Note: use csv_writer_lock on *any* access
    # Some code.....
    with csv_writer_lock:
        writer.writerow(re.split(',', line.decode()))
"
25406,54846,What does printing an empty line do?,"print
"
24309,28183,Can I add sections to optparse.OptionParser in python?,"epilog : string
    paragraph of help text to print after option help
"
28876,39780,How to make matplotlib/pandas bar chart look like hist chart?,"Example Plotting
%matplotlib inline

import numpy as np
import pandas as pd
import scipy.stats as stats
import matplotlib
matplotlib.rcParams['figure.figsize'] = (12.0, 8.0)
matplotlib.style.use('ggplot')

# Setup size and distribution
size = 50000
distribution = stats.norm()

# Create random data
rv = pd.Series(distribution.rvs(size=size))
# Get sane start and end points of distribution
start = distribution.ppf(0.01)
end = distribution.ppf(0.99)

# Build PDF and turn into pandas Series
x = np.linspace(start, end, size)
y = distribution.pdf(x)
pdf = pd.Series(y, x)

# Get histogram of random data
y, x = np.histogram(rv, bins=50, normed=True)
# Correct bin edge placement
x = [(a+x[i+1])/2.0 for i,a in enumerate(x[0:-1])]
hist = pd.Series(y, x)

# Plot previously histogrammed data
ax = pdf.plot(lw=2, label='PDF', legend=True)
w = abs(hist.index[1]) - abs(hist.index[0])
ax.bar(hist.index, hist.values, width=w, alpha=0.5, align='center')
ax.legend(['PDF', 'Random Samples'])
"
29091,34205,How can I find the longest word in a text file?,"import itertools
from collections import defaultdict

words = defaultdict(list)
with open('/usr/share/dict/words') as qfile:
    for word in qfile:
        word = word.rstrip('\n').lower()
        words[''.join(sorted(word))].append(word)

def longest_anagram(term, words):
    search_length = len(term)
    term = sorted(term) # combinations maintains sort order
    while search_length > 0:
        for combo in itertools.combinations(term, search_length):
            search = ''.join(combo) # sort above means we dont need it here
            if search in words:
                return words[search]
        search_length -= 1
    return None

found = longest_anagram('qugteroda', words)
for w in found:
    print(w)
"
33528,64033,Python struct.Struct.size returning unexpected value,">>> struct.Struct('!Bffffff').size  # network byte order
25
>>> struct.Struct('=Bffffff').size  # native byte order, no alignment.
25
>>> struct.Struct('>Bffffff').size  # big endian
25
>>> struct.Struct('<Bffffff').size  # little endian
25
>>> struct.Struct('@Bffffff').size  # native byte order, alignment.
28
"
34751,12261,Python JSON: NameError: name 'false' is not defined,">>> import json
>>> json_string = r'''{""created_at"":""Thu Jul 10 20:02:00 +0000 2014"",""id"":487325888950710272,""id_str"":""487325888950710272"",""text"":""\u5f81\u9678\u300c\u5de6\u8155\u306e\u7fa9\u624b\u306f\u30db\u30ed\u3060\u300d"",""source"":""\u003ca href=\""http:\/\/twittbot.net\/\"" rel=\""nofollow\""\u003etwittbot.net\u003c\/a\u003e"",""truncated"":false,""in_reply_to_status_id"":null,""in_reply_to_status_id_str"":null,""in_reply_to_user_id"":null,""in_reply_to_user_id_str"":null,""in_reply_to_screen_name"":null,""user"":{""id"":1429838018,""id_str"":""1429838018"",""name"":""\u3053\u3093\u306a\uff30\uff30\u306f\u5acc\u3060\u3002"",""screen_name"":""iyada_pp"",""location"":""\u516c\u5b89\u5c40\u306e\u3069\u3053\u304b\u3002"",""url"":null,""description"":""\u3010\u3053\u3093\u306aPSYCHO-PASS\u306f\u5acc\u3060\u306a\u3011\u3068\u3044\u3046\u304f\u3060\u3089\u306a\u3044\u5984\u60f3bot\u3067\u3059\u3002\u30ad\u30e3\u30e9\u5d29\u58ca\u304c\u6fc0\u3057\u3044\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002"",""protected"":false,""followers_count"":99,""friends_count"":98,""listed_count"":5,""created_at"":""Wed May 15 07:52:33 +0000 2013"",""favourites_count"":0,""utc_offset"":null,""time_zone"":null,""geo_enabled"":false,""verified"":false,""statuses_count"":12584,""lang"":""ja"",""contributors_enabled"":false,""is_translator"":false,""is_translation_enabled"":false,""profile_background_color"":""C0DEED"",""profile_background_image_url"":""http:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png"",""profile_background_image_url_https"":""https:\/\/abs.twimg.com\/images\/themes\/theme1\/bg.png"",""profile_background_tile"":false,""profile_image_url"":""http:\/\/pbs.twimg.com\/profile_images\/3661872276\/ab7201283dac5dc1789bb6dfa9b6abe4_normal.jpeg"",""profile_image_url_https"":""https:\/\/pbs.twimg.com\/profile_images\/3661872276\/ab7201283dac5dc1789bb6dfa9b6abe4_normal.jpeg"",""profile_link_color"":""0084B4"",""profile_sidebar_border_color"":""C0DEED"",""profile_sidebar_fill_color"":""DDEEF6"",""profile_text_color"":""333333"",""profile_use_background_image"":true,""default_profile"":true,""default_profile_image"":false,""following"":null,""follow_request_sent"":null,""notifications"":null},""geo"":null,""coordinates"":null,""place"":null,""contributors"":null,""retweet_count"":0,""favorite_count"":0,""entities"":{""hashtags"":[],""symbols"":[],""urls"":[],""user_mentions"":[]},""favorited"":false,""retweeted"":false,""filter_level"":""medium"",""lang"":""ja""}'''
>>> json.loads(json_string)
{u'contributors': None, u'truncated': False, u'text': u'\u5f81\u9678\u300c\u5de6\u8155\u306e\u7fa9\u624b\u306f\u30db\u30ed\u3060\u300d', u'in_reply_to_status_id': None, u'id': 487325888950710272, u'favorite_count': 0, u'source': u'<a href=""http://twittbot.net/"" rel=""nofollow"">twittbot.net</a>', u'retweeted': False, u'coordinates': None, u'entities': {u'symbols': [], u'user_mentions': [], u'hashtags': [], u'urls': []}, u'in_reply_to_screen_name': None, u'id_str': u'487325888950710272', u'retweet_count': 0, u'in_reply_to_user_id': None, u'favorited': False, u'user': {u'follow_request_sent': None, u'profile_use_background_image': True, u'default_profile_image': False, u'id': 1429838018, u'profile_background_image_url_https': u'https://abs.twimg.com/images/themes/theme1/bg.png', u'verified': False, u'profile_image_url_https': u'https://pbs.twimg.com/profile_images/3661872276/ab7201283dac5dc1789bb6dfa9b6abe4_normal.jpeg', u'profile_sidebar_fill_color': u'DDEEF6', u'profile_text_color': u'333333', u'followers_count': 99, u'profile_sidebar_border_color': u'C0DEED', u'id_str': u'1429838018', u'profile_background_color': u'C0DEED', u'listed_count': 5, u'is_translation_enabled': False, u'utc_offset': None, u'statuses_count': 12584, u'description': u'\u3010\u3053\u3093\u306aPSYCHO-PASS\u306f\u5acc\u3060\u306a\u3011\u3068\u3044\u3046\u304f\u3060\u3089\u306a\u3044\u5984\u60f3bot\u3067\u3059\u3002\u30ad\u30e3\u30e9\u5d29\u58ca\u304c\u6fc0\u3057\u3044\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002', u'friends_count': 98, u'location': u'\u516c\u5b89\u5c40\u306e\u3069\u3053\u304b\u3002', u'profile_link_color': u'0084B4', u'profile_image_url': u'http://pbs.twimg.com/profile_images/3661872276/ab7201283dac5dc1789bb6dfa9b6abe4_normal.jpeg', u'following': None, u'geo_enabled': False, u'profile_background_image_url': u'http://abs.twimg.com/images/themes/theme1/bg.png', u'name': u'\u3053\u3093\u306a\uff30\uff30\u306f\u5acc\u3060\u3002', u'lang': u'ja', u'profile_background_tile': False, u'favourites_count': 0, u'screen_name': u'iyada_pp', u'notifications': None, u'url': None, u'created_at': u'Wed May 15 07:52:33 +0000 2013', u'contributors_enabled': False, u'time_zone': None, u'protected': False, u'default_profile': True, u'is_translator': False}, u'geo': None, u'in_reply_to_user_id_str': None, u'lang': u'ja', u'created_at': u'Thu Jul 10 20:02:00 +0000 2014', u'filter_level': u'medium', u'in_reply_to_status_id_str': None, u'place': None}
"
32689,25123,Index into a string in a list,"line[9][0:1]
"
23416,20264,Split list of tuples based on value within tuple,"from itertools import groupby

x = [(1,2), (2,3), (0,0), (4,0), (0,1), (3,9), (2,0), (2,4)]

print [l for l in [list(group) for key, group in groupby(x, key=lambda k: k[1]==0)]
             if l[0][1] != 0]

[OUT] [[(1,2), (2,3)], [(0,1), (3,9)], [(2,4)]]
"
4357,71440,Speeding up templates in GAE-Py by aggregating RPC calls,"# Given the posts, fetches all the data the template will need
# with just 2 key-only loads from the datastore.
posts = get_the_posts()

author_keys = [Post.author.get_value_for_datastore(x) for x in posts]
authors = db.get(author_keys)

city_keys = [Author.city.get_value_for_datastore(x) for x in authors]
cities = db.get(city_keys)

for post, author, city in zip(posts, authors, cities):
  post.author = author
  author.city = city
"
27736,57389,Python Lirc blocks code even when blocking is off,"import pyowm
from sys import exit
import time
import RPi.GPIO as GPIO, feedparser, time
from RPLCD import CharLCD, cleared, cursor
import pylirc

sockid = pylirc.init('weather')
allow = pylirc.blocking(0)
owm = pyowm.OWM('API Key')
lcd = CharLCD(pin_rs=26, pin_rw=None, pin_e=24, pins_data=[22, 18, 16, 12],
                  cols=16, rows=2)


class mail(object):
    def __init__(self):
        self.username = ""email address""    
        self.password = ""password""
        self.newmail_offset = 0
        self.current = 0
        GPIO.setmode(GPIO.BOARD)
        GPIO.setup(15, GPIO.OUT)
        GPIO.setup(13, GPIO.OUT)
        GPIO.setup(11, GPIO.OUT)

    def buzz(self):
        self.period = 1.0 / 250
        self.delay = self.period / 2
        self.cycles = 250

        for i in range(self.cycles):
            GPIO.output(11, True)
            time.sleep(self.delay)

            GPIO.output(11, False)
            time.sleep(self.delay)

    def check(self): 
        self.newmails = int(feedparser.parse(""https://"" + self.username + "":"" + 
                            self.password +""@mail.google.com/gmail/feed/atom"")
                            [""feed""][""fullcount""])

        if self.newmails > self.newmail_offset:
            GPIO.output(15, True)
            GPIO.output(13, False)

            if self.newmails > self.current:
                self.buzz()
                self.current += 1    
        else:
            GPIO.output(15, False)
            GPIO.output(13, True)
            self.current = 0

### will be a class
class weather(object):
    def __init__(self):
        self.w = None
        self.wind = None
        self.windkm = None
        self.humidity = None
        self.temper = None
        self.counter = 0
        self.next = 1

    def update(self):
        if self.counter == 0:
            self.counter = 180
            self.observation = owm.weather_at_place('City, Country')
            self.w = self.observation.get_weather()
            self.wind = self.w.get_wind()
            self.windkm = (self.wind['speed'] * 3600) / 1000
            self.humidity = self.w.get_humidity()
            self.temper = self.w.get_temperature('celsius')
        else:
            pass

    def display_weather(self):
        lcd.cursor_pos = (0, 4)
        lcd.write_string('Weather')
        lcd.cursor_pos = (1, 5)
        lcd.write_string(self.w.get_status())
        time.sleep(3)
        lcd.clear()

    def display_temp(self):
        lcd.cursor_pos = (0, 2)
        lcd.write_string('Temperature')
        lcd.cursor_pos = (1, 6)
        lcd.write_string(str(self.temper['temp']))
        lcd.write_string(' C')
        time.sleep(3)
        lcd.clear()

    def display_hum(self):
        lcd.cursor_pos = (0, 4)
        lcd.write_string('Humidity')
        lcd.cursor_pos = (1, 6)
        lcd.write_string(str(self.humidity))
        lcd.write_string(' %')
        time.sleep(3)
        lcd.clear()

    def display_wind(self):
        lcd.cursor_pos = (0, 3)
        lcd.write_string('Wind Speed')
        lcd.cursor_pos = (1, 4)
        lcd.write_string(str(int(self.windkm)))
        lcd.write_string('km/h')
        time.sleep(3)
        lcd.clear()

    def next_tile(self):
        self.counter -= 1
        self.codeIR = pylirc.nextcode()
        if  not self.codeIR or self.codeIR[0] == self.next: 
            if self.next != 4:
                self.next += 1
            else:
                self.next -= 3
        else:
            self.next = int(self.codeIR[0])

email = mail()
weather = weather()
weather.update()
def up_next():
    weather.update()
    weather.next_tile()

while True:
    try:
        while weather.next == 1:
            weather.display_weather()
            up_next()

        while weather.next == 2:
            weather.display_temp()
            up_next()

        while weather.next == 3:
            weather.display_hum()
            up_next()

        while weather.next == 4:
            weather.display_wind()
            email.check()
            up_next()

    except(KeyboardInterrupt, SystemExit):
        print 'quitting'
        lcd.close(clear=True)
        exit()
"
23573,32669,How to convert the data and time according to given UTC offset using Pytz in python & django?,"d = datetime.now(pytz.timezone('UTC'))   # get date in UTC format - you'll be getting it from the database
local = d.astimezone('Asia/Kolkata')
print local.strftime(""%Y-%m-%d %H:%M:%S %z"")
"
4435,69986,Thread buffer iterator for preloading files in python,"import multiprocessing

def get_contents(filename):
    with open(filename) as f:
        return f.read()

pool = multiprocessing.Pool(processes=2) # or more
for fs in pool.imap(get_contents, file_list, 5) # 5 is the chunk size here
    # ... your work ...
"
25940,76708,Shift pandas columns based on number of Empty columns,"import pandas as pd

df = pd.read_csv('your_data.csv')

to_shift = len(df.dropna(how='all', axis=1).columns)

df2 = df.dropna(how='all', axis=1)
df2.columns = df.columns[-to_shift:]

print df2

   Rk  Year
0   1     2
1   2     3
2   3     3
3   4     5
"
39969,81016,PySpark: custom function in aggregation on grouped data,"from pyspark.sql.functions import explode, avg, col

ratio = avg(
    # If status ""S"" then 1.0 else 0.0
    (col(""status"") == ""S"").cast(""double"")
 ).alias(""ratio"")

(df
    .withColumn(""keyword"", explode(""keywords""))
    .groupBy(""id"", ""type"", ""keyword"")
    .agg(ratio))
"
16748,61862,Strange list assignment,"import copy

def MAXJ(lista):
    static = lista
    output = copy.deepcopy(lista)
    for i in range(len(lista)):
        for j in range(len(lista[i])):
            if(i != 0):
                output[i][j] = output[i][j] + lista[i-1][j]
                if(j != 0):
                    output[i][j] = output[i][j] + lista[i-1][j-1]
                if(j != len(lista[i]) - 1):
                    output[i][j] = output[i][j] + lista[i-1][j+1]
            if(i != len(lista) - 1):
                output[i][j] = output[i][j] + lista[i+1][j]
                if(j != 0):
                    output[i][j] = output[i][j] + lista[i+1][j-1]
                if(j != len(lista[i]) - 1):
                    output[i][j] = output[i][j] + lista[i+1][j+1]
            if(j != 0):
                output[i][j] = output[i][j] + lista[i][j-1]
            if(j != len(lista[i]) - 1):
                output[i][j] = output[i][j] + lista[i][j+1]
            print(""List:"", lista, ""\n"",""OutPut:"", output, sep = '')
MAXJ([[1, 2, 3, 2],[0, 0, 1, 2]])
"
27368,79094,Write a CSV file in Python,"text = ""Text1 Text2 Text3 Text4 Text5\n\
Here comes more test text\n\
and even more1 more2 more3\n\
tex text textt te tex\n\
1 2 3 4 5""
filecsv = open('csvfile.csv', 'w+')
filecsv.write(text.replace(' ', ';'))
filecsv.close()
"
9545,4959,django admin: show list of items filtered,"class YourAdminForm(forms.ModelForm):

    class Meta:
        model = YourModel

    def __init__(self, *args, **kwargs):
        super(YourAdminForm, self).__init__(*args, **kwargs)
        qs = self.fields['your_fk_field'].queryset
        self.fields['your_fk_field'].queryset = qs.filter(is_active=1) 
"
7264,56184,Extracting data from vector that equals X and counting them,"import pandas as pd

x = pd.Series(range(1, 51))
>>> sum(x == 10)
1
"
13460,42146,python stop selenium standalone server,"import selenium
import socket
import subprocess
import shlex
import sys
import time

# CHANGE path='/path/to/selenium-server.jar' AS NEEDED:
def start_server(path='/path/to/selenium-server.jar'):
    null=open('/dev/null')
    proc=subprocess.Popen(shlex.split('java -jar {p}'.format(p=path)),
                          stdout=null,stderr=null)
    return proc

def shutdown_server(sel):
    sel.shut_down_selenium_server()

def start_selenium(host=""localhost"",
                   port=4444,
                   browserStartCommand=""*firefox"",
                   browserURL=""http://www.google.com/webhp""):
    sel=selenium.selenium(host,port,browserStartCommand,browserURL)
    try:
        sel.start()
    except socket.error as err:
        proc=start_server()
        time.sleep(1)
        try:
            sel.start()
        except socket.error as err:
            sys.exit(err)
    return sel

if __name__=='__main__':
    sel=start_selenium()
    time.sleep(1)
    sel.stop()
    shutdown_server(sel)    
"
6421,58072,Can I edit dictionaries created by dictreader in python,"elistable = list(csv.DictReader(open(""./elispotable.csv"", 'rU')))
"
37516,21364,Global variable in Python server,"import CGIHTTPServer
import random
import sys
import cgi

class MyRequestHandler(CGIHTTPServer.CGIHTTPRequestHandler):
    global super_important_list
    super_important_list = range(10)
    random.shuffle(super_important_list)

    def do_POST(s):    
        """"""Respond to a POST request.""""""
        form = cgi.FieldStorage(fp=s.rfile,headers=s.headers,environ={'REQUEST_METHOD':'POST','CONTENT_TYPE':s.headers['Content-Type'],})
        s.wfile.write(""<html><head><title>Title goes here.</title></head>"")
        s.wfile.write(""<body><p>This is a test.</p>"")
        s.wfile.write(""<p>You accessed path: %s</p>"" % s.path)
        s.wfile.write(""<p>Also, super_important_list is:</p>"")
        s.wfile.write(str(super_important_list))
        s.wfile.write(""<p>Furthermore, you POSTed the following info: "")
        for item in form.keys():
            s.wfile.write(""<p>Item: "" + item)
            s.wfile.write(""<p>Value: "" + form[item].value)
        s.wfile.write(""</body></html>"")

if __name__ == '__main__':
    server_address = ('', 8000)
    httpd = CGIHTTPServer.BaseHTTPServer.HTTPServer(server_address, MyRequestHandler)
    try:
        httpd.serve_forever()
    except KeyboardInterrupt:
        sys.exit()
"
897,18456,Simulate drag option with pygames,"mousebeingpressed = False
While True:
    for event in pygame.event.get():
        if event.type == MOUSEBUTTONDOWN:
            mousebeingpressed = True
        if event.type == MOUSEBUTTONUP:
            mousebeingpressed = False
        if event.type == MOUSEMOTION and mousebeingpressed == True:
            #do stuff
"
32394,4971,pysox under Windows,"    command = """"""sox.exe ""{0}"" """""".format(FilePath)
    startupinfo = subprocess.STARTUPINFO()
    startupinfo.dwFlags |= subprocess.STARTF_USESHOWWINDOW
    sox = subprocess.Popen(command, startupinfo = startupinfo)
"
34557,84020,How to find different combinations of numpy array?,"import numpy as np
from itertools import combinations

t = np.random.rand(4,3) # dummy example np.array
n_cols = t.shape[1] # number of columns

# all the combinations in a tuple:
combs = tuple( t[:, comb] for n in range(n_cols+1) for comb in combinations(range(n_cols), n) )
"
37237,38998,"Iterate a list as pair (current, next) in Python","import itertools
def pairwise(iterable):
    ""s -> (s0,s1), (s1,s2), (s2, s3), ...""
    a, b = itertools.tee(iterable)
    next(b, None)
    return itertools.izip(a, b)
"
35419,7778,"How to cut a very ""deep"" json or dictionary in Python?","import collections

def cut(dict_, maxdepth, replaced_with=None):
    """"""Cuts the dictionary at the specified depth.

    If maxdepth is n, then only n levels of keys are kept.
    """"""
    queue = collections.deque([(dict_, 0)])

    # invariant: every entry in the queue is a dictionary
    while queue:
        parent, depth = queue.popleft()
        for key, child in parent.items():
            if isinstance(child, dict):
                if depth == maxdepth - 1:
                    parent[key] = replaced_with
                else:
                    queue.append((child, depth+1))
"
8542,53196,Test if string ONLY contains given characters,"my_list = ['aba', 'acba', 'caz']
result = [s for s in my_list if not s.strip('abc')]
"
24190,47456,NetworkX: Subgraph Isomorphism by edge and node attributes,"print GM = iso.GraphMatcher(B,A,node_match=iso.categorical_node_match(['material', 'size'],['metal',1]))
"
14071,14402,getattr keyword arg filtering,"def clean_cool_filter(model_name, params):
    clause = {
        ""Column"": 'stub__in',
        ""Person"": 'web_slug__in', 
        ""Tag"": 'name__in'
    }.get(model_name)
    if clause:
        return {clause: params}
    else:
        return {}
"
19313,45457,Regular Expressions Python - unicode to plain text,">>> import re
>>> usa = (u'ç¾Žå›½', u'ç±³å›½', u'ë¯¸êµ')
>>> re.sub('|'.join(usa), 'USA', u'ç¾Žå›½ is a country.')
u'USA is a country.'
"
33190,46142,Does python have a shorthand for this simple task?,"bar = [x for x in foo if x % 2 == 1]
"
24264,8868,How to suppress sqlalchemy.engine.base.Engine logging to stdout?,"import logging

sqla_logger = logging.getLogger('sqlalchemy')
sqla_logger.propagate = False
sqla_logger.addHandler(logging.FileHandler('/path/to/sqla.log'))
"
9452,14909,"python code formatting: how to avoid extra spaces within a string that is cut off by the line-breaker ""\""","print time.strftime((""%m/%d/%Y %I:%M:%S ""
    ""%p""), time.localtime(os.path.getmtime(fname)))
"
27592,78636,Align two lists by adding special values for missing entries,"set1 = set(list1)
set2 = set(list2)
total = sorted(set1|set2)

new_list1 = [x if x in set1 else ""MISSING"" for x in total]
new_list2 = [x if x in set2 else ""MISSING"" for x in total]
"
23271,1875,Reference values in the previous row with map or apply,"In [2]: df = pd.DataFrame({'a':[0,1,2], 'b':[0,10,20]})

In [3]: df
Out[3]:
   a   b
0  0   0
1  1  10
2  2  20

# a calculation based on other column
In [4]: df['c'] = df['b'] + 1

# shift the column
In [5]: df['c'] = df['c'].shift()

In [6]: df
Out[6]:
   a   b   c
0  0   0 NaN
1  1  10   1
2  2  20  11
"
6218,69024,"""None"" output after raw_input in Python 2.7 bug","def main():
    print ""Welcome to my Text Adventure!""
    return raw_input(""Press any button to start!"")
"
13102,41679,selectionModel and selectedRows used selected rows but PyQt4.QtCore.QModelIndex object at 0x12xxxxxx,"    indexes = tablewidget.selectionModel().selectedRows(column)
    for index in sorted(indexes):
        row = index.row()
        rowtext = []
        for column in range(tablewidget.columnCount()):
            rowtext.append(tablewidget.item(row, column).text())
        print(rowtext)
"
4168,56062,How can I read a byte array from a socket in Python,"data = client_sock.recv(1024)
with open('textfile.txt', 'a') as f:
    for ch in data:
        f.write('{}\n'.format(ord(ch)))
"
3745,80209,Multiprocessing slots in python,"import multiprocessing
import time

def process(x):
    time.sleep(1)
    return x

if __name__ == '__main__':
    jobs = range(100)
    pool = multiprocessing.Pool(20)
    for result in pool.imap_unordered(process, jobs):
        print(result)
    pool.close()
    pool.join()
"
28542,10020,Specifying where to install 'tests_require' dependencies of a distribute/setuptools package,"test_requirements = ['pytest>=2.1', 'dingus']
setup(
    # ...
    tests_require = test_requirements,
    install_requires = [
        # ... (your usual install requirements)
    ] + test_requirements,
)
"
32731,32629,printing on the same line in python,"    i= 0
while i < 100:
    j = 0
    while j < 4:
        k =0
        while k < 4:
            sys.stdout.write(""%s"" % random.randint(0, 9))
            k += 1  
        sys.stdout.write("" "") 
        j += 1   
    i += 1
    print ""\n""
"
15109,14113,what is the best way to extract from a line in Python,"import re
arr = re.findall(""-(.*?)<(.*?)>"", ""-user <username> -id <userid> -sub <subname>"")

for x in arr:
   print ""\"""" + x[0].strip() + ""\"" : "", x[1].strip()
"
28809,23136,facebook signed request email,"def parse_signed_request(signed_request, app_secret):
    try:
        l = signed_request.split('.', 2)
        encoded_sig = str(l[0])
        payload = str(l[1])
    except IndexError:
        raise ValueError(""'signed_request' malformed"")

    sig = base64.urlsafe_b64decode(encoded_sig + ""="" * ((4 - len(encoded_sig) % 4) % 4))
    data = base64.urlsafe_b64decode(payload + ""="" * ((4 - len(payload) % 4) % 4))

    data = json.loads(data)

    if data.get('algorithm').upper() != 'HMAC-SHA256':
        raise ValueError(""'signed_request' is using an unknown algorithm"")
    else:
        expected_sig = hmac.new(app_secret, msg=payload, digestmod=hashlib.sha256).digest()

    if sig != expected_sig:
        raise ValueError(""'signed_request' signature mismatch"")
    else:
        return data


def fb_registration(request):
    if request.POST:
        if 'signed_request' in request.POST:
            # parse and check data
            data = parse_signed_request(request.POST['signed_request'], settings.FACEBOOK_APP_SECRET)

            # lets try to check if user exists based on username or email
            try:
                check_user = User.objects.get(username=data['registration']['name'])
            except:
                state = ""Username is already exist. Please try other account.""
                return HttpResponseRedirect(reverse('accounts:register'))

            try:
                check_user = User.objects.get(email=data['registration']['email'])
            except:
                state = ""Email is already exist. Please use other account.""
                return HttpResponseRedirect(reverse('accounts:register'))

            #lets create now the user
            randompass = ''.join([choice('1234567890qwertyuiopasdfghjklzxcvbnm') for i in range(7)])
            user = User.objects.create_user(data['registration']['name'], data['registration']['email'], randompass)
            user.save()

            user = authenticate(username=data['registration']['name'], password=randompass)

            if user is not None:
                # save in user profile his facebook id
                fbid = 'http://www.facebook.com/profile.php?id=%s' % data['user_id']
                r = RPXAssociation(user=user, identifier=fbid)
                r.save()
                login(request, user)
            return HttpResponseRedirect(reverse('accounts:choose_plan'))
        else:
            state = ""Registration request failed!""

    return HttpResponseRedirect(reverse('accounts:register'))
"
39422,67962,Extend django rest framework to allow inheriting context in nested serializers,"class ParentSerializer(serializers.ModelSerializer):
    child = serializers.SerializerMethodField()

    def get_child(self, obj):
        child = ....
        serializer = ChildSerializer(instance=child, context=self.context)
        return serializer.data
"
93,53309,Cannot Display an Image in Tkinter,"self.photo = PhotoImage(file=""noart.ppm"")
    self.Artwork = Label(self.frame, image=self.photo)
    self.Artwork.photo = self.photo
    self.Artwork.pack()
"
19321,36390,Python regex split woes,"line = ""A12B1234123456\tMisc text""
m = re.match('^([A-H])(\d{2})?([A-Z])?(\d{4})?(\d{6})?\t(.*)$', line)
m.groups()
>>> ('A', '12', 'B', '1234', '123456', 'Misc text')
"
9093,81283,How do you move tree with ignore patterns in python,"def copytree(src, dst, symlinks=False, ignore=None):
"
21005,1272,Python pendulum,"h=float(input(""h: ""))
q=float(input(""Angle: ""))
l=float(input(""Pendulum length: ""))
"
15643,3877,Best way to find the number of distinct element in a submatrix using python,"from collections import Counter
import numpy as np

mat=[[1,2,3],[3,2,1],[5,4,6]]
mat = np.matrix(mat)

submat = mat[a-1:c,b-1:d] # extract the sub matrix desired

flattened = np.array(submat.flatten()).flatten() #flatten it for use in counter

print Counter(flattened) # prints the counts of each unique item

len_unique = len(Counter(flattened)) # the total number of unique items.
"
35047,42423,how do I display the elements in the slice all on one line separated by a single space and sorted in highest to lowest order,"def process(total):
    total.sort()
    return total[1:-1] #take all numbers except the first and the last
"
3546,82060,replace characters in list of lists,"In [10]: board
Out[10]: 
[[3, 7, 0, 0, 5, 0, 0, 0, 0],
 [0, 6, 0, 0, 3, 0, 2, 0, 0],
 [0, 2, 9, 4, 0, 0, 0, 7, 8],
 [0, 0, 4, 1, 7, 0, 0, 8, 0],
 [0, 0, 6, 3, 0, 5, 9, 0, 0],
 [0, 5, 0, 0, 8, 4, 1, 0, 0],
 [7, 1, 0, 0, 0, 8, 5, 6, 0],
 [0, 0, 5, 0, 1, 0, 0, 2, 0],
 [0, 0, 0, 0, 9, 0, 0, 1, 3]]

In [11]: board=[[x if x!=0 else "" "" for x in i] for i in board]

In [12]: board
Out[12]: 
[[3, 7, ' ', ' ', 5, ' ', ' ', ' ', ' '],
 [' ', 6, ' ', ' ', 3, ' ', 2, ' ', ' '],
 [' ', 2, 9, 4, ' ', ' ', ' ', 7, 8],
 [' ', ' ', 4, 1, 7, ' ', ' ', 8, ' '],
 [' ', ' ', 6, 3, ' ', 5, 9, ' ', ' '],
 [' ', 5, ' ', ' ', 8, 4, 1, ' ', ' '],
 [7, 1, ' ', ' ', ' ', 8, 5, 6, ' '],
 [' ', ' ', 5, ' ', 1, ' ', ' ', 2, ' '],
 [' ', ' ', ' ', ' ', 9, ' ', ' ', 1, 3]]
"
19819,43150,How to change numbers around in a list in python,"for i in range(len(l)-1):
    if (l[i+1] < l[i]):
        l[i+1], l[i] = l[i], l[i+1]
"
36425,54881,python system call,"f = file('sourcefile')
for line in f:
    if 'pattern' in line:
            # mind the , at the end,
            # since there's no stripping involved
            # and print adds a newline without it
            print line, 
"
28173,24005,I read xrange is lazy it works at the last moment is it,">>> xr = xrange(100)
>>> it = iter(xr)
>>> it
<rangeiterator object at 0x100660450>
>>> next(it)
0
>>> next(it)
1
"
33664,72869,Converting Roman Numerals to integers in python,"def numberOfNumeral(n):
    """""" Return the number represented by the single numeral """"""
    # e.g. ""v"" -> 5, ""i"" -> 5 (and handle v/V cases, etc.)

# avoid ""string"" as a variable name
# I chose ""ns"" for ""numerals"" (which might be better),
# but I'm also a bit terse .. anyway, name variables for what they represents.
ns = str(input(""Enter a roman numeral""))

while ns:
   firstNum = numberOfNumeral(ns[0])
   # This makes secondValue = -1 when there is only one numeral left
   # so firstNum is always ""at least"" secondNum when len(ns) == 1. 
   secondNum = numberOfNumeral(ns[1]) if len(ns) > 1 else -1
   if firstNum is at least secondNum:
      # Add firstNum to total.
      # Remove the character - so that the loop state advances.
      # If we don't don't his, as in the original, it will never end.
      # Here we use ""slice notation"".
      ns = ns[1:] 
   else:
      # Add the difference, secondNum - firstNum, to total.
      # Remove both characters - again, so we advance state.
      ns = ns[2:]
"
28861,18757,How to include files in gcc search path?,"sudo gcc whatever.c -I/dir/*
"
20861,44878,Combining multiple DataFrames and removing identical names,">>> df1.merge(df2, on='n', how='outer')
"
32603,83132,Image resized with Python PIL are darker,"    icc_profile = im1.info.get('icc_profile')
    im6 = im1.resize((hd_width, hd_height), Image.ANTIALIAS) 
    ## this one will preserve the colours
    im6.save(""colorok-""+image,icc_profile=icc_profile)
    ## this one don't
    im6.save(""nop-""+image)
"
26757,7229,Boxplot: colors by x value and hues differentiated by pattern,"ax = sns.boxplot(data=x)
box = ax.artists[0]
box. set_facecolor(""white"")
"
29147,39763,Common logger settings in Python logging dictConfig,"'loggers': {
        #root logger  
        '': {
            'handlers': ['file'],
            'level': 'DEBUG',
        },
        # other loggers
        ...
}
"
23958,52017,Test for multiple substrings inside a single string in python 2.7?,"BAD_SUBSTRINGS = (""FY"", ""FE"", ""EX1"",""EX2"")

while True:
    filename = raw_input(""Please enter the name of the file:"")

    if any(b in filename for b in BAD_SUBSTRINGS):
        print(""Sorry, this filename is not valid"")
    else:
        print(""This filename is valid"")
        break
"
25079,31363,Apply Different Resampling Method to the Same Column (pandas),"In [23]: df = DataFrame(np.random.randn(100,1),columns=['weight'],index=date_range('20000101',periods=100,freq='MS'))

In [24]: df.resample('A',how=['max','mean'])
Out[24]: 
              weight          
                 max      mean
2000-12-31  1.958570 -0.312230
2001-12-31  1.739518  0.035701
2002-12-31  2.503437  0.169365
2003-12-31  1.115315  0.149279
2004-12-31  2.190617 -0.087536
2005-12-31  1.286224  0.037669
2006-12-31  1.674017  0.147676
2007-12-31  2.107169 -0.064962
2008-12-31 -0.163863 -0.572363

[9 rows x 2 columns]
"
12564,22170,Overloading + to support tuples,"class T(tuple):
    def __add__(self, other):
        return T(x + y for x, y in zip(self, other))
    def __rmul__(self, other):
        return T(other * x for x in self)
a = T((1, 2))
b = T((3, 4))
c = a + b # c would be (4, 6)
d = 3 * b # d would be (9, 12)
"
3413,6994,How can I make my code more efficient?,"found = defaultdict(int)
def determine(tup):
    if self.message in tup[3]: return True      # matched message

    times = messageTimes[tup[0]]
    idx = found[tup[0]]
    le = bisect.bisect_right(times, tup[1], idx)
    idx = le
    return (le and tup[1]-times[le-1] <= tdiff) or (le != len(times) and times[le]-tup[1] <= tdiff)
"
16753,54088,How to define a base route in Flask API routing system,"from flask_classy import FlaskView


class TaskView(FlaskView):
    def index(self):
        """"""Return a list of all tasks.""""""
        pass

    def get(self, id):
        """"""Get a specific task.""""""
        pass

    def delete(self, id):
        """"""Delete the task.""""""
        pass

TaskView.register(app)
"
2267,44309,How to pickle several .txt files into one pickle,"file1=open('file1.txt','r')
file2=open('file2.txt','r')
obj=[file1.read(), file2.read()]
cPickle.dump(obj,open('result.i2','w'),2)
"
19923,15816,Elegant way to store dictionary permanently with Python?,"import json

with open('my_dict.json', 'w') as f:
    json.dump(my_dict, f)

# elsewhere...

with open('my_dict.json') as f:
    my_dict = json.load(f)
"
37190,50972,searching through a list within lists,"[x for x in myList if len(x) == 5 and x[3] == Status and x[2]>x[4]]
"
32469,68196,Understanding some Python code,"def ret_tup():
    return 1,2 # can also be written with parens

a,b = ret_tup()
"
27908,59194,Python: Reading characters in ASCII and giving an output with clicks,"set pos to ""300, 300""
set t to quoted form of ""AB""

do shell script ""/usr/bin/python <<END
import binascii, sys, time
import Quartz.CoreGraphics as qcg
def mouseEvent(type, lrBtn, p):
    theEvent = qcg.CGEventCreateMouseEvent(None, type, (p), lrBtn)
    qcg.CGEventPost(qcg.kCGHIDEventTap, theEvent)
    time.sleep(0.3)
def mousemove(p):
    mouseEvent(qcg.kCGEventMouseMoved, qcg.kCGMouseButtonLeft, p)
def rightClick(lrBtn, p):
    mouseEvent(qcg.kCGEventRightMouseDown, lrBtn, p)
    mouseEvent(qcg.kCGEventRightMouseUp, lrBtn, p)
def leftClick(lrBtn, p):
    mouseEvent(qcg.kCGEventLeftMouseDown, lrBtn, p)
    mouseEvent(qcg.kCGEventLeftMouseUp, lrBtn, p)

tString="" & t & ""
pos="" & pos & ""
currentpos=qcg.CGEventGetLocation(qcg.CGEventCreate(None))
t = (bin(int(binascii.hexlify(tString),16)))[2:]
ascText = -len(t) % 8 * '0' + t
for i in range(0, len(ascText), 8): ### to every 8 digit 
    ascT = '1' + (ascText[i:i+8])[::-1] + '10'
    for c in ascT:
        if (c=='1'):
            rightClick(qcg.kCGMouseButtonRight, pos)
        else: leftClick(qcg.kCGMouseButtonLeft, pos)

    time.sleep(3);
mousemove(currentpos) # Restore mouse position
END""
"
9584,57554,Meaning of <..> in Python inspection,"    # String form, but snip if too long in ? form (full in ??)
    if detail_level >= self.str_detail_level:
        try:
            ostr = str(obj)
            str_head = 'string_form'
            if not detail_level and len(ostr)>string_max:
                ostr = ostr[:shalf] + ' <...> ' + ostr[-shalf:]
                ostr = (""\n"" + "" "" * len(str_head.expandtabs())).\
                        join(q.strip() for q in ostr.split(""\n""))
            out[str_head] = ostr
        except:
            pass
"
29061,69666,Element-wise subtraction of two numpy arrays,"a[:, np.newaxis] - b
"
36581,51811,creating a custom widget in tkinter,"try:
    # python 3.x
    import tkinter as tk
except ImportError:
    # python 2.x
    import Tkinter as tk


class CustomWidget(tk.Frame):
    def __init__(self, parent, label, default=""""):
        tk.Frame.__init__(self, parent)

        self.label = tk.Label(self, text=label, anchor=""w"")
        self.entry = tk.Entry(self)
        self.entry.insert(0, default)

        self.label.pack(side=""top"", fill=""x"")
        self.entry.pack(side=""bottom"", fill=""x"", padx=4)

    def get(self):
        return self.entry.get()

class Example(tk.Frame):
    def __init__(self, parent):
        tk.Frame.__init__(self, parent)
        self.label = tk.Label(self)
        self.e1 = CustomWidget(self, ""First Name:"", ""Inigo"")
        self.e2 = CustomWidget(self, ""Last Name:"", ""Montoya"")
        self.submitButton = tk.Button(self, text=""Submit"", command=self.submit)

        self.e1.grid(row=0, column=0, sticky=""ew"")
        self.e2.grid(row=1, column=0, sticky=""ew"")
        self.label.grid(row=2, column=0, sticky=""ew"")
        self.submitButton.grid(row=4, column=0)

        self.grid_columnconfigure(0, weight=1)
        self.grid_rowconfigure(2, weight=1)

    def submit(self):
        first = self.e1.get()
        last = self.e2.get()
        self.label.configure(text=""Hello, %s %s"" % (first, last))

if __name__ == ""__main__"":
    root = tk.Tk()
    Example(root).place(x=0, y=0, relwidth=1, relheight=1)
    root.mainloop()
"
36272,48618,How to return the whole list from a python function,"def gather_public_ip():
   ACCESS_KEY = config.get('aws','access_key')
   SECRET_KEY = config.get('aws','secret_key')
   regions = ['us-east-1','us-west-1','us-west-2','eu-west-1','sa-east-1','ap-southeast-1','ap-southeast-2','ap-northeast-1']
   all_EIP = []
   for region in regions:
      client = boto3.client('ec2',aws_access_key_id=ACCESS_KEY,aws_secret_access_key=SECRET_KEY,region_name=region,)
      addresses_dict = client.describe_addresses()
      for eip_dict in addresses_dict['Addresses']:
          print eip_dict['PublicIp']
          all_EIP.append(eip_dict['PublicIp'])
   return all_EIP
"
18879,84683,Find an element in a list of tuples in python,">>> for attr in attrs:
...   if ('href', 'http://fls-na.amazon.com') in attr:
...     print attr
...
[('rel', 'dns-prefetch'), ('href', 'http://fls-na.amazon.com')]
"
7503,36552,Traversal with multiple seed nodes,"START n=node(1,2,3,4,5) MATCH (n)-[:associatedMusicalArtist*0..2]-(other) RETURN other
"
5665,76489,using python numpy linspace in for loop,"z_bin = numpy.linspace(0.0, 10.0, 21)

for i in range(len(z_bin)-1):
    zmin = z_bin[i]
    zmax = z_bin[i+1]

    # do some things with zmin/zmax
"
34738,5460,timeout on subprocess readline in python,"import select
...
scan_process = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)
poll_obj = select.poll()
poll_obj.register(scan_process.stdout, select.POLLIN)   
while(some_criterium and not time_limit):
    poll_result = poll_obj.poll(0)
    if poll_result:
        line = scan_process.stdout.readline()
        some_criterium = do_something(line)
    update(time_limit)
"
21323,4128,Read many files and make columns in Pandas,"import pandas as pd
import glob

i = 1
dfs = []
#create empty df for output
d = pd.DataFrame()
#glob can use path with *.txt - see http://stackoverflow.com/a/3215392/2901002
#for i in allfiles:
for files in glob.glob('my_directory_path/*.csv'):
    #print files
    #added name as column name
    dfs.append(pd.read_csv(files, sep='\t',header=None, names = ['r_' + str(i)]))
    i += 1
p = pd.concat(dfs, axis=1)

print p


print p
   r_1  r_2
0    4   20
1   12    3
2   13    9
3    6   14
"
3512,41769,Most efficient way to print strings in Python?,">>> from io import StringIO
>>> foo = StringIO()
>>> for letter in map(chr, range(128)):
...     foo.write(letter)
...
>>> foo.seek(0)
0
>>> foo.read()
'\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f\x10\x11\x12\x13\x14\
x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !""#$%&\'()*+,-./0123456789:;<=>?@ABC
DEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f'
"
35323,38033,Using sys.path.insert without explicit absolute path,"(syspathinsert)macbook:syspathinsert joeyoung$ pwd
/Users/joeyoung/web/stackoverflow/syspathinsert
(syspathinsert)macbook:syspathinsert joeyoung$ tree
.
├── MyModule.py
└── bin
    ├── userinfo.py
    └── userinfo.pyc

1 directory, 3 files
(syspathinsert)macbook:syspathinsert joeyoung$ cat ./bin/userinfo.py
def say_hello():
    print ""hello there""

(syspathinsert)macbook:syspathinsert joeyoung$ cat MyModule.py 
import sys
sys.path.insert(0, './bin')
import userinfo

userinfo.say_hello()
(syspathinsert)macbook:syspathinsert joeyoung$ python MyModule.py 
hello there
"
24225,66668,How do I create a pie chart using Bokeh?,"from bokeh.plotting import *
from numpy import pi

# define starts/ends for wedges from percentages of a circle
percents = [0, 0.3, 0.4, 0.6, 0.9, 1]
starts = [p*2*pi for p in percents[:-1]]
ends = [p*2*pi for p in percents[1:]]

# a color for each pie piece
colors = [""red"", ""green"", ""blue"", ""orange"", ""yellow""]

p = figure(x_range=(-1,1), y_range=(-1,1))

p.wedge(x=0, y=0, radius=1, start_angle=starts, end_angle=ends, color=colors)

# display/save everythin  
output_file(""pie.html"")
show(p)
"
31405,3828,dis-juncting ( or Break) the string based on a punctuation in python,">>> import re
>>> text = ""I am doctor break I stays in CA break   you can contact me on +000000\n""
>>> re.split(r'\s+break\s+', text)
['I am doctor', 'I stays in CA', 'you can contact me on +000000\n']
"
37843,53257,Higher order functions with varying parameters in Python,"In [11]: import inspect

In [12]: def f(a, b): pass

In [13]: inspect.getargspec(f)
Out[13]: ArgSpec(args=['a', 'b'], varargs=None, keywords=None, defaults=None)
"
4985,83376,Compare items in list with nested for-loop,"short_urls = ['google.com', 'twitter.com', 'google.com']
duplicates_removed_list = list(set(short_urls))
print duplicates_removed_list # Prints ['google.com', 'twitter.com']
"
35295,17419,Using map and filter/reduce to count how many times things come up in a sequence (python),"random_colors = [random.choice(colors) for x in range(50)]

#because python's lambda is crappy, an extra local/global function must be defined
def count_color(di, color):
    di.setdefault(color, 0)
    di[color] = di[color]+1
    return di

result = reduce(count_color, random_colors, {})
#The result is what you want
"
37965,83896,Text file data into python list,"list_var = open(""small_list.txt"", ""r"").read().split()
new_list = []

for i in range(0, len(list_var)):
    new_list.append(float(list_var[i]))

print(new_list)
"
22025,76594,Is it possible to index nested lists using tuples in python?,"index = [ [0,0], [0,2], [2,0], [2,2] ]

elements = [ [ 'a', 'b', 'c'],
             [ 'c', 'd', 'e'],
             [ 'f', 'g', 'h'] ]

for i,j in index:
    print (elements [ i ] [ j ])
"
21958,64722,Kivy Pong Game Translation,"from kivy.app import App
from kivy.core.window import Window
from kivy.uix.widget import Widget
from kivy.uix.label import Label
from kivy.graphics import Rectangle

class PongGame(Widget):

    def __init__(self, **kwargs):
        super(PongGame, self).__init__(**kwargs)

        label = Label(text = ""0"")
        label.font_size = 70  
        label.center_x = Window.width / 4
        label.top = Window.height - 50
        self.add_widget(label)

        with self.canvas:
            Rectangle(pos = (Window.width/2 - 5, 0), size = (10,Window.height))

class PongApp(App):
    def build(self):
        return PongGame()

if __name__ == '__main__':
    PongApp().run()
"
26703,24506,How to iterate over a dict proxy in Python?,"import multiprocessing as mp
import multiprocessing.managers

class mydict(dict):
    def __init__(self, *args, **kwargs):
        dict.__init__(self, *args, **kwargs)
        self.iters = {}

    def iteritems(self):
        print ""iteritems"", mp.current_process()
        return dict.iteritems(self)

    def _iteritems_start(self):
        print ""_iteritems_start"", mp.current_process()
        i = dict.iteritems(self)
        self.iters[id(i)] = i
        return id(i)

    def _iteritems_next(self, iter_id):
        try:
            return self.iters[iter_id].next()
        except StopIteration:
            del self.iters[iter_id]
            return None

class mydict_proxy(mp.managers.DictProxy):
    def iteritems(self):
        print ""iteritems proxy"", mp.current_process()
        return self._callmethod(""iteritems"")

    def iteritems2(self):
        print ""iteritems2 proxy"", mp.current_process()
        iter_id = self._callmethod(""_iteritems_start"")
        def generator():
            while True:
                a = self._callmethod(""_iteritems_next"", 
                             (iter_id,))
                if a == None:
                    return
                yield a
        return generator()

    _method_to_typeid_ = { ""iteritems"": ""Iterator"" }
    _exposed_ = mp.managers.DictProxy._exposed_
    _exposed_ += (""iteritems"", ""_iteritems_start"", ""_iteritems_next"")

class mymanager(mp.managers.BaseManager):
    pass
mymanager.register(""mydict"", mydict, mydict_proxy)
mymanager.register(""Iterator"", proxytype = mp.managers.IteratorProxy,
           create_method = False)

def other(d):
    for k, v in d.iteritems2():
        d[k] = v.lower()
    for k, v in d.iteritems():
        d[k] = ord(v)

def main():
    manager = mymanager()
    manager.start()
    d = manager.mydict(list(enumerate(""ABCDEFGHIJKLMNOP"")))
    for (k, v) in d.iteritems():
        print k, v
    proc = mp.Process(target = other, args = (d,))
    proc.start()
    proc.join()
    for (k, v) in d.iteritems():
        print k, v

if __name__ == ""__main__"":
    main()
"
22868,78631,Simple webserver or web testing framework,"import cherrypy

class HelloWorld(object):
    def index(self):
        return ""Hello World!""
    index.exposed = True

cherrypy.quickstart(HelloWorld())
"
13257,64538,find stretches of Trues in numpy array,"x1 = np.hstack([ [False], x, [False] ])  # padding
d = np.diff(x1.astype(int))
starts = np.where(d == 1)[0]
ends = np.where(d == -1)[0]
starts, ends
=> (array([0, 3]), array([2, 5]))
"
30922,38627,Displaying 3 histograms on 1 axis in a legible way - matplotlib,"import numpy as np
import matplotlib.pyplot as plt

np.random.seed(101)
a = np.random.normal(size=1000)
b = np.random.normal(size=1000)
c = np.random.normal(size=1000)

common_params = dict(bins=20, 
                     range=(-5, 5), 
                     normed=True)

plt.subplots_adjust(hspace=.4)
plt.subplot(311)
plt.title('Default')
plt.hist(a, **common_params)
plt.hist(b, **common_params)
plt.hist(c, **common_params)
plt.subplot(312)
plt.title('Skinny shift - 3 at a time')
plt.hist((a, b, c), **common_params)
plt.subplot(313)
common_params['histtype'] = 'step'
plt.title('With steps')
plt.hist(a, **common_params)
plt.hist(b, **common_params)
plt.hist(c, **common_params)

plt.savefig('3hist.png')
plt.show()
"
1914,31140,Server-side SVG to PNG (or some other image format) in python,"import cairo
import rsvg

def convert(data, ofile, maxwidth=0, maxheight=0):

    svg = rsvg.Handle(data=data)

    x = width = svg.props.width
    y = height = svg.props.height
    print ""actual dims are "" + str((width, height))
    print ""converting to "" + str((maxwidth, maxheight))

    yscale = xscale = 1

    if (maxheight != 0 and width > maxwidth) or (maxheight != 0 and height > maxheight):
        x = maxwidth
        y = float(maxwidth)/float(width) * height
        print ""first resize: "" + str((x, y))
        if y > maxheight:
            y = maxheight
            x = float(maxheight)/float(height) * width
            print ""second resize: "" + str((x, y))
        xscale = float(x)/svg.props.width
        yscale = float(y)/svg.props.height

    surface = cairo.ImageSurface(cairo.FORMAT_ARGB32, x, y)
    context = cairo.Context(surface)
    context.scale(xscale, yscale)
    svg.render_cairo(context)
    surface.write_to_png(ofile)
"
15635,84009,How can I programmatically create a tar archive of nested directories and files solely from Python strings and without temporary files?,"import tarfile
import StringIO
import time

tar = tarfile.TarFile(""test.tar"", ""w"")

string = StringIO.StringIO()
string.write(""hello"")
string.seek(0)

info = tarfile.TarInfo(name='dir')
info.type = tarfile.DIRTYPE
info.mode = 0755
info.mtime = time.time()
tar.addfile(tarinfo=info)

info = tarfile.TarInfo(name='dir/foo')
info.size=len(string.buf)
info.mtime = time.time()
tar.addfile(tarinfo=info, fileobj=string)

tar.close()
"
22872,5163,Communicating between objects in Python,"class exampleClass(object):

    def doSomething(self,number):
        return number + 1 

class exampleClass2(exampleClass):

    def __init__(self):
        self.member1 = exampleClass()

    def callDefDoSomething(self):
        print self.member1.doSomething(5)


object2 = exampleClass2()
object2.callDefDoSomething()
"
28993,44974,can some one explain what is iv = enc[:16] and enc= enc[16:] means?,"string = ""abcdefg""
print(string[:3]) # abc
print(string[3:]) # defg
"
36519,22345,T-test in Pandas (Python),"from scipy.stats import ttest_ind

cat1 = my_data[my_data['Category']=='cat1']
cat2 = my_data[my_data['Category']=='cat2']

ttest_ind(cat1['values'], cat2['values'])
>>> (1.4927289925706944, 0.16970867501294376)
"
29653,18968,Python: wrap all functions in a library,"import time

class wrapper(list):

    def __getattribute__(self, name):
        TO_OVERRIDE = ['append']
        if name in TO_OVERRIDE:
            start = time.clock()
        ret = super(list, self).__getattribute__(name)
        if name in TO_OVERRIDE:
            stop = time.clock()
            print ""It took %s seconds to perform %s"" % (str(stop-start), name)
        return ret

profiled_list = wrapper('abc')
print profiled_list
profiled_list.append('d')
print profiled_list
profiled_list.pop()
print profiled_list
"
16205,80056,How to correctly break a long line in Python?,"confirmation_message = _(
    'ORDER_CREATED: %(PROPERTY_1)s - '
    '%(PROPERTY_2)s - %(PROPERTY_3)s - %(PROPERTY_4)s') % {
        'PROPERTY_1': order.lorem,
        'PROPERTY_2': order.ipsum,
        'PROPERTY_3': order.ipsum,
        'PROPERTY_4': order.dolor,
        'PROPERTY_5': order.sit
    }
"
37616,30749,Write key to separate csv based on value in dictionary,"import csv
from collections import defaultdict

emails = defaultdict(list)

with open('email.tsv','r') as f:
   reader = csv.reader(f, delimiter='\t')
   for row in reader:
      if row:
         if '@' in row[0]:
           emails[row[1].strip()].append(row[0].strip()+'\n')

for key,values in emails.items():
   with open('output-{}.csv'.format(key), 'w') as f:
       f.writelines(values)
"
14512,76394,mutliprocessing.Pool.add_sync() eating up memory,"for i in p.imap(do, izip(Fastitr(seqsa, filetype='fastq'), \
        Fastitr(seqsb, filetype='fastq'))):
    pass
"
5506,12586,Group Daily Data by Week for Python Dataframe,"#First add a dummy column
result_GB_daily_average['count'] = 1

#Then calculate a cumulative sum and divide it by 7
result_GB_daily_average['Week'] = result_GB_daily_average['count'].cumsum() / 7.0

#Then Round the weeks
result_GB_daily_average['Week']=result_GB_daily_average['Week'].round()

#Then do the group by and calculate average
result_GB_week_average = result_GB_daily_average.groupby('Week')['NREL','AVERT'].mean()
"
36783,28673,Remove duplicate rows from a large file in Python,"import sqlite3
conn = sqlite3.connect('single.db')
cur = conn.cursor()
cur.execute(""""""create table test(
f1 text,
f2 text,
f3 text,
f4 text,
f5 text,
f6 text,
f7 text,
f8 text,
f9 text,
f10 text,
f11 text,
f12 text,
f13 text,
f14 text,
f15 text,
primary key(f1,  f2,  f3,  f4,  f5,  f6,  f7,  
            f8,  f9,  f10,  f11,  f12,  f13,  f14,  f15))
""""""
conn.commit()

#simplified/pseudo code
for row in reader:
    #assuming row returns a list-type object
    try:
        cur.execute('''insert into test values(?, ?, ?, ?, ?, ?, ?, 
                       ?, ?, ?, ?, ?, ?, ?, ?)''', row)
        conn.commit()
    except IntegrityError:
        pass

conn.commit()
cur.execute('select * from test')

for row in cur:
    #write row to csv file
"
39888,82473,De-animate an animated gif with python,"from PIL import Image

try:
    im = Image.open('test.gif')
    f=0    
    while True:        
        im.seek(f)
        im.save('test_%02d.png' % f)
        f += 1
except EOFError:
    print ""Done!""
except:
    print ""Some Other Error""
"
35473,24584,how to turn a sorted list into tab delimited values in Python?,"source = [('100','abc'),('99','bca')]

with open(""output.txt"", ""w"") as f:
    for line in source:
        f.write('{1}\t{0}\n'.format(*line));
"
2422,49700,How to quit loop to display selected list items,"while True:
    # other stuff here

    reply = input(""Please choose a menu item:"")
    if reply.upper() == 'Q':
        break # Break out of the while loop.

    # We didn't break, so now we can try to parse the input to an integer.
    spent = spent + float(menu[int(reply)+1][2])
"
28964,62930,Control Font in tkMessageBox,"from Tkinter import *
import tkMessageBox
r = Tk()
r.option_add('*Dialog.msg.font', 'Helvetica 12')
tkMessageBox.showinfo(message='Hello')
"
39808,55831,sort a dictionary by inner key python," sorted_keys = sorted(d.keys(),key=lambda x:d[x]['key2']['key3'])
"
32453,58591,"Avoid buffered reading on ""for line in ...""","import sys
for line  in iter(namedPipe.readline, ''):
  print line
"
34887,65293,Is there a zip-like method in .Net?,"IEnumerable<TResult> Zip<TResult,T1,T2>
    (IEnumerable<T1> a,
     IEnumerable<T2> b,
     Func<T1,T2,TResult> combine)
{
    using (var f = a.GetEnumerator())
    using (var s = b.GetEnumerator())
    {
        while (f.MoveNext() && s.MoveNext())
            yield return combine(f.Current, s.Current);
    }
}
"
10714,26889,Python OOP different method names,"class cars(object):
    def chassis(self):
        pass  # Do cars stuff

class automobile(cars):
    def chassis(self):
        super().chassis()  # Call super class's chassis
        # Do automobile stuff

class truck(cars):
    def chassis(self):
        super().chassis()
        # Do truck stuff
"
36624,75730,how to publish photos to facebook without using facebook sdk but only by POST to the URL ..?,"def get_site_content():
    def get_response(response):
        content = response.info()['Content-Type']
        charset = content[content.rfind('=') + 1:] # ugly hack, check orderly
        return response.read().decode(charset)  

    cj = http.cookiejar.CookieJar()
    opener = urllib.request.build_opener(urllib.request.HTTPCookieProcessor(cj))
    data = urllib.parse.urlencode({ ""log"" : ""1"", ""j_username"" : USERNAME, ""j_password"" : PASSWORD })
    opener.open(""url"", data)  
    data = urllib.parse.urlencode({ ""months"" : ""0"" })
    resp = opener.open(""url2"", data)
    return get_response(resp)
"
31712,83784,Pygame: Why won't my Movement code work?,"sprite_back = pygame.image.load('CharacterBack.png')
sprite_front = pygame.image.load('CharacterFront.png')
sprite_right = pygame.image.load('CharacterRight.png')
sprite_left = pygame.image.load('CharacterLeft.png')

sprite = sprite_front

while True:

    DISPLAYSURF.blit(sprite,(spritex,spritey))

    if charLeft == True:
        spritex -= 10
    elif charRight == True:
        spritex += 10
    elif charUp == True:
        spritey -= 10
    elif charDown == True:
        spritey += 10

    for event in pygame.event.get():
        if event.type==QUIT:
            pygame.quit()
            sys.exit()

        if event.type == KEYDOWN:
            if (event.key == K_LEFT):
                charLeft = True
                sprite=sprite_left
            elif (event.key == K_d):
                charRight = True
                sprite=sprite_right
            elif (event.key == K_w):
                charUp = True
                sprite=sprite_back
            elif (event.key == K_s):
                charDown = True
                sprite=sprite_front
        if event.type == KEYUP:
            if (event.key == K_LEFT):
                charLeft = False
            elif (event.key == K_d):
                charRight = False
            elif (event.key == K_w):
                charUp = False
            elif (event.key == K_s):
                charDown = False
"
24565,32003,How do I check if an iterator is actually an iterator container?,">>> list_iter = iter([])
>>> iter(list_iter) is list_iter
True
"
37980,43270,Python TkInter bind breaking,"import Tkinter, tkFileDialog

class Foo(object):
    def __init__(self, master):
        master.bind('<KeyPress-3>', self.do_bar)
        master.bind('<KeyPress-9>', self.load_new_config)

        self.load_config()

        if not self.conf:
            master.after(1, self.load_new_config)
        else:
            self.load_data()

    def load_config(self):
        try:
            self.conf = None#get stuff from known file
        except FailedToGetStuff:
            self.conf = None

    def load_new_config(self, e = 0):
        path = tkFileDialog.askopenfilename(initialdir='~')
        self.conf = None#get stuff from file in path
        self.load_data()

    def load_data(self, e = 0):
        pass
        #get data from self.conf, process and display

    def do_bar(self, e = 0):
        print 1
        #do stuff with displayed data

if __name__ == ""__main__"":
    root = Tkinter.Tk()
    Foo(root)
    root.mainloop()
"
36364,26903,How can I tell the Django ORM to reverse the order of query results?,".order_by('-date')
"
9078,64579,Get January 1st of next year,">>> today = datetime.datetime.now()
>>> next_year = datetime.datetime(year=today.year+1, month=1, day=1)
>>> next_year
datetime.datetime(2013, 1, 1, 0, 0)
"
27729,82936,Using recursion to put a nested structure into a dictionary without losing the structure,"def getAllNestedElementInformation(element):
    infoDict = collections.defaultdict(dict)
    infoDict[element] = {'tagName':element.tag}
    infoDict[element].update(getItems(element))
    if element.text != None:
        if element.text.strip() != '':
            infoDict[element].update({'content':element.text})

    for nestedElement in element:
        infoDict[element]['nestedElement'] = getAllNestedElementInformation(nestedElement)  

    return infoDict 
"
37716,22643,coding style of a python function,"def acquire_data(list_or_filename):
    # assuming py3 here, for py2 use 'isinstance(list_or_filename, basestring)
    if isinstance(list_or_filename, str):
        with open(list_or_filename,""r"") as f:
            return acquire_data_from_file(f)
    else:
        return acquire_data_from_list(list_or_filename)
"
26054,52066,Simplest way to publish over Zeroconf/Bonjour?,"dns-sd -R <Name> <Type> <Domain> <Port> [<TXT>...]
"
18975,21485,How to search a list of tuples in Python,"[i for i, v in enumerate(L) if v[0] == 53]
"
13488,31013,Implementing replacement label for depreciate Gtk 3.10+ stock buttons in PyGObject 3.16,"box = Gtk.Box(orientation=Gtk.Orientation.HORIZONTAL)
# image and label are defined elsewhere
box.add(image)
box.add(label)
button = Gtk.Button(use_underline=True, always_show_image=True)
button.add(box)
button.show_all()
"
29623,942,Dynamically creating classes - Python,"CommentForm = type(""CommentForm"", (Form,), { 
    'name': forms.CharField(),
    ...
})
"
1949,63379,putting file names in a array using os in python,"from os import listdir
from os.path import isfile, join
files = [file for file in listdir(path) if isfile(join(path, file))]
"
23338,69690,Defining multiplication over functions in Python?,"def multiply_funcs(f, g):
    def multiplied(x):
        return f(x) * g(x)
    return multiplied
"
22690,7849,How do you create a date range spanning multiple days with only some intra-day values in pandas?,"In [7]: rng
Out[7]: 
<class 'pandas.tseries.index.DatetimeIndex'>
[2012-01-01 00:00:00, ..., 2013-01-01 00:00:00]
Length: 527041, Freq: T, Timezone: None

In [8]: rng[rng.indexer_between_time('9:30','16:00')]
Out[8]: 
<class 'pandas.tseries.index.DatetimeIndex'>
[2012-01-01 09:30:00, ..., 2012-12-31 16:00:00]
Length: 143106, Freq: None, Timezone: None
"
23411,12103,Python: Get/Scan All Text After a Certain String,"STARTER = ""Hello World""
FILENAME = ""data.txt""
TARGET = ""Blah=""

with open(FILENAME) as f:
    value = None
    start_seen = False
    for line in f:
        if line.strip() == STARTER:
            start_seen = True
            continue

        if TARGET in line and start_seen:
            _,value = line.split('=')
            break

if value is not None:
    print ""Got value %d"" % int(value)
else:
    print ""Nothing found""
"
26973,44742,printing contents of a http file to a shell?,"watch -n 0.1  wget -qO- http://google.com
"
24544,70258,Flask pluggable views and login required,"from functools import wraps
def user_required(f):
    @wraps(f)
    def decorator(*args, **kwargs):
        if not current_user.is_authenticated():
            return login_manager.unauthorized()
            # or, if you're not using Flask-Login
            # return redirect(url_for('login_page'))
        return f(*args, **kwargs)
    return decorator
"
34430,83432,fetching and splitting an address from MongoDB to only return the host ID,"primport = subprocess.check_output('/opt/mongodb/bin/mongo localhost27017 --eval ""printjson(rs.isMaster())"" | grep ""primary"" | cut -d "":"" -f 2,3', shell = True)
"
4061,33034,efficient way to resize numpy or dataset?,"import array
import numpy as np
a = array.array(""d"")
a.extend([0,1,2])
a.extend([3,4,5])
b = np.frombuffer(a, np.float).reshape(-1, 3)
"
18863,37194,"How to divide a list of images in Python, based on their labels","from collections import defaultdict

images = defaultdict(list)

for image, label in randomData:
    images[label].append(image)

for k,v in images.iteritems():
   print('Label {} has {} images'.format(k, len(v)))
"
39854,49986,Creating a list from CSV value in Jinja,"{% for tag in myparent.my_tags.split(',') %}

{{ tag }}

{% endfor %}
"
11141,21202,Python code for 'Distance Sensor' and 'Relay' Raspberry Pi,"import RPi.GPIO as GPIO            
import time                        

GPIO.setmode(GPIO.BCM)                
GPIO.setwarnings(False)

TRIG = 23                                  
ECHO = 24                                 

# Add your relay output pins here:
pinList = [3, your_other_relaypin]

for pin in pinList: 
    GPIO.setup(pin, GPIO.OUT)

print ""Distance measurement in progress""

GPIO.setup(TRIG,GPIO.OUT)                 
GPIO.setup(ECHO,GPIO.IN)          

try:
    while True:

        GPIO.output(TRIG, False)                
        print ""Waitng For Sensor To Settle""
        time.sleep(2)                            

        GPIO.output(TRIG, True)                 
        time.sleep(0.00001)                     
        GPIO.output(TRIG, False)                 

        while GPIO.input(ECHO)==0:               
            pulse_start = time.time()             

        while GPIO.input(ECHO)==1:               
            pulse_end = time.time()                

        pulse_duration = pulse_end - pulse_start 
        distance = pulse_duration * 17150        
        distance = round(distance, 2)            

        if distance > 2 and distance < 400:      
            print ""Distance: {distance}cm"".format(distance=(distance - 0.5) )  
        else:
            print ""Out Of Range""                  

        if distance >2 and distance < 30:

            for pin in pinList: 
                print ""ON PIN {pin}"".format(pin=pin)
                GPIO.output(pin, GPIO.LOW)

            time.sleep(5)

            for pin in pinList: 
                print ""OFF PIN {pin}"".format(pin=pin)
                GPIO.output(pin, GPIO.HIGH)

    except KeyboardInterrupt:
        print ""  Quit""
        GPIO.cleanup()
"
31580,11064,Is it possible to turn a raw_input into a either a float or an int depending on what the user enters?,"guess = raw_input(""Enter your guess: "")
try:
    guess = int(guess)
except ValueError:
    guess = float(guess)
"
18942,457,"Check if key is held down, wxpython?","import wx


class Example(wx.Frame):
    def __init__(self):
        wx.Frame.__init__(self, None)

        btn = wx.Button(self, label=""press me"")
        self.Sizer = wx.BoxSizer()
        self.Sizer.Add(btn)

        self.ctrl_down = False

        self.Bind(wx.EVT_KEY_UP, self.OnUpdateCtrlState)
        self.Bind(wx.EVT_KEY_DOWN, self.OnUpdateCtrlState)
        btn.Bind(wx.EVT_KEY_UP, self.OnUpdateCtrlState)
        btn.Bind(wx.EVT_KEY_DOWN, self.OnUpdateCtrlState)
        btn.Bind(wx.EVT_BUTTON, self.OnButton)

    def OnUpdateCtrlState(self, event):
        self.ctrl_down = event.ControlDown()
        print self.ctrl_down
        event.Skip()

    def OnButton(self, event):
        if self.ctrl_down:
            wx.MessageBox(""control down"")


app = wx.App(False)
app.TopWindow = f = Example()
f.Show()
app.MainLoop()
"
10200,61968,Is there a library for retrieving a file from a remote zip?,"#!/usr/bin/python
import urllib2

class HttpFile(object):
    def __init__(self, url):
        self.url = url
        self.offset = 0
        self._size = -1

    def size(self):
        if self._size < 0:
            f = urllib2.urlopen(self.url)
            self._size = int(f.headers[""Content-length""])
        return self._size

    def read(self, count=-1):
        req = urllib2.Request(self.url)
        if count < 0:
            end = self.size() - 1
        else:
            end = self.offset + count - 1
        req.headers['Range'] = ""bytes=%s-%s"" % (self.offset, end)
        f = urllib2.urlopen(req)
        data = f.read()
        # FIXME: should check that we got the range expected, etc.
        chunk = len(data)
        if count >= 0:
            assert chunk == count
        self.offset += chunk
        return data

    def seek(self, offset, whence=0):
        if whence == 0:
            self.offset = offset
        elif whence == 1:
            self.offset += offset
        elif whence == 2:
            self.offset = self.size() + offset
        else:
            raise Exception(""Invalid whence"")

    def tell(self):
        return self.offset
"
22920,48083,I am trying to get the XPath for a drop down,"from selenium.webdriver.chrome.webdriver import WebDriver
from selenium.webdriver.support.wait import WebDriverWait
from selenium.webdriver.support import expected_conditions
from selenium.webdriver.common.by import By

driver = WebDriver(""path_to_webdriver"")
driver.get(""http://jsfiddle.net/ksftLk9j/"")

wait = WebDriverWait(driver, 20, 2) 
wait.until(expected_conditions.frame_to_be_available_and_switch_to_it((By.NAME, 'result')))

element = driver.find_element_by_xpath('//select[@class=""gwt-ListBox marginbelow""]/option[@value=""Address""]')
element.click() 
"
21446,20150,Does Python map() allow for indexing?,">>> long_words = ['programming', 'pantaloons']
>>> full_chunk = 'While programming, I prefer to wear my most vividly-hued pantaloons.'
>>> for i, word in enumerate(long_words):
...     full_chunk = full_chunk.replace(word, str(i))
...
>>> full_chunk
'While 0, I prefer to wear my most vividly-hued 1.'
"
27772,22875,accessing html parsed data in python using lists,"#!/bin/python

data = """"""6          3
    12603        235          1
    37210        363          3
    64618        348          2
        4          4
    80073        560          1
    80560        504          1
    80875        807          1
    80917        636          1""""""

lists = [line.split() for line in data.split(""\n"")]

print lists
"
28863,56279,ssh for df -h using python to display selected information only,"sub_process=subprocess.Popen([""ssh"", ""hostname"", ""df -h""], stdout=subprocess.PIPE)
stdout_file=sub_process.stdout
first_line=stdout_file.readline()
"
6051,12999,How to get http headers in flask?,"from flask import request
request.headers.get('your-header-name')
"
39867,41941,Spliting ascii/unicode string,"def splitNullTerminatedEncStrings(self, data, encoding_type, no_of_splits):
data_dec = data.decode(encoding_type, 'ignore')
chunks = data_dec.split('\x00', no_of_splits) 
enc_str_lst = []
for data_dec_seg in chunks[:-1]: 
    enc_str_lst.append(data_dec_seg.encode(encoding_type)) 
data_dec_chunks = '\x00'.join(chunks[:-1])   
if(data_dec_chunks): data_dec_chunks += '\x00'
data_chunks = data_dec_chunks.encode(encoding_type) 
data_chunks_len = len(data_chunks)
enc_str_lst.append(data[data_chunks_len:]) # last segment
return enc_str_lst
"
4659,16553,python csv don't print duplicates,"import csv

src = r'C:\apples_before.csv'
dst = r'C:\apples_after.csv'

apples = set([])

# Read file.
with open(src, 'r') as srcfile:
    reader = csv.reader(srcfile, delimiter=',')
    for index, row in enumerate(reader):
        if index == 0:
            continue

        apples.add(row[1])

# Write file. 
# @warning: Please note that I am making an assumption in terms of the number
# component. I am assuming it is a row number.
with open(dst, 'w') as dstfile:
    writer = csv.writer(dstfile, delimiter=',')
    for index, apple in enumerate(apples):
        if index == 0:
            writer.writerow(['Name', 'Type'])

        writer.writerow([index + 1, apple])
"
22658,58028,"same statement different position lead to different result : local variable ""os"" referenced before assignment","In [2]: def recur_dir(level=0):
         if level==0:
                 import os
         elif level == 2:
                 return
         print globals().keys(), locals().keys()
         recur_dir(level+1)
   ...:         


In [3]: recur_dir(0)
['_dh', '__', 'help', 'quit', '__builtins__', 'recur_dir', '_ih', '__builtin__', '__name__', '___', '__package__', '_', '_sh', '_i3', '_i2', '_i1', '__doc__', '_iii', 'exit', 'get_ipython', '_i', 'In', '_ii', '_oh', 'Out'] 
['os', 'level']
    ['_dh', '__', 'help', 'quit', '__builtins__', 'recur_dir', '_ih', '__builtin__', '__name__', '___', '__package__', '_', '_sh', '_i3', '_i2', '_i1', '__doc__', '_iii', 'exit', 'get_ipython', '_i', 'In', '_ii', '_oh', 'Out'] 
['level']
"
15604,13469,Is there a way to rotate a matplotlib plot by 45 degrees?,"import matplotlib.pyplot as plt
import numpy as np

def pcolormesh_45deg(C):

    n = C.shape[0]
    # create rotation/scaling matrix
    t = np.array([[1,0.5],[-1,0.5]])
    # create coordinate matrix and transform it
    A = np.dot(np.array([(i[1],i[0]) for i in itertools.product(range(n,-1,-1),range(0,n+1,1))]),t)
    # plot
    plt.pcolormesh(A[:,1].reshape(n+1,n+1),A[:,0].reshape(n+1,n+1),np.flipud(C))
"
3055,61322,Substitution of subprocess.PIPE in Python?,"#!/usr/bin/env python
from subprocess import Popen, PIPE

p = Popen([""grep"", r""controller\|worker"", file_name], stdout=PIPE)
output = p.communicate()[0]
if p.returncode == 0:
    print('found')
elif p.returncode == 1:
    print('not found')
else: 
    print('error')
"
25987,75889,python-How to delete an object in a list based on its data member,"class Word:
    def __init__(self,word,definition,synonyms):
        self.w=word
        self.defi=definition
        self.synonyms=synonyms
    def __repr__(self):  # added to facilitate printing of tuples of Word objects
        return 'Word({}, {}, {})'.format(self.w, self.defi, self.synonyms)

w1=Word(""lengthen"", ""make something taller"", ""some synonym"")
w2=Word(""woken"", ""let someone wake up"", ""some synonym"")
w3=Word(""fax"", ""machine used for communication"", ""some synonym"")
w4=Word(""wax"", ""chemical substance"", ""some synonym"")

dictionary = {'en': (w1, w2), 'ax': (w3, w4)}

def delete(dictionary, word):
    suffix = word[-2:]
    if suffix in dictionary:
        dictionary[suffix] = tuple(word_obj for word_obj in dictionary[suffix]
                                   if word_obj.w != word)

delete(dictionary, 'woken')
print(dictionary)
"
3661,861,"Why am I getting ""None"" after merging two dictionaries","dict1 = {'bookA': 1, 'bookB': 2, 'bookC': 3}
dict2 = {'bookC': 2, 'bookD': 4, 'bookE': 5}
dict2.update(dict1)
print(dict2)
"
8428,37017,How do I refer to a spcific datatable in IronPython in Spotfire?,"Document.Data.Tables[""mytable""]
"
2047,63896,pytz - Converting UTC and timezone to local time,"pytz.utc.localize(utc_time, is_dst=None).astimezone(tz)
"
35487,252,Pass kwargs to dynamically instantiated Python Class,"globals()['FooClass'](**d)
"
14856,21318,"calculate datetime-difference in years, months, etc. in a new pandas dataframe column","import pandas as pd
import datetime

def parse_date(td):
    resYear = float(td.days)/364.0                   # get the number of years including the the numbers after the dot
    resMonth = int((resYear - int(resYear))*364/30)  # get the number of months, by multiply the number after the dot by 364 and divide by 30.
    resYear = int(resYear)
    return str(resYear) + ""Y"" + str(resMonth) + ""m""

df = pd.DataFrame([(""2000-01-10"", ""1970-04-29"")], columns=[""start"", ""end""])
df[""delta""] = [parse_date(datetime.datetime.strptime(start, '%Y-%m-%d') - datetime.datetime.strptime(end, '%Y-%m-%d')) for start, end in zip(df[""start""], df[""end""])]
print df

        start         end  delta
0  2000-01-10  1970-04-29  29Y9m
"
27268,68829,matplotlib 'auto dimensioning of axes' not showing all datapoints,"import datetime
import matplotlib.pyplot as plt
x = [datetime.date(2011,2,11),
     datetime.date(2011,3,11),
     datetime.date(2011,4,11),
     datetime.date(2011,5,11),
     datetime.date(2011,6,11),
     datetime.date(2011,7,11)]
y = [23,41,67,72,18,19]
fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot_date(x, y, 'kx')

# next task is to broaden the xaxis so that it begins 
# and ends at the start of a month (approximately).  
xmin, xmax, ymin, ymax = ax.axis() ; print xmin, xmax, ymin, ymax
a1 = xmin - min(x).day + 1
a2 = xmax - max(x).day + 31

ax.plot_date(a1, ymin, 'ko')
ax.plot_date(a2, ymin, 'ko')
ax.axis('auto')

plt.show()
"
36922,31903,raw_input while loop not working,"input_types = ['Foreign Country', 'Adverb', 'Adjective', 'Animal', 'Verb (ing)']
input_types.append('Verb')
input_types.append('Verb (ing)')
input_types.append('Adverb')
input_types.append('Adjective')
input_types.append('A Place')
input_types.append('Type of Liquid')
input_types.append('Part of the Body')
input_types.append('Verb')

story = '''If you are traveling in {} and find yourself having to cross
a piranha-filled river, here's how to do it {}.
Piranhas are more {} during the day, so cross the river at night.
Avoid areas with netted {} traps - piranhas may be {} there looking to {} them!
When {} the river, swim {}. You don't want to wake them up and make them {}!
Whatever you do, if you have an open wound,
try to find another way to get back to the {}.
Piranhas are attracted to fresh {} and will most likely take a bite out
of your {} if you {} in the water!'''

print('WELCOME TO MADLIBS! PY V1.2.1\n')
print('To see the story type all thirteen parts of speech below')

results = []

for number, value in enumerate(input_types):
    user_input = raw_input('#{} - {}: '.format(number+1, value))
    results.append(user_input)

print('Here is your story: ')
print(story.format(*results))
"
10186,27169,Pandas select columns with boolean date condition,">>> df.loc[:, df.columns <= datetime(2013, 1, 3)]
   2013-01-01  2013-01-02  2013-01-03
A    1.058112    0.883429   -1.939846
B    0.753125    1.664276   -0.619355
C    0.014437    1.125824   -1.421609
D    1.879229    1.594623   -1.499875
"
17530,49188,Tkinter Large Text Dialogue (save string on button click),"from tkinter import *

class Gui:

    def __init__(self, root):
        tframe = Frame(root)
        tframe.pack(side='top')
        bframe = Frame(root)
        bframe.pack(side='bottom')
        self.txt = Text(tframe)
        self.txt.insert('0.0', 'Totally foobar')
        self.txt.pack()
        self.btn = Button(bframe, text='OK')
        self.btn.pack()


    def get_big_text(self, callback, title='', text=''):
        popup = Toplevel(height=160, width=180)
        popup.title(title)
        txtframe = Frame(popup)
        txtframe.pack()
        big_text = Text(txtframe)
        big_text.insert('0.0',text)
        big_text.pack()
        btnframe = Frame(popup)
        btnframe.pack()
        grab_text = Button(btnframe)
        grab_text.config(text=""Done"", command=lambda:callback(big_text.get('0.0', 'end')))
        grab_text.pack()

root=Tk()
root.title('Example')
foo = Gui(root)
foo.get_big_text(lambda x:print(x))
root.mainloop()
"
31000,28172,Automate Install mysql-server and postfix remotely,"# password prompt 
while True:
    mysql_password = getpass('Please enter MySQL root password: ')
    mysql_password_confirmation = getpass('Please confirm your password: ')
    if mysql_password == mysql_password_confirmation:
        break
    else:
        print ""Passwords don't match""

# set the value in debconf
with settings(hide('warnings', 'running', 'stdout', 'stderr'),
              warn_only=True):
    if not run('dpkg-query --show mysql-server'):
        sudo('echo ""mysql-server-5.1 mysql-server/root_password password '
            '%s"" | debconf-set-selections' % mysql_password)
        sudo('echo ""mysql-server-5.1 mysql-server/root_password_again '
             'password %s"" | debconf-set-selections' % mysql_password)
"
12163,15031,python compare and replace strings in txt file with filenames,"import os

with open(""data.txt"") as infile:
    for line in infile:
        line = line.strip()
        if os.path.isfile(os.path.join(""sounds"", line)):
            os.rename(os.path.join(""sounds"", line), os.path.join(""sounds"", os.path.splitext(line)[0] + '.wav'))
"
34662,58700,How can I find all placeholders for str.format in a python string using a regex?,"In [5]: import re

In [8]: strs=""{foo} spam eggs {bar}""

In [9]: re.findall(r""{(\w+)}"",strs)
Out[9]: ['foo', 'bar']
"
22903,74983,why can't this wxPython frame (and a panel inside) keep its size?,"import wx

class Panel(wx.Panel):
    def __init__(self, parent, id, pos, size):
        wx.Panel.__init__(self, parent, id, pos, size) 

class Frame(wx.Frame):
    def __init__(self, parent, id, title, pos, size, style):
        wx.Frame.__init__(self, parent, id, title, pos, size, style)
        framePanel = wx.Panel(self)
        self.userpanel = Panel(framePanel, -1, (0,0), (300,180))
        self.userpanel.SetBackgroundColour('Gold')


class Application(wx.App):
    def __init__(self):
        wx.App.__init__(self)
        frame = Frame(None, -1, ""Internet Login Tool"", (-1,-1), (300,400),\
        wx.DEFAULT_FRAME_STYLE ^ (wx.RESIZE_BORDER | wx.MAXIMIZE_BOX))
        frame.Show()
        self.SetTopWindow(frame)

if __name__ == '__main__':
    app = Application()
    app.MainLoop()
"
4923,46749,"What's the most pythonic way to merge 2 dictionaries, but make the values the average values?","result = dict(d2)
for k in d1:
    if k in result:
        result[k] = (result[k] + d1[k]) / 2.0
    else:
        result[k] = d1[k]
"
38439,52874,How to implement Comet server side with Python?,"class MainHandler(tornado.web.RequestHandler):
    @tornado.web.asynchronous
    def get(self):
        http = tornado.httpclient.AsyncHTTPClient()
        http.fetch(""http://friendfeed-api.com/v2/feed/bret"",
               callback=self.async_callback(self.on_response))

    def on_response(self, response):
        if response.error: raise tornado.web.HTTPError(500)
        json = tornado.escape.json_decode(response.body)
        self.write(""Fetched "" + str(len(json[""entries""])) + "" entries ""
                   ""from the FriendFeed API"")
        self.finish()
"
14847,63584,Splitting Python list to smaller substrings,"d = {}

lines = [line.strip() for line in open('test.txt')]

for line in lines:
    title, minutes = line.rsplit(maxsplit=1)
    d[title] = int(minutes[:-3])

print(d)
"
31227,69892,creating deformations on a sphere surface (using python?),"from math import sin, cos, pi, radians, ceil
import itertools

try:
    rng = xrange    # Python 2.x
except NameError:
    rng = range     # Python 3.x

# for the following calculations,
# - all angles are in radians (unless otherwise specified)
# - latitude is in [-pi/2..pi/2]
# - longitude is in [-pi..pi)
MIN_LAT = -pi/2   # South Pole
MAX_LAT = pi/2    # North Pole
MIN_LON = -pi     # Far West
MAX_LON = pi      # Far East

def floatRange(start, end=None, step=1.0):
    ""Floating-point range generator""
    start += 0.0    # cast to float
    if end is None:
        end = start
        start = 0.0
    steps = int(ceil((end-start)/step))
    return (start + k*step for k in rng(0, steps+1))

def patch2d(xmin, xmax, ymin, ymax, step=1.0):
    ""2d rectangular grid generator""
    if xmin>xmax:
        xmin,xmax = xmax,xmin
    xrange = floatRange(xmin, xmax, step)

    if ymin>ymax:
        ymin,ymax = ymax,ymin
    yrange = floatRange(ymin, ymax, step)

    return itertools.product(xrange, yrange)

def patch2d_to_3d(xyIter, zFn):
    ""Convert 2d field to 2.5d height-field""
    mapFn = lambda a: (a[0], a[1], zFn(a[0],a[1]))
    return itertools.imap(mapFn, xyIter)

#
# Representation conversion functions    
#

def to_spherical(lon, lat, rad):
    ""Map from spherical to spherical coordinates (identity function)""
    return lon, lat, rad

def to_cylindrical(lon, lat, rad):
    ""Map from spherical to cylindrical coordinates""
    # angle, z, radius
    return lon, rad*sin(lat), rad*cos(lat)

def to_cartesian(lon, lat, rad):
    ""Map from spherical to Cartesian coordinates""
    # x, y, z
    cos_lat = cos(lat)
    return rad*cos_lat*cos(lon), rad*cos_lat*sin(lon), rad*sin(lat)


def bumpySphere(gridSize, radiusFn, outConv):
    lonlat = patch2d(MIN_LON, MAX_LON, MIN_LAT, MAX_LAT, gridSize)
    return list(outConv(*lonlatrad) for lonlatrad in patch2d_to_3d(lonlat, radiusFn))


# make a plain sphere of radius 10    
sphere = bumpySphere(radians(5.0), lambda x,y: 10.0, to_cartesian)    


# spiky-star-function maker
def starFnMaker(xWidth, xOffset, yWidth, yOffset, minRad, maxRad):
    # make a spiky-star function:
    #   longitudinal and latitudinal triangular waveforms,
    #   joined as boolean intersection,
    #   resulting in a grid of positive square pyramids
    def starFn(x, y, xWidth=xWidth, xOffset=xOffset, yWidth=yWidth, yOffset=yOffset, minRad=minRad, maxRad=maxRad):
        xo = ((x-xOffset)/float(xWidth)) % 1.0   # xo in [0.0..1.0), progress across a single pattern-repetition
        xh = 2 * min(xo, 1.0-xo)                 # height at xo in [0.0..1.0]
        xHeight = minRad + xh*(maxRad-minRad)

        yo = ((y-yOffset)/float(yWidth)) % 1.0
        yh = 2 * min(yo, 1.0-yo)
        yHeight = minRad + yh*(maxRad-minRad)

        return min(xHeight, yHeight)
    return starFn

# parameters to spike-star-function maker    
width = 2*pi
horDivs = 20    # number of waveforms longitudinally
horShift = 0.0  # longitudinal offset in [0.0..1.0) of a wave

height = pi
verDivs = 10
verShift = 0.5      # leave spikes at the poles

minRad = 10.0
maxRad = 15.0

deathstarFn = starFnMaker(width/horDivs, width*horShift/horDivs, height/verDivs, height*verShift/verDivs, minRad, maxRad)

deathstar = bumpySphere(radians(2.0), deathstarFn, to_cartesian)
"
12037,62361,How to intercept content of stdout in Python?,"from StringIO import StringIO
import sys

old_stdout = sys.stdout
sys.stdout = mystdout = StringIO()

print(""test"")

sys.stdout = old_stdout

s = mystdout.getvalue()
s = ""prefix"" + s

sys.stderr.write(s)
"
8511,23489,Turning a huge TextEdit file of JSON into a Pandas dataframe,"df = pd.DataFrame()
f = open('workfile', 'r')
for line in f:
    df = pd.concat([df, pd.read_json(line, orient='columns')])
"
18961,27202,Python: How do I check if something in a string is right,"from math import pi

pianswer = input (""What is pi?"")
if str(pi).startswith(pianswer):
    print (""That is correct"")
"
24511,42186,How can I set selectively set the foreground color of a text in PyQt4,"resultbox = QtGui.QTextEdit()
text = 'example'
if condition1:
    resultbox.insertText(text) '''Append text to resultbox in default color.'''
elif condition2:
    resultbox.insertHtml(QString(""<font color=\""red\"">%1</font>"").arg(text)) '''Append the text in say, red and not the default black. How?'''
"
15728,71397,Is it possible to add an attribute to an imported class in python?,"class ColoredRect(Rect):
    def __init__(self, color, ...):
        self.color = color
        super(ColoredRed, self).__init__(self, ...)
"
12616,77000,"python regex: match to the first ""}""",">>> import re
>>> text = 'Hello {full_name} this is my special address named {address1}_{address2}.'
>>> re.findall(r'{[^{}]*}', text)
['{full_name}', '{address1}', '{address2}']
"
23374,32545,How to filter a Django query set by passing in a list of options?,"options = ['X1', 'X2', 'X3']
qs = [Q(attribute_name=option) for option in options] #or attribute_name__icontains - or whatever

query = qs.pop() #get the first element

for q in qs:
    query |= q

qs = MyModel.objects.filter(query)
"
36803,3322,Pythonic way to copy a column from a CSV file,">>> import pandas as pd
>>> df = pd.read_csv(""somefile.csv"", sep="";"")
>>> df
   foo  bar      apple
0    1  100       pear
1    2  200     orange
2    3  300  tangerine
3    4  400      peach
>>> df[""foo""]
0    1
1    2
2    3
3    4
Name: foo
>>> df[""bar""]
0    100
1    200
2    300
3    400
Name: bar
>>> df[""foo""] * df[""bar""]
0     100
1     400
2     900
3    1600
>>> list(df[""foo""] * df[""bar""])
[100, 400, 900, 1600]
"
27907,61417,How to tell if a class is descended from another class,">>> class test(object):pass
...
>>> issubclass(test,object)
True
"
26272,62316,read csv file without header lines in python,"import csv
import itertools

with open('1.csv') as f:
    lines = itertools.islice(f, 11, None) # skip 11 lines, simliar to [11:]
    reader = csv.reader(lines)
    for row in reader:
        ... Do whatever you want with row ..
"
31300,2963,Convert NaN values in 2D numpy array using values from vector,">>> a = np.array([[1.,  2., np.nan],
                  [4.,  5.,  6.],
                  [np.nan, np.nan, 9.]])
>>> v = np.array([3, 7, 8])
>>> np.where(np.isnan(a), v, a)
array([[ 1.,  2.,  8.],
       [ 4.,  5.,  6.],
       [ 3.,  7.,  9.]])
"
39993,29186,Overlapping probability of two normal distribution with scipy,"import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm
norm.cdf(1.96)

def solve(m1,m2,std1,std2):
  a = 1/(2*std1**2) - 1/(2*std2**2)
  b = m2/(std2**2) - m1/(std1**2)
  c = m1**2 /(2*std1**2) - m2**2 / (2*std2**2) - np.log(std2/std1)
  return np.roots([a,b,c])

m1 = 2.5
std1 = 1.0
m2 = 5.0
std2 = 1.0

#Get point of intersect
result = solve(m1,m2,std1,std2)

#Get point on surface
x = np.linspace(-5,9,10000)
plot1=plt.plot(x,norm.pdf(x,m1,std1))
plot2=plt.plot(x,norm.pdf(x,m2,std2))
plot3=plt.plot(result,norm.pdf(result,m1,std1),'o')

#Plots integrated area
r = result[0]
olap = plt.fill_between(x[x>r], 0, norm.pdf(x[x>r],m1,std1),alpha=0.3)
olap = plt.fill_between(x[x<r], 0, norm.pdf(x[x<r],m2,std2),alpha=0.3)

# integrate
area = norm.cdf(r,m2,std2) + (1.-norm.cdf(r,m1,std1))
print(""Area under curves "", area)

plt.show()
"
9537,14235,TkInter: how can I pass a numeric value to specify the color?,"bg='#FF0000'

and not bg=#FF0000
"
33990,72609,Pandas cut method exludes lower bound,"pd.cut(pd.Series(range(101)), [0,24,49,74,100], include_lowest=True)

In [148]: pd.cut(pd.Series(range(101)), [0,24,49,74,100], include_lowest=True).head(10)
Out[148]:
0    [0, 24]
1    [0, 24]
2    [0, 24]
3    [0, 24]
4    [0, 24]
5    [0, 24]
6    [0, 24]
7    [0, 24]
8    [0, 24]
9    [0, 24]
dtype: category
Categories (4, object): [[0, 24] < (24, 49] < (49, 74] < (74, 100]]
"
26236,69859,"Python Flask, how to set content type","from flask import Response
@app.route('/ajax_ddl')
def ajax_ddl():
    xml = 'foo'
    return Response(xml, mimetype='text/xml')
"
23731,37461,Assign a variable value in an if or while statement,"for line in iter(lambda: raw_input("">>>""), """"):
    line_list.append(line)
"
16598,10370,Changing shape of numpy array read from a text file,">>> x
array([[ 3,  4],
       [ 5,  6],
       [ 7,  8],
       [ 9, 10]])
>>> numpy.transpose(x)
array([[ 3,  5,  7,  9],
       [ 4,  6,  8, 10]])
"
33639,81109,Parse timezone from a human time input,"from dateutil import parser

# map time zones to seconds from GMT
zones = {
    'EST': -5 * 3600,
    'PST': -8 * 3600
}

parser.parse('8 PM on Sunday PST', tzinfos=zones)
# datetime.datetime(2016, 4, 24, 20, 0, tzinfo=tzoffset('PST', -28800))
"
35868,26812,"Python, make filename based on path and replace backslash","import os
out='a/b/c/'.replace(os.path.sep, '_')
print out
"
38052,22064,Python ElementTree Copy Node with childs,"import xml.etree.ElementTree as ET

list_of_files = [""tree1.xml"", ""tree2.xml"", ...]

new_tree = ET.Element(""a"")
i = 1
for file in list_of_files:
  original_tree = ET.parse(file)
  sub_tree = ET.SubElement(new_tree, str(i))
  i += 1
  sub_tree.append (original_tree)
new_tree.write(""merged_tree.xml"")
"
20444,68395,Use python regex to turn <ul> <li> and unbounded items into a list,"ss=""""""
peanut butter1
<ul id=""ul0002"" list-style=""none"">peanut butter2
    <li id=""ul0002-0001"" num=""0000"">2.0 to 6.0 mg of 17&#x3b2;-estradiol and</li>
    <li id=""ul0002-0002"" num=""0000"">0.020 mg of ethinylestradiol;</li>
    <br>
    <li id=""ul0002-0003"" num=""0000"">0.25 to 0.30 mg of drospirenone and</li>peanut butter3
</ul>peanut butter4
""""""
import re
tags = re.compile (r"".*?<([^/]\w*?) .*?>(.*?)</\1>"") # find tag like <li ...>...</li>
start = re.compile(r"".*?<([^/]\w*?) .*?>(.*)"") # find starting tags with attributes
end = re.compile(r""</.*?>"")
r=[]
for s in ss.split(""\n""):
    if not s.strip(): continue
    st = re.match(start,s)
    if st: # start tag exists
        m = re.match(tags,s) 
        if m: # full terminated tag
            r.append(list(reversed(m.groups())))
            extra = s[m.end():].strip()
            if extra:
                r.append([extra,""no tag""])
        else: # half tag start
            r.append(list(reversed(st.groups())))
    else: # no start tag
        s = re.sub(end, """", s) # remove closing tags
        r.append([s.strip(),""no tag""])
print ""\n"".join([str(s) for s in r])
"
8493,7693,what is the use of join() in python threading,"without join:
+---+---+------------------                     main-thread
    |   |
    |   +...........                            child-thread(short)
    +..................................         child-thread(long)

with join
+---+---+------------------***********+###      main-thread
    |   |                             |
    |   +...........join()            |         child-thread(short)
    +......................join()......         child-thread(long)

with join and demon thread
+-+--+---+------------------***********+###     parent-thread
  |  |   |                             |
  |  |   +...........join()            |        child-thread(short)
  |  +......................join()......        child-thread(long)
  +,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,     child-thread(long+demonized)

'-' main-thread/parent-thread/main-program execution
'.' child-thread execution
'#' optional parent-thread execution after join()-blocked parent-thread could 
    continue
'*' main-thread 'sleeping' in join-method, waiting for child-thread to finish
',' demonized thread - 'ignores' lifetime of other threads;
    terminates when main-programs exits; is normally meant for 
    join-independent tasks
"
7288,55900,How to output loop.counter in python jinja template?,">>> from jinja2 import Template

>>> s = ""{% for element in elements %}{{loop.index}} {% endfor %}""
>>> Template(s).render(elements=[""a"", ""b"", ""c"", ""d""])
1 2 3 4
"
19969,35623,I am unable to find a reg-exp to find the items (marked below in bold italics) in a txt file,"import re
text='''Service ( ndfdXML ) tns=""http://www.weather.gov/forecasts/xml/DWMLgen/wsdl/ndfdXML.wsdl"" Prefixes (2) ns0 = ""http://schemas.xmlsoap.org/soap/encoding/"" ns1 = ""http://www.weather.gov/forecasts/xml/DWMLgen/schema/DWML.xsd"" Ports (1): (ndfdXMLPort) Methods (12): CornerPoints(ns1:sectorType sector, ) GmlLatLonList(ns1:listLatLonType listLatLon, xs:dateTime requestedTime, ns1:featureTypeType featureType, ns1:weatherParametersType weatherParameters, ) GmlTimeSeries(ns1:listLatLonType listLatLon, xs:dateTime startTime, xs:dateTime endTime, ns1:compTypeType compType, ns1:featureTypeType featureType, xs:string propertyName, ) LatLonListCityNames(ns1:displayLevelType displayLevel, ) LatLonListLine(xs:decimal endPoint1Lat, xs:decimal endPoint1Lon, xs:decimal endPoint2Lat, xs:decimal endPoint2Lon, ) LatLonListSquare(xs:decimal centerPointLat, xs:decimal centerPointLon, xs:decimal distanceLat, xs:decimal distanceLon, xs:decimal resolution, ) LatLonListSubgrid(xs:decimal lowerLeftLatitude, xs:decimal lowerLeftLongitude, xs:decimal upperRightLatitude, xs:decimal upperRightLongitude, xs:decimal resolution, ) LatLonListZipCode(ns1:zipCodeListType zipCodeList, ) NDFDgen(xs:decimal latitude, xs:decimal longitude, ns1:productType product, xs:dateTime startTime, xs:dateTime endTime, ns1:weatherParametersType weatherParameters, ) NDFDgenByDay(xs:decimal latitude, xs:decimal longitude, xs:date startDate, xs:integer numDays, ns1:formatType format, ) NDFDgenByDayLatLonList(ns1:listLatLonType listLatLon, xs:date startDate, xs:integer numDays, ns1:formatType format, ) NDFDgenLatLonList(ns1:listLatLonType listLatLon, ns1:productType product, xs:dateTime startTime, xs:dateTime endTime, ns1:weatherParametersType weatherParameters, ) Types (60): ns0:Array ns0:ENTITIES ns0:ENTITY ns0:ID ns0:IDREF ns0:IDREFS ns0:NCName ns0:NMTOKEN ns0:NMTOKENS ns0:NOTATION ns0:Name ns0:QName ns0:Struct ns0:anyURI ns0:arrayCoordinate ns0:base64 ns0:base64Binary ns0:boolean ns0:byte ns1:compTypeType ns0:date ns0:dateTime ns0:decimal ns1:displayLevelType ns0:double ns0:duration ns1:featureTypeType ns0:float ns1:formatType ns0:gDay ns0:gMonth ns0:gMonthDay ns0:gYear ns0:gYearMonth ns0:hexBinary ns0:int ns0:integer ns0:language ns1:latLonPairType ns1:listCityNamesType ns1:listLatLonType ns0:long ns0:negativeInteger ns0:nonNegativeInteger ns0:nonPositiveInteger ns0:normalizedString ns0:positiveInteger ns1:productType ns1:sectorType ns0:short ns0:string ns0:time ns0:token ns0:unsignedByte ns0:unsignedInt ns0:unsignedLong ns0:unsignedShort ns1:weatherParametersType ns1:zipCodeListType'''

for match in re.findall(r""[a-zA-Z]+?\s*\([a-z]*?[0-9]*?:"",text):
    print match.split(""("")[0]
"
29100,47482,"Is it possible to anchor a matplotlib annotation to a data coordinate in the x-axis, but to a relative location in the y-axis?","fig, ax = make_example_plot()
tform = blended_transform_factory(ax.transData, ax.transAxes)
ax.annotate(label, xy=(r, 0), xycoords=tform, 
            xytext=(r, 0.9), textcoords=tform, fontsize='xx-large',
            ha='center', va='center', color='r', arrowprops=arrowprops)
"
6057,9078,How can I highlight individual characters in a cell of a wx.Grid?,"class MyCustomRenderer(gridlib.PyGridCellRenderer):
    def __init__(self):
        gridlib.PyGridCellRenderer.__init__(self)

    def Draw(self, grid, attr, dc, rect, row, col, isSelected):
        dc.SetBackgroundMode(wx.SOLID)
        dc.SetBrush(wx.Brush(wx.BLACK, wx.SOLID))
        dc.SetPen(wx.TRANSPARENT_PEN)
        dc.DrawRectangleRect(rect)

        dc.SetBackgroundMode(wx.TRANSPARENT)
        dc.SetFont(attr.GetFont())

        text = grid.GetCellValue(row, col)
        colors = [""RED"", ""WHITE"", ""SKY BLUE""]
        x = rect.x + 1
        y = rect.y + 1

        for ch in text:
            dc.SetTextForeground(random.choice(colors))
            dc.DrawText(ch, x, y)
            w, h = dc.GetTextExtent(ch)
            x = x + w
            if x > rect.right - 5:
                break
"
32058,64251,Python: Generating a Text from CSV with every 5th row Having a Different Function,"def regOutput():
    for index, row in enumerate(export):
        print row['SKU']
        print row['Qty']
        print ' '
        print ' '
        print 'A'
        print 'P'
        print row['productPriceSingle']

        if index % 5 == 4:
            print ' '
            print ""P%u"" % ((index+1) // 5) 
            print 'M'
            print '%u CL' % (index+1)
        else:
            print 'CL'

        print row['Order Store ID']

        if index % 5 == 4:
            print ' '
            print 'A'
"
6084,26327,Is & faster than % when checking for odd numbers?,"AmAir:stko aleax$ python -mtimeit -s'def isodd(x): x & 1' 'isodd(9)'
1000000 loops, best of 3: 0.446 usec per loop
AmAir:stko aleax$ python -mtimeit -s'def isodd(x): x & 1' 'isodd(10)'
1000000 loops, best of 3: 0.443 usec per loop
AmAir:stko aleax$ python -mtimeit -s'def isodd(x): x % 2' 'isodd(10)'
1000000 loops, best of 3: 0.453 usec per loop
AmAir:stko aleax$ python -mtimeit -s'def isodd(x): x % 2' 'isodd(9)'
1000000 loops, best of 3: 0.461 usec per loop
"
8183,43413,Django : Writing a query with condition referencing aggregation within same table,"select
    name,
    sum(count)
from sample s
where flag = false
and (added > (select max(added)
    from sample
    where name = 'abcd1'
    and flag = true)
    OR
    not exists (
        select *
        from sample
        where name = 'abcd1'
        and flag = true)
    )
and name = 'abcd1'
"
14442,64963,Iterate through a dictionary and return results in a table,">>> d={""A"":(1.0,2.0,3.0), ""B"":(4.0,5.0,6.0), ""C"":(7.0,8.0,9.0)}
>>> for row in zip(*([k]+map(str,v) for k,v in sorted(d.items()))):
...  print ""\t"".join(row)
... 
A       B       C
1.0     4.0     7.0
2.0     5.0     8.0
3.0     6.0     9.0
"
38309,62564,Python like sed using regexes,">>> import re
>>> s = ""{'id': '1'}""
>>> re.sub(r""{'([^\']*)'.*$"", r'\1', string)
'id'
"
33105,8096,Format syntax in Python,"""{a};{b};{c};{d}"".format(**myDictionary)
"
13053,49600,How to tweak the NLTK Python code in such a way that I train the classifier only once,"#-*- coding: utf8 -*-

from nltk import UnigramTagger as ut
from nltk import BigramTagger as bt
from cPickle import dump,load

def loadtagger(taggerfilename):
    infile = open(taggerfilename,'rb')
    tagger = load(infile); infile.close()
    return tagger

def traintag(corpusname, corpus):
    # Function to save tagger.
    def savetagger(tagfilename,tagger):
        outfile = open(tagfilename, 'wb')
        dump(tagger,outfile,-1); outfile.close()
        return
    # Training UnigramTagger.
    uni_tag = ut(corpus)
    savetagger(corpusname+'_unigram.tagger',uni_tag)
    # Training BigramTagger.
    bi_tag = bt(corpus)
    savetagger(corpusname+'_bigram.tagger',bi_tag)
    print ""Tagger trained with"",corpusname,""using"" +\
                ""UnigramTagger and BigramTagger.""
    return
"
9036,25775,RESOLVED Using Python to print the amount of space left in a network shared drive,"import ctypes, os, pythoncom
from win32com.client import Dispatch

def drivespace(drive, xl_path, col):
    #get space in bytes
    free_bytes = ctypes.c_ulonglong(0)
    ctypes.windll.kernel32.GetDiskFreeSpaceExW(ctypes.c_wchar_p(drive), \
                                               None, None, ctypes.pointer(free_bytes))

    #calculate space in GB
    free_GB = free_bytes.value/1024/1024/1024
    print(free_GB)

    #input data to Excel
    xl = Dispatch('Excel.Application')
    xl.visible = 0
    wb = xl.Workbooks.Open(xl_path)
    ws = wb.Worksheets(1)

    # initialise values
    empty = False
    row = 1

    # loop until first empty cell in this column
    while not empty:
        val = ws.Range(col+str(row)).value
        print val
        if val == None:
            print ""Found first empty cell! Writing Value...""
            ws.Range(col+str(row)).value = free_GB
            empty = True
        row += 1

    wb.Close(True)
    xl.Quit()

    #release held Excel process
    pythoncom.CoUninitialize()

def main():
    drive = 'C:\\'
    xl_path = os.path.join(os.getenv('so'),'free_space_to_excel','Book1.xlsm')
    xl_column = 'A'
    drivespace(drive, xl_path, xl_column)

if __name__ == '__main__':
    main()
"
23466,29575,How to use librt function in Python?," ctypes.CDLL('librt.so', mode=ctypes.RTLD_GLOBAL)
"
10221,70047,How to extract certain parts of a web page in Python,">>> from BeautifulSoup import BeautifulSoup
>>> import urllib2
>>> url = 'http://www.immi.gov.au/skilled/general-skilled-migration/estimated-allocation-times.htm'
>>> page = urllib2.urlopen(url)
>>> soup = BeautifulSoup(page)
>>> for row in soup.html.body.findAll('tr'):
...     data = row.findAll('td')
...     if data and 'subclass 885online' in data[0].text:
...         print data[4].text
... 
15 May 2011
"
28401,82557,sqlalchemy polymorphic many-to-many,"from sqlalchemy import *
from sqlalchemy.orm import *
from sqlalchemy.ext.declarative import declarative_base, AbstractConcreteBase

Base = declarative_base()

class A(Base):
    __tablename__ = 'a'
    id = Column(Integer, primary_key=True)

class BC(AbstractConcreteBase, Base):
    pass

class B(BC):
    __tablename__ = 'b'
    id = Column(Integer, primary_key=True)

    a_id = Column(Integer, ForeignKey('a.id'))
    __mapper_args__ = {
        ""polymorphic_identity"": ""b"",
        ""concrete"": True
    }

class C(BC):
    __tablename__ = 'c'
    id = Column(Integer, primary_key=True)
    a_id = Column(Integer, ForeignKey('a.id'))
    __mapper_args__ = {
        ""polymorphic_identity"": ""c"",
        ""concrete"": True
    }

configure_mappers()
A.collection = relationship(BC, primaryjoin=BC.a_id == A.id)

engine = create_engine(""sqlite://"", echo=True)

Base.metadata.create_all(engine)

sess = Session(engine)

sess.add_all([
    A(collection=[
        B(),
        C(),
        C()
    ]),
    A(collection=[
        B(),
        B()
    ])
])

sess.commit()

for a in sess.query(A):
    for bc in a.collection:
        print a, bc
"
26769,32647,can any one help me to optimize my code?,"from collections import OrderedDict
number=input()

occurrences = OrderedDict()
for i in range(1,number+1):
    s = raw_input("""")
    occurrences[s] = occurrences.get(s, 0) + 1
number_of_unique_occurence=len(occurrences)
print number_of_unique_occurence
print '%s' %' '.join(map(str, occurrences.values()))
"
2443,18582,"Python/Pygame, Where do I put my pygame.time.wait loop?","while 1:         
    for event in pygame.event.get():
        pygame.display.flip()
        if event.type == pygame.QUIT:sys.exit()
        pygame.time.wait(100)
        score = score + 1
"
19296,7357,Mysql-Python-Connector get columns names from select statement in stored procedure,"for result in cursor.stored_results():
    print(result.description)
    return result.fetchall()
"
24197,52442,Python loop through lists and append according to conditions,"A = [0, 0, 0, 1, 1, 0, 1]
B = [2, 4, 3, 2, 3, 2, 8]
C = [3, 5, 3, 6, 5, 7, 8]

listB_0 = []
listC_0 = []

for a, b, c in zip(A,B,C):
    if a == 0:
        listB_0.append(b)
        listC_0.append(c)

print listB_0
print listC_0

>>> 
[2, 4, 3, 2]
[3, 5, 3, 7]
"
32975,73512,Conform long lines to fit PEP 8,"message = 'Thank you for using our Library! You have decided to borrow {0.title} \
           on {0.start_date}. Please remember to return the book in \
           {0.lend_duration} calendar days on {0.return_date}'

for i in books:
    print(message.format(i))
"
8370,76648,How can I override the 'type' attribute of a ModelForm in Django?,"from django import forms

class Html5DateInput(forms.DateInput):
    input_type = 'date'
"
32361,44788,Django Models Generic Relations,"class Workflow(models.Model):
    members M2M field

class WorkflowItem(models.Model):
    fields

class Comment(models.Model):
    name_of_your_generic_fk(Can be either Workflow/WorkflowItem or any content type for that matter)
    fields
"
38174,47108,Is there a way to use readability (text extraction algorithm) and a custom algorithm in python to extract links from text?,"article = page.summary()   # Extract article using readability
article.findAll(""a"")       # Return a list of all links in the article
"
13543,4585,how to add a instance of a foreign key to an instance of a model that it points to,"# assume selected_job is the job instance
try:
    host = Host.objects.get(name=hostname)
except ObjectDoesNotExist:
    # do something here to handle an unmatched hostname
    pass
host.job = selected_job
host.save()
"
17044,80958,Django text game trade table,"from collections import Counter

# 1 sheep = 6 rabbits
# 
# 1 pig = 2 sheep = 12 rabbits = 1 sheep + 6 rabbits
# 
# 1 cow = 3 pig = 6 sheeps = 36 rabbit etc.

TABLE = {
         'rabbit': 1,
         'sheep': 6,
         'pig': 12,
         'cow': 36,
         }



def get_trades(amount, l=()):
    '''
    Recursive function that returns a list of all possible trades as tuples 
    '''
    if amount < 0 : return [()] # bad trade (not enough money)
    if amount == 0 : return [l] # bingo!!! we have a full trade possibly.
    possible_trades = []        
    animals_sorted = sorted(TABLE, key= lambda key: TABLE[key], reverse=True)
    if l: 
        animals_sorted = animals_sorted[animals_sorted.index(l[-1]):] #preventing duplicates - since order doesn't matter
    for something in animals_sorted:
        value = TABLE[something]

        trades = get_trades(amount-value, l + (something,)) #get possible trades for l+something ...
        possible_trades.extend(trades)
    return possible_trades

def get_trades_counters(amount):
    return [Counter(t) for t in get_trades(amount)]


def main():
    print(get_trades_counters(TABLE['pig']))
    print(get_trades_counters(2*TABLE['pig']))
    print(get_trades_counters(2*TABLE['cow']))


if __name__ == '__main__':
    main()
"
2941,25034,Python Tkinter append the output to a list,"from Tkinter import *

COUNT = 0
def add_one():
    global COUNT
    COUNT += 1
    listbox.insert(END, str(COUNT))
    master.after(1000, add_one)

master = Tk()

scrollbar = Scrollbar(master)
scrollbar.pack(side=RIGHT, fill=Y)

listbox = Listbox(master, yscrollcommand=scrollbar.set)

add_one()
listbox.pack(side=LEFT, fill=BOTH)

scrollbar.config(command=listbox.yview)

mainloop()
"
6627,15836,How to create a subclass in python that is inherited from turtle Module,"import turtle
class TurtleGTX(turtle.Turtle):
    """"""My own version of turtle""""""
    def __init__(self,*args,**kwargs):
        super(TurtleGTX,self).__init__(*args,**kwargs)
        print(""Time for my GTX turtle!"")

my_turtle = TurtleGTX()
my_turtle.forward(100)
"
7186,6582,Using a conditional conditional in python,"if include_already_seen or not data[person].get(item, 0):
"
33852,47996,Scraping Product Names using BeautifulSoup,"from bs4 import BeautifulSoup
import requests

content = requests.get(""TOPShop_URL"").content
soup = BeautifulSoup(content)
product_names = soup.findAll(""h1"")
print product_names
"
11207,68670,Python: module to share post on facebook and twitter,"from django.db       import models
from django.dispatch import receiver

class Article(models.Model):
  name = models.CharField(max_length = 255)

@receiver(post_save, sender = Article)
def new_article_event(sender, instance, created, **kwargs):
  if created:
    # Put facebook/twitter post code here
"
10041,76915,What is the correct way to define a python decorator in a class?,"from functools import wraps


class Decorator():

    def __init__(self, something=None): # you are missing the __ on the right
            self.something = something

    def __call__(self, func):
            print 'Here1'
            @wraps(func)
            def _wrapper(*args, **kwargs):
                return self.call(func, *args, **kwargs)
            return _wrapper

    def call(self, func, *args, **kwargs):
            print 'Here2'
            result = func(*args, **kwargs) # result was misspelled
            return result


if __name__ == '__main__':

    @Decorator() # Just a bit cleaner
    def do_the_thing(arg1='argOne', arg2='argTwo'):
            print 'Here3 {0} {1}'.format(arg1, arg2)

    do_the_thing() # func was never called.
"
13202,69608,adding backslash to symbols in python while using the regex library,">>> import re
>>> arr = [""five"", ""+"", ""two"", ""*"", ""zero"", ""="", ""five""]
>>> map(re.escape, arr)
['five', '\\+', 'two', '\\*', 'zero', '\\=', 'five']
>>> [re.escape(x) for x in arr]
['five', '\\+', 'two', '\\*', 'zero', '\\=', 'five']
"
17096,15539,Python 3.1 - Obtaining the least common element in array,"from operator import itemgetter
import heapq
import collections
def least_common_values(array, to_find=None):
    counter = collections.Counter(array)
    if to_find is None:
        return sorted(counter.items(), key=itemgetter(1), reverse=False)
    return heapq.nsmallest(to_find, counter.items(), key=itemgetter(1))

>>> data = [1,1,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4]
>>> least_common_values(data, 2)
[(1, 2), (2, 4)]
>>> least_common_values([1,1,2,3,3])
[(2, 1), (1, 2), (3, 2)]
>>>
"
32747,68258,Returning ranked search results using gin index with sqlalchemy,"from sqlalchemy.sql.expression import func

(db.session.query(User, func.ts_rank('{0.1,0.1,0.1,0.1}', User.textsearchable_index_col, func.to_tsquery('smit:* | ji:*')).label('rank'))
    .filter(User.authentication_method != 2)
    .filter(User.textsearchable_index_col.op('@@')(func.to_tsquery('smit:* | ji:*')))
    .order_by('rank desc')
).all()
"
39921,18317,How to get tkinter canvas to dynamically resize to window width?,"from Tkinter import *

# a subclass of Canvas for dealing with resizing of windows
class ResizingCanvas(Canvas):
    def __init__(self,parent,**kwargs):
        Canvas.__init__(self,parent,**kwargs)
        self.bind(""<Configure>"", self.on_resize)
        self.height = self.winfo_reqheight()
        self.width = self.winfo_reqwidth()

    def on_resize(self,event):
        # determine the ratio of old width/height to new width/height
        wscale = float(event.width)/self.width
        hscale = float(event.height)/self.height
        self.width = event.width
        self.height = event.height
        # resize the canvas 
        self.config(width=self.width, height=self.height)
        # rescale all the objects tagged with the ""all"" tag
        self.scale(""all"",0,0,wscale,hscale)

def main():
    root = Tk()
    myframe = Frame(root)
    myframe.pack(fill=BOTH, expand=YES)
    mycanvas = ResizingCanvas(myframe,width=850, height=400, bg=""red"", highlightthickness=0)
    mycanvas.pack(fill=BOTH, expand=YES)

    # add some widgets to the canvas
    mycanvas.create_line(0, 0, 200, 100)
    mycanvas.create_line(0, 100, 200, 0, fill=""red"", dash=(4, 4))
    mycanvas.create_rectangle(50, 25, 150, 75, fill=""blue"")

    # tag all of the drawn widgets
    mycanvas.addtag_all(""all"")
    root.mainloop()

if __name__ == ""__main__"":
    main()
"
19025,57274,Replacing a list of utf8 characters in Python,"3>> 'ﻴ ﻲ ﯾ'.translate({0xfbfe: 'a', 0xfef2: 'a', 0xfef4: 'a'})
'a a a'
"
21433,79158,How to find a word in a string in a list? (Python),"def findLines():
    myWord = 'someWordIWantToSearchFor'
    answer = []
    with open('daily.txt') as myfile:
        lines = myfile.readlines()
    for line in lines:
        if myWord in line:
            answer.append(line)
    return answer
"
31945,66339,Specify join order in matplotlib,"import numpy as np
import matplotlib.pyplot as plt

x = np.arange(0, 8, .1)
np.random.shuffle(x)
y = np.sin(x)

sx = np.argsort(x)  # find the order for sorting x
x2 = x[sx]          #    apply this to x
y2 = y[sx]          #    apply this to y

plt.plot(x, y, 'y')
plt.plot(x2, y2, 'r', linewidth=4)

plt.show()
"
17089,10288,Sequence of elements in a list satisfying a condition,"from itertools import groupby, accumulate
from collections import defaultdict

def sub_seq(li, n):
    d = defaultdict(list)
    rle = [(k, len(list(g))) for k, g in groupby(li)]
    endpoints = accumulate(size for k, size in rle)
    for end_index, (value, count) in zip(endpoints, rle):
        for index in range(end_index - count, end_index - n + 1):
            d[value].append(index)
    return dict(d)
"
12404,23000,How can I extract data from a html tag using Python?,"soup = bs4.BeautifulSoup(html)
q1=soup.find('li', class_=""sense_list_item level_1"",value='1').text
"
11725,16341,Pythonic equivalent of unshift or redo?,"for apple in tree:
    if (apple.weight + basket.weight) > 10:
       send(basket)
       basket.clear()
    basket.add(apple)
"
25426,57180,replace any character except for a given list of characters,"line = re.sub(r'[^A-Za-z0-9.@]', '', email)
"
17335,48746,Why does this for loop have no effect? (Python),"jobLocation = jobLocationUnclean
for c in ""!@#%&*()[]{}/?<>,."":
    jobLocation = jobLocation.replace(c, """")

params.append(jobLocation)
print(jobLocation)
"
32250,60679,Stop all search threads when one find what I'm looking for? (Python),"class FindSerial(Thread):
    def __init__(self, serial, queue):
         this.serial = serial
         this.queue  = queue
         super(FindSerial, self).__init__()

    def run(self):
        .... 
        while LOOKING_FOR_SERIAL:
            if not self.queue.empty():
                  return
        ....

 ...
 for i in range(0, 10):
     t = FindSerial(serial, q)
 ...
"
2712,2511,"Combinations of group items, no repeating","    local maxSubID = amax arrayNumSubs --it is the count of the array with highest number of items.


    for maxSubCounter = 1 to maxSubID do
    (
        tmpMat = multimaterial numsubs:mainMatIDs
        for subCounter = 1 to mainMatIDs do
        (
            if (rootMat[subCounter] != undefined) then
            (
                tmpMat[subCounter] = rootMat[subCounter][maxSubCounter]
            )else
            (
                tmpMat[subCounter] = undefined
            )
        )
        append materialsToApply tmpMat
    )
"
359,19231,Disconnected surfaces when plotting cones,"from mpl_toolkits.mplot3d import axes3d
import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure()
ax = fig.add_subplot(111,projection='3d')

# Set up the grid in polar
theta = np.linspace(0,2*np.pi,90)
r = np.linspace(0,3,50)
T, R = np.meshgrid(theta, r)

# Then calculate X, Y, and Z
X = R * np.cos(T)
Y = R * np.sin(T)
Z = np.sqrt(X**2 + Y**2) - 1

# Set the Z values outside your range to NaNs so they aren't plotted
Z[Z < 0] = np.nan
Z[Z > 2.1] = np.nan
ax.plot_wireframe(X, Y, Z)

ax.set_zlim(0,2)

plt.show()
"
7514,22919,Checking if A is superclass of B in Python,"class p1(object):pass
class p2(p1):pass

issubclass(p2, p1)
"
18665,45499,Pandas DataFrame Retrieve Value from Column,"In [6]: df
Out[6]: 
     A  B  C
Idx         
0    1  2  3
1    3  4  5
2    2  3  8

In [7]: df.max()
Out[7]: 
A    3
B    4
C    8
dtype: int64

In [10]: df['B'].max()
Out[10]: 4

In [8]: df.idxmax()
Out[8]: 
A    1
B    1
C    2
dtype: int64
"
5495,3615,Program skips reading text in Python,"def read_poetry_form_description(poetry_forms_file):
    """""" (file open for reading) -> poetry pattern

    Precondition: we have just read a poetry form name from poetry_forms_file.

    Return the next poetry pattern from poetry_forms_file.
    """"""
    # Create three empty lists
    syllables_list = []
    rhyme_list = []
    pattern_list = []
    # Read the first line of the pattern
    line = poetry_forms_file.readline()
    # Read until the end the the pattern
    while line != '\n' and line != '':
        # Clean the \n's
        pattern_list.append(line.replace('\n', '').split(' '))
        line = poetry_forms_file.readline()
    # Add elements to lists
    for i in pattern_list:
        syllables_list.append(int(i[0]))
        rhyme_list.append(i[1])
    # Add two lists into a tuple
    pattern = (syllables_list, rhyme_list)
    return pattern

def read_poetry_form_descriptions(poetry_forms_file):
    """""" (file open for reading) -> dict of {str: poetry pattern}

    Return a dictionary of poetry form name to poetry pattern for the
    poetry forms in poetry_forms_file.
    """"""
    # Initiate variables
    forms_dict = {}
    keys = []
    values = []
    # Get the first line
    line = poetry_forms_file.readline()
    while line != '':
        # Check if the line is the beginning of a form
        if line != '\n':
            keys.append(line.replace('\n', ''))
            values.append(read_poetry_form_description(poetry_forms_file))
        line = poetry_forms_file.readline()
    # Add key-value pairs to the dictionary
    for i in range(len(keys)):
        forms_dict[keys[i]] = values[i]
    return forms_dict
"
2806,65867,Counting Iterations in recursion,"def compute_root(poly, x_0, epsilon, iter=None): ##Using Newton's method
    if iter is None:
        iter = 0
    try:
        if abs(evalpoly(poly,x_0)) < epsilon:
            return '%s is the root. Took %s iterations.'%(x_0,iter)
        else:
            iter += 1
            x_1 = x_0 - (evalpoly(poly,x_0)/evalderiv(poly,x_0))
            return compute_root(poly, x_1, epsilon, iter=iter)

    except ZeroDivisionError:
        print 'No root.'
"
16281,18522,How can I make sure that my Dialog.progressbox() continuously gives output?,"#!/usr/bin/env python3
import sys
from subprocess import Popen, PIPE, STDOUT
from dialog import Dialog # $ pip install pythondialog

d = Dialog(dialog=""dialog"")
d.set_background_title(""Random title"")
with Popen([sys.executable or ""python"", ""-u"", ""-c"", r""""""import sys, time

for i in range(100):
    print(i)
    if i % 10 == 0:
        sys.stderr.write('.\n')
    time.sleep(.1)
""""""], stdout=PIPE, stderr=STDOUT, bufsize=0) as p:
    d.progressbox(fd=p.stdout.fileno(), text=""youtube-dl output:"")
"
15813,13993,Rotate the image via opencv in my defined function with Python,"import cv2

def rotate(img1):  # rotate img1 and save it in img
    angle = 30  # rotated angle
    h, w, c = img1.shape

    m = cv2.getRotationMatrix2D((w/2, h/2), angle, 1)
    img2 = cv2.warpAffine(img1, m, (w, h))  # rotate the img1 to img2
    cv2.imwrite(""rotate1.jpg"", img2)  # save the rotated image within the function, successfully!
    return img2

img = cv2.imread(""image.jpg"")

img_out=rotate(img)

cv2.imwrite(""rotate2.jpg"", img_out)  # save the rotated image in the main function, failed!

print(""Finished!"")
"
15362,45916,Using Curly Braces to Initialize Set,"my_set = {'foo', 'bar', 'baz'}
"
26528,50064,How to write list of lists to CSV file Python?,"import pandas as pd
data = [('a', 'b', 'c'), ('d', 'e', 'f')]
df = pd.DataFrame(data)
df.to_csv('test.csv', index=False, header=False)
"
36250,69880,Generate a django queryset based on dict keys,"reduce(operator.or_, Q(**{key + '__icontains': val}) for (key, val) in D.iteritems())
"
18521,52638,How to find all anchor tags inside a div using Beautifulsoup in Python,"special_divs = soup.find_all('div',{'class':'Special_Div_Name'})
for text in special_divs:
    download = text.find_all('a', href = re.compile('\.mp3$'))
    for text in download:
        hrefText = (text['href'])
        print hrefText
"
29041,31754,png24 to png8 conversion,"im2 = im.convert('RGB').convert('P', palette=Image.ADAPTIVE)
"
26934,386,AutoComplete in ipython with pandas Seems to be broken,"s = frame[SomeCoulmnname]
s.v<TAB>
"
31211,67893,Change an object list to another object,"map(lambda item: item.blog, tag_list)
"
22737,69601,Drop rows with all zeros in pandas data frame,"> df = pd.DataFrame({'a':[0,0,1,1], 'b':[0,1,0,1]})
> df = df[(df.T != 0).any()]
> df
   a  b
1  0  1
2  1  0
3  1  1
"
13475,45376,"gtk+ signal emitted when window/dialog is ""presented""","dialog.emit('show')
"
8581,4852,Convert datetime in Python list to year only,">>> dt = datetime.datetime(2012, 1, 1,0,0)
>>> dt.year
2012
"
27832,4352,Python - How can you use a module's alias to import its submodules?,"import my_long_module_name as mlmn
import my_long_module_name.submodule

mlmn.submodule.function()
"
14074,66585,Merge CSV files in Python using Python Dictionary,"import csv

with open('checkfile.csv', 'rb') as checkfile:
    product_result = {
        record['ProductCode']: record for record in csv.DictReader(checkfile)}

with open('infile.csv', 'rb') as infile:
    with open('outfile.csv', 'wb') as outfile:
        reader = csv.DictReader(infile)
        writer = csv.DictWriter(outfile, reader.fieldnames)
        writer.writeheader()
        for item in reader:
            record = product_result.get(item['SKU'], None)
            if record:
                item['ChannelProfileID'] = record[' Stock']  # ???
                item['CostPrice'] = record[' CostPrice']
            else:
                item['ChannelProfileID'] = None
                item['CostPrice'] = None
            writer.writerow(item)
"
33117,77344,"Python script to batch-rename .WAV files in a directory, based on audio length","import wave
import contextlib
import os


for file_name in os.listdir(os.getcwd()):
    if file_name.endswith("".wav"") or file_name.endswith("".aiff""):
        with contextlib.closing(wave.open(file_name, 'r')) as f:
            frames = f.getnframes()
            rate = f.getframerate()
            duration = frames / float(rate)
            duration = int(duration)
            duration = str(duration)
            new_file_name = duration + "" "" + file_name
            print(file_name)
            wave.close()
            os.rename(file_name, new_file_name)
    else:
"
8905,74087,How to maintain multiple run_forever handlers simultaneously?,"import asyncio
from aiohttp import web

class MyApp(web.Application):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        self.process_task = self.loop.create_task(self.process())
        self.on_shutdown.append(lambda app: app.process_task.cancel())

    async def process(self):
        while True:
            print(await asyncio.sleep(1, result='ping'))

if __name__ == '__main__':
    web.run_app(MyApp())
"
10446,71627,How can I plot NaN values as a special color with imshow in matplotlib?,"masked_array = np.ma.array (a, mask=np.isnan(a))
cmap = matplotlib.cm.jet
cmap.set_bad('w',1.)
ax.imshow(masked_array, interpolation='nearest', cmap=cmap)
"
17450,11584,How to kill a running iPython process,"$ ipython
Python 2.7.5 (default, Mar  9 2014, 22:15:05)
[GCC 4.2.1 Compatible Apple LLVM 5.0 (clang-500.0.68)] on darwin
IPython 2.1.0 -- An enhanced Interactive Python.
?         -> Introduction and overview of IPython's features.
%quickref -> Quick reference.
help      -> Python's own help system.
object?   -> Details about 'object', use 'object??' for extra details.

In [1]:
[2]+  Stopped                 ipython
$ kill %2

[2]+  Stopped                 ipython
$

[2]+  Terminated: 15          ipython
$
"
9405,61173,Can't install python modules,"c:\python27\python setup.py install
"
9148,56475,Can descriptors be used on properties to provide some declarative information?,"class MyCustomDescriptor:

    def __init__(self,val1,val2):d
        self._val1 = val1
        self._val2 = val2

    @property
    def val1(self): return self._val1

    @property
    def val2(self): return self._val2

    def __call__(self,decorated_method_reference):
        self._decorated_method_reference = decorated_method_reference
        return self

    def __get__(self,instance,type=None):

        if not instance:
            return self

        return self._decorated_method_reference(instance)

class Foo:

    def __init__(self,attribute_a_value,attribute_b_value,attribute_c_value):
        self._attribute_a_value = attribute_a_value
        self._attribute_b_value = attribute_b_value
        self._attribute_c_value = attribute_c_value

    @MyCustomDescriptor(val1=""abc"",val2=""def"")
    def attribute_a(self): return self._attribute_a_value

    @MyCustomDescriptor(val1=""xyz"",val2=""X"")
    def attribute_b(self): return self._attribute_b_value

    @property
    def attribute_c(self): return self._attribute_c_value

# Show that by inspecting class Foo we can figure out which attribute are marked with MyCustomDescriptor and that
# we can get the values for val1 and val2.  We don't even need an instance of Foo to do this.  The class itself is sufficient.

print(""Inspecting class Foo.  Looking for attributes marked with MyCustomDescriptor..."")

for attribute_name in dir(Foo):

    attribute_as_object = getattr(Foo,attribute_name)

    if type(attribute_as_object) == MyCustomDescriptor:
        print(""attribute ""+attribute_name+"" is decorated with MyCustomDescriptor.  val1=""+attribute_as_object.val1+"" val2=""+attribute_as_object.val2)

# Show that the properties on Foo work like normal properties.  Note that I skipped implementing setters but could have done so.

foo_instance = Foo(attribute_a_value=""X"",attribute_b_value=2,attribute_c_value=""Z"")

print(""Created an instance of Foo just for fun.  It's property values are ""+str(foo_instance.attribute_a)+"", ""+str(foo_instance.attribute_b)+"", ""+str(foo_instance.attribute_c))
"
28714,20533,Convert Gregorian (Christian) date to Persian date and vice-versa in Python,"
>>> import jalali
>>> jalali.Persian('1393-1-11').gregorian_string()
'2014-3-31'
>>> jalali.Persian(1393, 1, 11).gregorian_datetime()
datetime.date(2014, 3, 31)
>>> jalali.Persian('1393/1/11').gregorian_string(""{}/{}/{}"")
'2014/3/31'
>>> jalali.Persian((1393, 1, 11)).gregorian_tuple()
(2014, 3, 31)

>>> jalali.Gregorian('2014-3-31').persian_string()
'1393-1-11'
>>> jalali.Gregorian('2014,03,31').persian_tuple()
(1393, 1, 11)
>>> jalali.Gregorian(2014, 3, 31).persian_string(""{0}"")
'1393'
"
31480,1817,Flask: get current route,"rule = request.url_rule

if 'antitop' in rule.rule:
    # request by '/antitop'

elif 'top' in rule.rule:
    # request by '/top'
"
15331,21459,pandas merge dataframe and pivot creating new columns,"import pandas as pd

# your data
# ==============================
# set index
df1 = df1.set_index('Sample')

print(df1)

       Animal Time     Sex
Sample                    
1           A  one    male
2           A  two    male
3           B  one  female
4           C  one    male
5           D  one  female

print(df2)


          a    b    c
Sample               
1       0.2  0.4  0.3
2       0.5  0.7  0.2
3       0.4  0.1  0.9
4       0.4  0.2  0.3
5       0.6  0.2  0.4



# processing
# =============================
df = df1.join(df2)

df_temp = df.set_index(['Animal', 'Sex','Time'], append=True).unstack()

print(df_temp)


                        a         b         c     
Time                  one  two  one  two  one  two
Sample Animal Sex                                 
1      A      male    0.2  NaN  0.4  NaN  0.3  NaN
2      A      male    NaN  0.5  NaN  0.7  NaN  0.2
3      B      female  0.4  NaN  0.1  NaN  0.9  NaN
4      C      male    0.4  NaN  0.2  NaN  0.3  NaN
5      D      female  0.6  NaN  0.2  NaN  0.4  NaN

# rename the columns if you wish
df_temp.columns = ['{}_{}'.format(x, y) for x, y in zip(df_temp.columns.get_level_values(1), df_temp.columns.get_level_values(0))]

print(df_temp)

                      one_a  two_a  one_b  two_b  one_c  two_c
Sample Animal Sex                                             
1      A      male      0.2    NaN    0.4    NaN    0.3    NaN
2      A      male      NaN    0.5    NaN    0.7    NaN    0.2
3      B      female    0.4    NaN    0.1    NaN    0.9    NaN
4      C      male      0.4    NaN    0.2    NaN    0.3    NaN
5      D      female    0.6    NaN    0.2    NaN    0.4    NaN


result = df_temp.reset_index('Sex').groupby(level='Animal').agg(max).sort_index(axis=1)

print(result)

           Sex  one_a  one_b  one_c  two_a  two_b  two_c
Animal                                                  
A         male    0.2    0.4    0.3    0.5    0.7    0.2
B       female    0.4    0.1    0.9    NaN    NaN    NaN
C         male    0.4    0.2    0.3    NaN    NaN    NaN
D       female    0.6    0.2    0.4    NaN    NaN    NaN
"
28694,62582,Why is shutil.rmtree() so slow?,"def rmtree(path, ignore_errors=False, onerror=None):
""""""Recursively delete a directory tree.

If ignore_errors is set, errors are ignored; otherwise, if onerror
is set, it is called to handle the error with arguments (func,
path, exc_info) where func is os.listdir, os.remove, or os.rmdir;
path is the argument to that function that caused it to fail; and
exc_info is a tuple returned by sys.exc_info(). If ignore_errors
is false and onerror is None, an exception is raised.

""""""
if ignore_errors:
     def onerror(*args):
          pass
elif onerror is None:
     def onerror(*args):
          raise
try:
     if os.path.islink(path):
          # symlinks to directories are forbidden, see bug #1669
          raise OSError(""Cannot call rmtree on a symbolic link"")
 except OSError:
     onerror(os.path.islink, path, sys.exc_info())
     # can't continue even if onerror hook returns
     return
names = []
try:
     names = os.listdir(path)
except os.error, err:
     onerror(os.listdir, path, sys.exc_info())
for name in names:
     fullname = os.path.join(path, name)
     try:
          mode = os.lstat(fullname).st_mode
     except os.error:
          mode = 0
     if stat.S_ISDIR(mode):
          rmtree(fullname, ignore_errors, onerror)
     else:
         try:
             os.remove(fullname)
         except os.error, err:
             onerror(os.remove, fullname, sys.exc_info())
try:
     os.rmdir(path)
except os.error:
     onerror(os.rmdir, path, sys.exc_info()) 
"
37875,60743,python cPickle.dumps contain newlines,"import csv

with open(outputfilename, 'wb') as out:
    writer = csv.writer(out, delimiter='\t')
    writer.writerow(['20120305', 'xxxxx', pickle.dumps(result)])
"
601,26884,String splitting issue problem with multiword expressions,"def split_with_phrases(sentence, phrase_list):
    words = sentence.split("" "")
    phrases = set(tuple(s.split("" "")) for s in phrase_list)
    print phrases
    max_phrase_length = max(len(p) for p in phrases)

    # Find a phrase within words starting at the specified index.  Return the
    # phrase as a tuple, or None if no phrase starts at that index.
    def find_phrase(start_idx):
        # Iterate backwards, so we'll always find longer phrases before shorter ones.
        # Otherwise, if we have a phrase set like ""hello world"" and ""hello world two"",
        # we'll never match the longer phrase because we'll always match the shorter
        # one first.
        for phrase_length in xrange(max_phrase_length, 0, -1):
            test_word = tuple(words[idx:idx+phrase_length])
            if test_word in phrases:
                return test_word
        return None

    skip = 0
    for idx in xrange(len(words)):
        if skip:
            # This word was returned as part of a previous phrase; skip it.
            skip -= 1
            continue

        phrase = find_phrase(idx)
        if phrase is not None:
            skip = len(phrase)
            yield "" "".join(phrase)
            continue

        yield words[idx]

print [s for s in split_with_phrases('i would like a blood orange',
    [""blood orange"", ""loan shark""])]
"
17415,75846,Removing multiple keys from nested dictionaries,"#!/usr/local/cpython-3.3/bin/python

import pprint

def recursive_remover(unwanted_keys, dictionary):
    for key, value in list(dictionary.items()):
        if isinstance(value, dict):
            recursive_remover(unwanted_keys, value)

        if key in unwanted_keys:
            del dictionary[key]

def main():
    mydict={'user': {'key1':'12','key2':'20','key3':30},
           'status':{'newk':'12','user':{'key1':'12','key2':'20','key3':30}}}

    unwanted_keys = { 'key1', 'key2' }

    recursive_remover(unwanted_keys, mydict)

    pprint.pprint(mydict)

main()
"
11750,68700,Matching rows from a table,"df = pd.read_html('https://en.wikipedia.org/wiki/List_of_shopping_malls_in_the_South_Florida_metropolitan_area',
                   header=0 )[0]
print df

                                  Name                           Location
0                        Aventura Mall                           Aventura
1                    Bal Harbour Shops                        Bal Harbour
2                  Bayside Marketplace                     Downtown Miami
3                   Boynton Beach Mall                      Boynton Beach
4                            CityPlace                    West Palm Beach
5                             CocoWalk               Coconut Grove, Miami
6                         Coral Square                      Coral Springs
7                        Dadeland Mall                            Kendall
8                         Dolphin Mall                         Sweetwater
9              Downtown at the Gardens                 Palm Beach Gardens
10                           The Falls                            Kendall
11          Galeria International Mall                     Downtown Miami
12     The Galleria at Fort Lauderdale                    Fort Lauderdale
13                    The Gardens Mall                 Palm Beach Gardens
14          The Grand Doubletree Shops                     Downtown Miami
15                 Las Olas Riverfront                    Fort Lauderdale
16                      Las Olas Shops                    Fort Lauderdale
17                   Lincoln Road Mall                        Miami Beach
18           Loehmann's Fashion Island                           Aventura
19                Mall of the Americas                              Miami
20            The Mall at 163rd Street                  North Miami Beach
21        The Mall at Wellington Green                         Wellington
22            Miami International Mall                              Doral
23                 Miracle Marketplace                              Miami
24              Metrofare Shops & Cafe  Government Center, Downtown Miami
25                 Pembroke Lakes Mall                     Pembroke Pines
26                 Pompano Citi Centre                      Pompano Beach
27                      Sawgrass Mills                            Sunrise
28                   Seminole Paradise                          Hollywood
29          The Shops at Fontainebleau                        Miami Beach
30  The Shops at Mary Brickell Village                    Brickell, Miami
31          The Shops at Midtown Miami                      Midtown Miami
32       The Shops at Pembroke Gardens                     Pembroke Pines
33           The Shops at Sunset Place                        South Miami
34                      Southland Mall                         Cutler Bay
35           Town Center at Boca Raton                         Boca Raton
36      The Village at Gulfstream Park                   Hallandale Beach
37             Village of Merrick Park                       Coral Gables
38                   Westfield Broward                         Plantation
39                       Westland Mall                            Hialeah
"
19199,67767,python: Is it possible to create a list inside of a function?,"import numpy as np
import random

numRounds = 10
numTimes = 5
finalList = []

def runRounds(numberOfRounds, firstList, finalList):
    for xRound in range(numberOfRounds):
        if random.randint(0,100) >= 85:
            firstList.append(1)
        else:
            firstList.append(0)
    finalList.append(max(firstList))
    return (firstList, finalList)

def runTimes(numTimes, numRounds, finalList):
    for time in range(numTimes):
        firstList = []
        firstList, finalList = runRounds(numRounds, firstList, finalList)
        print(firstList)
    return (firstList, finalList)

firstList, finalList = runTimes(numTimes, numRounds, finalList)

print(finalList)
"
15866,6504,Efficient serialization of numpy boolean arrays,"import bitarray

class BoolArray(object):

  # create from an ndarray
  def __init__(self, array):
    ba = bitarray.bitarray()
    ba.pack(array.tostring())
    self.arr = ba.tostring()
    self.shape = array.shape
    self.size = array.size

  # convert back to an ndarray
  def to_array(self):
    ba = bitarray.bitarray()
    ba.fromstring(self.arr)
    ret = np.fromstring(ba.unpack(), dtype=np.bool)[:self.size]
    return ret.reshape(self.shape)

  def __cmp__(self, other):
    return cmp(self.arr, other.arr)

  def __hash__(self):
    return hash(self.arr)

import numpy as np

x = (np.random.random((2,3,2))>0.5)
b1 = BoolArray(x)
b2 = BoolArray(x)
d = {b1: 12}
d[b2] += 1
print d
print b1.to_array()
"
19760,78726,Using Pycairo to generate images dynamically and serve in Django,"def someView(request):
  surface = cairo.ImageSurface(cairo.FORMAT_ARGB32, 100, 100)
  context = cairo.Context(surface)
  # Draw something ...

  response = HttpResponse(mimetype=""image/png"")
  surface.write_to_png(response)
  return response
"
21722,43042,Allow subclass in a class to access base class properties,"class SimClass(object):
    def run(self):
        self.results = ...
        self.plot = SimPlot(self)

class SimPlot(object):
    def __init__(self, simclass):
        self.simclass = simclass

    def plot1(self):
        # access simclass' attribute(s)
        self.simclass.results

sim = SimClass()
sim.run()
sim.plot.plot1()
"
6499,59124,Why can't I run a query against my has many relationship in SQLAlchemy?,"class Group(db.Model):
    ...
    people = db.relationship(Person, lambda: groups_people, lazy='dynamic',
        backref=db.backref('groups', lazy='dynamic'))
    ...
"
36093,47768,Permanently define environment variable (for Python gdal undefined symbol),"subprocess.Popen(command, env={'LD_PRELOAD': '/usr/local/lib/libgdal.so.1'})
"
5254,61441,if anything in collections do such segment reversing ? | python,"def shift(pairs):
    it = iter(pairs)
    (_, p) = next(it)
    for (n, p2) in it:
        yield (p, n)
        p = p2
"
36573,5113,Find factorial of each element in a list and multiply them,"product = 1
for item in some_list:
    product *= factorial(item)
"
10527,34078,How do I iterate over the tuples of the items of two or more lists in Python?,"'\n'.join(' '.join(x) for x in zip(a, b))
"
20973,55702,Ordering ggplot2 bars with flipped coordinates using Rpy2 in Python,"dat$cat <- factor(dat$cat,levels = c('b','a'))

ggplot(dat,aes(x = name,y = num, fill = cat)) + 
    geom_bar(stat = ""identity"",position = ""dodge"") + 
    coord_flip() + 
    scale_fill_manual(values = c('blue','red')) +
    guides(fill = guide_legend(reverse = TRUE))
"
8153,61518,drawing a point on the screen every 17ms in Python?,"import pygame,sys
from pygame import *

WIDTH = 480
HEIGHT = 480
WHITE = (255,255,255) #RGB
BLACK = (0,0,0) #RGB

pygame.init()
screen = display.set_mode((WIDTH,HEIGHT),0,32)
display.set_caption(""Name of Application"")
screen.fill(WHITE)
timer = pygame.time.Clock()
pos_on_screen, radius = (50, 50), 20    
while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
    timer.tick(60) #60 times per second you can do the math for 17 ms
    draw.circle(screen, BLACK, pos_on_screen, radius)
    display.update()
"
28669,5792,Duplicate \K feature in Java or Python?,"^[\w]*\d(?=[a-z]+$)|(?!^)\G[a-z]+$
"
39067,47714,How do I call a heading as an argument when defining a function in Python?,"def cutoff(category, cut, direction):

    if direction == 0:
        comply = list(zip(df[df[category] < cut].Major, df[df[category] < cut][category]))

    if direction == 1:
        comply = list(zip(df[df[category] > cut].Major, df[df[category] > cut][category]))  

    return comply
"
13234,15216,Trouble understanding classic recursion example of a factorial in Python 2.7,"factorial(3)
| factorial(2)
| | factorial(1)
| | | factorial(0)
| | |   RETURNS 1
| | recurse = 1
| | result = 1 * 1 [since n=1]
| | RETURNS 1 [returning result]
| recurse = 1 [catching returned result of 1]
| result = 2 * 1 [since n=2]
| RETURNS 2 [returning result]
recurse = 2 [catching returned result of 2]
result = 3 * 2 [since n=2]
RETURNS 6 [returning result]
"
12054,29099,How to deal with data from arff file with python?,"import arff

X = []
y = []

for row in arff.load('cpu.arff'):   
    X.append(row[:-1])
    y.append(row[-1])
"
27482,20308,Remove whitespace and make all lowercase in a string for python,"''.join(c.lower() for c in s if not c.isspace())
"
39380,62924,Does Python3 still need raw string in regular expression?,">>> s = 'hello\n'
>>> raw = r'hello\n'
>>> s
hello\n
>>> raw
hello\\n
>>> print(s)
hello

>>> print(raw)
hello\n
"
1085,68348,How to make my code detect end of string in python?,"def sentence_split(sentence):
    new_sentence = sentence[:]
    for letter in sentence:
        if not letter.isalnum():
            new_sentence = new_sentence.replace(letter, ' ')
    return new_sentence.split()
"
13106,57145,Get Primary Key after Saving a ModelForm in Django,"def contact_create(request):
    if request.method == 'POST':
        form = ContactForm(request.POST)
        if form.is_valid():
            new_contact = form.save()
            return HttpResponseRedirect(reverse(contact_details, args=(new_contact.pk,)))
    else:
        form = ContactForm()
"
14950,6653,How to find and replace multiple lines in text file?,"# create a dict of find keys and replace values
findlines = open('find.txt').read().split('\n')
replacelines = open('replace.txt').read().split('\n')
find_replace = dict(zip(findlines, replacelines))

with open('data.txt') as data:
    with open('new_data.txt', 'w') as new_data:
        for line in data:
            for key in find_replace:
                if key in line:
                    line = line.replace(key, find_replace[key])
            new_data.write(line)
"
203,29558,Removing spaces and empty lines from a file Using Python,"with open(""transfer-out/"" + file, ""r"") as f:
    for line in f:
        cleanedLine = line.strip()
        if cleanedLine: # is not empty
            print(cleanedLine)
"
22062,15757,python mock Requests and the response,"from mock import patch 
@mock.patch('requests.get', mock.Mock(side_effect = lambda k:{'aurl': 'a response', 'burl' : 'b response'}.get(k, 'unhandled request %s'%k)))
"
17350,37813,"Django admin, how to keep the query parameters on the next filter","    def choices(self, cl):
        yield {
            'selected': self.value() is None,
            'query_string': cl.get_query_string({}, [self.parameter_name]),
            'display': _('All'),
        }
        for lookup, title in self.lookup_choices:
            yield {
                'selected': self.value() == force_text(lookup),
                'query_string': cl.get_query_string({
                self.parameter_name: lookup,
                }, []),
                'display': title,
            }
"
17660,34025,aspect based sentiment using NLTK?,"def accuracy(classifier, gold):
    results = classifier.classify_many([fs for (fs,l) in gold])
    correct = [l==r for ((fs,l), r) in zip(gold, results)]
    if correct:
        return float(sum(correct))/len(correct)
    else:
        return 0
"
29923,35452,python 2 xml to sort and remove duplicates,"#!/usr/bin/env python
# -*- coding: utf-8 -*-
from xml.dom.minidom import *
xml = parse('1.xml')
name = xml.getElementsByTagName('type_id')
hashes = set()
for node in name:
    hashes.add(node.childNodes[0].data.encode('utf-8'))

print ""\n"".join(sorted(hashes))
"
6372,73571,What is the canonical way to send arguments to a Python script?,"import argparse as ap

def dothis():
    print ""We're doing this.""

def dothat():
    print ""We're doing that.""

if __name__ == ""__main__"":
    parser = ap.ArgumentParser()
    parser.add_argument('thing', choices=['dothis', 'dothat'])
    args = parser.parse_args()
    f = locals()[args.thing]
    f()
"
3793,60199,How do folks generate custom unique numbers when saving a model?,"def save(self, *args, **kwargs):
    if self.pk is None:
        prev_quote = Quote.objects.latest()
        #logic to generate quote number using date and prev_quote
        self.quotenumber = new_quote_number
        fixed = self.quotenumber[:9]   # Qyyyymmdd component
        n = int(self.quotenumber[9:])  # nnnn component
        for x in itertools.count(n):
            try:
                super(Post, self).save(*args, **kwargs)
            except IntegrityError:
                self.quotenumber = fixed + str(n+1).zfill(4)
            else:
                break
    else:
        super(Post, self).save(*args, **kwargs)
"
32515,28123,Enumerate Python class properties (not functions),"In [29]: class Foo(object):
   ....:     @property
   ....:     def foo(self): return 42
   ....:     

In [30]: obj = Foo()

In [31]: inspect.getmembers(obj.__class__, lambda prop: isinstance(prop, property))
Out[31]: [('foo', <property at 0x106aec6d8>)]
"
32176,32180,Full text search MongoDB/Mongoengine,"class MyDoc(Document):
    pass

coll = MyDoc._get_collection()
coll.database.command(
    ""text"",
    coll.name,
    search=""alice"", 
    project={""name"": 1, ""_id"": 0}, 
    limit=10)
"
11616,60354,How do I check the operating system in Python?,"from sys import platform as _platform
if _platform == ""linux"" or _platform == ""linux2"":
    # linux
elif _platform == ""darwin"":
    # OS X
elif _platform == ""win32"":
    # Windows...
"
4871,56823,Expanding asterisk in glob,"def list_file():
    return sys.argv[1:]

print list_file()
"
23693,40019,Vectorize numpy assignment,"Result = Z[:,None,:,None,None] + Y[:,:,None,:,None] + X[:,:,:,None,:]
"
37032,16685,Euclidean distance with weights,"def weightedL2(a,b,w):
    q = a-b
    return np.sqrt((w*q*q).sum())
"
24812,5449,call function with arguments via instance.cmd(),"def startServer(host):
    host.cmd( 'python server.py an_argument_to_server &' )
"
15011,6064,Flask: Download a csv file on clicking a button,"#!/usr/bin/python

from flask import Flask, Response
app = Flask(__name__)

@app.route(""/"")
def hello():
    return '''
        <html><body>
        Hello. <a href=""/getPlotCSV"">Click me.</a>
        </body></html>
        '''

@app.route(""/getPlotCSV"")
def getPlotCSV():
    # with open(""outputs/Adjacency.csv"") as fp:
    #     csv = fp.read()
    csv = '1,2,3\n4,5,6\n'
    return Response(
        csv,
        mimetype=""text/csv"",
        headers={""Content-disposition"":
                 ""attachment; filename=myplot.csv""})


app.run(debug=True)
"
26471,41485,Matplotlib does not display points specified from ginput,"import matplotlib.pyplot as plt
import numpy as np
from matplotlib.patches import Polygon

data = np.random.rand(4, 4)
plt.imshow(data)

points_xy = np.array(plt.ginput(3))
p = Polygon(points_xy, alpha=0.3)
plt.gca().add_artist(p)

plt.draw()
plt.show()
"
31081,83711,retrieve data from a column in mysql,"db = MySQLdb.connect(user=""yourUser"",passwd=""1337"",db=""awesomeDB"")
cursor = db.cursor()
resultSet = ""SELECT time FROM tableX""
cursor.execute(resultSet)
for row in cursor
#do something here, maybe add to an array if you want
arrayList.append(row)
"
891,6658,Why Python multiprocessing is running sequencially?,"result.append(pool.apply_async(worker, [job]))
"
21127,73904,How to pass a context through django's rest_framework,"serializer_context = {'request': request, 'pictures': pictures, 'filter': FilterForm()}

if request.accepted_renderer.format == 'html':
    return Response(serializer_context, template_name='index.html')

serializer = PaginatedPictureSerializer(pictures, context=serializer_context)
return Response(serializer.data, template_name='index.html')
"
39826,70976,Installing numpy RPM with older Python version,"sudo yum install rpm-build gcc python-devel
wget 'https://pypi.python.org/packages/source/n/numpy/numpy-1.7.1.tar.gz'
tar -xf numpy-1.7.1.tar.gz 
cd numpy-1.7.1/
python setup.py bdist_rpm
sudo yum localinstall dist/numpy-1.7.1-1.i386.rpm
"
32677,68877,Loop in Python script,"while True:
    wpisane = input('>')

    #dodawanie
    if wpisane == dodawanie:    
        pierwsza = input('Podaj pierwsza liczbe: ')
        druga = input('Podaj druga liczbe: ')   
        wynik_dodawania = (int(pierwsza) + int(druga));
        plus = '+'
        równa_się = '='
        print()
        print(int(pierwsza), plus, int(druga), równa_się, wynik_dodawania);
        print()


    #odejmowanie
    if wpisane == odejmowanie:
        pierwsza = input('Podaj pierwsza liczbe: ')
        druga = input('Podaj druga liczbe: ')   
        wynik_odejmowania = (int(pierwsza) - int(druga));
        minus = '-'
        równa_się = '='
        print()
        print(int(pierwsza), minus, int(druga), równa_się, wynik_odejmowania);
        print()
"
10105,35078,Array with 4 elements: need to compare max+min and the other 2 elements,"from numpy import sum
g_2 = sum(r) - g_1
comp = g_1 <= g_2
"
32650,45966,"Python 2.7.2 Win32 # Loop Through List, Buffer Part Of List, Call Function Multiple Times, SAME Return","multiplier = 2 / (relevant + 1) # floats are rounded! => * with 0 => same result
multiplier = float(2) / float(relevant + 1) # unique values! :)
"
15382,12490,Python and Server Load,">>> import os
>>> os.getloadavg()
(1.1200000000000001, 1.0600000000000001, 0.79000000000000004)
"
13474,30355,Remote tcp connection in python with zeromq,"import zmq
import zmq.ssh
context = zmq.Context()
socket = context.socket(zmq.REQ)
zmq.ssh.tunnel_connection(socket, ""tcp://locahost:5555"", ""myuser@remote-server-ip"")
socket.send(b""Hello"")
reply = socket.recv()
"
9427,4916,Repeating a python regular expression until a certain char,"index = str.find('!')
if index > -1:
    str = str[index:] # or (index+1) to get rid of the '!', too
"
7468,64319,Read utf-8 character from byte stream,"from io import TextIOWrapper

with open('/path/to/file', 'rb') as f:
  wf = TextIOWrapper(f, 'utf-8')
  wf._CHUNK_SIZE = 1  # Implementation detail, may not work everywhere

  wf.read(1) # gives next utf-8 encoded character
  f.read(1)  # gives next byte
"
6876,76730,Python - How to change a module implementation?,"# patch_twitter.py
import twitter

TwitterStatus = twitter.Status

class Status(TwitterStatus):
     def __init__(self, *args, **kwargs):
        TwitterStatus.__init__(self, *args, **kwargs)
        self.args = args
        self.time = parseTime(self.created_at)
        self.phrase = ...

    def prettyprint(self):
        # something

twitter.Status = Status

# use api
"
1822,17627,Linking text feature names to their tfidf value,"desc_vect = desc_vect.tocsr()

n_docs = desc_vect.shape[0]
tfidftables = [{} for _ in xrange(n_docs)]
terms = tfidf_vectorizer.get_feature_names()

for i, j in zip(*desc_vect.nonzero()):
    tfidftables[i][terms[j]] = X[i, j]
"
22850,48943,plot gaussian between points,"import pandas as pd
import numpy as np
import scipy.stats as stats
import matplotlib.pyplot as plt

a = pd.date_range(start=""2015-06-16 "",end=""2015-06-23 "", freq='H')

x = np.linspace(-3, 3, 24)
norm_pdf = stats.norm.pdf(x, 0, 1)
density = np.tile(norm_pdf, (len(a)-1)/24)

fig, ax = plt.subplots(figsize=(8,6))
ax.plot(a[1:], density)
ax.set_ylim([0, 1])
"
15446,65472,python intersection of utf-8 list and utf-8 string,">>> list(""ō"")
['\xc5', '\x8d']
>>> print list(set(asa) & set([""ō""]))
['\xc5\x8d']
>>> print list(set(asa) & set([""ō""]))[0]
ō
"
491,27502,Print data from column and row in matrix,"def column(matrix, i):
    return [row[i-1] for row in matrix]
column(table,2)

Out[15]:
['B', 'F', 'J', 'N', 'R', 'V', 'Z', '4', '8']

def getitem(matrix,row,column):
    return matrix[row-1][column-1]
getitem(table,2,3)

Out[16]:
'G'
"
23779,50053,python - list of dictionaries check key:value,"name_pairs = set((i['name'], i['last']) for i in lst)
if (d['name'], d['last']) not in name_pairs:
    lst.append(d)
"
13925,44006,multiply certain dataframe columns by other columns and store the result,"#column names selection (it assume that the columns base name has a fixed length and starts by BBG)
In [54]: columns_prefix = set([col[0:14] for col in df.columns if col.startswith(""BBG"")])

In [55]: columns_prefix
Out[55]: {'BBG.XLON.BTA.S', 'BBG.XLON.VOD.S'}

In [56]: for pre in columns_prefix:
   ....:     df[pre+""_EUR""] =df[pre+""_FX""]*df[pre+""_LAST""]
   ....:

In [57]: df
Out[57]:
         date  BBG.XLON.BTA.S_LAST  BBG.XLON.BTA.S_FX  BBG.XLON.VOD.S_LAST  \
0  30/01/2008               257.25             1.3370                176.9
1  31/01/2008               259.00             1.3375                175.3
2  01/02/2008               264.50             1.3277                181.3
3  04/02/2008               262.00             1.3307                177.9

   BBG.XLON.VOD.S_FX  BBG.XLON.BTA.S_EUR  BBG.XLON.VOD.S_EUR
0             1.3370           343.94325           236.51530
1             1.3375           346.41250           234.46375
2             1.3277           351.17665           240.71201
3             1.3307           348.64340           236.73153
"
18793,82279,Editing a single line in a large text file,"data = [[.25 for numData in range(4)] for numSecs in range(86400)]
length_line=0

def write_line(f, sec, data):
    line=""{:6d}"".format(sec) + "" "" +"" "".join(
            [""{:.2f}"".format(dd) for dd in data])+""\n""
    f.write(line)
    return len(line)

with open('output', 'w') as of:
    for i,d in enumerate(data):
        length_line=write_line(of, i, d)

with open('output', 'rb+') as of:
    # modify the 2nd line:
    n = 2
    of.seek(n*length_line)
    write_line(of, n, [0.10,0.10,0.10,0.10])
    # modify the 10th line:
    n = 10
    of.seek(n*length_line)
    write_line(of, n, [0.10,0.10,0.10,0.10])
"
33726,10709,Python download all files from internet address?,"import sys, urllib, re, urlparse
from BeautifulSoup import BeautifulSoup

if not len(sys.argv) == 2:
    print >> sys.stderr, ""Usage: %s <URL>"" % (sys.argv[0],)
    sys.exit(1)

url = sys.argv[1]

f = urllib.urlopen(url)
soup = BeautifulSoup(f)
for i in soup.findAll('img', attrs={'src': re.compile('(?i)(jpg|png)$')}):
    full_url = urlparse.urljoin(url, i['src'])
    print ""image URL: "", full_url
"
1727,61941,optional arguments function,"def f(*args):
    theSum = 0
    for arg in args:
        theSum += arg
    return theSum

print f(1,2,3,4)
"
31499,46268,wxpython get currently selected notebook tab label (not index),"class MyNotebook(AuiNotebook):
  def __init__(self, parent, id, *args, **kwds): #@ReservedAssignment
    AuiNotebook.__init__(self, parent, id, *args,
      style = NO_BORDER | AUI_NB_CLOSE_ON_ALL_TABS | AUI_NB_TAB_SPLIT, **kwds)

    self._tabs = ['Jobs', 'Devices', 'Actions', 'Transforms']

    self.Bind(EVT_AUINOTEBOOK_PAGE_CLOSE, self.OnPageClosed)

  def OnPageClosed(self, evt):
    page = self.GetPageText(evt.GetSelection())
"
2759,29494,"argparse ""compulsory"" optional arguments","parser.add_argument('--use-lang', required=True, help=""Output language"")
"
26419,77300,"Copy x lines at a time from a file, then paste them in (^v) in Python","def main():
    from itertools import islice
    import win32com.client, time, pyperclip
    shell = win32com.client.Dispatch(""WScript.Shell"")
    userfile = raw_input(""Please enter the file you wish to open\n(must be in this    directory): "")
    file1 = open(userfile, ""r+"")
    n = 18
    time.sleep(3)
    while True:
        next_n_lines = list(islice(file1,n))
        print ''.join(next_n_lines)
        if not next_n_lines:
            break
        pyperclip.copy(''.join(next_n_lines)   #~~~~~~~~~~~~~~~(''.join needed to be added
        shell.sendkeys(""^v"")
        break
    pass

    file1.close()
"
14296,40435,Palindrome Checker for numbers,"begin = int(input('Enter begin: '))
end = int(input('Enter end: '))

palindromes = 0
#Add your code here. You will want to start with a ""for x in range"" style loop.
for x in range(begin, end):
    if str(x) == str(x)[::-1]:
        palindromes += 1

print('There are', palindromes, 'palindrome(s) between', begin, 'and', end)
"
7249,76638,Pandas : Get Data from a csv file irrespective of Header position,"with open('file.csv', 'rb') as infile:
    for lineno, line in enumerate(infile):
        if line[:4] = 'Days':
            break

df = pd.read_csv('file.csv', skiprows=lineno)
"
9892,27948,Unsupervised pre-training for convolutional neural network in theano,"    def get_reconstructed_input(self, hidden):
        """""" Computes the reconstructed input given the values of the hidden layer """"""
        repeated_conv = conv.conv2d(input = hidden, filters = self.W_prime, border_mode='full')

        multiple_conv_out = [repeated_conv.flatten()] * np.prod(self.poolsize)

        stacked_conv_neibs = T.stack(*multiple_conv_out).T

        stretch_unpooling_out = neibs2images(stacked_conv_neibs, self.pl, self.x.shape)

        rectified_linear_activation = lambda x: T.maximum(0.0, x)
        return rectified_linear_activation(stretch_unpooling_out + self.b_prime.dimshuffle('x', 0, 'x', 'x'))
"
38839,38605,Returning MatPotLib image as string,"response = HttpResponse(mimetype=""image/png"")
# create your image as usual, e.g. pylab.plot(...)
pylab.savefig(response, format=""png"")
return response
"
11543,77200,Simulating cookies with python web crawler,"session = requests.Session()

def web_spider(max_pages, query):
    page = 1
    while page <= max_pages:
        url = 'http://website.com/search/index'
        params = {'page': page, 'q': query}
        source_code = session.get(url, params=params)
        plain_text = source_code.content
        soup = BeautifulSoup(plain_text)
        for link in soup.select('a.comments_link[href]'):
            href = 'http://website.com/' + link['href']
            print(href)
        page += 1
"
3164,83062,build an API service in Django,"# Code that creates folder, statusCode, statusMessage, groupId
response = render_to_response('create.xml', {'statusCode': statusCode,
                                                   'statusMessage': statusMessage,
                                                   'groupId': groupId,
                                                   }, mimetype = 'text/xml')
# Some other code, maybe an import pdb; pdb.set_trace() 
# So that you can inspect the response inside of a python shell.
return response
"
28417,80479,What does findAll do when it has no argument?,">>> BeautifulSoup('<div>some text</div>').findAll()

[<html><body><div>some text</div></body></html>,
 <body><div>some text</div></body>,
 <div>some text</div>]
"
11964,34377,padding numpy array/matrix with string,"import numpy as np
# ....
a = [[1,2,3],[4,5,6],[7,8,9]]
a = np.array(a).astype(np.float32)
padding = 2
noDataValue = -999.0
pixels = np.pad(a, (padding,padding), mode='constant', constant_values=(noDataValue))
"
22290,36550,"""Do like readlines()"" to a Session object (Python)","r = requests.get(somePage, stream=True)

for line in r.iter_lines(1024):
    # Do stuff on this line.
"
62,64072,Python - Check network map,"#!/usr/bin/env python
import os
import time
import win32com.client
import logging

old_mappings = [
    r'\\192.168.1.100\old',
    ]
new_mapping = r'\\192.168.1.200\new'
LOG_FILENAME = 'status.log'

def main():
    """"""
    Check to see if Z: is mapped to the old server; if so remove it and
    map the Z: to the new server.

    Then, repeatedly monitor the Z: mapping. If the Z: drive exists,
    report to status.log that we are working. Otherwise, re-map it and
    report errors to the log.
    """"""
    setupLogging()
    replaceMapping()
    monitorMapping()

def replaceMapping():
    if removeMapping():
        createNewMapping()

def setupLogging():
    format = os.environ['COMPUTERNAME'] + "" - %(asctime)s - %(message)s""
    logging.basicConfig(filename=LOG_FILENAME, level=logging.DEBUG, format=format)

def getCredentials():
    """"""
    Return one of three things:
    - an empty tuple
    - a tuple containing just a username (if a password is not required)
    - a tuple containing username and password
    """"""
    return ('someuser', 'somepass')

def createNewMapping():
    network = win32com.client.Dispatch('WScript.Network')
    params = (
        'Z:', # drive letter
        new_mapping, # UNC path
        True, # update profile
        )
    params += getCredentials()
    try:
        network.MapNetworkDrive(*params)
        msg = '{params} - Drive has been mapped'
        logging.getLogger().info(msg.format(**vars()))
    except Exception as e:
        msg = 'error mapping {params}'
        logging.getLogger().exception(msg.format(**vars()))

def monitorMapping():
    while True:
        # only check once a minute
        time.sleep(60)
        checkMapping()

def checkMapping():
    if getDriveMappings()['Z:'] == new_mapping:
        msg = 'Drive is still mapped'
        logging.getLogger().info(msg.format(**vars()))
    else:
        replaceMapping()

# From Python 2.6.4 docs
from itertools import izip_longest
def grouper(n, iterable, fillvalue=None):
    ""grouper(3, 'ABCDEFG', 'x') --> ABC DEF Gxx""
    args = [iter(iterable)] * n
    return izip_longest(fillvalue=fillvalue, *args)

def getDriveMappings():
    """"""
    Return a dictionary of drive letter to UNC paths as mapped on the
    system.
    """"""
    network = win32com.client.Dispatch('WScript.Network')
    # http://msdn.microsoft.com/en-us/library/t9zt39at%28VS.85%29.aspx
    drives = network.EnumNetworkDrives()
    # EnumNetworkDrives returns an even-length array of drive/unc pairs.
    # Use grouper to convert this to a dictionary.
    result = dict(grouper(2, drives))
    # Potentially several UNC paths will be connected but not assigned
    # to any drive letter. Since only the last will be in the
    # dictionary, remove it.
    if '' in result: del result['']
    return result

def getUNCForDrive(drive):
    """"""
    Get the UNC path for a mapped drive.
    Throws a KeyError if no mapping exists.
    """"""
    return getDriveMappings()[drive.upper()]

def removeMapping():
    """"""
    Remove the old drive mapping. If it is removed, or was not present,
    return True.
    Otherwise, return False or None.
    """"""
    mapped_drives = getDriveMappings()
    drive_letter = 'Z:'
    if not drive_letter in mapped_drives:
        return True
    if mapped_drives[drive_letter] in old_mappings:
        network = win32com.client.Dispatch('WScript.Network')
        force = True
        update_profile = True
        network.RemoveNetworkDrive(drive_letter, force, update_profile)
        return True
    # return None

if __name__ == '__main__':
    main()
"
28546,44221,Python function looping only once,"def loop(f, n):         #f repeats n times
    if n<=0:
        return
    else:
        f()             # don't forget to call f()
        loop(f, n-1)
"
24530,13061,append 2 hex values in python,"a = 0x7b
b = 0x80000

def append_hex(a, b):
    sizeof_b = 0

    # get size of b in bits
    while((b >> sizeof_b) > 0):
        sizeof_b += 1

    # align answer to nearest 4 bits (hex digit)
    sizeof_b += sizeof_b % 4

    return (a << sizeof_b) | b

print(hex(append_hex(a, b)))
"
35678,73657,Have BeautifulSoup output <br> instead of <br/>,">>> data = '<p>Paragraph containing<br>line break</p>'
>>> soup = BeautifulSoup(data, 'html.parser')
>>> str(soup).replace('</br>', '')
'<p>Paragraph containing<br>line break</p>'
"
30881,61691,filtering logcat timestamp in python,"import re

# example string from your file
s='05-03 12:53:15.251 ACTION_MOVE, (596.00, 841.00) '

# The unescaped round brackets will capture the numbers 
r =re.match(r'\d+-\d+\s+\d+:\d+:(\d+\.\d+)\s+[A-Z_]+,\s+\(\d+\.\d+,\s+\d+\.\d+\)', s)

r.groups(0)  # Will output ('15.251',)
"
8888,61675,"File in memory, Python","s='''
Username: Bob
Password: Coolness

'''

from subprocess import Popen,PIPE
p = Popen(['cat','-'], stdin=PIPE, stdout=PIPE)
stdoutdata, _ = p.communicate(s)
"
3060,65795,Groupby id and tranpose counts of unique column values,"df = pd.melt(df, id_vars='id', value_vars=['task1', 'task2'])
print df

  id variable  value
0  A    task1    run
1  A    task1    run
2  A    task1   walk
3  B    task1   walk
4  B    task1    jog
5  A    task2    eat
6  A    task2  drink
7  A    task2  drink
8  B    task2    eat
9  B    task2    eat

df = pd.crosstab(df['id'], df['value']).reset_index()
df.columns.name = ''
print df

  id  drink  eat  jog  run  walk
0  A      2    1    0    2     1
1  B      0    2    1    0     1
"
17377,25624,Python script on linux and autostart at boot path,"import os.path
scriptpath = os.path.abspath(os.path.dirname(__file__))

configfile = os.path.join(scriptpath, configfilename)
"
5427,83661,Django complex ordering,"def order_by_score(self):
    q = django.db.models.Q(ratings__score=1)
    documents_with_one_positive_rating = self.filter(q) # Annotation sees only
                                                        # the positive ratings
    documents_without_one_positive_rating = self.filter(~q)

    return (documents_with_one_positive_rating |
            documents_without_one_positive_rating).annotate(
                db_score=django.db.models.Count('ratings')
                ).order_by('-db_score')
"
37403,32941,How to store the name of rows and column index in pandas DataFrame?,"import numpy as np
import pandas as pd
I = pd.Index([""a"", ""b"", ""c"", ""d""], name=""rows"")
C = pd.Index([""col0"", ""col1"", ""col2""], name=""columns"")
df = pd.DataFrame(data=np.random.rand(4,3), index=I, columns=C)
print(df)

columns      col0      col1      col2
rows                                 
a        0.098497  0.918954  0.642800
b        0.168266  0.678434  0.455059
c        0.434939  0.244027  0.599400
d        0.877356  0.053085  0.182661

df.to_hdf('test.hdf', 'test')
print(pd.read_hdf('test.hdf'))

columns      col0      col1      col2
rows                                 
a        0.098497  0.918954  0.642800
b        0.168266  0.678434  0.455059
c        0.434939  0.244027  0.599400
d        0.877356  0.053085  0.182661
"
33547,45729,Converting a string of tuples to a list of tuples in Python,">>> s = ""[(5, 2), (1,3), (4,5)]""
>>> eval(s)
[(5, 2), (1, 3), (4, 5)]
"
10476,71292,How to send a Composer item to bottom in QGIS?,"self.composerMap = QgsComposerMap(self.composition, 5,2,408,286)
self.composition.addComposerMap(self.composerMap)
self.composition.moveItemToBottom(self.composerMap)
self.composition.moveSelectedItemsToBottom()
"
24422,50907,Pythonic way to extract first line of a tabular file to a list,"def firstline_to_list(fvar):
    """"""
    Input tab separated file.
    Output first row as list.
    """"""
    import csv, sys

    with open(fvar, 'r') as tsvfile:
        tabreader = csv.reader(tsvfile, delimiter='\t')
        try:
            if sys.version > '3':
                result = next(tabreader)
            else:
                result = tabreader.next()
        except StopIteration:
            result = None

    return result
"
35624,79942,Is there a way to tell where your python file is?,"os.path.dirname(__file__)
"
19559,4615,Formatting a variable with another variable in Python,"results = []
for i in range(50):
    # do things
    results.append(result)
"
24144,57914,How do I convert a numeric string to its corresponding Unicode character?,">>> chr( int('2764', 16) )
❤
"
23738,81158,Installable distutils packages: How do I import package modules from command line scripts which are also part of the same package?,"setup(
    # other arguments here...
    entry_points = {
        'console_scripts': [
            'foo = my_package.some_module:main_func',
            'bar = other_module:some_func',
        ],
        'gui_scripts': [
            'baz = my_package_gui.start_func',
        ]
    }
)
"
6498,70579,django datefield filter,"q.filter(start_date__gt=pay_period.start_date).order_by(""start_date"")
"
37019,72796,Using the index of items in a list to compare the order they come in the list,">>> data = ['VERB', 'SUBJ', 'OBJ']
>>> for n, i in enumerate(data):
...     print n, i
... 
0 VERB
1 SUBJ
2 OBJ
"
26958,11587,Efficient combined in-place adding/removing of rows of a huge 2D numpy array,"import numpy as np

n_rows = 100
n_columns = 100000
n_rows_to_drop = 20
n_rows_to_add = 10

# Init huge array
data = np.random.rand(n_rows, n_columns)

# Some rows we drop
to_drop = np.random.randint(0, n_rows, n_rows_to_drop)
to_drop = np.unique(to_drop)

# Some rows we add
new_data = np.random.rand(n_rows_to_add, n_columns)

# Start replacing rows with new rows
data[to_drop[:n_rows_to_add]] = new_data

# These should still be dropped
to_drop = to_drop[:n_rows_to_add]

# Make a list of row indices to keep, last rows first
to_keep = np.setdiff1d(np.arange(n_rows), to_drop, assume_unique=True)[-n_rows_to_add:]

# Replace rows to drop with rows at the end of the matrix
for to_drop_i, to_keep_i in zip(to_drop, to_keep):
    data[to_drop_i] = data[to_keep_i]

# Resize matrix in memory
data.resize(n_rows - n_rows_to_drop + n_rows_to_add, n_columns)
"
26141,49511,Unable to mutate an iterated string,"import random

bitstring = ""100111001101010101010101""
print(""old genome :  "" + bitstring)
newGenome="""".join([""10""[int(bit)] if random.random() < 0.05 else bit for bit in bitstring])
print(""new genome :  "" + newGenome)
"
7508,52207,Every combination of list elements without replacement,"from itertools import permutations

foo = ['a', 'b', 'c']
print(list(permutations(foo, 2)))

# Out: [('a', 'b'), ('a', 'c'), ('b', 'a'), ('b', 'c'), ('c', 'a'), ('c', 'b')]
"
10831,58039,Improving performance of Cronbach Alpha code python numpy,"def CronbachAlpha(itemscores):
    itemscores = numpy.asarray(itemscores)
    itemvars = itemscores.var(axis=1, ddof=1)
    tscores = itemscores.sum(axis=0)
    nitems = len(itemscores)

    return nitems / (nitems-1.) * (1 - itemvars.sum() / tscores.var(ddof=1))
"
10687,34732,"Execute a block of python code with exec, capturing all its output?","import sys
from StringIO import StringIO

buffer = StringIO()
sys.stdout = buffer

exec ""print 'Hello, World!'""

#remember to restore the original stdout!
sys.stdout = sys.__stdout__

print buffer.getvalue()
"
35362,67198,Convolutional neural network: how to train it? (unsupervised),"    network = self._output_layer
    prediction = lasagne.layers.get_output(network)
    loss = lasagne.objectives.categorical_crossentropy(prediction, target_var)
    loss = loss.mean()

    params = lasagne.layers.get_all_params(network, trainable=True)
    updates = lasagne.updates.sgd(loss, params, self.LEARN_RATE)
    givens = {
        states: current_states,
        expected: agents_expected_reward,
        real_rewards: rewards
    }
    train_fn = theano.function([input_var, target_var], loss,
                                    updates=updates, on_unused_input='warn',
                                    givens=givens,
                                    allow_input_downcast='True')
    train_fn(current_states, agents_expected_reward)
"
28091,36948,cx_Oracle not returning milliseconds for 1900-01-01 00:00:00.000000,"from datetime import datetime

now = datetime.now()
print now
# >>> 2013-11-28 15:34:47.223000
now = now.replace(microsecond=0) # Remove milliseconds
print now
# >>> 2013-11-28 15:34:47
print now.strftime('%Y-%m-%d %H:%M:%S.%f')
# >>> 2013-11-28 15:34:47.000000
"
23846,63416,copying data to excel using python (xlwt),"for i, j in enumerate(fint):
    worksheet.write(globdat.cycle, i, j)
"
29733,29244,How to inherit of this class,"#!/usr/bin/python
# -*- coding: ISO-8859-1 -*-
from gi.repository import GLib, Gtk, Gio
import sys

from gi.repository import  Gdk
from gi.repository.GdkPixbuf import Pixbuf, InterpType

class MyAbout(Gtk.AboutDialog):
    __gtype_name__ = 'MyAbout' # nom pour css
    def __init__(self,title='',version=""1.0"",\
                 authors=[""Francis""],\
                 name=""PyGObject Tutorial"",\
                 comment=""New tutorial on using Python with GTK+ 3"",\
                 website=""http://www.learngtk.org/"",\
                 label=""LearnGTK Website"",\
                 filename=None,\
                 size_x=100, size_y=100):
        Gtk.AboutDialog.__init__(self)
        self.set_title(title)
        self.set_version(version)
        self.set_authors(authors)
        if filename is not None:
            file = filename
        else:
            file = ""/home/francis/Documents/Python-linux/demo_gtk3/battery.png""
        try:
            pixbuf = Pixbuf.new_from_file_at_size(file,size_x, size_y)
            self.set_logo(pixbuf)
        except:
            self.set_name(name)
        self.set_comments(comment)
        self.set_website(website)
        self.set_website_label(label)

__version__ = ""V1_30""

class MyApp_root(object):
    """""" just a little app with few menu """"""
    def __init__(self):
        GLib.set_application_name('My App')
        self.app = Gtk.Application.new('org.example.test', 0)
        self.app.connect('startup', self.on_app_startup)
        self.app.connect('activate', self.on_app_activate)
        self.app.connect('shutdown', self.on_app_shutdown)

    def add_sub_menu(self,texte, menu):
        """""" just add submenu to menu return need reference to sub_menu""""""
        submenu = Gio.Menu()
        menu.append_submenu(texte, submenu)
        return submenu

    def add_menu_bar(self,app):
        """""" just add function menubar app need refernce to app_menu""""""
        menu_bar = Gio.Menu()
        app.set_menubar(menu_bar)
        return menu_bar

    def add_section(self,app):
        """""" just add a section
        note between 2 sections there is a separator""""""
        section = Gio.Menu()
        app.append_section(None, section)
        return  section

    def add_simple_action(self, app, name, callback):
        """""" in order to create callback fonction linked menu""""""
        action = Gio.SimpleAction.new(name, None)
        action.connect('activate', callback)
        app.add_action(action)

    def add_menuitem(self,section,text,link,attribut_type=None, attribut_value=None):
        """""" just add a item with parameter """"""
        item = Gio.MenuItem.new(text,link)
        if attribut_type is not None:
            # example item.set_attribute_value(""accel"", GLib.Variant(""s"", ""<Control>Q""))
            item.set_attribute_value(attribut_type, attribut_value)
        section.append_item(item)

    def run(self, argv):
        """""" in order to run class """"""
        self.app.run(argv)

    def insert_custom_menu(self):
        """""" in order to add custom menu later""""""
        pass

    def insert_custom_submenu_first(self):
        """""" in order to add something in the first submenu before Quit """"""
        ## current section is self.custom_section
        pass

    def insert_custom_submenu_last(self):
        """""" in order to add something in the last submenu before Quit """"""
        ## current section is self.custom_section_last
        pass

    def on_app_startup(self, app):
        """""" auto start app in window, set menu and call back
        standard design in python callback action  is action_cb""""""
        self.window = Gtk.ApplicationWindow.new(app)
        self.window.set_default_size(640, 480)
        self.window.set_title('AppMenu Demo')
        app.add_window(self.window)
        # # add Appmenu to app 
        self.app_menu = Gio.Menu()
        # insert something in the first submenu in dedicated section
        self.custom_section = self.add_section(self.app_menu)

        self.insert_custom_submenu_first()
        # last section to quit action
        section_last = self.add_section(self.app_menu)
        self.add_menuitem(section_last,'Quit', 'app.quit',""accel"", GLib.Variant(""s"", ""<Control>Q""))

        # it's necessary to link app-menu to app after section definition if not, accelerator don't operate
        app.set_app_menu(self.app_menu)

        self.add_simple_action(app,'quit',self.quit_cb)
        self.add_simple_action(app,'histo',self.histo_cb)
        self.add_simple_action(app,'about',self.about_cb)
        self.add_simple_action(app,'help',self.help_cb)
        # # Menu bar attached app
        self.menu_bar = self.add_menu_bar(app)
        # planed if custum menu 
        self.insert_custom_menu()
        #---make submenu1
        self.submenu1 = self.add_sub_menu('Miscellaneous',self.menu_bar)
        #---make section 3
        section3 = self.add_section(self.submenu1)
        #---item management 
        self.add_menuitem(section3,'Help', 'app.help',""accel"", GLib.Variant(""s"", ""<Control>H""))
        self.add_menuitem(section3,'About', 'app.about')
        self.add_menuitem(section3,'Historic version', 'app.histo')
        ## last section dedicated to custom add in last submenu
        self.custom_section_last= self.add_section(self.submenu1)
        self.insert_custom_submenu_last()

    def on_app_activate(self, app):
        self.window.show_all()

    def on_app_shutdown(self, app):
        pass

    def histo_cb(self, action, data=None):
        print 'historique des versions'
        print 'Version 1.30 add root class with basic menu '
        print '#Version 1.31 > a class inherit MyApp_root and try to add something'

    def about_cb(self, action, data=None):
        """""" about app""""""
        about = MyAbout(version=__version__)
        about.run()

    def help_cb(self, action, data=None):
        """""" in order to help user """"""
        print ""aide non developpe""

    def quit_cb(self, action, data=None):
        self.app.quit()

class MyAppNew(MyApp_root):
    """""" inherit class MyApp_root """"""
    def __init__(self):
        MyApp_root.__init__(self);

    def run(self, argv):
        """""" in order to run class """"""
        self.app.run(argv)

    def insert_custom_submenu_first(self):
        """""" in order to add something in the first submenu before Quit """"""
        ## current section is self.custom_section
        self.add_menuitem(self.custom_section,'something 1', 'app.work1')     
        self.add_simple_action(self.app,'work1',self.work1_cb)

    def insert_custom_menu(self):
        """""" custom menu in child class""""""
        submenu1 = self.add_sub_menu('Miscellaneous next',self.menu_bar)
        # # add section to submenu
        section1 = self.add_section(submenu1)
        # add item to section
        self.add_menuitem(section1,'work hard', 'app.work')     
        self.add_simple_action(self.app,'work',self.work_cb)

    def insert_custom_submenu_last(self):
        """""" in order to add something in the last submenu before Quit """"""
        ## current section is self.custom_section_last
        self.add_menuitem(self.custom_section_last,'something in the last submenu', 'app.work2')     
        self.add_simple_action(self.app,'work2',self.work2_cb)

    def work_cb(self, action, data=None):
        print "" It's very hard for me to make a class inherit class MyApp_root""

    def work1_cb(self, action, data=None):
        print "" something 1""

    def work2_cb(self, action, data=None):
        print "" ready to do  something in the last submenu""
    # to adapt a new help
    def help_cb(self, action, data=None):
        print ""How to implement overwrite method in order to change action in child class here""


if __name__ == '__main__':
    app = MyAppNew()
    app.run(sys.argv)
"
31369,56611,repeatedly calling a method in list comprehension,"my_list = ['10', '100', '1,000', '10,000', '100,000']

int_list = [int(each_int.replace(',', '')) for each_int in my_list]

>>> print all(i*10==j for i,j in zip(int_list, int_list[1:]))
True
"
22548,10610,extract contents of regex,"title_search = re.search('<title>(.*)</title>', html, re.IGNORECASE)

if title_search:
    title = title_search.group(1)
"
16920,23221,boto.ec2.connection.EC2Connection.request_spot_instances() does not return boto.ec2.spotinstancerequest.SpotInstanceRequest,"In [120]: type(response[0])
Out[120]: boto.ec2.spotinstancerequest.SpotInstanceRequest
"
1758,36449,Modifying a variable from one function to another in Python,"def ATM():
    global mode
    pinNum = input('Please enter your 4 digit secret code: ')
    userBalance = float(dict2[pinNum])
    actions = {
        '1': balance,
        '2': withdraw,
        '3': deposit
    }
    while mode == 0:
        if pinNum in dict1:
            greet = input('Hello {}, please enter 1 to check your balance, 2 to make a withdrawal, 3 to make a deposit, or 4 to end your session: '.format(dict1[pinNum]))
        if greet == '4':
            break
        else:
            userBalance = actions.get(greet)(userBalance) or userBalance

def balance(userBalance):
    print('Your current balance is {}.'.format(userBalance))


def deposit(userBalance):
    amount = input('Please enter the amount you wish to be deposited: ')
    userBalance += float(amount)
    return userBalance


def withdraw(userBalance):
    amount = input('Please enter the amount you wish to withdraw"" ')
    if userBalance - float(amount) < 0:
             print('You do not have sufficient funds.')
    else:
        userBalance -= float(amount)
    return userBalance
"
16521,42313,Python Removing Duplicates in a String Using in and not in,"withDups = ""The Quick Brown Fox Jumped Over The Lazy Dog""
withoutDups = """"

for letter in withDups:
    if letter not in withoutDups:
        withoutDups += letter

print withoutDups
"
3135,28453,Python - converting textfile contents into dictionary values/keys easily,"f = open(filepath, 'r')
answer = {}
for line in f:
    k, v = line.strip().split('=')
    answer[k.strip()] = v.strip()

f.close()
"
17852,4955,python context of passed-to-class function,"def __init__(self, prop, fun):
    self.prop = prop
    self.fun = types.MethodType(fun, self)
"
7070,75418,Python - MySQLdb - data not inserted into table,"cursor = db.cursor()
cursor.execute(""INSERT INTO pybank (account_number,user_name, user_age, user_dob, amount) VALUES (%s, %s, %s, %s, %s)"", (self.account_number + 1, self.user_name, self.user_age, self.user_dob, self.total_amount))
"
10647,29667,Xlrd very slow opening excel file,"import xlrd

def processExcel(excelFile):
    excelData = xlrd.open_workbook(excelFile, on_demand=True)
    sheets = excelData.sheet_names()
    print sheets
"
18446,54160,Examining large log files in python,"# Generator; fetch specific rows from log file
def parse_log(filename):
    reg = re.prepare( '...')

    with open(filename,'r') as f:
       for row in f:
           match = reg.match(row)
           if match:
               yield match.group(1)

for i in parse_log('web.log'):
    pass # Do whatever you need with matched row
"
37977,43423,Extending weakref proxy/Copying behaviour,"$a = proxy([1,2,3])
$b = a
$print type(b)   
>>list
"
35119,2833,Python Django simple site,"from BaseHTTPServer import BaseHTTPRequestHandler, HTTPServer

class Handler(BaseHTTPRequestHandler):
    def do_GET(self):
        self.send_response(200)
        self.send_header(""Content-type"", ""text/html"")
        self.end_headers()

        self.wfile.write(""magic content goes here"")

if __name__==""__main__"":
    try:
        server = HTTPServer(("""", 8080), Handler)
        server.serve_forever()
    except KeyboardInterrupt:
        server.socket.close()
"
26720,4370,how to tell cgi to stop waiting,"import sys
sys.stdout.close()
sys.stderr.close()
"
16525,27034,python: removing first instance of a specific character using regex,"s = '| | +-out\windows-x86-MD-mbcs-vs2008-rel\bin\VisualStudio08-32bit.exe'
print s.split('-', 1)[1]
# out\windows-x86-MD-mbcs-vs2008-relin\VisualStudio08-32bit.exe
"
15191,22595,Getting NameError when calling function in constructor,"class PrintName:
    def __init__(self, value):
        self._value = value
        printName(self._value)

def printName(value):
    for c in value:
    print c
"
15814,27285,Comparaison of two list in python,">>> my_string = ""apple,orange,kiwi,mange""
>>> my_list = [""kiwi"", ""apple"", ""mange"", ""orange""]
>>> set(my_list).issubset(my_string.split(','))
True
"
14106,81020,Tracing back foreign-keys,"self.runner_set.select_related('person')
"
26184,20807,How can I display and then delete a random string from a list?,"import random
bingo=[""H"", ""He"", ""C"", ""O""]
random.shuffle(bingo)
for item in bingo:
    if input(""Bingo?"") == ""no"":
        print item
    else:
        break
"
15428,80450,Python: Finding a minimum value according to a dictionary,">>> costs = { '1': 1, '2': 2, '3': 3 }
>>> open_set = set( ['1','2'] )
>>> min(open_set,key=lambda x:costs[x])
'1'
"
9561,43405,Python - Is there a way to trace back the current position of a file object by one line,"class SmartReader(object):
    def __init__(self, file):
       self.file = file
       self.lastline = None
    def readline(self):
       if self.lastline is not None:
          ln = self.lastline
          self.lastline = None
          return ln
       return self.file.readline()
    def unreadline(self, line):
       self.lastline = line           


     ...


    fd = SmartReader(open(""file.txt""))
    readMore = True
    while readMore:
       line = fd.readline()
       if its_newSeq():
          fd.unreadline(line)
          close_the_previous_sequence()
       else:
          process_the_line()
"
39043,14307,Python - transform a list,"L = [['22', '14']]
M = [ int(i) for i in L[0] ]
"
6637,7479,How to use lines with arrow in pydot,"graph = pydot.Dot(graph_type='digraph')
"
11925,45970,Inserting data into multiple columns in MySQL table from python,"week1 = xrange(1, 101) #for column1
week2 = xrange(1, 101) #for column2

cur.executemany(""INSERT INTO stud (classID, othercolumn) VALUES(%s, %s)"", zip(week1, week2))
db.commit()
"
8979,27357,Norm along row in pandas,"np.sqrt(np.square(df).sum(axis=1))
"
34006,20209,Processing files line-by-line,"with open(fastaname,'r') as fastafile:
    with open(blastfilename,'r') as blastfile:
        for line in blastfile:
            fastaseq = '' # or whatever data type this is 
            while True:  
                fastaline = fastafile.readline()[:-1]  
                if fastaline[0]=='>':  
                    break  
            fastaseq += fastaline
        somefunction(line,fastaseq)
"
37124,32676,Seeking a different way in using Reflection or Introspection in Python,"import types
def instance_has_method(instance, name):
    try:
        attr = getattr(instance, name)
        return isinstance(attr, types.FunctionType)
    except AttributeError:
        return False
"
18936,4253,Python: using function on 2 elements of different 2d numpy arrays,"sobelx = cv2.Sobel(smoothed,cv2.CV_64F,1,0,ksize=-1)
sobely = cv2.Sobel(smoothed,cv2.CV_64F,0,1,ksize=-1)

self.gradientmap = numpy.sqrt (sobelx ** 2 + sobely ** 2)
self.gradientmap[self.gradientmap> 255] = 255
"
3415,76221,PyQt keyPressEvent not triggered from QDialog,"class KpeWindow(QWidget):
    def __init__(self, parent=None):
        QWidget.__init__(self,parent)
        main = QVBoxLayout(self)

        label = QLabel(self)
        label.setText('Test the keyPressEvent')
        main.addWidget(label)

        self.adjustSize()
        self.setLayout(main)

    def keyPressEvent(self, event):
        QMessageBox.warning(self, 'MDI', 'keyPressEvent')
        self.parent().keyPressEvent(event)

class MainWindow(QMainWindow):
    def __init__(self):
        QMainWindow.__init__(self)
        self.setWindowTitle('KeyPressEvent Test')
        main = QVBoxLayout(self)
        child = KpeWindow(self)
        child.setFocusPolicy(Qt.StrongFocus)
        self.setFocusProxy(child)
        main.addWidget(child)
        child.setFocus(True)

        self.adjustSize()
        self.setLayout(main)
"
21647,41080,Build a simple parser that is able to parse different date formats using PyParse,"from pyparsing import CaselessKeyword, quotedString, removeQuotes
from dateutil.parser import parse as parse_date

dp = (
    CaselessKeyword('from') + quotedString.setParseAction(removeQuotes)('from') +
    CaselessKeyword('to') + quotedString.setParseAction(removeQuotes)('to')
)

res = dp.parseString('from ""jan 20"" to ""apr 5""')
from_date = parse_date(res['from'])
to_date = parse_date(res['to'])
# from_date, to_date == (datetime.datetime(2015, 1, 20, 0, 0), datetime.datetime(2015, 4, 5, 0, 0))
"
25027,56811,Obtaining original destination ip in cherrypy,"#!/usr/bin/env python


import cherrypy


config = {
  'global' : {
    'server.socket_host' : '127.0.0.1',
    'server.socket_port' : 8080,
    'server.thread_pool' : 8
  },
}


class App:

  @cherrypy.expose
  def index(self):
    '''For caveats and details on the slippery slope, take a look at ws4py
    https://github.com/Lawouach/WebSocket-for-Python/blob/master/ws4py/server/cherrypyserver.py
    '''
    print(cherrypy.serving.request.rfile.rfile._sock)

    return 'Make sure you know what you are doing.'


if __name__ == '__main__':
  cherrypy.quickstart(App(), '/', config)
"
12312,39233,In Django how do I notify a parent when a child is saved in a foreign key relationship?,"from django.db.models.signals import post_save

class Activity(models.Model):
    name = models.CharField(max_length=50, help_text='Some help.')
    entity = models.ForeignKey(CancellationEntity)

    @classmethod
    def cancellation_occurred (sender, instance, created, raw):
        # grab the current instance of Activity
        self = instance.activity_set.all()[0]
        # do something
    ...


class Cancellation(models.Model):
    activity = models.ForeignKey(Activity)
    date = models.DateField(default=datetime.now().date())
    description = models.CharField(max_length=250)
    ...

post_save.connect(Activity.cancellation_occurred, sender=Cancellation)"
37137,51036,Can I use fdpexpect on a file that's currently being written to?,"from subprocess import Popen, PIPE, STDOUT
from threading  import Thread
import os
import pexpect.fdpexpect

# tee and teed_call are based on http://stackoverflow.com/a/4985080/2073595

def tee(infile, *files):
    """"""Print `infile` to `files` in a separate thread.""""""
    def fanout(infile, *files):
        for line in iter(infile.readline, ''):
            for f in files:
                f.write(line)
        infile.close()
    t = Thread(target=fanout, args=(infile,)+files)
    t.daemon = True
    t.start()
    return t

def teed_call(cmd_args, files, **kwargs):
    p = Popen(cmd_args,
              stdout=PIPE,
              stderr=STDOUT,
              **kwargs)
    threads = []
    threads.append(tee(p.stdout, *files))
    return (threads, p)

with open(""log.txt"", 'w') as logf:
    # Create pipes for unbuffered reading and writing
    rpipe, wpipe = os.pipe()
    rpipe = os.fdopen(rpipe, 'r', 0)
    wpipe = os.fdopen(wpipe, 'w', 0)

    # Have pexpect read from the readable end of the pipe
    pobj = pexpect.fdpexpect.fdspawn(rpipe)

    # Call some script, and tee output to our log file and
    # the writable end of the pipe.
    threads, p = teed_call([""./myscript.sh""], [wpipe, logf])

    # myscript.sh will print 'hey'
    pobj.expect(""hey"")

    # orderly shutdown/cleanup
    for t in threads: t.join()
    p.wait()
    rpipe.close()
    wpipe.close()
"
32804,37606,"String split and preserve the contents inside the quotation "" "" - Python",">>> from xml.etree.ElementTree import fromstring
>>> my_string = '<Address AddressLanguage=""eng"" ISO=""TR"" Country=""XYZ"" City=""ADENA"" Street=""CEYHAN YLLU PUTERI "" HouseNo=""5.KM POLIS GANGAI KARŞISI YÜßÜĞpp"" ZIP=""70310""/>\n'
>>> xml = fromstring(my_string)
>>> xml.tag
'Address'
>>> xml.attrib
{'City': 'ADENA', 'HouseNo': '5.KM POLIS GANGAI KARŞISI YÜßÜĞpp', 'ISO': 'TR', 'Street': 'CEYHAN YLLU PUTERI ', 'AddressLanguage': 'eng', 'Country': 'XYZ', 'ZIP': '70310'}
"
36162,71349,Parsing desired fields from output using regex,"import re
print re.findall(r'\s*(?P<id>\d+)\s+(?P<enb_adr>\d+\.\d+\.\d+\.\d+)\s+(?P<mme_adr>\d+\.\d+\.\d+\.\d+)\s+(?P<facing>\w+)\s+(?P<state>\w+)\s*', the_text_above)
"
22923,30502,I need help changing integers to words in Python 3.4.3,"words_num_dict = {1: 'one', 2: 'two', 3: 'three', 4: 'four', 5: 'five'}
num = int(input('Enter a number (2-5): '))
count = 2
while count <= num:
    if num > 5:
        print('invalid.')
        num = int(input('Enter a number (2-5): '))
    print(words_num_dict[count])
    count = count + 1
"
6302,16852,How to find user-defined minimum and maximum value in a list of tuples,">>> a_list = [(20, 1), (16, 0), (21, 0), (20, 0), (24, 0), (25, 1)]
>>> a = min(x[1] for x in a_list)
>>> max(b for b in a_list if b[1] == a)
(24, 0)
>>>
"
37685,29165,Series dictionary with Cumulative result of other columns,"d = dict()
column = list()
for _, a, b in df.itertuples():
    if b != '0':
        d[a] = b
    else:
        d.pop(a, None)
    column.append(d.copy())

df['C'] = column
"
21996,52909,how to specify local destination folder when retrieving files from FTP,"import ftplib
import os
import os
import socket

HOST = 'ftp.server.com'
DIRN = 'DirectoryInFTPServer'
filematch = '*.xml'
username = 'username'
password = 'password'
storetodir='DirectoryToStoreFilesIn' ####
def main():
    try:
        f = ftplib.FTP(HOST)
    except (socket.error, socket.gaierror), e:
        print 'ERROR: cannot reach ""%s""' % HOST
        return
    print '*** Connected to host ""%s""' % HOST

    try:
        f.login(username, password)
    except ftplib.error_perm, e:
        print 'ERROR: cannot login'
        f.quit
        return
    print '*** Logged in successfully'

    try:
        f.cwd(DIRN)
    except ftplib.error_perm, e:
        print 'ERROR: cannot CD to ""%s""' % DIRN
        f.quit()
    print '*** Changed to folder: ""%s""' % DIRN

    currdir=os.getcwd() ####

    try:
        os.chdir(storetodir)####
        s = 0;

        for filename in f.nlst(filematch):
            fhandle = open(filename, 'wb')
            print 'Getting ' + filename
            f.retrbinary('RETR ' + filename, fhandle.write)
            s = s + 1
    except ftplib.error_perm, e:
        print 'ERROR: cannot read file ""%s""' % filename
        os.unlink(filename)
    os.chdir(currdir) ####
    f.quit()
    print 'Files downloaded: ' + str(s)
    return

if __name__ == '__main__':
    main()
"
30347,49927,How can I open two log files in one HTML page in Django?,"class LogTemplateView(TemplateView):
    template_name = ""mylog.html""
    apache_log_file = ""apache.error.log""
    django_log_file = ""django.log""

    def get_context_data(self, **kwargs):
        """"""
        This has been overriden to give the template access to the log files.
        i.e. {{ apache_log_file }} and {{ django_log_file }}
        """"""
        context = super(LogTemplateView, self).get_context_data(**kwargs)
        context[""apache_log_file""] = self.tail(open(self.apache_log_file, ""r""), 20)
        context[""django_log_file""] = self.tail(open(self.django_log_file, ""r""), 20)
        return context

    # Credit: Armin Ronacher - http://stackoverflow.com/a/692616/1428653
    def tail(f, n, offset=None):
        """"""Reads a n lines from f with an offset of offset lines.  The return
        value is a tuple in the form ``(lines, has_more)`` where `has_more` is
        an indicator that is `True` if there are more lines in the file.
        """"""
        avg_line_length = 74
        to_read = n + (offset or 0)

        while 1:
            try:
                f.seek(-(avg_line_length * to_read), 2)
            except IOError:
                # woops.  apparently file is smaller than what we want
                # to step back, go to the beginning instead
                f.seek(0)
            pos = f.tell()
            lines = f.read().splitlines()
            if len(lines) >= to_read or pos == 0:
                return lines[-to_read:offset and -offset or None], \
                       len(lines) > to_read or pos > 0
            avg_line_length *= 1.3
"
16708,64309,Django REST Framework: creating hierarchical objects using URL arguments,"# Assuming list and detail URLs like:
#   /v1/objects/<parent_pk>/subobjects/
#   /v1/objects/<parent_pk>/subobjects/<pk>/
def pre_save(self, obj):
    parent = models.MainObject.objects.get(pk=self.kwargs['parent_pk'])
    obj.parent = parent
"
23474,773,"When I write a python script to run Devenv with configure ""Debug|Win32"" it does nothing","from subprocess import Popen, PIPE

cmd = [
    r""C:\Program Files\Microsoft Visual Studio 8\Common7\IDE\devenv"", # in raw r""blah"" string, you don't need to escape backslashes
    ""solution.sln"",
    ""/build"",
    ""Debug|Win32""
]

p = Popen(cmd, stdout=PIPE, stderr=PIPE)
out = p.stdout.read() # reads full output into string, including line breaks

print out
"
13386,71283,Filter list of dictionaries with duplicate values at a certain key,"dic=[{'a':1,'b':2,'c':3},{'a':9,'b':2,'c':2},{'a':5,'b':1,'c':2}]

filt_dic = []
for d in dic:
    if not any(d[k] in seen[k] for k in d):
        filt_dic.append(d)
        for k in d:
            seen[k].add(d[k])

print(filt_dic)
"
4490,69521,How to specify a fill character to string and split it by chunk?,"def num2txt(num, k=3):

    line = str(num)
    padding = len(line)%k
    if padding:
        line = '0'*(k-padding) + line
    line = [line[i:i+k] for i in range(0, len(line), k)]

    return line
"
10899,19107,Fast combinatoric generator in Python,"# all subsets of k or less elements of 1..n
def subsets4(n,k):
  a = [ 0 ] * k
  i = 0
  while i >= 0:
    a[i] += 1
    yield a[0:i+1]
    r = a[i]+1
    i += 1
    while i < k and r <= n:
      a[i] = r
      yield a[0:i+1]
      i += 1
      r += 1
    i -= 1
    if a[i] >= n:
      i -= 1

# all subsets of k or less elements of 1..n with max difference <= w
def subsets5(n,k,w):
  a = [ 0 ] * k
  i = 0
  while i >= 0:
    a[i] += 1
    yield a[0:i+1]
    r = a[i]+1
    i += 1
    while i < k and r <= n and r-a[0] <= w:
      a[i] = r
      yield a[0:i+1]
      i += 1
      r += 1
    i -= 1
    if a[i] >= n or a[i]+1-a[0] > w:
      i -= 1

# all subsets of 1..n having exactly k elements
def subsets(n,k):
  a = range(1,k+1)
  while a[0] <= n+1-k:
    yield a
    # find i
    i = k-1
    while i >= 0 and a[i]+k-i >= n+1: i -= 1
    r = a[i]
    a[i] += 1
    j = 2
    i += 1
    while i < k:
      a[i] = r + j
      i += 1
      j += 1

# all subsets of 1..n having exactly k elements and whose max
# difference is w
def subsets2(n,k,w):
  if k > w: return
  a = range(1,k+1)
  while a[0] <= n+1-k:
    yield a
    i = k-1
    while i >= 0 and (a[i]+k-i >= n+1 or a[i]+k-i-a[0] > w) : i -= 1
    r = a[i]
    a[i] += 1
    j = 2
    i += 1
    while i < k:
      a[i] = r + j
      i += 1
      j += 1

def test(n,k,w):
  s1 = [ s for s in subsets4(n,k) if s[-1] - s[0] <= w ]
  s2 = [ s for s in subsets5(n,k,w) ]
  if s1 == s2:
    print ""OK"", n,k,w
    return 0
  else:
    print ""NOT OK"", n, k, w
    return 1 

# for s in subsets2(10,3,4): print s
# for s in subsets(10,3): print s
def megatest():
  failed = 0
  for n in xrange(10,20):
    for k in xrange(1,n+1):
      for w in xrange(k,n+1):
        failed += test(n,k,w)
  print ""failed:"", failed
"
31875,66260,Python 3.3 Mysql Connector,"""""""This pure Python MySQL client provides a DB-API to a MySQL database by talking directly to the server via the binary client/server protocol.""""""

import pymysql
conn = pymysql.connect(host='127.0.0.1', unix_socket='/tmp/mysql.sock', user='root', passwd=None, db='mysql')
cur = conn.cursor()
cur.execute(""SELECT Host,User FROM user"")
for response in cur:
    print(response)
cur.close()
conn.close()
"
16023,51813,Making two columns out of a single variable?,"<style>
.column{
    width:50%;
}
</style>

{% for form in forms %}
<div class=""column"" style=""float:{% cycle 'left' 'right' %}"">
     {{ form }}
</div>
{% endfor %}
"
33075,6106,Print key and value pairs of dictionary separately in ajax resposne,"$.each(response.docs, function(index, element) {
  $.each(element, function(key, value) {
    console.log(""At index"", index, ""key:"", key, ""value:"", value);
  });
});
"
13841,21816,Weighted Degree Distribution in Python's graph_tool,"d = g.degree_property_map(""out"", weight)   # weight is an edge property map
bins = linspace(d.a.min(), d.a.max(), 40)  # linear bins
h = vertex_hist(g, d, bins)
"
6183,69544,How to stop python Tkinter Entry Widget stretching in grid,"entry = Entry(parent, width=20)
"
6239,37226,Using generators to read two files in time priority,"def generate_timeline(file):
    for line in file:
         time1 = extract_time_from_line(line)
         yield time1, line


for (time1, line) in heapq.merge(generate_timeline(file1), generate_timeline(file2)):
    process(line)
"
14199,46661,The converted .py file of Qt is not working for opening new window,"from PySide import QtCore, QtGui

try:
  _fromUtf8 = QtCore.QString.fromUtf8
except AttributeError:
  _fromUtf8 = lambda s: s

class Ui_MainWindow(object):
  def setupUi(self, MainWindow):
    self.mainwindow=MainWindow
    MainWindow.setObjectName(_fromUtf8(""MainWindow""))
    MainWindow.resize(400, 300)
    self.centralWidget = QtGui.QWidget(MainWindow)
    self.centralWidget.setObjectName(_fromUtf8(""centralWidget""))
    self.mMyButton = QtGui.QPushButton(self.centralWidget)
    self.mMyButton.setGeometry(QtCore.QRect(140, 90, 99, 27))
    self.mMyButton.setObjectName(_fromUtf8(""mMyButton""))
    MainWindow.setCentralWidget(self.centralWidget)
    self.menuBar = QtGui.QMenuBar(MainWindow)
    self.menuBar.setGeometry(QtCore.QRect(0, 0, 400, 25))
    self.menuBar.setObjectName(_fromUtf8(""menuBar""))
    MainWindow.setMenuBar(self.menuBar)
    self.mainToolBar = QtGui.QToolBar(MainWindow)
    self.mainToolBar.setObjectName(_fromUtf8(""mainToolBar""))
    MainWindow.addToolBar(QtCore.Qt.TopToolBarArea, self.mainToolBar)
    self.statusBar = QtGui.QStatusBar(MainWindow)
    self.statusBar.setObjectName(_fromUtf8(""statusBar""))
    MainWindow.setStatusBar(self.statusBar)

    self.retranslateUi(MainWindow)
    QtCore.QMetaObject.connectSlotsByName(MainWindow)
    self.mMyButton.clicked.connect(self.showNewWindow)

  def retranslateUi(self, MainWindow):
    MainWindow.setWindowTitle(QtGui.QApplication.translate(""MainWindow"", ""MainWindow"", None, QtGui.QApplication.UnicodeUTF8))
    self.mMyButton.setText(QtGui.QApplication.translate(""MainWindow"", ""Addition"", None, QtGui.QApplication.UnicodeUTF8))


  def showNewWindow(self):
    ui = Ui_NewWindow()
    ui.setupUi(QtGui.QDialog())
    ui.NewWindow.exec_()


try:
  _fromUtf8 = QtCore.QString.fromUtf8
except AttributeError:
  _fromUtf8 = lambda s: s

class Ui_NewWindow(object):
  def setupUi(self, NewWindow):
    self.NewWindow=NewWindow
    self.NewWindow.setObjectName(_fromUtf8(""NewWindow""))
    self.NewWindow.resize(439, 225)
    self.centralwidget = QtGui.QWidget(NewWindow)
    self.centralwidget.setObjectName(_fromUtf8(""centralwidget""))
    self.pushButton_2 = QtGui.QPushButton(self.centralwidget)
    self.pushButton_2.setGeometry(QtCore.QRect(170, 140, 99, 27))
    self.pushButton_2.setObjectName(_fromUtf8(""pushButton_2""))
    self.widget = QtGui.QWidget(self.centralwidget)
    self.widget.setGeometry(QtCore.QRect(40, 30, 365, 89))
    self.widget.setObjectName(_fromUtf8(""widget""))
    self.verticalLayout = QtGui.QVBoxLayout(self.widget)
    #self.verticalLayout.setMargin(0)
    self.verticalLayout.setObjectName(_fromUtf8(""verticalLayout""))
    self.horizontalLayout_2 = QtGui.QHBoxLayout()
    self.horizontalLayout_2.setObjectName(_fromUtf8(""horizontalLayout_2""))
    self.label_3 = QtGui.QLabel(self.widget)
    self.label_3.setObjectName(_fromUtf8(""label_3""))
    self.horizontalLayout_2.addWidget(self.label_3)
    self.lineEdit = QtGui.QLineEdit(self.widget)
    self.lineEdit.setObjectName(_fromUtf8(""lineEdit""))
    self.horizontalLayout_2.addWidget(self.lineEdit)
    self.label_4 = QtGui.QLabel(self.widget)
    self.label_4.setObjectName(_fromUtf8(""label_4""))
    self.horizontalLayout_2.addWidget(self.label_4)
    self.lineEdit_2 = QtGui.QLineEdit(self.widget)
    self.lineEdit_2.setObjectName(_fromUtf8(""lineEdit_2""))
    self.horizontalLayout_2.addWidget(self.lineEdit_2)
    self.verticalLayout.addLayout(self.horizontalLayout_2)
    self.pushButton = QtGui.QPushButton(self.widget)
    self.pushButton.setObjectName(_fromUtf8(""pushButton""))
    self.verticalLayout.addWidget(self.pushButton)
    self.horizontalLayout = QtGui.QHBoxLayout()
    self.horizontalLayout.setObjectName(_fromUtf8(""horizontalLayout""))
    self.label = QtGui.QLabel(self.widget)
    self.label.setObjectName(_fromUtf8(""label""))
    self.horizontalLayout.addWidget(self.label)
    self.label_2 = QtGui.QLabel(self.widget)
    self.label_2.setObjectName(_fromUtf8(""label_2""))
    self.horizontalLayout.addWidget(self.label_2)
    self.verticalLayout.addLayout(self.horizontalLayout)
    self.menubar = QtGui.QMenuBar(NewWindow)
    self.menubar.setGeometry(QtCore.QRect(0, 0, 439, 25))
    self.menubar.setObjectName(_fromUtf8(""menubar""))

    self.statusbar = QtGui.QStatusBar(NewWindow)
    self.statusbar.setObjectName(_fromUtf8(""statusbar""))

    self.retranslateUi(NewWindow)
    QtCore.QMetaObject.connectSlotsByName(NewWindow)
    self.pushButton.clicked.connect(self.sum)


  def sum(self):
    summed = float(self.lineEdit.text()) + float(self.lineEdit_2.text())
    self.label_2.setText(str(summed))

  def retranslateUi(self, NewWindow):
    self.NewWindow.setWindowTitle(QtGui.QApplication.translate(""NewWindow"", ""MainWindow"", None, QtGui.QApplication.UnicodeUTF8))
    self.pushButton_2.setText(QtGui.QApplication.translate(""NewWindow"", ""Exit"", None, QtGui.QApplication.UnicodeUTF8))
    self.label_3.setText(QtGui.QApplication.translate(""NewWindow"", ""A = "", None, QtGui.QApplication.UnicodeUTF8))
    self.lineEdit.setText(QtGui.QApplication.translate(""NewWindow"", ""0.0"", None, QtGui.QApplication.UnicodeUTF8))
    self.label_4.setText(QtGui.QApplication.translate(""NewWindow"", ""B = "", None, QtGui.QApplication.UnicodeUTF8))
    self.lineEdit_2.setText(QtGui.QApplication.translate(""NewWindow"", ""0.0"", None, QtGui.QApplication.UnicodeUTF8))
    self.pushButton.setText(QtGui.QApplication.translate(""NewWindow"", ""Add"", None, QtGui.QApplication.UnicodeUTF8))
    self.label.setText(QtGui.QApplication.translate(""NewWindow"", ""Answer  : "", None, QtGui.QApplication.UnicodeUTF8))
    self.label_2.setText(QtGui.QApplication.translate(""NewWindow"", ""0.0"", None, QtGui.QApplication.UnicodeUTF8))


if __name__ == ""__main__"":
  import sys
  app = QtGui.QApplication(sys.argv)
  MainWindow = QtGui.QMainWindow()
  ui = Ui_MainWindow()
  ui.setupUi(MainWindow)
  MainWindow.show()
  sys.exit(app.exec_())
"
38704,65309,Need help working with self.MemoryDC in wxPython,"def Draw(self) :
    mdc = self.MemoryDC
    dc_width, dc_height = mdc.GetSizeTuple()
    text_width, text_height, descent, externalLeading = mdc.GetFullTextExtent(self.TextString)
    x = (dc_width  - text_width)  / 2
    y = (dc_height - text_height) / 2
    mdc.SetTextForeground('Blue')
    mdc.DrawText(self.TextString, x, y)
"
37144,49074,Comparing lists with min() based on out of order comparisons,"min(q, key = lambda x: (x[1],x[0]))
"
23371,25237,Regular expressions: How to filter for two things at once,"import re
input = [""xkcd"", ""word"", ""xml-""]
output = [i for i in input if re.match(r'(?=^[^aeiou]+$)^[a-z]+$', i)]
"
23843,70950,flat list as a result of list comprehension,"res_list_1 = [item for object in my_list for item in (object*2, object*3)]
"
7637,62335,"Salt initializes differently each time server starts, trouble with credentials database in python bottle and sqlite3","def new_user(name, password):
    salt = uuid.uuid4().hex
    hash = hashlib.sha512(password + salt).hexdigest()
    c.execute(""INSERT INTO Credentials(usernameDB,passhashDB,salt) VALUES(?,?,?)"",
              (name, hash, salt))

def check_login(name, password):
    c.execute(""SELECT salt, passhashDB FROM Credentials WHERE usernameDB = ?"",
              (name,))
    for row in c:
        salt = row[0]
        actual_hash = row[1]
        input_hash = hashlib.sha512(password + salt).hexdigest()
        if input_hash != actual_hash:
            raise Exception(""invalid password"")
    else:
        raise Exception(""invalid user name"")
"
25143,17997,max-Function for attributes of objects,"max_value = max(foo.value for foo in foos)
# instead of:
# max_value = max([foo.value for foo in foos])
"
5609,19152,Adding a variable number of sub-plots in a loop. add_subplot,"import matplotlib.pyplot as plt
from matplotlib.gridspec import GridSpec
peak = True
gs1 = GridSpec(1, 2)
for sub in gs1:
  #make axes for two default plots
  ax = plt.subplot(sub)
if peak == True:
  #move default plots to the left 
  gs1.update(right = .75)
  #add new plot
  gs2 = GridSpec(1, 1)
  #move plot to the right
  gs2.update(left = .8)
  ax = plt.subplot(gs2[0, 0])
plt.show()
"
19226,47943,Using the dig command in python,"import socket
import dns.resolver

# Basic query
for rdata in dns.resolver.query('www.yahoo.com', 'CNAME') :
    print rdata.target

# Set the DNS Server
resolver = dns.resolver.Resolver()
resolver.nameservers=[socket.gethostbyname('ns1.cisco.com')]
for rdata in resolver.query('www.yahoo.com', 'CNAME') :
    print rdata.target
"
3503,3749,Timed Threaded function as an attribute in a class,"pizza_act = use_action(function = mechanics.test()) #Wrong!
pizza_act = use_action(function = mechanics.test)  #Right
"
5310,77797,Django tables2 resize image in cell,"class ImageColumn(tables.Column):
    def render(self, value):
        return mark_safe('<img src=""/media/%s"" height=""50"" />' % escape(value))
"
37184,30132,How to play a audio file through http response in django(python)," def playAudioFile(request):
    fname=""C:\\test\\audio\\audio.mp3""
    f = open(fname,""rb"") 
    response = HttpResponse()
    response.write(f.read())
    response['Content-Type'] ='audio/mp3'
    response['Content-Length'] =os.path.getsize(fname )
    return response
"
24273,47391,"Python, How to organize a big function that relies on many external data to work","if 'foo' in inputString:
   line = regex()
   line = do_something_else()
elif 'bar' in inputString
   line = regex()
   line = do_something_a_little_different()
"
38008,24761,Operating on a huge table: group of rows at a time using python,"def process_name(name, data, output_file):
    group_by = {}
    for index, change in data:
        if index not in group_by:
            group_by[index] = []
        group_by[index].append(change)

    # do the step 1 filter logic here

    # do the step 2 filter logic here
    for index in group_by:
        if index == group_by[index]:
            # Because there is at least one ""no change"" this 
            # whole ""name"" can be thrown out, so return here.
            return

    output = []
    for index in group_by:
        output_file.write(""%s\t%s\t%s\n"" % (name, index, group_by[index]))

current_name = None
current_data = []

input_file = open(input_filename, ""r"")
output_file = open(output_filename, ""w"")
header = input_file.readline()
for row in input_file:
    cols = row.strip().split(""\t"")
    name = cols[0]
    index = cols[1]
    change = cols[2]
    if name != current_name:
        if name != None:
            process_name(current_name, current_data, output_file)
        current_name = name
        current_data = []

    current_data.append((index, change))

# process what's left in the buffer
if current_name is not None:
    process_name(current_name, current_data, output_file)

input_file.close()
output_file.close()
"
23012,22331,How to delete a value from 'ValuesListQuerySet' in django?,"User.objects.exclude(pk__in=Device.objects.values_list('user', flat=True).distinct())
"
24161,7588,How to collect values with the same keys in a list from the two dictionaries,">>> D1 = {'A':1,'B':2,'C':3,'D':4}
>>> D2 = {'A':10,'B':20,'X':3}
>>> {a:[b, c] for a, b in D1.items() for a1, c in D2.items() if a == a1}
{'B': [2, 20], 'A': [1, 10]}
>>> 
"
27424,7780,Remove index name in pandas,"In [16]: df
Out[16]:
         Column 1
foo
Apples          1
Oranges         2
Puppies         3
Ducks           4

In [17]: del df.index.name

In [18]: df
Out[18]:
         Column 1
Apples          1
Oranges         2
Puppies         3
Ducks           4
"
22240,5958,Get AWS Account ID from Boto,"import boto3

def get_aws_account_id(access_key, secret_key):
    sts = boto3.client(
        ""sts"", aws_access_key_id=access_key, aws_secret_access_key=secret_key,
    )
    user_arn = sts.get_caller_identity()[""Arn""]
    return user_arn.split("":"")[4]
"
29964,28890,Doubling binary digits,">>> x = 9
>>> bin(x)
'0b1001'
>>> y = int(bin(x)[2:], 4)*3
>>> bin(y)
'0b11000011'
"
21328,36504,How to write the function in a more pythonic way?,"mapping =dict([c[""name""],c[""id""]) for c in campaigns]) #save this ... dont recreate it all the time
print mapping[campaign_name] # get the id by campaign name
"
18601,8555,Python/Django Concatenate a string depending on whether that string exists,"parts = (1, 'a', 'b', 2, 'c', 'd', None, 'f')
# parts = (self.house, self.suf, self.unit, 
#           self.stex, self.stdir, self.stname, 
#           self.stdes, self.stdessuf)
' '.join(str(part) for part in parts if part is not None)
# '1 a b 2 c d e f'
"
20504,64410,python: dict as prototype/template for another dict - std.lib way to solve this?,"first = {'x':1, 'y':100, 'foo':'bar'}
second = dict(first, x=2, y=200) # {'y': 200, 'x': 2, 'foo': 'bar'}
"
5597,78672,Writing two lists with different length as columns to a data file,"with open(""test.txt"",""w"") as fin:
    #izip_longest create consecutive tuples of elements from the list of iterables
    #where if any of the iterable's length is less than the longest length of the
    #iterable, fillvalue is taken as default
    #If you need formatted output, you can use str.format
    #The format specifier here used specifies the length of each column
    #to be five and '^' indicates that the values would be center alligned
    for e in izip_longest(a,b,fillvalue=''):
         print >>fin,""{:^5} {:^5}"".format(*e)
         #if you are using Python 3.x
         #fin.write(""{:^5} {:^5}\n"".format(*e))
"
1465,68695,smoothing irregularly sampled time data,"def getAvgValues(data, avgSampleTime):
  lastTime = 0
  prevValsBuf = []
  prevValsStart = 0
  tot = 0
  for t, v in data:
    avgStart = t - avgSampleTime
    # remove too old values
    while prevValsStart < len(prevValsBuf):
      pt, pv = prevValsBuf[prevValsStart]
      if pt > avgStart:
        break
      tot -= pv
      prevValsStart += 1
    # add new item
    tot += v
    prevValsBuf.append((t, v))
    # yield result
    numItems = len(prevValsBuf) - prevValsStart
    yield (t, tot / numItems)
    # clean prevVals if it's time
    if prevValsStart * 2 > len(prevValsBuf):
      prevValsBuf = prevValsBuf[prevValsStart:]
      prevValsStart = 0
      # recalculate tot for not accumulating float precision error
      tot = sum(v for (t, v) in prevValsBuf)
"
21336,64814,How to get dictionary values having its keys as a list,"result=[dictionary[k] for k in keys if k in dictionary]
"
26834,12740,Add Character to Python regular exprsession,">>> mystring = 'Main St and I295'
>>> pattern = r'I(\d+)'
>>> re.sub(pattern, 'I-\g<1>', mystring)
'Main St and I-295'
"
23786,72441,Parse specific links in html using HTMLParser in python?,"from HTMLParser import HTMLParser
import urllib
# create a subclass and override the handler methods
class MyHTMLParser(HTMLParser):
def handle_starttag(self, tag, attrs):
    if(tag == 'a'):
        flag = 0
        for (key,value) in attrs:
                if(value == 'bullet medialink' and key == 'class'):
                    flag =1
                if(key == 'href' and flag == 1):    
                    print ""link : "",value
                    flag = 0        

p = MyHTMLParser()
f = urllib.urlopen(""sample.html"")
html = f.read()
p.feed(html)
p.close()
"
7633,55190,How much time is the garbage collector using?,"In [1]: import gc

In [2]: gc.set_debug(gc.DEBUG_STATS)

In [3]: gc.collect()
gc: collecting generation 2...
gc: objects in each generation: 159 2655 7538
gc: done, 10 unreachable, 0 uncollectable, 0.0020s elapsed.
"
36404,36522,Stripping 's (apostrophe s) from a string,">>> txt =""it's tail was big""
>>> txt.replace(""'s"", '').split()
['it', 'tail', 'was', 'big']
"
3616,71658,Creating a dictionary by using a C structure as an input in Python 2.3,"my_text = """"""{ ATTR_u,
  READ_WRITE | ATR_DFLAG_SELEQ | ATR_DFLAG_SCGALT,
  ATR_TYPE_ARST,
  NULL_VERIFY_DATATYPE_FUNC,
  verify_value_user_list
 }""""""

my_text = my_text.strip(""{}"")
my_list = [item.strip() for item in my_text.split("","")]
my_dict = {my_list[0]:my_list[1:]}
"
34688,81895,Use matplotlib Axes autoscaling without plotting anything,"np.random.seed(0)
y = np.random.normal(size=37, loc=2, scale=1.5)
fig, (ax1, ax2) = plt.subplots(ncols=2)
x = np.array([0] * y.shape[0])
ax1_lim = ((0, min(y)), (len(x), max(y)))
ax2_lim = ((0, min(y) * 328), (len(x), max(y) * 328))
ax1.update_datalim(ax1_lim)
ax2.update_datalim(ax2_lim)
ax1.autoscale()
ax2.autoscale()
"
2983,10440,Why counter tag is not working as expected in django?,"#Adapted from https://djangosnippets.org/snippets/2619/

@register.tag(name='counter')
def do_counter(parser, token):
    """"""
    Counter tag. Can be used to output and increment a counter.

    Usage:
    - {% counter %} to output and post-increment the counter variable
    - {% counter reset %} to reset the counter variable to 1
    - {% counter last %} to access the last counter variable without incrementing

    """"""
    try:
        tag_name, request = token.contents.split(None, 1)
    except ValueError:
        request = None

    if request == 'reset':
        reset = True
        last = False
    elif request == 'last':
        last = True
        reset = False
    else:
        reset = False
        last = False

    return CounterNode(reset, last)


class CounterNode(template.Node):
    def __init__(self, reset, last):
        self.reset = reset
        self.last= last

    def render(self, context):
        # When initializing or resetting, set counter variable in render_context to 1.
        if self.reset or ('counter' not in context.render_context):
            context.render_context['counter'] = 1

        # When resetting, we don't want to return anything
        if self.reset:
            return ''
        # When ask for last, return previous count
        if self.last:
            return context.render_context['counter']-1

        counter = context.render_context['counter']

        # Increment counter
        context.render_context['counter'] += 1

        # Return counter number
        return counter
"
39627,75333,Python check if list of keys exist in dictionary,"if all(name in grades for name in students):
    # whatever
"
9931,10581,python best way to output larges amount of formatted text,"tpl = """"""
<html>
    <head>
    </head>
    <body>
        <h1>Hello {name}</h1>
    </body>
</html>
""""""
print tpl.format(name=""World"")
"
38687,4389,How to generate a combined Q object from a list?,"limit = reduce(operator.or_, (Q(**condition) for condition in model_list))
"
9157,22684,x axis with duplicate values (loading profile) plot in matplotlib,"

def plotter(y1,y2,y1name,y2name):
    averageY1=float(sum(y1)/len(y1))
    averageY2=float(sum(y2)/len(y2))
    fig = plt.figure()
    ax1 = fig.add_subplot(111)  
    ax1.plot(y1,'b-',linewidth=2.0)
    ax1.set_xlabel(""SNo"")
    # Make the y2-axis label and tick labels match the line color.
    ax1.set_ylabel(y1name, color='b')
    for tl in ax1.get_yticklabels():
        tl.set_color('b')
    ax1.axis([0,len(y2),0,max(y1)+50])
    
    ax2 = ax1.twinx()
    
    ax2.plot(y2, 'r-')
    ax2.axis([0,len(y2),0,max(y2)+50])
    ax2.set_ylabel(y2name, color='r')
    for tl in ax2.get_yticklabels():
        tl.set_color('r')
    plt.title(y1name + "" vs "" + y2name)
    #plt.fill_between(y2,1,y1)
    plt.grid(True,linestyle='-',color='0.75')

    plt.savefig(y1name+""VS""+y2name+"".png"",dpi=200)"
20062,77192,Django conditional unique together,"...

def validate_unique(self, exclude=None):
    if not self.is_deleted and \
       LibraryEntry.objects.exclude(pk=self.pk).filter(host_lib_song_id=self.host_lib_song_id, owning_user=self.owning_user).exists():
        raise ValidationError('Some error message about uniqueness required')
    super(LibraryEntry, self).validate_unique(exclude=exclude)
"
2375,80451,split values in dictionary in separate values,"colors_list= ['cyan','darkorange','greenyellow','yellow','magenta','blue','green','midnightblue','brown','darkred','lightcyan','lightgreen','darkgreen','royalblue','orange','purple','tan','grey60','darkturquoise','red','lightyellow','darkgrey','turquoise','salmon','black','pink','grey','null']
lines = sheet.splitlines()
counts = {}

for line in lines:
    parts = line.split("","")
    if len(parts) > 1:
        ## doesn't break out the same item in the list many times
        color=parts[0].strip().lower()
        for key in parts[1:]:  ## skip color
            key=key.strip()
            if key not in counts:
                ## new key and list of zeroes-print it if you want to verify
                counts[key]=[0 for ctr in range(len(colors_list))]

            ## offset number/location of this color in list
            el_number=colors_list.index(color)
            if color > -1:  ## color found
                counts[key][el_number] += 1
            else:
                print ""some error message""

import csv

with open(""out.csv"", ""wb"") as f:
    writer=csv.writer(f)
    writer.writerow( [""PFAM"",] + colors_list)
    for pfam in counts:
    writer.writerow([pfam] + counts[pfam])
"
29241,63471,Python Array Substraction,"array_3 = [x for x in array_1 if x not in array_2]
"
14677,12387,Python socket.gethostbyname_ex() multithread fails,"#!/usr/bin/env python
import socket
from Queue import Queue
from threading import Thread

def getips(queue):
    for site in iter(queue.get, None):
        try: # resolve hostname
            result = socket.gethostbyname_ex(site)
        except IOError, e:
            print(""error %s reason: %s"" % (site, e))
        else:
            print(""done %s %s"" % (site, result))

def main():
    websites = ""youtube google non-existent.example facebook yahoo live"".split()
    websites = [name+'.com' for name in websites]

    # Spawn thread pool
    queue = Queue()
    threads = [Thread(target=getips, args=(queue,)) for _ in range(20)]
    for t in threads:
        t.daemon = True
        t.start()

    # Place work in queue
    for site in websites: queue.put(site)
    # Put sentinel to signal the end
    for _ in threads: queue.put(None)
    # Wait for completion
    for t in threads: t.join()

main()
"
25861,27748,PyAudio behavior during time.sleep(),"def skip(seconds):
    samples = int(seconds * RATE)
    count = 0
    while count < samples:
        stream.read(chunk)
        count += chunk
        time.sleep(0.01)
"
32389,65683,get information about pytables metadata,"In [7]: Particle.columns
Out[7]: 
{'lati': Int32Col(shape=(), dflt=0, pos=2),
 'longi': Int32Col(shape=(), dflt=0, pos=3),
 'name': StringCol(itemsize=16, shape=(), dflt='', pos=1),
 'pressure': Float32Col(shape=(), dflt=0.0, pos=4),
 'temperature': Float64Col(shape=(), dflt=0.0, pos=5)}
"
14874,60204,Python3 scraper. Doesn't parse the xpath till the end,"from lxml.html.soupparser import parse
import urllib

url = 'http://directory.ccnecommunity.org/reports/rptAccreditedPrograms_New.asp?sort=institution'
page = parse(urllib.request.urlopen(url))
unis = page.xpath('//tr/td[@valign=""top"" and @style=""width: 50%;padding-right:15px""]/h3/text()')
"
7775,75873,How to efficiently shuffle numpy array in chunks,"ind=np.arange(99)  # multple of 3
ind=ind.reshape(-1,3)
rng.shuffle(ind)
ind.flatten()
"
6995,75745,python how to port from xlsxwriter to xlwt,"import xlwt


def xlwt_res(result):
    workbook = xlwt.Workbook(encoding=""utf-8"")

    for key, value in result.items():
        worksheet = workbook.add_sheet(key)
        row = 0  # we assign 'col' later instead

        for line in value:
            # we're going to iterate over the line object
            # and write directly to a cell, incrementing the column id
            for col, cell in enumerate(line):
                worksheet.write(row, col, cell)  # writes the list contents just like xlsxwriter.write_row!
            row += 1

    workbook.save('filename.xls')


xlwt_res({'one': [""just one element""], 'two': [""that's a list"", ""did you know it""], 'three': [""let's"", ""have"", ""3""]})
"
38482,54113,WxPython: How to get the range of displayed cells in a wx grid?,"ux, uy = self.GetScrollPixelsPerUnit()
sx, sy = self.GetViewStart()
w, h = self.GetGridWindow().GetClientSize().Get()
sx *= ux ; sy *= uy

x0 = self.XToCol(sx)
y0 = self.YToRow(sy)
x1 = self.XToCol(sx + w, True)
y1 = self.YToRow(sy + h, True)
"
5467,40226,Python string comparsion,">>> s1 = ""I am s1 H1""
>>> s2 = ""IAmS1 H1""
>>> if re.match(r'(?i)'+re.sub(r'\s', '', s1)+r'$', re.sub(r'\s', '', s2)):
        print('Equal')


Equal
"
29343,25165,wxpython event handling: GetValue after key is pressed,"import wx

########################################################################
class MyPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)

        self.text = wx.TextCtrl(self)
        self.text.Bind(wx.EVT_TEXT, self.onText)

    #----------------------------------------------------------------------
    def onText(self, event):
        """"""
        """"""
        print self.text.GetValue()


########################################################################
class MainFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Events!"")
        panel = MyPanel(self)
        self.Show()

#----------------------------------------------------------------------
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = MainFrame()
    app.MainLoop()
"
12278,61493,Python: Find fast match in 2 lists (Collision),"g = {k:i for i,k in enumerate(arr)}

keypair = None
for i,k in enumerate(arr2):
    if k in g:
        keypair = (i, g[k])
        break;
"
6802,56389,Add an integer to a class atribute,">>> class Person:
...    def __init__(self,Fname,Lname,Byear):
...        self.firtsName = Fname
...        self.lastName = Lname
...        self.birth_year = Byear
...    def __str__(self):
...        return ""%s, %s Age: %s"" %(self.lastName, self.firtsName, (datetime.datetime.now().year-self.birth_year))
... 
>>> p1=Person('Olivia','Parker',1985)
>>> print(p1)
Parker, Olivia Age: 28
"
9003,62965,How to trim white space in MySQLdb using python,"cursor.execute(""INSERT INTO registrants VALUES( "" + ""'"" + first_name.strip() + ""'"" + "", "" + ""'"" + last_name.strip() + ""'"" + "");"")
"
24462,27706,Two Tkinter Images,"
panel1 = Label(root, border=0, image=p)
panel2 = Label(root, border=0, image=p)
"
1585,16529,how to use multiple lists as a single data in the Google visualization chart api,"<html>
  <head>
    <!--Load the AJAX API-->
    <script type=""text/javascript"" src=""https://www.google.com/jsapi""></script>
    <script type=""text/javascript"">

var  list1= [[1, ""Saturday""], [6, ""Sunday""], [12 ,""Wednesday""], [31, ""Monday""], [14, ""Monday""], [1, ""Tuesday""], [1, ""Sunday""]]
var list2= [[11, ""Saturday""], [26, ""Sunday""], [22 ,""Wednesday""], [41, ""Monday""], [15, ""Monday""], [16, ""Tuesday""], [51, ""Sunday""]]

//load the Google Visualization API and the chart
google.load('visualization', '1', {'packages': ['columnchart']});

//set callback
google.setOnLoadCallback (createChart);

//callback function
function createChart() {

    //create data table object
    var dataTable = new google.visualization.DataTable();
    dataTable.addColumn('string','Number Stats');
    dataTable.addColumn('number', 'passed');
    dataTable.addColumn('number', 'failed');

    for(var i = 0; i < list1.length; i++){
        var row =  [ list1[i][1], list1[i][0], list2[i][0] ];
        dataTable.addRow( row );
    }

    //instantiate our chart object
    var chart = new google.visualization.ColumnChart (document.getElementById('chart'));


    //define options for visualization  
    var options = {width: 400, height: 240, is3D: true, title: 'Bar Chart'};

    //draw our chart
    chart.draw(dataTable, options);

}
    </script>
  </head>

  <body>
    <!--Div that will hold the pie chart-->
    <div id=""chart""></div>
  </body>
</html>
"
1515,46676,Point in convex polygon,"import turtle as t
polygon = [(0,0), (0,100), (100,0), (100,100)]
t.goto(0,0)
fp = None
for p in polygon:
  t.goto(p)
  if not fp: fp=p
t.goto(fp)
t.up()
t.goto(90,90)
t.write(""90,90"")
t.dot(10)
t.goto(50,80)
t.write(""50,80"")
t.dot(10)
t.done()
"
39917,66169,Open file when path contain folder which name starts with double underscore,"File = open(r'C:\user\__foldername\file.txt')
File = open('C:\\user\\__foldername\\file.txt')
File = open('C:/user/__foldername/file.txt')
"
6716,11827,How to calculate word frequency of a string phrase in a column of a csv file using python?,"import csv
with open('Students.csv','r') as csvfile:
    reader = csv.DictReader(csvfile, delimiter=',', skipinitialspace=True)
    subjectcount={}
    for row in reader:
        for subject in row['Subjects'].lower().split(','):
            if subject.strip() not in subjectcount:
                subjectcount[subject.strip()] = 1
            else:
                subjectcount[subject.strip()] += 1
    for k,v in subjectcount.items():
        print k, v
"
25973,76350,Thousands Separator in Python,">>> import locale
>>> locale.setlocale(locale.LC_NUMERIC, 'en_US')
'en_US'
>>> locale.format(""%d"", 1234567, grouping=True)
'1,234,456'
"
15791,79310,Format a string with a space between every two digits,"s = ""534349511""
print ' '.join([s[i:i+2] for i in range(0,len(s),2)])
"
4977,48100,Python 2.7.10 Prompt for user input,"import os
import sys
import optparse
def RName_Files():
    #Get the folder to user
    fol = raw_input(""Please enter the folder whose files should have numbers stripped from their name: "") #I've never run past this point

    #Iterate through the files in the folder
    for f in os.listdir(fol):
        print(""Current file is '"" + f)


RName_Files()
"
25302,5428,"How Can I Print Running Text? For Example to Print ""Stack"" Python Will Print S then t then a then c and then k?","import time, sys

for letter in ""Stack Overflow"":
    sys.stdout.write(letter)
    sys.stdout.flush()
    time.sleep(1) # that's in seconds, adjust at will

sys.stdout.write('\n')
"
28325,49284,"I'm making a python script that strips whitespace off of the end of lines, but it is only working on the first line","import fileinput

deleted = 0
for line in fileinput.input(inplace=True):
    stripped = line.rstrip()
    deleted += len(line) - len(stripped) + 1  # don't count the newline
    print(stripped)

print(""Whitespace deleted: {}"".format(deleted))
"
32442,71309,pyQt and threading application crash,"#!/usr/bin/python
import threading
import sys
from PyQt4 import QtGui, QtCore
import time
import os


class Class(QtGui.QWidget):

    display_update = QtCore.pyqtSignal() # ADDED

    def __init__(self):
        #Some init variables
        self.initUI()

    def initUI(self):
        #some UI
        self.display_update.connect(self.guiUpdate) # ADDED
        self.show()

    def update(self):
        while True and not self.stop_event.isSet():
            self.updateSpeed()
            self.updateDistance()
            self.printLogs()
            self.saveCSV()

            # self.guiUpdate()
            self.display_update.emit() # ADDED

            time.sleep(1)

    #gui button function
    def initiate(self):
        self.stop_event = threading.Event()
        self.c_thread = threading.Thread(target = self.update)
        self.c_thread.start()

    #Also gui button function
    def cancelTracking(self):
        self.stop_event.set()
        self.close()

def main():

    app = QtGui.QApplication(sys.argv)
    ex = Class()
    sys.exit(app.exec_())
    # ex.update() # - this does nothing

if __name__ == '__main__':
    main()
"
20133,50005,Check user submitted password in database,"def login(request):
    if request.method == 'POST':
        email = request.POST['email']
        password = request.POST['password']
        # Assuming the fields in your `User` model are labeled the same
        user = authenticate(email=email, password=password)
    else:
        context = RequestContext(request, {})
        return render(request, 'login.html', context)
"
5027,23070,Python: force every import to reload,"def custom_logic():
    # Put whatever you want to run when the module is imported here

# This version is run on the first import
custom_logic()

def __myimport__(name, *args, **kwargs):
    if name == 'x': # Replace with the name of this module
        # This version is run on all subsequent imports
        custom_logic()
    return __origimport__(name, *args, **kwargs)

# Will only be run on first import
__builtins__['__origimport__'] = __import__
__builtins__['__import__'] = __myimport__
"
27610,74339,add item to list python,">>> def put(xs,i,e):
        n = len(xs)
        if i <= n:
            xs.insert(i,e)
        else:
            xs.extend([None]*(i-n-1))
        xs.append(e)


>>> xs = [1,2,3]
>>> put(xs,6,10)
>>> xs
[1, 2, 3, None, None, 10]
>>> 
"
3825,2092,How to remove non-ascii infected rows in my csv,"import csv, sys

filename = sys.argv[1]
csvfile = open(filename, 'r')
csvreader = csv.DictReader(csvfile)
rows = []
for row in csvreader:
  try:
      row['keywords'].decode('ascii')
      rows.append(row) 
  except UnicodeDecodeError:
      pass

print rows
"
2400,32549,Matplotlib ColorbarBase: delete color separators,"mpl.use('WXAgg')
"
7763,4815,Displaying Current Position For Paint Program in Python,"import pygame
import sys

pygame.init()
font = pygame.font.SysFont(""monospace"", 15)
screen = pygame.display.set_mode((400,100))

cur_x, cur_y = 0,0

while True:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            sys.exit(0)
        elif event.type == pygame.MOUSEMOTION:
            cur_x, cur_y = event.pos

    screen.fill((0,0,0))
    coord_message = ""position: x={}, y={}:"".format(cur_x, cur_y)
    coord_label = font.render(coord_message, 1, (255,0,0))
    screen.blit(coord_label, (50, 10))
    pygame.display.flip()
"
35828,23532,Python: Is there a way to keep an automatic conversion from int to long int from happening?,">>> from decimal import *
>>> from sys import maxint
>>> getcontext()
Context(prec=28, rounding=ROUND_HALF_EVEN, Emin=-999999999, Emax=999999999, capitals=1,
flags=[], traps=[DivisionByZero, Overflow, InvalidOperation])

>>> d=Decimal(maxint)
>>> d
Decimal('9223372036854775807')
>>> e=Decimal(maxint)
>>> f=d**e
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/decimal.py"", line 2225, in __pow__
    ans = ans._fix(context)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/decimal.py"", line 1589, in _fix
    return context._raise_error(Overflow, 'above Emax', self._sign)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/decimal.py"", line 3680, in _raise_error
    raise error(explanation)
decimal.Overflow: above Emax
"
7811,36060,How to index with a list of values with only one label in a Pandas MultiIndex,"print df.ix[d1:d2].swaplevel(0,1).ix[['AAPL', 'MSFT']]
                 f1  f2  c1
sym  date                  
AAPL 2012-01-01   5   2   3
MSFT 2012-01-01   4   2   3
AAPL 2012-01-02   8   2   3
MSFT 2012-01-02   7   2   3

import pandas; pandas.__version__
'0.7.2'
"
25760,3002,How can I specify that some command line arguments are mandatory in Python?,"found_f = False
try:
    opts, args = getopt.getopt(sys.argv[1:], ""ho:v"", [""help"", ""output=""])
except getopt.GetoptError, err:
    print str(err)
    usage()
    sys.exit(2)
for o, a in opts:
    if o == '-f':
      process_f()
      found_f = True
    elif ...
if not found_f:
    print ""-f was not given""
    usage()
    sys.exit(2)
"
29505,73872,How to use one method for various same type objects in python?,"turtles = [tx, ty, tz, ti, tj]
for turtle in turtles:
    turtle.fd()
"
18657,35090,Overriding model fields with Tastypie,"def obj_create(self, bundle, **kwargs):
    # Get tech for this user
    site_user = SiteUser.objects.get(user=bundle.request.user)

    bundle.obj = self._meta.object_class()

    for key, value in kwargs.items():
        setattr(bundle.obj, key, value)

    # Override the tech and operator fields
    setattr(bundle.obj, 'tech', site_user)
    setattr(bundle.obj, 'operator', site_user.operator)

    self.authorized_create_detail(self.get_object_list(bundle.request), bundle)
    bundle = self.full_hydrate(bundle)
    return self.save(bundle);
"
10493,75147,Django:how to access to ForeignKey's model?,"from django.contrib.contenttypes.models import ContentType
model_type = ContentType.objects.get_for_model(modelA.field1)
model_type.model_class().objects.all() # this will get you all objects of the foreign key model
"
12546,31180,Is there a way to copy only the structure (not the data) of a Pandas DataFrame?,"Explicit is better than implicit
df2 = pd.DataFrame(data=None, columns=df1.columns,index=df1.index)
"
14360,26201,Create a sqlalchemy engine using an existing psycopg2 connection pool,"create_engine('postgresql+psycopg2://', creator=POOL.getconn)
"
35205,67213,Accessing Python objects,"class Foo(object):
    def __del__(self):
        print ""tell my wife I love her!""


>>> f = Foo()
>>> def f():
...  print 'Make room for thy beloved king!'
...
tell my wife I love her!
>>> 
"
10246,14544,Is there a way to convert integer to a list of integers counting upwards?,"range(1, 101)
"
23151,14502,How can I more easily save value in txt file to variable? python line.split,"with open('somefile') as fin:
    points = [line.split()[1] for line in fin if line.startswith('something')]
"
10440,49595,Curl code to python convert,">>> import requests
>>> id=""j4156f9150ece727e38bbf982634ee""  
>>> cookie = {'id': id}
>>> content = requests.post('http://www.google.com',cookies=cookie)
>>> print id
j4156f9150ece727e38bbf982634ee
>>> print cookie
{'id': 'j4156f9150ece727e38bbf982634ee'}
>>> print content.url
http://www.google.com/
>>> print content.cookies
<<class 'requests.cookies.RequestsCookieJar'>[<Cookie id=j4156f9150ece727e38bbf982634ee for />]>
>>> print content.cookies.get('id')
j4156f9150ece727e38bbf982634ee
"
1918,18208,Python bisect.bisect() counterpart in R?,"cumsumpi = t(apply(pi, 1, cumsum));
u = runif(nrow(cumsumpi));

max.col((cumsumpi > u) * 1, ""first"")
"
28633,8221,Change asymmetric square matrix to the symmetric one,">> B = A' + triu(A,1)
"
32031,43174,python script runs on its own through terminal but not when it's executed in Java with Runtime.getRuntime().exec(),"String[] cmds = { ""/bin/bash"", ""-c"", ""python scriptName.py"" };
ProcessBuilder pb = new ProcessBuilder(cmds);
Process p = pb.start();
p.waitFor();
"
29892,50765,GAE converting dictionary to NDB datastore entity,"@classmethod
def entity_from_dict(cls, parent_key, dict):
    valid_properties = {}
    for cls_property in cls._properties:
        if cls_property in dict:
            valid_properties.update({cls_property: dict[cls_property]})
    #logging.info(valid_properties)
    # Update the id from the dict
    if 'id' in dict: # if creating a new entity
            valid_properties['id'] = dict['id']
    # Add the parent
    valid_properties['parent'] = parent_key
    try:
        entity = cls(**valid_properties)
    except Exception as e:
        logging.exception('Could not create entity \n' + repr(e))
        return False
    return entity
"
29124,57608,How to give value to a drop down calendar using selenium and python,"date = '30-Nov-2015'
driver.find_element_by_id(""reportDate"").send_keys(date)
"
2596,24176,Stripping off the seconds in datetime python,"dtwithoutseconds = dt.replace(second=0, microsecond=0)
"
6155,18828,how to specify DYLD_LIBRARY_PATH using buildbot?,"BuilderConfig ( ..,..,..,env = {'DYLD_LIBRARY_PATH':'/x/y/lib:x1/y1/lib'} 
"
19972,44895,How can I join multiple tables in Django 1.9?,"class UserDetailView(DetailView):
    model = User

    def get_context_data(self, **kwargs):
        # Calling the get_context_data parent
        questions = Question.objects.filter(user = context['object']).order_by('created')

        tags = [ question.tag.all() for question in questions ]

        total_answers = self.get_total(questions) # Calling the function that return the total answer by question of a specific user
        context['question_tags'] = zip(questions, tags, total_answers) #Zipping the lists with results to use it in the template

        return context

    def get_total(self, questions):
        #Return the total answers that a question has (Here is the trick!)
        return [
            Answer.objects.filter(question__id=question.id).annotate(num_answers=Count('question')).count() for question in questions]
"
37003,7522,read the dictionary value from array,"result.cal = CALORIES[name]
"
29310,46466,How to pause a subprocess (Python 2.2.6)?,"video_playing = False

def welcome_loop():
    global playProcess
    while True:
        x = 1
        if not video_playing:
            print ""Play Welcome Video""
            time.sleep(.5)
            playProcess=subprocess.Popen(['omxplayer','-b','Desktop/videos/loop/loop.mp4'],
                                         stdin=subprocess.PIPE,stdout=subprocess.PIPE,
                                         stderr=subprocess.PIPE,close_fds=True)
        time.sleep(25)
        x += 1

def videos():
    global video_playing
    while True:
        if GPIO.input(9):
            video_playing = True  # Set the flag
            print ""Stop Welcome Video""
            time.sleep(.5)
            playProcess.stdin.write('q')             
            time.sleep(.5)
            print ""Play Sippycup Video""
            sippycup_video=subprocess.Popen(['omxplayer','-b','Desktop/videos/sippycup.mp4'],
                                            stdin=subprocess.PIPE,stdout=subprocess.PIPE,
                                            stderr=subprocess.PIPE,close_fds=True)
            time.sleep(30)
            sippycup_video.stdin.write('q')
            video_playing = False  # unset the flag
            time.sleep(.5)
            #welcome_loop()

    # Same pattern for the other videos.
"
38109,50555,Python: Modifying Excel files while maintaing formatting,"from win32com.client import Dispatch
xlApp = Dispatch(""Excel.Application"")
xlApp.Visible=1
book = xlApp.Workbooks.Open(""FileName"")
sheet1 = book.Worksheets(1)
sheet1.Cells(1,1).Value=""ABC""
"
11557,6370,How to iterate a list over re.sub and replace variables in a string using python?,"s = 'deviceId={servicename.DeviceID}&deviceGroupID={servicename.GroupID}&abcd=dkef'
r = ['ApplC3LDJXGEDCP7', '10']
print(re.sub(r'{.+?}', lambda match: r.pop(0), s, count=len(r)))
# deviceId=ApplC3LDJXGEDCP7&deviceGroupID=10&abcd=dkef
"
23478,41700,Using matplotlib show 10 subplots all at once,"fig = plt.figure(figsize=(10,8))
a1 = fig.add_subplot(521)
a2 = fig.add_subplot(522)
a3 = fig.add_subplot(523)
a4 = fig.add_subplot(524)
a5 = fig.add_subplot(525)
a6 = fig.add_subplot(526)
a7 = fig.add_subplot(527)
a8 = fig.add_subplot(528)
a9 = fig.add_subplot(529)
a10 = fig.add_subplot(5,2,10)
"
2816,60033,"Python reading file, error recognizing dot character","f = open('lorem ipsum.txt', 'r')
o = open('output.txt', 'w')
contents = f.read()
new = contents.split('.\n')
o.write('\n'.join([content.replace('\n', '') for content in new]))
"
6704,27787,Removing duplicates from a list of numPy arrays,"import numpy as np
arraylist = [np.array([1,2,3,4]), np.array([1,2,3,4]), np.array([1,3,2,4])]
L = {array.tostring(): array for array in arraylist}
L.values() # [array([1, 3, 2, 4]), array([1, 2, 3, 4])]
"
15479,76982,python: how to get numbers after decimal point?,"number_dec = str(number-int(number))[1:]
"
4051,60342,How do I detect a ipad/iphone webview in user agent using regex in Python?,"userAgent = ""YOUR_UA""
pattern = '(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)'
if(re.search(pattern, userAgent)):
    print ""true""
"
27355,37466,Python baseline correction library,"def baseline_als(y, lam, p, niter=10):
  L = len(y)
  D = sparse.csc_matrix(np.diff(np.eye(L), 2))
  w = np.ones(L)
  for i in xrange(niter):
    W = sparse.spdiags(w, 0, L, L)
    Z = W + lam * D.dot(D.transpose())
    z = spsolve(Z, w*y)
    w = p * (y > z) + (1-p) * (y < z)
  return z
"
6871,62741,Accessing keys in dictionaries,"matches = [ k for k in yourdictionary.keys() if 'gc' in k.lower() ]
number_of_matches = len(matches)
"
4666,35630,Python Reading Commands from File,"with open(""test.txt"", ""r"") as f:
    for a_line in f:
        command, quantity, price = a_line.split()
        print(command, quantity, price)
        # do what you want with these values here
        # please note that quantity and price are strings. need to 
        # change them to float if you want to do some calculations.
"
22791,24795,(jython/ python)Can't seem to get the image copy I made in jython outside of my def,"mypic = makeCopyOfAPicture(picOriginal)
"
7973,48791,pandas string data types,"import pandas as pd
import io

csv = """"""foo,1234567,a,1
foo,2345678,b,3
bar,3456789,b,5
""""""

df = pd.read_csv(io.StringIO(csv),
        names = [""fb"", ""num"", ""ab"", ""x""], 
        dtype = {""fb"" : object, ""num"" : np.int64, ""ab"" : object, ""x"" : np.int8})
print(df)
"
13927,68924,How to merge 2 dictionaries with same key names,">>> dict1 = {'a': [1], 'b': [2]}
>>> dict2 = {'b': [3], 'c': [4]}
>>> import copy
>>> import itertools
>>> def merge(a, b, conflict):
    new = copy.deepcopy(a)
    if conflict:
        for key, value in b.items():
            if key in new:
                counter = itertools.count(1)
                # Rename 1st key.
                while True:
                    name = '{}_{}'.format(key, next(counter))
                    if name not in new:
                        new[name] = new[key]
                        del new[key]
                        break
                # Create 2nd key.
                while True:
                    name = '{}_{}'.format(key, next(counter))
                    if name not in new:
                        new[name] = value
                        break
            else:
                new[key] = value
    else:
        for key, value in b.items():
            new.setdefault(key, []).extend(value)
    return new

>>> merge(dict1, dict2, False)
{'c': [4], 'b': [2, 3], 'a': [1]}
>>> merge(dict1, dict2, True)
{'b_2': [3], 'b_1': [2], 'c': [4], 'a': [1]}
"
13456,19894,python tkinter reference in comboboxes created in for loop,"class Application(Frame):
    def __init__(self, master):
        Frame.__init__(self, master, relief=""sunken"", border=1)
        # Various initialization code here
        self.box_dict = {}

    def create_widgets(self):
        for i in range(9):
            box = ttk.Combobox(self, state=""readonly"")
            # Do various things with your box object here
            self.box_dict[i] = box
            # Only complication is registering the callback
            box.bind(""<<ComboboxSelected>>"",
                         lambda event, i=i: self.change_icon(event, i))


    def change_icon(self, event, i):
        self.var_Selected = self.box_dict[i].current()
        print ""The user selected value now is:""
        print self.var_Selected
"
23463,58539,How to make a slower timer? (Python),"import time
# record when person was first hit.
previousHit = time.time()

if time.time() - previousHit > 10:
    # The rest of your logic for getting hit.
    previousHit = time.time() # Reset the timer to get the hit again.
"
12702,48736,Copy text from an input field and save it into a variable with python,"from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import win32clipboard

element.send_keys(Keys.CONTROL, 'a') #highlight all in box
element.send_keys(Keys.CONTROL, 'c') #copy

win32clipboard.OpenClipboard()
text = win32clipboard.GetClipboardData() #paste
win32clipboard.CloseClipboard()

print text
"
4058,81071,time length of an mp3 file,"import mad

mf = mad.MadFile(""foo.mp3"")
track_length_in_milliseconds = mf.total_time()
"
28344,19242,How to filter numbers that contain unique digits?,"def uniques2(numbers):
    for number in numbers:
        seen = set()
        quotient = number
        while quotient > 10:
            quotient, remainder = divmod(quotient, 10)
            if remainder in seen:
                break
            else:
                seen.add(remainder)
        else:
            yield number
"
16743,29401,How to write a regular expression to match a string literal where the escape is a doubling of the quote character?,"r""'(''|[^'])*'""
"
33855,19071,Biased coin flip in Python,"import random

def biased_flip(prob_true=0.5):
    return random.random() < prob_true
"
19870,58831,How to return a qrcode (pillow image) from cherrypy as PNG without saving it as a static file?,"@cp.expose
def qrcode(self, ticketnumber = 'unknown'):
    img = qrcode.make(ticketnumber)
    cp.response.headers['Content-Type'] = ""image/png""
    buffer = StringIO.StringIO()
    img.save(buffer, 'PNG')
    return buffer.getvalue()
"
10529,2756,Reading structured column data with numpy,"import numpy as np

recordtype = np.dtype([('name', 'S24'),
                       ('ra', np.float32),
                       ('dec', np.float32),
                       ('z',np.float32),
                       ('rmag',np.float32),
                       ('rmag_error',np.float32), 
                       ('gmag',np.float32),
                       ('gmag_error',np.float32)])

def ratodeg(string):
    hh, mm, ss = string.split()

    return (int(hh) * 15) + (int(mm) * 0.25) + (float(ss)  * 0.0042)

def dectodeg(string):
    return 

qData = np.loadtxt(""sample"",
                   skiprows=1,
                   dtype=recordtype,
                   delimiter = '|',
                   usecols = (1, 2, 3, 4, 5, 6, 7, 8),
                   converters = {1:str,
                                 2:ratodeg,
                                 3:dectodeg})
"
18511,13149,Is there a way to guarantee hierarchical output from NetworkX?,"import networkx as nx
import matplotlib.pyplot as plt
G = nx.DiGraph()

G.add_node(""ROOT"")

for i in xrange(5):
    G.add_node(""Child_%i"" % i)
    G.add_node(""Grandchild_%i"" % i)
    G.add_node(""Greatgrandchild_%i"" % i)

    G.add_edge(""ROOT"", ""Child_%i"" % i)
    G.add_edge(""Child_%i"" % i, ""Grandchild_%i"" % i)
    G.add_edge(""Grandchild_%i"" % i, ""Greatgrandchild_%i"" % i)

# write dot file to use with graphviz
# run ""dot -Tpng test.dot >test.png""
nx.write_dot(G,'test.dot')

# same layout using matplotlib with no labels
plt.title(""draw_networkx"")
pos=nx.graphviz_layout(G,prog='dot')
nx.draw(G,pos,with_labels=False,arrows=False)
plt.savefig('nx_test.png')
"
417,19596,Remove specified elements from a list in a txt file,"from __future__ import print_function


def process(infile, keep):
    for line in infile:
        fields = line.split()
        yield ' '.join([_ for i, _ in enumerate(fields) if i in keep])


def main(infile, outfile):
    # The following line (taken from your example) will not work in Python 3 as
    # you cannot ""add"" ranges to lists. In Python 3 you would need to write:
    # >>> [14] + list(range(20, 27)
    keep = range(1, 3) + [14] + range(20, 27) + range(33, 38) + [43] + [45]
    for newline in process(infile, keep):
        print(newline, file=outfile)


if __name__ == '__main__':
    with open('so.txt') as infile, open('output.txt', 'w') as outfile:
        main(infile, outfile)
"
24069,51986,Python: Graph a Network from Data,"import networkx as nx
import matplotlib.pyplot as plt

graph = nx.Graph()
with open('graphdata.txt') as f:
    for line in f:
        firm_id_1, firm_id_2 = line.split()
        graph.add_edge(firm_id_1, firm_id_2)

paths_from_1 = nx.shortest_path(graph, ""1"")
for path in paths_from_1:
    if len(paths_from_1[node]) > 9:
        print ""Shortest path from 1 to"", node, ""is longer than 9""


pos = nx.spring_layout(graph, iterations=200)
nx.draw(graph, pos)
plt.savefig(""mynetwork.png"")
plt.show()
"
10273,48876,"Python simple database based on shelve, adding values","import shelve

global base
global magazine_base

def load_data():
    global base
    global magazine_base
    magazine_base = shelve.open('magazine_base')
    if magazine_base.has_key('base'):
        base = magazine_base['base']
        if not base:
            base = [{'name': 'Apple', 'price': 10, 'quantity': 1}]  # example one element base
            # base = []  # it can be also just empty list at the beginning                
    else:
        base = [{'name': 'Apple', 'price': 10, 'quantity': 1}]
        # base = []
        magazine_base['base'] = base

def entry():
    global base
    global magazine_base
    load_data()
    name = raw_input('Name of the product: ')
    quantity = raw_input('Quantity: ')
    price = raw_input('Price per unit: ')

    is_new_entry = True

    # entry is element of base list
    for entry in base:
        if name.lower() == entry['name'].lower():  # checking if name already exist in base list
            is_new_entry = False

    if is_new_entry:  # adding new list element
        base += [{
            'name': name, 
            'quantity': int(quantity),
            'price': float(price)
        }]
        magazine_base['base'] = base
        magazine_base.close()
        print 'Saved.'  # confirmation message
    else:
        print 'Element with the name {} already exist!'.format(name)  # error message
        magazine_base.close()


def articles():
    global base
    print 'List of articles in magazine'.center(50)
    print '-'*50
    print '|'+'Name'.center(15)+'|'+'Quantity'.center(15)+'|'+'Price'.center(15)+'|'
    print '-'*50
    for entry in base:
        print ""|%14s |"" % entry['name'],'%13s' % entry['quantity'],'|' '%14s' % entry['price'],'|'
    print '-'*50

# testing by running functions
entry()
articles()
entry()
articles()
"
1354,58424,pypdf not extracting tables from pdf,"import urllib2
import xml.etree.ElementTree as ET

# Make request to PDFX
pdfdata = open('example.pdf', 'rb').read()
request = urllib2.Request('http://pdfx.cs.man.ac.uk', pdfdata, headers={'Content-Type' : 'application/pdf'})
response = urllib2.urlopen(request).read()

# Parse the response
tree = ET.fromstring(response)
for tbox in tree.findall('.//region[@class=""DoCO:TableBox""]'):
    src = ET.tostring(tbox.find('content/table'))
    info = ET.tostring(tbox.find('region[@class=""TableInfo""]'))
    caption = ET.tostring(tbox.find('caption'))
"
11177,44756,Slicing a Pandas Dataframe Using Two Strings,"# data
# ==================================
df

   Region MachineNumber
0      EU      Machine1
1      EU      Machine1
2      EU      Machine1
3      EU      Machine1
4      EU      Machine1
5      EU      Machine1
6      EU      Machine1
7      EU      Machine1
..    ...           ...
17     NA      Machine1
18     NA      Machine1
19     NA      Machine1
20     NA      Machine1
21     NA      Machine1
22     NA      Machine1
23     NA      Machine1
24     NA      Machine1

[25 rows x 2 columns]

# processing
# ===============================
df[(df['Region']=='NA') & (df['MachineNumber']=='Machine1')]

   Region MachineNumber
16     NA      Machine1
17     NA      Machine1
18     NA      Machine1
19     NA      Machine1
20     NA      Machine1
21     NA      Machine1
22     NA      Machine1
23     NA      Machine1
24     NA      Machine1
"
16010,66851,Parse XML SOAP response with Python,"import xml.etree.ElementTree as ET
tree = ET.parse('soap.xml')    

print tree.find('.//{http://tempuri.org/wsSalesQuotation/Service1}LoginResult').text


>>45eeadF43423KKmP33
"
9932,73742,List B append in list A - but when B removed A also empty,">>> a = []
>>> b = ['k']
>>> a.append(list(b))
>>> b[:] = []
>>> b
11: []
>>> a
12: [['k']]
"
14857,48056,Adding colums to a list of variables,"options = [dict() for i in range(number_of_options_you_need)]
#use options[0] instead of options0

#to set new key-value to all options
for opt in options:
    opt['Risk_rate'] = some_new_value
"
9705,568,Remap values in pandas column with a dict,">>> df = pd.DataFrame({'col2': {0: 'a', 1: 2, 2: np.nan}, 'col1': {0: 'w', 1: 1, 2: 2}})
>>> di = {1: ""A"", 2: ""B""}
>>> df
  col1 col2
0    w    a
1    1    2
2    2  NaN
>>> df.replace({""col1"": di})
  col1 col2
0    w    a
1    A    2
2    B  NaN
"
6240,51425,Why do tests in derived classes rerun the parent class tests?,"from unittest import TestCase

class PotatoTestTemplate(TestCase):
    def setUp():
        pass

class PotatoTest1(PotatoTestTemplate):
    def test1(self):
        pass

class PotatoTest2(PotatoTestTemplate):
    def test1(self):
        pass
"
28480,77424,How to set picture as background in python? I am only importing Graphics. No pygames or turtles,"from graphics import *

window = GraphWin(""game"", 400, 400)
myimage=Image(Point(200,200),""flower.png"")
myimage.draw(window)
"
11893,14705,Writing a connection string when password contains special characters,"from urllib import quote_plus as urlquote
from sqlalchemy.engine import create_engine
engine = create_engine('postgres://user:%s@host/database' % urlquote('badpass'))
"
17493,14415,Unpacking arguments from dict and list,"def my_function(*args):
   if len(args) == 0:
       return x[y[args[0]]]
   return [x[y[a]] for a in args]
"
19651,84154,Python: dynamic list names,"def get_filenames():
    filelist = []
    prompts = [
        ""Please input the full name (e.g. text_file.txt) or path of a text file:"",
        ""Please input any additional text files or simply press enter to continue:""
    ]
    while True:
        filename = raw_input(prompts[len(filelist) > 0]).strip()
        if not filename:
            break
        filelist.append(filename)
    return filelist

def get_filelines(filelist):
    files = {}
    for filename in filelist:
        with open(filename, 'rb') as fp:
            files[filename] = fp.readlines()
    return files

if __name__=='__main__':
    print get_filelines(get_filenames())
"
38158,75311,"Is there a more succinct / pythonic way to do this? (counting longest seq of heads, tails in coin flips)","def coins(num):
    lst = [random.randrange(2) for i in range(num)]
    lst = [(i, len(list(j))) for i, j in itertools.groupby(lst)]
    tails = max(j for i, j in lst if i)
    heads = max(j for i, j in lst if not i)
    return {1: tails, 0: heads}
"
20873,38357,Python - Find the greatest number in a set of numbers,"foo = [1,2,3]
print max(foo)
"
23736,36251,How To check if entered letters are in a list?,"letters = set([""a"",""b"",""c"",""d""])
inpt = raw_input()
if set(inpt).issubset(letters):
    print ""letters are in list""
else:
    print ""letters are not in list""
"
36773,19203,Show a Pandas plot from a script,"fig, ax = plt.subplots()
my_dataframe.plot(ax=ax)
plt.show() # plt in place of ax
"
30490,20196,How to make a user defined number of variables,"int1=int(input(""Enter an integer between 1 and 10000\n""))

machines = []

for x in range(int1)

    name=input(""Enter your computer's name:\n"")
    R=int(input(""Enter the amount of RAM you want in GB: (1-128)\n""))
    S=int(input(""Enter the CPU speed of your computer in Hz: (1-4000)\n""))
    D=int(input(""Enter the disk drive space: (1-3000)\n""))
    machines.append((2 * R + 3 * S + D, name, R, S D))

machines.sort(reverse=True)
"
18274,5681,Nested hash VS hash,"seen_pages = dict()

# Adding a page
seen_pages.setdefault(domain, set()).add(subdomain)

# Check whether page was seen before
is_known = False
seen_subdomains = seen_pages.get(domain)
if seen_subdomains is not None:
    is_known = subdomain in seen_subdomains
"
30633,66955,Is it possible to override `__name__` derived from object?,">>> class Foo(object):
...     pass
...
>>> obj = Foo()
>>> obj.__class__.__name__ = 'Bar'
>>> obj
<__main__.Bar object at 0x7fae8ba3af90>
>>> obj.__class__
<class '__main__.Bar'>
"
32956,36350,Make Exe Continue Till A Thread Has Completed,"import thread
import threading
import urllib2
def download_file():
    response = urllib2.urlopen(""http://website.com/file.f"")
    print ""Res: "" + str(response.read())
    raw_input(""Press any key to exit..."")

if __name__ == ""__main__"":
    t = threading.Thread(target=download_file)
    t.start()
    t.join()
    # The below prints before ""Res: ..."" which makes me think the script exits before the thread has completed
    print(""script exit"")  
"
25224,58301,Scrolling in QScrollArea pyqt,"textedit.moveCursor(QtGui.QTextCursor.End)
textedit.ensureCursorVisible()
"
35858,67153,Transposing / Reshaping based on variable but slightly different,"proc report data=have nowd;
  columns application month_year,(total_number_applications tota_applications_one total_applications_two);
  define application/group;
  define month_year/across;
run;
"
3778,35054,Can a WTForms BooleanField have a custom value?,"class TestForm(Form): 
    Attr_field = SelectField(""Attr "", choices=[(""ALL"", ""label"")], default=""ALL"")
"
3000,52357,Google App Engine adding functionality to webapp2.RequestHandler,"class PostHandler(webapp2.RequestHandler):
    def dispatch(self):
        self.response.headers['Access-Control-Allow-Origin'] = '*'
        super(PostHandler, self).dispatch()

class Login(PostHandler):
    def post(self):
"
10812,59177,How to return data from a Python SAX parser?,"def find_spam(xml):
    for event, element in xml.etree.ElementTree.iterparse(xml):
        if element.tag == ""spam"":
            print(""We found a spam!"")
            # Potentially do something
            yield element
"
9582,60542,Binary file download,"from bottle import static_file    

@route('/download/<filename:path>')
def download(filename):
    return static_file(filename, root='/path/to/static/files', download=filename)
"
6268,56380,Merge dictionaries and add values,">>> d = defaultdict(int)
>>> for di in [d1,d2,d3]:
...   for k,v in di.items():
...     d[k] += v
...
>>> dict(d)
{0: 0, 1: 11, 2: 22, 3: 33}
>>>
"
153,23744,Reading and manipulating a file in python,"  def ints(filename):
        """"""A function that takes the filename of a file as an input arguement, computs and returns a list of
        integers of all the numbers in the file.""""""
        a = []
        f = open(filename, ""r"")
        lines = f.readlines()
        f.close()
        for line in lines:
            for character in line:
                try:
                    a.append(int(character))
                except ValueError:
                    pass
        return a
"
11613,530,How to enumerate modules in python 64bit,"class MODULEENTRY32(Structure):
    _fields_ = [( 'dwSize' , DWORD ) , 
                ( 'th32ModuleID' , DWORD ),
                ( 'th32ProcessID' , DWORD ),
                ( 'GlblcntUsage' , DWORD ),
                ( 'ProccntUsage' , DWORD ) ,
                ( 'modBaseAddr' , POINTER(BYTE) ) ,
                ( 'modBaseSize' , DWORD ) , 
                ( 'hModule' , HMODULE ) ,
                ( 'szModule' , c_char * 256 ),
                ( 'szExePath' , c_char * 260 ) ]
"
969,67142,How to run a command in python after a certain time?,"import time

while True:
    if int(time.strftime(""%H"")) > 12:
        check = True
"
1951,56654,User input passed as a variable to subprocess.call,"""xterm -e msfconsole -x 'sleep 2; use auxiliary/scanner/discovery/arp_sweep; set RHOSTS '\%{0}'; exploit'"".format(RHOST)
"
1586,76911,Getting empty form fields with Python cgi stdlib,">>> print cgi.FieldStorage.__init__.__doc__
Constructor.  Read multipart/* until last part.

        Arguments, all optional:

        fp              : file pointer; default: sys.stdin
            (not used when the request method is GET)

        headers         : header dictionary-like object; default:
            taken from environ as per CGI spec

        outerboundary   : terminating multipart boundary
            (for internal use only)

        environ         : environment dictionary; default: os.environ

        keep_blank_values: flag indicating whether blank values in
            percent-encoded forms should be treated as blank strings.
            A true value indicates that blanks should be retained as
            blank strings.  The default false value indicates that
            blank values are to be ignored and treated as if they were
            not included.

        strict_parsing: flag indicating what to do with parsing errors.
            If false (the default), errors are silently ignored.
            If true, errors raise a ValueError exception.
"
37086,69733,Add field for dynamically generated url in Django admin,"class MyModel(models.Model):
    # fields here

    def s3_url(self):
        return ... # some calculated URL

class MyAdmin(admin.Admin):
    readonly_fields = ('s3_url',)
    fields = (..., 's3_url')
"
34977,45740,How to add newline to end of file.write()?,"output.write('{}\n'.format(json.dumps(author, indent=4)))
"
35634,28450,python logparse search specific text,"#!/usr/bin/env python

import sys

def generate_log_report(logfile):
        for line in logfile:
                line_split = line.split()
                list = [line_split[0], line_split[1], line_split[2], line_split[4]]
                if ""exim"" in list[3]:
                        l = [line_split[0], line_split[1], line_split[2], line_split[4]]
                else:
                        li = [line_split[0], line_split[1], line_split[2], line_split[4]]
        return l


if __name__ == ""__main__"":
        if not len(sys.argv) > 1:
                print __doc__
                sys.exit(1)
        infile_name = sys.argv[1]
        try:
                infile = open(infile_name, ""r"")
        except IOError:
                print ""you must specify a valid file""
                print __doc__
                sys.exit(1)
        log_report = generate_log_report(infile)
        print log_report
        infile.close()
"
15267,55828,Milonic Menu: Element is not clickable at point. Other element would receive the click,"from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions
from selenium.webdriver.common.by import By
from selenium.webdriver.common.action_chains import ActionChains

driver = webdriver.Firefox()
example_menu = driver.find_element_by_id('m_example')
example_menu.click()
# Wait for the ""Example Choice"" choice to appear
choice_present = expected_conditions.presence_of_element_located((By.LINK_TEXT, 'Example Choice'))
WebDriverWait(driver, 5).until(choice_present)
# Use an action chain to move to the ""Example Choice"" but click on the
# Milonic menu link
example_choice = driver.find_element_by_link_text('Example Choice')
mmlink1 = driver.find_element_by_id('mmlink1')
action_chain = ActionChains(driver)
action_chain.move_to_element(example_choice)
action_chain.click(mmlink1)
action_chain.perform()
"
22743,8737,Is there a way to create a .ipynb from a .py file command line?,"import IPython.nbformat.current as nbf
nb = nbf.read(open('test.py', 'r'), 'py')
nbf.write(nb, open('test.ipynb', 'w'), 'ipynb')
"
4545,28223,Does pycassa's ColumnFamily.get_indexed_slices return a generator?,">>> col_fam.get_indexed_slices(clause)
<generator object get_indexed_slices at 0x1fdcf00>
"
24703,32425,How to process query parameters in form of a list of tuples?,">>> from urllib import urlencode
>>> data = [(""foo"", 10), (""bar"", None), (""baz"", ""some_string"")]
>>> urlencode(data)
'foo=10&bar=None&baz=some_string'
>>> urlencode([x for x in data if x[1] is not None]) # no None's
'foo=10&baz=some_string'
"
2351,41071,Packaging a Python library,"from idol7stats.idol7stats import *
"
9050,74919,iso-8859-1 and utf8 in python,">>> import HTMLParser
>>> h = HTMLParser.HTMLParser()
>>> h.unescape(""H&#7895; tr&#7907; ng&#244;n ng&#7919;"")
u'H\u1ed7 tr\u1ee3 ng\xf4n ng\u1eef'
>>> print h.unescape(""H&#7895; tr&#7907; ng&#244;n ng&#7919;"")
Hỗ trợ ngôn ngữ
"
24588,50539,python: multiprocessing.dummy using imap_unordered to iterate thru a growing/modifying list,"from multiprocessing.dummy import Process, Queue


def process(inq, outq):
    while True:
        n = inq.get()
        try:
            if n % 2 == 0:
                outq.put(n)  # Queue up for printing
            elif n % 3 == 0:
                inq.put(12)  # Queue up for future processing
            elif n % 5 == 0:
                inq.put(14)  # Queue up for future processing
        finally:
            inq.task_done()

def printer(q):
    while True:
        m = q.get()
        try:
            print ""(""+str(m)+"")"",
        finally:
            q.task_done()

def main():
    workqueue = Queue()
    printqueue = Queue()
    printworker = Process(target=printer, args=(printqueue,))
    printworker.daemon = True
    printworker.start()

    for i in range(4):
        processor = Process(target=process, args=(workqueue, printqueue))
        processor.daemon = True
        processor.start()

    li = [1,2,3,4,5,6,7,8,9]

    for x in li:
        workqueue.put(x)  # optionally, put all items before starting processor threads so initial work is processed strictly before generated work
    workqueue.join()  # Wait for all work, including new work, to be processed
    printqueue.join()  # Then wait for all the results to be printed

if __name__ == '__main__':
    main()
"
29108,19627,How to check if a dictionary value is equal to a variable's value,"for item, location in ITEMS_IN_WORLD.iteritems():
 if (CURRENT_LOCATION==location):
  print (""Found!"")  #Or whatever you intend to do
"
14210,33643,Write 0 characters to a file descriptor,"import ctypes
ctypes.cdll.msvcrt._write(1, 0, 0)
"
22818,23030,How to inspect mystery deserialized object in Python,"import json

class Subscriber(object):
    firstname = None
    lastname = None


class Post(object):
    author = None
    title = None


def decode_from_dict(cls,vals):
    obj = cls()
    for key, val in vals.items():
        setattr(obj, key, val)
    return obj


SERIALIZABLE_CLASSES = {'Subscriber': Subscriber,
                        'Post': Post}

def decode_object(d):
    for field in d:
        if field in SERIALIZABLE_CLASSES:
            cls = SERIALIZABLE_CLASSES[field]
            return decode_from_dict(cls, d[field])
    return d


results = '''[{""Subscriber"": {""firstname"": ""Neal"", ""lastname"": ""Walters""}},
              {""Post"": {""author"": {""Subscriber"": {""firstname"": ""Neal"",
                                                  ""lastname"": ""Walters""}}},
                        ""title"": ""Decoding JSON Objects""}]'''
result = json.loads(results, object_hook=decode_object)
print result
print result[1].author
"
22459,64672,Python read XY coords from text file,"class getXYCoords:

    def __init__(self, textFile):

        self.textFile = textFile
        self.polygon = []
        self.rectangle = []

        with open(self.textFile) as f:

            for line in f:
                line = line.split() #strip EOL
                if line: #lines (ie skip them)

                    # Stores values into polygon list
                    if len(line) == 8:
                        line = [int(i) for i in line]
                        self.polygon.append(line)

                    # Stores values into rectangle list
                    elif len(line) == 4:
                        line = [int(i) for i in line]
                        self.rectangle.append(line)


# Example program

if __name__ == '__main__':

    # Get XY coordinates
    coords = getXYCoords('test.txt')

    print(coords.polygon,'\n')
    print(coords.rectangle)
"
19009,39013,Developing a more efficient array and for loop script in Python,"data = {
    'delay_time': [],
    'step_size': [1,1,1,1,1],
    'first_uncorrectable': [],
    'second_uncorrectable': [],
    'erasure_decode': [],
    'ecc_hibit': [],
    'bits_corrected': [],
    'bits_read': [],
    'avg_rber': [],
    'avg_rber_ed': [],
    'ed_success': []
}

for data_set in data:
    for each_item in data[data_set]:
        current_cell_iteration = '%s%d'%(xlsx_cols[current_letter], column_iterator) #STARTING AT CURRENT CELL OF
        overall_stats_sheet[current_cell_iteration] = each_item
        current_letter += 1
    current_letter = 1
    column_iterator += 1
"
35949,10529,python randomizer - get random text between curly braces with double nesting level,"def randomize(text):
    start= text.find('{')
    if start==-1: #if there are no curly braces, there's nothing to randomize
        return text

    # parse the choices we have
    end= start
    word_start= start+1
    nesting_level= 0
    choices= [] # list of |-separated values
    while True:
        end+= 1
        try:
            char= text[end]
        except IndexError:
            break # if there's no matching closing brace, we'll pretend there is.
        if char=='{':
            nesting_level+= 1
        elif char=='}':
            if nesting_level==0: # matching closing brace found - stop parsing.
                break
            nesting_level-= 1
        elif char=='|' and nesting_level==0:
            # put all text up to this pipe into the list
            choices.append(text[word_start:end])
            word_start= end+1
    # there's no pipe character after the last choice, so we have to add it to the list now
    choices.append(text[word_start:end])
    # recursively call this function on each choice
    choices= [randomize(t) for t in choices]
    # return the text up to the opening brace, a randomly chosen string, and
    # don't forget to randomize the text after the closing brace 
    return text[:start] + random.choice(choices) + randomize(text[end+1:])
"
18529,56071,Best way in python to make a class that is uninitializable but whose child classes are initializable,"class Base(object):
  def __new__(cls):
    if cls is Base:
      raise NotImplementedError()
    super(Base, cls).__new__(cls)

class Derived(Base):
  pass

try:
  o = Base()
except NotImplementedError:
  print 'Should happen!'
else:
  print 'Should not happen!'

try:
  o = Derived()
except NotImplementedError:
  print 'Should not happen!'
else:
  print 'Should happen!'
"
34841,80826,Batch APPEND (RENAME) a specific keyword to set of files,"for file in $(find . -maxdepth 1 -type f)
do
    echo $file
    echo $file.mov
    mv -i $file{,.mov}
done
"
12152,48652,"Python, wait on a file to zip before sending it","while Counter < Amount:
      zf = zipfile.ZipFile(lst[Counter],""w"", zipfile.ZIP_DEFLATED,allowZip64=True) # create zip
      zf.write(os.path.join(lst[Counter])) #zip it up
      zf.close() #close the zip
      shutil.move(os.path.join(lst[Counter]),Destination) #move to zip folder
p = subprocess.Popen(SendZipfiles)
"
33677,28926,python - pass dataframe column as argument in apply function,"df['C'] = df.apply(lambda x: len(set(x.B).intersection(set(x.A.split()))), axis = 1)
"
25788,66577,Timeout handling while using run_in_executor and asyncio,"future = loop.run_in_executor(None, long_running_function)
result = await asyncio.wait_for(future, timeout, loop=loop)
"
37045,14066,How do you print a class's attributes by the objects name using java?,"public class Employee {
    public int id;
    public String fName;
    public String mName;

public Employee(int id, String fName, String mName) {
    this.id = id;
    this.fName = fName;
    this.mName = mName;
}




@Override
public String toString() {
    String output = ""Hello, I am employee "" + id + "", my first name is "" + fName + "" and my middle name is "" + mName;
    return output;
}


public static void main(String[] args) {
    Employee e= new Employee(1, ""foo"" ,""bar"");
    System.out.println(e.toString());
}
}
"
3701,12129,How to get the IPMI address of a server?,"
Set in Progress         : Set Complete
Auth Type Support       : NONE MD2 MD5 PASSWORD
Auth Type Enable        : Callback : MD2 MD5
                        : User     : MD2 MD5
                        : Operator : MD2 MD5
                        : Admin    : MD2 MD5
                        : OEM      :
IP Address Source       : Static Address
IP Address              : 10.0.3.80
Subnet Mask             : 255.255.0.0
MAC Address             : f0:..:..:..:..:..
SNMP Community String   : public
IP Header               : TTL=0x40 Flags=0x40 Precedence=0x00 TOS=0x10
BMC ARP Control         : ARP Responses Enabled, Gratuitous ARP Disabled
Gratituous ARP Intrvl   : 2.0 seconds
Default Gateway IP      : 10.0.0.1
Default Gateway MAC     : 00:00:00:00:00:00
Backup Gateway IP       : 0.0.0.0
Backup Gateway MAC      : 00:00:00:00:00:00
802.1q VLAN ID          : Disabled
802.1q VLAN Priority    : 0
RMCP+ Cipher Suites     : 0,1,...
Cipher Suite Priv Max   : Xa...
"
9247,29482,arithmetic expression reader in python,"import ast

s = 'subtract(4,add(4,times(3,4)))'

# Probably better to use functions from the operator module here :-)
functions = {'subtract': lambda a,b: a-b,
             'add': lambda a, b: a+b,
             'times': lambda a,b: a*b}


def _evaluate(node):
    if isinstance(node, ast.Num):
        return node.n
    elif isinstance(node, ast.Name):
        return functions[node.id]
    elif isinstance(node, ast.Call):
        function = _evaluate(node.func)
        return function(*[_evaluate(n) for n in node.args])
    else:
        raise ValueError('Unknown node type: %s', type(node))


def evaluate(s):
    tree = ast.parse(s)
    node = tree.body[0].value
    return _evaluate(node)

print evaluate(s)
"
13750,22183,Get the information of a row when a check is checked,"$(document).ready(function(){
$(""input[name='check[]']"").click(function(){
var values = """";
   $.each($(""input[name='check[]']:checked""), function(index,value) {
       var data = $(this).parents('tr:eq(0)');
       if(index > 0)
           values += "" and "";

       values += $(data).find('td:eq(1)').text() ;
   });

   alert(values);
 });
});
"
15198,51564,Searching a list of numbers for a specific pattern,"import re
s = ['55967', '56003', '56113', '56081', '56333', '56093', '58091']
patt_s = re.compile('(56\d\d3)')
for s_nr in s:
    matched_re = re.search(patt_s, s_nr)
    if matched_re:
        print matched_re.group(0)
"
12313,48926,"In Python, how can I use string.find to find the first occurence of a vowel and do something with it?","[isvowel(ch) for ch in string].index(True)
"
37620,38816,Get size of resized matplotlib plot window,"plt.Figure()
thismanager = get_current_fig_manager()
thismanager.window.wm_geometry(""500x500+890+300"") #sets original size and position
button = Tkinter.Button(self,command=self.Click)

def Click(self):
   thismanager = get_current_fig_manager()
   thismanager.set_window_title('Title')
   plt.clf()
   plt.xlabel('Xaxis',fontsize=16)
   im=imshow(variable, cmap='gray', origin='lower',vmin=0,vmax=255,interpolation='nearest')
   cb=colorbar()
   cb.set_label('Label',fontsize=16)
   show()
"
31290,43688,How to automatically expose and decorate function versions of methods in Python?,"class MyClass(object):
    def foo(self, arg):
        ...

obj = MyClass()
print obj.foo(3) == MyClass.foo(obj, 3) # True
"
7407,34929,Strange behavior of pandas resampling,"In [53]: index = pd.date_range(freq='66T', start=ts.first_valid_index(), periods=5)

In [54]: ts.reindex(set(ts.index).union(index)).sort_index().interpolate('time').ix[index]
Out[54]: 
2011-01-02 01:00:00    0.0
2011-01-02 02:06:00    1.1
2011-01-02 03:12:00    2.2
2011-01-02 04:18:00    3.3
2011-01-02 05:24:00    4.4
Freq: 66T, dtype: float64

In [55]: index = pd.date_range(freq='65T', start=ts.first_valid_index(), periods=5)

In [56]: ts.reindex(set(ts.index).union(index)).sort_index().interpolate('time').ix[index]
Out[56]: 
2011-01-02 01:00:00    0.000000
2011-01-02 02:05:00    1.083333
2011-01-02 03:10:00    2.166667
2011-01-02 04:15:00    3.250000
2011-01-02 05:20:00    4.333333
Freq: 65T, dtype: float64
"
12717,53394,Using map on every other list item Python,">>> list_ = [1,2,3,4]
>>> double = (2).__mul__
>>> map(double, list_[1::2])
[4, 8]
>>> list_[1::2] = map(double, list_[1::2])
>>> list_
[1, 4, 3, 8]
"
32078,2496,"Python 2: one-line or very compact code to check ""startswith"" across several strings?",">>> ""item1"".startswith((""item"",""place"",""thing""))
True
"
15492,59382,How to clean up .gpx data before writing to a .csv file in python,"import re

gpx_list = []
gpx = open('G:\\14022705.gpx', 'r')      
gpx_list_out = open('G:\\Position_Data2.csv', 'w') 

for line in gpx:
    if 'trkpt ' in line:
      print re.findall(r""[-+]?\d*\.\d+|\d+"",line)
      numerical_value=re.findall(r""[-+]?\d*\.\d+|\d+"",line)
      gpx_list_out.write("","".join(numerical_value))

gpx_list_out.close()
"
24865,53270,Change Python Tkinter Frame Title,"if __name__ == '__main__':
    root = Tk()
    root.title(""My Database"")
    root.geometry(""500x400"")
    app = start_window(root)
    root.mainloop()
"
4996,43159,"Draw multiple samples using numpy.random.multivariate_normal(mean, cov[, size])","In [22]: np.random.multivariate_normal(np.zeros(3), np.eye(3), size=5)
Out[22]: 
array([[ 1.08534253,  0.70492174, -0.8625333 ],
       [ 0.16955737, -0.89453284,  0.8347796 ],
       [ 0.49506717, -1.18087912, -0.89118919],
       [-0.97837406, -0.42304268,  0.4326744 ],
       [-1.18836816,  1.33389231,  0.23616035]])
"
2627,35346,3 dimensional matrix addition,"A=[[[1,2,3]]]
B=[[[3,4,5]]]
C=[[[4,5,6]]]
print [[map(sum, zip(A[0][0], B[0][0], C[0][0]))]]
"
35834,27665,python unpacked dictionary of list,"def magic_fun(d):
    return [[(key,el) for el in value] for key,value in d.items()]
    # for key,value in d.items():
    #     element_list = []
    #     for el in value:
    #         element_list.append((key,el))
    #     yield element_list
"
27489,82516,how can I pass infinity to redis from python?,"import unittest

from redis import Redis


class RedisTest(unittest.TestCase):

    def setUp(self):
        self.redis = Redis()

    def test_zrangebyscore(self):
        r = self.redis
        name = 'myset'
        r.zadd(name, 'one', 1)
        r.zadd(name, 'two', 2)
        r.zadd(name, 'three', 3)
        r.zadd(name, 'four', 4)

        self.assertTrue(r.zrangebyscore(name, '-inf', '+inf') == ['one', 'two', 'three', 'four'])
        self.assertTrue(r.zrangebyscore(name, 1, 1) == ['one'])
        self.assertTrue(r.zrangebyscore(name, 1, 2) == ['one', 'two'])
        self.assertTrue(r.zrangebyscore(name, 2, 3) == ['two', 'three'])
        self.assertTrue(r.zrangebyscore(name, '(1', '(2') == [])
        self.assertTrue(r.zrangebyscore(name, '(1', '(3') == ['two'])
"
35474,57405,add a sheet to an ods file via python,"from odf.opendocument import load
from odf.table import Table
from odf.table import TableCell
from odf.table import TableRow
from odf.text import P

#loading it
book = load('your.ods')
#create a new sheet in memory
sheet = Table(name=""test sheet"")
#create a new row
tablerow=TableRow()
#create a new cell
cell=TableCell()
#fill-in a cell
cell.addElement(P(text=""hello world""))
#add a cell to the row
tablerow.addElement(cell)
#add the row to the sheet
sheet.addElement(tablerow)
#adding the new to the book
book.spreadsheet.addElement(sheet)
#save it
book.save('your_new.ods')
"
26243,53850,Python string find,"DATA = ['Hello', 'Python', 'World']
SEARCH_STRING = 'n'
print [s for s in DATA if SEARCH_STRING in s]
# Prints ['Python']
"
24349,38317,"In python, how can I change the font size of leaf nodes when generating phylogenetic trees using Bio.Phylo.draw()?","import matplotlib
import matplotlib.pyplot as plt
from Bio import Phylo
from cStringIO import StringIO

def plot_tree(treedata, output_file):
    handle = StringIO(treedata)  # parse the newick string
    tree = Phylo.read(handle, ""newick"")
    matplotlib.rc('font', size=6)
    # set the size of the figure
    fig = plt.figure(figsize=(10, 20), dpi=100)
    # alternatively
    # fig.set_size_inches(10, 20)
    axes = fig.add_subplot(1, 1, 1)
    Phylo.draw(tree, axes=axes)
    plt.savefig(output_file, dpi=100)

    return
"
3893,65971,Pandas: save dataframe to open Workbook,"import pandas as pd

# Create an pandas excel writer based on xlsxwriter.
writer = pd.ExcelWriter('test.xlsx', engine='xlsxwriter')

# Create a worksheet with an empty dataframe so the sheet is empty.
df = pd.DataFrame()
df.to_excel(writer, sheet_name='Sheet1')

# Access the underlying xlsxwriter worksheet and write to it.
workbook  = writer.book
worksheet = writer.sheets['Sheet1']
worksheet.write(0, 0, 'test')

# Create another dataframe with data.
df = pd.DataFrame({'a': [1, 2, 3, 4],
                   'b': ['aa', 'bb', 'cc', 'dd']})

# Write the dataframe to another worksheet.
df.to_excel(writer, sheet_name='Sheet2')

writer.save()
"
26938,56138,SQLAlchemy-serialize values into column of table,"@event.listens_for(Command, 'before_insert', propagate = True)
def serialize_before_insert(mapper, connection, target):
    print(""serialize_before_insert"")
    target._bin_array = target.toBinArray()
"
20083,54255,Is there a way to handle requests with locale-dependant wsgi handlers?,"class BaseHandler(webapp2.RequestHandler):
    def __init__(self, *args, **kwargs):
        super(BaseHandler, self).__init__(*args, **kwargs)
        country = self.request.headers.get('X-AppEngine-Country')
        if not country == ""US"" and not country == """" and not country == None: # The last two handle local development
            self.redirect('international_holding_page')
            logging.info(country)
"
12224,68272,Numpy histogram of large arrays,"import numpy as np
datamin = -5
datamax = 5
numbins = 20
mybins = np.linspace(datamin, datamax, numbins)
myhist = np.zeros(numbins-1, dtype='int32')
for i in range(100):
    d = np.random.randn(1000,1)
    htemp, jnk = np.histogram(d, mybins)
    myhist += htemp
"
34133,67818,How to peform mathematical operations on some fields in Python?,"arr = {('value1',): 3, ('value2',): 11, (u'value3',): 5, (u'value4',): 35, ('value5',): 3}
vals = arr.values() # Get list of values, [3, 11, 5, 34, 3]
average = reduce(lambda x,y: (x + y) / 2.0, vals)
# Perform whatever operations you want
"
34474,41946,Create an ndarray from arrays of different lengths,"In [27]: a=range(40)

In [28]: b=range(30)

In [29]: x=np.zeros((2,max(len(a),len(b))))

In [30]: for i,j in enumerate([a,b]): x[i][:len(j)]=j

In [31]: x
Out[31]: 
array([[  0.,   1.,   2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,
         11.,  12.,  13.,  14.,  15.,  16.,  17.,  18.,  19.,  20.,  21.,
         22.,  23.,  24.,  25.,  26.,  27.,  28.,  29.,  30.,  31.,  32.,
         33.,  34.,  35.,  36.,  37.,  38.,  39.],
       [  0.,   1.,   2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.,
         11.,  12.,  13.,  14.,  15.,  16.,  17.,  18.,  19.,  20.,  21.,
         22.,  23.,  24.,  25.,  26.,  27.,  28.,  29.,   0.,   0.,   0.,
          0.,   0.,   0.,   0.,   0.,   0.,   0.]])
"
26241,46165,Understanding the role of closure in decorators and function wrapper arguments,"def foo(x, y):
    return x+y

def bar(x, y):
    return foo(x, y)
"
1658,66933,Create screenshot only on test failure,"def setUp(self):
    # Assume test will fail
    self.test_failed = True

def tearDown(self):
    if self.test_failed:
        self.save_screenshot()

def test_something(self):
    # do some tests
    # Last line of the test:
    self.test_failed = False
"
15984,48452,readline set_completion_display_matches_hook requires return key before displaying prompt,"def match_display_hook(self, substitution, matches, longest_match_length):
    print ''
    for match in matches:
        print match
    print self.prompt.rstrip(),
    print readline.get_line_buffer(),
    readline.redisplay()
"
22382,49877,Set subtraction while retaining order,"l1 = [4,3,5,2]
l2 = [3]
# remove 3, keep other ordering
st = set(l2)

print([x for x in l1 if x not in st])

[4, 5, 2]
"
5935,13971,Python print several (same) values,"maximum = max(scores.values())
for key in scores:
    if scores[key] == maximum:
        print key, scores[key]
"
320,67254,How do I read a list of JSON files from file in python?,"with open(""myFile.json"") as f:
    objects = json.load(f)
"
25395,44380,python3 - os.path changes,"open(os.path.join(p5, ""usage.txt""), ""w"")
"
1357,59134,numpy: filling a subset of array,"np.array(coefs[:8]+[1]).reshape((3,3))
"
37921,69617,pickling defaultdict with lambda,">>> import dill
>>> from collections import defaultdict
>>> pos = defaultdict(lambda: 0)
>>> neg = defaultdict(lambda: 0)
>>> countdata = (pos,neg)
>>> _countdata = dill.loads(dill.dumps(countdata))
>>> _countdata
(defaultdict(<function <lambda> at 0x10917f7d0>, {}), defaultdict(<function <lambda> at 0x10917f8c0>, {}))
>>>
>>> # now dump countdata to a file 
>>> with open('data.pkl', 'wb') as f:
...     dill.dump(countdata, f)
...
>>>
"
39297,19350,Matplotlib Pie Chart Mathtext Label/Autopct,"# The slices will be ordered and plotted counter-clockwise.
labels = 'Frogs', 'Hogs', 'Dogs', 'Logs'
sizes = [15, 30, 45, 10]
colors = ['yellowgreen', 'gold', 'lightskyblue', 'lightcoral']
explode = (0, 0.1, 0, 0) # only ""explode"" the 2nd slice (i.e. 'Hogs')

patches, texts, autotexts = plt.pie(sizes, explode=explode, labels=labels, colors=colors,
        autopct='%1.1f%%', shadow=True, startangle=90)
# Set aspect ratio to be equal so that pie is drawn as a circle.
plt.axis('equal')


otherInfo = [3, 5, 3, 4]

for text, info in zip(autotexts, otherInfo):
    text.set_text(u""%s ± %.1f"" % (text.get_text(), info)) #you can play here with the format to get the label that you want
"
6191,38108,wxpython: small square panel in corner,"import wx

########################################################################
class SmallPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent, size=(50,50))
        self.SetBackgroundColour(""red"")


########################################################################
class MainPanel(wx.Panel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        wx.Panel.__init__(self, parent)

        top_sizer = wx.BoxSizer(wx.VERTICAL)
        h_sizer = wx.BoxSizer(wx.HORIZONTAL)

        top_sizer.AddStretchSpacer(prop=1)

        mini_panel = SmallPanel(self)

        h_sizer.AddStretchSpacer(prop=1)
        h_sizer.Add(mini_panel, 0, wx.ALL, 5)
        top_sizer.Add(h_sizer, 0, wx.EXPAND)
        self.SetSizer(top_sizer)


########################################################################
class MainFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Panels"")
        panel = MainPanel(self)
        self.Show()

if __name__ == '__main__':
    app = wx.App(False)
    frame = MainFrame()
    app.MainLoop()
"
12029,68199,Replace multiple text values in a single file,"search_replace_dict = {
    ""$HOSTNAME"": 'HOSTNAME',
    ""$IOSCURRENT"": 'IOSCURRENT',
    ""$IOSOLD"": 'IOSOLD'}

with open(""router-input.txt"") as input_file, open('output.txt','w') as output_file:
    for each_line in input_file:
        for key, value in search_replace_dict.items():
            each_line = each_line.replace(key, value)
        output_file.write(each_line)
"
37459,31835,dict.fromkeys all point to same list,">>> keys = ['a','b','c']
>>> value = [0, 0]
>>> {key: list(value) for key in keys}
    {'a': [0, 0], 'b': [0, 0], 'c': [0, 0]}
"
38451,8447,Pyplot: Plotting [Lists of [(Lists of Tuples)]],"for i in range(0, len(x_lolots)):
    for j in range(0, len(x_lolots[i])):
        plt.ion()
        plt.subplot(rows, cols, (i+1))
        plt.plot(x_lolots[i][j], y_lolots[i][j])
"
10003,67347,"SQLAlchemy, Flask: get relationships from a db.Model","from sqlalchemy.inspection import inspect

thing_relations = inspect(Thing).relationships
"
30927,65405,Edit variable of a netcdf file using python,"import netCDF4
import numpy as np

ncfile = netCDF4.Dataset('/path/to/file/foo.nc', 'r')
u = ncfile.variables['u'][:,:,:] # nx+1 x ny x nz 
v = ncfile.variables['v'][:,:,:] # nx x ny+1 x nz 

nx = np.shape(u)[0] - 1 
ny = np.shape(v)[1] - 1 
nz = np.shape(u)[2] 

u_center = 0.5 * (u[0:nx,:,:] + u[1:nx+1,:,:]) 
v_center = 0.5 * (v[:,0:ny,:] + v[:,1:ny+1,:])

# Write out u_center and v_center into a new netCDF file
ncfile_out = netCDF4.Dataset('./output.nc', 'w')
ncfile_out.createDimension('longitude', nx)
ncfile_out.createDimension('latitude', ny)
ncfile_out.createDimension('level', nz)
u_out = ncfile_out.createVariable('u_center', 'f4', ('longitude', 'latitude', 'level')
v_out = ncfile_out.createVariable('v_center', 'f4', ('longitude', 'latitude', 'level')
u_out[:,:,:] = u_center[:,:,:]
v_out[:,:,:] = v_center[:,:,:]
ncfile_out.close()
"
2762,34705,Pagerank for locally stored google search results,"gurl = 'http://toolbarqueries.google.com/tbr?client=navclient-auto&ch=%s&features=Rank&q=info:%s' % (hsh,urllib.quote(URL))
"
31785,39193,Multiple fontsize in same label Matplotlib,"import pylab as plt
a=[0,1]
b=[0,1]
plt.plot(a,b,'g',linewidth=3.5, label = 'a')
plt.rc('text', usetex=True)
plt.legend(labelspacing = 1.0,loc=1,prop={'size':40})

plt.text(0.45,-0.08,'a',fontsize=50)
plt.text(0.53,-0.08, 'N',fontsize = 20)
"
22650,11704,How to run Python in komodo,"%(python) ""%F""
"
925,12780,How to split a Python sequence of tuples according to a predicate?,">>> testList = [(0.0, 0.25), (0.25, 0.25), (0.5, 0.5), (1.0, 0.25), (1.25, 0.75), (2.0, 1.0)]
>>> from operator import itemgetter
>>> testList.sort(key=itemgetter(0)) # Making sure it is sorted. If list is pre-sorted, skip this step.
>>> from itertools import groupby
>>> final_list = [list(lst) for _, lst in groupby(testList, lambda x: int(x[0]))]
>>> from pprint import pprint
>>> pprint(final_list)
[[(0.0, 0.25), (0.25, 0.25), (0.5, 0.5)],
 [(1.0, 0.25), (1.25, 0.75)],
 [(2.0, 1.0)]]
"
6961,41215,How to ignore the first item in a list in a FOR function?,"{% if photos %}

    {% for photo in photos %}
        {% if not forloop.first %}
            {% thumbnail photo.photo ""100x100"" crop=""center"" as im %}
            <img src=""{{ im.url }}"" alt=""User's photos"" data-ajax=""{% url 'photo_increase_view' pk=photo.id %}""/>
            {% endthumbnail %}
        {% endif %}
    {% endfor %}

{% endif %}
"
35817,37828,Programically convert a fixed width .dat file with a .fmt file into a .csv file using Python or Python/Pandas,"with open(""format_file.fmt"") as f:
    # csv.reader parses away the commas for us 
    # and we get rows as nice lists
    reader = csv.reader(f) 
    # this will give us a list of lists that looks like
    # [[""ID"", ""2"", ""n""], ...]
    row_definitions = list(reader)

# iterate and just unpack the headers
# this gives us [""ID"", ""NAME"", ""CODE""]
header = [name for name, length, dtype in row_definitions]
# [2, 8, 2]
lengths = [int(length) for name, length, dtype in row_definitions]

# define a generator (possibly as a closure) that simply slices 
# into the string bit by bit -- this yields, for example, first 
# characters 0 - 2, then characters 2 - 10, then 8 - 12
def parse_line(line):
    start = 0
    for length in lengths:
        yield line[start: start+length]
        start = start + length

with open(data_file) as f:
     # iterating over a file pointer gives us each line separately
     # we call list on each use of parse_line to force the generator to a list
     parsed_lines = [list(parse_line(line)) for line in data_file]

# prepend the header
table = [header] + parsed_lines

# use the csv module again to easily output to csv
with open(""my_output_file.csv"", 'w') as f:
    writer = csv.writer(f)
    writer.writerows(table) 
"
7128,41369,Django / views- add field to model and return to template,"results = [] # This is what you will send to the template

for location in address.objects.select_related():
    data = {} # an empty dictionary
    localized_data = location.address_localisation_set.first()
    data['lat'] = localized_data.latitude
    data['lon'] = localized_data.longitude
    data['id'] = location.id
    results.append(data)

return JsonResponse(json.dumps(results), safe=False)
"
2944,54770,Python/Excel - Slice extracted excel data - exclude rows maintain structure,"import glob
import os
import xlrd
import csv

ROOTDIR = r'C:\Users\username\Desktop\Mults'
wb_pattern = os.path.join(ROOTDIR, '*.xlsx')

workbooks = glob.glob(wb_pattern)
start_rownum = 3 # or wherever you want to start copying
with open('merged.csv', 'wb') as outcsv:
    writer = csv.writer(outcsv)
    for wb in workbooks:
        book_path = os.path.join(ROOTDIR, wb)
        book =  xlrd.open_workbook(book_path)
        sheet = book.sheet_by_index(0)
        for rownum in xrange(start_rownum, sheet.numrows):
            row = sheet.row_values(rownum)
            writer.writerow(row)
"
8029,67263,python list comprehension VS for behaviour,">>> def noop(x): pass
... 
>>> [noop(i) for i in range(5)]
[None, None, None, None, None]
"
24345,75513,How to read file into dictionary in python,"with open(datafile) as f:
    d = {}
    for line in f:
        key,value = line.split(None,1)
        d[key] = ast.literal_eval(value)
"
790,13431,cross validation in sklearn with given fold splits,"fold_labels = df[""fold""]
from sklearn.cross_validation import LeaveOneLabelOut
cv = LeaveOneLabelOut(fold_labels)

lasso_model = LassoCV(cv=cv, alphas=reg_para)
"
30266,83286,How to Convert Tuple to Dictionary?,">>> import ast
>>> ast.literal_eval(a[1])
{1: 2, 2: 4, 3: 6, 4: 8, 5: 10, 6: 12}
"
1865,26851,Is there a more sensible way of writing this regular expression?,"^( {4})*#(\s.*\S)?$
"
12548,60798,Creating a relative symlink in python without using os.chdir(),"import os
os.symlink('file.ext', '/path/to/some/directory/symlink')
"
14189,20904,Django returning said rows in a queryset,"objectQuerySet = Recipient.objects.filter(incentiveid=incentive).order_by('fullname')[51:100]
"
25985,78943,How do you merge Pandas DataFrame rows into a string in one column?,"strJoin = lambda x:"","".join(x.astype(str))     
df.groupby(level=[0,1]).agg({""r3"":strJoin,""value"":np.sum})
"
15389,12768,Parse CSV and seperate fields with multiple values,"import csv

def import_text(filename, separator):
  for line in csv.reader(open(filename), delimiter=separator, skipinitialspace=True):
    if line[19]:
      for elt in line[19].split(separator):
        yield elt.strip()

for data in import_text('filename.csv', ','):
  print (data)
"
24276,70553,how to convert an adjacency matrix into a list of links,"import json
def convert(adj_lst):
    links = []
    for i,adj in enumerate(adj_lst):
        links.extend( [{'source':i,'target':n} for n in adj] )
    nodes = [{""name"":""Zone%d"" % i, ""group"":i} for i in xrange(len(adj_lst))]
    return {""nodes"":nodes, ""links"":links}

adj_list = [[1, 3, 4, 5, 6, 7, 8, 9], [0, 2, 3, 4, 5, 6, 7, 8, 9], [1, 3, 4, 7, 9], [0, 1, 2, 4, 5, 6, 7, 9], [0, 1, 2, 3, 6, 7, 8], [0, 1, 3, 6, 7, 8, 9], [0, 1, 3, 4, 5, 7, 8, 9], [0, 1, 2, 3, 4, 5, 6, 8, 9], [0, 1, 4, 5, 6, 7, 9], [0, 1, 2, 3, 5, 6, 7, 8]]
print json.dumps(convert(adj_list), indent=2)
"
15111,74477,"What is the best way to write a code in python to read some sample input from a ""txt"" files?","with open('sample.txt') as sample:
    num_testcases = int(sample.readline())
    assert 1 <= num_testcases <= 5
    for testcase in range(num_testcases):
        num_elems = int(sample.readline())
        assert 1 <= num_elems <= 10000
        elems = map(int, sample.readline().split())
        assert len(elems) == num_elems
        assert all(1 <= elem <= 100000 for elem in elems)
        method_test(elems)
"
14292,47123,Python: Windows System File,"from ctypes import *
kernel = windll.kernel32

GetFileExInfoStandard = 0

GetFileAttributesEx = kernel.GetFileAttributesEx
GetFileAttributesEx.restype = c_int
GetFileAttributesEx.argypes = # ...
"
10517,57555,Text Extraction from HTML Data,"<span id=""midArticle_1""></span><p>Here is the First Paragraph.</p><span id=""midArticle_2""></span><p>Here is the second Paragraph.</p><span id=""midArticle_3""></span><p>Paragraph Three.""</p>

print html.parse(url).xpath('//p/text()')
"
35772,63130,A loop issue and how to select closest values from given values,"def closest(data, num, n):
    return sorted(data, key=lambda x: abs(x - num))[:n]
"
16443,68233,Edit the text while parsing the xml file,"import xml.etree.ElementTree as ET
tree = ET.parse('hi.xml')

root = tree.getroot()
count = 0
for changetexts in root.findall('log'):
    temp = changetexts.text
    lines =  temp.splitlines()
    tenlines = lines[0:10]
    print (len(tenlines)) # Should be 10, use tenlines variable as you wish !!
"
38423,6386,Applying aggregation with multiple arguments,"val_cols = ['val_1', 'val_2']
def minmax(data):
    mins, maxs = [], []
    for vc in val_cols:
        data= data.sort(vc)  # use sort_values() with newer Pandas version
        mins.append(pd.Series(data.iloc[0][[vc, '%s_entry' % vc]], name='min')) 
        maxs.append(pd.Series(data.iloc[-1][[vc, '%s_entry' % vc]], name='max'))
    min = pd.concat(mins)
    max = pd.concat(maxs)
    return pd.DataFrame([min, max])
df.groupby('person').apply(minmax).unstack(-1)
"
33200,62723,What is the proper way to use str.decode and unicode.encode?,">>> '\xe3\x81\x82'.decode('utf-8')    # three top-bit-set bytes, representing one character
u'\u3042'                             # Hiragana letter A

>>> u'\u3042'.encode('shift-jis')
'\x82\xa0'                            # only requires two bytes in the Shift-JIS encoding

>>> unicode('\x82\xa0', 'shift-jis')  # alternative way of doing a decode
u'\u3042'
"
4650,31782,counting elements in list of strings python,"In [277]: L = ['a,b,c,d','e,f,g,h,i','j,k,l',]

In [278]: [item.count(',')+1 for item in L]
Out[278]: [4, 5, 3]
"
4213,55138,Is there any more elegant way to add a value sensitive unique together constraint in Django Model?,"# Equals user ID if active; otherwise null.
is_active = models.IntegerField(null = True, unique = True)
"
26963,12886,Python How to calculate number of days between 2 dates?,"    import datetime

    d1 = datetime.datetime(2013,12,22)
    d2 = datetime.datetime(2014,2,15)
    (d2-d1).days
"
34454,77255,shebang env preferred python version,"#!/bin/sh
''''which python2 >/dev/null 2>&1 && exec python2 ""$0"" ""$@"" # '''
''''which python  >/dev/null 2>&1 && exec python  ""$0"" ""$@"" # '''
''''exec echo ""Error: I can't find python anywhere""         # '''

import sys
print sys.argv
"
22247,79151,How do I turn a Python string stored in a variable into a byte sequence?,"my_string = '%s%s%s%s' % (first, second, third, fourth)
byte_string = my_string.encode('utf-8')
"
22777,42996,Multiple constructors in python?,"def __init__(self, city=""Berlin""):
  self.city = city
"
22921,4905,What are the rules for cpython's string interning?,"/* Intern selected string constants */
for (i = PyTuple_GET_SIZE(consts); --i >= 0; ) {
    PyObject *v = PyTuple_GetItem(consts, i);
    if (!all_name_chars(v))
        continue;
    PyUnicode_InternInPlace(&PyTuple_GET_ITEM(consts, i));
}
"
16861,2128,how to check if a string ends in a certain way?,"string.endswith('mp4') and string.startswith('/')

string.endswith('mp4') and ""/"" in string

string.endswith('mp4') and not ""A"" in string
"
11513,72598,Merging two arrays by column,">>> a = np.array([[1, 0, 0, 1], [0, 1, 0, 1], [0, 0, 0, 1], [1, 1, 0, 1]])
>>> b = np.array([[1, 0, 0, 1], [1, 1, 0, 1], [0, 1, 1, 0]])
>>> (a.dot(b.T) > 0).astype(int)
array([[1, 1, 0],
       [1, 1, 1],
       [1, 1, 0],
       [1, 1, 1]])
"
8834,43916,Waterfall plot python?,"# copied from 
# http://matplotlib.sourceforge.net/mpl_examples/mplot3d/wire3d_demo.py

from mpl_toolkits.mplot3d import axes3d
import matplotlib.pyplot as plt
import numpy as np

fig = plt.figure()
ax = fig.add_subplot(111, projection='3d')
X, Y, Z = axes3d.get_test_data(0.05)
ax.plot_wireframe(X, Y, Z, rstride=10, cstride=10)

plt.show()
"
18731,7599,Python multiprocessing - Why does pool.close() take so long to return?,"def close(self):
    debug('closing pool')
    if self._state == RUN:
        self._state = CLOSE
        self._worker_handler._state = CLOSE
"
4313,47397,Order a Django queryset in ascending order but with 0-valued items at the end,"Product.objects.all().order_by(\
        Case(When(price=0, then=Value(MAX_INT)), default=F('price')))
"
15290,68874,Finding the last group in a regular expression,"^(?P<first>[a-z]+)_(?P<middle>\w+?)(_(?P<last>[a-z]+))?$
"
151,39487,Better way to list all directories in Python other than self?,"walker = iter(os.walk(IMAGE_DIRECTORY))
next(walker)
for path, files, _ in walker:
    list_of_files.extend(os.path.join(path, f) in files)
"
37217,47010,Beatbox: How do I add a WHERE clause when pulling data from SFDC?,"svc.query(""SELECT ID,Website FROM Account where ID in (SELECT accountId FROM Opportunity)"")
"
33722,69321,Webapp username security,"import re
from unicodedata import normalize

_punct_re = re.compile(r'[\t !""#$%&\'()*\-/<=>?@\[\\\]^_`{|},.]+')

def slugify(text, delim=u'-'):
    """"""Generates an slightly worse ASCII-only slug.""""""
    result = []
    for word in _punct_re.split(text.lower()):
        word = normalize('NFKD', word).encode('ascii', 'ignore')
        if word:
            result.append(word)
    return unicode(delim.join(result))
"
32759,39636,Python equivalent of php's foreach($array as $key => &$value),"for i, val in enumerate(array):
    array[i] += 1
"
11406,2895,How to stop console from exiting,"import time
print ""Your GoodBye Message""
time.sleep(5)
"
30001,67804,"Python, How to fill between multiple (4) curves?","import pylab as plt 
import numpy as np 

fig = plt.figure(num=1)
ax=fig.add_subplot(111)

def f1(x): return 1/x
def f2(x): return 2/x
def f3(x): return np.sqrt(x**2-1)
def f4(x): return np.sqrt(x**2-2)

t=np.arange(1,5,1e-4) # use this if you want a better fill
t=np.arange(1,5,0.05)
y1=f1(t)
y2=f2(t)
y3=f3(t)
y4=f4(t*(t**2>2) + np.sqrt(2)*(t**2<=2) ) # Condition checking

y5 = np.array(map(min, zip(y2, y3)))
y6 = np.array(map(max, zip(y1, y4)))

ax.plot(t,y1, 'red')
ax.plot(t,y2, 'blue')
ax.plot(t,y3, 'green')
ax.plot(t,y4, 'purple')

ax.plot(t, y5, '+', ms=5, mfc='None', mec='black')
ax.plot(t, y6, 's', ms=5, mfc='None', mec='black')

ax.fill_between(t, y5, y6, where=y5>=y6)

plt.xlim([1.1,2.1])
plt.ylim([0.5,1.5])

plt.show()
"
20897,43151,Python catch text inside {},">>> import re
>>> s = ""{NOKIA}_B {Lumia 640 XL}_M {LTE}_O {8GB}_S""
>>> matches = re.findall(r""\{([0-9a-zA-Z ]*)\}"", s)
>>> print matches
['NOKIA', 'Lumia 640 XL', 'LTE', '8GB']
"
18166,21716,How to download a file from one byte to another byte.(for example downloading footer of an html file),"import urllib2

def read_range(url, rstart, rstop):
    # First request url
    response = urllib2.urlopen(url)

    # Ignore content to start byte
    response.read(max(rstart-1,0))

    # Read bytes we want.
    return response.read(rstop - rstart)

# First 200 bytes.
print read_range(""http://stackoverflow.com"", 0, 200)

# Last 200 bytes
print read_range(""http://stackoverflow.com"", 200, 0)

# Some bytes right in the middle
print read_range(""http://stackoverflow.com"", 400, 1000)

# Read whole file
print read_range(""http://stackoverflow.com"", 0, -1)
"
5766,32432,Specific rows from CSV as dictionary and logic when keys are the same - Python,"yourdict = dict()

with open(file) as f:
   filedata = f.read().splitlines()
   for line in filedata:
       linedata = line.split()
       if linedata[0] not in yourdict:
           yourdict[linedata[0]] = []
       yourdict[linedata[0]].append(int(linedata[3]))
       yourdict[linedata[0]].append(int(linedata[4]))

for key in yourdict:
    yourdict[key] = [min(yourdict[key]), max(yourdict[key])]
"
29974,19059,Set minimum column width to header width in PyQt4 QTableWidget,"table.resizeColumnsToContents()
"
32261,84660,Find names in list of strings and return pairs,">>> l = ""In the end Tom loves Julie. Fred and Tina are a lot better with dogs.I don't think Jack and Jenny belong together.""

>>> [[i for i in j.split() if i[0].isupper()][-2:] for j in l.split('.') if j]
[['Tom', 'Julie'], ['Fred', 'Tina'], ['Jack', 'Jenny']]
"
35906,24869,Displaying a Shapefile,"import shapefile
import matplotlib.pyplot as plt

sf = shapefile.Reader(""ap_abl"")

print(""Initializing Display"")
fig = plt.figure()
ax = fig.add_subplot(111)
plt.xlim([76, 85])
plt.ylim([12, 21])
print(""Display Initialized"")

for shape in sf.shapes():
    print(""Finding Points"")
    points = shape.points
    print(""Found Points"")    

    print(""Creating Polygon"")
    ap = plt.Polygon(points, fill=False, edgecolor=""k"")
    ax.add_patch(ap)
    print(""Polygon Created"")

print(""Displaying Polygons"")
plt.show()
"
30749,40671,Python Mock object with method called multiple times,"def my_side_effect(*args, **kwargs):
    if args[0] == 42:
        return ""Called with 42""
    elif args[0] == 43:
        return ""Called with 43""
    elif kwarg['foo'] == 7:
        return ""Foo is seven""

mockobj.mockmethod.side_effect = my_side_effect
"
11654,83540,Appending string using python,"def findFruit(f):
    global fruits
    fruits = ' # '.join('""{}""'.format(s) for s in f.strip().split() if s.startswith(('Man', 'Gra', 'Bana')))


>>> fruits
'""Mango"" # ""Grape"" # ""Banana""'
"
24600,34754,Parsing a pipe delimited file in python,"fileHandle = open('file', 'r')

for line in fileHandle:
    fields = line.split('|')

    print(fields[0]) # prints the first fields value
    print(fields[1]) # prints the second fields value

fileHandle.close()
"
25720,5950,How to filter by field of field (multi level relationship) in django admin?,"school_name = ""your school name""
Students_in_school = Student.objects.filter(grade__school__name = school_name)
"
27614,42880,Python reordering the list of lists after sorting,"my_list.sort(key=lambda x:(x[1], x[2]), reverse=True)
"
36504,38459,Python QT emit SIGNAL is not invoking callback function,"from PyQt4.QtGui import QApplication
from PyQt4.QtCore import *
import time

@pyqtSlot(dict)
def callback(param):
    print ""in callback""
    print param

class Test(QThread):

    mySignal =  pyqtSignal(dict,name=""mySignal"")

    def __init__(self):
        QThread.__init__(self)

    def run(self):
        while 1:
            print ""Test running""
            self.mySignal.emit({'a': 'b'})
            time.sleep(1)

if __name__ == ""__main__"":
    t = Test()
    t.start()
    t.mySignal.connect(callback)
    app = QApplication([])
    app.exec_()
"
16115,28733,Derive db.Model subclass from db.Key,"cls = db.class_for_kind(db_key.kind())
"
20685,63981,Stripping characters from tuples in a list,"cleaned = [i[0] for i in [(280.73,), (281.359,), (280.630,)]]
"
12739,6082,Reading windows event log in Python using pywin32 (win32evtlog module),"import win32evtlog
import win32api
import win32con
import win32security # To translate NT Sids to account names.

import win32evtlogutil

def ReadLog(computer, logType=""Application"", dumpEachRecord = 0):
    # read the entire log back.
    h=win32evtlog.OpenEventLog(computer, logType)
    numRecords = win32evtlog.GetNumberOfEventLogRecords(h)
#       print ""There are %d records"" % numRecords

    num=0
    while 1:
        objects = win32evtlog.ReadEventLog(h, win32evtlog.EVENTLOG_BACKWARDS_READ|win32evtlog.EVENTLOG_SEQUENTIAL_READ, 0)
        if not objects:
            break
        for object in objects:
            # get it for testing purposes, but dont print it.
            msg = win32evtlogutil.SafeFormatMessage(object, logType)
            if object.Sid is not None:
                try:
                    domain, user, typ = win32security.LookupAccountSid(computer, object.Sid)
                    sidDesc = ""%s/%s"" % (domain, user)
                except win32security.error:
                    sidDesc = str(object.Sid)
                user_desc = ""Event associated with user %s"" % (sidDesc,)
            else:
                user_desc = None
            if dumpEachRecord:
                print ""Event record from %r generated at %s"" % (object.SourceName, object.TimeGenerated.Format())
                if user_desc:
                    print user_desc
                try:
                    print msg
                except UnicodeError:
                    print ""(unicode error printing message: repr() follows...)""
                    print repr(msg)

        num = num + len(objects)

    if numRecords == num:
        print ""Successfully read all"", numRecords, ""records""
    else:
        print ""Couldn't get all records - reported %d, but found %d"" % (numRecords, num)
        print ""(Note that some other app may have written records while we were running!)""
    win32evtlog.CloseEventLog(h)

def usage():
    print ""Writes an event to the event log.""
    print ""-w : Dont write any test records.""
    print ""-r : Dont read the event log""
    print ""-c : computerName : Process the log on the specified computer""
    print ""-v : Verbose""
    print ""-t : LogType - Use the specified log - default = 'Application'""


def test():
    # check if running on Windows NT, if not, display notice and terminate
    if win32api.GetVersion() & 0x80000000:
        print ""This sample only runs on NT""
        return

    import sys, getopt
    opts, args = getopt.getopt(sys.argv[1:], ""rwh?c:t:v"")
    computer = None
    do_read = do_write = 1

    logType = ""Application""
    verbose = 0

    if len(args)>0:
        print ""Invalid args""
        usage()
        return 1
    for opt, val in opts:
        if opt == '-t':
            logType = val
        if opt == '-c':
            computer = val
        if opt in ['-h', '-?']:
            usage()
            return
        if opt=='-r':
            do_read = 0
        if opt=='-w':
            do_write = 0
        if opt=='-v':
            verbose = verbose + 1
    if do_write:
        ph=win32api.GetCurrentProcess()
        th = win32security.OpenProcessToken(ph,win32con.TOKEN_READ)
        my_sid = win32security.GetTokenInformation(th,win32security.TokenUser)[0]

        win32evtlogutil.ReportEvent(logType, 2,
            strings=[""The message text for event 2"",""Another insert""],
            data = ""Raw\0Data"".encode(""ascii""), sid = my_sid)
        win32evtlogutil.ReportEvent(logType, 1, eventType=win32evtlog.EVENTLOG_WARNING_TYPE,
            strings=[""A warning"",""An even more dire warning""],
            data = ""Raw\0Data"".encode(""ascii""), sid = my_sid)
        win32evtlogutil.ReportEvent(logType, 1, eventType=win32evtlog.EVENTLOG_INFORMATION_TYPE,
            strings=[""An info"",""Too much info""],
            data = ""Raw\0Data"".encode(""ascii""), sid = my_sid)
        print(""Successfully wrote 3 records to the log"")

    if do_read:
        ReadLog(computer, logType, verbose > 0)

if __name__=='__main__':
    test()
"
27627,67247,"How to generate a word frequency histogram, where bars are ordered according to their height","import csv
from collections import Counter
import numpy as np
import matplotlib.pyplot as plt

word_list = ['A','A','B','B','A','C','C','C','C']

counts = Counter(word_list)

labels, values = zip(*counts.items())

# sort your values in descending order
indSort = np.argsort(values)[::-1]

# rearrange your data
labels = np.array(labels)[indSort]
values = np.array(values)[indSort]

indexes = np.arange(len(labels))

bar_width = 0.35

plt.bar(indexes, values)

# add labels
plt.xticks(indexes + bar_width, labels)
plt.show()
"
2091,10528,Django: simplifying a view,"from collections import defaultdict

...

if 'folding' not in request.session:
    request.session['folding'] = defaultdict(bool)

...

def update_folding_view(request, category, is_folded):
    if not request.is_ajax():
         raise Http404
    for item in category:             
        request.session['folding'][item] = is_folded
"
9259,38003,Cython setup.py to install compiled extension,"python setup.py build --build-base=/build/dirB
"
34302,82960,List comprehension to normalize values in a matrix,"from __future__ import division        # for Python2

results = [[item/sum(row) for item in row] for row in matrix] # a list of lists

print(results)
# Output
[[0.16666666666666666, 0.3333333333333333, 0.5], [0.2777777777777778, 0.3333333333333333, 0.3888888888888889]]
"
3470,1495,Python dict to DataFrame Pandas,"d = {u'instrument': u'EUR_USD', 
     u'candles': [
        {u'complete': True, u'closeMid': 1.26549, u'highMid': 1.27026, u'lowMid': 1.25006, u'volume': 138603, u'openMid': 1.26864, u'time': u'2014-09-29T21:00:00.000000Z'}, 
        {u'complete': True, u'closeMid': 1.275215, u'highMid': 1.27915, u'lowMid': 1.25838, u'volume': 164677, u'openMid': 1.265485, u'time': u'2014-10-06T21:00:00.000000Z'}, 
        {u'complete': True, u'closeMid': 1.279995, u'highMid': 1.288645, u'lowMid': 1.26249, u'volume': 207189, u'openMid': 1.27537, u'time': u'2014-10-13T21:00:00.000000Z'}, 
        {u'complete': True, u'closeMid': 1.269775, u'highMid': 1.28403, u'lowMid': 1.261385, u'volume': 125266, u'openMid': 1.280145, u'time': u'2014-10-20T21:00:00.000000Z'}, 
        {u'complete': True, u'closeMid': 1.24819, u'highMid': 1.27707, u'lowMid': 1.243775, u'volume': 210030, u'openMid': 1.270125, u'time': u'2014-10-27T21:00:00.000000Z'}, 
        {u'complete': True, u'closeMid': 1.242075, u'highMid': 1.25774, u'lowMid': 1.23582, u'volume': 246530, u'openMid': 1.24841, u'time': u'2014-11-03T22:00:00.000000Z'}, 
        {u'complete': True, u'closeMid': 1.244995, u'highMid': 1.25774, u'lowMid': 1.239455, u'volume': 167259, u'openMid': 1.242075, u'time': u'2014-11-10T22:00:00.000000Z'}
        ]}

df = pd.DataFrame.from_dict(d).join(pd.DataFrame.from_dict(d['candles'])).drop('candles', axis=1)
df
"
18558,24162,No handlers could be found for logger requests.packages.urllib3.connectionpool,"LOGGING = {
    ""formatters"": {
        ""verbose"": {
            ""format"": ""%(asctime)s %(levelname)s:%(name)s:L%(lineno)s: %(message)s""
        }
    },
    ""handlers"": {
        ""console"": {
            ""level"": ""DEBUG"",
            ""formatter"": ""verbose"",
            ""class"": ""logging.StreamHandler"",
        },
    },
    ""loggers"": {
        ""requests"": {
            ""handlers"": [""console""],
            ""level"": ""DEBUG"",
            ""propagate"": True,
        },
        ""requests.packages.urllib3.connectionpool"": {
            ""handlers"": [""console""],
            ""level"": ""DEBUG"",
            ""propagate"": True,
        },
    }
"
30070,53515,Django - Queryset alternative for model method,"def _total_sales_of_part_materials(self):
        sold = ProductPart.objects.filter(part=self)
        total_part_materials_sold = 0
        for object in sold:
            total_part_materials_sold += object.total_qty_sold
        return total_part_materials_sold
    total_sales_of_part_materials = property(_total_sales_of_part_materials)
"
318,15520,Override Django module class method,"import some_module

def my_method(self):
   pass

some_module.SomeClass.a_method = my_method
"
21088,21448,"trouble with FeatureClassToGeodatabase_conversion in arcpy, using .da.Walk","import arcpy,os, easygui,sys

mssng_files = r'L:\SF_HMP - transferred to Ydrive\Maps\broken_links_missing_files.txt'
wkspc = easygui.enterbox(""Enter workspace path:"",title='Search for Files')
output_loc = easygui.enterbox(""Output location:"",title='Copy Files')

with open(mssng_files) as filelist:
  for line in filelist:
    files_to_find.append(line.strip())


for dirpath, dirnames, filenames in arcpy.da.Walk(wkspc,datatype='FeatureClass'):
  for filename in filenames:
        if filename in files_to_find:
            ws_l = os.path.join(dirpath,filename)
            arcpy.env.workspace = ws_l
            arcpy.FeatureClassToGeodatabase_conversion(ws_l,output_loc)

for dirpath, dirnames, filenames in arcpy.da.Walk(wkspc,datatype='RasterDataset'):
  for filename in filenames:
        if filename in files_to_find:
            ws_r = os.path.join(dirpath,filename)
            arcpy.env.workspace = ws_r
            arcpy.RasterToGeodatabase_conversion(ws_r,output_loc)

for dirpath, dirnames, filenames in arcpy.da.Walk(wkspc,datatype='Table'):
  for filename in filenames:
        if filename in files_to_find:
            ws_t = os.path.join(dirpath,filename)
            arcpy.env.workspace = ws_t
            arcpy.TableToGeodatabase_conversion(ws_t,output_loc)
"
20416,26187,Maya Film Roll Matrix,"import math
import maya.cmds as cmds
import maya.OpenMaya as OpenMaya
import maya.OpenMayaUI as OpenMayaUI

# Get active view.
view = OpenMayaUI.M3dView.active3dView()

# Get camera MFnDagPath.
dagCam = OpenMaya.MDagPath()
view.getCamera(dagCam)

# Build MFnCamera.
fnCam = OpenMaya.MFnCamera(dagCam)

# Get post matrix.
postMatrix = fnCam.postProjectionMatrix()

# Get current film roll value to calculate roll.
filmRollValue = cmds.getAttr(""%s.filmRollValue"" % dagCam.fullPathName())
filmRollX = cmds.getAttr(""%s.horizontalRollPivot"" % dagCam.fullPathName())
filmRollY = cmds.getAttr(""%s.verticalRollPivot"" % dagCam.fullPathName())

dAspect = cmds.getAttr(""defaultResolution.deviceAspectRatio"")

# This is how rotation is calculated.
cz = math.cos(math.radians(filmRollValue))
sz = math.sin(math.radians(filmRollValue))

# Build the matrix.
# Row 1.
# Ensure to multiply mat[0][1] and mat[1][0] by device aspect.
matList = [0.0] * 16
matList[0] = cz
matList[1] = -sz * dAspect
matList[2] = 0.0
matList[3] = 0.0

# Row 2.
matList[4] = sz / dAspect
matList[5] = cz
matList[6] = 0.0
matList[7] = 0.0

# Row 3.
matList[8] = 0.0
matList[9] = 0.0
matList[10] = 1.0
matList[11] = 0.0

# Row 4.
# Here we're simply moving based along the rotation.
# We move it based on the offset from origin to film pivot.
# We multiply the y by the device aspect.
matList[12] = ((cz * -filmRollX) + (sz * (-filmRollY)) + filmRollX)
matList[13] = ((-sz * -filmRollX) + (cz * -filmRollY) + filmRollY) * dAspect
matList[14] = 0.0
matList[15] = 1.0

# Create MMatrix.
rollMMatrix = OpenMaya.MMatrix()
OpenMaya.MScriptUtil().createMatrixFromList(matList, rollMMatrix)

# Print values.
print(""\nFilm Roll Value: %s"" % filmRollValue)
print(""Film Roll Pivot X: %s"" % filmRollX)
print(""Film Roll Pivot Y: %s"" % filmRollY)

# I round because I don't want to see scientific notation.
print(""\nMy Post Projection Matrix:"")
for x in xrange(0, 4):
    print(round(rollMMatrix(x, 0), 5),
          round(rollMMatrix(x, 1), 5),
          round(rollMMatrix(x, 2), 5),
          round(rollMMatrix(x, 3), 5))

print(""\nPost Projection Matrix from Maya:"")
for x in xrange(0, 4):
    print(round(postMatrix(x, 0), 5),
          round(postMatrix(x, 1), 5),
          round(postMatrix(x, 2), 5),
          round(postMatrix(x, 3), 5))


Film Roll Value: 45.0
Film Roll Pivot X: 1.0
Film Roll Pivot Y: 1.0

My Post Projection Matrix:
(0.70711, -1.25708, 0.0, 0.0)
(0.39775, 0.70711, 0.0, 0.0)
(0.0, 0.0, 1.0, 0.0)
(-0.41421, 1.77778, 0.0, 1.0)

Post Projection Matrix from Maya:
(0.70711, -1.25708, 0.0, 0.0)
(0.39775, 0.70711, 0.0, 0.0)
(0.0, 0.0, 1.0, 0.0)
(-0.41421, 1.77778, 0.0, 1.0)
"
21263,33184,Python loop for fixed times,"a=0
for x in list:
    #whatever you are doing
    a+=1
    if a==30:
        break
#Then do it again
for x in list[a:]:
    #whatever you are doing
    a+=1
    if a==60:
        break
#Again
for x in list[a:]:
    #whatever you are doing
    a+=1
    if a==90:
        break

#Last Time!
for x in list[a:]:
    #whatever you are doing
"
17942,21333,Regex OR statement without matching,"\b(?:Q|L[A-Z])\d{8}\b
"
14859,20879,In Django how to show a list of objects by year,"{% regroup notices by year as year_list %}


{% for year in year_list %}
  <h2>{{ year.grouper }}<h2>

  <ul>
  {% for notice in year.list %}
     <li>{{ notice.text }}</li>
  {% endfor %}
  </ul>
{% endfor %}
"
19359,28679,Calling class members from function Definition,"class myClass():
    def __init__(self, member1 = 5):
        self.member1 = member1

def myFunction(x):
    var1 = myClass().member1
    print x, var1


myFunction(2)
"
10432,20642,Python script to generate JUnit report from another testing result,"# code snippet for the usage
"""""" a short example of how to use this module """"""
test_cases = []
for i in range(0, 5):
    type_c = """"
    if i % 2 == 0:
        type_c = ""failure""
    test_cases.append(TestCase(i, str(i) + ""contents"", type_c) )

junit_xml = JunitXml(""demo test example"", test_cases)
"
39680,35905,How can I check with boto if a python (django) app is running in EC2?,">>> boto.utils.get_instance_metadata(timeout=1, num_retries=1)
{}
>>>
"
6820,29738,import rpy quietly,"# define somewhere following:
import sys
import os
from contextlib import contextmanager

@contextmanager
def quiet():
    sys.stdout = sys.stderr = open(os.devnull, ""w"")
    try:
        yield
    finally:
        sys.stdout = sys.__stdout__
        sys.stderr = sys.__stderr__


# use it    
with quiet(): 
    # all is quiet in this scope
    import this  # just for testing
    from rpy import *  # or whatever you want
# and this will print something
import something_that_prints 
"
5620,84970,Printing dictionary using json.dumps in web2py,"{{=XML(json.dumps(testdictionary))}}
"
21658,28811,Insert a dot at a certain point on a line with matplotlib,"import matplotlib.pyplot as plt
plt.plot([1,2,3,4], [1,4,9,16], 'ro') # Your original list
plt.plot(5, 25, 'go')                 # Additional point
plt.plot(6, 36, 'yo')                 # Additional point
plt.axis([0, 10, 0, 40])              # Modified axis
plt.show()
"
15893,34391,How to interpret python source string as a real string?,">>> import ast
>>> my_src_str = '""""""hello""""""'
>>> ast.literal_eval(my_src_str)
'hello'
"
31214,62797,404 on requests without trailing slash to i18n urls,"MIDDLEWARE_CLASSES = (
   'django.contrib.sessions.middleware.SessionMiddleware',
   'django.middleware.locale.LocaleMiddleware',
   'django.middleware.common.CommonMiddleware',
   ...
)
"
30672,25904,The fourth root of (12) or any other number in Python 3,">>> def root(n, r=4):
...     from numpy import roots
...     return roots([1]+[0]*(r-1)+[-n])
...
>>> print(root(12))
[ -1.86120972e+00+0.j          -3.05311332e-16+1.86120972j
  -3.05311332e-16-1.86120972j   1.86120972e+00+0.j        ]
>>>
"
19666,26897,Pandas: Add data for missing months,"In [130]: df2 = df.set_index('month_year')

In [131]: df2 = df2.sort_index()

In [132]: df2
Out[132]: 
            customer_id   sales
month_year                     
2011-07              12   33.14
2011-11              12  182.06
2012-01              12   71.24
2012-03              12  155.32
2012-05              12    2.58

In [133]: df2.reindex(pd.period_range(df2.index[0],df2.index[-1],freq='M'))
Out[133]: 
         customer_id   sales
2011-07           12   33.14
2011-08          NaN     NaN
2011-09          NaN     NaN
2011-10          NaN     NaN
2011-11           12  182.06
2011-12          NaN     NaN
2012-01           12   71.24
2012-02          NaN     NaN
2012-03           12  155.32
2012-04          NaN     NaN
2012-05           12    2.58

In [135]: df2['customer_id'] = 12

In [136]: df2.fillna(0.0)
Out[136]: 
         customer_id   sales
2011-07           12   33.14
2011-08           12    0.00
2011-09           12    0.00
2011-10           12    0.00
2011-11           12  182.06
2011-12           12    0.00
2012-01           12   71.24
2012-02           12    0.00
2012-03           12  155.32
2012-04           12    0.00
2012-05           12    2.58
"
5521,57462,How to zero out values that are less than median in each row?,"A = np.array([[0,1,2], [3,4,5], [5,4,1]])
medians=np.median(A,axis=1)[np.newaxis].T
A[A<medians]=0

A=
 [[0 1 2]
 [3 4 5]
 [5 4 1]]

Medians=
 [[ 1.]
 [ 4.]
 [ 4.]]

A after subtracting medians
 [[0 1 2]
 [0 4 5]
 [5 4 0]]
"
37038,5035,Python: tarfile stream,"archive = 'dum/2164/archive.tar'

# Read input data.
input_tar = tarfile.open(archive, 'r')
tarinfo = input_tar.next()
fileobj = input_tar.extractfile(tarinfo)

# Write output file.
output_tar = tarfile.open('foo.tar', 'w')
output_tar.addfile(tarinfo, fileobj)

input_tar.close()
output_tar.close()
"
15328,54409,Printing Excel sheets with COM interface,"ws.ExportAsFixedFormat(0, 'c:\users\alex\foo.pdf')
"
9899,59015,"Why is there no ""++"" operation in Python?",">>> a = int(10)
>>> b = a
>>> print id(a), id(b)
166744132 166744132
>>> a += 1
>>> print id(a), id(b)
166744120 166744132
>>> print a, b
11 10
"
2269,30066,Drawing in a matplotlib widget in QtDesigner,"self.matplotlibwidget.axes.plot(x, y)
"
6054,27366,Options to read webcam using Python/Linux,"import gst

pipeline = gst.parse_launch(""""""
v4l2src ! decodebin ! ffmpegcolorspace ! pngenc ! filesink location=""%s""
"""""" % sys.argv[-1])

pipeline.set_state(gst.STATE_PLAYING)
"
38296,58686,PYTHON - How to change one character in many file names within a directory,"import os
files = os.listdir(""path/to/files"")
for src in files:
    dst = src.replace('S1', 'S2')
    os.rename(src, dst)
"
8560,68968,how to find if svn command executed successfully or not in python,"cmd = 'svn update http://myserver/myrepo'
p = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)
output, stderr = p.communicate()      
status = p.returncode
if output.strip().startswith('Skipped'):
    logging.error('A fatal has error occurred while executing command: ' + cmd)
    exit(-1)
"
25696,30961,How do I check to see if user added '.txt' to file name and add it if they did not?,"import os.path

if os.path.splitext(filename)[1] != '.txt':  # Ending is not '.txt'.
   filename += '.txt'
"
33516,49839,Parsing CSV File into Python into a contigous block,"filename = 'C:\Users\Riemmman\Desktop\SAMPLE_AAPL_DATA_FOR_Python.csv'
with open(filename, 'rb') as datafile:
    datareader = csv.reader(datafile)
    columns = zip(*datareader)
"
9080,40797,"Python getting the key of the highest value in dictionary, without using inbuilt functions","def get_max_val_key(data):
    max_value = None
    for key in data:
        if max_value is None or max_value < data[key]:
            max_value = data[key]
            max_key = key
    return max_key



data = {'a':11, 'b':12}
print(get_max_val_key(data))
"
19453,28931,Pickle data with a persistent_id to a binary object (dumps and loads),"def loadIO(buffer, **kwds):
    """"""load an object that was stored with dill.temp.dumpIO

    buffer: buffer object

    >>> dumpfile = dill.temp.dumpIO([1, 2, 3, 4, 5])
    >>> dill.temp.loadIO(dumpfile)
    [1, 2, 3, 4, 5]
    """"""
    import dill as pickle
    if PY3:
        from io import BytesIO as StringIO
    else:
        from StringIO import StringIO
    value = getattr(buffer, 'getvalue', buffer) # value or buffer.getvalue
    if value != buffer: value = value() # buffer.getvalue()
    return pickle.load(StringIO(value))

def dumpIO(object, **kwds):
    """"""dill.dump of object to a buffer.
Loads with ""dill.temp.loadIO"".  Returns the buffer object.

    >>> dumpfile = dill.temp.dumpIO([1, 2, 3, 4, 5])
    >>> dill.temp.loadIO(dumpfile)
    [1, 2, 3, 4, 5]
    """"""
    import dill as pickle
    if PY3:
        from io import BytesIO as StringIO
    else:
        from StringIO import StringIO
    file = StringIO()
    pickle.dump(object, file)
    file.flush()
    return file
"
17972,45932,How to use jinja2 and its i18n extenstion (using babel) outside flask,"Code sample
from jinja2 import Environment, FileSystemLoader
from babel.support import Translations

locale_dir = ""i18n""
msgdomain = ""html""
list_of_desired_locales = [""cs"", ""en""]
loader = FileSystemLoader(""templates"")
extensions = ['jinja2.ext.i18n', 'jinja2.ext.autoescape', 'jinja2.ext.with_']

translations = Translations.load(locale_dir, list_of_desired_locales)
env = Environment(extensions=extensions, loader=loader) # add any other env options if needed
env.install_gettext_translations(translations)

template = env.get_template(""stack.html"")
rendered_template = template.render()
"
9887,61198,Python nested list slicing,">>> [[n[0] for n in l]] + [u[1:] for u in l]
[['A', 'B', 'C', 'D'], ['A1', 1, 2, 3], ['A2', 4, 5, 6], ['A3', 7, 8, 9], ['A4', 10, 11, 12]]
"
4216,35821,Python Reindex Producing Nan,"In [32]:
test3.index  = ['f','g','z']

test3
Out[32]:
f    1
g    2
z    3
dtype: int64
"
10326,4140,Colors in Andrews Curves,"from pandas.compat import range, lrange, lmap, map, zip
from pandas.tools.plotting import _get_standard_colors
import pandas.core.common as com

def andrews_curves(data, class_column, ax=None, samples=200, colormap=None,
                   **kwds):
    """"""
    Parameters:
    -----------
    data : DataFrame
        Data to be plotted, preferably normalized to (0.0, 1.0)
    class_column : Name of the column containing class names
    ax : matplotlib axes object, default None
    samples : Number of points to plot in each curve
    colormap : str or matplotlib colormap object, default None
        Colormap to select colors from. If string, load colormap with that name
        from matplotlib.
    kwds : Optional plotting arguments to be passed to matplotlib

    Returns:
    --------
    ax: Matplotlib axis object

    """"""
    from math import sqrt, pi, sin, cos
    import matplotlib.pyplot as plt

    def function(amplitudes):
        def f(x):
            x1 = amplitudes[0]
            result = x1 / sqrt(2.0)
            harmonic = 1.0
            for x_even, x_odd in zip(amplitudes[1::2], amplitudes[2::2]):
                result += (x_even * sin(harmonic * x) +
                           x_odd * cos(harmonic * x))
                harmonic += 1.0
            if len(amplitudes) % 2 != 0:
                result += amplitudes[-1] * sin(harmonic * x)
            return result
        return f

    n = len(data)
    class_col = data[class_column]
    uniq_class = class_col.drop_duplicates()
    columns = [data[col] for col in data.columns if (col != class_column)]
    x = [-pi + 2.0 * pi * (t / float(samples)) for t in range(samples)]
    used_legends = set([])

    colors = _get_standard_colors(num_colors=len(uniq_class), colormap=colormap,
                                  color_type='random', color=kwds.get('color'))
    col_dict = dict([(klass, col) for klass, col in zip(uniq_class, colors)])
    if ax is None:
        ax = plt.gca(xlim=(-pi, pi))
    for i in range(n):
        row = [columns[c][i] for c in range(len(columns))]
        f = function(row)
        y = [f(t) for t in x]
        label = None
        if com.pprint_thing(class_col[i]) not in used_legends:
            label = com.pprint_thing(class_col[i])
            used_legends.add(label)
            ax.plot(x, y, color=col_dict[class_col[i]], label=label, **kwds)
        else:
            ax.plot(x, y, color=col_dict[class_col[i]], **kwds)

    ax.legend(loc='upper right')
    ax.grid()
    return ax
"
37760,40571,"Is it possible to run a Python script as a service in Windows? If possible, how?","import pythoncom
import win32serviceutil
import win32service
import win32event
import servicemanager
import socket


class AppServerSvc (win32serviceutil.ServiceFramework):
    _svc_name_ = ""TestService""
    _svc_display_name_ = ""Test Service""

    def __init__(self,args):
        win32serviceutil.ServiceFramework.__init__(self,args)
        self.hWaitStop = win32event.CreateEvent(None,0,0,None)
        socket.setdefaulttimeout(60)

    def SvcStop(self):
        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)
        win32event.SetEvent(self.hWaitStop)

    def SvcDoRun(self):
        servicemanager.LogMsg(servicemanager.EVENTLOG_INFORMATION_TYPE,
                              servicemanager.PYS_SERVICE_STARTED,
                              (self._svc_name_,''))
        self.main()

    def main(self):
        pass

if __name__ == '__main__':
    win32serviceutil.HandleCommandLine(AppServerSvc)
"
16540,65492,variable table name in sqlite,"def scrub(table_name):
    return ''.join( chr for chr in table_name if chr.isalnum() )

scrub('); drop tables --')  # returns 'droptables'
"
19317,78074,How to use the following piece of rsync command in subprocess call?,"rsync_out = subprocess.Popen(['sshpass', '-p', password, 'rsync', '--recursive', source], stdout=subprocess.PIPE)
output = subprocess.check_output(('grep', '\.'), stdin=rsync_out.stdout)
"
13372,9423,Authenticate windows server user in Python / C,"#!python
# -*- coding: utf-8 -*-

from os import environ
from ctypes import windll, byref, POINTER, FormatError, GetLastError
from ctypes.wintypes import (
  LPCWSTR, WCHAR, DWORD, HANDLE, BOOL
)

MAX_COMPUTERNAME_LENGTH = 15
LOGON32_LOGON_NETWORK_CLEARTEXT = 8
LOGON32_PROVIDER_DEFAULT = 0

CloseHandle = windll.Kernel32.CloseHandle
CloseHandle.argtypes = [HANDLE]
CloseHandle.restype = BOOL

LogonUser = windll.Advapi32.LogonUserW
LogonUser.argtypes = [LPCWSTR, LPCWSTR, LPCWSTR, DWORD, DWORD, POINTER(HANDLE)]
LogonUser.restype = BOOL

if __name__ == '__main__':
  username = 'MyUsername'
  password = 'MyPassword'

  token = HANDLE()
  status = LogonUser(username,
                     environ['COMPUTERNAME'],
                     password,
                     LOGON32_LOGON_NETWORK_CLEARTEXT,
                     LOGON32_PROVIDER_DEFAULT,
                     byref(token))
  error = GetLastError()

  if status:
    print('OK, successes')
    CloseHandle(token)
  else:
    print(FormatError(error))
"
24954,45487,Numbering print statements in python,"with open(filename) as f:
    for i, line in enumerate(f, 1):
        print('#{}: {}'.format(i, line.rstrip('\n'))
"
39518,34147,SQLite UPDATE field in one table based on foreign key of another table,"UPDATE agent
SET agent_last_request = ?
WHERE agent_id = (SELECT agent_id
                  FROM listings
                  WHERE listing_id = ?)
"
310,68039,How to create a persistant class using pickle in Python,"class AttrDict(dict):
    """"""A dictionary with attribute-style access. It maps attribute access to
    the real dictionary.  """"""
    def __init__(self, *args, **kwargs):
        dict.__init__(self, *args, **kwargs)

    def __getstate__(self):
        return self.__dict__.items()

    def __setstate__(self, items):
        for key, val in items:
            self.__dict__[key] = val

    def __repr__(self):
        return ""%s(%s)"" % (self.__class__.__name__, dict.__repr__(self))

    def __setitem__(self, key, value):
        return super(AttrDict, self).__setitem__(key, value)

    def __getitem__(self, name):
        return super(AttrDict, self).__getitem__(name)

    def __delitem__(self, name):
        return super(AttrDict, self).__delitem__(name)

    __getattr__ = __getitem__
    __setattr__ = __setitem__

    def copy(self):
        return AttrDict(self)
"
24643,35482,Model Method from rest_framework modelSerializer,"is_project = serializers.BooleanField(source='is_project')
"
25222,54784,Removing certain characters from a long string in python,"s = repr('''\n\t\n\t\n\t\tApple - Wikipedia, the free encyclopedia\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\n\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\n\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\tLanguage:English\xd8\xa7\xd9\x84\xd8\xb9\xd8\xb1\xd8\xa8\xd9\x8a\xd8\xa9Aragon\xc3\xa9sAsturianuAz\xc9\x99rbaycanca\xe0\xa6\xac\xe0\xa6\xbe\xe0\xa6\x82\xe0\xa6\xb2\xe0\xa6\xbeB\xc3\xa2n-l\xc3\xa2m-g\xc3\xbaBasa Banyumasan\xd0\x91\xd0\xb5\xd0\xbb\xd0\xb0\xd1\x80\xd1\x83\xd1\x81\xd0\xba\xd0''')
s =  re.sub(r'\\[tn]', '', s)
s =  re.sub(r'\\x..', '', s)
print s
"
31409,18166,How to tell ipcluster which python.exe to start,"WinPython-64bit-3.5.1.2\python-3.5.1.amd64\python.exe ""WinPython-64bit-3.5.1.1\python-3.5.1.amd64\Scripts\ipcluster.exe"" start -n 4
"
13287,8060,Jython equivalent of Java Code,"def execute(access):
  return access.getTree(SystemTree.Geographic).resolve(path).getDisplayName()

name = connection.runReadAction(readActionResult=execute)
"
6337,27091,Filtering of structured array via bit-wise operation (bitmask) on column data,"mask = (data['event_type'] & event_type).astype(bool)
"
25270,35887,"Tkinter - How would I create buttons in a new window, which has been created by a function being called? Python 3","from tkinter import *

root = Tk()

class App:
    def __init__(self):
        root.title(""Start up page"")
        root.geometry(""1920x1080"")
        self.beginB = Button(root, text=""Begin"", command=self.begin,
                        bg=""green"", height=10, width=30)
        self.beginB.grid(sticky = W)
    def begin(self):
        root.title(""main window"")
        self.beginB.destroy()
        del self.beginB
        self.goB = Button(root, text='Go on', command=self.go_on,
                                bg='red')
        self.goB.grid(sticky=E)
    def go_on(self):
        self.label = Label(root, text=""you have continued"")
        self.label.grid(row=1, sticky=S)

App()
root.mainloop()
"
26618,10042,How do I check if a checkbox is checked or unchecked? (In QTreeWidget),"class window(QtGui.QMainWindow):
    def __init__(self, parent=None):
        super(window, self).__init__(parent)
        self.TreeWidget = QtGui.QTreeWidget()
        self.TreeWidget.setColumnCount(1)
        # self.item1/2/3 = ....  save reference to the items
        #   to access them in the callback (check_status)
        item1 = self.item1 = QtGui.QTreeWidgetItem([""Item 1""])
        item1.setCheckState(0, QtCore.Qt.Checked)
        item2 = self.item2 = QtGui.QTreeWidgetItem([""Item 2""])
        item2.setCheckState(0, QtCore.Qt.Unchecked)
        item3 = self.item3 = QtGui.QTreeWidgetItem([""Item 3""])
        item3.setCheckState(0, QtCore.Qt.Unchecked)
        self.TreeWidget.addTopLevelItem(item1)
        self.TreeWidget.addTopLevelItem(item2)
        self.TreeWidget.addTopLevelItem(item3)
        self.setCentralWidget(self.TreeWidget)

        # connect the itemClicked signal to the callback check_status.
        self.TreeWidget.itemClicked.connect(self.check_status)

    def check_status(self):
        if self.item1.checkState(0) == QtCore.Qt.Checked:
            print('item 1 is checked')
        if self.item2.checkState(0) == QtCore.Qt.Checked:
            print('item 2 is checked')
        if self.item3.checkState(0) == QtCore.Qt.Checked:
            print('item 3 is checked')
"
4739,63105,"How to get a stereo wav file of the average and maximum volume for each channel? Get the volume in an array on a per second, for example?","# first channel
samples_o = samples[0::2]
# second channel
samples_c = samples[1::2]

# for 3 second 24000 = 8000*3
gr_size = len(samples_o) // gr_count 

lst = [lst[i:i+gr_size] for i in range(0, len(samples_o), gr_size)]

agr = []

for array in lst:
  max_el = np.argmax(array, axis=0)
  agr.append(max_el)

print np.mean(agr, axis=0) # avg max volume for first channel
"
22150,69999,Why doesn't my docopt option have its default value?,"Options:
  --help                        Show this message and exit
  --version                     Show version info and exit
  -w WIDTH --width=WIDTH        The out to out width of the deck (feet) 
                                [default: 73]
  -g GIRDERS --girders=GIRDERS  The number of girders [default: 8]
  -h HEIGHT --height=HEIGHT     The height of the girders (inches) 
                                [default: 56]
  -t THICK --thick=THICK        The deck thickness (inches) [default: 8]
  -a ADIM --adim=ADIM           The ""A"" dimension, max. deck thickness at 
                                centerline of girder (inches) [default: 12]
  -l LSLP --leftslope=LSLP      The left-hand deck slope (ft/ft)
                                [default: -0.02]
  -r RSLP --rightslope=RSLP     The right-hand deck slope (ft/ft)
                                [default: -0.02]
  -c --center                   Indicates pivot point is at center of bridge
  -o OFFSET --offset=OFFSET     The offset of pivot point from center
                                [default: 0]
"
39668,15724,joining-all-rows-of-a-csv-file-that-have-the-same-1st-column-value,"import csv
from itertools import izip_longest

def merge_rows(a, b):
    return [x or y for x,y in izip_longest(a, b, fillvalue='')]

def main():
    data = {}

    with open(""infile.csv"", ""rb"") as inf:
        incsv = csv.reader(inf, delimiter="";"")
        header = next(incsv, [])
        for row in incsv:
            label = row[0]
            try:
                data[label] = merge_rows(data[label], row)
            except KeyError:
                data[label] = row

    # write data in sorted order by label
    keys = sorted(data, key=lambda k: int(k))    # Python 2
    # keys = sorted(data.keys(), key=lambda k: int(k))    # Python 3

    with open(""outfile.csv"", ""wb"") as outf:
        outcsv = csv.writer(outf, delimiter="";"")
        outcsv.writerow(header)
        outcsv.writerows(data[key] for key in keys)

if __name__==""__main__"":
    main()
"
4083,51579,How to *extract* latitud and longitude greedily in Pandas?,"df['loc'] = df['loc'].str.replace('ut: ','')
df['lat'] = df['loc'].apply( lambda x: x.split(',')[0] )
df['lon'] = df['loc'].apply( lambda x: x.split(',')[1] )

          id                    loc         lat         lon
0  100005090  -38.229889,-72.326819  -38.229889  -72.326819
1  100020985  -33.442101,-70.650327  -33.442101  -70.650327
2   10002732  -33.437478,-70.614637  -33.437478  -70.614637
3  100039605   10.646041,-71.619039   10.646041  -71.619039
4  100048229    4.666439,-74.071554    4.666439  -74.071554
"
23039,41342,Why can't I define (and save) Tkinter fonts inside a function?,"def define_styles(root):
    default = tkFont.Font(root=root, name=""TkTextFont"", exists=True)

    large = default.copy()
    large.config(size=36)

    style = Style(root)
    style.configure(""Large.TLabel"", font=large)
    root.myfont = large
"
39172,46436,I have modulus and private exponent. How to construct RSA private key and sign a message?,"from Crypto.PublicKey import RSA
from Crypto.Util.number import bytes_to_long, long_to_bytes

full = RSA.generate(2048)

# construct key using only n and d
try:
    # pycrypto >=2.5, only tested with _slowmath
    impl = RSA.RSAImplementation(use_fast_math=False)
    partial = impl.construct((full.n, 0L))
    partial.key.d = full.d
except TypeError:
    # pycrypto <=2.4.1
    partial = RSA.construct((full.n, 0L, full.d))   



pub = full.publickey()

# create message with padding
# http://en.wikipedia.org/wiki/RSA_%28algorithm%29#Padding_schemes
cleartext = ...

signature = partial.sign(cleartext, None)

print ""validating message: "", pub.verify(cleartext, signature)


message = pub.encrypt(cleartext, None)

# bypassing the blinding step on decrypt
enc_msg=map(bytes_to_long, message)
dec_msg = map(partial.key._decrypt, enc_msg)

print ""decrypting: ""
for m in dec_msg:
    print long_to_bytes(m)
"
26783,67337,Python: Player Movement,"while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
        # Change the keyboard variables
        if event.type == KEYDOWN:
            if event.key == K_LEFT or event.key == ord('a'):
                moveLEFT = True
            elif event.key == K_RIGHT or event.key == ord('d'):
                moveRIGHT = True
            elif event.key == K_UP or event.key == ord('w'):
                moveUP = True
            elif event.key == K_DOWN or event.key == ord('s'):
                moveDOWN = True
        elif event.type == KEYUP:
            if event.key == K_ESCAPE:
                pygame.quit()
                sys.exit()
            elif event.key == K_LEFT or event.key == ord('a'):
                moveLEFT = False
            elif event.key == K_RIGHT or event.key == ord('d'):
                moveRIGHT = False
            elif event.key == K_UP or event.key == ord ('w'):
                moveUP = False
            elif event.key == K_DOWN or event.key == ord('s'):
                moveDOWN = False

         # <-- Dedent

    # Background Setup
    windowSurface.fill(WHITE)
    # Player Setup + Updating Screen
    if moveDOWN and player.bottom < WINDOWHEIGHT:
        player.top += MOVESPEED
    if moveUP and player.top > 0:
        player.top-= MOVESPEED
    if moveLEFT and player.left > 0:
        player.left -= MOVESPEED
    if moveRIGHT and player.right < WINDOWWIDTH:
        player.right += MOVESPEED
    pygame.draw.rect(windowSurface, GREEN, player)
    pygame.display.update()
    mainClock.tick(40)
"
27817,23441,How can I round the values displayed in a matplotlib pie chart?,"""""""
Make a pie chart - see
http://matplotlib.sf.net/matplotlib.pylab.html#-pie for the docstring.

This example shows a basic pie chart with labels optional features,
like autolabeling the percentage, offsetting a slice with ""explode"",
adding a shadow, and changing the starting angle.

""""""
from pylab import *

# make a square figure and axes
figure(1, figsize=(6,6))
ax = axes([0.1, 0.1, 0.8, 0.8])

# The slices will be ordered and plotted counter-clockwise.
labels = 'Frogs', 'Hogs', 'Dogs', 'Logs'
fracs = [15, 30, 45, 10]
explode=(0, 0.05, 0, 0)

pie(fracs, explode=explode, labels=labels,
                autopct='%1.0f%%', shadow=True, startangle=90)
                # The default startangle is 0, which would start
                # the Frogs slice on the x-axis.  With startangle=90,
                # everything is rotated counter-clockwise by 90 degrees,
                # so the plotting starts on the positive y-axis.

title('Raining Hogs and Dogs', bbox={'facecolor':'0.8', 'pad':5})

show()
"
6428,18207,Django port changing," $python manage.py runserver 127.0.0.1:8002
"
5864,51107,"Weasel Program, Not understanding Python random library?","offspring.append(child[:])
"
6547,4182,Create Boolean Columns in Pandas Dataframe using Dictionary,"service = pd.get_dummies(df['sport'].map(port_dict)).astype(bool) | pd.get_dummies(df['sport'].map(port_dict)).astype(bool)

df[services.columns] = services

In [166]: df.head()
Out[166]: 
   dport  sport    ftp   http
0      1      1  False  False
1     80      2  False  False
2      2     80  False   True
3      3     20   True  False
4      1      1  False  False
"
15427,25161,Remove row from matrix in python,">>> matrix = [[1,2,3],[4,5,6],[7,8,9]]
>>>
>>> # make matrix2 a (shallow) copy of matrix
>>> matrix2 = matrix[:]
>>> matrix2.remove(matrix[0])
>>> print(matrix2)
[[4, 5, 6], [7, 8, 9]]
"
13937,77951,Occurence of characters in common in two strings,"count = 0

for letter in set(string1):
  count += string2.count(letter)

print(count)
"
33840,66404,Python: unique values with longest keys,"from itertools import groupby
from operator import itemgetter
res = []
for k,v in groupby(sorted(d.items(),key=itemgetter(1)),key=itemgetter(1)):
    v = list(v)
    mx = max(v,key=lambda x:len(x[0]))
    res += [x for x in v if len(x[0]) == len(mx[0])]

res.sort()
for k,v in res:
    print(k,v)
('/a/b/c/d', [10, 22, 12])
('/e/f/h/i', [11, 28, 16])
('/j/k/l/m', [10, 22, 12])
"
2929,60304,how to Leverage browser caching in django,"location ~* \.(css|js|gif|jpe?g|png)$ {
  expires 168h;
  add_header Pragma public;
  add_header Cache-Control ""public, must-revalidate, proxy-revalidate"";
}
"
35347,42821,python reg-ex pattern not matching,">>> pattern = '(David Maxwell|David|Maxwell).*(educated at|graduated from|attended|studied at|graduate of).*Eton College'
>>> str = ""David Maxwell was educated at Eton College, where he was a King's Scholar and Captain of Boats, and at Cambridge University where he rowed in the winning Cambridge boat in the 1971 and 1972 Boat Races.""
>>> re.search(pattern, str)
<_sre.SRE_Match object at 0x1006d10b8>
"
11071,27161,How to compile gettext translations in setup.py of a Django app,"from django.core.management.commands.compilemessages import compile_messages
"
33634,30054,Python - how to convert parent child into a nested dictionary,"for element in node:
    if 'parent' in element:
        if 'children' not in node[element['parent']]:
            node[element['parent']]['children'] = []
        node[element['parent']]['children'].append(element)
        del element['parent']

test = node[0]
"
5473,15183,Can someone help me understand the following python program?,"s = 'Mary'
out = []
length = len(s) # in this case length=4

# for i in range(0, 4):
# i = 0
out.append(s[0])    # s[0] = 'M', out = ['M']
print(''.join(out)) # print('M')
# if i < length - 1: => if 0 < 3:
# loc(i + 1) => loc(1)
# for j in range(1, 4):
# j = 1
out.append(s[1])    # s[1] = 'a', out = ['M', 'a']
print(''.join(out)) # print('Ma')
# if j < length - 1: => if 1 < 3:
# loc(j + 1) => loc(2)
# for k in range(2, 4):
# k = 2
out.append(s[2])    # s[2] = 'r', out = ['M', 'a', 'r']
print(''.join(out)) # print ('Mar')
# if k < length - 1: => if 2 < 3:
# loc(k + 1) => loc(3)
# for l in range(3, 4):
# l = 3
out.append(s[3])    # s[3] = 'y', out = ['M', 'a', 'r', 'y']
print(''.join(out)) # print('Mary')
# if l < length - 1: => if 3 < 3:
# condition fails -> do not recurse
del out[-1] # out = ['M', 'a', 'r']
# end of for l in range(3, 4)
del out[-1] # out = ['M', 'a']
# k = 3, now in for k in range(2, 4):
out.append(s[3])    # s[3] = 'y', out = ['M', 'a', 'y']
print(''.join(out)) # print('May')
# if k < length - 1: => if 3 < 3:
# condition fails -> do not recurse
del out[-1] # out = ['M', 'a']
# end of for k in range(2, 4)
del out[-1] # out = ['M']
# j = 2, now in for j in range (1, 4):
out.append(s[2])    # s[2] = 'r', out = ['M', 'r']
print(''.join(out)) # print('Mr')
# if j < length - 1: => if 2 < 3:
# loc(j + 1) => loc(3)
# for m in range(3, 4)
# m = 3
out.append(s[3])    # s[3] = 'y', out = ['M', 'r', 'y']
print(''.join(out)) # print('Mry')
# if m < length - 1: => if 3 < 3:
# condition fails -> do not recurse
del out[-1] # out = ['M', 'r']
# end of for m in range(3, 4)
del out[-1] # out = ['M']
# j = 3, now in for j in range (1, 4):
out.append(s[3])    # s[3] = 'y', out = ['M', 'y']
print(''.join(out)) # print('My')
# if j < length - 1: => if 3 < 3:
# condition fails -> do not recurse
del out[-1] # out = ['M']
# end of for j in range(1, 4)
del out[-1] # out = []
# i = 1

#... you get the rest
"
24525,80654,How to determine if a mail fetch by imap base64 encoded?,"Content-Type: multipart/alternative; boundary=""=_d6644db1a848db3cb25f2a8973539487""
Subject: multipart sample
From: Foo Bar <foo@example.net>
To: Fred Flintstone <fred@example.net>

--=_d6644db1a848db3cb25f2a8973539487
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset=utf-8

SOME BASE64 HERE
--=_d6644db1a848db3cb25f2a8973539487
Content-Transfer-Encoding: base64
Content-Type: text/html; charset=utf-8

AND SOME OTHER BASE64 HERE
"
32160,42664,Is cProfile betraying me?,"import cProfile
import time
import pstats
import io

pr = cProfile.Profile(time.process_time)

pr.enable()

time.sleep(1)
for i in range(0, 1000):
    print(""hello world"")
time.sleep(1)
pr.disable()

s = io.StringIO()
sortby = 'cumulative'
ps = pstats.Stats(pr, stream=s).sort_stats(sortby)
ps.print_stats()
print(s.getvalue())
"
9692,27929,Chaining re.sub() without breaking previous re.sub() - python,"Solution
^\(?\w{1,3}\s*[):.]\s*
"
2221,27466,django queryset filter out the objects with same values,">>> s = ""[[[a_12]]] [[[|]]]""
>>> re.search(r'\[\[\[[^\]\|]+\]\]\]', s).group()
'[[[a_12]]]'

>>> s = ""[[[|]]] [[[a_12]]]""
>>> re.search(r'\[\[\[[^\]\|]+\]\]\]', s).group()
'[[[a_12]]]'
"
27682,26769,How do I do 'from foo import *' using Python's __import__ function,"# set values in current namespace
for name in vars(messages):
    v = getattr(messages, name)
    globals()[name] = v
"
34698,75485,"Query with paging by cursor causes error because of limitations for ""IN filter"" in cursor() method... What should be the alternative?","if cursor: # This is not actually a cursor! It is base64 datetime string
  cursordate = _strptime(base64.b64decode(cursor)) # _strptime is a local method that converts str to datetime

# IN has a limit for lists: 30 items allowed
listofNewsLists = []
listofMemberLists = [followed_member_list[i:i+30] for i in range(0, len(followed_member_list), 30)]
for eachList in listofMemberLists:
   query = NewsItem.all()
   query.filter('posted_by IN', eachList).filter('status =', 1)
   if cursor:
      query.filter('posted_on <', cursordate)
   query.order('-posted_on')                        
   listofNewsLists.append(query.fetch(PAGE_SIZE))

  newsList = []
  if listofNewsLists:
    emptyListCount = 0
    while len(newsList) < PAGE_SIZE and emptyListCount < len(listofNewsLists):
      max = datetime.datetime.min
      maxInd = -1
      emptyListCount = 0
      for i in range(len(listofNewsLists)):
        if listofNewsLists[i] == []:
          emptyListCount += 1
        elif listofNewsLists[i][0].posted_on > max:
          max = listofNewsLists[i][0].posted_on
          maxInd = i
      if max > datetime.datetime.min:
        newsList.append(listofNewsLists[maxInd].pop(0))

template_values['cursor'] = base64.b64encode(newsList[-1].posted_on.isoformat())
"
22871,11902,Python - color a 3d line plot,"fig = plt.figure(figsize(15,8))
ax = fig.gca(projection='3d')

x = FilteredDF['Wavelength']
z = FilteredDF['DNI']
y = FilteredDF['TESTNUM']

ax.scatter(x, y, z, c=plt.cm.jet(z/max(z)))

ax.set_xlabel('Wavelength')
ax.set_ylabel('Test Number')
ax.set_zlabel('Intensity')

plt.show()
"
17256,51684,Python variable in a sqlite query,"num = 5
cur.execute(""SELECT Name, Number FROM Ads WHERE Number = ?"", (num,))
"
25523,21245,How to annotate/highlight a 3d plot in MatPlotLib,"import matplotlib.pyplot as plt
from matplotlib import cm
from mpl_toolkits.mplot3d import Axes3D
import numpy as np
import mpl_toolkits.mplot3d.art3d as art3d
from matplotlib.patches import Rectangle, PathPatch

fig = plt.figure()
ax = fig.gca(projection='3d')
X = np.arange(-5, 5, 0.25)
Y = np.arange(-5, 5, 0.25)
X, Y = np.meshgrid(X, Y)
R = np.sqrt(X**2 + Y**2)
Z = np.sin(R)

xlo = X.min()
xhi = X.max()
ylo = Y.min()
yhi = Y.max()
zlo = -2
zhi = 2

surf = ax.plot_surface(X, Y, Z, rstride=1, cstride=1, linewidth=1, zorder=100)
cset = ax.contour(X, Y, Z, zdir='z', offset=zlo, alpha=0.0)

def highlight((xmin, xmax),(ymin, ymax)):
    # draw highlight on xz plane
    p1 = Rectangle((ymin,zlo),(ymax-ymin),(zhi-zlo), color='y', alpha=0.5, zorder=0)
    ax.add_patch(p1)
    art3d.pathpatch_2d_to_3d(p1, z=xlo, zdir='x')

    # draw highlight on yz plane
    p2 = Rectangle((xmin,zlo),(xmax-xmin),(zhi-zlo), color='y', alpha=0.5, zorder=0)
    ax.add_patch(p2)
    art3d.pathpatch_2d_to_3d(p2, z=yhi, zdir='y')

    # define a region to highlight
    highlight = (X>xmin)&(X<xmax)&(Y>ymin)&(Y<ymax)
    coll = ax.collections[0]
    # get the original color shading (if you want to keep that effect)
    colors = coll._facecolors_original
    #colors = coll.get_facecolors()
    # they are stored as a list for some reason so get the flat indicies
    for idx in np.where(highlight[:-1,:-1].flat)[0]:
        # and modifly one-by-one
        color = colors[idx][:]
        colors[idx][0] = color[2]  # swap red with blue
        colors[idx][3] = color[0]
        colors[idx][4] = .2  #change alpha
    # re-set the face colors
    coll.set_facecolors(colors)

highlight((-3,0),(-3,1))

ax.set_xlim3d(xlo, xhi)
ax.set_ylim3d(ylo, yhi)
ax.set_zlim3d(zlo, zhi)

plt.show()
"
19863,78560,"Processing large files: How to find all space-separated pairs ""name:number"" and insert a pair ""logname:log(number)"" right after the matching pair","$ cat tst.awk
{
    for (i=1; i<=NF; i++)
        if ( sub(/^A:/,"""",$i) )
            $i = sprintf(""A:%s logA:%.3f"",$i,log($i)/log(10))
    print
}
$ awk -f tst.awk file
A:164605 logA:5.216 B C D:23 A:223425 logA:5.349
"
28506,18201,"How would I implement ""tail"" over HTTP with Python Tornado?","import subprocess

import tornado.httpserver
import tornado.ioloop
import tornado.iostream
import tornado.options
import tornado.web

from tornado.options import define, options

define(""port"", default=8888, help=""run on the given port"", type=int)
define(
    ""inputfile"",
    default=""test.txt"",
    help=""the path to the file which we will 'tail'"",
    type=str)


class MainHandler(tornado.web.RequestHandler):
    @tornado.web.asynchronous
    def get(self):
        print ""GOT REQUEST""
        self.p = subprocess.Popen(
            [""tail"", ""-f"", options.inputfile, ""-n+1""],
            stdout=subprocess.PIPE)

        self.write(""<pre>"")
        self.write(""Hello, world\n"")
        self.flush()

        self.stream = tornado.iostream.PipeIOStream(self.p.stdout.fileno())
        self.stream.read_until(""\n"", self.line_from_nettail)

    def on_connection_close(self, *args, **kwargs):
        """"""Clean up the nettail process when the connection is closed.
        """"""
        print ""CONNECTION CLOSED!!!!""
        self.p.terminate()
        tornado.web.RequestHandler.on_connection_close(self, *args, **kwargs)

    def line_from_nettail(self, data):
        self.write(data)
        self.flush()
        self.stream.read_until(""\n"", self.line_from_nettail)

def main():
    tornado.options.parse_command_line()
    application = tornado.web.Application([
        (r""/"", MainHandler),
    ])
    http_server = tornado.httpserver.HTTPServer(application)
    http_server.listen(options.port)
    tornado.ioloop.IOLoop.instance().start()


if __name__ == ""__main__"":
    main()
"
4478,796,"Is there a better way than int( byte_buffer.encode('hex'), 16 )","from struct import Struct

unpacker = Struct(""b"")
unpacker.unpack(""z"")[0]
"
25103,81982,Avoid bad requests due to relative urls,"from scrapy.contrib.spiders import CrawlSpider, Rule
from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor
from scrapy.selector import HtmlXPathSelector
from scrapy.item import Item, Field

class Product(Item):
    name = Field()

class siteSpider(CrawlSpider):
    name = ""domain-name.com""
    allowed_domains = ['www.domain-name.com']
    start_urls = [""https://www.domain-name.com/en/""]
    rules = (
        Rule(SgmlLinkExtractor(allow=('\/en\/item\-[a-z0-9\-]+\-scrap\.html')), process_links='process_links', callback='parse_item', follow=True),
        Rule(SgmlLinkExtractor(allow=('')), process_links='process_links', follow=True),
    )

    def parse_item(self, response):
        x = HtmlXPathSelector(response)
        product = Product()
        product['name'] = ''
        name = x.select('//title/text()').extract()
        if type(name) is list:
            for s in name:
                if s != ' ' and s != '':
                    product['name'] = s
                    break
        return product

    def process_links(self,links):
        for i, w in enumerate(links):
            w.url = w.url.replace(""../"", """")
            links[i] = w
        return links
"
19326,1023,Find the maximum output over a variable-length period,"data one;
 length name $50;
 infile datalines delimiter=','; 
 input name $ dt profit;
 datalines;                      
  Widget1,1,5
  Widget1,2,1
  Widget1,3,-2
  Widget1,4,0
  Widget1,5,-3
  Widget1,6,8
  Widget1,7,-2
  Widget1,8,1
  Widget2,1,-1
  Widget2,2,1
  Widget2,3,-3
  Widget2,4,1
  Widget2,5,-60
  Widget2,6,9
  Widget2,7,-2
  Widget2,8,20
;

proc sql;
create table two as
  select a.name, a.dt as start, b.dt as end, b.profit
    from one as a cross join one as b
    where start <= end and a.name = b.name
  order by name, start, end;
quit;
run;

data two; set two;
  by name start;
  if first.start then sum=0;
  sum+profit;
  months = (end-start)+1;
run;

proc means noprint data=two(where=(months>=3));
  by name;
  output out=three(drop=_:) maxid(sum(start) sum(end))=start end max(sum)=;
run;
"
6681,22245,Sleeping in a batch file,"import time, sys

time.sleep(float(sys.argv[1]))
"
14616,32616,Django - query for to give rows where one column Not equals to another column in same model,"from django.db.models import F
from datetime import datetime

min_date = datetime(2013,12,31)
result = Table.objects.filter(in_time__gte=min_date).\
exclude(in_time__eq=F('actual_time'))
"
16063,40776,"pythonic way to get index,column for value == 1",">>> import numpy
>>> a = numpy.array([[1, 0, 1], [0, 1, 1], [0, 1, 0]])
>>> numpy.transpose(numpy.nonzero(a))
array([[0, 0],
       [0, 2],
       [1, 1],
       [1, 2],
       [2, 1]])
"
22707,31716,Avoid passing second param to every unit test using mock.patch,"def setUp(self):
    self.rpc_patcher = patch('listeners.RpcClient')
    self.MockClass = rpc_patcher.start()

def tearDown(self):
    self.rpc_patcher.stop()
"
3867,10795,Check minutes from time.struct_time object,"if epg_time_3.tm_min == 30:
    print ""you are here, now let do something...""
"
19194,70282,Find element's index in pandas Series,">>> myseries[myseries == 7]
3    7
dtype: int64
>>> myseries[myseries == 7].index[0]
3
"
25716,23158,How do I keep a wx.html.HtmlWindow at the same position during resize (without flicker)?,"import wx
import wx.lib.scrolledpanel as scrolledpanel


class ScrollableText(scrolledpanel.ScrolledPanel):
    def __init__(self, parent, id=-1, text=[[('black', 'adsf')]]):
        scrolledpanel.ScrolledPanel.__init__(self, parent, id)

        self.SetBackgroundColour('white')
        self.SetVirtualSize((1500, 1500))
        self.SetupScrolling(True, True)

        # a list of lists of (color, string) tuples
        self.Bind(wx.EVT_PAINT, self.redraw)
        self.Bind(wx.EVT_SIZE, self.resize)

        # setup the font
        self.font = wx.Font(10, wx.FONTFAMILY_MODERN, wx.NORMAL, wx.NORMAL)
        if not self.font.IsFixedWidth():
            self.font = wx.Font(10, wx.FONTFAMILY_TELETYPE, wx.NORMAL, wx.NORMAL)
        assert self.font.IsFixedWidth()

        self.text = text
        self.set_longest_line()

    def set_text(self, text):
        self.text = text
        self.set_longest_line()
        self.resize(None)
        self.Refresh()

    def set_longest_line(self):
        if len(self.text) > 0:
            self.longest_line = max([sum([len(s) for c, s in l]) for l in self.text])
        else:
            self.longest_line = 1

    def draw_lines(self, DC, start, end, lineheight):
        mw = 0
        DC.SetFont(self.font)
        for idx in range(max(0, start), min(end, len(self.text))):
            l = self.text[idx]
            combined = """".join([s[1] for s in l])
            extents = [0] + DC.GetPartialTextExtents(combined)
            for str in l:
                DC.SetTextForeground(str[0])
                DC.DrawText(str[1], extents[0], idx * lineheight)
                extents = extents[len(str[1]):]

    def resize(self, evt):
        DC = wx.ClientDC(self)
        DC.SetFont(self.font)

        # find line width and  height
        extent = DC.GetFullTextExtent('X'*self.longest_line)
        lineheight = extent[1]
        maxwidth = extent[0]

        # set virtual area
        vsize = (maxwidth, len(self.text) * lineheight)
        if self.GetVirtualSize() != vsize:
            self.SetVirtualSize(vsize)

    def redraw(self, evt):
        DC = wx.PaintDC(self)
        self.PrepareDC(DC)
        extent = DC.GetFullTextExtent('x'*self.longest_line)
        lineheight = extent[1]
        vs = self.GetViewStart()
        ppu = self.GetScrollPixelsPerUnit()
        ri = wx.RegionIterator(self.GetUpdateRegion())
        mmin, mmax = len(self.text), 0
        while ri:
            rect = ri.GetRect()
            # find the lines that need rendering
            min_y = rect[1] + vs[1] * ppu[1]
            max_y = rect[1] + rect[3] + vs[1] * ppu[1]
            min_line = int(min_y / lineheight) - 1
            max_line = int(max_y / lineheight) + 2
            mmin = min(min_line, mmin)
            mmax = max(max_line, mmax)
            ri.Next()
        self.draw_lines(DC, mmin, mmax, lineheight)



if __name__ == '__main__':
    class MainFrame(wx.Frame):
        def __init__(self, parent):
            wx.Frame.__init__(self, parent, -1)
            t = [[('black', l[:len(l)/2]), ('red', l[len(l)/2:])] for l in open('scrollable_text.py')]
            self.scrollable = ScrollableText(self, -1, t)

    app = wx.PySimpleApp(None,-1)
    frame = MainFrame(parent=None)
    frame.Show()
    app.MainLoop()
"
33959,13086,Python Regex punctuation recognition,"re.findall(r""/\,\b"", ""/NN ,/, breeding/VBG Lilacs/NNP out/RB of/IN the/DT dead/JJ land/NN"")
"
21587,7882,how to calculate startdate and enddate from basic from multiple dictionaries to list of dictionary,"d = {}

for i in dates:
  if not i['basic'] in d:
     d[i['basic']] = {}
     d[i['basic']]['start_date'] = []
     d[i['basic']]['end_date'] = []
  d[i['basic']]['start_date'].append(int(i['start_date'].replace('-','')))
  d[i['basic']]['end_date'].append(int(i['end_date'].replace('-','')))

# This will give you:

>>> d
{1000.0: {'start_date': [20110101, 20110501], 'end_date': [20110131, 20110531]},
 2000.0: {'start_date': [20120101, 20120501], 'end_date': [20120131, 20120531]},
 3500.0: {'start_date': [20130101, 20130201], 'end_date': [20130131, 20130228]},
 2500.0: {'start_date': [20120701, 20120801], 'end_date': [20120731, 20120831]},
 4000.0: {'start_date': [20131101], 'end_date': [20131130]}}

# Next, sort the start and end dates. We want the earliest start date,
# and the last end date for each number

for i in d.values():
   i['start_date'].sort()
   i['end_date'].sort(reverse=True)

# Now we have:

>>> d
{1000.0: {'start_date': [20110101, 20110501], 'end_date': [20110531, 20110131]},
 2000.0: {'start_date': [20120101, 20120501], 'end_date': [20120531, 20120131]},
 3500.0: {'start_date': [20130101, 20130201], 'end_date': [20130228, 20130131]},
 2500.0: {'start_date': [20120701, 20120801], 'end_date': [20120831, 20120731]},
 4000.0: {'start_date': [20131101], 'end_date': [20131130]}}

# To build our final result; we need to have for each
# number, the earliest start date, and the latest end date (which are the first
# items of each `start_date` and `end_date` dictionary keys

# Then we just do some formatting to get it back in to the date string

result = []
for i,v in d.iteritems():
   j = {}
   j['basic'] = i

   # Convert the start and end dates into strings
   # and format them
   start = str(v['start_date'][0])
   end = str(v['end_date'][0])

   j['start_date'] = '{0}-{1}-{2}'.format(start[:4],start[4:6],start[-2:])
   j['end_date'] = '{0}-{1}-{2}'.format(end[:4],end[4:6],end[-2:])

   result.append(j)
"
36798,47761,Loading one line of text from file to Kivy label,"from kivy.app import App
from kivy.lang import Builder
from kivy.properties import StringProperty

kv = '''

BoxLayout:
    orientation: 'vertical'
    Label:
        text: app.text
    Button:
        text: 'click me'
        on_press: app.clicked()

'''


class MyApp(App):
    text = StringProperty(""hello world"")

    def build(self):
        return Builder.load_string(kv)

    def clicked(self):
        self.text = ""clicked!""


if __name__ == '__main__':
    MyApp().run()
"
18995,69520,Seaborn: countplot() with frequencies,"import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import seaborn as sns
import matplotlib.ticker as ticker

# Some random data
dfWIM = pd.DataFrame({'AXLES': np.random.randint(3, 13, 5000)})
ncount = len(dfWIM)

plt.figure(figsize=(12,8))
ax = sns.countplot(x=""AXLES"", data=dfWIM, order=[3,4,5,6,7,8,9,10,11,12])
plt.title('Distribution of Truck Configurations')
plt.xlabel('Number of Axles')

# Make twin axis
ax2=ax.twinx()

# Switch so count axis is on right, frequency on left
ax2.yaxis.tick_left()
ax.yaxis.tick_right()

# Also switch the labels over
ax.yaxis.set_label_position('right')
ax2.yaxis.set_label_position('left')

ax2.set_ylabel('Frequency [%]')

for p in ax.patches:
    x=p.get_bbox().get_points()[:,0]
    y=p.get_bbox().get_points()[1,1]
    ax.annotate('{:.1f}%'.format(100.*y/ncount), (x.mean(), y), 
            ha='center', va='bottom') # set the alignment of the text

# Use a LinearLocator to ensure the correct number of ticks
ax.yaxis.set_major_locator(ticker.LinearLocator(11))

# Fix the frequency range to 0-100
ax2.set_ylim(0,100)
ax.set_ylim(0,ncount)

# And use a MultipleLocator to ensure a tick spacing of 10
ax2.yaxis.set_major_locator(ticker.MultipleLocator(10))

# Need to turn the grid on ax2 off, otherwise the gridlines end up on top of the bars
ax2.grid(None)

plt.savefig('snscounter.pdf')
"
35641,10100,How to convert dictionary with multiple values into a pandas dataframe?,"import pandas as pd
e = {}
for i in range(0, len(""length_of_the_row"")):
    e[i] = ""a"", ""b"", ""c"", ""d""

df = pd.DataFrame.from_dict(e, orient='index')
"
13312,25164,SQLite over LAN,"filename = 'base.db'

path = os.path.join('z:/', filename) if os.name == 'nt' else filename

con = lite.connect(path)
"
13451,34840,python sorting based on parallel arrays,">>> list_a = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> list_b = [4, 2, 5, 6, 1, 7, 3, 9, 0, 8]
>>> 
>>> import operator
>>>
>>> [k for k, v in sorted(zip(list_a, list_b), key=operator.itemgetter(1))]
[8, 4, 1, 6, 0, 2, 3, 5, 9, 7]
"
32816,10857,Regex for getting content between $ chars from a text,">>> import re
>>> p = re.compile('\$(.*?)\$')
>>> s = ""apple $banana$ coconut $delicious ethereal$ funkytown""
>>> p.findall(s)
['banana', 'delicious ethereal']
"
16857,30224,Add / update elements at position using lxml python,"  from lxml import etree

  def add_to_xml(tree, parent, subelement, index, column_value_split):
     element_found = tree.xpath(""(.//"" + parent + ""/"" + subelement + "")["" + index + ""]"")

     if not element_found:
        parent_element = tree.xpath("".//"" + parent)[0]
        node_element = etree.XML(""<"" + subelement + ""/>"")
        parent_element.insert(int(index), node_element)

     for column_value in column_value_split:
        element, element_value = column_value.split(""="")

        if element_found:
           item = element_found[0].xpath(element)[0]
           item.text = element_value
        else:
           sub_node_element = etree.XML(""<"" + element + ""/>"")
           node_element.append(sub_node_element)
           sub_node_element.text = element_value

  tree = etree.parse(""products_list.xml"")

  column_name = ""product_details/entry/1""
  column_value = ""key=ProductName;value=Maggi""

  parent, subelement, index = column_name.split(""/"")
  column_value_split = column_value.split("";"")

  add_to_xml(tree, parent, subelement, index, column_value_split)
"
26588,34255,Isit possible to union the similar GET requests in WEB output data in locust.io?,"client.get(""/get-user-settings/param1=%i&param2=%j"" % (i, j), name=""Get User Settings"")
"
18240,47378,make a total list of a returned map (python),"f1 = lambda x: ""a"" + x
f2 = lambda x: x + ""a""
l2 = map(f1,lst) + map(f2,lst)
print l2
"
1944,35943,Python : csv.writer writing each character of word in separate column/cell,"spamwriter.writerow([u' '.join(model.a.stripped_strings).encode('utf8').strip()])
"
5065,80445,if logic not working in array context for python,"def compute(d, t='c'):
    """"""
    d is the computing variable
    t is the type, can be a list
    """"""
    l = []
    for x in t:
        if t == 'a':
            l.append(fa(d))
        elif t == 'b':
            l.append(fb(d))
        else:
            l.append(fc(d))

    if len(l) == 1:
        return l[0]
    else:
        return l

compute(d, ['a', 'b', 'a' , 'c', 'b'])
"
20361,36617,Python: Reading cvs file into lists and an array,"import sys
import numpy as np

try:
    ifile = sys.argv[1]
   #; ofile = sys.argv[2]
except:
    print ""Usage:"", sys.argv[0], ""ifile""; sys.exit(1)   

# Open and read file from std, and assign first four (orbit, time, lat, lon)
# columns to four lists, and last 128 columns (waveforms) to an array.

def remove_bracket(line):
    return float(line.strip(""][ '""))

data = np.genfromtxt(ifile, delimiter = ',',
                     dtype = 'float',
                     converters = {i:remove_bracket for i in range(132)}
                     )

orbit = data[:,0]
time = data[:,1]
lat = data[:,2]
lon = data[:,3]
wvf = data[:,4:128]
print(wvf)
"
11426,8786,How to resize and draw an image using wxpython?,"import wx

def scale_bitmap(bitmap, width, height):
    image = wx.ImageFromBitmap(bitmap)
    image = image.Scale(width, height, wx.IMAGE_QUALITY_HIGH)
    result = wx.BitmapFromImage(image)
    return result

class Panel(wx.Panel):
    def __init__(self, parent, path):
        super(Panel, self).__init__(parent, -1)
        bitmap = wx.Bitmap(path)
        bitmap = scale_bitmap(bitmap, 300, 200)
        control = wx.StaticBitmap(self, -1, bitmap)
        control.SetPosition((10, 10))

if __name__ == '__main__':
    app = wx.PySimpleApp()
    frame = wx.Frame(None, -1, 'Scaled Image')
    panel = Panel(frame, 'input.jpg')
    frame.Show()
    app.MainLoop()
"
10206,13819,2 responses from 2 functions into new function,"if __name__ == '__main__':
  currtag = currentTag()
  newtag = newTag()
  compareTag(currtag,newtag)
"
15218,16291,Python subsetSum Function,"def subset_sum(lst, n):
    for i in range(len(lst)):
        for j in range(i + 1, len(lst)):
            for k in range(j + 1, len(lst)):
                if lst[i] + lst[j] + lst[k] == n:
                    return True
    return False    
"
38062,57026,Python Pandas: dtypes not show column types for all columns,"pd.set_option('display.max_rows', 120)
"
18897,20941,PyPlot reverse y-axis and logarithmic,"plt.scatter(x, y)
plt.yscale('log')
plt.gca().invert_yaxis()
plt.show()
"
32710,4399,Integrating HID access with evdev on linux with Python twisted,"from zope.interface import implementer
from twisted.internet.interfaces import IReadDescriptor

@implementer(IReadDescriptor)
class InputDescriptor(object):
    def __init__(self, reactor, inputDevice, eventReceiver):
        self._reactor = reactor
        self._dev = inputDevice
        self._receiver = eventReceiver

    def fileno(self):
        return self._dev.fileno()

    def logPrefix(self):
        return ""Input Device: "" + repr(self._dev)

    def doRead(self):
        evt = self._dev.read_one()
        try:
            self._receiver.eventReceived(evt)
        finally:
            pass

    def connectionLost(self, reason):
        self.stop()
        self._receiver.connectionLost(reason)

    def start(self):
        self._dev.grab()
        self._reactor.addReader(self)

    def stop(self):
        self._reactor.removeReader(self)
        self._dev.ungrab()

from evdev import InputDevice, categorize, ecodes, list_devices

devices = [InputDevice(fn) for fn in list_devices()]
for dev in devices:
   print(dev.fn, dev.name, dev.phys)

dev = InputDevice('/dev/input/event0')

class KeyReceiver(object):
    def eventReceived(self, event):
        if event.type == ecodes.EV_KEY:
            print(categorize(event))

    def connectionLost(self, reason):
        print(""Event device lost!!"", reason)

from twisted.internet import reactor
InputDescriptor(reactor, dev, KeyReceiver()).start()
reactor.run()
"
23321,27415,Set today date as default value in the model,"vote_date = models.DateField(_('vote date'), null=False, blank=False, auto_now=True)
"
26965,83090,Grinder - Accessing the Host ID,"import socket
# ...
host_id = socket.gethostname()
# or alternately
host_id = socket.gethostname().split('.')[0]
"
36133,6063,Problem with the size of the arrows on a vector field plot,"pylab.quiver(X,Y,(1,1,1),(1,1,1), scale=2**.5, units='y')
"
22488,43898,Correcting use of pool on python iterable,"def findSimilar(imagesdata):
    limg = imagesdata.pop()
    global img1  # making img1 accessible to getssim, a bad idea!
    img1 = limg[0][1]
    p = multiprocessing.Pool(maxtasksperchild=2)
    imagesdata = p.map(getssim, imagesdata)
    p.close()
    p.join()                                                                     
    imagesdata.sort(key=operator.itemgetter(1))
    return limg[0][0]  #return name of image
"
12489,60216,Label groups in a heat map,"import pandas as pd
from numpy.random import random_integers
from numpy import reshape
import matplotlib.pyplot as plt
from matplotlib.ticker import FixedLocator, FixedFormatter
alph = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
lalph = list(alph.lower())
alph = list(alph)

df = pd.DataFrame(random_integers(0,100,(26,26)),columns=alph,
                  index=lalph)

# Two lines just to make a plaid image in imshow 
differ = reshape([sum(df[col2]-df[col]) for col2 in df for col in df], (26,26))
differ = pd.DataFrame(differ, columns=alph,index=alph)

# pick the labels you want
ticks = [2, 14, 18, 19, 22] # C=2 because A=0 because Python is 0-indexed
ticklabels = [alph[x] for x in ticks]

fig = plt.figure(figsize=(3,5))
ax = fig.add_subplot(111)
ax.imshow(differ)
ax.autoscale(False)

# display only the chosen ticks and ticklabels
ax.xaxis.set_major_locator(FixedLocator(ticks))
ax.xaxis.set_major_formatter(FixedFormatter(ticklabels))
"
27946,15360,"Regex Or Expression , Python","\d?\w+\slayout
"
17115,27683,Get the Biggest (int) Input From a Loop and Print it,"def main():
    numbers = []
    times = int(input('How many times will you do this: '))
    for i in range(times):
        num = int(input('Enter a number: '))
        numbers.append(num)
    print(str(max(numbers)) + ' is the biggest number.')
main()
"
3826,25846,How to parallelize list-comprehension calculations in Python?,"import multiprocessing

try:
    cpus = multiprocessing.cpu_count()
except NotImplementedError:
    cpus = 2   # arbitrary default


def square(n):
    return n * n

pool = multiprocessing.Pool(processes=cpus)
print pool.map(square, xrange(1000))
"
1843,42499,How exactly does the pyglet game loop work?,"class Window:
    def __init__(self, x, y):
        global app
        app = self
    def event(self, func):
        self.what_todo = func
    def run(self):
        self.what_todo()

>>> game_window = Window(800, 600)
>>>
>>> @game_window.event
... def on_draw():
...     print(""I am drawing!"")
...
>>> app.run()
I am drawing!
>>>
"
701,76083,Python xml parsing using xml.etree.ElementTree not working,"import xml.etree.ElementTree as ET

data = '''
<nowdisplaying deviceID=""000C8"" source=""AIN"">
<ContentItem source=""AIN"" istable=""true""/>
<Status>L_STATE</Status>
</nowdisplaying>
'''

root = ET.fromstring(data)
print(""source:"", root.get(""source""))
"
32748,82209,NAO robot remote audio problems,"# -*- coding: utf-8 -*-

###########################################################
# Retrieve robot audio buffer
# Syntaxe:
#    python scriptname --pip <ip> --pport <port>
# 
#    --pip <ip>: specify the ip of your robot (without specification it will use the NAO_IP defined some line below
#
# Author: Alexandre Mazel
###########################################################

NAO_IP = ""10.0.252.126"" # Romeo on table
#~ NAO_IP = ""10.0.253.99"" # Nao Alex Blue


from optparse import OptionParser
import naoqi
import numpy as np
import time
import sys


class SoundReceiverModule(naoqi.ALModule):
    """"""
    Use this object to get call back from the ALMemory of the naoqi world.
    Your callback needs to be a method with two parameter (variable name, value).
    """"""

    def __init__( self, strModuleName, strNaoIp ):
        try:
            naoqi.ALModule.__init__(self, strModuleName );
            self.BIND_PYTHON( self.getName(),""callback"" );
            self.strNaoIp = strNaoIp;
            self.outfile = None;
            self.aOutfile = [None]*(4-1); # ASSUME max nbr channels = 4
        except BaseException, err:
            print( ""ERR: abcdk.naoqitools.SoundReceiverModule: loading error: %s"" % str(err) );

    # __init__ - end
    def __del__( self ):
        print( ""INF: abcdk.SoundReceiverModule.__del__: cleaning everything"" );
        self.stop();

    def start( self ):
        audio = naoqi.ALProxy( ""ALAudioDevice"", self.strNaoIp, 9559 );
        nNbrChannelFlag = 0; # ALL_Channels: 0,  AL::LEFTCHANNEL: 1, AL::RIGHTCHANNEL: 2; AL::FRONTCHANNEL: 3  or AL::REARCHANNEL: 4.
        nDeinterleave = 0;
        nSampleRate = 48000;
        audio.setClientPreferences( self.getName(),  nSampleRate, nNbrChannelFlag, nDeinterleave ); # setting same as default generate a bug !?!
        audio.subscribe( self.getName() );
        print( ""INF: SoundReceiver: started!"" );
        # self.processRemote( 4, 128, [18,0], ""A""*128*4*2 ); # for local test

        # on romeo, here's the current order:
        # 0: right;  1: rear;   2: left;   3: front,  

    def stop( self ):
        print( ""INF: SoundReceiver: stopping..."" );
        audio = naoqi.ALProxy( ""ALAudioDevice"", self.strNaoIp, 9559 );
        audio.unsubscribe( self.getName() );        
        print( ""INF: SoundReceiver: stopped!"" );
        if( self.outfile != None ):
            self.outfile.close();


    def processRemote( self, nbOfChannels, nbrOfSamplesByChannel, aTimeStamp, buffer ):
        """"""
        This is THE method that receives all the sound buffers from the ""ALAudioDevice"" module
        """"""
        #~ print( ""process!"" );
        #~ print( ""processRemote: %s, %s, %s, lendata: %s, data0: %s (0x%x), data1: %s (0x%x)"" % (nbOfChannels, nbrOfSamplesByChannel, aTimeStamp, len(buffer), buffer[0],ord(buffer[0]),buffer[1],ord(buffer[1])) );
        #~ print( ""raw data: "" ),
        #~ for i in range( 8 ):
            #~ print( ""%s (0x%x), "" % (buffer[i],ord(buffer[i])) ),
        #~ print( """" );

        aSoundDataInterlaced = np.fromstring( str(buffer), dtype=np.int16 );
        #~ print( ""len data: %s "" % len( aSoundDataInterlaced ) );
        #~ print( ""data interlaced: "" ),
        #~ for i in range( 8 ):
            #~ print( ""%d, "" % (aSoundDataInterlaced[i]) ),
        #~ print( """" );
        aSoundData = np.reshape( aSoundDataInterlaced, (nbOfChannels, nbrOfSamplesByChannel), 'F' );
        #~ print( ""len data: %s "" % len( aSoundData ) );
        #~ print( ""len data 0: %s "" % len( aSoundData[0] ) );
        if( False ):
            # compute average
            aAvgValue = np.mean( aSoundData, axis = 1 );
            print( ""avg: %s"" % aAvgValue );
        if( False ):
            # compute fft
            nBlockSize = nbrOfSamplesByChannel;
            signal = aSoundData[0] * np.hanning( nBlockSize );
            aFft = ( np.fft.rfft(signal) / nBlockSize );
            print aFft;
        if( False ):
            # compute peak
            aPeakValue = np.max( aSoundData );
            if( aPeakValue > 16000 ):
                print( ""Peak: %s"" % aPeakValue );
        if( True ):
            bSaveAll = True;
            # save to file
            if( self.outfile == None ):
                strFilenameOut = ""/out.raw"";
                print( ""INF: Writing sound to '%s'"" % strFilenameOut );
                self.outfile = open( strFilenameOut, ""wb"" );
                if( bSaveAll ):
                    for nNumChannel in range( 1, nbOfChannels ):
                        strFilenameOutChan = strFilenameOut.replace("".raw"", ""_%d.raw""%nNumChannel);
                        self.aOutfile[nNumChannel-1] = open( strFilenameOutChan, ""wb"" );
                        print( ""INF: Writing other channel sound to '%s'"" % strFilenameOutChan );

            #~ aSoundDataInterlaced.tofile( self.outfile ); # wrote the 4 channels
            aSoundData[0].tofile( self.outfile ); # wrote only one channel
            #~ print( ""aTimeStamp: %s"" % aTimeStamp );
            #~ print( ""data wrotten: "" ),
            #~ for i in range( 8 ):
                #~ print( ""%d, "" % (aSoundData[0][i]) ),
            #~ print( """" );            
            #~ self.stop(); # make naoqi crashes
            if( bSaveAll ):
                for nNumChannel in range( 1, nbOfChannels ):
                    aSoundData[nNumChannel].tofile( self.aOutfile[nNumChannel-1] ); 


    # processRemote - end


    def version( self ):
        return ""0.6"";

# SoundReceiver - end


def main():
    """""" Main entry point

    """"""
    parser = OptionParser()
    parser.add_option(""--pip"",
        help=""Parent broker port. The IP address or your robot"",
        dest=""pip"")
    parser.add_option(""--pport"",
        help=""Parent broker port. The port NAOqi is listening to"",
        dest=""pport"",
        type=""int"")
    parser.set_defaults(
        pip=NAO_IP,
        pport=9559)

    (opts, args_) = parser.parse_args()
    pip   = opts.pip
    pport = opts.pport

    # We need this broker to be able to construct
    # NAOqi modules and subscribe to other modules
    # The broker must stay alive until the program exists
    myBroker = naoqi.ALBroker(""myBroker"",
       ""0.0.0.0"",   # listen to anyone
       0,           # find a free port and use it
       pip,         # parent broker IP
       pport)       # parent broker port


    # Warning: SoundReceiver must be a global variable
    # The name given to the constructor must be the name of the
    # variable
    global SoundReceiver
    SoundReceiver = SoundReceiverModule(""SoundReceiver"", pip)
    SoundReceiver.start()

    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        print
        print ""Interrupted by user, shutting down""
        myBroker.shutdown()
        sys.exit(0)



if __name__ == ""__main__"":
    main()
"
32172,28987,Authentication in Django rest framework function based views,"from rest_framework.permissions import IsAuthenticated
from rest_framework.decorators import permission_classes

@api_view(['GET'])
@permission_classes((IsAuthenticated, ))
def example_view(request, format=None):
    .....
    <business logic>
    .....
"
32599,11609,Inheritante and class problems in python,"class Auction:
    def __init__(self, manager,auction):
        self.id = auction[""id""]
        self.manager = manager
        self.some_data = auction[""some_data""]
    def buy(self):
          return self.manager.buy()

class Manager(Auth):
    """"""used for search auctions, for example""""""
    def __init__(self, username, password):
        Auth.__init__(self, username, password)
    def pile(self):
        y = self.some_search_into_a_server()
        for x in y:
            yield Auction(self,x)
    def buy(self):
        """"""buy method for using by auction""""""
        pass

manager = Manager('user@example.com', 'a_very_secure_password')
for auction in manager.pile():
    auction.buy()
"
28002,60838,Python Werkzeug: modify Request values (forms and args) prior to retrieval,"def encode(value):
    #Your logic for the new dict vals
    return 'foo!'

class MixInRequest(Request):
    max_content_length = 1024 * 1024 * 4

    @cached_property
    def lcl_data(self):
        if self.method in ['POST','PUT','PATCH']:
            fields = dict([(key, encode(val)) for (key,val) in self.form.items()])
            return ImmutableMultiDict(fields)
        return None
"
17639,43515,Overlapping yticklabels: Is it possible to control cell size of heatmap in seaborn?,"import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# create some random data
data = np.random.rand(150, 10)

# get the tick label font size
fontsize_pt = plt.rcParams['ytick.labelsize']
dpi = 72.27

# comput the matrix height in points and inches
matrix_height_pt = fontsize_pt * data.shape[0]
matrix_height_in = matrix_height_pt / dpi

# compute the required figure height 
top_margin = 0.04  # in percentage of the figure height
bottom_margin = 0.04 # in percentage of the figure height
figure_height = matrix_height_in / (1 - top_margin - bottom_margin)


# build the figure instance with the desired height
fig, ax = plt.subplots(
        figsize=(6,figure_height), 
        gridspec_kw=dict(top=1-top_margin, bottom=bottom_margin))

# let seaborn do it's thing
ax = sns.heatmap(data, ax=ax)

# save the figure
plt.savefig('/tmp/test.png')
"
10223,11370,Python WebDriver how to print whole page source (html),">>> from selenium import webdriver
>>> driver = webdriver.Firefox()
>>> driver.get('http://google.com')
>>> print(driver.page_source)
<!DOCTYPE html>
<html xmlns=""http://www.w3.org/1999/xhtml"" lang=""en"" itemtype=""http://schema.org/WebPage"" itemscope=""""><head><meta name=""descri
...
:before,.vscl.vslru div.vspib{top:-4px}</style></body></html>
"
8192,41518,python nan and inf values,">>> float('NaN')
nan
>>> float('Inf')
inf
>>> -float('Inf')
-inf
>>> float('Inf') == float('Inf')
True
>>> float('Inf') == 1
False
"
14758,42973,Using scene.addRect in for loop. How do I add a variable number to the rectangle's name?,"L_rects = []
R_rects = []
for i in changeMatrix:
    count_j = 1
    for j in i:
        if j <> 0 and count_i <> count_j:
            textitem_L = scene.addText(L[count_j-1])
            textitem_R = scene.addText(L[count_i-1])
            textitem_L.setPos(0, count_valid*50)
            textitem_R.setPos(300, count_valid*50)
            rect_L = scene.addRect(50, count_valid*50, 25, 25, pen, brush)
            rect_R = scene.addRect(250, count_valid*50, 25, 25, pen, brush)
            rect_L.setFlags(QtGui.QGraphicsItem.ItemIsMovable | QtGui.QGraphicsItem.ItemIsSelectable | QtGui.QGraphicsItem.ItemIsFocusable | QtGui.QGraphicsItem.ItemSendsGeometryChanges)
            rect_R.setFlags(QtGui.QGraphicsItem.ItemIsMovable | QtGui.QGraphicsItem.ItemIsSelectable | QtGui.QGraphicsItem.ItemIsFocusable | QtGui.QGraphicsItem.ItemSendsGeometryChanges)
            rect_L.setAcceptsHoverEvents(True)
            rect_R.setAcceptsHoverEvents(True)
            L_rects.append(rect_L)
            R_rects.append(rect_R)
            count_valid += 1
        count_j += 1
    count_i += 1
"
17345,12190,JSON formatted logging with Flask and gunicorn,"[loggers]
keys=root, gunicorn.error, gunicorn.access
...
[logger_gunicorn.access]
level=(DEBUG|INFO|ERROR)
handlers=console
propagate=0
qualname=gunicorn.access
"
13276,5336,Novice to code: Converting individual numbers from an input into seperate values in binary,"ids = [1,2,3,4]

bins = ['{0:04b}'.format(i) for i in ids]

print(bins)

['0001', '0010', '0011', '0100']
"
35292,43396,random string from a sequence,"import random
a = ['off', 'it', 'on', 'not']
random.choice(a)
=> 'on' # just an example, it's a random output
"
14359,56695,Linking a Qst to the first Qst asked for the user in Python,"def phone():
    if input(""Did you  buy your phone recently? "") == 'yes':
        if input(""Did you drop your phone? "") == 'yes':
            print sol1
            return
        else: 
            print sol2 
            return

    else:
        phone() #this will make you go back to the start of your function, in this case the first question
"
9437,38982,Replace all occurrences of space until the first comma regex?,"with open('path/to/input') as infile:
  for line in infile:
    left, comma, right = line.partition(',')
    print ""%s%s%s"" %(left.replace(' ', ""+""), comma, right)
"
17381,8299,Drawing a graph or a network from a distance matrix?,"import networkx as nx
import numpy as np
import string

dt = [('len', float)]
A = np.array([(0, 0.3, 0.4, 0.7),
               (0.3, 0, 0.9, 0.2),
               (0.4, 0.9, 0, 0.1),
               (0.7, 0.2, 0.1, 0)
               ])*10
A = A.view(dt)

G = nx.from_numpy_matrix(A)
G = nx.relabel_nodes(G, dict(zip(range(len(G.nodes())),string.ascii_uppercase)))    

G = nx.to_agraph(G)

G.node_attr.update(color=""red"", style=""filled"")
G.edge_attr.update(color=""blue"", width=""2.0"")

G.draw('/tmp/out.png', format='png', prog='neato')
"
3230,4581,"How to change the directory where images are saved, scrapy","def item_completed(self, results, item, info):

    for result in [x for ok, x in results if ok]:
        path = result['path']
        slug = slugify(item['designer'])


        settings = get_project_settings()
        storage = settings.get('IMAGES_STORE')

        target_path = os.path.join(storage, slug, os.path.basename(path))
        path = os.path.join(storage, path)

        # If path doesn't exist, it will be created
        if not os.path.exists(os.path.join(storage, slug)):
            os.makedirs(os.path.join(storage, slug))

        if not os.rename(path, target_path):
            raise DropItem(""Could not move image to target folder"")

    if self.IMAGES_RESULT_FIELD in item.fields:
        item[self.IMAGES_RESULT_FIELD] = [x for ok, x in results if ok]
    return item
"
29286,10641,Timeout result if nothing returns from started process - Python,"import multiprocessing
import Queue

def functionA(return_queue):
    value1 = open()
    if (value1 != None):
        value2 = testcolor()
        return_queue.put(value2)
    else:
        value3 = close()
        return_queue.put(value3)


def functionB():

    return_queue = multiprocessing.Manager().Queue()

    proc = multiprocessing.Process(
        name='send_daemon%d', target=functionA, args=(return_queue,))
    proc.daemon = True
    proc.start()
    res = {'status': 'started' ,}

    try:
        # wait for two seconds for the function to return a value
        return_value = return_queue.get(timeout=2)
    except Queue.Empty:
        proc.terminate()
        return_value = None

    # do something with the return value here

    return json.dumps(res)
"
26124,30072,How to sort by two different dataFrame columns?,">>> product_df.sort(['product_desc','activity_month'])

   product_desc activity_month  prod_count    pct_ch
0    product_a     2014-01-01          53       NaN 
3    product_a     2014-02-01          52 -0.018868
6    product_a     2014-03-01          50 -0.038462
1    product_b     2014-01-01          44       NaN
4    product_b     2014-02-01          43 -0.022727
7    product_b     2014-03-01          41 -0.046512
2    product_c     2014-01-01          36       NaN
5    product_c     2014-02-01          35 -0.027778
8    product_c     2014-03-01          34 -0.028571
"
391,35651,Crawling depth automation,"from scrapy.contrib.spiders import CrawlSpider, Rule
from scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor
from scrapy.selector import Selector

class MySpider(CrawlSpider):
    name = 'example.com'
    allowed_domains = ['example.com']
    start_urls = ['http://www.example.com']

    rules = (
        Rule(SgmlLinkExtractor(allow=('country', )), callback='parse_country'),
        Rule(SgmlLinkExtractor(allow=('city', )), callback='parse_city'),
        Rule(SgmlLinkExtractor(allow=('street', )), callback='parse_street'),
    )

    def parse_country(self, response):
        self.log('Hi, this is a country page! %s' % response.url)

    def parse_city(self, response):
        self.log('Hi, this is a city page! %s' % response.url)

    def parse_street(self, response):
        self.log('Hi, this is a street page! %s' % response.url)
"
35227,53311,regexp for [nn.nn] or [nn] with corrected groupping,"\[(?:(\d+)\.{2})?(\d+)]
"
36670,67123,Marquee style progressbar in wxPython,"gauge.Pulse()
"
586,6327,Mapping a 3-dimensional coordinate to a 1-dimensional index,"def ravel_index(x, dims):
    i = 0
    for dim, j in zip(dims, x):
        i *= dim
        i += j
    return i
"
1923,53665,Scala/Python vs. Java: SparkContext.map vs. .filter in PI example?,"def inside(x, y):
    """"""Check if point (x, y) is inside a unit circle
    with center in the origin (0, 0)""""""
    return x*x + y*y < 1

points = ... 

# Scala / Python code is equivalent to this
sum([1 if inside(x, y) else 0 for (x, y) in points])

# While Java code is equivalent to this
len([(x, y) for (x, y) in points if inside(x, y)])
"
8617,52963,Finding specific prime number,"def fast_primes(max_n):
    numbers = range(3, max_n+1, 2)
    half = (max_n)//2
    initial = 4

    for step in xrange(3, max_n+1, 2):
        for i in xrange(initial, half, step):
            numbers[i-1] = 0
        initial += 2*(step+1)

        if initial > half:
            return [2] + filter(None, numbers)
start = 5
tmp = []
while len(tmp) <  10001:
    tmp=fast_primes(start)
    start <<=1

print tmp[10001]
"
8938,69761,How to make a custom container?,"from enaml.widgets.api import *


enamldef BannerContainer(Container):
    alias text: label.text
    Label: label:
        pass


enamldef Main(Window):
    Container:
        BannerContainer:
            text = 'First Banner'
            Container:
                padding = 0
                Field: pass
                Field: pass
                Field: pass
        BannerContainer:
            text = 'Second Banner'
            Container:
                padding = 0
                PushButton: pass
                PushButton: pass
                PushButton: pass
"
21271,21020,put stockprices into groups when they are within 0.5% of each other,"def markCluster(items, threshold):
    k = 1
    clusters = [items]
    maxdist = diameter(items)
    while maxdist > threshold:
        k += 1
        clusters = Kmc(items, k)
        maxdist = max(diameter(c) for c in clusters)
    return clusters
"
32509,78357,Is it possible to add a datetime column to a manytomany field?,"class Photographer(models.Model):
    # as above, but:
    likes = models.ManyToManyField('Photo', through='PhotoLikes', related_name='likedby', blank=True)

class PhotoLikes(models.Model):
    class Meta:
        db_table = 'djangoapp_photographer_likes'
        # or whatever your table is called
    photo = models.ForeignKey(Photo)
    photographer = models.ForeignKey(Photographer)
    liked = models.DateTimeField(null=True, blank=True, auto_now_add=True)
"
19705,20172,Why are PNG images rendered from a QGraphicsScene being incorrectly offset?,"view = QGraphicsView()
view.setScene(scene)
view.setSceneRect(QRectF(view.viewport().rect()))
"
11517,33649,How do I get my HTML button to delete the right list item from a SQLite database?,"<form action=""{{ url_for('delete_movie') }}"" method=post class=delete-movie>
<input type=hidden value=""{{ movie.name }}""name=movie_to_delete""></input>
<input type=submit></input>
</form>
"
18253,9376,"Using python, how to read a file starting at the seventh line ?","with open('dwn.txt') as f:
    for i in xrange(6):
        f.next()
    for line in f:
        process(line)
"
31660,60384,Converting hex to ascii while reading packets in scapy -- Python,">>> pkt_str = str(pkt)
>>> pkt_str
'\x00PV\xfc\xceP\x00\x0c)+S\x19\x08\x00E\x00\x00T\x00\x00@\x00@\x01Z|\xc0\xa8
\x19\x82\x04\x02\x02\x01\x08\x00\x9c\x90Za\x00\x01\xe6\xdapI\xb6\xe5\x08\x00
\x08\t\n\x0b\x0c\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b
\x1c\x1d\x1e\x1f !""#$%&\'()*+,-./01234567'
"
2101,32253,html appengine redirect URL,"http://www.yourapp.com/continue/1234
"
23035,76150,matplotlib plot integers on X Axis,"plt.ticklabel_format(style='plain',axis='x',useOffset=False)
"
7818,1910,Effective queue/linked list in Python,"Use Case                                      blist              list
--------------------------------------------------------------------------
Insertion into or removal from a list         O(log n)           O(n)
Taking slices of lists                        O(log n)           O(n)
Making shallow copies of lists                O(1)               O(n)
Changing slices of lists                      O(log n + log k)   O(n+k)
Multiplying a list to make a sparse list      O(log k)           O(kn)
Maintain a sorted lists with bisect.insort    O(log**2 n)        O(n)
"
39165,15356,Hide stdin data from user running script?,"sys.stdin = open(""/dev/stdin"")
"
26307,70563,waf pkg-config uselib_store variable," 1 def options(opt):                                                               
 2     opt.load(""compiler_cxx"")                                                    
 3                                                                                 
 4 def configure(conf):                                                            
 5     conf.check_cfg(package='gstreamer-0.10', args='--cflags --libs',            
 6             uselib_store='GSTREAMER')                                           
 7                                                                                 
 8     print (conf.env.LIB_GSTREAMER);                                                                   
 9                                                                                 
10 def build(bld):                                                                 
11     subdirs = []       
"
20351,46698,Creating a custom dialog that allows me to select all files at once or a single file individually,"import wx

class MyMCD(wx.Dialog):
    def __init__(self, parent, message, caption, choices=[]):
        wx.Dialog.__init__(self, parent, -1)
        self.SetTitle(caption)
        sizer = wx.BoxSizer(wx.VERTICAL)
        self.message = wx.StaticText(self, -1, message)
        self.clb = wx.CheckListBox(self, -1, choices = choices)
        self.chbox = wx.CheckBox(self, -1, 'Select all')
        self.btns = self.CreateSeparatedButtonSizer(wx.OK | wx.CANCEL)
        self.Bind(wx.EVT_CHECKBOX, self.EvtChBox, self.chbox)

        sizer.Add(self.message, 0, wx.ALL | wx.EXPAND, 5)
        sizer.Add(self.clb, 1, wx.ALL | wx.EXPAND, 5)
        sizer.Add(self.chbox, 0, wx.ALL | wx.EXPAND, 5)
        sizer.Add(self.btns, 0, wx.ALL | wx.EXPAND, 5)
        self.SetSizer(sizer)
#        self.Fit()

    def GetSelections(self):
        return self.clb.GetChecked()

    def EvtChBox(self, event):
        state = self.chbox.IsChecked()
        for i in range(self.clb.GetCount()):
            self.clb.Check(i, state)


if __name__ == '__main__':
    l = ['AND', 'OR', 'XOR', 'NOT']
    app = wx.PySimpleApp()
    dlg = MyMCD(None, 'Choose as many as you wish', 'MCD Title', choices = l)
    if dlg.ShowModal() == wx.ID_OK:
        result = dlg.GetSelections()
        wx.MessageBox(str(result) + ' were chosen')
    dlg.Destroy()  
"
31077,69994,read and write the same text file,"with open(file,'r+') as f:
    text = f.read()
    f.seek(0)
    f.truncate()
    f.write(replace_pattern.sub('',text))
"
24757,25011,Intercepting member reads and assignment in python,"class Blah(object):
    def __init__(self, value):
        self._value = value
    @property
    def value(self):
        return self._value
    @value.setter
    def value(self, value):
        self._value = value + 1

b = Blah(3)
b.value = 25
print b.value
# 26
"
1513,2106,"Python: Persistent cookie, generate `expires` field",">>> import time
>>> expires = time.time() + 14 * 24 * 3600 # 14 days from now
>>> time.strftime(""%a, %d-%b-%Y %T GMT"", time.gmtime(expires))
'Sat, 16-Jul-2011 12:55:48 GMT'
"
21315,30303,Freebase query to get alias using python,"import urllib, json

service_url = 'https://www.googleapis.com/freebase/v1/mqlread'
query = [{ ""name"": ""citigroup"", ""/common/topic/alias"": []}]

params = { 'query': json.dumps(query), 'key': key, 'limit':5}

url = service_url + '?' + urllib.urlencode(params)
response = json.loads(urllib.urlopen(url).read())
print response
"
4219,61926,change X ticks in matplotlib plot,"ax=plt.gca() 
#ax.get_xticks() will get the current ticks
ax.set_xticklabels(map(str, ax.get_xticks()/5.0))
"
30985,76249,How can I await inside future-like object's __await__?,"async def new_sleep():
    await asyncio.sleep(2)

class Waiting:
    def __await__(self):
        return new_sleep().__await__()
"
36555,35059,add column with constant value to pandas dataframe,"In [9]: df = DataFrame({'a': randint(3, size=10)})

In [10]:

In [10]: df
Out[10]:
   a
0  0
1  2
2  0
3  1
4  0
5  0
6  0
7  0
8  0
9  0

In [11]: s = df.a[:5]

In [12]: dfa, sa = df.align(s, axis=0)

In [13]: dfa
Out[13]:
   a
0  0
1  2
2  0
3  1
4  0
5  0
6  0
7  0
8  0
9  0

In [14]: sa
Out[14]:
0     0
1     2
2     0
3     1
4     0
5   NaN
6   NaN
7   NaN
8   NaN
9   NaN
Name: a, dtype: float64
"
6955,13558,Python Find Method in Strings Seems To Be Failing,"def find_segment(self):
    '''Finds the possible segments that correspond to the
       transaction code.
    '''
    with open(""transactioncodes.txt"", 'r') as _file:
        for line in _file:
            if line.startswith(self._transaction_code):
                return line[len(self._transaction_code):line.rfind(""-"")]
    return """"
"
32299,76487,How to use Python string formatting to convert an integer representing cents to a float representing dollars?,"import decimal
cents = 999
dollars = decimal.Decimal(cents) / 100
print dollars
"
8922,55933,Using Celery on processes and gevent in tasks at the same time,"python manage.py celery worker -P gevent --loglevel=INFO
"
16253,51499,"Using a dictionary that takes a list, a, as an argument and returns a list containing the elements of a that occur exactly once","def only_once(a):
    d = {}
    for item in a:
        if item not in d:
            d[item] = 0
        d[item] += 1
    return [item for item in a if d[item] == 1]
"
3252,83717,No Log file is generated -- python using logging module,"import  os,platform,logging

if platform.platform('windows'):
    logging_file=os.path.join(os.getenv('HOMEDRIVE'),os.getenv('HOMEPATH'),'test.log')
else:
    logging_file = os.path.join(os.getenv('HOME'),'test.log')

print""logging to"",logging_file

logging.basicConfig(level=logging.DEBUG,
                    format='%(asctime)s : %(levelname)s :%(message)s',
                    filename=logging_file,
                    filemode='w')


logging.debug(""start of the asdfasdfprogram"")
logging.info(""doing something"")
logging.warning(""u are gonna die"")
"
33917,6274,Subclass - Arguments From Superclass,"class Superclass(object):
    def __init__(self, arg1, arg2, arg3):
        #Initialise some variables
        #Call some methods

class Subclass(Superclass):
    def __init__(self, subclass_arg1, *args, **kwargs):
        super(Subclass, self).__init__(*args, **kwargs)
        #Call a subclass only method
"
18284,14412,Distinguishing argument value of `None` from the default parameter value of `None`,"_NOT_SET = object()

def some_function(some_arg=_NOT_SET):
    if some_arg is _NOT_SET:
        # ...
"
1110,51418,"Find a string in a text file, and then print the first words of the following lines in Python","  sfile=open(""file.txt"")
  data_sfile=sfile.read()
  myArray = data_sfile.split('\n') 

  for i in range(len(myArray)):
        if myArray[i].find(""NAME "")>=0:
          item1 = myArray[i+1]
          item2 = myArray[i+2]
          item3 = myArray[i+3]
          break

      item1 = item1 [0:5] 
      item2 = item2 [0:5] 
      item2 = item2 [0:5]

  sfile.close()
"
22072,68465,How to make Tkinter message expand when I resize the window?,"from tkinter import Tk, Message

root = Tk()
m = Message(text=""This is a Tkinter message widget. Pretty exiting, huh? I enjoy Tkinter. It is very simple."")
m.pack(expand=True, fill='x')
m.bind(""<Configure>"", lambda e: m.configure(width=e.width-10))
root.mainloop()
"
27440,45494,Multiprocessing BaseManager shutdown() takes twenty-seconds,"        process.join(timeout=0.2)
        if process.is_alive():
            util.info('manager still alive')
            if hasattr(process, 'terminate'):
                util.info('trying to `terminate()` manager process')
                process.terminate()
                process.join(timeout=0.1)
                if process.is_alive():
                    util.info('manager still alive after terminate')
"
27546,13204,"Given a list of slices, how do I split a sequence by them?","def splitter( s, points ):
    c = 0
    for x,y in points:
        yield s[c:x]
        yield ""(%s)"" % s[x:y+1]
        c=y+1
    yield s[c:]

print list(splitter(str, split_points))
# => ['M', '(SEP)', 'AGD', '(VRQN)', 'P', '(CG)', 'SKAC']

# if some start and endpoints are the same remove empty strings.
print list(x for x in splitter(str, split_points) if x != '')
"
30066,77291,How do I do a SQL style disjoint or set difference on two Pandas DataFrame objects?,"In [1]: df1 = DataFrame(list('ABCDE'), columns=['x'])

In [2]: df1
Out[2]:
   x
0  A
1  B
2  C
3  D
4  E

In [3]: df2 = DataFrame(list('CDEF'), columns=['y'])

In [4]: df2
Out[4]:
   y
0  C
1  D
2  E
3  F

In [5]: set(df1.x).symmetric_difference(df2.y)
Out[5]: set(['A', 'B', 'F'])
"
16217,41893,is there any build-in function can do skeletonization in openCV?,"import cv2
import numpy as np

img = cv2.imread('sofsk.png',0)
size = np.size(img)
skel = np.zeros(img.shape,np.uint8)

ret,img = cv2.threshold(img,127,255,0)
element = cv2.getStructuringElement(cv2.MORPH_CROSS,(3,3))
done = False

while( not done):
    eroded = cv2.erode(img,element)
    temp = cv2.dilate(eroded,element)
    temp = cv2.subtract(img,temp)
    skel = cv2.bitwise_or(skel,temp)
    img = eroded.copy()

    zeros = size - cv2.countNonZero(img)
    if zeros==size:
        done = True

cv2.imshow(""skel"",skel)
cv2.waitKey(0)
cv2.destroyAllWindows()
"
22148,53307,Variable defined in while loop cannot be defined,"h = 0
phase = 0
while True:
    try:
        h = int(raw_input(""Please Enter your altitude in metres > ""))
        if h > 0 and h < 11000:
            phase = 'Troposphere'
            break
    except ValueError:
            print 'Your entered value contained letters or punctuation. Please enter a numerical value.'
"
25344,60137,Sorting by Specific Column data using .csv in python,"import pandas as pd
df = pd.read_csv('Full_List.csv')
df = df.sort('red label')
df.to_csv('Full_List_sorted.csv', index=False)
"
11179,12496,Python Twisted proxy - how to intercept packets,"from twisted.web import proxy, http
from twisted.internet import reactor
from twisted.python import log
import sys

log.startLogging(sys.stdout)

class MyProxy(proxy.Proxy):
    def dataReceived(self, data):

      # Modify the data here
      print data

      # perform the default functionality on modified data 
      return proxy.Proxy.dataReceived(self, data)

class ProxyFactory(http.HTTPFactory):
  protocol=MyProxy

factory = ProxyFactory()
reactor.listenTCP(8080, factory)
reactor.run()
"
20389,72506,How to make a process run on AWS EC2 even after closing the local machine?,"dhanush          1327   0.0  0.0  2443312     56 s000  S+    3Sep15   0:00.99 screen -r server -p server
dhanush         79037   0.0  0.0  2432784    600 s008  S+    5:03PM   0:00.00 grep screen
"
32423,19768,Django count related objects,"q = A.objects.select_related().annotate(num_B=Count('B'))
print A[0].num_B
"
35781,18013,Python urllib2: Receive JSON response from url,"import urllib2
import json

response = urllib2.urlopen('https://api.instagram.com/v1/tags/pizza/media/XXXXXX')
data = json.load(response)   
print data
"
27093,43288,EDit Django admin Form so that only staff users can change users password,"password = ReadOnlyPasswordHashField(label= (""Password""),
        help_text= (""Raw passwords are not stored, so there is no way to see ""
                    ""this user's password, but you can change the password ""
                    ""using <a href=\""password/\"">this form</a>.""))
"
6226,70368,How to select rows in a dataframe based on values in three columns?,"df = df[((df.B>df.D) & (df.B<df.D*2)) & ((df.B>df.F) & (df.B<df.F*2))]
"
37313,44132,"What is the ""correct"" way to pass a boolean to a Python C extension?","
int PyObject_IsTrue(PyObject *o)
"
29841,77406,Translating Pig Latin into English Using Python 3,"def toEnglish(s):
    sentence = s.split("" "")
    english = """"
    for word in sentence:
        if word[:len(word) - 4:-1] == 'yaw':
            english += word[:len(word) - 3] + "" ""
        else: 
            noay = word[:len(word) - 2]
            firstconsonants = noay.split(""a"")[-1]
            consonantsremoved = noay[:len(noay) - (len(firstconsonants)+1)]
            english += firstconsonants + consonantsremoved + "" ""
    return english
"
27721,81482,How do you convert a char * with 0-value bytes into a python string?,"clibblah = ctypes.cdll.LoadLibrary('clibblah.dylib')
get_pixels = clibblah.get_pixels
get_pixels.restype = ctypes.POINTER(ctypes.c_char)

pixels = get_pixels()
num_pixels = clibblah.get_pixel_length()

# Slice the ctypes array into a Python string
a = pixels[:num_pixels]
"
1142,54803,Processing Strings Using a For Loop,"for character in text2:
    if character in text1:
        count += 1
"
9922,78774,How to Sort List Items from Low to High Without Built-In Tools,"def gensort(list):
    sorted_list = []
    for item in list:
        sorted_list = insert_sorted(item, sorted_list)
    return sorted_list
"
27349,19236,Python sniffer using pypcap and dpkt on OS X,"import dpkt, pcap, glob
for i in glob.glob(""/pcap/*.pcap""):
    pc = pcap.pcap(i)
    pc.setfilter('src host 192.168.1.140 or dst host 192.168.1.140')
    for timestamp, packet in pc:
        print dpkt.ethernet.Ethernet(packet)
"
36094,40662,skip every nth value when looping over a range - python,"for i in range(0,11):
    if i % 3 == 0 and i != 0:
        continue
    print(i)


1
2
4
5
7
8
10
"
23067,11684,Why can this unbound variable work in Python (pyquery)?,"def func_globals(f):
    return f.__globals__ if PY3k else f.func_globals

def filter(self, selector):
    if not hasattr(selector, '__call__'):
        return self._filter_only(selector, self)
    else:
        elements = []
        try:
            for i, this in enumerate(self):

                # The magic happens here
                func_globals(selector)['this'] = this

                if callback(selector, i):
                    elements.append(this)

        finally:
            f_globals = func_globals(selector)
            if 'this' in f_globals:
                del f_globals['this']
        return self.__class__(elements, **dict(parent=self))
"
1247,46446,Override Python Library File to Circumvent Size Limitation,"import sre_compile

def my_compile(p, flags=0):
    ...

sre_compile.compile = my_compile
"
23917,31233,PlotCanvas on a wx.Panel?,"!/usr/bin/python

import wx
import logging
import wx.lib.plot as plot

class PlotCanvasExample(plot.PlotCanvas):
    def __init__(self, parent, id, size):
        ''' Initialization routine for the this panel.'''
        plot.PlotCanvas.__init__(self, parent, id, style=wx.BORDER_NONE, size=desiredSize)
        self.data = [(1,2), (2,3), (3,5), (4,6), (5,8), (6,8), (10,10)]
        line = plot.PolyLine(self.data, legend='', colour='pink', width=2)
        gc = plot.PlotGraphics([line], 'Line Graph', 'X Axis', 'Y Axis')
        self.Draw(gc, xAxis=(0,15), yAxis=(0,15))

class MyFrame(wx.Frame):
    def __init__(self, parent, id ,size):
        wx.Frame.__init__(self, parent, id, size=desiredSize)
        sizer = wx.BoxSizer(wx.VERTICAL)
        self.canvas = PlotCanvasExample(self, 0, size)
        sizer.Add(self.canvas, 1, wx.EXPAND, 0)
        self.SetSizer(sizer)
        self.Layout()

if __name__ == '__main__':
    ''' Simple main program to display this panel. '''
    # Create a simple wxFrame to insert the panel into
    desiredSize = wx.Size(300,200)
    app = wx.PySimpleApp()
    frame = MyFrame(None, -1,  size=desiredSize)    
    frame.Show()
    app.MainLoop()
"
9982,27911,python scrapy sending data from function to function,"def parse(self, response):
    ...
    yield Request(Link, 
                  meta={'date': Date},
                  callback = self.parseOneCar)

def parseOneCar(self, response):
    ...
    Date = response.meta['date']
"
10232,72714,numpy._r with a list,"np.r_[tuple(L)]
"
24611,61782,Running a shell script through Fabric which wants to run a background running command,"run('nohup PATH_TO_JMETER/Jmetercommand & sleep 5; exit 0)
"
34838,57299,How to resize box axes in matplotlib,"fig, axs = plt.subplots(2,1)

axs[0].plot(np.random.randn(100).cumsum())
axs[1].plot(np.random.randn(100).cumsum())

aspect = np.diff(axs[1].get_xlim()) / np.diff(axs[1].get_ylim())
axs[1].set_aspect(aspect)
"
27950,78237,Is there a shorter syntax to insert values into a postgres table using psycopg2?,">>> ', '.join(['%s']*7)
'%s, %s, %s, %s, %s, %s, %s'

>>> 'INSERT INTO tablename(col1,col2,col3,col4,col5,col6,col7) VALUES (' + ', '.join(['%s']*7) + ');'
'INSERT INTO tablename(col1,col2,col3,col4,col5,col6,col7) VALUES (%s, %s, %s, %s, %s, %s, %s);'
"
4800,51162,Efficient string to hex function,"def StringToHexString(s):
    return ''.join( map(lambda param:hexLoookup[param], map(ord,s) ) )
"
2255,22700,Is there a built in python method for double slashing file paths?,"some_path = r""escape\codes\will\be\bypassed""
"
27115,48085,How can I remove the Unicode u from a JSON item?,">>> import json
>>> stuff = '[[""hiya""]]'
>>> js = json.loads(stuff)
>>> str(js[0][0])
'hiya'
"
39385,24562,continue by sock.recv() when empty python,"while True:
    readable, writable, exceptional = select.select([sock], [], [], 1.0)
    if readable:
        data = sock.recv(1024)
    else:
        print ""nothing yet""
"
3569,31422,Python: Parse Text file with '|' to MySql table,"import csv
with open('datafile.txt', 'rb') as f:
    for row in csv.reader(f, delimiter='|'):
        ...
"
9007,54465,Word of Hexadecimal Value in Python,"ctypes.c_short(int('FF20', 16)).value
"
35170,33166,How should I indicate that a test hasn't been written yet in Python?,"@skip(""skip this test"")
def testSomething(self):
    pass # TODO

def testBar(self):
    self.skipTest('We need a test here, really')

def testFoo(self):
    raise SkipTest('TODO: Write a test here too')
"
38327,55902,Make unicode from variable containing QString,"tmp = self.field.toPlainText()
print 'field.toPlainText: ', tmp

codec0 = QtCore.QTextCodec.codecForName(""UTF-16"");
codec1 = QtCore.QTextCodec.codecForName(""ISO 8859-2"");  

print 'UTF-16: ', unicode(codec0.fromUnicode(tmp), 'UTF-16')
print 'ISO 8859-2: ', unicode(codec1.fromUnicode(tmp), 'ISO 8859-2')
"
16180,4658,python pandas rolling window and recreate data frame,"k=3
pd.concat([df.groupby('user').apply(lambda x: pd.concat([x.iloc[i: i + k] for i in range(len(x.index) - k + 1)]))])


        attribute1  attribute2 user
user                               
A    0           0           1    A
     1           1           2    A
     2           1           3    A
B    3           1           3    B
     4           0           0    B
     5           2           0    B
     4           0           0    B
     5           2           0    B
     6           9           1    B
"
18146,8826,Extracting columns containing a certain name,"import csv


input_filename = 'input.csv'
output_filename = 'output.csv'

# Instantiate a CSV reader, check if you have the appropriate delimiter
reader = csv.reader(open(input_filename), delimiter=',')

# Get the first row (assuming this row contains the header)
input_header = reader.next()

# Filter out the columns that you want to keep by storing the column
# index
columns_to_keep = []
for i, name in enumerate(input_header):
    if 'net' in name:
        columns_to_keep.append(i)

# Create a CSV writer to store the columns you want to keep
writer = csv.writer(open(output_filename, 'w'), delimiter=',')

# Construct the header of the output file
output_header = []
for column_index in columns_to_keep:
    output_header.append(input_header[column_index])

# Write the header to the output file
writer.writerow(output_header)

# Iterate of the remainder of the input file, construct a row
# with columns you want to keep and write this row to the output file
for row in reader:
    new_row = []
    for column_index in columns_to_keep:
        new_row.append(row[column_index])
    writer.writerow(new_row)
"
19074,19097,How can I map non-English Windows timezone names to Olsen names in Python?,"  import win32timezone
  win32tz_name = win32timezone.TimeZoneInfo.local().timeZoneName
  win32timezone_to_en = dict(win32timezone.TimeZoneInfo._get_indexed_time_zone_keys())
  win32timezone_name_en = win32timezone_to_en.get(win32tz_name, win32tz_name)
  olsen_name = win32timezones.get(win32timezone_name_en, None)
  if not olsen_name:
      raise ValueError(u""Could not map win32 timezone name %s (English %s) to Olsen timezone name"" % (win32tz_name, win32timezone_name_en))
  return pytz.timezone(olsen_name)
"
29969,51876,Python Nested If,"def get_list(prompt, halt):
    lst = []
    while True:
        item = raw_input(prompt)
        if item == halt:
            return lst
        else:
            lst.append(item)

def check_list(lst, item):
    if item in lst:
        print('Yay there is {} here'.format(item))
        return True
    else:
        print('No you have not added {}'.format(item))
        return False

def get_yesno(prompt):
    while True:
        yesno = raw_input(prompt).lower()
        if yesno in {'y', 'yes'}:
            return True
        elif yesno in {'n', 'no'}:
            return False

def main():
    mylist = get_list('Add to list:', 'q')

    check = raw_input('Look for item:')
    if not check_list(mylist, check):
        if get_yesno('Would you like to add it?'):
            mylist.append(check)

    print(mylist)

if __name__==""__main__"":
    main()
"
9767,81832,Copying text changing some variables,"f = open(""template.txt"", ""r"")
g = open(""data.txt"", ""w"")
lines = f.readlines()
new_value_1 = ""Whatever""
new_value_2 = ""Whatever else""
for each in lines:
    if each.strip().startswith(""$DS_activation_energy""):
        split_val = each.split(""="")
        split_val[-1] = new_value_1
        new_val = ""= "".join(split_val) + ""\n""
        g.write(new_val)
    elif each.strip().startswith(""$DS_arrhenius_constant""):
        split_val = each.split(""="")
        split_val[-1] = new_value_2
        new_val = ""= "".join(split_val) + ""\n""
        g.write(new_val)
    else:
        g.write(each)
"
3857,47192,Python - return first value for each key,">>> d = {'4089e04a': ['24.0', '24.0', '24.0', '23.93', '23.93',\
'23.93'], '408b2e00': ['20.91', '33.33'], '408b2e0c': ['44.44']}
>>> [item[0] for item in d.values()]
['24.0', '20.91', '44.44']
"
30472,63462,How do you order lists in the same way QuerySets are ordered in Django?,"class Dated(models.Model):
  ...
  created = models.DateTimeField(default=datetime.now)

  class Meta:
    ordering = ('created',)

  def __cmp__(self, other):
    try:
      return cmp(self.created, other.created)
    except AttributeError:
      return cmp(self.created, other)
"
25304,70704,How to Parse a Json file and search for specific set of key words?,"import json
json_data=open('INPUT_FLIX_DB.json')
server_details = json.load(json_data)
json_data.close()
for id in server_details:
    type=[]
    if ""content-type"" in server_details[id]: 
         type.append(""content-type"")
    if ""x-frame-options"" in server_details[id]: 
         type.append(""x-frame-options"")
    print id,type
"
33247,821,sed regex to Python re,"pattern = re.compile('^[^ ]* ([^ ]*) ([0-9]*) ([0-9:]*) ([0-9]*) ')
"
15730,47087,python : zip file and avoid directory structure,"import os
import zipfile

def zip(src, dst):
    zf = zipfile.ZipFile(""%s.zip"" % (dst), ""w"", zipfile.ZIP_DEFLATED)
    abs_src = os.path.abspath(src)
    for dirname, subdirs, files in os.walk(src):
        for filename in files:
            absname = os.path.abspath(os.path.join(dirname, filename))
            arcname = absname[len(abs_src) + 1:]
            print 'zipping %s as %s' % (os.path.join(dirname, filename),
                                        arcname)
            zf.write(absname, arcname)
    zf.close()

zip(""src"", ""dst"")
"
21051,21487,populate python qt widget with items from class,"import sys, os
from PyQt4 import QtCore, QtGui    


class Profile(object):
    def __init__(self, name, plugins):
        self.name = name
        self.plugins = plugins


class Example(QtGui.QWidget):
    def __init__(self):
        super(Example, self).__init__()
        self.initUI()

    def initUI(self):

        self.profiles = [Profile(name=""3ds Max Workstation"", plugins=[""FumeFX"", ""Afterworks"", ""Multiscatter""]),
                    Profile(name=""3ds Max All Plugins"", plugins=[""FumeFX""]),
                    Profile(name=""3ds Max Lite"", plugins=[""default 3ds max""])]

        profile_names = [p.name for p in self.profiles]

        # make a model to store the profiles data in
        # changes to data will automatically appear in the widget
        self.uiProfilesModel = QtGui.QStringListModel()
        self.uiProfilesModel.setStringList(profile_names)

        # UI CONTORLS
        self.uiProfiles = QtGui.QComboBox(self)
        self.uiPluginList = QtGui.QListWidget(self)
        self.uiLaunch = QtGui.QPushButton(""Launch"")

        # associate the model to the widget
        self.uiProfiles.setModel(self.uiProfilesModel)

        # connect signals
        self.uiProfiles.currentIndexChanged.connect(self.on_select_profile)

        # STYLING
        self.uiLaunch.setToolTip('This is a <b>QPushButton</b> widget')
        self.uiLaunch.resize(self.uiLaunch.sizeHint())
        self.uiLaunch.setMinimumHeight(30)

        # UI LAYOUT
        grid = QtGui.QGridLayout()
        grid.setSpacing(10)
        grid.addWidget(self.uiProfiles, 1, 0)
        grid.addWidget(self.uiPluginList, 2, 0)
        grid.addWidget(self.uiLaunch, 3, 0)

        self.setLayout(grid) 
        self.setGeometry(300, 500, 600, 200)
        self.setWindowTitle('3ds Max Launcher')
        self.resize(400,150)
        self.show()

        # run once to fill in list
        self.on_select_profile(0)

    def on_select_profile(self, index):

        # clear list
        self.uiPluginList.clear()

        # populate list        
        for plugin in self.profiles[index].plugins:
            self.uiPluginList.addItem(plugin)


if __name__ == '__main__':

    app = QtGui.QApplication(sys.argv)
    ex = Example()
    ex.show()
    sys.exit(app.exec_())
"
2962,67477,Converting a list of strings to just appear as they are,"words = ['hello','my','name','is','david']
sentence = ' '.join(words)
"
2773,17522,How can I set the path for python3 properly?,"Warning: /usr/local/share/python is not needed in PATH.
Formerly homebrew put Python scripts you installed via `pip` or `pip3`
(or `easy_install`) into that directory above but now it can be removed
from your PATH variable.
Python scripts will now install into /usr/local/bin.
You can delete anything, except 'Extras', from the /usr/local/share/python
(and /usr/local/share/python3) dir and install affected Python packages
anew with `pip install --upgrade`.

Warning: /usr/bin occurs before /usr/local/bin
This means that system-provided programs will be used instead of those
provided by Homebrew. The following tools exist at both paths:
"
20947,39988,Joining two pandas dataframes,"In [159]:
Frame2.pivot(index='countryName',columns='category', values='value').merge(Frame1, left_index=True, right_on='countryName')

Out[159]:
category   A   B   C countryName var1 var2 var3 var4
3         10  11  12         JAP  ...  ...  ...  ...
2          7   8   9          NZ  ...  ...  ...  ...
1          4   5   6          UK  ...  ...  ...  ...
0          1   2   3         USA  ...  ...  ...  ...
"
26081,41765,Converting a data frame - Python,"def func(x):
    x.iloc[x.iloc[0]] = 1
    return x

In [66]: df
Out[66]: 
   d1  t1  t2  t3  t4  t5
0   5   0   0   0   0   0
1   1   0   0   0   0   0
2   3   0   0   0   0   0
3   4   0   0   0   0   0
4   1   0   0   0   0   0
5   2   0   0   0   0   0

In [67]: df.apply(func, axis=1)
Out[67]: 
   d1  t1  t2  t3  t4  t5
0   5   0   0   0   0   1
1   1   1   0   0   0   0
2   3   0   0   1   0   0
3   4   0   0   0   1   0
4   1   1   0   0   0   0
5   2   0   1   0   0   0
"
9384,19052,Multiqueries with python/mysql,"import MySQLdb

db = MySQLdb.connect(user=""username"", db=""dbname"")
cursor = db.cursor()

batch_queries = '''
    SELECT * FROM posts WHERE id=1;
    SELECT * FROM posts WHERE id=2;
'''
cursor.execute(batch_queries)

print cursor.fetchone()
while cursor.nextset():  # iterate to next result set if there is any
    print cursor.fetchone()

cursor.close()
"
31578,18656,How to create group values in classes in pandas?,"pb['label'] = pb['Progress']

pb['label'] = pb['label'].replace('Approved (Underwritten)', '1')
pb['label'] = pb['label'].replace('Approved (Automatic)', '1')
pb['label'] = pb['label'].replace('E-Sign (Accepted)', '1')
pb['label'] = pb['label'].replace('Initial Payment', '1')

pb['label'] = pb['label'].replace('Choose Product', '0')
pb['label'] = pb['label'].replace('Account Access', '0')
pb['label'] = pb['label'].replace('Credit Profile', '0')
pb['label'] = pb['label'].replace('Ineligible', '0')
pb['label'] = pb['label'].replace('Declined (Credit | Internal)', '0')
pb['label'] = pb['label'].replace('Declined (ID & Bank)', '0')
pb['label'] = pb['label'].replace('Declined (Underwritten)', '0')
pb['label'] = pb['label'].replace('Unauthorised', '0')
pb['label'] = pb['label'].replace('Pre-Declined', '0')
pb['label'] = pb['label'].replace('E-Sign (Referred)', '0')
pb['label'] = pb['label'].replace('Referred (Automatic | Expired)', '0')
"
9220,6979,Input from a Art Design Graphic Drawing Tablet,"def callback(event):
    print(event.num)#I have always seen one of (1,2,3,'??')
"
17871,69696,How to create recalculating variables in Python,">>> a = 2
>>> b = lambda: a + 2
>>> b()
4
>>> a = 3
>>> b()
5
"
20670,53002,HTML Newbie Question: Colored Background for Characters in Django HttpResponse,"aString = 'abcd'
newString =''
colors= [0.0, 1.0, 0.5, 1.0]
for i in aString:
    newString = newString + '<span style=""background-color: rgb(0,%s,0)"">%s</span>'%(colors.pop(0)*255,i)



response = HttpResponse(newString)
"
6224,63690,csrf_token not created on pages loaded via post,"from django.core.context_processors import csrf
from django.shortcuts import render_to_response

def my_view(request):
    if request.method == 'POST':
        c = {}
        c.update(csrf(request))
        return render_to_response(""a_template.html"", c)
    else:
        # GET code...
"
24034,43442,Dynamically bind method to class instance in python,"import sys
import types

def getobj(astr):
    """"""
    getobj('scipy.stats.stats') returns the associated module
    getobj('scipy.stats.stats.chisquare') returns the associated function
    """"""
    try:
        return globals()[astr]
    except KeyError:
        try:
            return __import__(astr, fromlist=[''])
        except ImportError:
            modname, _, basename = astr.rpartition('.')
            if modname:
                mod = getobj(modname)
                return getattr(mod, basename)
            else:
                raise

class ClassA(object):
    def __init__(self, methpath):
        super(ClassA, self).__init__()
        self.a = 1
        self.b = 2
        self.meth1 = types.MethodType(getobj(methpath), self)

a = ClassA('moduleB.meth2')
print(a.meth1())
# 3
"
28321,72347,Natural Language Processing using nltk,">>> import nltk
>>> tokens = nltk.word_tokenize(""People took to the streets and protested"")
>>> nltk.pos_tag(tokens)
[('People', 'NNS'), ('took', 'VBD'), ('to', 'TO'), ('the', 'DT'), ('streets', 'NNS'), ('and', 'CC'), ('protested', 'VBD')]
"
28615,19055,How to find the last targeted string in a string by Python?,"s = 'abcabc'
s.rindex('abc')  # evaluates to 3
"
37727,1917,Format Python Decimal object to a specified precision,">>> for dec in decimals:
...    print format(dec, '.2f')
... 
0.00
11.11
222.22
3333.33
1234.57
"
1187,56579,Django: Calling save() on FileField using field name as string,"getattr(new_image, 'variable').save(...)
"
4218,12285,nesting python list comprehensions to construct a list of lists,"f = open(r""temp.txt"")
[[c for c in line] for line in f]
"
26541,8250,Boto3 - Disable automatic multipart upload,"myconfig = TransferConfig(

    multipart_threshold=9999999999999999, # workaround for 'disable' auto multipart upload
    max_concurrency=10,
    num_download_attempts=10,
)

connection = boto3.client(service_name='s3',
        region_name='',
        api_version=None,
        use_ssl=True,
        verify=True,
        endpoint_url=url,
        aws_access_key_id=access_key,
        aws_secret_access_key=secret_key,
        aws_session_token=None,
        config=None)
transfer=S3Transfer(connection,myconfig)

transfer.upload_file('/tmp/samplefile.tgz','mybucket','remotefile.tgz')
"
29856,19811,Find the red circle in video,"import cv2
import numpy as np
import cv2.cv as cv
cap = cv2.VideoCapture(0)

coords = []
while(1):

    # Take each frame
    _, frame = cap.read()

    # Convert BGR to HSV

    hsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)

    # define range of blue color in HSV 
    lower_red = np.array([160,140,50]) 
    upper_red = np.array([180,255,255])

    imgThreshHigh = cv2.inRange(hsv, lower_red, upper_red)
    thresh = imgThreshHigh.copy()

    countours,_ = cv2.findContours(thresh, cv2.RETR_LIST,cv2.CHAIN_APPROX_SIMPLE)

    for cnt in countours:
        area = cv2.contourArea(cnt)
        if area > max_area:
        max_area = area
        best_cnt = cnt

    M = cv2.moments(best_cnt)
    cx,cy = int(M['m10']/M['m00']), int(M['m01']/M['m00'])
    coord = cx, cy #This are your coordinates for the circle
    # area = moments['m00'] save the object area
    #perimeter = cv2.arcLength(best_cnt,True) is the object perimeter

    #Save the coords every frame on a list
    #Here you can make more conditions if you don't want repeated coordinates
    points.append(coord) 

    cv2.imshow('frame',frame)
    cv2.imshow('Object',thresh)
    k = cv2.waitKey(5) & 0xFF
    if k == 27:
        break
cv2.destroyAllWindows()
"
37729,37470,Override text in XML with lxml,"second_elm = entry.getchildren()[2]
if first_part == 'some_condition'
    second_elm.text = 'something_else'
"
31870,7398,XLRD and HTTP Excel Files in Python,"import os
import tempfile

with tempfile.NamedTemoraryFile(suffix='.xls') as file:
    file.write(content)
    file.delete = False

try:
    result = ReadFromExcel(file.name)
finally:
    os.remove(file.name)
"
2512,68951,Parameter list with variable types Python 3?,"kwargs = {}
args = []
for i in my_parameters.useful_token_concept:
    bits = i.split('=')
    if len(bits) > 1:
       kwargs[bits[0].strip()] = bits[1].strip()
    else:
       args.append(bits[0].strip())

params = soup.find(*args, **kwargs)
"
33327,69992,How do I create a tree view (with checkbox) inside a combo box - PyQt,"def flags(self, index):
    if not index.isValid():
        return Qt.ItemIsEnabled

    if index.column() in self.booleanSet:
        return Qt.ItemIsUserCheckable | Qt.ItemIsSelectable | Qt.ItemIsEnabled
    elif index.column() in self.readOnlySet:
        return Qt.ItemIsSelectable | Qt.ItemIsEnabled
    else:
        return QSortFilterProxyModel.flags(self, index)

def data(self, index, role):
    if not index.isValid():
        return QVariant()

    if index.column() in self.booleanSet and role in (Qt.CheckStateRole, Qt.DisplayRole):
        if role == Qt.CheckStateRole:
            value = QVariant(Qt.Checked) if index.data(Qt.EditRole).toBool() else QVariant(Qt.Unchecked)
            return value
        else: #if role == Qt.DisplayRole:
            return QVariant()
    else:
        return QSortFilterProxyModel.data(self, index, role)

def setData(self, index, data, role):
    if not index.isValid():
        return False

    if index.column() in self.booleanSet and role == Qt.CheckStateRole:
        value = QVariant(True) if data.toInt()[0] == Qt.Checked else QVariant(False)
        return QSortFilterProxyModel.setData(self, index, value, Qt.EditRole)
    else:
        return QSortFilterProxyModel.setData(self, index, data, role)
"
29198,84964,Python extract text files,"for f in in_files:
    file = os.path.join(path, f)
    with open(file, ""r"") as text:
        hit_count = 0
        hit_count1 = 0
        for line in text:
            if moldesc[0] in line:
                Text1 = line.split()[-1]
                hit_count = 1
            if moldesc[1] in line:
                Text2 = line.split()[-1]
                hit_count1 = 1
            if hit_count and hit_count1:
                print >> desc, f + "","" + Text1 + "","" + Text2
                break
"
12226,70647,Cross-platform method for finding python include folder,">>> from distutils import sysconfig
>>> sysconfig.get_python_inc()
'/usr/include/python2.6'
>>> sysconfig.get_python_inc(plat_specific=True)
'/usr/include/python2.6'
"
25496,6128,"How do i read, append and sort all the words of a text file in python?","words = []
fname = raw_input(""Enter file name: "")
fh = open(fname)
for line in fh:
     for word in line.split():
          if word not in words:
               words.append(word)
fh.close()

# Now you should sort the words list and continue with your assignment
"
12122,75188,Cycle through elements in list to assign different colors to plot,">>> from itertools import cycle
>>> cols = cycle([""red"", ""green"", ""blue""])
>>> next(cols)
'red'
>>> next(cols)
'green'
>>> next(cols)
'blue'
>>> next(cols)
'red'
"
6228,21519,How to parse an xml feed using python?,"import urllib2
from xml.etree import ElementTree as etree
#reddit parse
reddit_file = urllib2.urlopen('http://www.reddit.com/r/videos/top/.rss')
#convert to string:
reddit_data = reddit_file.read()
print reddit_data
#close file because we dont need it anymore:
reddit_file.close()

#entire feed
reddit_root = etree.fromstring(reddit_data)
item = reddit_root.findall('channel/item')
print item

reddit_feed=[]
for entry in item:   
    #get description, url, and thumbnail
    desc = entry.findtext('description')  
    reddit_feed.append([desc])
"
23169,7480,"TypeError('not a valid non-string sequence or mapping object',)","r = await aiohttp.post('http://httpbin.org/post', data=b'data')
"
18001,45522,What is the best way to print this matrix without a for loop,"In [1]: l=[['a1','a2','a3'],['a4','a5','a6'],['a7','a8','a9']]

In [2]: from __future__ import print_function

In [3]: print(*l,sep='\n')
['a1', 'a2', 'a3']
['a4', 'a5', 'a6']
['a7', 'a8', 'a9']
"
35424,18533,Plugin design question,"def _loadPackagePlugins(package):
  ""Load plugins from a specified package.""
  ppath = package.__path__
  pname = package.__name__ + "".""
  for importer, modname, ispkg in pkgutil.iter_modules(ppath, pname):
    module = __import__(modname, fromlist = ""dummy"")
"
32646,20284,"How to compute the average of dictionary's value made up of lists,?",">>> for key,v in d.iteritems():
    try:
        nums = [i for i in v if i != '-']
        avgd[key] = sum(nums) / len(nums)
    except ZeroDivisionError:
        avgd[key] = '-'


>>> avgd
{'a': 3.2, 'c': '-', 'b': 5.75, 'd': 8.25}
"
9861,58725,Correct Regex for Acronyms In Python,">>> regex = r""\b[A-Z][a-zA-Z\.]*[A-Z]\b\.?""
>>> re.findall(regex, ""AbIA AoP U.S.A."")
['AbIA', 'AoP', 'U.S.A.']
"
6063,64370,Python 2.7.6 - Reading a certain part of an array,"with open('so.txt') as f:
    for line in f:
        time = float(line.split(', ')[1])
        print time
"
34186,37130,Python/WebApp Google App Engine - testing for user/pass in the headers,"class MYREALM_securepage(webapp.RequestHandler):
  def get(self):
      if not 'Authorization' in self.request.headers:
          self.response.headers['WWW-Authenticate'] = 'Basic realm=""MYREALM""'
          self.response.set_status(401)
          self.response.out.write(""Authorization required"")
      else:
          auth = self.request.headers['Authorization']
          (username, password) = base64.b64decode(auth.split(' ')[1]).split(':')
          # Check the username and password, and proceed ...
"
29752,72242,What is the equivalent of twiddle-wakka (~>) from ruby's gem in requirements.txt for python's pip?,"Django >= 1.4.3, < 1.5
"
7121,65087,python3 diagnostic line number logger,"python -m trace -t yourfile.py
"
9956,62470,How to read matrix from stdin(console)?,"def read_matrix(count):
    list_of_lists = [list(map(int, input('Enter a row: ').split())) for _ in range(count)]

    return list_of_lists

x = input(""enter the list of lists of numbers?"")
print(read_matrix(int(x)))
"
12852,27173,Is there a wxpython event like program_start?,"  def OnInit(self):
    # Check for a running instance for this user.  Do not instantiate if found.
    if self.checkInstance():
      dbcon.cursor().callproc('post_mutex', (self.mutexname,))
      dbcon.commit()
      self.Cleanup()
      return False

    # Register for database events.
    DataCache['dbListener'] = dbListener()

    return True
"
8488,83196,comparing users input to a list in pythin,"for line in open(""drivers_details.txt""):
    if reg not in line:
        etc.
"
38426,66671,Uppercase input in QLineEdit python way,"from PyQt4 import QtGui
import sys
#===============================================================================
# MyEditableTextBox-  
#===============================================================================
class MyEditableTextBox(QtGui.QLineEdit):
#|-----------------------------------------------------------------------------|
# Constructor  
#|-----------------------------------------------------------------------------|

    def __init__(self,*args):
        #*args to set parent
        QtGui.QLineEdit.__init__(self,*args)

#|-----------------------------------------------------------------------------|
# focusOutEvent :- 
#|-----------------------------------------------------------------------------|
    def focusOutEvent(self, *args, **kwargs):
        text = self.text()
        self.setText(text.__str__().upper())
        return QtGui.QLineEdit.focusOutEvent(self, *args, **kwargs)


#|--------------------------End of focusOutEvent--------------------------------|
#|-----------------------------------------------------------------------------| 
# keyPressEvent
#|-----------------------------------------------------------------------------|
    def keyPressEvent(self, event):
        if not self.hasSelectedText():
            pretext = self.text()
            self.setText(pretext.__str__().upper())
        return QtGui.QLineEdit.keyPressEvent(self, event)

#|--------------------End of keyPressEvent-------------------------------------|

if __name__ == '__main__':
    app = QtGui.QApplication(sys.argv)
    w = QtGui.QWidget()
    lay = QtGui.QHBoxLayout()
    w.setLayout(lay)
    le1 = MyEditableTextBox()
    lay.addWidget(le1)
    le2 = MyEditableTextBox()
    lay.addWidget(le2)
    w.show()
    sys.exit(app.exec_())
"
9833,5405,How to place a combobox in wxgrid (python)?,"    choice_editor = wx.grid.GridCellChoiceEditor(choices_list, True) 
    grid.SetCellEditor(row, col, choice_editor)
"
1411,36456,"Pandas Group By, defining output with indexes in rows and columns","In [124]:
df2.unstack(level=1)

Out[124]:
           ret                                                         \
            1          2          3          4          5          6    
2013 -9.868992  -4.346157   3.866546  -8.626669   5.139571   6.279008   
2014 -1.535937  -7.150076  12.477616   3.913517  -3.305470  -2.865723   
2015  4.895234  -6.265481  -6.898884   0.097624  12.565113   2.195401   
2016 -4.526340  -2.936200  -5.912908   2.729341   0.815636  -4.912806   
2017 -1.546016   2.473249  -4.205015   4.102542  -4.458827   1.924468   
2018  6.475616   0.027515   2.638676  -6.600986  -2.903825  14.835129   
2019 -6.147727  -1.927974   2.574085 -11.910082  -1.879927   6.275029   
2020  1.888112   4.597125   3.380548  -3.843723   2.419507  -1.427722   
2021  1.004944   0.180754  -8.159088   9.789561  -1.085590   6.248256   
2022 -9.635066  -0.772752   1.445861  -5.435704  -0.863745  -2.939604   
2023 -1.161640   0.488229  -1.607350   0.228962   4.987129   7.192585   
2024 -1.183226  10.776812  -5.597332   3.118547  -0.655470  -0.738184   
2025  3.962616 -11.581283  -1.021046  -0.440242   1.403144  -7.224395   
2026 -1.977520   6.571101   0.003448   0.191040  -7.202345  -8.193564   


            7          8         9          10        11         12  
2013  2.959460  10.185449 -8.537985   4.659689  5.088191 -10.974003  
2014 -0.327318   0.456162  1.528933  17.446656 -7.539484 -13.894860  
2015 -3.673257  -5.406524  5.557376   2.645820  1.034233  -6.025324  
2016 -3.028106   0.193528 -1.870737  -7.610312  4.926571  -0.229560  
2017 -1.311885   3.934379 -3.117008   1.500675 -6.710537  -7.828733  
2018  5.751018  -2.329534  9.277459  -6.410702 -2.633642  -2.590974  
2019 -9.765319 -13.551314 -4.538661   2.563119 -2.949883  -3.896485  
2020  2.356527   4.775241 -1.428101  -5.261007  9.322340  -1.350198  
2021  0.509185  -4.233567  4.262016  -7.600269  6.084152  -0.804232  
2022  2.236611  -0.506173 -2.528419   0.518371  8.969728   1.970115  
2023  5.951624  -2.948382  0.814657  -5.907658 -2.376326   8.222634  
2024 -1.422230   4.984618 -1.196657  -4.488551 -2.509809  -6.104347  
2025 -1.306259   0.326205 -0.748180  -0.627567  8.017221   8.684555  
2026 -4.524792   0.101453 -3.360516        NaN       NaN        NaN  
"
22536,78607,How can i use one view for different forms in Django,"FORMS = {
    'account': AccountForm,
    'transaction': TransactionForm,
    ...
}

def create_object(request, object_class, object_id=None):
    form_class = FORMS[object_class]
    model = form_class._meta.model
    if object_id:
        object = model.object.get(pk=object_id)
"
15,14371,Python escape special characters in sys argv,"$ python testme.py ""With these words she greeted Prince Vasili Kuragin, a man of high rank and importance, who was the first to arrive at her reception. Anna Pavlovna had had a cough for some days. She was, as she said, suffering\"" from la grippe; grippe being then a new word in St. Petersburg\""""

With these words she greeted Prince Vasili Kuragin, a man of high rank and importance, who was the first to arrive at her reception. Anna Pavlovna had had a cough for some days. She was, as she said, suffering"" from la grippe; grippe being then a new word in St. Petersburg""
"
36929,83972,Python BeautifulSoup parsing,"from BeautifulSoup import BeautifulSoup
import re

soup = BeautifulSoup(open('prueba.html').read())
item = re.sub('\s+', ' ', soup.h2.a.text)
price = soup.find('p', {'class': 'productlist_mostwanted_price'}).text
price = re.search('\d+\.\d+', price).group(0)

print item, price
"
8675,41386,Sorting imported text file?,"file = open(""classj.txt"")
classj = (file.readlines())
s = []
for line in sorted(classj):
    classj = (line.rstrip())
    classa = (classj.split(""-""))
    score = int(classa[1])
    name = (classa[0])
    s.append( (name,score) )
s.sort(reverse=True, key=lambda x:x[1])
for x in s:
    print(x[0],""-"",x[1])
"
16049,34057,SQL/Python - Multiple Selects and calculating within SQL,"SELECT players.first_name, players.last_name,
  SUM(CASE events.event
        WHEN 'Single' THEN 1
        WHEN 'Double' THEN 1
        WHEN 'Triple' THEN 1
        WHEN 'Home Run' THEN 1
        ELSE 0
      END)
  / COUNT(events.event) AS avg
FROM mlb.events
JOIN mlb.players
ON mlb.players.player_id = mlb.events.batter
WHERE team_id = %s
GROUP BY events.batter
ORDER BY mlb.events.batter
"
3225,22843,Python: remove double quotes from JSON dumps,"def split_and_convert(s):
    bits = s[1:-1].split(',')
    return (
        int(bits[0]), bits[1], float(bits[2]),
        float(bits[3]), float(bits[4]), float(bits[5])
    )

data_to_dump = [split_and_convert(s) for s in data]
json.dumps(data_to_dump)
"
29040,31553,Get cookie from CookieJar by name,"for cookie in cj:
   print cookie.name, cookie.value, cookie.domain #etc etc
"
36491,82556,Remove a class instance from a list,"people = [person for person in people if person.name != 'Bob']
"
4646,65228,How to pass instance method calls on to instance property?,"def __getattr__(self, attr):
    return getattr(self.collection, attr)
"
22057,76607,Setting pandas.Panel.minor_xs('attribute'),"p.loc[:,:,indexer] = value
"
34087,90,Python Reference Subclass in a Static Method,"@classmethod
def get_objects(cls, service, references, as_dict=False):
    """"""
    More efficient way to get multiple objects at once. Requires the service
    instance and a list or tuple of references.
    """"""
    vo_list = database.get_objects_from_references(references)
    items = list()
    for vo in vo_list:
        items.append(cls(service, vo.getRef(), vo))

    return items
"
11279,4349,program to extract every alternate letters from a string in python?,">>> 'abcdefg'[::2]
'aceg'
"
19494,27394,Enums in C: What assumptions can be made about the value of the underlying variable?,"enum hue { chartreuse, burgundy, claret=20, winedark };
"
21253,66124,Removing pixels surrounded by white pixels OpenCV,">>> import numpy as np
>>> from scipy.signal import convolve2d
>>> 
>>> kernel = np.ones((3,3))
>>> kernel[1,1] = 0
>>> print(kernel)
[[ 1.  1.  1.]
 [ 1.  0.  1.]
 [ 1.  1.  1.]]
>>> # Create a decent test array that shows the features
... test = np.array(
...     [[0,1,1,0,1,1],
...      [1,1,1,1,1,0],
...      [1,0,1,1,0,1],
...      [1,1,1,0,0,0],
...      [1,1,1,0,1,0],
...      [1,1,1,0,0,0]])
>>> 
>>> mask = convolve2d(test, kernel, mode='same', fillvalue=1)
>>> print(mask)
[[ 8.  7.  7.  8.  6.  7.]
 [ 6.  6.  6.  6.  5.  7.]
 [ 7.  8.  6.  5.  4.  4.]
 [ 7.  7.  5.  5.  3.  5.]
 [ 8.  8.  5.  4.  0.  4.]
 [ 8.  8.  6.  6.  4.  6.]]
>>> result = test.copy()
>>> result[np.logical_and(mask==8, test==0)] = 1
>>> print(result)
[[1 1 1 1 1 1]
 [1 1 1 1 1 0]
 [1 1 1 1 0 1]
 [1 1 1 0 0 0]
 [1 1 1 0 1 0]
 [1 1 1 0 0 0]]
"
29973,52797,Beautiful soup looping through Urls and displaying data,"from urllib import urlopen

from bs4 import BeautifulSoup
baseURL = 'http://www.gbgb.org.uk/resultsMeeting.aspx?id=135488'
html = urlopen(baseURL)
bsObj = BeautifulSoup(html, 'lxml')
nameList = bsObj.findAll(""div"", {""class"": ""resultsBlock""})
for i in nameList:
    # just the trap info, the rest is similar
    nameList2 = i.findAll(""li"", {""class"": ""trap""})
    for j in nameList2:
        print(j.get_text())
"
22096,45196,Why are Python's 'private' methods not actually private?,">>> class Foo(object):
...     def __init__(self):
...         self.__baz = 42
...     def foo(self):
...         print self.__baz
...     
>>> class Bar(Foo):
...     def __init__(self):
...         super(Bar, self).__init__()
...         self.__baz = 21
...     def bar(self):
...         print self.__baz
...
>>> x = Bar()
>>> x.foo()
42
>>> x.bar()
21
>>> print x.__dict__
{'_Bar__baz': 21, '_Foo__baz': 42}
"
26911,59458,change key in OrderedDict without loosing order,">>> d = OrderedDict([('a', 1), ('c', 3), ('b', 2)])
>>> d
OrderedDict([('a', 1), ('c', 3), ('b', 2)])
>>> d2 = OrderedDict([('__C__', v) if k == 'c' else (k, v) for k, v in d.items()])
>>> d2
OrderedDict([('a', 1), ('__C__', 3), ('b', 2)])
"
1046,31353,Sending information from one instance to another instance with a specific name in python,"class B:
  def __init__(self, someinfo, a_instance):
    self.someinfo = someinfo
    self.a_instance = a_instance

  def send_message_to_a(self):
     self.a_instance.a_function(self.someinfo)

a = A()
bs = [B('hi', a) for i in range(random.randint(1, 10))]
for b in bs:
    b.send_message_to_a() # calls the a function passing someinfo
"
34381,72013,SHA1 PHP encryption versus SHA1 Python encryption,"$ python
>>> import hashlib
>>> hashlib.sha1(""The quick brown fox jumps over the lazy dog"").hexdigest()
'2fd4e1c67a2d28fced849ee1bb76e7391b93eb12'
>>> exit()

$ php -a
php > echo SHA1(""The quick brown fox jumps over the lazy dog"");
2fd4e1c67a2d28fced849ee1bb76e7391b93eb12
"
18987,65991,Directed graph nodes: Keep track of successors and predecessors,"class Node:

    def __init__(self):
        self.pred = set()
        self.suce = set()

    def addSucessor(self, node):
        self.suce.add(node)
        node.pred.add(self)
"
35703,8811,Itertools way to reverse mapping?,"d = {'vi': ['vn'], 'el': ['gr'], 'fr': ['be', 'ca', 'ch', 'fr', 'lu'], 'bg': ['bg'], 'zh': ['cn'], 'th': ['th'], 'hr': ['hr'], 'tr': ['tr'], 'bn': ['bd'], 'de': ['at', 'ch', 'de', 'lu'], 'it': ['ch', 'it'], 'da': ['dk'], 'ar': ['ae', 'bh', 'dz', 'eg', 'iq', 'jo', 'kw', 'lb', 'ly', 'ma', 'om', 'qa', 'sa', 'sy', 'tn', 'ye'], 'uk': ['ua'], 'fi': ['fi'], 'cs': ['cz'], 'et': ['ee'], 'hu': ['hu'], 'id': ['id'], 'es': ['ar', 'bo', 'cl', 'co', 'cr', 'do', 'ec', 'es', 'gt', 'hn', 'mx', 'ni', 'pa', 'pe', 'pr', 'py', 'sv', 'uy', 've'], 'he': ['il'], 'ru': ['ru'], 'nl': ['be', 'nl'], 'pt': ['br', 'pt'], 'no': ['no'], 'sr': ['ba', 'sp'], 'sq': ['al'], 'ko': ['kr'], 'sv': ['fi', 'se'], 'pa': ['in'], 'ja': ['jp'], 'lv': ['lv'], 'lt': ['lt'], 'hi': ['in'], 'en': ['au', 'bz', 'ca', 'gb', 'ie', 'jm', 'nz', 'ph', 'tt', 'us', 'za', 'zw'], 'sk': ['sk'], 'ms': ['bn', 'my'], 'sl': ['si'], 'ro': ['ro'], 'is': ['is'], 'pl': ['pl'], 'ta': ['in']}

from collections import defaultdict
rev = defaultdict(list)

for k,v in d.items():
    for c in v:
        rev[c].append(k)
print(rev[""ca""])
['fr', 'en']
"
15081,5100,"How can I clean up use of exec, can’t get setattr to do the job?","def CheckConstraints(self, Selections):
    'Validate the stored constraints'
    Good = True
    env = {}
    ## Undefined options default to False
    for i in self.Options:
        env[i] = False
    ## Set defined Options to True
    for i in Selections:
        env[i] = True
    for i in self.Constraints:
        if not eval(i, env):
            Good = False
            print ""Constraint Check Failure:"", i, Selections
        else:
            print ""Constraint Check OK:"", i, Selections
    return Good
"
23264,3016,Center-/middle-align text with PIL?,"from PIL import Image, ImageDraw

W, H = (300,200)
msg = ""hello""

im = Image.new(""RGBA"",(W,H),""yellow"")
draw = ImageDraw.Draw(im)
w, h = draw.textsize(msg)
draw.text(((W-w)/2,(H-h)/2), msg, fill=""black"")

im.save(""hello.png"", ""PNG"")
"
21586,120,Parse comma separated list from xml in Python,"In [4]: print a
<?xml version=""1.0"" encoding=""utf-8""?>
<Report xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns=""http://adcenter.microsoft.com/advertiser/reporting/v5/XMLSchema"" ReportName=""My DestinationUrl Performance Report"" ReportTime=""4/7/2014"" TimeZone=""Various"" ReportAggregation=""Daily"" LastCompletedAvailableDay=""4/8/2014 5:00:00 PM (GMT)"" LastCompletedAvailableHour=""4/8/2014 5:00:00 PM (GMT)"" PotentialIncompleteData=""false"">
  <DestinationUrlPerformanceReportColumns>
    <Column name=""GregorianDate"" />
    <Column name=""AccountName"" />
    <Column name=""CampaignName"" />
    <Column name=""CampaignId"" />
    <Column name=""AdGroupName"" />
    <Column name=""AdGroupId"" />
    <Column name=""DestinationUrl"" />
    <Column name=""Impressions"" />
    <Column name=""Clicks"" />
    <Column name=""Spend"" />
    <Column name=""Conversions"" />
  </DestinationUrlPerformanceReportColumns>
  <Table>
    <Row>
      <GregorianDate value=""4/7/2014"" />
      <AccountName value=""BingAccount"" />
      <CampaignName value=""Campaign#1"" />
      <CampaignId value=""12345678"" />
      <AdGroupName value=""Adgroup1"" />
      <AdGroupId value=""901234567"" />
      <DestinationUrl value=""www.example.com"" />
      <Impressions value=""8"" />
      <Clicks value=""0"" />
      <Spend value=""0.00"" />
      <Conversions value=""0"" />
    </Row>
    <Row>
      <GregorianDate value=""4/7/2014"" />
      <AccountName value=""BingAccount"" />
      <CampaignName value=""Campaign#2"" />
      <CampaignId value=""83984398493"" />
      <AdGroupName value=""Adgroup#2"" />
      <AdGroupId value=""3439843983"" />
      <DestinationUrl value=""www.example.co.uk"" />
      <Impressions value=""20"" />
      <Clicks value=""2"" />
      <Spend value=""0.10"" />
      <Conversions value=""0"" />
    </Row>
  </Table>
  <Copyright>ï¿½.Â©2014 Microsoft Corporation. All rights reserved. </Copyright>
</Report>

In [5]: import xml.etree.ElementTree as ET

In [6]: root = ET.fromstring(a)

In [7]: [tuple([y.attrib['value'] for y in x]) for x in root[1]]
Out[7]:
[('4/7/2014',
  'BingAccount',
  'Campaign#1',
  '12345678',
  'Adgroup1',
  '901234567',
  'www.example.com',
  '8',
  '0',
  '0.00',
  '0'),
 ('4/7/2014',
  'BingAccount',
  'Campaign#2',
  '83984398493',
  'Adgroup#2',
  '3439843983',
  'www.example.co.uk',
  '20',
  '2',
  '0.10',
  '0')]
"
31743,4961,Need Help on Average Python,"#!/bin/env python
import csv
from itertools import islice

total = count = 0

with open('3111111a.csv', newline='') as f:
    reader = csv.reader(f)
    # `isslice` will skip any header/title row.
    # Generates a list of integers from the fourth CSV value
    numbers = (int(row[4]) for row in islice(reader, 1, None))
    # Generates another list of values that are >= 337
    gt337 = [i for i in numbers if i >= 337]

# Sums all the numbers in our list then divides by the number to get the average
print (sum(gt337)/len(gt337))
"
4336,32921,Set IPython Qt Console start up location in WinPython,"$ ipython locate
"
14522,31274,Accepting all alphabetical input as valid regardless of case,"lex = words.lower().split()
"
23145,4755,Complex numbers and for loops,"def inMSet(c,n):
    z = 0
    for x in range(0, n):
        z = z**2 + c
        if abs(z) > 2:
            return False
    return True 

>>> inMSet(0+0j,25)
True
"
18034,38996,"Send from Twisted client to Twisted server, only this one way","from twisted.internet.protocol import Protocol
from twisted.internet.threads import deferToThread

class Send(Protocol):
    def connectionMade(self):
        self.qget()

    def qget(self, data=None):
        if data is not None:
            self.transport.write(data)
        deferToThread(queue.get).addCallback(self.qget)
"
20063,78241,what is the best and general way to refer a function's __name__ in a function?,"In [1]: import inspect

In [2]: def test():
   ...:     print inspect.stack()[0][3]
   ...:

In [3]: test()
test
"
33378,79655,Google's python class,"def match_ends(words):
    count = 0
    for item in words:
        if len(item) >= 2 and item[0] == item[-1]:
            count += 1
    return count


def front_x(words):
    x_list = []
    other_list = []
    for item in words:
        if item[0].lower() == ""x"":
            x_list.append(item)
        else:
            other_list.append(item)
    x_list.sort()
    other_list.sort()
    return x_list + other_list
"
16166,41098,Create trading holiday calendar with Pandas,"from pandas.tseries.holiday import get_calendar, HolidayCalendarFactory, GoodFriday
from datetime import datetime

cal = get_calendar('USFederalHolidayCalendar')  # Create calendar instance
cal.rules.pop(7)                                # Remove Veteran's Day rule
cal.rules.pop(6)                                # Remove Columbus Day rule
tradingCal = HolidayCalendarFactory('TradingCalendar', cal, GoodFriday)
print tradingCal.rules

#new instance of class
cal1 = tradingCal()

print cal1.holidays(datetime(2014, 12, 31), datetime(2016, 12, 31))

#DatetimeIndex(['2015-01-01', '2015-01-19', '2015-02-16', '2015-04-03',
#               '2015-05-25', '2015-07-03', '2015-09-07', '2015-11-26',
#               '2015-12-25', '2016-01-01', '2016-01-18', '2016-02-15',
#              '2016-03-25', '2016-05-30', '2016-07-04', '2016-09-05',
#               '2016-11-24', '2016-12-26'],
#              dtype='datetime64[ns]', freq=None, tz=None)
"
3340,44600,"brute force web crawler, how to use Link Extractor towards increased automation. Scrapy","from scrapy.spider import BaseSpider
from scrapy.selector import HtmlXPathSelector
from scrapy.http import Request
from brute_force.items import BruteForceItem
from urlparse import urljoin

class DmozSpider(BaseSpider):
    name = ""brutus""
    allowed_domains = [""tool.httpcn.com""]
    start_urls = ['http://tool.httpcn.com/Zi/BuShou.html']

    def parse(self, response):
        for url in response.css('td a::attr(href)').extract():
            cb = self.parse if '/zi/bushou' in url.lower() else self.parse_item
            yield Request(urljoin(response.url, url), callback=cb)

    def parse_item(self, response):
        hxs = HtmlXPathSelector(response)
        item =  BruteForceItem()
        item[""the_strokes""] = hxs.xpath('//*[@id=""div_a1""]/div[2]').extract()
        item[""character""] = hxs.xpath('//*[@id=""div_a1""]/div[3]').extract()
        return item
"
38710,53825,Get parents objects using field of Child model in Django,"A.objects.filter(b__c__name='some name')
"
11116,64158,Beautiful Soup scraping poorly built table,"import requests
from bs4 import BeautifulSoup

r = requests.get(""http://www.elitebetkenya.com/coupon.php"")
soup = BeautifulSoup(r.content, ""html.parser"")


for league in soup.find_all(""tr"", class_=""league""):
    # get basic league and fixture data
    league_name = league.get_text(strip=True)

    fixture = league.find_next_sibling(""tr"", class_=""fixture"")
    home = fixture.find(""span"", class_=""home"").get_text(strip=True)
    away = fixture.find(""span"", class_=""away"").get_text(strip=True)

    date = fixture.br.find_next_sibling(text=True).strip()

    print(league_name, home, away, date)

    # iterate over odds rows
    for odd in fixture.find_next_siblings(""tr""):
        # stop once the next league is met
        if ""league"" in odd.get(""class"", []):
            break

        # skipping header rows
        if not odd.td.get_text(strip=True):
            continue

        cells = [td.get_text(strip=True) for td in odd.find_all(""td"")]
        print(cells)
"
11357,53127,ipython reload ipython_config.py,"%config PromptManager.in_template = ""\\#>>>""
"
3677,36507,Pyttsx not saying all text when using non default voice,"import pyttsx
engine = pyttsx.init()
engine.say('Sally sells seashells by the seashore.')
engine.say('The quick brown fox jumped over the lazy dog.')
engine.runAndWait()
"
27140,71338,MySQLdb through proxy,"ssh -L1521:localhost:1521 user@server.com
"
21278,73738,"Python Tkinter, Number of Label/Entry based on IntVar","import Tkinter as Tk

class App(Tk.Frame):
    def __init__(self, master, *args, **kwargs):
        Tk.Frame.__init__(self, *args, **kwargs)

        self.existing_lines = 2
        self.entry_lines = Tk.IntVar()

        Tk.Label(self, text=""Number Of Lines"").grid(row=0, column=0)
        Tk.Entry(self, textvariable=self.entry_lines).grid(row=0, column=1)
        Tk.Button(self, text=""Apply Number"", command=self.add_rows).grid(row=1, column=1)

    def add_rows(self):
        for row in xrange(self.existing_lines, self.existing_lines+self.entry_lines.get()):
            Tk.Label(self, text=""Line %i"" % (row-1)).grid(row=row, column=0)
            Tk.Entry(self, textvariable=self.entry_lines).grid(row=row, column=1)
            self.existing_lines+= 1

if __name__ == ""__main__"":
    root = Tk.Tk()
    App(root).pack()
    root.mainloop()
"
6174,36785,Error: file i/o in python,"pathh='/home/pooja/Desktop/'      #set the base path       
fo = open(""/home/pooja/Desktop/xml.txt"")
for i in range(len(count)):     #use len(count)
    file = fo.readline()
    file = file.strip()          #use strip()
    find_root_tags(pathh+file,str1,i) #base path+file
    mylist.append((file,count[i]))   #using 'list' as a variable name is not good
"
34317,45536,Finding Successors of Successors in a Directed Graph in NetworkX,"from networkx.algorithms.traversal.depth_first_search import dfs_edges

G = DiGraph( ... )
for edge in dfs_edges(G, parent1):
    color(edge)
"
32654,58979,What's the most memory-efficient way of creating a large batch of datastore objects on Google App Engine?,"list_of_dicts = xmlrpc_call(...)
objects_to_put = []

for row in list_of_dicts.items():
    object = DatastoreModel(**row)
    object.x = ...
    objects_to_put.append(object)
    if len(objects_to_put) > 10:
        db.put_async(objects_to_put)
        del objects_to_put[:]

db.put_async(objects_to_put)
"
2841,76313,Barchart with vertical labels in python/matplotlib,">>> from matplotlib import *
>>> plot(xrange(10))
>>> yticks(xrange(10), rotation='vertical')
"
29829,28518,Binary list from indexes of ascending integer list (Python),">>> e = [0, 1, 3, 6]
>>> [int(i in e) for i in xrange(0, e[-1]+1)]
[1, 1, 0, 1, 0, 0, 1]
"
36180,37543,Why does fftfreq produce negative values?,"f=freq[:n/2]
s=abs(fourier[:n/2])
plot(f,s)
"
19111,61970,Lexicographical Sorting of Word List,"1. create a trie from your collection.
2. do a DFS on the trie generated, and add each string 
   to the list when you reach terminal node.
"
16778,73675,How can I use xdotool from within a python module/script?,"import subprocess

subprocess.call([""xdotool"", ""mousemove"", ""945"", ""132""])
"
37878,29507,asynchronous subprocess with Popen,"import multiprocessing, subprocess

def run(c):
    exe = os.path.join(""<location>"",""folder"",str(c),""program.exe"")
    run = os.path.join(""<location>"",""folder"",str(c),""run.dat"")
    subprocess.check_call([exe,run],cwd=os.path.join(""<location>"",""folder""),creationflags = subprocess.CREATE_NEW_CONSOLE)

def main():
    pool = multiprocessing.Pool(3)
    for c in range(10):
        pool.apply_async(run,(str(c),))
    pool.close()
    pool.join()

if __name__ == '__main__':
    main()
"
2871,41625,Python list assignment not working,"def createLab(size=16):
    maze = createMaze()
    answerPath=[]
    visual=['o']*(size**2)
    pos=[(size**2)/2,(size**2)/2]
    lat='north'
    for move in maze:
        pos = pos[:] #pos is now a new list with the same values as the previous pos
        #Alternatively: pos = list(pos)
        answerPath.append(pos)

        if move=='straight':
            if lat=='north': pos[1]=pos[1]+size
            elif lat=='south': pos[1]=pos[1]-size
            elif lat=='east': pos[0]=pos[0]+1
            elif lat=='west': pos[0]=pos[0]-1

        elif move=='left':
            if lat=='north': pos[1]=pos[1]-1; lat='west'
            elif lat=='south': pos[1]=pos[1]+1; lat='east'
            elif lat=='east': pos[0]=pos[0]+size; lat='north'
            elif lat=='west': pos[0]=pos[0]-size; lat='south'

        elif move=='right':
            if lat=='north': pos[1]=pos[1]+1; lat='east'
            elif lat=='south': pos[1]=pos[1]-1; lat='west'
            elif lat=='east': pos[0]=pos[0]-size; lat='south'
            elif lat=='west': pos[0]=pos[0]+size; lat='north'
    return answerPath, maze, pos
"
18406,55160,Short conditional statement in django templates,"<tr {% if tkey in disabled_rows %} class=""disabled-row""{% endif %}>
"
4922,26105,Django Many To Many Management with inline formset,"def post(self, request, *args, **kwargs):
    self.object = self.get_object()
    form_class = self.get_form_class()
    form = self.get_form(form_class)
    formset = OfficeContactInline(request.POST, instance=self.object)        
    if form.is_valid() and formset.is_valid():
        self.object = form.save()
        contacts = formset.save(commit=False)
        # New with Django 1.7
        for del_contact in formset.deleted_objects:
            del_contact.delete()

        for contact in contacts:
            contact.office = self.object
            contact.save()
        formset.save_m2m()
        return HttpResponseRedirect(self.get_success_url())
    else:
        return render(request, self.template_name, self.get_context_data(form=form, formset=formset))
"
20907,41925,Control three frames from main menu,"# Untested, although it should give you an idea of what to do

class ChildFrame(wx.Frame):

    def __init__(self, parent, id=-1, title=""Default Frame"", pos=wx.DefaultPosition, size=wx.DefaultSize, style=wx.DEFAULT_FRAME_STYLE):
        wx.Frame.__init__(self, parent, id, title, pos, size, style)
        self._parent = parent

        self.Bind(wx.EVT_CLOSE, self.OnClose)

    def OnClose(self, event):
        # display your parent frame
        self._parent.Show()
"
8118,76078,how to set local rcParams or rcParams for one figure in matplotlib,"with plt.rc_context({""axes.grid"": True, ""grid.linewidth"": 0.75}):
    f, ax = plt.subplots()  # Will make a figure with a grid
    ax.plot(x, y)

f, ax = plt.subplots()  # Will make a figure without a grid
ax.plot(x, y)
"
6158,80010,Search a pattern if exists,"if all(x not in s for x in ignore_list):
    print s
"
17412,31436,How to find a custom tag within another tag using Selenium,"find_elements_by_xpath('//div[@class=""myclass""]/a').get_attribute(""content"")
"
8942,55803,How to edit a line in middle of txt file without overwriting everything?,">>> import os
>>> filename = 'somefile.txt'
>>> with open(filename) as f:
        lines = f.readlines()
>>> basename, ext = os.path.splitext(filename)
>>> savefile = basename + '.sav'
>>> os.rename(filename, savefile)
>>> lines = map(str.upper, lines)    # do your edits here
>>> with open(filename, 'w') as f:
        f.writelines(lines)
"
20851,78441,Shaping Data in Python,"import csv
# Header values
FRAME_KEY = 'MSG'
FRAME_IDX = 0
TRIAL_ID_KEY = 'Trial ID'
TRIAL_ID_IDX = 3
FRAME_ID_KEY = 'Frame ID'
FRAME_ID_IDX = 2
# Data values
XCOR_KEY     = 'X-CoOr'
XCOR_IDX     = 1
YCOR_KEY     = 'Y-CoOr'
YCOR_IDX     = 2
TIME_KEY     = 'Time'
TIME_IDX     = 3

IN_DELIM = '\t'
OUT_DELIM= '\t'

OUT_HEADER = [TRIAL_ID_KEY, FRAME_ID_KEY, XCOR_KEY, YCOR_KEY, TIME_KEY]

with open('P1E2E_Both_New_trial_data.csv', 'rb') as in_file, open('P1E2E_Long_Format.csv') as out_file:
    in_reader = csv.reader(in_file, delimeter = IN_DELIM)
    out_writer= csv.DictWriter(out_file, OUT_HEADER, delimeter = OUT_DELIM)
    out_writer.writeheader()
    current_frame = None
    current_trial = None
    for row in in_reader:
        if row[FRAME_IDX] == FRAME_KEY:
            # Means we're at the start of a new frame
            current_frame = row[FRAME_ID_IDX]
            current_trial = row[TRIAL_ID_IDX]
        else:
            # Means we're in a data row
            out_row = dict()
            out_row[FRAME_ID_KEY] = current_frame
            out_row[TRIAL_ID_KEY] = current_trial
            out_row[XCOR_KEY]     = row[XCOR_IDX]
            out_row[YCOR_KEY]     = row[YCOR_IDX]
            out_row[TIME_KEY]     = row[TIME_IDX]
            out_writer.writerow(out_row)
"
21872,65395,Broadcasting a message using Tornado,"@gen.coroutine
def broadcast_message(self, message):
    count = 0
    for client in self.clients:
        client.write_message(message)
        count += 1
        if count % 100 == 0:
            yield gen.moment
"
7246,18218,Position 5 subplots in Matplotlib,"import matplotlib.pyplot as plt

ax1 = plt.subplot2grid(shape=(2,6), loc=(0,0), colspan=2)
ax2 = plt.subplot2grid((2,6), (0,2), colspan=2)
ax3 = plt.subplot2grid((2,6), (0,4), colspan=2)
ax4 = plt.subplot2grid((2,6), (1,1), colspan=2)
ax5 = plt.subplot2grid((2,6), (1,3), colspan=2)
"
37085,22755,Emacs Pabbrev and Python,"(defadvice pabbrev-expand-maybe (around pabbrev-expand-maybe-when-not-after-whitespace activate)
  ""prevent expansion when only whitespace between point and beginning of line""
  (if (save-match-data
        (save-excursion
          (let ((p (point)))
            (string-match ""^\\s-*$"" (buffer-substring-no-properties (progn (beginning-of-line) (point)) p)))))
      (let ((last-command (if (eq last-command this-command) (pabbrev-get-previous-binding) last-command))
            (this-command (pabbrev-get-previous-binding)))
        (pabbrev-call-previous-tab-binding))
    ad-do-it))
"
3484,37403,Python changing variable values declared in __init__,"print(t.change_var1())
print(t.change_var2())
"
9991,31706,Why doesn't this python implementation of mergesort work?,"def mergesort(arr):
    if len(arr) == 1:
        return arr

    else:
        mid = len(arr)//2
        left = arr[0:mid]
        right = arr[mid:len(arr)]

        sorted = []
        i = 0
        j = 0
        left = mergesort(left) #left is now sorted
        right = mergesort(right)

        while i < len(left) and j < len(right):
            if left[i] < right[j]:
                sorted.append(left[i])
                i += 1
            else:
                sorted.append(right[j])
                j += 1

        while i < len(left):
            sorted.append(left[i])
            i += 1

        while j < len(right):
            sorted.append(right[j])
            j += 1

        return sorted

print (mergesort([8,7,6,5,4,3,2,1,3]))
"
33968,46834,Monitoring the shell through python,"import subprocess
PIPE = subprocess.PIPE

proc = subprocess.Popen(['ls'], stdout=PIPE)
for line in iter(proc.stdout.readline, ''):
    if line.startswith('a'):
        print(line)
"
25538,75639,If-Else Statement-Positive and Negative Integers,"for n in range(3):
    num = int(input(""Enter a number: ""))
    if num > 0:
        print(""YES"")
    else:
        print(""NO"")
"
460,53237,Measuring Celery task execution time,"import celery
import datetime
from celery import chord

@celery.task
def dummy_task(res=None, start_time=None):
    print datetime.datetime.now() - start_time

def send_my_task():
    chord(my_task.s(), dummy_task.s(start_time=datetime.datetime.now()).delay()
"
35282,16534,Passing an image URL from external API in Flask,"import urllib2

url = ""http://theapi.com/getimage""
opener = urllib2.build_opener(urllib2.HTTPRedirectHandler)
request = opener.open(url)
return request.url
"
11242,5137,is there any way to jump to a specified function name using help() command in python,"help(s3.server_name)
"
2898,39278,mocha-phantomjs output not shown when run with Python subprocess.check_output,"#!/usr/bin/env python
from subprocess import check_call

check_call(['mocha-phantomjs', 'static/js/tests/headless.html'])
"
19481,27490,python get file folder location and file with glob,"import os, glob
magic='.log'
for file in glob.glob(os.path.join(mydir, '*%s' % magic)):
    dirname, filename = os.path.split(file)
    base=filename[:-len(magic)] # if you use this very often, it is faster to use a variable ""len_magic""
    print dirname, base
"
22982,34582,Briefly flash a picture,"import sys
from PyQt4 import QtGui, QtCore

class Dialog(QtGui.QDialog):
    def __init__(self, parent=None):
        super(Dialog, self).__init__(parent)

        layout = QtGui.QVBoxLayout()
        self.setLayout(layout)

        self.b1 = QtGui.QPushButton('flash splash')
        self.b1.clicked.connect(self.flashSplash)

        layout.addWidget(self.b1)

    def flashSplash(self):
        # Be sure to keep a reference to the SplashScreen
        # otherwise it'll be garbage collected
        # That's why there is 'self.' in front of the name
        self.splash = QtGui.QSplashScreen(QtGui.QPixmap('/path/to/image.jpg'))

        # SplashScreen will be in the center of the screen by default.
        # You can move it to a certain place if you want.
        # self.splash.move(10,10)

        self.splash.show()

        # Close the SplashScreen after 2 secs (2000 ms)
        QtCore.QTimer.singleShot(2000, self.splash.close)

if __name__ == '__main__':
    app = QtGui.QApplication(sys.argv)

    main = Dialog()
    main.show()

    sys.exit(app.exec_())
"
21151,39790,Python: newline quandary,"x = 'summary'
print # new line
print ""the election is:"", # comma prevents new line
print x
print
"
25114,77633,"Python, Class has no Attribute. How can I return a value of a value that has been passed into class?","import hashlib
class User:
    def __init__(self, emailAddress, fName):
        parts = emailAddress.split('@')
        if len(parts) != 2:
            raise Exception(""Invalid email address: %s"" % emailAddress)
        self.emailAddress = emailAddress
        self.emailMd5     = hashlib.md5(emailAddress).hexdigest()
        self.domain       = parts[1]
        self.fName        = fName

u = User(""me@you.com"",""uname"") # create instance
print u.fName # print instance attribute
"
930,41633,Unable to break from for statement in Python,"try:
    for word in query_words:
        with open('takeaway.txt') as f:
            for line in open('takeaway.txt'):
                if word in line:
                    raise StopIteration
except StopIteration:
    print(line)
else:
    print(""sorry your request could not be found"")
"
18237,40154,Continuously subtracting- Python 3.X,"mytuple = (10,10)
mylist = []
for i in range(mytuple[0], -1, -1):
    mylist.append((i, mytuple[1]))
print(mylist)
"
22186,34621,use a matplotlib Figure in PyQt,"FigureCanvas.__init__(self, fig)
"
33551,12704,How to compare variables and find difference in python,"readARP=scanProcess.read()
readFPING = fpingscanPocess.read()
print readARP
192.168.1.1
192.168.1.100
192.168.1.1

print readFPING
192.168.1.1
192.168.2.1
192.168.1.12

print '\n'.join(set(readARP.splitlines()).symmetric_difference(readFPING.splitlines()))
192.168.1.100
192.168.2.1
192.168.1.12
"
5745,62076,Python 3 pseudocode Do-While loop,"While True
    ask user for input1
    ask user for input2
    display input1 + input2
    ask user if they want to go again
    if no then exit
"
24294,52931,Numpy return array of index,"a = np.array([-3. , -1.8, -0.6,  0.6,  1.8])
indices = np.arange(a.shape[0])
"
3266,60030,Tkinter: windows without title bar but resizable,"import Tkinter as tk
import ttk

class Example(tk.Tk):
    def __init__(self):
        tk.Tk.__init__(self)
        self.floater = FloatingWindow(self)

class FloatingWindow(tk.Toplevel):
    def __init__(self, *args, **kwargs):
        tk.Toplevel.__init__(self, *args, **kwargs)
        self.overrideredirect(True)
        self.wm_geometry(""400x400"")

        self.label = tk.Label(self, text=""Grab the lower-right corner to resize"")
        self.label.pack(side=""top"", fill=""both"", expand=True)

        self.grip = ttk.Sizegrip(self)
        self.grip.place(relx=1.0, rely=1.0, anchor=""se"")
        self.grip.lift(self.label)
        self.grip.bind(""<B1-Motion>"", self.OnMotion)


    def OnMotion(self, event):
        x1 = self.winfo_pointerx()
        y1 = self.winfo_pointery()
        x0 = self.winfo_rootx()
        y0 = self.winfo_rooty()
        self.geometry(""%sx%s"" % ((x1-x0),(y1-y0)))
        return

app=Example()
app.mainloop()
"
23388,31686,Django admin application for master/detail page,"class ItemDetailInline(admin.TabularInline):
    model = ItemDetail

class ItemAdmin(admin.ModelAdmin):
    inlines = [
        ItemDetailInline,
    ]
"
28331,84561,CPU Utilization on UNIX,"ps -p <pid> -o cp
"
19857,20942,Not Iterating through all lines from a csv file python3,"import  csv
with open(file1) as f1,open(file2) as f2:
    rd1, rd2 = csv.reader(f1) ,list(csv.reader(f2))
    for row1 in rd1:
        for row2 in rd2:
            if row1[0] == row2[0] and row1[1] == row2[1]:
                print('There is a match', row1[0], row1[1])
"
1018,7498,How does one encode and decode a string with Python for use in a URL?,"import base64
import sys

encoded = base64.b64encode(sys.stdin.read())
print encoded

decoded = base64.b64decode(encoded)
print decoded
"
22431,25920,How to make custom buttons in wx?,"class MyButton(wx.PyControl):

    def __init__(self, parent, id, bmp, text, **kwargs):
        wx.PyControl.__init__(self,parent, id, **kwargs)

        self.Bind(wx.EVT_LEFT_DOWN, self._onMouseDown)
        self.Bind(wx.EVT_LEFT_UP, self._onMouseUp)
        self.Bind(wx.EVT_LEAVE_WINDOW, self._onMouseLeave)
        self.Bind(wx.EVT_ENTER_WINDOW, self._onMouseEnter)
        self.Bind(wx.EVT_ERASE_BACKGROUND,self._onEraseBackground)
        self.Bind(wx.EVT_PAINT,self._onPaint)

        self._mouseIn = self._mouseDown = False

    def _onMouseEnter(self, event):
        self._mouseIn = True

    def _onMouseLeave(self, event):
        self._mouseIn = False

    def _onMouseDown(self, event):
        self._mouseDown = True

    def _onMouseUp(self, event):
        self._mouseDown = False
        self.sendButtonEvent()

    def sendButtonEvent(self):
        event = wx.CommandEvent(wx.wxEVT_COMMAND_BUTTON_CLICKED, self.GetId())
        event.SetInt(0)
        event.SetEventObject(self)
        self.GetEventHandler().ProcessEvent(event)

    def _onEraseBackground(self,event):
        # reduce flicker
        pass

    def _onPaint(self, event):
        dc = wx.BufferedPaintDC(self)
        dc.SetFont(self.GetFont())
        dc.SetBackground(wx.Brush(self.GetBackgroundColour()))
        dc.Clear()
        # draw whatever you want to draw
        # draw glossy bitmaps e.g. dc.DrawBitmap
        if self._mouseIn:
            pass# on mouserover may be draw different bitmap
        if self._mouseDown:
            pass # draw different image text
"
17136,23601,Index into list in multiple places in Python?,">>> x = range(1, 11)
>>> x[3], x[7] = 99, 999
>>> x
[1, 2, 3, 99, 5, 6, 7, 999, 9, 10]
"
29047,37507,"How to detect the root xml element of <?xml version=""1.0"" encoding=""UTF-8""?> using Python and ElementTree","import re

# The beginning of an XML Declaration to match.
xmlRegex = '(<\\?xml)'
rg = re.compile(xmlRegex, re.IGNORECASE | re.DOTALL)

lineCount = 0
with open(""c:\file.xml"") as f:
    for line in f:
        lineCount += 1
        match = rg.search(line)

        if match:
            self.assertTrue(False, logger.failed(""An XML Declaration was detected on line: "" + str(lineCount) + "".""))
            else:
                pass
"
23032,36788,MongoEngine & serverStatus,"db = Document._get_db()
client_count = db.command(""serverStatus"")[""connections""]['current'] - 1
"
35826,3275,DJANGO_SETTINGS_MODULE not importing my model classes,"from django.core.management import setup_environ
from yourproject import settings

setup_environ(settings)

from yourproject.app.models import YourModel
"
19355,64372,"Python program not working, input == string not working","def calculate():
    # we only want the user to input numbers
    while True:
        try:
            currency_input = float(input('Insert value: '))  # input always returns a str, we need to type cast
            break  # if input is valid we break out of the loop and move on
        except TypeError:  # handle the error when the input is not a number
            print('Please enter a number.')

    # use a dictionary because it is easier to read
    currency_dict = {
        'dollar': 34,
        'euro': 36,
        'pound': 52}

    # get the type of currency and do the math
    while True:
        select_currency = input('Insert currency(dollar,euro or pound): ').lower()
        if select_currency not in currency_dict:  # if the users enter something that is not in the dict
            print('Invalid currency')  # oops, try again
        else:
            money = currency_input * currency_dict[select_currency]  # we do the math
            return money  # return allows us to further manipulate that variable if we so desire 

print(calculate())
"
29010,8234,Finding the index of an item given a list containing it in Python,">>> [""foo"", ""bar"", ""baz""].index(""bar"")
1
"
16294,6728,Multiprocess synchronization in python,"# scripts have access to these vars, which can be useful for loading unique data
trans.thread_num = self.thread_num
trans.process_num = self.process_num
"
7777,52311,Construct on first use idiom in python," import time


 class Deferred(object):

     def __init__(self, initializer):
         self._initializer = initializer
         self._value = None
         self._initialized = False


     def __call__(self):
         if not self._initialized:
             self._value = self._initializer()
             self._initialized = True
         return self._value


 class Foo(object):

     def __init__(self):
         self._lazy_data = Deferred(lambda: time.sleep(1.0))


     @property
     def lazy_data(self):
         return self._lazy_data()


 f = Foo()
 print ""a""
 f.lazy_data
 print ""b""
 f.lazy_data
 print ""c""
"
7233,47658,Downloading all external and internal javascript files in python,"from bs4 import BeautifulSoup
import urllib2

url = ""http://example.com/""
soup = BeautifulSoup(urllib2.urlopen(url).read()) 

sources = []
scripts = []

for script in soup('script', {'type': 'text/javascript'}):
    src = script.get('src')
    if src:  
        sources.append(src)   
    else:  
        scripts.append(script.text)

print scripts
print sources
"
38139,69077,String Formatting/Template/Regular Expressions,">>> import re
>>> s = '''SAMPLE0001
SAMPL1-0002
SAMPL3003
SAMPLE-004'''
>>> print(re.sub(r'(?m)(?<=-)(?=\d{3}$)', '0', re.sub(r'(?m)(?<=^[A-Z\d]{6})(?!-)', '-', s)))
SAMPLE-0001
SAMPL1-0002
SAMPL3-0003
SAMPLE-0004
"
32380,51801,Extract URL from .url file,"import ConfigParser

config = ConfigParser.RawConfigParser()
config.read('example.url')

try:
    url = config.get('InternetShortcut', 'URL')  # Classic URL Format
except ConfigParser.NoOptionError:
    url = config.get('DEFAULT', 'BASEURL')  # Extended URL Format
"
32768,3152,How to get a Value from a Qtable,"item=self.model.item(1,1)
thestring = str(item.text())
"
8996,34534,Python: Remove repeated element when doing duplicates counting,"uniq = []
dup = []
count = 0
for i, j, k  in f:
    if not [f.index([i,j,k]),i,j,k] in uniq:
        uniq.append([count,i,j,k])
    else:
        dup.append([count,i,j,k,""duplicate""])
    count += 1
uniq.extend(dup)
print uniq

[[0, 10, 20, 0], [1, 40, 20, 30], [2, 20, 0, 30], [3, 10, 10, 0], [4, 30, 10, 10], [6, 20, 10, 20], [5, 20, 0, 30, 'duplicate'], [7, 10, 10, 0, 'duplicate']]

for j in (uniq):
    j.append(ic[j[0]])
print uniq


 [[0, 10, 20, 0, 1], [1, 40, 20, 30, 2], [2, 20, 0, 30, 3], [3, 10, 10, 0, 2], [4, 30, 10, 10, 1], [6, 20, 10, 20, 2], [5, 20, 0, 30, 'duplicate', 3], [7, 10, 10, 0, 'duplicate', 3]]
"
18642,3202,Do something every 3 loops in django-templates?,"{% cycle ""A"" ""A"" ""A"" ""B"" ""B"" ""B"" %}
"
17279,79399,Convert python string into integer without commas in them,">>> string = '82,000,00'
>>> int(price_result.replace(',', ''))
8200000
"
4060,62348,Automating an entry for terminal,"python configure.py --confirm-license
"
37211,84236,"""standard"" dll created in vb6 gives access violation when called in python","Private Function pvInitVbRuntime() As Boolean
'    Const FUNC_NAME     As String = ""pvInitVbRuntime"" '
    Const PROGID_DUMMY  As String = LIB_NAME & "".cDummy""
    Dim lIdx            As Long

    lIdx = GetModuleHandle(""MSVBVM60.DLL"")
    lIdx = GetProcAddress(lIdx, ""__vbaSetSystemError"")
    Call RtlMoveMemory(lIdx, ByVal lIdx + 9, 4)
    Call RtlMoveMemory(lIdx, ByVal lIdx, 4)
    If TlsGetValue(lIdx) <> 0 Then
        Call CoCreateInstance(CLSIDFromProgID(PROGID_DUMMY), Nothing, CLSCTX_INPROC_SERVER, VBGUIDFromString(""{00000000-0000-0000-C000-000000000046}""), Nothing)
        pvInitVbRuntime = True
    Else
'        Call APIOutputDebugString(GetCurrentThreadId() & "": not a VB thread ["" & LIB_NAME & ""."" & MODULE_NAME & ""."" & FUNC_NAME & ""]"" & vbCrLf) '
    End If
End Function
"
25447,32020,Tkinter allow window resizing from-to a certain amount,"import tkinter as tk

def get_size():
    w = root.winfo_width()
    h = root.winfo_height()
    print(w, h)

root = tk.Tk()
root.minsize(200, 200)
root.maxsize(1000, 1000)

btn = tk.Button(root, text = 'Get Current Window Size',\
                command = get_size)
btn.pack(expand = True)

root.mainloop()
"
15379,45395,Add class method after definition in a Python / Django model,"from django.contrib.auth.models import AbstractUser

class MyUserModel(AbstractUser):
    # AbstractUser has already every fields needed: username, password, is_active...
    def myfunc(self):
        # Just a dummy working example
        return ""My Username in uppercase: %s"" % self.username.upper()
"
29781,77268,Cast string to first element of a new list in function call,">>> def printfirst(lst):
...     print lst[0]
...
>>> printfirst('hello')
h
>>> printfirst(['hello'])
hello
"
30990,5866,y ticks cutting off in matplotlib in ipython,"fig, ax = plt.subplots()
fig.subplots_adjust(left=0.2)  #Adjust 0.2 to find the right margin for your plot
"
33130,45905,PyQt5 resize only one child widget when window is resized,"def initUI(self):  

    topHBoxLayout = QHBoxLayout(self)
    topHBoxLayout.setContentsMargins(0,0,0,0)

    sstObjWrapper = QSplitter(Qt.Horizontal) 
    sstObjWrapper.setSizePolicy(QSizePolicy.Fixed, QSizePolicy.Fixed)

    sstFrame  = QFrame() 
    sstFrame.setSizePolicy(QSizePolicy.Fixed, QSizePolicy.Fixed)
    sstFrame.setMinimumSize(QSize(100, 100))
    self.colorFrame(sstFrame, 'red') 

    # --- sst frame ---

    objectivesFrame = QFrame() 
    objectivesFrame.setMinimumSize(QSize(100, 100))
    objectivesFrame.setSizePolicy(QSizePolicy.Fixed, QSizePolicy.Fixed)
    self.colorFrame(objectivesFrame, 'green')

    sstObjWrapper.addWidget(sstFrame)
    sstObjWrapper.addWidget(objectivesFrame)

    tmp1  = QFrame(self)
    tmp1.setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Expanding)
    tmp1.setMinimumSize(QSize(200, 200))
    self.colorFrame(tmp1, 'purple') 

    tmp2  = QFrame(self) 
    tmp2.setMinimumSize(QSize(100, 100))
    tmp2.setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Fixed)
    self.colorFrame(tmp2, 'blue') 

    plotConsoleSplitter = QSplitter(Qt.Vertical)
    plotConsoleSplitter.addWidget(tmp1)
    plotConsoleSplitter.addWidget(tmp2)
    plotConsoleSplitter.setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Expanding)


    objPlotSplitter = QSplitter(Qt.Horizontal)
    objPlotSplitter.addWidget(sstObjWrapper)
    objPlotSplitter.addWidget(plotConsoleSplitter)

    objPlotSplitter.setStretchFactor ( 0, 0 )
    objPlotSplitter.setStretchFactor ( 1, 1 )


    topHBoxLayout.addWidget(objPlotSplitter)

    self.setLayout(topHBoxLayout)
    self.setGeometry(300, 300, 300, 200)
    self.setWindowTitle('')
    self.show()
"
19081,69932,lxml iterparse with file fails,"class xml_file_generation: 
    def xml_parse_new(self):
        for event, elem in ET.iterparse('a.xml', events=events, tag=""{abc.org}context""):
                print(""In loop"")
                print(ET.tostring(elem))
                print(""%s"" % (elem.tag))


test = xml_file_generation()
test.xml_parse_new()
"
4530,60856,(Python) Use a library locally instead of installing it,"import sys
sys.path.append(""/path/to/your/tweepy/directory"")

import tweepy
"
36872,81622,Efficient way to aggregate in Mongodb,"var map_function = function(){ 
                      for( x in this.clicked){
                          var key = this.clicked[x]; 
                          emit(key,1);
                          } 
                      };

var reduce_function = function(a,b){
                          return Array.sum(b);
                      };
db.imp.mapReduce( map_function, reduce_function,""id"").find()
"
29980,70721,How to save two-column array in a file in Python,"import os

tripo = [
('1.txt', []), 
('2.txt', []), 
('5.txt', []), 
('4.txt', ['3.txt','6.txt']),
('7.txt', ['8.txt'])
]

def getname(f):
    return os.path.splitext(f)[0]

def getresult(t):
    result = []
    for k, v in tripo:
        values = [getname(n) for n in v]
        if len(values)>0:
            result.append(getname(k))
        for x in values:
            result.append(x)
    return result

def writedown(n,r):
    with open(""test.csv"",""a"") as f:
        for x in r:
            f.write(""%s\t%s\n"" % (n,x))
            print(""%s\t%s\n"" % (n,x))

print(getresult(tripo))

writedown(1, getresult(tripo))
"
37383,5332,Python; reading file and finding desired text,"def grep(filename, needle):
    with open(filename) as f_in:
        matches = ((i, line.find(needle), line) for i, line in enumerate(f_in))
        return [match for match in matches if match[0] != -1]

def main(filename, needle):
    matches = grep(filename, needle)
    if matches:
        print ""{0} found on {1} lines in {2}"".format(needle, len(matches), filename) 
        for line in matches:
            print ""{0}:{1}:{2}"".format(*line)
        return 1
    else:
        return -1

if __name__=='__main__':
    import sys
    filename = sys.argv[1]
    needle = sys.argv[2]
    return sys.exit(main(filename, needle))
"
28983,49730,Python: Force decorator inheritance?,"class MyMeta(type):
    def __new__(mcl, name, bases, nmspc):
        if ""__call__"" in nmspc:
            nmspc[""__call__""] = trace(nmspc[""__call__""])
        return super(MyMeta, mcl).__new__(mcl, name, bases, nmspc)

class BaseClass(object):
    __metaclass__ = MyMeta
"
14399,12445,pyglet: blit a texture with specified alpha mask,"import pyglet
from pyglet.gl import *

window = pyglet.window.Window()
image = pyglet.resource.image('pic.jpg')
mask = pyglet.resource.image('mask.jpg')
createdtex=False;
imagetex = 0


@window.event
def on_draw():
    window.clear()
    global createdtex
    texfrmbuf =(GLuint*1)()
    global imagetex
    if createdtex!=True:
        imagetex = image.get_texture()
        glEnable(GL_BLEND)
        glBlendFunc(GL_ZERO, GL_SRC_COLOR)
        glGenFramebuffersEXT(1,texfrmbuf)
        glBindFramebufferEXT(GL_DRAW_FRAMEBUFFER_EXT,texfrmbuf[0])
        glFramebufferTexture2DEXT(GL_DRAW_FRAMEBUFFER_EXT,GL_COLOR_ATTACHMENT0_EXT, imagetex.target,imagetex.id,0)
        mask.blit(0,0)
        glFlush()
        glDisable(GL_BLEND)
        glDeleteFramebuffersEXT(1,texfrmbuf)
        glBindFramebufferEXT(GL_DRAW_FRAMEBUFFER_EXT,0)
        createdtex=True

    imagetex.blit(0,0)

pyglet.app.run()
"
9594,70588,Extending lists using list comprehension in python,"[j for i in items for j in '-g', i]
"
21482,68481,Select radio buttons with scrapy,">>> import lxml.html
>>> from lxml.cssselect import CSSSelector
>>> str = """"""
... '<input type=""radio"" name=""rd1"" value=""E"" checked=""checked"" />Employee
... <input type=""radio"" name=""rd2"" value=""o"" />Other'
... """"""
>>> input_sel = CSSSelector('input[name=""rd1""]')
>>> lx = lxml.html.fromstring(str)
>>> input_sel(lx)
[<InputElement b7e7665c name='rd1' type='radio'>]
"
17264,10342,Using Django's get_form_kwargs to modify form.exclude[]?,"class CustomerForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
        exclude_customer_id = kwargs.pop(exclude_customer_id, False):
        super(CustomerForm, self).__init__(*args, **kwargs)
        if exclude_customer_id:
            del self.fields['customer_id']
"
4981,62568,Python regex if group-match then put-different-character,"def special_replace(s):
    p=re.compile(r""(http://.*?)(\.?source\.com)"")
    spl=p.split(s)
    newtext=[]
    for text in spl:
        if text.startswith(""http://""):
            text=text.replace(""."",""_"")
        elif text.endswith(""source.com""):
            text=text.replace(""source.com"", ""target.com"")
        newtext.append(text)
    return """".join(newtext)
"
31656,32406,Splitting a string by a defined length with python,">>> import re
>>> lyrics = ""Never gonna give you up Never gonna let you down Never gonna run around and desert you Never gonna make you cry Never gonna say goodbye Never gonna tell a lie and hurt you""
>>> for i in re.findall(r'.{1,23}', lyrics):
    print i


Never gonna give you up
 Never gonna let you do
wn Never gonna run arou
nd and desert you Never
 gonna make you cry Nev
er gonna say goodbye Ne
ver gonna tell a lie an
d hurt you
"
33360,33307,How can I use Mongodb Aggregation in this example?,"p = db.Programs.find_one({'Title':'...'})

pipe = [
        {'$match':{'_Program':DBRef('Programs',p['_id']),'Duration':{'$gt':0}}},
        {'$group':{'_id':'$_Program', 'AverageDuration':{'$avg':'$Duration'}}}
        ]

eps = db.Episodes.aggregate(pipeline=pipe)

print eps['result']
"
33583,12107,Splitting strings in a series when a number is encountered in python,">>> import re
>>> s = ['abc12390859', 'def1959836', 'dab3496876', 'gh34643267']    
>>> ss = [re.match(r'[^\d]+', x).group(0) for x in s]
>>> ss
['abc', 'def', 'dab', 'gh']
"
36598,1070,Marking query in particular case,"Question.objects.filter(answer__isnull=False).distinct()
"
33066,79772,Run a python script in the guest virtual machine using vmrun runScriptInGuest,"vmrun -T ws -gu -gp runScriptInGuest ""/Users/userdir/Documents/Virtual Machines.localized/Windows7x64.vmwarevm/Windows7x64.vmx"" C:\Python27\python.exe C:\Users\Admin\Documents\A.py 
"
25826,3778,Keep TFIDF result for predicting new content using Scikit for Python,"corpus = np.array([""aaa bbb ccc"", ""aaa bbb ddd""])
vectorizer = CountVectorizer(decode_error=""replace"")
vec_train = vectorizer.fit_transform(corpus)
#Save vectorizer.vocabulary_
pickle.dump(vectorizer.vocabulary_,open(""feature.pkl"",""wb""))

#Load it later
transformer = TfidfTransformer()
loaded_vec = CountVectorizer(decode_error=""replace"",vocabulary=pickle.load(open(""feature.pkl"", ""rb"")))
tfidf = transformer.fit_transform(loaded_vec.fit_transform(np.array([""aaa ccc eee""])))
"
20295,24500,Getting total points for all of User's Submissions Django,"from django.db.models import Sum
User.objects.all().annotate(total=Sum('submission__task__points'))
"
6447,4334,How to determine the IP address of the server after connecting with urllib2?,"import urllib2, socket, urlparse

# set up your request as before, then:
data = urllib2.urlopen(request)
addr = socket.gethostbyname(urlparse.urlparse(data.geturl()).hostname)
"
23547,31411,Combine two loop into one,"for (f,frame), (h, highc) in zip(frames.items(), highcs.items()):
    # do your work here
"
6692,24841,Error Unit testing a ModelForm,"
def test_employment_form_complete(self):
        """"""
        Complete employment form passes validation
        """"""
        applicant = Applicant(job_id=1)
        applicant.save()
        data = {
            'applicant': 1,
        'company': 'test company',
        'town': 'test town',
        'salary': '1000000',
        'job_title': 'test job name',
        'responsibilities': 'test responsibilities',
        'date_from': '01/01/1990',
        'date_to': '01/02/1991',
        'reason_for_leaving': 'test reason for leaving'
        }
        employment_form = EmploymentForm(instance=applicant, data=data)
        result = employment_form.is_valid()
        print ""errors %s"" % employment_form.errors
        self.assertEqual(result, True)
"
39552,21631,Erase text from Edit Text using AndroidViewClient,"id16 = vc.findViewByIdOrRaise('id/no_id/16')
for i in range(25):
    id16.backspace()
"
15199,73143,Stopword removal with NLTK and Pandas,"   df['Title'] = df['Title'].apply(lambda x: [item for item in x if item not in stop])
    df['Body'] = df['Body'].apply(lambda x: [item for item in x if item not in stop])
"
30368,62987,Change browser proxy settings from Python in Ubintu?,"import os

os.system('export http://<your proxy>:<your port>/')
os.system('export https://<your proxy>:<your port>/')
"
3222,9445,Using matplotlib to graph rows by column of a csv file,"import matplotlib.pyplot as plt

s1 = [2,3,2]
s2 = [3,2,9]
s3 = [2,9,6]
hws = [1,2,3]

plt.plot(hws,s1)
plt.plot(hws,s2)
plt.plot(hws,s3)
"
24783,43208,How do i create an object with random value of attributes through for loops in python?,"import random

class Critter(object):
    """"""A virtual pet""""""

    def __init__(self, name, hunger=None, boredom=None):
        self.name = name
        self.hunger = hunger if hunger is not None else random.randrange(0, 21)
        self.boredom = boredom if boredom is not None else random.randrange(0, 21)

    def __str__(self):
        rep = ""\nCritter object\n""
        rep += ""Name: "" + str(self.name) + "", Hunger: "" + str(self.hunger) + "", Boredom: "" + str(self.boredom)
        return rep 
"
11754,2160,Sending Multipart html emails which contain embedded images,"
# Send an HTML email with an embedded image and a plain text message for
# email clients that don't want to display the HTML.

from email.MIMEMultipart import MIMEMultipart
from email.MIMEText import MIMEText
from email.MIMEImage import MIMEImage

# Define these once; use them twice!
strFrom = 'from@example.com'
strTo = 'to@example.com'

# Create the root message and fill in the from, to, and subject headers
msgRoot = MIMEMultipart('related')
msgRoot['Subject'] = 'test message'
msgRoot['From'] = strFrom
msgRoot['To'] = strTo
msgRoot.preamble = 'This is a multi-part message in MIME format.'

# Encapsulate the plain and HTML versions of the message body in an
# 'alternative' part, so message agents can decide which they want to display.
msgAlternative = MIMEMultipart('alternative')
msgRoot.attach(msgAlternative)

msgText = MIMEText('This is the alternative plain text message.')
msgAlternative.attach(msgText)

# We reference the image in the IMG SRC attribute by the ID we give it below
msgText = MIMEText('<b>Some <i>HTML</i> text</b> and an image.<br><img src=""cid:image1""><br>Nifty!', 'html')
msgAlternative.attach(msgText)

# This example assumes the image is in the current directory
fp = open('test.jpg', 'rb')
msgImage = MIMEImage(fp.read())
fp.close()

# Define the image's ID as referenced above
msgImage.add_header('Content-ID', '<image1>')
msgRoot.attach(msgImage)

# Send the email (this example assumes SMTP authentication is required)
import smtplib
smtp = smtplib.SMTP()
smtp.connect('smtp.example.com')
smtp.login('exampleuser', 'examplepass')
smtp.sendmail(strFrom, strTo, msgRoot.as_string())
smtp.quit()
"
14204,35202,How do I create a bar chart in python ggplot?,"from ggplot import *
import pandas as pd
df = pd.DataFrame({""x"":[1,2,3,4], ""y"":[1,3,4,2]})
ggplot(aes(x=""x"", weight=""y""), df) + geom_bar()
"
8059,26893,How to use codecs to convert from one language to a utf-8 encoded document?,"import codecs

original_document_encoding = ""shift-jis"" # common japanese encoding.
with codecs.open(""rshmn10j.txt"", 'r', encoding=original_document_encoding) as in_f:
    unicode_content = in_f.read()

with codecs.open(""rshmn10j.out.txt"", 'w', encoding='utf-8') as out_f:
    out_f.write(unicode_content)
"
10451,16559,Python: Comparing two CSV files and searching for similar items,"import csv

f1 = file('hosts.csv', 'r')
f2 = file('masterlist.csv', 'r')
f3 = file('results.csv', 'w')

c1 = csv.reader(f1)
c2 = csv.reader(f2)
c3 = csv.writer(f3)

masterlist = list(c2)

for hosts_row in c1:
    row = 1
    found = False
    for master_row in masterlist:
        results_row = hosts_row
        if hosts_row[3] == master_row[1]:
            results_row.append('FOUND in master list (row ' + str(row) + ')')
            found = True
            break
        row = row + 1
    if not found:
        results_row.append('NOT FOUND in master list')
    c3.writerow(results_row)

f1.close()
f2.close()
f3.close()
"
15579,23229,Python and executing php files?,"import os

outp = os.popen('php ./index.php')
text = outp.read() # this will block until php finishes
                   # and returns with all output in text
print text
"
3072,18964,How to check for palindrome using Python logic,"str(n) == str(n)[::-1]
"
22953,45608,Fastest way to access middle four elements in Numpy array?,"def get_middle(arr):
    n = arr.shape[0] / 2.0
    n_int = int(n)
    if n % 2 == 1:
        return arr[[n_int], [n_int]]
    else:
        return arr[n_int:n_int + 2, n_int:n_int + 2]
"
4399,60439,PyQt4 crash with progress bar,"import sys
from PyQt4 import QtGui
import urllib

app = QtGui.QApplication(sys.argv)
app.setStyle('Cleanlooks')

progressx = QtGui.QProgressBar()
progressx.show()

url = ""http://l3cdn.riotgames.com/ShellInstaller/EUNE/LeagueofLegends_EUNE_Installer_9_15_2014.exe""
name = url.split('/')[-1]
def report(count, blockSize, totalSize):
    global percent
    percent = int(count*blockSize*100/totalSize)

    sys.stdout.write(""\r%d%%"" % percent + ' complete')
    progressx.setValue(percent)

    QtGui.QApplication.processEvents()

urllib.urlretrieve(url, name, reporthook=report)
sys.exit(app.exec_())
"
18927,67196,"Revit API & Dynamo, Handling Variable Input Types","#The inputs to this node will be stored as a list in the IN variable.
dataEnteringNode = IN

def ProcessList(_func, _list):
    return map( lambda x: ProcessList(_func, x) if type(x)==list else _func(x), _list )

def AddOne(item):
    return item + 1

if isinstance (IN[0], list):
    output = ProcessList(AddOne, IN[0])
else:
    output = AddOne(IN[0])

#Assign your output to the OUT variable.
OUT = output
"
31298,64293,Defining a variable after calling it?,"class Weapon:

    def __init__(self, name, damage):
        self.name = name
        self.damage = damage
        self.level = 1

    def upgrade(self):
        self.level += 1
        self.damage += 10

class Character:

    def __init__(self, name, level, weapon):
        self.name = name
        self.level = level
        self.weapon = weapon

        self.max_hp = self.get_max_hp()
        self.hp = max_hp

    def get_max_hp(self):
        return 100 + self.level*10

    def get_status(self):
        if self.hp <= 0:
            return 'Dead'
        elif self.hp < self.max_hp:
            return 'Unhealthy'
        else:
            return 'Healthy'

    def level_up(self):
        self.level += 1
        self.max_hp = self.get_max_hp()
        self.weapon.upgrade()

    def attack(self, npc):
        npc.hp -= self.weapon.damage

>>> sword = Weapon('sword', 15)
>>> spear = Weapon('spear', 20)
>>> npc1 = Character('john', 5, sword)
>>> npc2 = Character('james', 1, spear)
>>> npc1.name
'john'
>>> npc1.level
5
>>> npc1.max_hp
150
>>> npc1.weapon.name
'sword'
>>> npc1.weapon.damage
15
>>> npc1.weapon.upgrade()
>>> npc1.weapon.damage
25
>>> npc1.hp
150
>>> npc1.get_status()
'Healthy'
>>> npc2.attack(npc1)
>>> npc1.hp
130
>>> npc1.get_status()
'Unhealthy'
>>> for i in range(10):
        npc2.attack(npc1)
>>> npc1.hp
-70
>>> npc1.get_status()
'Dead'
>>> npc1.level_up()
>>> npc1.level
6
>>> npc1.weapon.damage
35
>>> npc1.max_hp
160
"
13631,15430,Make tkinter text widget fit to window,"    from tkinter import *
    root=Tk()

    text=Text(root)
    text.pack(expand=True, fill=BOTH)

    root.mainloop
"
19170,17025,table printer with sort,"Table=[['Name','Age','Level','Score'],['Tom','15','5','999'],
   ['Bob','105','7','2']]

LongestItem=0
for List in Table:
    for Item in List:
        if len(Item)>LongestItem:
            LongestItem=len(Item)

for List in Table:
    for Item in enumerate(List):
        List[Item[0]] = '{:{}}'.format(List[Item[0]],LongestItem)

for Index in range(len(Table)):
    print(' '.join(Table[Index]))
"
3624,77435,Python: How to hash a string into 8 digits?,">>> s = 'she sells sea shells by the sea shore'

>>> # Use hashlib
>>> import hashlib
>>> int(hashlib.sha1(s).hexdigest(), 16) % (10 ** 8)
58097614L

>>> # Use hash()
>>> abs(hash(s)) % (10 ** 8)
82148974
"
34355,70322,How to say something when a particular value you're looking for is not in a list,"count = 0
for i in cijfers:
    if (cijfers i[1] == 'wiskunde'):
        count += 1 # Same as count = count + 1
        print ('          ',i[0], '     ',i[2])

#Out of the loop:
if count == 0:
    print ""There's no values put in for this particular subject""
"
10228,18053,List directory tree structure using Python,"import os

def list_files(startpath):
    for root, dirs, files in os.walk(startpath):
        level = root.replace(startpath, '').count(os.sep)
        indent = ' ' * 4 * (level)
        print('{}{}/'.format(indent, os.path.basename(root)))
        subindent = ' ' * 4 * (level + 1)
        for f in files:
            print('{}{}'.format(subindent, f))
"
4409,46115,Interpolation between values in two lists,"l1 = [2.7577, 147.1441, 292.4872, 512.2606, 840.8513, 1335.3837, 1462.9142]
l2 = [0.0000, 145.9340, 291.3053, 511.1912, 839.7539, 1333.8079, 1461.3383]

interp = [(i1 + i2)/2.0 for i1, i2 in zip(l1, l2)]

>>> interp
[1.37885, 146.53905, 291.89625, 511.72589999999997, 840.3026, 1334.5958, 1462.1262499999998]
"
5631,71712,Union and Intersection of Arrays in Django,"intersection = queryset1 & queryset2

union = queryset1 | queryset2
"
16382,67941,What's the best way to create models for this situation in django?,"class MasterService(models.Model):
    master = models.ForeignKey(Master)
    service = models.ForeignKey(Service)
    price = models.PositiveIntegerField(blank=True)

    class Meta:
        unique_together = ('master', 'service')
"
11109,37362,Strange behavior in Python code,"prevToken = None
def depthFirstTraverseTokenLinking(tree):
    depthFirstTraverseTokenLinkingPhase1(tree)
    depthFirstTraverseTokenLinkingPhase2(tree)

def depthFirstTraverseTokenLinkingPhase1(tree):
    global prevToken
    if len(tree.children) == 0:
        tree.prevToken = prevToken
        if prevToken != None :
            prevToken.nextToken = tree # Is something wrong with this line?
        prevToken = tree
        return

    for c in tree.children:
        depthFirstTraverseTokenLinkingPhase1(c)

def depthFirstTraverseTokenLinkingPhase2(tree):
    if len(tree.children) == 0:
        return

    for c in tree.children:
        depthFirstTraverseTokenLinkingPhase2(c)

    if tree.children[0].prevToken is not None:
        tree.prevToken = tree.children[0].prevToken
    else:
        tree.prevToken = tree.children[0]

    if tree.children[-1].nextToken is not None:
        tree.nextToken = tree.children[-1].nextToken
    else:
        tree.nextToken = tree.children[-1]
"
992,2638,Matplotlib boxplot spacing on x axis,"plt.boxplot(data_sgc, positions = range(4,(len(alignments.keys())*4), 4))
plt.ylabel(""Alignment Gap Score"")
plt.xlabel(""Locus"")
plt.xticks(range(4,((len(alignments.keys())+1)*4),4), [i[1] for i in medians_sgc], rotation=90, fontsize = 4)
plt.tick_params(axis='x', pad=4) 
plt.tight_layout()
remove_border()
"
717,54868,Finding 'runs' within a list,"runs = []
curr = 0
for x in list1:
    if x == 0:
        if curr != 0: 
            runs.append(curr)
            curr = 0
    else:
        curr = curr + 1
if curr > 0: runs.append(curr)
"
30009,78809,adding more values to a list on existing python dict,"from collections import defaultdict

d = defaultdict(list)
d['x'] = [1,2,3,4]
d['y'] = [5,6,7,8]
# d is {'y': [5, 6, 7, 8], 'x': [1, 2, 3, 4]}

d['z'].append(10)
d['x'].append(9)
print d
# d is now {'y': [5, 6, 7, 8], 'x': [1, 2, 3, 4, 9], 'z': [10]}
"
9109,11448,How do I get possible combinations of a list within a specific range in Python?,"result = []
for L in range(1, 5):
    for subset in itertools.permutations(letters, L):
        result.append(''.join(subset))
"
7582,58449,"Dude, where is my Django installation?",">>> import django
>>> django
<module 'django' from '/usr/local/lib/python2.6/dist-packages/django/__init__.pyc'>
"
36683,79216,Global variables in Python to share variable across files,"from my_module import chain
"
2430,8847,Python Script Executed with Makefile,"foo: do-foo.py
    python do-foo.py > foo
"
37682,76123,Finding and replacing many words,"#!/bin/bash

while read -r sub && read -r rep <&3; do
  sed -i ""s/ ""$sub"" / ""$rep"" /g"" main.file
done <old.text 3<new.text
"
18895,54133,creating a special kind of merged list within a list in django,"final_list = zip(list1, list2, list3)
"
4169,71897,How do I make a numpy array's numbers plot on different axes?,"import matplotlib.pyplot as plt

plt.plot(*result.T)
"
13608,71386,Get all links from page on Wikipedia,"'http://en.wikipedia.org/w/index.php?title=Special%3AWhatLinksHere&limit='500'&target='+goal+'&namespace=0'
                                                                                          ^^^^
                                                                                          Article you are trying to reach here
"
1486,67806,Weird behavior between pyramid and python's requests library,"user = session.query(User).filter_by(username=request.params['username']).first()
if user is None:
   ""not found"" # do whatever appropriate in your case e.g., return 404

headers = {'content-type': 'application/json'}
requests.put('http://localhost:9200/master/user/{userid}'.format(user.user_id),
             data=json.dumps(dict(name=request.params['name'], reputation=0,
                                  username=request.params['username'])),
             headers=headers)
"
12368,63449,Getting django record by foreign key,">>> from test_app.models import AMe, MP
>>> ame = AMe.objects.create()
>>> for _ in xrange(6):
...     MP.objects.create(MyAMeID=ame)
>>> ame.mp_set.all()
[<MP: MP object>, <MP: MP object>, <MP: MP object>, <MP: MP object>, <MP: MP object>, <MP: MP object>]
"
15865,14604,Twisted task.loop and pb auth,"# Upper case first letter of class name is good policy.
class Login_send:

    def __init__(self):
        # initialize the state variable to False.
        self.connection = False
        self.count=0
        self.timeout = 1.0
        self.factory = pb.PBClientFactory()
        reactor.connectTCP(""localhost"", 8800, self.factory)

    def testTimeout(self):
        self.count+=1
        print self.count

        # no connection -- create one.
        if not self.connection:
            self.assign_connection()

        # cached connection exists, call send_data manually.
        elif self.count > 10:
            self.disconnect(self.connection)
        else:
            #you probably want to send data only if it it should be valid.
            self.send_data(self.connection)       

    def assign_connection(self):
    ''' Creates and stores a Deffered which represents the connection to
        the server. '''
        # cache the connection.
        self.connection = self.factory.login(
                              credentials.UsernamePassword(""test1"",""bb1b""))
        # add connection callbacks as normal.
        self.connection.addCallbacks(
                              self.good_connected, self.bad_connected)
        self.connection.addCallback(self.send_data)
        self.connection.addErrback(self.disconnect)

    def disconnect(self, perspective):
        # be sure to cleanup after yourself!
        self.connection = False
        print 'disconnect'
        reactor.stop()

    # the rest of your class goes here.
"
19623,49775,matplotlib: Have axis maintaining ratio,"import matplotlib.pyplot as plt
import numpy as np

xs = np.arange(50)
ys = (np.random.random(50)*70) + 15

plt.scatter(xs,ys)

plt.axis('image')
plt.axis([0, 50, 0, 70])

plt.show()
"
14698,48665,SymPy - apply limits to an indefinite integral,">>> indef = Integral(x)
>>> to_be_integrated, (free_var,) = indef.args
>>> definite = Integral(to_be_integrated, (free_var, 1, 2))
"
6718,59607,Python: urllib2 multipart/form-data and proxies,"from urllib2 import ProxyHandler,build_opener,install_opener

PROXY=""http://USERNAME:PASSWD@ADDRESS:PORT""

opener = build_opener(ProxyHandler({""http"" : PROXY}))

install_opener(opener)
"
37854,77544,Parsing tab or space/s delimited file using Python,"with open('address1.txt') as fin, open('address2.txt','w') as fout:
  for line in fin:
    fout.write( ""\t"".join(line.split()) + ""\n"" )
"
7066,66943,Unable to load template file for custom widget,"{% extends 'dashing/base.html' %}
{% load staticfiles %}

{% block stylesheets %}
<link rel=""stylesheet"" href=""{% static 'widgets/status/status.css' %}"">
{% endblock %}

{% block templates %}
<link rel=""resource"" type=""text/html"" href=""{% static 'widgets/status/status.html' %}"" data-widget=""status"">
{% endblock %}

{% block scripts %}
<script type=""text/javascript"" src=""{% static 'widgets/status/status.js' %}""></script>
{% endblock %}

{% block config_file %}
<script type=""text/javascript"" src=""{% static 'dashing-config.js' %}""></script>
{% endblock %}
"
23368,71540,Function called without being told to,"def cell1():
    print(""In cell1!"")
    while True:
        choice = input(""pick 'ONE' or 'TWO' (or type 'quit' to exit):"")
        if choice == ""ONE"":
            return option1
        elif choice == ""TWO"":
            return option2
        elif choice == ""quit"":
            return None
        else:
            print(""I'm sorry, I didn't understand that."")

def option1():             # these other two functions are very basic in my example
    print(""In option1!"")   # but you can make them as complex as you want
    return option2

def option2():
    print(""in option2!"")
    return cell1

def control_loop(initial_state=cell1):
    state = initial_state
    while state is not None:
        state = state() # the next state is the return value of the previous state
"
36006,51311,How to interact with Checkbox in kivy python?,"from kivy.app import App
from kivy.lang import Builder
from kivy.uix.screenmanager import ScreenManager, Screen
Builder.load_string('''
<Root>:
    MainScreen:
        name: 'main'
    AnotherScreen:
        name: 'another'
<MainScreen>:
    BoxLayout:
        Button:
            text: 'next screen'
            on_release: root.parent.current='another'
        Button:
            text: 'ping!'
            on_release: root.ping()
<AnotherScreen>:
    BoxLayout:
        Button:
            text: 'previous screen'
            on_release: root.parent.current='main'
        Button:
            text: 'ping!'
            on_release: root.ping()
''')

class MainScreen(Screen):
    def __init__(self, **kw):
        super(MainScreen, self).__init__(**kw)
        self.a = App.get_running_app()
    def ping(self):
        print self.a.big_dict['hi']

class AnotherScreen(Screen):
    def ping(self):
        b = App.get_running_app()
        print b.big_dict['hi']

class Root(ScreenManager):
    pass
class SimpleKivy(App):
    big_dict={'hi':'hi there!'}
    def build(self):
        return Root()
SimpleKivy().run()
"
7868,11828,Applying a coloured overlay to an image in either PIL or Imagemagik,"from skimage import data, color, io, img_as_float
import numpy as np
import matplotlib.pyplot as plt

alpha = 0.6

img = img_as_float(data.camera())
rows, cols = img.shape

# Construct a colour image to superimpose
color_mask = np.zeros((rows, cols, 3))
color_mask[30:140, 30:140] = [1, 0, 0]  # Red block
color_mask[170:270, 40:120] = [0, 1, 0] # Green block
color_mask[200:350, 200:350] = [0, 0, 1] # Blue block

# Construct RGB version of grey-level image
img_color = np.dstack((img, img, img))

# Convert the input image and color mask to Hue Saturation Value (HSV)
# colorspace
img_hsv = color.rgb2hsv(img_color)
color_mask_hsv = color.rgb2hsv(color_mask)

# Replace the hue and saturation of the original image
# with that of the color mask
img_hsv[..., 0] = color_mask_hsv[..., 0]
img_hsv[..., 1] = color_mask_hsv[..., 1] * alpha

img_masked = color.hsv2rgb(img_hsv)

# Display the output
f, (ax0, ax1, ax2) = plt.subplots(1, 3,
                                  subplot_kw={'xticks': [], 'yticks': []})
ax0.imshow(img, cmap=plt.cm.gray)
ax1.imshow(color_mask)
ax2.imshow(img_masked)
plt.show()
"
33507,42510,Display all search results when web scraping with Python,"import re

from bs4 import BeautifulSoup
import requests

response = requests.get('http://www.europarl.europa.eu/oeil/search/search.do?searchTab=y')
soup = BeautifulSoup(response.content)

# get the results count
num_results = soup.find('span', class_=re.compile('resultNum')).text
num_results = int(re.search('(\d+)', num_results).group(1))
print ""Results found: "" + str(num_results)

results_per_page = 50
base_url = ""http://www.europarl.europa.eu/oeil/search/result.do?page={page}&rows=%s&sort=d&searchTab=y&sortTab=y&x=1411566719001"" % results_per_page

links = []
for page in xrange(1, num_results/results_per_page + 1):
    print ""Current page: "" + str(page)

    url = base_url.format(page=page)
    response = requests.get(url)

    soup = BeautifulSoup(response.content)
    links += [a.attrs.get('href') for a in soup.select('div.procedure_title a')]

print links
"
17440,30038,linked list in python,">>> from collections import defaultdict
>>> get_group = lambda x: x % 4
>>> d = defaultdict(list)
>>> for value in range(10):
...     d[get_group(value)].append(value)
... 
>>> dict(d)
{0: [0, 4, 8], 1: [1, 5, 9], 2: [2, 6], 3: [3, 7]}
"
35245,55901,Python: How to get argument's name runtime,"import inspect
def printname(x):
    print inspect.stack()[1][4]

a = 1.3
printname(a)
"
5819,76035,how to duplicate pandas datetime object,"In [43]: s = pd.Series(pd.to_datetime('2016-04-21'))

In [44]: s
Out[44]:
0   2016-04-21
dtype: datetime64[ns]

In [45]: np.tile(s, 10)
Out[45]:
array(['2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200',
       '2016-04-21T02:00:00.000000000+0200'], dtype='datetime64[ns]')

In [46]: pd.DataFrame(np.tile(s, 10), columns=['date'])
Out[46]:
        date
0 2016-04-21
1 2016-04-21
2 2016-04-21
3 2016-04-21
4 2016-04-21
5 2016-04-21
6 2016-04-21
7 2016-04-21
8 2016-04-21
9 2016-04-21
"
13670,54148,How to apply a function to all the column of a numpy matrix?,"import numpy as np

arr = np.eye(3)
np.apply_along_axis(np.count_nonzero, 0, arr)
"
37903,4102,Delay/discrepancy between expected and actual output to iPython output,"from __future__ import print_function
import sys

def print_flush(*args):
    print(*args)
    sys.stdout.flush()
"
13332,54558,Memory consumption of a dictionary: set a value None vs. delete the item,"In [26]: import pympler.asizeof as asizeof

In [27]: asizeof.asizeof({'a': None})
Out[27]: 168

In [28]: asizeof.asizeof({})
Out[28]: 136

In [29]: import sys

In [30]: 
In [31]: sys.getsizeof({})
Out[31]: 136

In [34]: sys.getsizeof({'a':None})
Out[34]: 136
"
12383,84124,Python multiprocessing,"from multiprocessing import Process
import subprocess

def run_shell(command):
    p = subprocess.Popen(command)
    p.communicate()

# Array of processes 
opencv_array = [
    'opencv_haartraining -data data -vec mil.vec ...',
    'opencv_haartraining -data data -vec mil.vec ...',   
]

def multiprocessing_on():
    tasks = []
    for command in opencv_array:
        task = Process(target=run_shell, args=(command,))
        task.start()
        tasks.append(task)

    # Wait for all done
    for task in tasks: 
        task.join()

multiprocessing_on()
"
29187,57314,Variable names and values string to dictionary,"import re
vals = { x:float(y) if '.' in y else int(y) for (x,y) in (re.findall(r'([^\d.]+)(\d[\d.e+-]*)',string2))} 

{'width_top': 100.0, 'Height_A': 132, 'lengthsimple': 1340.0}
"
38760,8013,Launch successive calculations of Abaqus,"import os
os.system(""abq6131 job=Fish1"")
"
7311,19405,different fields for add and change pages in admin,"class SoftwareVersionAdmin(ModelAdmin):
    def get_form(self, request, obj=None, **kwargs):
        # Proper kwargs are form, fields, exclude, formfield_callback
        if obj: # obj is not None, so this is a change page
            kwargs['exclude'] = ['foo', 'bar',]
        else: # obj is None, so this is an add page
            kwargs['fields'] = ['foo',]
        return super(SoftwareVersionAdmin, self).get_form(request, obj, **kwargs)
"
1029,75754,print the appengine model entity id in the html template,"(<a href =""edit/{{note.key().id()}}"">edit </a>)
"
27267,54930,"TypeError: sequence item 0: expected str instance, int found","def  lekToString(lek):
return '|'.join([str(lek['ser_br']), str(lek['fab_naziv']), str(lek['gen_naziv']), str(lek['c_leka']), str(lek['kol_leka'])])
"
36973,52041,python : TypeError: 'str' object is not callable,"from openpyxl import Workbook

newRwa = Workbook()
ws1 = newRwa.active
for i in range(2,101):
    a = preqAS['A'+str(i)].value
    b = preqAS['B'+str(i)].value
    ws1.append([a, b])

newRa.save(filename='/Users/Ians/Desktop/newRwa.xlsx')
"
16390,15878,How scan for return values in python?,"if needsBuild == True:
    print ""The MSS_sims Needs To rebuilt""

elif needsBuild == False:
    print ""The MSS_sims does NOT Need to be Rebuilt""

else:
    print ""error
"
7079,43796,Python - Faster way of making a custom list of text in a file,"In [66]: with open(""data.txt"") as f:
    print [[line[0:i+1] for i in range(len(line))] for line in f]
   ....:     
[['L', 'Li', 'Lin', 'Line', 'Line ', 'Line 1', 'Line 1\n'], 
 ['L', 'Li', 'Lin', 'Line', 'Line ', 'Line 2', 'Line 2\n'],
 ['L', 'Li', 'Lin', 'Line', 'Line ', 'Line 3', 'Line 3\n']]
"
33027,34008,How can I label the minor tics in a loglog plot in matplotlib?,"plt.xticks([1, 3, 10, 30, 100, 300], [1, 3, 10, 30, 100, 300])
"
21384,18605,"how to reload after ""from <module> import *""?","import sys
from foo import *
print A, B        #prints 1, 2
A, B = 100, 200
mod = reload(sys.modules['foo'])#use imp.reload for Python 3  
vars().update(mod.__dict__)     #update the global namespace
print A, B        #prints 1, 2
"
16741,5796,Recursively split strings that contains a defined set of prefixes - Python,"import re

def split_prefixes(word, prefixes):
    regex = re.compile('|'.join(sorted(prefixes, key=len, reverse=True)))
    result = []
    i = 0
    while True:
        mo = regex.match(word, i)
        if mo is None:
            result.append(word[i:])
            return result
        result.append(mo.group())
        i = mo.end()


>>> prefixes = ['over', 'under', 're', 'un', 'co']
>>> for word in ['overachieve', 'reundo', 'empire', 'coprocessor']:
        print word, '-->', split_prefixes(word, prefixes)

overachieve --> ['over', 'achieve']
reundo --> ['re', 'un', 'do']
empire --> ['empire']
coprocessor --> ['co', 'processor']
"
35283,51241,Convert an iteration over dictionaries into a pandas dataframe,"df = []
for key, value1 in exp1_dict.iteritems(): 
    if key in exp2_dict:
        dict_union = list(set(value1).intersection(exp2_dict[key]))
        col1 = key
        col2 = str(f_exp1_dict[key])
        col2 = str(f_exp2_dict[key])
        col3 = str('|'.join(value1))
        col4 = str(len(exp1_dict[key]))
        col5 = str(len(exp1_corr.index))
        col6 = str('|'.join(exp2_dict[key]))
        col7 = str(len(exp2_dict[key]))
        col8 = str(len(exp2_corr.index))
        col9 = str('|'.join(dict_union))
        col10 = str(dict_union)
        df.append([col1, col2, col3, col4, col5, col6, col7, col8, col9, col10])

df = pd.DataFrame(df)
"
28872,55417,How do I copy a file to a remote server in python using scp or ssh?,"import os
os.system(""scp FILE USER@SERVER:PATH"")
#e.g. os.system(""scp foo.bar joe@srvr.net:/path/to/foo.bar"")
"
31316,30631,Python requiring an attribute be converted to a string,"class Map(object):

 def __init__(self):

    self.quips = [
        ""You died. You suck at this."",
        ""Your mom would be proud, if she were smarter"",
        ""Such a luser."",
        ""I have a small puppy that's better at this.""
    ]

 def death(self): 
    print self.quips[randint (0, len(self.quips)-1)]
    exit(1)

 def princess_lives_here(self):
    print ""You see a beautiful Princess with a shiny crown.""
    print ""She offers you some cake.""

    eat_it = raw_input("">"")

    if eat_it == ""eat it"":
        print ""You explode like a pinata full of frogs.""
        print ""The Princess cackles and eats the frogs. Yum!""
        return 'death'

    elif eat_it == ""do not eat it"":
        print ""She throws the cake at you and it cuts off your head.""
        print ""The last thing you see is her munching on your face. Yum!""
        return 'death'

    elif eat_it == ""make her eat it"":
        print ""The Princess screams as you cram the cake in her mouth.""
        print ""Then she smiles and cries and thank you for saving her.""
        print ""She points to a tiny door and says, 'The Koi needs cake too.'""
        print ""She gives you the very last bit of cake and shoves you in.""
        return 'gold_koi_pond'

    else:
        print ""The Princess looks at you confused and just points at the cake.""
        return 'princess_lives_here'

class Engine(object):

 def __init__(self, map, start):
    self.quips = [
        ""You died. You suck at this."",
        ""Your mom would be proud, if she were smarter"",
        ""Such a luser."",
        ""I have a small puppy that's better at this.""
    ]
    self.map = map
    self.start = start

 def play(self):
    next = self.start

    while True:
        print ""\n-----""
        room = getattr(self.map, next)
    next = room()
"
4277,34706,Count number of results for a particular word on Twitter (API v1.1),"#Import the required modules
from twython import Twython
import json
import csv

#Set parameters
keyword = 'kittens'; #The desired keyword(s)
tweetsXiteration = 100; #Where 100 is the max
dateFrom = '2014-02-01'; #Inclusive (YYYY-MM-DD)
dateTo = '2014-02-02'; #Exclusive (YYYY-MM-DD)
done = False; #Must be false

#Setting the OAuth
Consumer_Key = 'XXX';
Consumer_Secret = 'XXX';
Access_Token = 'XXX';
Access_Token_Secret = 'XXX';

#Connection established with Twitter API v1.1
twitter = Twython(Consumer_Key, Consumer_Secret, Access_Token, Access_Token_Secret);

#Twitter is queried
response = twitter.search(q = keyword, count = tweetsXiteration, since = dateFrom, until = dateTo, result_type = 'mixed');

#Results (partial)
countTweets = len(response['statuses']);

#If all the tweets have been fetched, then we are done
if not ('next_results' in response['search_metadata']): 
    done = True;

#If not all the tweets have been fetched, then...
while (done == False):

    #Parsing information for maxID
    parse1 = response['search_metadata']['next_results'].split(""&"");
    parse2 = parse1[0].split(""?max_id="");
    parse3 = parse2[1];
    maxID = parse3;

    #Twitter is queried (again, this time with the addition of 'max_id')
    response = twitter.search(q = keyword, count = tweetsXiteration, since = dateFrom, until = dateTo, max_id = maxID, include_entities = 1, result_type = 'mixed');

    #Updating the total amount of tweets fetched
    countTweets = countTweets + len(response['statuses']);       

    #If all the tweets have been fetched, then we are done
    if not ('next_results' in response['search_metadata']): 
        done = True;

print(countTweets);
"
22533,72238,connecting pyqt4 signals in a pyqt4 qobject class,"class vis(QtCore.QObject):
    def __init__(self, parent=None):
        super(vis, self).__init__(parent) # you are missing this line
                                          # also the `parent` arg
        self._oreList = []

        self._w = window.window()
        self._w.scanStarted.connect(self._scanOre)

    def _scanOre(self, rawText):
        print ""main ->"", rawText
"
22524,1479,Select image extension in Sphinx,".. image:: ../docs/alpha-strat.*
"
37711,60917,Pandas read_csv multiple files,"import pandas as pd

mylist = ['a.csv','b.csv','c.csv']

dfs = {}
for f in mylist:
    dfs.update({f.rsplit('.csv',1)[0]: pd.read_csv(f)})

print dfs['a']  
"
15157,48362,Django ORM limiting queryset to only return a subset of data,"SELECT * FROM mytable
WHERE (id, user_id, follow, active) IN (
    SELECT id, likeable, user_id, follow, active FROM mytable mt
    WHERE mt.user_id = mytable.user_id
    AND mt.user_id IN (1, 2)
    ORDER BY user_id LIMIT 5)
ORDER BY likeable
"
35038,59514,Displaying a matplotlib bar chart in Tkinter,"import matplotlib, numpy, sys
matplotlib.use('TkAgg')
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg
from matplotlib.figure import Figure
if sys.version_info[0] < 3:
    import Tkinter as Tk
else:
    import tkinter as Tk

root = Tk.Tk()

f = Figure(figsize=(5,4), dpi=100)
ax = f.add_subplot(111)

data = (20, 35, 30, 35, 27)

ind = numpy.arange(5)  # the x locations for the groups
width = .5

rects1 = ax.bar(ind, data, width)

canvas = FigureCanvasTkAgg(f, master=root)
canvas.show()
canvas.get_tk_widget().pack(side=Tk.TOP, fill=Tk.BOTH, expand=1)

Tk.mainloop()
"
31024,82689,Python - unable to convert 1.72e-05 to a float value,"value = float('1.72e-05')
string_value = ""%f"" % value
"
5216,82609,Highlight cell in seaborn heatmap through mouse hover,"def onMotion(self,event):

    if not event.inaxes: 
        return

    xint = int(event.xdata)
    yint = int(event.ydata)

    self.rect = mpatches.Rectangle((xint, yint),1,1,fill=False,linestyle='dashed', edgecolor='red',linewidth=2.0)

    self.axh.add_patch(self.rect)

    self.canvash.draw()   

    self.rect.remove()  
"
17189,6051,Is there a python special character for a blank value?,"def findit(word, lst):
    return [el[0] for el in lst if el[1] == word][0]
"
24924,69985,Read Large Gzip Files in Python,"import gzip

f_name = 'file.gz'

filtered = []
with gzip.open(f_name, 'r') as infile:
    for line in infile:
        for i in line.split(' '):
            if i.startswith('/bin/movie/tribune'):
                filtered.append(line)
                break # to avoid duplicates
"
31163,42354,Compare a string to an integer,">>> l = [['Ferrari','200,000','10,000km'],['Porsche','230,000','10,000km'],['Ferrari','150,000','10,000km'],['Ferrari','200,000','10,000km'],['Porsche','230,000','10,000km'],['Porsche','200,210','10,000km'],['Ferrari','110,000','10,000km'],['Porsche','400,000','10,000km']]
>>> for i in l:
...     if (int(i[1].replace(',','')) > 350000):      # Remove all the , in your string and type cast it to an integer
...          print i
... 
['Porsche', '400,000', '10,000km']
"
33772,73368,Is there a way for mod_wsgi/Flask and mod_dav to coexist?,"RewriteCond %{REQUEST_URI} ^/endpoint/dav
RewriteCond %{REQUEST_METHOD} ^(PROPFIND|OPTIONS|PROPPATCH)$
RewriteRule ^/endpoint/dav /local_path_to_dav_repo/$1 [L]

RewriteCond %{REQUEST_URI} ^/endpoint/dav
RewriteCond %{REQUEST_METHOD} =GET
RewriteCond /local_path_to_dav_repo/$1 !-d
RewriteRule ^/endpoint/dav(.*) /local_path_to_dav_repo/$1 [L]

WSGIScriptAlias /endpoint /my_wsgi_dir/flask.wsgi

<Directory /local_path_to_dav_repo>
Dav On
</Directory>
"
3406,9180,Calling C function from ctypes: class instance can be None,"class Type1:
   @classmethod
   def from_param(cls, obj):
       if obj is None:
           return c_void_p()
       else:
           return obj.c_ptr
"
21682,27984,Pandas read_sql with parameters,"df = psql.read_sql(('select ""Timestamp"",""Value"" from ""MyTable"" '
                     'where ""Timestamp"" BETWEEN %(dstart)s AND %(dfinish)s'),
                   db,params={""dstart"":datetime(2014,6,24,16,0),""dfinish"":datetime(2014,6,24,17,0)},
                   index_col=['Timestamp'])
"
268,8887,Python regex does not match,"str2='hello: acb cross'
reg = re.compile('hello: (a.*?) cross')
"
16442,15267,Pyenv not auto activating,"export PATH=""$HOME/.pyenv/bin:$PATH""
eval ""$(pyenv init -)""
"
22207,41623,"Every day,week,month,year in AppEngine cron (python)","# Daily:
every day 00:00

# Weekly:
every monday 00:00

# Monthly:
1 of month 00:00

# Yearly:
1 of jan 00:00
"
10490,82513,How to test both Python and C++ in one .travis.yml without running the C++ multiple times?,"script:
  - python setup.py test
  - if [[ $TRAVIS_PYTHON_VERSION == '3.4' ]]; then (cd src && CC=gcc-4.8 CXX=g++-4.8 make -f Makefile-custom test); fi
"
15800,51266,How can I print a plot in matplotlib either from the plot window or with a command?,"import matplotlib.pyplot as plt
import numpy as np
import subprocess
import shlex

n=20
x=np.linspace(0,np.pi,n)
y=np.sin(x)
plt.plot(x,y)
fname='/tmp/test.pdf'
plt.savefig(fname)
proc=subprocess.Popen(shlex.split('lpr {f}'.format(f=fname)))
"
18084,54938,Python Get on a website and running $(document).ready(function(),"from selenium import webdriver
from selenium.webdriver.common.keys import Keys

driver = webdriver.Firefox()
driver.get(""http://www.python.org"")
assert ""Python"" in driver.title
elem = driver.find_element_by_name(""q"")
elem.send_keys(""pycon"")
elem.send_keys(Keys.RETURN)
assert ""No results found."" not in driver.page_source
driver.close()
"
3700,56759,Converting a list of strings to a single pattern,"items = ['ratelimiter:foobar:201401011157',
 'ratelimiter:foobar:201401011158',
 'ratelimiter:foobar:201401011159',
 'ratelimiter:foobar:201401011200']

print items[0][:[len(set(x)) == 1 for x in zip(*items)].index(False)] + '*'
# ratelimiter:foobar:201401011*
"
30310,38791,Passing HTML to template using Flask/Jinja2,"{{ something|safe }}
"
29449,10931,Python dictionary - binary search for a key?,"import collections
import bisect

class MyDict(collections.Mapping):
  def __init__(self, contents):
    ""contents must be a sequence of key/value pairs""
    self._list = sorted(contents)
  def __iter__(self):
    return (k for (k, _) in self._list)
  def __contains__(self, k):
    i = bisect.bisect_left(self._list, (k, None))
    return i < len(self._list) and self._list[i][0] == k
  def __len__(self):
    return len(self._list)
  def __getitem__(self, k):
    i = bisect.bisect_left(self._list, (k, None))
    if i >= len(self._list): raise KeyError(k)
    return self._list[i][1]
"
36451,37838,Python: randomly assigning titles to documents in a corpus,">>> D = [1,2,3,4,5,6,7,8,9]
>>> Z = ['a','b','c','d','e','f','g']
>>> [[i, random.choice(Z)] for i in D]
[[1, 'a'], [2, 'd'], [3, 'c'], [4, 'f'], [5, 'b'], [6, 'g'], [7, 'f'], [8, 'f'], [9, 'f']]
"
39353,70439,is counter has certain value inside a class in python,"x == 1 # x is less than 10, so it is doubled
x == 2 # x is less than 10, so it is doubled
x == 4 # x is less than 10, so it is doubled
x == 8 # x is less than 10, so it is doubled
x == 16 # now x is greater than 10, so it is not doubled again
"
36239,4623,Save images as string? IS it possible,"import pylab, numpy
from StringIO import StringIO
from PIL import Image

# plot a histogram
pylab.hist(numpy.random.rand(100))

buf = StringIO()
pylab.savefig(buf, format='png')

buf.seek(0)
im = Image.open(buf)
im.show()
"
13944,26379,how to upload image using google cloud client library on cloud storage in python?,"def CreateFile(filename,imageFile):
  with gcs.open(filename, 'w', content_type = 'image/jpeg') as f:
    f.write(imageFile)
    f.close()

  blobstore_filename = '/gs' + filename
  return blobstore.create_gs_key(blobstore_filename)


class MyImageHandler(webapp2.RequestHandler):
  def post(self):
    bucket='youbucketname'
    imageFile = self.request.get('file')
    nameOfFile = self.request.get('filename1')
    fileName = '/youbucketname' + '/' + nameOfFile
    blob_key = CreateFile(fileName, imageFile)
    imageUrl = 'https://%(bucket)s.storage.googleapis.com/%(file)s' % {'bucket':bucket, 'file':naemofFile}
    logging.info(""Image-URL "" + imageUrl)

app = webapp2.WSGIApplication([('/myimagehandler', MyImageHandler)],
                              debug=True)
"
26731,17165,Python 3 remove empty list,">>> comment = '''/**
...  * @param string username   required    the username of the registering user
...  * @param string password   required
...  * @param string first_name required
...  * @param string last_name  required
...  * @param string email      required
...  * @package authentication
...  * @info user registration
...  * @description register a new user into the groupjump platform
...  */'''
>>>
>>> import re
>>> desc = re.findall(r'@description (.*)', comment)
>>> desc
['register a new user into the groupjump platform']
"
18744,48217,merge querysets in django,"# On the top of the file:
from django.db.models import Q

# Game instance method:
def get_all_players(self):
    return Player.objects.filter(Q(games1__pk=self.pk) | Q(games2__pk=self.pk))
"
20330,32990,sorting file according to a column and getting uniq elements,"from operator import itemgetter

with open('test.txt') as infile, open('out.txt', 'w') as outfile:
    # sort input by 2nd column
    sorted_lines = sorted(
        (line.strip().split() for line in infile),
        key=itemgetter(1)
        )

    # output sorted input
    for line in sorted_lines:
        outfile.write('\t'.join(line))
        outfile.write('\n')

    # discard duplicates in already sorted sequence => uniq items
    prev_item = None
    for item in (line[1] for line in sorted_lines):
        if item != prev_item:
            prev_item = item
            outfile.write(item)
            outfile.write('\n')
"
32538,29343,"How to compare two arrays in python, and get the boolean output based on a significant value",">>> Actual = [1, 1, 2, 3, 1]
>>> Predicted = [1, 1, 1, 3, 3]
>>> output = [a == p for a,p in zip(Actual,Predicted) if p==1]
>>> output
[True, True, False]
"
24222,31142,"Guess the number game, error.","import random

name = input(""what is your name?"")
number = random.randint(1, 20)
#print(""%s I am thinking of a number between 1 and 20..."" % name)
print(name + "" I am thinking of a number between 1 and 20..."")

guesses = 0
while guesses < 7:
    guess = int(input(""Take a guess.""))
    guesses += 1

    if guess < number:
        print (""your guess is too low!"")

    elif guess > number:
        print (""your guess is too high!"")

    else:
        #print(""Good job %s you guessed my number in %d guesses"" % (name, guesses))
        print (""Good job, "" + name + "" you guessed my number in "" + str(guesses) + "" guesses!"")
        break
"
5035,62339,Is there a way to correctly remove the tense or plural from a word?,">>> from nltk.stem.lancaster import LancasterStemmer
>>> st = LancasterStemmer()
>>> st.stem('happily')
'happy'
>>> st.stem('cooks')
'cook'
>>> st.stem('helping')
'help'
>>> st.stem('running')
'run'
>>> st.stem('finds')
'find'
"
39342,56041,Bottle py and Jinja2 global variable,"from bottle import Jinja2Template

@hook('before_request')
def before_request():
    Jinja2Template.defaults['myglobal'] = 'My global'
"
17259,74634,How to convert `ctime` to `datetime` in Python?,"import datetime
import time

datetime.datetime.strptime(time.ctime(), ""%a %b %d %H:%M:%S %Y"")
"
6736,50365,Sharing a result queue among several processes,"import multiprocessing
def worker(name, que):
    que.put(""%d is done"" % name)

if __name__ == '__main__':
    pool = multiprocessing.Pool(processes=3)
    m = multiprocessing.Manager()
    q = m.Queue()
    workers = pool.apply_async(worker, (33, q))
"
106,54326,tokenize in python3.x,"import tokenize
import io

class _CHAIN(object):

    def __init__(self, execution_context=None):
        self.execution_context = execution_context

    def eat(self, toktype, tokval, rowcol, line, logical_line):        
        #some code and error checking
        print(toktype, tokval, rowcol, line, logical_line)


operations = _CHAIN(None)

readline = io.StringIO('aaaa').readline

#Python 2 way:
#tokenize.tokenize(readline, operations.eat)

#Python 3 way:
for token in tokenize.generate_tokens(readline):
    operations.eat(token[0], token[1], token[2], token[3], token[4])
"
3738,18403,read only csv files python,"import glob
for files in glob.glob(""*.csv""):
    # print all files that contain only .csv
    if files.count('.') == 1:
       print files
"
9372,35684,"Is it a clean way to implement a kind of ""__tuple__"" method?","class A(collections.namedtuple('A', 'b c d')):
    # whatever methods you need
"
4013,59757,Using exact positions for PushButtons and still be able to scroll through them,"scrollArea = QtGui.QScrollArea(MainWindow)
scrollContent = QtGui.QWidget()
scrollArea.setGeometry(0, 0, 700, 600)
scrollContent.setGeometry(0, 0, 680, 25000)
# Here I add all the content. E.g. label = QtGui.QLabel(scrollContent)
scrollArea.setWidget(scrollContent)
"
29182,84286,Iterating recursively over joined items in a list,"def validCheck(check, valid_list):
    all_keys = []
    for r in range(len(check)):
        key = "" "".join(check[r:])
        revkey = "" "".join(check[-r:-1])

        valid_key = []
        valid_revkey = []

        if key in valid_list:
            valid_key.append(key)
        if revkey in valid_list:
            valid_revkey.append(revkey)

        all_keys.extend(valid_key + valid_revkey)

    return max(all_keys, key=len) if all_keys else None
"
26481,74587,Detect identical torrent files,"torrent1 = decode(open(""test1.torrent"", ""rb"").read())
torrent2 = decode(open(""test2.torrent"", ""rb"").read())

m = hashlib.sha1()
m.update(str(torrent1[""info""]))
print m.hexdigest()

m = hashlib.sha1()
m.update(str(torrent2[""info""]))
print m.hexdigest()
"
7845,27281,Getting output of a process at runtime,"for line in result.stdout:
    print line
"
18698,75869,python search paths order on Debian,"import sys
# Assume path to module is
# /path/to/recent/version/of/module.py
sys.path.insert(0,""/path/to/recent/version/of"")
import module
"
21784,45205,How to transform list of dictionaries with jagged arrays to a DataFrame,"df = [DataFrame(e) for e in data]
df = pd.concat(df)
df = df.pivot_table(index=['id'], columns=['colors'], aggfunc=len).fillna(0)
df

   blue  green  id  orange  red
0     1      0   1       0    1
1     1      1   2       0    1
2     1      0   3       2    0
"
4389,28999,List of All Tkinter Events,"<Button-1>        Button 1 is the leftmost button, button 2 is the middle button
                  (where available), and button 3 the rightmost button.

                  <Button-1>, <ButtonPress-1>, and <1> are all synonyms.

                  For mouse wheel support under Linux, use Button-4 (scroll 
                  up) and Button-5 (scroll down)

<B1-Motion>       The mouse is moved, with mouse button 1 being held down (use
                  B2 for the middle button, B3 for the right button).

<ButtonRelease-1> Button 1 was released. This is probably a better choice in 
                  most cases than the Button event, because if the user 
                  accidentally presses the button, they can move the mouse 
                  off the widget to avoid setting off the event.

<Double-Button-1> Button 1 was double clicked. You can use Double or Triple as 
                  prefixes.

<Enter>           The mouse pointer entered the widget (this event doesn’t mean 
                  that the user pressed the Enter key!).

<Leave>           The mouse pointer left the widget.

<FocusIn>         Keyboard focus was moved to this widget, or to a child of 
                  this widget.

<FocusOut>        Keyboard focus was moved from this widget to another widget.

<Return>          The user pressed the Enter key. For an ordinary 102-key 
                  PC-style keyboard, the special keys are Cancel (the Break 
                  key), BackSpace, Tab, Return(the Enter key), Shift_L (any 
                  Shift key), Control_L (any Control key), Alt_L (any Alt key), 
                  Pause, Caps_Lock, Escape, Prior (Page Up), Next (Page Down), 
                  End, Home, Left, Up, Right, Down, Print, Insert, Delete, F1, 
                  F2, F3, F4, F5, F6, F7, F8, F9, F10, F11, F12, Num_Lock, and 
                  Scroll_Lock.

<Key>             The user pressed any key. The key is provided in the char 
                  member of the event object passed to the callback (this is an 
                  empty string for special keys).

a                 The user typed an “a”. Most printable characters can be used 
                  as is. The exceptions are space (<space>) and less than 
                  (<less>). Note that 1 is a keyboard binding, while <1> is a 
                  button binding.

<Shift-Up>        The user pressed the Up arrow, while holding the Shift key 
                  pressed. You can use prefixes like Alt, Shift, and Control.

<Configure>       The widget changed size (or location, on some platforms). The 
                  new size is provided in the width and height attributes of 
                  the event object passed to the callback.

<Activate>        A widget is changing from being inactive to being active. 
                  This refers to changes in the state option of a widget such 
                  as a button changing from inactive (grayed out) to active.


<Deactivate>      A widget is changing from being active to being inactive. 
                  This refers to changes in the state option of a widget such 
                  as a radiobutton changing from active to inactive (grayed out).

<Destroy>         A widget is being destroyed.

<Expose>          This event occurs whenever at least some part of your 
                  application or widget becomes visible after having been
                  covered up by another window.

<KeyRelease>      The user let up on a key.

<Map>             A widget is being mapped, that is, made visible in the 
                  application. This will happen, for example, when you call the 
                  widget's .grid() method.

<Motion>          The user moved the mouse pointer entirely within a widget.

<MouseWheel>      The user moved the mouse wheel up or down. At present, this 
                  binding works on Windows and MacOS, but not under Linux.

<Unmap>           A widget is being unmapped and is no longer visible.

<Visibility>      Happens when at least some part of the application window 
                  becomes visible on the screen.
"
3342,4865,Dpkt lib - how to add timestamp to packet," def writepkt(self, pkt, ts=None):
    if ts is None:
        ts = time.time()
    #some more code..
"
36834,32874,Splitting an integer in python,">>> time = input(""what was your time? "")
what was your time? 42.12
>>> time= time.split('.')
>>> time
['42', '12']
>>> time= int(time[0])*60+int(time[1])
>>> time
2532
"
20521,14421,Python: Set with only existence check?,"done = set()
while len(queue) > 0 :
   item = queue.pop()
   h = hash(item)
   if h not in done :
      process(item)
      done.add(h)
"
29429,37542,What are some approaches to outputting a Python data structure to reStructuredText,">>> data = [('hey', 'stuff', '3'),
            ('table', 'row', 'something'),
            ('xy', 'z', 'abc')]
>>> numcolumns = len(data[0])
>>> colsizes = [max(len(r[i]) for r in data) for i in range(numcolumns)]
>>> formatter = ' '.join('{:<%d}' % c for c in colsizes)
>>> rowsformatted = [formatter.format(*row) for row in data]
>>> header = formatter.format(*['=' * c for c in colsizes])
>>> output = header + '\n' + '\n'.join(rowsformatted) + '\n' + header
>>> print output
===== ===== =========
hey   stuff 3        
table row   something
xy    z     abc      
===== ===== =========
"
19960,28341,fastest way to store n-grams (strings with variable amount of words) in python,"def load(filename):
    ngrams = {}
    for line in open(filename):
        if line[0] == '\\':
            pass  # just ignore all these lines
        else:
            first, rest = line.split(None, 1)
            middle, last = rest.rsplit(None, 1)
            ngrams[middle] = first, last
    return ngrams

ngrams = load(""ngrams.txt"")
"
14203,53288,google app engine python get_by_id does not function,"entity = MyModel(parent = parentkey,
                 name   = 'somename')
entity.put()

entity_by_id = MyModel.get_by_id(entity.key().id(), parent = parentkey)
"
19413,84335,Transfer Ipython namespace to ipdb,"import pdb
pdb.runcall(foo.bar, x)
"
33720,37411,Print into console terminal not into cell output of IPython Notebook,"import sys
sys.stdout = open('/dev/stdout', 'w')
"
7680,21242,Python list append and extend - slow speed,"
from collections import deque
items = deque([1,2,3])
items.pop()
items.extend()
items.append()
"
16619,34470,What is the Python (numpy or scipy or Pandas) equivalent for R's adjboxStats function?,"from rpy import *
r.library(""robustbase"")
r(""adjboxStats"")(r.c(11232.1, 234.2, 3445532344.3, 34302.3, 203.9, 232223.3, 3434.55), coef = 2.5, a = -4, b = 3, do_conf = True, do_out = True)
"
39017,43968,write xml with beautiful soup,"f = open(workbook.name, ""w"")
f.write(soup.prettify())
f.close()
"
4004,54110,Convert UTC native datetime to Eastern tine native datetime for pymongo,"from datetime import datetime
import pytz

tz = pytz.timezone('US/Eastern') #NOTE: deprecated timezone name

naive_utc_dt = datetime.utcnow()                # naive datetime object
utc_dt = naive_utc_dt.replace(tzinfo=pytz.utc)  # aware datetime object
east_dt = utc_dt.astimezone(tz)                 # convert to Eastern timezone
naive_east_dt = east_dt.replace(tzinfo=None) #XXX use it only if you have to
"
35064,72580,Pandas fillna with list/array,"In [11]: nulls = dfcolors[pd.isnull(dfcolors['Colors'])]

In [12]: for i, ni in enumerate(nulls.index[:len(dfalt)]):
             dfcolors['Colors'].loc[ni] = dfalt['Alt'].iloc[i]

In [13]: dfcolors
Out[13]:
  Colors
0   Blue
1    Red
2   Cyan
3  Green
4   Pink
5    NaN
6  Brown
"
8556,9969,Create a function which inputs a file and calculates grade,"def my_final_grade_calculation(filename):
    file_pointer = open(filename, 'r')
    data = file_pointer.readlines()
    dict_={}
    for line in data:
        #a=[]
        #q=[]
        #dict={}
        name, q1, q2, q3, q4, q5, q6, a1, a2, a3, a4, midterm, final =  line.strip().split(',')
        q=[int(q1),int(q2),int(q3),int(q4),int(q5),int(q6)]
        a=[int(a1),int(a2),int(a3),int(a4)]
        #int(midterm)
        #int(final)
        for i in range(0,2):
            q.remove(min(q))  
        a.remove(min(a))
        a_avg=0.0
        for j in range(0,len(a)):
            a_avg+=a[j]/len(a)
        q_avg=0.0
        for i in range(0,len(q)):
            q_avg+=q[i]/len(q)
        final = ((float(q_avg)/4)) + ((float(a_avg)/4)) + ((float(midterm)/4)) + ((float(final)/4))
        if final>=60.0:
            out='pass'
            dict_[name]=out
        else:
            out='fail'
            dict_[name]=out
    return dict_

#calling function  
print(my_final_grade_calculation('filename.txt'))
"
18980,8008,Run .py file until specified line number,"python -m pdb script.py
b 15                       # <-- Set breakpoint on line 15
c                          # ""continue"" -> run your program
# will break on line 15
"
31987,31252,"Python, Beautiful Soup: how to get the desired element","soup = BeautifulSoup(your_html)
div = soup('div',{'id':'intForecast'})[0]
tds = div.find('table').findAll('td')

for td in tds:
    day = td('span')[0].text
    forecast = td('div')[1].text
    print day, forecast
"
16785,31313,Python splitting list by whitespace,">>> s = '12345679010111213'
>>> list(s)
['1', '2', '3', '4', '5', '6', '7', '9', '0', '1', '0', '1', '1', '1', '2', '1', '3']
>>> ' '.join(list(s))
'1 2 3 4 5 6 7 9 0 1 0 1 1 1 2 1 3'
>>> ' '.join(s) # works since str is also an iterable
'1 2 3 4 5 6 7 9 0 1 0 1 1 1 2 1 3'
"
7523,64535,Fast numpy fancy indexing,"from __future__ import division
import numpy as np

def slice_1(a, rs, cs) :
    return a[rs][:, cs]

def slice_2(a, rs, cs) :
    return a[rs[:, None], cs]

>>> rows, cols = 3218, 6
>>> rs = np.unique(np.random.randint(0, rows, size=(rows//2,)))
>>> cs = np.unique(np.random.randint(0, cols, size=(cols//2,)))
>>> a = np.random.rand(rows, cols)
>>> import timeit
>>> print timeit.timeit('slice_1(a, rs, cs)',
                        'from __main__ import slice_1, a, rs, cs',
                        number=1000)
0.24083110865
>>> print timeit.timeit('slice_2(a, rs, cs)',
                        'from __main__ import slice_2, a, rs, cs',
                        number=1000)
0.206566124519
"
18085,80797,sqlalchemy: How do I enforce date range on column?,"class FooTable(DeclBase):
    financial_day_of_month = Column('financial_day_of_month', Integer,
                                        nullable=False, default=1)
    __table_args__ = (
        CheckConstraint('financial_day_of_month between 1 and 31', name='check1'),
        {})
"
14337,81085,Python Selenium + PhantomJS Erro: (IndexError: list index out of range),"import datetime,os,sys
import requests
import time
from bs4 import BeautifulSoup
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC


def checkInternetConnection(url='http://www.google.com/', timeout=5):
    try:
        req = requests.get(url, timeout=timeout)
        return True
    except requests.ConnectionError:
        print 'Sem conexao com a internet aguarde...'
        return False
def main():
    while checkInternetConnection() == True:
        count = 0
        i = 0
        url = 'www.guiadosquadrinhos.com'
        #driver = webdriver.PhantomJS(executable_path='/home/suedx1000/Dropbox/python/scraping/node_modules/phantomjs/bin/phantomjs', port=65000)
        driver = webdriver.PhantomJS(executable_path=r""C:/Users/UserName/Desktop/plumb/phantomjs.exe"", port=65000)
        driver.set_window_size(1120, 550)
        driver.get(""http://www.guiadosquadrinhos.com/todas-capas-disponiveis"")
        driver.implicitly_wait(50)
        while True:          
            pg = driver.page_source
            s = BeautifulSoup(pg, ""html.parser"")
            for link in s.find_all('a', {'class': 'suppress'}):
                print url+'/'+ link.get('href').encode('utf-8')
                print link.get('title').encode('utf-8')            
            count+=1
            print count
            wait = WebDriverWait(driver, 100)
            wait.until(EC.element_to_be_clickable((By.XPATH, ""//a[@class='next_last']"")))
            wait.until(EC.visibility_of_element_located((By.XPATH, ""//div[@class='Lista_album_capas']"")))
            pg_next = driver.find_elements_by_xpath(""//a[@class='next_last']"")         
            pg_next[0].click()            
        else:
            pass
        time.sleep(1)

        print datetime.datetime.now()
        print ""Passamos em ""+count+"" paginas.""
    else:
            print ""Esta sem internet ou sua conexao caiu, reiniciando...""
main()
"
12551,59737,learning python--couldn't figure out random.randint,"import random
input(""Think of a number from 1 to 10, then press enter.  Don't tell me, I'll guess it."")
low = 1
high = 10
done = False

for guesses in range(7):
    number = random.randint(low, high)
    print(""I'm guessing"", number)
    happy = False
    while not happy:
        resp = input('Enter H if your number is higher, L if lower or E for equal: ')[0].upper()
        if resp == 'E':
            if guesses:
                plural = 'es'
            else:
                plural = ''
            print('Yay!  I got it in {} guess{}.'.format(guesses+1, plural))
            happy = True
            done = True
            break
        elif resp == 'H':
            happy = True
            low = number + 1
        elif resp == 'L':
            happy = True
            high = number -1
        else:
            print(""That wasn't a valid response."")
    if done:
        break

print('end')
"
26682,342,"In Python, how can you get the name of a member function's class?","testFunc.im_class
"
13767,13505,Arranging matplotlib subplots into subgrids,"pl.figure(figsize=(12, 6))
pl.subplot(1, 2, 1)
for axeid in (3, 4, 7, 8):
    pl.subplot(2, 4, axeid)
"
37989,33882,list is a subset of another list,">>> listA = [ [1,20], [3,19], [37,11], [21,17] ]
>>> listB = [ [1,20], [21,17] ]

>>> setA = frozenset([frozenset(element) for element in listA])
>>> setB = frozenset([frozenset(element) for element in listB])

>>> setA
frozenset([frozenset([17, 21]), frozenset([1, 20]), frozenset([11, 37]), frozens
et([19, 3])])
>>> setB
frozenset([frozenset([17, 21]), frozenset([1, 20])])

>>> setB <= setA
True
"
17803,45850,Using sklearn's 'predict' function,"import pandas as pd

data = pd.DataFrame([['Missouri', 'center', 'Jan', 55, 11],
                     ['Kansas', 'center', 'Mar', 54, 31],
                     ['Georgia', 'east', 'Jan', 37, 18]],
                     columns=('state', 'pos', 'month', 'High Temp', 'Low Temp'))


test =  pd.DataFrame([['Missouri', 'center', 'Feb', 44, 23], 
                      ['Missouri', 'center', 'Mar', 55, 33]],
                      columns=('state', 'pos', 'month', 'High Temp', 'Low Temp'))  


class DummyColumns():
    def __init__(self, data):
        # Columns constructor
        self.empty = pd.DataFrame(columns=(list(data.columns) +
                                           list(data.state.unique()) +
                                           list(data.pos.unique()) +
                                           ['Winter', 'Not winter']))
    def __call__(self, data):
        # Initializing with zeros
        self.df = pd.DataFrame(data=0, columns=self.empty.columns, index=data.index)        
        for row in data.itertuples():
            self.df.loc[row.Index, :5] = row[1:]
            self.df.loc[row.Index, row.state] = 1
            self.df.loc[row.Index, row.pos] = 1
            if row.month in ['Dec', 'Jan', 'Feb']:
                self.df.loc[row.Index, 'Winter'] = 1
            else:
                self.df.loc[row.Index, 'Not winter'] = 1
        return self.df       

add_dummy = DummyColumns(data)
dummy_test = add_dummy(test)
print dummy_test

      state     pos month  High Temp  Low Temp  Missouri  Kansas  Georgia  \
0  Missouri  center   Feb         44        23         1       0        0   
1  Missouri  center   Mar         55        33         1       0        0   

   center  east  Winter  Not winter  
0       1     0       1           0  
1       1     0       0           1  
"
25953,38145,Using break to read first line of a list,"firstline = next(stuff, '')  # default value '' if the file is empty

for row in stuff:
    # rest of the file
"
8964,47458,Scraping music playlist info from a website,"import urllib2
from bs4 import BeautifulSoup # latest version bs4

soup = BeautifulSoup(urllib2.urlopen(""http://music.cbc.ca/The-Signal"").read(), 'lxml')

song = soup.find_all(""span"", {'class': 'logTrackTitle'})

print song
"
14838,79857,How to mimic Python set with django ORM?,"result = Member.objects.\
    filter(
        membership__start_date__lte = dt1,
        membership__end_date__gte=dt1).\
    exclude(
        pk__in = \
            Member.objects.filter(
                membership__start_date__lte = dt2,
                membership__end_date__gte = dt2).\
    values_list('pk')
"
31847,69877,Facebook Access Token for Single User Application,"token_exchange_url = 'https://graph.facebook.com/oauth/access_token?
                      client_id=APP_ID&
                      client_secret=APP_SECRET&
                      grant_type=fb_exchange_token&
                      fb_exchange_token=ACCESS_TOKEN'

exchange_response = urllib.urlopen(token_exchange_url).read()
access_token = exchange_response.replace('access_token=', '')
access_token = access_token[:access_token.index('&')]
"
5272,19193,What is a regular expression to catch all git commit footer lines in git log output?,">>> def match_commit(s):
    r = re.compile(r'((\w+*)+\w+:)')
    return re.match(r, s) is not None

>>> match_commit(""Signed-off-by:"")
True
>>> match_commit(""Signed-off+by:"")
False
>>> match_commit(""Signed--by:"")
False
>>> match_commit(""Bug:"")
True
>>> match_commit(""Bug-:"")
False
"
4069,63713,How to Drag and Drop from ListWidget onto ComboBox,"class DropableComboBox(QtGui.QComboBox):
    def __init__(self):
        super(DropableComboBox, self).__init__()
        self.model_mime_type = 'application/x-qabstractitemmodeldatalist'
        self.setAcceptDrops(True)
        self._proxymodel = QtGui.QStandardItemModel(self)

    def dropEvent(self, event):
        if event.mimeData().hasUrls():
            event.setDropAction(QtCore.Qt.CopyAction)
            event.accept()
            links = []
            for url in event.mimeData().urls():
                links.append(str(url.toLocalFile()))
            self.emit(QtCore.SIGNAL(""dropped""), links)
        elif event.mimeData().hasFormat(self.model_mime_type):
            self._proxymodel.setRowCount(0)
            self._proxymodel.dropMimeData(
                event.mimeData(), QtCore.Qt.CopyAction,
                0, 0, QtCore.QModelIndex())
            for index in range(self._proxymodel.rowCount()):
                item = self._proxymodel.item(index, 0)                  
                self.addItem(item.text())
            # no point calling the base-class dropEvent here,
            # because it's a NO-OP in QComboBox
            self.emit(QtCore.SIGNAL(""dropped""))
"
24177,61884,Data not scraped in XML or JSON using scrapy,"def parse(self, response):
    hxs = HtmlXPathSelector(response)
    completeSchedule= hxs.select(""//div[@class='fixturelist section']//table[@class='contentTable']"")
    items = []
    for schedule in completeSchedule:
        matchDate = schedule.select(""tr//th[@colspan='6']/text()"").extract()[0]
        times = schedule.select(""tr//td[@class='time']//text()"").extract()
        matches = schedule.select(""tr//td[@class='clubs']//a/text()"").extract()

        for m, t in zip(matches, times):
            item = FplserviceItem()
            item[""matchDate""] = matchDate
            item[""match""] = m
            item[""time""] = t
            items.append(item)
    return items
"
30211,14204,"Convert a timedelta to days, hours and minutes","def days_hours_minutes(td):
    return td.days, td.seconds//3600, (td.seconds//60)%60
"
30722,72816,Python Split Array use For Loop to Mean every split and put it back together,"import numpy as np

Rxx = np.arange(100)
epochs = 10
Rxx_mean = []

epoch_Rxx = np.array_split(Rxx,epochs)
for i in range(0,epochs):
  Rxx_mean.append(np.mean(epoch_Rxx[i]))

print Rxx_mean
"
8341,65709,Python code that decrypts encrypted file,"n = 16
c = c.replace('\n', '').replace('\r', '')
m = [hex(pow(int(c[i:i+n], 16), d, N)).rstrip(""L"") for i in range(0, len(c), n)]

f = open('new.try', 'w')
f.write(''.join(m))
f.close()
"
3465,28283,How to form a path from elements of list in python?,">>> directorylist = ['path', 'to', 'directory', 'file.txt']
>>> import os
>>> os.path.join(*directorylist)
'path/to/directory/file.txt'
>>> os.path.sep + os.path.join(*directorylist)
'/path/to/directory/file.txt'
"
20167,31137,Selecting from a tuples of list,"def get_top_scorers(dataset):
    if dataset and all(isinstance(d, list) for d in dataset):
        return [get_top_scorers(d) for d in dataset]
    selected_list = []
    for candidate in dataset:
        chosen = candidate
        for next_candidate in dataset:
            if next_candidate == chosen:
                continue
            next_name, next_surname, next_score = next_candidate

            shares_name_with_selected = any(
                next_name == s[0] or next_surname == s[1]
                for s in selected_list
            )
            if shares_name_with_selected:
                continue

            name, surname, score = chosen
            if (name == next_name or surname == next_surname) and score < next_score:
                chosen = next_candidate

        shares_name_with_selected = any(
            chosen[0] == s[0] or chosen[1] == s[1]
            for s in selected_list
        )
        if chosen not in selected_list and not shares_name_with_selected:
            selected_list.append(chosen)
    return selected_list
"
36047,6422,Is there any Python implementation of logstash's grok functionality?,"import re

types = {
    'WORD': r'\w+',
    'NUMBER': r'\d+',
    # todo: extend me
}


def compile(pat):
    return re.sub(r'%{(\w+):(\w+)}', 
        lambda m: ""(?P<"" + m.group(2) + "">"" + types[m.group(1)] + "")"", pat)


rr = compile(""%{WORD:method} %{NUMBER:bytes} %{NUMBER:duration}"")

print re.search(rr, ""hello 123 456"").groupdict()
# {'duration': '456', 'bytes': '123', 'method': 'hello'}
"
36283,83975,Find out if a GPS waypoint has been passed,"from shapely.geometry import LineString

line1 = LineString([(i, i) for i in range(5)])
line2 = zip(range(5)[::-1], range(5))

if line1.crosses(line2):
    print 'yeah!'
"
28911,3333,adwords api: retrieve daily spend (costs),"$user = new AdWordsUser();

// Get the CampaignService.
$campaignService = $user->GetCampaignService('v201101');

// Create selector.
$selector = new Selector();
// Fields to retrieve
$selector->fields = array('Id', 'Name', 'Cost');
// Date rage for stats
$selector->dateRange->min = ""20110613"";
$selector->dateRange->max = ""20110614"";

// Get all campaigns.
$page = $campaignService->get($selector);

if(isset($page->entries)){
    foreach ($page->entries as $campaign) {
        if(isset($campaign->campaignStats)) {
            // This is how you get the cost
            $cost = $campaign->campaignStats->cost->microAmount/1000000;
            print ""Cost for Campaign {$campaign->name} = $cost\n"";
        }
    }
}
"
5385,44978,python - extract coordinates from a variable string,"mystr = '(31.251, -98.877)'

lat, lng = map(float, mystr.strip('()').split(','))
"
16973,18279,The view producer.pfviews.podcastsetup didn't return an HttpResponse object. It returned None instead,"def podcastsetup(request):

    title = 'Podcast Setup'
    title_align_center = True
    form = PodcastSetupForm(request.POST or None)
    context = {
        ""title"": title,
        ""form"": form
    }

    if form.is_valid():

        instance = form.save(commit=False)

        company_name = form.cleaned_data.get(""company_name"")
        first_name = form.cleaned_data.get(""first_name"")
        last_name = form.cleaned_data.get(""last_name"")

        instance.company_name = company_name
        instance.first_name = first_name
        instance.last_name = last_name

        instance.save()

        return render(request, ""forms.html"", context)
    else:
        return render(request, ""forms.html"", context)
"
12978,66429,python loops and arrays,"mylist = []
number = int(input(""Enter value: "")) mylist.append(number)
while len(mylist) != 10:
    number = int(input(""Enter value: ""))
    while number in mylist:
        number = int(input(""The number is already in the list, enter another number: ""))
    mylist.append(number)
print(sum(mylist)/float(len(mylist)))
"
31302,29216,Share complex object with another process,"process = multiprocessing.Process(target=start_remote_runner, args=(context,))
process.start()
"
8895,4758,Is there anyway to select and save any part of array?,">>> import shelve
>>> a = [1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> db = shelve.open('/path/to/my/database/file.db', writeback=True) # Notice the file must already exist
>>> db['a'] = a[2:5]
>>> db.close()
>>> quit()
# New interpreter is opened
>>> import shelve
>>> db = shelve.open('/path/to/my/database/file.db', writeback=True)
>>> db['a']
[3, 4, 5]
"
28938,57679,recursively traverse multidimensional dictionary and export to csv,"cpu_stats = {'time_stamp': {'hour': 22, 'month': 5, 'second': 43, 'year': 2014, 'day': 29, 'minute': 31}, 
             'cpus': [ [{'metric_type': 'CPU_INDEX', 'value': 1}, {'metric_type': 'CPU_TEMPERATURE', 'value': 39}, {'metric_type': 'CPU_FAN_SPEED', 'value': 12000} ] ] 
            }

timestamp = ''
for stats in cpu_stats.keys():
    if stats == 'time_stamp':
        timestamp = '{year}-{month}-{day}'.format(**cpu_stats[stats])
    if stats == 'cpus':
        for cpu in cpu_stats[stats]:
            cpu_index = ''
            cpu_temperature = ''
            cpu_fan_speed = ''
            for metric in cpu:
                if metric['metric_type'] == 'CPU_INDEX':
                    cpu_index = str(metric['value'])
                elif metric['metric_type'] == 'CPU_TEMPERATURE':
                    cpu_temperature = str(metric['value'])
                elif metric['metric_type'] == 'CPU_FAN_SPEED':
                    cpu_fan_speed = str(metric['value'])
            print ','.join([timestamp, cpu_index, cpu_temperature, cpu_fan_speed])
"
2217,5659,How can you refresh all regions in Beaker cache in Pyramid?,"from beaker.cache import cache_managers
for _cache in cache_managers.values():
    _cache.clear()  
"
3067,6098,Make a list from some of the properties of other list,"new_list = [x[1] for x in my_list]
"
17616,29365,How to obtain the keycodes in Python,"import sys
import tty
tty.setcbreak(sys.stdin)
while True:
    print ord(sys.stdin.read(1))
"
8368,27407,"matplotlib Plot multiple scatter plots, each colored by different thrid variable","import matplotlib.pyplot as plt

jet=plt.get_cmap('jet')

x = [1,2,3,4]
y = [1,2,3,4]
z = [1,1,1,1]

a = [2,3,4,5]
b = [1,2,3,4]
c = [2,2,2,2]

d = [3,4,5,6]
e = [1,2,3,4]
f = [3,3,3,3]

plt.scatter(x, y, s=100, c=z, vmin=1, vmax=5, cmap=jet)
plt.scatter(a, b, s=100, c=c, vmin=1, vmax=5, cmap=jet)
plt.scatter(d, e, s=100, c=f, vmin=1, vmax=5, cmap=jet)

plt.colorbar()
plt.show()
"
1683,44681,"In python, how to generate a random integer in a range, excluding some numbers in a list?","values = range(10)
random.shuffle(values)

def get_value():
    return values.pop()
"
30543,16731,Remove time in datetime python,">>> s = ""01/31/2000 09:09 PM""
>>> date, space, time = s.partition(' ')
>>> date
'01/31/2000'
"
13417,29487,Keeping form choice list up-to-date in django,"class ThingSelector(forms.Form):
    thing = forms.ModelChoiceField(queryset=Things.objects.all()
"
11477,42086,Formatting multiple columns of data in a text file,"date = datetime.now().strftime('%m/%d/%y %H:%M:%S')

with open(""capec_dictionary.txt"", ""a"") as text_file:
    template = '{:24s} {:24s} {:18s}\n'
    text_file.write(template.format('Pass', 'Encryption', 'Date'))

    writePass = finalPass.translate(passSwap)
    text_file.write(template.format(finalPass, writePass, date))
"
3889,3604,Numpy flatten RGB image array,"  x_data = np.array( [np.array(cv2.imread(imagePath[i])) for i in range(len(imagePath))] )

  pixels = x_data.flatten().reshape(1000, 12288)
  print pixels.shape
"
27473,4428,Numpy: efficient way of filtering a very large array with a list of values,"cut = N.in1d(my_array, sublist)
my_array = my_array[cut]
"
13741,27106,How to handle with different pythons in the computer,"conda create -n py3k python=3 anaconda
"
21934,48762,How to Cut Off String After Some Special Symbol is Encountered,">>> import re
>>> x = 'This is a private post. Cc: @me, @you.and @others,too. I @hope>this is okay'
>>> [re.search(r'(@\w+)', z).groups()[0] for z in x.split() if z.startswith('@')]
['@me', '@you', '@others', '@hope']
"
20251,63213,How to reading Blob on Google App Engine remotely?,">>> from google.appengine.ext.blobstore import BlobInfo
>>> qry = BlobInfo.all()
>>> for f in qry:
...     print f.filename
"
18723,6310,Store a class method in django model,"# create a Profile object
new_profile = Profile()

for name in dir(incoming):
    # loop on each method for incoming object
    attribute = getattr(incoming, name)
    if not ismethod(attribute):
        # get the value of the attribute
        value = attribute
    setattr(new_profile, name, value)

new_profile.save()
"
36488,76839,ImportError: No Module Named bs4 (BeautifulSoup),"$ pip install BeautifulSoup4
"
35540,10385,Group by hour in SQLAlchemy?,"query(extract('hour', timeStamp).label('h')).group_by('h')
"
14750,409,Adding Sums in Python,"print ""Want to play a game? Add numbers until you reach 1001!""
print ""Current total is 0!""
# Don't name a variable `sum` -- it overrides the built-in
total = 0
# This will loop until `total` equals 1001
while total != 1001:
    store = raw_input(""Enter a number!"") 
    num = int(store)
    # This is the same as `total=total+num`
    total += num
    print total
    # If we have gone over 1001, reset `total` to 0
    if total > 1001:
        print ""Oops! Too Far! Start Again!""
        total = 0
# When we get here, the total will be 1001
print ""Congratulations! You won!""
"
7318,52642,How to unify single values and sequences/tuples?,"if isinstance(variable, int):
   variable = (variable, )
"
18620,3092,"MySQL read, calculate and write back","-- Direct insert into DDBB
INSERT INTO poraba ( voda_mrzla, voda_topla )

  -- Get the values, with the right operations
  SELECT
    SUM( IF(sensor_id = 22 OR sensor_id = 23, volume, 0 ) ) voda_mrzla
  , SUM( IF ( sensor_id = 24, volume, 0 ) ) voda_topla
  FROM ( 
  -- Get only the values with max timestamp for each sensor
  SELECT s.`timestamp`, s.sensor_id, s.volume
  FROM sensor_readout s
  INNER JOIN (
      SELECT sensor_id, MAX(`timestamp`) mts
      FROM sensor_readout
      GROUP BY sensor_id
  ) maxS
  ON ( s.`timestamp` = maxS.mts AND s.sensor_id = maxS.sensor_id )
  ) maxTime
"
20422,25093,Limit the number of elements appended to array - Python,"if msg.has_key(""instrument"") or msg.has_key(""tick""):
    price = msg[""tick""][""ask""]
    last_price = None
    if prices:
        last_price = prices[-1]
        prices = [last_price]
        if last_price > price:
            #do stuff
    prices.append(price)
"
34812,81530,How to make a button that returns the input filename of tkFileDialog.askopenfilename() as a string?,"root = Tk()

def getFIleName(varName, entryName):
    varName = tkFileDialog.askopenfilename()
    entryName.insert(0, varName)

iconButton = Button(root, text=""Browse"", command=(lambda: getImageName(campIcon, iconEntry)))
iconButton.pack()
"
3271,43932,How to merge multiple returned lists into one,"result=[ x for y in (a for a in (funct() for funct in functs) if a) for x in y]
"
12897,66511,What is time unit returned by Python's timeit module for multiple repetitions?,">>> timeit.timeit(""import time; time.sleep(1)"", number=1)
1.0000581741333008
>>> timeit.timeit(""import time; time.sleep(1)"", number=5)
5.000285863876343
>>> timeit.repeat(""import time; time.sleep(1)"", number=5, repeat=3)
[5.000285863876343, 5.003287076950073, 5.000286102294922]
"
20650,67318,Python how to write a set of tuples to csv,"import csv

f1 = open (""ted.csv"")
oldFile1 = csv.reader(f1, delimiter=',')
oldList1 = list(oldFile1)

f2 = open (""ted2.csv"")
newFile2 = csv.reader(f2, delimiter=',')
newList2 = list(newFile2)

f1.close()
f2.close()

output1 = set(tuple(row) for row in newList2 if row not in oldList1)
output2 = set(tuple(row) for row in oldList1 if row not in newList2)

with open('Michal_K.csv','w') as csvfile:
        wr = csv.writer(csvfile,delimiter=',')
        for line in (output2).difference(output1):
            wr.writerow(line)
"
15986,19075,What is the preferred conventional way of incorporating a third party library in Python open source projects?,"import distribute_setup
distribute_setup.use_setuptools()

import os
from setuptools import setup, find_packages

# Utility function to read the README file.
# Used for the long_description.  It's nice, because now 1) we have a top level
# README file and 2) it's easier to type in the README file than to put a raw
# string in below ...

def read(fname):
    return open(os.path.join(os.path.dirname(__file__), fname)).read()

setup(
    name='buildboticon',
    version='0.3.2',
    author='Marcus Lindblom',
    author_email='macke@yar.nu',
    description=('A buildbot monitoring utility'),
    license='GPL 3.0',
    keywords='buildbot systemtray pyqt',

    url='http://bitbucket.org/marcusl/buildboticon',
    download_url='http://packages.python.org/buildboticon',

    package_dir={'':'src'},
    packages=find_packages('src', exclude=['*.tests']),
    long_description=read('README'),

    entry_points={
        'setuptools.installation': [
            'eggsecutable = bbicon:main',
        ],
        'gui_scripts': [
            'buildboticon = bbicon:main',
        ]
    },

    setup_requires=[
        'setuptools_hg',
    ],

    tests_require=[
        'unittest2 >= 0.5',
        'mock >= 0.7.0b4',
    ],

    install_requires=[
        'pyyaml >= 0.3',
#        'pyqt >= 4.7'   # PyQt doesn't have anything useful on PyPi :(
    ],

    extras_require={
        'speech':  ['pyspeech >= 1.0'],
#        'phidgets': ['PhidgetsPython >= 2.1.7'],
    },
"
19968,78518,Need help using Python to parse log file,"found = []
with open(""/var/log/syslog"", ""r"") as vpnfile:
    for line in vpnfile:
        if ""failed CHAP"" in line:
            found.append(line)
        # no need to check if ""failed CHAP"" is not in the line, since you
        # already know it's not there from the first test failing
if found:
    print("" "".join(found))
else:
    print(""Nadda"")
"
39883,46095,efficient updating of variables,">>> import random
>>> import bisect
>>> data = []
>>> input_data = random.sample(range(1000),100) 
>>> #Substitute this with your serial input data
>>> for i in input_data:
...     bisect.insort(data, i)
>>> min = data[0]
>>> max = data[-1]
"
23617,34943,python __init__ method in inherited class,"class inheritedclass(initialclass):
    def __init__(self):
        initialclass.__init__(self)
        self.attr3 = 'three'
"
21228,34960,"How can I run python script on Windows 7, with ability to enable/disable apperance of window and on taskbar?","from infi.systray import SysTrayIcon
def say_hello(systray):
    print ""Hello, World!""
menu_options = ((""Say Hello"", None, say_hello),)
systray = SysTrayIcon(""icon.ico"", ""Example tray icon"", menu_options)
systray.start()
"
33261,83629,Python and regex: split a string with parenthesis,">>> log = '[date] [thread] [loglevel] [class] some text describing the event that happened.'
>>> [part.strip() for part in re.split('[\[\]]', log) if part.strip()]
['date', 'thread', 'loglevel', 'class', 'some text describing the event that happened.']
"
33080,24440,How to control interactive console input/output from Python on Windows?,"#!/usr/bin/env python

from ctypes import *
import msvcrt
import os
import subprocess
import time

TEST_EXECUTABLE = 'C:\\dev\\test.exe'
TEST_INPUT = 'C:\\dev\\input.txt'

# input event types
KEY_EVENT = 0x0001

# constants, flags
MAPVK_VK_TO_VSC = 0

# structures
class CHAR_UNION(Union):
    _fields_ = [(""UnicodeChar"", c_wchar),
                (""AsciiChar"", c_char)]

    def to_str(self):
        return ''


class KEY_EVENT_RECORD(Structure):
    _fields_ = [(""bKeyDown"", c_byte),
                (""pad2"", c_byte),
                (""pad1"", c_short),
                (""wRepeatCount"", c_short),
                (""wVirtualKeyCode"", c_short),
                (""wVirtualScanCode"", c_short),
                (""uChar"", CHAR_UNION),
                (""dwControlKeyState"", c_int)]

    def to_str(self):
        return ''


class INPUT_UNION(Union):
    _fields_ = [(""KeyEvent"", KEY_EVENT_RECORD)]

    def to_str(self):
        return ''


class INPUT_RECORD(Structure):
    _fields_ = [(""EventType"", c_short),
                (""Event"", INPUT_UNION)]

    def to_str(self):
        return ''


def write_key_to_console(hcon, key):
    li = INPUT_RECORD * 2
    list_input = li()

    ke = KEY_EVENT_RECORD()
    ke.bKeyDown = c_byte(1)
    ke.wRepeatCount = c_short(1)

    cnum = ord(key)
    ke.wVirtualKeyCode = windll.user32.VkKeyScanW(cnum)
    ke.wVirtualScanCode = c_short(windll.user32.MapVirtualKeyW(int(cnum),
                                                               MAPVK_VK_TO_VSC))
    ke.uChar.UnicodeChar = unichr(cnum)
    kc = INPUT_RECORD(KEY_EVENT)
    kc.Event.KeyEvent = ke
    list_input[0] = kc

    list_input[1] = list_input[0]
    list_input[1].Event.KeyEvent.bKeyDown = c_byte(0)

    events_written = c_int()
    ret = windll.kernel32.WriteConsoleInputW(hcon,
                                             list_input,
                                             2,
                                             byref(events_written))

    return ret


def main():
    with open(TEST_INPUT, mode='r') as test_input:
        fdcon = os.open('CONIN$', os.O_RDWR | os.O_BINARY)
        hconin = msvcrt.get_osfhandle(fdcon)

        test_exec = subprocess.Popen([TEST_EXECUTABLE])

        for cmd in test_input:
            cmd = cmd.strip('\r\n')
            write_key_to_console(hconin, cmd)
            time.sleep(1)

        os.close(fdcon)
        ret = test_exec.wait()

        print '%s (%d): %d' % (TEST_EXECUTABLE, test_exec.pid, ret)

    pass


if __name__ == ""__main__"":
    main()
"
11855,44119,Slow down the range function,"class Explosion(pygame.sprite.Sprite):
    def __init__(self, x, y):
        #boilerplate code, loading images, just as you did, etc... 
        self.x = x
        self.y = y
        self.counter = 0
        self.all_images = your_list_of_sprites
        self.displayed_image = all_images[0]

    def update(self):
        self.counter += 1
        next_frame = self.counter / someMagicInteger
        if len(self.all_images) > next_frame:
            self.displayed_image = self.all_images[next_frame]
        else:
            self.kill()
"
28887,5121,Python pass argument to Thread class,"class downloadAllToWorldThread(threading.Thread):
    def __init__(self, threadID, name, counter, *args):
        threading.Thread.__init__(self)
        self.threadID = threadID
        self.name = name
        self.counter = counter
        self.args = args
    def run(self):
        print('Args are: {}'.format(self.args))
        downloadToMyHouse(self.args[0],self.args[1],self.args[2])

def downloadAllToWorld(aaa,bbb,ccc,ddd,eee):
    thread1 = downloadAllToWorldThread(1,""blah1-1"", 1, ccc, ddd, eee)
"
18337,61528,Explaining Python and converting into Java,"prefixes = set()
for word in words:
    for i in range(2, len(word)+1)
        prefixes.add(word[:i])
"
3876,48275,How can I un-shorten a URL using python?,"# This is for Py2k.  For Py3k, use http.client and urllib.parse instead, and
# use // instead of / for the division
import httplib
import urlparse

def unshorten_url(url):
    parsed = urlparse.urlparse(url)
    h = httplib.HTTPConnection(parsed.netloc)
    resource = parsed.path
    if parsed.query != """":
        resource += ""?"" + parsed.query
    h.request('HEAD', resource )
    response = h.getresponse()
    if response.status/100 == 3 and response.getheader('Location'):
        return unshorten_url(response.getheader('Location')) # changed to process chains of short urls
    else:
        return url
"
3209,83916,Python: check if value is in a list no matter the CaSE,"check = ""asdf""
checkLower = check.lower()

print any(checkLower == val.lower() for val in [""qwert"", ""AsDf""])

# prints true
"
24625,18675,Python: Replacing url with title,"from bs4 import BeautifulSoup
import urllib

with open('twfile.txt','r') as inputf, open('tw2file.txt','w') as output:
    for line in inputf:
        try:
            list1 = line.split(' ')
            for i in range(len(list1)):
                if ""http"" in list1[i]:
                    response = urllib.urlopen(list1[i])
                    html = response.read()
                    soup = BeautifulSoup(html)
                    list1[i] = soup.html.head.title
                    list1[i] = ''.join(ch for ch in list1[i]).strip() # here
                else:
                    list1[i] = ''.join(ch for ch in list1[i]).strip() # here
            line = ' '.join(list1)
            print line
            output.write('{}\n'.format(line))  # here
        except:
            pass
"
11986,69256,How to rotate an Instruction on a kivy Canvas?,"canvas:
    PushMatrix:
    Rotate:
        angle: 0.3
    PopMatrix:
"
6265,28582,How to keep Numpy array from converting floats to ints when building array?,"X = np.array((4,1), dtype=""float32"")
"
17840,41457,Get range of columns from Cassandra based on TimeUUIDType using Python and the datetime module,"def get_number_of_visitors(site, start_date, end_date=None):
    """"""
    start_date and end_date should be datetime.datetime instances or
    timestamps like those returned from time.time().
    """"""
    if end_date is None:
        end_date = datetime.datetime.now()
    pool = ConnectionPool('Logs', timeout = 2)
    col_fam = ColumnFamily(pool, 'sessions')
    return col_fam.get_count(site, column_start=start_date, column_finish=end_date)
"
5184,77249,remove header and add another one,"import itertools
with open(filename) as fin:
    ilines = itertools.islice(fin, 2, None) #this throws away the first 2 lines
    lines = sorted(ilines, key=lambda x: x.split()[0])  #sort lexicographically on first column

with open('header') as header, open('%s.header'%filename) as fout:
    fout.writelines(header) #write the header
    fout.writelines(lines) #write the data
"
22051,81111,"Skip linebreak, lowercase and uppercase in sorted() function in Python?","In [10]: fruit = ['A', 'banana', 'Watermelon', 'mango']

In [11]: ' + '.join(sorted(fruit, key=str.lower))
Out[11]: 'A + banana + mango + Watermelon'
"
8871,62696,Numpy: select value at a particular row for each column of a matrix,"In [39]: x = np.arange(12).reshape(4,3)

In [40]: y = np.array([0,3,2])

In [41]: x[y[None, :], np.arange(len(y))[None,:]][0]
Out[41]: array([ 0, 10,  8])

In [42]: x
Out[42]: 
array([[ 0,  1,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11]])
"
35793,68532,Extract foreground from individual frames using opencv for python,"import numpy as np
import cv2

i = 1
while(1):
  fgbg = cv2.BackgroundSubtractorMOG()
  while(i < 3):
    print 'img' + `i` + '.jpg'
    frame = cv2.imread('img' + `i` + '.jpg')

    fgmask = fgbg.apply(frame)

    cv2.imshow('frame', fgmask)
    i += 1

    k = cv2.waitKey(30) & 0xff
    if k == 27:
        break

  cv2.destroyAllWindows()
"
22560,70626,Creating hex color series,">>> [""#{val}FF{val}"".format(val=hex(i)[2:].zfill(2)) for i in range(55, 255, 50)]
['#37FF37', '#69FF69', '#9bFF9b', '#cdFFcd']
"
14339,1143,Python-like pickling of full Javascript objects,"// this is your costructor function
function Circle(attrs){
    this.radius = attrs.radius;
}
Circle.prototype.area = function (){
    return this.radius*this.radius*Math.PI;
}
Circle.prototype.perimeter = function (){
    return 2*this.radius*Math.PI;
}

// this is a validator
function hasRadius(obj){
    return radius in obj;
}

// this is your factory function
objFactory = occamsrazor().addContructor(hasRadius, Circle);

// this is your deserialized object
var json = '{""radius"": 10}';

// circle now is a full fledged object
var circle = objFactory(JSON.parse(json));
"
31527,49354,Adding keys with empty values and then adding values in a nested format in python,"import json

call_record = {} # To create an empty dictionary
call_record[""source1""] = {} # To append an empty dictionary to the key ""source1""
call_record[""source1""][""destination11""] = [] # An empty array as value for ""destination11""
call_record[""source1""][""destination11""].append(""datetime1"", ""datetime2"") # To append element datetime1 and datetime2 to destination11 array
call_record_json = json.dumps(call_record, ensure_ascii=False)
"
26930,59498,Find an easier way to compare two 2-d array's independence,"import numpy

# some random arrays
ka = numpy.random.random_integers(0,1,37*31).reshape(31,37)
kb = numpy.random.random_integers(0,1,37*31).reshape(31,37)
kc = numpy.random.random_integers(0,1,37*31).reshape(31,37)
combined_rest = kb + kc

print ""independance:"", numpy.sum( (ka == 1) & (combined_rest < 2) )
"
21972,73060,Bind or Command to get return and button to work,"def search(event=None):
    ...

bttn = Button(..., command=search)
...
entr.bind('<Return>', search)
"
28316,720,Filter( ) function takes function with two inputs,"def stringsInDic(Rack, dictionary):
    func = functools.partial(test, Rack)
    return filter(func, dictionary)
"
20597,56153,PIL ImageDraw.Text or ImageDraw.multiline_text Alignment,"draw.textsize(string, options) ⇒ (width, height)
"
26254,40263,how to pass value from output to a string in python,"webbrowser.open(feed['entries'][1]['link'])
"
12821,40301,how set default value if cmd arguments is not set in getopt,"import argparse
parser = argparse.ArgumentParser()
# The -- indicates that it is optional 
parser.add_argument(""--verbosity"", help=""increase output verbosity"") 
args = parser.parse_args()
if args.verbosity:
    print ""verbosity turned on""
else:
    print ""Default option""
"
39471,46228,How to apply model trained with PCA and Random Forest to test data?,"pca = PCA(n_components=20)
train_features = pca.fit_transform(train_data)

rfr = sklearn.RandomForestClassifier(n_estimators = 100, n_jobs = 1, 
                                         random_state = 2016, verbose = 1,
                                         class_weight='balanced',oob_score=True)

rfr.fit(train_features)

test_features = pca.transform(test_data)
rfr.predict(test_features)
"
11962,44575,How do I pass additional arguments to an event callback?,"self.Bind(wx.EVT_BUTTON, lambda event, args=args: self.do_something(event, args), self.button) 

self.do_something(self,event,arguments):
    """"""do something with arguments""""""
    pass
"
10968,61653,Split a database of mol2 molecules into N smaller sets,"csplit ~/Download/zinc.mol2 '/@<TRIPOS>MOLECULE/' '{*}'
"
7480,16667,Python input allowing integers and one alpha character,"def get_input():
    inp = input(""Enter a number or 'C' to clear: "").strip()
    if inp.upper() == ""C"":
        return ""C""
    if inp.isdigit():
        return int(inp)
    else 
        return None
"
27924,82365,python scroll workaround,"from Tkinter import *

root = Tk()

mytext = ""Here_your very long text""

scrbar = Scrollbar(root, orient=VERTICAL)
scrbar.pack(side=RIGHT,fill=Y)

text = Text(root, width=80, height=10, state=NORMAL, background=""white"", foreground=""black"")
text.insert(INSERT, mytext)
text['state'] = DISABLED
text.pack()

text['yscrollcommand'] = scrbar.set
scrbar['command'] = text.yview

root.title(""Matrix References"")
root.mainloop()
"
10539,25514,Python - XML parsing,"from xml.dom.minidom import parse

dom1 = parse(""test.xml"")

for node in dom1.getElementsByTagName('t'):
    print node.childNodes[0].nodeValue
"
21032,24177,How can I refactor this code to be more concise?,"def get_pvs(service, profile_id, start_date, end_date, type, data):
    if type == 'url':
        kwargs = {
            'dimensions': 'ga:pagePath',
            'filters': 'ga:pageviews!=0',
            'maxresults': 100
        }
    elif type == 'author':
        kwargs = {
            'dimensions': 'ga:dimension2',
            'max_results': '100'
        }
    return service.data().ga().get(
        ids = 'ga:' + profile_id,
        start_date = start_date,
        end_date = end_date, 
        metrics = 'ga:pageviews', 
        sort = '-ga:pageviews',
        **kwargs).execute()   
"
13520,20825,Display/Update score on python using tkinter,"canvas.itemconfig(J, text=Score)
"
2979,75102,Is there any command that enables to set for the whole program the number of decimals in a float variable?,">>> from decimal import *
>>> # create a `Context` to control decimal point precision
>>> program_context = Context(prec=4)
>>> # activate the `Context`
>>> setcontext(program_context)
>>> # from this point on all decimal numbers will be truncated to 4 decimal places.
>>> # you can control the rounding behaviour when the `Context` is created; for example:
>>> new_program_context = Context(prec=4, rounding=ROUND_UP)
>>> # activate the new `Context`
>>> setcontext(new_program_context)
>>> # other rounding options include: 
>>> # ROUND_CEILING (towards Infinity),
>>> # ROUND_DOWN (towards zero),
>>> # ROUND_FLOOR (towards -Infinity),
>>> # ROUND_HALF_DOWN (to nearest with ties going towards zero),
>>> # ROUND_HALF_EVEN (to nearest with ties going to nearest even integer),
>>> # ROUND_HALF_UP (to nearest with ties going away from zero), or
>>> # ROUND_UP (away from zero).
>>> # note that `Context`s only apply to numbers that are explicitly declared to be `Decimal`
>>> a = Decimal(2)
>>> b = Decimal(3)
>>> a/b # evaluates to Decimal('0.6667')
>>> c = 2
>>> d = 3
>>> c/d # evaluates to the floating point number 0.6666666666666666
>>> # also, if constructing a Decimal number from a float, the float must be passed as
>>> # as a string; eg:
>>> e = Decimal(""0.6678"") # evaluates to Decimal('0.6678')
>>> f = Decimal(0.6678) 
>>> # f evaluates to Decimal('0.6677999999999999491961943931528367102146148681640625')
>>> # integers, however, can be created directly; eg:
>>> h = Decimal(10) # evaluates to Decimal('10')
"
39666,67795,RDD from label Array and data Array in python/spark,">>> lableArray=['l1','l2','l3']
>>> dataArray=['d1','d2','d3']
>>> rdd2=sc.parallelize(lableArray)
>>> rdd1=sc.parallelize(dataArray)
>>> rdd1.collect()
['d1', 'd2', 'd3']
>>> rdd2.collect()
['l1', 'l2', 'l3']
>>> rdd=rdd2.zipWithIndex().map(lambda x:(x[1],x[0])).join(rdd1.zipWithIndex().map(lambda y:(y[1],y[0]))).map(lambda x:x[1])
>>> rdd.collect()
[('l1', 'd1'), ('l2', 'd2'), ('l3', 'd3')]
"
4067,73033,Should memory usage increase when using ElementTree.iterparse() when clear()ing trees?,"# get an iterable
context = iterparse(source, events=(""start"", ""end""))

# turn it into an iterator
context = iter(context)

# get the root element
event, root = context.next()

for event, elem in context:
    if event == ""end"" and elem.tag == ""record"":
        ... process record elements ...
        root.clear()
"
6085,24886,How to get values of the same key from multiple dictionaries?,"room_numb = {'CS101' : ""3004"",
             'CS102' : ""4501"",
             'CS103' : ""6755"",
             'NT110' : ""1244"", 
             'CM241' : ""1411""}


instructor = {'CS101' : 'Haynes', 
              'CS102' : 'Alvarado',
              'CS103' : 'Rich',
              'NT110' : 'Burke',
              'CM241' : 'Lee'}


meet_time = {'CS101' : '8:00 a.m.', 
             'CS102' : '9:00 a.m.', 
             'CS103' : '10:00 a.m.', 
             'NT110' : '11:00 a.m.', 
             'CM241' : '1:00 p.m.'}

user_class = input('Enter a class: ').upper()

print('room_numb:', room_numb.get(user_class, ""not exists""))
print('instructor:', instructor.get(user_class, ""not exists""))
print('meet_time:', meet_time.get(user_class, ""not exists""))
"
24969,57336,What's the best way to record the type of every variable assignment in a Python program?,"import pdb
def test():
    print 1
    pdb.set_trace() # you will enter an interpreter here
    print 2
"
36913,11048,Autodocumenting Python using Sphinx,".. automodule:: module
   :members:
"
28849,74955,lambda function to convert dict to string as a lambda expression in python,"dict_to_str = lambda x: ','.join(""%s:%s"" % (str(k), str(v)) for (k, v) in x.iteritems()) if isinstance(x, dict) else x
"
3873,46007,Catmull-Rom splines in python,"for j in range( 1, len(P)-2 ):  # skip the ends
    for t in range( 10 ):  # t: 0 .1 .2 .. .9
        p = spline_4p( t/10, P[j-1], P[j], P[j+1], P[j+2] )
        # draw p

def spline_4p( t, p_1, p0, p1, p2 ):
    """""" Catmull-Rom
        (Ps can be numpy vectors or arrays too: colors, curves ...)
    """"""
        # wikipedia Catmull-Rom -> Cubic_Hermite_spline
        # 0 -> p0,  1 -> p1,  1/2 -> (- p_1 + 9 p0 + 9 p1 - p2) / 16
    # assert 0 <= t <= 1
    return (
          t*((2-t)*t - 1)   * p_1
        + (t*t*(3*t - 5) + 2) * p0
        + t*((4 - 3*t)*t + 1) * p1
        + (t-1)*t*t         * p2 ) / 2
"
4024,73044,Using a Comparison Operator on a Dictionary in Python,"if int(row[""DISTANCE""]) <= 300:
    proceed_with_row(...)
"
3499,22950,"Scapy, sending, receiving and responding","def rst(p):
    ans = IP(src=p[IP].dst, dst=p[IP].src)/TCP(
        flags='RA',
        sport=p[TCP].dport,
        dport=p[TCP].sport,
        seq = 0,
        ack = p[TCP].seq + 1,
    )
    send(ans, verbose=False)
    return ""%s\n => %s"" % (p[IP].summary(), ans.summary())

sniff(iface=""eth0"", filter=""tcp and tcp[tcpflags] & tcp-syn == tcp-syn"",
      prn=rst)
"
18353,12806,python improving word game,"import random

list_of_words = [""apple"", ""table"", ""words"", ""beers"", ""plural"", ""hands""]
word = random.choice(list_of_words)

# changed the loop to a 'while', because i don't want to count the invalid length answers
# and wanted to exit the loop, when the user guessed correctly
attempts = 5
attempt = 0
correct = False
while attempt < attempts and not correct:
    if attempt == 0:
        # i stored a working copy of the initial hint (ex: ""w...."")
        # i'll use this to store the previously correctrly guessed letters
        tempList = list(word[0] + (""."" * 4))
        print(""The first letter of the word we are looking for: %s"" % """".join(tempList))

    answer = raw_input(""What is the word we are looking for?:"")
    if len(answer) != 5:
        print(""Please enter a 5 letter word"")
    else:
        if answer != word:
            # i simplified this loop to comparing the wordlist and answerlist and update templist accordingly
            wordlist = list(word)
            answerlist = list(answer)
            for i in range(min(len(wordlist), len(answerlist))):
                if wordlist[i] == answerlist[i]:
                    tempList[i] = wordlist[i]
            print(tempList)
        else:
            correct = True
            print(""Correct, you have guessed the word in %s attempts"" % (attempt + 1))
        attempt += 1

if answer != word:
    # also i used string formatting on your prints, so is prints as a string, and not as a tuple.
    print(""Sorry maximum number of tries, the word is: %s"" % word)
"
24644,28472,Is there a way to refer to the current function in python?,"def fib(n):
    def fib(n):
        return n if n <= 1 else fib(n-1)+fib(n-2)
    return fib(n)
"
29592,20683,Why is my python code so slow (leetcode)?,"def singleNumber(nums):
    unique = 0
    for num in nums:
        unique ^= num
    return unique
"
27972,21411,Crunching json with python,">>> import json
>>> json.dumps(json.loads(""""""
... {""node0"":{
...     ""node1"":{
...         ""attr0"":""foo"",
...         ""attr1"":""foo bar"",
...         ""attr2"":""value with        long        spaces""
...     }
... }}
... """"""))
'{""node0"": {""node1"": {""attr2"": ""value with        long        spaces"", ""attr0"": ""foo"", ""attr1"": ""foo bar""}}}'
"
32962,64307,Rescaling axis in Matplotlib imshow under unique function call,"pylab.imshow(z, interpolation=""gaussian"", extent = [.3,.9,0.,3.5], aspect='auto')
"
14261,37138,OpenCV- ignoring pixels when generating a hue histogram,"h,s,v = cv2.split(img)
mask = (v == 0) + (v == 100) + (s == 0)
mask = numpy.logical_not(mask)
"
8469,71995,Python IO: Reading a file using format specifier,"import pandas
pandas.read_fwf('f.out', 
   colspecs=[x[:2] for x in keys.values()],
   dtype=[x[2] for x in keys.values()]
   )
"
22700,13049,"Given a list of lists, find the index of the list which contains a particular item in Python",">>> x = [[1,2],[3,4],[5,6]]
>>> v = 3
>>> [v in y for y in x].index(True)
1
>>>
"
17732,25421,python multiprocessing accessing data from multiprocessing queue not reading all data,"def worker(self, queue):
    while True:
        tweet = queue.get()
        self.append(tweet)
"
15687,58024,Save Animation via Python Script in ParaView,"#### import the simple module from the paraview
from paraview.simple import *

# save animation images/movie
WriteAnimation('/tmp/movie.ogv', Magnification=1, FrameRate=15.0, Compression=True)
"
13000,41912,How to convert unicode to integer or float in dictionary in Python,"converted_degrees = {key: int(value) for (key,value) in Degree.items()}
>>> converted_degrees
{'Union': 1, 'Cook': 3, 'Champagne': 7}
"
1168,83731,Convert raw SQL to SQLAlchemy query,"_id = 18865
T = aliased(ProductStock, name=""T"")
T1 = aliased(ProductStock, name=""T1"")
subquery = (
    session.query(func.max(T1.detected_date).label(""detected_date""))
    .filter(T1.id == _id)
    # .filter(T1.id == T.id)  # @note: i prefer this one to the line above
    .as_scalar()
)
qry = (
    session.query(T)
    .filter(T.detected_date == subquery)
    .filter(T.id == _id)
)
"
642,54633,How do I set custom CSS for my IPython/IHaskell/Jupyter Notebook?,"~/.ipython/profile_default/static/custom/custom.css
"
6370,73318,Nested Lists in Python - Shifting entries alongside dimensions efficiently,">>> import numpy as np
>>> x = np.array(range(1, 28)).reshape((3, 3, 3))
>>> x
array([[[ 1,  2,  3],
        [ 4,  5,  6],
        [ 7,  8,  9]],

       [[10, 11, 12],
        [13, 14, 15],
        [16, 17, 18]],

       [[19, 20, 21],
        [22, 23, 24],
        [25, 26, 27]]])
>>> x[:,0,0]
array([ 1, 10, 19])
>>> x[0,:,0]
array([1, 4, 7])
>>> x[0,0,:]
array([1, 2, 3])
"
8573,56946,Is the format/structure of SciPy's condensed distance matrix stable?,"Returns a condensed distance matrix Y.  For
    each :math:`i` and :math:`j` (where :math:`i<j<n`), the
    metric ``dist(u=X[i], v=X[j])`` is computed and stored in the
    :math:`ij`th entry.

    See ``squareform`` for information on how to calculate the index of
    this entry or to convert the condensed distance matrix to a
    redundant square matrix.
"
37431,5618,How to properly install PySide into relocatable virtualenv?,"def localize_libpaths(libpath, local_libs, enc_path=None):
    """""" Set rpaths and install names to load local dynamic libs at run time

    Use ``install_name_tool`` to set relative install names in `libpath` (as
    named in `local_libs` to be relative to `enc_path`.  The default for
    `enc_path` is the directory containing `libpath`.

    Parameters
    ----------
    libpath : str
        path to library for which to set install names and rpaths
    local_libs : sequence of str
        library (install) names that should be considered relative paths
    enc_path : str, optional
        path that does or will contain the `libpath` library, and to which the
        `local_libs` are relative.  Defaults to current directory containing
        `libpath`.
    """"""
    if enc_path is None:
        enc_path = abspath(dirname(libpath))
    install_names = osx_get_install_names(libpath)
    need_rpath = False
    for install_name in install_names:
        if install_name[0] in '/@':
            continue
        if hasattr(sys, 'real_prefix'):
            # virtualenv detected - use @executable_path
            back_tick('install_name_tool -change %s @executable_path/../lib/python2.7/site-packages/PySide/%s %s' %
               (install_name, install_name, libpath))
        else:
            # not a virtualenv - use @rpath
            back_tick('install_name_tool -change %s @rpath/%s %s' %
               (install_name, install_name, libpath))
            need_rpath = True
    if need_rpath and enc_path not in osx_get_rpaths(libpath):
        back_tick('install_name_tool -add_rpath %s %s' %
           (enc_path, libpath))
"
28659,54360,Get field value within Flask-MongoAlchemy Document,"@fields.computed_field(db.KVField(db.StringField(), db.ListField(db.TupleField(db.StringField()))), deps=[feedname, location])
def getFeedContent(a=[feedname, location]):
    return readRSS(a['feedname'], a['location'])
"
26423,39315,Soft Asserts in unittest python,"for key in self.template_keys:
    for template in self.templates[key]:
        <do purchase path in selenium webdriver>
        try: assert end_url == expected_end_url # Would like failure to not end test
        except AssertionError: // do something.
"
7041,69343,PyQt - running a loop inside GUI,"import sys
import urllib2

from PyQt4 import QtCore, QtGui


class DownloadThread(QtCore.QThread):
    def __init__(self, url, list_widget):
        QtCore.QThread.__init__(self)
        self.url = url
        self.list_widget = list_widget

    def run(self):
        info = urllib2.urlopen(self.url).info()
        self.list_widget.addItem('%s\n%s' % (self.url, info))


class MainWindow(QtGui.QWidget):
    def __init__(self):
        super(MainWindow, self).__init__()
        self.list_widget = QtGui.QListWidget()
        self.button = QtGui.QPushButton(""Start"")
        self.button.clicked.connect(self.start_download)
        layout = QtGui.QVBoxLayout()
        layout.addWidget(self.button)
        layout.addWidget(self.list_widget)
        self.setLayout(layout)

    def start_download(self):
        urls = ['http://google.com', 'http://twitter.com', 'http://yandex.ru',
                'http://stackoverflow.com/', 'http://www.youtube.com/']
        self.threads = []
        for url in urls:
            downloader = DownloadThread(url, self.list_widget)
            self.threads.append(downloader)
            downloader.start()

if __name__ == ""__main__"":
    app = QtGui.QApplication(sys.argv)
    window = MainWindow()
    window.resize(640, 480)
    window.show()
    sys.exit(app.exec_())
"
27087,15942,"Using python to treat a .txt file as a large string, and iterate over each {} in the file","import re

contents_of_each = re.findall('{([^}]+?)}', txt, re.DOTALL)
"
15706,80020,Python - Execute a String Code For Fractions,"from fractions import *

def returnElement(element):
    if '/' in element and len(element) > 1:
        fraction = element.split('/')
        numerator = fraction[0]
        denominator = fraction[1]
        return 'Fraction(' + numerator + ',' + denominator + ')'        
    else:
        return element  

class main():
    for i in range(0, 10):
        print ""\t\nWRITE YOUR OPERATION""
        code = 'print('
        s = raw_input()
        elements = s.split()

        for element in elements:
            code = code + returnElement(element)           

        code = code + ')'        

        print code
        exec code
"
1971,75903,Nested Pandas dataframe - How to select / group by data?,"Solution
import pandas as pd

df.loc[pd.IndexSlice[:, 'bbb'], :]
"
14342,19895,Python: fill in missing months with zero,"total_items = [0]*12
for d in q:
  month = int(d['month'], 10)
  total_items[month-1] = d['total_item']
"
33782,28328,Get a list of python packages used by a Django Project,"#!/usr/bin/env python
from settings import INSTALLED_APPS
from django.utils.importlib import import_module
import os

app_names = (x for x in INSTALLED_APPS if not x.startswith('django'))
app_paths = (os.path.dirname(os.path.abspath(import_module(x).__file__)) for x in app_names)    
print ""\n"".join(x for x in app_paths if not x.startswith(os.getcwd()))
"
8103,20717,"How can I use ""uniq -c"" command of unix in python code?","import re, collections

paragraph = ""how are you now? Are you better now?""

splitter = re.compile('\W')
counts = collections.Counter(word.lower() 
                             for word in splitter.split(paragraph) 
                             if word)
for word, count in counts.most_common():
    print(count, word)
"
34498,73489,How to reset cursor to the beginning of the same line in Python,"import sys, time

for i in xrange(0, 101, 10):
  print '\r>> You have finished %d%%' % i,
  sys.stdout.flush()
  time.sleep(2)
print
"
36476,39418,RoC curve from csv file,"import pandas as pd
import numpy as np
import pylab as pl
from sklearn.metrics import roc_curve, auc

df = pd.read_csv('filename.csv')

y_test = np.array(df)[:,0]
probas = np.array(df)[:,1]

# Compute ROC curve and area the curve
fpr, tpr, thresholds = roc_curve(y_test, probas)
roc_auc = auc(fpr, tpr)
print(""Area under the ROC curve : %f"" % roc_auc)

# Plot ROC curve
pl.clf()
pl.plot(fpr, tpr, label='ROC curve (area = %0.2f)' % roc_auc)
pl.plot([0, 1], [0, 1], 'k--')
pl.xlim([0.0, 1.0])
pl.ylim([0.0, 1.0])
pl.xlabel('False Positive Rate')
pl.ylabel('True Positive Rate')
pl.title('Receiver operating characteristic')
pl.legend(loc=""lower right"")
pl.show()
"
4514,17603,python class adds instances of itself to a list,"class Building():
    def __init__(self):
        self.rooms = []

b = Building()
b.rooms.append(Room(room_type, days, occupied, when_free))
"
23088,13394,How to write curl get request on python to decrease parsing time,">>> import json
>>> url = 'https://api.github.com/some/endpoint'
>>> payload = {'some': 'data'}
>>> headers = {'content-type': 'application/json'}

>>> r = requests.post(url, data=json.dumps(payload), headers=headers)
"
12279,72220,Call functions in PyDev Eclipse in form generated by Qt Designer,"from PyQt4  import QtGui
from PyQt4  import QtCore
from PyQt4  import uic
import sys

FORM_1, BASE_1 = uic.loadUiType(r""C:/mydesign.ui"")

APP = QtGui.QApplication(sys.argv)

class MyApp(FORM_1, BASE_1):
    def __init__(self, parent=None):
        super(MyApp, self).__init__(parent)
        self.setupUi(self)

        self.connect(self.btn_add, QtCore.SIGNAL(""released()""), self.do_something)

    def do_something(self):
        print ""working""


FORM = MyApp()
FORM.show()
APP.exec_()
"
8659,62445,Pandas dataframe shift column by date,"In [34]: df['Date'] = pd.PeriodIndex(df['Date'], freq='Q')

In [35]: df2 = df.copy()

In [36]: df2['Date'] += 1

In [37]: df.merge(df2, on=['Date','ID'], suffixes=('', '_lag1'), how='left')
Out[37]:
    Date  ID  Value  Value_lag1
0 2005Q4   1     14         NaN
1 2006Q1   1     25          14
2 2006Q3   1     34         NaN
3 2005Q4   2     23         NaN
4 2006Q1   2     67          23
5 2006Q2   2     14          67
6 2006Q3   2     46          14
"
5918,16098,Kivy: How to attach a callback to a widget created in kvlang,"class SomeScreen(Screen):
    def __init__(self,**kwargs):
        #execute the normal __init__ from the parent
        super().__init__(**kwargs)

        #the callback function that will be used
        def on_text(instance, value):
            print('The widget', instance, 'have:', value)

        #wrap the binding in a function to be able to schedule it
        def bind_to_text_event(*args):
            self.ids['id_from_kvlang'].bind(text=update_price)

        #now schedule the binding
        Clock.schedule_once(bind_to_text_event)
"
14742,42389,wxPython threading downloads,"import requests
import os
import wx
import wx.lib.scrolledpanel as scrolled

from threading import Thread
from wx.lib.pubsub import pub

########################################################################
class DownloadThread(Thread):
    """"""Downloading thread""""""

    #----------------------------------------------------------------------
    def __init__(self, gnum, url, fsize):
        """"""Constructor""""""
        Thread.__init__(self)
        self.fsize = fsize
        self.gnum = gnum
        self.url = url
        self.start()

    #----------------------------------------------------------------------
    def run(self):
        """"""
        Run the worker thread
        """"""
        local_fname = os.path.basename(self.url)
        count = 1
        while True:
            if os.path.exists(local_fname):
                tmp, ext = os.path.splitext(local_fname)
                cnt = ""(%s)"" % count
                local_fname = tmp + cnt + ext
                count += 1
            else:
                break
        req = requests.get(self.url, stream=True)
        total_size = 0
        print local_fname
        with open(local_fname, ""wb"") as fh:
            for byte in req.iter_content(chunk_size=1024):
                if byte:
                    fh.write(byte)
                    fh.flush()
                total_size += 1024
                if total_size < self.fsize:
                    wx.CallAfter(pub.sendMessage, 
                                 ""update_%s"" % self.gnum,
                                 msg=total_size)
        print ""DONE!""
        wx.CallAfter(pub.sendMessage,
                     ""update_%s"" % self.gnum,
                     msg=self.fsize)


########################################################################
class MyGauge(wx.Gauge):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent, range, num):
        """"""Constructor""""""
        wx.Gauge.__init__(self, parent, range=range)

        pub.subscribe(self.updateProgress, ""update_%s"" % num)

    #----------------------------------------------------------------------
    def updateProgress(self, msg):
        """"""""""""
        self.SetValue(msg)

########################################################################
class MyPanel(scrolled.ScrolledPanel):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self, parent):
        """"""Constructor""""""
        scrolled.ScrolledPanel.__init__(self, parent)

        self.data = []
        self.download_number = 1

        # create the sizers
        self.main_sizer = wx.BoxSizer(wx.VERTICAL)
        dl_sizer = wx.BoxSizer(wx.HORIZONTAL)

        # create the widgets
        lbl = wx.StaticText(self, label=""Download URL:"")
        self.dl_txt = wx.TextCtrl(self)
        btn = wx.Button(self, label=""Download"")
        btn.Bind(wx.EVT_BUTTON, self.onDownload)

        # layout the widgets
        dl_sizer.Add(lbl, 0, wx.ALL|wx.CENTER, 5)
        dl_sizer.Add(self.dl_txt, 1, wx.EXPAND|wx.ALL, 5)
        dl_sizer.Add(btn, 0, wx.ALL, 5)
        self.main_sizer.Add(dl_sizer, 0, wx.EXPAND)

        self.SetSizer(self.main_sizer)
        self.SetAutoLayout(1)
        self.SetupScrolling()

    #----------------------------------------------------------------------
    def onDownload(self, event):
        """"""
        Update display with downloading gauges
        """"""
        url = self.dl_txt.GetValue()
        try:
            header = requests.head(url)
            fsize = int(header.headers[""content-length""]) / 1024

            sizer = wx.BoxSizer(wx.HORIZONTAL)
            fname = os.path.basename(url)
            lbl = wx.StaticText(self, label=""Downloading %s"" % fname)
            gauge = MyGauge(self, fsize, self.download_number)

            sizer.Add(lbl, 0, wx.ALL|wx.CENTER, 5)
            sizer.Add(gauge, 0, wx.ALL|wx.EXPAND, 5)
            self.main_sizer.Add(sizer, 0, wx.EXPAND)

            self.Layout()

            # start thread
            DownloadThread(self.download_number, url, fsize)

            self.download_number += 1
        except Exception, e:
            print ""Error: "", e

########################################################################
class DownloaderFrame(wx.Frame):
    """"""""""""

    #----------------------------------------------------------------------
    def __init__(self):
        """"""Constructor""""""
        wx.Frame.__init__(self, None, title=""Downloader"", size=(800, 400))
        panel = MyPanel(self)
        self.Show()

#----------------------------------------------------------------------
if __name__ == ""__main__"":
    app = wx.App(False)
    frame = DownloaderFrame()
    app.MainLoop()
"
37180,18336,Python: counting occurrences of a set of strings in a file,"from collections import Counter

pairs = Counter()

with open(...) as fp:
   for line in fp:
      pairs.update(re.findall(r'\d+\s+\d+', line))
"
5480,47958,Pandas apply to dateframe produces '<built-in method values of ...',"temp = zip(list(data.geom), list(data.address))
output = map(lambda x: {'geometry': x[0], 'properties':{'address':x[1]}}, temp)
"
4529,22109,Sort list by length of str(item),"In [10]: l = ['1', 'hello',  2, '11', ]

In [11]: sorted(l, key=lambda x:len(str(x)))
Out[11]: ['1', 2, '11', 'hello']
"
28163,19377,python/matplotlib - How to put the legend of arrow,"plt.quiverkey(QV1, 1.2, 0.515, 2, 'arrow 1', coordinates='data')
plt.quiverkey(QV2, 1.2, 0.520, 2, 'arrow 2', coordinates='data')
plt.quiverkey(QV3, 1.2, 0.525, 2, 'arrow 3', coordinates='data')
"
20000,46553,"In Python, how can I map values onto other another scale?","def fancyMap(array, low, high):
    array = [int(numeric_string) for numeric_string in array]
    minimum = min(array)
    maximum = max(array)

    diff = maximum - minimum
    diffScale = high - low

    return map ( lambda x: int((int(x)-minimum)*(float(diffScale)/diff)+low), array)
"
39509,35652,Group by 2 columns while sorting sorting by a 3rd,"df.groupby(['A', 'B'])
df.sort('C', ascending=False)
"
21988,51920,Creating dynamic HTML hyperlinks,"$.each({{genes}}, function(index, value){
     $('body').append($('<a></a>').text(value));
 })
"
8102,52056,Extracting a string between specified characters in python,"import json
sequence = '[%s]' % ','.join(sequence)
data = json.loads(sequence)
print data[0]['First'], data[0]['Second']
"
36026,83113,Select second element that is after first one,"//div[text() = 'Stable Text']/following-sibling::div
"
39269,33680,List with dictionaries - count values for all keys (Python),"import itertools

data = [
    {'count': 3, 'os': 'Windows'},
    {'count': 2, 'os': 'Windows'},
    {'count': 5, 'os': 'Linux'},
    {'count': 1, 'os': 'Linux'}
]

results = []
for key, val in itertools.groupby(data, lambda v: v['os']):
    count = sum(item['count'] for item in val)
    results.append({'count' : count, 'os' : key})

>>> results
>>> [{'count': 5, 'os': 'Windows'}, {'count': 6, 'os': 'Linux'}]
"
6307,70163,Split a line at the first special character Python,">>> import re
>>> line = ""00001740 n 3 eintiteas aonán beith 003 @ 00001930 n 0000 ~ 00002137 n 0000 ~ 04424418 n 0000""
>>> re.split(r'(?:#p|#m|%p|[@~+=])', line, 1)
['00001740 n 3 eintiteas aon\xc3\xa1n beith 003 ', ' 00001930 n 0000 ~ 00002137 n 0000 ~ 04424418 n 0000']
"
24578,57264,How to get usb serial number python,"import pprint
import subprocess

df = subprocess.check_output('lsusb', shell=True)
device_ids = []
for line in filter(lambda s: s.startswith('Bus'), df.split('\n')):
    businfo, id, _ = line.split(':')
    id = id.split()[1]
    device_ids.append(id)

pprint.pprint(device_ids)
"
37759,55644,Working with singe pages with PDFMiner,"from pdfminer.pdfinterp import PDFResourceManager, PDFPageInterpreter
from pdfminer.converter import TextConverter
from pdfminer.layout import LAParams
from pdfminer.pdfpage import PDFPage
from cStringIO import StringIO

def convert_pdf_to_txt(path):
    rsrcmgr = PDFResourceManager()
    retstr = StringIO()
    codec = 'utf-8'
    laparams = LAParams()
    device = TextConverter(rsrcmgr, retstr, codec=codec,laparams=laparams)
    fp = file(path, 'rb')
    interpreter = PDFPageInterpreter(rsrcmgr, device)
    password = """"
    maxpages = 0
    caching = True
    pagenos=set()

    for pagenumber, page in enumerate(PDFPage.get_pages(fp, pagenos, maxpages=maxpages, password=password,caching=caching, check_extractable=True)):
        print pagenumber
        if pagenumber % 2 == 0:
            print(""even page number"")
            interpreter.process_page(page)
        else:
            print(""odd page number"")
        if 5 <= pagenumber <= 10:
            print(""pages 5 to 10"")

    text = retstr.getvalue()

    fp.close()
    device.close()
    retstr.close()
    return text
"
2183,30324,Left shift inconsistancy,"numbers = np.arange(100,dtype=int)
longs = 1 << np.arange(100).astype(object)
"
37709,21495,python - closing firefox browser down when complete,"driver = webdriver.Firefox()
print('Firefox started')
print('Iterating links')
connection = pymysql.connect(host='.com', user='', password='', db='', cursorclass=pymysql.cursors.DictCursor)
with connection.cursor() as cursor2:
    cursor2.execute(""Delete from todaysmarkets"")
for link in links:
    try:
        print('Fetching from link: ' + base + link)
        driver.get(base+link)
        print('Waiting for all the data to get loaded')
        element = WebDriverWait(driver,10).until(EC.presence_of_element_located((By.CLASS_NAME,""current"")))
        print('Parsing page')
        tree = html.fromstring(driver.page_source)
        names = tree.xpath('//*[@id=""lpTable1""]/div[h3[text()="" Goal Supremacy and Goal Markets ""]]/div/table/tbody/tr[not(@style=""display: none;"")]/td/span/text()')
        print(str(len(names)) + ' markets found')
        sells = tree.xpath('//*[@id=""lpTable1""]/div[h3[text()="" Goal Supremacy and Goal Markets ""]]/div/table/tbody/tr[not(@style=""display: none;"")]/td[3]/button/text()')
        buys = tree.xpath('//*[@id=""lpTable1""]/div[h3[text()="" Goal Supremacy and Goal Markets ""]]/div/table/tbody/tr[not(@style=""display: none;"")]/td[4]/button/text()')
        if(len(buys) != len(sells) or (len(buys) == 0 or len(sells) == 0)):
            print('Error fetching markets either suspended or does not exist')
            continue
        print('Putting markets into excel file')
        with connection.cursor() as cursor:
            for i in range(0, len(names)):
                cursor.execute((""INSERT INTO todaysmarkets(URL,Name,value) VALUES(%s,%s,%s)""), (base+link,names[i], str((float(sells[i])+float(buys[i]))/2.0)))



           # ws.append([names[i], str((float(sells[i])+float(buys[i]))/2.0)])  
    finally:
        print('Saving the file with name markets.xlsx')

# Close driver at the end of the work
driver.quit()
"
6615,9218,Getting filenames matching an extension using BeautifulSoup,"links = soup.findAll(href=re.compile(""\.txt$""))
"
35178,49137,"Sort list values to get a new order of its index, Python way","sorted(range(1, len(a) + 1), key=lambda i: a[i-1], reverse=True)
"
33354,61128,<script> vs include in Django templates,"<script>
window.appParams = {
   view1Url: {% url app.views.something %},
   ...
}
</script>
"
28611,62480,How to modify Text widget in Tkinter for interlinear anotation,"from Tkinter import *

sentence = [ 'this', 'is', 'an', 'example' ]
result   = [ 'x.Det', 'be.V', 'a.Det', 'example.N' ]

line_start = [0, len(sentence)] # Used to split the sentence into lines no longer than line_len
line_len = 20 # Max characters in each line, including extra spaces
segment_len = 0

for i in range(len(sentence)):
    s_len = len(sentence[i])
    r_len = len(result[i])

    # Pad words (or word groups) so the segments of sentence and result have the same width
    if s_len > r_len:
        result[i] += ' ' * s_len - r_len
    elif s_len < r_len:
        sentence[i] += ' ' * (r_len - s_len)

    segment_len += max(r_len, s_len) + 1

    # Check the line length
    if segment_len > line_len:
        segment_len = 0
        line_start.insert(1, i)

root = Tk()

for i in range(len(line_start)-1):
    sentence_segment = ' '.join( sentence[line_start[i]:line_start[i+1]] )
    ts = Text(root, font='TkFixedFont', width = line_len, height = 1)
    ts.insert(END, sentence_segment)
    ts.pack()

    result_segment = ' '.join( result[line_start[i]:line_start[i+1]] )
    tr = Text(root, font='TkFixedFont', width = line_len, height = 1, foreground='grey')
    tr.insert(END, result_segment)
    tr.pack()

root.mainloop()
"
13071,30580,How to turn separate data in a file and turn each line into a list?,"with open('file.txt') as text:
    people = [line.strip().split() for line text]
"
9175,51904,How to merge pandas calculated series into pandas dataframe,"data['count'] = data.groupby('UserID')[""HashtagCount""].transform('sum')
"
38364,14792,Google cloud endpoints discovery doc appends https:// to the base and root url,"https://myapp.appspot.com/_ah/api/.*
"
39419,30288,Creating a new python dict from existing dicts with different keys but same ids,"from __future__ import print_function

try:
    from collections import ChainMap  # Python 3
except ImportError:
    from ConfigParser import _Chainmap as ChainMap  # Python 2


class ChainMapWithAltKeys(ChainMap):
    def __init__(self, *maps, **kwargs):
        try:
            super(ChainMapWithAltKeys, self).__init__(*maps)
        except TypeError:  # Python 2
            ChainMap.__init__(self, *maps)  # Python 2
        self.altkeymap = kwargs.get('altkeymap', {})

    def __getitem__(self, key):
        if key in self.altkeymap:
            key = self.altkeymap[key]
        try:
            return super(ChainMapWithAltKeys, self).__getitem__(key)
        except TypeError:  # Python 2
            return ChainMap.__getitem__(self, key)  # Python 2


dict_one = {'a': 1, 'b': 2, 'c': 3, 'samekey': 'diffval_one'}
dict_two = {'x': 24, 'y': 25, 'z': 26, 'samekey': 'diffval_two'}

altkeymap = {'alpha': 'a', 'zulu': 'z'}

cmwak = ChainMapWithAltKeys(dict_one, dict_two, altkeymap=altkeymap)

print(cmwak['a'])  # 1
print(cmwak['alpha'])  # 1
print(cmwak['b'])  # 2
print(cmwak['y'])  # 25
print(cmwak['z'])  # 26
print(cmwak['zulu'])  # 26
print(cmwak['samekey'])  # diffval_one
"
22102,9866,using OneVsRestClassifier from sklearn in Python to tune a customized binary classification into a multi-class classification,"classifier = OneVsRestClassifier(MyClassifier(param1 = A, param2 = B))
classifier.fit(X_train, Y)
predicted = classifier.predict(X_test)
"
10531,18654,python Matplotlib gtk - animate plot with FuncAnimation,"import gtk
from matplotlib.backends.backend_gtkagg import FigureCanvasGTKAgg as FigureCanvas
import matplotlib.animation as animation
from matplotlib import pyplot as plt

class MyProgram():
    def __init__(self):
        #some_gtk_stuff
        self.signals = {
                'on_button_clicked': self.create_plot,
        }
        self.builder.connect_signals(self.signals)

        self.vbox = self.builder.get_object('vbox')

        self.figure = plt.figure()
        self.axis = self.figure.add_subplot(1,1,1)
        self.canvas = None

    def create_plot(self, button):
        self.ani = animation.FuncAnimation(self.figure, self.update_plot, interval = 1000)


    def update_plot(self, i):
        #read SampleData from txt File
        x = []
        y = []
        with open('SampleData.txt') as f:
            x_raw, y_raw = f.readline().strip().split(',')
            x.append(int(x_raw))
            y.append(int(y_raw))

        self.axis.plot(x, y)

        if not self.canvas:
            self.canvas = FigureCanvas(self.figure)
            self.vbox.pack_start(self.canvas)
            self.canvas.show()

        self.canvas.draw()

MyProgram()
gtk.main()
"
29638,13868,Clarification questions about Boto Dynamo aws,"def search(table, scan_filter=None, range_key=None,
           attributes_to_get=None,
           limit=None):

    start_key = None

    while True:
        results = self.conn.layer1.scan(table_name=table,
                                  attributes_to_get=attributes_to_get,
                                  exclusive_start_key=start_key,
                                  limit=request_limit)
        # do stuff with your results

        start_key = results['LastEvaluatedKey']
        if start_key is None:
            break
"
38796,80058,"Regex: match ""group3.*group1"" if group2 is not between groups 3 and 1","^.*?(?:g31|g32)(?!.*?(?:g21|g22)).*?(?:g11|g12).*$
"
1771,40190,Logic error in python turtle,"import turtle

# Defining shapes
def polySquare(t, x, y, length):
    t.goto(x, y)
    t.begin_poly()
    for count in range(4):
        t.forward(length)
        t.left(90)
    t.end_poly()
    return t.get_poly()

def polyRectangle(t, x, y, length1, length2):
    t.goto(x, y)
    t.begin_poly()
    for count in range(2):
        t.forward(length1)
        t.left(90)
        t.forward(length2)
        t.left(90)
    t.end_poly()
    return t.get_poly()

def tankCursor():
    """"""
    Create the tank cursor.
    """"""
    temporary = turtle.Turtle()
    temporary.hideturtle()
    temporary.penup()

    screen = turtle.getscreen()
    delay = screen.delay()
    screen.delay(0)

    tank = turtle.Shape(""compound"")
    tire1 = polyRectangle(temporary, -65, -75, 30, 75)  # Tire #1
    tank.addcomponent(tire1, ""gray"", ""black"")
    tire2 = polyRectangle(temporary, 35, -75, 30, 75)  # Tire #2
    tank.addcomponent(tire2, ""gray"", ""black"")
    tire3 = polyRectangle(temporary, 35, 0, 30, 75)  # Tire #3
    tank.addcomponent(tire3, ""gray"", ""black"")
    tire4 = polyRectangle(temporary, -65, 0, 30, 75)  # Tire #4
    tank.addcomponent(tire4, ""gray"", ""black"")
    bodyTank = polyRectangle(temporary, -55, -65, 110, 130)
    tank.addcomponent(bodyTank, ""black"", ""gray"")
    gunTank = polyRectangle(temporary, -10, 25, 20, 100)   # Gun
    tank.addcomponent(gunTank, ""black"", ""gray"")
    exhaustTank = polyRectangle(temporary, -25, -75, 10, 20)
    tank.addcomponent(exhaustTank, ""black"", ""gray"")
    turretTank = polySquare(temporary, -25, -25, 50)  # Turret
    tank.addcomponent(turretTank, ""red"", ""gray"")
    turtle.addshape(""tank"", shape=tank)

    del temporary
    screen.delay(delay)

tankCursor()  # creates and registers the ""tank"" cursor shape
turtle.shape(""tank"")
turtle.up()  # get rid of the ink

# Movement of tank
screen = turtle.Screen()
screen.onkeypress(lambda : turtle.right(90), ""Right"")
screen.onkeypress(lambda : turtle.left(90), ""Left"")
screen.onkeypress(lambda : turtle.forward(40), ""Up"")
screen.onkeypress(lambda : turtle.backward(40), ""Down"")

turtle.listen()

turtle.mainloop()
"
7408,28026,Dynamically create new kind with all the same properties of existing model class,"class BackupSomeModel(SomeModel): pass
"
37737,50422,monkey-patching python an instance method,">>> class Simple(object):
...     def make(self, arg):
...         return arg * 2
...
>>> s = Simple()
>>> def times_eight(self, arg):
...     return arg * 8
...
>>> s.make = times_eight.__get__(s, Simple)
>>> s.make(10)
80
>>> type(s.make)
<type 'instancemethod'>
>>>
"
31798,25154,Avoiding deletion of SpooledTemporaryFile,"from tempfile import SpooledTemporaryFile

class CustomSpooled(SpooledTemporaryFile):

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

        # This dict will be passed on to the NamedTempFile constructor one we
        # roll over our file. We are adding the delete=False argument.
        self._TemporaryFileArgs = {'mode': mode, 'buffering': buffering,
                                   'suffix': suffix, 'prefix': prefix,
                                   'encoding': encoding, 'newline': newline,
                                   'dir': dir, 'delete': False}

    def rollover(self):
        # This is overidden to get that NamedTemperoraryFile
        # Everythng else is just the same
        if self._rolled: return
        file = self._file
        newfile = self._file = NamedTemporaryFile(**self._TemporaryFileArgs)
        del self._TemporaryFileArgs

        newfile.write(file.getvalue())
        newfile.seek(file.tell(), 0)

        self._rolled = True
"
35204,68583,Limitations of Twisted code reloading,"from twisted.python.rebuild import rebuild, Sensitive
from twisted.python.filepath import FilePath

p = FilePath(""mymodule.py"")
def clearcache():
    bytecode = p.sibling(""mymodule.pyc"")
    if bytecode.exists():
        bytecode.remove()
clearcache()
p.setContent(""def x(): return 1"")
import mymodule
from mymodule import x
p.setContent(""def x(): return 2"")

class Something(Sensitive, object):
    def __init__(self):
        self.stuff = {""something"": x}
    def invoke(self):
        if self.needRebuildUpdate():
            for key in list(self.stuff):
                self.stuff[key] = self.latestVersionOf(self.stuff[key])
            self.rebuildUpToDate()
        return self.stuff[""something""]()

def test():
    print s.invoke()
    print x()

s = Something()
test()

clearcache()
rebuild(mymodule)

test()
"
28931,48700,figure won't show in while loop,"    import numpy as np
    import matplotlib.pyplot as plt

    x=np.linspace(0,2*pi,20)
    y=np.sin(x)
    z=np.cos(x)
    while 1:
        nPlt = eval(input('input nPlt:')) #Note eval was added
            if nPlt == 1:
                plt.plot(x,y)
            elif nPlt == 2:
                plt.plot(x,z)
            else:
                break
    plt.show() #Note I added this line
"
35536,13794,What method calls `__init__()` in Python classes,"class MyObj:
  def __call__():
    print 'Called!'

>>> mo = MyObj()
>>> mo()
Called!
"
6007,65393,Recursive Function in Python adding Odd Values in List,"def addodds2(x,y):
    total=0
    if y<len(x):    #you don't need a while there
        a=x[y]      #you have to do this operation if y<len(x), otherwise you would get the index error you are getting
        if a%2!=0:
            total+=a
        return total+addodds2(x,y+1)    #you have to sum the current total to the result returned by the addodds2() function (otherwise you would got 0 as the final result)
    return total

print(addodds2([3,2,4,7,2,4,1,3,2],0))
"
13088,47330,Python Tornado - making POST return immediately while async function keeps working,"loop.add_callback(lambda: some_function(message))
"
19743,84179,Why Ruby and Python long division differs from GMP and Java BigInteger?,">>> import gmpy2
>>> a = -48197174570431531987668852939807674377435188974148779416366905274642031729688518691
>>> b = 4322669160730708444058642850762359547515258361061655693150034467061
>>> gmpy2.f_divmod(a,b)
(mpz(-11149864303351921), mpz(1542354793066875276328139562907995977816446564586050094773477055490))
>>> gmpy2.c_divmod(a,b)
(mpz(-11149864303351920), mpz(-2780314367663833167730503287854363569698811796475605598376557411571))
>>> gmpy2.t_divmod(a,b)
(mpz(-11149864303351920), mpz(-2780314367663833167730503287854363569698811796475605598376557411571))
>>> help(gmpy2.f_divmod)
f_divmod(x, y) -> (quotient, remainder)

Return the quotient and remainder of x divided by y. The quotient
is rounded towards -Inf (floor rounding) and the remainder will
have the same sign as y. x and y must be integers.

>>> help(gmpy2.c_divmod)
c_divmod(x, y) -> (quotient, remainder)

Return the quotient and remainder of x divided by y. The quotient
is rounded towards +Inf (ceiling rounding) and the remainder will
have the opposite sign of y. x and y must be integers.

>>> help(gmpy2.t_divmod)
t_divmod(x, y) -> (quotient, remainder)

Return the quotient and remainder of x divided by y. The quotient
is rounded towards zero (truncation) and the remainder will have
the same sign as x. x and y must be integers.
"
13322,50750,How to dynamically create texture from set of widgets in Kivy?,"with self.canvas:
    rect = Rectangle(pos=(0, 0), size=(10, 10))

rect.pos = (50, 50)
"
6548,66961,equivalent from MATLAB to Python,"from mpl_toolkits.mplot3d import Axes3D
from scipy.misc import imread
from matplotlib.pyplot import figure, show
from numpy import linspace, meshgrid, sqrt, sin, mean, flipud

clown = imread('clown.png')
fig = figure()
ax = fig.gca(projection='3d')
X = linspace(-5, 5, clown.shape[0])
Y = linspace(-5, 5, clown.shape[1])
X, Y = meshgrid(X, Y)
R = sqrt(X**2 + Y**2)
Z = sin(R)
clown = clown.swapaxes(0,1) / 255. # meshgrid orients axes the other way around, scaling of rgb to [0-1]
ax.plot_surface(X, Y, Z, facecolors=flipud(clown))
ax.view_init(45,-35) # swapped wrt matlab
show()
"
13877,79680,Get a list of values of one column from the results of a query,"emails = [r.email for u in db.session.query(my_table.c.email).filter_by(name=name).distinct()]
"
39523,73252,Reverse elements in dictionary,"D = {'a':1,'b':2,'c':3}
inverse = {v: k for k, v in D.items()}
print(inverse)
# {1: 'a', 2: 'b', 3: 'c'}
"
8693,46289,Override form data when editing an object,"class MyForm(forms.ModelForm):
    def __init__(self, *args, **kwargs):
        super(MyForm, self).__init__(*args, **kwargs)
        if kwargs.get('instance'):
            self.fields['myfield'].initial = 'custom value'

    class Meta:
        model = MyModel
"
22124,75737,Making windows appear on Bottom,"import win32ui, win32con as w

def MoveToBack(window_name):
    flags = w.SWP_NOSIZE | w.SWP_NOMOVE | w.SWP_NOACTIVATE | w.SWP_SHOWWINDOW | w.SWP_ASYNCWINDOWPOS 
    hwnd = win32ui.FindWindow(None, window_name)
    hwnd.SetWindowPos(w.HWND_BOTTOM, (0,0,0,0), flags)
"
6012,26359,Python function to create and manipulate lists,"import random

def condition_manipulate(value):
    list_set=[]
    for i in range(value):
        new_list=initial_conditions[:]
        i=random.choice(range(len(initial_conditions)))
        new_list[i]=new_sum(new_list[i])
        list_set.append(new_list)
    return list_set
"
31771,33652,"Python, HTTPS GET with basic authentication","from http.client import HTTPSConnection
from base64 import b64encode
#This sets up the https connection
c = HTTPSConnection(""www.google.com"")
#we need to base 64 encode it 
#and then decode it to acsii as python 3 stores it as a byte string
userAndPass = b64encode(b""username:password"").decode(""ascii"")
headers = { 'Authorization' : 'Basic %s' %  userAndPass }
#then connect
c.request('GET', '/', headers=headers)
#get the response back
res = c.getresponse()
# at this point you could check the status etc
# this gets the page text
data = res.read()  
"
18629,71900,Convert 4 bytes to integer using struct in Python,"import struct

data = [123,45,67,89]

# Show hex values of data.
print(list('%2x'%b for b in data))  # -> ['7b', '2d', '43', '59']

# Convert to 4 byte unsigned integer.
values = struct.unpack(""I"", bytearray(data))
print(hex(values[0]))  # -> 0x59432d7b
"
7805,49664,Python - len(somelist) returns different value than method in class,"class something(object):
    def __init__(self, name=None, someobjects=[]):
        self.name = name
        self.someobjects = someobjects

    def total(self):
        return len(self.someobjects)

listofpeoplewhoarethisclass = [something(""john"", [1,2,3])]

for person in listofpeoplewhoarethisclass:
    print person.name, person.total(), len(person.someobjects)
"
35861,84746,Django model multiple updates with objects' own data?,"from django.db.models import F

Entry.objects.filter(user_has_read).update(views=F('views') + 1)
"
23983,70808,"Scrolling text ""console like"" window in wxPython?","sys.stdout = redirect
sys.stderr = redirect
"
16871,30444,Insert dictionary in a list of dictionaries in order,">>> result =  [{'FloatVal':'Floatm','StrVal':'Strm'},{'FloatVal':'Floatnb','StrVal':'Strnb'}]
>>> result.append({'FloatVal':'Floatna','StrVal':'Strna'})
>>> result
[{'FloatVal': 'Floatm', 'StrVal': 'Strm'}, {'FloatVal': 'Floatnb', 'StrVal': 'Strnb'}, {'FloatVal': 'Floatna', 'StrVal':'Strna'}]
>>> result.sort(key=lambda x: x['FloatVal'])
>>> result
[{'FloatVal': 'Floatm', 'StrVal': 'Strm'}, {'FloatVal': 'Floatna', 'StrVal': 'Strna'}, {'FloatVal': 'Floatnb', 'StrVal':'Strnb'}]
"
9742,57855,Execute task every so often within a process,"import threading
import time

class TimerClass(threading.Thread):
    def __init__(self):
        threading.Thread.__init__(self)
        self.event = threading.Event()

    def run(self):
        while not self.event.is_set():
            print ""do something""
            self.event.wait( 1 )

    def stop(self):
        self.event.set()

tmr = TimerClass()
tmr.start()

time.sleep( 10 )

tmr.stop()
"
18858,28380,Add a custom column,"class UserList(Base):
    ...
    contactCount = column_property(
        select(
            [func.count()],
            contact_id == Contact.id,
        ).label('contactCount'),
        deferred=True,
    )
"
1272,84547,"Using Python, how can I implement running a loop in the foreground while waiting in the background for a key-press?","from thread import start_new_thread as thread
from time import sleep
# Get only one character from stdin without echoing it to stdout
import termios
import fcntl
import sys
import os
fd = sys.stdin.fileno()
oldterm, oldflags = None, None

def prepareterm ():
    """"""Turn off echoing""""""
    global oldterm, oldflags
    if oldterm!=None and oldflags!=None: return
    oldterm = termios.tcgetattr(fd)
    newattr = oldterm[:] # Copy of attributes to change
    newattr[3] = newattr[3] & ~termios.ICANON & ~termios.ECHO
    termios.tcsetattr(fd, termios.TCSANOW, newattr)
    oldflags = fcntl.fcntl(fd, fcntl.F_GETFL)
    fcntl.fcntl(fd, fcntl.F_SETFL, oldflags | os.O_NONBLOCK)

def restoreterm ():
    """"""Restore terminal to its previous state""""""
    global oldterm, oldflags
    if oldterm==None and oldflags==None: return
    termios.tcsetattr(fd, termios.TCSAFLUSH, oldterm)
    fcntl.fcntl(fd, fcntl.F_SETFL, oldflags)
    oldterm, oldflags = None, None

def getchar():
    """"""Get character from stdin""""""
    prepareterm()
    while 1:
        try:
            c = sys.stdin.read(1)
            break
        except IOError:
            try: sleep(0.001)
            except: restoreterm(); raise KeyboardInterrupt
    restoreterm()
    return c

def control ():
    """"""Waits for keypress""""""
    global running, done
    while running:
        c = getchar().lower()
        print ""Keypress:"", c
        if c==""q"": print ""Quitting!""; running = 0; break
    done += 1

def work ():
    """"""Does the server-client part""""""
    global done
    while running:
        # Do your stuff here!!!
        # Just to illustrate:
        print ""I am protending to work!\nPress Q to kill me!""
        sleep(1)
    print ""I am done!\nExiting . . .""
    done += 1

# Just to feel better
import atexit
atexit.register(restoreterm)

# Start the program
running = 1
done = 0
thread(work, ())
thread(control, ())
# Block the program not to close when threads detach from the main one:
while running:
    try: sleep(0.2)
    except: running = 0
# Wait for both threads to finish:
while done!=2:
    try: sleep(0.001)
    except: pass # Ignore KeyboardInterrupt
restoreterm() # Just in case!
"
35188,14903,Python Pandas: Find Match and Assign Higher Value,"In [71]:
DF.groupby([DF.COL1 , DF.COL2])['COL3'].transform(lambda x : x.max() if np.abs(x.iloc[1] - x.iloc[0])  == 1 else x)
Out[71]:
0    3
1    3
2    4
3    6
Name: COL3, dtype: int64
"
1518,51263,Output persistent data in valid python,"defaults = dict(val1=""val1"", val2=3)
varname = 'MyModuleConfig'
with open('myconfig.py', 'w') as fh:
  fh.write('%s = %s\n' % (varname, repr(defaults)))
  # Produced file should contain :
  # MyModuleConfig = {'val2': 3, 'val1': 'val1'}
"
14167,24599,How to uniformly handle A LIST or A LIST OF LIST (multi-dimensional list),">>> m = {}
>>> m[1] = 1
>>> m[1,2] = 12
>>> m[1,2,""three"",4.5] = 12345
>>> sum(m.values()) #better use m.itervalues() in python 2.* 
12358
"
35105,41000,What's the difference between entity.put() and entity.save()?,"save = put
"
27600,48512,Add rows in array with nested loop,"a = np.array([1,2,3])
b = np.array([4,5,6])
c = np.array([7,8,9])
np.vstack((a,b,c)) # This give the following array

array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])
"
31361,76381,Get the inner HTML of a element in lxml,"from lxml import etree
print(etree.tostring(root, pretty_print=True))
"
5913,53378,Matching Python Dict,"for key in dict1.keys():
  if key in dict2.keys():
    dict1[key].append(dict2[key])
"
17124,65947,Behavior inconsistency between Rectangle and FancyBboxPatch,"from matplotlib.patches import Rectangle, FancyBboxPatch
import matplotlib.pyplot as plt

f = plt.figure()
ax = f.add_subplot(1,1,1)

bbox1 = Rectangle((0.4, 0.4), .1, .1,
                  transform=ax.transData, ec='red',fill=False)

bbox2 = FancyBboxPatch((0.4, 0.4), .1, .1, boxstyle='square,pad=0',
                       transform=ax.transData, ec='green',fill=False)
ax.add_patch(bbox1)
ax.add_patch(bbox2)

f.show()
"
16584,49995,How to use select with Python ssl socket buffering?,"#!/usr/bin/python

import glib
import socket
import ssl

def cb(fd, cond):
    print('data: %s' % repr(s.read(1)))
    while(s.pending()):
        print('more data: %s' % repr(s.read(1)))
    return True

s = ssl.wrap_socket (socket.create_connection(('localhost', 1234)))
glib.io_add_watch(s.fileno(), glib.IO_IN, cb)
glib.MainLoop().run()
"
39715,16628,Shuffle ordering of some rows in numpy array,"import numpy as np


def shuffle_rows(arr,rows):
    np.random.shuffle(arr[rows[0]:rows[1]+1])

a = np.arange(20).reshape(4, 5)

print(a)
# array([[ 0,  1,  2,  3,  4],
#        [ 5,  6,  7,  8,  9],
#        [10, 11, 12, 13, 14],
#        [15, 16, 17, 18, 19]])

shuffle_rows(a,[1,3])

print(a)
#array([[ 0,  1,  2,  3,  4],
#       [10, 11, 12, 13, 14],
#       [15, 16, 17, 18, 19],
#       [ 5,  6,  7,  8,  9]])

shuffle_rows(a,[1,3])

print(a)
#array([[ 0,  1,  2,  3,  4],
#       [10, 11, 12, 13, 14],
#       [ 5,  6,  7,  8,  9],
#       [15, 16, 17, 18, 19]])
"
39670,54048,Reload template after AJAX POST request in Django,"navigator.geolocation.getCurrentPosition(function(position) {
 var form = $('<form action=""/geosearch/"" method=""POST""></form>');
 var long =$('<input name = ""long"" type=""hidden""></input>');
 var lat =$('<input name = ""lat"" type=""hidden""></input>');
 lat.val(position.coords.latitude);
 long.val(position.coords.latitude);
 form.append(lat, long);
 $('body').append(form);
 form.submit();
}
"
35077,27832,Convert strings to list Python,">>> list_val = '[""apple"", ""blue"", ""green"", ""orange"", ""cherry"", ""white"", ""red"", ""violet""]'
>>> 
>>> from ast import literal_eval
>>> list_val = literal_eval(list_val)
>>> list_val[0]
'apple'
"
1512,1094,How to set number of processes in mpi4py,"$ cat foo.py
from mpi4py import MPI

comm = MPI.COMM_WORLD
nprocs = comm.Get_size()
rank   = comm.Get_rank()

if rank == 0:
   data = 'Hello!'
   comm.send(data, dest=nprocs-1, tag=1)
elif rank == nprocs-1:
   data = comm.recv(source=0, tag=1)
   print 'Rank ', rank, ' received ', data

$ mpiexec -np 4 python foo.py
Rank  3  received  Hello!
"
1544,16188,streaming data into command with subprocess.Popen,"#!/usr/bin/env python2
import fileinput
import subprocess

process = subprocess.Popen(['sort'], stdin=subprocess.PIPE)
with process.stdin as pipe, fileinput.FileInput() as file:
    for line in file:
        if file.isfirstline(): # print header
            print line,
        else: # pipe tails
            pipe.write(line)
process.wait()
"
36782,66168,Django form re-validation for null/blank fields,"def clean(self):
    if self.cleaned_data['image'] is not None or self.cleaned_data['content'] != '' :
          return super().clean() #For python 3
          #return super(YourForm, self).clean() // for python 2
    raise ValidationError('Some Error')
"
3212,69205,Making recursive function in python,"def problem_a(n):
    if n == 1:
        return [n]
    elif n % 2 == 0:
        return [n] + problem_a(n // 2)
    else:
        return [n] + problem_a(3*n + 1)
"
33999,49948,Generate condition for selecting rows in pandas.DataFrame,">>> df = pd.DataFrame(np.random.choice([True]+[False]*5, size=(6,5)), columns=list(""abcde""))
>>> df
       a      b      c      d      e
0  False  False  False  False  False
1  False  False   True  False  False
2  False  False   True  False  False
3  False  False  False  False  False
4  False  False  False  False   True
5  False  False  False  False  False
>>> df.any(axis=1)
0    False
1     True
2     True
3    False
4     True
5    False
dtype: bool
>>> df[df.any(axis=1)]
       a      b      c      d      e
1  False  False   True  False  False
2  False  False   True  False  False
4  False  False  False  False   True
"
16434,5553,How to wrap a proper generator function around a SAX Parser,"import xml.etree.cElementTree as ET

ET.iterparse(sourcefile) # sourcefile being a cStringIO.StringIO instance holding your worksheet XML document

element.clear() # leave only scorched earth behind you
"
29868,51209,How can I pass an argument to a keyfunc being passed to itertools.groupby?,"groupby(..., lambda x: my_normal_function(x, other, arguments))
"
29213,79126,sqlite3 read-only on a file system that doesn't support locking,"db = sqlite3.connect('file:/path/to/database?mode=ro', uri=True)
"
13629,41656,Using Regular Expressions to Import a Large Amount of Data,">>> re.split('(\d{3,4}.[\d.]+?){1}\s([\w\s]+[.]){1}',text)

['', '101.1', 'Title.', ' This is an example code.\n\n', '101.1.2', 'Local Fees.', ' The local jurisdiction may charge fees for building permit violations per Section 300.1.\n']
"
20787,21666,Python: count if items in a row appears in previous rows together,"seen_sets = []
to_write = []

with open('input.csv', 'rb') as fin:
    r = csv.reader(fin)
    for row in r:
        newset = set(r[1].split(',')).union(r[2].split(','))
        prev = any(len(s.intersection(newset)) > 1 for s in seen_sets)
        seen_sets.append(newset)
        row.append('1' if prev else '0')
        to_write.append(row)

with open('output.csv', 'wb') as fou:
    w = csv.writer(fou)
    w.writerows(to_write)
"
674,15058,Does PIL resize() hold the GIL?,"PyImaging_CreateWindowWin32 (createwindow on Win32)
PyImaging_EventLoopWin32 (eventloop on Win32)
pyCMSdoTransform (apply)
_buildTransform (buildTransform)
_buildProofTransform (buildProofTransform)
_encode_to_file (encode_to_file)
"
15555,11373,Pass variables to development.ini on Pyramid,"try:
    from .myconfig import DB_STRING
    engine = sa.create_engine(DB_STRING, echo=False)
except ImportError:
    # ... no myconfig.py found - proceed to configuring the engine from .ini file   
"
38713,33227,is there putAll like method for dict in python?,">>> d1 = { 1: 2, 3: 4 }
>>> d2 = { 5: 6, 3: 1 }
>>> d1.update(d2)
>>> d1
{1: 2, 3: 1, 5: 6}
"
18155,3101,How to rotate between 10 differents background colors using the django for tag,"{% extends ""index.html"" %}
{% load staticfiles %}
{% block content %}
{% for secret in secrets%}
<tr class=""{% cycle ""lightgreen"" ""purple"" ""darkgreen"" ""lightblue"" ""darkblue"" ""yellow"" as rowcolors %}""></tr>
<section id=""{{rowcolors}}"" class=""container-fluid messages"">
  <div class=""container"">

    <div class=""col-md-12 text-center"">



      <h3 class="""">{{secret.secretmessage}}</h3>

    </div>
  </div> <!-- /container -->
</section>

{% endfor %}
{% endblock %}
"
20450,37702,How to export multiple arrays from IronPython to CSV,"for i in range(0, 1024):
    writer.writerow([iData[i], qData[i]])
"
32787,21175,Python copy files to a new directory and rename if file name already exists,"movdir = r""C:\Scans""
basedir = r""C:\Links""
# Walk through all files in the directory that contains the files to copy
for root, dirs, files in os.walk(movdir):
    for filename in files:
        # I use absolute path, case you want to move several dirs.
        old_name = os.path.join( os.path.abspath(root), filename )

        # Separate base from extension
        base, extension = os.path.splitext(filename)

        # Initial new name
        new_name = os.path.join(basedir, base, filename)

        # If folder basedir/base does not exist... You don't want to create it?
        if not os.path.exists(os.path.join(basedir, base)):
            print os.path.join(basedir,base), ""not found"" 
            continue    # Next filename
        elif not os.path.exists(new_name):  # folder exists, file does not
            shutil.copy(old_name, new_name)
        else:  # folder exists, file exists as well
            ii = 1
            while True:
                new_name = os.path.join(basedir,base, base + ""_"" + str(ii) + extension)
                if os.path.exists(newname):
                   shutil.copy(old_name, new_name)
                   print ""Copied"", old_name, ""as"", new_name
                   break 
                ii += 1
"
13040,24665,How to get ordered list of strings,"pages = ['page34','page1','page12','page9','page11','page2','page10']

pages.sort(key = lambda x: int(x[4:]))

>>> print pages
['page1', 'page2', 'page9', 'page10', 'page11', 'page12', 'page34']
"
4062,62466,String function in Python,"Examples
>>> s = 'hello'
>>> s[1:4]
ell
>>> s[:]
hello
>>> s[::2]
hlo
>>> s[::-1]
olleh

>>> s = 'racecar'
>>> s[::-1]
'racecar'
>>> s == s[::-1]
True
"
29618,35240,Is Python unpacking thread safe?,">>> def f():
...     a, b = self.mytuple
... 
>>> import dis
>>> dis.dis(f)
  2           0 LOAD_GLOBAL              0 (self) 
              3 LOAD_ATTR                1 (mytuple) 
              6 UNPACK_SEQUENCE          2 
              9 STORE_FAST               0 (a) 
             12 STORE_FAST               1 (b) 
             15 LOAD_CONST               0 (None) 
             18 RETURN_VALUE         
"
9307,56178,Do I need to pass in all values of a tuple to index a dictionary?,"[k for k in my_dict if k[0] == dog]
"
37651,71655,BeautifulSoup: How to extract data after specific html tag,"from BeautifulSoup import BeautifulSoup

soup = BeautifulSoup('<html><tr><td>X</td><td>Color Digest</td><td>THE DIGEST</td></tr></html>')
for cell in soup.html.tr.findAll('td'):
    if 'Color Digest' == cell.text:
         print cell.nextSibling.text
"
22460,40950,create standard compliant file,"with open('output.csv', 'wb') as output:
    input = csv.reader(open('faultyfile.csv', 'rb'))
    output = csv.writer(output, dialect=input.dialect)
    for line in input:
        if len(line) < 5:
            line.extend([''] * (5 - len(line)))
        output.writerow(line)
"
12325,39775,Python dict get value fastest way,"d = {1:2, 3:4, 5:6}
for key, value in d.items():
    print(key, value)
"
34581,51281,How to run a DOS batch file in background using Python?,"import subprocess

p = subprocess.Popen(r'start cmd /c C:\test.bat', shell=True)

p.wait()

print 'done'
"
38010,9852,SciPy optimization for under-constrained system,"import numpy as np
import scipy.optimize

mat = np.random.randn(5, 7)

def F(x):
    y = np.dot(mat, x)
    return np.resize(np.array([ y[0]**2 + y[1]**3 + 12, y[2] + 17]), 7)

while True:    
    x0 = np.random.randn(7)
    r = scipy.optimize.leastsq(F, x0)
    err = F(r[0])
    norm =  np.dot(err, err)
    if norm < 1e-6:
        break

print err
"
20977,62745,Add a dense vector to a sparse matrix in scipy (via broadcasting),">>> s = (W != 0).multiply(sp.csr_matrix(v))
>>> W + s
<2x3 sparse matrix of type '<type 'numpy.int64'>'
    with 2 stored elements in Compressed Sparse Row format>
"
19233,33886,Modifying corpus by inserting codewords using Python,"import re

reviews = [
    ""This bike is amazing, but the brake is very poor"",
    ""This ice maker works great, the price is very reasonable, some bad smell from the ice maker"",
    ""The food was awesome, but the water was very rude""
    ]

positive_words = set(['amazing', 'great', 'awesome', 'reasonable'])
negative_words = set(['poor', 'bad', 'rude'])

for sentence in reviews:
    tagged = []
    for word in re.split('\W+', sentence):
        tagged.append(word)
        if word.lower() in positive_words:
            tagged.append(""POSITIVE"")
        elif word.lower() in negative_words:
            tagged.append(""NEGATIVE"")
    print ' '.join(tagged)
"
15075,61585,python assignment to an object inside itself,"def change(a):
    a = 10
    print(a) # prints 10

x = 5
change(x)
print(x) # prints 5
"
8501,25266,Regex for the dot character?,"# -*- coding: utf-8 -*-
pattern = re.compile(ur'•')
"
35653,25030,Broadcasting columns from a 2D numpy array to a larger 2D array based on an array of floats,"import matplotlib.pyplot as plt
import numpy as np
import matplotlib.patches as patches
import matplotlib.cm as cm

def draw_rect(x, y, z):
    rect = patches.Rectangle((x,y), 1, 1, color = jet(z))
    ax.add_patch(rect)

jet = plt.get_cmap('jet')
fig = plt.figure()
ax = fig.add_subplot(111)

darray = np.array([[2, 3, 7, 7],
                   [4, 8, 2, 3],
                   [6, 1, 9, 5],
                   [3, 4, 8, 4]], dtype = 'float')
darray_norm = darray/darray.max()

posarray = [3.767, 1.85, 0.762]
x = np.cumsum(np.hstack((0, np.array(posarray)+1)))

for j, i in np.ndindex(darray.shape):
    draw_rect(x[j], i, darray_norm[i, j])
ax.set_xlim(x.min(),x.max()+1)
ax.set_ylim(0,len(darray))
ax.invert_yaxis()    
m = cm.ScalarMappable(cmap = jet)
m.set_array(darray)
plt.colorbar(m)
plt.show()
"
37332,38390,python splitting string twice,">>> a = '{1;5}{2;7}{3;9}{4;8}'
>>> [item.split(';') for item in a[1:-1].split('}{')]
[['1', '5'], ['2', '7'], ['3', '9'], ['4', '8']]
"
31351,61791,"In dictionary where keys are numbers, how to find key which is smaller but the most near to given number?","d = {1:9, 6:7, 5:45, 3:90}
print max(k for k in d if k < 4)
"
39720,72735,Python Pandas Append List of Dataframes,"    from IPython import parallel
    clients = parallel.Client() #a lightweight handle on all the engines of a cluster
    clients.block = True  # use synchronous computations
    print(clients.ids)

    dview = clients[:] #dview = clients.direct_view()
    dview.block = True

    dview.scatter(""experiment"", myDataFrame) # <myDataFrame> scattered as <experiment> to the engines
    dview[""wlist_ptrn""] = wlist_ptrn
    dview.execute(""experiment['allFeats'] = experiment.ttext.str.findall(wlist_ptrn)"")
    return pd.concat(dview.gather(""experiment"")) # gather method returns a list of data frames
"
39157,70395,Django aggregation across multiple tables in ModelAdmin queryset,"derp_r1_sum_select = """"""
    select sum(`derp_related_1`.`amount`)
    from `derp_related_1` 
    where `derp_related_1`.`fk` = `derp`.`pk`
    """"""
derp_r2_sum_select = """"""
    select sum(`derp_related_2`.`amount`)
    from `derp_related_2`
    where `derp_related_2`.`fk` = `derp`.`pk`""
    """"""

def queryset(self, request):
        qs = super(DerpAdmin, self).queryset(request)
        qs = qs.extra(select={'derp_r1_sum': derp_r1_sum_select,
                              'derp_r2_sum': derp_r2_sum_select})
        return qs
"
9636,15065,How do I delete or replace a file in a zip archive?,"ZipFile.namelist()
Return a list of archive members by name.
"
14539,16526,Django concurrent get-and-increment,"with transaction.atomic():
    ModelB.objects.update(counter=F('counter') + 1)
    new_counter = ModelB.objects.get().counter
    a_instance.account_number = new_counter
    a_instance.save()
"
39953,24655,Combining Rows of Lists in Column containing Integers with Python,"from itertools import chain
set(chain.from_iterable(df1['col1']))
"
21973,46528,Learn Python The Hard Way #25,"def print_first_and_last(sentence):
    words = break_words(sentence)

    print sentence, words
    print_first_word(words)
    print sentence, words
    print_last_word(words)
    print sentence, words
"
31044,25645,Are there any 'gotchas' with this Python pattern?,"class Dicty(dict):
    def __getattr__(self, key):
        return self[key]

    def __setattr__(self, key, value):
        self[key] = value"
32158,17922,Python str.format() method not working as expected,"someString = '{0:<16}{1}'.format(someList[someIndex], someList[someOtherIndex])
"
12187,25422,How to have logarithmic bins in a Python histogram,"import pylab as pl
import numpy as np

data = np.random.normal(size=10000)
pl.hist(data, bins=np.logspace(0.1, 1.0, 50))
pl.gca().set_xscale(""log"")
pl.show()
"
2040,3613,Multiple domains and subdomains on a single Pyramid instance,"def pregen(request, elements, kw):
    kw['_app_url'] = 'http://sub.example.com'
    return elements, kw

def req_sub(info, request):
    return request.host.startswith('sub')

config.add_route('sub_only', '/',
                 custom_predicates=(req_sub,),
                 pregenerator=pregen)
config.add_route('foo', '/foo')
config.add_view(view, route_name-'foo')

def view(request):
    # redirect the user to ""http://sub.example.com"", regardless of whether
    # request.host is ""example.com"" or ""sub.example.com""
    return HTTPFound(request.route_url('sub_only'))
"
15970,32869,Python event loop -- multithreading -- How to run two bits of code simultaneously?,"#!/usr/bin/env python
import msvcrt
from Queue import Empty, Queue
from threading import Thread

def read_keys(queue):
    for key in iter(msvcrt.getch, 'q'): # until `q`
        queue.put(key)
    queue.put(None) # signal the end

q = Queue()
t = Thread(target=read_keys, args=[q])
t.daemon = True # die if the program exits
t.start()

while True:
    try:
        key = q.get_nowait() # doesn't block
    except Empty:
        key = Empty
    else:
        if key is None: # end
            break
    # do stuff
"
8973,58312,Set cellrenderertext foreground color when a row is highlighted,"#!/usr/bin/python                               
import gtk


class Application(object):
    def __init__(self):
        window = gtk.Window()

        model = gtk.TreeStore(str)
        model.append(None, row=('Normal row',))
        model.append(None, row=('<span foreground=""red"">Red row</span>',))

        treeview = gtk.TreeView(model)
        renderer = gtk.CellRendererText()
        column = gtk.TreeViewColumn('Column', renderer, markup=0)
        treeview.append_column(column)

        scrolled_window = gtk.ScrolledWindow()
        scrolled_window.add(treeview)

        window.add(scrolled_window)
        window.connect('destroy', lambda w: gtk.main_quit())

        window.show_all()


    def run(self):
        gtk.main()


if __name__ == '__main__':
    Application().run()
"
2760,84354,Converting string that looks like a list into a real list - python,">>> import ast
>>> ast.literal_eval(""[(0, 1), (1, 3), (2, 1), (3, 1), (4, 1)]"")
[(0, 1), (1, 3), (2, 1), (3, 1), (4, 1)]
>>> ast.literal_eval(""[(0, 1, 6), (1, 3,7), (3, 1,4), (3, 1,3), (8, 1,2)]"")
[(0, 1, 6), (1, 3, 7), (3, 1, 4), (3, 1, 3), (8, 1, 2)]
>>> ast.literal_eval(""[1,2,3,5,3]"")
[1, 2, 3, 5, 3]
"
27724,1222,Convert dict to list of keys?,">>>someDict = {'One': 1, 'Two': 2, 'Three': 3}
>>>someList = list(someDict.keys())
>>>print(someList)
['One', 'Two', 'Three']
"
17743,55375,Running a python script at various intervals during the day?,"#
# Weekdays
#

# Start 7 am - End 12 pm => run script every 5 minutes
*/5  7-11      * * mon-fri *   yourscript

# Start 12:00 pm - End 4 pm => run script every 30 minutes
0,30 12-15     * * mon-fri *   yourscript

# Start 4 pm - End 9 pm => run script every 5 minutes
*/5  16-20     * * mon-fri *   yourscript

# Start 9 pm - End 7 am => run script every hour
0    0-6,21-23 * * mon-fri *   yourscript

# 
# Weekends
#

# Run script every half hour
0,30 *         * * sat-sun *   yourscript
"
38542,35687,Is there a way for an entry widget to automatically be selected,"widget_name.focus()
"
39930,73442,Create a Numpy array representing connections in a network,"import numpy as np

conns = np.array([[ 1,  2],
                  [ 2,  3],
                  [ 3,  4]])
net = np.zeros((conns.max(), conns.max()), dtype=int)

# two possibilities:

# if you need the number of connections:
for conn in conns:
    net[conn[0]-1, conn[1]-1] += 1

# if you just need a 1 for existing connection(s):
net[conns[:,0]-1, conns[:,1]-1] = 1
"
4566,26654,Puzzled about use of regex to match exactly 3 letters followed by exactly 3 numbers,">>> pattern = r'\b[a-zA-Z]{3}\d{3}\b'
>>> re.findall(pattern, ""My word is bla123"")
['bla123']
>>> re.findall(pattern, ""My word345 is bla123"")
['bla123']
>>> re.findall(pattern, ""My word345 and bla56 is bla123 and abc343"")
['bla123', 'abc343']
"
4569,20919,python statsmodels ARMA plot_predict,"with mpl.rc_context():
    mpl.rc('axes', color_cycle=['#0000FF', '#FF6600'])
    dta = sm.datasets.sunspots.load_pandas().data[['SUNACTIVITY']]
    dta.index = pd.DatetimeIndex(start='1700', end='2009', freq='A')
    res = sm.tsa.ARMA(dta, (3, 0)).fit()
    fig, ax = plt.subplots()
    ax = dta.ix['1950':].plot(ax=ax)
    fig = res.plot_predict('1990', '2012', dynamic=True, ax=ax,
                           plot_insample=False)
"
11867,1037,Writing a tab delimited file as json object in python,"import json
data={}
with open('data.txt', 'w') as outfile,open(""tree_0"",""r"") as f:
    for line in f:
       sp=line.split()
       data.setdefault(""data"",[]).append({""text"": sp[-1],""id"": sp[0]})
    json.dump(data, outfile)
"
12531,75113,Python Code for Finding Specific Parameters,"groups_explicit,groups_implicit = set(),set)_
with open(some_csv) as f:
    for line in f:
        if ""Explicit"" in line:
           groups_explicit.add(line.split("","",1)[0]) 
        elif ""Implicit"" in line:
           else groups_implicit.add(line.split("","",1)[0])
# use set difference to tell which groups are in implicit but not explicit
implicit_groups_not_in_explicit = groups_implicit - groups_explicit
"
13979,68823,Python tkinter Canvas Dynamic Create.Line,"from Tkinter import Tk, Canvas

start = None

def onclick_handler(event):
    global start
    start = (event.x, event.y)

def onrelease_handler(event):
    global start
    if start is not None:
        x = start[0]
        y = start[1]
        event.widget.create_line(x, y, event.x, event.y)
        start = None

master = Tk()
canvas = Canvas(master, width=200, height=200)
canvas.bind(""<Button-1>"", onclick_handler)
canvas.bind(""<ButtonRelease-1>"", onrelease_handler)
canvas.pack()
master.mainloop()
"
29112,21620,python left and right arrow key event not working,"import turtle

#Create the player turtle
player = turtle.Turtle()
player.color(""blue"")
player.shape(""triangle"")
player.penup()
player.speed(0)
player.setposition(0, -235)
player.setheading(90)

playerspeed = 15


#Move the player Left and Right
def move_left():
    x = player.xcor()
    x -= playerspeed
    if x < -200:
        x = - 200
    player.setx(x)

def move_right():
    x = player.xcor()
    x += playerspeed
    if x < -200:
        x = - 280
    player.setx(x)

#Create Keyboard Bindings
turtle.listen()
turtle.onkey(move_left, ""Left"")
turtle.onkey(move_right, ""Right"")

#Start the main loop
turtle.mainloop()
"
30209,4037,Django: Mock a field on a model,"class SomeModel(models.Model):
    user_id = models.IntegerField(max_length=10)
"
29711,9165,Write null bytes in a file instead of correct strings,"import os
import re
from contextlib import closing

def list_files_to_process(directory='results'):
  """"""
  Return a list of files from directory where the file extension is '.res',
  case insensitive.
  """"""
  results = []
  for filename in os.listdir(directory):
    filepath = os.path.join(directory,filename)
    if os.path.isfile(filepath) and filename.lower().endswith('.res'):
      results.append(filepath)
  return results

def group_lines(sequence):
  """"""
  Generator, process a sequence of lines, separated by a particular line.
  Yields batches of lines along with the id from the separator.
  """"""
  separator = re.compile('^A:(?P<id>\d+):$')
  batch = []
  batch_id = None
  for line in sequence:
    if not line: # Ignore blanks
      continue
    m = separator.match(line):
    if m is not None:
      if batch_id is not None or len(batch) > 0:
        yield (batch_id,batch)
      batch_id = m.group('id')
      batch = []
    else:
      batch.append(line)
  if batch_id is not None or len(batch) > 0:
    yield (batch_id,batch)

def filename_for_results(batch_id,result_directory):
  """"""
  Return an appropriate filename for a batch_id under the result directory
  """"""
  return os.path.join(result_directory,""results-%s.res"" % (batch_id,))

def open_result_file(filename,header=""source,rssi,lqi,packetId,run,counter""):
  """"""
  Return an open file object in append mode, having appended a header if 
  filename doesn't exist or is empty
  """"""
  if os.path.exists(filename) and os.path.getsize(filename) > 0:
    # No need to write header
    return open(filename,'a')
  else:
    f = open(filename,'a')
    f.write(header + '\n')
    return f

def process_file(filename,result_directory='results/processed'):
  """"""
  Open filename and process it's contents. Uses group_lines() to group
  lines into different files based upon specific line acting as a
  content separator.
  """"""
  error_filename = filename_for_results('error',result_directory)
  with open(filename,'r') as in_file, open(error_filename,'w') as error_out:
    for batch_id, lines in group_lines(in_file):
      if len(lines) == 0:
        error_out.write(""Received batch %r with 0 lines"" % (batch_id,))
        continue
      out_filename = filename_for_results(batch_id,result_directory)
      with closing(open_result_file(out_filename)) as out_file:
        for line in lines:
          if line.startswith('L') and line.endswith('E') and line.count(',') == 5:
            line = line.lstrip('L').rstrip('E')
            out_file.write(line + '\n')
          else:
            error_out.write(""Unknown line, batch=%r: %r\n"" %(batch_id,line))

if __name__ == '__main__':
  files = list_files_to_process()
  for filename in files:
    print ""Processing %s"" % (filename,)
    process_file(filename)
"
25493,70901,Python comprehension consolidation,"d = {}
with open(f) as fin:
    for l in fin:
        x = l.split()
        d[x[0][:-1]] = int(x[1])
return d
"
3097,15812,Map two lists into one single list of dictionaries,"def mapper(keys, values):
    n = len(keys)
    return [dict(zip(keys, values[i:i + n]))
            for i in range(0, len(values), n)]
"
10168,49597,iterate through function arguments supposede to be lists python,"entranche = poeme.split()
"
20292,37118,Pandas dataframe issue,"In [12]: df = pd.DataFrame([[slide, item[0], item[1], ''] if item[0] == '1' else [slide, item[0], '', item[1]] 
for slide, item in d.items()], columns=['Slide', 'Level', 'Level1 Title', 'Level2 Title'])

In [13]: df
Out[13]:
   Slide Level Level1 Title Level2 Title
0      1     2                     Pepsi
1      3     1       Pepper
"
32692,12732,Django way to do conditional formatting,"{% for date,state in the_date_list %}
    <span class=""{{state}}"">date</span>
{% endfor %}
"
37995,32107,Emacs function to add symbol to __all__ in Python mode?,"(defun python-add-to-all ()
  ""take the symbol under the point and add to the __all__ routine""
  (interactive)
  (save-excursion
    (let ((thing (thing-at-point 'word))
          p)
      (if (progn (goto-char (point-min))
                 (re-search-forward ""^__all__ = \\["" nil t))
          (insert (format ""\""%s\"", "" thing))
        (goto-char (point-min))
        (insert (format ""__all__ = [\""%s\""]\n"" thing))))))
"
26159,36083,Django MPTT : Filter by depth?,"
# Retrieve root nodes and their immediate children only
SomeModel.tree.filter(level__lte=1)
"
26062,71236,Find number of times Ackerman function is called in Python,"def ack(m,n):
    if m == 0:
        return (n + 1, 1)
    elif m > 0 and n == 0:
        a, cnt = ack(m - 1.0, 1.0)
        return a, cnt+1
    elif m > 0 and n > 0:
        a1, cnt1 = ack(m, n - 1.0)
        a2, cnt2 = ack(m - 1.0, a1)
        return a2, 1 + cnt1 + cnt2



>>> ack(3, 4)
    (125.0, 10307)
>>> ack(1, 0)
    (2.0, 2)
"
23172,8754,Open tiff image stack in python with gdal,"import numpy, gdal, gdalconst
dataset = gdal.Open(""multipage.tiff"", gdalconst.GA_ReadOnly)
data = numpy.array([gdal.Open(name, gdalconst.GA_ReadOnly).ReadAsArray()
                    for name, descr in dataset.GetSubDatasets()])
"
22975,80716,Sphinx ReadTheDocs Theme,"{% include ""breadcrumbs.html"" %}
"
39175,72174,Python - ssh and sftp through a middle computer,"client = paramiko.SSHClient()
client.load_system_host_keys()
client.set_missing_host_key_policy(paramiko.WarningPolicy())

try:
    client.connect(server[0], server[1], username=options.user, key_filename=options.keyfile,            look_for_keys=options.look_for_keys, password=password)
"
18266,17907,RegEx with variable data in it - ply.lex,"from ply.lex import TOKEN
data = data.split() #make data a list of keywords

@TOKEN('|'.join(data))
def t_KEYWORD(t):
    return t
"
26538,26955,Secondary_y range in a Pandas groupby function,"axs = df_month.plot(secondary_y=['C'], mark_right=False)

for ax in axs:
    ax.right_ax.set_ylim((0,50)) # Set the y limits to 0 to 50
"
29956,12165,Python get instance from list based on instance variable,"try:
    filter(lambda client: client.screenName == search, clients)[0]
except IndexError:
    # handle error. May be use a default value
"
27780,10886,Checking a checkbox with pywinauto doesn't work,"from pywinauto.controls.win32_controls import ButtonWrapper
checkbox = ButtonWrapper(madvr.TCheckBox.WrapperObject())
checkbox.GetCheckState()
"
15088,84947,How to detect method overloading in subclasses in python?,"def override(method):
  method.is_overridden = True
  return method

class Super:
   def __init__(self):
      if hasattr(self.method, 'is_overridden'):
         print 'different'
      else:
         print 'same'
   @classmethod
   def method(cls):
      pass

class Sub1(Super):
   @override
   def method(self):
      print 'hi'

class Sub2(Super):
   pass

Super() # should be same
Sub1() # should be different
Sub2() # should be same

>>> same
>>> different
>>> same
"
23102,60890,Python - Previous and next values inside a loop,"foo = somevalue
previous = next_ = None
l = len(objects)
for index, obj in enumerate(objects):
    if obj == foo:
        if index > 0:
            previous = objects[index - 1]
        if index < (l - 1):
            next_ = objects[index + 1]
"
19982,40460,Understanding django admin readonly_fields,"class MyModelAdmin(admin.ModelAdmin):
    ...

    def get_readonly_fields(self, request, obj=None):
        if request.user.is_superuser:
            return super(MyModelAdmin, self).get_readonly_fields(request, obj)
        else:
            return ('created_at', 'created_by')
"
10945,76164,The Label Isn't Upadting,"def main(self):
    [...]
    self.stopwatch_value = IntVar()
    stopwatch = ttk.Label(root, textvariable=self.stopwatch_value)
    stopwatch.grid(row=1, column=2)
    root.after(self.update, 500)

def update(self):
    self.stopwatch_value.set(self.timed)
    root.after(self.update, 500)
"
26167,35248,Monotonically decreasing curve fit using Python,"import numpy as np
impoty scipy.optimize as opt

def objective(pars):
    a, b, c = pars
    return np.sum((y-(a*np.exp(-b*x)+c))**2)

opt.minimize(objective, x0=np.array([12000, 0.3, 2000])) 
"
36718,43830,"Pandas, removing duplicate datetime hours","In [51]:

df = df.reset_index()
df['timestamp'] = df['timestamp'].apply(lambda x: x.replace(minute=0, second=0))
df = df.drop_duplicates(subset='timestamp', take_last=True)
df = df.set_index('timestamp')
df
Out[51]:
                     avg_hr  avg_rr  emfit_sleep_summary_id  AVG_HR  AVG_RR
timestamp                                                                  
2015-01-28 08:00:00      98     6.4                      78    99.5     6.4
2015-01-28 00:00:00      63     0.0                      78    61.5     0.0
2015-01-28 07:00:00      79    11.6                      78    78.5    11.6
"
9210,44033,Passing a JSON document in Python,"# First open the file
# Then read the entire contents into memory
>>> policy_document = open(""/absolute/path/to/policy_document"", ""r"").read()

# Then base64 encode the contents.
>>> policy = base64.b64encode(policy_document)

# If you are using Python 2.7 you can use the with statement
# to ensure files are cleaned up
# (See @Niklas' comment)
>>> with open(""/absolute/path/to/policy_document"", ""r"") as fp:
...     policy_document = fp.read()
...      policy = base64.b64encode(policy_document)
# fp will be properly closed
"
34267,9982,Comparing local file with remote file,"import hashlib
with open( <path-to-file>, ""rb"" ) as theFile:
    m = hashlib.md5( )
    for line in theFile:
        m.update( line )
with open( <path-to-hashfile>, ""wb"" ) as theFile:
    theFile.write( m.digest( ) )
"
16359,17855,Python 3.x - How to get my program to not calculate a section when it is invalidated?,"def getTickets():
    A = int(input(""Please enter the number of tickets sold in section A: ""))
    B = int(input(""Please enter the number of tickets sold in section B: ""))
    C = int(input(""Please enter the number of tickets sold in section C: ""))
    return (A, B, C)

def ticketsValid(A, B, C):
    while A > 300 or A < 0:
        print(""ERROR: Section A has a limit of 300 seats"")
        A = int(input(""Please enter the number of tickets sold in section A: ""))
    while B > 500 or B < 0:
        print(""ERROR: Section B has a limit of 500 seats"")
        B = int(input(""Please enter the number of tickets sold in section B: ""))
    while C > 200 or C < 0:
        print(""ERROR: Section C has a limit of 200 seats"")
        C = int(input(""Please enter the number of tickets sold in section C: ""))
    return (A, B, C)

def calcIncome(A, B, C):
    incomeGenerated = A * secA + B * secB + C * secC
    print(""The income generated is $%d"" % (incomeGenerated))

def main():
    A, B, C = getTickets()
    A, B, C = ticketsValid(A, B, C)
    calcIncome(A, B, C)
"
35341,54800,"Issue with wxPython mulltiline text box being too large for wx.Frame - can I auto ""shrink"" to the correct size of the text box?","import wx

class myFrame(wx.Frame):
    def __init__(self, size, *arg, **kwarg):
        wx.Frame.__init__(self, *arg, **kwarg)
        self.text = wx.TextCtrl(self, style=wx.TE_MULTILINE, size=size)

        self.sizer = wx.BoxSizer()
        self.sizer.Add(self.text, proportion=1, flag=wx.EXPAND)
        self.SetSizerAndFit(self.sizer)

        self.Show()


myApp = wx.App(False)

size = []
for a in [""X"", ""Y""]:
    d = wx.NumberEntryDialog(None, ""Text size"", ""%s: "" % a, ""Window size entry"", 100, 50, 200)
    if d.ShowModal() == wx.ID_OK:
        size.append(d.GetValue())

frameNow = myFrame(size, None)
myApp.MainLoop()
"
6335,15994,Homebrew: PATH env var is modified before installation of Formulae (mercurial will use system python instead of homebrew python),"$ brew reinstall mercurial --build-from-source --env=std
$ head -n 1 /usr/local/bin/hg  
#!/usr/local/opt/python/bin/python2.7
"
18482,69559,Need some advice regarding writing an reusable app for Django,"class UserAlertStateAutomaton(FiniteStateAutomaton):
    """"""
    An automaton that alerts users when the state changes
    """"""
    users_to_alert = models.ManyToManyField(User)

    def change_state(self, new_state):
        """"""
        overrides the parent method to alert users that state has changed
        """"""
        super(UserAlertStateAutomaton, self).change_state(new_state)
        for user in self.users_to_alert:
            #do your thing
    def subscribe#... etc
"
20228,51261,"python: dictionary from ""key=value""","s = ""x=y""
key,value = s.split('=', 1)
print(key, ""=="", value)
x == y

items = [""x=y"",""i=j"",""a=b""]

for ele in items:
   key, value = ele.split('=', 1)
   print(key, ""=="", value)
"
36220,81908,Python CSV Line counts are Off,"""Example"",""Line\nWith A"",""Line Break""\n
"
30995,57512,How do I parse http html post data submitted by a form,"import cgi

DATA = cgi.FieldStorage()

d = {}

for attr in DATA.keys():
    key = str(attr)
    value = DATA['key'].value
    d[key] = value
"
31759,33422,Disable ssl check globally in python 2.7.10 - Pycontrol,"import urllib2
import ssl
from suds import transport
from suds.client import Client
from suds.xsd.doctor import Import, ImportDoctor
from pycontrol import pycontrol

IMP = Import('http://schemas.xmlsoap.org/soap/encoding/')
DOCTOR = ImportDoctor(IMP)
ICONTROL_URI = '/iControl/iControlPortal.cgi'
SESSION_WSDL = 'System.Session'

class HTTPSUnVerifiedCertTransport(transport.https.HttpAuthenticated):
    def __init__(self, *args, **kwargs):
        transport.https.HttpAuthenticated.__init__(self, *args, **kwargs)
    def u2handlers(self):
        handlers = []
        handlers.append(urllib2.ProxyHandler(self.proxy))
        handlers.append(urllib2.HTTPBasicAuthHandler(self.pm))
        # python ssl Context support - PEP 0466
        if hasattr(ssl, '_create_unverified_context'):
            ssl_context = ssl._create_unverified_context()
            handlers.append(urllib2.HTTPSHandler(context=ssl_context))
        else:
            handlers.append(urllib2.HTTPSHandler())
        return handlers

def new_get_suds_client(self, url, **kw):
        if not url.startswith('https'):
            t = transport.http.HttpAuthenticated(username=self.username,
                                                 password=self.password)
            c = Client(url, transport=t, username=self.username,
                         password=self.password, doctor=DOCTOR, **kw)
        else:
            t = HTTPSUnVerifiedCertTransport(username=self.username,
                                             password=self.password)
            c = Client(url, transport=t, username=self.username,
                         password=self.password, doctor=DOCTOR, **kw)
        return c

pycontrol.BIGIP._get_suds_client = new_get_suds_client
b = pycontrol.BIGIP(
    hostname = ""xx.xx.xx.xx"",
    username = ""xxxxxxx"",
    password = ""xxxxxxx"",
    fromurl = True,
    wsdls = ['GlobalLB.WideIP','GlobalLB.Pool']
    )
"
12895,59525,multi indexing in python,"#Create the array
[Nx, Ny, Nz] = (60, 220, 85)
[I, J, K]    = (np.arange(0,Nx,1),np.arange(0,Ny,1),np.arange(0,Nz,1))

[I, J, K] = np.meshgrid(I, J, K)

#Create the 1-d idexed array
ix = np.ravel_multi_index((I,J,K),(Nx,Ny,Nz),order='F')

print(ix)
"
2233,22795,I need a regex for the href attribute for an mp3 file url in python,"import lxml.html

tree = lxml.html.fromstring(htmlcode)
for link in tree.findall("".//a""):
    url = link.get(""href"")
    if url.endswith("".mp3""):
        print url
"
37250,28028,3d plot in python based on matrix,">>> from mpl_toolkits.mplot3d import Axes3D
>>> import matplotlib.pyplot as plt
>>> import numpy as np
>>> import random
>>> 
>>> count = []
>>> for i in range(1, 4):
...     for j in range(3, 6):
...         for k in range(15,19):
...             count.append((i, j, k, random.random()))
...             
...         
...     
... 
>>> data = np.array(count)
>>> fig = plt.figure()
>>> ax = fig.gca(projection='3d')
>>> 
>>> # I think this is the sort of thing you want:
>>> 
>>> ax.plot_trisurf(data[:,0], data[:,1], data[:,3])
/usr/local/lib/python2.7/dist-packages/matplotlib/delaunay/triangulate.py:103: DuplicatePointWarni
ng: Input data contains duplicate x,y points; some values are ignored.
  DuplicatePointWarning,
<mpl_toolkits.mplot3d.art3d.Poly3DCollection object at 0x46e8390>
>>> plt.show()
"
6902,69030,Counting consecutive names,"def mostConsecutiveYears(names):
    """"""
    Compute which name occurs the most times consecutively in a
    list of names.
    :param names (list of Name): A list of name objects
    :return: A tuple containing best name (str) and the count (int)
    :rtype: tuple
    """"""
    bestName = names[0] # Be careful you can get an error if your list is empty
    bestCount = 1
    currentName = names[0]
    currentCount = 1

    for name in names[1:]:

        if name == currentName:
            currentCount += 1
        else:
            currentCount = 1
            currentName = name

        if currentCount > bestCount:
            bestName = currentName
            bestCount = currentCount

    return bestName, bestCount

print(mostConsecutiveYears(['Emily','Emily','Emily','Isabel']))
"
2398,3256,finding common value in one column against distinct value in another column in pandas,"#first drop duplicates in each group by event
df = df.drop_duplicates(['event','cust'])

#count  values
counts = df.cust.value_counts()
print counts
satya     3
panda     2
papu      2
def       1
normal    1
fgh       1
abc       1
Name: cust, dtype: int64

#get number of unique events
uniqevents = df.event.nunique()
print uniqevents
3
#get values with count == uniqevents
counts = counts[counts == uniqevents]
print counts
satya    3
Name: cust, dtype: int64

print counts.index.to_series().reset_index(drop=True)
0    satya
dtype: object
"
38927,55318,"Roman to Numeral calculator with ""for i in X""","def RomanToDecimal(roman):
    DecimalValue=0 
    i = 0 # Position in string

    while i < len(roman):

        # Test for 2 char first    
        if i < len(roman)-1: # Make sure we're not on the last letter
            # Get current + next letters
            s = roman[i:i+2] 
            add = False

            if s == ""CM"":
                add = 900
            elif s == ""IV"":
                add = 4
            elif s == ""IX"":
                add = 9
            elif s == ""XL"":
                add = 40
            elif s == ""XC"":
                add = 90
            elif s == ""CD"":
                add = 400

            if add: # We've found a match
                i += 2 # Step 2
                DecimalValue += add # Add the value
                continue # Next loop

        # If we get here the 2 character match failed
        # Single char match
        s = roman[i] 

        if s == ""I"":
            DecimalValue += 1
        elif s == ""V"":
            DecimalValue += 5
        elif s == ""X"":
            DecimalValue += 10
        elif s == ""L"":
            DecimalValue += 50
        elif s == ""C"":
            DecimalValue += 100
        elif s == ""D"":
            DecimalValue += 500
        elif s == ""M"":
            DecimalValue += 1000

        i += 1

    return DecimalValue

RomanToDecimal('XIXIX')
28
"
13111,55388,Creation of a python dictionary using key:value pairs from d1 and value from d2,">>> dict1 = {'hello':'HELLO', 'bye':'BYE', 'right':'RIGHT', 'left':'LEFT'}
>>> dict2 = {'why': ['hello', 'bye'], 
    'direction': ['left', 'right', 'right', 'right'],
    'example': [""don't replace me"", ""right""]}
>>> new_d = {k: [dict1.get(x,x) for x in v] for k,v in dict2.items()}
>>> new_d
{'direction': ['LEFT', 'RIGHT', 'RIGHT', 'RIGHT'], 
'why': ['HELLO', 'BYE'], 
'example': [""don't replace me"", 'RIGHT']}
"
20227,50893,Finding Even Numbers In Python,"if first_int % 2 == 0 and second_int % 2 == 0:
    print (""Both even"")
else:
    print(""Not Both Even"")
"
31921,31580,How to gain root privileges in python via a graphical sudo?,">>> import subprocess
>>> subprocess.call(['gksudo','python that_file.py'])
"
30050,50771,matshow in python with extents that make ticks in the middle of squares,"import numpy as np
from matplotlib import pyplot as plt

a=np.random.uniform(0,1,1600).reshape((40,40))
fig, ax = plt.subplots(1,1)
ax.matshow(a, vmin = 0, vmax = 1, interpolation = 'none')
tick_list = np.append(np.arange(0,40,5), 39)
label_list=map(lambda x: str(0.05*x), tick_list)
ax.set_xticks(tick_list)
ax.set_xticklabels(label_list)
ax.set_yticks(tick_list)
ax.set_yticklabels(label_list)
plt.show()
"
11221,29077,Splitting an expression,">>> import re
>>> e = ""(9+2-(3*(4+2)))""
>>> while '(' in e:
...     inner = re.search('(\([^\(\)]+\))', e).group(1)
...     e = re.sub(re.escape(inner), eval('str'+inner), e)
...     print inner,
... 
(4+2) (3*6) (9+2-18)
"
8715,69960,Is there any feature of TextBlob to obtain neutral classification?,"from textblob import TextBlob
from textblob.sentiments import NaiveBayesAnalyzer

blob = TextBlob(message, analyzer=NaiveBayesAnalyzer())
a = (blob.sentiment)
if a.__getattribute__(""p_pos"") > a.__getattribute__(""p_neg""):
    tag = str(a.__getattribute__(""classification""))
    sentiment = str(a.__getattribute__(""p_pos""))
elif a.__getattribute__(""p_pos"") < a.__getattribute__(""p_neg""):
    tag = str(a.__getattribute__(""classification""))
    sentiment = str(a.__getattribute__(""p_neg""))
else:
    tag = ""N""
    sentiment = ""0""
"
15603,67136,"Occurances of Num2 after Num1 in range(1,n) in Python with RECURSION","def in_string(digits, number):
    if not number:    # no more digits in number?
        return False  # all done
    digit = number[0]     # get the leading digit
    number = number[1:]   # leave the remaining digits in number
    if digit == digits[0]:    # found a digit in the sequence?
        digits = digits[1:]   # leave the remaining digits
        if not digits:        # no more digits in sequence?
            return True       # all done
    return in_string(digits, number)    # recursion

c = 0
for i in range(10000):
    if in_string(""34"", str(i)):
        c += 1
print c
"
10540,14766,Speeding up an iloc solution within a pandas dataframe,"In [88]: import numba

In [89]: @numba.jit(nopython=True)
    ...: def logic(a, b, c):
    ...:     N = len(a)
    ...:     out = np.zeros((N, 2), dtype=np.int64)
    ...:     for i in range(N):
    ...:         if i == 0:
    ...:             out[i, 0] = b[i]
    ...:             out[i, 1] = c[i]
    ...:         else:
    ...:             out[i, 0] = out[i-1,0] - a[i]
    ...:             out[i, 1] = out[i-1,0] + a[i]
    ...:     return out

In [90]: logic(df.A.values, df.B.values, df.C.values)
Out[90]: 
array([[10,  3],
       [ 0, 20],
       [-3,  3],
       [-7,  1]], dtype=int64)

In [91]: df[['A','B']] = logic(df.A.values, df.B.values, df.C.values)
"
34747,19907,Matplotlib - Pick up one color associated to one value in a `colorbar`,"from matplotlib.pylab import *
import matplotlib.cm as cm
import matplotlib.patches as patches

min_val = 0
max_val = 50

my_cmap = cm.get_cmap('jet') # or any other one
norm = matplotlib.colors.Normalize(min_val, max_val) # the color maps work for [0, 1]

x_i = 15
color_i = my_cmap(norm(x_i)) # returns an rgba value

rect = patches.Rectangle((.5, .5), .25, .25, color=color_i) # make your rectangle

cmmapable = cm.ScalarMappable(norm, my_cmap)
cmmapable.set_array(range(min_val, max_val))

figure()
ax = gca()
ax.add_patch(rect)
colorbar(cmmapable)
show()
"
14789,81797,selecting a particular row from groupby object in python,"In [103]:

df[df.groupby(['id'])['year'].transform(max) == df['year']]
Out[103]:
   id  marks  year
0   1     18  2013
2   3     16  2014
4   1     19  2013
6   2     18  2014
"
10475,58147,Extract items delimited with square brackets using python regular expressions,">>> re.split(""(\[.+?\])"", t)
['word1 word2 3456 ', '[abc def]', ' ', '[ghi jkl]', ' ', '[1234]', ' ', '[-abcd]', ' word 2345']
"
22976,84905,Get row numbers of rows matching a condition in numpy,"In [79]:

np.where(a[:,1]==2)
Out[79]:
(array([0, 3], dtype=int64),)
"
18115,13039,SQLite python how to add multiple filters in SELECT,"filter = """"
parameters = []
if ...:
    filter += "" AND xxx = ?""
    parameters += [x]
if ...:
    filter += "" AND yyy = ?""
    parameters += [y]
"
38531,63922,Is there a way to pass entire object as POST parameter in Django?,"$('#div').load('myurl.html?parent=XYZ'); 
"
2524,1226,"Result of ""b (None,)"" on the Fibonacci sequence of Informal Introduction to Python","a,b = 0, 1  
while b < 1000: 
    print(b)
    a, b = b, a+b
"
30889,67076,Parsing through the HTML and scripts on a webpage using python?,"import requests

r = requests.get(""http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"")
"
17133,68110,Re.match does not restrict urls,"  for link in soup.find_all('a'):
    title = link.get('title')
    if title:
      if not 'page does not exist' in title: 
        all_urls.append(link.get('href'))
"
6079,27936,How to delete all instance names in a list?,"mylist = [item for item in mylist if item != 'cats']
"
15664,39788,How to automatically add a field directly in a .vrt?,"def Modify( filename , Color , Category ):
        dataset = osgeo.gdal.Open( filename , GA_Update )
        if dataset is None:
            print 'ERROR: gdal.Open( %(filename)s )' % var
            sys.exit( 1 )
        band = dataset.GetRasterBand( 1 )
        band.SetRasterColorInterpretation( GCI_PaletteIndex )
        band.SetRasterColorTable( Color )
        band.SetRasterCategoryNames( Category )
"
22701,7577,PySide QTextEdit or QPlainTextEdit update faster?,"QApplication.processEvents()
"
27769,7179,Python subprocess hangs with named pipes,"# -*- coding: utf-8 -*-

import os
import sys
import shlex
import pprint
import subprocess

def main():

    fifo = '/tmp/fifo.tub'
    filedat = '/tmp/filedat.dat.gz '
    os.mkfifo(fifo,0777)
    cat  = ""cat %s"" % fifo
    args_cat = shlex.split(cat)
    pprint.pprint(args_cat)

    cat = subprocess.Popen( args_cat,
                            close_fds=True,
                            preexec_fn=os.setsid)

    print ""PID cat: %s"" % cat.pid

    f = os.open(fifo ,os.O_WRONLY)

    gunzip = 'gunzip -c  %s' %  (filedat)
    args_gunzip = shlex.split(gunzip)
    pprint.pprint(args_gunzip)

    gunzip = subprocess.Popen( args_gunzip,
                               stdout = f,
                               close_fds=True,
                               preexec_fn=os.setsid)

    print ""PID gunzip: %s"" % gunzip.pid

    gunzip.wait()
    print ""gunzip finished""
    os.close(f)
    cat.wait()
    print ""cat finished""

    return True

if __name__==""__main__"":
    main()
"
13141,80026,Python string -- swap positions in and out of parentheses,">>> s = 'Person One (Something inside here) Second Thing (another thing) OK (something else)'
>>> import re
>>> re.sub('(.*?) \((.*?)\)( ?)', r'\2 (\1)\3', s)
'Something inside here (Person One) another thing (Second Thing) something else (OK)'
"
22771,72646,Python boto upload with prefix,"#Connect to aws
conn = S3Connection(aws_access_key_id=key, aws_secret_access_key=secret)
bucket = conn.get_bucket('mybucket')

#Build path
path = 'prefix'
key_name = 'this_is_any.file'
full_key_name = os.path.join(path, key_name)

#Set and save in S3
k = bucket.new_key(full_key_name)
k.set_contents_from_filename(...)
"
24646,47163,dictsort template filter and filtering with two columns,"{% for item in mydict|dictsortreversed:""column1""|dictsortreversed:""column2"" %}
"
8500,19681,Discovery of web services using Python,"wsd = WSDiscovery()
wsd.start()

ttype = QName(""abc"", ""def"")

ttype1 = QName(""namespace"", ""myTestService"")
scope1 = Scope(""http://myscope"")
ttype2 = QName(""namespace"", ""myOtherTestService_type1"")
scope2 = Scope(""http://other_scope"")

xAddr = ""localhost:8080/abc""
wsd.publishService(types=[ttype], scopes=[scope2], xAddrs=[xAddr])

ret = wsd.searchServices()

for service in ret:
    print service.getEPR() + "":"" + service.getXAddrs()[0]

wsd.stop()
"
16489,10707,retrieve all the smallest strings from a set in python,">>> a_set = set(['A', 'BF', 'B', 'BA', 'ABF', 'AF', 'F', 'BFA', 'AFB', 'BAF', 'FA', 'FB', 'AB', 'FAB', 'FBA'])
>>> min_len = min( len(x) for x in a_set  )
>>> [ x for x in a_set if len(x) == min_len ]
['A', 'B', 'F']
"
14828,55125,Where does Whoosh (Python) physically store the indexed content?,"import os.path
from whoosh.index import create_in

if not os.path.exists(""index""):
    os.mkdir(""index"")
ix = create_in(""index"", schema)
"
5873,47964,Trying to write to a CSV but some fields get excluded in scrapy for python,">>> zip('abc', '12345')
[('a', '1'), ('b', '2'), ('c', '3')]
>>> list(itertools.izip_longest('abc', '12345', fillvalue=0))
[('a', '1'), ('b', '2'), ('c', '3'), (0, '4'), (0, '5')]
"
32321,44548,"Eliminating coupling and global state in the ""Game"" singleton","class Entity(object):

   def __init__(self, game_state_provider):
      self.provider = game_state_provider

   @property
   def position(self):
      # lazily evaluate position as a function of the current time
      if self._last_valid_time == self.provider.current_time:
         return self._position
      self._last_valid_time = self.provider.current_time
      self._position = // insert physics here
      return self._position
"
1966,26911,"How to limit calls for a function, but to surely process it afterwards","class Dict:

  def __init__(self):
    ...
    self.isSaveRequested = False
    self.timedSaveToIni()

  def timedSaveToIni(self):
    threading.Timer(5.0, self.timedSaveToIni).start()
    if self.isSaveRequested:
      self.saveToIni()
      self.isSaveRequested = False


  def __setattr__(self, key, value):
    self.__dict__['d'][key] = value
    ...
    self.isSaveRequested = True

  def saveToInit()
    ...
"
38100,37631,"Duck typing and class methods (or, how to use a method from both a class and an instance?)","class classinstancemethod(object):
    """"""
    Acts like a class method when called from a class, like an
    instance method when called by an instance.  The method should
    take two arguments, 'self' and 'cls'; one of these will be None
    depending on how the method was called.
    """"""

    def __init__(self, func):
        self.func = func

    def __get__(self, obj, type=None):
        return _methodwrapper(self.func, obj=obj, type=type)


class _methodwrapper(object):

    def __init__(self, func, obj, type):
        self.func = func
        self.obj = obj
        self.type = type

    def __call__(self, *args, **kw):
        assert 'self' not in kw and 'cls' not in kw, (
            ""You cannot use 'self' or 'cls' arguments to a ""
            ""classinstancemethod"")
        return self.func(*((self.obj, self.type) + args), **kw)

    def __repr__(self):
        if self.obj is None:
            return ('<bound class method %s.%s>'
                    % (self.type.__name__, self.func.func_name))
        else:
            return ('<bound method %s.%s of %r>'
                    % (self.type.__name__, self.func.func_name, self.obj))
"
24648,43809,How to mock _auto_now?,"@freezegun.freeze_time('2015-9-21')
def test():
    assert ModelClass.create(...) == ModelClass(...)
"
31398,17722,subtree with networkX,"from networkx.algorithms.traversal.depth_first_search import dfs_tree

subtree_at_2 = dfs_tree(t, 2)
"
3673,56565,Stopping a Timer in python,"def message():
    num = str(random.randint(137849013724,934234850490))
    print(num)
    if num[3] == ""5"" and num[6] == ""7"":
        print(""access granted"")
    else:
        threading.Timer(0.125, message).start()  # <== moved
"
7009,77311,order of select_related in chain,"q = SomeModel.objects.select_related().all()
print q.query

q = SomeModel.objects.all().select_related()
print q.query
"
24645,38482,efficient comparison of values in a python list,"for lift in net.lifts:
    for other_lift in net.lifts:
        if (lift[1]['id'] == other_lift[1]['id'] and
            abs(lift[1]['level'] - other_lift[1]['level']) <= 1):
            # got one
"
23972,14296,Python import as tuple,"from Tkinter import (Tk, Frame, Button, Entry, Canvas, Text,
    LEFT, DISABLED, NORMAL, RIDGE, END)
"
29824,72047,How to set hash of a column in another column in flask-admin?,"class UserView(sqla.ModelView):
    # Hide `hash_name` in list and form views
    column_exclude_list = ('hash_name',)
    form_excluded_columns = ('hash_name',)

    # Generate new hash on `name` change
    def on_model_change(self, form, model, is_created):
        if len(model.name):
            model.hash_name = generate_hash_name(model.name)
"
11395,34887,Python: Extract time from a file path,"import re

reg = r'\d+\-\d+\-\d+'
data='C:/Users/pivo/work/Data/Black_try\\2015-12-03_14-41-00_TrData.txt'
a=re.findall(reg, data)
print(a[1])
"
31353,16862,Competition practise task (Python),"N, K, M = map(int, input().split())
niz = list(map(int, input().split()))
nizk = list(range(1, K+1))
izlazi = []

def GetMinLengthStartingFromFirstElement(seq):
    nizkk = []
    for z in range(0, len(seq)):
        if seq[z] in nizk:
            continue
        else:
            return -1

    for p in range(0, len(seq)):
        if seq[p] not in nizkk:
            nizkk.append(seq[p])
            nizkk.sort()

        if nizkk == nizk:
            index = p
            return index+1
        else:
            continue
    return -1

def GetMinLength(seq):
    if len(seq) == 0: 
        return -1
    else:
        curMinLength = GetMinLengthStartingFromFirstElement(seq)
        if curMinLength == -1:
            return -1
        minLengthFromRest = GetMinLength(seq[1:])
        if minLengthFromRest > -1:
            return min(curMinLength,minLengthFromRest)
        else:
            return curMinLength;


for r in range(0, M):
    operacija = list(map(int, input().split()))
    index = 0

    if operacija[0] == 2:
        minLength = GetMinLength(niz)
        izlazi.append(minLength)
    else:
        index, repl = map(int, operacija[1:])
        niz[index - 1] = repl

print(izlazi)
"
16358,20427,How to check for NaN in python?,"
>>> import math
>>> x=float('nan')
>>> math.isnan(x)
True
>>>
"
22259,3083,Combining two record arrays,">>> import numpy
>>> desc = {'names': ('gender','age','weight'), 'formats': ('S1', 'f4', 'f4')} 
>>> a = numpy.array([('M',64.0,75.0),('F',25.0,60.0)], dtype=desc)
>>> numpy.hstack((a,a))
array([('M', 64.0, 75.0), ('F', 25.0, 60.0), ('M', 64.0, 75.0),
       ('F', 25.0, 60.0)], 
      dtype=[('gender', '|S1'), ('age', '<f4'), ('weight', '<f4')])
"
8815,30802,Cassandra python driver execute_async with callback not working as expected,"block_future_res = future_res.result()
"
34413,62730,"loop over 2 lists, repeating the shortest until end of longest","result = [""_"".join((i, j)) for i, j in itertools.izip(la, itertools.cycle(lb))]
"
30103,78096,String formatting in Python: Showing a price without decimal points,"import decimal

a = decimal.Decimal('54.12')
b = decimal.Decimal('54.00')

for n in (a, b):
    print(""You have just bought an item that cost ${0:.{1}f}.""
          .format(n, 0 if n == n.to_integral() else 2))
"
2486,26276,Python: showing attributes assigned to a class object in the class code,"#! /usr/bin/python3.2

def trackable (cls):
    cls._tracked = {}

    oSetter = cls.__setattr__
    def setter (self, k, v):
        try: self.initialized
        except: return oSetter (self, k, v)
        try: self.k
        except:
            if not self in self.__class__._tracked:
                self.__class__._tracked [self] = []
            self.__class__._tracked [self].append (k)
        return oSetter (self, k, v)
    cls.__setattr__ = setter

    oInit = cls.__init__
    def init (self, *args, **kwargs):
        o = oInit (self, *args, **kwargs)
        self.initialized = 42
        return o
    cls.__init__ = init

    oGetter = cls.__getattribute__
    def getter (self, k):
        if k == 'tracked': return self.__class__._tracked [self]
        return oGetter (self, k)
    cls.__getattribute__ = getter

    return cls

@trackable
class Team:
    def __init__ (self, name, region):
        self.name = name
        self.region = region

#set name and region during initialization
t = Team ('A', 'EU')

#set rank and ELO outside (hence trackable)
#in your ""aggregate"" functions
t.rank = 4 # a new team attribute
t.ELO = 14 # a new team attribute

#see witch attributes have been created after initialization
print (t.tracked)
"
16953,15346,What would be the best way to pass a list from python to js using bottle?,"var myNewList = {{!myList}};
"
14465,46819,One Function in Python to Iterate Over Concurrent Lists to be Used in Equation,">>> map(lambda x: x[0] - (x[1] + x[2] + x[3]),zip(h,d,t,r))
[125, 185, 124, -25, -13]
"
23397,79408,Mapping two list without looping,">>> l1 = [2, 3, 5, 7, 8, 10, 23] 
>>> l2 = [1, 1, 2, 1, 3, 4, 3]

>>> d = {}
>>> for i, j in zip(l1, l2):
...     d.setdefault(j, []).append(i)
... 
>>> 
>>> d
{1: [2, 3, 7], 2: [5], 3: [8, 23], 4: [10]}
"
37679,66146,Using group filter in template from view results,"def index(request):
    template_name = ""index/index.html""
    is_teamleader = request.user.groups.filter(name='TL').exists()
    is_employee = request.user.groups.filter(name='Employee').exists()
    context = {
       'is_teamleader': is_teamleader,
       'is_employee': is_employee
    }
    return render(request, template_name, context)
"
32448,9930,'Concatenating' rows of a numpy matrix,"In [25]: import numpy as np

In [26]: a = np.array([[1,2],[3,45]])

In [27]: a
Out[27]: 
array([[ 1,  2],
       [ 3, 45]])

In [28]: [''.join(str(x) for x in row) for row in a.T]
Out[28]: ['13', '245']

In [29]: np.array([''.join(str(x) for x in row) for row in a.T], int)
Out[29]: array([ 13, 245])
"
38297,53054,How should i go about making rows in a list?,"get the user input number

start i at 1, increment i up to 23
    print a random number
    if i % 6 == 0 print a newline

print the user input number
"
9776,10294,Selecting from multi-level groupby in pandas,"In [11]: tf = pd.DataFrame([[1, 2], [3, 4]], columns=list('ab'))

In [12]: df = pd.DataFrame([[1, 2, 3], [1, 2, 4], [3, 4, 5]], columns=list('abc'))

In [13]: grouped_sum = df.groupby(['a', 'b'], as_index=False).sum()

In [14]: grouped_sum
Out[14]:
   a  b  c
0  1  2  7
1  3  4  5

In [15]: tf.merge(grouped_sum)  # this won't always be the same as grouped_sum!
Out[15]:
   a  b  c
0  1  2  7
1  3  4  5
"
3878,17420,asynchronous subprocess with timeout,"class Command(object):
  def __init__(self, cmd):
    self.cmd = cmd
    self.process = None

  def run(self, timeout):
    def target():
      print('Thread started')
      # May want/need to skip the shlex.split() when using shell=True
      # See Popen() constructor docs on 'shell' argument for more detail.
      args = shlex.split(self.cmd)
      self.process = subprocess.Popen(args, shell=True)
      self.timer.start()
      self.process.wait()
      self.timer.cancel()

    def timer_callback():
        print('Terminating process (timed out)')
        self.process.terminate()

    thread = threading.Thread(target=target)
    self.timer = threading.Timer(timeout, timer_callback)
    thread.start()
"
20662,65654,GObject.add_emission_hook only works once,"from gi.repository import Gtk
from gi.repository import GObject

class MyWindow(Gtk.Window):

    def __init__(self):
        Gtk.Window.__init__(self, title=""Hello World"")
        vbox = Gtk.VBox()
        self.add(vbox)
        self.connect(""destroy"", lambda x: Gtk.main_quit())
        button = Gtk.Button(label=""Click Here"")
        vbox.pack_start(button, True, True, 0)
        button = Gtk.Button(label=""Or There"")
        vbox.pack_start(button, True, True, 0)
        self.show_all()

class Foo:
    def __init__(self):
        self.hook_id = GObject.add_emission_hook(Gtk.Button, ""button-press-event"", self.on_button_press)
        GObject.add_emission_hook(Gtk.Button, ""button-release-event"", self.on_button_rel)

    def on_button_press(self, *args):
        print ""Press signal received""
        return False # Hook is removed

    def on_button_rel(self, *args):
        print ""Release signal received""
        # This will result in a warning
        GObject.remove_emission_hook(Gtk.Button, ""button-press-event"",self.hook_id)
        return True


win = MyWindow()
foo = Foo()
Gtk.main()
"
22202,76587,pygame.Rect around circle,"circleRect = pygame.draw.circle(windowSurface, (0,0,0), (10, 10), 5)
"
19191,15400,Django: Tweaking @login_required decorator,"def my_login_required(function):
    def wrapper(request, *args, **kw):
        user=request.user  
        if not (user.id and request.session.get('code_success')):
            return HttpResponseRedirect('/splash/')
        else:
            return function(request, *args, **kw)
    return wrapper
"
11809,42533,Using BindConstraint in Clutter to constrain the size of an actor,"class MyConstraint (Clutter.Constraint):
    def __init__(self, source, width_fraction=1.0, height_fraction=1.0):
        Clutter.Constraint.__init__(self)
        self._source = source
        self._widthf = width_fraction
        self._heightf = height_fraction
    def do_update_allocation(self, actor, allocation):
        source_alloc = self._source.get_allocation()
        width = source_alloc.get_width() * self._widthf
        height = source_alloc.get_height() * self._heightf
        allocation.x2 = allocation.x1 + width
        allocation.y2 = allocation.y1 + height
"
39546,21993,Setting up virtualenvwrapper to work with Python 2.7.9,"$ virtualenv --help
Usage: virtualenv [OPTIONS] DEST_DIR

Options:
  --version             show program's version number and exit
  -h, --help            show this help message and exit
  -v, --verbose         Increase verbosity.
  -q, --quiet           Decrease verbosity.
  -p PYTHON_EXE, --python=PYTHON_EXE
                        The Python interpreter to use, e.g.,
                        --python=python2.5 will use the python2.5 interpreter
                        to create the new environment.  The default is the
                        interpreter that virtualenv was installed with
                        (/usr/bin/python3.5)
"
272,75946,Directory raw_input for variable,"import os
root = raw_input(""Where is the web root? ""
while not os.path.isdir(root):
    print ""Directory not found, try again""
    root = raw_input(""Where is the web root? "")

print ""Using %r"" % (root)
#or do something else with root here
"
12845,24835,Python: Import And Initalize Argparse After if __name__ == '__main__'?,"import argparse

# other code. . .

def main(name):
    print('Hello, %s!' % name)

if __name__ == '__main__':
    parser = argparse.ArgumentParser(description = 'Say hello')
    parser.add_argument('name', help='your name, enter it')
    args = parser.parse_args()

    main(args.name)
"
39574,59688,Python morse code pausing,"def encodeMessage(m):
    message = m.upper().strip()
    encodedMessage =''
    isInWord = False

    for ch in message:
        if isInWord:
            if ch in morseCode:
                encodedMessage += 'l'+ morseCode[ch]
            else:
                encodedMessage += 'w'
                isInWord = False
       else: # not in word
            if ch in morseCode:
                encodedMessage +=  morseCode[ch]
                isInWord = True
            else:
                pass    # nothing to do
    return encodedMessage

def sendMoreCodedMessage(message):
    for ch in message:
        if ch == '.':
            winsound.Beep(200, 100)
        elif ch == '-':
            winsound.Beep(370, 100)
        elif ch == 'w':
            time.sleep(3)
        elif ch == 'l':
            time.sleep(1)

    return None
"
34354,48674,Performance: Comparing two lists in python for string matches,">>> words = ['shoe brand', 'car brand', 'smoothies for everyone']
>>> filters = {'brand'}
>>> [w for w in words if not set(w.split()).intersection(filters)]
['smoothies for everyone']
"
9363,73264,How can I compare two ordered lists in python?,">>> [0,1,2] == [0,1,2]
True
>>> [0,1,2] == [0,2,1]
False
>>> [0,1] == [0,1,2]
False
"
13220,38938,How do I add this variable onto the same line as a specific variable in a .txt file?,"crop = input(""Which crop? "")
quantity = input(""How many? "")
def crop(crop, quantity):
        file =  open('cropdatabase.txt',""r+"")
        lines = file.readlines()       
        linenumber = 0
        for i in range(len(lines)):
            if crop == lines[i].split()[0]:
                linenumber = i
                break
        lines[linenumber] = lines[linenumber][:-1]
        lines[linenumber]+= "" "" + str(quantity)+'\n'
        text = """".join(lines)
        file.close()
        file2  = open('cropdatabase.txt',""w"")
        file2.write(text)
        file2.close()

crop(crop, quantity)
"
16926,62484,When and how is a many-to-many relationship created when saving a model?,"def upload_document(request):
    if request.method == 'POST':
        form = DocumentForm(request.POST, request.FILES)
        if form.is_valid():
            new_document = form.save()
            form.save_m2m()
            return HttpResponseRedirect(""/thanks/"")

    else:
        form = DocumentForm()

    return render_to_response('upload_page.html', {'form':form}, context_instance=RequestContext(request))
"
18598,17254,Scrapy CrawlSpider retry scrape,"import logging

logger = logging.getLogger(__name__)


class RetryMiddleware(object):
    def process_response(self, request, response, spider):
        if 'var PageIsLoaded = false;' in response.body:
            logger.warning('parse_page encountered an incomplete rendering of {}'.format(response.url))
            return self._retry(request) or response

        return response

    def _retry(self, request):
        logger.debug(""Retrying %(request)s"", {'request': request})

        retryreq = request.copy()
        retryreq.dont_filter = True
        return retryreq
"
14021,27226,Python: Rewrite a Text File that has a Tuple,"with open(""abc.txt"") as f:
    for line in f :
        line=line.split(None,2)  #returns ['2306', '3481', '[2, -3, 82.6, 0.2]'] 
        a,b=line[:2]   
        lis=literal_eval(line[-1])
        for x in lis:
            print a,b,x    #or write to a new file
   ....:             
2306 3481 2
2306 3481 -3
2306 3481 82.6
2306 3481 0.2
2336 3408 9
2336 3408 0
"
15883,73812,Pandas - Reading HTML,"import pandas as pd
import matplotlib.pyplot as plt
import matplotlib
matplotlib.style.use('ggplot')

url = 'http://www.scb.se/sv_/Hitta-statistik/Statistik-efter-amne/Befolkning/Befolkningens-sammansattning/Befolkningsstatistik/25788/25795/Helarsstatistik---Riket/26046/'

table = pd.read_html(url,thousands=' ', header=0, index_col=0)[0]
table[""Folkmängd""].plot(color='k')
plt.show()
"
28371,36310,Logout or switch user in Windows using Python,"import ctypes
ctypes.windll.user32.LockWorkStation ()
"
31442,84908,Python check input from console and serial at the same time?,"import sys
import select
import time

# files monitored for input
read_list = [sys.stdin]
# select() should wait for this many seconds for input.
# A smaller number means more cpu usage, but a greater one
# means a more noticeable delay between input becoming
# available and the program starting to work on it.
timeout = 0.1 # seconds
last_work_time = time.time()

def treat_input(linein):
  global last_work_time
  print(""Workin' it!"", linein, end="""")
  time.sleep(1) # working takes time
  print('Done')
  last_work_time = time.time()

def idle_work():
  global last_work_time
  now = time.time()
  # do some other stuff every 2 seconds of idleness
  if now - last_work_time > 2:
    print('Idle for too long; doing some other stuff.')
    last_work_time = now

def main_loop():
  global read_list
  # while still waiting for input on at least one file
  while read_list:
    ready = select.select(read_list, [], [], timeout)[0]
    if not ready:
      idle_work()
    else:
      for file in ready:
        line = file.readline()
        if not line: # EOF, remove file from input list
          read_list.remove(file)
        elif line.rstrip(): # optional: skipping empty lines
          treat_input(line)

try:
    main_loop()
except KeyboardInterrupt:
  pass
"
29446,65034,How to save multiple seaborn plots to the same pdf/png file?,"with PdfPages('kde.pdf') as pdf_pages:
    for i in range(1, 114):
        for j in range(0, 113):
            x=t1.iloc[:, i]
            y=t1.iloc[:, j]
            joint_grid = sns.jointplot(x=x, y=y, kind=""kde"", dropna=True)
            pdf_pages.savefig(joint_grid.fig)
"
33678,19904,optimize multiple sed statements,"awk 'BEGIN{FS=OFS="",""} {t=$2=$1; sub(/.*\./,"""",$2); gsub(/ /,""""); $1=t} 1' file      
2014-01-21 14:26:05.900,900,0.000,192.168.40.2,192.168.40.26,6,8000,33311,172000,2000,.A..S.,0
2014-01-21 14:29:23.900,900,0.000,192.168.40.26,192.168.40.2,6,33317,8000,3052000,2000,.A....,0
2014-01-21 14:30:25.900,900,0.000,192.168.40.26,192.168.40.2,17,36193,514,558000,2000,......,0
2014-01-21 14:31:04.901,901,0.000,192.168.40.242,192.168.40.2,17,57516,514,422000,2000,......,0
2014-01-21 14:31:13.900,900,0.000,192.168.40.16,192.168.40.2,17,53313,514,540000,2000,......,0
"
36529,66408,Python plot label,"indexVal = 0
for massVal in mass: 
    indexVal += 1

    ...code for getting dist_2, var2, sigma_num_2 variables...

    plt.plot(np.log(dist_2[1:]/var2['r200'][:20]), np.log(sigma_num_2),'b-o', color = 'b', label = ""MASS%s = %.1E"" % (indexVal, massVal))
"
718,20513,Mozenda Bulk Insertion with Python Script,"from urllib2 import urlopen, Request
from string import ascii_uppercase, digits
from random import choice

# Open your data file
with open(""C:\datafile.xml"", ""r"") as data_file:
    data_file_string = data_file.read()

# The URL
url = 'https://api.mozenda.com/rest?WebServiceKey=[CANNOT-PROVIDE]&Service=Mozenda10&Operation=Collection.AddItem&CollectionID=1037'

# The boundary delimits where the file to be uploaded starts and where it ends.
boundary = """".join(choice(ascii_uppercase + digits) 
                   for x in range(20))
body_list = []
body_list.append(""--"" + boundary)
body_list.append(""Content-Disposition: form-data;""
                 "" name='file'; filename=''"")
body_list.append(""Content-Type: application/octet-stream"")
body_list.append("""")
body_list.append(data_file_string)
body_list.append(""--{0}--"".format(boundary))
body_list.append("""")
body=""\r\n"".join(body_list).encode(""utf8"")

content_type = (""multipart/form-data; boundary=""
                ""{0}"").format(boundary)
headers = {""Content-Type"": content_type,
           ""Content-Length"": str(len(body))} # Tells how big the content is

request = Request(url, body, headers)

result = urlopen(url=request).read()
"
1975,36002,Pandas - converting datetime64 to Period,"In [57]: data
Out[57]: 
0   2014-10-01
1   2014-10-01
2   2014-10-31
3   2014-11-15
4   2014-11-30
5          NaT
6   2014-12-01
dtype: datetime64[ns]

In [58]: df = DataFrame(dict(A = data, B = np.arange(len(data))))

In [59]: df.dropna(how='any',subset=['A']).set_index('A').resample('M',how='count')
Out[59]: 
            B
A            
2014-10-31  3
2014-11-30  2
2014-12-31  1
"
39038,12941,Operating on Pandas groups,"def foo(df_of_grouped_data):
    group_length = len(df_of_grouped_data)

    if group_length == 1:
        return df_of_grouped_data
    else:
        dates = df_of_grouped_data['MODIFIED_DATE'].values
        if all_same(dates):
            return df_of_grouped_data[df_of_grouped_data.STATUS == '1']
        else:
            return df_of_grouped_data[df_of_grouped_data.MODIFIED_DATE == most_recent(dates)]

result = card_groups.apply(foo)
"
33375,76426,What is the difference between self and object parameters in __repr__ method?,">>> class Foo(object):
...   def __init__(bippity, colour):
...     bippity.colour = colour
...   def get_colour(_):
...     return _.colour
... 
>>> f = Foo('Blue')
>>> f.get_colour()
'Blue'
"
23430,59348,spynner how i can click login button?,"import spynner
b = spynner.Browser()
b.show()
b.load('http://vk.com')
b.wk_fill('input[name=email]', 'my@mail.ru')
b.wk_fill('input[name=pass]', 'my_secret_password')
b.click(""#quick_login_button"")
b.browse() # this way we see wha's going on
"
36075,63007,Python indexing a list,"  mylist = [{'UserName': 'd699a1f25d9a3', 'BrowserVersion': None, 'PasswordMinLength': 0, 'SystemAutoLock': 0, 'OS': 'Windows 7 6.1 Build 7601 : Service Pack 1 64bit'}]

  OS = mylist[0]['OS']
  print OS
"
16682,10277,Convert Bit-field to list in python,">>> bin(7)
'0b111'
>>> bin(9)
'0b1001'
"
19820,46880,Multidimensional Matrix in Numpy,">>> input = numpy.matrix((((2, 3), (4, 5)), ((6, 7), (8, 9))))
ValueError: matrix must be 2-dimensional
"
34462,70253,Python 3 and http.server usage,"httpd = ServerClass((""127.0.0.1"", 80), HandlerClass)
"
17936,70740,Python: Combine then sort list,"sortedlist = [x[1] for x in sorted(zip(Numbers, Fruits))]
"
28820,79883,How to rename images downloaded by scrapy,"counter = 1
img_sources = sel.xpath(""//img/@src"").extract()
for img_source in img_sources:
    download_image(img_source, os.path.join(url, ""%d.jpg"" % (counter)))
    counter += 1
"
13708,1957,Python: skip comment lines marked with # in csv.DictReader,"import csv
fp = open('samples.csv')
rdr = csv.DictReader(filter(lambda row: row[0]!='#', fp))
for row in rdr:
    print(row)
fp.close()
"
33808,22639,Finding the indices of the values of one list in another list,"z = [y.index(i) for i in x]
"
30552,78261,Word boundary within negative lookahead?,">>> print(re.match(r'(?!455\b)455', '455'))
None
"
21844,26171,accesing data in a dictionary python,"for dictionary in data:
    for key in dictionary:
        print dictionary[key]
"
24116,85156,Python POST encoding and formatting,"data = str(values)
"
2280,74039,How do I write/create a GeoTIFF RGB image file in python?,"#!/usr/bin/env python
from osgeo import gdal
from osgeo import osr
import numpy as np
import os, sys

#  Initialize the Image Size
image_size = (400,400)

#  Choose some Geographic Transform (Around Lake Tahoe)
lat = [39,38.5]
lon = [-120,-119.5]

#  Create Each Channel
r_pixels = np.zeros((image_size), dtype=np.uint8)
g_pixels = np.zeros((image_size), dtype=np.uint8)
b_pixels = np.zeros((image_size), dtype=np.uint8)

#  Set the Pixel Data (Create some boxes)
for x in range(0,image_size[0]):
    for y in range(0,image_size[1]):
        if x < image_size[0]/2 and y < image_size[1]/2:
            r_pixels[y,x] = 255
        elif x >= image_size[0]/2 and y < image_size[1]/2:
            g_pixels[y,x] = 255
        elif x < image_size[0]/2 and y >= image_size[1]/2:
            b_pixels[y,x] = 255
        else:
            r_pixels[y,x] = 255
            g_pixels[y,x] = 255
            b_pixels[y,x] = 255

# set geotransform
nx = image_size[0]
ny = image_size[1]
xmin, ymin, xmax, ymax = [min(lon), min(lat), max(lon), max(lat)]
xres = (xmax - xmin) / float(nx)
yres = (ymax - ymin) / float(ny)
geotransform = (xmin, xres, 0, ymax, 0, -yres)

# create the 3-band raster file
dst_ds = gdal.GetDriverByName('GTiff').Create('myGeoTIFF.tif', ny, nx, 3, gdal.GDT_Byte)

dst_ds.SetGeoTransform(geotransform)    # specify coords
srs = osr.SpatialReference()            # establish encoding
srs.ImportFromEPSG(3857)                # WGS84 lat/long
dst_ds.SetProjection(srs.ExportToWkt()) # export coords to file
dst_ds.GetRasterBand(1).WriteArray(r_pixels)   # write r-band to the raster
dst_ds.GetRasterBand(2).WriteArray(g_pixels)   # write g-band to the raster
dst_ds.GetRasterBand(3).WriteArray(b_pixels)   # write b-band to the raster
dst_ds.FlushCache()                     # write to disk
dst_ds = None
"
7908,48149,Does Celery Automatically Monkey Patch when running eventlet pool?,"def _patch_eventlet():
    import eventlet
    import eventlet.debug

    eventlet.monkey_patch()
    blockdetect = float(os.environ.get('EVENTLET_NOBLOCK', 0))
    if blockdetect:
        eventlet.debug.hub_blocking_detection(blockdetect, blockdetect)
"
9827,58392,Bulk Search/replacing of filenames using python,"import os, xlrd

path = 'c:/users/c_thv/desktop' #path to jpg files
path1 = 'c:/users/c_thv/desktop/x.xls'

data =[] #list of jpg filenames in folder

#lets create a filenames list without the jpg extension
for name in os.listdir(path):
    fileName, fileExtension = os.path.splitext(name)
    if fileExtension =='.jpg':
        data.append(fileName)


#lets create a list of old filenames in the excel column a

book = xlrd.open_workbook(path1)
sheet = book.sheet_by_index(0)
oldNames =[]
for row in range(sheet.nrows):
    oldNames.append(sheet.cell_value(row,0))


#lets create a list with the new names in column b
newNames =[]
for row in range(sheet.nrows):
    newNames.append(sheet.cell_value(row,1))


#now create a dictionary with the old name in a and the corresponding new name in b

fileNames = dict(zip(oldNames,newNames))

print fileNames

#lastly rename your jpg files

for f in data:
    if f in fileNames.keys():
        os.rename(path+'/'+f+'.jpg', path+'/'+fileNames[f]+'.jpg')
"
15717,54314,"How to simply have python print ""\xaa\xbb\xcc\xdd"" as 0xddccbbaa?","x = b""\xaa\xbb\xcc\xdd""

import struct

struct.unpack('I',x)
Out[3]: (3721182122,)

y = struct.unpack('I',x)

y[0]
Out[5]: 3721182122

hex(y[0])
Out[6]: '0xddccbbaa'
"
9486,51480,Calculate how many Monday the 1st between two dates,"import datetime

def num_monday_the_first_between(start, end):
    y, m, d = start.year, start.month, 1
    count = 0
    while (y, m, d) <= (end.year, end.month, end.day):
        if datetime.date(y, m, d).isoweekday() == 1:
            count += 1
        m += 1
        if m == 13:
            m = 1
            y += 1
    return count


print(num_monday_the_first_between(datetime.date(2015,1,1), datetime.date(2015,12,31)))
# Result: 1 (June)
"
27938,50081,Print special characters,"print ""The result is %s out of %s i.e. %d %%"" % (nominator, denominator, percentage)
#                                         ^ extra % to escape the one after
"
1118,83832,Return output of function that takes pandas dataframe as a parameter,"def alert_read_text(df, alert_status=None):
    if (alert_status is None):
        print 'Warning: A column name with the alerts must be specified'
    copy = df.copy()
    alert_read_criteria = copy[alert_status] >= 1
    copy[alert_status].loc[alert_read_criteria] = 1
    alert_status_dict = {0 : 'Not Read',
                         1 : 'Read'}
    copy[alert_status] = copy[alert_status].map(alert_status_dict)
    return copy[alert_status]
"
7372,74206,Python 2.7 - Sum value on duplicates in dictionary,"list1=[{'a':'apples', 'b':'snack','count':2},{'a':'apples','b':'lunch','count':3},{'a':'apples','b':'snack','count':3}]

from collections import defaultdict
dd = defaultdict(int)
for d in list1:
    dd[d['a'], d['b']] += d['count']

list2 = [{'a': k[0], 'b': k[1], 'count': v} for k, v in dd.iteritems()]

[{'a': 'apples', 'count': 3, 'b': 'lunch'}, {'a': 'apples', 'count': 5, 'b': 'snack'}]
"
38994,44684,Constrain Mayavi mouse drag to rotating Earth around its axis,"from tvtk.api import tvtk
fig = mlab.gcf()
fig.scene.interactor.interactor_style = tvtk.InteractorStyleTerrain()
"
39982,22509,How to mock pysvn,"from minimock import TraceTracker, Mock, mock
import unittest

import pysvn

from code_under_test import VersionControl


class TestVersionControl(unittest.TestCase):


    def test_init(self):

        mock_svn = Mock(name='svn_client')
        mock('pysvn.Client', returns=mock_svn)

        vc = VersionControl()

        self.assertEqual(vc.svn, mock_svn)


    def test_list_calls_svn_list_and_returns_urls(self):

        tracker = TraceTracker()
        test_url = 'a test_url'
        mock_data = [
            ({'path': 'first result excluded'}, None),
            ({'path': 'url2'}, None),
            ({'path': 'url3', 'info': 'not in result'}, None),
            ({'path': 'url4'}, None),
        ]

        vc = VersionControl()
        mock('vc.svn.list', returns=mock_data, tracker=tracker)

        response = vc.list(test_url)
        self.assertEqual(['url2', 'url3', 'url4'], response)
        self.assertTrue(""Called vc.svn.list('a test_url')"" in tracker.dump())


if __name__ == '__main__':
    unittest.main()
"
28989,80312,Google app engine after refresh from datastore,"class EstDateTimeProperty(db.DateTimeProperty):
  def make_value_from_datastore(self, value):
    naive_utc = db.DateTimeProperty(self, value)
    aware_utc = naive_utc.replace(tzinfo=UTC)
    return aware_utc.astimezone(EST)
"
16384,78309,Making HTTP POST request,"import urllib, urllib2, cookielib

cookie_jar = cookielib.CookieJar()
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookie_jar))
urllib2.install_opener(opener)

# acquire cookie
url_1 = 'http://www.bkstr.com/webapp/wcs/stores/servlet/BuybackMaterialsView?langId=-1&catalogId=10001&storeId=10051&schoolStoreId=15828'
req = urllib2.Request(url_1)
rsp = urllib2.urlopen(req)

# do POST
url_2 = 'http://www.bkstr.com/webapp/wcs/stores/servlet/BuybackSearch'
values = dict(isbn='9780131185838', schoolStoreId='15828', catalogId='10001')
data = urllib.urlencode(values)
req = urllib2.Request(url_2, data)
rsp = urllib2.urlopen(req)
content = rsp.read()

# print result
import re
pat = re.compile('Title:.*')
print pat.search(content).group()

# OUTPUT: Title:&nbsp;&nbsp;Statics & Strength of Materials for Arch (w/CD)<br />
"
8352,22718,How to verify in selenium if the image is shown on the page?,"if driver.find_elements_by_css_selector(""img[src$='icon_supported.png'].ng-hide"") :
    print ""image hidden""
else :
    print ""image displayed""
"
25455,71970,Converting Pandas Dataframe types,"import numpy as np
df = DataFrame({
'k1': ['na'] * 3 + ['two'] * 4,
'k2': [1, 'na', 2, 'na', 3, 4, 4]})

print df

df = df.replace('na', np.nan)

print df
"
33058,8721,XLSXWRITER changing color for individual column,"import xlsxwriter

workbook = xlsxwriter.Workbook('chart.xlsx')

worksheet = workbook.add_worksheet()
chart = workbook.add_chart({'type': 'column'})

data = [
    [1, 2, 3, 4, 5],
    [2, 4, 6, 8, 10],
]

worksheet.write_column('A1', data[0])
worksheet.write_column('B1', data[1])

chart.add_series({
    'categories': '=Sheet1!$A$1:$A$5',
    'values': '=Sheet1!$B$1:$B$5',
    'points': [None, None, None, None, {'fill': {'color': 'red'}}],
})

worksheet.insert_chart('D3', chart)

workbook.close()
"
14849,63079,Substitution Encryption (ProblemSetQuestion) in Python,"from string import maketrans

def encrypt(s, scheme):
    alphabet = 'abcdefghijklmnopqrstuvwxyz'
    translation = maketrans(alphabet, scheme)
    return s.translate(translation)
"
27891,9206,Pandas and csv import into dataframe. How to best to combine date anbd date fields into one,"In [291]: from dateutil.parser import parse
In [292]: import datetime as dt
In [293]: def date_parser(x):
   .....:     date, hour = x.split(' ')
   .....:     return parse(date) + dt.timedelta(0, 3600*int(hour))

In [298]: pd.read_csv('test.csv', parse_dates=[[0,1]], date_parser=date_parser)
Out[298]: 
            date_hour  a  b  c
0 2013-10-01 00:00:00  1  1  1
1 2013-10-01 00:00:00  2  2  2
2 2013-10-01 00:00:00  3  3  3
3 2013-10-01 01:00:00  4  4  4
4 2013-10-01 01:00:00  5  5  5
"
4919,49835,"Using Pygame, draw a copy of an image in a different location","images = {'a': load_image('assets/A/x.png'),
          'b': load_image('assets/B/x.png'),
          'c': load_image('assets/C/x.png'),
          'd': load_image('assets/D/x.png')}
...
class TestSprite(pygame.sprite.Sprite):
    def __init__(self, image_key):
        super(TestSprite, self).__init__()
        self.image = images[image_key]
...
def GetRandomAsset():
    image_key = random.choice(images.keys())
    return TestSprite(image_key)
"
26072,38434,unwanted newline in python .write,">>> temp  # example data
'1,2,3\n'
>>> temp.split(',')
['1', '2', '3\n']            # newline is still present.
>>> temp.strip().split(',')
['1', '2', '3']
"
21929,51798,Removing words in a list that appear infrequently,"from collections import defaultdict
import six


def calc_token_frequencies(doc_list):
    frequencies = defaultdict(int)  # Each dict item will start off as int(0)
    for token_set in doc_list:
        for token in token_set:
            frequencies[token] += 1
    return frequencies


if __name__ == '__main__':
    # Use a list of sets here in order to leverage set features
    tokenized_document_list = [{""egg"", ""apple"", ""bread"", ""milk"", ""pear""},
                               {""egg"", ""apple"", ""bread"", ""milk""},
                               {""egg"", ""apple"", ""bread"", ""milk""}]

    # Count the number of documents each token was in.
    token_frequencies = calc_token_frequencies(tokenized_document_list)

    # I used 50% here instead of the example 5% so that it would do something useful.
    token_min_docs = 0.5*len(tokenized_document_list)

    # Calculate the black list via set comprehension.
    token_blacklist = {token for token, doc_count in six.iteritems(token_frequencies)
                       if doc_count < token_min_docs}

    # Remove items on the black list
    for doc_tokens in tokenized_document_list:
        doc_tokens.difference_update(token_blacklist)

    print tokenized_document_list
"
23188,3309,how to stop the current execution of a system call in python,"import subprocess
from time import sleep
p = subprocess.Popen([""java"", ""-jar"", ""example.jar"", ""run"", ""myFunction"", ""'inFile.txt'"", ""'outFile.txt'"")
while not check_my_conditions():
    sleep(my_timeout)
p.kill()
"
36877,77979,Run a python script from another python script and pass variables to it,"import subprocess
from subprocess import PIPE

def main():
    process = subprocess.Popen('echo %USERNAME%', stdout=PIPE, shell=True)
    username = process.communicate()[0]
    print username #prints the username of the account you're logged in as

    process = subprocess.call('python py1.py --help', shell=True)
    process = subprocess.call('python py2.py --help', shell=True)
    process = subprocess.call('python py3.py --help', shell=True)

if __name__ == '__main__':
    main()
"
16017,34309,How to set a DB connection timeout for a python/pyodbc/unixODBC/MS ODBC Driver 11 for SQL Server/Linux stack?,"
result = None
with pyodbc.connect('DRIVER={SQL Server};SERVER=mydb;DATABASE=solarwinds;Trusted_Connection=True', timeout=1) as cnxn:
    cursor = cnxn.cursor()
    result = cursor.execute(query).fetchall()
"
23907,29823,Make Sphinx generate RST class documentation from pydoc,"def add_line(self, line, source, *lineno):
    """"""Append one line of generated reST to the output.""""""
    print self.indent + line
    self.directive.result.append(self.indent + line, source, *lineno)
"
23780,42535,How to pad adjacency matrix cells in D3.js style?,"import matplotlib.pyplot as plt
import numpy as np

x = np.arange(6)
y = np.arange(6)

X, Y = np.meshgrid(x, y)

Z = np.random.rand(5, 5)

ax = plt.subplot(111, aspect='equal') # To make the cells square
ax.pcolor(X, Y, Z,
          edgecolor='white',          # Color of ""padding"" between cells
          linewidth=2)                # Width of ""padding"" between cells


plt.show()
"
26400,2024,Python tkinter root.after_cancel() issue,">>> x = 4
>>> def func():
...     x = 6
...
>>> print(x)
4
>>> func()
>>> print(x)
4
>>> def globalfunc():
...     global x
...     x = 6
...
>>> print(x)
4
>>> globalfunc()
>>> print(x)
6
"
11472,82092,Changing variables in separate Python files,"# myvariables.py
name = 'Steve'

# main.py
import myvariables
print myvariables.name
"
12351,27124,Match mathematical expression with regex in python,"from sympy.printing import ccode
from sympy.parsing.sympy_parser import parse_expr

s = ""8*pi**3*sin(x3)*sin(pi*z)**2"" 
exp = parse_expr(s)

In [55]: ccode(exp) 
Out[55]: '8*pow(M_PI, 3)*sin(x3)*pow(sin(M_PI*z), 2)'
"
36656,50155,Why tuple assignment failed?,"A=[('3', '4'), ('3', '11'), ('8', '10')] 
print A
B = []
for a, b in A:
    B.append((int(a), int(b) + int(a)))
print B
"
10443,38615,Collecting a value of a function,"def doWork(self, prueba):
    prueba.read(callback=self.catchValue)
    return True
"
29434,26319,Removing duplicate items by value within a dict,"vals_seen = {}
for key, val in itemscopy.iteritems():
    if val['description'] in vals_seen:
        del items[key]
    else:
        vals_seen[val['description']] = 1
"
20449,49767,Can continuous random variables be converted into discrete using scipy?,"from scipy.stats import norm
import numpy as np

>>> norm().cdf(-1) - norm().cdf(-np.inf), \
    norm().cdf(0) - norm().cdf(-1), \
    norm().cdf(1) - norm().cdf(0), \
    norm().cdf(np.inf) - norm().cdf(1)
(0.15865525393145707,
 0.34134474606854293,
 0.34134474606854293,
 0.15865525393145707)
"
19093,61319,Why does sshtunnel prevent SIGINT from closing my python app?,"server = sshtunnel.open_tunnel(ip, ssh_username=""test"",
                               ssh_password=""test"",
                               remote_bind_address=(""1.2.3.4"", 23))
try:
    with server:
        print ""SSH connected""
except KeyboardInterrupt:
    print ""Pressed Ctrl-C""
    server._stop_transport()

print ""SSH Closed""
"
38149,19496,TensorFlow - get execution ordering of fetches,"import tensorflow as tf
from toposort import toposort
sess=tf.InteractiveSession()
matrix1=tf.constant([[3.,3.]])
matrix2=tf.constant([[2.],[2.]])
sum=tf.add(matrix1,matrix2)
product=tf.matmul(matrix1,matrix2)
final=tf.mul(sum,product)
g=sess.graph
deps={}
for op in g.get_operations():
    # op node
    op_inputs=set()
    op_inputs.update([t.name for t in op.inputs])
    deps[op.name]=op_inputs
    # tensor output node
    for t in op.outputs:
        deps[t.name]={op.name}
deps
{u'Add': {u'Const:0', u'Const_1:0'},
 u'Add:0': {u'Add'},
 u'Const': set(),
 u'Const:0': {u'Const'},
 u'Const_1': set(),
 u'Const_1:0': {u'Const_1'},
 u'MatMul': {u'Const:0', u'Const_1:0'},
 u'MatMul:0': {u'MatMul'},
 u'Mul': {u'Add:0', u'MatMul:0'},
 u'Mul:0': {u'Mul'}}
list(toposort(deps))
[{u'Const', u'Const_1'},
 {u'Const:0', u'Const_1:0'},
 {u'Add', u'MatMul'},
 {u'Add:0', u'MatMul:0'},
 {u'Mul'},
 {u'Mul:0'}]
"
12613,63390,regarding re-factoring python code,"for fileStr in fileList:
    fileName = fileStr.rstrip('\n')
    openFile = open(fileName)
    openNewFile = open(fileName+'TitleCase.xml','w')
    lines = openFile.readlines()
    for lineIndex in range(0,len(lines)):
        line = lines[lineIndex]
        skip = 0
        if ""label="" in line and ""const"" not in line:
            segs = line.split('""')
            if len(segs) >= 3:
                pass
            else:
                openNewFile.write(lines[lineIndex])
                secondTitleCaseLine = splitAndMakeTitleCase(lines[lineIndex + 1])
                skip = lineIndex + 1
                openNewFile.write(secondTitleCaseLine)
                if '""' not in lines[lineIndex + 1]:
                    thirdTitleCaseLine = splitAndMakeTitleCase(lines[lineIndex + 2])
                    skip = lineIndex + 1
                    openNewFile.write(thirdTitleCaseLine)
        else:
            openNewFile.write(lines[lineIndex])
    openFile.close()
    openNewFile.close()
    #cmd = ""mv "" + fileName + ""TitleCase.xml "" + fileName
    #os.system(cmd)
"
8650,80453,Adding columns that contain equations to a csv file in python,"for line in file_reader:  # read in all of your data
    line['calculated_col0'] = line['col1'] * line['col2']
    csv_contents.append(line)  # gather data into a list (of dicts)
"
36233,72145,Best way to do frequency counting in Julia,"using DataStructures
function getall4(fname)
    b=Mmap.mmap(fname,Vector{UInt32})
    c = zeros(Int,2^16)
    v = Array(UInt16,2^16)
    l = length(b)
    for i=1:l
        d1 = b[i]&0xFFFF
        d2 = d1 $ (b[i]>>16)
        if d1==v[d2+1]
            c[d2+1] += 1
        else
            c[d2+1] -= 1
        end
        if (c[d2+1]<=0)
            c[d2+1] = 1
            v[d2+1] = d1
        end
    end
    cc = DataStructures.counter(UInt32)
    fill!(c,0)
    for i=1:l
        d1 = b[i]&0xFFFF
        d2 = d1 $ (b[i]>>16)
        if v[d2+1]==d1
            c[d2+1] += 1
        end
    end
    for i=1:l
        d1 = b[i]&0xFFFF
        d2 = d1 $ (b[i]>>16)
        if !(v[d2+1]==d1)
            push!(cc,b[(i+1)>>1])
        end
    end
    x = UInt32[]
    y = Int[]
    for i=1:(1<<16)
        if c[i]>0
            push!(x,(UInt32(i)<<16)+v[i])
            push!(y,c[i])
        end
    end
    append!(x,collect(keys(cc.map)))
    append!(y,collect(values(cc.map)))
    x,y
end
"
11046,82117,move all folders modified after <time> to new folder,"import os
from shutil import move
from time import time

def mins_since_mod(fname):
    """"""Return time from last modification in minutes""""""
    return (time() - os.path.getmtime(fname)) / 60

PARENT_DIR = '/some/directory'
MOVE_DIR = '/where/to/move'

# Loop over files in PARENT_DIR
for fname in os.listdir(PARENT_DIR):
    # If the file is a directory and was modified in last 15 minutes
    if os.path.isdir(fname) and mins_since_mod(fname) < 15:
        move(fname, MOVE_DIR) # move it to a new location
"
30092,33624,Python line-by-line memory profiler?,"import sys
import time
import atexit
from guppy import hpy

_last_log_time = time.time()
_logfile = open('logfile.txt', 'w')

def heapy_profile(frame, event, arg):
    currtime = time.time()
    if currtime - _last_log_time < 1:
        return
    _last_log_time = currtime
    code = frame.f_code
    filename = code.co_filename
    lineno = code.co_firstlineno
    idset = hpy().heap()
    logfile.write('%s %s:%s\n%s\n\n' % (currtime, filename, lineno, idset))
    logfile.flush()

atexit.register(_logfile.close)
sys.settrace(heapy_profile)
"
27584,46303,python pandas flatten a dataframe to a list,"df.values.flatten()
"
22827,83536,Calling class attribute without creating an instance to that class,"# t1 class is the same as yours

class t2:
    def __init__(self, t1):
        self.t1 = t1
    def getVar(self):
        print self.t1.returnVar(t1)

obj1 = t1()
obj2 = t2(obj1)  # give the t2 instance the t1 instance

print obj2.getVar()
"
6654,16759,Pandas long to Wide/ converting multiple rows into one cell,"import numpy as np
import pandas as pd
from pandas import Series, DataFrame

# here i copied your data frame and assign it to the variable ""df""
df = pd.read_clipboard()
df['ID'] = df['ID'].astype('str')
pd.pivot_table(df,index=['Name','Title'],values='ID',aggfunc=lambda x: ', '.join(x))
Out[15]:
Name  Title
AD    BBB                    11119, 11133
ED    HHH      11111, 11112, 11113, 11114
Name: ID, dtype: object
"
26708,29157,Print variable in python without space or newline,">>> x = 4
>>> print x
4
>>> import sys
>>> sys.stdout.write(str(x)) # you have to str() your variables
4>>> # <- no newline
"
32708,82004,Start background process/daemon from CGI script,"import os

os.system(""batch <<< '/home/some_user/do_the_due.py'"")
# or if you don't want to wait for system idle, 
#   os.system(""at now <<< '/home/some_user/do_the_due.py'"")

print 'Content-type: text/html\n'
print 'Done!'
"
32070,10554,How to determine if your app is running on local Python Development Server?,"import os

DEV = os.environ['SERVER_SOFTWARE'].startswith('Development')
"
20843,5531,Concatenating all elements in list into a string python,"In [4]: l = ['ESZ12', 'ESH13', 'ESM13', 'ESU13', 'ESZ13']

In [5]: print('(' + ', '.join('""%s""' % el for el in l) + ')')
(""ESZ12"", ""ESH13"", ""ESM13"", ""ESU13"", ""ESZ13"")
"
15276,76439,Python Append JSON list within for loop,"data = json.dumps([columns for key, columns in crime.get_range()])
"
29855,55395,variance vs coefficient of variation,"import numpy as np

x = np.random.randn(10)
x1= x+10
np.var(x), np.std(x)/np.mean(x)

(2.0571740850649021, -2.2697110381499224)

np.var(x1), np.std(x1)/np.mean(x1)

(2.0571740850649016, 0.1531035017615747)
"
9752,80640,How can I construct a nested dictionary object based on a delimited string?,">>> data, result = 'a/b/c/d/e', {}
>>> reduce(lambda x, y: x.setdefault(y, {}), data.split(""/""), result)
{}
>>> result
{'a': {'b': {'c': {'d': {'e': {}}}}}}
"
25619,14546,"how does randint() evaluate in an if, and else statement?","if 0:
    print 'a'
elif 1:
    print 'b'

# prints 'b'
"
27286,75551,Python FTP from UNIX to Windows,"#!/usr/bin/python
import ftplib
import os
filename = ""filename""
ftp = ftplib.FTP(""xx.xxx.xxx.xxx"")
ftp.login(""uid"", ""psw"")
ftp.cwd(""/my/location"")
os.chdir(r""c:\somewhere"")
print filename
ftp.retrbinary('RETR %s' % filename, open(filename, 'w').write)
"
1956,66515,How can I make this recursive crawl function iterative?,"//pseudocode:
var urlsToVisit = new Queue(); // Could be a queue (BFS) or stack(DFS). (probably with a database backing or something).
var visitedUrls = new Set(); // List of visited URLs.

// initialization:
urlsToVisit.Add( rootUrl );

while(urlsToVisit.Count > 0) {
  var nextUrl = urlsToVisit.FetchAndRemoveNextUrl();
  var page = FetchPage(nextUrl);
  ProcessPage(page);
  visitedUrls.Add(nextUrl);
  var links = ParseLinks(page);
  foreach (var link in links)
     if (!visitedUrls.Contains(link))
        urlsToVisit.Add(link); 
}
"
4541,23890,Creating an in memory constant when django starts,"try:
    from local_settings import *
except ImportError:
    # if you require a local_settings to be present,
    # you could let this exception rise, or raise a
    # more specific exception here
    pass
"
8371,45768,Python dictionary array,"  import pprint

  def main():
      inlist = ['library','book','room','author','description','genre','publish_date','price','title']
      mydict = {'room': ['book'], 'title': [], 'price': [], 'author': [], 'library': [ 'room', 'book'], 'book': ['author', 'title', 'genre', 'price', 'publish_date', 'description'], 'publish_date': [], 'genre': [], 'description': []}

      for item in inlist:
          values = set(mydict.get(item, []))
          workingset = values.copy() # preserve the original set of items so iterating doesn't go nuts
          for potential_key in values:
              # we're going to cast into sets to add them, then recast into lists
              workingset.update(set(mydict.get(potential_key, [])))

          if values:
              mydict[item] = list(workingset)

      pprint.pprint(mydict)
  if __name__ == '__main__':
      main()
"
16943,72446,How do I get all text from within this tag?,">>> from bs4 import BeautifulSoup
>>> data = '<td rowspan=""2"" style=""text-align: center;""><a href=""/wiki/Glenn_Miller"" title=""Glenn Miller"">Glenn Miller</a> &amp; His Orchestra</td>'
>>> soup = BeautifulSoup(data, ""html.parser"")
>>> tag = soup.td
>>> tag.get_text()
'Glenn Miller & His Orchestra'
"
16841,82140,Access data of a wiki scraper and store it in a local database,"import urllib

def access_data():

f= urllib.urlopen('https://api.scraperwiki.com/api/1.0/datastore/sqlite?format=csv&name=example&query=select%20*%20from%20%60table%60')

data=f.read()
s = open('example.csv','w')
s.write(data)
"
16917,28180,How many times different letters appear in different words?,"from collections import defaultdict
def counter(STRING):
  h=defaultdict(int)
  for i in STRING:
    if i in ""stn"":
       h[i]+=1
  return h
for s in ['description','statements']:
    k=counter(s)
    print k + "" for "" + s
"
18340,3709,Sorting a Dictionary in Python by two keys (frequency and lexicographically),">>> d = {'c': 3, 'b': 3, 'aa': 2, 'a': 2}
>>> sorted(d, key=lambda key: (-d[key], key))
['b', 'c', 'a', 'aa']
"
815,42870,Averaging daily precipitation pcraster map stack for 10 years of data with python,"    import os
    import fnmatch
    import subprocess
    from os import listdir
    from pcraster import *

    PrecDaily = '/home/someData/precipitation/pptn'
    OutSave = '/home/someData/precipitation/pptn/meanMap'
    TypeFile = 'pptn????.???'

    os.chdir(PrecDaily)
    PrecDailyFiles = []
    for iListFile in sorted(os.listdir('.')): 
        if fnmatch.fnmatch(iListFile, TypeFile):
            PrecDailyFiles.append(iListFile)
    n=len(PrecDailyFiles)

    FirstRasterMap = readmap(PrecDailyFiles[0])
    SUM = FirstRasterMap
    for iMeanRaster in xrange(1, n):
        PCRasterMap = readmap(PrecDailyFiles[iMeanRaster])
        SUM = SUM + PCRasterMap
    MEAN = SUM/n

    os.chdir(OutSave)
    report(MEAN, 'pptn_mean.map')
"
12809,42903,Twitter Python Json to CSV,"import csv
import json
import oauth2 as oauth
import urllib

# I don't if any of these are actually needed?
import sys
import requests
import time

CONSUMER_KEY    = ''
CONSUMER_SECRET = ''
ACCESS_KEY      = ''
ACCESS_SECRET   = ''

class TwitterSearch:
    def __init__(self,
        ckey    = CONSUMER_KEY,
        csecret = CONSUMER_SECRET,
        akey    = ACCESS_KEY,
        asecret = ACCESS_SECRET,
        query   = 'https://api.twitter.com/1.1/search/tweets.{mode}?{query}'
    ):
        consumer     = oauth.Consumer(key=ckey, secret=csecret)
        access_token = oauth.Token(key=akey, secret=asecret)
        self.client  = oauth.Client(consumer, access_token)
        self.query   = query

    def search(self, q, mode='json', **queryargs):
        queryargs['q'] = q
        query = urllib.urlencode(queryargs)
        return self.client.request(self.query.format(query=query, mode=mode))

def write_csv(fname, rows, header=None, append=False, **kwargs):
    filemode = 'ab' if append else 'wb'
    with open(fname, filemode) as outf:
        out_csv = csv.writer(outf, **kwargs)
        if header:
            out_csv.writerow(header)
        out_csv.writerows(rows)

def main():
    ts = TwitterSearch()
    response, data = ts.search('@gmail.com', result_type='recent')
    js = json.loads(data)

    # This _should_ work, based on sample data from
    # https://dev.twitter.com/docs/api/1.1/get/search/tweets
    messages = ([msg['created_at'], msg['txt'], msg['user']['id']] for msg in js.get('statuses', []))

    write_csv('twitter_gmail.csv', messages, append=True)

if __name__ == ""__main__"":
    main()
"
1045,10018,OpenCV: Lines passing through centroid of contour at given angles,"# Step #1
img = cv2.imread('contour.png', 0)
img_bw = img <= 128
img_bw = 255*img_bw.astype('uint8')

# Step #2
contours, _ = cv2.findContours(img_bw,cv2.RETR_EXTERNAL,cv2.CHAIN_APPROX_NONE)

# Step #3
out = img.copy()

# Step #4
ref = np.zeros_like(img_bw)
cv2.drawContours(ref, contours, 0, 255, 1)

# Step #5
M = cv2.moments(contours[0])
centroid_x = int(M['m10']/M['m00'])
centroid_y = int(M['m01']/M['m00'])

# Get dimensions of the image
width = img.shape[1]
height = img.shape[0]

# Define total number of angles we want
N = 20

# Step #6
for i in range(N):
  # Step #6a
  tmp = np.zeros_like(img_bw)

  # Step #6b
  theta = i*(360/N)
  theta *= np.pi/180.0

  # Step #6c
  cv2.line(tmp, (centroid_x, centroid_y),
           (int(centroid_x+np.cos(theta)*width),
            int(centroid_y-np.sin(theta)*height)), 255, 5)

  # Step #6d
  (row,col) = np.nonzero(np.logical_and(tmp, ref))

  # Step #6e
  cv2.line(out, (centroid_x, centroid_y), (col[0],row[0]), 0, 1)

# Show the image
# Step #7
cv2.imshow('Output', out)
cv2.waitKey(0)
cv2.destroyAllWindows()
"
27932,78321,Python: How to sample data into Test and Train datasets?,"import random

with open(input_file) as data:
    with open(test_output, 'w') as test:
        with open(train_output, 'w') as train:
            header = next(data)
            test.write(header)
            train.write(header)
            for line in data:
                if random.random() > 0.85:
                    train.write(line)
                else:
                    test.write(line)
"
25800,18111,Updating Records with image field in Django?,"def server_update(request, pk, template_name='servers/server_form.html'):
    server = get_object_or_404(Server, pk=pk)
    form = ServerForm(request.POST or None, request.FILES or None,  instance=server)
    if form.is_valid():
        edit = form.save(commit=False)
        edit.save()
        return redirect('server_list')
    return render(request, template_name, {'form':form})
"
27779,66068,Get str repr with double quotes Python,"def string_to_c(s, max_length = 140, unicode=False):
    ret = []

    # Try to split on whitespace, not in the middle of a word.
    split_at_space_pos = max_length - 10
    if split_at_space_pos < 10:
        split_at_space_pos = None

    position = 0
    if unicode:
        position += 1
        ret.append('L')

    ret.append('""')
    position += 1
    for c in s:
        newline = False
        if c == ""\n"":
            to_add = ""\\\n""
            newline = True
        elif ord(c) < 32 or 0x80 <= ord(c) <= 0xff:
            to_add = ""\\x%02x"" % ord(c)
        elif ord(c) > 0xff:
            if not unicode:
                raise ValueError, ""string contains unicode character but unicode=False""
            to_add = ""\\u%04x"" % ord(c)
        elif ""\\\"""".find(c) != -1:
            to_add = ""\\%c"" % c
        else:
            to_add = c

        ret.append(to_add)
        position += len(to_add)
        if newline:
            position = 0

        if split_at_space_pos is not None and position >= split_at_space_pos and "" \t"".find(c) != -1:
            ret.append(""\\\n"")
            position = 0
        elif position >= max_length:
            ret.append(""\\\n"")
            position = 0

    ret.append('""')

    return """".join(ret)

print string_to_c(""testing testing testing testing testing testing testing testing testing testing testing testing testing testing testing testing testing"", max_length = 20)
print string_to_c(""Escapes: \""quote\"" \\backslash\\ \x00 \x1f testing \x80 \xff"")
print string_to_c(u""Unicode: \u1234"", unicode=True)
print string_to_c(""""""New
lines"""""")
"
31304,72271,Matplotlib: plot x/y coordinates with Two x-Axis with inverse scaling,"import matplotlib.pyplot as plt
import numpy as np

plt.plot([1,2,5,4])
ax1 = plt.gca()
ax2 = ax1.twiny()

new_tick_locations = np.array([.1, .3, .5, .7,.9]) # Choosing the new tick locations
inv = ax1.transData.inverted()
x = []

for each in new_tick_locations:
    print(each)
    a = inv.transform(ax1.transAxes.transform([each,1])) # Convert axes-x-coordinates to data-x-coordinates
    x.append(a[0])

c = 2
x = np.array(x)
def tick_function(X):
    V =  c/X
    return [""%.1f"" % z for z in V]
ax2.set_xticks(new_tick_locations) # Set tick-positions on the second x-axes
ax2.set_xticklabels(tick_function(x)) # Convert the Data-x-coordinates of the first x-axes to the Desired x', with the tick_function(X)
"
19725,46658,Dynamically running python code on google app engine,"#Initiating Variables for use by importing functions
module_name = 'mymod'
filename = 'action_file'
source = PossibleMatches[0][1] #the source code from the best matched option

# define module_name somewhere
import types
module = types.ModuleType(module_name)

# source should the code to execute
# filename should be a pseudo-filename that the code's from
# (it doesn't actually have to exist; it's used for error messages)
code_object = compile(source, filename, 'exec')

#execute the code in the context of the module
exec code_object in module.__dict__

#Executing the 'Main' Function from the code
return module.Main()
"
5765,77898,Python: My script will not allow me to create large files,"import string
import random
from itertools import islice

chars = string.printable + string.whitespace
# make infinite generator of random chars
random_chars = iter(lambda: random.choice(chars), '')
with open('output_file','w', buffering=102400) as fout:
    fout.writelines(islice(random_chars, 1000000)) # write 'n' many
"
2143,47067,Download all the links(related documents) on a webpage using Python,"import mechanize
from time import sleep
#Make a Browser (think of this as chrome or firefox etc)
br = mechanize.Browser()

#visit http://stockrt.github.com/p/emulating-a-browser-in-python-with-mechanize/
#for more ways to set up your br browser object e.g. so it look like mozilla
#and if you need to fill out forms with passwords.

# Open your site
br.open('http://pypi.python.org/pypi/xlwt')

f=open(""source.html"",""w"")
f.write(br.response().read()) #can be helpful for debugging maybe

filetypes=["".zip"","".exe"","".tar.gz""] #you will need to do some kind of pattern matching on your files
myfiles=[]
for l in br.links(): #you can also iterate through br.forms() to print forms on the page!
    for t in filetypes:
        if t in str(l): #check if this link has the file extension we want (you may choose to use reg expressions or something)
            myfiles.append(l)


def downloadlink(l):
    f=open(l.text,""w"") #perhaps you should open in a better way & ensure that file doesn't already exist.
    br.click_link(l)
    f.write(br.response().read())
    print l.text,"" has been downloaded""
    #br.back()

for l in myfiles:
    sleep(1) #throttle so you dont hammer the site
    downloadlink(l)
"
9960,13691,Pandas dataframe add columns with automatic adding missing indices,"import pandas as pd
df1 = pd.DataFrame({'A': ['A0', 'A1', 'A2', 'A3'],
                    'B': ['B0', 'B1', 'B2', 'B3'],
                    'C': ['C0', 'C1', 'C2', 'C3'],
                    'D': ['D0', 'D1', 'D2', 'D3']},
                    index=[0, 1, 2, 3])


df2 = pd.DataFrame({'X': ['A4', 'A5', 'A6', 'A7'],
                    'XB': ['B4', 'B5', 'B6', 'B7'],
                    'XC': ['C4', 'C5', 'C6', 'C7'],
                    'XD': ['D4', 'D5', 'D6', 'D7']},
                     index=[4, 5, 6, 7])


df3 = pd.DataFrame({'YA': ['A8', 'A9', 'A10', 'A11'],
                    'YB': ['B8', 'B9', 'B10', 'B11'],
                    'YC': ['C8', 'C9', 'C10', 'C11'],
                    'YD': ['D8', 'D9', 'D10', 'D11']},
                    index=[8, 9, 10, 11])

#To get the desired result you are looking for you need to reset the index.
#With the dataframes you have you may not be able to merge as well
#Since merge would need a common index or column  
frames = [df1.reset_index(drop=True), df2.reset_index(drop=True), df3.reset_index(drop=True)]

df4 = pd.concat(frames, axis=1)

print df4
"
24886,33552,Different behaviour of hexbin and histogram2d,"
a = np.random.rand(100)*400 - 200
b = np.random.rand(100)*16 + 4
a[:10] = -200
b[:10] = 4

f, ax = plt.subplots(3)

ax[0].hexbin(a, b, gridsize=20, extent=[-200,200,4,20], cmap=plt.cm.binary)

H, xedges, yedges = np.histogram2d(a, b, bins=20, range=[[-200,200],[4,20]])
ax[1].imshow(H.T, interpolation='nearest', cmap=plt.cm.binary, aspect='auto',
                extent=[xedges[0],xedges[-1],yedges[0],yedges[-1]], origin='lower')

# simplest and most reliable:
ax[2].hist2d(a, b, bins=20, range=[[-200,200],[4,20]], cmap=plt.cm.binary)
"
20749,36136,"Python manipulating json, lists, and dictionaries","from datetime import datetime
import os
import json
from pprint import pprint

now = datetime.now()

testFile = open(""feed.json"")
feed = json.load(testFile)

data_list = []

for x in feed['data']:
    if x['threatscore'] > 90:
        data = {}
        data['Event']={}
        data['Event'][""date""] = now.strftime(""%Y-%m-%d"")
        data['Event'][""threat_level_id""] = ""1""
        data['Event'][""info""] = ""HybridAnalysis""
        data['Event'][""analysis""] = 0
        data['Event'][""distribution""] = 3
        data['Event'][""orgc""] = ""Malware""
        data['Event'][""Attribute""] = []
        if 'hosts' in x:
            data['Event'][""Attribute""].append({
                'type': 'ip-dst',
                'category': 'Network activity',
                'to-ids': True,
                'distribution': '3',
                'value': x['hosts']})
        if 'md5' in x:
            data['Event'][""Attribute""].append({
                'type': 'md5',
                'category': 'Payload delivery',
                'to-ids': True,
                'distribution': '3',
                'value': x['md5']})
        if 'domains' in x:
            data['Event'][""Attribute""].append({
                'type': 'domain',
                'category': 'Network activity',
                'to-ids': True,
                'distribution': '3',
                'value': x['domains']})
        attributes = data[""Event""][""Attribute""]
        data[""Event""][""Attribute""] = []
        for attribute in attributes:
            for value in attribute[""value""]:
                    if value == "" "":
                        pass
                    else:
                        new_attr = attribute.copy()
                        new_attr[""value""] = value
                        data[""Event""][""Attribute""].append(new_attr)
        data_list.append(data)

with open('output.txt', 'w') as outfile:
    json.dump(data_list, outfile)
"
7204,34812,Pull Information from Abaqus Input File,"import re
import os

directory=r'C:\Users\Doug\Desktop'
fileName='sampleDeck'

file_fullPathName=os.path.join(directory, fileName + '.inp') 

with open(file_fullPathName, 'r') as inpDeck:
    lines = inpDeck.read()

lines=re.findall(r""^\*Dflux(|,\s*amplitude=[^,]*?)\n([^,]*?),\s*BF\s*,([^,]*?\n)"",lines, flags=re.IGNORECASE|re.MULTILINE)

file_fullPathName=os.path.join(directory, fileName + '-out.txt') 
with open(file_fullPathName, ""w"") as outp:
    for line in lines:
        outp.write(','.join(line))  #Write text file
"
2767,28551,Assigning values to a column based on the values stored in another column,"foo['z']=foo.apply(lambda x: x[x['C1']], axis=1)
"
11775,41903,Load single field from pymongo as an array,"names = db.people.find({'age': {'$gt': 18}}).distinct('name')
"
39026,71778,Python. GUI(input and output matrices)?,"import tkinter as tk

class SimpleTableInput(tk.Frame):
    def __init__(self, parent, rows, columns):
        tk.Frame.__init__(self, parent)

        self._entry = {}
        self.rows = rows
        self.columns = columns

        # register a command to use for validation
        vcmd = (self.register(self._validate), ""%P"")

        # create the table of widgets
        for row in range(self.rows):
            for column in range(self.columns):
                index = (row, column)
                e = tk.Entry(self, validate=""key"", validatecommand=vcmd)
                e.grid(row=row, column=column, stick=""nsew"")
                self._entry[index] = e
        # adjust column weights so they all expand equally
        for column in range(self.columns):
            self.grid_columnconfigure(column, weight=1)
        # designate a final, empty row to fill up any extra space
        self.grid_rowconfigure(rows, weight=1)

    def get(self):
        '''Return a list of lists, containing the data in the table'''
        result = []
        for row in range(self.rows):
            current_row = []
            for column in range(self.columns):
                index = (row, column)
                current_row.append(self._entry[index].get())
            result.append(current_row)
        return result

    def _validate(self, P):
        '''Perform input validation. 

        Allow only an empty value, or a value that can be converted to a float
        '''
        if P.strip() == """":
            return True

        try:
            f = float(P)
        except ValueError:
            self.bell()
            return False
        return True

class Example(tk.Frame):
    def __init__(self, parent):
        tk.Frame.__init__(self, parent)
        self.table = SimpleTableInput(self, 3, 4)
        self.submit = tk.Button(self, text=""Submit"", command=self.on_submit)
        self.table.pack(side=""top"", fill=""both"", expand=True)
        self.submit.pack(side=""bottom"")

    def on_submit(self):
        print(self.table.get())


root = tk.Tk()
Example(root).pack(side=""top"", fill=""both"", expand=True)
root.mainloop()
"
22252,83966,Is it possible to use tornado's gen.engine and gen.Task with twisted?,"from twisted.internet.defer import inlineCallbacks

@inlineCallbacks
def foo():
    x = yield bar()
    print x
"
1423,84129,Random selection ideas,"#!/usr/bin/env python
import random
import itertools

numname={1:'Ace',11:'Jack',12:'Queen',13:'King'}
suits=['Clubs','Diamonds','Hearts','Spades']
numbers=range(1,14)
cards=['%s-%s'%(numname.get(number,number),suit)
       for number,suit in itertools.product(numbers,suits)]
print(cards)
random.shuffle(cards)
print(cards)
hand=random.sample(cards,5)
print(hand)
"
16110,75085,for loop in Python creating a list,"lista=list()
for index in range(len(lista)):
 lista.insert(p)
 index=index+1
print lista
"
10681,63302,Checking Item List,">>> L = [1,2,3]
>>> 2 in L
True
"
29706,44489,How to avoid some xticks are auto-hidden in pandas?,"dfVariableImportance.plot(xticks=dfVariableImportance.index)
"
19522,1130,How to smooth a line using gaussian kde kernel in python setting a bandwidth,"#from scipy.stats import gaussian_kde
import matplotlib.pyplot as plt
import numpy as np

from scipy import interpolate

from scipy import ndimage

y=[ 191.78 ,   191.59,    191.59,    191.41,    191.47,    191.33,    191.25  \
  ,191.33 ,   191.48 ,   191.48,    191.51,    191.43,    191.42,    191.54    \
  ,191.5975,  191.555,   191.52 ,   191.25 ,   191.15  ,  191.01  ]
x = np.linspace(1 ,20,len(y))

# convert both to arrays
x_sm = np.array(x)
y_sm = np.array(y)

# resample to lots more points - needed for the smoothed curves
x_smooth = np.linspace(x_sm.min(), x_sm.max(), 200)

# spline - always goes through all the data points x/y
y_spline = interpolate.spline(x, y, x_smooth)

spl = interpolate.UnivariateSpline(x, y)

sigma = 2
x_g1d = ndimage.gaussian_filter1d(x_sm, sigma)
y_g1d = ndimage.gaussian_filter1d(y_sm, sigma)

fig, ax = plt.subplots(figsize=(10, 10))
ax.legend(loc='center left', bbox_to_anchor=(1.05, 0.5), frameon=False)

plt.plot(x_sm, y_sm, 'green', linewidth=1)
plt.plot(x_smooth, y_spline, 'red', linewidth=1)
plt.plot(x_smooth, spl(x_smooth), 'yellow', linewidth=1)
plt.plot(x_g1d,y_g1d, 'magenta', linewidth=1)

plt.show()
"
7562,25203,Python text processing with regular expression,"str = re.sub(r'(options) (\S+)', r'\2\n    \1', re.sub(r'([ \t =,])/', replace_text, text))
"
23187,84121,list of numbers correspond to a line in a file,"with open('somefile') as fileobj:
    lines = list(fileobj)

for index in indices:
    print lines[index]
"
37170,6190,Pandas Percentage count on a DataFrame groupby,"In [73]:

print pd.DataFrame({'Percentage': df.groupby(('ID', 'Feature')).size() / len(df)})
            Percentage
ID Feature            
0  False           0.2
   True            0.3
1  False           0.3
   True            0.2
"
5319,19447,"How do I make a two tone ""Button"" in Kivy?","import kivy
kivy.require('1.8.0')

from kivy.app import App
from kivy.uix.relativelayout import RelativeLayout
from kivy.uix.button import Button
from kivy.uix.button import Label
from kivy.uix.button import ButtonBehavior
from kivy.lang import Builder
from kivy.graphics import Triangle
from kivy.graphics import Color

Builder.load_string(""""""

<TwoColorsButton>:
    size_hint: None,None
    size: 250,250
    font_size: '26dp'  
    canvas.before:
        Color:
            rgba:0.5,0,0,1
        Triangle:
            points: [0,0, 0,root.size[1], root.size[0],0] 
        Color:
            rgba:0,0,0.5,1 
        Triangle:
            points: [0,root.size[1],root.size[0],root.size[1],root.size[0],0]
    text:'click me'
    on_press:print ""I've been pressed""
"""""")

class TwoColorsButton(ButtonBehavior,Label):
    pass

class TwoColorsApp(App):
    def build(self):
        my_button = TwoColorsButton()
        return my_button

if __name__ == '__main__':
    TwoColorsApp().run()
"
17507,80033,Pretty JSON Formatting in IPython Notebook,"print(json.dumps(obj, indent=2))
"
32867,34965,python import of script with argparse,"if __name__ == ""__main__"":
    parser = argparse.ArgumentParser()
    parser.add_argument(""-k"", dest = ""foo"",  action='store_true')
    args = parser.parse_args()
    # do things...
"
23193,35685,Suppressing output of module calling outside library,"devnull = open('/dev/null', 'w')
oldstdout_fno = os.dup(sys.stdout.fileno())
os.dup2(devnull.fileno(), 1)
makesomenoise()
os.dup2(oldstdout_fno, 1)
"
28959,54952,Build a dictionary from successful regex matches in python,"file_data = open('x:\\path\\to\\file','r').read()
my_list = re.findall(pattern, file_data, re.MULTILINE)
my_dict = {c:b for a,b,c in my_list}
"
30114,42760,Save form data on every step using Django FormWizard,"if self.steps.current == ""form1"":
    data = self.request.POST[""form1-response""]
    user = CustomerModel.objects.get(id=self.request.user.id)
    user.response = data
    user.form_step = ""form1""
    user.save()
"
26951,15035,Selecting pandas cells with None value,"yes_records_sample['name'].isnull()
"
5289,63188,Pythonic way to get `package.module.Class`,"import sys
def str_to_obj(astr):
    '''
    str_to_obj('scipy.stats.stats') returns the associated module
    str_to_obj('scipy.stats.stats.chisquare') returns the associated function
    '''
    # print('processing %s'%astr)
    try:
        return globals()[astr]
    except KeyError:
        try:
            __import__(astr)
            mod=sys.modules[astr]
            return mod
        except ImportError:
            module,_,basename=astr.rpartition('.')
            if module:
                mod=str_to_obj(module)
                return getattr(mod,basename)
            else:
                raise
"
12205,7277,Doing traces behind balls with Tkinter,"self.can.move(self.ball1, self.nx, self.ny)

new_pos = self.can.coords(self.ball1)
self.can.create_line(self.posx_ball, self.posy_ball, new_pos[0], new_pos[1], fill='red')

self.can.after(10, self.move)
"
8039,29316,Python: Create Generators at Runtime,">>> t = [1, 2, 3]
>>> (i*2 for i in t)
<generator object <genexpr> at 0x7f1f72dbfdc0>
"
8592,39627,"(x,y) pair for max z value in list","from itertools import groupby
from operator import itemgetter

nodes = [['1','1','1','2'],['2','1','1','3'],['3','0','0','5'],['4','0','0','4']]    
result = [max(g, key=itemgetter(3))[1:] for k, g in groupby(nodes, itemgetter(1, 2))]
# [['1', '1', '3'], ['0', '0', '5']]
"
14068,63185,extract contact information from html with python,"# _*_ coding:utf-8 _*_
import urllib2
import urllib
import re
from bs4 import BeautifulSoup
import sys
reload(sys)
sys.setdefaultencoding('utf-8')

def grabHref(url,localfile):
    html = urllib2.urlopen(url).read()
    html = unicode(html,'gb2312','ignore').encode('utf-8','ignore')
    soup = BeautifulSoup(html)
    myfile = open(localfile,'wb')
    for link in soup.select(""div >            a[href^=http://www.karmaloop.com/kazbah/browse]""):
        for item in BeautifulSoup(urllib2.urlopen(link['href']).read()).select(""div > a[href^=mailto]""):
            contactInfo = item.get_text()
            print link['href']
            print contactInfo

        myfile.write(link['href'])
        myfile.write('\r\n')
        myfile.write(contactInfo)
        myfile.write('\r\n')
    myfile.close()



def main():
    url = ""http://www.karmaloop.com/brands""
    localfile = 'Contact.txt'
    grabHref(url,localfile)
if __name__==""__main__"":
    main()
"
1764,11003,Concatenate columns and create a list,"data1['E'] = [row for row in data1[data1.columns[0:3]].values]
"
8155,15397,python readline by '\r\n',"import csv
with open(""myfile"", ""rb"") as infile:
    reader = csv.reader(infile, delimiter="","", skipinitialspaces=True)
    for line in reader:
       print line
"
1742,1029,How to Date deduction with Python?,">>> import datetime
... from dateutil import relativedelta
... 
... today = datetime.date.today()
... past = today + relativedelta.relativedelta(years=-25)
... print(today, past, sep='\t')
2013-05-05  1988-05-05
"
13681,80590,python tornado - how to return real-time data,"from tornado.ioloop import IOLoop
from tornado.web import RequestHandler, Application, url,asynchronous
from Queue import Queue

import json

q=Queue()
q.put(""one"")
q.put(""two"")

class HelloHandler(RequestHandler):
    def get(self):
        data=q.get()
        self.write(data)

def make_app():
     return Application([
         url(r""/"", HelloHandler),
         ])

def main():
    app = make_app()
    app.listen(8888)
    IOLoop.current().call_later(2, q.put, ""three"")
    IOLoop.current().start()

if __name__=='__main__':
    main()
"
29832,52774,Python AND OR statements,"opt = child.get('desc')

extent = child.get('extent')

if opt == 'es':
    opt2 = ""ESP:""
elif opt == ""la"":
    opt2 = ""LAT:""
elif opt == ""en"":
    opt2 = ""ENG:""

# Check variable values
print ""opt: "", opt
print ""opt2: "", opt2

if opt in [""es"",""la"",""en"",""ar"",""fr""] and extent == ""begin"":
    print time, opt2+("" "" + opt2).join([c.encode('latin-1') for c in child.tail.split(' ')])
"
38623,67640,How can I unit-test a method without instantiating the class?,"class FakeSocketHandlerForTesting(SocketHandler):
    def __init__(self, *args, **args):
        pass
"
10060,82468,Pandas Python - Create dummy variables for multiple conditions,"df['is_morning'] = (df['hour'] >= 5) & (df['hour'] < 12)
"
17832,2992,How can one process POST requests with a basic Python CGI script on Apache?,"import cherrypy

class HelloWorld(object):
    def index(self):
        return ""Hello World!""
    index.exposed = True

cherrypy.quickstart(HelloWorld())
"
7510,44042,My own API Key to my RPC server,"import random, string

key = """".join([random.choice(string.letters + string.digits + string.punctuation) for _ in xrange(64)])
"
4754,48181,Parsing Text Structured with Indents in Python,"records = []

with open('data.txt', 'r') as lines:
    for line in lines:
        if line.startswith ('\t'):
            record ['notes'].append (line [1:])
            continue
        record = {'title': line, 'notes': [] }
        records.append (record)

for record in records:
    print ('Record is', record ['title'] )
    print ('Notes are', record ['notes'] )
    print ()
"
20509,14322,Most efficiently removing the n-th row of tab-delimited txt,"from itertools import islice

n = 4
with open('file.txt') as f, open('out.txt', 'w') as out:
    out.writelines(islice(f, n-1)) #write the lines before the nth line
    out.writelines(islice(f, 1, None)) #write the rest of the lines except nth
"
31638,35275,python pandas\numpy encode unique by integers,"In [465]: pd.factorize(x)
Out[465]: (array([0, 1, 1, 0, 2]), array(['apple', 'orange', 'pear'], dtype=object))

In [466]: pd.factorize(x)[0] + 1
Out[466]: array([1, 2, 2, 1, 3])
"
12247,83838,Twitter API cursoring in Python,"print parsed_json[""next_cursor_str""]
# 1395095221152647652
"
13089,63751,Create a xls file from a dict python,"import xlwt

dic = contar_Repetidas(""Some Text Here"")

wb = xlwt.Workbook()
ws = wb.add_sheet(""Your Sheet"")

count = 0
for word, num in dic.items():
    count += 1
    ws.write(count, 1, word)
    ws.write(count, 2, num)

wb.save(""/Path/To/Save/Example.xls"")
"
12610,85022,Waf: Specify library name for python extensions,"def options(opt):
        opt.load('python')

def configure(conf):
    conf.load('python')
    conf.check_python_version((2,4,2))
    conf.check_python_headers()

def build(bld):

    bld.shlib(
        features = 'pyext',
        source = ""mymodule.cpp"",
        target = ""myfoo"",
        use = ""PYTHON BOOST_PYTHON"")
"
10616,19911,Async http request with python3,"import urllib.request
import threading

class MyHandler(urllib.request.HTTPHandler):
    @staticmethod
    def http_response(request, response):
        print(response.code)
        return response

opener = urllib.request.build_opener(MyHandler())
try:
    thread = threading.Thread(target=opener.open, args=('http://www.google.com',))
    thread.start()      #begin thread execution
    print('exit')

    # other program actions

    thread.join()       #ensure thread in finished before program terminates
except Exception as e:
    print(e)
"
32087,11392,Drawn surface transparency in pygame?,"import pygame

pygame.init()
screen = pygame.display.set_mode((300, 300))
ck = (127, 33, 33)
size = 25
while True:
  if pygame.event.get(pygame.MOUSEBUTTONDOWN):
    s = pygame.Surface((50, 50))

    # first, ""erase"" the surface by filling it with a color and
    # setting this color as colorkey, so the surface is empty
    s.fill(ck)
    s.set_colorkey(ck)

    pygame.draw.circle(s, (255, 0, 0), (size, size), size, 2)

    # after drawing the circle, we can set the 
    # alpha value (transparency) of the surface
    s.set_alpha(75)

    x, y = pygame.mouse.get_pos()
    screen.blit(s, (x-size, y-size))

  pygame.event.poll()
  pygame.display.flip()
"
31288,81104,Difference between cross_val_score and estimator score?,">>> kfold = cross_validation.StratifiedKFold(y)
>>> [svc.fit(X[train], y[train]).score(X[test], y[test])
...  for train, test in kfold]
[0.93521594684385378, 0.95826377295492482, 0.93791946308724827]
>>> cross_validation.cross_val_score(svc, X, y)
array([ 0.93521595,  0.95826377,  0.93791946])
"
11769,56013,PIL Image mode I is grayscale?,"from PIL import Image

r, g, b = 255, 240, 227
intcolor = (b << 16 ) | (g << 8 ) | r                                       
print intcolor # 14938367
ImgRGB = Image.new(""RGB"", (200, 200), intcolor)
ImgRGB.show()
"
18390,37666,Calling an instance variable from a class that is inside of that class,"
class A():
    def __init__(self):
        self.logger = Logger.get() #this works fine didn't include the Logger class

    def log(self):
        b = B(self.logger)

class B():
    def __init__(self, logger):  # pass the logger when instantiating B
        self.a = 'hello'
"
8685,40846,Create decision trees with pandas and scikit learn using binary matrix/occurance matrix,"In [1]: # Here I'm just mapping very simply, you can definitely use regex or something for your case if you have a lot of classes 
df['class'] = df['class'].map({'class1':0, 'class2':1, 'class3':2})

In [2]: df
Out[2]: 
a   b   ...     y   z   class
0   1   ...     1   1   0
1   0   ...     0   1   1
2   0   ...     0   1   1 
3   1   ...     0   1   2

In [3]: # Break between X (independent variables) and y (dependent, class)
X = df.iloc[:,:-1]
y = df['class']

In [4]: # Now you can do your fit etc...
from sklearn.naive_bayes import GaussianNB
gnb = GaussianNB()
result = gnb.fit(X,y)

In [5]:
y_pred = result.predict(X)
y_pred
Out[5]: array([0, 1, 1, 2], dtype=int64)
"
19799,63835,Python: How to extend a class?,"class Abc(object):
    pass

def new_funct(self):
    print 1234

Abc.instance_funct = new_funct
a = Abc()
a.instance_funct()
"
10903,83721,Text Based RPG Functioning Error?,"n = int(raw_input())
"
28084,71113,Purge script with mutltiple conditions,"import os
import glob
import time


class Purge(object):

    removable_extensions = ['ts', 'm3u8']

    def __init__(self, basedir, channel_pattern, debits,
                 older_than_days, test_mode=False):
        self.basedir = basedir
        self.channel_pattern = channel_pattern
        self.debits = debits
        self.older_than_secs = time.time() - 24*60*60*older_than_days
        self.test_mode = test_mode  # If `True`, do not delete files.

    def delete_file(self, filepath):
        try:
            os.remove(filepath)
        except OSError:
            pass

    def file_for_deletion(self, filepath):
        # Return `True` if a file meets all conditions for deletion.
        filename, ext = os.path.splitext(os.path.basename(filepath))
        condition_ext = ext[1:] in self.removable_extensions
        condition_old = os.stat(filepath).st_mtime <= self.older_than_secs
        condition_deb = any(
            '_{}_'.format(d) in filename or filename.endswith(d)
            for d in self.debits
            )
        return all((condition_ext, condition_old, condition_deb))

    def purge_channel(self, channel_dir):
        for root, dirs, files in os.walk(channel_dir):
            for name in files:
                filepath = os.path.join(root, name)
                if self.file_for_deletion(filepath):
                    print filepath
                    if not self.test_mode:
                        self.delete_file(filepath)
            #TODO: delete empty directories here.

    def purge(self):
        channels = glob.glob(os.path.join(self.basedir, self.channel_pattern))
        for channel_dir in channels:
            self.purge_channel(channel_dir)


if __name__ == '__main__':

    purge_job_info = dict(
        basedir=r'path/to/data',  # All channel folders live here.
        channel_pattern='channel*',  # `glob` pattern.
        debits=['400', '1800'],
        older_than_days=7,
        )

    p = Purge(**purge_job_info)
    p.test_mode = True
    p.purge()
"
33524,35738,Select values from any column/row based on criteria,"import pandas as pd
import numpy as np

# simulate some data to generate corr_mat
# ==============================================
np.random.seed(0)
data = np.random.multivariate_normal([0,0,0], [[1,0.1,-0.2],[0.1,1,0.3],[-0.2,0.3,1]], 10000)
df = pd.DataFrame(data, columns='xyz abc def'.split())
corr_mat = df.corr()
corr_mat

        xyz     abc     def
xyz  1.0000  0.1216 -0.1901
abc  0.1216  1.0000  0.3014
def -0.1901  0.3014  1.0000

# processing
# =======================================
# mask on lower-triangle only
mask = np.ones_like(corr_mat, dtype=np.bool)
mask[np.triu_indices_from(mask)] = False
mask

array([[False, False, False],
       [ True, False, False],
       [ True,  True, False]], dtype=bool)

# reshape the correlation matrix, and select corr > 0.2
corr_stacked = corr_mat.stack()
corr_stacked[(corr_stacked > 0.2) & (mask.ravel())]

def  abc    0.3014
dtype: float64

# you can reset_index to put multi-level index to columns
"
32451,80837,Django/Python: How to group queryset results by date?,"joes_images = ImageItem.objects.filter(user__username='joe')  # your code
upload_dates = set([(i.year, i.month, i.day) for i in joes_images])  # set of upload_date
joes_images_separated = dict([(d, []) for d in upload_dates])
for d in upload_dates:
    for i in joes_images:
        if (i.year, i.month, i.day) == d:
            joes_images_separated[d].append(i)
"
14266,26888,python: list append - each time create a new list?,">>> a = [1,2,3]
>>> id(a)
4325551112
>>> a.append(4)
>>> id(a)
4325551112
"
23082,72666,Does generating a list with multiplication produce references,"cand = [[0, 0] for _ in range(4)]
"
3184,53676,Reading large excel tables (guessing size),"Worksheets(""sheet1"").Cells(Rows.Count, ""A"").End(xlUp).Row
"
23352,54776,Variable who's reference is always to len(dict),">>> class LenDict(dict):
...   @property
...   def len(self):
...     return len(self)
...
>>> d=LenDict()
>>> d.len
0
>>> d[1]=2
>>> d.len
1
>>>
"
9336,41780,Python/Numpy: Divide array,"numpy.array_split(numpy.zeros((1300,1341)), 9)
"
10981,7343,write to file from nested for loop with try statement,"for year, state, county in foo:
    if (state, county) in bar:
        aFile.write(...)
"
13904,70806,How to use subdirectories with Ruffus pipelines,"@transform(map_dna_sequence,           # Input = previous stage
    suffix("".sam""),                    #         suffix = .sam
    "".bam"",
    output_dir = ""/path/to/a/new_directory"")  
"
33531,28398,Regex matching very slow,">>> xtract=""""""
... BT
...    /F13 12 Tf
...    288 720 Td
...    (ABC) Tj
... ET
...
... """"""
>>> for chunk in xtract.split(""ET""):
...     if ""BT"" in chunk:
...         for brace in chunk.split("")""):
...             if ""("" in brace:
...                  print brace[brace.find(""("")+1:]
...
ABC
"
15787,4468,Pandas: plot multiple columns to same x value,"import matplotlib.pyplot as plt
import pandas as pd
import itertools
#data
df = pd.DataFrame(
    {'id': [1, 2, 3, 3],
     'labels': ['HPRR1234', 'HPRR4321', 'HPRR2345', 'HPRR2345'],
     'g': ['KRAS', 'KRAS', 'ELK4', 'ELK4'],
     'r1': [15, 9, 15, 1],
     'r2': [14, 8, 7, 0],
     'r3': [14, 16, 9, 12]})
#extra setup
plt.rcParams['xtick.major.pad'] = 8
#plotting style(s)
marker = itertools.cycle((',', '+', '.', 'o', '*'))
color = itertools.cycle(('b', 'g', 'r', 'c', 'm', 'y', 'k'))
#plot
fig = plt.figure()
ax = fig.add_subplot(111)
ax.plot(df['id'], df['r1'], ls='', ms=10, mew=2,
        marker=marker.next(), color=color.next())
ax.plot(df['id'], df['r2'], ls='', ms=10, mew=2,
        marker=marker.next(), color=color.next())
ax.plot(df['id'], df['r3'], ls='', ms=10, mew=2,
        marker=marker.next(), color=color.next())
# set the tick labels
ax.xaxis.set_ticks(df['id'])
ax.xaxis.set_ticklabels(df['labels'])
plt.setp(ax.get_xticklabels(), rotation='vertical', fontsize=12)
plt.tight_layout()
fig.savefig(""example.pdf"")
"
37084,58363,Python: Parse web content for lines containing a specific character and store into a file,"UPDATED:
from bs4 import BeautifulSoup

result = '''<div class=""test"">
             <a href=""example"">Result 1</a>
            </div>

            <div class=""test"">
             <a href=""example2"">Result 2</a>
            </div>'''

soup = BeautifulSoup(result)

for div in soup.findAll('div', attrs={'class':'test'}):
    print div.find('a').text

Result 1
Result 2
"
24267,13111,Function Definition: Matching two input lists,"list1 = ['543', '432']
list2 = ['543242', '43299919', '2322242', '245533']

def match_numbers (nlist, nlist1):
    results = {}
    for x in nlist1:
        results.setdefault(x[0:3], [])
        results[x[0:3]].append(x)

    for x in nlist:
        if x in results:
            print results[x]


match_numbers(list1, list2)
"
15721,43439,pymysql connection select query and fetchall return tuple that has byte literals like b'25.00' rather than strings like '25.00',"conn = pymysql.connect(host=myHost, port=myPort, user=myUser, passwd=myPassword, database=myDatabase, charset=""utf8"")
cur = conn.cursor()

theDateTime = re.sub( r' ', '-', str(datetime.now()))
theDateTime = theDateTime[0:10] + "" "" + theDateTime[11:19]

productName = 'abc'
myMaxPrice = 100.0

try:
    # The below query to the remote database returned tuples like (b'1', b'2015-01-02 23:11:19', b'25.00') for MySQL DB tableA columns: ID, date_changed, price
    query = ""SELECT IFNULL(ID,''), IFNULL(date_changed,''), IFNULL(price, '') FROM tableA WHERE product = '"" + productName + ""';""   
    cur.execute(query)
    for r in cur.fetchall():
        # Given the returned result tuple r[] from the remote DB included byte literals instead of strings, I had to encode the '' strings in the condition below to make them byte literals
        # However, I did not have to encode floats like mMaxyPrice and float(r[2]) as they were not a string; float calculations were working fine, even though the returned float values were also byte literals within the tuple
        if not r[1] and float(r[2]) >= myMaxPrice: 
            #Had to encode and then decode r[0] below due to the ID column value r[0] coming back from the remote DB query / fetchall() as a byte literal with a ""b"" prefix
            query = ""UPDATE tableA SET date_changed = '"" + theDateTime + ""', price = "" + str(myMaxPrice) + "" WHERE ID = "" + r[0].decode(encoding='utf-8') + "";""  
            cur.execute(query)
            conn.commit()
except pymysql.Error as e:
    try:
        print(""\nMySQL Error {0}: {1}\n"".format(e.args[0], e.args[1]))
    except IndexError:
        print(""\nMySQL Index Error: {0}\n"".format(str(e)))
    print(""\nThere was a problem reading info from the remote database!!!\n"") 
"
3256,23768,"In Python, getting each element of a variable-length list into a function call?","  def f(*words):
      for word in words:
          print word

  line = ""This is a line of text with multiple words""
  words = line.split()

  f(*words) 
"
24756,82355,decode utf-8 content in python,">>> from bs4 import BeautifulSoup
>>> soup = BeautifulSoup('''\
... <html><head><meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8"" />
... </head><body>
... &#2453;&#2469;&#2494;&#2527; &#2476;&#2482;&#2503;- &#2478;&#2494;&#2459;&#2503; &#2477;&#2494;&#2468;&#2503; &#2476;&#2494;&#2457;&#2494;&#2482;&#2495;&#2404;</p> <p>&#2453;&#2476;&#2495; &#2440;&#2486;&#2509;&#2476;&#2480; &#2455;&#2497;&#2474;&#2509;&#2468; &#2438;&#2480;&#2503;&#2453; &#2471;&#2494;&#2474; &#2447;&#2455;&#2495;&#2527;&#2503; &#2476;&#2482;&#2503;&#2472;, '&#2477;&#2494;&#2468;-&#2478;&#2494;&#2459; &#2454;&#2503;&#2527;&#2503; &#2476;&#2494;&#2433;&#2458;&#2503; &#2476;&#2494;&#2457;&#2509;&#2455;&#2494;&#2482;&#2495; &#2488;&#2453;&#2482;/ &#2471;&#2494;&#2472;&#2503; &#2477;&#2480;&#2494; &#2477;
... </body></html>''', 'lxml')
>>> soup
<html><head><meta content=""text/html; charset=unicode-escape"" http-equiv=""Content-Type""/>\n</head><body>\n\u0995\u09a5\u09be\u09df \u09ac\u09b2\u09c7- \u09ae\u09be\u099b\u09c7 \u09ad\u09be\u09a4\u09c7 \u09ac\u09be\u0999\u09be\u09b2\u09bf\u0964 <p>\u0995\u09ac\u09bf \u0988\u09b6\u09cd\u09ac\u09b0 \u0997\u09c1\u09aa\u09cd\u09a4 \u0986\u09b0\u09c7\u0995 \u09a7\u09be\u09aa \u098f\u0997\u09bf\u09df\u09c7 \u09ac\u09b2\u09c7\u09a8, '\u09ad\u09be\u09a4-\u09ae\u09be\u099b \u0996\u09c7\u09df\u09c7 \u09ac\u09be\u0981\u099a\u09c7 \u09ac\u09be\u0999\u09cd\u0997\u09be\u09b2\u09bf \u09b8\u0995\u09b2/ \u09a7\u09be\u09a8\u09c7 \u09ad\u09b0\u09be \u09ad\n</p></body></html>
>>> soup.get_text()
u""\n\n\u0995\u09a5\u09be\u09df \u09ac\u09b2\u09c7- \u09ae\u09be\u099b\u09c7 \u09ad\u09be\u09a4\u09c7 \u09ac\u09be\u0999\u09be\u09b2\u09bf\u0964 \u0995\u09ac\u09bf \u0988\u09b6\u09cd\u09ac\u09b0 \u0997\u09c1\u09aa\u09cd\u09a4 \u0986\u09b0\u09c7\u0995 \u09a7\u09be\u09aa \u098f\u0997\u09bf\u09df\u09c7 \u09ac\u09b2\u09c7\u09a8, '\u09ad\u09be\u09a4-\u09ae\u09be\u099b \u0996\u09c7\u09df\u09c7 \u09ac\u09be\u0981\u099a\u09c7 \u09ac\u09be\u0999\u09cd\u0997\u09be\u09b2\u09bf \u09b8\u0995\u09b2/ \u09a7\u09be\u09a8\u09c7 \u09ad\u09b0\u09be \u09ad\n""
>>> print soup.get_text()


কথায় বলে- মাছে ভাতে বাঙালি। কবি ঈশ্বর গুপ্ত আরেক ধাপ এগিয়ে বলেন, 'ভাত-মাছ খেয়ে বাঁচে বাঙ্গালি সকল/ ধানে ভরা ভ
"
28845,33520,Overriding default argparse -h behaviour,"parser = argparse.ArgumentParser('Cool', add_help=False)
parser.add_argument('-h', '--hi', action='store_true', dest='hi')
"
40,20438,Specific Try and Except,"keepgoing = True
while keepgoing:
    userInput = input(""Please enter an integer: "")  # Get the input.
    try:
        userInput = int(userInput)  # Try to convert it into an integer.
    except ValueError:
        if userInput:  # See if input is non-empty.
            print(""Sorry, that is not an integer."")
        else: # If we get here, there was no input.
            print(""Empty input"")
    else:
        keepgoing = False
"
250,3225,Python - Organisation of 3 subplots with matplotlib,"import numpy as np
import matplotlib.pylab as pl
import matplotlib.gridspec as gridspec

# Create 2x2 sub plots
gs = gridspec.GridSpec(2, 2)

pl.figure()
ax = pl.subplot(gs[0, 0]) # row 0, col 0
pl.plot([0,1])

ax = pl.subplot(gs[0, 1]) # row 0, col 1
pl.plot([0,1])

ax = pl.subplot(gs[1, :]) # row 1, span all columns
pl.plot([0,1])
"
31488,78410,How do you remove the column name row from a pandas DataFrame?,"df.to_csv('filename.csv', sep=',' , header=False , index=False)
"
7142,81740,Does Django 1.6 support the IGNORABLE_404_URLS setting?,"IGNORABLE_404_URLS = (
    re.compile(r'^wp-login$'),
)
"
2552,59707,Python equivalent to atoi / atof,">>> import re
>>> p = re.compile(r'[^\d-]*(-?[\d]+(\.[\d]*)?([eE][+-]?[\d]+)?)')
>>> def test(seq):
        for s in seq:
            m = p.match(s)
            if m:
                result = m.groups()[0]
                if ""."" in result or ""e"" in result or ""E"" in result:
                    print ""{0} -> {1}"".format(s, float(result))
                else:
                    print '""{0}"" -> {1}'.format(s, int(result))
            else:
                print s, ""no match""

>>> test(s)
""1 0"" -> 1
""3 of 12"" -> 3
""3 1/2"" -> 3
""3/12"" -> 3
3.15 seconds -> 3.15
3.0E+102 -> 3e+102
""what about 2?"" -> 2
""what about -2?"" -> -2
2.10a -> 2.1
"
10441,60309,Python package/module import functions from sub packages,"from bigpackage.subpackage.modulefile import function1, function2

function1(bla, bla, bla)
"
17571,84156,Python remove keys with the same value on a dictionary,">>> d = {'key1': [1,2,3], 'key2': [1,2,6], 'key3': [1,2,3]}
>>> d2 = {tuple(v): k for k, v in d.items()}  # exchange keys, values
>>> d = {v: list(k) for k, v in d2.items()}   # exchange again
>>> d
{'key2': [1, 2, 6], 'key1': [1, 2, 3]}
"
10576,69348,python compounding interest,"print ('Luke\n-----')
print ('Year\tPrincipal\tInterest\t Total')

LU_RATE = .05
YEAR = 1
Principal = 100
Prev_Principal = 100   #added to store previous year principal

for YEAR in range (1,28):

    # Calculating Luke's total using formula for compounding interest
    Lu_Total = (Principal * ((1 + LU_RATE) ** YEAR))

    Lu_Interest = Lu_Total - Prev_Principal

    Lu_Principal = Lu_Total - Lu_Interest

    Prev_Principal = Lu_Total


    # Displaying the Principal, Interest, and Total over the 27
    print (YEAR,'\t%.02f\t\t %.02f\t\t %.02f' %(Lu_Principal, Lu_Interest, Lu_Total))
"
37114,15341,How to run Flask app with Tornado,"from tornado.wsgi import WSGIContainer
from tornado.httpserver import HTTPServer
from tornado.ioloop import IOLoop
from yourapplication import app

http_server = HTTPServer(WSGIContainer(app))
http_server.listen(5000)
IOLoop.instance().start()
"
39173,17021,How to save trajectories of tracked objects with trackpy?,"import pickle
pickle.dump(t,open(""filename.pck"",""wb""))
"
20801,72676,I have a database and API for hindi wordnet. I want to access this wordnet from NLTK python. Is there any way to add our own wordnet into NLTK?,"#: A list of file identifiers for all the fileids used by this
#: corpus reader.
_FILES = ('cntlist.rev', 'lexnames', 'index.sense',
          'index.adj', 'index.adv', 'index.noun', 'index.verb',
          'data.adj', 'data.adv', 'data.noun', 'data.verb',
          'adj.exc', 'adv.exc', 'noun.exc', 'verb.exc', )

def __init__(self, root):
    """"""
    Construct a new wordnet corpus reader, with the given root
    directory.
    """"""
    super(WordNetCorpusReader, self).__init__(root, self._FILES,
                                              encoding=self._ENCODING)
"
23519,8673,How to launch a program with many arguments in Python/Linux,"subprocess.Popen([PATH_TO_G++ + ""/g++"", ""file.cpp"", ""-o"", ""file.exe""])
"
38641,55576,Modify python regexp to match all floating point numbers instead of only the first one,"def extract_number(s,notfound='NOT_FOUND'):
    regex=r'[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?'
    return re.findall(regex,s)
"
9421,15371,Ordering objects by rating accounting for the number or ratings,"from itertools import chain

main_query = Resource.objects.all().annotate(rating=Avg('resourcerating__rating'),rate_count=Count('resourcerating'))

data_top_query = main_query.exclude(rate_count__lt=settings.ORB_RESOURCE_MIN_RATINGS).order_by(order_by)
data_bottom_query = main_query.exclude(rate_count__gte=settings.ORB_RESOURCE_MIN_RATINGS).order_by(order_by)

data = list(chain(data_top_query, data_bottom_query))
"
29230,41220,How to install and import Python modules at runtime?,"#!/usr/bin/env python

import pip
import imp

def install_and_load(package):
    pip.main(['install', package])

    path = '/usr/local/lib/python2.7/dist-packages'
    if path not in sys.path:
        sys.path.append(path)

    f, fname, desc = imp.find_module(package)
    return imp.load(package, f, fname, desc)

if __name__ == ""__main__"":
    try:
        import pexpect
    except:
        pexpect = install_and_load('pexpect')

    # More code...
"
31022,5402,Django aggregation on a date range,"cursor = connection.cursor()
cursor.execute(""""""select to_char(allmonths.yeardate::date, 'YYYY/MM/DD') as monthdate,
                    COUNT(""day"") as bookings
                    from (
                    select distinct date_trunc('month', (date %s - offs)) as yeardate 
                    from generate_series(0,365,28) as offs
                    ) as allmonths
                    left join bookings_bookedassetday 
                    on EXTRACT(MONTH from ""day"")=EXTRACT(MONTH from yeardate) 
                    and asset_id=%s and EXTRACT(YEAR from ""day"") = %s
                    group by allmonths.yeardate
                    order by allmonths.yeardate asc"""""", [year+'-12-31', id, year])

query = cursor.fetchall()
"
19068,3559,Kivy wait for animation to finish before continuing,"def __init__(self):
    ...
    # Initializing stuff...
    ...
    self.anim_queue = []
    self.block_keyboard = False

def create_movement_animation(self, widget):
    self.anim_queue.append((widget, Animation(x=widget.expected_x, y=widget.expected_y))
    # Adding widget-animation tuple

def block(self):
    self.block_keyboard = True

def run_animation(self):
    if len(self.anim_queue)>0:
        w, a = self.anim_queue.pop(0)
        a.bind(on_start=lambda x,y: self.block(),
            on_complete=lambda x,y: self.run_animation())
        a.start(w)
    else:
        self.block_keyboard=False

def _on_key_down(self, keyboard, keycode, text, modifiers):
    if self.block_keyboard:
        return
    for actor in self.map.actors:
        actor.make_turn()
        if actor.moved:
            self.create_movement_animation(actor.widget)
    self.run_animation()
"
15517,37964,act on all children at once on pyqt widget,"[textEditor.clear() for textEditor in myGroupBox.findChildren(QtGui.QTextEdit)]
"
1762,49645,Key=Val matching using regex,">> regex = re.compile('(?P<key>[^=]+)(?:=(?P<val>.+))?')
>>> regex.match('x=y').groupdict()
{'key': 'x', 'val': 'y'}
>>> regex.match('x').groupdict()
{'key': 'x', 'val': None}
"
6586,64116,How to apply a function to a collection of elements,"(foobar(x) for x in S)
"
30582,69139,Sklearn SGDClassifier partial fit,"from sklearn.linear_model import SGDClassifier
import random
clf2 = SGDClassifier(loss='log') # shuffle=True is useless here
shuffledRange = range(len(X))
n_iter = 5
for n in range(n_iter):
    random.shuffle(shuffledRange)
    shuffledX = [X[i] for i in shuffledRange]
    shuffledY = [Y[i] for i in shuffledRange]
    for batch in batches(range(len(shuffledX)), 10000):
        clf2.partial_fit(shuffledX[batch[0]:batch[-1]+1], shuffledY[batch[0]:batch[-1]+1], classes=numpy.unique(Y))
"
38307,18343,Dictionary of types,">>> class A(object): pass
>>> class B(object): pass
>>> hash(A)
2579460
>>> hash(B)
2579600
"
14531,9229,Peak detection in a 2D array,"import numpy as np
from scipy.ndimage.filters import maximum_filter
from scipy.ndimage.morphology import generate_binary_structure, binary_erosion
import matplotlib.pyplot as pp

#for some reason I had to reshape. Numpy ignored the shape header.
paws_data = np.loadtxt(""paws.txt"").reshape(4,11,14)

#getting a list of images
paws = [p.squeeze() for p in np.vsplit(paws_data,4)]


def detect_peaks(image):
    """"""
    Takes an image and detect the peaks usingthe local maximum filter.
    Returns a boolean mask of the peaks (i.e. 1 when
    the pixel's value is the neighborhood maximum, 0 otherwise)
    """"""

    # define an 8-connected neighborhood
    neighborhood = generate_binary_structure(2,2)

    #apply the local maximum filter; all pixel of maximal value 
    #in their neighborhood are set to 1
    local_max = maximum_filter(image, footprint=neighborhood)==image
    #local_max is a mask that contains the peaks we are 
    #looking for, but also the background.
    #In order to isolate the peaks we must remove the background from the mask.

    #we create the mask of the background
    background = (image==0)

    #a little technicality: we must erode the background in order to 
    #successfully subtract it form local_max, otherwise a line will 
    #appear along the background border (artifact of the local maximum filter)
    eroded_background = binary_erosion(background, structure=neighborhood, border_value=1)

    #we obtain the final mask, containing only peaks, 
    #by removing the background from the local_max mask
    detected_peaks = local_max - eroded_background

    return detected_peaks


#applying the detection and plotting results
for i, paw in enumerate(paws):
    detected_peaks = detect_peaks(paw)
    pp.subplot(4,2,(2*i+1))
    pp.imshow(paw)
    pp.subplot(4,2,(2*i+2) )
    pp.imshow(detected_peaks)

pp.show()
"
39472,22812,Iterate two or more lists / numpy arrays... and compare each item with each other and avoid loops in python,"from itertools import product

pro = product(A,B)
C = map(lambda x: func(*x), pro)
"
36666,82775,"How can I get the matplotlib rgb color, given the colormap name, BoundryNorm, and 'c='?","In [22]:

def cstm_autumn_r(x):
    return plt.cm.autumn_r((np.clip(x,2,10)-2)/8.)
In [23]:

cstm_autumn_r(1.4)
Out[23]:
(1.0, 1.0, 0.0, 1.0) #rgba yellow
In [24]:

cstm_autumn_r(10.5) #rgba red
Out[24]:
(1.0, 0.0, 0.0, 1.0)
In [25]:

%matplotlib inline
x = np.linspace(0, 15)
plt.scatter(x,x, c=cstm_autumn_r(x))
"
26285,22998,"Python Pandas: combine 2 dataframes, one frame's column as the final result's index","In [11]: merged = df.merge(df2)

In [12]: merged
Out[12]:
   userId  isbn  rating title
0       1     1       3   aaa
1       2     2       4   bbb
2       2     3       5   ccc

In [13]: merged.pivot_table('rating', 'title', 'userId')
Out[13]:
userId   1   2
title
aaa      3 NaN
bbb    NaN   4
ccc    NaN   5
"
16756,11160,discontinous axis in subplot - python matplotlib,"import numpy as np
import matplotlib.gridspec as gridspec
import matplotlib.pyplot as plt

gs = gridspec.GridSpec(4, 2)
ax00 = plt.subplot(gs[:2, 0])
ax01 = plt.subplot(gs[:2, 1])
ax10a = plt.subplot(gs[2, 0])
ax10b = plt.subplot(gs[3, 0])
ax11 = plt.subplot(gs[2:, 1])

x = np.linspace(-1, 1, 500)
y = 100*np.cos(10*x)**2*np.exp(-x**2)
for ax in (ax00, ax01, ax10a, ax10b, ax11):
    ax.plot(x, y)

ax10a.set_ylim(60, 110)
ax10b.set_ylim(0, 10) 

ax10a.spines['bottom'].set_visible(False)
ax10b.spines['top'].set_visible(False)
ax10a.xaxis.tick_top()
ax10a.tick_params(labeltop='off') # don't put tick labels at the top
ax10b.xaxis.tick_bottom()

d = .015 # how big to make the diagonal lines in axes coordinates
# arguments to pass plot, just so we don't keep repeating them
kwargs = dict(transform=ax10a.transAxes, color='k', clip_on=False)
ax10a.plot((-d,+d),(-d,+d), **kwargs)      # top-left diagonal
ax10a.plot((1-d,1+d),(-d,+d), **kwargs)    # top-right diagonal

kwargs.update(transform=ax10b.transAxes)  # switch to the bottom axes
ax10b.plot((-d,+d),(1-d,1+d), **kwargs)   # bottom-left diagonal
ax10b.plot((1-d,1+d),(1-d,1+d), **kwargs) # bottom-right diagonal

plt.tight_layout()
plt.show()
"
13663,85154,Python - Access hierarchical dict element from list of keys,">>> from functools import reduce #only necessary in 3.X
>>> d = {}
>>> d['a'] = {} #I'm assuming this is what you meant to type
>>> d['a']['b'] = 3
>>> keys = (""a"", ""b"")
>>> reduce(dict.get, keys, d)
3
"
27918,35508,Python: Printing a new line after a recursive function,"def postorder_transversal(self, add_newline=True):
    if self.node == None:
        return 0
    for child in self.children:
        child.postorder_transversal(add_newline=False)
    print self.node,
    if add_newline:
        print
"
27976,68094,Using a loop + string accumulator to format a List,"lst = [52.0, 55.0, 567.0, 92.0, 2.0, 5.0]

def foo(lst):
    bar = ''
    for i in lst:
        i = format(i, '.2f')
        bar+= '${}, '.format(str(i))
    bar = bar.rstrip(', ')
    return '{'+bar+'}'

print(foo(lst))
"
33021,31620,Python equivalent of 7th parameter of Z3_API Z3_benchmark_to_smtlib_string,"/**
   \brief Convert the given benchmark into SMT-LIB formatted string.

   \conly \warning The result buffer is statically allocated by Z3. It will
   \conly be automatically deallocated when #Z3_del_context is invoked.
   \conly So, the buffer is invalidated in the next call to \c Z3_benchmark_to_smtlib_string.

   \param c - context.
   \param name - name of benchmark. The argument is optional.
   \param logic - the benchmark logic. 
   \param status - the status string (sat, unsat, or unknown)
   \param attributes - other attributes, such as source, difficulty or category.
   \param num_assumptions - number of assumptions.
   \param assumptions - auxiliary assumptions.
   \param formula - formula to be checked for consistency in conjunction with assumptions.

   def_API('Z3_benchmark_to_smtlib_string', STRING, (_in(CONTEXT), _in(STRING), _in(STRING), _in(STRING), _in(STRING), _in(UINT), _in_array(5, AST), _in(AST)))
*/
Z3_string Z3_API Z3_benchmark_to_smtlib_string(__in   Z3_context c, 
                                               __in Z3_string name,
                                               __in Z3_string logic,
                                               __in Z3_string status,
                                               __in Z3_string attributes,
                                               __in   unsigned num_assumptions,
                                               __in_ecount(num_assumptions) Z3_ast const assumptions[],
                                               __in   Z3_ast formula);
"
5378,2623,Using python for boiler plate text,"$ sqlite3 text.db
SQLite version 3.8.2 2013-12-06 14:53:30
Enter "".help"" for instructions
Enter SQL statements terminated with a "";""
sqlite> CREATE TABLE ""txt"" (""txt_id"" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE  DEFAULT 1, ""the_text"" TEXT);

sqlite> insert into txt (""txt_id"",""the_text"") values (1,""a great chunk of text"");

sqlite> insert into txt (""txt_id"",""the_text"") values (2,""Elephants are large mammals of the family Elephantidae and the order Proboscidea. Two species are traditionally recognised, the African elephant (Loxodonta africana) and the Asian elephant (Elephas maximus), although some evidence suggests that African bush elephants and African forest elephants are separate species (L. africana and L. cyclotis respectively). Elephants are scattered throughout sub-Saharan Africa, South Asia, and Southeast Asia. Elephantidae are the only surviving family of the order Proboscidea; other, now extinct, families of the order include mammoths and mastodons. Male African elephants are the largest surviving terrestrial animals and can reach a height of 4 m (13 ft) and weigh 7,000 kg (15,000 lb). All elephants have several distinctive features the most notable of which is a long trunk or proboscis, used for many purposes, particularly breathing, lifting water and grasping objects. Their incisors grow into tusks, which can serve as weapons and as tools for moving objects and digging. Elephants' large ear flaps help to control their body temperature. Their pillar-like legs can carry their great weight. African elephants have larger ears and concave backs while Asian elephants have smaller ears and convex or level backs."");

sqlite> select * from txt;

1|a great chunk of text

2|Elephants are large mammals of the family Elephantidae and the order Proboscidea. Two species are traditionally recognised, the African elephant (Loxodonta africana) and the Asian elephant (Elephas maximus), although some evidence suggests that African bush elephants and African forest elephants are separate species (L. africana and L. cyclotis respectively). Elephants are scattered throughout sub-Saharan Africa, South Asia, and Southeast Asia. Elephantidae are the only surviving family of the order Proboscidea; other, now extinct, families of the order include mammoths and mastodons. Male African elephants are the largest surviving terrestrial animals and can reach a height of 4 m (13 ft) and weigh 7,000 kg (15,000 lb). All elephants have several distinctive features the most notable of which is a long trunk or proboscis, used for many purposes, particularly breathing, lifting water and grasping objects. Their incisors grow into tusks, which can serve as weapons and as tools for moving objects and digging. Elephants' large ear flaps help to control their body temperature. Their pillar-like legs can carry their great weight. African elephants have larger ears and concave backs while Asian elephants have smaller ears and convex or level backs.

sqlite> 
"
8817,6300,Using two counters in a loop,"def Fight():

    player_wins = 0
    alien_wins = 0

    while player_wins <= 3 and alien_wins <= 3:

        player_roll = random.randint(0, 10)
        alien_roll = random.randint(0, 7)

        if player_roll > alien_roll:
            contents.set(""You manage to fire a shot of your laser pistol and the alien backs off."")
            player_wins += 1

        elif alien_roll > player_roll:
            contents.set(""The alien reaches out and strikes you with its claws."")
            alien_wins += 1

        elif alien_roll == player_roll:
            contents.set(""You both grapple eachother and eventually back off."")        

    if player_wins == 3:
        contents.set(""You manage to overcome the alien. It leaps from wall to wall and crawls into the vents."")
        win = True
    elif alien_wins == 3:
        contents.set(""You lose the fight to the alien. Game Over!"")
    return
"
37504,62142,What is a way to convert text to a string in Python 3.3.0,"from tkinter import *
from tkinter import ttk

def write_text():
    text = edit.get('1.0', END)
    with open(""DATA/Test.txt"", ""w"") as f:
        f.write(text)

root = Tk()
root.title(""This May Help"")
root.geometry(""600x600"")

edit = Text(root, width=80, height=25, wrap=NONE)
edit.insert('1.0', '[enter text]')
edit.grid(column=0, row=0, sticky=(N,W,E,S))

yscroll = ttk.Scrollbar(root, orient=VERTICAL, command=edit.yview)
yscroll.grid(column=1, row=0, sticky=(N,S))
edit['yscrollcommand'] = yscroll.set

xscroll = ttk.Scrollbar(root, orient=HORIZONTAL, command=edit.xview)
xscroll.grid(column=0, row=1, sticky=(W,E))
edit['xscrollcommand'] = xscroll.set

write_button = Button(text=""Write"", command=write_text)
write_button.grid(column=0, row=2)
"
366,1692,Changing values in nested lists with python,"grid = []
for i in range(height):
    if i % 2 == 0:
        grid.append(line[:])
    else:
        board.append(linerev[:])
"
5611,32051,"How can I pass null to an external library, using ctypes, with an argument declared with ctypeslib.ndpointer?","import numpy as np
from numpy.ctypeslib import ndpointer

def wrapped_ndptr(*args, **kwargs):
  base = ndpointer(*args, **kwargs)
  def from_param(cls, obj):
    if obj is None:
      return obj
    return base.from_param(obj)
  return type(base.__name__, (base,), {'from_param': classmethod(from_param)})

ComplexArrayType = wrapped_ndptr(dtype=np.complex128, ndim=1, flags='C_CONTIGUOUS')
DoubleArrayType = wrapped_ndptr(dtype=np.float64, ndim=1, flags='C_CONTIGUOUS')
"
4371,84414,Multi threading in python : issue with parallel processing,"th1 = threading.Thread(target=runServer)
th2 = threading.Thread(target=getInfo)
"
26213,40793,Find keys in multidimensional dict based on value,"{k: v for k, v in my_dict.items() if v['baz'] == 'abc'}
"
24049,36351,How to solve a equation set in python?,">>> import scipy
>>> import numpy as np
>>> a = np.array([[3,2,0],[1,-1,0],[0,5,1]])
>>> b = np.array([2,4,-1])
>>> x = linalg.solve(a,b)
>>> x
array([ 2., -2.,  9.])
"
36731,7907,Array of 1's in indexed positions,">>> minima = np.array([[0], [1], [2], [1], [0]])
>>> minima == arange(minima.max() + 1)
array([[ True, False, False],
       [False,  True, False],
       [False, False,  True],
       [False,  True, False],
       [ True, False, False]], dtype=bool)
>>> (minima == arange(minima.max() + 1)).astype(int)
array([[1, 0, 0],
       [0, 1, 0],
       [0, 0, 1],
       [0, 1, 0],
       [1, 0, 0]])
"
10666,11485,how to use python to login page which requires session id responded by server on first request?,"url = ""some url of login page""
payload = {'username': 'p05989', 'password': '123456'}
with requests.session() as s:
    # fetch the login page
    s.get(url)

    # post to the login form
    r = s.post(url1, data=payload)
    print(r.text)
"
36907,54210,How to update/insert cell in variables using Python in SPSS,"*python_dataset_modify_cases.sps.
DATA LIST FREE /cust (F2) amt (F5).
BEGIN DATA
210 4500
242 6900
370 32500
END DATA.
BEGIN PROGRAM.
import spss
spss.StartDataStep()
datasetObj = spss.Dataset()
for i in range(len(datasetObj.cases)):
   # Multiply the value of amt by 1.05 for each case
   datasetObj.cases[i,1] = 1.05*datasetObj.cases[i,1][0]
spss.EndDataStep()
END PROGRAM.
"
24880,32128,Get defining class of unbound method object in Python 3,">>> class X:
...   def Y(self): pass
... 
>>> type(X.Y)
<class 'function'>
"
32146,41108,What kind of design pattern am I looking for and how do I implement this in python,"class MyAPI(object):
    def __init__(self):
       pass

    def upload(self):
       # IMPROVEMENT making this function abstract
       # This is how I do it, but you can find other ways searching on google
       raise NotImplementedError, ""upload function not implemented""

    def download(self):
       # IMPROVEMENT making this function abstract
       # This is how I do it, but you can find other ways searching on google
       raise NotImplementedError, ""download function not implemented""

# IMPROVEMENT Notice that I changed object to MyAPI to inherit from it
class MyAPIEx(MyAPI):
   def upload(self):
      #specific implementation

# IMPROVEMENT Notice that I changed object to MyAPI to inherit from it
class MyAPIEx2(MyAPI): 
   def upload(self)
      #specific implementation


# IMPROVEMENT changed use_api() to get_api(), which is a factory,
# call it to get the MyAPI implementation
def get_api(configDict):
     if 'MyAPIEx' in configDict:
         return MyAPIEx()
     elif 'MyAPIEx2' in configDict:
         return MyAPIEx2()
     else
         # some sort of an error

# Actual usage ... 
# IMPROVEMENT, create a config dictionary to be used in the factory
configDict = dict()
# fill in the config accordingly
obj = get_api(configDict)
obj.upload()
"
12729,14232,python replace section of text with only knowing the begining and last word,"import re

# create regular expression pattern
chop = re.compile('#chop-begin.*?#chop-end', re.DOTALL)

# open file
f = open('data', 'r')
data = f.read()
f.close()

# chop text between #chop-begin and #chop-end
data_chopped = chop.sub('', data)

# save result
f = open('data', 'w')
f.write(data_chopped)
f.close()
"
24424,48638,Grabbing certain data from sorted list in Python,"import itertools
def truncate_groups(seq, max_group_size, key):
    """"""yield only the first `max_group_size` elements from each sub-group of `seq`""""""
    for key, group in itertools.groupby(seq, key):
        for item in list(group)[:max_group_size]:
            yield item

for row in truncate_groups(summary_results, 10, lambda x: x[0].lower(), x[1].lower()):
    print row
"
38487,57350,Is there a better way than double parsing the string?,">>> line = ""SRC=127.0.0.1""
>>> m = re.search(r'SRC=(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})', line)
>>> m.group(0)
'SRC=127.0.0.1'
>>> m.group(1)
'127.0.0.1'
"
6850,55449,Same bind for two commands in tkinter,"...
win1=Tk()
win1.bind(""<ButtonPress>"", lambda event: distance(event), gravitationalForce(event))
dchain = Label( win1)
...
"
17821,32721,Automated way to switch from epydoc's docstring formatting to sphinx docstring formatting?,"import re

re_field = re.compile('@(param|type|rtype|return)') 

def fix_docstring(app, what, name, obj, options, lines):
    for i in xrange(len(lines)):
        lines[i] = re_field.sub(r':\1', lines[i])

def setup(app):
    app.connect('autodoc-process-docstring', fix_docstring)
"
5220,52325,Clockwise Shifting a Matrix,"import collections
def shiftMatrix(matrix, layers, num,rotate_direction):
    for count in range(layers):
        temp1 = []
        i = count
        for j in range(count, num - count):
            temp1.append(matrix[i][j])
        j = num - 1 - count
        for i in range(1 + count, num - count -1):
            temp1.append(matrix[i][j])
        i = num - 1 - count
        for j in range(num - 1 - count, -1 + count, -1):
            temp1.append(matrix[i][j])
        j = count
        for i in range(num - 1 - count - 1, 0 + count, -1):
            temp1.append(matrix[i][j])
        temp = collections.deque(temp1)
        temp.rotate(rotate_direction)
        temp1 = list(temp)
        counter = 0
        i = count
        for j in range(count, num - count):
            matrix[i][j] = temp1[counter]
            counter += 1
        j = num - 1 - count
        for i in range(1 + count, num - count -1):
            matrix[i][j] = temp1[counter]
            counter += 1
        i = num - 1 - count
        for j in range(num - 1 - count, -1 + count, -1):
            matrix[i][j] = temp1[counter]
            counter += 1
        j = count
        for i in range(num - 1 - count - 1, 0 + count, -1):
            matrix[i][j] = temp1[counter]
            counter += 1
        return matrix


if __name__ == '__main__':
    num = int(raw_input())
    op_type = raw_input()
    matrix = []
    for i in range(num):
        temp = []
        input_string = raw_input().split()
        for element in input_string:
            temp.append(int(element))
        matrix.append(temp)
    if(num >= 3):
        layers = num - 3 + 1
    else:
        layers = 1
    if(op_type == ""CW""):
        matrix_result = shiftMatrix(matrix,layers,num,1);
    else:
        matrix_result = shiftMatrix(matrix,layers,num,-1);
    print("" "".join(("" "".join(map(str,element))) for element in matrix_result))
"
32026,22120,"In Python's PIL, how do I change the quality of an image?","from PIL import Image
im = Image.open(""C:\Users\Public\Pictures\Sample Pictures\Jellyfish.jpg"")
im.save(""C:\Users\Public\Pictures\Sample Pictures\Jellyfish_compressed.jpg"", quality=10)
"
18126,48737,How to use a raw_input value in a line for taking input in python,"p1 = input('Welcome {0} > Enter your no:'.format(p1))
"
17062,7211,"Calling python from bash, how to change python working dir?","cd transfer_dir
# execute the python scripts 
python merge.py
# restore old directory
cd ..                         
"
37883,911,numpy.tile a non-integer number of times,"arr = np.arange(6).reshape((2, 3))
desired_shape = np.array((5, 8))

pads = tuple((0, i) for i in (desired_shape-arr.shape))
# pads = ((0, add_rows), (0, add_columns), ...)
np.pad(arr, pads, mode=""wrap"")
"
19731,30403,Python: Create multiple lists with increasing size," import random
 [[random.randint(1, 1000) for _ in range(list_size)] for list_size in range(1,4)]
"
32930,16614,Django - queryset caching request-independent?,"from django.core.cache import cache

def cache_user(userid):
       key = ""user_{0}"".format(userid)
       value = cache.get(key)
       if value is None:
             # fetch value from db
             cache.set(value)

       return value
"
16724,46585,Modifying Matplotlib multicoloured histogram script to make it cumulative,"import histogram, numpy 
y = range(0, 100) #Except I used real data
Hist = histogram(y, bins=100, range=[0,100])
colors = ['red', 'blue', 'green', ]
ranges = [[0,30], [30,31], [31,100]]
fig = pyplot.figure(figsize=(8,6))
ax, plt, _ = fig.plothist(Hist, alpha=0) # plot for spacing
for c, r in zip(colors, ranges):
    plt = ax.overlay(Hist, range=r, facecolor=c)
print y

CumulativeHist = numpy.cumsum(h6)
colors = ['red', 'blue', 'green', ]
ranges = [[0,30], [30,31], [31,100]]
fig = pyplot.figure(figsize=(8,6))
ax, plt, _ = fig.plothist(CumulativeHist, alpha=0) # plot for spacing
for c, r in zip(colors, ranges):
    plt = ax.overlay(CumulativeHist, range=r, facecolor=c)

pyplot.show()
"
38380,22708,Combine elements of lists if some condition,">>> from itertools import groupby
>>> out = []
>>> for lst in words:
    d = []
    for k, g in groupby(lst, lambda x: '!' in x):
        if k:
            d.append(', '.join(g))
        else:
            d.extend(g)
    out.append(d)
...     
>>> out
[['this', 'that!', 'riff', 'raff'],
 ['hip', 'hop!, flip!', 'flop'],
 ['humpty', 'dumpty!, professor!, grumpy!']]
"
33069,62423,Multi body animation in python returns static picture,"from numpy import*
import matplotlib.pyplot as plt
import matplotlib.animation as animation

L=1         # lattice constant = sigma*2**0.5 (Let)

x=array([0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18])
#x=zeros(18,float)
y=zeros(18,float)

#~~~~~~~~~~~~~~~~~ ANIMATION ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
def simData():
    t = 1
    while t<=20:
        for i in range(18):
            x[i]=x[i]+L/2.0
            y[i]=y[i]+L/2.0
            if x[i]>L*3:                    # translate back the particle if it goes out of window limit 0 to L*cell
                x[i]=x[i]-L*3
            elif x[i]<0:
                x[i]=L*3-x[i]
            if y[i]>L*3:                    # translate back the particle if it goes out of window limit 0 to L*cell
                y[i]=y[i]-L*3
            elif y[i]<0:
                y[i]=L*3-y[i]
        t=t+1

def simPoints():
    k=0
    for i in range(0,6,1):
        for j in range(0,6,1):
            if (i+j)%2==0:
                x[k]=i*L*.5+.25*L
                y[k]=j*L*.5+.25*L
                k=k+1

fig = plt.figure()
ax = plt.axes()
#simPoints()
line, = ax.plot(x, y,'bo', ms=8)
ax.set_ylim(0, L*3)
ax.set_xlim(0, L*3)

def animate(i):
    simData()
    print x
    line.set_data(x, y)
    return line,

ani = animation.FuncAnimation(fig, animate, blit=False, interval=100, frames=200)

plt.show()
"
15921,42223,this simple function in python doesn't work properly,"for pair in list:
    if pair[1] == stringdestination:
        print ""target reached""
"
23604,46685,Dividing numpy 2D array into finer resolution,">>> a = np.random.rand(2,2)
>>> a
array([[ 0.66172561,  0.09262421],
       [ 0.40578266,  0.84510431]])
>>> a.repeat(2, 0).repeat(2, 1)
array([[ 0.66172561,  0.66172561,  0.09262421,  0.09262421],
       [ 0.66172561,  0.66172561,  0.09262421,  0.09262421],
       [ 0.40578266,  0.40578266,  0.84510431,  0.84510431],
       [ 0.40578266,  0.40578266,  0.84510431,  0.84510431]])
"
9343,546,Editing specific line in text file in python,"# with is like your try .. finally block in this case
with open('stats.txt', 'r') as file:
    # read a list of lines into data
    data = file.readlines()

print data
print ""Your name: "" + data[0]

# now change the 2nd line, note that you have to add a newline
data[1] = 'Mage\n'

# and write everything back
with open('stats.txt', 'w') as file:
    file.writelines( data )
"
33843,6408,how to update only one field instead creating another object - django 1.4,"location, created = Location.objects.get_or_create(pk=pk)
if created:
   num_of_new_locs+=1 #number of new locations increased
else:
   location.url= loc_fields['url']
   location.locationname = loc_fields['locationname']
   location.desc = loc_fields['desc']
   location.str_hnr = loc_fields['str_hnr']
   location.save()
"
26542,68136,Rotate line in Tkinter Canvas,"angle_in_radians = angle_in_degrees * math.pi / 180
line_length = 100
center_x = 250
center_y = 250
end_x = center_x + line_length * math.cos(angle_in_radians)
end_y = center_y + line_length * math.sin(angle_in_radians)
"
37357,5500,Context value seems not passed into ListView in Django?,"class MultipleObjectMixin(ContextMixin):
    # Some fields
    context_object_name = None

    def get_queryset(self):
        # get_queryset implementation

    def get_context_object_name(self, object_list):
        """"""
        Get the name of the item to be used in the context.
        """"""
        if self.context_object_name:
            return self.context_object_name
        elif hasattr(object_list, 'model'):
            return '%s_list' % object_list.model._meta.model_name
        else:
            return None

    def get_context_data(self, **kwargs):
        queryset = kwargs.pop('object_list', self.object_list)
        # Some stuff
        context_object_name = self.get_context_object_name(queryset)
        # Some other stuff
        if context_object_name is not None:
            context[context_object_name] = queryset
        context.update(kwargs)
        return super(MultipleObjectMixin, self).get_context_data(**context)

    # And, of course, a lot of other functions


class BaseListView(MultipleObjectMixin, View):
    def get(self, request, *args, **kwargs):
        self.object_list = self.get_queryset()
        # Some magic
        context = self.get_context_data()
        return self.render_to_response(context)

    # Skipped
"
25362,55940,Trouble with copying dictionaries and using deepcopy on an SQLAlchemy ORM object,"# transactional session
Session = sessionmaker(transactional=True)
sess = Session()
"
35213,6466,Python: cleaner list comprehension,"for w in words:
    if w != '':
        # ...
"
3643,28370,How to filter occupied models in one-to-one relationship in django admin,"class Woman(models.Model):
    age = models.IntegerField()
    ...

class Man(models.Model):
    age = models.IntegerField()
    woman = models.OneToOneField(Woman)
    ...
"
367,81680,python array sorting and indexing,"from collections import defaultdict

grouped = defaultdict(list)
for position, v in np.ndenumerate(arr):
    grouped[v].append(position)

for v, positions in grouped.items():
    print('{0} is at {1}'.format(v, positions))
"
33833,35549,How to create a Tree-based Map with keys,"def mapInsert(key, value, map1):
  if isinstance(map1, EmptyMap):
    return mkNonEmptyMap(mkEmptyMap(), key, value, mkEmptyMap())
  else:
    if map1.key == key:
      map1.value = value;
    else if map1.key > key:
      return map1.left = mapInsert(key, value, map1.left)
    else:
      return map1.right = mapInsert(key, value, map1.right)
"
9540,58121,How to get the ip address of the computer which runs a web application in python,">>> netifaces.interfaces()
['lo0', 'gif0', 'stf0', 'en0', 'en1', 'fw0']


>>> netifaces.ifaddresses('lo0')
{18: [{'addr': ''}], 2: [{'peer': '127.0.0.1', 'netmask': '255.0.0.0', 'addr': '127.0.0.1'}], 30: [{'peer': '::1', 'netmask': 'ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff', 'addr': '::1'}, {'peer': '', 'netmask': 'ffff:ffff:ffff:ffff::', 'addr': 'fe80::1%lo0'}]}
"
34380,47851,Replace python for loops with vectorized method to discard missing data,"df = pd.DataFrame({'backtest_month': [70, 71, 121, 122, 123],
                   'id': ['USA06W90', 'USA06W90', 'USA06W90', 'USA06W90', 'USA06W90'],
                   'port': [5, 5, 1, 1, 1],
                   'port_months': [11, 12, 1, 2, 3]})

>>> df
              id  port  port_months  backtest_month         key
63682   USA06W90     5           11              70  USA06W90_5
236452  USA06W90     5           12              71  USA06W90_5
238905  USA06W90     1            1             121  USA06W90_1
241358  USA06W90     1            2             122  USA06W90_1
243808  USA06W90     1            3             123  USA06W90_1

#  Create a unique portfolio identifier.
df['key'] = df['id'] + '_' + df.port.astype(str)

# Use .loc to locate all unique portfolios that had a `port_months` value of one.
portfolios_first_month = df.loc[df.port_months == 1, 'key'].unique()
>>> portfolios_first_month
array(['USA06W90_1'], dtype=object)

# Use .loc again to locate all portfolio keys that were previously identified above.  
# The colon indicates that all columns should be returned.
df_filtered = df.loc[df.key.isin(portfolios_first_month), :]

>>> df_filtered
              id  port  port_months  backtest_month         key
238905  USA06W90     1            1             121  USA06W90_1
241358  USA06W90     1            2             122  USA06W90_1
243808  USA06W90     1            3             123  USA06W90_1
"
8228,13366,Calculating number of characters excluding whitespace - python,"[matt tmp] python -m timeit ""sum(1 for c in 'blah blah blah' if c != ' ')""
100000 loops, best of 3: 2.96 usec per loop
[matt benchmark] python -m timeit -s ""import re; pattern = re.compile(r'\s+')"" ""len(pattern.sub('', 'blah blah blah'))""
100000 loops, best of 3: 2.2 usec per loop
[matt tmp] python -m timeit ""len(''.join('blah blah blah'.split()))""
1000000 loops, best of 3: 0.785 usec per loop
[matt tmp] python -m timeit ""len('blah blah blah'.replace(' ', ''))""
1000000 loops, best of 3: 0.437 usec per loop
[matt tmp] python -m timeit ""len('blah blah blah') - 'blah blah blah'.count(' ')""
1000000 loops, best of 3: 0.384 usec per loop
"
29700,80348,Define a Custom Form for use in Django's ModelAdmin Add View,"
class MyModelAdmin(admin.ModelAdmin):
    def get_form(self, request, obj=None, **kwargs):
        # hide every other field apart from url
        # if we are adding
        if obj is None:
            kwargs['fields'] = ['url']
        return super(MyModelAdmin, self).get_form(request, obj, **kwargs)
"
9903,22607,"Python, sort a list of dicts by an arbitrary order","In [1]: a = [{'id':1}, {'id':2}, {'id':3}]

In [2]: b = [2,1,3]

In [3]: a.sort(key=lambda v : b.index(v['id']))

In [4]: a
Out[4]: [{'id': 2}, {'id': 1}, {'id': 3}]
"
26662,66042,django site administration (entering fixtures data),"def __unicode__(self):
  return self.name
"
30481,79664,Add timeout argument to python's Queue.join(),"def join_with_timeout(self, timeout):
    self.all_tasks_done.acquire()
    try:
        endtime = time() + timeout
        while self.unfinished_tasks:
            remaining = endtime - time()
            if remaining <= 0.0:
                raise NotFinished
            self.all_tasks_done.wait(remaining)
    finally:
        self.all_tasks_done.release()
"
15351,64269,How to get Python interactive console in current namespace?,"code.interact(local=locals())
"
7785,1312,Reading part of a file in S3 using Boto,"import boto
s3 = boto.connect_s3()
bucket = s3.lookup('mybucket')
key = bucket.lookup('mykey')
your_bytes = key.get_contents_as_string(headers={'Range' : 'bytes=73-1024'})
"
34128,65791,Php: Running a python scrip using blender from a php project using cmd commands,"$json = str_replace(""\"""", ""\\\"""",  json_encode($jsonArray));
$script = ""C:\Users\madalina\Desktop\workspace\script.py"";
$blander_path = ""C:\Program Files\Blender Foundation\Blender"";
$output = exec(""cd $blander_path && blender -b -P $script -- \""$json\"""", $data);
print_r($data);
"
19410,44395,python beautifulsoup shorten code,"for key in ['data-book-api', 'data-book-human', ...]:
    del thearticle[key]
"
17012,51587,Python: Data Getting,"with open(""file.txt"", ""r"") as f:
        key, val = f.readline().split('=')
        if key.strip() == 'data1':  # if data1 is not the first line
            # do something with value and data
"
34699,15156,Python close children when closing main process,"#!/usr/bin/env python
import logging, signal, sys, time
import multiprocessing as mp # `pip install multiprocessing` on Python <2.6

class AddProcessNameFilter(logging.Filter):
    """"""Add missing on Python 2.4 `record.processName` attribute.""""""
    def filter(self, r):
        r.processName = getattr(r, 'processName', mp.current_process().name)
        return logging.Filter.filter(self, r)

def print_dot():
    while True:
        mp.get_logger().info(""."")
        time.sleep(1)

def main():
    logger = mp.log_to_stderr()
    logger.setLevel(logging.INFO)
    logger.addFilter(AddProcessNameFilter()) # fix logging records

    # catch TERM signal to allow finalizers to run and reap daemonic children
    signal.signal(signal.SIGTERM, lambda *args: sys.exit(-signal.SIGTERM))

    # create daemonic child processes
    processes = [mp.Process(target=print_dot) for _ in range(2)]
    for p in processes:
        p.daemon = True
        p.start()    
    print_dot()

if __name__==""__main__"":
    mp.freeze_support()
    main()
"
6759,23523,Redirect user in Python + Google App Engine,"class MainPage(webapp.RequestHandler):
    def get(self):

        ip = self.request.remote_addr
        log = Log()
        log.ip_address = ip
        log.put()
        self.redirect(""http://www.appurl.com"") # replaced this -> print ""Location:http://www.appurl.com""
"
27307,53800,PUT request from tornado.httpclient.AsyncHTTPClient,"from tornado.httpclient import HTTPRequest
request = HTTPRequest(opt.site_url + '/api/user/', method=""PUT"", body=urlencode(pdata))
response = yield gen.Task(http_client.fetch, request)
"
7423,45819,Break a string into list of list of integers,"s = '001100'

list_of_lists = [[int(ch)] for ch in s]

>> [[0], [0], [1], [1], [0], [0]]
"
19607,69090,Accessing variables with absolute scopes,"with tf.variable_scope('h1') as h1_scope:  # we save the scope object in h1_scope
  w = tf.get_variable('Weights', [])

with tf.variable_scope('foo'):
  with tf.variable_scope(h1_scope, reuse=True):  # get h1_scope back
    w2 = tf.get_variable('Weights')

assert w == w2
"
30184,81980,TkInter button coordinates on a grid,"import tkinter as tk

def click(row, col):
    label.configure(text=""you clicked row %s column %s"" % (row, col))

root = tk.Tk()
for row in range(10):
    for col in range(10):
        button = tk.Button(root, text=""%s,%s"" % (row, col), 
                           command=lambda row=row, col=col: click(row, col))
        button.grid(row=row, column=col, sticky=""nsew"")
label = tk.Label(root, text="""")
label.grid(row=10, column=0, columnspan=10, sticky=""new"")

root.grid_rowconfigure(10, weight=1)
root.grid_columnconfigure(10, weight=1)

root.mainloop()
"
15439,70142,Plot x-y data if x entry meets condition python,"import numpy as np
import matplotlib.pyplot as plt

#-- Generate some data...-------
x = np.linspace(-10, 50, 100)
y = x**2 + 3*x + 8

# Add a lot of noise to part of the data...
y[x < 10] += np.random.random(sum(x < 10)) * 300

# Now let's extract only the part of the data we're interested in...
x_filt = x[x > 10]
y_filt = y[x > 10]

# And fit a line to only that portion of the data.
model = np.polyfit(x_filt, y_filt, 2)

# And plot things up
fig, axes = plt.subplots(nrows=2, sharex=True)
axes[0].plot(x, y, 'bo')
axes[1].plot(x_filt, y_filt, 'bo')
axes[1].plot(x, np.polyval(model, x), 'r-')

plt.show()
"
19356,40798,Alternate an image while it's moving in Pygame,"# Before main loop
human_files = [""human1.png"", ""human2.png""]
human_sprites = [pygame.image.load(filename).convert_alpha() for filename in human_files]
human1_index = 0

...

# During main loop
if (human1_position.left <= 555):
    human1_position = human1_position.move(2, 0)  # move first human
    human1_index = (human_index + 1) % len(human_sprites) # change sprite
else:
    move = STOP
    human1_index = 0
human1 = human_sprites[human1_index]
screen.blit(human1, human1_position)
pygame.display.update()
"
27309,37317,Immutable list in Python,"class ReadOnlyList(list):
    def __init__(self, other):
        self._list = other

    def __getitem__(self, index):
        return self._list[index]

    def __iter__(self):
        return iter(self._list)

    def __slice__(self, *args, **kw):
        return self._list.__slice__(*args, **kw)

    def __repr__(self):
        return repr(self._list)

    def __len__(self):
        return len(self._list)

    def NotImplemented(self, *args, **kw):
        raise ValueError(""Read Only list proxy"")

    append = pop = __setitem__ = __setslice__ = __delitem__ = NotImplemented
"
33460,60990,Redraw widgets with update,"def update_the_widgets():
    the_label.configure(background=""red"")

a_button = tk.Button(..., command=update_the_widgets)
the_label = tk.Label(..., background=""green"")
"
23504,77957,C++ alternative to OS.walk,"#include <boost/filesystem.hpp>
#include <iostream>

int main()
{
 boost::filesystem::path path = boost::filesystem::current_path();
 boost::filesystem::recursive_directory_iterator itr(path);
 while (itr != boost::filesystem::recursive_directory_iterator())
 {
   std::cout << itr->path().string() << std::endl;
   ++itr;
 }
}
"
24621,18016,Getting the UTC hour from a UTC+2 datetime object,">>> import pytz
>>> from dateutil import parser
>>>
>>> date_string = '03/16/16 15:50 UTC+02:00'
>>> my_date = parser.parse(date_string)
>>> my_date.astimezone(pytz.UTC)
datetime.datetime(2016, 3, 16, 17, 50, tzinfo=<UTC>)
"
14728,65424,How can I Add a number to each div id created?,"{% for x in y %}
  {{ x }}
  {{ forloop.counter }} #prints the number


#if y = ['a', 'b', 'c'] 
#{{ forloop.counter }} will print 1, 2, 3
"
30606,67721,How to get messages receive count in Amazon SQS using boto library in Python?,">>> import boto.sqs
>>> c = boto.sqs.connect_to_region()
>>> q = c.lookup('myqueue')
>>> messages = c.receive_message(q, num_messages=1, attributes='All')
>>> messages[0].attributes
{u'ApproximateFirstReceiveTimestamp': u'1365474374620',
 u'ApproximateReceiveCount': u'2',
 u'SenderId': u'419278470775',
 u'SentTimestamp': u'1365474360357'}
>>>
"
7052,11733,How to search files specific XML code pattern,"(?s)(?<= ReturnVariable=""xxx"">\n<cfelse>\n)PATTERN(?=\n</cfif>)
"
20599,85015,How to delete a Parquet file on Spark?,"import shutil
shutil.rmtree('/folder_name')
"
14065,79269,openssl commands equivalent in python?,"def get_private_key(filepath, password):
    pkey = chilkat.CkPrivateKey()
    pkey.LoadPkcs8EncryptedFile(filepath, password)
    return pkey.getPkcs8Pem()


def get_certificate_and_serial(filepath):
    cert = chilkat.CkCert()
    cert.LoadFromFile(filepath)
    serial = unhexlify(cert.serialNumber())
    return cert.exportCertPem(), serial.decode('utf-8')
"
37336,4414,Date Time Series wise grouping of data and distribution,"
   #!/bin/python
    import pandas as pd
    import numpy as np
    df=pd.read_csv('/home/saiharsh/Documents/Crowd Street/Transition_Data/Telecom_7.csv') #Please enter the file Location
    gp=df.groupby('Name').sum().reset_index()
    flag=0
    for i in gp['Name']:
        if flag==1:
            time=df['Timeseries'][df['Name']==i]
            time=time.tail(1)
            frames=[time1,time]
            time1=pd.concat(frames)
        else:
            time1=df['Timeseries'][df['Name']==i]
            time1=time1.tail(1)
            flag=1
    time1=time1.reset_index(drop=True)
    result=pd.concat([time1,gp],axis=1,join='inner')
    result=result.to_csv(index=False)
    print result
"
10724,66197,Celery send mail for every failed task,"#!venv/bin/python2

import os
from django.conf import settings

if __name__ == '__main__' and __package__ is None:
    os.sys.path.append(
        os.path.dirname(
            os.path.dirname(
                os.path.abspath(__file__))))

os.environ.setdefault(""DJANGO_SETTINGS_MODULE"", ""rest_apis.settings"")

import django

django.setup()
from django.core.mail import EmailMessage
from djcelery.models import TaskMeta
from datetime import datetime, timedelta, time


USERS_TO_NOTIFY = ['ops@yopmail.com']
TIME_THRESHOLD_INTERVAL = 60

def send_email(email_subject_line, email_body):
    email = EmailMessage(email_subject_line,
                         email_body,
                         settings.EMAIL_HOST_USER,
                         USERS_TO_NOTIFY
                         )
    email.send()


def main():
    current_time = datetime.now()   # Get Current TimeStamp
    time_threshold = current_time - timedelta(minutes=TIME_THRESHOLD_INTERVAL) # Get 60 minutes past current time stamp
    celery_taskmeta_objects = TaskMeta.objects.filter(status=""FAILURE"", date_done__gte=time_threshold)

    email_body = ""Below are the tasks which failed : ""
    if celery_taskmeta_objects.exists():
        for celery_taskmeta in celery_taskmeta_objects:
            print celery_taskmeta.task_id
            email_body += ""\n\ntask_id : %s"" % celery_taskmeta.task_id
            email_body += ""\nstatus : %s"" % celery_taskmeta.status
            email_body += ""\ndate : %s"" % celery_taskmeta.date_done
            email_body += ""\ntraceback :""
            email_body += ""\n%s\n\n"" % celery_taskmeta.traceback
        email_subject_line = '[URGENT] Celery task failure in last %s minutes' % (TIME_THRESHOLD_INTERVAL)
        send_email(email_subject_line, email_body)


main()
"
28608,8680,django unique together does not work with none datetime,"mysql> create table x (i int, j int, primary key (i), unique key (j));
mysql> insert into x (i,j) values (NULL,NULL);
ERROR 1048 (23000): Column 'i' cannot be null
mysql> insert into x (i,j) values (1,NULL);
mysql> insert into x (i,j) values (2,NULL);
mysql> insert into x (i,j) values (3,3);
mysql> select * from x;
+---+------+
| i | j    |
+---+------+
| 1 | NULL |
| 2 | NULL |
| 3 |    3 |
+---+------+
3 rows in set (0.01 sec)

mysql> insert into x (i,j) values (4,3);
ERROR 1062 (23000): Duplicate entry '3' for key 'j'
"
2917,47956,Attempting to create something using dictionaries but am lost,">>> d = {}
>>> d[""Folder""] = [""C:/blah/blah/Folder"", [""file1"",""file2"",""file3""]]
>>> d[""more""] = [""/home/mydir"", [""file1"",""file2"",""file3""]]
>>> d[""Folder""][0]
'C:/blah/blah/Folder'
>>> d[""Folder""][1]
['file1', 'file2', 'file3']
>>> d[""Folder""][1].append(""file4"")
>>> d[""Folder""][1]
['file1', 'file2', 'file3', 'file4']
>>> for entry in d:
...     d[entry][1].append(""newfile"")
...
>>> d
{'Folder': ['C:/blah/blah/Folder', ['file1', 'file2', 'file3', 'file4', 'newfile']],
 'more': ['/home/mydir', ['file1', 'file2', 'file3', 'newfile']]}
"
394,65588,Program keeps looping without calling function,"class BabyNames():
    def baby_namer(self, gender):
        if 'b' not in gender and 'g' not in gender:
            return self.start_wrong_input()
        elif 'b' in gender:
            test = raw_input(""What round are you on? (1-{}) \n"".format(str(len(boy_rounds))))
            return boy(boy_rounds[test])
        elif 'g' in gender:
            test = raw_input(""What round are you on? (1-{}) \n"".format(str(len(girl_rounds))))
            return girl(girl_rounds[test])
        else:
            pass

    def start_wrong_input(self):
        print ""You need to put boy or girl to move on!""
        re_try = raw_input(""Do you want boy or girl names? \n"").lower()
        if 'g' in re_try:
            return self.baby_namer('girl') # use self.baby_namer, you don't need to use x = BabyNames()  
        elif 'b' in re_try:
            return self.baby_namer('boy')
        else:
            print ""You need to put boy or girl to move on!""
"
10094,26728,Better optimization technique using if/else or dictionary,"func_dict = {}
func_dict['str1'] = fun1
func_dict['str2'] = fun2
...
def function_lookup(func_string):
    return func_dict.get(func_string)
"
25761,77273,How can I get a range of rows in a python list without creating a new list object?,">>> mainList = [['foo', 'bar', 'baz'], ['spam', 'ham', 'eggs'], ['idle', 'cleese', 'jones']]
>>> sliced = mainList[:2]
>>> sliced
[['foo', 'bar', 'baz'], ['spam', 'ham', 'eggs']]
>>> sliced[0][1] = 'parrot'
>>> mainList
[['foo', 'parrot', 'baz'], ['spam', 'ham', 'eggs'], ['idle', 'cleese', 'jones']]
"
29296,4448,Creating subplots with differing shapes in matplotlib,"import matplotlib.pyplot as plt


left = 0.1
width = 0.8

ax1 = plt.axes([left, 0.5, width, 0.45])
ax2 = plt.axes([left, 0.3, width, 0.19])
ax3 = plt.axes([left, 0.2, width, 0.09], sharex=ax2)
ax4 = plt.axes([left, 0.1, width, 0.09], sharex=ax2)

# ticks at the top of the top plot
ax1.xaxis.tick_top()

# remove ticks for ax2 and ax3
ax2.xaxis.set_visible(False)
ax3.xaxis.set_visible(False)

# only put ticks on the bottom of ax4
ax4.xaxis.tick_bottom()

plt.show()
"
23609,30171,Does Python import instantiate a mystery class?,"import glob  # Import any python module
moduleType = type(glob)

onTheFly = moduleType(""OnTheFly"", ""Docstring for this module"")
"
8346,10353,How to manually change a colormap in python/matplotlib,"my_cmap = matplotlib.cm.get_cmap('rainbow')
my_cmap.set_under('w')
imshow(np.arange(25).reshape(5, 5),
       interpolation='none',
       cmap=my_cmap,
       vmin=.001)
"
18,46327,Sending form data to aspx page,"    import mechanize

    url = r'http://www.cpso.on.ca/docsearch/'
    request = mechanize.Request(url)
    response = mechanize.urlopen(request)
    forms = mechanize.ParseResponse(response, backwards_compat=False)
    response.close()

    form = forms[0]

    form['ctl00$ContentPlaceHolder1$MainContentControl1$ctl00$txtLastName']='Smith'
    form['ctl00$ContentPlaceHolder1$MainContentControl1$ctl00$txtPostalCode']='K1H'

    print mechanize.urlopen(form.click()).read()
"
36373,48529,Connect points in a three dimensional plot,"from matplotlib import pyplot, cm
from mpl_toolkits.mplot3d import Axes3D
import numpy as np

fig = pyplot.figure()
ax = Axes3D(fig)

sequence_containing_x_vals = np.array([5,5,5,5,10,10,10,10,15,15,15,15,20,20,20,20])
X = sequence_containing_x_vals.reshape((4,4))

sequence_containing_y_vals = np.array([1,2,3,4,1,2,3,4,1,2,3,4,1,2,3,4])
Y = sequence_containing_y_vals.reshape((4,4))

sequence_containing_z_vals = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16])
Z = sequence_containing_z_vals.reshape((4,4))

ax.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap=cm.hot)

pyplot.show()
"
30612,79288,how to parse multi-line in a clean way using python?,">>> re.findall('\s*(.*?):[\n\s]?(.*)$', s, re.MULTILINE)
[('Name', 'snakeoil'), ('Host', 'foobar'), ('email', 'some data here'), ('url', 'http://foo'), ('date', '01/02/16')]
"
28644,69167,"Pandas Crosstab with frequency, row percentage and col percentage on the same output","newdf = pd.concat([pd.crosstab(df.A, df.B, margins=True),
                   pd.crosstab(df.A, df.B).apply(lambda r: r/r.sum(), axis=0),                   
                   pd.crosstab(df.A, df.B).apply(lambda r: r/r.sum(), axis=1)])

newdf = newdf.loc[['one','two','three','All']]              # RE-ORDER INDEX VALUES                                 
newdf = newdf[['A', 'B', 'C', 'All']]                       # RE-ORDER COLUMNS 
newdf['All'] = np.where(pd.isnull(newdf['All'])   &         # ROW PERCENTAGES SUM
                        (newdf['A'] + newdf['B'] + newdf['C']==1),
                        1, newdf['All'])
print(newdf)
#              A         B         C   All
# A                                        
# one    4.000000  4.000000  4.000000  12.0
# one    0.500000  0.500000  0.500000   NaN
# one    0.333333  0.333333  0.333333   1.0
# two    2.000000  2.000000  2.000000   6.0
# two    0.250000  0.250000  0.250000   NaN
# two    0.333333  0.333333  0.333333   1.0
# three  2.000000  2.000000  2.000000   6.0
# three  0.250000  0.250000  0.250000   NaN
# three  0.333333  0.333333  0.333333   1.0
# All    8.000000  8.000000  8.000000  24.0
"
24065,77570,Using HTML parser to get contents of a particular div,"from soup import BeautifulSoup as bs
from scrapy.http import Request
from scrapy.spider import BaseSpider
from hn.items import HnItem


class HnSpider(BaseSpider):
    name = 'hn'
    allowed_domains = []
    start_urls = ['http://news.ycombinator.com']

    def parse(self, response):
        if 'news.ycombinator.com' in response.url:
            soup = bs(response.body)
            items = [(x[0].text, x[0].get('href')) for x in
                     filter(None, [
                         x.findChildren() for x in
                         soup.findAll('td', {'class': 'title'})
                     ])]

            for item in items:
                print item
                hn_item = HnItem()
                hn_item['title'] = item[0]
                hn_item['link'] = item[1]
                try:
                    yield Request(item[1], callback=self.parse)
                except ValueError:
                    yield Request('http://news.ycombinator.com/' + item[1], callback=self.parse)

                yield hn_item
"
32333,33249,How to pass cookies by scrapy without knowing what the cookies is before crawl the first page?,"class EPGD_spider(Spider):
    name = ""EPGD""
    allowed_domains = [""epgd.biosino.org""]
    stmp = []
    term = ""man""
    my_urls = [""http://epgd.biosino.org/EPGD/search/textsearch.jsp?textquery=man&submit=Feeling+Lucky""]

    def parse(self, response):
        sel = Selector(response)
        sites = sel.xpath('//tr[@class=""odd""]|//tr[@class=""even""]')

        for site in sites:
            item = EPGD()
            item['genID'] = map(unicode.strip, site.xpath('td[1]/a/text()').extract())
            item['taxID'] = map(unicode.strip, site.xpath('td[2]/a/text()').extract())
            item['familyID'] = map(unicode.strip, site.xpath('td[3]/a/text()').extract())
            item['chromosome'] = map(unicode.strip, site.xpath('td[4]/text()').extract())
            item['symbol'] = map(unicode.strip, site.xpath('td[5]/text()').extract())
            item['description'] = map(unicode.strip, site.xpath('td[6]/text()').extract())
            yield item
        yield Request('http://epgd.biosino.org/EPGD/search/textsearch.jsp?currentIndex=10', 
                       callback=self.parse_second_url)

     def parse_second_url(self, response):
         # do your thing
"
8398,42872,How to have image + text in one button in Tkinter,"import Tkinter as tk

class View(tk.Frame):
    def __init__(self, *args, **kwargs):
        tk.Frame.__init__(self, *args, **kwargs)
        self.image = tk.PhotoImage(file=""somefile.gif"")
        b = tk.Button(self, text=""Hello, world"", image=self.image, compound=""left"")
        b.pack(side=""top"")

if __name__ == ""__main__"":
    root = tk.Tk()
    view = View(root)
    view.pack(side=""top"", fill=""both"", expand=True)
    root.mainloop()
"
25669,7979,How to use get_or_create in a way that get doesn't use all the parameters while create does?,"Permission.objects.get_or_create(codename=perm[0], defaults={'name': perm[1]})
"
39441,79355,Get list of column names from a Firebird database table,"select rdb$field_name from rdb$relation_fields
where rdb$relation_name='YOUR-TABLE_NAME';
"
11346,526,Matplotlib imshow: cursor coordinates fail when ticks are specified,"import matplotlib.pyplot as plt
import numpy as np

d = np.random.rand(100, 100)

fig = plt.figure()
ax = plt.gca()
plt.imshow(d, extent=(0,1,1,0))

ax.set_xticks([0, 0.25, 0.50, 0.75, 1])
ax.set_yticks([0, 0.25, 0.50, 0.75, 1])

fig.show()
raw_input()
"
9607,43008,How to get spacings around lists with Sphinx in the latexpdf output?,"sed '/\\begin{itemize}/{x;p;x}' input > output
"
11076,77250,How to take inverse of 2 raise to something in python2.5 (strict),"import math
def hi_bit(num):
        return int(math.log(num, 2))
"
881,16242,Python 2.7 - Tkinter user entry prompt,"import glob
import os
import xlrd
import csv
import Tkinter as tk

def maincode():
    global ROOTDIR
    wb_pattern = os.path.join(ROOTDIR, '*.xlsx')

    workbooks = glob.glob(wb_pattern)
    start_rownum = 3 # number of row eliminated
    with open('merged excel.csv', 'wb') as outcsv:
    writer = csv.writer(outcsv)
    for wb in workbooks:
        book_path = os.path.join(ROOTDIR, wb)
        book =  xlrd.open_workbook(book_path)
        sheet = book.sheet_by_index(0)
        for row_num in xrange(start_rownum, sheet.nrows):
            row = sheet.row_values(row_num)
            writer.writerow(row)

class SampleApp(tk.Tk):
    def __init__(self):
        tk.Tk.__init__(self)
        self.entry = tk.Entry(self)
        self.button = tk.Button(self, text=""Please enter path"", command=self.on_button)
        self.button.pack()
        self.entry.pack()

    def on_button(self):
        global ROOTDIR
        ROOTDIR = self.entry.get()
        maincode()

app = SampleApp()
app.mainloop()
"
14895,59741,Program not looping properly when cards are a tie in Python,"import random
def shuffleDeck():
    suits = {'\u2660','\u2661','\u2662','\u2663'}
    ranks = {'2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'}

    deck = []

    for suit in suits:
        for rank in ranks:
            deck.append(rank + ' ' + suit)

    random.shuffle(deck)
    return deck

def total(hand):
    values = {'2':2, '3':3, '4':4, '5':5, '6':6, '7':7, '8':8, '9':9, '1':10, 'A':14, 'K':13, 'Q':12, 'J':11}
    result = values[hand[0]]
    return result

def dealCard(deck):
    card = deck.pop(0)
    return card

def compareHands(playerOne, playerTwo):
    playerOneTotal, playerTwoTotal = total(playerOne), total(playerTwo)
    if playerOneTotal > playerTwoTotal:
        result = 1
    elif playerOneTotal < playerTwoTotal:
        result = -1
    else:
        result = 0
    return result

def war(playerOneDeck, playerTwoDeck):
    playerOneWins = 0
    playerTwoWins = 0
    ties = 0
    if len(playerOneDeck) > 0:
        playGame = input('Ready to play a round? ')
        if playGame == 'y':
            playerOneCard = dealCard(playerOneDeck)
            playerTwoCard = dealCard(playerTwoDeck)
            print('Player A: ', playerOneCard[0], '\nPlayer B: ', playerTwoCard[0])
            if compareHands(playerOneCard, playerTwoCard) == 1:
                playerOneWins += 1
                print('Winner: Player A')
            elif compareHands(playerOneCard, playerTwoCard) == -1:
                playerTwoWins += 1
                print('Winner: Player B')

            while compareHands(playerOneCard, playerTwoCard) == 0:
                ties += 1
                print('Tie')
                playerOneCard = dealCard(playerOneDeck)
                playerTwoCard = dealCard(playerTwoDeck)
                print('Player A: ', playerOneCard[0], '\nPlayer B: ', playerTwoCard[0])
                if compareHands(playerOneCard, playerTwoCard) == 1:
                    playerOneWins += 1
                    print('Winner: Player A')
                elif compareHands(playerOneCard, playerTwoCard) == -1:
                    playerTwoWins += 1
                    print('Winner: Player B')                  

            war(playerOneDeck, playerTwoDeck)

    else:
        print('End of game.  Player A won {} rounds and Player B won {} rounds.'.format(playerOneWins, playerTwoWins))

deck = shuffleDeck()
playerOneDeck = deck[26:]
playerTwoDeck = deck[:26]
war(playerOneDeck, playerTwoDeck)
"
22342,60954,Use Python to Edit Windows 8 Power Options,"import subprocess
subprocess.call(""powercfg -change -monitor-timeout-ac 666"")
"
16529,16775,Reading substrings from string in Python,"import re
print dict(re.findall('TEXTSTART\[([^\]]+)\](.*?)TEXTEND', report, re.DOTALL))
"
30979,46916,How to plot in a specific axis with DataFrame.hist(by=) in pandas,"import pandas as pd
import matplotlib.pyplot as plt

df = pd.DataFrame({'color': ['blue','blue','yellow','blue','yellow'], 'area': [2,2,3,4,4]})
fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2,2)
#Hide upper left corner plot and create two new subplots
ax1.axis('off')
ax = fig.add_subplot(2,4,1)
ax0 = fig.add_subplot(2,4,2)
#Plot
ax3.plot([[2,2], [3,6]])
ax4.plot([[3,6], [2,2]])
df.area.hist(by=df.color, ax=(ax,ax0)) #Pass both new subplots
"
15324,53860,Creating either 2 dictionaries from CSV or creating dictionary from 3 rows,"import csv
foo_in = open('bar.csv', 'rU')
readfoo = csv.reader(foo_in)

for row in readfoo:
    spam = row[0]
    eggs = row[1]
    foobar = row[2]
    new_data = dict()
    new_data.setdefault(spam, {})
    new_data[spam].setdefault(eggs, []).append(foobar)
    print new_data
"
2053,39441,How to heapify by field from custom objects,">>> import heapq
>>> class MyObject(object):
...     def __init__(self, val):
...         self.val = val
...     def __cmp__(self, other):
...         return cmp(self.val, other.val)
...         
...     
... 
>>> q = []
>>> heapq.heappush(q, MyObject(50))
>>> heapq.heappush(q, MyObject(40))
>>> heapq.heappush(q, MyObject(30))
>>> heapq.heappush(q, MyObject(20))
>>> heapq.heappush(q, MyObject(200))
>>> obj = heapq.heappop(q)
>>> print obj.val
20
"
35972,42185,Find size and free space of the filesystem containing a given file,"import subprocess
df = subprocess.Popen([""df"", ""filename""], stdout=subprocess.PIPE)
output = df.communicate()[0]
device, size, used, available, percent, mountpoint = \
    output.split(""\n"")[1].split()
"
17360,8463,while loop not looping in python,"def roll(m):
    rolls = []
    tot = 0
    while tot < m:
        r = rdm.randint(1,6)
        tot += r  
        rolls.append(r)
    return tot, rolls, r
tot, rolls, r = roll(m) 
print ""The number of rolls was"", len(rolls)  
print ""The total is"", tot
"
18342,5296,call-by-reference function parameters,">>> def A(a, b, c):
        return (a*2, b*4, c*8)

>>> d = A(2, 4, 8)
>>> sum(d)
84
>>> d[-1] #or whatever index you'd need...this may serve best as a constant
64
"
10249,40207,How to pass variables from python script to bash script,"python b.py tempfile.txt
var=`cat tempfile.txt`
rm tempfile.txt
"
38224,54988,How to delete the biggest emails from my gmail using a python script?,"#!/usr/bin/env python
import imaplib
from re import findall

MAXSIZE = 1000
MINSIZE = 1

m = imaplib.IMAP4_SSL('imap.gmail.com')
m.login('example@gmail.com','testPassword')
m.select()
typ, data = m.search(None, 'ALL')
typ, data = m.search(None,'(SMALLER %d) (LARGER %d)' % (MAXSIZE * 1000,MINSIZE * 1000))
for num in data[0].split():
    typ, data = m.fetch(num, '(RFC822)')
    print 'Message %s\n%s\n' % (num, len(data[0][1]))
m.close()
m.logout()
"
22180,49408,Djangonic way to get second order DB-info in Django?,"location_list = Locations.objects\
                 .filter(organisation=organisation_id)\
                 .order_by('country_of_location')
output = '<br />'.join([str(loc.organisation)+' from '+str(loc.organisation.country_of_origin) for loc in location_list])
"
28957,33516,Return Pymongo result in Python Bottle,"from bson.json_util import dumps

dumps(results)
"
16446,14020,Changing execution speed of tests?,"#passing in Webdriver instance and the command we want to execute into our helper method   
webdriverHelper(driver, command):
    #this 2 second sleep will get run each time
    time.sleep(2)
    if command == ""click"":
        driver.getElement.click()
    elif command== ""getText"":
        driver.getElement.getText()
    etc...............
"
31357,46144,remove even numbers from a list,"a = []
counter = 0
while counter < 10:
    c = int(raw_input('Enter an integer: ')) 
    if c % 2 != 0:
        a.append(c)
    counter += 1
print(a)
"
35922,51954,shutil and copying files,"import os
import random
import shutil

def copy_sample(src, dst, size=500):
    files = [os.path.join(src, i) for i in random.sample(os.listdir(src), size)]
    count = len(files)
    for index, afile in enumerate(files):
        try:
           shutil.copy(afile, dst)
           print 'Copied file %s (%d/%d)' % (afile, index + 1, count)
        except Exception, msg:
           print 'Failed file %s (%d/%d) -- %s' % (afile, index + 1, count, msg)

src = '/home/mjanja/Desktop/Leaves'
dst = '/home/mjanja/Desktop/Positive Leaves'

copy_sample(src, dst)
"
29358,1392,Rename files that are already sorted (Python 3.3),"import os
import re

REGEX = re.compile(""Slide([0-9]+).png"")

for filename in os.listdir('.'):
    match_ = re.match(REGEX, filename)
    if match_:
        slide_n = int(match_.group(1)) + 121
        os.rename(filename, ""Slide{}.png"".format(slide_n))
"
620,38941,Writing result to an existing file in python,"with open('workfile', 'w') as fout:
    fout.write(result)
"
24138,53080,Pandas: Speed up filtering by creating index?,"df[(x < df.age) & (df.age < y) & (p < df.income) & (df.income < q)]
"
30253,609,Aggregating neighbouring pixels Python / GDAL and Numpy without interpolation,"import time 
import glob
import os
import gdal
import osr
import numpy as np

start_time_script = time.clock()

path_ras='C:/rasters/'

for rasterfile in glob.glob(os.path.join(path_ras,'*.tif')):
rasterfile_name=str(rasterfile[rasterfile.find('IMG'):rasterfile.find('.tif')])

print 'Processing:'+ ' ' + str(rasterfile_name)

ds = gdal.Open(rasterfile,gdal.GA_ReadOnly)
ds_xform = ds.GetGeoTransform()

print ds_xform

ds_driver = gdal.GetDriverByName('Gtiff')
srs = osr.SpatialReference()
srs.ImportFromEPSG(26716)

ds_array = ds.ReadAsArray()

sz = ds_array.itemsize

print 'This is the size of the neighbourhood:' + ' ' + str(sz)

h,w = ds_array.shape

print 'This is the size of the Array:' + ' ' + str(h) + ' ' + str(w)

bh, bw = 2,2

shape = (h/bh, w/bw, bh, bw)

print 'This is the new shape of the Array:' + ' ' + str(shape)

strides = sz*np.array([w*bh,bw,w,1])

blocks = np.lib.stride_tricks.as_strided(ds_array,shape=shape,strides=strides)

resized_array = ds_driver.Create(rasterfile_name + '_resized_to_52m.tif',shape[1],shape[0],1,gdal.GDT_Float32)
resized_array.SetGeoTransform((ds_xform[0],ds_xform[1]*2,ds_xform[2],ds_xform[3],ds_xform[4],ds_xform[5]*2))
resized_array.SetProjection(srs.ExportToWkt())
band = resized_array.GetRasterBand(1)

zero_array = np.zeros([shape[0],shape[1]],dtype=np.float32)

print 'I start calculations using neighbourhood'
start_time_blocks = time.clock()

for i in xrange(len(blocks)):
    for j in xrange(len(blocks[i])):

        zero_array[i][j] = np.mean(blocks[i][j])

print 'I finished calculations and I am going to write the new array'

band.WriteArray(zero_array)

end_time_blocks = time.clock() - start_time_blocks

print 'Image Processed for:' + ' ' + str(end_time_blocks) + 'seconds' + '\n'

end_time = time.clock() - start_time_script
print 'Program ran for: ' + str(end_time) + 'seconds'
"
31700,18581,"How come I can just ""Import Image""?","In [1]: import Image

In [2]: Image??
Type:        module
String form: <module 'Image' from '/usr/lib/python2.7/dist-packages/PILcompat/Image.pyc'>
File:        /usr/lib/python2.7/dist-packages/PILcompat/Image.py
Source:      from PIL.Image import *
"
14720,75287,Open python shell in the current directory,"C:> D:
D:> cd PythonProjects
D:\PythonProjects> python
[Something about Python interpreter]
>>>
"
12549,26721,how to compare ndarrays in python,">>> A=np.array([[ 3, 2, 1],[ 2, 4, 5],[ 1 , 3, 6]])
>>> np.max(A,axis=0)
array([3, 4, 6])
"
1123,48752,Trouble Parsing Text using BeautifulSoup and Python,"from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

driver = webdriver.PhantomJS()
driver.get(""http://www.regulations.gov/#!documentDetail;D=OCC-2011-0014-0032"")

wait = WebDriverWait(driver, 10)
wait.until(EC.presence_of_element_located((By.CSS_SELECTOR, ""div.GGAAYMKDGNE"")))
"
33818,41714,Disable console output from subprocess.Popen in Python,"fh = open(""NUL"",""w"")
subprocess.Popen(""taskkill /PID "" + str(p.pid), stdout = fh, stderr = fh)
fh.close()
"
37815,65429,Calling variables from inside functions in Python,"class Email_Stuff():
    def Get_From_Email(self):
        #code to open up window and get email address
        self.emailaddr = #the input
    def Get_To_Email(self):
        #code to open up window and get to email address
        self.recipaddr = #the input
    def Get_Email_Address(self):
        #code to open up window and get email username
        self.EmailUser = #the input
    def Get_Email_Password(self):
        #code to open up window and get email password
        self.EmailPass = #the input
    def Send_Email(self):
        import smtplib
        server = smtplib.SMTP('smtp.gmail.com', 587)
        server.login((self.EmailUser),(self.EmailPass))
        message = ""Python Test Email""
        server.sendmail(self.emailaddr,self.recipaddr,self.message)

instance = Email_Stuff()
instance.Get_From_Email()
instance.Get_To_Email()
instance.Get_Email_Address()
instance.Get_Email_Password()
instance.Send_Email()
"
13572,78933,Difference between android sha224 and python sha224,"buffer.append(String.format(""%02x"", 0xFF & digest[i]));
"
14072,11205,Get token from a tab seperated string in python,">>> s=a.split()

>>> s[0]+' '+' '.join(s[3:])
'ALU02021543 [10G DPoE]Upstream traffic priority is not accurate and scheduler is mussy in one or different ONUs'
"
31262,84643,"Python/matplotlib : plotting a 3d cube, a sphere and a vector?","# -*- coding: utf-8 -*-
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt
import numpy as np
from itertools import product, combinations
fig = plt.figure()
ax = fig.gca(projection='3d')
ax.set_aspect(""equal"")

#draw cube
r = [-1, 1]
for s, e in combinations(np.array(list(product(r,r,r))), 2):
    if np.sum(np.abs(s-e)) == r[1]-r[0]:
        ax.plot3D(*zip(s,e), color=""b"")

#draw sphere
u, v = np.mgrid[0:2*np.pi:20j, 0:np.pi:10j]
x=np.cos(u)*np.sin(v)
y=np.sin(u)*np.sin(v)
z=np.cos(v)
ax.plot_wireframe(x, y, z, color=""r"")

#draw a point
ax.scatter([0],[0],[0],color=""g"",s=100)

#draw a vector
from matplotlib.patches import FancyArrowPatch
from mpl_toolkits.mplot3d import proj3d

class Arrow3D(FancyArrowPatch):
    def __init__(self, xs, ys, zs, *args, **kwargs):
        FancyArrowPatch.__init__(self, (0,0), (0,0), *args, **kwargs)
        self._verts3d = xs, ys, zs

    def draw(self, renderer):
        xs3d, ys3d, zs3d = self._verts3d
        xs, ys, zs = proj3d.proj_transform(xs3d, ys3d, zs3d, renderer.M)
        self.set_positions((xs[0],ys[0]),(xs[1],ys[1]))
        FancyArrowPatch.draw(self, renderer)

a = Arrow3D([0,1],[0,1],[0,1], mutation_scale=20, lw=1, arrowstyle=""-|>"", color=""k"")
ax.add_artist(a)
plt.show()
"
18067,12154,Searching large structured numpy arrays quickly,"def helper(dataZero, dataSnap): # assumes arguments are sorted ascending!
    ds_iter = iter(dataSnap)
    curr_snap = next(ds_iter)
    for lo, hi in dataZero:
        while curr_snap[0] < lo:
            curr_snap = next(ds_iter)
        while lo <= curr_snap[0] <= hi:
            yield curr_snap
            curr_snap = next(ds_iter) 

result = list(helper(dataZero, dataSnap))
"
29410,75266,Rearranging Data in CSV by Certain Data in a Column,"import csv

with open('location.csv', newline='') as fp_in:
    reader = csv.reader(fp_in, delimiter=',')
    data = list(reader)

data.sort(key=lambda x: (len(x[-1].strip()) != 2, x[-1].strip()))

with open(""locout.csv"", ""w"", newline='') as fp_out:
    writer = csv.writer(fp_out, delimiter=',')
    writer.writerows(data)
"
15617,6201,Using arrays with python's string.format(),">>> line = 'first {0}, second {1}'
>>> l = [1, 2]
>>> print(line.format(*l))
first 1, second 2
"
10372,41998,Python. Redirect stdout to a socket,"def redirectOut(port=port, host=host):
    """"""
    connect caller's standard output stream to a socket for GUI to listen
    start caller after listener started, else connect fails before accept
    """"""
    sock = socket(AF_INET, SOCK_STREAM)
    sock.connect((host, port))                # caller operates in client mode
    file = sock.makefile('w')                 # file interface: text, buffered
    sys.stdout = file                         # make prints go to sock.send
    return sock                               # if caller needs to access it raw
"
3563,37347,How do I get DOM element by mouse click on PyQT5 QWebView,"class MainWindow(QMainWindow):
    def __init__(self):
        super(MainWindow, self).__init__()

        self.view = QWebView(self)
        self.view.installEventFilter(self)
        # create other components here


    def eventFilter(self, obj, event):
        if obj == self.view:
            if (event.type() == QEvent.MouseButtonRelease):
                htc = self.view.page().mainFrame().hitTestContent(event.pos())
                e = htc.element()
                if e:
                    #do somesing with e
                    return True
        return  QMainWindow.eventFilter(obj, event)
"
11206,68654,Python convert a list of strings in a nested list to list,">>> s=""""""                              SPY
... Date                             
... 2015-02-02 00:00:00+00:00  201.92""""""
>>> s.split()
['SPY', 'Date', '2015-02-02', '00:00:00+00:00', '201.92']
>>> from itertools import repeat
>>> repeat(s.split()[-1],10)
repeat('201.92', 10)
>>> list(repeat(float(s.split()[-1]),10))
[201.92, 201.92, 201.92, 201.92, 201.92, 201.92, 201.92, 201.92, 201.92, 201.92]
"
20777,33088,How to run a cancellable function when a new Tkinter window opens,"from tkinter import ttk, messagebox, Toplevel, Tk
import time
import multiprocessing

def foo():
    for i in range(100):
        print(i)
        time.sleep(0.1)

class ProcessWindow(Toplevel):
    def __init__(self, parent, process):
        Toplevel.__init__(self, parent)
        self.parent = parent
        self.process = process

        terminate_button = ttk.Button(self, text=""Cancel"", command=self.cancel)
        terminate_button.grid(row=0, column=0)

        self.grab_set() # so you can't push submit multiple times

    def cancel(self):
        self.process.terminate()
        self.destroy()
        messagebox.showinfo(title=""Cancelled"", message='Process was terminated')

    def launch(self):
        self.process.start()
        self.after(10, self.isAlive)            # Starting the loop to check when the process is going to end

    def isAlive(self):
        if self.process.is_alive():                     # Process still running
            self.after(100, self.isAlive)               # Going again...
        elif self:
            # Process finished
            messagebox.showinfo(message=""sucessful run"", title=""Finished"")
            self.destroy()

class MainApplication(ttk.Frame):
    def __init__(self, parent, *args, **kwargs):
        ttk.Frame.__init__(self, parent, *args, **kwargs)
        self.parent = parent

        self.button = ttk.Button(self, text = ""foo"", command = self.callback)
        self.button.grid(row = 0, column = 0)

    def callback(self):
        proc = multiprocessing.Process(target=foo)
        process_window = ProcessWindow(self, proc)
        process_window.launch()

def main():
    root = Tk()
    my_app = MainApplication(root, padding=(4))
    my_app.grid(column=0, row=0)
    root.mainloop()

if __name__ == '__main__':
    main()
"
15469,33119,tkinter canvas not updating color,"import Tkinter as tk

class App(tk.Tk):
    def __init__(self):
        tk.Tk.__init__(self)
        self.frame_Light = tk.Frame(self, background=""bisque"")
        self.frame_Light.pack(side=""top"", fill=""both"", expand=True)
        self.light_on = True
        self.canvas = tk.Canvas(self.frame_Light)
        self.canvas.create_oval(10, 10, 30, 30, fill=""yellow"", tags=""light"")
        self.canvas.pack(side=""top"", fill=""both"", expand=True)
        self.draw_light()

    def draw_light(self):

        if self.light_on:
            self.canvas.itemconfig(""light"", fill=""blue"")
            self.light_on = False
            print ""on""
        else:
            self.canvas.itemconfig(""light"", fill=""red"")
            self.light_on = True
            print ""of""

        self.after(1000, self.draw_light)

app = App()
app.mainloop()
"
21524,79303,PyQt4 QLineEdit(),"from PyQt4 import QtCore, QtGui
import sys

app = QtGui.QApplication([])
table = QtGui.QTableWidget(6,2)

tableItem = QtGui.QLineEdit()
tableItem.setText( ""Testing"" )

def onTextChanged(text):
    print 'onTextChanged', text
    pass

tableItem.textChanged.connect(onTextChanged)
table.setCellWidget(0, 1, tableItem )
table.show()
app.exec_()
"
8647,24948,Read output from serial with pyserial.,"while 1:
    serial_line = ser.readline()
    dumpfile.write(str(serial_line))
    print serial_line #for debug
    if len(serial_line) == 0:
      break
"
28907,74931,Python: URL parsing issue while adding a trailing slash,"In [32]: url_png = 'http://www.example.com/image.png'

In [33]: url_com = 'http://www.example.com'

In [34]: domains = ['com', 'org', 'gov']

In [35]: for url in [url_png, url_com]:
   ....:     suffix = url.split('.')[-1]
   ....:     if suffix in domains:
   ....:         print url
   ....:
http://www.example.com
"
6872,39442,How can I tell if my script is being run from a cronjob or from the command line?,"import sys
if sys.stdout.isatty():
    print ""Running from command line""
else:
    print ""Running from cron""
"
9670,6809,Python RE - different matching for finditer and findall,"In [4]: for i in p.finditer(s1):
...:     i.group(1)
...:     
...:     
Out[4]: '[CC] '
"
7414,33019,Putting log files into Hive,"CREATE TABLE file.log (
  dateFact STRING,
  country STRING,
  state STRING,
  id STRING,
  value STRING
)
ROW FORMAT SERDE 'org.apache.hadoop.hive.contrib.serde2.RegexSerDe'
WITH SERDEPROPERTIES  (
""input.regex"" = ""([0-9]{4}-[0-9]{2}-[0-9]{2})\s+(\w+)\s+(\w+)\s+(\d+)\s+([\d.]+)"",
""output.format.string"" = ""%1$s %2$s %3$s %4$s %5$s""
)
STORED AS TEXTFILE;
"
9417,38014,flatten nested structure in python,"def flatten_widgets(widget):
    stack = [widget['widgets']]
    while stack:
        for widget in stack.pop():
            yield {k: v for k, v in widget.items() if k != 'widgets'}
            if 'widgets' in widget:
                stack.append(widget['widgets'])

>>> list(flatten_widgets(a))

[{'letter': 'a', 'num': '1'},
 {'letter': 'b', 'num': '2'},
 {'letter': 'c', 'num': '3'},
 {'letter': 'd', 'num': '4'}]
"
8543,80626,"Python, Limiting search at a specific hyperlink on webpage","from bs4 import BeautifulSoup
import urllib2

domain = 'http://www.renderx.com'    
url = 'http://www.renderx.com/demos/examples.html'

page = urllib2.urlopen(url)
soup = BeautifulSoup(page.read())
app = soup.find_all('a', text = ""Applications"")

for aa in app:
    print domain + aa['href']
"
7445,3056,SQL-like MAX and GROUP BY over a list of dicts,"#group by date
unique_dates={v['date'] for v in data}

#calculate the aggregation function for each group
date_maxapples={d,max(v['apples'] for v in data if v['date']==d) for d in unique_dates}
"
20477,51474,Dynamic Programming Knapsack K-exact items,"#include<bits/stdc++.h>

using namespace std;

int noOfItems, items[100], maxWeight, maxItems, value[100];
int dp[100][1000][100];

int solve(int idx, int currentWeight, int itemsLeft){
    if(idx == noOfItems || itemsLeft == 0) return 0;
    if(dp[idx][currentWeight][itemsLeft] != -1) return dp[idx][currentWeight][itemsLeft];
    int v1 = 0, v2 = 0;
    //try to included the current item
    if(currentWeight >= items[idx]) v1 = solve(idx+1, currentWeight-items[idx], itemsLeft-1) + value[idx];
    //exclude current item
    v2 = solve(idx+1, currentWeight, itemsLeft);
    return dp[idx][currentWeight][itemsLeft] = max(v1, v2);
}

//print the contents of the knapsack
void print(int idx, int currentWeight, int itemsLeft){
    if(idx == noOfItems || itemsLeft == 0) return;
    int v1 = 0, v2 = 0;
    if(currentWeight >= items[idx]) v1 = solve(idx+1, currentWeight-items[idx], itemsLeft-1) + value[idx];
    v2 = solve(idx+1, currentWeight, itemsLeft);
    if(v1 >= v2){
        cout << idx << "" "" << items[idx] << "" "" << value[idx] << endl;
        print(idx+1, currentWeight-items[idx], itemsLeft-1);
        return;
    }else{
        print(idx+1, currentWeight, itemsLeft);
        return;
    }
}

int main(){
    cin >> noOfItems >> maxWeight >> maxItems;
    for(int i = 0;i < noOfItems;i++) cin >> items[i] >> value[i];
    memset(dp, -1, sizeof dp);
    cout << solve(0, maxWeight, maxItems) << endl;  //prints the maximum    value that we can get from the constraints
    cout << ""Printing the elements in the knapsack"" << endl;
    print(0, maxWeight, maxItems);
return 0;
}
"
33486,77176,display current process stdout in PySide QTextEdit box,"sys.stdout.close() 
sys.stdout = open(""out.txt"", ""w"") 
"
5483,2086,How to clear/reset all configured logging handlers in Python?,"print (logging.Logger.manager.loggerDict.keys())
"
6203,16939,Handling GTK Objects on Threads in Python,"from gi.repository import Gtk, GLib
import threading
import urllib.request

class Window(Gtk.Window):
    def __init__(self):
        super().__init__()
        self.connect('delete-event', Gtk.main_quit)
        self.progress = Gtk.ProgressBar()
        self.add(self.progress)
        self.show_all()

        # Start download
        self.thread = threading.Thread(target=self.download)
        self.thread.start()
        GLib.timeout_add_seconds(1, self.download_pulse)

    def download(self):
        urllib.request.urlretrieve('<link>')

    def download_pulse(self):
        if self.thread.is_alive():
            self.progress.pulse()
            return True
        return False

win = Window()
Gtk.main()
"
25832,19411,List of dictConfig configuration options for Python logging handlers?,"constructor = config['class'] # or '()' for a custom object being configured
kwargs = dict([(k, config[k]) for k in config if valid_ident(k)])
obj = constructor(**kwargs)
"
37881,28726,how to sort tuple value from list in python,">>> l = [('abc','23'),('ghi','11'),('sugan','12'),('shankar','10')]
>>> sorted(l, key=lambda x: int(x[1]))
[('shankar', '10'), ('ghi', '11'), ('sugan', '12'), ('abc', '23')]
>>> 
"
1132,14523,boto interpretation of the CLI command,"from boto.regioninfo import *
from boto.ec2.connection import EC2Connection

# AWS connect info
aws_access_key_id='########## AWS Access Key ############'
aws_secret_access_key='########### AWS Secret Key ############'
region_name='ap-southeast-1'
region_ec2_endpoint='ec2.ap-southeast-1.amazonaws.com'

# Connect EC2
aws_region = RegionInfo(name=region_name, endpoint=region_endpoint)
conn = EC2Connection(aws_access_key_id,aws_secret_access_key,region=aws_region)

reservations = conn.get_all_instances(instance_ids=[my_ids])
for each in reservations:
    for vol in each.instances[0].block_device_mapping.items():
        print str(each.instances[0].id) + "" "" +  vol[1].volume_id + "" ""+   vol[1].status
"
32421,45719,remove single quote from text with python,"with open('C://file.txt') as filein, open('C://fout.txt','w') as fileout:
    for line in filein:
        line=line.replace(""'"","""")
        fileout.write(line)
"
23745,6087,Putting a cap on the display of an integer in python?,">>> count = 148833
>>> print(str(count)[0:2])
14
"
4715,14825,Generate Zip Files and Store in GAE BlobStore,"#!/usr/bin/env python

import StringIO
import zipfile
from google.appengine.api import files
from google.appengine.ext import blobstore
from google.appengine.ext import webapp
from google.appengine.ext.webapp import blobstore_handlers
from google.appengine.ext.webapp import util

def zipit():
    zipstream = StringIO.StringIO()
    zfile = zipfile.ZipFile(file=zipstream, mode='w')
    bytes = ""lorem ipsum dolor sit amet""
    zfile.writestr('loremipsum', bytes, compress_type=zipfile.ZIP_STORED)
    zfile.close()
    zipstream.seek(0)
    return zipstream.getvalue()

class MainHandler(blobstore_handlers.BlobstoreDownloadHandler):
    def get(self):
        k = self.request.get('key')
        if k:
            self.send_blob(k)
            return

        zip_file = files.blobstore.create(mime_type='application/zip')
        zip_data = zipit()

        with files.open(zip_file, 'a') as f:
            f.write(zip_data)
        files.finalize(zip_file)
        blob_key = files.blobstore.get_blob_key(zip_file)

        self.response.out.write('<a href=""/getzip?key=%s"">get zip</a>' % blob_key)


application = webapp.WSGIApplication([('/getzip', MainHandler)])

def main():
    util.run_wsgi_app(application)

if __name__ == '__main__':
    main()
"
12899,53022,Python Tkinter - When I try to use an Entry form on a new window they do not work,"from tkinter import *
from tkinter import ttk

def newwindow():

    def function():
        var.set(text.get()+text2.get())
        print(var.get())

    main=Toplevel(root)

    text=DoubleVar()
    text2=DoubleVar()
    var=StringVar()

    ttk.Entry(main, textvariable=text).grid(column=0, row=0)
    ttk.Entry(main, textvariable=text2).grid(column=1, row=0)
    ttk.Label(main, textvariable=var).grid(column=2, row=0)
    ttk.Button(main, text=""Button"", command=function).grid(column=0, row=1, columnspan=2)

root=Tk()
ttk.Button(text=""Button"", command=newwindow).grid(column=0, row=0)
root.mainloop()
"
6123,52354,Get list of all applications deployed on a weblogic server,"ArrayList<String> appList = new ArrayList<String>();
Writer out = new StringWriter();
interpreter.setOut(out);
interpreter.exec(""print listApplications()"");   

StringBuffer results = new StringBuffer();
results.append(out.toString());

Scanner scanner = new Scanner(results.toString());
while(scanner.hasNextLine()){
    String line = scanner.nextLine();
    line = line.trim();
    if(line.equals(""None""))
        continue;
    appList.add(line);
}
"
23289,1246,Most elegant way to .format() formatted string with arbitrary length list in Python 2?,"somestring = ('{:6.3f}' * len(mylist)).format(*mylist)
"
39305,16718,How to pass context defined in setting TEMPLATE_CONTEXT_PROCESSORS to my custom views,"def someview(request):
    context = { }
    return render_to_response('some_template.html', context,
                context_instance = RequestContext(request))
"
38316,7223,Python/Numpy - Extract a 2-d Sub-array from a 2-d array using variables,"q = 50

for start in xrange(0, allfiles.shape[1], q):
    data = allfiles[:,start:start+q]
    ...
"
19143,65959,How do I convert days into years and months in python?,"from dateutil.relativedelta import relativedelta
rdelta = relativedelta(now, birthdate)
print 'Age in years - ', rdelta.years
print 'Age in months - ', rdelta.months
print 'Age in days - ', rdelta.days
"
24758,49011,Delineate twice through a dataframe in pandas,"In [11]: s2
Out[11]:
0    AB1234:12, CD5678:34, EF3456:56
1               AB1234:12, CD5678:34
2                                NaN
3               GH5678:34, EF3456:56
4                            OH56:34
dtype: object

In [12]: s2.str.split("", '"")
Out[12]:
0    [AB1234:12, CD5678:34, EF3456:56]
1               [AB1234:12, CD5678:34]
2                                  NaN
3               [GH5678:34, EF3456:56]
4                            [OH56:34]
dtype: object

In [13]: s2.str.split(""\s*,\s*'"")
Out[13]:
0    [AB1234:12, CD5678:34, EF3456:56]
1               [AB1234:12, CD5678:34]
2                                  NaN
3               [GH5678:34, EF3456:56]
4                            [OH56:34]
dtype: object
"
24086,54867,trim big log file,"def match(line):
    lfmt = '%Y-%m-%d %H:%M:%S'
    if line[0] == '[':
        return datetime.datetime.strptime(line[1:20], lfmt)

def retrieve_test_line(position):
    file.seek(position,0)
    file.readline()  # avoids reading partial line, which will mess up match attempt
    new_position = file.tell() # gets start of line position
    return file.readline(), new_position

def check_lower_bound(position):
    file.seek(position,0)
    new_position = file.tell() # gets start of line position
    return file.readline(), new_position

def find_line(target, lower_bound, upper_bound):
    trial = int((lower_bound + upper_bound) /2)
    inspection_text, position = retrieve_test_line(trial)
    if position == upper_bound:
        text, position = check_lower_bound(lower_bound)
        if match(text) == target:
            return position
        return # no match for target within range
    matched_position = match(inspection_text)
    if matched_position == target:
        return position
    elif matched_position < target:
        return find_line(target, position, upper_bound)
    elif matched_position > target:
        return find_line(target, lower_bound, position)
    else:
        return # no match for target within range

lfmt = '%Y-%m-%d %H:%M:%S'
# start_target =  # first line you are trying to find:
start_target =  datetime.datetime.strptime(""2012-02-01 13:10:00"", lfmt)
# end_target =  # last line you are trying to find:
end_target =  datetime.datetime.strptime(""2012-02-01 13:39:00"", lfmt)
file = open(""log_file.txt"",""r"")
lower_bound = 0
file.seek(0,2) # find upper bound
upper_bound = file.tell()

sequence_start = find_line(start_target, lower_bound, upper_bound)

if sequence_start or sequence_start == 0: #allow for starting at zero - corner case
    sequence_end = find_line(end_target, sequence_start, upper_bound)
    if not sequence_end:
        print ""start_target match: "", sequence_start
        print ""end match is not present in the current file""
else:
    print ""start match is not present in the current file""

if (sequence_start or sequence_start == 0) and sequence_end:
    print ""start_target match: "", sequence_start
    print ""end_target match: "", sequence_end
    print
    print start_target, 'target'
    file.seek(sequence_start,0)
    print file.readline()
    print end_target, 'target'
    file.seek(sequence_end,0)
    print file.readline()
"
38004,85070,Amarok 1.4 script: knowing who's running you,"import os

pid = os.getppid()
with open(""/proc/%s/cmdline"" % pid) as f:
    print f.readline()
"
26557,61215,Getting File from form field in Django,"<file_field_instance>.file
"
22783,28014,How to put a textfile into sqlite simply using Python API?,"#!/usr/bin/python
# -*- coding: utf-8 -*-

import sqlite3

import unicodecsv


con = sqlite3.connect('mycorpus.db')
cur = con.cursor()
cur.execute(""CREATE TABLE Corpus(sid INT, scid INT, sent TEXT, PRIMARY KEY (sid))"")

with open('corpus.tab', 'rb') as input_file:
    reader = unicodecsv.reader(input_file, delimiter=""\t"")
    data = [row for row in reader]

cur.executemany(""INSERT INTO Corpus (sid, scid, sent) VALUES (?, ?, ?);"", data)
con.commit()
"
684,54486,generate list from values of certain field in list of objects,"objects = [{'group': 1, 'name': 'Joe'}, {'group': 2, 'name': 'Kirk'}, {'group': 1, 'name': 'Bob'}]
names = [i[""name""] for i in objects]
"
15849,81516,"Given a tuple t of strings, compute the tuple consisting of all strings in t containing the character @","tuple_1 = ('asdf@', 'asdf')

tuple_2 = ()

for elem in [item for item in tuple_1 if '@' in item]: tuple_2 = tuple_2 + (elem,)

print tuple_2
"
1855,51147,Django - didn't return an HTTPResponse Object,"def forgottenPwdEmail(request):
    if request.method == 'POST':
        form = PasswordResetRequestForm(request.POST)
        user = User.objects.get(username=request.user.username)
        user.confirmed = True
        user.save()
        return sendResetPasswordMail(user, request.META['HTTP_HOST'])
    else:
        form = PasswordResetRequestForm()
        return render(request, 'front/reset_password_form.html', {'form': form})
"
30202,66524,Pyplot not plotting subplots,"fig=plt.figure(1)
...
ax=fig.add_subplot(111)
bx=fig.add_subplot(211)
...
fig.savefig('test.png', bbox_extra_artists=(lgd,))
"
9964,7032,How to get coordinates of image in pygame,"import pygame
from pygame.locals import *

pygame.init()

screen = pygame.display.set_mode((600,600))
clock = pygame.time.Clock()
FPS = 60

class MovableImage(pygame.Surface):
    def __init__(self, image, xpos=0, ypos=0):
        self.image = image
        self.xpos = xpos
        self.ypos = ypos
        self.width =  image.get_width()
        self.height = image.get_height()
        self.selected = False
        self.rect = pygame.Rect(xpos, ypos, image.get_width(), image.get_height())

    def move(self, move):
        self.xpos += move[0]
        self.ypos += move[1]
        self.rect = pygame.Rect(self.xpos, self.ypos, self.width, self.height)

def Transformation(element):
    element = pygame.transform.scale(element,(50,75))

def init():
    global ImageList
    fire = pygame.Surface((50,50))
    fire.fill((255,0,0))
    #fire = pygame.image.load(""ElementIcon/fire.png"").convert_alpha()
    #Transformation(fire)
    #fire.set_colorkey(BLACK)
    #fire_rect = fire.get_rect()

    earth = pygame.Surface((50,50))
    earth.fill((255,255,0))
    #earth = pygame.image.load(""ElementIcon/earth.png"").convert_alpha()
    #Transformation(earth)
    #earth.set_colorkey(BLACK)
    #earth_rect = earth.get_rect()

    fire_obj = MovableImage(fire, 408, 450)
    earth_obj = MovableImage(earth, 419,350)

    ImageList =[]
    ImageList.append(fire_obj)
    ImageList.append(earth_obj)

def run():

    global done
    done = False
    while not done:
        check_events()
        update()
        clock.tick(60)      

def check_events():
    global done
    global ImageList

    mouse_pos = pygame.mouse.get_pos()

    for event in pygame.event.get():

        if event.type == pygame.QUIT:
            done = True
            print(""User quits the game :("")
        if event.type == pygame.KEYDOWN:
            if event.key == pygame.K_ESCAPE:
                done = True
                print(""Game stopped early by user :( "")

        if event.type == pygame.MOUSEBUTTONDOWN:
            for im in ImageList:
                if im.rect.collidepoint(mouse_pos):
                    im.selected = not im.selected

        if event.type == pygame.MOUSEBUTTONUP:
            for im in ImageList:
                if im.rect.collidepoint(mouse_pos):
                    im.selected = False

        if event.type == pygame.MOUSEMOTION:
            for im in ImageList:
                if im.rect.collidepoint(mouse_pos) and im.selected:
                    xmv = event.rel[0]
                    ymv = event.rel[1]

                    if event.buttons[0]:
                        if xmv < 0:
                            if im.xpos > 0:
                                im.move((xmv,0))

                        elif event.rel[0] > 0:
                            if im.xpos < screen.get_width():
                                im.move((xmv,0))

                        elif event.rel[1] < 0:
                            if im.ypos > 0:
                                im.move((0,ymv))

                        elif event.rel[1] > 0:
                            if im.ypos < screen.get_height():
                                im.move((0,ymv))

def update():
    global ImageList
    screen.fill((255, 255, 255)) #WHITE)

    #Update the screen with drawings
    for im in ImageList:
        screen.blit(im.image, (im.xpos, im.ypos))

    pygame.display.update() 

if __name__==""__main__"":
    init()
    run()
"
1651,12168,"Why NUMPY correlate and corrcoef return different values and how to ""normalize"" a correlate in ""full"" mode?","if normalize:
    a = (a - mean(a)) / (std(a) * len(a))
    v = (v - mean(v)) /  std(v)
"
17108,14767,How does zero-padding work for 2D arrays in scipy.fftpack?,"plt.imshow(ifftn(fftn(procrustes(temp,img.shape))).real)

plt.imshow(ifftn(fftn(temp,shape=img.shape)).real)
"
6339,6458,Patching all instances of a class in Python,"def replacement(self, orig, ... other arguments ...):
    # orig here is the original function, so can be called like this:
    # orig(self, ... args ...)
    pass

mylib.MyClass.my_method = functools.partialmethod(replacement, mylib.MyClass.my_method)
"
7457,66867,Can I use Objective-C To Open Other Apps On My Mac?,"def runTest(params):
# Your testing code here
target.dock().dockItems()[""Xcode""].click()
target.processes()[""Xcode""].mainWindow().toolbar().buttons()[""Run""].click()
logPass() # This line is implicit and can be removed
"
11905,22931,Why is the quality of JPEG images produced by PIL so poor?,"im.save('/path/to/cover-2.jpg', format='JPEG', subsampling=0, quality=100)
"
24212,82805,Key-Value Pairs in Redis,"import redis
import json
r = redis.Redis()
r.rpush(json.dumps((""jack"", ""dorsey"", ""twitter""), image)
"
38260,18466,How to update twitter status with image using image url in tweepy?,"import requests
import os


def twitter_api():
    access_token = config.get('twitter_credentials', 'access_token')
    access_token_secret = config.get('twitter_credentials', 'access_token_secret')
    consumer_key = config.get('twitter_credentials', 'consumer_key')
    consumer_secret = config.get('twitter_credentials', 'consumer_secret')

    auth = OAuthHandler(consumer_key, consumer_secret)
    auth.set_access_token(access_token, access_token_secret)
    api = API(auth)
    return api


def tweet_image(url, message):
    api = twitter_api()
    filename = 'temp.jpg'
    request = requests.get(url, stream=True)
    if request.status_code == 200:
        with open(filename, 'wb') as image:
            for chunk in request:
                image.write(chunk)

        api.update_with_media(filename, status=message)
        os.remove(filename)
    else:
        print(""Unable to download image"")


url = ""http://animalia-life.com/data_images/bird/bird1.jpg""
message = ""Nice one""
tweet_image(url)
"
21907,84609,retrieving dictionary elements by index rather than key,">>> a = collections.Counter('abcdababc')
>>> a.most_common()
[('a', 3), ('b', 3), ('c', 2), ('d', 1)]
>>> a.most_common(2)
[('a', 3), ('b', 3)]
"
10037,73866,PIL - Add semi-transparent polygon to JPEG,"#!/usr/bin/env python3

from PIL import Image
from PIL import ImageDraw

im = Image.open(""existing.jpg"")
logo = Image.open(""python-32.png"")

back = Image.new('RGBA', im.size)
back.paste(im)
poly = Image.new('RGBA', (512,512))
pdraw = ImageDraw.Draw(poly)
pdraw.polygon([(128,128),(384,384),(128,384),(384,128)],
          fill=(255,255,255,127),outline=(255,255,255,255))

back.paste(poly, (0,0), mask=poly)
back.paste(logo, (im.size[0]-logo.size[0], im.size[1]-logo.size[1]), mask=logo)

back.show()
"
25957,25547,Comparing Equality of Vectors as a Dictionary,"def equal(u, v):
   if u.D != v.D: return False  # domains must be equal
   return all(u.f.get(x, 0) == v.f.get(x, 0) for x in u.D)
"
30208,28364,Multidimensional lists and their dependency," from copy import deepcopy

 my_other_list = deepcopy(my_list)
"
21410,41647,Python 3.2: How to pass a dictionary into str.format(),"stats = { 'copied': 5, 'skipped': 14 }
print( 'Copied: {copied}, Skipped: {skipped}'.format( **stats ) )  #use ** to ""unpack"" a dictionary
"
9350,35127,Search and replace some text in strings in Python?,"s = """"""<number=""4"" word=""start"" sentence=""I said, ""start!"""" />""""""

re.sub(r'(?<=sentence="")(.*)(?="" />)', lambda m: m.group().replace('""',""'""), s)
Out[179]: '<number=""4"" word=""start"" sentence=""I said, \'start!\'"" />'
"
20634,24348,Vectorized implementation to get index of minimum element in each row,"X.argmin(axis=1)
"
1745,7301,How to build a flask application around an already existing database?,"#!/usr/bin/python
# -*- mode: python -*-

from sqlalchemy import create_engine
from sqlalchemy.ext.declarative import declarative_base

engine = create_engine('sqlite:///webmgmt.db', convert_unicode=True, echo=False)
Base = declarative_base()
Base.metadata.reflect(engine)


from sqlalchemy.orm import relationship, backref

class Users(Base):
    __table__ = Base.metadata.tables['users']


if __name__ == '__main__':
    from sqlalchemy.orm import scoped_session, sessionmaker, Query
    db_session = scoped_session(sessionmaker(bind=engine))
    for item in db_session.query(Users.id, Users.name):
        print item
"
14682,25094,How do I reflect a matrix in matplotlib?,"import numpy as np
import pylab as plt

# Create a sample matrix like your image
A = np.random.random((100,100)) * .52
A = np.rint(A)
for idx in np.ndindex(A.shape):
    if idx[0]>idx[1]: A[idx] = 0

plt.subplot(1,2,1)
plt.imshow(A,interpolation='none')

# Make a new matrix B = A + A.T - diagonal(A)
B = A + A.T - np.diag(np.diag(A))
plt.subplot(1,2,2)
plt.imshow(B,interpolation='none')
plt.tight_layout()
plt.show()
"
30204,8902,Average and Mean in numpy,"column = []
for _ in range(5):
    message = sock.recv(2048)
    column.append(message.split()[0])
print np.average((map(float, column)))
"
21312,37400,"Is there any way to change the Celery config programmatically, after app init?","app.conf.CELERY_ALWAYS_EAGER = True
"
16501,23465,save a tuple to a django model,"from django.contrib.gis.db import models

Class User(models.Model):
    location = models.PointField(help_text=""Represented as (longitude, latitude)”)
"
37511,23849,How to map false color image to specific labels assigned for each color,"    r_channel = image[:, :, 0]
    g_channel = image[:, :, 1]
    b_channel = image[:, :, 2]
    label_map = 1000000 * (r_channel) + 1000 * g_channel + b_channel
    label_map = np.round(label_map).astype(int)
"
14684,4320,Dot products of columns of mixed shaped arrays,">>> np.einsum('ij,ikj->ik', a, b)
array([[  5,  14],
       [ 86, 122],
       [275, 338],
       [572, 662]])
"
11926,49686,Type of Python function pointer,">>> import types
>>> types.FunctionType
<class 'function'>
>>>
>>> def func():
...     pass
...
>>> type(func)
<class 'function'>
>>> isinstance(func, types.FunctionType)
True
>>>
"
33108,61463,Linux python read output from a running python script,"class JsonWriterPipeline(object):
    def __init__(self):
        self.file = (open(filepath, 'a'))
    def process_item(self, item, spider):
        self.file.write(json.dumps(dict(item)) + '\n')
        return item
"
34421,11411,Cant get post_save to work in Django,"from django.db.models.signals import post_save
from myapp.models import Car

def do_something(sender, **kwargs):
    print 'the object is now saved.'
    car = kwargs['instance'] #now i have access to the object

post_save.connect(do_something, sender=Car)
"
5629,33969,Append a text line to a file and remove the first one if there are more than 4 lines in python,"
from collections import deque

path = 'test.txt'

with open(path, 'r') as file:
    lines = deque(file, 4)
    lines.append(""\nthis is an additional line."")

with open(path, 'w') as file:
    file.writelines(lines)
"
27201,53376,Python: Split string at the start of delimiter rather than the end,">>> test = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
>>> d = 'DEF'
>>> head, sep, tail = test.partition(d)
>>> [head, sep+tail]
['ABC', 'DEFGHIJKLMNOPQRSTUVWXYZ']
"
2487,79687,Rewrite this loop function with range,"object_list = [aa, ab, ... ]
for n, k in enumerate( object_list, start=1):
     ...
"
24441,11052,addition of specific elements of a list python,">>> def addFirstAndLast(x):
...   return (x[0]+x[-1])/(1/len(x)+1) if x else 0
... 
>>> addFirstAndLast([])
0
>>> addFirstAndLast([1])
1
>>> addFirstAndLast([1,3])
4
"
9768,21386,How to split a file according to labels using pandas?,"import pandas
df = pandas.read_csv(""sample.txt"", delimiter=""\t"", header=None)
df.columns = [""index"", ""chrid"", ""location"", ""readings""]
chrs = []
for chrid in range(1,n):
    chr = df.loc[df[""chrid""] == ""chr""+str(chrid)]
    chr[""chrid""] = map(lambda x: return int(x[3]), chr[""chrid""])
    chrs.append(chr)
# chrs is now a list of dataframes, each for individual chromosome data
"
28478,42750,Get count of string obj in list by substring,">>> from collections import Counter
>>> Counter([d.rsplit('-',1)[0] for d in date_list])
Counter({'2016-03': 2, '2016-02': 2, '2016-01': 1})
"
341,30947,Declaring class methods in Zope interfaces,"class IMessageFactory(Interface):
     def __call__():
         """"""Produce an IMessage provider""""""

     def parse(msg):
         """"""Parses `msg` into a IMessage provider""""""


class IMessage(Interface):
     """"""A message interface""""""

     # Optional, show the class method here too
     def parse(msg):
         """"""Parses `msg` into a IFoo provider""""""
"
23226,76771,Aggregate count in Pandas,"data.groupby(['post_product_list','cust_visid','date_time']).size()
"
3621,28923,Giving a pair of numbers as a parameter in Python,"def neighbors(point):
    x, y = point
"
18809,42203,Django: do I need to make a caching method?,"from django.utils.functional import cached_property

class Personne(BaseModel):
    @cached_property 
    def url_profile_picture(self):
        a = PersonnePhoto.objects.filter(personne=self,
                                         photo_type=PersonnePhoto.PHOTO_PROFIL)
        if len(a):
            a = reverse('url_public', kwargs={'path': a[0].photo})
        else:
            a = staticfiles.static('img/no-picture-yet.png')
        return a
"
9737,84246,When is the formfield() method called in Django?,"from myapp.forms import MyCustomFormField

#create a custom model field
class EditAreaField(models.TextField):
  def formfield(self, **kwargs):
    defaults={'form_class': MyCustomFormField}#pass our custom field as form_class
    defaults.update(kwargs)
    super (EditAreaField, self).formfield(**defaults)
"
26495,19321,How to open a file on mac osx in python,"import subprocess
FileName = ""/Users/fis/Desktop/installation_guide.txt""
subprocess.call(['open', FileName])
"
32933,64155,Can a Python Command be executed when a button is pressed in a Flash Program,"import flash.events.EventDispatcher;
import flash.desktop.NativeProcess;
import flash.desktop.NativeProcessStartupInfo;
import flash.events.ProgressEvent;
import flash.events.NativeProcessExitEvent;
import flash.filesystem.File;
import flash.events.Event;

public class ProcessRequest extends EventDispatcher {

    private var _np:NativeProcess;
    private var _npi:NativeProcessStartupInfo;
    private var _args:Vector.<String>;
    private var exePath:String;
    private var _windowsPath:String;

    public var _output:String;

    public function ProcessRequest(_exePath:String) {
        exePath = _exePath;
    }

    public function process(input_arg:Vector.<String>):void {
        _args = input_arg;
        _process();
    }

    private function _process():void {
        _npi = new NativeProcessStartupInfo();
        _npi.executable = File.applicationDirectory.resolvePath(exePath);
        _npi.arguments = _args;

        _np = new NativeProcess();
        _np.addEventListener(ProgressEvent.STANDARD_OUTPUT_DATA, onOutputData);
        _np.addEventListener(ProgressEvent.STANDARD_ERROR_DATA, onErrorData);
        _np.addEventListener(NativeProcessExitEvent.EXIT, onExit);
        _np.start(_npi);
    }

    private function onOutputData(e:ProgressEvent):void {
        _output = String(_np.standardOutput.readUTFBytes(_np.standardOutput.bytesAvailable));
        dispatchEvent(new Event(""OutputData""));
    }

    private function onErrorData(e:ProgressEvent):void {
        _output = String(_np.standardError.readUTFBytes(_np.standardError.bytesAvailable));
        dispatchEvent(new Event(""ErrorData""));
    }

    private function onExit(e:NativeProcessExitEvent):void {
        _np.removeEventListener(ProgressEvent.STANDARD_OUTPUT_DATA, onOutputData);
        _np.removeEventListener(ProgressEvent.STANDARD_ERROR_DATA, onErrorData);
        _np.removeEventListener(NativeProcessExitEvent.EXIT, onExit);
        _npi = null;
        _np = null;
        _args = null;
        dispatchEvent(new Event(Event.COMPLETE));
    }

    public function Cancel():void {
        _np.exit(true);
    }

}
"
2479,26998,How do I print the lists of all the indices within defaultdict in Python 3?,"for length in sorted(results):
    print length, [t.originalWord for t in results[length]]
"
11846,37961,Dynamic Time Warping in Python,"    import rpy2.robjects as robjects
    r = robjects.r
    r('library(""dtw"")')
    idx = r.seq(0,6.28,len=100)
    template = r.cos(idx)
    query = r.sin(idx)+r('runif(100)/10')
    alignment=r.dtw(query,template,keep=r('TRUE'))
    robjects.globalenv[""alignment""] =  alignment
    dist = r('alignment$distance')
    print(dist)
"
433,8253,Specify specific testcases in python unit test TestLoader,"loader = unittest.TestLoader()
loader.testMethodPrefix = ""test_prefix""# default value is ""test""

suite1 = loader.discover('Test1', pattern = ""Test*.py"") 
suite2 = loader.discover('Test2', pattern = ""Test*.py"")
alltests = unittest.TestSuite((suite1, suite2))
unittest.TextTestRunner(verbosity=2).run(alltests)
"
13388,16909,Python: getting substring starting and ending between two given substrings,"In [110]: s[s.find(s_l)+len(s_l): s.find(s_r)]
Out[110]: 'efg'
"
34913,20332,Handling python output data in a bash script,"#!/bin/bash

external=""'10.10.10.1','10.10.20.1'""

result=""$(python3 <<END
import ipaddress
ipsub = {""10.10.10.0/24"": ""Firewall-Denver"", ""10.10.20.0/25"": ""FirewallNewYork""}
iplist = [$external]

ipfirewall = []


for i in ipsub:
    for j in iplist:
        if ipaddress.ip_address(j) in ipaddress.ip_network(i):
            ipfirewall.append([j,ipsub[i]])
print(ipfirewall)
END
)""

echo ""$result""
"
34319,49360,Python run Java command line arguments with incrementing variables asynchronously.,"#!/bin/bash
for i in {1..5}
do
   java myprogram.jar -input myfile$i.txt -output output/myfile$i.txt
done
"
4207,6679,Java/Python MD5 implementation- how to overcome unsigned 32-bit requirement?,">>> i = ctypes.c_uint(0)
>>> i.value -= 1
>>> i                                                            
c_uint(4294967295)
>>> i.value += 1
>>> i
c_uint(0)
"
8440,22105,Generating a identical probability distribution on each run of a test,"numpy.random.seed(x)
"
30318,54893,Python string formatting,"cmd = CMD % (option1, option2)
"
7037,9666,"matplotlib share x axis but don't show x axis tick labels for both, just one","import matplotlib.pyplot as plt
fig = plt.figure()
ax1 = fig.add_subplot(2,1,1)
ax1.plot(range(10), 'b-')

ax2 = fig.add_subplot(2,1,2, sharex=ax1)
ax2.plot(range(10), 'r-')

plt.setp(ax1.get_xticklabels(), visible=False)

plt.show()
"
20914,71879,Python Pyramid & suds - what is the correct way to design my Pyramid web app to connect to a SOAP service?,"config.registry['wsdl_client'] = Client(wsdl_url)

def some_view(request):
    client = request.registry['wsdl_client']
"
16071,26267,How to combine (merge) an array of identical DataFrames into a single one?,"dfs = []
for df in pd.read_csv(....chunksize=chunk_size):
  df1 = df
  # ....
  if condition:
    dfs.append(df1)
result=concat(dfs)
"
3549,84148,How is possible to create a python shell script like top unix command?,"print ""\x1b[H\x1b[2J"",
print ""hello clear world""
"
21735,26801,workaround for an error-looking rouding,">>> import decimal
>>> myothercontext = decimal.Context(rounding=decimal.ROUND_HALF_UP)
>>> decimal.setcontext(myothercontext)
>>> TWOPLACES = decimal.Decimal(10) ** -2
>>> decimal.Decimal('111.175').quantize(TWOPLACES)
Decimal('111.18')
>>> decimal.Decimal('1.175').quantize(TWOPLACES)
Decimal('1.18')
>>> decimal.Decimal('11.175').quantize(TWOPLACES)
Decimal('11.18')
"
8042,29858,PIL/Pillow convert Image to list and back again,"img2.putdata(img_ints.astype(int).flatten())
"
39374,76146,Set chromedriver window size before opening in selenium (python),"class ExampleTestSuite(unittest.TestCase):
   def setUp(self):
      self.driver= webdriver.Chrome()
      self.driver.set_window_size(1,1)

  def test_example_test(self):
     #test code here
"
31948,42729,Dealing with a string containing multiple character encodings,"latin1 = ""latin-1""
japanese = ""Shift-JIS""

control_l = ""\x0c""
control_j = ""\n""

encodingMap = {
    control_l: latin1,
    control_j: japanese}

def funkyDecode(s, initialCodec=latin1):
    output = u""""
    accum = """"
    currentCodec = initialCodec
    for ch in s:
        if ch in encodingMap:
            output += accum.decode(currentCodec)
            currentCodec = encodingMap[ch]
            accum = """"
        else:
            accum += ch
    output += accum.decode(currentCodec)
    return output
"
1501,80429,python simple password login with limited trial with while loop,"...
P=0 #password part
pssw = None
messages = {
    0: 'key in your password: ',
    1: '\nWrong password, \nSecond chance: ',
    2: '\nWrong password, \nWrong again will terminate the program... \nType again: '
}
try:
    while (pssw != 'cyber'):
        pssw=raw_input(messages[P])
        P += 1
except KeyError:
    print ""Bye...""
    exit('ASGN_1151102784_A01A.py')     #terminate program after 3 error pssw
else:
    print ""\nWelcome ""+username
"
19240,33459,"using dictConfig in python logging, need to create a logger with a different file than defined in dict.","logger2 = logging.getLogger('extensive')
logfile = logging.FileHandler(""test.log"")
logger2.handlers = []
logger2.addHandler(logfile)
"
17615,31088,Restart ruby script after crashing (python),"#!/bin/bash

trap handler SIGINT

RUN=true

handler() {
    RUN=false
}

while [ ${RUN} = true ]; do
    python child.py
done
"
12596,20775,Python: How to get the caller's method name in the called method?,">>> import inspect
>>> def f1(): f2()
... 
>>> def f2():
...   curframe = inspect.currentframe()
...   calframe = inspect.getouterframes(curframe, 2)
...   print 'caller name:', calframe[1][3]
... 
>>> f1()
caller name: f1
>>> 
"
18864,70277,"Django User Sessions, Cookies and Timeout"," SESSION_COOKIE_AGE
 Default: 1209600 (2 weeks, in seconds)
 >> The age of session cookies, in seconds.

 SESSION_SAVE_EVERY_REQUEST
 Default: False
 >> Whether to save the session data on every request. 
 If this is False (default), then the session data will only be saved if it has been modified – that is, if any of its dictionary values have been assigned or deleted.
"
37592,11512,"What is the ""correct"" way to make a stoppable thread in Python, given stoppable pseudo-atomic units of work?","def run(self):
    atoms = # get atoms
    for atom in atoms:
        if self.stop_at_next_check:
             break
        self.current_atom = atom
        atom.do_work()
"
35751,5466,calculate individual frequencies for both elements of a pair of this 2 elements from a numpy matrix in python,"for i, j in itertools.combinations(range(len(matrix.T)), 2):
    c = matrix[:, [i,j]]
    combined_counts = collections.Counter(map(tuple,c))
    first_column_counts = collections.Counter(c[:,0])
    second_column_counts = collections.Counter(c[:,1])
    print 'columns {} and {}'.format(i,j)
    for AB in combined_counts:
      freq_AB = float(float(combined_counts[AB])/len(c))
      print 'Frequency of {} = {}'.format(AB, freq_AB)
      freq_A = float(first_column_counts[AB[0]])/len(c)
      print ""  Freq of '{}' in column {} = {}"".format(AB[0], i, freq_A)
      freq_B = float(second_column_counts[AB[1]])/len(c)
      print ""  Freq of '{}' in column {} = {}"".format(AB[1], i, freq_B)
    print
"
1609,5207,Python Package Building - importing function for use in class definition,"PyObject *
_Py_Mangle(PyObject *privateobj, PyObject *ident)
{
    /* Name mangling: __private becomes _classname__private.
       This is independent from how the name is used. */
    const char *p, *name = PyString_AsString(ident);
    char *buffer;
    size_t nlen, plen;
    if (privateobj == NULL || !PyString_Check(privateobj) ||
        name == NULL || name[0] != '_' || name[1] != '_') {
        Py_INCREF(ident);
        return ident;
    }
    p = PyString_AsString(privateobj);
    nlen = strlen(name);
    /* Don't mangle __id__ or names with dots.

       The only time a name with a dot can occur is when
       we are compiling an import statement that has a
       package name.

       TODO(jhylton): Decide whether we want to support
       mangling of the module name, e.g. __M.X.
    */
    if ((name[nlen-1] == '_' && name[nlen-2] == '_')
        || strchr(name, '.')) {
        Py_INCREF(ident);
        return ident; /* Don't mangle __whatever__ */
    }
    /* Strip leading underscores from class name */
    while (*p == '_')
        p++;
    if (*p == '\0') {
        Py_INCREF(ident);
        return ident; /* Don't mangle if class is just underscores */
    }
    plen = strlen(p);

    if (plen + nlen >= PY_SSIZE_T_MAX - 1) {
        PyErr_SetString(PyExc_OverflowError,
                        ""private identifier too large to be mangled"");
        return NULL;
    }

    ident = PyString_FromStringAndSize(NULL, 1 + nlen + plen);
    if (!ident)
        return 0;
    /* ident = ""_"" + p[:plen] + name # i.e. 1+plen+nlen bytes */
    buffer = PyString_AS_STRING(ident);
    buffer[0] = '_';
    strncpy(buffer+1, p, plen);
    strcpy(buffer+1+plen, name);
    return ident;
}
"
24974,51718,Basic multiprocessing with while loop,"import multiprocessing

POISON_PILL = ""STOP""

def process_odds(in_queue, shared_list):

    while True:

        # block until something is placed on the queue
        new_value = in_queue.get() 

        # check to see if we just got the poison pill
        if new_value == POISON_PILL:
            break

        # we didn't, so do the processing and put the result in the
        # shared data structure
        shared_list.append(new_value/2)

    return

def process_evens(in_queue, shared_list):

    while True:    
        new_value = in_queue.get() 
        if new_value == POISON_PILL:
            break

        shared_list.append(new_value/-2)

    return

def main():

    # create a manager - it lets us share native Python object types like
    # lists and dictionaries without worrying about synchronization - 
    # the manager will take care of it
    manager = multiprocessing.Manager()

    # now using the manager, create our shared data structures
    odd_queue = manager.Queue()
    even_queue = manager.Queue()
    shared_list = manager.list()

    # lastly, create our pool of workers - this spawns the processes, 
    # but they don't start actually doing anything yet
    pool = multiprocessing.Pool()

    # now we'll assign two functions to the pool for them to run - 
    # one to handle even numbers, one to handle odd numbers
    odd_result = pool.apply_async(process_odds, (odd_queue, shared_list))
    even_result = pool.apply_async(process_evens, (even_queue, shared_list))
    # this code doesn't do anything with the odd_result and even_result
    # variables, but you have the flexibility to check exit codes
    # and other such things if you want - see docs for AsyncResult objects

    # now that the processes are running and waiting for their queues
    # to have something, lets give them some work to do by iterating
    # over our data, deciding who should process it, and putting it in
    # their queue
    for i in range(6):

        if (i % 2) == 0: # use mod operator to see if ""i"" is even
            even_queue.put(i)

        else:
            odd_queue.put(i)

    # now we've finished giving the processes their work, so send the 
    # poison pill to tell them to exit
    even_queue.put(POISON_PILL)
    odd_queue.put(POISON_PILL)

    # wait for them to exit
    pool.close()
    pool.join()

    # now we can check the results
    print(shared_list)

    # ...and exit!
    return


if __name__ == ""__main__"":
    main()
"
9214,13720,Python Pandas data frame with column value as a dictionary,"x['map']=x[['val1','val2']].to_dict(orient='records')
"
7695,19137,Django Rest: The view does not want to import,"from .models import Snippet
from serializers import SnippetSerializer
from rest_framework.renderers import JSONPRenderer
from rest_framework.parsers import JSONParser
from django.http import HttpResponse
from django.views.decorators.csrf import csrf_exempt

class JSONResponse(HttpResponse):

    def __init__(self, data, **kwargs):
        content = JSONPRenderer().render(data)
        kwargs['content_type'] = 'aplication/json'
        super(JSONPRenderer, self).__init__(content, **kwargs)

@csrf_exempt
def snippet_list(request):
    """"""
    List all code snippets or create new code snippet
    """"""
    if request.method == ""GET"":
        snippet = Snippet.objects.all()
        serializer = SnippetSerializer(snippet, many=True)
        return JSONResponse(serializer.data)

    elif request.method == ""POST"":
        data = JSONParser().parse(request)
        serializer = SnippetSerializer(data=data)
        if serializer.is_valid():
            serializer.save()
            return JSONResponse(serializer.data, status=201)
        return JSONResponse(serializer.data, status=400)

@csrf_exempt
def snippet_detail(request, pk):
    """"""
    Retrive, delete or update code snippet
    """"""
    try:
        snippet = Snippet.objects.get(pk=pk)
    except Snippet.DoesNotExist:
        return HttpResponse(status=404)

    if request.response == ""GET"":
        serializer = SnippetSerializer(snippet)
        return JSONResponse(serializer.data)

    elif request.method == ""PUT"":
        data = JSONParser().parse(request)
        serializer = SnippetSerializer(snippet, data=data)
        if serializer.is_valid():
            serializer.save()
            return HttpResponse(serializer.data)
        return HttpResponse(serializer.errors, status=400)

    elif request.method == ""DELETE"":
        snippet.delete()
        return HttpResponse(status=204)
"
32871,61580,Overlaying just black pixels from an image over another using Python Imaging Library,"import PIL
from PIL import Image
from PIL import ImageChops # used for multiplying images

# open images
painting = Image.open(""painting.bmp"")
mask     = Image.open(""mask.bmp"")


def black_onto(img1, img2):  
    # create blank white canvas to put img2 onto
    resized = Image.new(""RGB"", img1.size, ""white"")

    # define where to paste mask onto canvas
    img1_w, img1_h = img1.size
    img2_w, img2_h = img2.size
    box = (img1_w/2-img2_w/2, img1_h/2-img2_h/2, img1_w/2-img2_w/2+img2_w, img1_h/2-img2_h/2+img2_h)

    # multiply new mask onto image
    resized.paste(img2, box)
    return ImageChops.multiply(img1, resized)


out = black_onto(painting, mask)
out.show() # this gives the output image shown above
"
36452,77427,Write file with specific permissions in Python,"with os.fdopen(os.open('/path/to/file', os.O_WRONLY | os.O_CREAT, 0600), 'w') as handle:
  handle.write(...)     
"
12704,40343,print statement not appearing in terminal,"if __name__==""__main__"":
    main()
"
7665,37781,How to integrate Selenium and Python,"from selenium import webdriver
driver = webdriver.Firefox()
driver.get(""http://google.com"")
print driver.title
driver.close()
"
6494,23516,Sharing base object with inheritance,"class Base(object):
    def __init__(self, base_arg1, base_arg2):
        self.base_arg1 = base_arg1
        self.base_arg2 = base_arg2
        ...

class Derived(Base):
    def __init__(self, base_arg1, base_arg2, derived_arg1, derived_arg2):
        super().__init__(base_arg1, base_arg2)
        ...

    @classmethod
    def from_base(cls, b, da1, da2):
        return cls(b.base_arg1, b.base_arg2, da1, da2)
"
3853,75345,Grabbing values of an array in sets of 100,"def chunkit(lst, n):
    newn = int(len(lst)/n)
    for i in xrange(0, n-1):
        yield lst[i*newn:i*newn+newn]
    yield lst[n*newn-newn:]


def getDescriptions(ids):
    friends = chunkit(ids, 3)
    while (True):
        try:
            fids = friends.next()
            sids = ','.join(map(str, fids)) 
            r = requests.get('http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key='+API_KEY+'&steamids=' + sids)
            data = r.json()
            # Do something with the data variable
        except StopIteration:
            break
"
20272,20345,"How to authenticate if a user ""owns"" a model instance","team_member = Team.objects.get(id=team_member_id)
if team_member.site.id == request.user.site_set.all().first().id:
   print ""same site""
else:
   print ""different site""
"
23423,33269,tornado: AsyncHttpClient.fetch from an iterator?,"import tornado.queues
from tornado import gen
from tornado.httpclient import AsyncHTTPClient
from tornado.ioloop import IOLoop

NUM_WORKERS = 10
QUEUE_SIZE = 100
q = tornado.queues.Queue(QUEUE_SIZE)
AsyncHTTPClient.configure(None, max_clients=NUM_WORKERS)
http_client = AsyncHTTPClient()

@gen.coroutine
def worker():
    while True:
        url = yield q.get()
        try:
            response = yield http_client.fetch(url)
            print('got response from', url)
        except Exception:
            print('failed to fetch', url)
        finally:
            q.task_done()

@gen.coroutine
def main():
    for i in range(NUM_WORKERS):
        IOLoop.current().spawn_callback(worker)
    with open(""urls.txt"") as f:
        for line in f:
            url = line.strip()
            # When the queue fills up, stop here to wait instead
            # of reading more from the file.
            yield q.put(url)
    yield q.join()

if __name__ == '__main__':
    IOLoop.current().run_sync(main)
"
17725,70859,Python cannot allocate memory using multiprocessing.pool,"def RunMany(inputs):
from multiprocessing import cpu_count, Pool
proc=inputs[0]
pool=Pool(processes = proc) 
results=[]
for arg1 in inputs[1]:
    for arg2 in inputs[2]:
        for arg3 in inputs[3]:
            results.append(pool.apply_async(RunOne, args=(arg1, arg2, arg3)))
#new section
pool.close()
pool.join()    
#end new section
casenum=0
datadict=dict()
for p in results:
    #get results of simulation once it has finished
    datadict[casenum]=p.get() 
    casenum+=1
return datadict
"
13834,48043,Why Singleton in python calls __init__ multiple times and how to avoid it?,"class Singleton(type):
    def __init__(self, name, bases, mmbs):
        super(Singleton, self).__init__(name, bases, mmbs)
        self._instance = super(Singleton, self).__call__()

    def __call__(self, *args, **kw):
        return self._instance

class Test(metaclass = Singleton):
    # __metaclass__ = Singleton # in python 2.7
    def __init__(self, *args, **kw):
        print(""Only ever called once"")
"
25101,48133,Dynamically expanding a scipy array,"import scipy as sci
n=3
time = sci.zeros((n,1), 'double')
print(time)
# [[ 0.]
#  [ 0.]
#  [ 0.]]

time.resize((n+1,2))
print(time)
# [[ 0.  0.]
#  [ 0.  0.]
#  [ 0.  0.]
#  [ 0.  0.]]
"
6282,45520,Writing an ASCII file from a 2D numpy array,"from StringIO import StringIO
import numpy as np
f = StringIO()
x = np.array(( -9999, 1.345, -9999, 3.21, 0.13, -9999), dtype=float)
np.savetxt(f, x, fmt='%.3f')
f.seek(0)
fs = f.read().replace('-9999.000', '-9999', -1)
f.close()
f = open('ASCIIout.asc', 'w')
f.write(""ncols "" + str(ncols) + ""\n"")
f.write(""nrows "" + str(nrows) + ""\n"")
f.write(""xllcorner "" + str(xllcorner) + ""\n"")
f.write(""yllcorner "" + str(yllcorner) + ""\n"")
f.write(""cellsize "" + str(cellsize) + ""\n"")
f.write(""NODATA_value "" + str(noDATA) + ""\n"")
f.write(fs)
f.close()
"
38947,29043,Python - RegEx for splitting text into sentences (sentence-tokenizing),"(?<!\w\.\w.)(?<![A-Z][a-z]\.)(?<=\.|\?)\s
"
14372,13374,PyQt4 object does not display,"    while self.tabWidget.widget(0):
        self.tabWidget.removeTab(0)
    for i in data['tabList']:
        self.log(""Adding tab: '%s'"" % i, DEBUG)
        self.data['tabDict'][i]['scrollarea'] = QScrollArea()
        self.data['tabDict'][i]['scrollarea'].setWidgetResizable(True)
        self.data['tabDict'][i]['widget'] = QWidget()
        self.data['tabDict'][i]['vbox'] = QVBoxLayout()
        for j in self.data['tabDict'][i]['groupList']:
            self.log(""Adding group: '%s'"" % j, DEBUG)
            self.data['tabDict'][i]['groupDict'][j]['groupbox'] = QGroupBox(j)
            self.data['tabDict'][i]['groupDict'][j]['formlo'] = QFormLayout()
            print self.data['tabDict'][i]['groupDict'][j]['formlo']
            for k in self.data['tabDict'][i]['groupDict'][j]['fields']:
                self.log(""Adding field: '%s'"" % k['name'])
                k['lineedit']  = QLineEdit(k['value'])
                k['lineedit'].setToolTip('<b>Type:</b> %s<br><b>TSDB path:</b> %s<br><b>Line:</b> %d<br><b>Comment:</b> %s' % (k['type'],k['path'],k['row'], k['comment']))
                self.data['tabDict'][i]['groupDict'][j]['formlo'].addRow(k['name'], k['lineedit'])
            self.data['tabDict'][i]['groupDict'][j]['groupbox'].setLayout(self.data['tabDict'][i]['groupDict'][j]['formlo'])
            self.data['tabDict'][i]['vbox'].addWidget(self.data['tabDict'][i]['groupDict'][j]['groupbox'])
        self.data['tabDict'][i]['widget'].setLayout(self.data['tabDict'][i]['vbox'])
        self.data['tabDict'][i]['scrollarea'].setWidget(self.data['tabDict'][i]['widget'])
        self.tabWidget.addTab(self.data['tabDict'][i]['scrollarea'], i)
"
26036,66694,Can I use configparser to make a dictionary of dictionaries?,"[Pers1]
name = Alice
sex = female
tags.COMPANY = Macrosoft
tags.EMPLOYEE_SINCE = 1/5/2005
"
29077,54600,parsing xml in python,">>> from lxml import etree
>>> text = '''<s id=""1792387-2"">Castro Verde is situated in the Baixo Alentejo Subregion within a territory known locally as the Campo Branco (English: White Plains).</s>'''
>>> def edit(s):
...     return 'Changed Text'
... 
>>> t = etree.fromstring(text)
>>> t.text = edit(t.text)
>>> etree.tostring(t)
'<s id=""1792387-2"">Changed Text</s>'
"
8261,37148,Set string as variable name,"inds = {'EUR': [whatever],
        'AFR': [foo],
        'ASN': [other]}

foos = inds['EUR']
"
20900,74795,Django Arrayfield with referential constraint for postgres,"class Info(models.Model):        
    ...
    def save(self, *args, **kwargs):
        # validate all multiChoice belong in lookup
        lookup_id_list = Lookup.objects.filter(id__in=self.multiChoice)\
            .values_list('id', flat=True)
        assert set(lookup_id_list) == set(self.multiChoice)
        super(Info, self).save(*args, **kwargs)
"
13273,29497,how can I plot string vs float in python?,"import pylab as pl
x = [0,1]
xTicks = ['LONDON','PARIS']
y = [2.39, 3.41]
pl.xticks(x, xTicks)
pl.xticks(range(2), xTicks, rotation=45) #writes strings with 45 degree angle
pl.plot(x,y,'*')
pl.show()
"
35605,53447,python How would I divide this?,"import re

posts = ['1test', '23test', '15test']

r = re.compile('(^\d)')
print sum([float(r.match(post).group(1)) for post in posts])/len(posts)
"
34522,19022,Using optparse to read in a list from command line options,"import ast
(options, args) = parser.parse_args()    
myopt = ast.literal_eval(options.myopt)
"
31260,65439,python string formatting in javascript,"vsprintf('The first 4 letters of the english alphabet are: %s, %s, %s and %s', ['a', 'b', 'c', 'd']);
"
28760,42661,Python: testing inter-dependence between strings,">>> def compare(first, second):
    return not bool(first) ^ bool(second)

>>> compare("""", """")
True
>>> compare(""foo"", """")
False
>>> compare("""", ""bar"")
False
>>> compare(""foo"", ""bar"")
True
"
17810,6766,Python3.3: Square-root optimization,"import sys, re, math

def find_numbers(f):
    for line in f:
        for word in line.split():
            if word.isdigit():
                yield float(word)

lst = list(find_numbers(sys.stdin))
lst.reverse()
for x in lst:
    print('%.4f' % math.sqrt(x))
"
14170,18075,subprocess call failing with unicode data from web form input - works with same input from elsewhere,"env = dict(os.environ)
env['LC_ALL'] = 'en_US.UTF-8'
p = subprocess.Popen(['grep', '-E', mainconf[""MSG_FORMAT""][msgtype,fieldname]], stdin=subprocess.PIPE, env=env)
p.communicate(datarecord[fieldname])
if p.returncode:
     return fieldname
"
3639,23669,How to Resize and Position Buttons in PySide?,"#!/usr/local/bin/python2.7
# -*- coding: utf-8 -*-

import sys
from PySide import QtGui

class Sample(QtGui.QWidget):

    def __init__(self):
        super(Sample, self).__init__()

        self.initUI()

    def initUI(self):
        self.setGeometry(300, 300, 800, 600)
        self.setWindowTitle('Sample')

        btn1 = QtGui.QPushButton(""Button 1"")

        hbox = QtGui.QHBoxLayout()
        hbox.addStretch(1)
        hbox.addWidget(btn1)

        self.setLayout(hbox)
        self.show()

def main():
    app = QtGui.QApplication(sys.argv)
    ex = Sample()
    sys.exit(app.exec_())

if __name__ == '__main__':
    main()
"
20270,75897,Call Django view to update model data upon row button click in HTML,"$('body').on('submit',""#formid"",function(event) {
             event.preventDefault();
             url = 'your  django view url '
             $.ajax({
                    type: ""POST"",
                    url: url,
                    data: $(this).serialize(), // serializes the form's elements.
                    success: function(data){
                        //do something on successs
                    }
                    },
                    error:function(data){
                        //do something on error
                    }
                  });
         });
"
28577,3206,Importing Images from Another Folder,"def load_all_graphics(dirname):
  image_dict = {}
  for filename in os.listdir(dirname):
    name,ext = os.path.splitext(filename)
    if ext.lower() in ["".png"","".jpg"","".bmp""]:
      pathname = os.path.join(dirname, filename)
      image = pg.image.load(pathname).convert_alpha()
      image.set_colorkey(pg.Color(""black""))
        image_dict[name] = image
  return image_dict

IMAGES = load_all_graphics(""/path/to/resources"") 
print len(IMAGES)
"
19307,24032,"Splitting string on comma, remove the comma","tgtPorts = [s.strip() for s in str(options.tgtPort).split(',')]
"
27955,31145,How to download a file uploaded using django-filebrowser?,"f = Obj.objects.get(id=obj_id)
myfile = open(os.path.join(MEDIA_ROOT, f.Audio.path)).read()
...

response = HttpResponse(myfile, content_type=""audio/mpeg"")
response['Content-Disposition'] = 'attachment; filename=myfile.mp3'

return response
"
29105,38781,Exit on click x python,"input(""Press Enter to exit"")
"
27912,67493,Tensorflow on python 3.5,"$ wget https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.8.0-cp34-cp34m-linux_x86_64.whl
$ mv tensorflow-0.8.0-cp34-cp34m-linux_x86_64.whl tensorflow-0.8.0-py3-none-linux_x86_64.whl
$ sudo pip3 install --upgrade tensorflow-0.8.0-py3-none-linux_x86_64.whl
"
14428,5282,"How to change attribute values such as ""android:text"" in android xml file with lxml","In [23]: s = '''<?xml version=""1.0"" encoding=""utf-8""?> <LinearLayout xmlns:android=""http://schemas.android.com/apk/res/android""
              android:orientation=""vertical""
              android:layout_width=""fill_parent""
              android:layout_height=""fill_parent"">
    <TextView android:id=""@+id/version_label""
              android:layout_marginLeft=""5sp""
              android:layout_width=""fill_parent""
              android:layout_height=""wrap_content""
              android:text=""version""/> </LinearLayout>'''

In [24]: tree = etree.XML(s)                                          


In [25]: c = tree.getchildren()[0]

In [26]: c.items()
Out[26]:  [('{http://schemas.android.com/apk/res/android}id', '@+id/version_label'),  ('{http://schemas.android.com/apk/res/android}layout_marginLeft', '5sp'),  ('{http://schemas.android.com/apk/res/android}layout_width', 'fill_parent'),  ('{http://schemas.android.com/apk/res/android}layout_height', 'wrap_content'),  ('{http://schemas.android.com/apk/res/android}text', 'version')]
"
10972,54611,How do you run the Tornado web server locally?,"application = tornado.web.Application([
    (r'/blah', BlahHandler),
    ], **settings)

# Create an HTTP server listening on localhost, port 8080.
http_server = tornado.httpserver.HTTPServer(application)
http_server.listen(8080, address='127.0.0.1')
"
795,8375,How does one find the currency value in a string?,">>> re.search(ur'([£$€])(\d+(?:\.\d{2})?)', s).groups()
(u'\xa3', u'6.50')
"
11933,9917,Appending a new line to file,"saveFile=input(""Please enter the name of the file you want to save in: "")
  outputFile=open(saveFile,""w"")
  pieceList=[]
  characterCounter =0
  for row_index in range (self.SIZE):
     for column_index in range(self.SIZE):
        pieceRow=[]
        char="" ""
        if self.grid[row_index][column_index]==Piece(Piece.WHITE):
           char=""w""
        elif self.grid[row_index][column_index]==Piece(Piece.RED):
           char=""r""
        pieceRow.append(char)
        characterCounter++
        if characterCounter==8:
           pieceRow.append(""\n"")
           characterCounter=0
     pieceList.append(pieceRow)
     for item in pieceList:
        for char in item:
           outputFile.write(""%s"" %char)
"
4433,30069,Python: multiple sockets in a client script?,"while 1:

    socket_list = [sys.stdin, s]
    #read_sockets, write_sockets, error_sockets = select.select(socket_list , [], [])
    #for sock in read_sockets:
    #if sock == s:

    # read from stdin
    msg = sys.stdin.readline()

    # send string to the server
    s.send(msg)

    # Read from server (it should have data now)
    data = sock.recv(4096)
    if not data:
        sys.exit()

    dec = map(ord,data)
    res = max(dec) + min(dec)
    print data+'\n(^min_max value in ascii: '+str(res)+')'
"
23767,84898,How to pass a random function as an argument?,"[lambda: random.normalvariate(3.0, 2.0), lambda: random.normalvariate(1.0, 4.0)]
"
17706,36658,Extract a column name from a Pandas column index,"In [11]: df = pd.DataFrame([[1,2],[2,4]], columns=['1stcol', '2ndcol'])

In [13]: df.columns
Out[13]: Index([u'1stcol', u'2ndcol'], dtype='object')

In [14]: df.columns[0]
Out[14]: '1stcol'

In [16]: df['1stcol'].name
Out[16]: '1stcol'
"
37852,47055,how to Join 2 columns in numpy when they are list of lists?,"In [43]: [np.concatenate((i,j)) for i,j in zip(a,b)])
Out[43]: [array([1, 2, 3, 9, 8, 7]), array([4, 5, 6, 6, 5, 4, 6, 7, 8])]
"
8461,45448,Python Remove Column from Numpy Array based on some Condition,"a = [0.5  0.3  0.1  0.05  0.03  0.01]
print a[a >= .05]
"
21997,29006,tuple inside list for finding values,">>> from collections import defaultdict    
>>> d = defaultdict(list)
>>> for user, *items in mylist:
    d[user] += items,


>>> d
defaultdict(<class 'list'>, {'user5': [[4, 4]], 'user2': [[34, 45], [56, 56]], 'user3': [[34, 34]], 'user1': [[23, 32], [23, 34], [45, 23]]})
"
33673,22685,Efficiently adding elements to a list in python,"for e in xs:
   myDict.setdefault(val(e), []).append(e)
"
11138,2342,Finding first instance of one list in a second list,"min(allowedList, key=sortedList.index)
"
244,41602,"Twisted: How can I identify protocol on initial connection, then delegate to appropriate Protocol implementation?","class DecisionProtocol(Protocol):
    def connectionMade(self):
        self.state = ""undecided""

    def makeProgressTowardsDecision(self, bytes):
        # Do some stuff, eventually return ProtoA() or ProtoB()

    def dataReceived(self, bytes):
        if self.state == ""undecided"":
            proto, extra = self.makeProgressTowardsDecision(bytes)
            if proto is not None:
                self.decidedOnProtocol = proto
                self.decidedOnProtocol.makeConnection(self.transport)
                if extra:
                    self.decidedOnProtocol.dataReceived(extra)
                self.state = ""decided""
        else:
            self.decidedOnProtocol.dataReceived(bytes)

    def connectionLost(self, reason):
        if self.state == ""decided"":
            self.decidedOnProtocol.connectionLost(reason)
"
18766,76122,How do I change the look and feel of the wxPython tool bar?,"self.toolbar.SetBackgroundColour(wx.SystemSettings.GetColour(wx.SYS_COLOUR_MENUBAR))
"
39087,18714,Regex replace text between delimiters in python,"s = '{123} and [456]'

s = re.sub(r'\{(.+?)\}', r'foo_\1', s)
s = re.sub(r'\[(.+?)\]', r'bar_\1', s)

print s
"
15909,5421,How to process xml files in python,"import xml.etree.cElementTree as ET

file_path = ""/path/to/your/test.xml""
context = ET.iterparse(file_path, events=(""start"", ""end"")) #Probably we could use only the start tag
# turn it into an iterator
context = iter(context)
on_members_tag = False

for event, elem in context:
    tag = elem.tag
    value = elem.text
    if value :
        value = value.encode('utf-8').strip()       
    if event == 'start' :
        if tag == ""row"" :
            attribs = elem.attrib
            print ""This is the campaignID %s and this is the adGroupID"" % (attribs['campaignID'] , attribs['adGroupID'])

    elem.clear() #Save memory!
"
2660,39921,Position SVG Rectangle absolutely outside of viewbox using python,"preserveAspectRatio = ""xMinYMin meet""
"
23697,65652,How to add trendline in python matplotlib dot (scatter) graphs?,"# plot the data itself
pylab.plot(x,y,'o')

# calc the trendline
z = numpy.polyfit(x, y, 1)
p = numpy.poly1d(z)
pylab.plot(x,p(x),""r--"")
# the line equation:
print ""y=%.6fx+(%.6f)""%(z[0],z[1])
"
23679,38330,How to use loaded data to add a new value in an ItemLoader?,"
l.add_value('url', 'http://domain.com/' + l.get_output_value('scu'))
"
39709,22198,converting a pandas date to week number,"In [286]:
df['Date'].dt.week

Out[286]:
0    25
dtype: int64

In [287]:
df['Week_Number'] = df['Date'].dt.week
df

Out[287]:
        Date  Week_Number
0 2015-06-17           25
"
1665,32935,How to I loop my program until they have filled it properly when I'm using an if statement?,"import re

while True:
    name = input('Name(FN/MN/LN): ')
    if len(name) == 0:
        print ('Error! Please enter your real name!')
        continue #Try again
    break # len(name) is not 0, continue

while True:
    nickname = input('Preferred name/nickname: ')
    if len(nickame) == 0: #fixed this to nickname
        print ('Error! Please enter a nickname!')
        continue
    break

nickname=nickname.lower()
if not re.match('^[a-z]*$', nickname):
    print ('Error! Only letters allowed!')
    sys.exit()
"
18330,26085,"Using a variable as a Save file name ~ im.save(type, '.png')","file_name = 'my_file'
im.save( file_name + '.png' )
"
288,19582,When is a lambda function better than defining?,"sorted(some_list, key=lambda x: x[2])
"
19089,78205,How to fill a zip uneven length lists?,"educ_list = []
data = {x : [y, z] for x,y,z in zip(inst, degree, major)}
for i in itertools.izip_longest(inst, degree, major):
educ_list.append(i)
print educ_list
"
26758,37071,Filter max 20 values from a list of integers,"maxvalues = heapq.nlargest(20, lst)
"
9483,74818,Parse events from an .ics file in Python,"mycal = icalendar.ics()
mycal.local_load(""work.ics"")
dates = mycal.get_event_instances(start,end)
#dates will contain the json with all explicit dates of the events spec'ed by the iCalendar file
"
18500,66871,calculate turning points / pivot points in trajectory (path),"import matplotlib.pyplot as plt
import numpy as np
import os
import rdp

def angle(dir):
    """"""
    Returns the angles between vectors.

    Parameters:
    dir is a 2D-array of shape (N,M) representing N vectors in M-dimensional space.

    The return value is a 1D-array of values of shape (N-1,), with each value
    between 0 and pi.

    0 implies the vectors point in the same direction
    pi/2 implies the vectors are orthogonal
    pi implies the vectors point in opposite directions
    """"""
    dir2 = dir[1:]
    dir1 = dir[:-1]
    return np.arccos((dir1*dir2).sum(axis=1)/(
        np.sqrt((dir1**2).sum(axis=1)*(dir2**2).sum(axis=1))))

tolerance = 70
min_angle = np.pi*0.22
filename = os.path.expanduser('~/tmp/bla.data')
points = np.genfromtxt(filename).T
print(len(points))
x, y = points.T

# Use the Ramer-Douglas-Peucker algorithm to simplify the path
# http://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm
# Python implementation: https://github.com/sebleier/RDP/
simplified = np.array(rdp.rdp(points.tolist(), tolerance))

print(len(simplified))
sx, sy = simplified.T

# compute the direction vectors on the simplified curve
directions = np.diff(simplified, axis=0)
theta = angle(directions)
# Select the index of the points with the greatest theta
# Large theta is associated with greatest change in direction.
idx = np.where(theta>min_angle)[0]+1

fig = plt.figure()
ax =fig.add_subplot(111)

ax.plot(x, y, 'b-', label='original path')
ax.plot(sx, sy, 'g--', label='simplified path')
ax.plot(sx[idx], sy[idx], 'ro', markersize = 10, label='turning points')
ax.invert_yaxis()
plt.legend(loc='best')
plt.show()
"
18293,81689,How to store URL parameters in GET requests in django?,"class TrackView(View):
    def get(self, request):
        try:
            track,_ = Track.objects.get_or_create(domain = request.GET['domain'])
            track.url_name = request.GET['url']
            track.title = request.GET['title']
            track.ip = request.GET['ip']
            track.referrer = request.GET['referrer']
            track.save()
            return HttpResponse(status=200) 
        except KeyError:
            return HttpResponse(status=400)
"
2368,28843,Is it possible to code images into a python script?,">>> import base64
>>> encoded = base64.b64encode('data to be encoded')
>>> encoded
'ZGF0YSB0byBiZSBlbmNvZGVk' 
>>> data = base64.b64decode(encoded)
>>> data
'data to be encoded'
"
7159,13821,executing a subprocess from python,"pid = subprocess.Popen([""vlc"", ""-vvv"", 
    ""rtsp://%s"" % target_nvc.ip_address + "":554/ch0_multicast_one"", 
    ""--sout=#transcode{acodec=none}:duplicate{dst=rtp{sdp=rtsp://:5544/user_hash.sdp},dst=display}"", 
    "":no-sout-rtp-sap"", "":no-sout-standard-sap"", 
    "":ttl=1"", "":sout-keep"" ], stdout=subprocess.PIPE, 
    stderr=subprocess.PIPE, stdin=subprocess.PIPE)
"
36300,82850,How to pass data to an application from python code,"import subprocess
import sys
try:
    retcode = subprocess.call(""D:\\dist\\NewProcess.exe "" + sys.argv[1] + "" "" + sys.argv[2], shell=True)
    if retcode < 0:
        print >>sys.stderr, ""Child was terminated by signal"", -retcode
    else:
        print >>sys.stderr, ""Child returned"", retcode
except OSError as e:
    print >>sys.stderr, ""Execution failed:"", e
"
31364,15916,"In python, what is more efficient? Modifying lists or strings?",">>> a = ""11011""
>>> b = ""01001""
>>> import timeit
>>> def strslice():
    return a[:3] + b[3:]

>>> def lstslice():
    return list(a)[:3] + list(b)[3:]
>>> c = list(a)
>>> d = list(b)
>>> def lsts():
    return c[:3] + d[3:]

>>> timeit.timeit(strslice)
0.5103488475836432
>>> timeit.timeit(lstslice)
2.4350100538824613
>>> timeit.timeit(lsts)
1.0648406858527295
"
31515,33354,Django Admin Templating,"...
<link rel=""stylesheet"" type=""text/css"" href=""{% block stylesheet %}{% load adminmedia %}{% admin_media_prefix %}css/base.css{% endblock %}"" />
<link rel=""stylesheet"" type=""text/css"" href=""{{ MEDIA_URL }}/your_stylesheet.css"" />
...
"
37214,78017,Delete row from a huge csv file in python,"import csv

with open(""filename"") as fp:
  fp.readline()
  fp.readline()

  csvreader = csv.DictReader(fp, delimiter=',')
  for row in csvreader:
    #your code here
"
20647,23170,Coordinate of the closest point on a line,"# Length along line that is closest to the point
print(line.project(p))

# Now combine with interpolated point on line
np = line.interpolate(line.project(p))
print(np)  # POINT (5 7)
"
38872,77414,How to call lists from a function in the main program?,"def lists():
    list1 = [150, 250, 190, 230]
    list2 = [110, 200, 125, 130]
    return list1,list2


def sumOfLists(list1,list2):
    return sum(list1) + sum(list2)

print(sumOfLists(*lists()))
"
22396,82085,python - numpy create array from multiple files,"for task in tasks:
    result=np.array([])
    for subject in subjects:
        f=np.load('%d/%s.npy' % (subject,event))
        result=np.append(result,f)
    mu=np.mean(result)
    sav=np.save('%s' %(task),mu)
"
31671,58068,Automatic image scaling on resize with (Py)GTK,"import gtk

class ScaleImage:
    def __init__(self):
        self.temp_height = 0
        self.temp_width = 0

        window = gtk.Window(gtk.WINDOW_TOPLEVEL)

        image = gtk.Image()
        image.set_from_file('/home/my_test_image.jpg')
        self.pixbuf = image.get_pixbuf()
        image.connect('expose-event', self.on_image_resize, window)    

        box = gtk.ScrolledWindow()
        box.set_policy(gtk.POLICY_AUTOMATIC, gtk.POLICY_AUTOMATIC)
        box.add(image)

        window.add(box)
        window.set_size_request(300, 300)
        window.show_all()        

    def on_image_resize(self, widget, event, window):
        allocation = widget.get_allocation()
        if self.temp_height != allocation.height or self.temp_width != allocation.width:
            self.temp_height = allocation.height
            self.temp_width = allocation.width
            pixbuf = self.pixbuf.scale_simple(allocation.width, allocation.height, gtk.gdk.INTERP_BILINEAR)
            widget.set_from_pixbuf(pixbuf)

    def close_application(self, widget, event, data=None):
        gtk.main_quit()
        return False

if __name__ == ""__main__"":
    ScaleImage()
    gtk.main()
"
32790,62746,Query socket connection state in Python,"    import socket
    import struct

    def getTCPInfo(s):
        fmt = ""B""*7+""I""*21
        x = struct.unpack(fmt, s.getsockopt(socket.IPPROTO_TCP, socket.TCP_INFO, 92))
        print x

    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    getTCPInfo(s)
    s.connect(('www.google.com', 80))
    getTCPInfo(s)
    s.send(""hi\n\n"")
    getTCPInfo(s)
    s.recv(1024)
    getTCPInfo(s)
"
4508,81156,Limiting simultaneously running asyncio coroutines with semaphores in a background thread,"import asyncio

from queue import Queue, Empty
from datetime import datetime
from threading import Thread


class BackgroundWorker(Thread):
    def __init__(self):
        super().__init__()
        self._keep_running = True
        self._waiting_coros = Queue()
        self._tasks = []
        self._loop = None                           # Loop must be initialized in child thread.
        self.limit_simultaneous_processes = None    # Semaphore must be initialized after the loop is set.

    def stop(self):
        self._keep_running = False

    def run(self):
        self._loop = asyncio.new_event_loop()       # Implicit creation of the loop only happens in the main thread.
        asyncio.set_event_loop(self._loop)          # Since this is a child thread, we need to do in manually.
        self.limit_simultaneous_processes = asyncio.Semaphore(2)
        self._loop.run_until_complete(self.process_coros())

    def submit_coro(self, coro, callback=None):
        self._waiting_coros.put((coro, callback))

    @asyncio.coroutine
    def process_coros(self):
        while self._keep_running:
            try:
                while True:
                    coro, callback = self._waiting_coros.get_nowait()
                    task = asyncio.async(coro())
                    if callback:
                        task.add_done_callback(callback)
                    self._tasks.append(task)
            except Empty as e:
                pass
            yield from asyncio.sleep(3)     # sleep so the other tasks can run


background_worker = BackgroundWorker()


class Job(object):
    def __init__(self, idx):
        super().__init__()
        self._idx = idx

    def process(self):
        background_worker.submit_coro(self._process, self._process_callback)

    @asyncio.coroutine
    def _process(self):
        with (yield from background_worker.limit_simultaneous_processes):
            print(""received processing slot %d"" % self._idx)
            start = datetime.now()
            yield from asyncio.sleep(2)
            print(""processing %d took %s"" % (self._idx, str(datetime.now() - start)))

    def _process_callback(self, future):
        print(""callback %d triggered"" % self._idx)


def main():
    print(""starting worker..."")
    background_worker.start()

    for idx in range(10):
        download_job = Job(idx)
        download_job.process()

    command = None
    while command != ""quit"":
        command = input(""enter 'quit' to stop the program: \n"")

    print(""stopping..."")
    background_worker.stop()
    background_worker.join()


if __name__ == '__main__':
    main()
"
17917,59580,"With the Python httplib ""HTTPConnection"" object, how do you send a header without a value?","subprocess.call(['curl', '-i', '-H', '""emptyheader""', '""http://somewhere:5000/somewhere""'])
"
33266,47899,python active_directive to set attributes,"   User.set(mail = ""User1@testmail.com"")
"
39572,11274,Custom legend in Pandas bar plot (matplotlib),"import matplotlib.patches as mpatches
import matplotlib.pyplot as plt

NA = mpatches.Patch(color='blue', label='North America')
EU = mpatches.Patch(color='green', label='Europe')
AP = mpatches.Patch(color='red', label='Asia/Pacific')
SA = mpatches.Patch(color='yellow', label='South America')
plt.legend(handles=[NA,EU,AP,SA], loc=2)

plt.show()
"
6273,10315,How to convert signed 32-bit int to unsigned 32-bit int in python?,"import ctypes

def int32_to_uint32(i):
    return ctypes.c_uint32(i).value
"
23103,26044,How to draw a line outside of an axis in matplotlib (in figure coordinates)?,"from matplotlib import pyplot, lines
import numpy

x = numpy.linspace(0,10,100)
y = numpy.sin(x)*(1+x)

fig = pyplot.figure()
ax = pyplot.subplot(111)
ax.plot(x,y,label='a')

# new clear axis overlay with 0-1 limits
ax2 = pyplot.axes([0,0,1,1], axisbg=(1,1,1,0))

x,y = numpy.array([[0.05, 0.1, 0.9], [0.05, 0.5, 0.9]])
line = lines.Line2D(x, y, lw=5., color='r', alpha=0.4)
ax2.add_line(line)

pyplot.show()
"
2981,30735,Network compression for Python / Mongo,"ssh -C -L 27017:127.0.0.1:27017 remote_user@mongohost
"
35780,80492,How to filter rows from a csv file based on threshold numerical values using python,"import csv
with open(filename,'r') as fin, open (outputfile,'w') as fout:
    writer = csv.writer(fout, delimiter=',')       
    for row in csv.reader(fin, delimiter=','):
        if int(row[1]) >=1 and int(row[2]) >= 1:
             writer.writerow(row)
"
3361,1100,Concatenate item in list to strings,">>> sentence = ['this','is','a','sentence']
>>> '-'.join(sentence)
'this-is-a-sentence'
"
32814,41792,deleting unaccessed files using python,"import os
import time

dirname = MEDIA_ROOT+my_folder
filenames = os.listdir(dirname)
filenames = [os.path.join(dirname,filename) for filename in filenames]
for filename in filenames:
    last_access = os.stat(filename).st_mtime #secs since epoch
    timediff = time.gmtime() - last_access
    print filename+'----'+timediff
    if timediff > 24*60*60:
        print 'older than a day'
        # do your thing
"
36631,26487,How to convert an int to a hex string?,">>> chr(0x65) == '\x65'
True


>>> hex(65)
'0x41'
>>> chr(65) == '\x41'
True
"
1906,1715,IronPython DLR; passing parameters to compiled code?,"    var py = Python.CreateEngine();

    // 1
    var value = py.Execute(""1+1"");
    Console.WriteLine(value);

    // 2
    var scriptScope = py.CreateScope();
    py.Execute(""a = 1 + 1"", scriptScope);
    var value2 = scriptScope.GetVariable(""a"");
    Console.WriteLine(value2);
"
19504,37720,Python regex: replace ignoring empty string,"import re

fname = './prec.f90'
f = open(fname)
lines = f.readlines()
f.close()
# If there was no end of the line character (\n) we would need to check if 
# this is the end of the line (something like ([^dq\_0-9]|$)
regex = re.compile(r'(\d*\.\d*)([^dq\_0-9])')
for i, line in enumerate(lines):
    search = regex.findall(line)
    if search != []: 
        print('Real found in line #%d: ' %i)
        print search
        print('The following line:\n %s' %line)
        print('will be replace by:')
        newline = regex.sub(r'\g<1>d0\g<2>', line)
        print('%s' %newline)
"
31770,43341,How can I easily format the date fields of my GQLQuery to another Timezone?,"{% load tz %}

{% timezone ""Europe/Paris"" %}
    Paris time: {{ value }}
{% endtimezone %}

{% timezone None %}
    Server time: {{ value }}
{% endtimezone %}
"
20091,81700,How to get the default page?,"user_pref(""browser.startup.homepage"", ""about:blank"");
"
31526,69342,python round leaving a trailing 0,">>> value = 10.01
>>> int(round(value))
10
>>> value = 10.55
>>> int(round(value))
11
"
15355,15801,Problems with using re.findall() in python,">>> s = '4 and 10.2356'
>>> re.findall(r'\d+(?:\.\d+)?', s)
['4', '10.2356']
>>> print(int(re.findall(r'\d+(?:\.\d+)?', s)[0]))
4
>>> print(float(re.findall(r'\d+(?:\.\d+)?', s)[1]))
10.2356
"
28297,8776,Python while loop mulitple plotting,"import sys
import numpy as np
import matplotlib.pyplot as pl
import matplotlib.mlab as mlab

n_epochs = 120
a = 140
while n_epochs <= a:
    sfreq = 1000.
    duration = 1000.
    times = np.arange(0, duration, 1 / sfreq)
    amp = 1.
    amp2 = 1.
    nse_amp = 0.5
    nfft = 512
    nse1 = np.random.rand(times.size) * nse_amp
    nse2 = np.random.rand(times.size) * nse_amp
    x =  amp * np.sin(2 * np.pi * 200 * times) + nse1
    y =  amp * np.sin(2 * np.pi * 200 * times + np.pi/5) + nse2

    shift = 100  # integer
    assert shift < sfreq * duration, 'Choose a smaller shift.'
    #y = amp2 * np.roll(x, shift) + nse2

    # coherence using mlab function
    cohxy, freqs = mlab.cohere(x, y, Fs=sfreq, NFFT=nfft)

    n_freqs = nfft/2 + 1

    def compute_mean_psd_csd(x, y, n_epochs, nfft, sfreq):
        '''Computes mean of PSD and CSD for signals.'''
        x2 = np.array_split(x, n_epochs)
        y2 = np.array_split(y, n_epochs)

        Rxy = np.zeros((n_epochs, n_freqs), dtype=np.complex)
        Rxx = np.zeros((n_epochs, n_freqs), dtype=np.complex)
        Ryy = np.zeros((n_epochs, n_freqs), dtype=np.complex)

        for i in range(n_epochs):
            Rxy[i], freqs = mlab.csd(x2[i], y2[i], NFFT=nfft, Fs=sfreq)
            Rxx[i], _ = mlab.psd(x2[i], NFFT=nfft, Fs=sfreq)
            Ryy[i], _ = mlab.psd(y2[i], NFFT=nfft, Fs=sfreq)

        Rxy_mean = np.mean(Rxy, axis=0)
        Rxx_mean = np.mean(Rxx, axis=0)
        Ryy_mean = np.mean(Ryy, axis=0)

        return freqs, Rxy, Rxy_mean, np.real(Rxx_mean), np.real(Ryy_mean)

    def my_coherence(n_freqs, Rxy_mean, Rxx_mean, Ryy_mean):
        ''' Computes coherence. '''

        coh = np.zeros((n_freqs))
        for i in range(0, n_freqs):
            coh[i] = np.abs(Rxy_mean[i]) / np.sqrt(Rxx_mean[i] * Ryy_mean[i])

        return coh

    def my_con(x, y, n_epochs, nfft, sfreq, con_name='coh'):
        '''Computes connectivity measure mentioned on provided signal pair and its surrogates.'''

        freqs, Rxy, Rxy_mean, Rxx_mean, Ryy_mean = compute_mean_psd_csd(x, y, n_epochs, nfft, sfreq)

        # compute surrogates
        x_surr = x.copy()
        y_surr = y.copy()
        np.random.shuffle(x_surr)
        np.random.shuffle(y_surr)
        freqs_surro, Rxy_s, Rxy_s_mean, Rxx_s_mean, Ryy_s_mean = compute_mean_psd_csd(x_surr, y_surr, n_epochs, nfft, sfreq)

        if con_name == 'coh':
            coh = my_coherence(n_freqs, Rxy_mean, Rxx_mean, Ryy_mean)
            coh_surro = my_coherence(n_freqs, Rxy_s_mean, Rxx_s_mean, Ryy_s_mean)
            return coh, coh_surro, freqs, freqs_surro

        if con_name == '':
            print 'Please provided the connectivity method to use.'
            sys.exit()
        else:
            print 'Connectivity method unrecognized.'
            sys.exit()


    con_name = 'coh'


    con, con_surro, freqs, freqs_surro = my_con(x, y, n_epochs, nfft, sfreq, con_name) # for doing every con_surro calc. too add [i]

    # coherence using mlab function
    #cohxy, freqs = mlab.cohere(x, y, Fs=sfreq, NFFT=nfft)
    #pl.plot(freqs, cohxy)

    # plot results
    pl.figure('Connectivity')
    pl.plot(freqs, con)
    pl.plot(freqs_surro, con_surro)
    pl.legend(['Con', 'Surrogates'])
    pl.tight_layout()
    pl.show(False)
    pl.draw()
    n_epochs = n_epochs +1
"
5076,38327,Determining when a ThreadPool has finished processing a queue,"
import random
import time
import threading
import logging
import Queue

logger=logging.getLogger(__name__)
logging.basicConfig(level=logging.DEBUG)

sentinel=None
queue = Queue.Queue()
num_threads = 5

def foobar_task(queue):
    while True:
        n = queue.get()
        logger.info('task called: {n}'.format(n=n))
        if n is sentinel: break
        n=random.random()
        if n > .25:
            logger.info(""task appended to queue"")
            queue.put(n)
        queue.task_done()

# set up initial queue
for i in range(num_threads):
    queue.put(i)

threads=[threading.Thread(target=foobar_task,args=(queue,))
         for n in range(num_threads)]
for t in threads:
    t.start()

queue.join()
for i in range(num_threads):
    queue.put(sentinel)

for t in threads:
    t.join()
logger.info(""threads are closed"")
"
21173,61218,Easy way to check that a variable is defined in python?,"print myObject.myVar if hasattr(myObject, 'myVar') else 'not defined'
"
14019,46638,Rabbitmq with python works unexpected,"...
channel.basic_qos(prefetch_count=1)
channel.basic_consume(callback,
                  queue='task_queue',
                  no_ack=False)
...
"
36024,23446,How to create a bmesh from a list of vertices,"import bpy
import bmesh

myvertexlist = [[2,2,2],[4,4,4],[6,6,6],[8,8,8]]

# Get the active mesh
me = bpy.context.object.data

# Get a BMesh representation
bm = bmesh.new()   # create an empty BMesh
bm.from_mesh(me)   # fill it in from a Mesh

# Modify the BMesh, can do anything here...
for newvert in myvertexlist:
    bm.verts.new(newvert)

# also add bm.edges and bm.faces

# Finish up, write the bmesh back to the mesh
bm.to_mesh(me)
bm.free()  # free and prevent further access
"
16341,73010,Clean xml ==> Remove line if any empty tags,"from lxml import etree


data = """"""
<Items>
    <Name>Hello</Name>
    <Cost>9.99</Cost>
    <Condition/>
</Items>
""""""

root = etree.fromstring(data)
for element in root.xpath("".//*[not(node())]""):
    element.getparent().remove(element)

print etree.tostring(root, pretty_print=True)
"
39943,15404,Set different url for kendo.ui.upload,"<form method=""post"" action=""foo"" class='uploader' style=""width:45%"">
   {% csrf_token %}
        <div>
            <input name=""keywords"" id=""import-keywords"" type=""file"" />
            <input type=""submit"" value=""Submit"" class=""k-button"" />
        </div>
</form>
...
...
<form method=""post"" action=""bar"">{% csrf_token %}
<div>
    <input name=""apps"" id=""import-apps"" type=""file"" />
    <input type=""submit"" value=""Submit"" class=""k-button"" />
</div>
"
20579,66964,How can I inject an object into another namespace in python?,"import configobj

class MockConfigObj(object):
     #mock whatever you wan

configobj.ConfigObj = MockConfigObj
"
6212,13132,Best method for reading newline delimited files in Python and discarding the newlines?,"lines = open(filename).read().splitlines()
"
15563,82057,"How to do re.findall('\w+', fin.read()) for unicode? python",">>> re.findall('\w+', u'單語')
[]
>>> re.findall('\w+', u'單語', flags=re.UNICODE)
[u'\u55ae\u8a9e']
"
33161,37058,indexing for faster search of lists in a file?,"import collections
d = collections.defaultdict(list)

with open('lakhlists.txt') as f:
    for line in f:
        aslist = line.split()  # assuming whitespace separators
        d[aslist[1]].append(aslist)
"
31241,51187,Twillio Restclient in python,"text =  ""Test Message""
message = client.messages.create(
    body= text,
    to=""+12125551234"",
    from_=""+15105551234"",
)
print message.sid
"
11741,65450,"How to avoid deadlock with class attributes initialization with locks, inheritance and threading in Python?","import threading

class MetaA(type):
  def __new__(self, name, bases, clsDict):
    # change <type> behavior
    clsDict['_lock'] = threading.Lock()
    return super(MetaA, self).__new__(self, name, bases, clsDict)

class A(object):
  __metaclass__ = MetaA

  @classmethod
  def getLock(cls):
    return cls._lock

class B(A):
  pass

print 'id(A.getLock())', id(A.getLock())
print 'id(B.getLock())', id(B.getLock())
print A.getLock() == B.getLock()
"
5870,20187,How to save to a ImageField from an ftp download in Django,"# retrieve file from ftp to memory,
# consider using cStringIO or tempfile modules for your actual usage

from StringIO import StringIO
from django.core.files.base import ContentFile
s = StringIO()
nvcftp.retrbinary(""RETR "" + fname, s.write)
s.seek(0)  
# feed the fetched file to Django image field
new_image.image.save(fname, ContentFile(s.read()))
s.close()

# Or
from django.core.files.base import File
s = StringIO()
nvcftp.retrbinary(""RETR "" + fname, s.write)
s.size = s.tell()
new_image.image.save(fname, File(s))
"
8717,75014,Python Classes Foreign Keys Inheritance,"class Book(models.Model):
    class Meta:
        proxy = True

class BigBook(Book):
    # BigBook properties go here.
"
38001,45123,Closing shared database connection in WSGI app,"def __del__(self):
    return self.close()
"
19343,14620,How to implement python style indentation in yacc or bison?,"%x LINESTART
%s NORMAL
%{
static std::stack<int> indent;
static int indent_depth(const char *);
%}

%%

<INITIAL>.*|\n          { yyless(0); BEGIN(LINESTART); indent.push(0); }
<LINESTART>[ \t]*       { int depth = indent_depth(yytext);
                          if (depth < indent.top()) {
                              indent.pop();
                              yyless(0);
                              return UNINDENT; }
                          BEGIN(NORMAL);
                          if (depth > indent.top()) {
                              indent.push(depth);
                              return INDENT; } }
<LINESTART>.            { yyless(0);
                          if (indent.top() > 0) {
                              indent.pop();
                              return UNINDENT; }
                          BEGIN(NORMAL); }
<LINESTART><<EOF>>      { if (indent.top() > 0) {
                              indent.pop();
                              return UNINDENT; }
                          BEGIN(NORMAL); }
<LINESTART>[ \t]*\n     { lineno++; }
<LINESTART>[ \t]*#.*\n  { lineno++; }
[[({]                   { parens++; return *yytext; }
[])}]                   { if (--parens < 0) parens = 0;
                          return *yytext; }
\n                      { lineno++;
                          if (parens == 0) BEGIN(LINESTART); }
"
32295,20600,Append scraped data to different columns,"WARNING HAVE NOT TESTED ON FULL SITE
import csv
import time

from bs4 import BeautifulSoup
import requests
from selenium import webdriver

url = 'http://www.tripadvisor.in/Hotels-g186338-London_England-Hotels.html'

driver = webdriver.Firefox()
driver.get(url)

hotels = []

while True:
    html = driver.page_source
    soup = BeautifulSoup(html)
    listings = soup.select('div.listing')

    for l in listings:
        hotel = {}
        hotel['name'] =  l.select('a.property_title')[0].text
        hotel['rating'] = float(l.select('img.sprite-ratings')[0]['alt'].split('of')[0])
        hotels.append(hotel)

    next = driver.find_element_by_link_text('Next')
    if not next:
        break
    else:
        next.click()
        time.sleep(0.5)

if len(hotels) > 0:
    with open('ratings.csv', 'w') as f:
        fieldnames = [ k for k in hotels[0].keys() ]
        writer = csv.DictWriter(f,fieldnames=fieldnames)
        writer.writeheader()
        for h in hotels:
            writer.writerow(h)

driver.quit()
"
8633,78783,Dictionaries and lists appear immutable when passed to function,"d = ['a', 'list']

#       d -> [ 0 , 1 ]
#             /    |
#           'a' 'list'

d.append('changed')

#       d -> [ 0 , 1 , 2 ]
#             /    |    \
#           'a' 'list' 'changed'

d[0] = 'my'

#       d -> [ 0 , 1 , 2 ]
#             /    |    \
#          'my' 'list' 'changed'

d = []

# [] <- d    [ 0 , 1 , 2 ]
#             /    |    \
#          'my' 'list' 'changed'
"
22176,11152,Using gevent monkey patching with threading makes thread work serially,"#!/usr/bin/env python
from gevent import monkey, sleep
monkey.patch_all()
import threading

class ExampleThread(threading.Thread):
    def run(self):
        for i in xrange(10):
            print 'working'
            sleep()

if __name__ == '__main__':
    worker = ExampleThread()
    worker.start()
    print 'this will be printed after the first call to sleep'
"
34401,84378,Change FilePickerCtrl box width (wxPython),"import wx

class MainWindow(wx.Frame):
    def __init__(self, parent, title):
        wx.Frame.__init__(self, parent, title = title, size=(500, 400))
        self.panel = wx.Panel(self)
        self.label1 = wx.StaticText(self.panel,wx.ID_ANY,""Select the Input File"")
        self.fileCtrl = wx.FilePickerCtrl(self.panel, message=""Select the input file name"")
        self.selectedfile = wx.TextCtrl(self.panel,wx.ID_ANY,""None"",size=(490,25))
        self.fileCtrl.Bind(wx.EVT_FILEPICKER_CHANGED, self.Selected)
        row1 = wx.BoxSizer(wx.VERTICAL)
        row1.Add(self.label1,0,wx.TOP | wx.RIGHT,5)
        row1.Add(self.fileCtrl)
        row1.Add(self.selectedfile)
        self.panel.SetSizer(row1)
        self.Show()
    def Selected(self, event):
        self.selectedfile.SetValue(self.fileCtrl.GetPath())
app = wx.App(False)
win = MainWindow(None, ""File selector"")
app.MainLoop()
"
3386,2637,Editing the date formatting of x-axis tick labels in matplotlib,"import matplotlib.dates as mdates
myFmt = mdates.DateFormatter('%d')
ax.xaxis.set_major_formatter(myFmt)
"
11394,61754,Tornado streaming HTTP response as AsyncHTTPClient receives chunks,"from tornado import gen, web, httpclient

class StreamingHandler(web.RequestHandler):
    @web.asynchronous
    @gen.coroutine
    def get(self):
        client = httpclient.AsyncHTTPClient()

        self.write('some opening')
        self.flush()

        requests = [
            httpclient.HTTPRequest(
                url='http://httpbin.org/delay/' + str(delay),
                streaming_callback=self.on_chunk
            ) for delay in [5, 4, 3, 2, 1]
        ]

        # `map()` doesn't return a list in Python 3
        yield list(map(client.fetch, requests))

        self.write('some closing')
        self.finish()

    def on_chunk(self, chunk):
        self.write('some chunk')
        self.flush()
"
13351,36557,Check if PID exists on Windows with Python without requiring libraries,"def pid_running(pid):
    import ctypes
    kernel32 = ctypes.windll.kernel32
    SYNCHRONIZE = 0x100000

    process = kernel32.OpenProcess(SYNCHRONIZE, 0, pid)
    if process != 0:
        kernel32.CloseHandle(process)
        return True
    else:
        return False
"
1926,23007,Salt Python API to run states in minion,"import salt.client as client
c = client.LocalClient()
c.cmd('test_server',  # target 
      'state.sls',    # function
      ['django', pillar={'status':'TEST'}],  # arg for function
      expr_form='nodegroup',  
      )
"
14217,46520,How can I return to a line inside my While loop,"def . . .:
while True:
    raw_input_1
    if :
        break
    elif 'n':
        while True:
            raw_input_2 ()
                if :
                    some condition
                    print
                elif some condition:
                    function                    
                else:
                    print ""Invalid command.""
"
2246,59913,How to get the list of US time zones only?,"import pytz

tznames = pytz.country_timezones['us']
"
2819,46549,How can I use numpy to calculate a series effectively?,">>> 2 ** 2 ** numpy.arange(5)
array([    2,     4,    16,   256, 65536])
"
37894,85001,Python: How do I access an decorated class's instance from inside a class decorator?,"class MyDecorator(object):
    def __call__(self, func):
      def wrapper(that, *args, **kwargs):
        ## you can access the ""self"" of func here through the ""that"" parameter
        ## and hence do whatever you want        
        return func(that, *args, **kwargs)
      return wrapper
"
29709,54037,PyQt strange behavior on clicked items,"def handleItemClicked(self, account):
    try:
        accountsSelected = set()

        for account in range(self.mainAccountTable.rowCount()):
            if self.mainAccountTable.cellWidget(account, 0).findChild(type(QCheckBox())).isChecked():
                accountsSelected.add(self.mainAccountTable.item(account, 1).text())                    
                print (""selected:"",accountsSelected)
        for account in range(self.mainAccountTable.rowCount()):
            if not self.mainAccountTable.cellWidget(account, 0).findChild(type(QCheckBox())).isChecked():
                accountsSelected.remove(self.mainAccountTable.item(account, 1).text())
                print (""not selected:"",accountsSelected)  

        print (""main:"", accountsSelected)
        return accountsSelected
    except Exception as e:
        print (""error:"",e)
"
15612,78392,How to locate the median in a (seaborn) KDE plot?,"import numpy as np
import scipy
import seaborn as sns
import matplotlib.pyplot as plt

sns.set_palette(""hls"", 1)
data = np.random.randn(30)
p=sns.kdeplot(data, shade=True)

x,y = p.get_lines()[0].get_data()

#care with the order, it is first y
#initial fills a 0 so the result has same length than x
cdf = scipy.integrate.cumtrapz(y, x, initial=0)

nearest_05 = np.abs(cdf-0.5).argmin()

x_median = x[nearest_05]
y_median = y[nearest_05]

plt.vlines(x_median, 0, y_median)
plt.show()
"
10381,2158,Constructing pandas dataframe with rows conditional on their not existing in another dataframe python,"gcols = ['store', 'date']
tmp[tmp.set_index(gcols).index.isin(df.set_index(gcols).index) == False]
"
27850,37477,Python - Postgres array to dict/json/array,"In [24]: strs=""""""{foo,""bar bar"",baz:qux,999}""""""

In [27]: [x.strip('""{}') for x in strs.split("","")]
Out[27]: ['foo', 'bar bar', 'baz:qux', '999']
"
4984,63886,Problems with regex matching,"for tag in soup.findAll('a', href = re.compile('^/l[0-9]+/.*$')):
    print tag['href']
"
36237,22631,Specifying spaces between words,"space = "" ""
print ""John and{}Mark went to{}London"".format(space*5,space*3)
"
533,80946,CSV files and dictionary,"#user configurable variables:
number_of_files = 4

#delete the following lines to use your own files.
f1 = open('1.csv','w')
f1.write('''""Street"", ""Number"", ""Occupants""
""Test Road"", ""7"", ""4""
""Test Street"", ""5"", ""1""
""Test Avenue"", ""2"", ""6""''')
f1.close()

f2 = open('2.csv','w')
f2.write('''""Street"", ""Number"", ""Occupants""
""Test Road"", ""12"", ""2""
""Test Street"", ""11"", ""3""
""Test Avenue"", ""9"", ""2""''')
f2.close()

f3 = open('3.csv','w')
f3.write('''""Street"", ""Number"", ""Occupants""
""Test Road"", ""34"", ""2""
""Test Street"", ""22"", ""3""
""Test Lane"", ""19"", ""2""''')
f3.close()

f4 = open('4.csv','w')
f4.write('''""Street"", ""Number"", ""Occupants""
""Test Road"", ""4"", ""7""
""Test Street"", ""1243"", ""6""
""Test Lane"", ""17"", ""1""''')
f4.close()
#stop deleteing

#the rest 'should' take care of itself.
file_set = []
for y in range(number_of_files):
    exec(""f""+str(y+1)+"" = [x.split(',') for x in open('""+str(y+1)+"".csv','r').read().replace('\""','').replace(', ',',').split('\\n')]"")
    exec(""file_set.append(f""+str(y+1)+"")"")

num_files = len(file_set)

data_dict = {}

for file in file_set:
    block = file_set.index(file)

    for line in file:
        row = file.index(line)

        if line[0] not in data_dict:
            data_dict[line[0]] = num_files*[['N/A','N/A']]

        data_dict[line[0]][block] = line[1:]

print (data_dict)


f0 = open('output.csv','w')
f0.write(',Street')
for x in range(num_files):
    f0.write(','+str(x+1))
f0.write('\n')

temp = 0
for key in data_dict:
    if key != 'Street':
        if temp == 0:
            f0.write('Number,'+key)
            temp = 1
        else:
            f0.write(','+key)
        for x in range(num_files):
            f0.write(','+data_dict[key][x][0])
        f0.write('\n')

temp = 0
for key in data_dict:
    if key != 'Street':
        if temp == 0:
            f0.write('Occupants,'+key)
            temp = 1
        else:
            f0.write(','+key)
        for x in range(num_files):
            f0.write(','+data_dict[key][x][1])
        f0.write('\n')

f0.close()
"
17293,56145,What happens if I read a file without closing it afterwards?,"with open(""filename.txt"") as f:
    lines = [line.strip(""\n"") for line in f]
"
1392,47565,Parse xml with lxml - extract element value,">>> for df in doc.xpath('//datafield'):
        # Iterate over attributes of datafield
        for attrib in df.attrib:
                print '@' + attrib + '=' + df.attrib[attrib]

        # subfield is a child of datafield, and iterate
        subfields = df.getchildren()
        for subfield in subfields:
                print 'subfield=' + subfield.text
"
23163,73809,using shutil.copytree without copystat,"import os

for dirpath, _, filenames in os.walk(finaldest):
    os.utime(dirpath, None)
    for file in filenames:
        os.utime(os.path.join(dirpath, file), None)
"
28217,41125,Writing regular expression to skip a line if specific set of characters are present?,"tuples = re.findall(r""^\s*static[ \t]*const[ \t]*PropertyID[ \t]*(\w+)[ \t]*=[ \t]*(\d+).*"",fileContents)
"
32339,63614,How to make a big shell script in a single line shell script in json document?,"import json
jsonstr = json.dumps({""script"": """"""\
#!/bin/bash
set -e

readonly PRIMARY=/tech01/primary
readonly SECONDARY=/tech02/secondary
readonly LOCATION=(machineA machineB)
readonly MAPPED_LOCATION=/bat/data/snapshot
HOSTNAME=$hostname

dir1=$(ssh -o ""StrictHostKeyChecking no"" david@${LOCATION[0]} ls -dt1 ""$MAPPED_LOCATION""/[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9] | head -n1)
dir2=$(ssh -o ""StrictHostKeyChecking no"" david@${LOCATION[1]} ls -dt1 ""$MAPPED_LOCATION""/[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9] | head -n1)

echo $dir1
echo $dir2

length1=$(ssh -o ""StrictHostKeyChecking no"" david@${LOCATION[0]} ""ls '$dir1' | wc -l"")
length2=$(ssh -o ""StrictHostKeyChecking no"" david@${LOCATION[1]} ""ls '$dir2' | wc -l"")

echo $length1
echo $length2

if [ ""$dir1"" = ""$dir2"" ] && [ ""$length1"" -gt 0 ] && [ ""$length2"" -gt 0 ]
then
    rm -rf $PRIMARY/*
    rm -rf $SECONDARY/*
    for el in $primary_partition
    do
        scp david@${LOCATION[0]}:$dir1/weekly_8880_""$el""_5.data $PRIMARY/. || scp david@${LOCATION[1]}:$dir2/weekly_8880_""$el""_5.data $PRIMARY/.
    done
fi""""""})
"
15336,72791,How to get HTML representation of a child element in BeautifulSoup?,"soup = BeautifulSoup(""<html><body><span>This is my text</span></body></html>"")
span = soup.find('span')
str(span) # Outputs '<span>This is my text</span>'
"
6754,23546,Write 3d Numpy array to FITS file with Astropy,"hdul = fits.HDUList()
hdul.append(fits.PrimaryHDU())

for img in export_array:
    hdul.append(fits.ImageHDU(data=img))

hdul.writeto('output.fits')
"
25613,38277,Django Project: django-admin.py: command not found,"user@user:~$ django-admin startproject mysite
"
12756,5817,If/yield cascade - how to make more concise?,"yield x if condition1 else None
yield y if condition2 else None
"
5235,72868,replace a substring with a non-string value in python,">>> string1.replace(""val2"", str(val2))
'My name is val1. My age is 40 years. I was born on val3'
"
31928,11406,Binding on_press with events in Kivy,"#:import ListItemButton kivy.uix.listview.ListItemButton
#:import ListAdapter kivy.adapters.listadapter.ListAdapter
<ListViewModal>:
    ListView:
        size_hint: .8, .8
        adapter:
            ListAdapter(
            data=[""{0}"".format(i) for i in root.categories],
            args_converter=lambda row_index, rec: \
            {'text': rec, 'on_press': root.callback, 'size_hint_y': None, 'height': 25},
            cls=ListItemButton)
"
16511,57550,How to break a long with statement in python,"with really_really_long_name_function(p) as f1, \
     other_really_really_long_name_function() as f2:
    pass
"
14817,79015,The meaning of a single- and a double-underscore before an object name in Python,"
Example
>>> class MyClass():
...     def __init__(self):
...             self.__superprivate = ""Hello""
...             self._semiprivate = "", world!""
...
>>> mc = MyClass()
>>> print mc.__superprivate
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
AttributeError: myClass instance has no attribute '__superprivate'
>>> print mc._semiprivate
, world!
>>> print mc.__dict__
{'_MyClass__superprivate': 'Hello', '_semiprivate': ', world!'}
"
29795,75430,Python - Count number of alphabets only in a string ignoring case,">>> abc = 'ABCccCDde :)! f'
>>> from collections import Counter
>>> Counter(c for c in abc.upper() if c.isalpha())
Counter({'C': 4, 'D': 2, 'A': 1, 'B': 1, 'E': 1, 'F': 1})
"
8768,65409,How do I increase the cell width of the ipython notebook in my browser?,".container { width:100% !important; }
"
18054,42074,How can I work out the class hierarchy given an object instance in Python?,"b = B()
b.__class__
b.__class__.__base__
b.__class__.__bases__
b.__class__.__base__.__subclasses__()
"
29803,34412,Update values in one list with values from another,"cmd_data = {cmd.id: cmd.value for cmd in cmd.cmd_list}
for rsp in rsp.rsp_list:
    if rsp.common.id in cmd_data:
        rsp.common.value.CopyFrom(cmd_data[rsp.common.id])
"
20095,103,(Python) Idk what to do,"import random
    from time import sleep
    print ""To play this game, you use your 1-9 keys""
    print ""This is layout of each number representing a square""
    print ""7|8|9""
    print ""4|5|6""
    print ""1|2|3""
    print "" ""

def drawboard(board): #Draws the board
    print ""Board""
    print ''.join(board[7]) + '|'.join(board[8]) + '|'.join(board[9])
    print ''.join(board[4]) + '|'.join(board[5]) + '|'.join(board[6])
    print ''.join(board[1]) + '|'.join(board[2]) + '|'.join(board[3])

def inputplayerletter(): #Asks player if they want to be X or O
    letter = ''
    while not letter == 'X' or letter == 'O':
        print ""Do you want to be X or O?""
        letter = raw_input("" "").upper()
    if letter == 'X':
        return ['X', 'O']
    else:
        return ['O', 'X']

def whogoesfirst(): #This determines who goes first
    if random.randint(0,1) == '0':
        return 'computer'
    else:
        return 'player'

def playagain(): #Asks player if it wants to play again
    print ""Do you want to play again?(Y/N)""
    return raw_input("""").lower().startswith('y')

def makemove(board, letter, move): #When someone makes a move we execute this                 function
    board[move] = letter

def winner(bo,le): #Determines whose the winner
    return ((bo[7] == le and bo[8] == le and bo[9] == le) or
    (bo[4] == le and bo[5] == le and bo[6] == le) or
    (bo[1] == le and bo[2] == le and bo[3] == le) or
    (bo[7] == le and bo[4] == le and bo[1] == le) or
    (bo[8] == le and bo[5] == le and bo[2] == le) or
    (bo[9] == le and bo[6] == le and bo[3] == le) or
    (bo[7] == le and bo[5] == le and bo[3] == le) or
    (bo[9] == le and bo[5] == le and bo[1] == le)) #missing )

def getboardcopy(board): #Creates a copy of the board for the computer AI
    dupeboard = []
    for i in dupeboard:
        dupeboard.append(i)
    return dupeboard

def isspacefree(board, move): #Checks if space is free.
    return board[move] == ''

def playermove(board): #Where the player inputs his/her move
    move = ''
    while move not in '1 2 3 4 5 6 7 8 9'.split() or not isspacefree(board,     int(move)):
    print ""your move (Pick from 1-9)""
    move = raw_input("""")
    return int(move)

def choosemovefromlist(board, movelist): #chooses possible moves from list
    possiblemoves = []
    for i in moveslist:
        if isspacefree(board, i):
            possiblemoves.append(i)
    if len(possiblemoves) != 0:
        return random.choice(possiblemove)
    else:
        return None


def computerai(board, computerletter): #Computer AI
    if computerletter == 'X':
        playerletter = 'O'
    else:
        playerletter = 'X'
    for i in range(1,10):
        dupe = getboardcopy(board)
        if isspacefree(board, i):
            makemove(board, computerletter, i)
            if winner(board, computerletter):
                return i
    for i in range(1,10):
        dupe = getboardcp[y(board)]  # missing ]
        if isspacefree(copy, i):
            makemove(board, playerletter, i)
            if winner(copy, playerletter):
                return i
    move = choosemovefromlist(board, [1, 3, 7, 9])
    if move != None:
        return move
    if isspacefree(board, 5):
        return 5
    return choosemovefromlist(board[2,4,6,8])

def isboardfull(board):
    for i in range(1,10):
        if isspacefree(board, i):
            return False
    return True

print ""Welcome to Tic Tac Toe!""

while True:
    theboard = [''] * 10
    print ""Flipping the coin...""
    sleep(2)
    turn = whogoesfirst()
    print ""The "" + turn + "" goes first.""
    playerletter = inputplayerletter()
    if playerletter == 'X':
        computerletter = 'O'
    else:
        computerletter = 'X'
    gameinprogress = True
    while gameinprogress:
        if turn == 'player':
            drawboard(theboard)
            move = playermove(theboard) #remove get from getplayermove
            makemove(theboard, playerletter, move)
            if winner(theboard, playerletter):
                drawboard(theboard)
                print ""The player wins the game! Congratulations!""
                gameinprogress = False
            else:
                if isboardfull(theboard):
                    drawboard(theboard)
                    print ""Tie game! No one wins!""
                    break
                else:
                    turn = 'computer'
        else:
            move = computerai(theboard, computerletter)
            makemove(theboard, computerletter, move)
            if winner(theboard, computerletter):
                drawboard(theboard)
                print ""The computer has beaten the player!""
                break
            else:
                turn = 'player'
    if not playagain():
        break 
"
31606,61073,Is it possible to dynamically populate Python methods with code?,"y = lambda a: a[0] = a[1]
y([1, 2, 3])
"
10765,7604,Open file in Django app,"import os
module_dir = os.path.dirname(__file__)  # get current directory
file_path = os.path.join(module_dir, 'baz.txt')
"
32518,84909,Combine 2 lines that when subsequent line match pattern,"awk '
    $1 == ""*"" {
        if (entry) {
            print subject
            print entry
            entry = """"
        }
        subject = $0
        next
    }
    $1 == ""Bug:"" {
        sub(/\*/, ""* issue "" $NF, subject)
        next
    }
    {entry = entry ""\n"" $0}
    END {print subject; print entry}
'
"
19149,26864,print a list and group it by a certain mapping,"from itertools import groupby
L = [""Ack"",""Ashley"",""book"",""channel"",""Charlie"",""David"",""Eli"",""George"",""Zebra""]
D ={v:k for k,v in dictmap.items() for v in v}
groups = itertools.groupby(L, key=lambda x:D.get(x[0]))

for k,g in groups:
    g=list(g)
    if len(g)>1:
        print g,
    else:
        print g[0],
"
12042,60934,Geoalchemy2 query all users within X meteres,"d = 90
distance = d * 0.014472
#1 mile = 0.014472 degrees  

r1 = -0.1198244
r2 = 51.5112139

# load long[1], lat[0] into shapely
center_point = Point(r1, r2)
# 'POINT (-0.1198244000000000 51.5112138999999871)'

wkb_element = from_shape(center_point)

users = DBSession.query(User).\
    filter(func.ST_DFullyWithin(User.location,  wkb_element, distance)).all()
"
38388,45326,Python Mayavi2 @mayavi2.standalone,"@mayavi2.standalone
def view():
    from mayavi.sources.vtk_data_source import VTKDataSource
    from mayavi.modules.outline import Outline
    from mayavi.modules.surface import Surface
    from mayavi.modules.vectors import Vectors

    mayavi.new_scene()
    # The single type one
    src = VTKDataSource(data = ug1)
    mayavi.add_source(src)
    mayavi.add_module(Outline())
"
21451,82849,"Is there a way to detect if the user last entered text, or the program, in Python?","answer = raw_input(""Say something."")
output = []
if ""ok"" in answer.lower():
    output.append(""Yay!"")
if ""poo"" in answer.lower():
    output.append(""That's very childish"")
if not output:
    output.append(""I'm not very talkative."")
for o in output:
  print o
"
15974,35107,Convert sslsocket python code to ruby,"require 'socket'
require 'openssl'

host = '127.0.0.1'
port = 8963
sert_key = '../keys/key.pem'

socket = TCPSocket.new(host, port) # not help also

ssl_context = OpenSSL::SSL::SSLContext.new(:TLSv1)
ssl_context.cert = OpenSSL::X509::Certificate.new(File.open(sert_key))
ssl_context.key = OpenSSL::PKey::RSA.new(File.open(sert_key))
ssl_context.verify_mode = OpenSSL::SSL::VERIFY_NONE
ssl_socket = OpenSSL::SSL::SSLSocket.new(socket, ssl_context)
ssl_socket.sync_close = true
ssl_socket.accept

sert = ""hello""                                                                                                                                                                                            
sert = sert.force_encoding('UTF-8')                                                                                                                                                                        
req = sprintf(""%08x"", sert.length) + sert                                                                                                                                                                  
ssl_socket.write(req)
puts ssl_socket.sysread(4096)
"
8123,2748,device behind firewall connect via ssh,"ssh -NR10022:localhost:22 foo@mainserver.com
"
13628,82797,extracting days from a numpy.timedelta64 value,">>> x = np.timedelta64(2069211000000000, 'ns')
>>> days = x.astype('timedelta64[D]')
>>> days / np.timedelta64(1, 'D')
23
"
5676,47686,Matplotlib different size subplots,"import numpy as np
import matplotlib.pyplot as plt 
from matplotlib import gridspec

# generate some data
x = np.arange(0, 10, 0.2)
y = np.sin(x)

# plot it
fig = plt.figure(figsize=(8, 6)) 
gs = gridspec.GridSpec(1, 2, width_ratios=[3, 1]) 
ax0 = plt.subplot(gs[0])
ax0.plot(x, y)
ax1 = plt.subplot(gs[1])
ax1.plot(y, x)

plt.tight_layout()
plt.savefig('grid_figure.pdf')
"
7422,41840,Having trouble accessing xpath attribute with scrapy,"import json

from bs4 import BeautifulSoup
import requests
from slimit import ast
from slimit.parser import Parser
from slimit.visitors import nodevisitor

ID = 1042997979

url = 'http://bedbathandbeyond.ugc.bazaarvoice.com/2009-en_us/{id}/reviews.djs?format=embeddedhtml&sort=submissionTime'.format(id=ID)

response = requests.get(url)

parser = Parser()
tree = parser.parse(response.content)
data = """"
for node in nodevisitor.visit(tree):
    if isinstance(node, ast.Object):
        data = json.loads(node.to_ecma())
        if ""BVRRSourceID"" in data:
            break

soup = BeautifulSoup(data['BVRRSourceID'])
print soup.select('span.BVRRCount span.BVRRNumber')[0].text
"
28144,44237,"Split ""Nested"" String By Parentheses into Nested List","import re


def make_tree(data):
    items = re.findall(r""\(|\)|\w+"", data)

    def req(index):
        result = []
        item = items[index]
        while item != "")"":
            if item == ""("":
                subtree, index = req(index + 1)
                result.append(subtree)
            else:
                result.append(item)
            index += 1
            item = items[index]
        return result, index

    return req(1)[0]


string = ""(TOP (S (NP (PRP I))..."" # omitted for readability
tree = make_tree(string)

print(tree)
# Output: ['TOP', ['S', ['NP', ['PRP', 'I']]...
"
13049,3793,Transforming a matrix with a constant and cell address,"A <- matrix(c(0:9, 8, 9), 2, byrow = TRUE)  ## your matrix
tA <- t(A)
cbind(""A"", c(col(tA)), c(row(tA)), c(tA))
#       [,1] [,2] [,3] [,4]
#  [1,] ""A""  ""1""  ""1""  ""0"" 
#  [2,] ""A""  ""1""  ""2""  ""1"" 
#  [3,] ""A""  ""1""  ""3""  ""2"" 
#  [4,] ""A""  ""1""  ""4""  ""3"" 
#  [5,] ""A""  ""1""  ""5""  ""4"" 
#  [6,] ""A""  ""1""  ""6""  ""5"" 
#  [7,] ""A""  ""2""  ""1""  ""6"" 
#  [8,] ""A""  ""2""  ""2""  ""7"" 
#  [9,] ""A""  ""2""  ""3""  ""8"" 
# [10,] ""A""  ""2""  ""4""  ""9"" 
# [11,] ""A""  ""2""  ""5""  ""8"" 
# [12,] ""A""  ""2""  ""6""  ""9"" 
"
14584,40467,Python GtkTreeview; How to refresh the list when an item is selected,"import gtk, os

class PyApp(gtk.Window): 
    def __init__(self):
        super(PyApp, self).__init__()
        self.set_size_request(250, 200)
        self.set_position(gtk.WIN_POS_CENTER)
        self.connect(""destroy"", gtk.main_quit)
        self.set_title(""SteveFM"")
        vbox = gtk.VBox(False, 8)
        sw = gtk.ScrolledWindow()
        sw.set_shadow_type(gtk.SHADOW_ETCHED_IN)
        sw.set_policy(gtk.POLICY_AUTOMATIC, gtk.POLICY_AUTOMATIC)
        vbox.pack_start(sw, True, True, 0)
        store = self.create_model()
        self.treeView = gtk.TreeView(store)
        self.treeView.connect(""row-activated"", self.on_activated)
        self.treeView.set_rules_hint(True)
        sw.add(self.treeView)
        self.create_columns(self.treeView)        
        self.add(vbox)
        self.show_all()

    #  Take the names of files and subdirectories in 
    #  the current directory and sort them into a list for treeview

    def create_model(self):
        store = gtk.ListStore(str)
        dirList=os.listdir(os.getcwd())
        dircontents = []
        for item in dirList: 
            if item[0] != '.':
                if os.path.isdir(item):
                    dircontents.append(['/'+item])
                else:
                    dircontents.append([item])
        dircontents.sort() 
        for act in dircontents:
            store.append([act[0]])
        return store

    #  If a file is clicked, open with leafpad.
    #  If a directory is clicked, change the current working directory to it
    #  and (my hurdle) replace the current treeview list with the contents of the 
    #  new directory, just like a file manager.

    def on_activated(self, widget, row, col):
        model = widget.get_model()
        target = model[row][0]
        if target[0] != ""/"":
            cmd = ""leafpad ""+target
            os.system(cmd)
        else:
            os.chdir(os.getcwd()+target)
            print os.getcwd()   # Just for debugging
            self.treeView.set_model(self.create_model())

    def create_columns(self, treeView):
        rendererText = gtk.CellRendererText()
        column = gtk.TreeViewColumn(None, rendererText, text=0)
        column.set_sort_column_id(0)    
        self.treeView.append_column(column)     

PyApp() 
gtk.main()
"
37415,33782,Python OptionMenu only displaying one option when used with a for statement,"desc = []
with open('football.txt') as txt:
    footballFixtures = [cut.strip().split(':') for cut in txt.readlines()]
    print footballFixtures
for typeoffixture,descriptionoffixture,dateoffixture,resultoffixture in footballFixtures:
    desc.append(descriptionoffixture)
first = StringVar()
first.set(""Select a Fixture"")
OptionMenu(root,first, *desc).place(x=90, y=150)
"
18143,83557,Log x-scale in imshow :: matplotlib,"import numpy as np
import matplotlib.pyplot as plt
fig, ax = plt.subplots()
Z = np.random.random(size=(7,7))
x = 10.0 ** np.arange(-2, 5)
y = 10.0 ** np.arange(-4, 3)
ax.set_yscale('log')
ax.set_xscale('log')
ax.pcolor(x, y, Z)
"
15548,74555,Color-coding a histogram,"import numpy as np
import matplotlib
import matplotlib.pyplot as plt
# set up the bins
Nbins = 10
bins = np.linspace(0, 1, Nbins +1, endpoint=True)
# get some fake data
x = np.random.rand(300)
y = np.arange(300)
# figure out which bin each x goes into
bin_num = np.digitize(x, bins, right=True) - 1
# compute the counts per bin
hist_vals = np.bincount(bin_num)
# set up array for bins
means = np.zeros(Nbins)
# numpy slicing magic to sum the y values by bin
means[bin_num] += y
# take the average
means /= hist_vals

# make the figure/axes objects
fig, ax = plt.subplots(1,1)
# get a color map
my_cmap = cm.get_cmap('jet')
# get normalize function (takes data in range [vmin, vmax] -> [0, 1])
my_norm = Normalize()
# use bar plot 
ax.bar(bins[:-1], hist_vals, color=my_cmap(my_norm(means)), width=np.diff(bins))

# make sure the figure updates
plt.draw()
plt.show()
"
26150,27229,"Using a proxy artist inside a legend, matplotlib, Python","import matplotlib.pyplot as plt
import numpy as np
import matplotlib.patches as mpatches

# Some things to make your script run when I don't have your data
slope1,slope1_err='this','that'
logngal   = np.linspace(0,1,20)
logm200   = np.random.rand(20)
x_pred    = np.linspace(0,1,20)
curve_y_1 = 0.5*(np.sin(logngal)/2.+np.cos(logngal))
upper     = np.sin(x_pred)/2.
lower     = np.cos(x_pred)
# end of sample data

fig2 = plt.figure(figsize=(8,6))
ax1 = fig2.add_subplot(111)

pscat  = ax1.scatter((logngal),(logm200), c='r',label='$0.0<z<1.0$')
pplot, = ax1.plot((logngal),(curve_y_1),'y',linewidth=2,label='$slope=%s \pm %s$'%(slope1,slope1_err))

ax1.fill_between(x_pred, lower, upper,color='#888888', alpha=0.5)

p1 = mpatches.Rectangle((0, 0), 1, 1, fc=""#888888"",alpha=0.5)

handles = [p1,pplot,pscat]
labels  = ['$1\sigma\/confidence\/limts$',pplot.get_label(),pscat.get_label()]

ax1.legend(handles,labels)

fig2.show()
"
11055,79121,GtkSpinButton disabled by default in Glade,"adj = gtk.Adjustment(1, 1, 99, 1, 1, 1)
spinBtn = self.builder.get_object(""spinbutton1"")
spinBtn.configure(adj, 1, 0)
"
33227,83356,How to divide one text file to couple text file depends on the string number in python,"linenum = 1
filename = ''
with open('textfile.txt', 'rt') as inf:
for line in (inf):
    if 'string 'in line:
        filename = 'string {}.txt'.format(linenum)
        open(filename,'w')
        linenum+=1
        continue
    with open(filename, 'a') as outf:
        outf.write(line)
"
37447,79360,how to create a program that show you all the possible combinations,"import itertools

perms = itertools.permutations([1,2,3])

for perm in perms:
    print perm

>>>(1, 2, 3)
>>>(1, 3, 2)
>>>(2, 1, 3)
>>>(2, 3, 1)
>>>(3, 1, 2)
>>>(3, 2, 1)
"
3625,37960,List comprehensions in python,">>> a = [1,2,3]
>>> b = ['a', 'b']
>>> c = ['%d%c' % (x, y) for x in a for y in b]
>>> c
['1a', '1b', '2a', '2b', '3a', '3b']
"
10169,42895,what number row does 'x' appear on,"codes = [""F5031032"", ""F5546810"", ""F117225534"", ""F17770"", ""F29157""]
df = pd.DataFrame(data=codes, columns=['Code'])
df['Row'] = df.index+1
print df
"
32898,18967,How to get data from the TreelView list,"from selenium import webdriver
import time

browser=webdriver.Chrome()
browser.get('http://www.vliz.be/vmdcdata/mangroves/aphia.php?p=browser&id=235301&expand=true#ct')

while True:
      try:
          elem=browser.find_elements_by_xpath('.//*[@src=""http://www.marinespecies.org/images/aphia/pnode.gif"" or @src=""http://www.marinespecies.org/images/aphia/plastnode.gif""]')[1]
          elem.click()
          time.sleep(2)
      except:
          break

content=browser.page_source
"
39076,50344,Receive JSON in python Bottle,"$.ajax({ 
    type:""POST"",
    contentType: ""application/json"",
    url:""/feedback"",
    data: JSON.stringify(feedback)
});
"
32852,71982,Get unique items from list of lists?,"uniq_animal_groups = set(map(tuple, animal_groups))
"
27300,15474,Python mysql (using pymysql) auto reconnect,"from gevent import monkey
monkey.patch_socket()
import logging

import gevent
from gevent.queue import Queue
import pymysql as db

logging.basicConfig(level=logging.DEBUG)
LOGGER = logging.getLogger(""connection_pool"")


class ConnectionPool:
    def __init__(self, db_config, time_to_sleep=30, test_run=False):
        self.username = db_config.get('user')
        self.password = db_config.get('password')
        self.host = db_config.get('host')
        self.port = int(db_config.get('port'))
        self.max_pool_size = 20
        self.test_run = test_run
        self.pool = None
        self.time_to_sleep = time_to_sleep
        self._initialize_pool()

    def get_initialized_connection_pool(self):
        return self.pool

    def _initialize_pool(self):
        self.pool = Queue(maxsize=self.max_pool_size)
        current_pool_size = self.pool.qsize()
        if current_pool_size < self.max_pool_size:  # this is a redundant check, can be removed
            for _ in xrange(0, self.max_pool_size - current_pool_size):
                try:
                    conn = db.connect(host=self.host,
                                      user=self.username,
                                      passwd=self.password,
                                      port=self.port)
                    self.pool.put_nowait(conn)

                except db.OperationalError, e:
                    LOGGER.error(""Cannot initialize connection pool - retrying in {} seconds"".format(self.time_to_sleep))
                    LOGGER.exception(e)
                    break
        self._check_for_connection_loss()

    def _re_initialize_pool(self):
        gevent.sleep(self.time_to_sleep)
        self._initialize_pool()

    def _check_for_connection_loss(self):
        while True:
            conn = None
            if self.pool.qsize() > 0:
                conn = self.pool.get()

            if not self._ping(conn):
                if self.test_run:
                    self.port = 3306

                self._re_initialize_pool()

            else:
                self.pool.put_nowait(conn)

            if self.test_run:
                break
            gevent.sleep(self.time_to_sleep)

    def _ping(self, conn):
        try:
            if conn is None:
                conn = db.connect(host=self.host,
                                  user=self.username,
                                  passwd=self.password,
                                  port=self.port)
            cursor = conn.cursor()
            cursor.execute('select 1;')
            LOGGER.debug(cursor.fetchall())
            return True

        except db.OperationalError, e:
            LOGGER.warn('Cannot connect to mysql - retrying in {} seconds'.format(self.time_to_sleep))
            LOGGER.exception(e)
            return False

# test (pytest compatible) -------------------------------------------------------------------------------------------
import logging

from src.py.ConnectionPool import ConnectionPool

logging.basicConfig(level=logging.DEBUG)
LOGGER = logging.getLogger(""test_connection_pool"")


def test_get_initialized_connection_pool():
    config = {
        'user': 'root',
        'password': '',
        'host': '127.0.0.1',
        'port': 3305
    }
    conn_pool = ConnectionPool(config, time_to_sleep=5, test_run=True)
    pool = conn_pool.get_initialized_connection_pool()
    # when in test run the port will be switched back to 3306
    # so the queue size should be 20 - will be nice to work 
    # around this rather than test_run hack
    assert pool.qsize() == 20
"
32431,71541,Python regex and string replacement,">>> import re
>>> re.sub(r'(\w+) (\w+)\[\]', r'\1[] \2', string)
    'void demofun(double* output, double[] db4nsfy, double[] VdSGV, int length)'
"
18107,21047,Drop extraneous decimal places when using Python's decimal.Decimal,">>> Decimal('0.00').normalize()
Decimal('0')
>>> Decimal('0.50').normalize()
Decimal('0.5')
"
21594,52417,Better way to evaluate mathematical expression in python?,">>> import re
>>> split_numbers = re.compile(r'-?\d+').findall
>>> sum(int(x) for x in split_numbers('1+23-4+56-7'))
69
"
16413,56386,Structuring a Python App (eventually for deb packaging),"ln -s -T /opt/appname/main.py /usr/bin/appname.py
"
6763,45186,Python failed to parse dates when reading from csv file,"import pandas as pd 
df = pd.read_csv('test.csv.gz', compression='infer',date_parser=True, usecols=([0,1,3]))
print df.head()

#       id            date_time  posa_continent
#    0   0  2015-09-03 17:09:54               3
#    1   1  2015-09-24 17:38:35               3
#    2   2  2015-06-07 15:53:02               3
#    3   3  2015-09-14 14:49:10               3
#    4   4  2015-07-17 09:32:04               3
"
1958,5376,"When attempting run a python script from within another python script, I get 'permission denied'!","cwd = os.path.join(os.getcwd(), ""<scriptname>.py"")
...
os.system('{} {}'.format('python', cmd))
"
15377,79144,Calculate the end of the previous quarter,"def previous_quarter(ref):
    if ref.month < 4:
        return datetime.date(ref.year - 1, 12, 31)
    elif ref.month < 7:
        return datetime.date(ref.year, 3, 31)
    elif ref.month < 10:
        return datetime.date(ref.year, 6, 30)
    return datetime.date(ref.year, 9, 30)
"
34409,82907,Python Finding Index of Maximum in List,"for i in range(len(a)):
    if a[i] > max:
        max = a[i]
        maxIndex = i
"
35581,32112,Checking Pygame Version,"pip freeze | grep <pack_name>
"
21261,74754,Why file read/write adds additional lines to the file?,"for line in source:
    line = line.rstrip('\n')
    line = line.decode('unicode_escape').replace(u'\n', u'\\n').encode('utf8')
    target.write(line + '\n')
"
35690,74078,How to configure Django to use Heroku Dev Postgre while local?,"import dj_database_url
DATABASES['default'] =  dj_database_url.config(default='postgres://foo:bar@somehost.amazonaws.com:5432/somedb')
"
26523,83841,Reference file during subprocess (Python),"f = open('/tmp/list.txt','w')
f.write(list)
f.close()  # Make sure to close the file before call sub-process.
           # Otherwise, file content will not visible to sub-process.

process = subprocess.Popen('oscommand --file={}'.format(f.name),
                           shell=True, stdout=subprocess.PIPE)
"
13270,4437,How can I access a classmethod from inside a class in Python,">>> def deco(cls):
...     cls.initStuff()
...     return cls
>>> @deco
... class Foo(object):
...     x = 10
...     
...     @classmethod
...     def initStuff(cls):
...         cls.x = 88
>>> Foo.x
88
>>> Foo.x = 10
>>> Foo.x
10
>>> Foo.initStuff() # reinitialize
>>> Foo.x
88
"
9907,14350,pandas.cut with enumerated bins,"continent_lookup = {1: 'Africa', 2: 'Asia', 3: 'Africa', 4: 'Asia'}
df['Continent'] = df.Country.map(continent_lookup)
"
9749,16143,python average test score,"total = 0
counter = 0

while True:
    entry = int(input(""Enter Test score: ""))
    if entry == 0: break
    total += entry   # this should be in while loop
    counter += 1

total = total * 1.0
if counter == 0: exit(1)
avg = total / counter
print(""Average is: %3.f"" % avg + '%')
"
16956,85183,python pandas: applying different aggregate functions to different columns,"In [46]: df.head()
Out[46]:
   Year  qtr  realgdp  realcons  realinvs  realgovt  realdpi  cpi_u      M1  \
0  1950    1   1610.5    1058.9     198.1     361.0   1186.1   70.6  110.20
1  1950    2   1658.8    1075.9     220.4     366.4   1178.1   71.4  111.75
2  1950    3   1723.0    1131.0     239.7     359.6   1196.5   73.2  112.95
3  1950    4   1753.9    1097.6     271.8     382.5   1210.0   74.9  113.93
4  1951    1   1773.5    1122.8     242.9     421.9   1207.9   77.3  115.08

   tbilrate  unemp      pop     infl  realint
0      1.12    6.4  149.461   0.0000   0.0000
1      1.17    5.6  150.260   4.5071  -3.3404
2      1.23    4.6  151.064   9.9590  -8.7290
3      1.35    4.2  151.871   9.1834  -7.8301
4      1.40    3.5  152.393  12.6160 -11.2160

In [47]: df.groupby('qtr').agg({""realgdp"": {""mean_gdp"": ""mean"", ""std_gdp"": ""std""},
                                ""unemp"": {""mean_unemp"": ""mean""}})
Out[47]:
         realgdp                   unemp
        mean_gdp      std_gdp mean_unemp
qtr
1    4506.439216  2104.195963   5.694118
2    4546.043137  2121.824090   5.686275
3    4580.507843  2132.897955   5.662745
4    4617.592157  2158.132698   5.654902
"
6852,14248,How to Append The Calculated Arithmetic to The List?,">>> y = 1 + 1
>>> list1 = []
>>> list1.append(y)
>>> print list1
[2]
>>> print l
None
>>>
"
14968,20785,Ordering queryset by distance relative to a given position,"from django.db.models import Func, F

class Sin(Func):
    function = 'SIN'

class Cos(Func):
    function = 'COS'

class Acos(Func):
    function = 'ACOS'

class Radians(Func):
    function = 'RADIANS'

radlat = Radians(latitude) # given latitude
radlong = Radians(longitude) # given longitude
radflat = Radians(F('latitude'))
radflong = Radians(F('longitude'))

Expression = 3959.0 * Acos(Cos(radlat) * Cos(radflat) *
                           Cos(radflong - radlong) +
                           Sin(radlat) * Sin(radflat))

Trader.objects.annotate(distance=Expression).order_by('distance')
"
39495,785,Is it possible to do additive blending with matplotlib?,"from matplotlib import pyplot as plt
import numpy as np

fig, ax = plt.subplots()
ax.scatter(x1,y1,c='b',edgecolors='none')
ax.set_xlim(-4, 4)
ax.set_ylim(-4, 4)
ax.patch.set_facecolor(""none"")
ax.patch.set_edgecolor(""none"")
fig.canvas.draw()

w, h = fig.canvas.get_width_height()
img = np.frombuffer(fig.canvas.buffer_rgba(), np.uint8).reshape(h, w, -1).copy()

ax.clear()
ax.scatter(x2,y2,c='r',edgecolors='none')
ax.set_xlim(-4, 4)
ax.set_ylim(-4, 4)
ax.patch.set_facecolor(""none"")
ax.patch.set_edgecolor(""none"")
fig.canvas.draw()

img2 = np.frombuffer(fig.canvas.buffer_rgba(), np.uint8).reshape(h, w, -1).copy()

img[img[:, :, -1] == 0] = 0
img2[img2[:, :, -1] == 0] = 0

fig.clf()

plt.imshow(np.maximum(img, img2))
plt.subplots_adjust(0, 0, 1, 1)
plt.axis(""off"")
plt.show()
"
31688,82745,How do I avoid recursively adding arrays when I need to merge two arrays in a while-loop?,"while game==True:
    #your game code goes here
    charArray,collideArray = [],[]
"
622,70360,Interactive Shutdown program displays help page?,"shutdown = 'shutdown /r /t {0} /c ""{1}""'.format(d,m)
"
10644,70372,how to set default for multi value options,"@click.command()
@click.option('--foo', default=[23, 42], type=click.FLOAT, multiple=True)
def cli(foo):
    for item in foo:
        click.echo(item)

@click.command()
@click.option('--arg', default=((1, 2), (3, 4)), nargs=2, multiple=True, type=click.INT)
def cli(arg):
    for item in arg:
        click.echo('<%d|%d>' % item)
"
36546,40303,Can ThreadPoolExecutor help single-threaded application efficiency?,"bcrypt_hashpw(PyObject *self, PyObject *args, PyObject *kw_args)
{
    ...
    Py_BEGIN_ALLOW_THREADS;
    ret = pybc_bcrypt(password_copy, salt_copy, hashed, sizeof(hashed));
    Py_END_ALLOW_THREADS;
    ...
"
10665,32028,Putting a simple if-then statement on one line,"value_when_true if condition else value_when_false
"
19064,64129,plotting results of hierarchical clustering ontop of a matrix of data in python,"import scipy
import pylab
import scipy.cluster.hierarchy as sch

# Generate random features and distance matrix.
x = scipy.rand(40)
D = scipy.zeros([40,40])
for i in range(40):
    for j in range(40):
        D[i,j] = abs(x[i] - x[j])

# Compute and plot first dendrogram.
fig = pylab.figure(figsize=(8,8))
ax1 = fig.add_axes([0.09,0.1,0.2,0.6])
Y = sch.linkage(D, method='centroid')
Z1 = sch.dendrogram(Y, orientation='right')
ax1.set_xticks([])
ax1.set_yticks([])

# Compute and plot second dendrogram.
ax2 = fig.add_axes([0.3,0.71,0.6,0.2])
Y = sch.linkage(D, method='single')
Z2 = sch.dendrogram(Y)
ax2.set_xticks([])
ax2.set_yticks([])

# Plot distance matrix.
axmatrix = fig.add_axes([0.3,0.1,0.6,0.6])
idx1 = Z1['leaves']
idx2 = Z2['leaves']
D = D[idx1,:]
D = D[:,idx2]
im = axmatrix.matshow(D, aspect='auto', origin='lower', cmap=pylab.cm.YlGnBu)
axmatrix.set_xticks([])
axmatrix.set_yticks([])

# Plot colorbar.
axcolor = fig.add_axes([0.91,0.1,0.02,0.6])
pylab.colorbar(im, cax=axcolor)
fig.show()
fig.savefig('dendrogram.png')
"
27958,57922,How to check if complex number is a whole number,">>> from sympy import Symbol, ground_roots
>>> x = Symbol('x')
>>> f = x**5 + 7*x + 1
>>> p = 13
>>> ground_roots(f, modulus=p)
{-5: 1, 4: 2}
"
17309,74483,Tab completion of decorated functions in IPython Notebook,"def wrapper(*args, **kwargs):
    print('inside wrapper')
    return func(*args, **kwargs)
"
18367,44425,Label by order in group,"In [409]:

df = pd.DataFrame({
    'clients': pd.Series(['A', 'A', 'A', 'B', 'B']),
    'Price': pd.Series([1.0, 22.0, 15.0, 7.5, 5.0])
})
df['rank'] = df.groupby('clients')['Price'].transform(pd.Series.rank)
df
Out[409]:
   Price clients  rank
0    1.0       A     1
1   22.0       A     3
2   15.0       A     2
3    7.5       B     2
4    5.0       B     1
"
38660,81850,Need help programming with multiple files in Python,"import random

class PlayerAttributes(object):

    def __init__(self):
        self.health      = 0
        self.mana        = 0
        self.stamina     = 0
        self.capacity    = 0
        self.defense     = 0
        self.reset_attributes()

    def level_up(self):
        self.level_health()
        self.level_mana()
        #etc

    def reset_attributes(self):
        self.reset_health()
        self.reset_mana()
        self.reset_stamina()
        self.reset_capacity()
        self.reset_defense()

    def get_health(self):
        return self.health

    def reset_health(self):
        self.health = base_health

    def level_health(self):
        self.health += (self.endurance/2) + (self.strength/2)


class Equipment(object):

    def __init__(self):
        self.equipment_dict     = {}
        self.currently_equipped = None

    def set_equipped_weapon(self,weapon_name)
        self.currently_equipped = weapon_name

    def add_item(self,item):
        self.equipment_dict[item.name] = item

class Item(object):

    def __init__(self,name,hp,attack,defense,weight):
        pass #put stuff in here, etc


class Player(object):

    def __init__(self):
        self.attributes = PlayerAttributes()
        self.backpack   = Equipment()
        self.backpack.add_item(Item(""dagger"",5,10,0,2))

    def level_up(self):
        self.attributes.level_up()
"
39075,71003,Jinja2 - Process variable from Flask view,"report.summary=render_template_string(r'<p>This is a report for {{ user.first_name }}.</p>', user) 
"
24006,2523,Fastest way to validate MySQL against database,"> CREATE TABLE test (id INT);
> EXPLAIN SELECT id FROM testd;   # invalid query
ERROR 1146 (42S02): Table 'test.testd' doesn't exist
> EXPLAIN SELECT id2 FROM test;   # invalid query
ERROR 1054 (42S22): Unknown column 'id2' in 'field list'
> EXPLAIN SELECT id FROM test;    # valid query
+----+-------------+-------+------+---------------+------+---------+------+------+-------+
| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra |
...
"
16750,45619,leading number groups between two numbers,"def leading(a, b):
    # generate digit pairs a=123, b=456 -> [(1, 4), (2, 5), (3, 6)]
    zip_digits = zip(str(a), str(b))
    zip_digits = map(lambda (x,y):(int(x), int(y)), zip_digits)

    # this ignores problems where the last matching digits are 0 and 9
    # leading (12000, 12999) is same as leading(12, 12)
    while(zip_digits[-1] == (0,9)):         
        zip_digits.pop()            

    # start recursion
    return compute_leading(zip_digits)

def compute_leading(zip_digits):
    if(len(zip_digits) == 1):   # 1 digit case is simple!! :)
        (a,b) = zip_digits.pop()
        return range(a, b+1)

    #now we partition the problem
    # given leading(123,456) we decompose this into 3 problems
    # lows    -> leading(123,129)
    # middle  -> leading(130,449) which we can recurse to leading(13,44)
    # highs   -> leading(450,456)

    last_digits = zip_digits.pop()
    low_prefix  = reduce(lambda x, y : 10 * x + y, [tup[0] for tup in zip_digits]) * 10     # base for lows e.g. 120
    high_prefix = reduce(lambda x, y : 10 * x + y, [tup[1] for tup in zip_digits]) * 10     # base for highs e.g. 450
    lows = range(low_prefix + last_digits[0], low_prefix + 10)
    highs = range(high_prefix + 0, high_prefix + last_digits[1] + 1)

    #check for boundary cases where lows or highs have all ten digits
    (a,b) = zip_digits.pop()    # pop last digits of middle so they can be adjusted
    if len(lows) == 10:
        lows = []
    else:
        a = a + 1

    if len(highs) == 10:
        highs = []
    else:
        b = b - 1

    zip_digits.append((a,b))    # push back last digits of middle after adjustments

    return lows + compute_leading(zip_digits) + highs       # and recurse - woohoo!!



print leading(199,411)

print leading(2169800, 2171194)

print leading(1000, 1452)
"
330,72073,Create a ticket with an attachment on Sourceforge,"import requests

action = ""https://sourceforge.net/rest/p/test-sourceforge-api/tickets/new""

url = action + ""?access_token="" + token

body = {'access_token':token,
    'ticket_form.description': ""Test Description"",
    'ticket_form.summary':'Test Title'
    }

files={'ticket_form.attachment':(""myfilename"",""myfilecontents"", 'application/octet-stream')}

r = requests.post(url, data=body, files=files)
"
7162,40244,Peewee Connection pooling with postgresql 9.4 and JSON fields support,"from playhouse.pool import PooledPostgresqlExtDatabase

db = PooledPostgresqlExtDatabase(
    'my_database',
    max_connections=8,
    stale_timeout=300,
    user='postgres')
"
32066,79632,Python Extracting numbers and adding them from a list,">>> import re
>>> elements = [' 86 miles\n', ' 43 miles\n', ' MV\n', ' 0.0 miles\n', ' 43 miles\n', ' 15.0 m iles\n', ' 0.0 miles\n', ' 0.0 miles\n', ' 0.0 miles \n', ' 86 miles\n', ' .7 miles', ' 5. miles']
>>> _re_digits = re.compile(r""(-?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+)))"")
>>> digits = []
>>> for element in elements:
    digits += [ float(n) for n in _re_digits.findall(element)]


>>> digits
[86.0, 43.0, 0.0, 43.0, 15.0, 0.0, 0.0, 0.0, 86.0, 0.7, 5.0]
>>> sum(digits)
278.7
"
30342,29369,"Splitting, merging, sorting CSV","from collections import defaultdict
from datetime import datetime
import csv
import glob
import os

# data structure is data[source][date, time][sensor] = value, with """" as default value
data = defaultdict(lambda: defaultdict(lambda: defaultdict(str)))
sensors = []

filelist = glob.glob(""*.csv"")

# read old files
for fn in filelist:
    sensor = os.path.splitext(fn)[0]
    sensors.append(sensor)
    with open(fn, 'rb') as f:
        reader = csv.DictReader(f, delimiter="";"")
        for row in reader:
            date = datetime.strptime(row['date'], '%m/%d/%y')
            data[row['source']][date, row['hour']][sensor] = row['values']

sensors.sort() # note, this may not give the best sort order
header = ['date', 'hour', 'source'] + sensors

for source, source_data in data.iteritems():
    fn = ""{}.csv"".format(source)
    with open(fn, 'wb') as f:
        writer = csv.writer(f, delimiter="";"")
        writer.writerow(header)
        for (date, time), hour_data in sorted(source_data.items()):
            values = [hour_data[sensor] for sensor in sensors]
            writer.writerow([date.strftime('%m/%d/%y'), time, source] + values)
"
18957,19601,"Parse a file in python to find first a string, then parse the following strings until it find another string","foundId = False
with open('datafile.txt', 'r') as datafile:
    for line in datafile:
        if foundId:
            if line.startswith('RhPhase'):
                print('Found RhPhase for ID 543:')
                print(line)

                # end reading the file
                break
            elif line.startswith('ID:'):
                print('Error: Found another ID without finding RhPhase first')
                break

        # if we haven’t found the ID yet, keep looking for it
        elif line.startswith('ID:543'):
                foundId = True
"
24796,3384,Remove nonalphabet characters from a string,"word = 'lake1!'
new_word = ''
for char in word:
    if char.isalpha():
        new_word += char
"
24714,82338,Python file manipulation,"from os import listdir
from os.path import join

DATA_ROOT = ""testdata""

def folder_items_no_regex(month_name):

   # dict holding the items (assuming ordering is irrelevant)
   items = {}

   # 1. Loop through all filenames in said folder
   for file in listdir( join( DATA_ROOT, month_name ) ):
      date, name = file.split( ""_"", 1 )

      # skip files that were not possible to split on ""_""
      if not date or not name:
         continue

      # ignore non-.xml files
      if not name.endswith("".xml""):
         continue

      # cut off the "".xml"" extension
      name = name[0:-4]

      # keep a list of filenames
      items.setdefault( name, set() ).add( file )

   return items

def folder_items_regex(month_name):

   import re

   # The pattern:
   # 1. match the beginnning of line ""^""
   # 2. capture 1 or more digits ( \d+ )
   # 3. match the ""_""
   # 4. capture any character (as few as possible ): (.*?)
   # 5. match "".xml""
   # 6. match the end of line ""$""
   pattern = re.compile( r""^(\d+)_(.*?)\.xml$"" )

   # dict holding the items (assuming ordering is irrelevant)
   items = {}

   # 1. Loop through all filenames in said folder
   for file in listdir( join( DATA_ROOT, month_name ) ):

      match = pattern.match( file )
      if not match:
         continue

      date, name = match.groups()

      # keep a list of filenames
      items.setdefault( name, set() ).add( file )

   return items
if __name__ == ""__main__"":
   from pprint import pprint

   data = folder_items_no_regex( ""02"" )

   print ""--- The dict ---------------""
   pprint( data )

   print ""--- The items --------------""
   pprint( sorted( data.keys() ) )

   print ""--- The files for item1 ---- ""
   pprint( sorted( data[""item1""] ) )


   data = folder_items_regex( ""02"" )

   print ""--- The dict ---------------""
   pprint( data )

   print ""--- The items --------------""
   pprint( sorted( data.keys() ) )

   print ""--- The files for item1 ---- ""
   pprint( sorted( data[""item1""] ) )
"
36702,19952,Python Replace Multiple Lines in File,"with open(""dest.txt"", ""w"") as template:
  for line in lines:
    line = re.sub(field_one, one, line)  # modify first
    line = re.sub(field_two, two, line)
    template.write(line)  # write once after modifying
"
23064,12617,Thinking Python,"
a = range(1,21)
num_row = 5

a = map(str, a)
max_length = len(max(a, key=len))
for i, x in enumerate(a, 1):
    print x.rjust(max_length),
    if i % num_row == 0:
        print
"
8776,82052,Python - Problem with variables,"life = 200

def example(x):
    return x - 75

life = example(life)
"
20107,16312,"Using data from a website, match it to a table and pull data","from decimal import *

html = open(""html.txt"").read()
out = open(""legoShipping.txt"", ""w"")

out.write(""Order Number"" + ""\t"" +
          ""Grand Total (currency)"" + ""\t"" +
          ""Order Total (currency)"" + ""\t"" +
          ""Shipping Cost (currency)"" + ""\t"" +
          ""Order Weight (grams)"" + ""\t"" +
          ""Order Weight (oz.)"" + ""\t"" +
          ""Shipping Class"" + ""\n"")

#split html on order number
legoOrders = html.split(""Order #"")

for order in legoOrders[1:]:
  orderNumber = order.split(""<"")[0]

  #get Grand Total
  grand = order.split(""<TD>Grand&nbsp;Total:</TD>"")[1].split('<TD ALIGN=""RIGHT""><B>')[1].split(""<"")[0].split('&nbsp;')
  grandCurrency = grand[0]
  grandTotal = grand[1]

  #get Order Total
  orderTotalAndCurrency = order.split('<TD>Order Total:</TD>')[1].split('<TD ALIGN=""RIGHT"">')[1].split(""<"")[0].split('&nbsp;')
  orderCurrency = orderTotalAndCurrency[0]
  orderTotal = orderTotalAndCurrency[1]

  #get Shipping Cost
  shipping = order.split(""<TD>Shipping:</TD>"")[1].split('<TD ALIGN=""RIGHT"">')[1].split(""<"")[0].split('&nbsp;')
  shippingCurrency = shipping[0]
  shippingCost = shipping[1]

  #get Weights
  weightString = order.split('Estimated Weight of Order:</FONT></TD><TD ALIGN=""RIGHT""><FONT CLASS=""fv"">')[1]
  splitWeightString = weightString.split('&nbsp;&nbsp;&nbsp;')
  splitStringFinal = splitWeightString[1].split(""<"")
  grams = splitStringFinal[0]
  ozs = weightString.split('&nbsp')[0]

  #convert grams to mathematical value
  gramsValue = Decimal(grams[:-1])

  #create default shipping class value. Set it to """"
  shippingClass = """"

  if gramsValue > 0:
    if gramsValue < 100:
      shippingClass = ""A""

  if gramsValue >= 100:
    if gramsValue < 200:
      shippingClass = ""B""

  out.write(str(orderNumber) + ""\t"" +
            str(grandTotal) + "" ("" + str(grandCurrency) + "")"" + ""\t"" +
            str(orderTotal) + "" ("" + str(orderCurrency) + "")"" + ""\t"" +
            str(shippingCost) + "" ("" + str(shippingCurrency) + "")"" + ""\t"" +
            str(grams) + ""\t"" +
            str(ozs) + ""\t"" +
            str(shippingClass) + ""\n"")
"
17602,48987,The choice of XML/XSL lib for Python 2.6.x,"parser = etree.XMLParser(load_dtd=True, no_network=False)
"
37095,46036,Python dictionary lookup returning multiple results?,"class Foo:
    def bar(self):
        print ""hello bar""

    def haz(self):
        print ""hello haz""

    def nothing(self):
        print ""None""

    def __init__(self, choose_me):
        {'foo': self.bar,
         'can': self.haz
         }.get(choose_me, self.nothing)()

if __name__ == '__main__':
    Foo('foo')
"
17877,13818,Project Euler no. 17 - Streamlining Python,"words = [
(1,   'one'      ,''   ),
(2,   'two'      ,''   ),
(3,   'three'    ,''   ),
(4,   'four'     ,''   ),
(5,   'five'     ,''   ),
(6,   'six'      ,''   ),
(7,   'seven'    ,''   ),
(8,   'eight'    ,''   ),
(9,   'nine'     ,''   ),
(10,  'ten'      ,''   ),
(11,  'eleven'   ,''   ),
(12,  'twelve'   ,''   ),
(13,  'thirteen' ,''   ),
(14,  'fourteen' ,''   ),
(15,  'fifteen'  ,''   ),
(16,  'sixteen'  ,''   ),
(17,  'seventeen',''   ),
(18,  'eighteen' ,''   ),
(19,  'nineteen' ,''   ),
(20,  'twenty'   ,''   ),
(30,  'thirty'   ,''   ),
(40,  'forty'    ,''   ),
(50,  'fifty'    ,''   ),
(60,  'sixty'    ,''   ),
(70,  'seventy'  ,''   ),
(80,  'eighty'   ,''   ),
(90,  'ninety'   ,''   ),
(100, 'hundred'  ,'and'),
]
words.reverse()

def spell(n, i=0):
    global words
    word = """"
    while n > 0:
        for num in words[i:]:
            if num[0] <= n:
                div = n // num[0]
                n = n % num[0]
                if num[2]: word+=' '+spell(div,i)
                word+=' '+num[1]
                if num[2] and n: word+=' '+num[2]
                break
    return word[1:]

count = lambda s: sum(1 for i in s if i!=' ')
print(sum(count(spell(n)) for n in range(1001)))
"
37997,4210,list inspect second item print first item in list,"goals = 0

numlist={}
for line in xl:
    numlist[line[0]]=int(line[1])#second element witch are goals

for player in numlist:
    if numlist[player] > goals:
        winner = player
        goals = numlist[player]
print goals, winner
"
14299,21968,accessing foreign key in django queryset,"{% for option in options %}
    {{option}}
    {% for proof in option.proof_set.all %}
        {{proof}}
    {% endfor %}
{% endfor %}
"
20072,32348,Pandas date time formatting with timezone shifting,"df['time'] = pd.to_datetime(df['time'], unit='s')
df = df.set_index('time').tz_localize('US/Eastern').tz_convert('UTC').tz_convert(None).reset_index()
df['time'] = df['time'].dt.date
"
38838,4011,Split a list into sub lists in python,"result = [my_list[idx:idx + 3] for idx in range(0, len(my_list), 3)]
# [['text1', 'text1', 'text1'],
#           ['text2', 'text2', 'text2'], ['text3', 'text3', 'text3']]
"
12079,31656,Parsing GPS receiver output via regex in Python,">>> line = ""$GPRMC,199304.973,3248.7780,N,11355.7832,W,1,06,02.2,25722.5,M,,,*00""
>>> line = line.split("","")
>>> neededData = (float(line[2]), line[3], float(line[4]), line[5], float(line[9]))
>>> print neededData
(3248.7779999999998, 'N', 11355.7832, 'W', 25722.5)
"
20545,162,Python list and range,"gfgf=[[1],[2]]
for x in gfgf:
    if 1 in x:
        print(x)
"
35406,27974,I cant collect answer from my variables in for loop,"numOfRooms = int(input(""num of rooms:""))
tsa = 0
for n in range(numOfRooms):
    input(""name of room:"")
    numOfWalls = int(input(""num of walls:""))
    sa = 0
    for wall in range(numOfWalls):
        height = int(input(""height of wall:""))
        width = int(input(""width of wall:""))
        sa = sa + (height * width)
    tsa = tsa + sa
"
12006,40150,Python: BaseHTTPRequestHandler - Read raw post,"- rfile is a file object open for reading positioned at the
start of the optional input data part;
"
9813,52730,How to get sorted results in MongoKit?,"db.articles.find().sort({_id: -1}).limit(10);
"
29652,50381,Calculating CRC16 in Python,"print hex(crc16(""5a0001"".decode(""hex"")))
"
24040,44457,Unicode SendKeys Alternative (Any programming language),"shell.SendKeys(u""When Unicode characters are pasted here, harmony shall hopefully ensue"".encode(""utf-16le""), 0)
"
30704,43758,List of numeric pairs - need strategy to multiply and sum products,"from collections import defaultdict

out = defaultdict(lambda: 1)

for key, val in my_list:
    out[key] *= val
dotproduct = sum(out.values())
"
4495,63362,How to get data from memory if available in obj.__dict__?,"@memoize
@property
    def value:
        # return if already computed => What can be done ?
        computed_value = compute()
        return computed_value
"
1097,81879,"python 3.3.2 do I get the right understanding of the function ""round""?","ndigits = 0 => pow(10, -ndigits) = 10^(-ndigits) = 1
ndigits = 1 => pow(10, -ndigits) = 10^(-ndigits) = 0.1
etc.

>>> for ndigits in range(6):
...     print round(123.456789, ndigits) / pow(10, -ndigits)
123.0
1235.0
12346.0
123457.0
1234568.0
12345679.0
"
5858,80405,How to get all the values from a list that are smaller or equivalent to another list in python,"l1  = [1,5,9,15,17,23]
l2 = [1,2,3,8,15,20,29,27,34,38,39,56]

max_val = max(l1)

l1 + [val for val in l2 if val <= max_val]
"
30519,9449,Iterate and modify array with NumPy,">>> a = np.arange(6).reshape(2,3)
>>> a
array([[0, 1, 2],
       [3, 4, 5]])
>>> for x in np.nditer(a, op_flags=['readwrite']):
...     x[...] = 2 * x
...
>>> a
array([[ 0,  2,  4],
       [ 6,  8, 10]])
"
17219,49735,Python: loop over classes?,"for klass in [FacebookProfile, FacebookUser, FacebookLike, FacebookInvite]:
    try:
        for fb in klass.objects.filter(user_id=user.id):
            fb.delete()
    except klass.DoesNotExist:
        pass
"
23750,61731,Django Rest Frame API: additional fields in ModelSerializer,"custom_field = Field(source='get_whatever')
"
11661,78352,Plot spectogram from mp3,"import os
from subprocess import check_call
from tempfile import mktemp
from scikits.audiolab import wavread, play
from scipy.signal import remez, lfilter
from pylab import *

# convert mp3, read wav
mp3filename = 'XC124158.mp3'
wname = mktemp('.wav')
check_call(['avconv', '-i', mp3filename, wname])
sig, fs, enc = wavread(wname)
os.unlink(wname)

# bandpass filter
bands = array([0,3500,4000,5500,6000,fs/2.0]) / fs
desired = [0, 1, 0]
b = remez(513, bands, desired)
sig_filt = lfilter(b, 1, sig)
sig_filt /=  1.05 * max(abs(sig_filt)) # normalize

subplot(211)
specgram(sig, Fs=fs, NFFT=1024, noverlap=0)
axis('tight'); axis(ymax=8000)
title('Original')
subplot(212)
specgram(sig_filt, Fs=fs, NFFT=1024, noverlap=0)
axis('tight'); axis(ymax=8000)
title('Filtered')
show()

play(sig_filt, fs)
"
23257,76484,Query set of number of related objects,"from django.db.models import Count

B.objects.annotate(a_count=Count('a')).filter(a_count__lt=5)
"
6208,11805,Enabling Excel to Open Python CSV Output as UTF8,"for i in range(len(nestedlist)):
    for j in range(7):
        x = nestedlist[i][j]
        y = unicode(x, 'utf-8')
        nestedlist[i][j] = y.encode('cp1252')
"
36396,39171,pew simple way to create env with specific python version on windows,"pew new nameOfEnv -p C:\\Python34\python.exe
"
39433,43871,creating a defaultlist in python,"class defaultlist(list):
    def __init__(self, fx):
        self._fx = fx
    def _fill(self, index):
        while len(self) <= index:
            self.append(self._fx())
    def __setitem__(self, index, value):
        self._fill(index)
        list.__setitem__(self, index, value)
    def __getitem__(self, index):
        self._fill(index)
        return list.__getitem__(self, index)
"
17876,12391,Multiple instances of a class containing a list in python,"class klasse(object):

    #  name = [] if this was the case, the name would be a class variable, 
    #  and all instances would share it

    def __init__(self, value):
        self.name = [] #  but now it is a separate for each instance
        self.add_name(value)

    def add_name(self, value):
        self.name.append(str(value))
"
6854,29416,"How do I get panda's ""update"" function to overwrite numbers in one column but not another?","In [11]: df1
Out[11]: 
   A   B
0  1  99
1  3  99
2  5   6

In [12]: df2
Out[12]: 
   A  B
0  a  2
1  b  4
2  c  6

In [13]: df1.update(df2[['B']])  # subset of cols = ['B']

In [14]: df1
Out[14]: 
   A  B
0  1  2
1  3  4
2  5  6
"
38315,40904,Saving a cross-validation trained model in Scikit,"# To fit your estimator
gnb.fit(data_numpy[0], data_numpy[1])
# To serialize
import pickle
with open('our_estimator.pkl', 'wb') as fid:
    pickle.dump(gnb, fid)
# To deserialize estimator later
with open('our_estimator.pkl', 'rb') as fid:
    gnb = pickle.load(fid)
"
14041,33671,"How to create a list in python, add values, and take them out","import csv
from pylab import *

with open('test.csv', 'rb') as csvfile:
    spamreader = csv.reader(csvfile, delimiter=',', quotechar='|') # open the csv file
    x = []
    y = []
    for row in spamreader:
        x.append(row[0])
        y.append(row[1])
        print ', '.join(row) #  in each loop, row is getting the data,
                         # first row is [1,1] , then [2,2] and so on

plot(x, y)
show()
"
12464,20239,make available only a subset of functions in python package,"__all__ = ['myfunction']
"
7829,58501,Python : Check if IRC connection is lost (PING PONG?),"last_ping = time.time()
threshold = 5 * 60 # five minutes, make this whatever you want
while connected:
    data = irc.recv ( 4096 )
    # If Nick is in use
    if data.find ( 'Nickname is already in use' ) != -1:
        NICK = NICK + str(time.time())
        Connection()
    # Ping Pong so we don't get disconnected
    if data.find ( 'PING' ) != -1:
        irc.send ( 'PONG ' + data.split() [ 1 ] + '\r\n' )
        last_ping = time.time()
    if (time.time() - last_ping) > threshold:
        break
"
8107,74749,Iterate the classes defined in a module imported dynamically,"dict([(name, cls) for name, cls in mod.__dict__.items() if isinstance(cls, type)])
"
33135,1559,Best practice to recursively update a nested dictionary?,"from collections import defaultdict

# Create dict that automatically assigns empty dict to a key that doesn't exist
dd = lambda: defaultdict(dd)
filesdict = dd()

for line in fileslist:
    path = line.split('/')
    if path[-1] != '':
        d = filesdict

        # Iterate to location where file is to be added without mutating path
        for i in range(len(path) - 1):
            # If d[path[i]] doesn't exist empty dict is automatically created here
            d = d[path[i]]
        d[path[-1]] = 'file'
"
10607,80760,Parsing XML in Python with Loop,"for dataset in alias:
    current = dataset[0]
    print(current.text) 
"
1934,8388,Python logging custom handler and formatter nothing gets logged,"def setup():
    logger = logging.getLogger('mytest')
    formatter = logging.Formatter('%(asctime)s %(message)s')
    fileHandler = logging.FileHandler('mylog.log')
    fileHandler.setLevel(logging.DEBUG)
    fileHandler.setFormatter(formatter)
    logger.addHandler(fileHandler)

    logger.critical(""before setting Level on logger, effective level = {}"".format(
            logger.getEffectiveLevel()))


    #THIS WON'T BE logged becuse logger level is WARN
    # and DEBUG < WARN
    logger.debug('logging debug before setting debug level')

    logger.setLevel(logging.DEBUG)

    logger.critical(""after setting Level on logger, effective level = {}"".format(
            logger.getEffectiveLevel()))


    #THIS WILL BE logged in mylog.log because DEBUG >= DEBUG
    logger.debug('logging debug after setting debug level')

    fileHandler.setLevel(logging.CRITICAL)


    #THIS WON'T BE logged in mylog.log because fileHandler level is CRITICAL--->
    # and DEBUG < CRITICAL
    logger.debug(""this won't be printed in mylog.log"")


    #THIS WILL BE logged in mylog.log BECAUSE CRITICAL >= CRITICAL--->
    logger.critical(""logging at critical level"")
"
6328,82019,Is there a way to populate a form with a querystring?,"from django.http import QueryDict
form = Myform(QueryDict(my_model.querystring).dict())
"
18802,24432,Checkbox menu items in wxPython,"def OnBoxChecked(self, event):
    if self.HideToolbarMenuItem.IsChecked():
        self.statusbar.SetStatusText('Checked')
    else:
        self.statusbar.SetStatusText('Not Checked')
"
4513,41406,Setuptools platform specific dependencies,"import platform

setup_requires = ['foo', 'bar']

if platform.system() == 'Windows':
    setup_requires.append('pyreadline')

setup(
    # ...
    setup_requires=setup_requires,
)
"
28733,50156,How to get a set of unique values from many lists efficiently (Python),"import glob

id_set = set()
for filename in glob.glob('C://Folder_with_all_txt_files/*'):
    with open(filename) as f:
        ids = f.read().split()
        id_set.update(ids)
"
8271,14308,Python pyCrypto RSA encrypt method gives same results using private or public key,">>> publicKey.decrypt(enc2)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/usr/local/lib/python2.7/site-packages/pycrypto-2.6-py2.7-linux-x86_64.egg/Crypto/PublicKey/RSA.py"", line 174, in decrypt
    return pubkey.pubkey.decrypt(self, ciphertext)
  File ""/usr/local/lib/python2.7/site-packages/pycrypto-2.6-py2.7-linux-x86_64.egg/Crypto/PublicKey/pubkey.py"", line 93, in decrypt
    plaintext=self._decrypt(ciphertext)
  File ""/usr/local/lib/python2.7/site-packages/pycrypto-2.6-py2.7-linux-x86_64.egg/Crypto/PublicKey/RSA.py"", line 239, in _decrypt
    mp = self.key._decrypt(cp)
  File ""/usr/local/lib/python2.7/site-packages/pycrypto-2.6-py2.7-linux-x86_64.egg/Crypto/PublicKey/_slowmath.py"", line 52, in _decrypt
    raise TypeError(""No private key"")
TypeError: No private key
"
26649,44009,Object types and accessing nested values,"print event['creator']['displayName']
"
3620,84327,login function using sqlite in python,"def userlogin(self, ID, password):
        try:
            statement = conn.execute('SELECT ID FROM USERS')

            for row in statement:
                if ID in row:  # compare one by one
                    print ""%d"" % ID
                    pas = conn.execute('SELECT PASSWORD FROM USERS WHERE ID = %d' % (ID))

                    if password in pas:
                        print ""welcome user %d"" % ID

                    else:
                        print ""password incorrect!"" # ID is matched
                    conn.close()
                    return 
            print ""Incorrect ID! If you are not a user, please register here.""
        except IOError:
                print ""Select statement could not execute!""
        finally:
                conn.close()
"
37236,57881,How to print a signed integer as hexadecimal number in two's complement with python?,">>> x=-123
>>> hex(((abs(x) ^ 0xffff) + 1) & 0xffff)
'0xff85'
"
25724,49693,Using writerow with numbers,"def write_to_file(file_name, n_t_argument):
    with open(file_name + '.txt', 'a', newline='') as outputfile:
        wrtr  = csv.writer(outputfile, dialect = 'excel-tab')
        wrtr.writerow(n_t_argument)
"
27512,38182,Storing multiple arrays in Python,"from random import randint    

mcworks = []

for n in xrange(NUM_ITERATIONS):
    mctest = [randint(0, 100) for i in xrange(5)]
    if sum(mctest[:3])/3 == mcavg[2]:
        mcworks.append(mctest) # mcavg is real data
"
24664,6108,Remove a sublist from a list in which the numbers alreadys exist in another sublist,"l = [[0, 4], [0, 4, 5, 7], [1, 2, 3, 6], [1, 3], [2, 6], [5, 7]]
final = l[:]

for m in l:
    for n in l:
        if set(m).issubset(set(n)) and m != n:
            final.remove(m)
            break   
print final

output: 
[[0, 4, 5, 7], [1, 2, 3, 6]]
"
14764,25134,Where can I find the PYMSSQL Module with a .py extension?,"python -m pip install pymssql
"
6989,63643,Python for loop access two elements at a time,"for i in range(0,len(list1),2):
    name = list1[i]
    tag = list1[i+1]
    print '<tag name=""%s"">%s</tag>' % (name, tag)
"
31956,53923,writing a pytest function to check outputting to a file in python?,"def writetoafile(fname):
    with open(fname, 'w') as fp:
        fp.write('Hello\n')

def test_writetofile(tmpdir):
    file = tmpdir.join('output.txt')
    writetoafile(file.strpath)  # or use str(file)
    assert file.read() == 'Hello\n'
"
9756,68397,"PyMongo, handling fields with time relative to the database time","db = con['test']            
test = db.test
test.update({}, { 
    '$currentDate': {
        'creation_time': { '$type': 'timestamp' }
    }
},upsert=True)
"
1370,7715,How to pass variable from render in web.py to def in mako,"warp = db.warps.find('player' : query).sort(u'player', 1)
"
6130,83024,Python regex replace backslash or frontslash,">>> string = r'C:\Users\Victor\Dropbox\Private\files\test.txt'
>>> string
'C:\\Users\\Victor\\Dropbox\\Private\\files\\test.txt'
>>> print string
C:\Users\Victor\Dropbox\Private\files\test.txt
"
11807,58966,Convert a very large base n number to bytes,">>> math.pow(8,342)
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
OverflowError: math range error

>>> 8**342
719077253944926363091722076315609893447190791576922629093720324630930703222003852530833909289630144084480455519485573430635159075257666489971389722557896497511071573699461941105208878404984376477812331808340023075352602729369851525895652442163308948653402042738345192959788983753918865219341425318496896548864L
"
10049,47300,How can I change the folder where a file is created in python?,"import os
open(os.path.join(os.path.abspath(__file__),'..','scraping.txt'),'w')
"
25863,30850,How to refine a python script for a bioinformatics query,"if query[position -3: position] == database[position -3: position] and query[position +1: position +3] == database[position +1: position +3]:
   # Do something
"
27215,17695,Why does this pandas groupby object have all these extra groups?,"In [9]: df[['cuepos', 'targetpos', 'soa']].drop_duplicates()
Out[9]: 
     cuepos  targetpos        soa
0         2          2   0.400000
1         2          1   0.400000
2         1          1  -0.100000
3         1          1   0.400000
4         1          2  -0.100000
5         1          1   0.100000
8         2          2  -0.100000
12        1          2   0.400000
18        2          2   0.100000
24        2          1  -0.100000
52       85         85  85.689698
77       -3         -3  -3.265563
117     -83        -83 -83.869535
133      11         11  11.225720
26      -88        -88 -88.206486
31      -48        -48 -48.634430
34       63         63  63.157160
55       85         85  85.841413
80      -61        -61 -61.812236
86      -61        -61 -61.891543
89       87         87  87.215989
92       80         80  80.226447
94       58         58  58.204967
126      71         71  71.912378
128      60         60  60.154749
132       8          8   8.476819
139      65         65  65.626850
141      54         54  54.554612
11      -61        -61 -61.800551
39      -33        -33 -33.771084
46       76         76  76.373127
52      -37        -37 -37.064064
55      -44        -44 -44.847510
60      -70        -70 -70.332081
62       61         61  61.735423
63       75         75  75.201113
69       58         58  58.845140
94      -79        -79 -79.815161
109     -29        -29 -29.062383
111     -51        -51 -51.356056
117     -83        -83 -83.879358
123      21         21  21.075946
135     -31        -31 -31.183030
143       6          6   6.928400
4       -17        -17 -17.511389
11       57         57  57.490227
18      -88        -88 -88.447288
36       78         78  78.397278
39      -14        -14 -14.673170
42       52         52  52.107845
49      -87        -87 -87.773396
50       60         60  60.495264
71       33         33  33.756600
74      -61        -61 -61.969217
84       18         18  18.548979
85       -8         -8  -8.475269
98      -59        -59 -59.815514
101     -80        -80 -80.384548
114     -39        -39 -39.031321
119      71         71  71.873576
121     -86        -86 -86.863720
128      68         68  68.729972
130     -34        -34 -34.233129
140      82         82  82.759221
0       -75        -75 -75.839334
15       67         67  67.326223
34      -57        -57 -57.679345
35      -74        -74 -74.535290
42      -48        -48 -48.026567
67       85         85  85.191812
75       72         72  72.877565
80       -7         -7  -7.484698
99       -9         -9  -9.389620
118     -44        -44 -44.208168
130      73         73  73.235472
143      58         58  58.442172
56       22         22  22.364050
67      -85        -85 -85.505145
95       60         60  60.621240
109      54         54  54.220262
111      87         87  87.809107
112     -81        -81 -81.435704
114      71         71  71.640124
119     -22        -22 -22.176304
120      27         27  27.977155
121      56         56  56.923978
128      57         57  57.820305
133      22         22  22.101345
11       61         61  61.882729
13       58         58  58.591805
28       57         57  57.156343
78      -80        -80 -80.706399
80       49         49  49.592969
81      -37        -37 -37.092464
101     -36        -36 -36.895517
124      17         17  17.272663
128      51         51  51.094356
137     -89        -89 -89.411393
140     -64        -64 -64.180244
36       -8         -8  -8.871026
44      -73        -73 -73.103972
47       -9         -9  -9.281091
49       -2         -2  -2.842961
51       87         87  87.608103
85       24         24  24.658481
90      -53        -53 -53.910388
98       82         82  82.385620
120      79         79  79.276744
127     -43        -43 -43.971857
130      13         13  13.949059
"
24178,13042,Get row count in MySQLdb,"cursor.execute(""SELECT COUNT(DISTINCT provider_id) FROM main_iteminstance"")
"
23510,1562,How to simulate a real keyboard's keypress in Python/PyQt?,"QKeyEvent *event = new QKeyEvent ( QEvent::KeyPress, Qt::Key_Enter);
QCoreApplication::postEvent (receiver, event);
"
34305,74037,Sort list from a specific index value in python,"al[2:] = sorted(al[2:])
"
896,23456,Python: Add to Include Path on the Command Line,"PYTHONPATH=lib/ python test/my-test.py
"
19690,28899,pygtk how to update gtk.Image,"import pygtk
pygtk.require('2.0')
import gtk

pics = []
clicks = 0

def on_destroy (widget):
    gtk.main_quit()
    return False

def on_button_clicked (widget, image):
    global clicks
    clicks += 1
    image.set_from_pixbuf (pics[clicks % len(pics)])

def create ():
    window = gtk.Window(gtk.WINDOW_TOPLEVEL)
    window.connect(""destroy"", on_destroy)

    pics.append (gtk.gdk.pixbuf_new_from_file(""sample1.png""))
    pics.append (gtk.gdk.pixbuf_new_from_file(""sample2.png""))

    image = gtk.Image()
    image.set_from_pixbuf(pics[0])

    button = gtk.Button (""Switch Image"")
    button.connect(""clicked"", on_button_clicked, image)

    vbox = gtk.VBox()
    vbox.pack_start (image)
    vbox.pack_start (button)

    window.add(vbox)
    window.show_all()

if __name__ == ""__main__"":
    create()
    gtk.main()
"
33487,26836,SQLAlchemy: Use a function to determine what results a query returns,"from sqlalchemy.ext.hybrid import hybrid_method

class Foo(base):
    foo_id = Column(Integer, primary_key=True)
    foo_data = Column(String(255))

    @hybrid_method
    def check_foo(self):
        return self.foo_data == 'foo'

    @check_foo.expression
    def check_foo(cls):
        return cls.foo_data == 'foo'

session.query(Foo).filter(Foo.check_foo()).all()
"
1290,18217,Python Tree Recursion,"class Tree:
    def __init__(self, cities, n=0):
        self.branches = dict()
        if len(cities) == 1:
            nc = list(cities)  # create a working list
            # grab the nth element of the list, default to head
            # Stash that as the node value
            self.node = nc[n]
            print ""Complete!""
        elif len(cities) == 0:
            print ""Doubly Complete!""
        else:
            nc = list(cities)  # create a working list
            # grab the nth element of the list, default to head
            # Stash that as the node value
            self.node = nc[n]
            print self.node
            del nc[n]  # Pop off the nth value from the list
            print ""deleted city! See?""
            print nc
            c = 0  # create a counter
            for a in nc:  # loop through the remaining cities
                self.branches[a] = Tree(nc, c)  # generate a new tree
                c += 1  # increase the counter

    def __repr__(self, tier=1):
        ret = (""\t"" * tier)
        ret += self.node
        ret += ""\n""
        for a in self.branches:
            ret += self.branches[a].__repr__(tier+1)
        return ret

    __str__ = __repr__

t = Tree([""SLC"", ""Ogden""], 1)
print t
"
29117,16500,python look-and-say sequence improved,"def seq(a):
    a = str(a)
    k,last,result = 1,a[0],''
    for i in range(1,len(a)):
        if last==a[i]:k+=1
        else:
            result = result+str(k)+last
            k=1
        last = a[i]
    result = result+str(k)+last
    return result
"
25311,30362,get JSON var value in python,"import json
import re

var = '''var myVar  =  { a: ""123"",b:""345"", c: {c1:20,c2:""c123"", c3: {c3_1: {c3_1_1:""12""}}}, d:21, e:['1','2']}'''
v = var[var.index('{'):]
v = re.sub(r'(\w*):', r'""\1"":', v)
v = v.replace('\'', '\""')

>>> v
'{ ""a"": ""123"",""b"":""345"", ""c"": {""c1"":20,""c2"":""c123"", ""c3"": {""c3_1"": {""c3_1_1"":""12""}}}, ""d"":21, ""e"":[""1"",""2""]}'
>>> json.loads(v)
{u'a': u'123', u'c': {u'c3': {u'c3_1': {u'c3_1_1': u'12'}}, u'c2': u'c123', u'c1': 20}, u'b': u'345', u'e': [u'1', u'2'], u'd': 21}
"
15342,49724,Bulk renaming of files based on lookup,"#!/usr/bin/env python

import os

# A dict with keys being the old filenames and values being the new filenames
mapping = {}

# Read through the mapping file line-by-line and populate 'mapping'
with open('mapping.txt') as mapping_file:
    for line in mapping_file:
        # Split the line along whitespace
        # Note: this fails if your filenames have whitespace
        new_name, old_name = line.split()
        mapping[old_name] = new_name

suffix = '_full'

# List the files in the current directory
for filename in os.listdir('.'):
    root, extension = os.path.splitext(filename)
    if not root.endswith(suffix):
        # File doesn't end with this suffix; ignore it
        continue
    # Strip off the number of characters that make up suffix
    stripped_root = root[:-len(suffix)]
    if stripped_root in mapping:
        os.rename(filename, ''.join(mapping[stripped_root] + suffix + extension))
"
3173,14420,Python: skip lines of programming based on a condition in a while loop?,"    run=0
    while True:
            i+=1
            pax[i]=random.randint(1,5)
            TOTALPAX+=pax[i]
            TIME+=between[i]
            queue+=pax[i]
            if quepax>15 and run=0:
                R=i-1
                run=1
            if TIME>=4800:
            break
"
28012,40266,change python executable to the one installed by brew on mac for virtualenv," $ virtualenv --help
Usage: virtualenv [OPTIONS] DEST_DIR

Options:
  ...
  -p PYTHON_EXE, --python=PYTHON_EXE
                        The Python interpreter to use, e.g.,
                        --python=python2.5 will use the python2.5 interpreter
                        to create the new environment.  The default is the
                        interpreter that virtualenv was installed with
                        (/usr/bin/python)
"
15911,60643,Python: create mask from two arrays,">>> values = [  1.,   2.,   3.,   4.,   5.,   6.,   7.,   8.,   9.,  10.]
>>> wanted = [  1.,   4.,   7.,  10.]
>>> mask = np.in1d(values, wanted)
>>> mask
array([ True, False, False,  True, False, False,  True, False, False,  True], dtype=bool)
>>>
"
36688,44455,"Python, how do we concatenate two lists with a specific format then sum like elements?",">>> alist = [1,4,1,2,1]
>>> blist = [6,7,8,9,5]
>>> d = {}
>>> for a,b in zip(alist, blist):
...     d[a] = d.get(a, 0) + b
... 
>>> [d[x] for x in sorted(d)]
[19, 9, 7]
"
36693,21962,Avoiding using globals in python,"def main():
    # calculate something
    num1, num2 = randomNumbers()
    # calculate something else

def randomNumbers():
    # calculate something
    return num1, num2
"
10087,43976,Converting old function-based generic CRUD views to the new style class-based generic CRUD views,"class DomainCreateView(CreateView):
    """"""
    Creates a Domain
    """"""
    form_class = DomainForm
    template_name = 'customer/create_domains.html'
    success_url = reverse_lazy('manage_domains')

    @method_decorator(login_required)
    @method_decorator(only_managers_allowed)
    def dispatch(self, *args, **kwargs):
        """"""
        The Dispatcher
        """"""
        return super(DomainCreateView, self).dispatch(*args, **kwargs)

    def form_valid(self, form):
        """"""
        Validate and save the form
        """"""
        company = self.request.user.get_profile().company
        self.object = form.save(company)
        return super(ModelFormMixin, self).form_valid(form)


class DomainDeleteView(DeleteView):
    """"""
    Deletes a Domain
    """"""
    model = Domain
    template_name = 'customer/delete_domains.html'
    success_url = reverse_lazy('manage_domains')

    @method_decorator(login_required)
    @method_decorator(only_managers_allowed)
    def dispatch(self, *args, **kwargs):
        """"""
        The Dispatcher
        """"""
        return super(DomainDeleteView, self).dispatch(*args, **kwargs)
"
10163,84097,"Parsing for text under specific tags in HTML, Python","soup = BeautifulSoup(data)

for row in soup.find_all('tr'):
    grade = row.select('th strong')
    name = row.select('td label')
    if grade and name:
        print grade[0].text, name[0].text
"
13505,81311,Django: How to get Form field descriptions to show inside the text/entry box and not outside of it? (pic inside),"from django import forms

class ExampleForm(forms.Form):
  name = forms.CharField(label='name', widget=forms.TextInput(attrs={'placeholder': 'Please enter your name'}))
"
2725,75973,List all active multithreading.Timer objects,">>> t = threading.Timer(30, foo, kwargs = d)
>>> t.start()
>>> t.isAlive()
True
>>> for thing in threading.enumerate():
    if isinstance(thing, threading._Timer):
        thing.cancel()


>>> t.isAlive()
False
>>> 
"
36441,55687,How to setup for jQuery-File-Upload? How to implement the upload handler?,"@app.route(""/uploads"", methods=[""GET"", ""POST""])
def upload_handler():
    # Handle the upload here
    pass
"
37354,81601,MySQLdb connection error with localhost with different port (eg. 8080),"connect(parameters...)


    host
        name of host to connect to. Default: use the local host via a UNIX socket (where applicable)
    user
        user to authenticate as. Default: current effective user.
    passwd
        password to authenticate with. Default: no password.
    db
        database to use. Default: no default database.
    port
        TCP port of MySQL server. Default: standard port (3306).
"
26856,54667,pass session cookies in http header with python urllib2?,"with requests.session() as s: 
    s.post(url, data=user_data)
    r = s.get(url_2)
"
22243,50802,django - render a file of a model to template,"<p><a href=""/ads/{{each_ad.file_pdf}}"" target=""_blank"">{{each_ad.file_pdf.name}}</a></p>
"
33426,56030,Does Python IDLE support sticky folder locations on File | Open?,"cd D:/my_favorite_scripts
python C:/Python27/Lib/idlelib/idle.py
"
735,2205,How to store a queryset in django session for pagination,"import pickle

# Session key
key = 'my_qs'

# Pizza => model example
qs = Pizza.objects.filter(ingredient='tomato')
# Dumping data
request.session[key] = pickle.dumps(qs.query)

# Loading data
pizzas = Pizza.objects.all()[:1]
pizzas.query = pickle.loads(request.session[key])

# Using qs
for pizza in pizzas:
print(pizza.ingredient)
"
14495,22174,Python (Matplotlib) - Tick marks on ternary plot,"from __future__ import division
import matplotlib.pyplot as plt
import numpy as np

def plot_ticks(start, stop, tick, n):
    r = np.linspace(0, 1, n+1)
    x = start[0] * (1 - r) + stop[0] * r
    x = np.vstack((x, x + tick[0]))
    y = start[1] * (1 - r) + stop[1] * r
    y = np.vstack((y, y + tick[1]))
    plt.plot(x, y, 'k', lw=1)

n = 10
tick_size = 0.2
margin = 0.05

# define corners of triangle    
left = np.r_[0, 0]
right = np.r_[1, 0]
top = np.r_[0.5, 3**0.5 / 2]
triangle = np.c_[left, right, top, left]

# define vectors for ticks
bottom_tick = tick_size * (right - top) / n
right_tick = tick_size * (top - left) / n
left_tick = tick_size * (left - right) / n

plt.plot(triangle[0], triangle[1], 'k', lw=2) 
plot_ticks(left, right, bottom_tick, n)
plot_ticks(right, top, right_tick, n)
plot_ticks(left, top, left_tick, n)
plt.axis([left[0]-margin, right[0]+margin, left[1]-margin, top[1]+margin])
plt.gca().set_aspect('equal', adjustable='box')
plt.show()    
"
34674,61907,How to extract vendor data using scapy from a probe request,"dot11elt = p.getlayer(Dot11Elt)
while dot11elt and dot11elt.ID != 221:
    dot11elt = dot11elt.payload.getlayer(Dot11Elt)
if dot11elt:
    ...  # dot11elt.ID == 221:
"
15511,83797,Converting a script from rpy to rpy2 using rpy2.rpy_classic,"from rpy2.robjects.packages import importr
from rpy2.robjects import r

lib=importr('<libname>')
rfunc=r(""""""
  function(x,a={options.a},b={options.b})  {{
    ... 
    *R code here* 
    ...
    l<-list(o=o,md=a+b) 
    l
  }}"""""".format(options=options))

out = rfunc(<python expression>).rx2('o')
"
12953,80805,Merge multiple data frames with different dimensions using Pandas,"import pandas as pd

df1 = pd.DataFrame({'head1': ['foo', 'bix', 'bar'],'val': [11, 22, 32]})
df2 = pd.DataFrame({'head2': ['foo', 'xoo', 'bar','qux'],'val': [1, 2, 3,10]})
df3 = pd.DataFrame({'head3': ['xoo', 'bar',],'val': [20, 100]})

df1 = df1.set_index('head1')
df2 = df2.set_index('head2')
df3 = df3.set_index('head3')


df = pd.concat([df1, df2, df3], axis = 1)

columns = ['head1', 'head2', 'head3']
df.columns = columns

print(df)

     head1  head2  head3
bar     32      3    100
bix     22    NaN    NaN
foo     11      1    NaN
qux    NaN     10    NaN
xoo    NaN      2     20
"
31666,43886,Sum elements of array using condition on indexes - Python,">>> from itertools import compress
>>> sum(compress(list1, list2))
17
"
2804,30713,Nested ifs to get values from different column,"print df

   ID col1 col2 col3 col4
0   1   A1   A1   A1   A1
1   2  NaN   G3  NaN   D5
2   3   R6  NaN  NaN  NaN
3   4  NaN  NaN  NaN  NaN
4   5  NaN   M5   N8  NaN

def f1(x):
    if x.first_valid_index() is None:
        return 'Not_found'
    else:
        return str(x.first_valid_index())

def f2(x):
    if x.first_valid_index() is None:
        return 'Not_found'
    else:
        return x[x.first_valid_index()]


df['status'] = df.ix[:, df.columns.tolist().index(""col1"") :].apply(f1, axis=1)

df['final_col'] = df.ix[:, df.columns.tolist().index(""col1"") :].apply(f2, axis=1)

print df

   ID col1 col2 col3 col4     status  final_col
0   1   A1   A1   A1   A1       col1         A1
1   2  NaN   G3  NaN   D5       col2         G3
2   3   R6  NaN  NaN  NaN       col1         R6
3   4  NaN  NaN  NaN  NaN  Not_found  Not_found
4   5  NaN   M5   N8  NaN       col2         M5
"
33525,61162,python escaping an infinity loop of pyqt,"def main():
    while(Some Boolean Value):
        #Things you want to do in your loop
        if(Some Boolean Value):
            break
"
33649,10553,Python 3.5 convert values during re-write to new csv,"    import csv

# expected codes and their replacements
CODES = {
    '50': 'order now',
    '999': 'no order necessary',
    '500': 'order next month',
    'amount available': 'order timeline'
}

# you can multiple with statements in one
with open('input.csv', 'r') as fp_in, open('output.csv', 'w') as fp_out:
    reader = csv.reader(fp_in)
    writer = csv.writer(fp_out)

    for row in reader:
        val = row[2].strip() # deal with the weird spaces 
        val = CODES.get(val, val) # see if this is a known constant, and replace if exists
        row[2] = ' ' + val # add space back and insert back into row

        writer.writerow(row)
"
35392,77936,Python Close Shell with no popup,"import os

print (""Hello"")
print (""Press any key to exit"")
ex = raw_input ("""")
os._exit(0)
"
21292,66094,call external python script in same window,"import subprocess

p = subprocess.Popen('command', shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)
    for line in p.stdout.readlines():
        print line,
retval = p.wait()
"
30212,69567,Iterate through Groupby.unstack() items to make separate plots,"for col, data in afplot.iteritems():
    ax = data.plot(title='Amount of fungicides used on apples in the US'))
    ax.set_ylabel('Fungicide used / lb')
    plt.gcf().savefig('C:/Users/User/Documents/Work/Year 3/Project/Plots/apple_fplot{}'.format(col))
    plt.close()
"
741,25762,"How can I print the function head, including name, arguments, and docstring?","import inspect

def foo(arg1, arg2, arg3=None , *args, **kwargs):
    """"""This function is really cool.""""""
    return

def functionprinter(f):

    print(""{}{}"".format(f.__name__, inspect.signature(f)))
    print(inspect.getdoc(f))

functionprinter(foo)
"
33581,66566,How to not split English into separate letters in the Stanford Chinese Parser,"import re
pat = re.compile(""[A-Za-z]+"")
for sentence in text:
    sent_tokens = []
    prev_end = 0
    for match in re.finditer(pat, sentence):
        print match.start(0), match.end(0), match.group(0)
        chinese_part = sentence[prev_end:match.start(0)]
        sent_tokens += tokenize(chinese_part)
        sent_tokens.append(match.group(0))
        prev_end = match.end(0)
    last_chinese_part = sentence[prev_end:]
    sent_tokens += tokenize(last_chinese_part)
    print sent_tokens
"
26771,18890,Installing configobj for python 2.7,"pip install configobj
"
19805,21762,Python: Problems when calling outside function,"def confirm():
    while True:
        answer = raw_input('Are you sure? ')
        if answer == 'yes':
            return True
        if answer == 'no':
            return False
        else:
            continue # to reprompt user if the answer is not ""yes"" or ""no""

def your_name():
    while True:
        name = raw_input(""What is your name? "")
        if not name:
            continue # to reprompt user if they do not enter anything
        elif confirm():
            print 'Congratulations! You have a name!'
            break
your_name()
"
10704,11861,Tastypie dehydrate for models that have specific types of fields,"class MyModelResource(ModelResource):
    class Meta:
        # If `object_class` is omitted, it's value is taken from
        # `queryset`, so defining both is optional.
        object_class = MyModel
        queryset = MyModel.objects.all()

    def dehydrate(self, bundle):
        # `model_class` == `MyModel`
        model_class = self._meta.object_class

        fields_list = model_class._meta.fields
"
7519,72671,Python - splitting up many small txt files into a data structure to feed into mysql,"data = {}
# Parse file
data['id'] = id_value;
data['date'] = date_value;
# ... and so on
"
14575,20485,Reformatting Pandas dataframe?,"data_frame.reset_index(inplace=True)
"
4307,58602,Dict containing keys with lists of lists,"rec_lsts = orgi_dict['records']
new_dict = {}
for l_list in rec_lsts:
    new_dict[l_lst[0]] = l_lst[1:]
"
30480,43623,Extract substring that starts and ends with symbol and replace with variable in Python,">>> args = {
...     'name1': ""Alice"",
...     'name2': ""Bob"",
...     'date': datetime.datetime.now()
... }
>>> print ""Hi, my name is {name1}. Today is {date}"".format(**args)
Hi, my name is Alice. Today is 2015-10-20 01:21:36.020427
"
27106,81176,How to define flask-sqlalchemy objects on demand?,"db = SQLAlchemy()

#models here

def create_app():
    app = Flask(__name__)
    #db configuration
    db.init_app(app)
    return db
"
21649,2263,How to run N threads of the same functions with different parameters in parallel? - python,"from threading import Thread
from multiprocessing import Queue

def func1(x):
    return [i*i for i in x]

nums = [1,2,3,4,5,112,32,53,64,25]

def wrapper(func, qIn, qOut):
    for arg in iter(qIn.get, None):
        qOut.put(func(arg))

qIn, qOut = Queue(), Queue()
chunksize = len(nums)/numThreads
for i in xrange(numThreads):
    qIn.put(nums[i*chunksize : (i+1)*chunksize])
numThreads = 2  # or N
for _ in xrange(numThreads):
    qIn.put(None)
for _ in xrange(numThreads):
    Thread(target=wrapper, args=(func1, qIn, qOut)).start() 

for _ in xrange(numThreads):
    print qOut.get()
"
30627,29691,Set up a default exception handler when unable to locate an element in selenium?,"from selenium.webdriver import Firefox  
from selenium.webdriver.support.ui import WebDriverWait  

from selenium.common.exceptions import TimeoutException  
from selenium.common.exceptions import NoSuchElementException

class MyFirefox(Firefox):

    RETRIES = 3
    TIMEOUT_SECONDS = 10

    def find_element_by_id(self, id):
        tries = 0
        element = None

        while tries < self.RETRIES:
            try:
                element = WebDriverWait(self, self.TIMEOUT_SECONDS).until(
                    lambda browser: super(MyFirefox, browser).find_element_by_id(id)
                )   
            except TimeoutException:
                tries = tries + 1
                self.switch_to_window(self.window_handles[0])
                continue
            else:
                return element

        raise NoSuchElementException(""Element with id=%s was not found."" % id)
"
22852,30572,Enthought Canopy Editor. Reading documentation with TAB complete,"absolute?
"
13354,39377,Python Pandas Conditional Statement 2 Dataframes Diff Lengths,"import pandas as pd
import numpy as np

np.random.seed(0)
df = pd.DataFrame(np.random.randint(14, 65, 300000), columns=['Age'])

Out[74]: 
        Age
0        58
1        61
2        14
3        17
4        17
5        53
6        23
7        33
8        35
9        64
10       50
11       37
12       20
13       38
14       38
...     ...
299985   34
299986   50
299987   36
299988   35
299989   53
299990   18
299991   34
299992   32
299993   42
299994   24
299995   28
299996   16
299997   33
299998   19
299999   52

[300000 rows x 1 columns]

defT = pd.DataFrame(dict(AgeGrp=[1,2,3,4,5,6,7], MinAge=[14,19,22,25,35,45,55], MaxAge=[18,21,24,34,44,54,65]))

Out[76]: 
   AgeGrp  MaxAge  MinAge
0       1      18      14
1       2      21      19
2       3      24      22
3       4      34      25
4       5      44      35
5       6      54      45
6       7      65      55

# the age cut-off points
cutoff = np.hstack([np.array(defT.MinAge[0]), defT.MaxAge.values])
labels = defT.AgeGrp.values
# use pd.cut
df['Age_Group'] = pd.cut(df.Age, bins=cutoff, labels=labels, right=True, include_lowest=True)

%time df['Age_Group'] = pd.cut(df.Age, bins=cutoff, labels=labels, right=True, include_lowest=True)

CPU times: user 9.33 ms, sys: 111 µs, total: 9.44 ms
Wall time: 9.36 ms


Out[78]: 
        Age Age_Group
0        58         7
1        61         7
2        14         1
3        17         1
4        17         1
5        53         6
6        23         3
7        33         4
8        35         5
9        64         7
10       50         6
11       37         5
12       20         2
13       38         5
14       38         5
...     ...       ...
299985   34         4
299986   50         6
299987   36         5
299988   35         5
299989   53         6
299990   18         1
299991   34         4
299992   32         4
299993   42         5
299994   24         3
299995   28         4
299996   16         1
299997   33         4
299998   19         2
299999   52         6

[300000 rows x 2 columns]
"
33879,5518,How to test a Django model with pytest?,"class SettingsTest(TestCase):    
    def test_account_is_configured(self):
        assert 'accounts' in INSTALLED_APPS
        assert 'accounts.User' == AUTH_USER_MODEL


class UserTest(TestCase):
    def setUp(self):
        self.username = ""testuser""
        self.email = ""testuser@testbase.com""
        self.first_name = ""Test""
        self.last_name = ""User""
        self.password = ""z""

        self.test_user = User.objects.create_user(
            username=self.username,
            email=self.email,
            first_name=self.first_name,
            last_name=self.last_name
        )

    def test_create_user(self):
        assert isinstance(self.test_user, User)

    def test_default_user_is_active(self):
        assert self.test_user.is_active

    def test_default_user_is_staff(self):
        assert not self.test_user.is_staff

    def test_default_user_is_superuser(self):
        assert not self.test_user.is_superuser

    def test_get_full_name(self):
        assert self.test_user.get_full_name() == 'Test User'

    def test_get_short_name(self):
        assert self.test_user.get_short_name() == self.email

    def test_unicode(self):
        assert self.test_user.__unicode__() == self.username
"
26135,69564,Bullets not showing up when trying to fire in pygame,"import pygame, random, os, sys

pygame.init()
pygame.mixer.pre_init(441100, -16, 2, 2048)
pygame.mixer.init()

width = 640
height = 480

black = (  0,  0,  0)
white = (255,255,255)

playerimg = pygame.image.load(""images/shipup.png"")

class player: # Class for player ship
    def __init__(self, x, y, xc, yc, w, h, angle, img, lives, direc):
        self.x = x
        self.y = y
        self.xc = xc
        self.yc = yc
        self.w = w
        self.h = h
        self.img = img
        self.lives = lives
        self.angle = angle
        self.direc = direc

    def update(self):
        gameDisplay.blit(self.img, (self.x, self.y))
        self.x += self.xc
        self.y += self.yc

playership = player(10, 10, 0, 0, 30, 50, 0, playerimg, 3, ""up"")

bulletxc = 0
bulletyc = 0

class bullet: # Class for shooting bullets
    def __init__(self, x, y, xc, yc, w, h, img):
        self.x = x
        self.y = y
        self.xc = xc
        self.yc = yc
        self.w = w
        self.h = h
        self.img = img

    def update(self):
        gameDisplay.blit(self.img, (self.x, self.y))
        self.x += self.xc
        self.y += self.yc
        if playership.direc == ""right"": # Determines what direction to shoot
            bulletxc = 6
            bulletyc = 0
        if playership.direc == ""left"":
            bulletxc = -6
            bulletyc = 0
        if playership.direc == ""up"":
            bulletyc = -6
            bulletxc = 0
        if playership.direc == ""down"":
            bulletyc = 6
            bulletxc = 0

bulletlist = bullet(-33, -33, bulletxc, bulletyc, 5, 5, pygame.image.load(""images/bullet.png""))

gameDisplay = pygame.display.set_mode((width, height))
pygame.display.set_caption(""Asteroids"", ""Ast..."")
clock = pygame.time.Clock()

def mainloop():
    global bulletlist
    gameExit = False

    while not gameExit:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                quit()

                                                # Basic movements V
            elif event.type == pygame.KEYDOWN:
                if event.key == pygame.K_w:
                    playership.yc = -3
                    playership.img = pygame.image.load(""images/shipup.png"")
                    bulletyc = -6
                    bulletxc = 0

                if event.key == pygame.K_s:
                    playership.yc = 3
                    playership.img = pygame.image.load(""images/shipdown.png"")
                    bulletyc = 6
                    bulletxc = 0

                if event.key == pygame.K_d:
                    playership.xc = 3
                    playership.img = pygame.image.load(""images/shipright.png"")
                    bulletxc = 6
                    bulletyc = 0

                if event.key == pygame.K_a:
                    playership.xc = -3
                    playership.img = pygame.image.load(""images/shipleft.png"")
                    bulletxc = -6
                    bulletyc = 0

                if event.key == pygame.K_SPACE: # Here is where the bullet fires.
                    bulletlist = bullet(playership.x + 15, playership.y + 15, bulletxc, bulletyc, 5, 5, pygame.image.load(""images/bullet.png""))

            elif event.type == pygame.KEYUP:
                if event.key == pygame.K_w:
                    playership.yc = 0

                if event.key == pygame.K_s:
                    playership.yc = 0

                if event.key == pygame.K_d:
                    playership.xc = 0

                if event.key == pygame.K_a:
                    playership.xc = 0

        gameDisplay.fill(black)

        playership.update()
        bulletlist.update()

        if playership.x < 0: # Collisions against the sides of the screen.
            playership.x = -1

        if playership.y < 0:
            playership.y = -1

        if playership.x + playership.h > width:
            playership.x = width - playership.h

        if playership.y + playership.h > height:
            playership.y = height - playership.h

        pygame.display.update()
        clock.tick(60)


if __name__ == ""__main__"":
    mainloop()


pygame.quit()
quit()
"
20470,53262,generating tuples using n-lists with itertools.product,"def simpleSum(a=1,b=2):
    return a + b
simpleSum(**{'a':1,'b':2}) # returns 3
"
37441,8025,Not able to increment inside an array in python,"if serialIndex < 200: 
    serialBuffer[serialIndex] = serialData
    serialIndex += 1
"
1328,61605,How to download an image with querystring in it,">>> res=requests.get('http://musicimage.xboxlive.com/catalog/video.tvepisode.8D6KGWZK9B10/image?locale=en-CA&purposes=BoxArt')
>>> res
<Response [200]>
>>> open('file.jpg','w').write(res.content)
"
2605,13437,Python: sentence splitting produces a whitespace,""".\n"".join(i.strip() for i in a.split("".""))
"
15996,49168,Switch case variable print error python,"print ""Welcome to my World\n\n""
print ""Select your Race play\n""
print ""(1)Human\n(2)Elf\n(3)Orc\n(4)Undead\n\n""

char = input(""enter a number: "")

if (char == 1):
    print ""\nYou select race Human""
    out1 = ""Human""
elif (char == 2):
    print ""\nYou select race Elf""
    out1 = ""Elf""
elif (char == 3):
    print ""\nYou select race Orc""
    out1 = ""Orc""
elif (char == 4):
    print ""\nYou select race Undead""
    out1 = ""Undead""
else:
    print ""\nPlease Restart and select race!!""

print ""Perfect Choice "" + out1
print ""\n\nNow Select Race""
print ""(1)Mage\n(2)Archer\n(3)Warrior\n(4)Paladin\n""

race = input(""Please Select One Class From 1 to 4: "")

if (race == 1):
    print ""You select class Mage""
    out2 = ""Mage""
elif (race == 2):
    print ""You select class Archer""
    out2 = ""Archer""
elif (race == 3):
    print ""You select class Warrior""
    out2 = ""Warrior""
elif (race == 4):
    print ""you select class Paladin""
    out2 = ""Paladin""
else:
    print ""Restart and select class""

print ""\nNow You are a race %s and class %s"" % (out1, out2)
"
24208,61211,How to config apache reply for some request and not sent that for tornado,"<VirtualHost *:80>
    ServerName food.domain.com

    DocumentRoot /var/food
    ProxyPass /static !

    ProxyPass /  http://127.0.0.1:8004/ retry=0 acquire=3000 timeout=600 Keepalive=On

    ProxyPassReverse / http://127.0.0.1:8004/
    ProxyPreserveHost On

    <Directory /var/food/ >
            Options Indexes FollowSymLinks MultiViews
            AllowOverride All
            Order allow,deny
            allow from all
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/php.error.log
    LogLevel warn

    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
"
917,51786,Python: Using multiprocessing to partition a graph,"from multiprocessing import Pool, Queue


pool = Pool(6)
result_queue = Queue()
graphs=[graph]
intermediary_graphs[graph]

def work(graphs):
    if g.is_column():
        #append data from graph to another list
        map_columns.append(g.lengths)
        return
    l, r = g.split() 
    intermediary_graphs.append(l)
    intermediary_graphs.append(r)
    result_queue.put(l, r)

while graphs:
    pool.map(work, graphs)
    graphs = []
    while not result_queue.empty():
        graphs.append(result_queue.get())
"
32010,8416,jQuery AJAX plugins with Flask,"@app.route('/search')
def search():
    # If it's a GET request, the data will be provided as request.args.  In case
    # of POST or PUT you'll have to use request.data or request.json (depends on
    # how the plugin is sending the data).
    query = request.args.get('query')
    # Perform the search here.
    results = ...
    # What to return here depends on what the plugin expects, consult the docs
    # to figure this out.  Most likely it'll be some JSON encoded data structure.
    return jsonify(results=results)
"
38726,74944,tkinter entry assistance Python3,"start = len(entry.get()) - 1
entry.delete(start, END)
"
35459,74845,Generator returning Mocks that fail assert_called_with,"ProcessorMock.assert_called_with(vals[idx])
"
17881,69271,What is the best way to serialize a ModelForm object in Django?,"{% for field in form.fields %}
    <div class=""form-field"">{{ field }}</div>
{% endfor %}
"
33756,67098,split a file based on string,"import re
myre = re.compile(""(?<!:)//"")
uniprotFileList = myre.split(uniprotFileContent)
"
14990,56037,Why only one line goes to zero when several lines are plotted with semilogx function python,"zp1 = np.arange(0.00, 300, 0.01)
M1 = (ustar1/k)*np.log(zp1/z0)
"
19291,9372,Paramiko: how to ensure data is received between commands,"def issue_command(transport, pause, command):
    chan = transport.open_session()
    chan.exec_command(command)

    buff_size = 1024
    stdout = """"
    stderr = """"

    while not chan.exit_status_ready():
        time.sleep(pause)
        if chan.recv_ready():
            stdout += chan.recv(buff_size)

        if chan.recv_stderr_ready():
            stderr += chan.recv_stderr(buff_size)

    exit_status = chan.recv_exit_status()
    # Need to gobble up any remaining output after program terminates...
    while chan.recv_ready():
        stdout += chan.recv(buff_size)

    while chan.recv_stderr_ready():
        stderr += chan.recv_stderr(buff_size)

    return exit_status, stdout, stderr

ssh = paramiko.SSHClient()
ssh.load_system_host_keys()
ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
ssh.connect(host, port=22, username=username, password=password, timeout=3,)
transport = ssh.get_transport()
pause = 1    

resp1 = issue_command(transport, pause, cmd1)
resp2 = issue_command(transport, pause, cmd2)
"
2104,65464,datetime issue with xlrd & xlwt python libs,"import xlwt

# d can also be a datetime object
d = 40299.2501157407

wb = xlwt.Workbook()
sheet = wb.add_sheet('new')

style = xlwt.XFStyle()
style.num_format_str = 'DD-MM-YYYY'

sheet.write(5, 5, d, style)
wb.save('test_new.xls')
"
33116,12518,How to use encoding utf-8.py instead of cp1252.py in Python,"import io

with io.open('all.txt', 'r', encoding='utf8') as f_in:
    with io.open('all.out', 'w', encoding='utf8') as f_out:
        for line in f_in:
            if u""<title>"" in line:
                f_out.write(line)
"
30464,30786,python - cut a string in 2 lines,">>> import textwrap
>>> s  = ""Au Fil Des Antilles De La Martinique a Saint Barthelemy""
>>> textwrap.wrap(s, 30)
['Au Fil Des Antilles De La', 'Martinique a Saint Barthelemy']
>>> ""\n"".join(textwrap.wrap(s, 30))
'Au Fil Des Antilles De La\nMartinique a Saint Barthelemy'
"
28939,1146,Fast way to populate numpy array with multiple iterations of multiple numbers,"td = {}
for ii in range(100):
    td[ii] = 10000+ii

a = np.hstack([np.ones(td[aa])*aa for aa in td])
"
29680,8665,How to calculate the frequency of this python list?,"{
    'Hello': [1,5,10,8000]
    'World': [1,2,3,5,9]
    ...
}
"
31792,67447,"Can i make a group radiobutton as a group of pressed button, not as a group of circles with one point? (PyQt4)","from PyQt4 import QtCore, QtGui

class Window(QtGui.QWidget):
    def __init__(self):
        super(Window, self).__init__()
        layout = QtGui.QVBoxLayout(self)
        self.buttonGroup = QtGui.QButtonGroup(self)
        for text in 'One Two Three'.split():
            button = QtGui.QPushButton(text)
            button.setCheckable(True)
            layout.addWidget(button)
            self.buttonGroup.addButton(button)
        self.buttonGroup.buttonClicked.connect(self.handleButtons)

    def handleButtons(self, button):
        print('Button %s Clicked' % button.text())

if __name__ == '__main__':

    import sys
    app = QtGui.QApplication(sys.argv)
    window = Window()
    window.show()
    sys.exit(app.exec_())
"
7616,71523,"How to ""comma"" format the output of a django variable?","{% load humanize %}
{{ price|intcomma }}
"
39655,30830,How to capture a path in a url to serve files?,"@app.route('/uploads/<path:filename>')
def download_file(filename):
    return send_from_directory(app.config['UPLOAD_FOLDER'], path, as_attachment=True)
"
10011,41490,Appending in an empty list all the values of a dict key,"out_edges = G.out_edges(G, data= True)

for edge in out_edges:

    lat = []
    lon = []
    x = edge[0]
    y = edge[1]
    lat.append(x)
    lon.append(y)
    print lat
    print lon
"
22422,18235,How to set the path to a browser executable with python webbrowser,"from subprocess import call
call([""F:\\FirefoxPortable\\firefox.exe"", ""-new-tab"", url])
"
29851,72423,Convert a list with characters to a string (Python),">>> lst =  [72, 101, 108, 108, 111]
>>> str(bytearray(lst))
'Hello'
#or
>>> ''.join(chr(x) for x in lst)
'Hello'
"
38347,11046,Redis data lost when stopping service,"postRedisDB.flushall()
"
23932,77730,Scraping and navigating to links to get more info,"from urllib2 import urlopen

for row in table_1.find_all('tr'):
    tds  = row.find_all('td')
    # Get all the hrefs to make http request
    links = row.find_all('a').get('href')
    try:
        data = [td.get_text() for td in tds]
        for field,value in zip(columns, data):
            print(""{}: {}"".format(field, value))
        # For every href make a request, get the page,
        # create a BS object
        for link in links:
            link_soup = BeautifulSoup(urlopen(link))

            # Use link_soup BS instance to get the email 
            # by navigating the div and p and add it to your data

        table.append(data)
    except:
        print(""Bad string value"")
"
8718,61681,Summing Consecutive Ranges Pythonically,">>> sum(len(set(x - i for i, x in enumerate(t))) for t in nums)
7
"
1525,38289,Python: how to bitmask and compare mac address?,"dst[:5] == src[:5]
"
21176,47531,Can I search on a specific line with regex in Python?,"lines = data.split('\n')
a = re.search('regex', lines[3])
"
2142,63653,Python - Dynamic PHP-like arrays,"from collections import defaultdict
myarray = defaultdict(dict)
myarray[4][5] = 34
"
9792,7943,How can I hyperlink a method from a Python module in Sphinx?,":py:meth:`module.class.mymethodname`
"
35031,28780,Python Lists and Yielding,"for result in getLexicographicPermutationsOf(rest, state):
    yield result
"
1265,84070,How to get email address from LinkedIn using Flask-oauthlib?,"emailAddress = linkedInApp.get('people/~/email-address')
print emailAddress.data
"
37669,39632,how to get records for a day relative to timezone in django,"import pytz

entered_at = request.session['entered_at']
entered_at = datetime.strptime(entered_at, ""%m-%d-%Y"")
day_start = entered_at.replace(hour=00, minute=00)
day_end = entered_at.replace(hour=23, minute=59)

timezone = pytz.timezone(""America/Los_Angeles"")
day_start = timezone.localize(day_start)
day_end = timezone.localize(day_end)

entries = Entry.objects.filter(customer=customer, 
                               entered_at__lt=day_end, 
                               entered_at__gte=day_start)
"
28855,23440,Create a stack of polar plots using Matplotlib/Python,"from numpy import *
from mpl_toolkits.mplot3d import Axes3D
import matplotlib.pyplot as plt

n = 1000

fig = plt.figure()
ax = fig.gca(projection='3d')

for k in linspace(0, 5, 5):
    THETA = linspace(0, 2*pi, n)
    R     = ones(THETA.shape)*cos(THETA*k)

    # Convert to Cartesian coordinates
    X = R*cos(THETA)
    Y = R*sin(THETA)

    ax.plot(X, Y, k-2)

plt.show()
"
29610,29481,SQLAlchemy - subquery in a WHERE clause,"t = Session.query(
    Posts.user_id,
    func.max(Posts.post_time).label('max_post_time'),
).group_by(Posts.user_id).subquery('t')

query = Session.query(User, Posts).filter(and_(
    User.user_id == Posts.user_id,
    User.user_id == t.c.user_id,
    Posts.post_time == t.c.max_post_time,
))

for user, post in query:
    print user.user_id, post.post_id
"
23774,35602,Foreign keys in web2py database,"
>>> db.define_table('person',
                    Field('name'),
                    format='%(name)s')
>>> db.define_table('dog',
                    Field('name'),
                    Field('owner', db.person),
                    format='%(name)s')
"
20026,20605,Python find number steps to allocate values to elements in list,"packets=[]
flag=True
while(flag):
    packet=input()
    candies=[]
    if packet == -1:
        flag= False
    else:
        for i in range(0,packet):
            candy=input()
            candies.append(candy)
        packets.append(candies)
for candies in packets:
    count = 0
    sum_candy = sum(candies)
    length = len(candies)
    if sum_candy%length==0:
        for ele in candies:
            if ele > (sum_candy/length) :
                diff = ele -(sum_candy/length)
                count += diff
        print count
    else:
        print ""-1""`enter code here`
"
33177,33866,Not opening a specific text file in Python,"read_files = filter(lambda f : f != 'result.txt', glob.glob('*.txt'))
"
4890,7781,How can I write a non-stop crawler with python and run it on a server?,"import daemon
import time

def do_something():
    while True:
        with open(""/tmp/current_time.txt"", ""w"") as f:
            f.write(""The time is now "" + time.ctime())
        time.sleep(5)

def run():
    with daemon.DaemonContext():
        do_something()

if __name__ == ""__main__"":
    run()
"
16569,30139,Extracting values from SQLite database in Python,"c.execute('select * from stocks where price > ?', (50,))

c.execute('select * from stocks where price between ? and ?', (40, 70))

c.execute('select * from stocks where price > ? and symbol = ?', (50, 'IBM'))
"
6053,15165,Exscript control cisco execute 'reload' command,"def reload_start(self):
    self.enable()
    self.conn.set_prompt(r'Save\? \[yes/no\]\:')
    self.conn.execute('reload')
    self.conn.set_prompt(r'Proceed with reload\? \[confirm\]')
    self.conn.execute('no')
    self.conn.set_prompt()
    self.conn.execute('confirm')
    print self.conn.response
"
15629,49201,Django: Matching anything but forward slash in url?,"urlpatterns = [
    url(r'^books/(.*?)/availability/$', views.book_availability),
    url(r'^books/(.*?)/$', views.list_books),
]
"
19995,59159,Python 2.7: read from stdin without prompting,"while 1:
    rlist,_,_=select([sys.stdin],[],[],0)
    content=""""
    while rlist:
        content+=raw_input()
        rlist,_,_=select([sys.stdin],[],[],0)
    print ""blocking task - content:""+content
    time.sleep(5)
"
11031,53723,Returning 5 best cards containing a pair from a set of 7 playing cards using Python,"def __lt__(self, other):
    if not isinstance(other, Rank):  # or self.__class__ instead of Rank
        return NotImplemented
    return self.value < other.value
"
32853,41352,What is the equivalent of string.makestrans() for lists or dictionaries?,"intab = ['TBA', 'RIP', 'TGIF', 'FAQ']
outtab = ['To Be Announced', 'Rest In Peace', 
                     'Thank God It\'s Friday', 'Frequently Asked Questions']

translationtable = dict(zip(intab, outtab)) 
# {'TBA': 'To Be Announced', 'TGIF': ""Thank God It's Friday"", 'FAQ': 'Frequently Asked Questions', 'RIP': 'Rest In Peace'}                    
"
38441,62127,replace some tokens(strings) from a tex file with values from a dictionary in python?,"for line in infile:
            for key in json_obj:
                line = line.replace(key, json_obj[key])
                print line
            outfile.write(line)
"
19910,83208,Adding row in Pandas DataFrame keeping index order,"In [15]:

df=pd.DataFrame(np.zeros((100,2)), columns=['A', 'B'])
df['A']=np.nan
df['B']=np.nan
In [16]:

df.iloc[[0,1,2]]=pd.DataFrame({'A': [0,2,4,], 'B': [1,3,5]})
df.iloc[5]=[0,0]
df.iloc[3]=0
print df.dropna()
   A  B
0  0  1
1  2  3
2  4  5
3  0  0
5  0  0

[5 rows x 2 columns]
"
15797,41455,Python Epoch Fail with 2-digit year,"dt = datetime.datetime.strptime(dateVariable, ""%b-%y"")
if dt > datetime.now():
    dt = dt - datetime.timedelta(years=100)
"
25843,18042,GAE Python - How to attach the results of csv.writer to an email?,"message = mail.EmailMessage(sender=""Me <me@gmail.com>"",
        subject=""Shop Export"",
        attachments=[(""shops.csv"", self.response.body)])
"
32377,15654,Activating Python's optimization mode via script-level command-line argument,"if __debug__:
    import os
    import sys
    os.execv(sys.executable, ['python', '-O'] + sys.argv)
"
8041,57618,Project Euler 4 while loop issues,"def project_euler_problem_4():
x = 998001
while x > 10000:
    if x == int(str(x)[::-1]):
        y = 999
        while y > 100:
            if x % y == 0:
                print x
                print y
                print x/y
                break
            y = y -1
    x = x -1
"
39512,22032,"Counting tuples in a list, no matter the order of each element within the tuples","counter = Counter(tuple(sorted(tup)) for tup in your_list)
print counter
"
15252,85276,Having trouble running a python program on CMD on windows,"In [11]: run tt.py
Do you have the length of the password?y
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
C:\Program Files (x86)\ipython-0.12.1\IPython\utils\py3compat.py in execfile(fname, glob, loc)
    166             else:
    167                 filename = fname
--> 168             exec compile(scripttext, filename, 'exec') in glob, loc
    169     else:
    170         def execfile(fname, *where):

D:\Users\sp\Desktop\tt.py in <module>()
     16 stuff = lowercaseletters + uppercaseletters + numbers
     17
---> 18 if (input(""Do you have the length of the password?"") == 'y'):
     19     lengthstartingvalue = int(input(""Password length: ""))
     20 else:

D:\Users\sp\Desktop\<string> in <module>()

NameError: name 'y' is not defined
"
3828,32700,python date interval intersection,"return (t1start <= t2start <= t1end) or (t2start <= t1start <= t2end)
"
18946,57748,Condensing code in Python with Mappings,"mapping = {X1: Y1, X2: Y2, X3: Y3}
mapping[X4] = Y4
mapping[X5] = Y5

for X,Y in mapping.items():
    if Y is not None:
        obj[X][0] = Y
"
10734,73125,selenium: driver.close() from next function,"from scrapy import signals
from scrapy.xlib.pydispatch import dispatcher

class ProductSpider(Spider):
    name = ""debug1""
    start_urls = ['http://www.test.tw/in/5/']

    def __init__(self):
        self.driver = webdriver.Firefox()
        dispatcher.connect(self.close, signals.spider_closed)

    def close(self, spider):
        self.driver.quit()

    def parse(self, response):
        self.driver.get(response.url)
        WebDriverWait(self.driver, 10).until(EC.presence_of_element_located((By.CSS_SELECTOR, ""div.media-body"")))

    def spider_detail(self, spider):
        self.driver.close()      
"
28367,17341,"Python string concatation for Caesar cipher, comparable with Java code","def encrypt(encryptString, shift):
    shift = shift % 26 + 26
    stringList = list(encryptString)
    for eachCharacter in stringList:
        if eachCharacter.isalpha() == True:
            if eachCharacter.isupper() == True:
                eachCharacter = chr( ( ord('A') + ord(eachCharacter) - ord('A') + shift) % 26)
            else:
                eachCharacter = chr( ( ord('a') + ord(eachCharacter) - ord('a') + shift) % 26)

    encryptString = ''.join(stringList)
    return encryptString
"
15587,25486,Sum of tupled values in dictionary over several keys from 2 dicitonaries,"pres = {
    ""Reagan"": (1981, 8),
    ""Bush"": (1989, 4),
    ""Bill Clinton"": (1993,8),
}

unemploy = {
    1989:   (6682,  6359,   6205,   6468,   6375,   6577,   6495,   6511,   6590,   6630,   6725,   6667),
    1990:   (6752,  6651,   6598,   6797,   6742,   6590,   6922,   7188,   7368,   7459,   7764,   7901),
    1991:   (8015,  8265,   8586,   8439,   8736,   8692,   8586,   8666,   8722,   8842,   8931,   9198),
    1992:   (9283,  9454,   9460,   9415,   9744,   10040,  9850,   9787,   9781,   9398,   9565,   9557),
}


def avg_unemployment_for_pres_term(name):
    if pres.get(name) is None:
        return 0

    the_pres = pres[name]

    first_year = the_pres[0]
    last_year = first_year + the_pres[1]

    years = []

    for year in range(first_year, last_year):
        unemp_rates = unemploy.get(year, (0,))
        years.append(sum(unemp_rates)/len(unemp_rates))

    return sum(years) / len(years)


def avg_unemployment_for_pres_year(name, year):
    if pres.get(name) is None:
        return 0

    the_pres = pres[name]

    unemp_rates = unemploy.get(year, (0,))
    return sum(unemp_rates)/len(unemp_rates)


print avg_unemployment_for_pres_term(""Bush"")  # 7958
print avg_unemployment_for_pres_year(""Bush"", 1989)  # 6523
"
27038,12003,installing django 1.5(development version) in virtualenv,"pip install git+git://github.com/django/django.git@1.5b2
"
26191,21295,Simulate browser access to load all html elements,"import selenium.webdriver as webdriver

url = ""http://www.youtube.com/watch?v=OuSdU8tbcHY""

driver = webdriver.Firefox()
driver.get(url)

embed = driver.find_elements_by_tag_name('embed')[0]

print embed
"
842,76546,Using list defined in one function in another function. Python 2.7," options = get_options() #assuming the function that populates the options is called get_options
"
4504,78847,Skipping 0xff byte when using pandas read_csv,"# get the data as a python string
with open (""CM120102.CSV"", ""r"") as myfile:
    data=myfile.read()

# munge in python - get rid of the garbage in the input (lots of xff bytes)
import re
data = re.sub(r'[^a-zA-Z0-9_\.;:\n]', '', data) # get rid of the rubbish
data = data + '\n' # the very last one is missing?
data = re.sub(r';\n', r'\n', data) # last ; separator on line is problematic

# now let's suck into a pandas DataFrame
from StringIO import StringIO
import pandas as pd
df = pd.read_csv(StringIO(data), index_col=None, header=0,
    skipinitialspace=True, sep=';', parse_dates=True)
"
6676,53492,IndentationError: unindent does not match,"import random
def getAnswer(answerNumber):
     if answerNumber == 1:
           return 'It is certain'
     elif answerNumber == 2:
           return 'It is decidedly so'
     elif answerNumber == 3:
           return 'Yes'
     elif answerNumber == 4:
           return 'Reply hazy try again'
     elif answerNumber == 5:
           return 'Ask again later'
     elif answerNumber == 6:
           return 'Concentrate and ask again'
     elif answerNumber == 7:
           return 'My reply is no'
     elif answerNumber == 8:
           return 'Outlook not so good'
     elif answerNumber == 9:
           return 'Very doubtful'

r = random.randint(1, 9)
fortune = getAnswer(r)
print(fortune)
"
11996,27611,How to customize Model or Manager that change the data format in django?,"class Article(models.Model):
    slug = models.SlugField(""slug"")
    category = models.ForeignKey(Category,related_name='articles', help_text='foreigner key reference Category')
  -- more fields --

    def __str__(self):
        return self.title

    def get_absolute_url(self):
        return self.slug

    def save(self, *args, **kwargs):
        if not self.slug:
             self.slug = self.title.strip("" "").replace(' ','-')
        super(Article, self).save(self, *args, **kwargs)

    @property
    def get_title(self):
        """""" write python code for remove extra spaces so can can dispay your tile in html and call this method with instance when you want to print title """"""
        return new_title_without_extra_spaces
"
32622,25622,Python code to detect dark mode in OS X EI Capitan to change the status bar menu icon,"center = NSDistributedNotificationCenter.defaultCenter()
center.addObserver_selector_name_object_(self,""enableDarkMode"",'AppleInterfaceThemeChangedNotification',None)
"
9786,70070,Add recoding duration with pyaudio in Python,"import pyaudio, wave, sys

CHUNK = 8192
FORMAT = pyaudio.paInt16
CHANNELS = 1
RATE = 44100
RECORD_SECONDS = 10

WAVE_OUTPUT_FILENAME = 'Audio_.wav'
p = pyaudio.PyAudio()
stream = p.open(format=FORMAT,
                channels = CHANNELS,
                rate = RATE,
                input = True,
                input_device_index = 0,
                frames_per_buffer = CHUNK)

print(""* recording"")

frames = []
for i in range(0, int(RATE / CHUNK * RECORD_SECONDS)):
    data = stream.read(CHUNK)
    frames.append(data)
print(""* done recording"")

stream.stop_stream()
stream.close()
p.terminate()

wf = wave.open(WAVE_OUTPUT_FILENAME, 'wb')
wf.setnchannels(CHANNELS)
wf.setsampwidth(p.get_sample_size(FORMAT))
wf.setframerate(RATE)
wf.writeframes(b''.join(frames))
wf.close()
"
8000,1270,Python Keep points in spline interpolation,"# Interpolate the data using a cubic spline to ""new_length"" samples
new_length = 50
interpolated_x = np.linspace(x.min(), x.max(), new_length - len(x) + 2)
new_x = np.sort(np.append(interpolated_x, x[1:-1]))  # include the original points
new_y = sp.interpolate.interp1d(x, y, kind='cubic')(new_x)
"
4854,2854,Advanced Filtering in Tastypie,"class PostResource(ModelResource):
    class Meta:
        queryset = Post.objects.all()

    def get_object_list(self, request):
        this_users_posts = super(PostResource, self).get_object_list(request).filter(user=User.objects.get(user=request.user))
        all_the_posts_this_user_follows = super(PostResource, self).get_object_list(request).filter(follower=User.objects.get(user=request.user))

        return this_users_posts | all_the_posts_this_user_follows
"
23700,72049,Putting Packet.show() representation in string variable,">>> import sys
>>> from io import BytesIO
>>> from scapy.all import Ether, IP, ICMP, Net
>>> packets = Ether()/IP(dst=Net(""google.com/30""))/ICMP() 
>>> old_stdout, sys.stdout = sys.stdout, BytesIO()
>>> try:
...     packets.show()
...     output = sys.stdout.getvalue()  # retrieve written string
... finally:
...     sys.stdout = old_stdout  # Restore sys.stdout
... 
>>> output[:10]
'###[ Ether'
"
39398,46110,Can I extract schema information from empty Access tables with Python?,"# -*- coding: utf-8 -*-
import pyodbc
connStr = (
    r""Driver={Microsoft Access Driver (*.mdb, *.accdb)};""
    r""DBQ=C:\Users\Gord\Desktop\Test.accdb;""
    )
conn = pyodbc.connect(connStr)
crsr = conn.cursor()
table_list = [x[2] for x in crsr.tables() if x[3]=='TABLE']
for table_name in table_list:
    column_list = [x[3] for x in crsr.columns(table_name)]
    for column_name in column_list:
        print('[{0}].[{1}]'.format(table_name, column_name))
crsr.close()
conn.close()
"
34270,14007,how to merge 200 csv files in Python,"fout=open(""out.csv"",""a"")
# first file:
for line in open(""sh1.csv""):
    fout.write(line)
# now the rest:    
for num in range(2,201):
    f = open(""sh""+str(num)+"".csv"")
    f.next() # skip the header
    for line in f:
         fout.write(line)
    f.close() # not really needed
fout.close()
"
4012,4605,Plot a cube of 3D intensity data,"import numpy
import mayavi.mlab as mlab

# Create some random data
N = 20
x, y, z = numpy.mgrid[-5:5:20j, -5:5:20j, -5:5:20j]
val = numpy.random.random(z.shape)

# Plot and show in mayavi2
pts = mlab.points3d(x, y, z, val, scale_factor=.5,transparent=True)
mlab.show()
"
33160,10975,BeautifulSoup extract XPATH or CSS Path of node,"def get_element(node):
  # for XPATH we have to count only for nodes with same type!
  length = len(list(node.previous_siblings)) + 1
  if (length) > 1:
    return '%s:nth-child(%s)' % (node.name, length)
  else:
    return node.name

def get_css_path(node):
  path = [get_element(node)]
  for parent in node.parents:
    if parent.name == 'body':
      break
    path.insert(0, get_element(parent))
  return ' > '.join(path)

soup = bs4.BeautifulSoup('<div></div><div><strong><i>bla</i></strong></div>')
assert get_css_path(soup.i) == 'div:nth-child(2) > strong > i'
"
9280,57921,RegEx Repeating Capture Group,"import re
p = re.compile(ur'((UserID[0-9])\s+(UserName[0-9]+)\s+([0-9]{4}-[0-9]{2}-[0-9]{2}))')
test_str = u"" User ID              Name                                                         Last Activity Date     \n -------------------- ------------------------------------------------------------ -----------------------\nUserID1               UserName1                                                    2016-05-31\nUserID2               UserName2                                                    2016-05-31\nUserID3               UserName3                                                    2016-05-31""

re.findall(p, test_str)
"
26948,21688,Respond to Listctrl change exactly once,"import wx

class MyFrame(wx.Frame):
    def __init__(self, *args, **kwds):
        wx.Frame.__init__(self, *args, **kwds)
        self.list_ctrl_1 = wx.ListCtrl(self, -1, style=wx.LC_REPORT|wx.SUNKEN_BORDER)
        sizer_1 = wx.BoxSizer(wx.HORIZONTAL)
        sizer_1.Add(self.list_ctrl_1, 1, wx.EXPAND, 0)
        self.list_ctrl_1.InsertColumn(0,""1"")
        self.list_ctrl_1.InsertStringItem(0,""HELLO1"")
        self.list_ctrl_1.InsertStringItem(0,""HELLO2"")
        self.list_ctrl_1.InsertStringItem(0,""HELLO3"")
        self.list_ctrl_1.InsertStringItem(0,""HELLO4"")
        self.list_ctrl_1.InsertStringItem(0,""HELLO5"")
        self.list_ctrl_1.InsertStringItem(0,""HELLO6"")
        self.Bind(wx.EVT_LIST_ITEM_SELECTED, self.OnItemSelected, self.list_ctrl_1)
        self.Bind(wx.EVT_LIST_ITEM_DESELECTED, self.OnItemDeselected, self.list_ctrl_1)
        self.dirty = False
    def Cleanup(self, StringToPrint):
        print 'No Longer Dirty!'
        self.dirty = False

    def OnItemSelected(self,event):
        print str(self.__class__) + "" - OnItemSelected""
        if not self.dirty:
            self.dirty = True
            wx.CallAfter(self.Cleanup)
        event.Skip()

    def OnItemDeselected(self,event):
        print str(self.__class__) + "" - OnItemDeselected""
        if not self.dirty:
            self.dirty = True
            wx.CallAfter(self.Cleanup)
        event.Skip()

if __name__ == ""__main__"":
    app = wx.PySimpleApp(0)
    wx.InitAllImageHandlers()
    frame_1 = MyFrame(None, -1, """")
    app.SetTopWindow(frame_1)
    frame_1.Show()
    app.MainLoop()
"
1455,42805,Overwirting an instance (overwrite/copy self) in python,"def SomeClass(object):
    def __new__(cls, text):
        if isinstance(text, SomeClass):
            #return a copy of text. maybe..
            return copy.copy(text) 
        elif isinstance(text, basestring):
            #return a new instance. __init__ will handle the rest
            return super(SomeClass, cls).__new__(text)  
        else:
            raise TypeError

    def __init__(self, text):
        ....
"
31734,60965,Python compare strings ignore special characters,"In [32]: import string

In [33]: def compare(s1, s2):
    ...:     remove = string.punctuation + string.whitespace
    ...:     return s1.translate(None, remove) == s2.translate(None, remove)

In [34]: compare('Hai, this is a test', 'Hai ! this is a test')
Out[34]: True
"
13781,17274,"python call a command line which includes both ""echo"" and ""|""",">>> import subprocess
>>> e = 'echo ""perp -t ../data/ReviewTest.text | ./eva -b ../data/6.binlm'
>>> subprocess.call(e, shell=true)
"
26846,80892,How to find the screen size of two monitors using wx.displaySize(),"displays = (wx.Display(i) for i in range(wx.Display.GetCount()))
sizes = [display.GetGeometry().GetSize() for display in displays]
"
22892,44431,How to avoid duplicate legend labels in plotly or pass custom legend labels,"import plotly.plotly as py
from plotly.graph_objs import *
# Fill in with your personal username and API key
# or, use this public demo account
py.sign_in('Python-Demo-Account', 'gwt101uhh0')

trace1 = Scatter(
    x=[0, 1, 2],
    y=[1, 2, 3],
    name='First Trace',
    showlegend=False
)
trace2 = Scatter(
    x=[0, 1, 2, 3],
    y=[8, 4, 2, 0],
    name='Second Trace',
    showlegend=True
)
data = Data([trace1, trace2])
plot_url = py.plot(data, filename='show-legend')
"
32252,42923,Search list for number in range,"items = [1, 2, 3, 4, 5, 6, 7, 8, 9]

for item in items:
    if 5 <= item <= 10:
        print(item)
"
30122,79815,Can't exit Asynchronous Web.py Web Server,"#!/usr/bin/env python
# -*- coding: utf-8 -*-

import web
import threading

from time import sleep

class MyWebserver(threading.Thread):
    def run(self):
        urls = ('/', 'MyWebserver')
        app = web.application(urls, globals())
        app.run()

if __name__ == '__main__':
    t = MyWebserver()
    t.daemon = True
    t.start()
    while True:
        sleep(100)
"
26473,78147,What is the most efficient way to repeatedly use regular expressions in a Python loop?,"for line in file:
    data = re.search('(\d+\.\d+)\|(-\d+\.\d+)\|(.*?)\|(.*?)\|(\d+:\d+\s+\w+)\sTO\s(.*?)',line)
    groups = data.groups()
    # do the magic...
"
34316,53395,Django Celery change log file on run time,"celery -A proj worker -l info -f paht/to/yourfile.log
"
2373,47320,How can I extract email addresses from between '<' and '>'?,"import re
# matches everything which is between < and > (excluding them)
ptrn = re.compile(""<([^>]+)>"")
# findall returns ['email','email2']. Join concats them.
print '; '.join(ptrn.findall(""fname lname <email>; fname2 lname2 <email2>;""))
# email; email2
"
5257,17696,Pandas and sum and cum sum in same dataframe,"In [20]: df['asq_cum']=df['asq'].cumsum()

In [21]: df
Out[21]: 
     asq  asq_cum
asp              
0     20       20
1     20       40
"
10904,52782,How can I access the value of 'imageCaption' field of a ATNewsItem object?,"news_item_obj.getImageCaption()
"
3792,33903,Python Pandas: Passing Multiple Functions to agg() with Arguments,"df.groupby('A').agg([np.mean, lambda x: np.std(x, ddof=0)])
"
12885,61335,Python multiple file transfer over TCP sockets,"data = '' # contains last line of a read block if it didn't finish with \n
in_get, in_done, reading_file, ended = False, False, False, False
while not ended:
  if len(data) > 100:  # < update
    f.write( data )    # <
    data = ''          # <
  data += connection.recv(4096)
  i = data.find('\n')
  while i >= 0 and not ended:
    line = data[:i]
    data = data[i+1:]
    if in_get:
      filename = line
      reading_file = True
      f = open(filename,'wb')
      in_get = False
    elif in_done:
      if line != filename:  # done inside file content
        f.write( 'done\n' + line + '\n' )
      else:
        f.close()
        reading_file = False
      in_done = False
    else:
      if line == 'get' and not reading_file:
        in_get = True
      elif line == 'done':
        in_done = True
      elif line == 'end' and not reading_file:
        ended = True
        break;
      else:
        f.write( line + '\n' )
    i = data.find('\n')
"
12505,78375,Python3 - How to create a list from a string without breaking up the int,">>> my_string = ""12 21 3 9 21 19""
>>> a_new_list = my_string.split()
>>> print(a_new_list)
>>> [""12"", ""21"", ""3"", ""9"", ""21"", ""19""]
"
21985,37821,How can I prevent ImageChops.offset from wrapping data?,"from PIL import Image, ImageChops

x = Image.open('input.png')
width, height = x.size
c = ImageChops.offset(x, 10, 20)
c.paste((255, 255, 255), (0, 0, 10, height))
c.paste((255, 255, 255), (0, 0, width, 20))
c.save('output.png')
"
28060,17662,to keep a Tkinter widget on top of the others,"canvas.tag_raise(tile)
"
19252,81488,Static and instance methods in Python,"import functools

class static_or_instance(object):
  def __init__(self, func):
    self.func = func

  def __get__(self, instance, owner):
    return functools.partial(self.func, instance)

class C(object):
  @static_or_instance
  def a(self, arg):
    if self is None:
      print ""called without self:"", arg
    else:
      print ""called with self:"", arg

C.a(42)
C().a(3)
"
36459,40175,Change text inbetween tags - shell script,"awk '/<font /{intag=1}
     /<\/font>/{intag=0 ;br=0}
     intag==1 && /<br>/{br++}
     {print}
     br==1{print ""Foo""; getline}
     br==2{print ""Bar""; getline}' file
"
16437,3168,How to know which client is sending message to the server,"# in this example, current_id and recvd_event are global variables, since global variables
#  are generally considered a bad coding practice they also could be wrapped in a class and
#  passed in.

def multipleClients():
    conn, addr = s.accept()

    # the number of clients at this moment is unique, so we can use it as an id
    client_id = len(all_clients) 
    all_clients.append(conn)

    # .. do other stuff ..

    while True:
        if client_id == current_id:
            # receive, retransmit, etc..
            recvd_event.set()

def main():
    global current_id
    # .. set up server ..
    current_id = 0
    recvd_event = threading.Event()
    while True:
        # .. select incoming connection ..
            # .. create thread ..
        if recvd_event.isSet():
            # received a message, next thread's turn
            # increments current_id and wraps around at end of client list
            current_id = (current_id + 1) % len(all_clients)
            recvd_event.clear()
"
28540,20920,Is there a way to scrape Amazon Product Listing page using Python?,"$ curl -I 'http://www.amazon.com/gp/offer-listing/B007E84H96/ref=dp_olp_new?ie=UTF8&condition=new' 
HTTP/1.1 405 MethodNotAllowed
Date: Wed, 13 Feb 2013 16:41:08 GMT
Server: Server
x-amz-id-1: 1WKZG9N0SE87E3KFG6YV
allow: POST, GET
x-amz-id-2: Apluv2QBzzrmXlRWjlClRGsQQ1TbwsxObe2hxfdrGhO/OQziI/aIT3vkVjCPn+qz
Vary: Accept-Encoding,User-Agent
Content-Type: text/html; charset=ISO-8859-1
"
35069,72237,Add column to the end of Pandas DataFrame containing average of previous data,"In [68]:

summary_ave_data = df.copy()
summary_ave_data['average'] = summary_ave_data.mean(numeric_only=True, axis=1)
summary_ave_data
Out[68]:
                 Time         F7         F8         F9    average
0 2015-07-29 00:00:00  43.005593 -56.509746  25.271271   3.922373
1 2015-07-29 01:00:00  55.114918 -59.173852  31.849262   9.263443
2 2015-07-29 02:00:00  63.990762 -64.699492  52.426017  17.239096
"
29502,58480,Passing image object as a button background in Kivy,"from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.lang import Builder

Builder.load_string(""""""
<ButtonsApp>:
    orientation: ""vertical""
    Button:
        text: ""B1""
        Image:
            source: 'kivy.png'
            y: self.parent.y + self.parent.height - 250
            x: self.parent.x
            size: 250, 250
            allow_stretch: True
    Label:
        text: ""A label""
"""""")

class ButtonsApp(App, BoxLayout):
    def build(self):
        return self

if __name__ == ""__main__"":
    ButtonsApp().run()
"
10330,57356,Count the number of items in a dictionary inside a list as per the dictionary value,">>> my_list = [
 {
     id : 1,
     'name' : 'foo',
     'address' : 'here'
 },
 {
     id : 2,
     'name' : 'foo2',
     'address' : 'there'
  },
 {
     id : 3,
     'name' : 'foo3',
     'address' : 'there'
  },
]
>>> len([x for x in my_list if x['address'] == 'there'])
2
"
1730,37104,tornado testing @tornado.web.authenticated,"# encoding: utf-8
import os, os.path, sys
import tornado.web
import tornado.testing
import mox

class BaseHandler(tornado.web.RequestHandler):
    def get_login_url(self):
        return u""/login""

    def get_current_user(self):
        user_json = self.get_secure_cookie(""user"")
        if user_json:
            return tornado.escape.json_decode(user_json)
        else:
            return None

class HelloHandler(BaseHandler):
    @tornado.web.authenticated
    def get(self):
        self.render(""protected.html"")


class Protected(tornado.web.RequestHandler):
    def get_current_user(self):
        # get an user from somewhere
        return ""andy""

    @tornado.web.authenticated
    def get(self):
        self.render(""protected.html"")


class TestAuthenticatedHandlers(tornado.testing.AsyncHTTPTestCase):
    def get_app(self):
        self.mox = mox.Mox()
        app = tornado.web.Application([
            (r'/protected', Protected),
            (r'/hello', HelloHandler)
        ])
        return app

    def tearDown(self):
        self.mox.UnsetStubs()
        self.mox.ResetAll()

    def test_new_admin(self):
        self.mox.StubOutWithMock(Protected, 'get_current_user', use_mock_anything=True)
        Protected.get_current_user().AndReturn(""test_user"")
        self.mox.ReplayAll()
        resp = self.fetch('/protected')
        self.assertEqual(resp.code, 200)
        self.mox.VerifyAll()

    def test_hello_page(self):
        self.mox.StubOutWithMock(HelloHandler, 'get_current_user', use_mock_anything=True)
        HelloHandler.get_current_user().AndReturn(""test_user"")
        self.mox.ReplayAll()
        resp = self.fetch('/hello')
        self.assertEqual(resp.code, 200)
        self.assertIn( ""Hello"", resp.body )
        self.mox.VerifyAll()
"
17815,82323,"Where is documentation for the Python standard interpreter single underscore ""_"" builtin variable?","def displayhook(value):
    if value is None:
        return
    # Set '_' to None to avoid recursion
    builtins._ = None
    text = repr(value)
    try:
        sys.stdout.write(text)
    except UnicodeEncodeError:
        bytes = text.encode(sys.stdout.encoding, 'backslashreplace')
        if hasattr(sys.stdout, 'buffer'):
            sys.stdout.buffer.write(bytes)
        else:
            text = bytes.decode(sys.stdout.encoding, 'strict')
            sys.stdout.write(text)
    sys.stdout.write(""\n"")
    builtins._ = value
"
27428,15268,Display a list of user defined functions in the Python IDLE session,"import types
print [f for f in globals().values() if type(f) == types.FunctionType]
"
28265,34472,Numpy mean 'inplace',"sum = 0.
n = 0
correct_ans = np.argmax(test_y, axis=1)
returned_ans = self.predictor(test_x)
for c, r in zip(correct_ans, returned_ans):
    if c == r:
        sum += 1
    n += 1
avg = sum / n
"
2018,12044,Enumerating a grouped variable in Python,"In [44]:

df['dx_enum'] = df.groupby('patient_ID')['dx'].transform(pd.Series.cumsum)
df
Out[44]:
   patient_ID  dx  dx_enum
0       29847   0        0
1       29847   1        1
2       29847   0        1
3       29847   1        2
4       29847   1        3
"
25752,43223,Adding values for missing data combinations in Pandas,"import pandas as pd
import io

all_person_ids = [0, 1, 2]
all_statuses = ['pass', 'fail']
all_years = [1980, 1981, 1982]
df = pd.read_csv(io.BytesIO(""""""person_id   status    year    count
0           pass    1980    4
0           fail    1982    1
1           pass    1981    2""""""), delim_whitespace=True)
names = [""person_id"", ""status"", ""year""]

mind = pd.MultiIndex.from_product(
    [all_person_ids, all_statuses, all_years], names=names)
df.set_index(names).reindex(mind, fill_value=0).reset_index()
"
23185,14313,Comparing a string to multiple items in Python,"accepted_strings = {'auth', 'authpriv', 'daemon'}

if facility in accepted_strings:
    do_stuff()
"
5251,51090,Removing special characters from dictionary,">>> productDictionary={'': '34.8\r\n', 
  'Mozzarella di Giovanni\r\n': '34.8\r\n', 
   'Queso Cabrales\r\n': '14\r\n', 
   'Singaporean Hokkien Fried Mee\r\n': '9.8\r\n'
}

>>> productDictionary=dict(map(str.strip,x) for x in productDictionary.items()) 
>>> print productDictionary
>>>
{'': '34.8',
 'Mozzarella di Giovanni': '34.8',
 'Queso Cabrales': '14',
 'Singaporean Hokkien Fried Mee': '9.8'}
"
32740,65880,Best way to plot categorical data,"gender = ['male','male','female','male','female']

import matplotlib.pyplot as plt
from collections import Counter

c = Counter(gender)

men = c['male']
women = c['female']

bar_heights = (men, women)
x = (1, 2)

fig, ax = plt.subplots()
width = 0.4

ax.bar(x, bar_heights, width)

ax.set_xlim((0, 3))
ax.set_ylim((0, max(men, women)*1.1))

ax.set_xticks([i+width/2 for i in x])
ax.set_xticklabels(['male', 'female'])

plt.show()
"
5834,10475,Merging List after particular element,"ListA = [2,1,0]
ListB = [4,5,6]

# make a copy -- I'm assuming you don't want to modify ListA in the process.
new_list = ListA[:]
# insert ListB at a particular location.  I've arbitrarily chosen `1`
# basically this says to take the empty section of the list
# starting just before index 1 and ending just before index 1 and replace it
# with the contents of ListB
new_list[1:1] = ListB
# Check the output to make sure it worked.
print(new_list)  # [2, 4, 5, 6, 1, 0]
"
14975,20862,Quickest way to extract the bits of the colors in a .pgm image?,"import Image
import numpy as np

im = Image.open('test.pgm')

# Convert to grayscale (single 8-bit band), if it's not already...
im = im.convert('L')

# ""data"" is a uint8 (0-255) numpy array...
data = np.asarray(im)
"
975,66742,Common label on python subplots,"import matplotlib.pyplot as plt
fig, axes = plt.subplots(nrows=2, ncols=3, figsize=(6, 6))
for ax in axes[-1, :]:
    ax.set_ylabel('My Ylabel')

fig.tight_layout()
"
16978,27254,Pandas: How do I make a dataframe manually calculate missing values by averaging adjacent values?,"df = pd.DataFrame({""A"":[34,12,78,84,26], ""B"":[54,87,35,25,82], ""C"":[56,78,0,14,13], ""D"":[0,23,72,56,14], ""E"":[78,12,31,0,34]})

# get flat array from DataFrame
a = np.array(df).flatten()

# get flat array, zeroes replaced with left + right / 2
res = np.where(a == 0, (np.roll(a, 1) + np.roll(a, -1)) / 2, a) 

# convert back to DataFrame
df_new = pd.DataFrame(res.reshape(df.shape), columns = df.columns)

#     A   B   C   D   E
# 0  34  54  56  67  78
# 1  12  87  78  23  12
# 2  78  35  53  72  31
# 3  84  25  14  56  41
# 4  26  82  13  14  34
"
33500,43261,How to specify which optional parameters to use in a method call?,"client.service.getData(reqparam1=""req_Param1"", reqparam2=""req_Param2"", optionparam4=""option_Param4"")
"
2132,65614,Get proxy ip address scrapy using to crawl,"def start_reqests():
    yield Request('http://checkip.dyndns.org/', callback=self.check_ip)
    # yield other requests from start_urls here if needed

def check_ip(self, response):
    pub_ip = response.xpath('//body/text()').re('\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}')[0]
    print ""My public IP is: "" + pub_ip

    # yield other requests here if needed    
"
8601,13460,Using python multiprocess - start a new function on a process immediately after finishing (more jobs than cores),"def worker( chromosome ) :
  chrom_path = ""{}/{}.fasta"".format(target, chromosome )
  return call_lastz(chrom_path, fasta)

if __name__ == '__main__' :
  pool = multiprocessing.Pool(processes=cores)
  alignments = pool.map( worker, chromosomes )
  pool.close()
  pool.join()
"
24673,65197,Which native python modules are written in C?,">>> import math
>>> print(math.__file__)
/usr/lib/python2.7/lib-dynload/math.so
"
20152,46044,Getting table from Django POST request and displaying it in handsontable (read value in javascript),"<script type=""text/javascript"">
    var myData = ""{{ my_data }}"";
    // now your data is on the JS side.
</script>
"
24527,34116,Beautiful Soup line matching,">>> import BeautifulSoup
>>> import urllib2
>>> html = urllib2.urlopen('http://wolk.vlan77.be/~gerben')
>>> soup = BeautifulSoup.BeautifulSoup(html)
>>> print soup.find('td', text=lambda data: data.string and 'lucas' in data.string)
lucas.vlan77.be
"
